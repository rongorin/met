2018-04-11 08:25:30.9240|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: SELECT 
    [Project1].[Decimal_Precision] AS [Decimal_Precision], 
    [Project1].[Security_ID] AS [Security_ID], 
    [Project1].[Portfolio_Code] AS [Portfolio_Code], 
    [Project1].[Entity_ID] AS [Entity_ID], 
    [Project1].[ModDietz_Performance_Quarterly] AS [ModDietz_Performance_Quarterly], 
    [Project1].[ModDietz_Performance_Monthly] AS [ModDietz_Performance_Monthly], 
    [Project1].[ModDietz_Performance_MonthToDate] AS [ModDietz_Performance_MonthToDate], 
    [Project1].[Dietz_Performance_Quarterly] AS [Dietz_Performance_Quarterly], 
    [Project1].[Dietz_Performance_Monthly] AS [Dietz_Performance_Monthly], 
    [Project1].[Dietz_Performance_MonthToDate] AS [Dietz_Performance_MonthToDate], 
    [Project1].[Last_Update_Date] AS [Last_Update_Date], 
    [Project1].[Last_Update_User] AS [Last_Update_User], 
    [Project1].[Record_Date] AS [Record_Date], 
    [Project1].[Session_ID] AS [Session_ID], 
    [Project1].[Hist_Last_Update_Date] AS [Hist_Last_Update_Date], 
    [Project1].[Hist_Last_Update_User] AS [Hist_Last_Update_User], 
    [Project1].[Security_ID1] AS [Security_ID1], 
    [Project1].[Entity_ID1] AS [Entity_ID1], 
    [Project1].[Security_Name] AS [Security_Name], 
    [Project1].[Short_Name] AS [Short_Name], 
    [Project1].[Primary_Exch] AS [Primary_Exch], 
    [Project1].[Secondary_Exch] AS [Secondary_Exch], 
    [Project1].[Country_Of_Domicile] AS [Country_Of_Domicile], 
    [Project1].[Country_Of_Risk] AS [Country_Of_Risk], 
    [Project1].[Security_Type_Code] AS [Security_Type_Code], 
    [Project1].[Price_Multiplier] AS [Price_Multiplier], 
    [Project1].[Income_Frequency] AS [Income_Frequency], 
    [Project1].[Issuer_Code] AS [Issuer_Code], 
    [Project1].[Ultimate_Issuer_Code] AS [Ultimate_Issuer_Code], 
    [Project1].[Asset_Currency] AS [Asset_Currency], 
    [Project1].[Min_Lot_Size] AS [Min_Lot_Size], 
    [Project1].[AvePrice_Rounding] AS [AvePrice_Rounding], 
    [Project1].[Issue_Date] AS [Issue_Date], 
    [Project1].[Maturity_Date] AS [Maturity_Date], 
    [Project1].[Coupon_Rate] AS [Coupon_Rate], 
    [Project1].[Price_Exchange] AS [Price_Exchange], 
    [Project1].[Trade_Currency] AS [Trade_Currency], 
    [Project1].[Price_Curr] AS [Price_Curr], 
    [Project1].[Currency_Pair_Code] AS [Currency_Pair_Code], 
    [Project1].[Share_Class] AS [Share_Class], 
    [Project1].[Current_Market_Price] AS [Current_Market_Price], 
    [Project1].[Index_Type] AS [Index_Type], 
    [Project1].[Clean_Price_Formula] AS [Clean_Price_Formula], 
    [Project1].[Accrued_Income_Price_Formula] AS [Accrued_Income_Price_Formula], 
    [Project1].[Odd_First_Coupon_Date] AS [Odd_First_Coupon_Date], 
    [Project1].[Odd_Last_Coupon_Date] AS [Odd_Last_Coupon_Date], 
    [Project1].[Coupon_Anniversary_Indicator] AS [Coupon_Anniversary_Indicator], 
    [Project1].[Track_EOM_Flag] AS [Track_EOM_Flag], 
    [Project1].[Next_Coupon_Date] AS [Next_Coupon_Date], 
    [Project1].[Previous_Coupon_Date] AS [Previous_Coupon_Date], 
    [Project1].[Payment_Frequency] AS [Payment_Frequency], 
    [Project1].[Coupon_BusDay_Adjustment] AS [Coupon_BusDay_Adjustment], 
    [Project1].[Next_Ex_Div_Date] AS [Next_Ex_Div_Date], 
    [Project1].[Ex_Div_BusDay_Adjustment] AS [Ex_Div_BusDay_Adjustment], 
    [Project1].[Ex_Div_Period] AS [Ex_Div_Period], 
    [Project1].[Ticker] AS [Ticker], 
    [Project1].[Inet_ID] AS [Inet_ID], 
    [Project1].[Bloomberg_ID] AS [Bloomberg_ID], 
    [Project1].[External_Sec_ID] AS [External_Sec_ID], 
    [Project1].[Reuters_ID] AS [Reuters_ID], 
    [Project1].[ISIN] AS [ISIN], 
    [Project1].[Call_Account_Flag] AS [Call_Account_Flag], 
    [Project1].[System_Locked] AS [System_Locked], 
    [Project1].[Last_Update_User1] AS [Last_Update_User1], 
    [Project1].[Last_Update_Date1] AS [Last_Update_Date1], 
    [Project1].[Security_Status] AS [Security_Status], 
    [Project1].[Benchmark_Portfolio] AS [Benchmark_Portfolio], 
    [Project1].[Active_flag] AS [Active_flag], 
    [Project1].[Dividend_FX_Security_ID] AS [Dividend_FX_Security_ID]
    FROM ( SELECT 
        [Extent1].[Security_ID] AS [Security_ID], 
        [Extent1].[Portfolio_Code] AS [Portfolio_Code], 
        [Extent1].[Entity_ID] AS [Entity_ID], 
        [Extent1].[ModDietz_Performance_Quarterly] AS [ModDietz_Performance_Quarterly], 
        [Extent1].[ModDietz_Performance_Monthly] AS [ModDietz_Performance_Monthly], 
        [Extent1].[ModDietz_Performance_MonthToDate] AS [ModDietz_Performance_MonthToDate], 
        [Extent1].[Dietz_Performance_Quarterly] AS [Dietz_Performance_Quarterly], 
        [Extent1].[Dietz_Performance_Monthly] AS [Dietz_Performance_Monthly], 
        [Extent1].[Dietz_Performance_MonthToDate] AS [Dietz_Performance_MonthToDate], 
        [Extent1].[Last_Update_Date] AS [Last_Update_Date], 
        [Extent1].[Last_Update_User] AS [Last_Update_User], 
        [Extent1].[Record_Date] AS [Record_Date], 
        [Extent1].[Session_ID] AS [Session_ID], 
        [Extent1].[Hist_Last_Update_Date] AS [Hist_Last_Update_Date], 
        [Extent1].[Hist_Last_Update_User] AS [Hist_Last_Update_User], 
        [Extent2].[Security_ID] AS [Security_ID1], 
        [Extent2].[Entity_ID] AS [Entity_ID1], 
        [Extent2].[Security_Name] AS [Security_Name], 
        [Extent2].[Short_Name] AS [Short_Name], 
        [Extent2].[Primary_Exch] AS [Primary_Exch], 
        [Extent2].[Secondary_Exch] AS [Secondary_Exch], 
        [Extent2].[Country_Of_Domicile] AS [Country_Of_Domicile], 
        [Extent2].[Country_Of_Risk] AS [Country_Of_Risk], 
        [Extent2].[Security_Type_Code] AS [Security_Type_Code], 
        [Extent2].[Price_Multiplier] AS [Price_Multiplier], 
        [Extent2].[Income_Frequency] AS [Income_Frequency], 
        [Extent2].[Issuer_Code] AS [Issuer_Code], 
        [Extent2].[Ultimate_Issuer_Code] AS [Ultimate_Issuer_Code], 
        [Extent2].[Asset_Currency] AS [Asset_Currency], 
        [Extent2].[Min_Lot_Size] AS [Min_Lot_Size], 
        [Extent2].[Decimal_Precision] AS [Decimal_Precision], 
        [Extent2].[AvePrice_Rounding] AS [AvePrice_Rounding], 
        [Extent2].[Issue_Date] AS [Issue_Date], 
        [Extent2].[Maturity_Date] AS [Maturity_Date], 
        [Extent2].[Coupon_Rate] AS [Coupon_Rate], 
        [Extent2].[Price_Exchange] AS [Price_Exchange], 
        [Extent2].[Trade_Currency] AS [Trade_Currency], 
        [Extent2].[Price_Curr] AS [Price_Curr], 
        [Extent2].[Currency_Pair_Code] AS [Currency_Pair_Code], 
        [Extent2].[Share_Class] AS [Share_Class], 
        [Extent2].[Current_Market_Price] AS [Current_Market_Price], 
        [Extent2].[Index_Type] AS [Index_Type], 
        [Extent2].[Clean_Price_Formula] AS [Clean_Price_Formula], 
        [Extent2].[Accrued_Income_Price_Formula] AS [Accrued_Income_Price_Formula], 
        [Extent2].[Odd_First_Coupon_Date] AS [Odd_First_Coupon_Date], 
        [Extent2].[Odd_Last_Coupon_Date] AS [Odd_Last_Coupon_Date], 
        [Extent2].[Coupon_Anniversary_Indicator] AS [Coupon_Anniversary_Indicator], 
        [Extent2].[Track_EOM_Flag] AS [Track_EOM_Flag], 
        [Extent2].[Next_Coupon_Date] AS [Next_Coupon_Date], 
        [Extent2].[Previous_Coupon_Date] AS [Previous_Coupon_Date], 
        [Extent2].[Payment_Frequency] AS [Payment_Frequency], 
        [Extent2].[Coupon_BusDay_Adjustment] AS [Coupon_BusDay_Adjustment], 
        [Extent2].[Next_Ex_Div_Date] AS [Next_Ex_Div_Date], 
        [Extent2].[Ex_Div_BusDay_Adjustment] AS [Ex_Div_BusDay_Adjustment], 
        [Extent2].[Ex_Div_Period] AS [Ex_Div_Period], 
        [Extent2].[Ticker] AS [Ticker], 
        [Extent2].[Inet_ID] AS [Inet_ID], 
        [Extent2].[Bloomberg_ID] AS [Bloomberg_ID], 
        [Extent2].[External_Sec_ID] AS [External_Sec_ID], 
        [Extent2].[Reuters_ID] AS [Reuters_ID], 
        [Extent2].[ISIN] AS [ISIN], 
        [Extent2].[Call_Account_Flag] AS [Call_Account_Flag], 
        [Extent2].[System_Locked] AS [System_Locked], 
        [Extent2].[Last_Update_User] AS [Last_Update_User1], 
        [Extent2].[Last_Update_Date] AS [Last_Update_Date1], 
        [Extent2].[Security_Status] AS [Security_Status], 
        [Extent2].[Benchmark_Portfolio] AS [Benchmark_Portfolio], 
        [Extent2].[Active_flag] AS [Active_flag], 
        [Extent2].[Dividend_FX_Security_ID] AS [Dividend_FX_Security_ID]
        FROM  [dbo].[Security_Performance_History] AS [Extent1]
        INNER JOIN [dbo].[Security_Detail] AS [Extent2] ON [Extent1].[Security_ID] = [Extent2].[Security_ID]
        WHERE ([Extent1].[Security_ID] = @p__linq__0) AND ([Extent1].[Portfolio_Code] = @p__linq__1)
    )  AS [Project1]
    ORDER BY [Project1].[Record_Date] DESC
2018-04-11 08:25:31.0531|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: SELECT 
    [Project1].[Decimal_Precision] AS [Decimal_Precision], 
    [Project1].[Security_ID] AS [Security_ID], 
    [Project1].[Portfolio_Code] AS [Portfolio_Code], 
    [Project1].[Entity_ID] AS [Entity_ID], 
    [Project1].[ModDietz_Performance_Quarterly] AS [ModDietz_Performance_Quarterly], 
    [Project1].[ModDietz_Performance_Monthly] AS [ModDietz_Performance_Monthly], 
    [Project1].[ModDietz_Performance_MonthToDate] AS [ModDietz_Performance_MonthToDate], 
    [Project1].[Dietz_Performance_Quarterly] AS [Dietz_Performance_Quarterly], 
    [Project1].[Dietz_Performance_Monthly] AS [Dietz_Performance_Monthly], 
    [Project1].[Dietz_Performance_MonthToDate] AS [Dietz_Performance_MonthToDate], 
    [Project1].[Last_Update_Date] AS [Last_Update_Date], 
    [Project1].[Last_Update_User] AS [Last_Update_User], 
    [Project1].[Record_Date] AS [Record_Date], 
    [Project1].[Session_ID] AS [Session_ID], 
    [Project1].[Hist_Last_Update_Date] AS [Hist_Last_Update_Date], 
    [Project1].[Hist_Last_Update_User] AS [Hist_Last_Update_User], 
    [Project1].[Security_ID1] AS [Security_ID1], 
    [Project1].[Entity_ID1] AS [Entity_ID1], 
    [Project1].[Security_Name] AS [Security_Name], 
    [Project1].[Short_Name] AS [Short_Name], 
    [Project1].[Primary_Exch] AS [Primary_Exch], 
    [Project1].[Secondary_Exch] AS [Secondary_Exch], 
    [Project1].[Country_Of_Domicile] AS [Country_Of_Domicile], 
    [Project1].[Country_Of_Risk] AS [Country_Of_Risk], 
    [Project1].[Security_Type_Code] AS [Security_Type_Code], 
    [Project1].[Price_Multiplier] AS [Price_Multiplier], 
    [Project1].[Income_Frequency] AS [Income_Frequency], 
    [Project1].[Issuer_Code] AS [Issuer_Code], 
    [Project1].[Ultimate_Issuer_Code] AS [Ultimate_Issuer_Code], 
    [Project1].[Asset_Currency] AS [Asset_Currency], 
    [Project1].[Min_Lot_Size] AS [Min_Lot_Size], 
    [Project1].[AvePrice_Rounding] AS [AvePrice_Rounding], 
    [Project1].[Issue_Date] AS [Issue_Date], 
    [Project1].[Maturity_Date] AS [Maturity_Date], 
    [Project1].[Coupon_Rate] AS [Coupon_Rate], 
    [Project1].[Price_Exchange] AS [Price_Exchange], 
    [Project1].[Trade_Currency] AS [Trade_Currency], 
    [Project1].[Price_Curr] AS [Price_Curr], 
    [Project1].[Currency_Pair_Code] AS [Currency_Pair_Code], 
    [Project1].[Share_Class] AS [Share_Class], 
    [Project1].[Current_Market_Price] AS [Current_Market_Price], 
    [Project1].[Index_Type] AS [Index_Type], 
    [Project1].[Clean_Price_Formula] AS [Clean_Price_Formula], 
    [Project1].[Accrued_Income_Price_Formula] AS [Accrued_Income_Price_Formula], 
    [Project1].[Odd_First_Coupon_Date] AS [Odd_First_Coupon_Date], 
    [Project1].[Odd_Last_Coupon_Date] AS [Odd_Last_Coupon_Date], 
    [Project1].[Coupon_Anniversary_Indicator] AS [Coupon_Anniversary_Indicator], 
    [Project1].[Track_EOM_Flag] AS [Track_EOM_Flag], 
    [Project1].[Next_Coupon_Date] AS [Next_Coupon_Date], 
    [Project1].[Previous_Coupon_Date] AS [Previous_Coupon_Date], 
    [Project1].[Payment_Frequency] AS [Payment_Frequency], 
    [Project1].[Coupon_BusDay_Adjustment] AS [Coupon_BusDay_Adjustment], 
    [Project1].[Next_Ex_Div_Date] AS [Next_Ex_Div_Date], 
    [Project1].[Ex_Div_BusDay_Adjustment] AS [Ex_Div_BusDay_Adjustment], 
    [Project1].[Ex_Div_Period] AS [Ex_Div_Period], 
    [Project1].[Ticker] AS [Ticker], 
    [Project1].[Inet_ID] AS [Inet_ID], 
    [Project1].[Bloomberg_ID] AS [Bloomberg_ID], 
    [Project1].[External_Sec_ID] AS [External_Sec_ID], 
    [Project1].[Reuters_ID] AS [Reuters_ID], 
    [Project1].[ISIN] AS [ISIN], 
    [Project1].[Call_Account_Flag] AS [Call_Account_Flag], 
    [Project1].[System_Locked] AS [System_Locked], 
    [Project1].[Last_Update_User1] AS [Last_Update_User1], 
    [Project1].[Last_Update_Date1] AS [Last_Update_Date1], 
    [Project1].[Security_Status] AS [Security_Status], 
    [Project1].[Benchmark_Portfolio] AS [Benchmark_Portfolio], 
    [Project1].[Active_flag] AS [Active_flag], 
    [Project1].[Dividend_FX_Security_ID] AS [Dividend_FX_Security_ID]
    FROM ( SELECT 
        [Extent1].[Security_ID] AS [Security_ID], 
        [Extent1].[Portfolio_Code] AS [Portfolio_Code], 
        [Extent1].[Entity_ID] AS [Entity_ID], 
        [Extent1].[ModDietz_Performance_Quarterly] AS [ModDietz_Performance_Quarterly], 
        [Extent1].[ModDietz_Performance_Monthly] AS [ModDietz_Performance_Monthly], 
        [Extent1].[ModDietz_Performance_MonthToDate] AS [ModDietz_Performance_MonthToDate], 
        [Extent1].[Dietz_Performance_Quarterly] AS [Dietz_Performance_Quarterly], 
        [Extent1].[Dietz_Performance_Monthly] AS [Dietz_Performance_Monthly], 
        [Extent1].[Dietz_Performance_MonthToDate] AS [Dietz_Performance_MonthToDate], 
        [Extent1].[Last_Update_Date] AS [Last_Update_Date], 
        [Extent1].[Last_Update_User] AS [Last_Update_User], 
        [Extent1].[Record_Date] AS [Record_Date], 
        [Extent1].[Session_ID] AS [Session_ID], 
        [Extent1].[Hist_Last_Update_Date] AS [Hist_Last_Update_Date], 
        [Extent1].[Hist_Last_Update_User] AS [Hist_Last_Update_User], 
        [Extent2].[Security_ID] AS [Security_ID1], 
        [Extent2].[Entity_ID] AS [Entity_ID1], 
        [Extent2].[Security_Name] AS [Security_Name], 
        [Extent2].[Short_Name] AS [Short_Name], 
        [Extent2].[Primary_Exch] AS [Primary_Exch], 
        [Extent2].[Secondary_Exch] AS [Secondary_Exch], 
        [Extent2].[Country_Of_Domicile] AS [Country_Of_Domicile], 
        [Extent2].[Country_Of_Risk] AS [Country_Of_Risk], 
        [Extent2].[Security_Type_Code] AS [Security_Type_Code], 
        [Extent2].[Price_Multiplier] AS [Price_Multiplier], 
        [Extent2].[Income_Frequency] AS [Income_Frequency], 
        [Extent2].[Issuer_Code] AS [Issuer_Code], 
        [Extent2].[Ultimate_Issuer_Code] AS [Ultimate_Issuer_Code], 
        [Extent2].[Asset_Currency] AS [Asset_Currency], 
        [Extent2].[Min_Lot_Size] AS [Min_Lot_Size], 
        [Extent2].[Decimal_Precision] AS [Decimal_Precision], 
        [Extent2].[AvePrice_Rounding] AS [AvePrice_Rounding], 
        [Extent2].[Issue_Date] AS [Issue_Date], 
        [Extent2].[Maturity_Date] AS [Maturity_Date], 
        [Extent2].[Coupon_Rate] AS [Coupon_Rate], 
        [Extent2].[Price_Exchange] AS [Price_Exchange], 
        [Extent2].[Trade_Currency] AS [Trade_Currency], 
        [Extent2].[Price_Curr] AS [Price_Curr], 
        [Extent2].[Currency_Pair_Code] AS [Currency_Pair_Code], 
        [Extent2].[Share_Class] AS [Share_Class], 
        [Extent2].[Current_Market_Price] AS [Current_Market_Price], 
        [Extent2].[Index_Type] AS [Index_Type], 
        [Extent2].[Clean_Price_Formula] AS [Clean_Price_Formula], 
        [Extent2].[Accrued_Income_Price_Formula] AS [Accrued_Income_Price_Formula], 
        [Extent2].[Odd_First_Coupon_Date] AS [Odd_First_Coupon_Date], 
        [Extent2].[Odd_Last_Coupon_Date] AS [Odd_Last_Coupon_Date], 
        [Extent2].[Coupon_Anniversary_Indicator] AS [Coupon_Anniversary_Indicator], 
        [Extent2].[Track_EOM_Flag] AS [Track_EOM_Flag], 
        [Extent2].[Next_Coupon_Date] AS [Next_Coupon_Date], 
        [Extent2].[Previous_Coupon_Date] AS [Previous_Coupon_Date], 
        [Extent2].[Payment_Frequency] AS [Payment_Frequency], 
        [Extent2].[Coupon_BusDay_Adjustment] AS [Coupon_BusDay_Adjustment], 
        [Extent2].[Next_Ex_Div_Date] AS [Next_Ex_Div_Date], 
        [Extent2].[Ex_Div_BusDay_Adjustment] AS [Ex_Div_BusDay_Adjustment], 
        [Extent2].[Ex_Div_Period] AS [Ex_Div_Period], 
        [Extent2].[Ticker] AS [Ticker], 
        [Extent2].[Inet_ID] AS [Inet_ID], 
        [Extent2].[Bloomberg_ID] AS [Bloomberg_ID], 
        [Extent2].[External_Sec_ID] AS [External_Sec_ID], 
        [Extent2].[Reuters_ID] AS [Reuters_ID], 
        [Extent2].[ISIN] AS [ISIN], 
        [Extent2].[Call_Account_Flag] AS [Call_Account_Flag], 
        [Extent2].[System_Locked] AS [System_Locked], 
        [Extent2].[Last_Update_User] AS [Last_Update_User1], 
        [Extent2].[Last_Update_Date] AS [Last_Update_Date1], 
        [Extent2].[Security_Status] AS [Security_Status], 
        [Extent2].[Benchmark_Portfolio] AS [Benchmark_Portfolio], 
        [Extent2].[Active_flag] AS [Active_flag], 
        [Extent2].[Dividend_FX_Security_ID] AS [Dividend_FX_Security_ID]
        FROM  [dbo].[Security_Performance_History] AS [Extent1]
        INNER JOIN [dbo].[Security_Detail] AS [Extent2] ON [Extent1].[Security_ID] = [Extent2].[Security_ID]
        WHERE ([Extent1].[Security_ID] = @p__linq__0) AND ([Extent1].[Portfolio_Code] = @p__linq__1)
    )  AS [Project1]
    ORDER BY [Project1].[Record_Date] DESC
2018-04-11 08:25:36.6611|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: IF db_id(N'MetopeAzureDb') IS NOT NULL SELECT 1 ELSE SELECT Count(*) FROM sys.databases WHERE [name]=N'MetopeAzureDb'
2018-04-11 08:25:36.7426|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: IF db_id(N'MetopeAzureDb') IS NOT NULL SELECT 1 ELSE SELECT Count(*) FROM sys.databases WHERE [name]=N'MetopeAzureDb'
2018-04-11 08:25:37.0208|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: IF db_id(N'MetopeAzureDb') IS NOT NULL SELECT 1 ELSE SELECT Count(*) FROM sys.databases WHERE [name]=N'MetopeAzureDb'
2018-04-11 08:25:37.1989|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: IF db_id(N'MetopeAzureDb') IS NOT NULL SELECT 1 ELSE SELECT Count(*) FROM sys.databases WHERE [name]=N'MetopeAzureDb'
2018-04-11 08:25:37.2590|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: True, Command Text: SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[EntityIdScope] AS [EntityIdScope], 
    [Extent1].[Email] AS [Email], 
    [Extent1].[EmailConfirmed] AS [EmailConfirmed], 
    [Extent1].[PasswordHash] AS [PasswordHash], 
    [Extent1].[SecurityStamp] AS [SecurityStamp], 
    [Extent1].[PhoneNumber] AS [PhoneNumber], 
    [Extent1].[PhoneNumberConfirmed] AS [PhoneNumberConfirmed], 
    [Extent1].[TwoFactorEnabled] AS [TwoFactorEnabled], 
    [Extent1].[LockoutEndDateUtc] AS [LockoutEndDateUtc], 
    [Extent1].[LockoutEnabled] AS [LockoutEnabled], 
    [Extent1].[AccessFailedCount] AS [AccessFailedCount], 
    [Extent1].[UserName] AS [UserName]
    FROM [dbo].[AspNetUsers] AS [Extent1]
    WHERE [Extent1].[Id] = @p0
2018-04-11 08:25:37.3255|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: True, Command Text: SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[EntityIdScope] AS [EntityIdScope], 
    [Extent1].[Email] AS [Email], 
    [Extent1].[EmailConfirmed] AS [EmailConfirmed], 
    [Extent1].[PasswordHash] AS [PasswordHash], 
    [Extent1].[SecurityStamp] AS [SecurityStamp], 
    [Extent1].[PhoneNumber] AS [PhoneNumber], 
    [Extent1].[PhoneNumberConfirmed] AS [PhoneNumberConfirmed], 
    [Extent1].[TwoFactorEnabled] AS [TwoFactorEnabled], 
    [Extent1].[LockoutEndDateUtc] AS [LockoutEndDateUtc], 
    [Extent1].[LockoutEnabled] AS [LockoutEnabled], 
    [Extent1].[AccessFailedCount] AS [AccessFailedCount], 
    [Extent1].[UserName] AS [UserName]
    FROM [dbo].[AspNetUsers] AS [Extent1]
    WHERE [Extent1].[Id] = @p0
2018-04-11 08:25:37.3435|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: True, Command Text: SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[UserId] AS [UserId], 
    [Extent1].[ClaimType] AS [ClaimType], 
    [Extent1].[ClaimValue] AS [ClaimValue]
    FROM [dbo].[AspNetUserClaims] AS [Extent1]
    WHERE [Extent1].[UserId] = @p__linq__0
2018-04-11 08:25:37.3821|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: True, Command Text: SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[UserId] AS [UserId], 
    [Extent1].[ClaimType] AS [ClaimType], 
    [Extent1].[ClaimValue] AS [ClaimValue]
    FROM [dbo].[AspNetUserClaims] AS [Extent1]
    WHERE [Extent1].[UserId] = @p__linq__0
2018-04-11 08:25:37.3976|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: True, Command Text: SELECT 
    [Extent1].[LoginProvider] AS [LoginProvider], 
    [Extent1].[ProviderKey] AS [ProviderKey], 
    [Extent1].[UserId] AS [UserId]
    FROM [dbo].[AspNetUserLogins] AS [Extent1]
    WHERE [Extent1].[UserId] = @p__linq__0
2018-04-11 08:25:37.4526|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: True, Command Text: SELECT 
    [Extent1].[LoginProvider] AS [LoginProvider], 
    [Extent1].[ProviderKey] AS [ProviderKey], 
    [Extent1].[UserId] AS [UserId]
    FROM [dbo].[AspNetUserLogins] AS [Extent1]
    WHERE [Extent1].[UserId] = @p__linq__0
2018-04-11 08:25:37.4736|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: True, Command Text: SELECT 
    [Extent1].[UserId] AS [UserId], 
    [Extent1].[RoleId] AS [RoleId]
    FROM [dbo].[AspNetUserRoles] AS [Extent1]
    WHERE [Extent1].[UserId] = @p__linq__0
2018-04-11 08:25:37.5272|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: True, Command Text: SELECT 
    [Extent1].[UserId] AS [UserId], 
    [Extent1].[RoleId] AS [RoleId]
    FROM [dbo].[AspNetUserRoles] AS [Extent1]
    WHERE [Extent1].[UserId] = @p__linq__0
2018-04-11 08:25:37.5497|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: SELECT TOP (2) 
    [Extent1].[Entity_ID] AS [Entity_ID], 
    [Extent1].[Entity_Code] AS [Entity_Code], 
    [Extent1].[Entity_Name] AS [Entity_Name], 
    [Extent1].[Import_Folder] AS [Import_Folder], 
    [Extent1].[Export_Folder] AS [Export_Folder]
    FROM [dbo].[Entity] AS [Extent1]
    WHERE [Extent1].[Entity_ID] = @p0
2018-04-11 08:25:37.7218|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: SELECT TOP (2) 
    [Extent1].[Entity_ID] AS [Entity_ID], 
    [Extent1].[Entity_Code] AS [Entity_Code], 
    [Extent1].[Entity_Name] AS [Entity_Name], 
    [Extent1].[Import_Folder] AS [Import_Folder], 
    [Extent1].[Export_Folder] AS [Export_Folder]
    FROM [dbo].[Entity] AS [Extent1]
    WHERE [Extent1].[Entity_ID] = @p0
2018-04-11 08:31:28.4830|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: SELECT 
    [Project1].[Decimal_Precision] AS [Decimal_Precision], 
    [Project1].[Entity_ID] AS [Entity_ID], 
    [Project1].[Security_ID] AS [Security_ID], 
    [Project1].[Issued_Amount] AS [Issued_Amount], 
    [Project1].[Market_Capitalisation] AS [Market_Capitalisation], 
    [Project1].[Risk_Premium] AS [Risk_Premium], 
    [Project1].[Exit_Price] AS [Exit_Price], 
    [Project1].[Total_Return_ME_1YR] AS [Total_Return_ME_1YR], 
    [Project1].[Total_Return_ME_2YR] AS [Total_Return_ME_2YR], 
    [Project1].[Total_Return_ME_3YR] AS [Total_Return_ME_3YR], 
    [Project1].[Historic_Distribution] AS [Historic_Distribution], 
    [Project1].[Distribution_Growth_Forecast_Yr1] AS [Distribution_Growth_Forecast_Yr1], 
    [Project1].[Distribution_Growth_Forecast_Yr2] AS [Distribution_Growth_Forecast_Yr2], 
    [Project1].[Distribution_Growth_Forecast_Yr3] AS [Distribution_Growth_Forecast_Yr3], 
    [Project1].[Forecast_Distribution_Yr1] AS [Forecast_Distribution_Yr1], 
    [Project1].[Forecast_Distribution_Yr2] AS [Forecast_Distribution_Yr2], 
    [Project1].[Forecast_Distribution_Yr3] AS [Forecast_Distribution_Yr3], 
    [Project1].[Earnings_Growth_Compounded] AS [Earnings_Growth_Compounded], 
    [Project1].[Earnings_Forecast_Yr3] AS [Earnings_Forecast_Yr3], 
    [Project1].[Historic_Dividend_Yield_FYE] AS [Historic_Dividend_Yield_FYE], 
    [Project1].[Forward_Dividend_Yield_FYE] AS [Forward_Dividend_Yield_FYE], 
    [Project1].[Yr3_Forward_Dividend_Yield] AS [Yr3_Forward_Dividend_Yield], 
    [Project1].[Rolling_12M_Forward_Yield] AS [Rolling_12M_Forward_Yield], 
    [Project1].[Historical_Earnings_FYE] AS [Historical_Earnings_FYE], 
    [Project1].[Earnings_Forecast_Yr1] AS [Earnings_Forecast_Yr1], 
    [Project1].[Earnings_Forecast_Yr2] AS [Earnings_Forecast_Yr2], 
    [Project1].[Historic_Dividend_Yield_Relative] AS [Historic_Dividend_Yield_Relative], 
    [Project1].[Rolling_12M_Historic_Distribution_PriceCurr] AS [Rolling_12M_Historic_Distribution_PriceCurr], 
    [Project1].[Short_Term_Market_Rerate] AS [Short_Term_Market_Rerate], 
    [Project1].[Forecast_12M_Total_Return] AS [Forecast_12M_Total_Return], 
    [Project1].[Clean_Price] AS [Clean_Price], 
    [Project1].[Rolling_Dividend_Yield_Historic] AS [Rolling_Dividend_Yield_Historic], 
    [Project1].[Last_Update_Date] AS [Last_Update_Date], 
    [Project1].[Last_Update_User] AS [Last_Update_User], 
    [Project1].[Discount_Security_ID] AS [Discount_Security_ID], 
    [Project1].[Net_Present_Value] AS [Net_Present_Value], 
    [Project1].[Forecast_Rolling_Custom_Income] AS [Forecast_Rolling_Custom_Income], 
    [Project1].[Custom_Period] AS [Custom_Period], 
    [Project1].[Rolling_12M_Historic_Distribution] AS [Rolling_12M_Historic_Distribution], 
    [Project1].[Record_Date] AS [Record_Date], 
    [Project1].[Session_ID] AS [Session_ID], 
    [Project1].[Hist_Last_Update_Date] AS [Hist_Last_Update_Date], 
    [Project1].[Hist_Last_Update_User] AS [Hist_Last_Update_User], 
    [Project1].[Rolling_12M_Forecast_Distribution] AS [Rolling_12M_Forecast_Distribution], 
    [Project1].[Yr2_Forward_Dividend_Yield] AS [Yr2_Forward_Dividend_Yield], 
    [Project1].[Exit_Yield] AS [Exit_Yield], 
    [Project1].[Discount_Rate] AS [Discount_Rate], 
    [Project1].[Distribution_Growth_Compounded] AS [Distribution_Growth_Compounded], 
    [Project1].[Forecast_12MRolling_Income_Accrual] AS [Forecast_12MRolling_Income_Accrual], 
    [Project1].[Rolling_12_to_24M_Forecast_Distribution] AS [Rolling_12_to_24M_Forecast_Distribution], 
    [Project1].[Rolling_24_to_36M_Forecast_Distribution] AS [Rolling_24_to_36M_Forecast_Distribution], 
    [Project1].[Forecast_Yr1_Dividend_Yield_Relative] AS [Forecast_Yr1_Dividend_Yield_Relative], 
    [Project1].[Market_Historic_Yield] AS [Market_Historic_Yield], 
    [Project1].[Market_Forward_Yield] AS [Market_Forward_Yield], 
    [Project1].[Historic_Distribution_PriceCurr] AS [Historic_Distribution_PriceCurr], 
    [Project1].[Forecast_Distribution_Yr1_PriceCurr] AS [Forecast_Distribution_Yr1_PriceCurr], 
    [Project1].[Forecast_Distribution_Yr2_PriceCurr] AS [Forecast_Distribution_Yr2_PriceCurr], 
    [Project1].[Forecast_Distribution_Yr3_PriceCurr] AS [Forecast_Distribution_Yr3_PriceCurr], 
    [Project1].[Rolling_12M_Forecast_Distribution_PriceCurr] AS [Rolling_12M_Forecast_Distribution_PriceCurr], 
    [Project1].[Rolling_12_24M_Forecast_Distribution_PriceCurr] AS [Rolling_12_24M_Forecast_Distribution_PriceCurr], 
    [Project1].[Rolling_24_36M_Forecast_Distribution_PriceCurr] AS [Rolling_24_36M_Forecast_Distribution_PriceCurr], 
    [Project1].[Distribution_Growth_Forecast_Yr4] AS [Distribution_Growth_Forecast_Yr4], 
    [Project1].[Earnings_Forecast_Yr4] AS [Earnings_Forecast_Yr4], 
    [Project1].[Forecast_Distribution_Yr4] AS [Forecast_Distribution_Yr4], 
    [Project1].[Forecast_Distribution_Yr4_PriceCurr] AS [Forecast_Distribution_Yr4_PriceCurr], 
    [Project1].[Security_ID1] AS [Security_ID1], 
    [Project1].[Entity_ID1] AS [Entity_ID1], 
    [Project1].[Security_Name] AS [Security_Name], 
    [Project1].[Short_Name] AS [Short_Name], 
    [Project1].[Primary_Exch] AS [Primary_Exch], 
    [Project1].[Secondary_Exch] AS [Secondary_Exch], 
    [Project1].[Country_Of_Domicile] AS [Country_Of_Domicile], 
    [Project1].[Country_Of_Risk] AS [Country_Of_Risk], 
    [Project1].[Security_Type_Code] AS [Security_Type_Code], 
    [Project1].[Price_Multiplier] AS [Price_Multiplier], 
    [Project1].[Income_Frequency] AS [Income_Frequency], 
    [Project1].[Issuer_Code] AS [Issuer_Code], 
    [Project1].[Ultimate_Issuer_Code] AS [Ultimate_Issuer_Code], 
    [Project1].[Asset_Currency] AS [Asset_Currency], 
    [Project1].[Min_Lot_Size] AS [Min_Lot_Size], 
    [Project1].[AvePrice_Rounding] AS [AvePrice_Rounding], 
    [Project1].[Issue_Date] AS [Issue_Date], 
    [Project1].[Maturity_Date] AS [Maturity_Date], 
    [Project1].[Coupon_Rate] AS [Coupon_Rate], 
    [Project1].[Price_Exchange] AS [Price_Exchange], 
    [Project1].[Trade_Currency] AS [Trade_Currency], 
    [Project1].[Price_Curr] AS [Price_Curr], 
    [Project1].[Currency_Pair_Code] AS [Currency_Pair_Code], 
    [Project1].[Share_Class] AS [Share_Class], 
    [Project1].[Current_Market_Price] AS [Current_Market_Price], 
    [Project1].[Index_Type] AS [Index_Type], 
    [Project1].[Clean_Price_Formula] AS [Clean_Price_Formula], 
    [Project1].[Accrued_Income_Price_Formula] AS [Accrued_Income_Price_Formula], 
    [Project1].[Odd_First_Coupon_Date] AS [Odd_First_Coupon_Date], 
    [Project1].[Odd_Last_Coupon_Date] AS [Odd_Last_Coupon_Date], 
    [Project1].[Coupon_Anniversary_Indicator] AS [Coupon_Anniversary_Indicator], 
    [Project1].[Track_EOM_Flag] AS [Track_EOM_Flag], 
    [Project1].[Next_Coupon_Date] AS [Next_Coupon_Date], 
    [Project1].[Previous_Coupon_Date] AS [Previous_Coupon_Date], 
    [Project1].[Payment_Frequency] AS [Payment_Frequency], 
    [Project1].[Coupon_BusDay_Adjustment] AS [Coupon_BusDay_Adjustment], 
    [Project1].[Next_Ex_Div_Date] AS [Next_Ex_Div_Date], 
    [Project1].[Ex_Div_BusDay_Adjustment] AS [Ex_Div_BusDay_Adjustment], 
    [Project1].[Ex_Div_Period] AS [Ex_Div_Period], 
    [Project1].[Ticker] AS [Ticker], 
    [Project1].[Inet_ID] AS [Inet_ID], 
    [Project1].[Bloomberg_ID] AS [Bloomberg_ID], 
    [Project1].[External_Sec_ID] AS [External_Sec_ID], 
    [Project1].[Reuters_ID] AS [Reuters_ID], 
    [Project1].[ISIN] AS [ISIN], 
    [Project1].[Call_Account_Flag] AS [Call_Account_Flag], 
    [Project1].[System_Locked] AS [System_Locked], 
    [Project1].[Last_Update_User1] AS [Last_Update_User1], 
    [Project1].[Last_Update_Date1] AS [Last_Update_Date1], 
    [Project1].[Security_Status] AS [Security_Status], 
    [Project1].[Benchmark_Portfolio] AS [Benchmark_Portfolio], 
    [Project1].[Active_flag] AS [Active_flag], 
    [Project1].[Dividend_FX_Security_ID] AS [Dividend_FX_Security_ID]
    FROM ( SELECT 
        [Extent1].[Entity_ID] AS [Entity_ID], 
        [Extent1].[Security_ID] AS [Security_ID], 
        [Extent1].[Issued_Amount] AS [Issued_Amount], 
        [Extent1].[Market_Capitalisation] AS [Market_Capitalisation], 
        [Extent1].[Risk_Premium] AS [Risk_Premium], 
        [Extent1].[Exit_Price] AS [Exit_Price], 
        [Extent1].[Total_Return_ME_1YR] AS [Total_Return_ME_1YR], 
        [Extent1].[Total_Return_ME_2YR] AS [Total_Return_ME_2YR], 
        [Extent1].[Total_Return_ME_3YR] AS [Total_Return_ME_3YR], 
        [Extent1].[Historic_Distribution] AS [Historic_Distribution], 
        [Extent1].[Distribution_Growth_Forecast_Yr1] AS [Distribution_Growth_Forecast_Yr1], 
        [Extent1].[Distribution_Growth_Forecast_Yr2] AS [Distribution_Growth_Forecast_Yr2], 
        [Extent1].[Distribution_Growth_Forecast_Yr3] AS [Distribution_Growth_Forecast_Yr3], 
        [Extent1].[Forecast_Distribution_Yr1] AS [Forecast_Distribution_Yr1], 
        [Extent1].[Forecast_Distribution_Yr2] AS [Forecast_Distribution_Yr2], 
        [Extent1].[Forecast_Distribution_Yr3] AS [Forecast_Distribution_Yr3], 
        [Extent1].[Earnings_Growth_Compounded] AS [Earnings_Growth_Compounded], 
        [Extent1].[Earnings_Forecast_Yr3] AS [Earnings_Forecast_Yr3], 
        [Extent1].[Historic_Dividend_Yield_FYE] AS [Historic_Dividend_Yield_FYE], 
        [Extent1].[Forward_Dividend_Yield_FYE] AS [Forward_Dividend_Yield_FYE], 
        [Extent1].[Yr3_Forward_Dividend_Yield] AS [Yr3_Forward_Dividend_Yield], 
        [Extent1].[Rolling_12M_Forward_Yield] AS [Rolling_12M_Forward_Yield], 
        [Extent1].[Historical_Earnings_FYE] AS [Historical_Earnings_FYE], 
        [Extent1].[Earnings_Forecast_Yr1] AS [Earnings_Forecast_Yr1], 
        [Extent1].[Earnings_Forecast_Yr2] AS [Earnings_Forecast_Yr2], 
        [Extent1].[Historic_Dividend_Yield_Relative] AS [Historic_Dividend_Yield_Relative], 
        [Extent1].[Rolling_12M_Historic_Distribution_PriceCurr] AS [Rolling_12M_Historic_Distribution_PriceCurr], 
        [Extent1].[Short_Term_Market_Rerate] AS [Short_Term_Market_Rerate], 
        [Extent1].[Forecast_12M_Total_Return] AS [Forecast_12M_Total_Return], 
        [Extent1].[Clean_Price] AS [Clean_Price], 
        [Extent1].[Rolling_Dividend_Yield_Historic] AS [Rolling_Dividend_Yield_Historic], 
        [Extent1].[Last_Update_Date] AS [Last_Update_Date], 
        [Extent1].[Last_Update_User] AS [Last_Update_User], 
        [Extent1].[Discount_Security_ID] AS [Discount_Security_ID], 
        [Extent1].[Net_Present_Value] AS [Net_Present_Value], 
        [Extent1].[Forecast_Rolling_Custom_Income] AS [Forecast_Rolling_Custom_Income], 
        [Extent1].[Custom_Period] AS [Custom_Period], 
        [Extent1].[Rolling_12M_Historic_Distribution] AS [Rolling_12M_Historic_Distribution], 
        [Extent1].[Record_Date] AS [Record_Date], 
        [Extent1].[Session_ID] AS [Session_ID], 
        [Extent1].[Hist_Last_Update_Date] AS [Hist_Last_Update_Date], 
        [Extent1].[Hist_Last_Update_User] AS [Hist_Last_Update_User], 
        [Extent1].[Rolling_12M_Forecast_Distribution] AS [Rolling_12M_Forecast_Distribution], 
        [Extent1].[Yr2_Forward_Dividend_Yield] AS [Yr2_Forward_Dividend_Yield], 
        [Extent1].[Exit_Yield] AS [Exit_Yield], 
        [Extent1].[Discount_Rate] AS [Discount_Rate], 
        [Extent1].[Distribution_Growth_Compounded] AS [Distribution_Growth_Compounded], 
        [Extent1].[Forecast_12MRolling_Income_Accrual] AS [Forecast_12MRolling_Income_Accrual], 
        [Extent1].[Rolling_12_to_24M_Forecast_Distribution] AS [Rolling_12_to_24M_Forecast_Distribution], 
        [Extent1].[Rolling_24_to_36M_Forecast_Distribution] AS [Rolling_24_to_36M_Forecast_Distribution], 
        [Extent1].[Forecast_Yr1_Dividend_Yield_Relative] AS [Forecast_Yr1_Dividend_Yield_Relative], 
        [Extent1].[Market_Historic_Yield] AS [Market_Historic_Yield], 
        [Extent1].[Market_Forward_Yield] AS [Market_Forward_Yield], 
        [Extent1].[Historic_Distribution_PriceCurr] AS [Historic_Distribution_PriceCurr], 
        [Extent1].[Forecast_Distribution_Yr1_PriceCurr] AS [Forecast_Distribution_Yr1_PriceCurr], 
        [Extent1].[Forecast_Distribution_Yr2_PriceCurr] AS [Forecast_Distribution_Yr2_PriceCurr], 
        [Extent1].[Forecast_Distribution_Yr3_PriceCurr] AS [Forecast_Distribution_Yr3_PriceCurr], 
        [Extent1].[Rolling_12M_Forecast_Distribution_PriceCurr] AS [Rolling_12M_Forecast_Distribution_PriceCurr], 
        [Extent1].[Rolling_12_24M_Forecast_Distribution_PriceCurr] AS [Rolling_12_24M_Forecast_Distribution_PriceCurr], 
        [Extent1].[Rolling_24_36M_Forecast_Distribution_PriceCurr] AS [Rolling_24_36M_Forecast_Distribution_PriceCurr], 
        [Extent1].[Distribution_Growth_Forecast_Yr4] AS [Distribution_Growth_Forecast_Yr4], 
        [Extent1].[Earnings_Forecast_Yr4] AS [Earnings_Forecast_Yr4], 
        [Extent1].[Forecast_Distribution_Yr4] AS [Forecast_Distribution_Yr4], 
        [Extent1].[Forecast_Distribution_Yr4_PriceCurr] AS [Forecast_Distribution_Yr4_PriceCurr], 
        [Extent2].[Security_ID] AS [Security_ID1], 
        [Extent2].[Entity_ID] AS [Entity_ID1], 
        [Extent2].[Security_Name] AS [Security_Name], 
        [Extent2].[Short_Name] AS [Short_Name], 
        [Extent2].[Primary_Exch] AS [Primary_Exch], 
        [Extent2].[Secondary_Exch] AS [Secondary_Exch], 
        [Extent2].[Country_Of_Domicile] AS [Country_Of_Domicile], 
        [Extent2].[Country_Of_Risk] AS [Country_Of_Risk], 
        [Extent2].[Security_Type_Code] AS [Security_Type_Code], 
        [Extent2].[Price_Multiplier] AS [Price_Multiplier], 
        [Extent2].[Income_Frequency] AS [Income_Frequency], 
        [Extent2].[Issuer_Code] AS [Issuer_Code], 
        [Extent2].[Ultimate_Issuer_Code] AS [Ultimate_Issuer_Code], 
        [Extent2].[Asset_Currency] AS [Asset_Currency], 
        [Extent2].[Min_Lot_Size] AS [Min_Lot_Size], 
        [Extent2].[Decimal_Precision] AS [Decimal_Precision], 
        [Extent2].[AvePrice_Rounding] AS [AvePrice_Rounding], 
        [Extent2].[Issue_Date] AS [Issue_Date], 
        [Extent2].[Maturity_Date] AS [Maturity_Date], 
        [Extent2].[Coupon_Rate] AS [Coupon_Rate], 
        [Extent2].[Price_Exchange] AS [Price_Exchange], 
        [Extent2].[Trade_Currency] AS [Trade_Currency], 
        [Extent2].[Price_Curr] AS [Price_Curr], 
        [Extent2].[Currency_Pair_Code] AS [Currency_Pair_Code], 
        [Extent2].[Share_Class] AS [Share_Class], 
        [Extent2].[Current_Market_Price] AS [Current_Market_Price], 
        [Extent2].[Index_Type] AS [Index_Type], 
        [Extent2].[Clean_Price_Formula] AS [Clean_Price_Formula], 
        [Extent2].[Accrued_Income_Price_Formula] AS [Accrued_Income_Price_Formula], 
        [Extent2].[Odd_First_Coupon_Date] AS [Odd_First_Coupon_Date], 
        [Extent2].[Odd_Last_Coupon_Date] AS [Odd_Last_Coupon_Date], 
        [Extent2].[Coupon_Anniversary_Indicator] AS [Coupon_Anniversary_Indicator], 
        [Extent2].[Track_EOM_Flag] AS [Track_EOM_Flag], 
        [Extent2].[Next_Coupon_Date] AS [Next_Coupon_Date], 
        [Extent2].[Previous_Coupon_Date] AS [Previous_Coupon_Date], 
        [Extent2].[Payment_Frequency] AS [Payment_Frequency], 
        [Extent2].[Coupon_BusDay_Adjustment] AS [Coupon_BusDay_Adjustment], 
        [Extent2].[Next_Ex_Div_Date] AS [Next_Ex_Div_Date], 
        [Extent2].[Ex_Div_BusDay_Adjustment] AS [Ex_Div_BusDay_Adjustment], 
        [Extent2].[Ex_Div_Period] AS [Ex_Div_Period], 
        [Extent2].[Ticker] AS [Ticker], 
        [Extent2].[Inet_ID] AS [Inet_ID], 
        [Extent2].[Bloomberg_ID] AS [Bloomberg_ID], 
        [Extent2].[External_Sec_ID] AS [External_Sec_ID], 
        [Extent2].[Reuters_ID] AS [Reuters_ID], 
        [Extent2].[ISIN] AS [ISIN], 
        [Extent2].[Call_Account_Flag] AS [Call_Account_Flag], 
        [Extent2].[System_Locked] AS [System_Locked], 
        [Extent2].[Last_Update_User] AS [Last_Update_User1], 
        [Extent2].[Last_Update_Date] AS [Last_Update_Date1], 
        [Extent2].[Security_Status] AS [Security_Status], 
        [Extent2].[Benchmark_Portfolio] AS [Benchmark_Portfolio], 
        [Extent2].[Active_flag] AS [Active_flag], 
        [Extent2].[Dividend_FX_Security_ID] AS [Dividend_FX_Security_ID]
        FROM  [dbo].[Security_Analytics_History] AS [Extent1]
        INNER JOIN [dbo].[Security_Detail] AS [Extent2] ON [Extent1].[Security_ID] = [Extent2].[Security_ID]
        WHERE [Extent1].[Security_ID] = @p__linq__0
    )  AS [Project1]
    ORDER BY [Project1].[Record_Date] DESC
2018-04-11 08:31:28.8503|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: SELECT 
    [Project1].[Decimal_Precision] AS [Decimal_Precision], 
    [Project1].[Entity_ID] AS [Entity_ID], 
    [Project1].[Security_ID] AS [Security_ID], 
    [Project1].[Issued_Amount] AS [Issued_Amount], 
    [Project1].[Market_Capitalisation] AS [Market_Capitalisation], 
    [Project1].[Risk_Premium] AS [Risk_Premium], 
    [Project1].[Exit_Price] AS [Exit_Price], 
    [Project1].[Total_Return_ME_1YR] AS [Total_Return_ME_1YR], 
    [Project1].[Total_Return_ME_2YR] AS [Total_Return_ME_2YR], 
    [Project1].[Total_Return_ME_3YR] AS [Total_Return_ME_3YR], 
    [Project1].[Historic_Distribution] AS [Historic_Distribution], 
    [Project1].[Distribution_Growth_Forecast_Yr1] AS [Distribution_Growth_Forecast_Yr1], 
    [Project1].[Distribution_Growth_Forecast_Yr2] AS [Distribution_Growth_Forecast_Yr2], 
    [Project1].[Distribution_Growth_Forecast_Yr3] AS [Distribution_Growth_Forecast_Yr3], 
    [Project1].[Forecast_Distribution_Yr1] AS [Forecast_Distribution_Yr1], 
    [Project1].[Forecast_Distribution_Yr2] AS [Forecast_Distribution_Yr2], 
    [Project1].[Forecast_Distribution_Yr3] AS [Forecast_Distribution_Yr3], 
    [Project1].[Earnings_Growth_Compounded] AS [Earnings_Growth_Compounded], 
    [Project1].[Earnings_Forecast_Yr3] AS [Earnings_Forecast_Yr3], 
    [Project1].[Historic_Dividend_Yield_FYE] AS [Historic_Dividend_Yield_FYE], 
    [Project1].[Forward_Dividend_Yield_FYE] AS [Forward_Dividend_Yield_FYE], 
    [Project1].[Yr3_Forward_Dividend_Yield] AS [Yr3_Forward_Dividend_Yield], 
    [Project1].[Rolling_12M_Forward_Yield] AS [Rolling_12M_Forward_Yield], 
    [Project1].[Historical_Earnings_FYE] AS [Historical_Earnings_FYE], 
    [Project1].[Earnings_Forecast_Yr1] AS [Earnings_Forecast_Yr1], 
    [Project1].[Earnings_Forecast_Yr2] AS [Earnings_Forecast_Yr2], 
    [Project1].[Historic_Dividend_Yield_Relative] AS [Historic_Dividend_Yield_Relative], 
    [Project1].[Rolling_12M_Historic_Distribution_PriceCurr] AS [Rolling_12M_Historic_Distribution_PriceCurr], 
    [Project1].[Short_Term_Market_Rerate] AS [Short_Term_Market_Rerate], 
    [Project1].[Forecast_12M_Total_Return] AS [Forecast_12M_Total_Return], 
    [Project1].[Clean_Price] AS [Clean_Price], 
    [Project1].[Rolling_Dividend_Yield_Historic] AS [Rolling_Dividend_Yield_Historic], 
    [Project1].[Last_Update_Date] AS [Last_Update_Date], 
    [Project1].[Last_Update_User] AS [Last_Update_User], 
    [Project1].[Discount_Security_ID] AS [Discount_Security_ID], 
    [Project1].[Net_Present_Value] AS [Net_Present_Value], 
    [Project1].[Forecast_Rolling_Custom_Income] AS [Forecast_Rolling_Custom_Income], 
    [Project1].[Custom_Period] AS [Custom_Period], 
    [Project1].[Rolling_12M_Historic_Distribution] AS [Rolling_12M_Historic_Distribution], 
    [Project1].[Record_Date] AS [Record_Date], 
    [Project1].[Session_ID] AS [Session_ID], 
    [Project1].[Hist_Last_Update_Date] AS [Hist_Last_Update_Date], 
    [Project1].[Hist_Last_Update_User] AS [Hist_Last_Update_User], 
    [Project1].[Rolling_12M_Forecast_Distribution] AS [Rolling_12M_Forecast_Distribution], 
    [Project1].[Yr2_Forward_Dividend_Yield] AS [Yr2_Forward_Dividend_Yield], 
    [Project1].[Exit_Yield] AS [Exit_Yield], 
    [Project1].[Discount_Rate] AS [Discount_Rate], 
    [Project1].[Distribution_Growth_Compounded] AS [Distribution_Growth_Compounded], 
    [Project1].[Forecast_12MRolling_Income_Accrual] AS [Forecast_12MRolling_Income_Accrual], 
    [Project1].[Rolling_12_to_24M_Forecast_Distribution] AS [Rolling_12_to_24M_Forecast_Distribution], 
    [Project1].[Rolling_24_to_36M_Forecast_Distribution] AS [Rolling_24_to_36M_Forecast_Distribution], 
    [Project1].[Forecast_Yr1_Dividend_Yield_Relative] AS [Forecast_Yr1_Dividend_Yield_Relative], 
    [Project1].[Market_Historic_Yield] AS [Market_Historic_Yield], 
    [Project1].[Market_Forward_Yield] AS [Market_Forward_Yield], 
    [Project1].[Historic_Distribution_PriceCurr] AS [Historic_Distribution_PriceCurr], 
    [Project1].[Forecast_Distribution_Yr1_PriceCurr] AS [Forecast_Distribution_Yr1_PriceCurr], 
    [Project1].[Forecast_Distribution_Yr2_PriceCurr] AS [Forecast_Distribution_Yr2_PriceCurr], 
    [Project1].[Forecast_Distribution_Yr3_PriceCurr] AS [Forecast_Distribution_Yr3_PriceCurr], 
    [Project1].[Rolling_12M_Forecast_Distribution_PriceCurr] AS [Rolling_12M_Forecast_Distribution_PriceCurr], 
    [Project1].[Rolling_12_24M_Forecast_Distribution_PriceCurr] AS [Rolling_12_24M_Forecast_Distribution_PriceCurr], 
    [Project1].[Rolling_24_36M_Forecast_Distribution_PriceCurr] AS [Rolling_24_36M_Forecast_Distribution_PriceCurr], 
    [Project1].[Distribution_Growth_Forecast_Yr4] AS [Distribution_Growth_Forecast_Yr4], 
    [Project1].[Earnings_Forecast_Yr4] AS [Earnings_Forecast_Yr4], 
    [Project1].[Forecast_Distribution_Yr4] AS [Forecast_Distribution_Yr4], 
    [Project1].[Forecast_Distribution_Yr4_PriceCurr] AS [Forecast_Distribution_Yr4_PriceCurr], 
    [Project1].[Security_ID1] AS [Security_ID1], 
    [Project1].[Entity_ID1] AS [Entity_ID1], 
    [Project1].[Security_Name] AS [Security_Name], 
    [Project1].[Short_Name] AS [Short_Name], 
    [Project1].[Primary_Exch] AS [Primary_Exch], 
    [Project1].[Secondary_Exch] AS [Secondary_Exch], 
    [Project1].[Country_Of_Domicile] AS [Country_Of_Domicile], 
    [Project1].[Country_Of_Risk] AS [Country_Of_Risk], 
    [Project1].[Security_Type_Code] AS [Security_Type_Code], 
    [Project1].[Price_Multiplier] AS [Price_Multiplier], 
    [Project1].[Income_Frequency] AS [Income_Frequency], 
    [Project1].[Issuer_Code] AS [Issuer_Code], 
    [Project1].[Ultimate_Issuer_Code] AS [Ultimate_Issuer_Code], 
    [Project1].[Asset_Currency] AS [Asset_Currency], 
    [Project1].[Min_Lot_Size] AS [Min_Lot_Size], 
    [Project1].[AvePrice_Rounding] AS [AvePrice_Rounding], 
    [Project1].[Issue_Date] AS [Issue_Date], 
    [Project1].[Maturity_Date] AS [Maturity_Date], 
    [Project1].[Coupon_Rate] AS [Coupon_Rate], 
    [Project1].[Price_Exchange] AS [Price_Exchange], 
    [Project1].[Trade_Currency] AS [Trade_Currency], 
    [Project1].[Price_Curr] AS [Price_Curr], 
    [Project1].[Currency_Pair_Code] AS [Currency_Pair_Code], 
    [Project1].[Share_Class] AS [Share_Class], 
    [Project1].[Current_Market_Price] AS [Current_Market_Price], 
    [Project1].[Index_Type] AS [Index_Type], 
    [Project1].[Clean_Price_Formula] AS [Clean_Price_Formula], 
    [Project1].[Accrued_Income_Price_Formula] AS [Accrued_Income_Price_Formula], 
    [Project1].[Odd_First_Coupon_Date] AS [Odd_First_Coupon_Date], 
    [Project1].[Odd_Last_Coupon_Date] AS [Odd_Last_Coupon_Date], 
    [Project1].[Coupon_Anniversary_Indicator] AS [Coupon_Anniversary_Indicator], 
    [Project1].[Track_EOM_Flag] AS [Track_EOM_Flag], 
    [Project1].[Next_Coupon_Date] AS [Next_Coupon_Date], 
    [Project1].[Previous_Coupon_Date] AS [Previous_Coupon_Date], 
    [Project1].[Payment_Frequency] AS [Payment_Frequency], 
    [Project1].[Coupon_BusDay_Adjustment] AS [Coupon_BusDay_Adjustment], 
    [Project1].[Next_Ex_Div_Date] AS [Next_Ex_Div_Date], 
    [Project1].[Ex_Div_BusDay_Adjustment] AS [Ex_Div_BusDay_Adjustment], 
    [Project1].[Ex_Div_Period] AS [Ex_Div_Period], 
    [Project1].[Ticker] AS [Ticker], 
    [Project1].[Inet_ID] AS [Inet_ID], 
    [Project1].[Bloomberg_ID] AS [Bloomberg_ID], 
    [Project1].[External_Sec_ID] AS [External_Sec_ID], 
    [Project1].[Reuters_ID] AS [Reuters_ID], 
    [Project1].[ISIN] AS [ISIN], 
    [Project1].[Call_Account_Flag] AS [Call_Account_Flag], 
    [Project1].[System_Locked] AS [System_Locked], 
    [Project1].[Last_Update_User1] AS [Last_Update_User1], 
    [Project1].[Last_Update_Date1] AS [Last_Update_Date1], 
    [Project1].[Security_Status] AS [Security_Status], 
    [Project1].[Benchmark_Portfolio] AS [Benchmark_Portfolio], 
    [Project1].[Active_flag] AS [Active_flag], 
    [Project1].[Dividend_FX_Security_ID] AS [Dividend_FX_Security_ID]
    FROM ( SELECT 
        [Extent1].[Entity_ID] AS [Entity_ID], 
        [Extent1].[Security_ID] AS [Security_ID], 
        [Extent1].[Issued_Amount] AS [Issued_Amount], 
        [Extent1].[Market_Capitalisation] AS [Market_Capitalisation], 
        [Extent1].[Risk_Premium] AS [Risk_Premium], 
        [Extent1].[Exit_Price] AS [Exit_Price], 
        [Extent1].[Total_Return_ME_1YR] AS [Total_Return_ME_1YR], 
        [Extent1].[Total_Return_ME_2YR] AS [Total_Return_ME_2YR], 
        [Extent1].[Total_Return_ME_3YR] AS [Total_Return_ME_3YR], 
        [Extent1].[Historic_Distribution] AS [Historic_Distribution], 
        [Extent1].[Distribution_Growth_Forecast_Yr1] AS [Distribution_Growth_Forecast_Yr1], 
        [Extent1].[Distribution_Growth_Forecast_Yr2] AS [Distribution_Growth_Forecast_Yr2], 
        [Extent1].[Distribution_Growth_Forecast_Yr3] AS [Distribution_Growth_Forecast_Yr3], 
        [Extent1].[Forecast_Distribution_Yr1] AS [Forecast_Distribution_Yr1], 
        [Extent1].[Forecast_Distribution_Yr2] AS [Forecast_Distribution_Yr2], 
        [Extent1].[Forecast_Distribution_Yr3] AS [Forecast_Distribution_Yr3], 
        [Extent1].[Earnings_Growth_Compounded] AS [Earnings_Growth_Compounded], 
        [Extent1].[Earnings_Forecast_Yr3] AS [Earnings_Forecast_Yr3], 
        [Extent1].[Historic_Dividend_Yield_FYE] AS [Historic_Dividend_Yield_FYE], 
        [Extent1].[Forward_Dividend_Yield_FYE] AS [Forward_Dividend_Yield_FYE], 
        [Extent1].[Yr3_Forward_Dividend_Yield] AS [Yr3_Forward_Dividend_Yield], 
        [Extent1].[Rolling_12M_Forward_Yield] AS [Rolling_12M_Forward_Yield], 
        [Extent1].[Historical_Earnings_FYE] AS [Historical_Earnings_FYE], 
        [Extent1].[Earnings_Forecast_Yr1] AS [Earnings_Forecast_Yr1], 
        [Extent1].[Earnings_Forecast_Yr2] AS [Earnings_Forecast_Yr2], 
        [Extent1].[Historic_Dividend_Yield_Relative] AS [Historic_Dividend_Yield_Relative], 
        [Extent1].[Rolling_12M_Historic_Distribution_PriceCurr] AS [Rolling_12M_Historic_Distribution_PriceCurr], 
        [Extent1].[Short_Term_Market_Rerate] AS [Short_Term_Market_Rerate], 
        [Extent1].[Forecast_12M_Total_Return] AS [Forecast_12M_Total_Return], 
        [Extent1].[Clean_Price] AS [Clean_Price], 
        [Extent1].[Rolling_Dividend_Yield_Historic] AS [Rolling_Dividend_Yield_Historic], 
        [Extent1].[Last_Update_Date] AS [Last_Update_Date], 
        [Extent1].[Last_Update_User] AS [Last_Update_User], 
        [Extent1].[Discount_Security_ID] AS [Discount_Security_ID], 
        [Extent1].[Net_Present_Value] AS [Net_Present_Value], 
        [Extent1].[Forecast_Rolling_Custom_Income] AS [Forecast_Rolling_Custom_Income], 
        [Extent1].[Custom_Period] AS [Custom_Period], 
        [Extent1].[Rolling_12M_Historic_Distribution] AS [Rolling_12M_Historic_Distribution], 
        [Extent1].[Record_Date] AS [Record_Date], 
        [Extent1].[Session_ID] AS [Session_ID], 
        [Extent1].[Hist_Last_Update_Date] AS [Hist_Last_Update_Date], 
        [Extent1].[Hist_Last_Update_User] AS [Hist_Last_Update_User], 
        [Extent1].[Rolling_12M_Forecast_Distribution] AS [Rolling_12M_Forecast_Distribution], 
        [Extent1].[Yr2_Forward_Dividend_Yield] AS [Yr2_Forward_Dividend_Yield], 
        [Extent1].[Exit_Yield] AS [Exit_Yield], 
        [Extent1].[Discount_Rate] AS [Discount_Rate], 
        [Extent1].[Distribution_Growth_Compounded] AS [Distribution_Growth_Compounded], 
        [Extent1].[Forecast_12MRolling_Income_Accrual] AS [Forecast_12MRolling_Income_Accrual], 
        [Extent1].[Rolling_12_to_24M_Forecast_Distribution] AS [Rolling_12_to_24M_Forecast_Distribution], 
        [Extent1].[Rolling_24_to_36M_Forecast_Distribution] AS [Rolling_24_to_36M_Forecast_Distribution], 
        [Extent1].[Forecast_Yr1_Dividend_Yield_Relative] AS [Forecast_Yr1_Dividend_Yield_Relative], 
        [Extent1].[Market_Historic_Yield] AS [Market_Historic_Yield], 
        [Extent1].[Market_Forward_Yield] AS [Market_Forward_Yield], 
        [Extent1].[Historic_Distribution_PriceCurr] AS [Historic_Distribution_PriceCurr], 
        [Extent1].[Forecast_Distribution_Yr1_PriceCurr] AS [Forecast_Distribution_Yr1_PriceCurr], 
        [Extent1].[Forecast_Distribution_Yr2_PriceCurr] AS [Forecast_Distribution_Yr2_PriceCurr], 
        [Extent1].[Forecast_Distribution_Yr3_PriceCurr] AS [Forecast_Distribution_Yr3_PriceCurr], 
        [Extent1].[Rolling_12M_Forecast_Distribution_PriceCurr] AS [Rolling_12M_Forecast_Distribution_PriceCurr], 
        [Extent1].[Rolling_12_24M_Forecast_Distribution_PriceCurr] AS [Rolling_12_24M_Forecast_Distribution_PriceCurr], 
        [Extent1].[Rolling_24_36M_Forecast_Distribution_PriceCurr] AS [Rolling_24_36M_Forecast_Distribution_PriceCurr], 
        [Extent1].[Distribution_Growth_Forecast_Yr4] AS [Distribution_Growth_Forecast_Yr4], 
        [Extent1].[Earnings_Forecast_Yr4] AS [Earnings_Forecast_Yr4], 
        [Extent1].[Forecast_Distribution_Yr4] AS [Forecast_Distribution_Yr4], 
        [Extent1].[Forecast_Distribution_Yr4_PriceCurr] AS [Forecast_Distribution_Yr4_PriceCurr], 
        [Extent2].[Security_ID] AS [Security_ID1], 
        [Extent2].[Entity_ID] AS [Entity_ID1], 
        [Extent2].[Security_Name] AS [Security_Name], 
        [Extent2].[Short_Name] AS [Short_Name], 
        [Extent2].[Primary_Exch] AS [Primary_Exch], 
        [Extent2].[Secondary_Exch] AS [Secondary_Exch], 
        [Extent2].[Country_Of_Domicile] AS [Country_Of_Domicile], 
        [Extent2].[Country_Of_Risk] AS [Country_Of_Risk], 
        [Extent2].[Security_Type_Code] AS [Security_Type_Code], 
        [Extent2].[Price_Multiplier] AS [Price_Multiplier], 
        [Extent2].[Income_Frequency] AS [Income_Frequency], 
        [Extent2].[Issuer_Code] AS [Issuer_Code], 
        [Extent2].[Ultimate_Issuer_Code] AS [Ultimate_Issuer_Code], 
        [Extent2].[Asset_Currency] AS [Asset_Currency], 
        [Extent2].[Min_Lot_Size] AS [Min_Lot_Size], 
        [Extent2].[Decimal_Precision] AS [Decimal_Precision], 
        [Extent2].[AvePrice_Rounding] AS [AvePrice_Rounding], 
        [Extent2].[Issue_Date] AS [Issue_Date], 
        [Extent2].[Maturity_Date] AS [Maturity_Date], 
        [Extent2].[Coupon_Rate] AS [Coupon_Rate], 
        [Extent2].[Price_Exchange] AS [Price_Exchange], 
        [Extent2].[Trade_Currency] AS [Trade_Currency], 
        [Extent2].[Price_Curr] AS [Price_Curr], 
        [Extent2].[Currency_Pair_Code] AS [Currency_Pair_Code], 
        [Extent2].[Share_Class] AS [Share_Class], 
        [Extent2].[Current_Market_Price] AS [Current_Market_Price], 
        [Extent2].[Index_Type] AS [Index_Type], 
        [Extent2].[Clean_Price_Formula] AS [Clean_Price_Formula], 
        [Extent2].[Accrued_Income_Price_Formula] AS [Accrued_Income_Price_Formula], 
        [Extent2].[Odd_First_Coupon_Date] AS [Odd_First_Coupon_Date], 
        [Extent2].[Odd_Last_Coupon_Date] AS [Odd_Last_Coupon_Date], 
        [Extent2].[Coupon_Anniversary_Indicator] AS [Coupon_Anniversary_Indicator], 
        [Extent2].[Track_EOM_Flag] AS [Track_EOM_Flag], 
        [Extent2].[Next_Coupon_Date] AS [Next_Coupon_Date], 
        [Extent2].[Previous_Coupon_Date] AS [Previous_Coupon_Date], 
        [Extent2].[Payment_Frequency] AS [Payment_Frequency], 
        [Extent2].[Coupon_BusDay_Adjustment] AS [Coupon_BusDay_Adjustment], 
        [Extent2].[Next_Ex_Div_Date] AS [Next_Ex_Div_Date], 
        [Extent2].[Ex_Div_BusDay_Adjustment] AS [Ex_Div_BusDay_Adjustment], 
        [Extent2].[Ex_Div_Period] AS [Ex_Div_Period], 
        [Extent2].[Ticker] AS [Ticker], 
        [Extent2].[Inet_ID] AS [Inet_ID], 
        [Extent2].[Bloomberg_ID] AS [Bloomberg_ID], 
        [Extent2].[External_Sec_ID] AS [External_Sec_ID], 
        [Extent2].[Reuters_ID] AS [Reuters_ID], 
        [Extent2].[ISIN] AS [ISIN], 
        [Extent2].[Call_Account_Flag] AS [Call_Account_Flag], 
        [Extent2].[System_Locked] AS [System_Locked], 
        [Extent2].[Last_Update_User] AS [Last_Update_User1], 
        [Extent2].[Last_Update_Date] AS [Last_Update_Date1], 
        [Extent2].[Security_Status] AS [Security_Status], 
        [Extent2].[Benchmark_Portfolio] AS [Benchmark_Portfolio], 
        [Extent2].[Active_flag] AS [Active_flag], 
        [Extent2].[Dividend_FX_Security_ID] AS [Dividend_FX_Security_ID]
        FROM  [dbo].[Security_Analytics_History] AS [Extent1]
        INNER JOIN [dbo].[Security_Detail] AS [Extent2] ON [Extent1].[Security_ID] = [Extent2].[Security_ID]
        WHERE [Extent1].[Security_ID] = @p__linq__0
    )  AS [Project1]
    ORDER BY [Project1].[Record_Date] DESC
2018-04-11 08:31:33.1502|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: IF db_id(N'MetopeAzureDb') IS NOT NULL SELECT 1 ELSE SELECT Count(*) FROM sys.databases WHERE [name]=N'MetopeAzureDb'
2018-04-11 08:31:33.2473|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: IF db_id(N'MetopeAzureDb') IS NOT NULL SELECT 1 ELSE SELECT Count(*) FROM sys.databases WHERE [name]=N'MetopeAzureDb'
2018-04-11 08:31:33.4034|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: IF db_id(N'MetopeAzureDb') IS NOT NULL SELECT 1 ELSE SELECT Count(*) FROM sys.databases WHERE [name]=N'MetopeAzureDb'
2018-04-11 08:31:33.4269|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: IF db_id(N'MetopeAzureDb') IS NOT NULL SELECT 1 ELSE SELECT Count(*) FROM sys.databases WHERE [name]=N'MetopeAzureDb'
2018-04-11 08:31:41.4900|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: SELECT 
    [Project1].[Decimal_Precision] AS [Decimal_Precision], 
    [Project1].[Entity_ID] AS [Entity_ID], 
    [Project1].[Security_ID] AS [Security_ID], 
    [Project1].[Issued_Amount] AS [Issued_Amount], 
    [Project1].[Market_Capitalisation] AS [Market_Capitalisation], 
    [Project1].[Risk_Premium] AS [Risk_Premium], 
    [Project1].[Exit_Price] AS [Exit_Price], 
    [Project1].[Total_Return_ME_1YR] AS [Total_Return_ME_1YR], 
    [Project1].[Total_Return_ME_2YR] AS [Total_Return_ME_2YR], 
    [Project1].[Total_Return_ME_3YR] AS [Total_Return_ME_3YR], 
    [Project1].[Historic_Distribution] AS [Historic_Distribution], 
    [Project1].[Distribution_Growth_Forecast_Yr1] AS [Distribution_Growth_Forecast_Yr1], 
    [Project1].[Distribution_Growth_Forecast_Yr2] AS [Distribution_Growth_Forecast_Yr2], 
    [Project1].[Distribution_Growth_Forecast_Yr3] AS [Distribution_Growth_Forecast_Yr3], 
    [Project1].[Forecast_Distribution_Yr1] AS [Forecast_Distribution_Yr1], 
    [Project1].[Forecast_Distribution_Yr2] AS [Forecast_Distribution_Yr2], 
    [Project1].[Forecast_Distribution_Yr3] AS [Forecast_Distribution_Yr3], 
    [Project1].[Earnings_Growth_Compounded] AS [Earnings_Growth_Compounded], 
    [Project1].[Earnings_Forecast_Yr3] AS [Earnings_Forecast_Yr3], 
    [Project1].[Historic_Dividend_Yield_FYE] AS [Historic_Dividend_Yield_FYE], 
    [Project1].[Forward_Dividend_Yield_FYE] AS [Forward_Dividend_Yield_FYE], 
    [Project1].[Yr3_Forward_Dividend_Yield] AS [Yr3_Forward_Dividend_Yield], 
    [Project1].[Rolling_12M_Forward_Yield] AS [Rolling_12M_Forward_Yield], 
    [Project1].[Historical_Earnings_FYE] AS [Historical_Earnings_FYE], 
    [Project1].[Earnings_Forecast_Yr1] AS [Earnings_Forecast_Yr1], 
    [Project1].[Earnings_Forecast_Yr2] AS [Earnings_Forecast_Yr2], 
    [Project1].[Historic_Dividend_Yield_Relative] AS [Historic_Dividend_Yield_Relative], 
    [Project1].[Rolling_12M_Historic_Distribution_PriceCurr] AS [Rolling_12M_Historic_Distribution_PriceCurr], 
    [Project1].[Short_Term_Market_Rerate] AS [Short_Term_Market_Rerate], 
    [Project1].[Forecast_12M_Total_Return] AS [Forecast_12M_Total_Return], 
    [Project1].[Clean_Price] AS [Clean_Price], 
    [Project1].[Rolling_Dividend_Yield_Historic] AS [Rolling_Dividend_Yield_Historic], 
    [Project1].[Last_Update_Date] AS [Last_Update_Date], 
    [Project1].[Last_Update_User] AS [Last_Update_User], 
    [Project1].[Discount_Security_ID] AS [Discount_Security_ID], 
    [Project1].[Net_Present_Value] AS [Net_Present_Value], 
    [Project1].[Forecast_Rolling_Custom_Income] AS [Forecast_Rolling_Custom_Income], 
    [Project1].[Custom_Period] AS [Custom_Period], 
    [Project1].[Rolling_12M_Historic_Distribution] AS [Rolling_12M_Historic_Distribution], 
    [Project1].[Record_Date] AS [Record_Date], 
    [Project1].[Session_ID] AS [Session_ID], 
    [Project1].[Hist_Last_Update_Date] AS [Hist_Last_Update_Date], 
    [Project1].[Hist_Last_Update_User] AS [Hist_Last_Update_User], 
    [Project1].[Rolling_12M_Forecast_Distribution] AS [Rolling_12M_Forecast_Distribution], 
    [Project1].[Yr2_Forward_Dividend_Yield] AS [Yr2_Forward_Dividend_Yield], 
    [Project1].[Exit_Yield] AS [Exit_Yield], 
    [Project1].[Discount_Rate] AS [Discount_Rate], 
    [Project1].[Distribution_Growth_Compounded] AS [Distribution_Growth_Compounded], 
    [Project1].[Forecast_12MRolling_Income_Accrual] AS [Forecast_12MRolling_Income_Accrual], 
    [Project1].[Rolling_12_to_24M_Forecast_Distribution] AS [Rolling_12_to_24M_Forecast_Distribution], 
    [Project1].[Rolling_24_to_36M_Forecast_Distribution] AS [Rolling_24_to_36M_Forecast_Distribution], 
    [Project1].[Forecast_Yr1_Dividend_Yield_Relative] AS [Forecast_Yr1_Dividend_Yield_Relative], 
    [Project1].[Market_Historic_Yield] AS [Market_Historic_Yield], 
    [Project1].[Market_Forward_Yield] AS [Market_Forward_Yield], 
    [Project1].[Historic_Distribution_PriceCurr] AS [Historic_Distribution_PriceCurr], 
    [Project1].[Forecast_Distribution_Yr1_PriceCurr] AS [Forecast_Distribution_Yr1_PriceCurr], 
    [Project1].[Forecast_Distribution_Yr2_PriceCurr] AS [Forecast_Distribution_Yr2_PriceCurr], 
    [Project1].[Forecast_Distribution_Yr3_PriceCurr] AS [Forecast_Distribution_Yr3_PriceCurr], 
    [Project1].[Rolling_12M_Forecast_Distribution_PriceCurr] AS [Rolling_12M_Forecast_Distribution_PriceCurr], 
    [Project1].[Rolling_12_24M_Forecast_Distribution_PriceCurr] AS [Rolling_12_24M_Forecast_Distribution_PriceCurr], 
    [Project1].[Rolling_24_36M_Forecast_Distribution_PriceCurr] AS [Rolling_24_36M_Forecast_Distribution_PriceCurr], 
    [Project1].[Distribution_Growth_Forecast_Yr4] AS [Distribution_Growth_Forecast_Yr4], 
    [Project1].[Earnings_Forecast_Yr4] AS [Earnings_Forecast_Yr4], 
    [Project1].[Forecast_Distribution_Yr4] AS [Forecast_Distribution_Yr4], 
    [Project1].[Forecast_Distribution_Yr4_PriceCurr] AS [Forecast_Distribution_Yr4_PriceCurr], 
    [Project1].[Security_ID1] AS [Security_ID1], 
    [Project1].[Entity_ID1] AS [Entity_ID1], 
    [Project1].[Security_Name] AS [Security_Name], 
    [Project1].[Short_Name] AS [Short_Name], 
    [Project1].[Primary_Exch] AS [Primary_Exch], 
    [Project1].[Secondary_Exch] AS [Secondary_Exch], 
    [Project1].[Country_Of_Domicile] AS [Country_Of_Domicile], 
    [Project1].[Country_Of_Risk] AS [Country_Of_Risk], 
    [Project1].[Security_Type_Code] AS [Security_Type_Code], 
    [Project1].[Price_Multiplier] AS [Price_Multiplier], 
    [Project1].[Income_Frequency] AS [Income_Frequency], 
    [Project1].[Issuer_Code] AS [Issuer_Code], 
    [Project1].[Ultimate_Issuer_Code] AS [Ultimate_Issuer_Code], 
    [Project1].[Asset_Currency] AS [Asset_Currency], 
    [Project1].[Min_Lot_Size] AS [Min_Lot_Size], 
    [Project1].[AvePrice_Rounding] AS [AvePrice_Rounding], 
    [Project1].[Issue_Date] AS [Issue_Date], 
    [Project1].[Maturity_Date] AS [Maturity_Date], 
    [Project1].[Coupon_Rate] AS [Coupon_Rate], 
    [Project1].[Price_Exchange] AS [Price_Exchange], 
    [Project1].[Trade_Currency] AS [Trade_Currency], 
    [Project1].[Price_Curr] AS [Price_Curr], 
    [Project1].[Currency_Pair_Code] AS [Currency_Pair_Code], 
    [Project1].[Share_Class] AS [Share_Class], 
    [Project1].[Current_Market_Price] AS [Current_Market_Price], 
    [Project1].[Index_Type] AS [Index_Type], 
    [Project1].[Clean_Price_Formula] AS [Clean_Price_Formula], 
    [Project1].[Accrued_Income_Price_Formula] AS [Accrued_Income_Price_Formula], 
    [Project1].[Odd_First_Coupon_Date] AS [Odd_First_Coupon_Date], 
    [Project1].[Odd_Last_Coupon_Date] AS [Odd_Last_Coupon_Date], 
    [Project1].[Coupon_Anniversary_Indicator] AS [Coupon_Anniversary_Indicator], 
    [Project1].[Track_EOM_Flag] AS [Track_EOM_Flag], 
    [Project1].[Next_Coupon_Date] AS [Next_Coupon_Date], 
    [Project1].[Previous_Coupon_Date] AS [Previous_Coupon_Date], 
    [Project1].[Payment_Frequency] AS [Payment_Frequency], 
    [Project1].[Coupon_BusDay_Adjustment] AS [Coupon_BusDay_Adjustment], 
    [Project1].[Next_Ex_Div_Date] AS [Next_Ex_Div_Date], 
    [Project1].[Ex_Div_BusDay_Adjustment] AS [Ex_Div_BusDay_Adjustment], 
    [Project1].[Ex_Div_Period] AS [Ex_Div_Period], 
    [Project1].[Ticker] AS [Ticker], 
    [Project1].[Inet_ID] AS [Inet_ID], 
    [Project1].[Bloomberg_ID] AS [Bloomberg_ID], 
    [Project1].[External_Sec_ID] AS [External_Sec_ID], 
    [Project1].[Reuters_ID] AS [Reuters_ID], 
    [Project1].[ISIN] AS [ISIN], 
    [Project1].[Call_Account_Flag] AS [Call_Account_Flag], 
    [Project1].[System_Locked] AS [System_Locked], 
    [Project1].[Last_Update_User1] AS [Last_Update_User1], 
    [Project1].[Last_Update_Date1] AS [Last_Update_Date1], 
    [Project1].[Security_Status] AS [Security_Status], 
    [Project1].[Benchmark_Portfolio] AS [Benchmark_Portfolio], 
    [Project1].[Active_flag] AS [Active_flag], 
    [Project1].[Dividend_FX_Security_ID] AS [Dividend_FX_Security_ID]
    FROM ( SELECT 
        [Extent1].[Entity_ID] AS [Entity_ID], 
        [Extent1].[Security_ID] AS [Security_ID], 
        [Extent1].[Issued_Amount] AS [Issued_Amount], 
        [Extent1].[Market_Capitalisation] AS [Market_Capitalisation], 
        [Extent1].[Risk_Premium] AS [Risk_Premium], 
        [Extent1].[Exit_Price] AS [Exit_Price], 
        [Extent1].[Total_Return_ME_1YR] AS [Total_Return_ME_1YR], 
        [Extent1].[Total_Return_ME_2YR] AS [Total_Return_ME_2YR], 
        [Extent1].[Total_Return_ME_3YR] AS [Total_Return_ME_3YR], 
        [Extent1].[Historic_Distribution] AS [Historic_Distribution], 
        [Extent1].[Distribution_Growth_Forecast_Yr1] AS [Distribution_Growth_Forecast_Yr1], 
        [Extent1].[Distribution_Growth_Forecast_Yr2] AS [Distribution_Growth_Forecast_Yr2], 
        [Extent1].[Distribution_Growth_Forecast_Yr3] AS [Distribution_Growth_Forecast_Yr3], 
        [Extent1].[Forecast_Distribution_Yr1] AS [Forecast_Distribution_Yr1], 
        [Extent1].[Forecast_Distribution_Yr2] AS [Forecast_Distribution_Yr2], 
        [Extent1].[Forecast_Distribution_Yr3] AS [Forecast_Distribution_Yr3], 
        [Extent1].[Earnings_Growth_Compounded] AS [Earnings_Growth_Compounded], 
        [Extent1].[Earnings_Forecast_Yr3] AS [Earnings_Forecast_Yr3], 
        [Extent1].[Historic_Dividend_Yield_FYE] AS [Historic_Dividend_Yield_FYE], 
        [Extent1].[Forward_Dividend_Yield_FYE] AS [Forward_Dividend_Yield_FYE], 
        [Extent1].[Yr3_Forward_Dividend_Yield] AS [Yr3_Forward_Dividend_Yield], 
        [Extent1].[Rolling_12M_Forward_Yield] AS [Rolling_12M_Forward_Yield], 
        [Extent1].[Historical_Earnings_FYE] AS [Historical_Earnings_FYE], 
        [Extent1].[Earnings_Forecast_Yr1] AS [Earnings_Forecast_Yr1], 
        [Extent1].[Earnings_Forecast_Yr2] AS [Earnings_Forecast_Yr2], 
        [Extent1].[Historic_Dividend_Yield_Relative] AS [Historic_Dividend_Yield_Relative], 
        [Extent1].[Rolling_12M_Historic_Distribution_PriceCurr] AS [Rolling_12M_Historic_Distribution_PriceCurr], 
        [Extent1].[Short_Term_Market_Rerate] AS [Short_Term_Market_Rerate], 
        [Extent1].[Forecast_12M_Total_Return] AS [Forecast_12M_Total_Return], 
        [Extent1].[Clean_Price] AS [Clean_Price], 
        [Extent1].[Rolling_Dividend_Yield_Historic] AS [Rolling_Dividend_Yield_Historic], 
        [Extent1].[Last_Update_Date] AS [Last_Update_Date], 
        [Extent1].[Last_Update_User] AS [Last_Update_User], 
        [Extent1].[Discount_Security_ID] AS [Discount_Security_ID], 
        [Extent1].[Net_Present_Value] AS [Net_Present_Value], 
        [Extent1].[Forecast_Rolling_Custom_Income] AS [Forecast_Rolling_Custom_Income], 
        [Extent1].[Custom_Period] AS [Custom_Period], 
        [Extent1].[Rolling_12M_Historic_Distribution] AS [Rolling_12M_Historic_Distribution], 
        [Extent1].[Record_Date] AS [Record_Date], 
        [Extent1].[Session_ID] AS [Session_ID], 
        [Extent1].[Hist_Last_Update_Date] AS [Hist_Last_Update_Date], 
        [Extent1].[Hist_Last_Update_User] AS [Hist_Last_Update_User], 
        [Extent1].[Rolling_12M_Forecast_Distribution] AS [Rolling_12M_Forecast_Distribution], 
        [Extent1].[Yr2_Forward_Dividend_Yield] AS [Yr2_Forward_Dividend_Yield], 
        [Extent1].[Exit_Yield] AS [Exit_Yield], 
        [Extent1].[Discount_Rate] AS [Discount_Rate], 
        [Extent1].[Distribution_Growth_Compounded] AS [Distribution_Growth_Compounded], 
        [Extent1].[Forecast_12MRolling_Income_Accrual] AS [Forecast_12MRolling_Income_Accrual], 
        [Extent1].[Rolling_12_to_24M_Forecast_Distribution] AS [Rolling_12_to_24M_Forecast_Distribution], 
        [Extent1].[Rolling_24_to_36M_Forecast_Distribution] AS [Rolling_24_to_36M_Forecast_Distribution], 
        [Extent1].[Forecast_Yr1_Dividend_Yield_Relative] AS [Forecast_Yr1_Dividend_Yield_Relative], 
        [Extent1].[Market_Historic_Yield] AS [Market_Historic_Yield], 
        [Extent1].[Market_Forward_Yield] AS [Market_Forward_Yield], 
        [Extent1].[Historic_Distribution_PriceCurr] AS [Historic_Distribution_PriceCurr], 
        [Extent1].[Forecast_Distribution_Yr1_PriceCurr] AS [Forecast_Distribution_Yr1_PriceCurr], 
        [Extent1].[Forecast_Distribution_Yr2_PriceCurr] AS [Forecast_Distribution_Yr2_PriceCurr], 
        [Extent1].[Forecast_Distribution_Yr3_PriceCurr] AS [Forecast_Distribution_Yr3_PriceCurr], 
        [Extent1].[Rolling_12M_Forecast_Distribution_PriceCurr] AS [Rolling_12M_Forecast_Distribution_PriceCurr], 
        [Extent1].[Rolling_12_24M_Forecast_Distribution_PriceCurr] AS [Rolling_12_24M_Forecast_Distribution_PriceCurr], 
        [Extent1].[Rolling_24_36M_Forecast_Distribution_PriceCurr] AS [Rolling_24_36M_Forecast_Distribution_PriceCurr], 
        [Extent1].[Distribution_Growth_Forecast_Yr4] AS [Distribution_Growth_Forecast_Yr4], 
        [Extent1].[Earnings_Forecast_Yr4] AS [Earnings_Forecast_Yr4], 
        [Extent1].[Forecast_Distribution_Yr4] AS [Forecast_Distribution_Yr4], 
        [Extent1].[Forecast_Distribution_Yr4_PriceCurr] AS [Forecast_Distribution_Yr4_PriceCurr], 
        [Extent2].[Security_ID] AS [Security_ID1], 
        [Extent2].[Entity_ID] AS [Entity_ID1], 
        [Extent2].[Security_Name] AS [Security_Name], 
        [Extent2].[Short_Name] AS [Short_Name], 
        [Extent2].[Primary_Exch] AS [Primary_Exch], 
        [Extent2].[Secondary_Exch] AS [Secondary_Exch], 
        [Extent2].[Country_Of_Domicile] AS [Country_Of_Domicile], 
        [Extent2].[Country_Of_Risk] AS [Country_Of_Risk], 
        [Extent2].[Security_Type_Code] AS [Security_Type_Code], 
        [Extent2].[Price_Multiplier] AS [Price_Multiplier], 
        [Extent2].[Income_Frequency] AS [Income_Frequency], 
        [Extent2].[Issuer_Code] AS [Issuer_Code], 
        [Extent2].[Ultimate_Issuer_Code] AS [Ultimate_Issuer_Code], 
        [Extent2].[Asset_Currency] AS [Asset_Currency], 
        [Extent2].[Min_Lot_Size] AS [Min_Lot_Size], 
        [Extent2].[Decimal_Precision] AS [Decimal_Precision], 
        [Extent2].[AvePrice_Rounding] AS [AvePrice_Rounding], 
        [Extent2].[Issue_Date] AS [Issue_Date], 
        [Extent2].[Maturity_Date] AS [Maturity_Date], 
        [Extent2].[Coupon_Rate] AS [Coupon_Rate], 
        [Extent2].[Price_Exchange] AS [Price_Exchange], 
        [Extent2].[Trade_Currency] AS [Trade_Currency], 
        [Extent2].[Price_Curr] AS [Price_Curr], 
        [Extent2].[Currency_Pair_Code] AS [Currency_Pair_Code], 
        [Extent2].[Share_Class] AS [Share_Class], 
        [Extent2].[Current_Market_Price] AS [Current_Market_Price], 
        [Extent2].[Index_Type] AS [Index_Type], 
        [Extent2].[Clean_Price_Formula] AS [Clean_Price_Formula], 
        [Extent2].[Accrued_Income_Price_Formula] AS [Accrued_Income_Price_Formula], 
        [Extent2].[Odd_First_Coupon_Date] AS [Odd_First_Coupon_Date], 
        [Extent2].[Odd_Last_Coupon_Date] AS [Odd_Last_Coupon_Date], 
        [Extent2].[Coupon_Anniversary_Indicator] AS [Coupon_Anniversary_Indicator], 
        [Extent2].[Track_EOM_Flag] AS [Track_EOM_Flag], 
        [Extent2].[Next_Coupon_Date] AS [Next_Coupon_Date], 
        [Extent2].[Previous_Coupon_Date] AS [Previous_Coupon_Date], 
        [Extent2].[Payment_Frequency] AS [Payment_Frequency], 
        [Extent2].[Coupon_BusDay_Adjustment] AS [Coupon_BusDay_Adjustment], 
        [Extent2].[Next_Ex_Div_Date] AS [Next_Ex_Div_Date], 
        [Extent2].[Ex_Div_BusDay_Adjustment] AS [Ex_Div_BusDay_Adjustment], 
        [Extent2].[Ex_Div_Period] AS [Ex_Div_Period], 
        [Extent2].[Ticker] AS [Ticker], 
        [Extent2].[Inet_ID] AS [Inet_ID], 
        [Extent2].[Bloomberg_ID] AS [Bloomberg_ID], 
        [Extent2].[External_Sec_ID] AS [External_Sec_ID], 
        [Extent2].[Reuters_ID] AS [Reuters_ID], 
        [Extent2].[ISIN] AS [ISIN], 
        [Extent2].[Call_Account_Flag] AS [Call_Account_Flag], 
        [Extent2].[System_Locked] AS [System_Locked], 
        [Extent2].[Last_Update_User] AS [Last_Update_User1], 
        [Extent2].[Last_Update_Date] AS [Last_Update_Date1], 
        [Extent2].[Security_Status] AS [Security_Status], 
        [Extent2].[Benchmark_Portfolio] AS [Benchmark_Portfolio], 
        [Extent2].[Active_flag] AS [Active_flag], 
        [Extent2].[Dividend_FX_Security_ID] AS [Dividend_FX_Security_ID]
        FROM  [dbo].[Security_Analytics_History] AS [Extent1]
        INNER JOIN [dbo].[Security_Detail] AS [Extent2] ON [Extent1].[Security_ID] = [Extent2].[Security_ID]
        WHERE [Extent1].[Security_ID] = @p__linq__0
    )  AS [Project1]
    ORDER BY [Project1].[Record_Date] DESC
2018-04-11 08:31:41.5281|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: SELECT 
    [Project1].[Decimal_Precision] AS [Decimal_Precision], 
    [Project1].[Entity_ID] AS [Entity_ID], 
    [Project1].[Security_ID] AS [Security_ID], 
    [Project1].[Issued_Amount] AS [Issued_Amount], 
    [Project1].[Market_Capitalisation] AS [Market_Capitalisation], 
    [Project1].[Risk_Premium] AS [Risk_Premium], 
    [Project1].[Exit_Price] AS [Exit_Price], 
    [Project1].[Total_Return_ME_1YR] AS [Total_Return_ME_1YR], 
    [Project1].[Total_Return_ME_2YR] AS [Total_Return_ME_2YR], 
    [Project1].[Total_Return_ME_3YR] AS [Total_Return_ME_3YR], 
    [Project1].[Historic_Distribution] AS [Historic_Distribution], 
    [Project1].[Distribution_Growth_Forecast_Yr1] AS [Distribution_Growth_Forecast_Yr1], 
    [Project1].[Distribution_Growth_Forecast_Yr2] AS [Distribution_Growth_Forecast_Yr2], 
    [Project1].[Distribution_Growth_Forecast_Yr3] AS [Distribution_Growth_Forecast_Yr3], 
    [Project1].[Forecast_Distribution_Yr1] AS [Forecast_Distribution_Yr1], 
    [Project1].[Forecast_Distribution_Yr2] AS [Forecast_Distribution_Yr2], 
    [Project1].[Forecast_Distribution_Yr3] AS [Forecast_Distribution_Yr3], 
    [Project1].[Earnings_Growth_Compounded] AS [Earnings_Growth_Compounded], 
    [Project1].[Earnings_Forecast_Yr3] AS [Earnings_Forecast_Yr3], 
    [Project1].[Historic_Dividend_Yield_FYE] AS [Historic_Dividend_Yield_FYE], 
    [Project1].[Forward_Dividend_Yield_FYE] AS [Forward_Dividend_Yield_FYE], 
    [Project1].[Yr3_Forward_Dividend_Yield] AS [Yr3_Forward_Dividend_Yield], 
    [Project1].[Rolling_12M_Forward_Yield] AS [Rolling_12M_Forward_Yield], 
    [Project1].[Historical_Earnings_FYE] AS [Historical_Earnings_FYE], 
    [Project1].[Earnings_Forecast_Yr1] AS [Earnings_Forecast_Yr1], 
    [Project1].[Earnings_Forecast_Yr2] AS [Earnings_Forecast_Yr2], 
    [Project1].[Historic_Dividend_Yield_Relative] AS [Historic_Dividend_Yield_Relative], 
    [Project1].[Rolling_12M_Historic_Distribution_PriceCurr] AS [Rolling_12M_Historic_Distribution_PriceCurr], 
    [Project1].[Short_Term_Market_Rerate] AS [Short_Term_Market_Rerate], 
    [Project1].[Forecast_12M_Total_Return] AS [Forecast_12M_Total_Return], 
    [Project1].[Clean_Price] AS [Clean_Price], 
    [Project1].[Rolling_Dividend_Yield_Historic] AS [Rolling_Dividend_Yield_Historic], 
    [Project1].[Last_Update_Date] AS [Last_Update_Date], 
    [Project1].[Last_Update_User] AS [Last_Update_User], 
    [Project1].[Discount_Security_ID] AS [Discount_Security_ID], 
    [Project1].[Net_Present_Value] AS [Net_Present_Value], 
    [Project1].[Forecast_Rolling_Custom_Income] AS [Forecast_Rolling_Custom_Income], 
    [Project1].[Custom_Period] AS [Custom_Period], 
    [Project1].[Rolling_12M_Historic_Distribution] AS [Rolling_12M_Historic_Distribution], 
    [Project1].[Record_Date] AS [Record_Date], 
    [Project1].[Session_ID] AS [Session_ID], 
    [Project1].[Hist_Last_Update_Date] AS [Hist_Last_Update_Date], 
    [Project1].[Hist_Last_Update_User] AS [Hist_Last_Update_User], 
    [Project1].[Rolling_12M_Forecast_Distribution] AS [Rolling_12M_Forecast_Distribution], 
    [Project1].[Yr2_Forward_Dividend_Yield] AS [Yr2_Forward_Dividend_Yield], 
    [Project1].[Exit_Yield] AS [Exit_Yield], 
    [Project1].[Discount_Rate] AS [Discount_Rate], 
    [Project1].[Distribution_Growth_Compounded] AS [Distribution_Growth_Compounded], 
    [Project1].[Forecast_12MRolling_Income_Accrual] AS [Forecast_12MRolling_Income_Accrual], 
    [Project1].[Rolling_12_to_24M_Forecast_Distribution] AS [Rolling_12_to_24M_Forecast_Distribution], 
    [Project1].[Rolling_24_to_36M_Forecast_Distribution] AS [Rolling_24_to_36M_Forecast_Distribution], 
    [Project1].[Forecast_Yr1_Dividend_Yield_Relative] AS [Forecast_Yr1_Dividend_Yield_Relative], 
    [Project1].[Market_Historic_Yield] AS [Market_Historic_Yield], 
    [Project1].[Market_Forward_Yield] AS [Market_Forward_Yield], 
    [Project1].[Historic_Distribution_PriceCurr] AS [Historic_Distribution_PriceCurr], 
    [Project1].[Forecast_Distribution_Yr1_PriceCurr] AS [Forecast_Distribution_Yr1_PriceCurr], 
    [Project1].[Forecast_Distribution_Yr2_PriceCurr] AS [Forecast_Distribution_Yr2_PriceCurr], 
    [Project1].[Forecast_Distribution_Yr3_PriceCurr] AS [Forecast_Distribution_Yr3_PriceCurr], 
    [Project1].[Rolling_12M_Forecast_Distribution_PriceCurr] AS [Rolling_12M_Forecast_Distribution_PriceCurr], 
    [Project1].[Rolling_12_24M_Forecast_Distribution_PriceCurr] AS [Rolling_12_24M_Forecast_Distribution_PriceCurr], 
    [Project1].[Rolling_24_36M_Forecast_Distribution_PriceCurr] AS [Rolling_24_36M_Forecast_Distribution_PriceCurr], 
    [Project1].[Distribution_Growth_Forecast_Yr4] AS [Distribution_Growth_Forecast_Yr4], 
    [Project1].[Earnings_Forecast_Yr4] AS [Earnings_Forecast_Yr4], 
    [Project1].[Forecast_Distribution_Yr4] AS [Forecast_Distribution_Yr4], 
    [Project1].[Forecast_Distribution_Yr4_PriceCurr] AS [Forecast_Distribution_Yr4_PriceCurr], 
    [Project1].[Security_ID1] AS [Security_ID1], 
    [Project1].[Entity_ID1] AS [Entity_ID1], 
    [Project1].[Security_Name] AS [Security_Name], 
    [Project1].[Short_Name] AS [Short_Name], 
    [Project1].[Primary_Exch] AS [Primary_Exch], 
    [Project1].[Secondary_Exch] AS [Secondary_Exch], 
    [Project1].[Country_Of_Domicile] AS [Country_Of_Domicile], 
    [Project1].[Country_Of_Risk] AS [Country_Of_Risk], 
    [Project1].[Security_Type_Code] AS [Security_Type_Code], 
    [Project1].[Price_Multiplier] AS [Price_Multiplier], 
    [Project1].[Income_Frequency] AS [Income_Frequency], 
    [Project1].[Issuer_Code] AS [Issuer_Code], 
    [Project1].[Ultimate_Issuer_Code] AS [Ultimate_Issuer_Code], 
    [Project1].[Asset_Currency] AS [Asset_Currency], 
    [Project1].[Min_Lot_Size] AS [Min_Lot_Size], 
    [Project1].[AvePrice_Rounding] AS [AvePrice_Rounding], 
    [Project1].[Issue_Date] AS [Issue_Date], 
    [Project1].[Maturity_Date] AS [Maturity_Date], 
    [Project1].[Coupon_Rate] AS [Coupon_Rate], 
    [Project1].[Price_Exchange] AS [Price_Exchange], 
    [Project1].[Trade_Currency] AS [Trade_Currency], 
    [Project1].[Price_Curr] AS [Price_Curr], 
    [Project1].[Currency_Pair_Code] AS [Currency_Pair_Code], 
    [Project1].[Share_Class] AS [Share_Class], 
    [Project1].[Current_Market_Price] AS [Current_Market_Price], 
    [Project1].[Index_Type] AS [Index_Type], 
    [Project1].[Clean_Price_Formula] AS [Clean_Price_Formula], 
    [Project1].[Accrued_Income_Price_Formula] AS [Accrued_Income_Price_Formula], 
    [Project1].[Odd_First_Coupon_Date] AS [Odd_First_Coupon_Date], 
    [Project1].[Odd_Last_Coupon_Date] AS [Odd_Last_Coupon_Date], 
    [Project1].[Coupon_Anniversary_Indicator] AS [Coupon_Anniversary_Indicator], 
    [Project1].[Track_EOM_Flag] AS [Track_EOM_Flag], 
    [Project1].[Next_Coupon_Date] AS [Next_Coupon_Date], 
    [Project1].[Previous_Coupon_Date] AS [Previous_Coupon_Date], 
    [Project1].[Payment_Frequency] AS [Payment_Frequency], 
    [Project1].[Coupon_BusDay_Adjustment] AS [Coupon_BusDay_Adjustment], 
    [Project1].[Next_Ex_Div_Date] AS [Next_Ex_Div_Date], 
    [Project1].[Ex_Div_BusDay_Adjustment] AS [Ex_Div_BusDay_Adjustment], 
    [Project1].[Ex_Div_Period] AS [Ex_Div_Period], 
    [Project1].[Ticker] AS [Ticker], 
    [Project1].[Inet_ID] AS [Inet_ID], 
    [Project1].[Bloomberg_ID] AS [Bloomberg_ID], 
    [Project1].[External_Sec_ID] AS [External_Sec_ID], 
    [Project1].[Reuters_ID] AS [Reuters_ID], 
    [Project1].[ISIN] AS [ISIN], 
    [Project1].[Call_Account_Flag] AS [Call_Account_Flag], 
    [Project1].[System_Locked] AS [System_Locked], 
    [Project1].[Last_Update_User1] AS [Last_Update_User1], 
    [Project1].[Last_Update_Date1] AS [Last_Update_Date1], 
    [Project1].[Security_Status] AS [Security_Status], 
    [Project1].[Benchmark_Portfolio] AS [Benchmark_Portfolio], 
    [Project1].[Active_flag] AS [Active_flag], 
    [Project1].[Dividend_FX_Security_ID] AS [Dividend_FX_Security_ID]
    FROM ( SELECT 
        [Extent1].[Entity_ID] AS [Entity_ID], 
        [Extent1].[Security_ID] AS [Security_ID], 
        [Extent1].[Issued_Amount] AS [Issued_Amount], 
        [Extent1].[Market_Capitalisation] AS [Market_Capitalisation], 
        [Extent1].[Risk_Premium] AS [Risk_Premium], 
        [Extent1].[Exit_Price] AS [Exit_Price], 
        [Extent1].[Total_Return_ME_1YR] AS [Total_Return_ME_1YR], 
        [Extent1].[Total_Return_ME_2YR] AS [Total_Return_ME_2YR], 
        [Extent1].[Total_Return_ME_3YR] AS [Total_Return_ME_3YR], 
        [Extent1].[Historic_Distribution] AS [Historic_Distribution], 
        [Extent1].[Distribution_Growth_Forecast_Yr1] AS [Distribution_Growth_Forecast_Yr1], 
        [Extent1].[Distribution_Growth_Forecast_Yr2] AS [Distribution_Growth_Forecast_Yr2], 
        [Extent1].[Distribution_Growth_Forecast_Yr3] AS [Distribution_Growth_Forecast_Yr3], 
        [Extent1].[Forecast_Distribution_Yr1] AS [Forecast_Distribution_Yr1], 
        [Extent1].[Forecast_Distribution_Yr2] AS [Forecast_Distribution_Yr2], 
        [Extent1].[Forecast_Distribution_Yr3] AS [Forecast_Distribution_Yr3], 
        [Extent1].[Earnings_Growth_Compounded] AS [Earnings_Growth_Compounded], 
        [Extent1].[Earnings_Forecast_Yr3] AS [Earnings_Forecast_Yr3], 
        [Extent1].[Historic_Dividend_Yield_FYE] AS [Historic_Dividend_Yield_FYE], 
        [Extent1].[Forward_Dividend_Yield_FYE] AS [Forward_Dividend_Yield_FYE], 
        [Extent1].[Yr3_Forward_Dividend_Yield] AS [Yr3_Forward_Dividend_Yield], 
        [Extent1].[Rolling_12M_Forward_Yield] AS [Rolling_12M_Forward_Yield], 
        [Extent1].[Historical_Earnings_FYE] AS [Historical_Earnings_FYE], 
        [Extent1].[Earnings_Forecast_Yr1] AS [Earnings_Forecast_Yr1], 
        [Extent1].[Earnings_Forecast_Yr2] AS [Earnings_Forecast_Yr2], 
        [Extent1].[Historic_Dividend_Yield_Relative] AS [Historic_Dividend_Yield_Relative], 
        [Extent1].[Rolling_12M_Historic_Distribution_PriceCurr] AS [Rolling_12M_Historic_Distribution_PriceCurr], 
        [Extent1].[Short_Term_Market_Rerate] AS [Short_Term_Market_Rerate], 
        [Extent1].[Forecast_12M_Total_Return] AS [Forecast_12M_Total_Return], 
        [Extent1].[Clean_Price] AS [Clean_Price], 
        [Extent1].[Rolling_Dividend_Yield_Historic] AS [Rolling_Dividend_Yield_Historic], 
        [Extent1].[Last_Update_Date] AS [Last_Update_Date], 
        [Extent1].[Last_Update_User] AS [Last_Update_User], 
        [Extent1].[Discount_Security_ID] AS [Discount_Security_ID], 
        [Extent1].[Net_Present_Value] AS [Net_Present_Value], 
        [Extent1].[Forecast_Rolling_Custom_Income] AS [Forecast_Rolling_Custom_Income], 
        [Extent1].[Custom_Period] AS [Custom_Period], 
        [Extent1].[Rolling_12M_Historic_Distribution] AS [Rolling_12M_Historic_Distribution], 
        [Extent1].[Record_Date] AS [Record_Date], 
        [Extent1].[Session_ID] AS [Session_ID], 
        [Extent1].[Hist_Last_Update_Date] AS [Hist_Last_Update_Date], 
        [Extent1].[Hist_Last_Update_User] AS [Hist_Last_Update_User], 
        [Extent1].[Rolling_12M_Forecast_Distribution] AS [Rolling_12M_Forecast_Distribution], 
        [Extent1].[Yr2_Forward_Dividend_Yield] AS [Yr2_Forward_Dividend_Yield], 
        [Extent1].[Exit_Yield] AS [Exit_Yield], 
        [Extent1].[Discount_Rate] AS [Discount_Rate], 
        [Extent1].[Distribution_Growth_Compounded] AS [Distribution_Growth_Compounded], 
        [Extent1].[Forecast_12MRolling_Income_Accrual] AS [Forecast_12MRolling_Income_Accrual], 
        [Extent1].[Rolling_12_to_24M_Forecast_Distribution] AS [Rolling_12_to_24M_Forecast_Distribution], 
        [Extent1].[Rolling_24_to_36M_Forecast_Distribution] AS [Rolling_24_to_36M_Forecast_Distribution], 
        [Extent1].[Forecast_Yr1_Dividend_Yield_Relative] AS [Forecast_Yr1_Dividend_Yield_Relative], 
        [Extent1].[Market_Historic_Yield] AS [Market_Historic_Yield], 
        [Extent1].[Market_Forward_Yield] AS [Market_Forward_Yield], 
        [Extent1].[Historic_Distribution_PriceCurr] AS [Historic_Distribution_PriceCurr], 
        [Extent1].[Forecast_Distribution_Yr1_PriceCurr] AS [Forecast_Distribution_Yr1_PriceCurr], 
        [Extent1].[Forecast_Distribution_Yr2_PriceCurr] AS [Forecast_Distribution_Yr2_PriceCurr], 
        [Extent1].[Forecast_Distribution_Yr3_PriceCurr] AS [Forecast_Distribution_Yr3_PriceCurr], 
        [Extent1].[Rolling_12M_Forecast_Distribution_PriceCurr] AS [Rolling_12M_Forecast_Distribution_PriceCurr], 
        [Extent1].[Rolling_12_24M_Forecast_Distribution_PriceCurr] AS [Rolling_12_24M_Forecast_Distribution_PriceCurr], 
        [Extent1].[Rolling_24_36M_Forecast_Distribution_PriceCurr] AS [Rolling_24_36M_Forecast_Distribution_PriceCurr], 
        [Extent1].[Distribution_Growth_Forecast_Yr4] AS [Distribution_Growth_Forecast_Yr4], 
        [Extent1].[Earnings_Forecast_Yr4] AS [Earnings_Forecast_Yr4], 
        [Extent1].[Forecast_Distribution_Yr4] AS [Forecast_Distribution_Yr4], 
        [Extent1].[Forecast_Distribution_Yr4_PriceCurr] AS [Forecast_Distribution_Yr4_PriceCurr], 
        [Extent2].[Security_ID] AS [Security_ID1], 
        [Extent2].[Entity_ID] AS [Entity_ID1], 
        [Extent2].[Security_Name] AS [Security_Name], 
        [Extent2].[Short_Name] AS [Short_Name], 
        [Extent2].[Primary_Exch] AS [Primary_Exch], 
        [Extent2].[Secondary_Exch] AS [Secondary_Exch], 
        [Extent2].[Country_Of_Domicile] AS [Country_Of_Domicile], 
        [Extent2].[Country_Of_Risk] AS [Country_Of_Risk], 
        [Extent2].[Security_Type_Code] AS [Security_Type_Code], 
        [Extent2].[Price_Multiplier] AS [Price_Multiplier], 
        [Extent2].[Income_Frequency] AS [Income_Frequency], 
        [Extent2].[Issuer_Code] AS [Issuer_Code], 
        [Extent2].[Ultimate_Issuer_Code] AS [Ultimate_Issuer_Code], 
        [Extent2].[Asset_Currency] AS [Asset_Currency], 
        [Extent2].[Min_Lot_Size] AS [Min_Lot_Size], 
        [Extent2].[Decimal_Precision] AS [Decimal_Precision], 
        [Extent2].[AvePrice_Rounding] AS [AvePrice_Rounding], 
        [Extent2].[Issue_Date] AS [Issue_Date], 
        [Extent2].[Maturity_Date] AS [Maturity_Date], 
        [Extent2].[Coupon_Rate] AS [Coupon_Rate], 
        [Extent2].[Price_Exchange] AS [Price_Exchange], 
        [Extent2].[Trade_Currency] AS [Trade_Currency], 
        [Extent2].[Price_Curr] AS [Price_Curr], 
        [Extent2].[Currency_Pair_Code] AS [Currency_Pair_Code], 
        [Extent2].[Share_Class] AS [Share_Class], 
        [Extent2].[Current_Market_Price] AS [Current_Market_Price], 
        [Extent2].[Index_Type] AS [Index_Type], 
        [Extent2].[Clean_Price_Formula] AS [Clean_Price_Formula], 
        [Extent2].[Accrued_Income_Price_Formula] AS [Accrued_Income_Price_Formula], 
        [Extent2].[Odd_First_Coupon_Date] AS [Odd_First_Coupon_Date], 
        [Extent2].[Odd_Last_Coupon_Date] AS [Odd_Last_Coupon_Date], 
        [Extent2].[Coupon_Anniversary_Indicator] AS [Coupon_Anniversary_Indicator], 
        [Extent2].[Track_EOM_Flag] AS [Track_EOM_Flag], 
        [Extent2].[Next_Coupon_Date] AS [Next_Coupon_Date], 
        [Extent2].[Previous_Coupon_Date] AS [Previous_Coupon_Date], 
        [Extent2].[Payment_Frequency] AS [Payment_Frequency], 
        [Extent2].[Coupon_BusDay_Adjustment] AS [Coupon_BusDay_Adjustment], 
        [Extent2].[Next_Ex_Div_Date] AS [Next_Ex_Div_Date], 
        [Extent2].[Ex_Div_BusDay_Adjustment] AS [Ex_Div_BusDay_Adjustment], 
        [Extent2].[Ex_Div_Period] AS [Ex_Div_Period], 
        [Extent2].[Ticker] AS [Ticker], 
        [Extent2].[Inet_ID] AS [Inet_ID], 
        [Extent2].[Bloomberg_ID] AS [Bloomberg_ID], 
        [Extent2].[External_Sec_ID] AS [External_Sec_ID], 
        [Extent2].[Reuters_ID] AS [Reuters_ID], 
        [Extent2].[ISIN] AS [ISIN], 
        [Extent2].[Call_Account_Flag] AS [Call_Account_Flag], 
        [Extent2].[System_Locked] AS [System_Locked], 
        [Extent2].[Last_Update_User] AS [Last_Update_User1], 
        [Extent2].[Last_Update_Date] AS [Last_Update_Date1], 
        [Extent2].[Security_Status] AS [Security_Status], 
        [Extent2].[Benchmark_Portfolio] AS [Benchmark_Portfolio], 
        [Extent2].[Active_flag] AS [Active_flag], 
        [Extent2].[Dividend_FX_Security_ID] AS [Dividend_FX_Security_ID]
        FROM  [dbo].[Security_Analytics_History] AS [Extent1]
        INNER JOIN [dbo].[Security_Detail] AS [Extent2] ON [Extent1].[Security_ID] = [Extent2].[Security_ID]
        WHERE [Extent1].[Security_ID] = @p__linq__0
    )  AS [Project1]
    ORDER BY [Project1].[Record_Date] DESC
2018-04-11 08:31:41.6357|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: IF db_id(N'MetopeAzureDb') IS NOT NULL SELECT 1 ELSE SELECT Count(*) FROM sys.databases WHERE [name]=N'MetopeAzureDb'
2018-04-11 08:31:41.6702|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: IF db_id(N'MetopeAzureDb') IS NOT NULL SELECT 1 ELSE SELECT Count(*) FROM sys.databases WHERE [name]=N'MetopeAzureDb'
2018-04-11 08:31:41.7077|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: IF db_id(N'MetopeAzureDb') IS NOT NULL SELECT 1 ELSE SELECT Count(*) FROM sys.databases WHERE [name]=N'MetopeAzureDb'
2018-04-11 08:31:41.7352|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: IF db_id(N'MetopeAzureDb') IS NOT NULL SELECT 1 ELSE SELECT Count(*) FROM sys.databases WHERE [name]=N'MetopeAzureDb'
2018-04-11 08:31:45.8848|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: SELECT 
    [Project1].[Decimal_Precision] AS [Decimal_Precision], 
    [Project1].[Entity_ID] AS [Entity_ID], 
    [Project1].[Security_ID] AS [Security_ID], 
    [Project1].[Issued_Amount] AS [Issued_Amount], 
    [Project1].[Market_Capitalisation] AS [Market_Capitalisation], 
    [Project1].[Risk_Premium] AS [Risk_Premium], 
    [Project1].[Exit_Price] AS [Exit_Price], 
    [Project1].[Total_Return_ME_1YR] AS [Total_Return_ME_1YR], 
    [Project1].[Total_Return_ME_2YR] AS [Total_Return_ME_2YR], 
    [Project1].[Total_Return_ME_3YR] AS [Total_Return_ME_3YR], 
    [Project1].[Historic_Distribution] AS [Historic_Distribution], 
    [Project1].[Distribution_Growth_Forecast_Yr1] AS [Distribution_Growth_Forecast_Yr1], 
    [Project1].[Distribution_Growth_Forecast_Yr2] AS [Distribution_Growth_Forecast_Yr2], 
    [Project1].[Distribution_Growth_Forecast_Yr3] AS [Distribution_Growth_Forecast_Yr3], 
    [Project1].[Forecast_Distribution_Yr1] AS [Forecast_Distribution_Yr1], 
    [Project1].[Forecast_Distribution_Yr2] AS [Forecast_Distribution_Yr2], 
    [Project1].[Forecast_Distribution_Yr3] AS [Forecast_Distribution_Yr3], 
    [Project1].[Earnings_Growth_Compounded] AS [Earnings_Growth_Compounded], 
    [Project1].[Earnings_Forecast_Yr3] AS [Earnings_Forecast_Yr3], 
    [Project1].[Historic_Dividend_Yield_FYE] AS [Historic_Dividend_Yield_FYE], 
    [Project1].[Forward_Dividend_Yield_FYE] AS [Forward_Dividend_Yield_FYE], 
    [Project1].[Yr3_Forward_Dividend_Yield] AS [Yr3_Forward_Dividend_Yield], 
    [Project1].[Rolling_12M_Forward_Yield] AS [Rolling_12M_Forward_Yield], 
    [Project1].[Historical_Earnings_FYE] AS [Historical_Earnings_FYE], 
    [Project1].[Earnings_Forecast_Yr1] AS [Earnings_Forecast_Yr1], 
    [Project1].[Earnings_Forecast_Yr2] AS [Earnings_Forecast_Yr2], 
    [Project1].[Historic_Dividend_Yield_Relative] AS [Historic_Dividend_Yield_Relative], 
    [Project1].[Rolling_12M_Historic_Distribution_PriceCurr] AS [Rolling_12M_Historic_Distribution_PriceCurr], 
    [Project1].[Short_Term_Market_Rerate] AS [Short_Term_Market_Rerate], 
    [Project1].[Forecast_12M_Total_Return] AS [Forecast_12M_Total_Return], 
    [Project1].[Clean_Price] AS [Clean_Price], 
    [Project1].[Rolling_Dividend_Yield_Historic] AS [Rolling_Dividend_Yield_Historic], 
    [Project1].[Last_Update_Date] AS [Last_Update_Date], 
    [Project1].[Last_Update_User] AS [Last_Update_User], 
    [Project1].[Discount_Security_ID] AS [Discount_Security_ID], 
    [Project1].[Net_Present_Value] AS [Net_Present_Value], 
    [Project1].[Forecast_Rolling_Custom_Income] AS [Forecast_Rolling_Custom_Income], 
    [Project1].[Custom_Period] AS [Custom_Period], 
    [Project1].[Rolling_12M_Historic_Distribution] AS [Rolling_12M_Historic_Distribution], 
    [Project1].[Record_Date] AS [Record_Date], 
    [Project1].[Session_ID] AS [Session_ID], 
    [Project1].[Hist_Last_Update_Date] AS [Hist_Last_Update_Date], 
    [Project1].[Hist_Last_Update_User] AS [Hist_Last_Update_User], 
    [Project1].[Rolling_12M_Forecast_Distribution] AS [Rolling_12M_Forecast_Distribution], 
    [Project1].[Yr2_Forward_Dividend_Yield] AS [Yr2_Forward_Dividend_Yield], 
    [Project1].[Exit_Yield] AS [Exit_Yield], 
    [Project1].[Discount_Rate] AS [Discount_Rate], 
    [Project1].[Distribution_Growth_Compounded] AS [Distribution_Growth_Compounded], 
    [Project1].[Forecast_12MRolling_Income_Accrual] AS [Forecast_12MRolling_Income_Accrual], 
    [Project1].[Rolling_12_to_24M_Forecast_Distribution] AS [Rolling_12_to_24M_Forecast_Distribution], 
    [Project1].[Rolling_24_to_36M_Forecast_Distribution] AS [Rolling_24_to_36M_Forecast_Distribution], 
    [Project1].[Forecast_Yr1_Dividend_Yield_Relative] AS [Forecast_Yr1_Dividend_Yield_Relative], 
    [Project1].[Market_Historic_Yield] AS [Market_Historic_Yield], 
    [Project1].[Market_Forward_Yield] AS [Market_Forward_Yield], 
    [Project1].[Historic_Distribution_PriceCurr] AS [Historic_Distribution_PriceCurr], 
    [Project1].[Forecast_Distribution_Yr1_PriceCurr] AS [Forecast_Distribution_Yr1_PriceCurr], 
    [Project1].[Forecast_Distribution_Yr2_PriceCurr] AS [Forecast_Distribution_Yr2_PriceCurr], 
    [Project1].[Forecast_Distribution_Yr3_PriceCurr] AS [Forecast_Distribution_Yr3_PriceCurr], 
    [Project1].[Rolling_12M_Forecast_Distribution_PriceCurr] AS [Rolling_12M_Forecast_Distribution_PriceCurr], 
    [Project1].[Rolling_12_24M_Forecast_Distribution_PriceCurr] AS [Rolling_12_24M_Forecast_Distribution_PriceCurr], 
    [Project1].[Rolling_24_36M_Forecast_Distribution_PriceCurr] AS [Rolling_24_36M_Forecast_Distribution_PriceCurr], 
    [Project1].[Distribution_Growth_Forecast_Yr4] AS [Distribution_Growth_Forecast_Yr4], 
    [Project1].[Earnings_Forecast_Yr4] AS [Earnings_Forecast_Yr4], 
    [Project1].[Forecast_Distribution_Yr4] AS [Forecast_Distribution_Yr4], 
    [Project1].[Forecast_Distribution_Yr4_PriceCurr] AS [Forecast_Distribution_Yr4_PriceCurr], 
    [Project1].[Security_ID1] AS [Security_ID1], 
    [Project1].[Entity_ID1] AS [Entity_ID1], 
    [Project1].[Security_Name] AS [Security_Name], 
    [Project1].[Short_Name] AS [Short_Name], 
    [Project1].[Primary_Exch] AS [Primary_Exch], 
    [Project1].[Secondary_Exch] AS [Secondary_Exch], 
    [Project1].[Country_Of_Domicile] AS [Country_Of_Domicile], 
    [Project1].[Country_Of_Risk] AS [Country_Of_Risk], 
    [Project1].[Security_Type_Code] AS [Security_Type_Code], 
    [Project1].[Price_Multiplier] AS [Price_Multiplier], 
    [Project1].[Income_Frequency] AS [Income_Frequency], 
    [Project1].[Issuer_Code] AS [Issuer_Code], 
    [Project1].[Ultimate_Issuer_Code] AS [Ultimate_Issuer_Code], 
    [Project1].[Asset_Currency] AS [Asset_Currency], 
    [Project1].[Min_Lot_Size] AS [Min_Lot_Size], 
    [Project1].[AvePrice_Rounding] AS [AvePrice_Rounding], 
    [Project1].[Issue_Date] AS [Issue_Date], 
    [Project1].[Maturity_Date] AS [Maturity_Date], 
    [Project1].[Coupon_Rate] AS [Coupon_Rate], 
    [Project1].[Price_Exchange] AS [Price_Exchange], 
    [Project1].[Trade_Currency] AS [Trade_Currency], 
    [Project1].[Price_Curr] AS [Price_Curr], 
    [Project1].[Currency_Pair_Code] AS [Currency_Pair_Code], 
    [Project1].[Share_Class] AS [Share_Class], 
    [Project1].[Current_Market_Price] AS [Current_Market_Price], 
    [Project1].[Index_Type] AS [Index_Type], 
    [Project1].[Clean_Price_Formula] AS [Clean_Price_Formula], 
    [Project1].[Accrued_Income_Price_Formula] AS [Accrued_Income_Price_Formula], 
    [Project1].[Odd_First_Coupon_Date] AS [Odd_First_Coupon_Date], 
    [Project1].[Odd_Last_Coupon_Date] AS [Odd_Last_Coupon_Date], 
    [Project1].[Coupon_Anniversary_Indicator] AS [Coupon_Anniversary_Indicator], 
    [Project1].[Track_EOM_Flag] AS [Track_EOM_Flag], 
    [Project1].[Next_Coupon_Date] AS [Next_Coupon_Date], 
    [Project1].[Previous_Coupon_Date] AS [Previous_Coupon_Date], 
    [Project1].[Payment_Frequency] AS [Payment_Frequency], 
    [Project1].[Coupon_BusDay_Adjustment] AS [Coupon_BusDay_Adjustment], 
    [Project1].[Next_Ex_Div_Date] AS [Next_Ex_Div_Date], 
    [Project1].[Ex_Div_BusDay_Adjustment] AS [Ex_Div_BusDay_Adjustment], 
    [Project1].[Ex_Div_Period] AS [Ex_Div_Period], 
    [Project1].[Ticker] AS [Ticker], 
    [Project1].[Inet_ID] AS [Inet_ID], 
    [Project1].[Bloomberg_ID] AS [Bloomberg_ID], 
    [Project1].[External_Sec_ID] AS [External_Sec_ID], 
    [Project1].[Reuters_ID] AS [Reuters_ID], 
    [Project1].[ISIN] AS [ISIN], 
    [Project1].[Call_Account_Flag] AS [Call_Account_Flag], 
    [Project1].[System_Locked] AS [System_Locked], 
    [Project1].[Last_Update_User1] AS [Last_Update_User1], 
    [Project1].[Last_Update_Date1] AS [Last_Update_Date1], 
    [Project1].[Security_Status] AS [Security_Status], 
    [Project1].[Benchmark_Portfolio] AS [Benchmark_Portfolio], 
    [Project1].[Active_flag] AS [Active_flag], 
    [Project1].[Dividend_FX_Security_ID] AS [Dividend_FX_Security_ID]
    FROM ( SELECT 
        [Extent1].[Entity_ID] AS [Entity_ID], 
        [Extent1].[Security_ID] AS [Security_ID], 
        [Extent1].[Issued_Amount] AS [Issued_Amount], 
        [Extent1].[Market_Capitalisation] AS [Market_Capitalisation], 
        [Extent1].[Risk_Premium] AS [Risk_Premium], 
        [Extent1].[Exit_Price] AS [Exit_Price], 
        [Extent1].[Total_Return_ME_1YR] AS [Total_Return_ME_1YR], 
        [Extent1].[Total_Return_ME_2YR] AS [Total_Return_ME_2YR], 
        [Extent1].[Total_Return_ME_3YR] AS [Total_Return_ME_3YR], 
        [Extent1].[Historic_Distribution] AS [Historic_Distribution], 
        [Extent1].[Distribution_Growth_Forecast_Yr1] AS [Distribution_Growth_Forecast_Yr1], 
        [Extent1].[Distribution_Growth_Forecast_Yr2] AS [Distribution_Growth_Forecast_Yr2], 
        [Extent1].[Distribution_Growth_Forecast_Yr3] AS [Distribution_Growth_Forecast_Yr3], 
        [Extent1].[Forecast_Distribution_Yr1] AS [Forecast_Distribution_Yr1], 
        [Extent1].[Forecast_Distribution_Yr2] AS [Forecast_Distribution_Yr2], 
        [Extent1].[Forecast_Distribution_Yr3] AS [Forecast_Distribution_Yr3], 
        [Extent1].[Earnings_Growth_Compounded] AS [Earnings_Growth_Compounded], 
        [Extent1].[Earnings_Forecast_Yr3] AS [Earnings_Forecast_Yr3], 
        [Extent1].[Historic_Dividend_Yield_FYE] AS [Historic_Dividend_Yield_FYE], 
        [Extent1].[Forward_Dividend_Yield_FYE] AS [Forward_Dividend_Yield_FYE], 
        [Extent1].[Yr3_Forward_Dividend_Yield] AS [Yr3_Forward_Dividend_Yield], 
        [Extent1].[Rolling_12M_Forward_Yield] AS [Rolling_12M_Forward_Yield], 
        [Extent1].[Historical_Earnings_FYE] AS [Historical_Earnings_FYE], 
        [Extent1].[Earnings_Forecast_Yr1] AS [Earnings_Forecast_Yr1], 
        [Extent1].[Earnings_Forecast_Yr2] AS [Earnings_Forecast_Yr2], 
        [Extent1].[Historic_Dividend_Yield_Relative] AS [Historic_Dividend_Yield_Relative], 
        [Extent1].[Rolling_12M_Historic_Distribution_PriceCurr] AS [Rolling_12M_Historic_Distribution_PriceCurr], 
        [Extent1].[Short_Term_Market_Rerate] AS [Short_Term_Market_Rerate], 
        [Extent1].[Forecast_12M_Total_Return] AS [Forecast_12M_Total_Return], 
        [Extent1].[Clean_Price] AS [Clean_Price], 
        [Extent1].[Rolling_Dividend_Yield_Historic] AS [Rolling_Dividend_Yield_Historic], 
        [Extent1].[Last_Update_Date] AS [Last_Update_Date], 
        [Extent1].[Last_Update_User] AS [Last_Update_User], 
        [Extent1].[Discount_Security_ID] AS [Discount_Security_ID], 
        [Extent1].[Net_Present_Value] AS [Net_Present_Value], 
        [Extent1].[Forecast_Rolling_Custom_Income] AS [Forecast_Rolling_Custom_Income], 
        [Extent1].[Custom_Period] AS [Custom_Period], 
        [Extent1].[Rolling_12M_Historic_Distribution] AS [Rolling_12M_Historic_Distribution], 
        [Extent1].[Record_Date] AS [Record_Date], 
        [Extent1].[Session_ID] AS [Session_ID], 
        [Extent1].[Hist_Last_Update_Date] AS [Hist_Last_Update_Date], 
        [Extent1].[Hist_Last_Update_User] AS [Hist_Last_Update_User], 
        [Extent1].[Rolling_12M_Forecast_Distribution] AS [Rolling_12M_Forecast_Distribution], 
        [Extent1].[Yr2_Forward_Dividend_Yield] AS [Yr2_Forward_Dividend_Yield], 
        [Extent1].[Exit_Yield] AS [Exit_Yield], 
        [Extent1].[Discount_Rate] AS [Discount_Rate], 
        [Extent1].[Distribution_Growth_Compounded] AS [Distribution_Growth_Compounded], 
        [Extent1].[Forecast_12MRolling_Income_Accrual] AS [Forecast_12MRolling_Income_Accrual], 
        [Extent1].[Rolling_12_to_24M_Forecast_Distribution] AS [Rolling_12_to_24M_Forecast_Distribution], 
        [Extent1].[Rolling_24_to_36M_Forecast_Distribution] AS [Rolling_24_to_36M_Forecast_Distribution], 
        [Extent1].[Forecast_Yr1_Dividend_Yield_Relative] AS [Forecast_Yr1_Dividend_Yield_Relative], 
        [Extent1].[Market_Historic_Yield] AS [Market_Historic_Yield], 
        [Extent1].[Market_Forward_Yield] AS [Market_Forward_Yield], 
        [Extent1].[Historic_Distribution_PriceCurr] AS [Historic_Distribution_PriceCurr], 
        [Extent1].[Forecast_Distribution_Yr1_PriceCurr] AS [Forecast_Distribution_Yr1_PriceCurr], 
        [Extent1].[Forecast_Distribution_Yr2_PriceCurr] AS [Forecast_Distribution_Yr2_PriceCurr], 
        [Extent1].[Forecast_Distribution_Yr3_PriceCurr] AS [Forecast_Distribution_Yr3_PriceCurr], 
        [Extent1].[Rolling_12M_Forecast_Distribution_PriceCurr] AS [Rolling_12M_Forecast_Distribution_PriceCurr], 
        [Extent1].[Rolling_12_24M_Forecast_Distribution_PriceCurr] AS [Rolling_12_24M_Forecast_Distribution_PriceCurr], 
        [Extent1].[Rolling_24_36M_Forecast_Distribution_PriceCurr] AS [Rolling_24_36M_Forecast_Distribution_PriceCurr], 
        [Extent1].[Distribution_Growth_Forecast_Yr4] AS [Distribution_Growth_Forecast_Yr4], 
        [Extent1].[Earnings_Forecast_Yr4] AS [Earnings_Forecast_Yr4], 
        [Extent1].[Forecast_Distribution_Yr4] AS [Forecast_Distribution_Yr4], 
        [Extent1].[Forecast_Distribution_Yr4_PriceCurr] AS [Forecast_Distribution_Yr4_PriceCurr], 
        [Extent2].[Security_ID] AS [Security_ID1], 
        [Extent2].[Entity_ID] AS [Entity_ID1], 
        [Extent2].[Security_Name] AS [Security_Name], 
        [Extent2].[Short_Name] AS [Short_Name], 
        [Extent2].[Primary_Exch] AS [Primary_Exch], 
        [Extent2].[Secondary_Exch] AS [Secondary_Exch], 
        [Extent2].[Country_Of_Domicile] AS [Country_Of_Domicile], 
        [Extent2].[Country_Of_Risk] AS [Country_Of_Risk], 
        [Extent2].[Security_Type_Code] AS [Security_Type_Code], 
        [Extent2].[Price_Multiplier] AS [Price_Multiplier], 
        [Extent2].[Income_Frequency] AS [Income_Frequency], 
        [Extent2].[Issuer_Code] AS [Issuer_Code], 
        [Extent2].[Ultimate_Issuer_Code] AS [Ultimate_Issuer_Code], 
        [Extent2].[Asset_Currency] AS [Asset_Currency], 
        [Extent2].[Min_Lot_Size] AS [Min_Lot_Size], 
        [Extent2].[Decimal_Precision] AS [Decimal_Precision], 
        [Extent2].[AvePrice_Rounding] AS [AvePrice_Rounding], 
        [Extent2].[Issue_Date] AS [Issue_Date], 
        [Extent2].[Maturity_Date] AS [Maturity_Date], 
        [Extent2].[Coupon_Rate] AS [Coupon_Rate], 
        [Extent2].[Price_Exchange] AS [Price_Exchange], 
        [Extent2].[Trade_Currency] AS [Trade_Currency], 
        [Extent2].[Price_Curr] AS [Price_Curr], 
        [Extent2].[Currency_Pair_Code] AS [Currency_Pair_Code], 
        [Extent2].[Share_Class] AS [Share_Class], 
        [Extent2].[Current_Market_Price] AS [Current_Market_Price], 
        [Extent2].[Index_Type] AS [Index_Type], 
        [Extent2].[Clean_Price_Formula] AS [Clean_Price_Formula], 
        [Extent2].[Accrued_Income_Price_Formula] AS [Accrued_Income_Price_Formula], 
        [Extent2].[Odd_First_Coupon_Date] AS [Odd_First_Coupon_Date], 
        [Extent2].[Odd_Last_Coupon_Date] AS [Odd_Last_Coupon_Date], 
        [Extent2].[Coupon_Anniversary_Indicator] AS [Coupon_Anniversary_Indicator], 
        [Extent2].[Track_EOM_Flag] AS [Track_EOM_Flag], 
        [Extent2].[Next_Coupon_Date] AS [Next_Coupon_Date], 
        [Extent2].[Previous_Coupon_Date] AS [Previous_Coupon_Date], 
        [Extent2].[Payment_Frequency] AS [Payment_Frequency], 
        [Extent2].[Coupon_BusDay_Adjustment] AS [Coupon_BusDay_Adjustment], 
        [Extent2].[Next_Ex_Div_Date] AS [Next_Ex_Div_Date], 
        [Extent2].[Ex_Div_BusDay_Adjustment] AS [Ex_Div_BusDay_Adjustment], 
        [Extent2].[Ex_Div_Period] AS [Ex_Div_Period], 
        [Extent2].[Ticker] AS [Ticker], 
        [Extent2].[Inet_ID] AS [Inet_ID], 
        [Extent2].[Bloomberg_ID] AS [Bloomberg_ID], 
        [Extent2].[External_Sec_ID] AS [External_Sec_ID], 
        [Extent2].[Reuters_ID] AS [Reuters_ID], 
        [Extent2].[ISIN] AS [ISIN], 
        [Extent2].[Call_Account_Flag] AS [Call_Account_Flag], 
        [Extent2].[System_Locked] AS [System_Locked], 
        [Extent2].[Last_Update_User] AS [Last_Update_User1], 
        [Extent2].[Last_Update_Date] AS [Last_Update_Date1], 
        [Extent2].[Security_Status] AS [Security_Status], 
        [Extent2].[Benchmark_Portfolio] AS [Benchmark_Portfolio], 
        [Extent2].[Active_flag] AS [Active_flag], 
        [Extent2].[Dividend_FX_Security_ID] AS [Dividend_FX_Security_ID]
        FROM  [dbo].[Security_Analytics_History] AS [Extent1]
        INNER JOIN [dbo].[Security_Detail] AS [Extent2] ON [Extent1].[Security_ID] = [Extent2].[Security_ID]
        WHERE [Extent1].[Security_ID] = @p__linq__0
    )  AS [Project1]
    ORDER BY [Project1].[Record_Date] DESC
2018-04-11 08:31:45.9254|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: SELECT 
    [Project1].[Decimal_Precision] AS [Decimal_Precision], 
    [Project1].[Entity_ID] AS [Entity_ID], 
    [Project1].[Security_ID] AS [Security_ID], 
    [Project1].[Issued_Amount] AS [Issued_Amount], 
    [Project1].[Market_Capitalisation] AS [Market_Capitalisation], 
    [Project1].[Risk_Premium] AS [Risk_Premium], 
    [Project1].[Exit_Price] AS [Exit_Price], 
    [Project1].[Total_Return_ME_1YR] AS [Total_Return_ME_1YR], 
    [Project1].[Total_Return_ME_2YR] AS [Total_Return_ME_2YR], 
    [Project1].[Total_Return_ME_3YR] AS [Total_Return_ME_3YR], 
    [Project1].[Historic_Distribution] AS [Historic_Distribution], 
    [Project1].[Distribution_Growth_Forecast_Yr1] AS [Distribution_Growth_Forecast_Yr1], 
    [Project1].[Distribution_Growth_Forecast_Yr2] AS [Distribution_Growth_Forecast_Yr2], 
    [Project1].[Distribution_Growth_Forecast_Yr3] AS [Distribution_Growth_Forecast_Yr3], 
    [Project1].[Forecast_Distribution_Yr1] AS [Forecast_Distribution_Yr1], 
    [Project1].[Forecast_Distribution_Yr2] AS [Forecast_Distribution_Yr2], 
    [Project1].[Forecast_Distribution_Yr3] AS [Forecast_Distribution_Yr3], 
    [Project1].[Earnings_Growth_Compounded] AS [Earnings_Growth_Compounded], 
    [Project1].[Earnings_Forecast_Yr3] AS [Earnings_Forecast_Yr3], 
    [Project1].[Historic_Dividend_Yield_FYE] AS [Historic_Dividend_Yield_FYE], 
    [Project1].[Forward_Dividend_Yield_FYE] AS [Forward_Dividend_Yield_FYE], 
    [Project1].[Yr3_Forward_Dividend_Yield] AS [Yr3_Forward_Dividend_Yield], 
    [Project1].[Rolling_12M_Forward_Yield] AS [Rolling_12M_Forward_Yield], 
    [Project1].[Historical_Earnings_FYE] AS [Historical_Earnings_FYE], 
    [Project1].[Earnings_Forecast_Yr1] AS [Earnings_Forecast_Yr1], 
    [Project1].[Earnings_Forecast_Yr2] AS [Earnings_Forecast_Yr2], 
    [Project1].[Historic_Dividend_Yield_Relative] AS [Historic_Dividend_Yield_Relative], 
    [Project1].[Rolling_12M_Historic_Distribution_PriceCurr] AS [Rolling_12M_Historic_Distribution_PriceCurr], 
    [Project1].[Short_Term_Market_Rerate] AS [Short_Term_Market_Rerate], 
    [Project1].[Forecast_12M_Total_Return] AS [Forecast_12M_Total_Return], 
    [Project1].[Clean_Price] AS [Clean_Price], 
    [Project1].[Rolling_Dividend_Yield_Historic] AS [Rolling_Dividend_Yield_Historic], 
    [Project1].[Last_Update_Date] AS [Last_Update_Date], 
    [Project1].[Last_Update_User] AS [Last_Update_User], 
    [Project1].[Discount_Security_ID] AS [Discount_Security_ID], 
    [Project1].[Net_Present_Value] AS [Net_Present_Value], 
    [Project1].[Forecast_Rolling_Custom_Income] AS [Forecast_Rolling_Custom_Income], 
    [Project1].[Custom_Period] AS [Custom_Period], 
    [Project1].[Rolling_12M_Historic_Distribution] AS [Rolling_12M_Historic_Distribution], 
    [Project1].[Record_Date] AS [Record_Date], 
    [Project1].[Session_ID] AS [Session_ID], 
    [Project1].[Hist_Last_Update_Date] AS [Hist_Last_Update_Date], 
    [Project1].[Hist_Last_Update_User] AS [Hist_Last_Update_User], 
    [Project1].[Rolling_12M_Forecast_Distribution] AS [Rolling_12M_Forecast_Distribution], 
    [Project1].[Yr2_Forward_Dividend_Yield] AS [Yr2_Forward_Dividend_Yield], 
    [Project1].[Exit_Yield] AS [Exit_Yield], 
    [Project1].[Discount_Rate] AS [Discount_Rate], 
    [Project1].[Distribution_Growth_Compounded] AS [Distribution_Growth_Compounded], 
    [Project1].[Forecast_12MRolling_Income_Accrual] AS [Forecast_12MRolling_Income_Accrual], 
    [Project1].[Rolling_12_to_24M_Forecast_Distribution] AS [Rolling_12_to_24M_Forecast_Distribution], 
    [Project1].[Rolling_24_to_36M_Forecast_Distribution] AS [Rolling_24_to_36M_Forecast_Distribution], 
    [Project1].[Forecast_Yr1_Dividend_Yield_Relative] AS [Forecast_Yr1_Dividend_Yield_Relative], 
    [Project1].[Market_Historic_Yield] AS [Market_Historic_Yield], 
    [Project1].[Market_Forward_Yield] AS [Market_Forward_Yield], 
    [Project1].[Historic_Distribution_PriceCurr] AS [Historic_Distribution_PriceCurr], 
    [Project1].[Forecast_Distribution_Yr1_PriceCurr] AS [Forecast_Distribution_Yr1_PriceCurr], 
    [Project1].[Forecast_Distribution_Yr2_PriceCurr] AS [Forecast_Distribution_Yr2_PriceCurr], 
    [Project1].[Forecast_Distribution_Yr3_PriceCurr] AS [Forecast_Distribution_Yr3_PriceCurr], 
    [Project1].[Rolling_12M_Forecast_Distribution_PriceCurr] AS [Rolling_12M_Forecast_Distribution_PriceCurr], 
    [Project1].[Rolling_12_24M_Forecast_Distribution_PriceCurr] AS [Rolling_12_24M_Forecast_Distribution_PriceCurr], 
    [Project1].[Rolling_24_36M_Forecast_Distribution_PriceCurr] AS [Rolling_24_36M_Forecast_Distribution_PriceCurr], 
    [Project1].[Distribution_Growth_Forecast_Yr4] AS [Distribution_Growth_Forecast_Yr4], 
    [Project1].[Earnings_Forecast_Yr4] AS [Earnings_Forecast_Yr4], 
    [Project1].[Forecast_Distribution_Yr4] AS [Forecast_Distribution_Yr4], 
    [Project1].[Forecast_Distribution_Yr4_PriceCurr] AS [Forecast_Distribution_Yr4_PriceCurr], 
    [Project1].[Security_ID1] AS [Security_ID1], 
    [Project1].[Entity_ID1] AS [Entity_ID1], 
    [Project1].[Security_Name] AS [Security_Name], 
    [Project1].[Short_Name] AS [Short_Name], 
    [Project1].[Primary_Exch] AS [Primary_Exch], 
    [Project1].[Secondary_Exch] AS [Secondary_Exch], 
    [Project1].[Country_Of_Domicile] AS [Country_Of_Domicile], 
    [Project1].[Country_Of_Risk] AS [Country_Of_Risk], 
    [Project1].[Security_Type_Code] AS [Security_Type_Code], 
    [Project1].[Price_Multiplier] AS [Price_Multiplier], 
    [Project1].[Income_Frequency] AS [Income_Frequency], 
    [Project1].[Issuer_Code] AS [Issuer_Code], 
    [Project1].[Ultimate_Issuer_Code] AS [Ultimate_Issuer_Code], 
    [Project1].[Asset_Currency] AS [Asset_Currency], 
    [Project1].[Min_Lot_Size] AS [Min_Lot_Size], 
    [Project1].[AvePrice_Rounding] AS [AvePrice_Rounding], 
    [Project1].[Issue_Date] AS [Issue_Date], 
    [Project1].[Maturity_Date] AS [Maturity_Date], 
    [Project1].[Coupon_Rate] AS [Coupon_Rate], 
    [Project1].[Price_Exchange] AS [Price_Exchange], 
    [Project1].[Trade_Currency] AS [Trade_Currency], 
    [Project1].[Price_Curr] AS [Price_Curr], 
    [Project1].[Currency_Pair_Code] AS [Currency_Pair_Code], 
    [Project1].[Share_Class] AS [Share_Class], 
    [Project1].[Current_Market_Price] AS [Current_Market_Price], 
    [Project1].[Index_Type] AS [Index_Type], 
    [Project1].[Clean_Price_Formula] AS [Clean_Price_Formula], 
    [Project1].[Accrued_Income_Price_Formula] AS [Accrued_Income_Price_Formula], 
    [Project1].[Odd_First_Coupon_Date] AS [Odd_First_Coupon_Date], 
    [Project1].[Odd_Last_Coupon_Date] AS [Odd_Last_Coupon_Date], 
    [Project1].[Coupon_Anniversary_Indicator] AS [Coupon_Anniversary_Indicator], 
    [Project1].[Track_EOM_Flag] AS [Track_EOM_Flag], 
    [Project1].[Next_Coupon_Date] AS [Next_Coupon_Date], 
    [Project1].[Previous_Coupon_Date] AS [Previous_Coupon_Date], 
    [Project1].[Payment_Frequency] AS [Payment_Frequency], 
    [Project1].[Coupon_BusDay_Adjustment] AS [Coupon_BusDay_Adjustment], 
    [Project1].[Next_Ex_Div_Date] AS [Next_Ex_Div_Date], 
    [Project1].[Ex_Div_BusDay_Adjustment] AS [Ex_Div_BusDay_Adjustment], 
    [Project1].[Ex_Div_Period] AS [Ex_Div_Period], 
    [Project1].[Ticker] AS [Ticker], 
    [Project1].[Inet_ID] AS [Inet_ID], 
    [Project1].[Bloomberg_ID] AS [Bloomberg_ID], 
    [Project1].[External_Sec_ID] AS [External_Sec_ID], 
    [Project1].[Reuters_ID] AS [Reuters_ID], 
    [Project1].[ISIN] AS [ISIN], 
    [Project1].[Call_Account_Flag] AS [Call_Account_Flag], 
    [Project1].[System_Locked] AS [System_Locked], 
    [Project1].[Last_Update_User1] AS [Last_Update_User1], 
    [Project1].[Last_Update_Date1] AS [Last_Update_Date1], 
    [Project1].[Security_Status] AS [Security_Status], 
    [Project1].[Benchmark_Portfolio] AS [Benchmark_Portfolio], 
    [Project1].[Active_flag] AS [Active_flag], 
    [Project1].[Dividend_FX_Security_ID] AS [Dividend_FX_Security_ID]
    FROM ( SELECT 
        [Extent1].[Entity_ID] AS [Entity_ID], 
        [Extent1].[Security_ID] AS [Security_ID], 
        [Extent1].[Issued_Amount] AS [Issued_Amount], 
        [Extent1].[Market_Capitalisation] AS [Market_Capitalisation], 
        [Extent1].[Risk_Premium] AS [Risk_Premium], 
        [Extent1].[Exit_Price] AS [Exit_Price], 
        [Extent1].[Total_Return_ME_1YR] AS [Total_Return_ME_1YR], 
        [Extent1].[Total_Return_ME_2YR] AS [Total_Return_ME_2YR], 
        [Extent1].[Total_Return_ME_3YR] AS [Total_Return_ME_3YR], 
        [Extent1].[Historic_Distribution] AS [Historic_Distribution], 
        [Extent1].[Distribution_Growth_Forecast_Yr1] AS [Distribution_Growth_Forecast_Yr1], 
        [Extent1].[Distribution_Growth_Forecast_Yr2] AS [Distribution_Growth_Forecast_Yr2], 
        [Extent1].[Distribution_Growth_Forecast_Yr3] AS [Distribution_Growth_Forecast_Yr3], 
        [Extent1].[Forecast_Distribution_Yr1] AS [Forecast_Distribution_Yr1], 
        [Extent1].[Forecast_Distribution_Yr2] AS [Forecast_Distribution_Yr2], 
        [Extent1].[Forecast_Distribution_Yr3] AS [Forecast_Distribution_Yr3], 
        [Extent1].[Earnings_Growth_Compounded] AS [Earnings_Growth_Compounded], 
        [Extent1].[Earnings_Forecast_Yr3] AS [Earnings_Forecast_Yr3], 
        [Extent1].[Historic_Dividend_Yield_FYE] AS [Historic_Dividend_Yield_FYE], 
        [Extent1].[Forward_Dividend_Yield_FYE] AS [Forward_Dividend_Yield_FYE], 
        [Extent1].[Yr3_Forward_Dividend_Yield] AS [Yr3_Forward_Dividend_Yield], 
        [Extent1].[Rolling_12M_Forward_Yield] AS [Rolling_12M_Forward_Yield], 
        [Extent1].[Historical_Earnings_FYE] AS [Historical_Earnings_FYE], 
        [Extent1].[Earnings_Forecast_Yr1] AS [Earnings_Forecast_Yr1], 
        [Extent1].[Earnings_Forecast_Yr2] AS [Earnings_Forecast_Yr2], 
        [Extent1].[Historic_Dividend_Yield_Relative] AS [Historic_Dividend_Yield_Relative], 
        [Extent1].[Rolling_12M_Historic_Distribution_PriceCurr] AS [Rolling_12M_Historic_Distribution_PriceCurr], 
        [Extent1].[Short_Term_Market_Rerate] AS [Short_Term_Market_Rerate], 
        [Extent1].[Forecast_12M_Total_Return] AS [Forecast_12M_Total_Return], 
        [Extent1].[Clean_Price] AS [Clean_Price], 
        [Extent1].[Rolling_Dividend_Yield_Historic] AS [Rolling_Dividend_Yield_Historic], 
        [Extent1].[Last_Update_Date] AS [Last_Update_Date], 
        [Extent1].[Last_Update_User] AS [Last_Update_User], 
        [Extent1].[Discount_Security_ID] AS [Discount_Security_ID], 
        [Extent1].[Net_Present_Value] AS [Net_Present_Value], 
        [Extent1].[Forecast_Rolling_Custom_Income] AS [Forecast_Rolling_Custom_Income], 
        [Extent1].[Custom_Period] AS [Custom_Period], 
        [Extent1].[Rolling_12M_Historic_Distribution] AS [Rolling_12M_Historic_Distribution], 
        [Extent1].[Record_Date] AS [Record_Date], 
        [Extent1].[Session_ID] AS [Session_ID], 
        [Extent1].[Hist_Last_Update_Date] AS [Hist_Last_Update_Date], 
        [Extent1].[Hist_Last_Update_User] AS [Hist_Last_Update_User], 
        [Extent1].[Rolling_12M_Forecast_Distribution] AS [Rolling_12M_Forecast_Distribution], 
        [Extent1].[Yr2_Forward_Dividend_Yield] AS [Yr2_Forward_Dividend_Yield], 
        [Extent1].[Exit_Yield] AS [Exit_Yield], 
        [Extent1].[Discount_Rate] AS [Discount_Rate], 
        [Extent1].[Distribution_Growth_Compounded] AS [Distribution_Growth_Compounded], 
        [Extent1].[Forecast_12MRolling_Income_Accrual] AS [Forecast_12MRolling_Income_Accrual], 
        [Extent1].[Rolling_12_to_24M_Forecast_Distribution] AS [Rolling_12_to_24M_Forecast_Distribution], 
        [Extent1].[Rolling_24_to_36M_Forecast_Distribution] AS [Rolling_24_to_36M_Forecast_Distribution], 
        [Extent1].[Forecast_Yr1_Dividend_Yield_Relative] AS [Forecast_Yr1_Dividend_Yield_Relative], 
        [Extent1].[Market_Historic_Yield] AS [Market_Historic_Yield], 
        [Extent1].[Market_Forward_Yield] AS [Market_Forward_Yield], 
        [Extent1].[Historic_Distribution_PriceCurr] AS [Historic_Distribution_PriceCurr], 
        [Extent1].[Forecast_Distribution_Yr1_PriceCurr] AS [Forecast_Distribution_Yr1_PriceCurr], 
        [Extent1].[Forecast_Distribution_Yr2_PriceCurr] AS [Forecast_Distribution_Yr2_PriceCurr], 
        [Extent1].[Forecast_Distribution_Yr3_PriceCurr] AS [Forecast_Distribution_Yr3_PriceCurr], 
        [Extent1].[Rolling_12M_Forecast_Distribution_PriceCurr] AS [Rolling_12M_Forecast_Distribution_PriceCurr], 
        [Extent1].[Rolling_12_24M_Forecast_Distribution_PriceCurr] AS [Rolling_12_24M_Forecast_Distribution_PriceCurr], 
        [Extent1].[Rolling_24_36M_Forecast_Distribution_PriceCurr] AS [Rolling_24_36M_Forecast_Distribution_PriceCurr], 
        [Extent1].[Distribution_Growth_Forecast_Yr4] AS [Distribution_Growth_Forecast_Yr4], 
        [Extent1].[Earnings_Forecast_Yr4] AS [Earnings_Forecast_Yr4], 
        [Extent1].[Forecast_Distribution_Yr4] AS [Forecast_Distribution_Yr4], 
        [Extent1].[Forecast_Distribution_Yr4_PriceCurr] AS [Forecast_Distribution_Yr4_PriceCurr], 
        [Extent2].[Security_ID] AS [Security_ID1], 
        [Extent2].[Entity_ID] AS [Entity_ID1], 
        [Extent2].[Security_Name] AS [Security_Name], 
        [Extent2].[Short_Name] AS [Short_Name], 
        [Extent2].[Primary_Exch] AS [Primary_Exch], 
        [Extent2].[Secondary_Exch] AS [Secondary_Exch], 
        [Extent2].[Country_Of_Domicile] AS [Country_Of_Domicile], 
        [Extent2].[Country_Of_Risk] AS [Country_Of_Risk], 
        [Extent2].[Security_Type_Code] AS [Security_Type_Code], 
        [Extent2].[Price_Multiplier] AS [Price_Multiplier], 
        [Extent2].[Income_Frequency] AS [Income_Frequency], 
        [Extent2].[Issuer_Code] AS [Issuer_Code], 
        [Extent2].[Ultimate_Issuer_Code] AS [Ultimate_Issuer_Code], 
        [Extent2].[Asset_Currency] AS [Asset_Currency], 
        [Extent2].[Min_Lot_Size] AS [Min_Lot_Size], 
        [Extent2].[Decimal_Precision] AS [Decimal_Precision], 
        [Extent2].[AvePrice_Rounding] AS [AvePrice_Rounding], 
        [Extent2].[Issue_Date] AS [Issue_Date], 
        [Extent2].[Maturity_Date] AS [Maturity_Date], 
        [Extent2].[Coupon_Rate] AS [Coupon_Rate], 
        [Extent2].[Price_Exchange] AS [Price_Exchange], 
        [Extent2].[Trade_Currency] AS [Trade_Currency], 
        [Extent2].[Price_Curr] AS [Price_Curr], 
        [Extent2].[Currency_Pair_Code] AS [Currency_Pair_Code], 
        [Extent2].[Share_Class] AS [Share_Class], 
        [Extent2].[Current_Market_Price] AS [Current_Market_Price], 
        [Extent2].[Index_Type] AS [Index_Type], 
        [Extent2].[Clean_Price_Formula] AS [Clean_Price_Formula], 
        [Extent2].[Accrued_Income_Price_Formula] AS [Accrued_Income_Price_Formula], 
        [Extent2].[Odd_First_Coupon_Date] AS [Odd_First_Coupon_Date], 
        [Extent2].[Odd_Last_Coupon_Date] AS [Odd_Last_Coupon_Date], 
        [Extent2].[Coupon_Anniversary_Indicator] AS [Coupon_Anniversary_Indicator], 
        [Extent2].[Track_EOM_Flag] AS [Track_EOM_Flag], 
        [Extent2].[Next_Coupon_Date] AS [Next_Coupon_Date], 
        [Extent2].[Previous_Coupon_Date] AS [Previous_Coupon_Date], 
        [Extent2].[Payment_Frequency] AS [Payment_Frequency], 
        [Extent2].[Coupon_BusDay_Adjustment] AS [Coupon_BusDay_Adjustment], 
        [Extent2].[Next_Ex_Div_Date] AS [Next_Ex_Div_Date], 
        [Extent2].[Ex_Div_BusDay_Adjustment] AS [Ex_Div_BusDay_Adjustment], 
        [Extent2].[Ex_Div_Period] AS [Ex_Div_Period], 
        [Extent2].[Ticker] AS [Ticker], 
        [Extent2].[Inet_ID] AS [Inet_ID], 
        [Extent2].[Bloomberg_ID] AS [Bloomberg_ID], 
        [Extent2].[External_Sec_ID] AS [External_Sec_ID], 
        [Extent2].[Reuters_ID] AS [Reuters_ID], 
        [Extent2].[ISIN] AS [ISIN], 
        [Extent2].[Call_Account_Flag] AS [Call_Account_Flag], 
        [Extent2].[System_Locked] AS [System_Locked], 
        [Extent2].[Last_Update_User] AS [Last_Update_User1], 
        [Extent2].[Last_Update_Date] AS [Last_Update_Date1], 
        [Extent2].[Security_Status] AS [Security_Status], 
        [Extent2].[Benchmark_Portfolio] AS [Benchmark_Portfolio], 
        [Extent2].[Active_flag] AS [Active_flag], 
        [Extent2].[Dividend_FX_Security_ID] AS [Dividend_FX_Security_ID]
        FROM  [dbo].[Security_Analytics_History] AS [Extent1]
        INNER JOIN [dbo].[Security_Detail] AS [Extent2] ON [Extent1].[Security_ID] = [Extent2].[Security_ID]
        WHERE [Extent1].[Security_ID] = @p__linq__0
    )  AS [Project1]
    ORDER BY [Project1].[Record_Date] DESC
2018-04-11 08:31:46.0054|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: IF db_id(N'MetopeAzureDb') IS NOT NULL SELECT 1 ELSE SELECT Count(*) FROM sys.databases WHERE [name]=N'MetopeAzureDb'
2018-04-11 08:31:46.0364|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: IF db_id(N'MetopeAzureDb') IS NOT NULL SELECT 1 ELSE SELECT Count(*) FROM sys.databases WHERE [name]=N'MetopeAzureDb'
2018-04-11 08:31:46.0690|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: IF db_id(N'MetopeAzureDb') IS NOT NULL SELECT 1 ELSE SELECT Count(*) FROM sys.databases WHERE [name]=N'MetopeAzureDb'
2018-04-11 08:31:46.0945|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: IF db_id(N'MetopeAzureDb') IS NOT NULL SELECT 1 ELSE SELECT Count(*) FROM sys.databases WHERE [name]=N'MetopeAzureDb'
2018-04-11 08:31:51.2923|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: SELECT 
    [Project1].[Decimal_Precision] AS [Decimal_Precision], 
    [Project1].[Entity_ID] AS [Entity_ID], 
    [Project1].[Security_ID] AS [Security_ID], 
    [Project1].[Issued_Amount] AS [Issued_Amount], 
    [Project1].[Market_Capitalisation] AS [Market_Capitalisation], 
    [Project1].[Risk_Premium] AS [Risk_Premium], 
    [Project1].[Exit_Price] AS [Exit_Price], 
    [Project1].[Total_Return_ME_1YR] AS [Total_Return_ME_1YR], 
    [Project1].[Total_Return_ME_2YR] AS [Total_Return_ME_2YR], 
    [Project1].[Total_Return_ME_3YR] AS [Total_Return_ME_3YR], 
    [Project1].[Historic_Distribution] AS [Historic_Distribution], 
    [Project1].[Distribution_Growth_Forecast_Yr1] AS [Distribution_Growth_Forecast_Yr1], 
    [Project1].[Distribution_Growth_Forecast_Yr2] AS [Distribution_Growth_Forecast_Yr2], 
    [Project1].[Distribution_Growth_Forecast_Yr3] AS [Distribution_Growth_Forecast_Yr3], 
    [Project1].[Forecast_Distribution_Yr1] AS [Forecast_Distribution_Yr1], 
    [Project1].[Forecast_Distribution_Yr2] AS [Forecast_Distribution_Yr2], 
    [Project1].[Forecast_Distribution_Yr3] AS [Forecast_Distribution_Yr3], 
    [Project1].[Earnings_Growth_Compounded] AS [Earnings_Growth_Compounded], 
    [Project1].[Earnings_Forecast_Yr3] AS [Earnings_Forecast_Yr3], 
    [Project1].[Historic_Dividend_Yield_FYE] AS [Historic_Dividend_Yield_FYE], 
    [Project1].[Forward_Dividend_Yield_FYE] AS [Forward_Dividend_Yield_FYE], 
    [Project1].[Yr3_Forward_Dividend_Yield] AS [Yr3_Forward_Dividend_Yield], 
    [Project1].[Rolling_12M_Forward_Yield] AS [Rolling_12M_Forward_Yield], 
    [Project1].[Historical_Earnings_FYE] AS [Historical_Earnings_FYE], 
    [Project1].[Earnings_Forecast_Yr1] AS [Earnings_Forecast_Yr1], 
    [Project1].[Earnings_Forecast_Yr2] AS [Earnings_Forecast_Yr2], 
    [Project1].[Historic_Dividend_Yield_Relative] AS [Historic_Dividend_Yield_Relative], 
    [Project1].[Rolling_12M_Historic_Distribution_PriceCurr] AS [Rolling_12M_Historic_Distribution_PriceCurr], 
    [Project1].[Short_Term_Market_Rerate] AS [Short_Term_Market_Rerate], 
    [Project1].[Forecast_12M_Total_Return] AS [Forecast_12M_Total_Return], 
    [Project1].[Clean_Price] AS [Clean_Price], 
    [Project1].[Rolling_Dividend_Yield_Historic] AS [Rolling_Dividend_Yield_Historic], 
    [Project1].[Last_Update_Date] AS [Last_Update_Date], 
    [Project1].[Last_Update_User] AS [Last_Update_User], 
    [Project1].[Discount_Security_ID] AS [Discount_Security_ID], 
    [Project1].[Net_Present_Value] AS [Net_Present_Value], 
    [Project1].[Forecast_Rolling_Custom_Income] AS [Forecast_Rolling_Custom_Income], 
    [Project1].[Custom_Period] AS [Custom_Period], 
    [Project1].[Rolling_12M_Historic_Distribution] AS [Rolling_12M_Historic_Distribution], 
    [Project1].[Record_Date] AS [Record_Date], 
    [Project1].[Session_ID] AS [Session_ID], 
    [Project1].[Hist_Last_Update_Date] AS [Hist_Last_Update_Date], 
    [Project1].[Hist_Last_Update_User] AS [Hist_Last_Update_User], 
    [Project1].[Rolling_12M_Forecast_Distribution] AS [Rolling_12M_Forecast_Distribution], 
    [Project1].[Yr2_Forward_Dividend_Yield] AS [Yr2_Forward_Dividend_Yield], 
    [Project1].[Exit_Yield] AS [Exit_Yield], 
    [Project1].[Discount_Rate] AS [Discount_Rate], 
    [Project1].[Distribution_Growth_Compounded] AS [Distribution_Growth_Compounded], 
    [Project1].[Forecast_12MRolling_Income_Accrual] AS [Forecast_12MRolling_Income_Accrual], 
    [Project1].[Rolling_12_to_24M_Forecast_Distribution] AS [Rolling_12_to_24M_Forecast_Distribution], 
    [Project1].[Rolling_24_to_36M_Forecast_Distribution] AS [Rolling_24_to_36M_Forecast_Distribution], 
    [Project1].[Forecast_Yr1_Dividend_Yield_Relative] AS [Forecast_Yr1_Dividend_Yield_Relative], 
    [Project1].[Market_Historic_Yield] AS [Market_Historic_Yield], 
    [Project1].[Market_Forward_Yield] AS [Market_Forward_Yield], 
    [Project1].[Historic_Distribution_PriceCurr] AS [Historic_Distribution_PriceCurr], 
    [Project1].[Forecast_Distribution_Yr1_PriceCurr] AS [Forecast_Distribution_Yr1_PriceCurr], 
    [Project1].[Forecast_Distribution_Yr2_PriceCurr] AS [Forecast_Distribution_Yr2_PriceCurr], 
    [Project1].[Forecast_Distribution_Yr3_PriceCurr] AS [Forecast_Distribution_Yr3_PriceCurr], 
    [Project1].[Rolling_12M_Forecast_Distribution_PriceCurr] AS [Rolling_12M_Forecast_Distribution_PriceCurr], 
    [Project1].[Rolling_12_24M_Forecast_Distribution_PriceCurr] AS [Rolling_12_24M_Forecast_Distribution_PriceCurr], 
    [Project1].[Rolling_24_36M_Forecast_Distribution_PriceCurr] AS [Rolling_24_36M_Forecast_Distribution_PriceCurr], 
    [Project1].[Distribution_Growth_Forecast_Yr4] AS [Distribution_Growth_Forecast_Yr4], 
    [Project1].[Earnings_Forecast_Yr4] AS [Earnings_Forecast_Yr4], 
    [Project1].[Forecast_Distribution_Yr4] AS [Forecast_Distribution_Yr4], 
    [Project1].[Forecast_Distribution_Yr4_PriceCurr] AS [Forecast_Distribution_Yr4_PriceCurr], 
    [Project1].[Security_ID1] AS [Security_ID1], 
    [Project1].[Entity_ID1] AS [Entity_ID1], 
    [Project1].[Security_Name] AS [Security_Name], 
    [Project1].[Short_Name] AS [Short_Name], 
    [Project1].[Primary_Exch] AS [Primary_Exch], 
    [Project1].[Secondary_Exch] AS [Secondary_Exch], 
    [Project1].[Country_Of_Domicile] AS [Country_Of_Domicile], 
    [Project1].[Country_Of_Risk] AS [Country_Of_Risk], 
    [Project1].[Security_Type_Code] AS [Security_Type_Code], 
    [Project1].[Price_Multiplier] AS [Price_Multiplier], 
    [Project1].[Income_Frequency] AS [Income_Frequency], 
    [Project1].[Issuer_Code] AS [Issuer_Code], 
    [Project1].[Ultimate_Issuer_Code] AS [Ultimate_Issuer_Code], 
    [Project1].[Asset_Currency] AS [Asset_Currency], 
    [Project1].[Min_Lot_Size] AS [Min_Lot_Size], 
    [Project1].[AvePrice_Rounding] AS [AvePrice_Rounding], 
    [Project1].[Issue_Date] AS [Issue_Date], 
    [Project1].[Maturity_Date] AS [Maturity_Date], 
    [Project1].[Coupon_Rate] AS [Coupon_Rate], 
    [Project1].[Price_Exchange] AS [Price_Exchange], 
    [Project1].[Trade_Currency] AS [Trade_Currency], 
    [Project1].[Price_Curr] AS [Price_Curr], 
    [Project1].[Currency_Pair_Code] AS [Currency_Pair_Code], 
    [Project1].[Share_Class] AS [Share_Class], 
    [Project1].[Current_Market_Price] AS [Current_Market_Price], 
    [Project1].[Index_Type] AS [Index_Type], 
    [Project1].[Clean_Price_Formula] AS [Clean_Price_Formula], 
    [Project1].[Accrued_Income_Price_Formula] AS [Accrued_Income_Price_Formula], 
    [Project1].[Odd_First_Coupon_Date] AS [Odd_First_Coupon_Date], 
    [Project1].[Odd_Last_Coupon_Date] AS [Odd_Last_Coupon_Date], 
    [Project1].[Coupon_Anniversary_Indicator] AS [Coupon_Anniversary_Indicator], 
    [Project1].[Track_EOM_Flag] AS [Track_EOM_Flag], 
    [Project1].[Next_Coupon_Date] AS [Next_Coupon_Date], 
    [Project1].[Previous_Coupon_Date] AS [Previous_Coupon_Date], 
    [Project1].[Payment_Frequency] AS [Payment_Frequency], 
    [Project1].[Coupon_BusDay_Adjustment] AS [Coupon_BusDay_Adjustment], 
    [Project1].[Next_Ex_Div_Date] AS [Next_Ex_Div_Date], 
    [Project1].[Ex_Div_BusDay_Adjustment] AS [Ex_Div_BusDay_Adjustment], 
    [Project1].[Ex_Div_Period] AS [Ex_Div_Period], 
    [Project1].[Ticker] AS [Ticker], 
    [Project1].[Inet_ID] AS [Inet_ID], 
    [Project1].[Bloomberg_ID] AS [Bloomberg_ID], 
    [Project1].[External_Sec_ID] AS [External_Sec_ID], 
    [Project1].[Reuters_ID] AS [Reuters_ID], 
    [Project1].[ISIN] AS [ISIN], 
    [Project1].[Call_Account_Flag] AS [Call_Account_Flag], 
    [Project1].[System_Locked] AS [System_Locked], 
    [Project1].[Last_Update_User1] AS [Last_Update_User1], 
    [Project1].[Last_Update_Date1] AS [Last_Update_Date1], 
    [Project1].[Security_Status] AS [Security_Status], 
    [Project1].[Benchmark_Portfolio] AS [Benchmark_Portfolio], 
    [Project1].[Active_flag] AS [Active_flag], 
    [Project1].[Dividend_FX_Security_ID] AS [Dividend_FX_Security_ID]
    FROM ( SELECT 
        [Extent1].[Entity_ID] AS [Entity_ID], 
        [Extent1].[Security_ID] AS [Security_ID], 
        [Extent1].[Issued_Amount] AS [Issued_Amount], 
        [Extent1].[Market_Capitalisation] AS [Market_Capitalisation], 
        [Extent1].[Risk_Premium] AS [Risk_Premium], 
        [Extent1].[Exit_Price] AS [Exit_Price], 
        [Extent1].[Total_Return_ME_1YR] AS [Total_Return_ME_1YR], 
        [Extent1].[Total_Return_ME_2YR] AS [Total_Return_ME_2YR], 
        [Extent1].[Total_Return_ME_3YR] AS [Total_Return_ME_3YR], 
        [Extent1].[Historic_Distribution] AS [Historic_Distribution], 
        [Extent1].[Distribution_Growth_Forecast_Yr1] AS [Distribution_Growth_Forecast_Yr1], 
        [Extent1].[Distribution_Growth_Forecast_Yr2] AS [Distribution_Growth_Forecast_Yr2], 
        [Extent1].[Distribution_Growth_Forecast_Yr3] AS [Distribution_Growth_Forecast_Yr3], 
        [Extent1].[Forecast_Distribution_Yr1] AS [Forecast_Distribution_Yr1], 
        [Extent1].[Forecast_Distribution_Yr2] AS [Forecast_Distribution_Yr2], 
        [Extent1].[Forecast_Distribution_Yr3] AS [Forecast_Distribution_Yr3], 
        [Extent1].[Earnings_Growth_Compounded] AS [Earnings_Growth_Compounded], 
        [Extent1].[Earnings_Forecast_Yr3] AS [Earnings_Forecast_Yr3], 
        [Extent1].[Historic_Dividend_Yield_FYE] AS [Historic_Dividend_Yield_FYE], 
        [Extent1].[Forward_Dividend_Yield_FYE] AS [Forward_Dividend_Yield_FYE], 
        [Extent1].[Yr3_Forward_Dividend_Yield] AS [Yr3_Forward_Dividend_Yield], 
        [Extent1].[Rolling_12M_Forward_Yield] AS [Rolling_12M_Forward_Yield], 
        [Extent1].[Historical_Earnings_FYE] AS [Historical_Earnings_FYE], 
        [Extent1].[Earnings_Forecast_Yr1] AS [Earnings_Forecast_Yr1], 
        [Extent1].[Earnings_Forecast_Yr2] AS [Earnings_Forecast_Yr2], 
        [Extent1].[Historic_Dividend_Yield_Relative] AS [Historic_Dividend_Yield_Relative], 
        [Extent1].[Rolling_12M_Historic_Distribution_PriceCurr] AS [Rolling_12M_Historic_Distribution_PriceCurr], 
        [Extent1].[Short_Term_Market_Rerate] AS [Short_Term_Market_Rerate], 
        [Extent1].[Forecast_12M_Total_Return] AS [Forecast_12M_Total_Return], 
        [Extent1].[Clean_Price] AS [Clean_Price], 
        [Extent1].[Rolling_Dividend_Yield_Historic] AS [Rolling_Dividend_Yield_Historic], 
        [Extent1].[Last_Update_Date] AS [Last_Update_Date], 
        [Extent1].[Last_Update_User] AS [Last_Update_User], 
        [Extent1].[Discount_Security_ID] AS [Discount_Security_ID], 
        [Extent1].[Net_Present_Value] AS [Net_Present_Value], 
        [Extent1].[Forecast_Rolling_Custom_Income] AS [Forecast_Rolling_Custom_Income], 
        [Extent1].[Custom_Period] AS [Custom_Period], 
        [Extent1].[Rolling_12M_Historic_Distribution] AS [Rolling_12M_Historic_Distribution], 
        [Extent1].[Record_Date] AS [Record_Date], 
        [Extent1].[Session_ID] AS [Session_ID], 
        [Extent1].[Hist_Last_Update_Date] AS [Hist_Last_Update_Date], 
        [Extent1].[Hist_Last_Update_User] AS [Hist_Last_Update_User], 
        [Extent1].[Rolling_12M_Forecast_Distribution] AS [Rolling_12M_Forecast_Distribution], 
        [Extent1].[Yr2_Forward_Dividend_Yield] AS [Yr2_Forward_Dividend_Yield], 
        [Extent1].[Exit_Yield] AS [Exit_Yield], 
        [Extent1].[Discount_Rate] AS [Discount_Rate], 
        [Extent1].[Distribution_Growth_Compounded] AS [Distribution_Growth_Compounded], 
        [Extent1].[Forecast_12MRolling_Income_Accrual] AS [Forecast_12MRolling_Income_Accrual], 
        [Extent1].[Rolling_12_to_24M_Forecast_Distribution] AS [Rolling_12_to_24M_Forecast_Distribution], 
        [Extent1].[Rolling_24_to_36M_Forecast_Distribution] AS [Rolling_24_to_36M_Forecast_Distribution], 
        [Extent1].[Forecast_Yr1_Dividend_Yield_Relative] AS [Forecast_Yr1_Dividend_Yield_Relative], 
        [Extent1].[Market_Historic_Yield] AS [Market_Historic_Yield], 
        [Extent1].[Market_Forward_Yield] AS [Market_Forward_Yield], 
        [Extent1].[Historic_Distribution_PriceCurr] AS [Historic_Distribution_PriceCurr], 
        [Extent1].[Forecast_Distribution_Yr1_PriceCurr] AS [Forecast_Distribution_Yr1_PriceCurr], 
        [Extent1].[Forecast_Distribution_Yr2_PriceCurr] AS [Forecast_Distribution_Yr2_PriceCurr], 
        [Extent1].[Forecast_Distribution_Yr3_PriceCurr] AS [Forecast_Distribution_Yr3_PriceCurr], 
        [Extent1].[Rolling_12M_Forecast_Distribution_PriceCurr] AS [Rolling_12M_Forecast_Distribution_PriceCurr], 
        [Extent1].[Rolling_12_24M_Forecast_Distribution_PriceCurr] AS [Rolling_12_24M_Forecast_Distribution_PriceCurr], 
        [Extent1].[Rolling_24_36M_Forecast_Distribution_PriceCurr] AS [Rolling_24_36M_Forecast_Distribution_PriceCurr], 
        [Extent1].[Distribution_Growth_Forecast_Yr4] AS [Distribution_Growth_Forecast_Yr4], 
        [Extent1].[Earnings_Forecast_Yr4] AS [Earnings_Forecast_Yr4], 
        [Extent1].[Forecast_Distribution_Yr4] AS [Forecast_Distribution_Yr4], 
        [Extent1].[Forecast_Distribution_Yr4_PriceCurr] AS [Forecast_Distribution_Yr4_PriceCurr], 
        [Extent2].[Security_ID] AS [Security_ID1], 
        [Extent2].[Entity_ID] AS [Entity_ID1], 
        [Extent2].[Security_Name] AS [Security_Name], 
        [Extent2].[Short_Name] AS [Short_Name], 
        [Extent2].[Primary_Exch] AS [Primary_Exch], 
        [Extent2].[Secondary_Exch] AS [Secondary_Exch], 
        [Extent2].[Country_Of_Domicile] AS [Country_Of_Domicile], 
        [Extent2].[Country_Of_Risk] AS [Country_Of_Risk], 
        [Extent2].[Security_Type_Code] AS [Security_Type_Code], 
        [Extent2].[Price_Multiplier] AS [Price_Multiplier], 
        [Extent2].[Income_Frequency] AS [Income_Frequency], 
        [Extent2].[Issuer_Code] AS [Issuer_Code], 
        [Extent2].[Ultimate_Issuer_Code] AS [Ultimate_Issuer_Code], 
        [Extent2].[Asset_Currency] AS [Asset_Currency], 
        [Extent2].[Min_Lot_Size] AS [Min_Lot_Size], 
        [Extent2].[Decimal_Precision] AS [Decimal_Precision], 
        [Extent2].[AvePrice_Rounding] AS [AvePrice_Rounding], 
        [Extent2].[Issue_Date] AS [Issue_Date], 
        [Extent2].[Maturity_Date] AS [Maturity_Date], 
        [Extent2].[Coupon_Rate] AS [Coupon_Rate], 
        [Extent2].[Price_Exchange] AS [Price_Exchange], 
        [Extent2].[Trade_Currency] AS [Trade_Currency], 
        [Extent2].[Price_Curr] AS [Price_Curr], 
        [Extent2].[Currency_Pair_Code] AS [Currency_Pair_Code], 
        [Extent2].[Share_Class] AS [Share_Class], 
        [Extent2].[Current_Market_Price] AS [Current_Market_Price], 
        [Extent2].[Index_Type] AS [Index_Type], 
        [Extent2].[Clean_Price_Formula] AS [Clean_Price_Formula], 
        [Extent2].[Accrued_Income_Price_Formula] AS [Accrued_Income_Price_Formula], 
        [Extent2].[Odd_First_Coupon_Date] AS [Odd_First_Coupon_Date], 
        [Extent2].[Odd_Last_Coupon_Date] AS [Odd_Last_Coupon_Date], 
        [Extent2].[Coupon_Anniversary_Indicator] AS [Coupon_Anniversary_Indicator], 
        [Extent2].[Track_EOM_Flag] AS [Track_EOM_Flag], 
        [Extent2].[Next_Coupon_Date] AS [Next_Coupon_Date], 
        [Extent2].[Previous_Coupon_Date] AS [Previous_Coupon_Date], 
        [Extent2].[Payment_Frequency] AS [Payment_Frequency], 
        [Extent2].[Coupon_BusDay_Adjustment] AS [Coupon_BusDay_Adjustment], 
        [Extent2].[Next_Ex_Div_Date] AS [Next_Ex_Div_Date], 
        [Extent2].[Ex_Div_BusDay_Adjustment] AS [Ex_Div_BusDay_Adjustment], 
        [Extent2].[Ex_Div_Period] AS [Ex_Div_Period], 
        [Extent2].[Ticker] AS [Ticker], 
        [Extent2].[Inet_ID] AS [Inet_ID], 
        [Extent2].[Bloomberg_ID] AS [Bloomberg_ID], 
        [Extent2].[External_Sec_ID] AS [External_Sec_ID], 
        [Extent2].[Reuters_ID] AS [Reuters_ID], 
        [Extent2].[ISIN] AS [ISIN], 
        [Extent2].[Call_Account_Flag] AS [Call_Account_Flag], 
        [Extent2].[System_Locked] AS [System_Locked], 
        [Extent2].[Last_Update_User] AS [Last_Update_User1], 
        [Extent2].[Last_Update_Date] AS [Last_Update_Date1], 
        [Extent2].[Security_Status] AS [Security_Status], 
        [Extent2].[Benchmark_Portfolio] AS [Benchmark_Portfolio], 
        [Extent2].[Active_flag] AS [Active_flag], 
        [Extent2].[Dividend_FX_Security_ID] AS [Dividend_FX_Security_ID]
        FROM  [dbo].[Security_Analytics_History] AS [Extent1]
        INNER JOIN [dbo].[Security_Detail] AS [Extent2] ON [Extent1].[Security_ID] = [Extent2].[Security_ID]
        WHERE [Extent1].[Security_ID] = @p__linq__0
    )  AS [Project1]
    ORDER BY [Project1].[Record_Date] DESC
2018-04-11 08:31:51.3424|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: SELECT 
    [Project1].[Decimal_Precision] AS [Decimal_Precision], 
    [Project1].[Entity_ID] AS [Entity_ID], 
    [Project1].[Security_ID] AS [Security_ID], 
    [Project1].[Issued_Amount] AS [Issued_Amount], 
    [Project1].[Market_Capitalisation] AS [Market_Capitalisation], 
    [Project1].[Risk_Premium] AS [Risk_Premium], 
    [Project1].[Exit_Price] AS [Exit_Price], 
    [Project1].[Total_Return_ME_1YR] AS [Total_Return_ME_1YR], 
    [Project1].[Total_Return_ME_2YR] AS [Total_Return_ME_2YR], 
    [Project1].[Total_Return_ME_3YR] AS [Total_Return_ME_3YR], 
    [Project1].[Historic_Distribution] AS [Historic_Distribution], 
    [Project1].[Distribution_Growth_Forecast_Yr1] AS [Distribution_Growth_Forecast_Yr1], 
    [Project1].[Distribution_Growth_Forecast_Yr2] AS [Distribution_Growth_Forecast_Yr2], 
    [Project1].[Distribution_Growth_Forecast_Yr3] AS [Distribution_Growth_Forecast_Yr3], 
    [Project1].[Forecast_Distribution_Yr1] AS [Forecast_Distribution_Yr1], 
    [Project1].[Forecast_Distribution_Yr2] AS [Forecast_Distribution_Yr2], 
    [Project1].[Forecast_Distribution_Yr3] AS [Forecast_Distribution_Yr3], 
    [Project1].[Earnings_Growth_Compounded] AS [Earnings_Growth_Compounded], 
    [Project1].[Earnings_Forecast_Yr3] AS [Earnings_Forecast_Yr3], 
    [Project1].[Historic_Dividend_Yield_FYE] AS [Historic_Dividend_Yield_FYE], 
    [Project1].[Forward_Dividend_Yield_FYE] AS [Forward_Dividend_Yield_FYE], 
    [Project1].[Yr3_Forward_Dividend_Yield] AS [Yr3_Forward_Dividend_Yield], 
    [Project1].[Rolling_12M_Forward_Yield] AS [Rolling_12M_Forward_Yield], 
    [Project1].[Historical_Earnings_FYE] AS [Historical_Earnings_FYE], 
    [Project1].[Earnings_Forecast_Yr1] AS [Earnings_Forecast_Yr1], 
    [Project1].[Earnings_Forecast_Yr2] AS [Earnings_Forecast_Yr2], 
    [Project1].[Historic_Dividend_Yield_Relative] AS [Historic_Dividend_Yield_Relative], 
    [Project1].[Rolling_12M_Historic_Distribution_PriceCurr] AS [Rolling_12M_Historic_Distribution_PriceCurr], 
    [Project1].[Short_Term_Market_Rerate] AS [Short_Term_Market_Rerate], 
    [Project1].[Forecast_12M_Total_Return] AS [Forecast_12M_Total_Return], 
    [Project1].[Clean_Price] AS [Clean_Price], 
    [Project1].[Rolling_Dividend_Yield_Historic] AS [Rolling_Dividend_Yield_Historic], 
    [Project1].[Last_Update_Date] AS [Last_Update_Date], 
    [Project1].[Last_Update_User] AS [Last_Update_User], 
    [Project1].[Discount_Security_ID] AS [Discount_Security_ID], 
    [Project1].[Net_Present_Value] AS [Net_Present_Value], 
    [Project1].[Forecast_Rolling_Custom_Income] AS [Forecast_Rolling_Custom_Income], 
    [Project1].[Custom_Period] AS [Custom_Period], 
    [Project1].[Rolling_12M_Historic_Distribution] AS [Rolling_12M_Historic_Distribution], 
    [Project1].[Record_Date] AS [Record_Date], 
    [Project1].[Session_ID] AS [Session_ID], 
    [Project1].[Hist_Last_Update_Date] AS [Hist_Last_Update_Date], 
    [Project1].[Hist_Last_Update_User] AS [Hist_Last_Update_User], 
    [Project1].[Rolling_12M_Forecast_Distribution] AS [Rolling_12M_Forecast_Distribution], 
    [Project1].[Yr2_Forward_Dividend_Yield] AS [Yr2_Forward_Dividend_Yield], 
    [Project1].[Exit_Yield] AS [Exit_Yield], 
    [Project1].[Discount_Rate] AS [Discount_Rate], 
    [Project1].[Distribution_Growth_Compounded] AS [Distribution_Growth_Compounded], 
    [Project1].[Forecast_12MRolling_Income_Accrual] AS [Forecast_12MRolling_Income_Accrual], 
    [Project1].[Rolling_12_to_24M_Forecast_Distribution] AS [Rolling_12_to_24M_Forecast_Distribution], 
    [Project1].[Rolling_24_to_36M_Forecast_Distribution] AS [Rolling_24_to_36M_Forecast_Distribution], 
    [Project1].[Forecast_Yr1_Dividend_Yield_Relative] AS [Forecast_Yr1_Dividend_Yield_Relative], 
    [Project1].[Market_Historic_Yield] AS [Market_Historic_Yield], 
    [Project1].[Market_Forward_Yield] AS [Market_Forward_Yield], 
    [Project1].[Historic_Distribution_PriceCurr] AS [Historic_Distribution_PriceCurr], 
    [Project1].[Forecast_Distribution_Yr1_PriceCurr] AS [Forecast_Distribution_Yr1_PriceCurr], 
    [Project1].[Forecast_Distribution_Yr2_PriceCurr] AS [Forecast_Distribution_Yr2_PriceCurr], 
    [Project1].[Forecast_Distribution_Yr3_PriceCurr] AS [Forecast_Distribution_Yr3_PriceCurr], 
    [Project1].[Rolling_12M_Forecast_Distribution_PriceCurr] AS [Rolling_12M_Forecast_Distribution_PriceCurr], 
    [Project1].[Rolling_12_24M_Forecast_Distribution_PriceCurr] AS [Rolling_12_24M_Forecast_Distribution_PriceCurr], 
    [Project1].[Rolling_24_36M_Forecast_Distribution_PriceCurr] AS [Rolling_24_36M_Forecast_Distribution_PriceCurr], 
    [Project1].[Distribution_Growth_Forecast_Yr4] AS [Distribution_Growth_Forecast_Yr4], 
    [Project1].[Earnings_Forecast_Yr4] AS [Earnings_Forecast_Yr4], 
    [Project1].[Forecast_Distribution_Yr4] AS [Forecast_Distribution_Yr4], 
    [Project1].[Forecast_Distribution_Yr4_PriceCurr] AS [Forecast_Distribution_Yr4_PriceCurr], 
    [Project1].[Security_ID1] AS [Security_ID1], 
    [Project1].[Entity_ID1] AS [Entity_ID1], 
    [Project1].[Security_Name] AS [Security_Name], 
    [Project1].[Short_Name] AS [Short_Name], 
    [Project1].[Primary_Exch] AS [Primary_Exch], 
    [Project1].[Secondary_Exch] AS [Secondary_Exch], 
    [Project1].[Country_Of_Domicile] AS [Country_Of_Domicile], 
    [Project1].[Country_Of_Risk] AS [Country_Of_Risk], 
    [Project1].[Security_Type_Code] AS [Security_Type_Code], 
    [Project1].[Price_Multiplier] AS [Price_Multiplier], 
    [Project1].[Income_Frequency] AS [Income_Frequency], 
    [Project1].[Issuer_Code] AS [Issuer_Code], 
    [Project1].[Ultimate_Issuer_Code] AS [Ultimate_Issuer_Code], 
    [Project1].[Asset_Currency] AS [Asset_Currency], 
    [Project1].[Min_Lot_Size] AS [Min_Lot_Size], 
    [Project1].[AvePrice_Rounding] AS [AvePrice_Rounding], 
    [Project1].[Issue_Date] AS [Issue_Date], 
    [Project1].[Maturity_Date] AS [Maturity_Date], 
    [Project1].[Coupon_Rate] AS [Coupon_Rate], 
    [Project1].[Price_Exchange] AS [Price_Exchange], 
    [Project1].[Trade_Currency] AS [Trade_Currency], 
    [Project1].[Price_Curr] AS [Price_Curr], 
    [Project1].[Currency_Pair_Code] AS [Currency_Pair_Code], 
    [Project1].[Share_Class] AS [Share_Class], 
    [Project1].[Current_Market_Price] AS [Current_Market_Price], 
    [Project1].[Index_Type] AS [Index_Type], 
    [Project1].[Clean_Price_Formula] AS [Clean_Price_Formula], 
    [Project1].[Accrued_Income_Price_Formula] AS [Accrued_Income_Price_Formula], 
    [Project1].[Odd_First_Coupon_Date] AS [Odd_First_Coupon_Date], 
    [Project1].[Odd_Last_Coupon_Date] AS [Odd_Last_Coupon_Date], 
    [Project1].[Coupon_Anniversary_Indicator] AS [Coupon_Anniversary_Indicator], 
    [Project1].[Track_EOM_Flag] AS [Track_EOM_Flag], 
    [Project1].[Next_Coupon_Date] AS [Next_Coupon_Date], 
    [Project1].[Previous_Coupon_Date] AS [Previous_Coupon_Date], 
    [Project1].[Payment_Frequency] AS [Payment_Frequency], 
    [Project1].[Coupon_BusDay_Adjustment] AS [Coupon_BusDay_Adjustment], 
    [Project1].[Next_Ex_Div_Date] AS [Next_Ex_Div_Date], 
    [Project1].[Ex_Div_BusDay_Adjustment] AS [Ex_Div_BusDay_Adjustment], 
    [Project1].[Ex_Div_Period] AS [Ex_Div_Period], 
    [Project1].[Ticker] AS [Ticker], 
    [Project1].[Inet_ID] AS [Inet_ID], 
    [Project1].[Bloomberg_ID] AS [Bloomberg_ID], 
    [Project1].[External_Sec_ID] AS [External_Sec_ID], 
    [Project1].[Reuters_ID] AS [Reuters_ID], 
    [Project1].[ISIN] AS [ISIN], 
    [Project1].[Call_Account_Flag] AS [Call_Account_Flag], 
    [Project1].[System_Locked] AS [System_Locked], 
    [Project1].[Last_Update_User1] AS [Last_Update_User1], 
    [Project1].[Last_Update_Date1] AS [Last_Update_Date1], 
    [Project1].[Security_Status] AS [Security_Status], 
    [Project1].[Benchmark_Portfolio] AS [Benchmark_Portfolio], 
    [Project1].[Active_flag] AS [Active_flag], 
    [Project1].[Dividend_FX_Security_ID] AS [Dividend_FX_Security_ID]
    FROM ( SELECT 
        [Extent1].[Entity_ID] AS [Entity_ID], 
        [Extent1].[Security_ID] AS [Security_ID], 
        [Extent1].[Issued_Amount] AS [Issued_Amount], 
        [Extent1].[Market_Capitalisation] AS [Market_Capitalisation], 
        [Extent1].[Risk_Premium] AS [Risk_Premium], 
        [Extent1].[Exit_Price] AS [Exit_Price], 
        [Extent1].[Total_Return_ME_1YR] AS [Total_Return_ME_1YR], 
        [Extent1].[Total_Return_ME_2YR] AS [Total_Return_ME_2YR], 
        [Extent1].[Total_Return_ME_3YR] AS [Total_Return_ME_3YR], 
        [Extent1].[Historic_Distribution] AS [Historic_Distribution], 
        [Extent1].[Distribution_Growth_Forecast_Yr1] AS [Distribution_Growth_Forecast_Yr1], 
        [Extent1].[Distribution_Growth_Forecast_Yr2] AS [Distribution_Growth_Forecast_Yr2], 
        [Extent1].[Distribution_Growth_Forecast_Yr3] AS [Distribution_Growth_Forecast_Yr3], 
        [Extent1].[Forecast_Distribution_Yr1] AS [Forecast_Distribution_Yr1], 
        [Extent1].[Forecast_Distribution_Yr2] AS [Forecast_Distribution_Yr2], 
        [Extent1].[Forecast_Distribution_Yr3] AS [Forecast_Distribution_Yr3], 
        [Extent1].[Earnings_Growth_Compounded] AS [Earnings_Growth_Compounded], 
        [Extent1].[Earnings_Forecast_Yr3] AS [Earnings_Forecast_Yr3], 
        [Extent1].[Historic_Dividend_Yield_FYE] AS [Historic_Dividend_Yield_FYE], 
        [Extent1].[Forward_Dividend_Yield_FYE] AS [Forward_Dividend_Yield_FYE], 
        [Extent1].[Yr3_Forward_Dividend_Yield] AS [Yr3_Forward_Dividend_Yield], 
        [Extent1].[Rolling_12M_Forward_Yield] AS [Rolling_12M_Forward_Yield], 
        [Extent1].[Historical_Earnings_FYE] AS [Historical_Earnings_FYE], 
        [Extent1].[Earnings_Forecast_Yr1] AS [Earnings_Forecast_Yr1], 
        [Extent1].[Earnings_Forecast_Yr2] AS [Earnings_Forecast_Yr2], 
        [Extent1].[Historic_Dividend_Yield_Relative] AS [Historic_Dividend_Yield_Relative], 
        [Extent1].[Rolling_12M_Historic_Distribution_PriceCurr] AS [Rolling_12M_Historic_Distribution_PriceCurr], 
        [Extent1].[Short_Term_Market_Rerate] AS [Short_Term_Market_Rerate], 
        [Extent1].[Forecast_12M_Total_Return] AS [Forecast_12M_Total_Return], 
        [Extent1].[Clean_Price] AS [Clean_Price], 
        [Extent1].[Rolling_Dividend_Yield_Historic] AS [Rolling_Dividend_Yield_Historic], 
        [Extent1].[Last_Update_Date] AS [Last_Update_Date], 
        [Extent1].[Last_Update_User] AS [Last_Update_User], 
        [Extent1].[Discount_Security_ID] AS [Discount_Security_ID], 
        [Extent1].[Net_Present_Value] AS [Net_Present_Value], 
        [Extent1].[Forecast_Rolling_Custom_Income] AS [Forecast_Rolling_Custom_Income], 
        [Extent1].[Custom_Period] AS [Custom_Period], 
        [Extent1].[Rolling_12M_Historic_Distribution] AS [Rolling_12M_Historic_Distribution], 
        [Extent1].[Record_Date] AS [Record_Date], 
        [Extent1].[Session_ID] AS [Session_ID], 
        [Extent1].[Hist_Last_Update_Date] AS [Hist_Last_Update_Date], 
        [Extent1].[Hist_Last_Update_User] AS [Hist_Last_Update_User], 
        [Extent1].[Rolling_12M_Forecast_Distribution] AS [Rolling_12M_Forecast_Distribution], 
        [Extent1].[Yr2_Forward_Dividend_Yield] AS [Yr2_Forward_Dividend_Yield], 
        [Extent1].[Exit_Yield] AS [Exit_Yield], 
        [Extent1].[Discount_Rate] AS [Discount_Rate], 
        [Extent1].[Distribution_Growth_Compounded] AS [Distribution_Growth_Compounded], 
        [Extent1].[Forecast_12MRolling_Income_Accrual] AS [Forecast_12MRolling_Income_Accrual], 
        [Extent1].[Rolling_12_to_24M_Forecast_Distribution] AS [Rolling_12_to_24M_Forecast_Distribution], 
        [Extent1].[Rolling_24_to_36M_Forecast_Distribution] AS [Rolling_24_to_36M_Forecast_Distribution], 
        [Extent1].[Forecast_Yr1_Dividend_Yield_Relative] AS [Forecast_Yr1_Dividend_Yield_Relative], 
        [Extent1].[Market_Historic_Yield] AS [Market_Historic_Yield], 
        [Extent1].[Market_Forward_Yield] AS [Market_Forward_Yield], 
        [Extent1].[Historic_Distribution_PriceCurr] AS [Historic_Distribution_PriceCurr], 
        [Extent1].[Forecast_Distribution_Yr1_PriceCurr] AS [Forecast_Distribution_Yr1_PriceCurr], 
        [Extent1].[Forecast_Distribution_Yr2_PriceCurr] AS [Forecast_Distribution_Yr2_PriceCurr], 
        [Extent1].[Forecast_Distribution_Yr3_PriceCurr] AS [Forecast_Distribution_Yr3_PriceCurr], 
        [Extent1].[Rolling_12M_Forecast_Distribution_PriceCurr] AS [Rolling_12M_Forecast_Distribution_PriceCurr], 
        [Extent1].[Rolling_12_24M_Forecast_Distribution_PriceCurr] AS [Rolling_12_24M_Forecast_Distribution_PriceCurr], 
        [Extent1].[Rolling_24_36M_Forecast_Distribution_PriceCurr] AS [Rolling_24_36M_Forecast_Distribution_PriceCurr], 
        [Extent1].[Distribution_Growth_Forecast_Yr4] AS [Distribution_Growth_Forecast_Yr4], 
        [Extent1].[Earnings_Forecast_Yr4] AS [Earnings_Forecast_Yr4], 
        [Extent1].[Forecast_Distribution_Yr4] AS [Forecast_Distribution_Yr4], 
        [Extent1].[Forecast_Distribution_Yr4_PriceCurr] AS [Forecast_Distribution_Yr4_PriceCurr], 
        [Extent2].[Security_ID] AS [Security_ID1], 
        [Extent2].[Entity_ID] AS [Entity_ID1], 
        [Extent2].[Security_Name] AS [Security_Name], 
        [Extent2].[Short_Name] AS [Short_Name], 
        [Extent2].[Primary_Exch] AS [Primary_Exch], 
        [Extent2].[Secondary_Exch] AS [Secondary_Exch], 
        [Extent2].[Country_Of_Domicile] AS [Country_Of_Domicile], 
        [Extent2].[Country_Of_Risk] AS [Country_Of_Risk], 
        [Extent2].[Security_Type_Code] AS [Security_Type_Code], 
        [Extent2].[Price_Multiplier] AS [Price_Multiplier], 
        [Extent2].[Income_Frequency] AS [Income_Frequency], 
        [Extent2].[Issuer_Code] AS [Issuer_Code], 
        [Extent2].[Ultimate_Issuer_Code] AS [Ultimate_Issuer_Code], 
        [Extent2].[Asset_Currency] AS [Asset_Currency], 
        [Extent2].[Min_Lot_Size] AS [Min_Lot_Size], 
        [Extent2].[Decimal_Precision] AS [Decimal_Precision], 
        [Extent2].[AvePrice_Rounding] AS [AvePrice_Rounding], 
        [Extent2].[Issue_Date] AS [Issue_Date], 
        [Extent2].[Maturity_Date] AS [Maturity_Date], 
        [Extent2].[Coupon_Rate] AS [Coupon_Rate], 
        [Extent2].[Price_Exchange] AS [Price_Exchange], 
        [Extent2].[Trade_Currency] AS [Trade_Currency], 
        [Extent2].[Price_Curr] AS [Price_Curr], 
        [Extent2].[Currency_Pair_Code] AS [Currency_Pair_Code], 
        [Extent2].[Share_Class] AS [Share_Class], 
        [Extent2].[Current_Market_Price] AS [Current_Market_Price], 
        [Extent2].[Index_Type] AS [Index_Type], 
        [Extent2].[Clean_Price_Formula] AS [Clean_Price_Formula], 
        [Extent2].[Accrued_Income_Price_Formula] AS [Accrued_Income_Price_Formula], 
        [Extent2].[Odd_First_Coupon_Date] AS [Odd_First_Coupon_Date], 
        [Extent2].[Odd_Last_Coupon_Date] AS [Odd_Last_Coupon_Date], 
        [Extent2].[Coupon_Anniversary_Indicator] AS [Coupon_Anniversary_Indicator], 
        [Extent2].[Track_EOM_Flag] AS [Track_EOM_Flag], 
        [Extent2].[Next_Coupon_Date] AS [Next_Coupon_Date], 
        [Extent2].[Previous_Coupon_Date] AS [Previous_Coupon_Date], 
        [Extent2].[Payment_Frequency] AS [Payment_Frequency], 
        [Extent2].[Coupon_BusDay_Adjustment] AS [Coupon_BusDay_Adjustment], 
        [Extent2].[Next_Ex_Div_Date] AS [Next_Ex_Div_Date], 
        [Extent2].[Ex_Div_BusDay_Adjustment] AS [Ex_Div_BusDay_Adjustment], 
        [Extent2].[Ex_Div_Period] AS [Ex_Div_Period], 
        [Extent2].[Ticker] AS [Ticker], 
        [Extent2].[Inet_ID] AS [Inet_ID], 
        [Extent2].[Bloomberg_ID] AS [Bloomberg_ID], 
        [Extent2].[External_Sec_ID] AS [External_Sec_ID], 
        [Extent2].[Reuters_ID] AS [Reuters_ID], 
        [Extent2].[ISIN] AS [ISIN], 
        [Extent2].[Call_Account_Flag] AS [Call_Account_Flag], 
        [Extent2].[System_Locked] AS [System_Locked], 
        [Extent2].[Last_Update_User] AS [Last_Update_User1], 
        [Extent2].[Last_Update_Date] AS [Last_Update_Date1], 
        [Extent2].[Security_Status] AS [Security_Status], 
        [Extent2].[Benchmark_Portfolio] AS [Benchmark_Portfolio], 
        [Extent2].[Active_flag] AS [Active_flag], 
        [Extent2].[Dividend_FX_Security_ID] AS [Dividend_FX_Security_ID]
        FROM  [dbo].[Security_Analytics_History] AS [Extent1]
        INNER JOIN [dbo].[Security_Detail] AS [Extent2] ON [Extent1].[Security_ID] = [Extent2].[Security_ID]
        WHERE [Extent1].[Security_ID] = @p__linq__0
    )  AS [Project1]
    ORDER BY [Project1].[Record_Date] DESC
2018-04-11 08:31:51.4259|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: IF db_id(N'MetopeAzureDb') IS NOT NULL SELECT 1 ELSE SELECT Count(*) FROM sys.databases WHERE [name]=N'MetopeAzureDb'
2018-04-11 08:31:51.4584|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: IF db_id(N'MetopeAzureDb') IS NOT NULL SELECT 1 ELSE SELECT Count(*) FROM sys.databases WHERE [name]=N'MetopeAzureDb'
2018-04-11 08:31:51.4885|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: IF db_id(N'MetopeAzureDb') IS NOT NULL SELECT 1 ELSE SELECT Count(*) FROM sys.databases WHERE [name]=N'MetopeAzureDb'
2018-04-11 08:31:51.5180|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: IF db_id(N'MetopeAzureDb') IS NOT NULL SELECT 1 ELSE SELECT Count(*) FROM sys.databases WHERE [name]=N'MetopeAzureDb'
2018-04-11 09:03:49.8504|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: SELECT TOP (1) 
    [Project1].[C1] AS [C1], 
    [Project1].[Entity_ID] AS [Entity_ID], 
    [Project1].[Security_ID] AS [Security_ID], 
    [Project1].[Portfolio_Code] AS [Portfolio_Code], 
    [Project1].[ModDietz_Performance_Quarterly] AS [ModDietz_Performance_Quarterly], 
    [Project1].[ModDietz_Performance_Monthly] AS [ModDietz_Performance_Monthly], 
    [Project1].[ModDietz_Performance_MonthToDate] AS [ModDietz_Performance_MonthToDate], 
    [Project1].[Ticker] AS [Ticker]
    FROM ( SELECT 
        [Extent1].[Security_ID] AS [Security_ID], 
        [Extent1].[Portfolio_Code] AS [Portfolio_Code], 
        [Extent1].[Entity_ID] AS [Entity_ID], 
        [Extent1].[ModDietz_Performance_Quarterly] AS [ModDietz_Performance_Quarterly], 
        [Extent1].[ModDietz_Performance_Monthly] AS [ModDietz_Performance_Monthly], 
        [Extent1].[ModDietz_Performance_MonthToDate] AS [ModDietz_Performance_MonthToDate], 
        [Extent2].[Ticker] AS [Ticker], 
        1 AS [C1]
        FROM  [dbo].[Security_Performance] AS [Extent1]
        INNER JOIN [dbo].[Security_Detail] AS [Extent2] ON [Extent1].[Security_ID] = [Extent2].[Security_ID]
        WHERE ([Extent1].[Entity_ID] = @p__linq__0) AND ([Extent1].[Portfolio_Code] = @p__linq__1) AND ([Extent1].[Entity_ID] = @p__linq__2)
    )  AS [Project1]
    ORDER BY [Project1].[Security_ID] ASC
2018-04-11 09:03:50.0575|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: SELECT TOP (1) 
    [Project1].[C1] AS [C1], 
    [Project1].[Entity_ID] AS [Entity_ID], 
    [Project1].[Security_ID] AS [Security_ID], 
    [Project1].[Portfolio_Code] AS [Portfolio_Code], 
    [Project1].[ModDietz_Performance_Quarterly] AS [ModDietz_Performance_Quarterly], 
    [Project1].[ModDietz_Performance_Monthly] AS [ModDietz_Performance_Monthly], 
    [Project1].[ModDietz_Performance_MonthToDate] AS [ModDietz_Performance_MonthToDate], 
    [Project1].[Ticker] AS [Ticker]
    FROM ( SELECT 
        [Extent1].[Security_ID] AS [Security_ID], 
        [Extent1].[Portfolio_Code] AS [Portfolio_Code], 
        [Extent1].[Entity_ID] AS [Entity_ID], 
        [Extent1].[ModDietz_Performance_Quarterly] AS [ModDietz_Performance_Quarterly], 
        [Extent1].[ModDietz_Performance_Monthly] AS [ModDietz_Performance_Monthly], 
        [Extent1].[ModDietz_Performance_MonthToDate] AS [ModDietz_Performance_MonthToDate], 
        [Extent2].[Ticker] AS [Ticker], 
        1 AS [C1]
        FROM  [dbo].[Security_Performance] AS [Extent1]
        INNER JOIN [dbo].[Security_Detail] AS [Extent2] ON [Extent1].[Security_ID] = [Extent2].[Security_ID]
        WHERE ([Extent1].[Entity_ID] = @p__linq__0) AND ([Extent1].[Portfolio_Code] = @p__linq__1) AND ([Extent1].[Entity_ID] = @p__linq__2)
    )  AS [Project1]
    ORDER BY [Project1].[Security_ID] ASC
2018-04-11 09:03:50.0851|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: SELECT 
    [Project1].[C1] AS [C1], 
    [Project1].[Entity_ID] AS [Entity_ID], 
    [Project1].[Security_ID] AS [Security_ID], 
    [Project1].[Portfolio_Code] AS [Portfolio_Code], 
    [Project1].[ModDietz_Performance_Quarterly] AS [ModDietz_Performance_Quarterly], 
    [Project1].[ModDietz_Performance_Monthly] AS [ModDietz_Performance_Monthly], 
    [Project1].[ModDietz_Performance_MonthToDate] AS [ModDietz_Performance_MonthToDate], 
    [Project1].[Ticker] AS [Ticker]
    FROM ( SELECT 
        [Extent1].[Security_ID] AS [Security_ID], 
        [Extent1].[Portfolio_Code] AS [Portfolio_Code], 
        [Extent1].[Entity_ID] AS [Entity_ID], 
        [Extent1].[ModDietz_Performance_Quarterly] AS [ModDietz_Performance_Quarterly], 
        [Extent1].[ModDietz_Performance_Monthly] AS [ModDietz_Performance_Monthly], 
        [Extent1].[ModDietz_Performance_MonthToDate] AS [ModDietz_Performance_MonthToDate], 
        [Extent2].[Ticker] AS [Ticker], 
        1 AS [C1]
        FROM  [dbo].[Security_Performance] AS [Extent1]
        INNER JOIN [dbo].[Security_Detail] AS [Extent2] ON [Extent1].[Security_ID] = [Extent2].[Security_ID]
        WHERE ([Extent1].[Entity_ID] = @p__linq__0) AND ([Extent1].[Portfolio_Code] = @p__linq__1) AND ([Extent1].[Entity_ID] = @p__linq__2)
    )  AS [Project1]
    ORDER BY [Project1].[Security_ID] ASC
2018-04-11 09:03:50.2091|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: SELECT 
    [Project1].[C1] AS [C1], 
    [Project1].[Entity_ID] AS [Entity_ID], 
    [Project1].[Security_ID] AS [Security_ID], 
    [Project1].[Portfolio_Code] AS [Portfolio_Code], 
    [Project1].[ModDietz_Performance_Quarterly] AS [ModDietz_Performance_Quarterly], 
    [Project1].[ModDietz_Performance_Monthly] AS [ModDietz_Performance_Monthly], 
    [Project1].[ModDietz_Performance_MonthToDate] AS [ModDietz_Performance_MonthToDate], 
    [Project1].[Ticker] AS [Ticker]
    FROM ( SELECT 
        [Extent1].[Security_ID] AS [Security_ID], 
        [Extent1].[Portfolio_Code] AS [Portfolio_Code], 
        [Extent1].[Entity_ID] AS [Entity_ID], 
        [Extent1].[ModDietz_Performance_Quarterly] AS [ModDietz_Performance_Quarterly], 
        [Extent1].[ModDietz_Performance_Monthly] AS [ModDietz_Performance_Monthly], 
        [Extent1].[ModDietz_Performance_MonthToDate] AS [ModDietz_Performance_MonthToDate], 
        [Extent2].[Ticker] AS [Ticker], 
        1 AS [C1]
        FROM  [dbo].[Security_Performance] AS [Extent1]
        INNER JOIN [dbo].[Security_Detail] AS [Extent2] ON [Extent1].[Security_ID] = [Extent2].[Security_ID]
        WHERE ([Extent1].[Entity_ID] = @p__linq__0) AND ([Extent1].[Portfolio_Code] = @p__linq__1) AND ([Extent1].[Entity_ID] = @p__linq__2)
    )  AS [Project1]
    ORDER BY [Project1].[Security_ID] ASC
2018-04-11 09:03:50.3062|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: IF db_id(N'MetopeAzureDb') IS NOT NULL SELECT 1 ELSE SELECT Count(*) FROM sys.databases WHERE [name]=N'MetopeAzureDb'
2018-04-11 09:03:50.5469|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: IF db_id(N'MetopeAzureDb') IS NOT NULL SELECT 1 ELSE SELECT Count(*) FROM sys.databases WHERE [name]=N'MetopeAzureDb'
2018-04-11 09:03:50.7105|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: IF db_id(N'MetopeAzureDb') IS NOT NULL SELECT 1 ELSE SELECT Count(*) FROM sys.databases WHERE [name]=N'MetopeAzureDb'
2018-04-11 09:03:50.7540|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: IF db_id(N'MetopeAzureDb') IS NOT NULL SELECT 1 ELSE SELECT Count(*) FROM sys.databases WHERE [name]=N'MetopeAzureDb'
2018-04-11 09:03:50.8116|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: True, Command Text: SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[EntityIdScope] AS [EntityIdScope], 
    [Extent1].[Email] AS [Email], 
    [Extent1].[EmailConfirmed] AS [EmailConfirmed], 
    [Extent1].[PasswordHash] AS [PasswordHash], 
    [Extent1].[SecurityStamp] AS [SecurityStamp], 
    [Extent1].[PhoneNumber] AS [PhoneNumber], 
    [Extent1].[PhoneNumberConfirmed] AS [PhoneNumberConfirmed], 
    [Extent1].[TwoFactorEnabled] AS [TwoFactorEnabled], 
    [Extent1].[LockoutEndDateUtc] AS [LockoutEndDateUtc], 
    [Extent1].[LockoutEnabled] AS [LockoutEnabled], 
    [Extent1].[AccessFailedCount] AS [AccessFailedCount], 
    [Extent1].[UserName] AS [UserName]
    FROM [dbo].[AspNetUsers] AS [Extent1]
    WHERE [Extent1].[Id] = @p0
2018-04-11 09:03:51.0092|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: True, Command Text: SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[EntityIdScope] AS [EntityIdScope], 
    [Extent1].[Email] AS [Email], 
    [Extent1].[EmailConfirmed] AS [EmailConfirmed], 
    [Extent1].[PasswordHash] AS [PasswordHash], 
    [Extent1].[SecurityStamp] AS [SecurityStamp], 
    [Extent1].[PhoneNumber] AS [PhoneNumber], 
    [Extent1].[PhoneNumberConfirmed] AS [PhoneNumberConfirmed], 
    [Extent1].[TwoFactorEnabled] AS [TwoFactorEnabled], 
    [Extent1].[LockoutEndDateUtc] AS [LockoutEndDateUtc], 
    [Extent1].[LockoutEnabled] AS [LockoutEnabled], 
    [Extent1].[AccessFailedCount] AS [AccessFailedCount], 
    [Extent1].[UserName] AS [UserName]
    FROM [dbo].[AspNetUsers] AS [Extent1]
    WHERE [Extent1].[Id] = @p0
2018-04-11 09:03:51.0407|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: True, Command Text: SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[UserId] AS [UserId], 
    [Extent1].[ClaimType] AS [ClaimType], 
    [Extent1].[ClaimValue] AS [ClaimValue]
    FROM [dbo].[AspNetUserClaims] AS [Extent1]
    WHERE [Extent1].[UserId] = @p__linq__0
2018-04-11 09:03:51.1148|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: True, Command Text: SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[UserId] AS [UserId], 
    [Extent1].[ClaimType] AS [ClaimType], 
    [Extent1].[ClaimValue] AS [ClaimValue]
    FROM [dbo].[AspNetUserClaims] AS [Extent1]
    WHERE [Extent1].[UserId] = @p__linq__0
2018-04-11 09:03:51.1458|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: True, Command Text: SELECT 
    [Extent1].[LoginProvider] AS [LoginProvider], 
    [Extent1].[ProviderKey] AS [ProviderKey], 
    [Extent1].[UserId] AS [UserId]
    FROM [dbo].[AspNetUserLogins] AS [Extent1]
    WHERE [Extent1].[UserId] = @p__linq__0
2018-04-11 09:03:51.2014|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: True, Command Text: SELECT 
    [Extent1].[LoginProvider] AS [LoginProvider], 
    [Extent1].[ProviderKey] AS [ProviderKey], 
    [Extent1].[UserId] AS [UserId]
    FROM [dbo].[AspNetUserLogins] AS [Extent1]
    WHERE [Extent1].[UserId] = @p__linq__0
2018-04-11 09:03:51.2444|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: True, Command Text: SELECT 
    [Extent1].[UserId] AS [UserId], 
    [Extent1].[RoleId] AS [RoleId]
    FROM [dbo].[AspNetUserRoles] AS [Extent1]
    WHERE [Extent1].[UserId] = @p__linq__0
2018-04-11 09:03:51.2854|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: True, Command Text: SELECT 
    [Extent1].[UserId] AS [UserId], 
    [Extent1].[RoleId] AS [RoleId]
    FROM [dbo].[AspNetUserRoles] AS [Extent1]
    WHERE [Extent1].[UserId] = @p__linq__0
2018-04-11 09:03:51.3149|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: SELECT TOP (2) 
    [Extent1].[Entity_ID] AS [Entity_ID], 
    [Extent1].[Entity_Code] AS [Entity_Code], 
    [Extent1].[Entity_Name] AS [Entity_Name], 
    [Extent1].[Import_Folder] AS [Import_Folder], 
    [Extent1].[Export_Folder] AS [Export_Folder]
    FROM [dbo].[Entity] AS [Extent1]
    WHERE [Extent1].[Entity_ID] = @p0
2018-04-11 09:03:51.3650|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: SELECT TOP (2) 
    [Extent1].[Entity_ID] AS [Entity_ID], 
    [Extent1].[Entity_Code] AS [Entity_Code], 
    [Extent1].[Entity_Name] AS [Entity_Name], 
    [Extent1].[Import_Folder] AS [Import_Folder], 
    [Extent1].[Export_Folder] AS [Export_Folder]
    FROM [dbo].[Entity] AS [Extent1]
    WHERE [Extent1].[Entity_ID] = @p0
2018-04-11 13:16:59.1730|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: SELECT 
    [Extent1].[Security_ID] AS [Security_ID], 
    [Extent1].[Portfolio_Code] AS [Portfolio_Code], 
    [Extent1].[Entity_ID] AS [Entity_ID], 
    [Extent1].[Excess_Weight_Quarterly] AS [Excess_Weight_Quarterly], 
    [Extent1].[Relative_Contribution_Quarterly] AS [Relative_Contribution_Quarterly], 
    [Extent1].[Allocation_Selection_Interaction_Quarterly] AS [Allocation_Selection_Interaction_Quarterly], 
    [Extent1].[StockVs_TotBenchmarkReturn_Quarterly] AS [StockVs_TotBenchmarkReturn_Quarterly], 
    [Extent1].[Selection_Interaction_Quarterly] AS [Selection_Interaction_Quarterly], 
    [Extent1].[Asset_Allocation_Quarterly] AS [Asset_Allocation_Quarterly], 
    [Extent1].[Excess_Weight_Monthly] AS [Excess_Weight_Monthly], 
    [Extent1].[Relative_Contribution_Monthly] AS [Relative_Contribution_Monthly], 
    [Extent1].[Allocation_Selection_Interaction_Monthly] AS [Allocation_Selection_Interaction_Monthly], 
    [Extent1].[StockVs_TotBenchmarkReturn_Monthly] AS [StockVs_TotBenchmarkReturn_Monthly], 
    [Extent1].[Selection_Interaction_Monthly] AS [Selection_Interaction_Monthly], 
    [Extent1].[Asset_Allocation_Monthly] AS [Asset_Allocation_Monthly], 
    [Extent1].[Excess_Weight_MonthToDate] AS [Excess_Weight_MonthToDate], 
    [Extent1].[Relative_Contribution_MonthToDate] AS [Relative_Contribution_MonthToDate], 
    [Extent1].[Allocation_Selection_Interaction_MonthToDate] AS [Allocation_Selection_Interaction_MonthToDate], 
    [Extent1].[StockVs_TotBenchmarkReturn_MonthToDate] AS [StockVs_TotBenchmarkReturn_MonthToDate], 
    [Extent1].[Selection_Interaction_MonthToDate] AS [Selection_Interaction_MonthToDate], 
    [Extent1].[Asset_Allocation_MonthToDate] AS [Asset_Allocation_MonthToDate], 
    [Extent1].[Last_Update_Date] AS [Last_Update_Date], 
    [Extent1].[Last_Update_User] AS [Last_Update_User], 
    [Extent1].[Security_Weight_Portfolio_Monthly] AS [Security_Weight_Portfolio_Monthly], 
    [Extent1].[Security_Weight_Portfolio_MonthToDate] AS [Security_Weight_Portfolio_MonthToDate], 
    [Extent1].[Security_Weight_Portfolio_Quarterly] AS [Security_Weight_Portfolio_Quarterly], 
    [Extent1].[Security_Weight_Benchmark_Monthly] AS [Security_Weight_Benchmark_Monthly], 
    [Extent1].[Security_Weight_Benchmark_MonthToDate] AS [Security_Weight_Benchmark_MonthToDate], 
    [Extent1].[Security_Weight_Benchmark_Quarterly] AS [Security_Weight_Benchmark_Quarterly], 
    [Extent1].[Total_Return_Security_Price_Monthly] AS [Total_Return_Security_Price_Monthly], 
    [Extent1].[Total_Return_Security_Price_MonthToDate] AS [Total_Return_Security_Price_MonthToDate], 
    [Extent1].[Total_Return_Security_Price_Quarterly] AS [Total_Return_Security_Price_Quarterly], 
    [Extent1].[TW_Return_Portfolio_Monthly] AS [TW_Return_Portfolio_Monthly], 
    [Extent1].[TW_Return_Portfolio_MonthToDate] AS [TW_Return_Portfolio_MonthToDate], 
    [Extent1].[TW_Return_Portfolio_Quarterly] AS [TW_Return_Portfolio_Quarterly], 
    [Extent1].[Record_Date] AS [Record_Date], 
    [Extent1].[Session_ID] AS [Session_ID], 
    [Extent1].[Hist_Last_Update_Date] AS [Hist_Last_Update_Date], 
    [Extent1].[Hist_Last_Update_User] AS [Hist_Last_Update_User], 
    [Extent1].[Benchmark_Price_Performance_Monthly] AS [Benchmark_Price_Performance_Monthly], 
    [Extent1].[Benchmark_Price_Performance_MonthToDate] AS [Benchmark_Price_Performance_MonthToDate], 
    [Extent1].[Benchmark_Price_Performance_Quarterly] AS [Benchmark_Price_Performance_Quarterly]
    FROM [dbo].[Security_Attribution_History] AS [Extent1]
    WHERE ([Extent1].[Security_ID] = @p__linq__0) AND ([Extent1].[Portfolio_Code] = @p__linq__1) AND ([Extent1].[Record_Date] = @p__linq__2) AND ([Extent1].[Entity_ID] = @p__linq__3)
2018-04-11 13:16:59.2148|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: SELECT 
    [Extent1].[Security_ID] AS [Security_ID], 
    [Extent1].[Portfolio_Code] AS [Portfolio_Code], 
    [Extent1].[Entity_ID] AS [Entity_ID], 
    [Extent1].[Excess_Weight_Quarterly] AS [Excess_Weight_Quarterly], 
    [Extent1].[Relative_Contribution_Quarterly] AS [Relative_Contribution_Quarterly], 
    [Extent1].[Allocation_Selection_Interaction_Quarterly] AS [Allocation_Selection_Interaction_Quarterly], 
    [Extent1].[StockVs_TotBenchmarkReturn_Quarterly] AS [StockVs_TotBenchmarkReturn_Quarterly], 
    [Extent1].[Selection_Interaction_Quarterly] AS [Selection_Interaction_Quarterly], 
    [Extent1].[Asset_Allocation_Quarterly] AS [Asset_Allocation_Quarterly], 
    [Extent1].[Excess_Weight_Monthly] AS [Excess_Weight_Monthly], 
    [Extent1].[Relative_Contribution_Monthly] AS [Relative_Contribution_Monthly], 
    [Extent1].[Allocation_Selection_Interaction_Monthly] AS [Allocation_Selection_Interaction_Monthly], 
    [Extent1].[StockVs_TotBenchmarkReturn_Monthly] AS [StockVs_TotBenchmarkReturn_Monthly], 
    [Extent1].[Selection_Interaction_Monthly] AS [Selection_Interaction_Monthly], 
    [Extent1].[Asset_Allocation_Monthly] AS [Asset_Allocation_Monthly], 
    [Extent1].[Excess_Weight_MonthToDate] AS [Excess_Weight_MonthToDate], 
    [Extent1].[Relative_Contribution_MonthToDate] AS [Relative_Contribution_MonthToDate], 
    [Extent1].[Allocation_Selection_Interaction_MonthToDate] AS [Allocation_Selection_Interaction_MonthToDate], 
    [Extent1].[StockVs_TotBenchmarkReturn_MonthToDate] AS [StockVs_TotBenchmarkReturn_MonthToDate], 
    [Extent1].[Selection_Interaction_MonthToDate] AS [Selection_Interaction_MonthToDate], 
    [Extent1].[Asset_Allocation_MonthToDate] AS [Asset_Allocation_MonthToDate], 
    [Extent1].[Last_Update_Date] AS [Last_Update_Date], 
    [Extent1].[Last_Update_User] AS [Last_Update_User], 
    [Extent1].[Security_Weight_Portfolio_Monthly] AS [Security_Weight_Portfolio_Monthly], 
    [Extent1].[Security_Weight_Portfolio_MonthToDate] AS [Security_Weight_Portfolio_MonthToDate], 
    [Extent1].[Security_Weight_Portfolio_Quarterly] AS [Security_Weight_Portfolio_Quarterly], 
    [Extent1].[Security_Weight_Benchmark_Monthly] AS [Security_Weight_Benchmark_Monthly], 
    [Extent1].[Security_Weight_Benchmark_MonthToDate] AS [Security_Weight_Benchmark_MonthToDate], 
    [Extent1].[Security_Weight_Benchmark_Quarterly] AS [Security_Weight_Benchmark_Quarterly], 
    [Extent1].[Total_Return_Security_Price_Monthly] AS [Total_Return_Security_Price_Monthly], 
    [Extent1].[Total_Return_Security_Price_MonthToDate] AS [Total_Return_Security_Price_MonthToDate], 
    [Extent1].[Total_Return_Security_Price_Quarterly] AS [Total_Return_Security_Price_Quarterly], 
    [Extent1].[TW_Return_Portfolio_Monthly] AS [TW_Return_Portfolio_Monthly], 
    [Extent1].[TW_Return_Portfolio_MonthToDate] AS [TW_Return_Portfolio_MonthToDate], 
    [Extent1].[TW_Return_Portfolio_Quarterly] AS [TW_Return_Portfolio_Quarterly], 
    [Extent1].[Record_Date] AS [Record_Date], 
    [Extent1].[Session_ID] AS [Session_ID], 
    [Extent1].[Hist_Last_Update_Date] AS [Hist_Last_Update_Date], 
    [Extent1].[Hist_Last_Update_User] AS [Hist_Last_Update_User], 
    [Extent1].[Benchmark_Price_Performance_Monthly] AS [Benchmark_Price_Performance_Monthly], 
    [Extent1].[Benchmark_Price_Performance_MonthToDate] AS [Benchmark_Price_Performance_MonthToDate], 
    [Extent1].[Benchmark_Price_Performance_Quarterly] AS [Benchmark_Price_Performance_Quarterly]
    FROM [dbo].[Security_Attribution_History] AS [Extent1]
    WHERE ([Extent1].[Security_ID] = @p__linq__0) AND ([Extent1].[Portfolio_Code] = @p__linq__1) AND ([Extent1].[Record_Date] = @p__linq__2) AND ([Extent1].[Entity_ID] = @p__linq__3)
2018-04-11 13:17:03.4357|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: SELECT 
    [Extent1].[Security_ID] AS [Security_ID], 
    [Extent1].[Entity_ID] AS [Entity_ID], 
    [Extent1].[Security_Name] AS [Security_Name], 
    [Extent1].[Short_Name] AS [Short_Name], 
    [Extent1].[Primary_Exch] AS [Primary_Exch], 
    [Extent1].[Secondary_Exch] AS [Secondary_Exch], 
    [Extent1].[Country_Of_Domicile] AS [Country_Of_Domicile], 
    [Extent1].[Country_Of_Risk] AS [Country_Of_Risk], 
    [Extent1].[Security_Type_Code] AS [Security_Type_Code], 
    [Extent1].[Price_Multiplier] AS [Price_Multiplier], 
    [Extent1].[Income_Frequency] AS [Income_Frequency], 
    [Extent1].[Issuer_Code] AS [Issuer_Code], 
    [Extent1].[Ultimate_Issuer_Code] AS [Ultimate_Issuer_Code], 
    [Extent1].[Asset_Currency] AS [Asset_Currency], 
    [Extent1].[Min_Lot_Size] AS [Min_Lot_Size], 
    [Extent1].[Decimal_Precision] AS [Decimal_Precision], 
    [Extent1].[AvePrice_Rounding] AS [AvePrice_Rounding], 
    [Extent1].[Issue_Date] AS [Issue_Date], 
    [Extent1].[Maturity_Date] AS [Maturity_Date], 
    [Extent1].[Coupon_Rate] AS [Coupon_Rate], 
    [Extent1].[Price_Exchange] AS [Price_Exchange], 
    [Extent1].[Trade_Currency] AS [Trade_Currency], 
    [Extent1].[Price_Curr] AS [Price_Curr], 
    [Extent1].[Currency_Pair_Code] AS [Currency_Pair_Code], 
    [Extent1].[Share_Class] AS [Share_Class], 
    [Extent1].[Current_Market_Price] AS [Current_Market_Price], 
    [Extent1].[Index_Type] AS [Index_Type], 
    [Extent1].[Clean_Price_Formula] AS [Clean_Price_Formula], 
    [Extent1].[Accrued_Income_Price_Formula] AS [Accrued_Income_Price_Formula], 
    [Extent1].[Odd_First_Coupon_Date] AS [Odd_First_Coupon_Date], 
    [Extent1].[Odd_Last_Coupon_Date] AS [Odd_Last_Coupon_Date], 
    [Extent1].[Coupon_Anniversary_Indicator] AS [Coupon_Anniversary_Indicator], 
    [Extent1].[Track_EOM_Flag] AS [Track_EOM_Flag], 
    [Extent1].[Next_Coupon_Date] AS [Next_Coupon_Date], 
    [Extent1].[Previous_Coupon_Date] AS [Previous_Coupon_Date], 
    [Extent1].[Payment_Frequency] AS [Payment_Frequency], 
    [Extent1].[Coupon_BusDay_Adjustment] AS [Coupon_BusDay_Adjustment], 
    [Extent1].[Next_Ex_Div_Date] AS [Next_Ex_Div_Date], 
    [Extent1].[Ex_Div_BusDay_Adjustment] AS [Ex_Div_BusDay_Adjustment], 
    [Extent1].[Ex_Div_Period] AS [Ex_Div_Period], 
    [Extent1].[Ticker] AS [Ticker], 
    [Extent1].[Inet_ID] AS [Inet_ID], 
    [Extent1].[Bloomberg_ID] AS [Bloomberg_ID], 
    [Extent1].[External_Sec_ID] AS [External_Sec_ID], 
    [Extent1].[Reuters_ID] AS [Reuters_ID], 
    [Extent1].[ISIN] AS [ISIN], 
    [Extent1].[Call_Account_Flag] AS [Call_Account_Flag], 
    [Extent1].[System_Locked] AS [System_Locked], 
    [Extent1].[Last_Update_User] AS [Last_Update_User], 
    [Extent1].[Last_Update_Date] AS [Last_Update_Date], 
    [Extent1].[Security_Status] AS [Security_Status], 
    [Extent1].[Benchmark_Portfolio] AS [Benchmark_Portfolio], 
    [Extent1].[Active_flag] AS [Active_flag], 
    [Extent1].[Dividend_FX_Security_ID] AS [Dividend_FX_Security_ID]
    FROM [dbo].[Security_Detail] AS [Extent1]
    WHERE [Extent1].[Security_ID] = @EntityKeyValue1
2018-04-11 13:17:03.5833|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: SELECT 
    [Extent1].[Security_ID] AS [Security_ID], 
    [Extent1].[Entity_ID] AS [Entity_ID], 
    [Extent1].[Security_Name] AS [Security_Name], 
    [Extent1].[Short_Name] AS [Short_Name], 
    [Extent1].[Primary_Exch] AS [Primary_Exch], 
    [Extent1].[Secondary_Exch] AS [Secondary_Exch], 
    [Extent1].[Country_Of_Domicile] AS [Country_Of_Domicile], 
    [Extent1].[Country_Of_Risk] AS [Country_Of_Risk], 
    [Extent1].[Security_Type_Code] AS [Security_Type_Code], 
    [Extent1].[Price_Multiplier] AS [Price_Multiplier], 
    [Extent1].[Income_Frequency] AS [Income_Frequency], 
    [Extent1].[Issuer_Code] AS [Issuer_Code], 
    [Extent1].[Ultimate_Issuer_Code] AS [Ultimate_Issuer_Code], 
    [Extent1].[Asset_Currency] AS [Asset_Currency], 
    [Extent1].[Min_Lot_Size] AS [Min_Lot_Size], 
    [Extent1].[Decimal_Precision] AS [Decimal_Precision], 
    [Extent1].[AvePrice_Rounding] AS [AvePrice_Rounding], 
    [Extent1].[Issue_Date] AS [Issue_Date], 
    [Extent1].[Maturity_Date] AS [Maturity_Date], 
    [Extent1].[Coupon_Rate] AS [Coupon_Rate], 
    [Extent1].[Price_Exchange] AS [Price_Exchange], 
    [Extent1].[Trade_Currency] AS [Trade_Currency], 
    [Extent1].[Price_Curr] AS [Price_Curr], 
    [Extent1].[Currency_Pair_Code] AS [Currency_Pair_Code], 
    [Extent1].[Share_Class] AS [Share_Class], 
    [Extent1].[Current_Market_Price] AS [Current_Market_Price], 
    [Extent1].[Index_Type] AS [Index_Type], 
    [Extent1].[Clean_Price_Formula] AS [Clean_Price_Formula], 
    [Extent1].[Accrued_Income_Price_Formula] AS [Accrued_Income_Price_Formula], 
    [Extent1].[Odd_First_Coupon_Date] AS [Odd_First_Coupon_Date], 
    [Extent1].[Odd_Last_Coupon_Date] AS [Odd_Last_Coupon_Date], 
    [Extent1].[Coupon_Anniversary_Indicator] AS [Coupon_Anniversary_Indicator], 
    [Extent1].[Track_EOM_Flag] AS [Track_EOM_Flag], 
    [Extent1].[Next_Coupon_Date] AS [Next_Coupon_Date], 
    [Extent1].[Previous_Coupon_Date] AS [Previous_Coupon_Date], 
    [Extent1].[Payment_Frequency] AS [Payment_Frequency], 
    [Extent1].[Coupon_BusDay_Adjustment] AS [Coupon_BusDay_Adjustment], 
    [Extent1].[Next_Ex_Div_Date] AS [Next_Ex_Div_Date], 
    [Extent1].[Ex_Div_BusDay_Adjustment] AS [Ex_Div_BusDay_Adjustment], 
    [Extent1].[Ex_Div_Period] AS [Ex_Div_Period], 
    [Extent1].[Ticker] AS [Ticker], 
    [Extent1].[Inet_ID] AS [Inet_ID], 
    [Extent1].[Bloomberg_ID] AS [Bloomberg_ID], 
    [Extent1].[External_Sec_ID] AS [External_Sec_ID], 
    [Extent1].[Reuters_ID] AS [Reuters_ID], 
    [Extent1].[ISIN] AS [ISIN], 
    [Extent1].[Call_Account_Flag] AS [Call_Account_Flag], 
    [Extent1].[System_Locked] AS [System_Locked], 
    [Extent1].[Last_Update_User] AS [Last_Update_User], 
    [Extent1].[Last_Update_Date] AS [Last_Update_Date], 
    [Extent1].[Security_Status] AS [Security_Status], 
    [Extent1].[Benchmark_Portfolio] AS [Benchmark_Portfolio], 
    [Extent1].[Active_flag] AS [Active_flag], 
    [Extent1].[Dividend_FX_Security_ID] AS [Dividend_FX_Security_ID]
    FROM [dbo].[Security_Detail] AS [Extent1]
    WHERE [Extent1].[Security_ID] = @EntityKeyValue1
2018-04-11 13:17:12.2428|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: SELECT 
    [Project1].[Security_ID] AS [Security_ID], 
    [Project1].[Entity_ID] AS [Entity_ID], 
    [Project1].[Security_Name] AS [Security_Name], 
    [Project1].[Short_Name] AS [Short_Name], 
    [Project1].[Primary_Exch] AS [Primary_Exch], 
    [Project1].[Secondary_Exch] AS [Secondary_Exch], 
    [Project1].[Country_Of_Domicile] AS [Country_Of_Domicile], 
    [Project1].[Country_Of_Risk] AS [Country_Of_Risk], 
    [Project1].[Security_Type_Code] AS [Security_Type_Code], 
    [Project1].[Price_Multiplier] AS [Price_Multiplier], 
    [Project1].[Income_Frequency] AS [Income_Frequency], 
    [Project1].[Issuer_Code] AS [Issuer_Code], 
    [Project1].[Ultimate_Issuer_Code] AS [Ultimate_Issuer_Code], 
    [Project1].[Asset_Currency] AS [Asset_Currency], 
    [Project1].[Min_Lot_Size] AS [Min_Lot_Size], 
    [Project1].[Decimal_Precision] AS [Decimal_Precision], 
    [Project1].[AvePrice_Rounding] AS [AvePrice_Rounding], 
    [Project1].[Issue_Date] AS [Issue_Date], 
    [Project1].[Maturity_Date] AS [Maturity_Date], 
    [Project1].[Coupon_Rate] AS [Coupon_Rate], 
    [Project1].[Price_Exchange] AS [Price_Exchange], 
    [Project1].[Trade_Currency] AS [Trade_Currency], 
    [Project1].[Price_Curr] AS [Price_Curr], 
    [Project1].[Currency_Pair_Code] AS [Currency_Pair_Code], 
    [Project1].[Share_Class] AS [Share_Class], 
    [Project1].[Current_Market_Price] AS [Current_Market_Price], 
    [Project1].[Index_Type] AS [Index_Type], 
    [Project1].[Clean_Price_Formula] AS [Clean_Price_Formula], 
    [Project1].[Accrued_Income_Price_Formula] AS [Accrued_Income_Price_Formula], 
    [Project1].[Odd_First_Coupon_Date] AS [Odd_First_Coupon_Date], 
    [Project1].[Odd_Last_Coupon_Date] AS [Odd_Last_Coupon_Date], 
    [Project1].[Coupon_Anniversary_Indicator] AS [Coupon_Anniversary_Indicator], 
    [Project1].[Track_EOM_Flag] AS [Track_EOM_Flag], 
    [Project1].[Next_Coupon_Date] AS [Next_Coupon_Date], 
    [Project1].[Previous_Coupon_Date] AS [Previous_Coupon_Date], 
    [Project1].[Payment_Frequency] AS [Payment_Frequency], 
    [Project1].[Coupon_BusDay_Adjustment] AS [Coupon_BusDay_Adjustment], 
    [Project1].[Next_Ex_Div_Date] AS [Next_Ex_Div_Date], 
    [Project1].[Ex_Div_BusDay_Adjustment] AS [Ex_Div_BusDay_Adjustment], 
    [Project1].[Ex_Div_Period] AS [Ex_Div_Period], 
    [Project1].[Ticker] AS [Ticker], 
    [Project1].[Inet_ID] AS [Inet_ID], 
    [Project1].[Bloomberg_ID] AS [Bloomberg_ID], 
    [Project1].[External_Sec_ID] AS [External_Sec_ID], 
    [Project1].[Reuters_ID] AS [Reuters_ID], 
    [Project1].[ISIN] AS [ISIN], 
    [Project1].[Call_Account_Flag] AS [Call_Account_Flag], 
    [Project1].[System_Locked] AS [System_Locked], 
    [Project1].[Last_Update_User] AS [Last_Update_User], 
    [Project1].[Last_Update_Date] AS [Last_Update_Date], 
    [Project1].[Security_Status] AS [Security_Status], 
    [Project1].[Benchmark_Portfolio] AS [Benchmark_Portfolio], 
    [Project1].[Active_flag] AS [Active_flag], 
    [Project1].[Dividend_FX_Security_ID] AS [Dividend_FX_Security_ID]
    FROM ( SELECT 
        [Extent1].[Security_ID] AS [Security_ID], 
        [Extent1].[Entity_ID] AS [Entity_ID], 
        [Extent1].[Security_Name] AS [Security_Name], 
        [Extent1].[Short_Name] AS [Short_Name], 
        [Extent1].[Primary_Exch] AS [Primary_Exch], 
        [Extent1].[Secondary_Exch] AS [Secondary_Exch], 
        [Extent1].[Country_Of_Domicile] AS [Country_Of_Domicile], 
        [Extent1].[Country_Of_Risk] AS [Country_Of_Risk], 
        [Extent1].[Security_Type_Code] AS [Security_Type_Code], 
        [Extent1].[Price_Multiplier] AS [Price_Multiplier], 
        [Extent1].[Income_Frequency] AS [Income_Frequency], 
        [Extent1].[Issuer_Code] AS [Issuer_Code], 
        [Extent1].[Ultimate_Issuer_Code] AS [Ultimate_Issuer_Code], 
        [Extent1].[Asset_Currency] AS [Asset_Currency], 
        [Extent1].[Min_Lot_Size] AS [Min_Lot_Size], 
        [Extent1].[Decimal_Precision] AS [Decimal_Precision], 
        [Extent1].[AvePrice_Rounding] AS [AvePrice_Rounding], 
        [Extent1].[Issue_Date] AS [Issue_Date], 
        [Extent1].[Maturity_Date] AS [Maturity_Date], 
        [Extent1].[Coupon_Rate] AS [Coupon_Rate], 
        [Extent1].[Price_Exchange] AS [Price_Exchange], 
        [Extent1].[Trade_Currency] AS [Trade_Currency], 
        [Extent1].[Price_Curr] AS [Price_Curr], 
        [Extent1].[Currency_Pair_Code] AS [Currency_Pair_Code], 
        [Extent1].[Share_Class] AS [Share_Class], 
        [Extent1].[Current_Market_Price] AS [Current_Market_Price], 
        [Extent1].[Index_Type] AS [Index_Type], 
        [Extent1].[Clean_Price_Formula] AS [Clean_Price_Formula], 
        [Extent1].[Accrued_Income_Price_Formula] AS [Accrued_Income_Price_Formula], 
        [Extent1].[Odd_First_Coupon_Date] AS [Odd_First_Coupon_Date], 
        [Extent1].[Odd_Last_Coupon_Date] AS [Odd_Last_Coupon_Date], 
        [Extent1].[Coupon_Anniversary_Indicator] AS [Coupon_Anniversary_Indicator], 
        [Extent1].[Track_EOM_Flag] AS [Track_EOM_Flag], 
        [Extent1].[Next_Coupon_Date] AS [Next_Coupon_Date], 
        [Extent1].[Previous_Coupon_Date] AS [Previous_Coupon_Date], 
        [Extent1].[Payment_Frequency] AS [Payment_Frequency], 
        [Extent1].[Coupon_BusDay_Adjustment] AS [Coupon_BusDay_Adjustment], 
        [Extent1].[Next_Ex_Div_Date] AS [Next_Ex_Div_Date], 
        [Extent1].[Ex_Div_BusDay_Adjustment] AS [Ex_Div_BusDay_Adjustment], 
        [Extent1].[Ex_Div_Period] AS [Ex_Div_Period], 
        [Extent1].[Ticker] AS [Ticker], 
        [Extent1].[Inet_ID] AS [Inet_ID], 
        [Extent1].[Bloomberg_ID] AS [Bloomberg_ID], 
        [Extent1].[External_Sec_ID] AS [External_Sec_ID], 
        [Extent1].[Reuters_ID] AS [Reuters_ID], 
        [Extent1].[ISIN] AS [ISIN], 
        [Extent1].[Call_Account_Flag] AS [Call_Account_Flag], 
        [Extent1].[System_Locked] AS [System_Locked], 
        [Extent1].[Last_Update_User] AS [Last_Update_User], 
        [Extent1].[Last_Update_Date] AS [Last_Update_Date], 
        [Extent1].[Security_Status] AS [Security_Status], 
        [Extent1].[Benchmark_Portfolio] AS [Benchmark_Portfolio], 
        [Extent1].[Active_flag] AS [Active_flag], 
        [Extent1].[Dividend_FX_Security_ID] AS [Dividend_FX_Security_ID]
        FROM [dbo].[Security_Detail] AS [Extent1]
        WHERE ([Extent1].[Entity_ID] IN (@p__linq__0,@p__linq__1)) AND ((CASE WHEN ( NOT ((N'' = @p__linq__2) AND (@p__linq__2 IS NOT NULL))) THEN CASE WHEN ([Extent1].[Security_Type_Code] = @p__linq__3) THEN cast(1 as bit) WHEN ( NOT (([Extent1].[Security_Type_Code] = @p__linq__3) AND (0 = (CASE WHEN (@p__linq__3 IS NULL) THEN cast(1 as bit) ELSE cast(0 as bit) END)))) THEN cast(0 as bit) END WHEN ('' <> [Extent1].[Security_Type_Code]) THEN cast(1 as bit) WHEN ('' = [Extent1].[Security_Type_Code]) THEN cast(0 as bit) END) = 1)
    )  AS [Project1]
    ORDER BY [Project1].[Security_Name] ASC
2018-04-11 13:17:12.2744|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: SELECT 
    [Project1].[Security_ID] AS [Security_ID], 
    [Project1].[Entity_ID] AS [Entity_ID], 
    [Project1].[Security_Name] AS [Security_Name], 
    [Project1].[Short_Name] AS [Short_Name], 
    [Project1].[Primary_Exch] AS [Primary_Exch], 
    [Project1].[Secondary_Exch] AS [Secondary_Exch], 
    [Project1].[Country_Of_Domicile] AS [Country_Of_Domicile], 
    [Project1].[Country_Of_Risk] AS [Country_Of_Risk], 
    [Project1].[Security_Type_Code] AS [Security_Type_Code], 
    [Project1].[Price_Multiplier] AS [Price_Multiplier], 
    [Project1].[Income_Frequency] AS [Income_Frequency], 
    [Project1].[Issuer_Code] AS [Issuer_Code], 
    [Project1].[Ultimate_Issuer_Code] AS [Ultimate_Issuer_Code], 
    [Project1].[Asset_Currency] AS [Asset_Currency], 
    [Project1].[Min_Lot_Size] AS [Min_Lot_Size], 
    [Project1].[Decimal_Precision] AS [Decimal_Precision], 
    [Project1].[AvePrice_Rounding] AS [AvePrice_Rounding], 
    [Project1].[Issue_Date] AS [Issue_Date], 
    [Project1].[Maturity_Date] AS [Maturity_Date], 
    [Project1].[Coupon_Rate] AS [Coupon_Rate], 
    [Project1].[Price_Exchange] AS [Price_Exchange], 
    [Project1].[Trade_Currency] AS [Trade_Currency], 
    [Project1].[Price_Curr] AS [Price_Curr], 
    [Project1].[Currency_Pair_Code] AS [Currency_Pair_Code], 
    [Project1].[Share_Class] AS [Share_Class], 
    [Project1].[Current_Market_Price] AS [Current_Market_Price], 
    [Project1].[Index_Type] AS [Index_Type], 
    [Project1].[Clean_Price_Formula] AS [Clean_Price_Formula], 
    [Project1].[Accrued_Income_Price_Formula] AS [Accrued_Income_Price_Formula], 
    [Project1].[Odd_First_Coupon_Date] AS [Odd_First_Coupon_Date], 
    [Project1].[Odd_Last_Coupon_Date] AS [Odd_Last_Coupon_Date], 
    [Project1].[Coupon_Anniversary_Indicator] AS [Coupon_Anniversary_Indicator], 
    [Project1].[Track_EOM_Flag] AS [Track_EOM_Flag], 
    [Project1].[Next_Coupon_Date] AS [Next_Coupon_Date], 
    [Project1].[Previous_Coupon_Date] AS [Previous_Coupon_Date], 
    [Project1].[Payment_Frequency] AS [Payment_Frequency], 
    [Project1].[Coupon_BusDay_Adjustment] AS [Coupon_BusDay_Adjustment], 
    [Project1].[Next_Ex_Div_Date] AS [Next_Ex_Div_Date], 
    [Project1].[Ex_Div_BusDay_Adjustment] AS [Ex_Div_BusDay_Adjustment], 
    [Project1].[Ex_Div_Period] AS [Ex_Div_Period], 
    [Project1].[Ticker] AS [Ticker], 
    [Project1].[Inet_ID] AS [Inet_ID], 
    [Project1].[Bloomberg_ID] AS [Bloomberg_ID], 
    [Project1].[External_Sec_ID] AS [External_Sec_ID], 
    [Project1].[Reuters_ID] AS [Reuters_ID], 
    [Project1].[ISIN] AS [ISIN], 
    [Project1].[Call_Account_Flag] AS [Call_Account_Flag], 
    [Project1].[System_Locked] AS [System_Locked], 
    [Project1].[Last_Update_User] AS [Last_Update_User], 
    [Project1].[Last_Update_Date] AS [Last_Update_Date], 
    [Project1].[Security_Status] AS [Security_Status], 
    [Project1].[Benchmark_Portfolio] AS [Benchmark_Portfolio], 
    [Project1].[Active_flag] AS [Active_flag], 
    [Project1].[Dividend_FX_Security_ID] AS [Dividend_FX_Security_ID]
    FROM ( SELECT 
        [Extent1].[Security_ID] AS [Security_ID], 
        [Extent1].[Entity_ID] AS [Entity_ID], 
        [Extent1].[Security_Name] AS [Security_Name], 
        [Extent1].[Short_Name] AS [Short_Name], 
        [Extent1].[Primary_Exch] AS [Primary_Exch], 
        [Extent1].[Secondary_Exch] AS [Secondary_Exch], 
        [Extent1].[Country_Of_Domicile] AS [Country_Of_Domicile], 
        [Extent1].[Country_Of_Risk] AS [Country_Of_Risk], 
        [Extent1].[Security_Type_Code] AS [Security_Type_Code], 
        [Extent1].[Price_Multiplier] AS [Price_Multiplier], 
        [Extent1].[Income_Frequency] AS [Income_Frequency], 
        [Extent1].[Issuer_Code] AS [Issuer_Code], 
        [Extent1].[Ultimate_Issuer_Code] AS [Ultimate_Issuer_Code], 
        [Extent1].[Asset_Currency] AS [Asset_Currency], 
        [Extent1].[Min_Lot_Size] AS [Min_Lot_Size], 
        [Extent1].[Decimal_Precision] AS [Decimal_Precision], 
        [Extent1].[AvePrice_Rounding] AS [AvePrice_Rounding], 
        [Extent1].[Issue_Date] AS [Issue_Date], 
        [Extent1].[Maturity_Date] AS [Maturity_Date], 
        [Extent1].[Coupon_Rate] AS [Coupon_Rate], 
        [Extent1].[Price_Exchange] AS [Price_Exchange], 
        [Extent1].[Trade_Currency] AS [Trade_Currency], 
        [Extent1].[Price_Curr] AS [Price_Curr], 
        [Extent1].[Currency_Pair_Code] AS [Currency_Pair_Code], 
        [Extent1].[Share_Class] AS [Share_Class], 
        [Extent1].[Current_Market_Price] AS [Current_Market_Price], 
        [Extent1].[Index_Type] AS [Index_Type], 
        [Extent1].[Clean_Price_Formula] AS [Clean_Price_Formula], 
        [Extent1].[Accrued_Income_Price_Formula] AS [Accrued_Income_Price_Formula], 
        [Extent1].[Odd_First_Coupon_Date] AS [Odd_First_Coupon_Date], 
        [Extent1].[Odd_Last_Coupon_Date] AS [Odd_Last_Coupon_Date], 
        [Extent1].[Coupon_Anniversary_Indicator] AS [Coupon_Anniversary_Indicator], 
        [Extent1].[Track_EOM_Flag] AS [Track_EOM_Flag], 
        [Extent1].[Next_Coupon_Date] AS [Next_Coupon_Date], 
        [Extent1].[Previous_Coupon_Date] AS [Previous_Coupon_Date], 
        [Extent1].[Payment_Frequency] AS [Payment_Frequency], 
        [Extent1].[Coupon_BusDay_Adjustment] AS [Coupon_BusDay_Adjustment], 
        [Extent1].[Next_Ex_Div_Date] AS [Next_Ex_Div_Date], 
        [Extent1].[Ex_Div_BusDay_Adjustment] AS [Ex_Div_BusDay_Adjustment], 
        [Extent1].[Ex_Div_Period] AS [Ex_Div_Period], 
        [Extent1].[Ticker] AS [Ticker], 
        [Extent1].[Inet_ID] AS [Inet_ID], 
        [Extent1].[Bloomberg_ID] AS [Bloomberg_ID], 
        [Extent1].[External_Sec_ID] AS [External_Sec_ID], 
        [Extent1].[Reuters_ID] AS [Reuters_ID], 
        [Extent1].[ISIN] AS [ISIN], 
        [Extent1].[Call_Account_Flag] AS [Call_Account_Flag], 
        [Extent1].[System_Locked] AS [System_Locked], 
        [Extent1].[Last_Update_User] AS [Last_Update_User], 
        [Extent1].[Last_Update_Date] AS [Last_Update_Date], 
        [Extent1].[Security_Status] AS [Security_Status], 
        [Extent1].[Benchmark_Portfolio] AS [Benchmark_Portfolio], 
        [Extent1].[Active_flag] AS [Active_flag], 
        [Extent1].[Dividend_FX_Security_ID] AS [Dividend_FX_Security_ID]
        FROM [dbo].[Security_Detail] AS [Extent1]
        WHERE ([Extent1].[Entity_ID] IN (@p__linq__0,@p__linq__1)) AND ((CASE WHEN ( NOT ((N'' = @p__linq__2) AND (@p__linq__2 IS NOT NULL))) THEN CASE WHEN ([Extent1].[Security_Type_Code] = @p__linq__3) THEN cast(1 as bit) WHEN ( NOT (([Extent1].[Security_Type_Code] = @p__linq__3) AND (0 = (CASE WHEN (@p__linq__3 IS NULL) THEN cast(1 as bit) ELSE cast(0 as bit) END)))) THEN cast(0 as bit) END WHEN ('' <> [Extent1].[Security_Type_Code]) THEN cast(1 as bit) WHEN ('' = [Extent1].[Security_Type_Code]) THEN cast(0 as bit) END) = 1)
    )  AS [Project1]
    ORDER BY [Project1].[Security_Name] ASC
2018-04-11 13:17:12.4570|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: IF db_id(N'MetopeAzureDb') IS NOT NULL SELECT 1 ELSE SELECT Count(*) FROM sys.databases WHERE [name]=N'MetopeAzureDb'
2018-04-11 13:17:12.5145|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: IF db_id(N'MetopeAzureDb') IS NOT NULL SELECT 1 ELSE SELECT Count(*) FROM sys.databases WHERE [name]=N'MetopeAzureDb'
2018-04-11 13:17:12.5896|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: IF db_id(N'MetopeAzureDb') IS NOT NULL SELECT 1 ELSE SELECT Count(*) FROM sys.databases WHERE [name]=N'MetopeAzureDb'
2018-04-11 13:17:12.6021|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: IF db_id(N'MetopeAzureDb') IS NOT NULL SELECT 1 ELSE SELECT Count(*) FROM sys.databases WHERE [name]=N'MetopeAzureDb'
2018-04-11 13:17:12.6191|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: True, Command Text: SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[EntityIdScope] AS [EntityIdScope], 
    [Extent1].[Email] AS [Email], 
    [Extent1].[EmailConfirmed] AS [EmailConfirmed], 
    [Extent1].[PasswordHash] AS [PasswordHash], 
    [Extent1].[SecurityStamp] AS [SecurityStamp], 
    [Extent1].[PhoneNumber] AS [PhoneNumber], 
    [Extent1].[PhoneNumberConfirmed] AS [PhoneNumberConfirmed], 
    [Extent1].[TwoFactorEnabled] AS [TwoFactorEnabled], 
    [Extent1].[LockoutEndDateUtc] AS [LockoutEndDateUtc], 
    [Extent1].[LockoutEnabled] AS [LockoutEnabled], 
    [Extent1].[AccessFailedCount] AS [AccessFailedCount], 
    [Extent1].[UserName] AS [UserName]
    FROM [dbo].[AspNetUsers] AS [Extent1]
    WHERE [Extent1].[Id] = @p0
2018-04-11 13:17:12.6431|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: True, Command Text: SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[EntityIdScope] AS [EntityIdScope], 
    [Extent1].[Email] AS [Email], 
    [Extent1].[EmailConfirmed] AS [EmailConfirmed], 
    [Extent1].[PasswordHash] AS [PasswordHash], 
    [Extent1].[SecurityStamp] AS [SecurityStamp], 
    [Extent1].[PhoneNumber] AS [PhoneNumber], 
    [Extent1].[PhoneNumberConfirmed] AS [PhoneNumberConfirmed], 
    [Extent1].[TwoFactorEnabled] AS [TwoFactorEnabled], 
    [Extent1].[LockoutEndDateUtc] AS [LockoutEndDateUtc], 
    [Extent1].[LockoutEnabled] AS [LockoutEnabled], 
    [Extent1].[AccessFailedCount] AS [AccessFailedCount], 
    [Extent1].[UserName] AS [UserName]
    FROM [dbo].[AspNetUsers] AS [Extent1]
    WHERE [Extent1].[Id] = @p0
2018-04-11 13:17:12.6596|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: True, Command Text: SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[UserId] AS [UserId], 
    [Extent1].[ClaimType] AS [ClaimType], 
    [Extent1].[ClaimValue] AS [ClaimValue]
    FROM [dbo].[AspNetUserClaims] AS [Extent1]
    WHERE [Extent1].[UserId] = @p__linq__0
2018-04-11 13:17:12.6797|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: True, Command Text: SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[UserId] AS [UserId], 
    [Extent1].[ClaimType] AS [ClaimType], 
    [Extent1].[ClaimValue] AS [ClaimValue]
    FROM [dbo].[AspNetUserClaims] AS [Extent1]
    WHERE [Extent1].[UserId] = @p__linq__0
2018-04-11 13:17:12.6947|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: True, Command Text: SELECT 
    [Extent1].[LoginProvider] AS [LoginProvider], 
    [Extent1].[ProviderKey] AS [ProviderKey], 
    [Extent1].[UserId] AS [UserId]
    FROM [dbo].[AspNetUserLogins] AS [Extent1]
    WHERE [Extent1].[UserId] = @p__linq__0
2018-04-11 13:17:12.7112|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: True, Command Text: SELECT 
    [Extent1].[LoginProvider] AS [LoginProvider], 
    [Extent1].[ProviderKey] AS [ProviderKey], 
    [Extent1].[UserId] AS [UserId]
    FROM [dbo].[AspNetUserLogins] AS [Extent1]
    WHERE [Extent1].[UserId] = @p__linq__0
2018-04-11 13:17:12.7112|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: True, Command Text: SELECT 
    [Extent1].[UserId] AS [UserId], 
    [Extent1].[RoleId] AS [RoleId]
    FROM [dbo].[AspNetUserRoles] AS [Extent1]
    WHERE [Extent1].[UserId] = @p__linq__0
2018-04-11 13:17:12.7432|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: True, Command Text: SELECT 
    [Extent1].[UserId] AS [UserId], 
    [Extent1].[RoleId] AS [RoleId]
    FROM [dbo].[AspNetUserRoles] AS [Extent1]
    WHERE [Extent1].[UserId] = @p__linq__0
2018-04-11 13:17:12.7567|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: SELECT TOP (2) 
    [Extent1].[Entity_ID] AS [Entity_ID], 
    [Extent1].[Entity_Code] AS [Entity_Code], 
    [Extent1].[Entity_Name] AS [Entity_Name], 
    [Extent1].[Import_Folder] AS [Import_Folder], 
    [Extent1].[Export_Folder] AS [Export_Folder]
    FROM [dbo].[Entity] AS [Extent1]
    WHERE [Extent1].[Entity_ID] = @p0
2018-04-11 13:17:12.7757|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: SELECT TOP (2) 
    [Extent1].[Entity_ID] AS [Entity_ID], 
    [Extent1].[Entity_Code] AS [Entity_Code], 
    [Extent1].[Entity_Name] AS [Entity_Name], 
    [Extent1].[Import_Folder] AS [Import_Folder], 
    [Extent1].[Export_Folder] AS [Export_Folder]
    FROM [dbo].[Entity] AS [Extent1]
    WHERE [Extent1].[Entity_ID] = @p0
2018-04-11 13:17:26.6182|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: SELECT 
    [Project1].[Decimal_Precision] AS [Decimal_Precision], 
    [Project1].[Security_ID] AS [Security_ID], 
    [Project1].[Portfolio_Code] AS [Portfolio_Code], 
    [Project1].[Entity_ID] AS [Entity_ID], 
    [Project1].[Excess_Weight_Quarterly] AS [Excess_Weight_Quarterly], 
    [Project1].[Relative_Contribution_Quarterly] AS [Relative_Contribution_Quarterly], 
    [Project1].[Allocation_Selection_Interaction_Quarterly] AS [Allocation_Selection_Interaction_Quarterly], 
    [Project1].[StockVs_TotBenchmarkReturn_Quarterly] AS [StockVs_TotBenchmarkReturn_Quarterly], 
    [Project1].[Selection_Interaction_Quarterly] AS [Selection_Interaction_Quarterly], 
    [Project1].[Asset_Allocation_Quarterly] AS [Asset_Allocation_Quarterly], 
    [Project1].[Excess_Weight_Monthly] AS [Excess_Weight_Monthly], 
    [Project1].[Relative_Contribution_Monthly] AS [Relative_Contribution_Monthly], 
    [Project1].[Allocation_Selection_Interaction_Monthly] AS [Allocation_Selection_Interaction_Monthly], 
    [Project1].[StockVs_TotBenchmarkReturn_Monthly] AS [StockVs_TotBenchmarkReturn_Monthly], 
    [Project1].[Selection_Interaction_Monthly] AS [Selection_Interaction_Monthly], 
    [Project1].[Asset_Allocation_Monthly] AS [Asset_Allocation_Monthly], 
    [Project1].[Excess_Weight_MonthToDate] AS [Excess_Weight_MonthToDate], 
    [Project1].[Relative_Contribution_MonthToDate] AS [Relative_Contribution_MonthToDate], 
    [Project1].[Allocation_Selection_Interaction_MonthToDate] AS [Allocation_Selection_Interaction_MonthToDate], 
    [Project1].[StockVs_TotBenchmarkReturn_MonthToDate] AS [StockVs_TotBenchmarkReturn_MonthToDate], 
    [Project1].[Selection_Interaction_MonthToDate] AS [Selection_Interaction_MonthToDate], 
    [Project1].[Asset_Allocation_MonthToDate] AS [Asset_Allocation_MonthToDate], 
    [Project1].[Last_Update_Date] AS [Last_Update_Date], 
    [Project1].[Last_Update_User] AS [Last_Update_User], 
    [Project1].[Security_Weight_Portfolio_Monthly] AS [Security_Weight_Portfolio_Monthly], 
    [Project1].[Security_Weight_Portfolio_MonthToDate] AS [Security_Weight_Portfolio_MonthToDate], 
    [Project1].[Security_Weight_Portfolio_Quarterly] AS [Security_Weight_Portfolio_Quarterly], 
    [Project1].[Security_Weight_Benchmark_Monthly] AS [Security_Weight_Benchmark_Monthly], 
    [Project1].[Security_Weight_Benchmark_MonthToDate] AS [Security_Weight_Benchmark_MonthToDate], 
    [Project1].[Security_Weight_Benchmark_Quarterly] AS [Security_Weight_Benchmark_Quarterly], 
    [Project1].[Total_Return_Security_Price_Monthly] AS [Total_Return_Security_Price_Monthly], 
    [Project1].[Total_Return_Security_Price_MonthToDate] AS [Total_Return_Security_Price_MonthToDate], 
    [Project1].[Total_Return_Security_Price_Quarterly] AS [Total_Return_Security_Price_Quarterly], 
    [Project1].[TW_Return_Portfolio_Monthly] AS [TW_Return_Portfolio_Monthly], 
    [Project1].[TW_Return_Portfolio_MonthToDate] AS [TW_Return_Portfolio_MonthToDate], 
    [Project1].[TW_Return_Portfolio_Quarterly] AS [TW_Return_Portfolio_Quarterly], 
    [Project1].[Record_Date] AS [Record_Date], 
    [Project1].[Session_ID] AS [Session_ID], 
    [Project1].[Hist_Last_Update_Date] AS [Hist_Last_Update_Date], 
    [Project1].[Hist_Last_Update_User] AS [Hist_Last_Update_User], 
    [Project1].[Benchmark_Price_Performance_Monthly] AS [Benchmark_Price_Performance_Monthly], 
    [Project1].[Benchmark_Price_Performance_MonthToDate] AS [Benchmark_Price_Performance_MonthToDate], 
    [Project1].[Benchmark_Price_Performance_Quarterly] AS [Benchmark_Price_Performance_Quarterly], 
    [Project1].[Security_ID1] AS [Security_ID1], 
    [Project1].[Entity_ID1] AS [Entity_ID1], 
    [Project1].[Security_Name] AS [Security_Name], 
    [Project1].[Short_Name] AS [Short_Name], 
    [Project1].[Primary_Exch] AS [Primary_Exch], 
    [Project1].[Secondary_Exch] AS [Secondary_Exch], 
    [Project1].[Country_Of_Domicile] AS [Country_Of_Domicile], 
    [Project1].[Country_Of_Risk] AS [Country_Of_Risk], 
    [Project1].[Security_Type_Code] AS [Security_Type_Code], 
    [Project1].[Price_Multiplier] AS [Price_Multiplier], 
    [Project1].[Income_Frequency] AS [Income_Frequency], 
    [Project1].[Issuer_Code] AS [Issuer_Code], 
    [Project1].[Ultimate_Issuer_Code] AS [Ultimate_Issuer_Code], 
    [Project1].[Asset_Currency] AS [Asset_Currency], 
    [Project1].[Min_Lot_Size] AS [Min_Lot_Size], 
    [Project1].[AvePrice_Rounding] AS [AvePrice_Rounding], 
    [Project1].[Issue_Date] AS [Issue_Date], 
    [Project1].[Maturity_Date] AS [Maturity_Date], 
    [Project1].[Coupon_Rate] AS [Coupon_Rate], 
    [Project1].[Price_Exchange] AS [Price_Exchange], 
    [Project1].[Trade_Currency] AS [Trade_Currency], 
    [Project1].[Price_Curr] AS [Price_Curr], 
    [Project1].[Currency_Pair_Code] AS [Currency_Pair_Code], 
    [Project1].[Share_Class] AS [Share_Class], 
    [Project1].[Current_Market_Price] AS [Current_Market_Price], 
    [Project1].[Index_Type] AS [Index_Type], 
    [Project1].[Clean_Price_Formula] AS [Clean_Price_Formula], 
    [Project1].[Accrued_Income_Price_Formula] AS [Accrued_Income_Price_Formula], 
    [Project1].[Odd_First_Coupon_Date] AS [Odd_First_Coupon_Date], 
    [Project1].[Odd_Last_Coupon_Date] AS [Odd_Last_Coupon_Date], 
    [Project1].[Coupon_Anniversary_Indicator] AS [Coupon_Anniversary_Indicator], 
    [Project1].[Track_EOM_Flag] AS [Track_EOM_Flag], 
    [Project1].[Next_Coupon_Date] AS [Next_Coupon_Date], 
    [Project1].[Previous_Coupon_Date] AS [Previous_Coupon_Date], 
    [Project1].[Payment_Frequency] AS [Payment_Frequency], 
    [Project1].[Coupon_BusDay_Adjustment] AS [Coupon_BusDay_Adjustment], 
    [Project1].[Next_Ex_Div_Date] AS [Next_Ex_Div_Date], 
    [Project1].[Ex_Div_BusDay_Adjustment] AS [Ex_Div_BusDay_Adjustment], 
    [Project1].[Ex_Div_Period] AS [Ex_Div_Period], 
    [Project1].[Ticker] AS [Ticker], 
    [Project1].[Inet_ID] AS [Inet_ID], 
    [Project1].[Bloomberg_ID] AS [Bloomberg_ID], 
    [Project1].[External_Sec_ID] AS [External_Sec_ID], 
    [Project1].[Reuters_ID] AS [Reuters_ID], 
    [Project1].[ISIN] AS [ISIN], 
    [Project1].[Call_Account_Flag] AS [Call_Account_Flag], 
    [Project1].[System_Locked] AS [System_Locked], 
    [Project1].[Last_Update_User1] AS [Last_Update_User1], 
    [Project1].[Last_Update_Date1] AS [Last_Update_Date1], 
    [Project1].[Security_Status] AS [Security_Status], 
    [Project1].[Benchmark_Portfolio] AS [Benchmark_Portfolio], 
    [Project1].[Active_flag] AS [Active_flag], 
    [Project1].[Dividend_FX_Security_ID] AS [Dividend_FX_Security_ID]
    FROM ( SELECT 
        [Extent1].[Security_ID] AS [Security_ID], 
        [Extent1].[Portfolio_Code] AS [Portfolio_Code], 
        [Extent1].[Entity_ID] AS [Entity_ID], 
        [Extent1].[Excess_Weight_Quarterly] AS [Excess_Weight_Quarterly], 
        [Extent1].[Relative_Contribution_Quarterly] AS [Relative_Contribution_Quarterly], 
        [Extent1].[Allocation_Selection_Interaction_Quarterly] AS [Allocation_Selection_Interaction_Quarterly], 
        [Extent1].[StockVs_TotBenchmarkReturn_Quarterly] AS [StockVs_TotBenchmarkReturn_Quarterly], 
        [Extent1].[Selection_Interaction_Quarterly] AS [Selection_Interaction_Quarterly], 
        [Extent1].[Asset_Allocation_Quarterly] AS [Asset_Allocation_Quarterly], 
        [Extent1].[Excess_Weight_Monthly] AS [Excess_Weight_Monthly], 
        [Extent1].[Relative_Contribution_Monthly] AS [Relative_Contribution_Monthly], 
        [Extent1].[Allocation_Selection_Interaction_Monthly] AS [Allocation_Selection_Interaction_Monthly], 
        [Extent1].[StockVs_TotBenchmarkReturn_Monthly] AS [StockVs_TotBenchmarkReturn_Monthly], 
        [Extent1].[Selection_Interaction_Monthly] AS [Selection_Interaction_Monthly], 
        [Extent1].[Asset_Allocation_Monthly] AS [Asset_Allocation_Monthly], 
        [Extent1].[Excess_Weight_MonthToDate] AS [Excess_Weight_MonthToDate], 
        [Extent1].[Relative_Contribution_MonthToDate] AS [Relative_Contribution_MonthToDate], 
        [Extent1].[Allocation_Selection_Interaction_MonthToDate] AS [Allocation_Selection_Interaction_MonthToDate], 
        [Extent1].[StockVs_TotBenchmarkReturn_MonthToDate] AS [StockVs_TotBenchmarkReturn_MonthToDate], 
        [Extent1].[Selection_Interaction_MonthToDate] AS [Selection_Interaction_MonthToDate], 
        [Extent1].[Asset_Allocation_MonthToDate] AS [Asset_Allocation_MonthToDate], 
        [Extent1].[Last_Update_Date] AS [Last_Update_Date], 
        [Extent1].[Last_Update_User] AS [Last_Update_User], 
        [Extent1].[Security_Weight_Portfolio_Monthly] AS [Security_Weight_Portfolio_Monthly], 
        [Extent1].[Security_Weight_Portfolio_MonthToDate] AS [Security_Weight_Portfolio_MonthToDate], 
        [Extent1].[Security_Weight_Portfolio_Quarterly] AS [Security_Weight_Portfolio_Quarterly], 
        [Extent1].[Security_Weight_Benchmark_Monthly] AS [Security_Weight_Benchmark_Monthly], 
        [Extent1].[Security_Weight_Benchmark_MonthToDate] AS [Security_Weight_Benchmark_MonthToDate], 
        [Extent1].[Security_Weight_Benchmark_Quarterly] AS [Security_Weight_Benchmark_Quarterly], 
        [Extent1].[Total_Return_Security_Price_Monthly] AS [Total_Return_Security_Price_Monthly], 
        [Extent1].[Total_Return_Security_Price_MonthToDate] AS [Total_Return_Security_Price_MonthToDate], 
        [Extent1].[Total_Return_Security_Price_Quarterly] AS [Total_Return_Security_Price_Quarterly], 
        [Extent1].[TW_Return_Portfolio_Monthly] AS [TW_Return_Portfolio_Monthly], 
        [Extent1].[TW_Return_Portfolio_MonthToDate] AS [TW_Return_Portfolio_MonthToDate], 
        [Extent1].[TW_Return_Portfolio_Quarterly] AS [TW_Return_Portfolio_Quarterly], 
        [Extent1].[Record_Date] AS [Record_Date], 
        [Extent1].[Session_ID] AS [Session_ID], 
        [Extent1].[Hist_Last_Update_Date] AS [Hist_Last_Update_Date], 
        [Extent1].[Hist_Last_Update_User] AS [Hist_Last_Update_User], 
        [Extent1].[Benchmark_Price_Performance_Monthly] AS [Benchmark_Price_Performance_Monthly], 
        [Extent1].[Benchmark_Price_Performance_MonthToDate] AS [Benchmark_Price_Performance_MonthToDate], 
        [Extent1].[Benchmark_Price_Performance_Quarterly] AS [Benchmark_Price_Performance_Quarterly], 
        [Extent2].[Security_ID] AS [Security_ID1], 
        [Extent2].[Entity_ID] AS [Entity_ID1], 
        [Extent2].[Security_Name] AS [Security_Name], 
        [Extent2].[Short_Name] AS [Short_Name], 
        [Extent2].[Primary_Exch] AS [Primary_Exch], 
        [Extent2].[Secondary_Exch] AS [Secondary_Exch], 
        [Extent2].[Country_Of_Domicile] AS [Country_Of_Domicile], 
        [Extent2].[Country_Of_Risk] AS [Country_Of_Risk], 
        [Extent2].[Security_Type_Code] AS [Security_Type_Code], 
        [Extent2].[Price_Multiplier] AS [Price_Multiplier], 
        [Extent2].[Income_Frequency] AS [Income_Frequency], 
        [Extent2].[Issuer_Code] AS [Issuer_Code], 
        [Extent2].[Ultimate_Issuer_Code] AS [Ultimate_Issuer_Code], 
        [Extent2].[Asset_Currency] AS [Asset_Currency], 
        [Extent2].[Min_Lot_Size] AS [Min_Lot_Size], 
        [Extent2].[Decimal_Precision] AS [Decimal_Precision], 
        [Extent2].[AvePrice_Rounding] AS [AvePrice_Rounding], 
        [Extent2].[Issue_Date] AS [Issue_Date], 
        [Extent2].[Maturity_Date] AS [Maturity_Date], 
        [Extent2].[Coupon_Rate] AS [Coupon_Rate], 
        [Extent2].[Price_Exchange] AS [Price_Exchange], 
        [Extent2].[Trade_Currency] AS [Trade_Currency], 
        [Extent2].[Price_Curr] AS [Price_Curr], 
        [Extent2].[Currency_Pair_Code] AS [Currency_Pair_Code], 
        [Extent2].[Share_Class] AS [Share_Class], 
        [Extent2].[Current_Market_Price] AS [Current_Market_Price], 
        [Extent2].[Index_Type] AS [Index_Type], 
        [Extent2].[Clean_Price_Formula] AS [Clean_Price_Formula], 
        [Extent2].[Accrued_Income_Price_Formula] AS [Accrued_Income_Price_Formula], 
        [Extent2].[Odd_First_Coupon_Date] AS [Odd_First_Coupon_Date], 
        [Extent2].[Odd_Last_Coupon_Date] AS [Odd_Last_Coupon_Date], 
        [Extent2].[Coupon_Anniversary_Indicator] AS [Coupon_Anniversary_Indicator], 
        [Extent2].[Track_EOM_Flag] AS [Track_EOM_Flag], 
        [Extent2].[Next_Coupon_Date] AS [Next_Coupon_Date], 
        [Extent2].[Previous_Coupon_Date] AS [Previous_Coupon_Date], 
        [Extent2].[Payment_Frequency] AS [Payment_Frequency], 
        [Extent2].[Coupon_BusDay_Adjustment] AS [Coupon_BusDay_Adjustment], 
        [Extent2].[Next_Ex_Div_Date] AS [Next_Ex_Div_Date], 
        [Extent2].[Ex_Div_BusDay_Adjustment] AS [Ex_Div_BusDay_Adjustment], 
        [Extent2].[Ex_Div_Period] AS [Ex_Div_Period], 
        [Extent2].[Ticker] AS [Ticker], 
        [Extent2].[Inet_ID] AS [Inet_ID], 
        [Extent2].[Bloomberg_ID] AS [Bloomberg_ID], 
        [Extent2].[External_Sec_ID] AS [External_Sec_ID], 
        [Extent2].[Reuters_ID] AS [Reuters_ID], 
        [Extent2].[ISIN] AS [ISIN], 
        [Extent2].[Call_Account_Flag] AS [Call_Account_Flag], 
        [Extent2].[System_Locked] AS [System_Locked], 
        [Extent2].[Last_Update_User] AS [Last_Update_User1], 
        [Extent2].[Last_Update_Date] AS [Last_Update_Date1], 
        [Extent2].[Security_Status] AS [Security_Status], 
        [Extent2].[Benchmark_Portfolio] AS [Benchmark_Portfolio], 
        [Extent2].[Active_flag] AS [Active_flag], 
        [Extent2].[Dividend_FX_Security_ID] AS [Dividend_FX_Security_ID]
        FROM  [dbo].[Security_Attribution_History] AS [Extent1]
        INNER JOIN [dbo].[Security_Detail] AS [Extent2] ON [Extent1].[Security_ID] = [Extent2].[Security_ID]
        WHERE ([Extent1].[Security_ID] = @p__linq__0) AND ([Extent1].[Portfolio_Code] = @p__linq__1)
    )  AS [Project1]
    ORDER BY [Project1].[Record_Date] DESC
2018-04-11 13:17:26.6822|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: SELECT 
    [Project1].[Decimal_Precision] AS [Decimal_Precision], 
    [Project1].[Security_ID] AS [Security_ID], 
    [Project1].[Portfolio_Code] AS [Portfolio_Code], 
    [Project1].[Entity_ID] AS [Entity_ID], 
    [Project1].[Excess_Weight_Quarterly] AS [Excess_Weight_Quarterly], 
    [Project1].[Relative_Contribution_Quarterly] AS [Relative_Contribution_Quarterly], 
    [Project1].[Allocation_Selection_Interaction_Quarterly] AS [Allocation_Selection_Interaction_Quarterly], 
    [Project1].[StockVs_TotBenchmarkReturn_Quarterly] AS [StockVs_TotBenchmarkReturn_Quarterly], 
    [Project1].[Selection_Interaction_Quarterly] AS [Selection_Interaction_Quarterly], 
    [Project1].[Asset_Allocation_Quarterly] AS [Asset_Allocation_Quarterly], 
    [Project1].[Excess_Weight_Monthly] AS [Excess_Weight_Monthly], 
    [Project1].[Relative_Contribution_Monthly] AS [Relative_Contribution_Monthly], 
    [Project1].[Allocation_Selection_Interaction_Monthly] AS [Allocation_Selection_Interaction_Monthly], 
    [Project1].[StockVs_TotBenchmarkReturn_Monthly] AS [StockVs_TotBenchmarkReturn_Monthly], 
    [Project1].[Selection_Interaction_Monthly] AS [Selection_Interaction_Monthly], 
    [Project1].[Asset_Allocation_Monthly] AS [Asset_Allocation_Monthly], 
    [Project1].[Excess_Weight_MonthToDate] AS [Excess_Weight_MonthToDate], 
    [Project1].[Relative_Contribution_MonthToDate] AS [Relative_Contribution_MonthToDate], 
    [Project1].[Allocation_Selection_Interaction_MonthToDate] AS [Allocation_Selection_Interaction_MonthToDate], 
    [Project1].[StockVs_TotBenchmarkReturn_MonthToDate] AS [StockVs_TotBenchmarkReturn_MonthToDate], 
    [Project1].[Selection_Interaction_MonthToDate] AS [Selection_Interaction_MonthToDate], 
    [Project1].[Asset_Allocation_MonthToDate] AS [Asset_Allocation_MonthToDate], 
    [Project1].[Last_Update_Date] AS [Last_Update_Date], 
    [Project1].[Last_Update_User] AS [Last_Update_User], 
    [Project1].[Security_Weight_Portfolio_Monthly] AS [Security_Weight_Portfolio_Monthly], 
    [Project1].[Security_Weight_Portfolio_MonthToDate] AS [Security_Weight_Portfolio_MonthToDate], 
    [Project1].[Security_Weight_Portfolio_Quarterly] AS [Security_Weight_Portfolio_Quarterly], 
    [Project1].[Security_Weight_Benchmark_Monthly] AS [Security_Weight_Benchmark_Monthly], 
    [Project1].[Security_Weight_Benchmark_MonthToDate] AS [Security_Weight_Benchmark_MonthToDate], 
    [Project1].[Security_Weight_Benchmark_Quarterly] AS [Security_Weight_Benchmark_Quarterly], 
    [Project1].[Total_Return_Security_Price_Monthly] AS [Total_Return_Security_Price_Monthly], 
    [Project1].[Total_Return_Security_Price_MonthToDate] AS [Total_Return_Security_Price_MonthToDate], 
    [Project1].[Total_Return_Security_Price_Quarterly] AS [Total_Return_Security_Price_Quarterly], 
    [Project1].[TW_Return_Portfolio_Monthly] AS [TW_Return_Portfolio_Monthly], 
    [Project1].[TW_Return_Portfolio_MonthToDate] AS [TW_Return_Portfolio_MonthToDate], 
    [Project1].[TW_Return_Portfolio_Quarterly] AS [TW_Return_Portfolio_Quarterly], 
    [Project1].[Record_Date] AS [Record_Date], 
    [Project1].[Session_ID] AS [Session_ID], 
    [Project1].[Hist_Last_Update_Date] AS [Hist_Last_Update_Date], 
    [Project1].[Hist_Last_Update_User] AS [Hist_Last_Update_User], 
    [Project1].[Benchmark_Price_Performance_Monthly] AS [Benchmark_Price_Performance_Monthly], 
    [Project1].[Benchmark_Price_Performance_MonthToDate] AS [Benchmark_Price_Performance_MonthToDate], 
    [Project1].[Benchmark_Price_Performance_Quarterly] AS [Benchmark_Price_Performance_Quarterly], 
    [Project1].[Security_ID1] AS [Security_ID1], 
    [Project1].[Entity_ID1] AS [Entity_ID1], 
    [Project1].[Security_Name] AS [Security_Name], 
    [Project1].[Short_Name] AS [Short_Name], 
    [Project1].[Primary_Exch] AS [Primary_Exch], 
    [Project1].[Secondary_Exch] AS [Secondary_Exch], 
    [Project1].[Country_Of_Domicile] AS [Country_Of_Domicile], 
    [Project1].[Country_Of_Risk] AS [Country_Of_Risk], 
    [Project1].[Security_Type_Code] AS [Security_Type_Code], 
    [Project1].[Price_Multiplier] AS [Price_Multiplier], 
    [Project1].[Income_Frequency] AS [Income_Frequency], 
    [Project1].[Issuer_Code] AS [Issuer_Code], 
    [Project1].[Ultimate_Issuer_Code] AS [Ultimate_Issuer_Code], 
    [Project1].[Asset_Currency] AS [Asset_Currency], 
    [Project1].[Min_Lot_Size] AS [Min_Lot_Size], 
    [Project1].[AvePrice_Rounding] AS [AvePrice_Rounding], 
    [Project1].[Issue_Date] AS [Issue_Date], 
    [Project1].[Maturity_Date] AS [Maturity_Date], 
    [Project1].[Coupon_Rate] AS [Coupon_Rate], 
    [Project1].[Price_Exchange] AS [Price_Exchange], 
    [Project1].[Trade_Currency] AS [Trade_Currency], 
    [Project1].[Price_Curr] AS [Price_Curr], 
    [Project1].[Currency_Pair_Code] AS [Currency_Pair_Code], 
    [Project1].[Share_Class] AS [Share_Class], 
    [Project1].[Current_Market_Price] AS [Current_Market_Price], 
    [Project1].[Index_Type] AS [Index_Type], 
    [Project1].[Clean_Price_Formula] AS [Clean_Price_Formula], 
    [Project1].[Accrued_Income_Price_Formula] AS [Accrued_Income_Price_Formula], 
    [Project1].[Odd_First_Coupon_Date] AS [Odd_First_Coupon_Date], 
    [Project1].[Odd_Last_Coupon_Date] AS [Odd_Last_Coupon_Date], 
    [Project1].[Coupon_Anniversary_Indicator] AS [Coupon_Anniversary_Indicator], 
    [Project1].[Track_EOM_Flag] AS [Track_EOM_Flag], 
    [Project1].[Next_Coupon_Date] AS [Next_Coupon_Date], 
    [Project1].[Previous_Coupon_Date] AS [Previous_Coupon_Date], 
    [Project1].[Payment_Frequency] AS [Payment_Frequency], 
    [Project1].[Coupon_BusDay_Adjustment] AS [Coupon_BusDay_Adjustment], 
    [Project1].[Next_Ex_Div_Date] AS [Next_Ex_Div_Date], 
    [Project1].[Ex_Div_BusDay_Adjustment] AS [Ex_Div_BusDay_Adjustment], 
    [Project1].[Ex_Div_Period] AS [Ex_Div_Period], 
    [Project1].[Ticker] AS [Ticker], 
    [Project1].[Inet_ID] AS [Inet_ID], 
    [Project1].[Bloomberg_ID] AS [Bloomberg_ID], 
    [Project1].[External_Sec_ID] AS [External_Sec_ID], 
    [Project1].[Reuters_ID] AS [Reuters_ID], 
    [Project1].[ISIN] AS [ISIN], 
    [Project1].[Call_Account_Flag] AS [Call_Account_Flag], 
    [Project1].[System_Locked] AS [System_Locked], 
    [Project1].[Last_Update_User1] AS [Last_Update_User1], 
    [Project1].[Last_Update_Date1] AS [Last_Update_Date1], 
    [Project1].[Security_Status] AS [Security_Status], 
    [Project1].[Benchmark_Portfolio] AS [Benchmark_Portfolio], 
    [Project1].[Active_flag] AS [Active_flag], 
    [Project1].[Dividend_FX_Security_ID] AS [Dividend_FX_Security_ID]
    FROM ( SELECT 
        [Extent1].[Security_ID] AS [Security_ID], 
        [Extent1].[Portfolio_Code] AS [Portfolio_Code], 
        [Extent1].[Entity_ID] AS [Entity_ID], 
        [Extent1].[Excess_Weight_Quarterly] AS [Excess_Weight_Quarterly], 
        [Extent1].[Relative_Contribution_Quarterly] AS [Relative_Contribution_Quarterly], 
        [Extent1].[Allocation_Selection_Interaction_Quarterly] AS [Allocation_Selection_Interaction_Quarterly], 
        [Extent1].[StockVs_TotBenchmarkReturn_Quarterly] AS [StockVs_TotBenchmarkReturn_Quarterly], 
        [Extent1].[Selection_Interaction_Quarterly] AS [Selection_Interaction_Quarterly], 
        [Extent1].[Asset_Allocation_Quarterly] AS [Asset_Allocation_Quarterly], 
        [Extent1].[Excess_Weight_Monthly] AS [Excess_Weight_Monthly], 
        [Extent1].[Relative_Contribution_Monthly] AS [Relative_Contribution_Monthly], 
        [Extent1].[Allocation_Selection_Interaction_Monthly] AS [Allocation_Selection_Interaction_Monthly], 
        [Extent1].[StockVs_TotBenchmarkReturn_Monthly] AS [StockVs_TotBenchmarkReturn_Monthly], 
        [Extent1].[Selection_Interaction_Monthly] AS [Selection_Interaction_Monthly], 
        [Extent1].[Asset_Allocation_Monthly] AS [Asset_Allocation_Monthly], 
        [Extent1].[Excess_Weight_MonthToDate] AS [Excess_Weight_MonthToDate], 
        [Extent1].[Relative_Contribution_MonthToDate] AS [Relative_Contribution_MonthToDate], 
        [Extent1].[Allocation_Selection_Interaction_MonthToDate] AS [Allocation_Selection_Interaction_MonthToDate], 
        [Extent1].[StockVs_TotBenchmarkReturn_MonthToDate] AS [StockVs_TotBenchmarkReturn_MonthToDate], 
        [Extent1].[Selection_Interaction_MonthToDate] AS [Selection_Interaction_MonthToDate], 
        [Extent1].[Asset_Allocation_MonthToDate] AS [Asset_Allocation_MonthToDate], 
        [Extent1].[Last_Update_Date] AS [Last_Update_Date], 
        [Extent1].[Last_Update_User] AS [Last_Update_User], 
        [Extent1].[Security_Weight_Portfolio_Monthly] AS [Security_Weight_Portfolio_Monthly], 
        [Extent1].[Security_Weight_Portfolio_MonthToDate] AS [Security_Weight_Portfolio_MonthToDate], 
        [Extent1].[Security_Weight_Portfolio_Quarterly] AS [Security_Weight_Portfolio_Quarterly], 
        [Extent1].[Security_Weight_Benchmark_Monthly] AS [Security_Weight_Benchmark_Monthly], 
        [Extent1].[Security_Weight_Benchmark_MonthToDate] AS [Security_Weight_Benchmark_MonthToDate], 
        [Extent1].[Security_Weight_Benchmark_Quarterly] AS [Security_Weight_Benchmark_Quarterly], 
        [Extent1].[Total_Return_Security_Price_Monthly] AS [Total_Return_Security_Price_Monthly], 
        [Extent1].[Total_Return_Security_Price_MonthToDate] AS [Total_Return_Security_Price_MonthToDate], 
        [Extent1].[Total_Return_Security_Price_Quarterly] AS [Total_Return_Security_Price_Quarterly], 
        [Extent1].[TW_Return_Portfolio_Monthly] AS [TW_Return_Portfolio_Monthly], 
        [Extent1].[TW_Return_Portfolio_MonthToDate] AS [TW_Return_Portfolio_MonthToDate], 
        [Extent1].[TW_Return_Portfolio_Quarterly] AS [TW_Return_Portfolio_Quarterly], 
        [Extent1].[Record_Date] AS [Record_Date], 
        [Extent1].[Session_ID] AS [Session_ID], 
        [Extent1].[Hist_Last_Update_Date] AS [Hist_Last_Update_Date], 
        [Extent1].[Hist_Last_Update_User] AS [Hist_Last_Update_User], 
        [Extent1].[Benchmark_Price_Performance_Monthly] AS [Benchmark_Price_Performance_Monthly], 
        [Extent1].[Benchmark_Price_Performance_MonthToDate] AS [Benchmark_Price_Performance_MonthToDate], 
        [Extent1].[Benchmark_Price_Performance_Quarterly] AS [Benchmark_Price_Performance_Quarterly], 
        [Extent2].[Security_ID] AS [Security_ID1], 
        [Extent2].[Entity_ID] AS [Entity_ID1], 
        [Extent2].[Security_Name] AS [Security_Name], 
        [Extent2].[Short_Name] AS [Short_Name], 
        [Extent2].[Primary_Exch] AS [Primary_Exch], 
        [Extent2].[Secondary_Exch] AS [Secondary_Exch], 
        [Extent2].[Country_Of_Domicile] AS [Country_Of_Domicile], 
        [Extent2].[Country_Of_Risk] AS [Country_Of_Risk], 
        [Extent2].[Security_Type_Code] AS [Security_Type_Code], 
        [Extent2].[Price_Multiplier] AS [Price_Multiplier], 
        [Extent2].[Income_Frequency] AS [Income_Frequency], 
        [Extent2].[Issuer_Code] AS [Issuer_Code], 
        [Extent2].[Ultimate_Issuer_Code] AS [Ultimate_Issuer_Code], 
        [Extent2].[Asset_Currency] AS [Asset_Currency], 
        [Extent2].[Min_Lot_Size] AS [Min_Lot_Size], 
        [Extent2].[Decimal_Precision] AS [Decimal_Precision], 
        [Extent2].[AvePrice_Rounding] AS [AvePrice_Rounding], 
        [Extent2].[Issue_Date] AS [Issue_Date], 
        [Extent2].[Maturity_Date] AS [Maturity_Date], 
        [Extent2].[Coupon_Rate] AS [Coupon_Rate], 
        [Extent2].[Price_Exchange] AS [Price_Exchange], 
        [Extent2].[Trade_Currency] AS [Trade_Currency], 
        [Extent2].[Price_Curr] AS [Price_Curr], 
        [Extent2].[Currency_Pair_Code] AS [Currency_Pair_Code], 
        [Extent2].[Share_Class] AS [Share_Class], 
        [Extent2].[Current_Market_Price] AS [Current_Market_Price], 
        [Extent2].[Index_Type] AS [Index_Type], 
        [Extent2].[Clean_Price_Formula] AS [Clean_Price_Formula], 
        [Extent2].[Accrued_Income_Price_Formula] AS [Accrued_Income_Price_Formula], 
        [Extent2].[Odd_First_Coupon_Date] AS [Odd_First_Coupon_Date], 
        [Extent2].[Odd_Last_Coupon_Date] AS [Odd_Last_Coupon_Date], 
        [Extent2].[Coupon_Anniversary_Indicator] AS [Coupon_Anniversary_Indicator], 
        [Extent2].[Track_EOM_Flag] AS [Track_EOM_Flag], 
        [Extent2].[Next_Coupon_Date] AS [Next_Coupon_Date], 
        [Extent2].[Previous_Coupon_Date] AS [Previous_Coupon_Date], 
        [Extent2].[Payment_Frequency] AS [Payment_Frequency], 
        [Extent2].[Coupon_BusDay_Adjustment] AS [Coupon_BusDay_Adjustment], 
        [Extent2].[Next_Ex_Div_Date] AS [Next_Ex_Div_Date], 
        [Extent2].[Ex_Div_BusDay_Adjustment] AS [Ex_Div_BusDay_Adjustment], 
        [Extent2].[Ex_Div_Period] AS [Ex_Div_Period], 
        [Extent2].[Ticker] AS [Ticker], 
        [Extent2].[Inet_ID] AS [Inet_ID], 
        [Extent2].[Bloomberg_ID] AS [Bloomberg_ID], 
        [Extent2].[External_Sec_ID] AS [External_Sec_ID], 
        [Extent2].[Reuters_ID] AS [Reuters_ID], 
        [Extent2].[ISIN] AS [ISIN], 
        [Extent2].[Call_Account_Flag] AS [Call_Account_Flag], 
        [Extent2].[System_Locked] AS [System_Locked], 
        [Extent2].[Last_Update_User] AS [Last_Update_User1], 
        [Extent2].[Last_Update_Date] AS [Last_Update_Date1], 
        [Extent2].[Security_Status] AS [Security_Status], 
        [Extent2].[Benchmark_Portfolio] AS [Benchmark_Portfolio], 
        [Extent2].[Active_flag] AS [Active_flag], 
        [Extent2].[Dividend_FX_Security_ID] AS [Dividend_FX_Security_ID]
        FROM  [dbo].[Security_Attribution_History] AS [Extent1]
        INNER JOIN [dbo].[Security_Detail] AS [Extent2] ON [Extent1].[Security_ID] = [Extent2].[Security_ID]
        WHERE ([Extent1].[Security_ID] = @p__linq__0) AND ([Extent1].[Portfolio_Code] = @p__linq__1)
    )  AS [Project1]
    ORDER BY [Project1].[Record_Date] DESC
2018-04-11 13:17:26.9019|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: IF db_id(N'MetopeAzureDb') IS NOT NULL SELECT 1 ELSE SELECT Count(*) FROM sys.databases WHERE [name]=N'MetopeAzureDb'
2018-04-11 13:17:26.9289|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: IF db_id(N'MetopeAzureDb') IS NOT NULL SELECT 1 ELSE SELECT Count(*) FROM sys.databases WHERE [name]=N'MetopeAzureDb'
2018-04-11 13:17:26.9569|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: IF db_id(N'MetopeAzureDb') IS NOT NULL SELECT 1 ELSE SELECT Count(*) FROM sys.databases WHERE [name]=N'MetopeAzureDb'
2018-04-11 13:17:26.9845|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: IF db_id(N'MetopeAzureDb') IS NOT NULL SELECT 1 ELSE SELECT Count(*) FROM sys.databases WHERE [name]=N'MetopeAzureDb'
2018-04-11 13:17:42.0546|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: SELECT 
    [Project1].[Security_ID] AS [Security_ID], 
    [Project1].[Entity_ID] AS [Entity_ID], 
    [Project1].[Security_Name] AS [Security_Name], 
    [Project1].[Short_Name] AS [Short_Name], 
    [Project1].[Primary_Exch] AS [Primary_Exch], 
    [Project1].[Secondary_Exch] AS [Secondary_Exch], 
    [Project1].[Country_Of_Domicile] AS [Country_Of_Domicile], 
    [Project1].[Country_Of_Risk] AS [Country_Of_Risk], 
    [Project1].[Security_Type_Code] AS [Security_Type_Code], 
    [Project1].[Price_Multiplier] AS [Price_Multiplier], 
    [Project1].[Income_Frequency] AS [Income_Frequency], 
    [Project1].[Issuer_Code] AS [Issuer_Code], 
    [Project1].[Ultimate_Issuer_Code] AS [Ultimate_Issuer_Code], 
    [Project1].[Asset_Currency] AS [Asset_Currency], 
    [Project1].[Min_Lot_Size] AS [Min_Lot_Size], 
    [Project1].[Decimal_Precision] AS [Decimal_Precision], 
    [Project1].[AvePrice_Rounding] AS [AvePrice_Rounding], 
    [Project1].[Issue_Date] AS [Issue_Date], 
    [Project1].[Maturity_Date] AS [Maturity_Date], 
    [Project1].[Coupon_Rate] AS [Coupon_Rate], 
    [Project1].[Price_Exchange] AS [Price_Exchange], 
    [Project1].[Trade_Currency] AS [Trade_Currency], 
    [Project1].[Price_Curr] AS [Price_Curr], 
    [Project1].[Currency_Pair_Code] AS [Currency_Pair_Code], 
    [Project1].[Share_Class] AS [Share_Class], 
    [Project1].[Current_Market_Price] AS [Current_Market_Price], 
    [Project1].[Index_Type] AS [Index_Type], 
    [Project1].[Clean_Price_Formula] AS [Clean_Price_Formula], 
    [Project1].[Accrued_Income_Price_Formula] AS [Accrued_Income_Price_Formula], 
    [Project1].[Odd_First_Coupon_Date] AS [Odd_First_Coupon_Date], 
    [Project1].[Odd_Last_Coupon_Date] AS [Odd_Last_Coupon_Date], 
    [Project1].[Coupon_Anniversary_Indicator] AS [Coupon_Anniversary_Indicator], 
    [Project1].[Track_EOM_Flag] AS [Track_EOM_Flag], 
    [Project1].[Next_Coupon_Date] AS [Next_Coupon_Date], 
    [Project1].[Previous_Coupon_Date] AS [Previous_Coupon_Date], 
    [Project1].[Payment_Frequency] AS [Payment_Frequency], 
    [Project1].[Coupon_BusDay_Adjustment] AS [Coupon_BusDay_Adjustment], 
    [Project1].[Next_Ex_Div_Date] AS [Next_Ex_Div_Date], 
    [Project1].[Ex_Div_BusDay_Adjustment] AS [Ex_Div_BusDay_Adjustment], 
    [Project1].[Ex_Div_Period] AS [Ex_Div_Period], 
    [Project1].[Ticker] AS [Ticker], 
    [Project1].[Inet_ID] AS [Inet_ID], 
    [Project1].[Bloomberg_ID] AS [Bloomberg_ID], 
    [Project1].[External_Sec_ID] AS [External_Sec_ID], 
    [Project1].[Reuters_ID] AS [Reuters_ID], 
    [Project1].[ISIN] AS [ISIN], 
    [Project1].[Call_Account_Flag] AS [Call_Account_Flag], 
    [Project1].[System_Locked] AS [System_Locked], 
    [Project1].[Last_Update_User] AS [Last_Update_User], 
    [Project1].[Last_Update_Date] AS [Last_Update_Date], 
    [Project1].[Security_Status] AS [Security_Status], 
    [Project1].[Benchmark_Portfolio] AS [Benchmark_Portfolio], 
    [Project1].[Active_flag] AS [Active_flag], 
    [Project1].[Dividend_FX_Security_ID] AS [Dividend_FX_Security_ID]
    FROM ( SELECT 
        [Extent1].[Security_ID] AS [Security_ID], 
        [Extent1].[Entity_ID] AS [Entity_ID], 
        [Extent1].[Security_Name] AS [Security_Name], 
        [Extent1].[Short_Name] AS [Short_Name], 
        [Extent1].[Primary_Exch] AS [Primary_Exch], 
        [Extent1].[Secondary_Exch] AS [Secondary_Exch], 
        [Extent1].[Country_Of_Domicile] AS [Country_Of_Domicile], 
        [Extent1].[Country_Of_Risk] AS [Country_Of_Risk], 
        [Extent1].[Security_Type_Code] AS [Security_Type_Code], 
        [Extent1].[Price_Multiplier] AS [Price_Multiplier], 
        [Extent1].[Income_Frequency] AS [Income_Frequency], 
        [Extent1].[Issuer_Code] AS [Issuer_Code], 
        [Extent1].[Ultimate_Issuer_Code] AS [Ultimate_Issuer_Code], 
        [Extent1].[Asset_Currency] AS [Asset_Currency], 
        [Extent1].[Min_Lot_Size] AS [Min_Lot_Size], 
        [Extent1].[Decimal_Precision] AS [Decimal_Precision], 
        [Extent1].[AvePrice_Rounding] AS [AvePrice_Rounding], 
        [Extent1].[Issue_Date] AS [Issue_Date], 
        [Extent1].[Maturity_Date] AS [Maturity_Date], 
        [Extent1].[Coupon_Rate] AS [Coupon_Rate], 
        [Extent1].[Price_Exchange] AS [Price_Exchange], 
        [Extent1].[Trade_Currency] AS [Trade_Currency], 
        [Extent1].[Price_Curr] AS [Price_Curr], 
        [Extent1].[Currency_Pair_Code] AS [Currency_Pair_Code], 
        [Extent1].[Share_Class] AS [Share_Class], 
        [Extent1].[Current_Market_Price] AS [Current_Market_Price], 
        [Extent1].[Index_Type] AS [Index_Type], 
        [Extent1].[Clean_Price_Formula] AS [Clean_Price_Formula], 
        [Extent1].[Accrued_Income_Price_Formula] AS [Accrued_Income_Price_Formula], 
        [Extent1].[Odd_First_Coupon_Date] AS [Odd_First_Coupon_Date], 
        [Extent1].[Odd_Last_Coupon_Date] AS [Odd_Last_Coupon_Date], 
        [Extent1].[Coupon_Anniversary_Indicator] AS [Coupon_Anniversary_Indicator], 
        [Extent1].[Track_EOM_Flag] AS [Track_EOM_Flag], 
        [Extent1].[Next_Coupon_Date] AS [Next_Coupon_Date], 
        [Extent1].[Previous_Coupon_Date] AS [Previous_Coupon_Date], 
        [Extent1].[Payment_Frequency] AS [Payment_Frequency], 
        [Extent1].[Coupon_BusDay_Adjustment] AS [Coupon_BusDay_Adjustment], 
        [Extent1].[Next_Ex_Div_Date] AS [Next_Ex_Div_Date], 
        [Extent1].[Ex_Div_BusDay_Adjustment] AS [Ex_Div_BusDay_Adjustment], 
        [Extent1].[Ex_Div_Period] AS [Ex_Div_Period], 
        [Extent1].[Ticker] AS [Ticker], 
        [Extent1].[Inet_ID] AS [Inet_ID], 
        [Extent1].[Bloomberg_ID] AS [Bloomberg_ID], 
        [Extent1].[External_Sec_ID] AS [External_Sec_ID], 
        [Extent1].[Reuters_ID] AS [Reuters_ID], 
        [Extent1].[ISIN] AS [ISIN], 
        [Extent1].[Call_Account_Flag] AS [Call_Account_Flag], 
        [Extent1].[System_Locked] AS [System_Locked], 
        [Extent1].[Last_Update_User] AS [Last_Update_User], 
        [Extent1].[Last_Update_Date] AS [Last_Update_Date], 
        [Extent1].[Security_Status] AS [Security_Status], 
        [Extent1].[Benchmark_Portfolio] AS [Benchmark_Portfolio], 
        [Extent1].[Active_flag] AS [Active_flag], 
        [Extent1].[Dividend_FX_Security_ID] AS [Dividend_FX_Security_ID]
        FROM [dbo].[Security_Detail] AS [Extent1]
        WHERE ([Extent1].[Entity_ID] IN (@p__linq__0,@p__linq__1)) AND ((CASE WHEN ( NOT ((N'' = @p__linq__2) AND (@p__linq__2 IS NOT NULL))) THEN CASE WHEN ([Extent1].[Security_Type_Code] = @p__linq__3) THEN cast(1 as bit) WHEN ( NOT (([Extent1].[Security_Type_Code] = @p__linq__3) AND (0 = (CASE WHEN (@p__linq__3 IS NULL) THEN cast(1 as bit) ELSE cast(0 as bit) END)))) THEN cast(0 as bit) END WHEN ('' <> [Extent1].[Security_Type_Code]) THEN cast(1 as bit) WHEN ('' = [Extent1].[Security_Type_Code]) THEN cast(0 as bit) END) = 1)
    )  AS [Project1]
    ORDER BY [Project1].[Security_Name] ASC
2018-04-11 13:17:42.1457|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: SELECT 
    [Project1].[Security_ID] AS [Security_ID], 
    [Project1].[Entity_ID] AS [Entity_ID], 
    [Project1].[Security_Name] AS [Security_Name], 
    [Project1].[Short_Name] AS [Short_Name], 
    [Project1].[Primary_Exch] AS [Primary_Exch], 
    [Project1].[Secondary_Exch] AS [Secondary_Exch], 
    [Project1].[Country_Of_Domicile] AS [Country_Of_Domicile], 
    [Project1].[Country_Of_Risk] AS [Country_Of_Risk], 
    [Project1].[Security_Type_Code] AS [Security_Type_Code], 
    [Project1].[Price_Multiplier] AS [Price_Multiplier], 
    [Project1].[Income_Frequency] AS [Income_Frequency], 
    [Project1].[Issuer_Code] AS [Issuer_Code], 
    [Project1].[Ultimate_Issuer_Code] AS [Ultimate_Issuer_Code], 
    [Project1].[Asset_Currency] AS [Asset_Currency], 
    [Project1].[Min_Lot_Size] AS [Min_Lot_Size], 
    [Project1].[Decimal_Precision] AS [Decimal_Precision], 
    [Project1].[AvePrice_Rounding] AS [AvePrice_Rounding], 
    [Project1].[Issue_Date] AS [Issue_Date], 
    [Project1].[Maturity_Date] AS [Maturity_Date], 
    [Project1].[Coupon_Rate] AS [Coupon_Rate], 
    [Project1].[Price_Exchange] AS [Price_Exchange], 
    [Project1].[Trade_Currency] AS [Trade_Currency], 
    [Project1].[Price_Curr] AS [Price_Curr], 
    [Project1].[Currency_Pair_Code] AS [Currency_Pair_Code], 
    [Project1].[Share_Class] AS [Share_Class], 
    [Project1].[Current_Market_Price] AS [Current_Market_Price], 
    [Project1].[Index_Type] AS [Index_Type], 
    [Project1].[Clean_Price_Formula] AS [Clean_Price_Formula], 
    [Project1].[Accrued_Income_Price_Formula] AS [Accrued_Income_Price_Formula], 
    [Project1].[Odd_First_Coupon_Date] AS [Odd_First_Coupon_Date], 
    [Project1].[Odd_Last_Coupon_Date] AS [Odd_Last_Coupon_Date], 
    [Project1].[Coupon_Anniversary_Indicator] AS [Coupon_Anniversary_Indicator], 
    [Project1].[Track_EOM_Flag] AS [Track_EOM_Flag], 
    [Project1].[Next_Coupon_Date] AS [Next_Coupon_Date], 
    [Project1].[Previous_Coupon_Date] AS [Previous_Coupon_Date], 
    [Project1].[Payment_Frequency] AS [Payment_Frequency], 
    [Project1].[Coupon_BusDay_Adjustment] AS [Coupon_BusDay_Adjustment], 
    [Project1].[Next_Ex_Div_Date] AS [Next_Ex_Div_Date], 
    [Project1].[Ex_Div_BusDay_Adjustment] AS [Ex_Div_BusDay_Adjustment], 
    [Project1].[Ex_Div_Period] AS [Ex_Div_Period], 
    [Project1].[Ticker] AS [Ticker], 
    [Project1].[Inet_ID] AS [Inet_ID], 
    [Project1].[Bloomberg_ID] AS [Bloomberg_ID], 
    [Project1].[External_Sec_ID] AS [External_Sec_ID], 
    [Project1].[Reuters_ID] AS [Reuters_ID], 
    [Project1].[ISIN] AS [ISIN], 
    [Project1].[Call_Account_Flag] AS [Call_Account_Flag], 
    [Project1].[System_Locked] AS [System_Locked], 
    [Project1].[Last_Update_User] AS [Last_Update_User], 
    [Project1].[Last_Update_Date] AS [Last_Update_Date], 
    [Project1].[Security_Status] AS [Security_Status], 
    [Project1].[Benchmark_Portfolio] AS [Benchmark_Portfolio], 
    [Project1].[Active_flag] AS [Active_flag], 
    [Project1].[Dividend_FX_Security_ID] AS [Dividend_FX_Security_ID]
    FROM ( SELECT 
        [Extent1].[Security_ID] AS [Security_ID], 
        [Extent1].[Entity_ID] AS [Entity_ID], 
        [Extent1].[Security_Name] AS [Security_Name], 
        [Extent1].[Short_Name] AS [Short_Name], 
        [Extent1].[Primary_Exch] AS [Primary_Exch], 
        [Extent1].[Secondary_Exch] AS [Secondary_Exch], 
        [Extent1].[Country_Of_Domicile] AS [Country_Of_Domicile], 
        [Extent1].[Country_Of_Risk] AS [Country_Of_Risk], 
        [Extent1].[Security_Type_Code] AS [Security_Type_Code], 
        [Extent1].[Price_Multiplier] AS [Price_Multiplier], 
        [Extent1].[Income_Frequency] AS [Income_Frequency], 
        [Extent1].[Issuer_Code] AS [Issuer_Code], 
        [Extent1].[Ultimate_Issuer_Code] AS [Ultimate_Issuer_Code], 
        [Extent1].[Asset_Currency] AS [Asset_Currency], 
        [Extent1].[Min_Lot_Size] AS [Min_Lot_Size], 
        [Extent1].[Decimal_Precision] AS [Decimal_Precision], 
        [Extent1].[AvePrice_Rounding] AS [AvePrice_Rounding], 
        [Extent1].[Issue_Date] AS [Issue_Date], 
        [Extent1].[Maturity_Date] AS [Maturity_Date], 
        [Extent1].[Coupon_Rate] AS [Coupon_Rate], 
        [Extent1].[Price_Exchange] AS [Price_Exchange], 
        [Extent1].[Trade_Currency] AS [Trade_Currency], 
        [Extent1].[Price_Curr] AS [Price_Curr], 
        [Extent1].[Currency_Pair_Code] AS [Currency_Pair_Code], 
        [Extent1].[Share_Class] AS [Share_Class], 
        [Extent1].[Current_Market_Price] AS [Current_Market_Price], 
        [Extent1].[Index_Type] AS [Index_Type], 
        [Extent1].[Clean_Price_Formula] AS [Clean_Price_Formula], 
        [Extent1].[Accrued_Income_Price_Formula] AS [Accrued_Income_Price_Formula], 
        [Extent1].[Odd_First_Coupon_Date] AS [Odd_First_Coupon_Date], 
        [Extent1].[Odd_Last_Coupon_Date] AS [Odd_Last_Coupon_Date], 
        [Extent1].[Coupon_Anniversary_Indicator] AS [Coupon_Anniversary_Indicator], 
        [Extent1].[Track_EOM_Flag] AS [Track_EOM_Flag], 
        [Extent1].[Next_Coupon_Date] AS [Next_Coupon_Date], 
        [Extent1].[Previous_Coupon_Date] AS [Previous_Coupon_Date], 
        [Extent1].[Payment_Frequency] AS [Payment_Frequency], 
        [Extent1].[Coupon_BusDay_Adjustment] AS [Coupon_BusDay_Adjustment], 
        [Extent1].[Next_Ex_Div_Date] AS [Next_Ex_Div_Date], 
        [Extent1].[Ex_Div_BusDay_Adjustment] AS [Ex_Div_BusDay_Adjustment], 
        [Extent1].[Ex_Div_Period] AS [Ex_Div_Period], 
        [Extent1].[Ticker] AS [Ticker], 
        [Extent1].[Inet_ID] AS [Inet_ID], 
        [Extent1].[Bloomberg_ID] AS [Bloomberg_ID], 
        [Extent1].[External_Sec_ID] AS [External_Sec_ID], 
        [Extent1].[Reuters_ID] AS [Reuters_ID], 
        [Extent1].[ISIN] AS [ISIN], 
        [Extent1].[Call_Account_Flag] AS [Call_Account_Flag], 
        [Extent1].[System_Locked] AS [System_Locked], 
        [Extent1].[Last_Update_User] AS [Last_Update_User], 
        [Extent1].[Last_Update_Date] AS [Last_Update_Date], 
        [Extent1].[Security_Status] AS [Security_Status], 
        [Extent1].[Benchmark_Portfolio] AS [Benchmark_Portfolio], 
        [Extent1].[Active_flag] AS [Active_flag], 
        [Extent1].[Dividend_FX_Security_ID] AS [Dividend_FX_Security_ID]
        FROM [dbo].[Security_Detail] AS [Extent1]
        WHERE ([Extent1].[Entity_ID] IN (@p__linq__0,@p__linq__1)) AND ((CASE WHEN ( NOT ((N'' = @p__linq__2) AND (@p__linq__2 IS NOT NULL))) THEN CASE WHEN ([Extent1].[Security_Type_Code] = @p__linq__3) THEN cast(1 as bit) WHEN ( NOT (([Extent1].[Security_Type_Code] = @p__linq__3) AND (0 = (CASE WHEN (@p__linq__3 IS NULL) THEN cast(1 as bit) ELSE cast(0 as bit) END)))) THEN cast(0 as bit) END WHEN ('' <> [Extent1].[Security_Type_Code]) THEN cast(1 as bit) WHEN ('' = [Extent1].[Security_Type_Code]) THEN cast(0 as bit) END) = 1)
    )  AS [Project1]
    ORDER BY [Project1].[Security_Name] ASC
2018-04-11 13:17:42.2162|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: IF db_id(N'MetopeAzureDb') IS NOT NULL SELECT 1 ELSE SELECT Count(*) FROM sys.databases WHERE [name]=N'MetopeAzureDb'
2018-04-11 13:17:42.3318|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: IF db_id(N'MetopeAzureDb') IS NOT NULL SELECT 1 ELSE SELECT Count(*) FROM sys.databases WHERE [name]=N'MetopeAzureDb'
2018-04-11 13:17:42.4744|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: IF db_id(N'MetopeAzureDb') IS NOT NULL SELECT 1 ELSE SELECT Count(*) FROM sys.databases WHERE [name]=N'MetopeAzureDb'
2018-04-11 13:17:42.6125|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: IF db_id(N'MetopeAzureDb') IS NOT NULL SELECT 1 ELSE SELECT Count(*) FROM sys.databases WHERE [name]=N'MetopeAzureDb'
2018-04-11 13:17:45.9668|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: SELECT 
    [Project1].[Decimal_Precision] AS [Decimal_Precision], 
    [Project1].[Security_ID] AS [Security_ID], 
    [Project1].[Portfolio_Code] AS [Portfolio_Code], 
    [Project1].[Entity_ID] AS [Entity_ID], 
    [Project1].[Excess_Weight_Quarterly] AS [Excess_Weight_Quarterly], 
    [Project1].[Relative_Contribution_Quarterly] AS [Relative_Contribution_Quarterly], 
    [Project1].[Allocation_Selection_Interaction_Quarterly] AS [Allocation_Selection_Interaction_Quarterly], 
    [Project1].[StockVs_TotBenchmarkReturn_Quarterly] AS [StockVs_TotBenchmarkReturn_Quarterly], 
    [Project1].[Selection_Interaction_Quarterly] AS [Selection_Interaction_Quarterly], 
    [Project1].[Asset_Allocation_Quarterly] AS [Asset_Allocation_Quarterly], 
    [Project1].[Excess_Weight_Monthly] AS [Excess_Weight_Monthly], 
    [Project1].[Relative_Contribution_Monthly] AS [Relative_Contribution_Monthly], 
    [Project1].[Allocation_Selection_Interaction_Monthly] AS [Allocation_Selection_Interaction_Monthly], 
    [Project1].[StockVs_TotBenchmarkReturn_Monthly] AS [StockVs_TotBenchmarkReturn_Monthly], 
    [Project1].[Selection_Interaction_Monthly] AS [Selection_Interaction_Monthly], 
    [Project1].[Asset_Allocation_Monthly] AS [Asset_Allocation_Monthly], 
    [Project1].[Excess_Weight_MonthToDate] AS [Excess_Weight_MonthToDate], 
    [Project1].[Relative_Contribution_MonthToDate] AS [Relative_Contribution_MonthToDate], 
    [Project1].[Allocation_Selection_Interaction_MonthToDate] AS [Allocation_Selection_Interaction_MonthToDate], 
    [Project1].[StockVs_TotBenchmarkReturn_MonthToDate] AS [StockVs_TotBenchmarkReturn_MonthToDate], 
    [Project1].[Selection_Interaction_MonthToDate] AS [Selection_Interaction_MonthToDate], 
    [Project1].[Asset_Allocation_MonthToDate] AS [Asset_Allocation_MonthToDate], 
    [Project1].[Last_Update_Date] AS [Last_Update_Date], 
    [Project1].[Last_Update_User] AS [Last_Update_User], 
    [Project1].[Security_Weight_Portfolio_Monthly] AS [Security_Weight_Portfolio_Monthly], 
    [Project1].[Security_Weight_Portfolio_MonthToDate] AS [Security_Weight_Portfolio_MonthToDate], 
    [Project1].[Security_Weight_Portfolio_Quarterly] AS [Security_Weight_Portfolio_Quarterly], 
    [Project1].[Security_Weight_Benchmark_Monthly] AS [Security_Weight_Benchmark_Monthly], 
    [Project1].[Security_Weight_Benchmark_MonthToDate] AS [Security_Weight_Benchmark_MonthToDate], 
    [Project1].[Security_Weight_Benchmark_Quarterly] AS [Security_Weight_Benchmark_Quarterly], 
    [Project1].[Total_Return_Security_Price_Monthly] AS [Total_Return_Security_Price_Monthly], 
    [Project1].[Total_Return_Security_Price_MonthToDate] AS [Total_Return_Security_Price_MonthToDate], 
    [Project1].[Total_Return_Security_Price_Quarterly] AS [Total_Return_Security_Price_Quarterly], 
    [Project1].[TW_Return_Portfolio_Monthly] AS [TW_Return_Portfolio_Monthly], 
    [Project1].[TW_Return_Portfolio_MonthToDate] AS [TW_Return_Portfolio_MonthToDate], 
    [Project1].[TW_Return_Portfolio_Quarterly] AS [TW_Return_Portfolio_Quarterly], 
    [Project1].[Record_Date] AS [Record_Date], 
    [Project1].[Session_ID] AS [Session_ID], 
    [Project1].[Hist_Last_Update_Date] AS [Hist_Last_Update_Date], 
    [Project1].[Hist_Last_Update_User] AS [Hist_Last_Update_User], 
    [Project1].[Benchmark_Price_Performance_Monthly] AS [Benchmark_Price_Performance_Monthly], 
    [Project1].[Benchmark_Price_Performance_MonthToDate] AS [Benchmark_Price_Performance_MonthToDate], 
    [Project1].[Benchmark_Price_Performance_Quarterly] AS [Benchmark_Price_Performance_Quarterly], 
    [Project1].[Security_ID1] AS [Security_ID1], 
    [Project1].[Entity_ID1] AS [Entity_ID1], 
    [Project1].[Security_Name] AS [Security_Name], 
    [Project1].[Short_Name] AS [Short_Name], 
    [Project1].[Primary_Exch] AS [Primary_Exch], 
    [Project1].[Secondary_Exch] AS [Secondary_Exch], 
    [Project1].[Country_Of_Domicile] AS [Country_Of_Domicile], 
    [Project1].[Country_Of_Risk] AS [Country_Of_Risk], 
    [Project1].[Security_Type_Code] AS [Security_Type_Code], 
    [Project1].[Price_Multiplier] AS [Price_Multiplier], 
    [Project1].[Income_Frequency] AS [Income_Frequency], 
    [Project1].[Issuer_Code] AS [Issuer_Code], 
    [Project1].[Ultimate_Issuer_Code] AS [Ultimate_Issuer_Code], 
    [Project1].[Asset_Currency] AS [Asset_Currency], 
    [Project1].[Min_Lot_Size] AS [Min_Lot_Size], 
    [Project1].[AvePrice_Rounding] AS [AvePrice_Rounding], 
    [Project1].[Issue_Date] AS [Issue_Date], 
    [Project1].[Maturity_Date] AS [Maturity_Date], 
    [Project1].[Coupon_Rate] AS [Coupon_Rate], 
    [Project1].[Price_Exchange] AS [Price_Exchange], 
    [Project1].[Trade_Currency] AS [Trade_Currency], 
    [Project1].[Price_Curr] AS [Price_Curr], 
    [Project1].[Currency_Pair_Code] AS [Currency_Pair_Code], 
    [Project1].[Share_Class] AS [Share_Class], 
    [Project1].[Current_Market_Price] AS [Current_Market_Price], 
    [Project1].[Index_Type] AS [Index_Type], 
    [Project1].[Clean_Price_Formula] AS [Clean_Price_Formula], 
    [Project1].[Accrued_Income_Price_Formula] AS [Accrued_Income_Price_Formula], 
    [Project1].[Odd_First_Coupon_Date] AS [Odd_First_Coupon_Date], 
    [Project1].[Odd_Last_Coupon_Date] AS [Odd_Last_Coupon_Date], 
    [Project1].[Coupon_Anniversary_Indicator] AS [Coupon_Anniversary_Indicator], 
    [Project1].[Track_EOM_Flag] AS [Track_EOM_Flag], 
    [Project1].[Next_Coupon_Date] AS [Next_Coupon_Date], 
    [Project1].[Previous_Coupon_Date] AS [Previous_Coupon_Date], 
    [Project1].[Payment_Frequency] AS [Payment_Frequency], 
    [Project1].[Coupon_BusDay_Adjustment] AS [Coupon_BusDay_Adjustment], 
    [Project1].[Next_Ex_Div_Date] AS [Next_Ex_Div_Date], 
    [Project1].[Ex_Div_BusDay_Adjustment] AS [Ex_Div_BusDay_Adjustment], 
    [Project1].[Ex_Div_Period] AS [Ex_Div_Period], 
    [Project1].[Ticker] AS [Ticker], 
    [Project1].[Inet_ID] AS [Inet_ID], 
    [Project1].[Bloomberg_ID] AS [Bloomberg_ID], 
    [Project1].[External_Sec_ID] AS [External_Sec_ID], 
    [Project1].[Reuters_ID] AS [Reuters_ID], 
    [Project1].[ISIN] AS [ISIN], 
    [Project1].[Call_Account_Flag] AS [Call_Account_Flag], 
    [Project1].[System_Locked] AS [System_Locked], 
    [Project1].[Last_Update_User1] AS [Last_Update_User1], 
    [Project1].[Last_Update_Date1] AS [Last_Update_Date1], 
    [Project1].[Security_Status] AS [Security_Status], 
    [Project1].[Benchmark_Portfolio] AS [Benchmark_Portfolio], 
    [Project1].[Active_flag] AS [Active_flag], 
    [Project1].[Dividend_FX_Security_ID] AS [Dividend_FX_Security_ID]
    FROM ( SELECT 
        [Extent1].[Security_ID] AS [Security_ID], 
        [Extent1].[Portfolio_Code] AS [Portfolio_Code], 
        [Extent1].[Entity_ID] AS [Entity_ID], 
        [Extent1].[Excess_Weight_Quarterly] AS [Excess_Weight_Quarterly], 
        [Extent1].[Relative_Contribution_Quarterly] AS [Relative_Contribution_Quarterly], 
        [Extent1].[Allocation_Selection_Interaction_Quarterly] AS [Allocation_Selection_Interaction_Quarterly], 
        [Extent1].[StockVs_TotBenchmarkReturn_Quarterly] AS [StockVs_TotBenchmarkReturn_Quarterly], 
        [Extent1].[Selection_Interaction_Quarterly] AS [Selection_Interaction_Quarterly], 
        [Extent1].[Asset_Allocation_Quarterly] AS [Asset_Allocation_Quarterly], 
        [Extent1].[Excess_Weight_Monthly] AS [Excess_Weight_Monthly], 
        [Extent1].[Relative_Contribution_Monthly] AS [Relative_Contribution_Monthly], 
        [Extent1].[Allocation_Selection_Interaction_Monthly] AS [Allocation_Selection_Interaction_Monthly], 
        [Extent1].[StockVs_TotBenchmarkReturn_Monthly] AS [StockVs_TotBenchmarkReturn_Monthly], 
        [Extent1].[Selection_Interaction_Monthly] AS [Selection_Interaction_Monthly], 
        [Extent1].[Asset_Allocation_Monthly] AS [Asset_Allocation_Monthly], 
        [Extent1].[Excess_Weight_MonthToDate] AS [Excess_Weight_MonthToDate], 
        [Extent1].[Relative_Contribution_MonthToDate] AS [Relative_Contribution_MonthToDate], 
        [Extent1].[Allocation_Selection_Interaction_MonthToDate] AS [Allocation_Selection_Interaction_MonthToDate], 
        [Extent1].[StockVs_TotBenchmarkReturn_MonthToDate] AS [StockVs_TotBenchmarkReturn_MonthToDate], 
        [Extent1].[Selection_Interaction_MonthToDate] AS [Selection_Interaction_MonthToDate], 
        [Extent1].[Asset_Allocation_MonthToDate] AS [Asset_Allocation_MonthToDate], 
        [Extent1].[Last_Update_Date] AS [Last_Update_Date], 
        [Extent1].[Last_Update_User] AS [Last_Update_User], 
        [Extent1].[Security_Weight_Portfolio_Monthly] AS [Security_Weight_Portfolio_Monthly], 
        [Extent1].[Security_Weight_Portfolio_MonthToDate] AS [Security_Weight_Portfolio_MonthToDate], 
        [Extent1].[Security_Weight_Portfolio_Quarterly] AS [Security_Weight_Portfolio_Quarterly], 
        [Extent1].[Security_Weight_Benchmark_Monthly] AS [Security_Weight_Benchmark_Monthly], 
        [Extent1].[Security_Weight_Benchmark_MonthToDate] AS [Security_Weight_Benchmark_MonthToDate], 
        [Extent1].[Security_Weight_Benchmark_Quarterly] AS [Security_Weight_Benchmark_Quarterly], 
        [Extent1].[Total_Return_Security_Price_Monthly] AS [Total_Return_Security_Price_Monthly], 
        [Extent1].[Total_Return_Security_Price_MonthToDate] AS [Total_Return_Security_Price_MonthToDate], 
        [Extent1].[Total_Return_Security_Price_Quarterly] AS [Total_Return_Security_Price_Quarterly], 
        [Extent1].[TW_Return_Portfolio_Monthly] AS [TW_Return_Portfolio_Monthly], 
        [Extent1].[TW_Return_Portfolio_MonthToDate] AS [TW_Return_Portfolio_MonthToDate], 
        [Extent1].[TW_Return_Portfolio_Quarterly] AS [TW_Return_Portfolio_Quarterly], 
        [Extent1].[Record_Date] AS [Record_Date], 
        [Extent1].[Session_ID] AS [Session_ID], 
        [Extent1].[Hist_Last_Update_Date] AS [Hist_Last_Update_Date], 
        [Extent1].[Hist_Last_Update_User] AS [Hist_Last_Update_User], 
        [Extent1].[Benchmark_Price_Performance_Monthly] AS [Benchmark_Price_Performance_Monthly], 
        [Extent1].[Benchmark_Price_Performance_MonthToDate] AS [Benchmark_Price_Performance_MonthToDate], 
        [Extent1].[Benchmark_Price_Performance_Quarterly] AS [Benchmark_Price_Performance_Quarterly], 
        [Extent2].[Security_ID] AS [Security_ID1], 
        [Extent2].[Entity_ID] AS [Entity_ID1], 
        [Extent2].[Security_Name] AS [Security_Name], 
        [Extent2].[Short_Name] AS [Short_Name], 
        [Extent2].[Primary_Exch] AS [Primary_Exch], 
        [Extent2].[Secondary_Exch] AS [Secondary_Exch], 
        [Extent2].[Country_Of_Domicile] AS [Country_Of_Domicile], 
        [Extent2].[Country_Of_Risk] AS [Country_Of_Risk], 
        [Extent2].[Security_Type_Code] AS [Security_Type_Code], 
        [Extent2].[Price_Multiplier] AS [Price_Multiplier], 
        [Extent2].[Income_Frequency] AS [Income_Frequency], 
        [Extent2].[Issuer_Code] AS [Issuer_Code], 
        [Extent2].[Ultimate_Issuer_Code] AS [Ultimate_Issuer_Code], 
        [Extent2].[Asset_Currency] AS [Asset_Currency], 
        [Extent2].[Min_Lot_Size] AS [Min_Lot_Size], 
        [Extent2].[Decimal_Precision] AS [Decimal_Precision], 
        [Extent2].[AvePrice_Rounding] AS [AvePrice_Rounding], 
        [Extent2].[Issue_Date] AS [Issue_Date], 
        [Extent2].[Maturity_Date] AS [Maturity_Date], 
        [Extent2].[Coupon_Rate] AS [Coupon_Rate], 
        [Extent2].[Price_Exchange] AS [Price_Exchange], 
        [Extent2].[Trade_Currency] AS [Trade_Currency], 
        [Extent2].[Price_Curr] AS [Price_Curr], 
        [Extent2].[Currency_Pair_Code] AS [Currency_Pair_Code], 
        [Extent2].[Share_Class] AS [Share_Class], 
        [Extent2].[Current_Market_Price] AS [Current_Market_Price], 
        [Extent2].[Index_Type] AS [Index_Type], 
        [Extent2].[Clean_Price_Formula] AS [Clean_Price_Formula], 
        [Extent2].[Accrued_Income_Price_Formula] AS [Accrued_Income_Price_Formula], 
        [Extent2].[Odd_First_Coupon_Date] AS [Odd_First_Coupon_Date], 
        [Extent2].[Odd_Last_Coupon_Date] AS [Odd_Last_Coupon_Date], 
        [Extent2].[Coupon_Anniversary_Indicator] AS [Coupon_Anniversary_Indicator], 
        [Extent2].[Track_EOM_Flag] AS [Track_EOM_Flag], 
        [Extent2].[Next_Coupon_Date] AS [Next_Coupon_Date], 
        [Extent2].[Previous_Coupon_Date] AS [Previous_Coupon_Date], 
        [Extent2].[Payment_Frequency] AS [Payment_Frequency], 
        [Extent2].[Coupon_BusDay_Adjustment] AS [Coupon_BusDay_Adjustment], 
        [Extent2].[Next_Ex_Div_Date] AS [Next_Ex_Div_Date], 
        [Extent2].[Ex_Div_BusDay_Adjustment] AS [Ex_Div_BusDay_Adjustment], 
        [Extent2].[Ex_Div_Period] AS [Ex_Div_Period], 
        [Extent2].[Ticker] AS [Ticker], 
        [Extent2].[Inet_ID] AS [Inet_ID], 
        [Extent2].[Bloomberg_ID] AS [Bloomberg_ID], 
        [Extent2].[External_Sec_ID] AS [External_Sec_ID], 
        [Extent2].[Reuters_ID] AS [Reuters_ID], 
        [Extent2].[ISIN] AS [ISIN], 
        [Extent2].[Call_Account_Flag] AS [Call_Account_Flag], 
        [Extent2].[System_Locked] AS [System_Locked], 
        [Extent2].[Last_Update_User] AS [Last_Update_User1], 
        [Extent2].[Last_Update_Date] AS [Last_Update_Date1], 
        [Extent2].[Security_Status] AS [Security_Status], 
        [Extent2].[Benchmark_Portfolio] AS [Benchmark_Portfolio], 
        [Extent2].[Active_flag] AS [Active_flag], 
        [Extent2].[Dividend_FX_Security_ID] AS [Dividend_FX_Security_ID]
        FROM  [dbo].[Security_Attribution_History] AS [Extent1]
        INNER JOIN [dbo].[Security_Detail] AS [Extent2] ON [Extent1].[Security_ID] = [Extent2].[Security_ID]
        WHERE ([Extent1].[Security_ID] = @p__linq__0) AND ([Extent1].[Portfolio_Code] = @p__linq__1)
    )  AS [Project1]
    ORDER BY [Project1].[Record_Date] DESC
2018-04-11 13:17:46.0254|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: SELECT 
    [Project1].[Decimal_Precision] AS [Decimal_Precision], 
    [Project1].[Security_ID] AS [Security_ID], 
    [Project1].[Portfolio_Code] AS [Portfolio_Code], 
    [Project1].[Entity_ID] AS [Entity_ID], 
    [Project1].[Excess_Weight_Quarterly] AS [Excess_Weight_Quarterly], 
    [Project1].[Relative_Contribution_Quarterly] AS [Relative_Contribution_Quarterly], 
    [Project1].[Allocation_Selection_Interaction_Quarterly] AS [Allocation_Selection_Interaction_Quarterly], 
    [Project1].[StockVs_TotBenchmarkReturn_Quarterly] AS [StockVs_TotBenchmarkReturn_Quarterly], 
    [Project1].[Selection_Interaction_Quarterly] AS [Selection_Interaction_Quarterly], 
    [Project1].[Asset_Allocation_Quarterly] AS [Asset_Allocation_Quarterly], 
    [Project1].[Excess_Weight_Monthly] AS [Excess_Weight_Monthly], 
    [Project1].[Relative_Contribution_Monthly] AS [Relative_Contribution_Monthly], 
    [Project1].[Allocation_Selection_Interaction_Monthly] AS [Allocation_Selection_Interaction_Monthly], 
    [Project1].[StockVs_TotBenchmarkReturn_Monthly] AS [StockVs_TotBenchmarkReturn_Monthly], 
    [Project1].[Selection_Interaction_Monthly] AS [Selection_Interaction_Monthly], 
    [Project1].[Asset_Allocation_Monthly] AS [Asset_Allocation_Monthly], 
    [Project1].[Excess_Weight_MonthToDate] AS [Excess_Weight_MonthToDate], 
    [Project1].[Relative_Contribution_MonthToDate] AS [Relative_Contribution_MonthToDate], 
    [Project1].[Allocation_Selection_Interaction_MonthToDate] AS [Allocation_Selection_Interaction_MonthToDate], 
    [Project1].[StockVs_TotBenchmarkReturn_MonthToDate] AS [StockVs_TotBenchmarkReturn_MonthToDate], 
    [Project1].[Selection_Interaction_MonthToDate] AS [Selection_Interaction_MonthToDate], 
    [Project1].[Asset_Allocation_MonthToDate] AS [Asset_Allocation_MonthToDate], 
    [Project1].[Last_Update_Date] AS [Last_Update_Date], 
    [Project1].[Last_Update_User] AS [Last_Update_User], 
    [Project1].[Security_Weight_Portfolio_Monthly] AS [Security_Weight_Portfolio_Monthly], 
    [Project1].[Security_Weight_Portfolio_MonthToDate] AS [Security_Weight_Portfolio_MonthToDate], 
    [Project1].[Security_Weight_Portfolio_Quarterly] AS [Security_Weight_Portfolio_Quarterly], 
    [Project1].[Security_Weight_Benchmark_Monthly] AS [Security_Weight_Benchmark_Monthly], 
    [Project1].[Security_Weight_Benchmark_MonthToDate] AS [Security_Weight_Benchmark_MonthToDate], 
    [Project1].[Security_Weight_Benchmark_Quarterly] AS [Security_Weight_Benchmark_Quarterly], 
    [Project1].[Total_Return_Security_Price_Monthly] AS [Total_Return_Security_Price_Monthly], 
    [Project1].[Total_Return_Security_Price_MonthToDate] AS [Total_Return_Security_Price_MonthToDate], 
    [Project1].[Total_Return_Security_Price_Quarterly] AS [Total_Return_Security_Price_Quarterly], 
    [Project1].[TW_Return_Portfolio_Monthly] AS [TW_Return_Portfolio_Monthly], 
    [Project1].[TW_Return_Portfolio_MonthToDate] AS [TW_Return_Portfolio_MonthToDate], 
    [Project1].[TW_Return_Portfolio_Quarterly] AS [TW_Return_Portfolio_Quarterly], 
    [Project1].[Record_Date] AS [Record_Date], 
    [Project1].[Session_ID] AS [Session_ID], 
    [Project1].[Hist_Last_Update_Date] AS [Hist_Last_Update_Date], 
    [Project1].[Hist_Last_Update_User] AS [Hist_Last_Update_User], 
    [Project1].[Benchmark_Price_Performance_Monthly] AS [Benchmark_Price_Performance_Monthly], 
    [Project1].[Benchmark_Price_Performance_MonthToDate] AS [Benchmark_Price_Performance_MonthToDate], 
    [Project1].[Benchmark_Price_Performance_Quarterly] AS [Benchmark_Price_Performance_Quarterly], 
    [Project1].[Security_ID1] AS [Security_ID1], 
    [Project1].[Entity_ID1] AS [Entity_ID1], 
    [Project1].[Security_Name] AS [Security_Name], 
    [Project1].[Short_Name] AS [Short_Name], 
    [Project1].[Primary_Exch] AS [Primary_Exch], 
    [Project1].[Secondary_Exch] AS [Secondary_Exch], 
    [Project1].[Country_Of_Domicile] AS [Country_Of_Domicile], 
    [Project1].[Country_Of_Risk] AS [Country_Of_Risk], 
    [Project1].[Security_Type_Code] AS [Security_Type_Code], 
    [Project1].[Price_Multiplier] AS [Price_Multiplier], 
    [Project1].[Income_Frequency] AS [Income_Frequency], 
    [Project1].[Issuer_Code] AS [Issuer_Code], 
    [Project1].[Ultimate_Issuer_Code] AS [Ultimate_Issuer_Code], 
    [Project1].[Asset_Currency] AS [Asset_Currency], 
    [Project1].[Min_Lot_Size] AS [Min_Lot_Size], 
    [Project1].[AvePrice_Rounding] AS [AvePrice_Rounding], 
    [Project1].[Issue_Date] AS [Issue_Date], 
    [Project1].[Maturity_Date] AS [Maturity_Date], 
    [Project1].[Coupon_Rate] AS [Coupon_Rate], 
    [Project1].[Price_Exchange] AS [Price_Exchange], 
    [Project1].[Trade_Currency] AS [Trade_Currency], 
    [Project1].[Price_Curr] AS [Price_Curr], 
    [Project1].[Currency_Pair_Code] AS [Currency_Pair_Code], 
    [Project1].[Share_Class] AS [Share_Class], 
    [Project1].[Current_Market_Price] AS [Current_Market_Price], 
    [Project1].[Index_Type] AS [Index_Type], 
    [Project1].[Clean_Price_Formula] AS [Clean_Price_Formula], 
    [Project1].[Accrued_Income_Price_Formula] AS [Accrued_Income_Price_Formula], 
    [Project1].[Odd_First_Coupon_Date] AS [Odd_First_Coupon_Date], 
    [Project1].[Odd_Last_Coupon_Date] AS [Odd_Last_Coupon_Date], 
    [Project1].[Coupon_Anniversary_Indicator] AS [Coupon_Anniversary_Indicator], 
    [Project1].[Track_EOM_Flag] AS [Track_EOM_Flag], 
    [Project1].[Next_Coupon_Date] AS [Next_Coupon_Date], 
    [Project1].[Previous_Coupon_Date] AS [Previous_Coupon_Date], 
    [Project1].[Payment_Frequency] AS [Payment_Frequency], 
    [Project1].[Coupon_BusDay_Adjustment] AS [Coupon_BusDay_Adjustment], 
    [Project1].[Next_Ex_Div_Date] AS [Next_Ex_Div_Date], 
    [Project1].[Ex_Div_BusDay_Adjustment] AS [Ex_Div_BusDay_Adjustment], 
    [Project1].[Ex_Div_Period] AS [Ex_Div_Period], 
    [Project1].[Ticker] AS [Ticker], 
    [Project1].[Inet_ID] AS [Inet_ID], 
    [Project1].[Bloomberg_ID] AS [Bloomberg_ID], 
    [Project1].[External_Sec_ID] AS [External_Sec_ID], 
    [Project1].[Reuters_ID] AS [Reuters_ID], 
    [Project1].[ISIN] AS [ISIN], 
    [Project1].[Call_Account_Flag] AS [Call_Account_Flag], 
    [Project1].[System_Locked] AS [System_Locked], 
    [Project1].[Last_Update_User1] AS [Last_Update_User1], 
    [Project1].[Last_Update_Date1] AS [Last_Update_Date1], 
    [Project1].[Security_Status] AS [Security_Status], 
    [Project1].[Benchmark_Portfolio] AS [Benchmark_Portfolio], 
    [Project1].[Active_flag] AS [Active_flag], 
    [Project1].[Dividend_FX_Security_ID] AS [Dividend_FX_Security_ID]
    FROM ( SELECT 
        [Extent1].[Security_ID] AS [Security_ID], 
        [Extent1].[Portfolio_Code] AS [Portfolio_Code], 
        [Extent1].[Entity_ID] AS [Entity_ID], 
        [Extent1].[Excess_Weight_Quarterly] AS [Excess_Weight_Quarterly], 
        [Extent1].[Relative_Contribution_Quarterly] AS [Relative_Contribution_Quarterly], 
        [Extent1].[Allocation_Selection_Interaction_Quarterly] AS [Allocation_Selection_Interaction_Quarterly], 
        [Extent1].[StockVs_TotBenchmarkReturn_Quarterly] AS [StockVs_TotBenchmarkReturn_Quarterly], 
        [Extent1].[Selection_Interaction_Quarterly] AS [Selection_Interaction_Quarterly], 
        [Extent1].[Asset_Allocation_Quarterly] AS [Asset_Allocation_Quarterly], 
        [Extent1].[Excess_Weight_Monthly] AS [Excess_Weight_Monthly], 
        [Extent1].[Relative_Contribution_Monthly] AS [Relative_Contribution_Monthly], 
        [Extent1].[Allocation_Selection_Interaction_Monthly] AS [Allocation_Selection_Interaction_Monthly], 
        [Extent1].[StockVs_TotBenchmarkReturn_Monthly] AS [StockVs_TotBenchmarkReturn_Monthly], 
        [Extent1].[Selection_Interaction_Monthly] AS [Selection_Interaction_Monthly], 
        [Extent1].[Asset_Allocation_Monthly] AS [Asset_Allocation_Monthly], 
        [Extent1].[Excess_Weight_MonthToDate] AS [Excess_Weight_MonthToDate], 
        [Extent1].[Relative_Contribution_MonthToDate] AS [Relative_Contribution_MonthToDate], 
        [Extent1].[Allocation_Selection_Interaction_MonthToDate] AS [Allocation_Selection_Interaction_MonthToDate], 
        [Extent1].[StockVs_TotBenchmarkReturn_MonthToDate] AS [StockVs_TotBenchmarkReturn_MonthToDate], 
        [Extent1].[Selection_Interaction_MonthToDate] AS [Selection_Interaction_MonthToDate], 
        [Extent1].[Asset_Allocation_MonthToDate] AS [Asset_Allocation_MonthToDate], 
        [Extent1].[Last_Update_Date] AS [Last_Update_Date], 
        [Extent1].[Last_Update_User] AS [Last_Update_User], 
        [Extent1].[Security_Weight_Portfolio_Monthly] AS [Security_Weight_Portfolio_Monthly], 
        [Extent1].[Security_Weight_Portfolio_MonthToDate] AS [Security_Weight_Portfolio_MonthToDate], 
        [Extent1].[Security_Weight_Portfolio_Quarterly] AS [Security_Weight_Portfolio_Quarterly], 
        [Extent1].[Security_Weight_Benchmark_Monthly] AS [Security_Weight_Benchmark_Monthly], 
        [Extent1].[Security_Weight_Benchmark_MonthToDate] AS [Security_Weight_Benchmark_MonthToDate], 
        [Extent1].[Security_Weight_Benchmark_Quarterly] AS [Security_Weight_Benchmark_Quarterly], 
        [Extent1].[Total_Return_Security_Price_Monthly] AS [Total_Return_Security_Price_Monthly], 
        [Extent1].[Total_Return_Security_Price_MonthToDate] AS [Total_Return_Security_Price_MonthToDate], 
        [Extent1].[Total_Return_Security_Price_Quarterly] AS [Total_Return_Security_Price_Quarterly], 
        [Extent1].[TW_Return_Portfolio_Monthly] AS [TW_Return_Portfolio_Monthly], 
        [Extent1].[TW_Return_Portfolio_MonthToDate] AS [TW_Return_Portfolio_MonthToDate], 
        [Extent1].[TW_Return_Portfolio_Quarterly] AS [TW_Return_Portfolio_Quarterly], 
        [Extent1].[Record_Date] AS [Record_Date], 
        [Extent1].[Session_ID] AS [Session_ID], 
        [Extent1].[Hist_Last_Update_Date] AS [Hist_Last_Update_Date], 
        [Extent1].[Hist_Last_Update_User] AS [Hist_Last_Update_User], 
        [Extent1].[Benchmark_Price_Performance_Monthly] AS [Benchmark_Price_Performance_Monthly], 
        [Extent1].[Benchmark_Price_Performance_MonthToDate] AS [Benchmark_Price_Performance_MonthToDate], 
        [Extent1].[Benchmark_Price_Performance_Quarterly] AS [Benchmark_Price_Performance_Quarterly], 
        [Extent2].[Security_ID] AS [Security_ID1], 
        [Extent2].[Entity_ID] AS [Entity_ID1], 
        [Extent2].[Security_Name] AS [Security_Name], 
        [Extent2].[Short_Name] AS [Short_Name], 
        [Extent2].[Primary_Exch] AS [Primary_Exch], 
        [Extent2].[Secondary_Exch] AS [Secondary_Exch], 
        [Extent2].[Country_Of_Domicile] AS [Country_Of_Domicile], 
        [Extent2].[Country_Of_Risk] AS [Country_Of_Risk], 
        [Extent2].[Security_Type_Code] AS [Security_Type_Code], 
        [Extent2].[Price_Multiplier] AS [Price_Multiplier], 
        [Extent2].[Income_Frequency] AS [Income_Frequency], 
        [Extent2].[Issuer_Code] AS [Issuer_Code], 
        [Extent2].[Ultimate_Issuer_Code] AS [Ultimate_Issuer_Code], 
        [Extent2].[Asset_Currency] AS [Asset_Currency], 
        [Extent2].[Min_Lot_Size] AS [Min_Lot_Size], 
        [Extent2].[Decimal_Precision] AS [Decimal_Precision], 
        [Extent2].[AvePrice_Rounding] AS [AvePrice_Rounding], 
        [Extent2].[Issue_Date] AS [Issue_Date], 
        [Extent2].[Maturity_Date] AS [Maturity_Date], 
        [Extent2].[Coupon_Rate] AS [Coupon_Rate], 
        [Extent2].[Price_Exchange] AS [Price_Exchange], 
        [Extent2].[Trade_Currency] AS [Trade_Currency], 
        [Extent2].[Price_Curr] AS [Price_Curr], 
        [Extent2].[Currency_Pair_Code] AS [Currency_Pair_Code], 
        [Extent2].[Share_Class] AS [Share_Class], 
        [Extent2].[Current_Market_Price] AS [Current_Market_Price], 
        [Extent2].[Index_Type] AS [Index_Type], 
        [Extent2].[Clean_Price_Formula] AS [Clean_Price_Formula], 
        [Extent2].[Accrued_Income_Price_Formula] AS [Accrued_Income_Price_Formula], 
        [Extent2].[Odd_First_Coupon_Date] AS [Odd_First_Coupon_Date], 
        [Extent2].[Odd_Last_Coupon_Date] AS [Odd_Last_Coupon_Date], 
        [Extent2].[Coupon_Anniversary_Indicator] AS [Coupon_Anniversary_Indicator], 
        [Extent2].[Track_EOM_Flag] AS [Track_EOM_Flag], 
        [Extent2].[Next_Coupon_Date] AS [Next_Coupon_Date], 
        [Extent2].[Previous_Coupon_Date] AS [Previous_Coupon_Date], 
        [Extent2].[Payment_Frequency] AS [Payment_Frequency], 
        [Extent2].[Coupon_BusDay_Adjustment] AS [Coupon_BusDay_Adjustment], 
        [Extent2].[Next_Ex_Div_Date] AS [Next_Ex_Div_Date], 
        [Extent2].[Ex_Div_BusDay_Adjustment] AS [Ex_Div_BusDay_Adjustment], 
        [Extent2].[Ex_Div_Period] AS [Ex_Div_Period], 
        [Extent2].[Ticker] AS [Ticker], 
        [Extent2].[Inet_ID] AS [Inet_ID], 
        [Extent2].[Bloomberg_ID] AS [Bloomberg_ID], 
        [Extent2].[External_Sec_ID] AS [External_Sec_ID], 
        [Extent2].[Reuters_ID] AS [Reuters_ID], 
        [Extent2].[ISIN] AS [ISIN], 
        [Extent2].[Call_Account_Flag] AS [Call_Account_Flag], 
        [Extent2].[System_Locked] AS [System_Locked], 
        [Extent2].[Last_Update_User] AS [Last_Update_User1], 
        [Extent2].[Last_Update_Date] AS [Last_Update_Date1], 
        [Extent2].[Security_Status] AS [Security_Status], 
        [Extent2].[Benchmark_Portfolio] AS [Benchmark_Portfolio], 
        [Extent2].[Active_flag] AS [Active_flag], 
        [Extent2].[Dividend_FX_Security_ID] AS [Dividend_FX_Security_ID]
        FROM  [dbo].[Security_Attribution_History] AS [Extent1]
        INNER JOIN [dbo].[Security_Detail] AS [Extent2] ON [Extent1].[Security_ID] = [Extent2].[Security_ID]
        WHERE ([Extent1].[Security_ID] = @p__linq__0) AND ([Extent1].[Portfolio_Code] = @p__linq__1)
    )  AS [Project1]
    ORDER BY [Project1].[Record_Date] DESC
2018-04-11 13:17:46.0744|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: IF db_id(N'MetopeAzureDb') IS NOT NULL SELECT 1 ELSE SELECT Count(*) FROM sys.databases WHERE [name]=N'MetopeAzureDb'
2018-04-11 13:17:46.2240|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: IF db_id(N'MetopeAzureDb') IS NOT NULL SELECT 1 ELSE SELECT Count(*) FROM sys.databases WHERE [name]=N'MetopeAzureDb'
2018-04-11 13:17:46.3191|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: IF db_id(N'MetopeAzureDb') IS NOT NULL SELECT 1 ELSE SELECT Count(*) FROM sys.databases WHERE [name]=N'MetopeAzureDb'
2018-04-11 13:17:46.4512|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: IF db_id(N'MetopeAzureDb') IS NOT NULL SELECT 1 ELSE SELECT Count(*) FROM sys.databases WHERE [name]=N'MetopeAzureDb'
2018-04-11 13:17:48.8008|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: SELECT 
    [Project1].[Security_ID] AS [Security_ID], 
    [Project1].[Entity_ID] AS [Entity_ID], 
    [Project1].[Security_Name] AS [Security_Name], 
    [Project1].[Short_Name] AS [Short_Name], 
    [Project1].[Primary_Exch] AS [Primary_Exch], 
    [Project1].[Secondary_Exch] AS [Secondary_Exch], 
    [Project1].[Country_Of_Domicile] AS [Country_Of_Domicile], 
    [Project1].[Country_Of_Risk] AS [Country_Of_Risk], 
    [Project1].[Security_Type_Code] AS [Security_Type_Code], 
    [Project1].[Price_Multiplier] AS [Price_Multiplier], 
    [Project1].[Income_Frequency] AS [Income_Frequency], 
    [Project1].[Issuer_Code] AS [Issuer_Code], 
    [Project1].[Ultimate_Issuer_Code] AS [Ultimate_Issuer_Code], 
    [Project1].[Asset_Currency] AS [Asset_Currency], 
    [Project1].[Min_Lot_Size] AS [Min_Lot_Size], 
    [Project1].[Decimal_Precision] AS [Decimal_Precision], 
    [Project1].[AvePrice_Rounding] AS [AvePrice_Rounding], 
    [Project1].[Issue_Date] AS [Issue_Date], 
    [Project1].[Maturity_Date] AS [Maturity_Date], 
    [Project1].[Coupon_Rate] AS [Coupon_Rate], 
    [Project1].[Price_Exchange] AS [Price_Exchange], 
    [Project1].[Trade_Currency] AS [Trade_Currency], 
    [Project1].[Price_Curr] AS [Price_Curr], 
    [Project1].[Currency_Pair_Code] AS [Currency_Pair_Code], 
    [Project1].[Share_Class] AS [Share_Class], 
    [Project1].[Current_Market_Price] AS [Current_Market_Price], 
    [Project1].[Index_Type] AS [Index_Type], 
    [Project1].[Clean_Price_Formula] AS [Clean_Price_Formula], 
    [Project1].[Accrued_Income_Price_Formula] AS [Accrued_Income_Price_Formula], 
    [Project1].[Odd_First_Coupon_Date] AS [Odd_First_Coupon_Date], 
    [Project1].[Odd_Last_Coupon_Date] AS [Odd_Last_Coupon_Date], 
    [Project1].[Coupon_Anniversary_Indicator] AS [Coupon_Anniversary_Indicator], 
    [Project1].[Track_EOM_Flag] AS [Track_EOM_Flag], 
    [Project1].[Next_Coupon_Date] AS [Next_Coupon_Date], 
    [Project1].[Previous_Coupon_Date] AS [Previous_Coupon_Date], 
    [Project1].[Payment_Frequency] AS [Payment_Frequency], 
    [Project1].[Coupon_BusDay_Adjustment] AS [Coupon_BusDay_Adjustment], 
    [Project1].[Next_Ex_Div_Date] AS [Next_Ex_Div_Date], 
    [Project1].[Ex_Div_BusDay_Adjustment] AS [Ex_Div_BusDay_Adjustment], 
    [Project1].[Ex_Div_Period] AS [Ex_Div_Period], 
    [Project1].[Ticker] AS [Ticker], 
    [Project1].[Inet_ID] AS [Inet_ID], 
    [Project1].[Bloomberg_ID] AS [Bloomberg_ID], 
    [Project1].[External_Sec_ID] AS [External_Sec_ID], 
    [Project1].[Reuters_ID] AS [Reuters_ID], 
    [Project1].[ISIN] AS [ISIN], 
    [Project1].[Call_Account_Flag] AS [Call_Account_Flag], 
    [Project1].[System_Locked] AS [System_Locked], 
    [Project1].[Last_Update_User] AS [Last_Update_User], 
    [Project1].[Last_Update_Date] AS [Last_Update_Date], 
    [Project1].[Security_Status] AS [Security_Status], 
    [Project1].[Benchmark_Portfolio] AS [Benchmark_Portfolio], 
    [Project1].[Active_flag] AS [Active_flag], 
    [Project1].[Dividend_FX_Security_ID] AS [Dividend_FX_Security_ID]
    FROM ( SELECT 
        [Extent1].[Security_ID] AS [Security_ID], 
        [Extent1].[Entity_ID] AS [Entity_ID], 
        [Extent1].[Security_Name] AS [Security_Name], 
        [Extent1].[Short_Name] AS [Short_Name], 
        [Extent1].[Primary_Exch] AS [Primary_Exch], 
        [Extent1].[Secondary_Exch] AS [Secondary_Exch], 
        [Extent1].[Country_Of_Domicile] AS [Country_Of_Domicile], 
        [Extent1].[Country_Of_Risk] AS [Country_Of_Risk], 
        [Extent1].[Security_Type_Code] AS [Security_Type_Code], 
        [Extent1].[Price_Multiplier] AS [Price_Multiplier], 
        [Extent1].[Income_Frequency] AS [Income_Frequency], 
        [Extent1].[Issuer_Code] AS [Issuer_Code], 
        [Extent1].[Ultimate_Issuer_Code] AS [Ultimate_Issuer_Code], 
        [Extent1].[Asset_Currency] AS [Asset_Currency], 
        [Extent1].[Min_Lot_Size] AS [Min_Lot_Size], 
        [Extent1].[Decimal_Precision] AS [Decimal_Precision], 
        [Extent1].[AvePrice_Rounding] AS [AvePrice_Rounding], 
        [Extent1].[Issue_Date] AS [Issue_Date], 
        [Extent1].[Maturity_Date] AS [Maturity_Date], 
        [Extent1].[Coupon_Rate] AS [Coupon_Rate], 
        [Extent1].[Price_Exchange] AS [Price_Exchange], 
        [Extent1].[Trade_Currency] AS [Trade_Currency], 
        [Extent1].[Price_Curr] AS [Price_Curr], 
        [Extent1].[Currency_Pair_Code] AS [Currency_Pair_Code], 
        [Extent1].[Share_Class] AS [Share_Class], 
        [Extent1].[Current_Market_Price] AS [Current_Market_Price], 
        [Extent1].[Index_Type] AS [Index_Type], 
        [Extent1].[Clean_Price_Formula] AS [Clean_Price_Formula], 
        [Extent1].[Accrued_Income_Price_Formula] AS [Accrued_Income_Price_Formula], 
        [Extent1].[Odd_First_Coupon_Date] AS [Odd_First_Coupon_Date], 
        [Extent1].[Odd_Last_Coupon_Date] AS [Odd_Last_Coupon_Date], 
        [Extent1].[Coupon_Anniversary_Indicator] AS [Coupon_Anniversary_Indicator], 
        [Extent1].[Track_EOM_Flag] AS [Track_EOM_Flag], 
        [Extent1].[Next_Coupon_Date] AS [Next_Coupon_Date], 
        [Extent1].[Previous_Coupon_Date] AS [Previous_Coupon_Date], 
        [Extent1].[Payment_Frequency] AS [Payment_Frequency], 
        [Extent1].[Coupon_BusDay_Adjustment] AS [Coupon_BusDay_Adjustment], 
        [Extent1].[Next_Ex_Div_Date] AS [Next_Ex_Div_Date], 
        [Extent1].[Ex_Div_BusDay_Adjustment] AS [Ex_Div_BusDay_Adjustment], 
        [Extent1].[Ex_Div_Period] AS [Ex_Div_Period], 
        [Extent1].[Ticker] AS [Ticker], 
        [Extent1].[Inet_ID] AS [Inet_ID], 
        [Extent1].[Bloomberg_ID] AS [Bloomberg_ID], 
        [Extent1].[External_Sec_ID] AS [External_Sec_ID], 
        [Extent1].[Reuters_ID] AS [Reuters_ID], 
        [Extent1].[ISIN] AS [ISIN], 
        [Extent1].[Call_Account_Flag] AS [Call_Account_Flag], 
        [Extent1].[System_Locked] AS [System_Locked], 
        [Extent1].[Last_Update_User] AS [Last_Update_User], 
        [Extent1].[Last_Update_Date] AS [Last_Update_Date], 
        [Extent1].[Security_Status] AS [Security_Status], 
        [Extent1].[Benchmark_Portfolio] AS [Benchmark_Portfolio], 
        [Extent1].[Active_flag] AS [Active_flag], 
        [Extent1].[Dividend_FX_Security_ID] AS [Dividend_FX_Security_ID]
        FROM [dbo].[Security_Detail] AS [Extent1]
        WHERE ([Extent1].[Entity_ID] IN (@p__linq__0,@p__linq__1)) AND ((CASE WHEN ( NOT ((N'' = @p__linq__2) AND (@p__linq__2 IS NOT NULL))) THEN CASE WHEN ([Extent1].[Security_Type_Code] = @p__linq__3) THEN cast(1 as bit) WHEN ( NOT (([Extent1].[Security_Type_Code] = @p__linq__3) AND (0 = (CASE WHEN (@p__linq__3 IS NULL) THEN cast(1 as bit) ELSE cast(0 as bit) END)))) THEN cast(0 as bit) END WHEN ('' <> [Extent1].[Security_Type_Code]) THEN cast(1 as bit) WHEN ('' = [Extent1].[Security_Type_Code]) THEN cast(0 as bit) END) = 1)
    )  AS [Project1]
    ORDER BY [Project1].[Security_Name] ASC
2018-04-11 13:17:48.8723|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: SELECT 
    [Project1].[Security_ID] AS [Security_ID], 
    [Project1].[Entity_ID] AS [Entity_ID], 
    [Project1].[Security_Name] AS [Security_Name], 
    [Project1].[Short_Name] AS [Short_Name], 
    [Project1].[Primary_Exch] AS [Primary_Exch], 
    [Project1].[Secondary_Exch] AS [Secondary_Exch], 
    [Project1].[Country_Of_Domicile] AS [Country_Of_Domicile], 
    [Project1].[Country_Of_Risk] AS [Country_Of_Risk], 
    [Project1].[Security_Type_Code] AS [Security_Type_Code], 
    [Project1].[Price_Multiplier] AS [Price_Multiplier], 
    [Project1].[Income_Frequency] AS [Income_Frequency], 
    [Project1].[Issuer_Code] AS [Issuer_Code], 
    [Project1].[Ultimate_Issuer_Code] AS [Ultimate_Issuer_Code], 
    [Project1].[Asset_Currency] AS [Asset_Currency], 
    [Project1].[Min_Lot_Size] AS [Min_Lot_Size], 
    [Project1].[Decimal_Precision] AS [Decimal_Precision], 
    [Project1].[AvePrice_Rounding] AS [AvePrice_Rounding], 
    [Project1].[Issue_Date] AS [Issue_Date], 
    [Project1].[Maturity_Date] AS [Maturity_Date], 
    [Project1].[Coupon_Rate] AS [Coupon_Rate], 
    [Project1].[Price_Exchange] AS [Price_Exchange], 
    [Project1].[Trade_Currency] AS [Trade_Currency], 
    [Project1].[Price_Curr] AS [Price_Curr], 
    [Project1].[Currency_Pair_Code] AS [Currency_Pair_Code], 
    [Project1].[Share_Class] AS [Share_Class], 
    [Project1].[Current_Market_Price] AS [Current_Market_Price], 
    [Project1].[Index_Type] AS [Index_Type], 
    [Project1].[Clean_Price_Formula] AS [Clean_Price_Formula], 
    [Project1].[Accrued_Income_Price_Formula] AS [Accrued_Income_Price_Formula], 
    [Project1].[Odd_First_Coupon_Date] AS [Odd_First_Coupon_Date], 
    [Project1].[Odd_Last_Coupon_Date] AS [Odd_Last_Coupon_Date], 
    [Project1].[Coupon_Anniversary_Indicator] AS [Coupon_Anniversary_Indicator], 
    [Project1].[Track_EOM_Flag] AS [Track_EOM_Flag], 
    [Project1].[Next_Coupon_Date] AS [Next_Coupon_Date], 
    [Project1].[Previous_Coupon_Date] AS [Previous_Coupon_Date], 
    [Project1].[Payment_Frequency] AS [Payment_Frequency], 
    [Project1].[Coupon_BusDay_Adjustment] AS [Coupon_BusDay_Adjustment], 
    [Project1].[Next_Ex_Div_Date] AS [Next_Ex_Div_Date], 
    [Project1].[Ex_Div_BusDay_Adjustment] AS [Ex_Div_BusDay_Adjustment], 
    [Project1].[Ex_Div_Period] AS [Ex_Div_Period], 
    [Project1].[Ticker] AS [Ticker], 
    [Project1].[Inet_ID] AS [Inet_ID], 
    [Project1].[Bloomberg_ID] AS [Bloomberg_ID], 
    [Project1].[External_Sec_ID] AS [External_Sec_ID], 
    [Project1].[Reuters_ID] AS [Reuters_ID], 
    [Project1].[ISIN] AS [ISIN], 
    [Project1].[Call_Account_Flag] AS [Call_Account_Flag], 
    [Project1].[System_Locked] AS [System_Locked], 
    [Project1].[Last_Update_User] AS [Last_Update_User], 
    [Project1].[Last_Update_Date] AS [Last_Update_Date], 
    [Project1].[Security_Status] AS [Security_Status], 
    [Project1].[Benchmark_Portfolio] AS [Benchmark_Portfolio], 
    [Project1].[Active_flag] AS [Active_flag], 
    [Project1].[Dividend_FX_Security_ID] AS [Dividend_FX_Security_ID]
    FROM ( SELECT 
        [Extent1].[Security_ID] AS [Security_ID], 
        [Extent1].[Entity_ID] AS [Entity_ID], 
        [Extent1].[Security_Name] AS [Security_Name], 
        [Extent1].[Short_Name] AS [Short_Name], 
        [Extent1].[Primary_Exch] AS [Primary_Exch], 
        [Extent1].[Secondary_Exch] AS [Secondary_Exch], 
        [Extent1].[Country_Of_Domicile] AS [Country_Of_Domicile], 
        [Extent1].[Country_Of_Risk] AS [Country_Of_Risk], 
        [Extent1].[Security_Type_Code] AS [Security_Type_Code], 
        [Extent1].[Price_Multiplier] AS [Price_Multiplier], 
        [Extent1].[Income_Frequency] AS [Income_Frequency], 
        [Extent1].[Issuer_Code] AS [Issuer_Code], 
        [Extent1].[Ultimate_Issuer_Code] AS [Ultimate_Issuer_Code], 
        [Extent1].[Asset_Currency] AS [Asset_Currency], 
        [Extent1].[Min_Lot_Size] AS [Min_Lot_Size], 
        [Extent1].[Decimal_Precision] AS [Decimal_Precision], 
        [Extent1].[AvePrice_Rounding] AS [AvePrice_Rounding], 
        [Extent1].[Issue_Date] AS [Issue_Date], 
        [Extent1].[Maturity_Date] AS [Maturity_Date], 
        [Extent1].[Coupon_Rate] AS [Coupon_Rate], 
        [Extent1].[Price_Exchange] AS [Price_Exchange], 
        [Extent1].[Trade_Currency] AS [Trade_Currency], 
        [Extent1].[Price_Curr] AS [Price_Curr], 
        [Extent1].[Currency_Pair_Code] AS [Currency_Pair_Code], 
        [Extent1].[Share_Class] AS [Share_Class], 
        [Extent1].[Current_Market_Price] AS [Current_Market_Price], 
        [Extent1].[Index_Type] AS [Index_Type], 
        [Extent1].[Clean_Price_Formula] AS [Clean_Price_Formula], 
        [Extent1].[Accrued_Income_Price_Formula] AS [Accrued_Income_Price_Formula], 
        [Extent1].[Odd_First_Coupon_Date] AS [Odd_First_Coupon_Date], 
        [Extent1].[Odd_Last_Coupon_Date] AS [Odd_Last_Coupon_Date], 
        [Extent1].[Coupon_Anniversary_Indicator] AS [Coupon_Anniversary_Indicator], 
        [Extent1].[Track_EOM_Flag] AS [Track_EOM_Flag], 
        [Extent1].[Next_Coupon_Date] AS [Next_Coupon_Date], 
        [Extent1].[Previous_Coupon_Date] AS [Previous_Coupon_Date], 
        [Extent1].[Payment_Frequency] AS [Payment_Frequency], 
        [Extent1].[Coupon_BusDay_Adjustment] AS [Coupon_BusDay_Adjustment], 
        [Extent1].[Next_Ex_Div_Date] AS [Next_Ex_Div_Date], 
        [Extent1].[Ex_Div_BusDay_Adjustment] AS [Ex_Div_BusDay_Adjustment], 
        [Extent1].[Ex_Div_Period] AS [Ex_Div_Period], 
        [Extent1].[Ticker] AS [Ticker], 
        [Extent1].[Inet_ID] AS [Inet_ID], 
        [Extent1].[Bloomberg_ID] AS [Bloomberg_ID], 
        [Extent1].[External_Sec_ID] AS [External_Sec_ID], 
        [Extent1].[Reuters_ID] AS [Reuters_ID], 
        [Extent1].[ISIN] AS [ISIN], 
        [Extent1].[Call_Account_Flag] AS [Call_Account_Flag], 
        [Extent1].[System_Locked] AS [System_Locked], 
        [Extent1].[Last_Update_User] AS [Last_Update_User], 
        [Extent1].[Last_Update_Date] AS [Last_Update_Date], 
        [Extent1].[Security_Status] AS [Security_Status], 
        [Extent1].[Benchmark_Portfolio] AS [Benchmark_Portfolio], 
        [Extent1].[Active_flag] AS [Active_flag], 
        [Extent1].[Dividend_FX_Security_ID] AS [Dividend_FX_Security_ID]
        FROM [dbo].[Security_Detail] AS [Extent1]
        WHERE ([Extent1].[Entity_ID] IN (@p__linq__0,@p__linq__1)) AND ((CASE WHEN ( NOT ((N'' = @p__linq__2) AND (@p__linq__2 IS NOT NULL))) THEN CASE WHEN ([Extent1].[Security_Type_Code] = @p__linq__3) THEN cast(1 as bit) WHEN ( NOT (([Extent1].[Security_Type_Code] = @p__linq__3) AND (0 = (CASE WHEN (@p__linq__3 IS NULL) THEN cast(1 as bit) ELSE cast(0 as bit) END)))) THEN cast(0 as bit) END WHEN ('' <> [Extent1].[Security_Type_Code]) THEN cast(1 as bit) WHEN ('' = [Extent1].[Security_Type_Code]) THEN cast(0 as bit) END) = 1)
    )  AS [Project1]
    ORDER BY [Project1].[Security_Name] ASC
2018-04-11 13:17:48.9564|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: IF db_id(N'MetopeAzureDb') IS NOT NULL SELECT 1 ELSE SELECT Count(*) FROM sys.databases WHERE [name]=N'MetopeAzureDb'
2018-04-11 13:17:49.1030|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: IF db_id(N'MetopeAzureDb') IS NOT NULL SELECT 1 ELSE SELECT Count(*) FROM sys.databases WHERE [name]=N'MetopeAzureDb'
2018-04-11 13:17:49.2015|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: IF db_id(N'MetopeAzureDb') IS NOT NULL SELECT 1 ELSE SELECT Count(*) FROM sys.databases WHERE [name]=N'MetopeAzureDb'
2018-04-11 13:17:49.2271|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: IF db_id(N'MetopeAzureDb') IS NOT NULL SELECT 1 ELSE SELECT Count(*) FROM sys.databases WHERE [name]=N'MetopeAzureDb'
2018-04-11 13:17:51.8073|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: SELECT 
    [Project1].[Decimal_Precision] AS [Decimal_Precision], 
    [Project1].[Security_ID] AS [Security_ID], 
    [Project1].[Portfolio_Code] AS [Portfolio_Code], 
    [Project1].[Entity_ID] AS [Entity_ID], 
    [Project1].[Excess_Weight_Quarterly] AS [Excess_Weight_Quarterly], 
    [Project1].[Relative_Contribution_Quarterly] AS [Relative_Contribution_Quarterly], 
    [Project1].[Allocation_Selection_Interaction_Quarterly] AS [Allocation_Selection_Interaction_Quarterly], 
    [Project1].[StockVs_TotBenchmarkReturn_Quarterly] AS [StockVs_TotBenchmarkReturn_Quarterly], 
    [Project1].[Selection_Interaction_Quarterly] AS [Selection_Interaction_Quarterly], 
    [Project1].[Asset_Allocation_Quarterly] AS [Asset_Allocation_Quarterly], 
    [Project1].[Excess_Weight_Monthly] AS [Excess_Weight_Monthly], 
    [Project1].[Relative_Contribution_Monthly] AS [Relative_Contribution_Monthly], 
    [Project1].[Allocation_Selection_Interaction_Monthly] AS [Allocation_Selection_Interaction_Monthly], 
    [Project1].[StockVs_TotBenchmarkReturn_Monthly] AS [StockVs_TotBenchmarkReturn_Monthly], 
    [Project1].[Selection_Interaction_Monthly] AS [Selection_Interaction_Monthly], 
    [Project1].[Asset_Allocation_Monthly] AS [Asset_Allocation_Monthly], 
    [Project1].[Excess_Weight_MonthToDate] AS [Excess_Weight_MonthToDate], 
    [Project1].[Relative_Contribution_MonthToDate] AS [Relative_Contribution_MonthToDate], 
    [Project1].[Allocation_Selection_Interaction_MonthToDate] AS [Allocation_Selection_Interaction_MonthToDate], 
    [Project1].[StockVs_TotBenchmarkReturn_MonthToDate] AS [StockVs_TotBenchmarkReturn_MonthToDate], 
    [Project1].[Selection_Interaction_MonthToDate] AS [Selection_Interaction_MonthToDate], 
    [Project1].[Asset_Allocation_MonthToDate] AS [Asset_Allocation_MonthToDate], 
    [Project1].[Last_Update_Date] AS [Last_Update_Date], 
    [Project1].[Last_Update_User] AS [Last_Update_User], 
    [Project1].[Security_Weight_Portfolio_Monthly] AS [Security_Weight_Portfolio_Monthly], 
    [Project1].[Security_Weight_Portfolio_MonthToDate] AS [Security_Weight_Portfolio_MonthToDate], 
    [Project1].[Security_Weight_Portfolio_Quarterly] AS [Security_Weight_Portfolio_Quarterly], 
    [Project1].[Security_Weight_Benchmark_Monthly] AS [Security_Weight_Benchmark_Monthly], 
    [Project1].[Security_Weight_Benchmark_MonthToDate] AS [Security_Weight_Benchmark_MonthToDate], 
    [Project1].[Security_Weight_Benchmark_Quarterly] AS [Security_Weight_Benchmark_Quarterly], 
    [Project1].[Total_Return_Security_Price_Monthly] AS [Total_Return_Security_Price_Monthly], 
    [Project1].[Total_Return_Security_Price_MonthToDate] AS [Total_Return_Security_Price_MonthToDate], 
    [Project1].[Total_Return_Security_Price_Quarterly] AS [Total_Return_Security_Price_Quarterly], 
    [Project1].[TW_Return_Portfolio_Monthly] AS [TW_Return_Portfolio_Monthly], 
    [Project1].[TW_Return_Portfolio_MonthToDate] AS [TW_Return_Portfolio_MonthToDate], 
    [Project1].[TW_Return_Portfolio_Quarterly] AS [TW_Return_Portfolio_Quarterly], 
    [Project1].[Record_Date] AS [Record_Date], 
    [Project1].[Session_ID] AS [Session_ID], 
    [Project1].[Hist_Last_Update_Date] AS [Hist_Last_Update_Date], 
    [Project1].[Hist_Last_Update_User] AS [Hist_Last_Update_User], 
    [Project1].[Benchmark_Price_Performance_Monthly] AS [Benchmark_Price_Performance_Monthly], 
    [Project1].[Benchmark_Price_Performance_MonthToDate] AS [Benchmark_Price_Performance_MonthToDate], 
    [Project1].[Benchmark_Price_Performance_Quarterly] AS [Benchmark_Price_Performance_Quarterly], 
    [Project1].[Security_ID1] AS [Security_ID1], 
    [Project1].[Entity_ID1] AS [Entity_ID1], 
    [Project1].[Security_Name] AS [Security_Name], 
    [Project1].[Short_Name] AS [Short_Name], 
    [Project1].[Primary_Exch] AS [Primary_Exch], 
    [Project1].[Secondary_Exch] AS [Secondary_Exch], 
    [Project1].[Country_Of_Domicile] AS [Country_Of_Domicile], 
    [Project1].[Country_Of_Risk] AS [Country_Of_Risk], 
    [Project1].[Security_Type_Code] AS [Security_Type_Code], 
    [Project1].[Price_Multiplier] AS [Price_Multiplier], 
    [Project1].[Income_Frequency] AS [Income_Frequency], 
    [Project1].[Issuer_Code] AS [Issuer_Code], 
    [Project1].[Ultimate_Issuer_Code] AS [Ultimate_Issuer_Code], 
    [Project1].[Asset_Currency] AS [Asset_Currency], 
    [Project1].[Min_Lot_Size] AS [Min_Lot_Size], 
    [Project1].[AvePrice_Rounding] AS [AvePrice_Rounding], 
    [Project1].[Issue_Date] AS [Issue_Date], 
    [Project1].[Maturity_Date] AS [Maturity_Date], 
    [Project1].[Coupon_Rate] AS [Coupon_Rate], 
    [Project1].[Price_Exchange] AS [Price_Exchange], 
    [Project1].[Trade_Currency] AS [Trade_Currency], 
    [Project1].[Price_Curr] AS [Price_Curr], 
    [Project1].[Currency_Pair_Code] AS [Currency_Pair_Code], 
    [Project1].[Share_Class] AS [Share_Class], 
    [Project1].[Current_Market_Price] AS [Current_Market_Price], 
    [Project1].[Index_Type] AS [Index_Type], 
    [Project1].[Clean_Price_Formula] AS [Clean_Price_Formula], 
    [Project1].[Accrued_Income_Price_Formula] AS [Accrued_Income_Price_Formula], 
    [Project1].[Odd_First_Coupon_Date] AS [Odd_First_Coupon_Date], 
    [Project1].[Odd_Last_Coupon_Date] AS [Odd_Last_Coupon_Date], 
    [Project1].[Coupon_Anniversary_Indicator] AS [Coupon_Anniversary_Indicator], 
    [Project1].[Track_EOM_Flag] AS [Track_EOM_Flag], 
    [Project1].[Next_Coupon_Date] AS [Next_Coupon_Date], 
    [Project1].[Previous_Coupon_Date] AS [Previous_Coupon_Date], 
    [Project1].[Payment_Frequency] AS [Payment_Frequency], 
    [Project1].[Coupon_BusDay_Adjustment] AS [Coupon_BusDay_Adjustment], 
    [Project1].[Next_Ex_Div_Date] AS [Next_Ex_Div_Date], 
    [Project1].[Ex_Div_BusDay_Adjustment] AS [Ex_Div_BusDay_Adjustment], 
    [Project1].[Ex_Div_Period] AS [Ex_Div_Period], 
    [Project1].[Ticker] AS [Ticker], 
    [Project1].[Inet_ID] AS [Inet_ID], 
    [Project1].[Bloomberg_ID] AS [Bloomberg_ID], 
    [Project1].[External_Sec_ID] AS [External_Sec_ID], 
    [Project1].[Reuters_ID] AS [Reuters_ID], 
    [Project1].[ISIN] AS [ISIN], 
    [Project1].[Call_Account_Flag] AS [Call_Account_Flag], 
    [Project1].[System_Locked] AS [System_Locked], 
    [Project1].[Last_Update_User1] AS [Last_Update_User1], 
    [Project1].[Last_Update_Date1] AS [Last_Update_Date1], 
    [Project1].[Security_Status] AS [Security_Status], 
    [Project1].[Benchmark_Portfolio] AS [Benchmark_Portfolio], 
    [Project1].[Active_flag] AS [Active_flag], 
    [Project1].[Dividend_FX_Security_ID] AS [Dividend_FX_Security_ID]
    FROM ( SELECT 
        [Extent1].[Security_ID] AS [Security_ID], 
        [Extent1].[Portfolio_Code] AS [Portfolio_Code], 
        [Extent1].[Entity_ID] AS [Entity_ID], 
        [Extent1].[Excess_Weight_Quarterly] AS [Excess_Weight_Quarterly], 
        [Extent1].[Relative_Contribution_Quarterly] AS [Relative_Contribution_Quarterly], 
        [Extent1].[Allocation_Selection_Interaction_Quarterly] AS [Allocation_Selection_Interaction_Quarterly], 
        [Extent1].[StockVs_TotBenchmarkReturn_Quarterly] AS [StockVs_TotBenchmarkReturn_Quarterly], 
        [Extent1].[Selection_Interaction_Quarterly] AS [Selection_Interaction_Quarterly], 
        [Extent1].[Asset_Allocation_Quarterly] AS [Asset_Allocation_Quarterly], 
        [Extent1].[Excess_Weight_Monthly] AS [Excess_Weight_Monthly], 
        [Extent1].[Relative_Contribution_Monthly] AS [Relative_Contribution_Monthly], 
        [Extent1].[Allocation_Selection_Interaction_Monthly] AS [Allocation_Selection_Interaction_Monthly], 
        [Extent1].[StockVs_TotBenchmarkReturn_Monthly] AS [StockVs_TotBenchmarkReturn_Monthly], 
        [Extent1].[Selection_Interaction_Monthly] AS [Selection_Interaction_Monthly], 
        [Extent1].[Asset_Allocation_Monthly] AS [Asset_Allocation_Monthly], 
        [Extent1].[Excess_Weight_MonthToDate] AS [Excess_Weight_MonthToDate], 
        [Extent1].[Relative_Contribution_MonthToDate] AS [Relative_Contribution_MonthToDate], 
        [Extent1].[Allocation_Selection_Interaction_MonthToDate] AS [Allocation_Selection_Interaction_MonthToDate], 
        [Extent1].[StockVs_TotBenchmarkReturn_MonthToDate] AS [StockVs_TotBenchmarkReturn_MonthToDate], 
        [Extent1].[Selection_Interaction_MonthToDate] AS [Selection_Interaction_MonthToDate], 
        [Extent1].[Asset_Allocation_MonthToDate] AS [Asset_Allocation_MonthToDate], 
        [Extent1].[Last_Update_Date] AS [Last_Update_Date], 
        [Extent1].[Last_Update_User] AS [Last_Update_User], 
        [Extent1].[Security_Weight_Portfolio_Monthly] AS [Security_Weight_Portfolio_Monthly], 
        [Extent1].[Security_Weight_Portfolio_MonthToDate] AS [Security_Weight_Portfolio_MonthToDate], 
        [Extent1].[Security_Weight_Portfolio_Quarterly] AS [Security_Weight_Portfolio_Quarterly], 
        [Extent1].[Security_Weight_Benchmark_Monthly] AS [Security_Weight_Benchmark_Monthly], 
        [Extent1].[Security_Weight_Benchmark_MonthToDate] AS [Security_Weight_Benchmark_MonthToDate], 
        [Extent1].[Security_Weight_Benchmark_Quarterly] AS [Security_Weight_Benchmark_Quarterly], 
        [Extent1].[Total_Return_Security_Price_Monthly] AS [Total_Return_Security_Price_Monthly], 
        [Extent1].[Total_Return_Security_Price_MonthToDate] AS [Total_Return_Security_Price_MonthToDate], 
        [Extent1].[Total_Return_Security_Price_Quarterly] AS [Total_Return_Security_Price_Quarterly], 
        [Extent1].[TW_Return_Portfolio_Monthly] AS [TW_Return_Portfolio_Monthly], 
        [Extent1].[TW_Return_Portfolio_MonthToDate] AS [TW_Return_Portfolio_MonthToDate], 
        [Extent1].[TW_Return_Portfolio_Quarterly] AS [TW_Return_Portfolio_Quarterly], 
        [Extent1].[Record_Date] AS [Record_Date], 
        [Extent1].[Session_ID] AS [Session_ID], 
        [Extent1].[Hist_Last_Update_Date] AS [Hist_Last_Update_Date], 
        [Extent1].[Hist_Last_Update_User] AS [Hist_Last_Update_User], 
        [Extent1].[Benchmark_Price_Performance_Monthly] AS [Benchmark_Price_Performance_Monthly], 
        [Extent1].[Benchmark_Price_Performance_MonthToDate] AS [Benchmark_Price_Performance_MonthToDate], 
        [Extent1].[Benchmark_Price_Performance_Quarterly] AS [Benchmark_Price_Performance_Quarterly], 
        [Extent2].[Security_ID] AS [Security_ID1], 
        [Extent2].[Entity_ID] AS [Entity_ID1], 
        [Extent2].[Security_Name] AS [Security_Name], 
        [Extent2].[Short_Name] AS [Short_Name], 
        [Extent2].[Primary_Exch] AS [Primary_Exch], 
        [Extent2].[Secondary_Exch] AS [Secondary_Exch], 
        [Extent2].[Country_Of_Domicile] AS [Country_Of_Domicile], 
        [Extent2].[Country_Of_Risk] AS [Country_Of_Risk], 
        [Extent2].[Security_Type_Code] AS [Security_Type_Code], 
        [Extent2].[Price_Multiplier] AS [Price_Multiplier], 
        [Extent2].[Income_Frequency] AS [Income_Frequency], 
        [Extent2].[Issuer_Code] AS [Issuer_Code], 
        [Extent2].[Ultimate_Issuer_Code] AS [Ultimate_Issuer_Code], 
        [Extent2].[Asset_Currency] AS [Asset_Currency], 
        [Extent2].[Min_Lot_Size] AS [Min_Lot_Size], 
        [Extent2].[Decimal_Precision] AS [Decimal_Precision], 
        [Extent2].[AvePrice_Rounding] AS [AvePrice_Rounding], 
        [Extent2].[Issue_Date] AS [Issue_Date], 
        [Extent2].[Maturity_Date] AS [Maturity_Date], 
        [Extent2].[Coupon_Rate] AS [Coupon_Rate], 
        [Extent2].[Price_Exchange] AS [Price_Exchange], 
        [Extent2].[Trade_Currency] AS [Trade_Currency], 
        [Extent2].[Price_Curr] AS [Price_Curr], 
        [Extent2].[Currency_Pair_Code] AS [Currency_Pair_Code], 
        [Extent2].[Share_Class] AS [Share_Class], 
        [Extent2].[Current_Market_Price] AS [Current_Market_Price], 
        [Extent2].[Index_Type] AS [Index_Type], 
        [Extent2].[Clean_Price_Formula] AS [Clean_Price_Formula], 
        [Extent2].[Accrued_Income_Price_Formula] AS [Accrued_Income_Price_Formula], 
        [Extent2].[Odd_First_Coupon_Date] AS [Odd_First_Coupon_Date], 
        [Extent2].[Odd_Last_Coupon_Date] AS [Odd_Last_Coupon_Date], 
        [Extent2].[Coupon_Anniversary_Indicator] AS [Coupon_Anniversary_Indicator], 
        [Extent2].[Track_EOM_Flag] AS [Track_EOM_Flag], 
        [Extent2].[Next_Coupon_Date] AS [Next_Coupon_Date], 
        [Extent2].[Previous_Coupon_Date] AS [Previous_Coupon_Date], 
        [Extent2].[Payment_Frequency] AS [Payment_Frequency], 
        [Extent2].[Coupon_BusDay_Adjustment] AS [Coupon_BusDay_Adjustment], 
        [Extent2].[Next_Ex_Div_Date] AS [Next_Ex_Div_Date], 
        [Extent2].[Ex_Div_BusDay_Adjustment] AS [Ex_Div_BusDay_Adjustment], 
        [Extent2].[Ex_Div_Period] AS [Ex_Div_Period], 
        [Extent2].[Ticker] AS [Ticker], 
        [Extent2].[Inet_ID] AS [Inet_ID], 
        [Extent2].[Bloomberg_ID] AS [Bloomberg_ID], 
        [Extent2].[External_Sec_ID] AS [External_Sec_ID], 
        [Extent2].[Reuters_ID] AS [Reuters_ID], 
        [Extent2].[ISIN] AS [ISIN], 
        [Extent2].[Call_Account_Flag] AS [Call_Account_Flag], 
        [Extent2].[System_Locked] AS [System_Locked], 
        [Extent2].[Last_Update_User] AS [Last_Update_User1], 
        [Extent2].[Last_Update_Date] AS [Last_Update_Date1], 
        [Extent2].[Security_Status] AS [Security_Status], 
        [Extent2].[Benchmark_Portfolio] AS [Benchmark_Portfolio], 
        [Extent2].[Active_flag] AS [Active_flag], 
        [Extent2].[Dividend_FX_Security_ID] AS [Dividend_FX_Security_ID]
        FROM  [dbo].[Security_Attribution_History] AS [Extent1]
        INNER JOIN [dbo].[Security_Detail] AS [Extent2] ON [Extent1].[Security_ID] = [Extent2].[Security_ID]
        WHERE ([Extent1].[Security_ID] = @p__linq__0) AND ([Extent1].[Portfolio_Code] = @p__linq__1)
    )  AS [Project1]
    ORDER BY [Project1].[Record_Date] DESC
2018-04-11 13:17:51.8743|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: SELECT 
    [Project1].[Decimal_Precision] AS [Decimal_Precision], 
    [Project1].[Security_ID] AS [Security_ID], 
    [Project1].[Portfolio_Code] AS [Portfolio_Code], 
    [Project1].[Entity_ID] AS [Entity_ID], 
    [Project1].[Excess_Weight_Quarterly] AS [Excess_Weight_Quarterly], 
    [Project1].[Relative_Contribution_Quarterly] AS [Relative_Contribution_Quarterly], 
    [Project1].[Allocation_Selection_Interaction_Quarterly] AS [Allocation_Selection_Interaction_Quarterly], 
    [Project1].[StockVs_TotBenchmarkReturn_Quarterly] AS [StockVs_TotBenchmarkReturn_Quarterly], 
    [Project1].[Selection_Interaction_Quarterly] AS [Selection_Interaction_Quarterly], 
    [Project1].[Asset_Allocation_Quarterly] AS [Asset_Allocation_Quarterly], 
    [Project1].[Excess_Weight_Monthly] AS [Excess_Weight_Monthly], 
    [Project1].[Relative_Contribution_Monthly] AS [Relative_Contribution_Monthly], 
    [Project1].[Allocation_Selection_Interaction_Monthly] AS [Allocation_Selection_Interaction_Monthly], 
    [Project1].[StockVs_TotBenchmarkReturn_Monthly] AS [StockVs_TotBenchmarkReturn_Monthly], 
    [Project1].[Selection_Interaction_Monthly] AS [Selection_Interaction_Monthly], 
    [Project1].[Asset_Allocation_Monthly] AS [Asset_Allocation_Monthly], 
    [Project1].[Excess_Weight_MonthToDate] AS [Excess_Weight_MonthToDate], 
    [Project1].[Relative_Contribution_MonthToDate] AS [Relative_Contribution_MonthToDate], 
    [Project1].[Allocation_Selection_Interaction_MonthToDate] AS [Allocation_Selection_Interaction_MonthToDate], 
    [Project1].[StockVs_TotBenchmarkReturn_MonthToDate] AS [StockVs_TotBenchmarkReturn_MonthToDate], 
    [Project1].[Selection_Interaction_MonthToDate] AS [Selection_Interaction_MonthToDate], 
    [Project1].[Asset_Allocation_MonthToDate] AS [Asset_Allocation_MonthToDate], 
    [Project1].[Last_Update_Date] AS [Last_Update_Date], 
    [Project1].[Last_Update_User] AS [Last_Update_User], 
    [Project1].[Security_Weight_Portfolio_Monthly] AS [Security_Weight_Portfolio_Monthly], 
    [Project1].[Security_Weight_Portfolio_MonthToDate] AS [Security_Weight_Portfolio_MonthToDate], 
    [Project1].[Security_Weight_Portfolio_Quarterly] AS [Security_Weight_Portfolio_Quarterly], 
    [Project1].[Security_Weight_Benchmark_Monthly] AS [Security_Weight_Benchmark_Monthly], 
    [Project1].[Security_Weight_Benchmark_MonthToDate] AS [Security_Weight_Benchmark_MonthToDate], 
    [Project1].[Security_Weight_Benchmark_Quarterly] AS [Security_Weight_Benchmark_Quarterly], 
    [Project1].[Total_Return_Security_Price_Monthly] AS [Total_Return_Security_Price_Monthly], 
    [Project1].[Total_Return_Security_Price_MonthToDate] AS [Total_Return_Security_Price_MonthToDate], 
    [Project1].[Total_Return_Security_Price_Quarterly] AS [Total_Return_Security_Price_Quarterly], 
    [Project1].[TW_Return_Portfolio_Monthly] AS [TW_Return_Portfolio_Monthly], 
    [Project1].[TW_Return_Portfolio_MonthToDate] AS [TW_Return_Portfolio_MonthToDate], 
    [Project1].[TW_Return_Portfolio_Quarterly] AS [TW_Return_Portfolio_Quarterly], 
    [Project1].[Record_Date] AS [Record_Date], 
    [Project1].[Session_ID] AS [Session_ID], 
    [Project1].[Hist_Last_Update_Date] AS [Hist_Last_Update_Date], 
    [Project1].[Hist_Last_Update_User] AS [Hist_Last_Update_User], 
    [Project1].[Benchmark_Price_Performance_Monthly] AS [Benchmark_Price_Performance_Monthly], 
    [Project1].[Benchmark_Price_Performance_MonthToDate] AS [Benchmark_Price_Performance_MonthToDate], 
    [Project1].[Benchmark_Price_Performance_Quarterly] AS [Benchmark_Price_Performance_Quarterly], 
    [Project1].[Security_ID1] AS [Security_ID1], 
    [Project1].[Entity_ID1] AS [Entity_ID1], 
    [Project1].[Security_Name] AS [Security_Name], 
    [Project1].[Short_Name] AS [Short_Name], 
    [Project1].[Primary_Exch] AS [Primary_Exch], 
    [Project1].[Secondary_Exch] AS [Secondary_Exch], 
    [Project1].[Country_Of_Domicile] AS [Country_Of_Domicile], 
    [Project1].[Country_Of_Risk] AS [Country_Of_Risk], 
    [Project1].[Security_Type_Code] AS [Security_Type_Code], 
    [Project1].[Price_Multiplier] AS [Price_Multiplier], 
    [Project1].[Income_Frequency] AS [Income_Frequency], 
    [Project1].[Issuer_Code] AS [Issuer_Code], 
    [Project1].[Ultimate_Issuer_Code] AS [Ultimate_Issuer_Code], 
    [Project1].[Asset_Currency] AS [Asset_Currency], 
    [Project1].[Min_Lot_Size] AS [Min_Lot_Size], 
    [Project1].[AvePrice_Rounding] AS [AvePrice_Rounding], 
    [Project1].[Issue_Date] AS [Issue_Date], 
    [Project1].[Maturity_Date] AS [Maturity_Date], 
    [Project1].[Coupon_Rate] AS [Coupon_Rate], 
    [Project1].[Price_Exchange] AS [Price_Exchange], 
    [Project1].[Trade_Currency] AS [Trade_Currency], 
    [Project1].[Price_Curr] AS [Price_Curr], 
    [Project1].[Currency_Pair_Code] AS [Currency_Pair_Code], 
    [Project1].[Share_Class] AS [Share_Class], 
    [Project1].[Current_Market_Price] AS [Current_Market_Price], 
    [Project1].[Index_Type] AS [Index_Type], 
    [Project1].[Clean_Price_Formula] AS [Clean_Price_Formula], 
    [Project1].[Accrued_Income_Price_Formula] AS [Accrued_Income_Price_Formula], 
    [Project1].[Odd_First_Coupon_Date] AS [Odd_First_Coupon_Date], 
    [Project1].[Odd_Last_Coupon_Date] AS [Odd_Last_Coupon_Date], 
    [Project1].[Coupon_Anniversary_Indicator] AS [Coupon_Anniversary_Indicator], 
    [Project1].[Track_EOM_Flag] AS [Track_EOM_Flag], 
    [Project1].[Next_Coupon_Date] AS [Next_Coupon_Date], 
    [Project1].[Previous_Coupon_Date] AS [Previous_Coupon_Date], 
    [Project1].[Payment_Frequency] AS [Payment_Frequency], 
    [Project1].[Coupon_BusDay_Adjustment] AS [Coupon_BusDay_Adjustment], 
    [Project1].[Next_Ex_Div_Date] AS [Next_Ex_Div_Date], 
    [Project1].[Ex_Div_BusDay_Adjustment] AS [Ex_Div_BusDay_Adjustment], 
    [Project1].[Ex_Div_Period] AS [Ex_Div_Period], 
    [Project1].[Ticker] AS [Ticker], 
    [Project1].[Inet_ID] AS [Inet_ID], 
    [Project1].[Bloomberg_ID] AS [Bloomberg_ID], 
    [Project1].[External_Sec_ID] AS [External_Sec_ID], 
    [Project1].[Reuters_ID] AS [Reuters_ID], 
    [Project1].[ISIN] AS [ISIN], 
    [Project1].[Call_Account_Flag] AS [Call_Account_Flag], 
    [Project1].[System_Locked] AS [System_Locked], 
    [Project1].[Last_Update_User1] AS [Last_Update_User1], 
    [Project1].[Last_Update_Date1] AS [Last_Update_Date1], 
    [Project1].[Security_Status] AS [Security_Status], 
    [Project1].[Benchmark_Portfolio] AS [Benchmark_Portfolio], 
    [Project1].[Active_flag] AS [Active_flag], 
    [Project1].[Dividend_FX_Security_ID] AS [Dividend_FX_Security_ID]
    FROM ( SELECT 
        [Extent1].[Security_ID] AS [Security_ID], 
        [Extent1].[Portfolio_Code] AS [Portfolio_Code], 
        [Extent1].[Entity_ID] AS [Entity_ID], 
        [Extent1].[Excess_Weight_Quarterly] AS [Excess_Weight_Quarterly], 
        [Extent1].[Relative_Contribution_Quarterly] AS [Relative_Contribution_Quarterly], 
        [Extent1].[Allocation_Selection_Interaction_Quarterly] AS [Allocation_Selection_Interaction_Quarterly], 
        [Extent1].[StockVs_TotBenchmarkReturn_Quarterly] AS [StockVs_TotBenchmarkReturn_Quarterly], 
        [Extent1].[Selection_Interaction_Quarterly] AS [Selection_Interaction_Quarterly], 
        [Extent1].[Asset_Allocation_Quarterly] AS [Asset_Allocation_Quarterly], 
        [Extent1].[Excess_Weight_Monthly] AS [Excess_Weight_Monthly], 
        [Extent1].[Relative_Contribution_Monthly] AS [Relative_Contribution_Monthly], 
        [Extent1].[Allocation_Selection_Interaction_Monthly] AS [Allocation_Selection_Interaction_Monthly], 
        [Extent1].[StockVs_TotBenchmarkReturn_Monthly] AS [StockVs_TotBenchmarkReturn_Monthly], 
        [Extent1].[Selection_Interaction_Monthly] AS [Selection_Interaction_Monthly], 
        [Extent1].[Asset_Allocation_Monthly] AS [Asset_Allocation_Monthly], 
        [Extent1].[Excess_Weight_MonthToDate] AS [Excess_Weight_MonthToDate], 
        [Extent1].[Relative_Contribution_MonthToDate] AS [Relative_Contribution_MonthToDate], 
        [Extent1].[Allocation_Selection_Interaction_MonthToDate] AS [Allocation_Selection_Interaction_MonthToDate], 
        [Extent1].[StockVs_TotBenchmarkReturn_MonthToDate] AS [StockVs_TotBenchmarkReturn_MonthToDate], 
        [Extent1].[Selection_Interaction_MonthToDate] AS [Selection_Interaction_MonthToDate], 
        [Extent1].[Asset_Allocation_MonthToDate] AS [Asset_Allocation_MonthToDate], 
        [Extent1].[Last_Update_Date] AS [Last_Update_Date], 
        [Extent1].[Last_Update_User] AS [Last_Update_User], 
        [Extent1].[Security_Weight_Portfolio_Monthly] AS [Security_Weight_Portfolio_Monthly], 
        [Extent1].[Security_Weight_Portfolio_MonthToDate] AS [Security_Weight_Portfolio_MonthToDate], 
        [Extent1].[Security_Weight_Portfolio_Quarterly] AS [Security_Weight_Portfolio_Quarterly], 
        [Extent1].[Security_Weight_Benchmark_Monthly] AS [Security_Weight_Benchmark_Monthly], 
        [Extent1].[Security_Weight_Benchmark_MonthToDate] AS [Security_Weight_Benchmark_MonthToDate], 
        [Extent1].[Security_Weight_Benchmark_Quarterly] AS [Security_Weight_Benchmark_Quarterly], 
        [Extent1].[Total_Return_Security_Price_Monthly] AS [Total_Return_Security_Price_Monthly], 
        [Extent1].[Total_Return_Security_Price_MonthToDate] AS [Total_Return_Security_Price_MonthToDate], 
        [Extent1].[Total_Return_Security_Price_Quarterly] AS [Total_Return_Security_Price_Quarterly], 
        [Extent1].[TW_Return_Portfolio_Monthly] AS [TW_Return_Portfolio_Monthly], 
        [Extent1].[TW_Return_Portfolio_MonthToDate] AS [TW_Return_Portfolio_MonthToDate], 
        [Extent1].[TW_Return_Portfolio_Quarterly] AS [TW_Return_Portfolio_Quarterly], 
        [Extent1].[Record_Date] AS [Record_Date], 
        [Extent1].[Session_ID] AS [Session_ID], 
        [Extent1].[Hist_Last_Update_Date] AS [Hist_Last_Update_Date], 
        [Extent1].[Hist_Last_Update_User] AS [Hist_Last_Update_User], 
        [Extent1].[Benchmark_Price_Performance_Monthly] AS [Benchmark_Price_Performance_Monthly], 
        [Extent1].[Benchmark_Price_Performance_MonthToDate] AS [Benchmark_Price_Performance_MonthToDate], 
        [Extent1].[Benchmark_Price_Performance_Quarterly] AS [Benchmark_Price_Performance_Quarterly], 
        [Extent2].[Security_ID] AS [Security_ID1], 
        [Extent2].[Entity_ID] AS [Entity_ID1], 
        [Extent2].[Security_Name] AS [Security_Name], 
        [Extent2].[Short_Name] AS [Short_Name], 
        [Extent2].[Primary_Exch] AS [Primary_Exch], 
        [Extent2].[Secondary_Exch] AS [Secondary_Exch], 
        [Extent2].[Country_Of_Domicile] AS [Country_Of_Domicile], 
        [Extent2].[Country_Of_Risk] AS [Country_Of_Risk], 
        [Extent2].[Security_Type_Code] AS [Security_Type_Code], 
        [Extent2].[Price_Multiplier] AS [Price_Multiplier], 
        [Extent2].[Income_Frequency] AS [Income_Frequency], 
        [Extent2].[Issuer_Code] AS [Issuer_Code], 
        [Extent2].[Ultimate_Issuer_Code] AS [Ultimate_Issuer_Code], 
        [Extent2].[Asset_Currency] AS [Asset_Currency], 
        [Extent2].[Min_Lot_Size] AS [Min_Lot_Size], 
        [Extent2].[Decimal_Precision] AS [Decimal_Precision], 
        [Extent2].[AvePrice_Rounding] AS [AvePrice_Rounding], 
        [Extent2].[Issue_Date] AS [Issue_Date], 
        [Extent2].[Maturity_Date] AS [Maturity_Date], 
        [Extent2].[Coupon_Rate] AS [Coupon_Rate], 
        [Extent2].[Price_Exchange] AS [Price_Exchange], 
        [Extent2].[Trade_Currency] AS [Trade_Currency], 
        [Extent2].[Price_Curr] AS [Price_Curr], 
        [Extent2].[Currency_Pair_Code] AS [Currency_Pair_Code], 
        [Extent2].[Share_Class] AS [Share_Class], 
        [Extent2].[Current_Market_Price] AS [Current_Market_Price], 
        [Extent2].[Index_Type] AS [Index_Type], 
        [Extent2].[Clean_Price_Formula] AS [Clean_Price_Formula], 
        [Extent2].[Accrued_Income_Price_Formula] AS [Accrued_Income_Price_Formula], 
        [Extent2].[Odd_First_Coupon_Date] AS [Odd_First_Coupon_Date], 
        [Extent2].[Odd_Last_Coupon_Date] AS [Odd_Last_Coupon_Date], 
        [Extent2].[Coupon_Anniversary_Indicator] AS [Coupon_Anniversary_Indicator], 
        [Extent2].[Track_EOM_Flag] AS [Track_EOM_Flag], 
        [Extent2].[Next_Coupon_Date] AS [Next_Coupon_Date], 
        [Extent2].[Previous_Coupon_Date] AS [Previous_Coupon_Date], 
        [Extent2].[Payment_Frequency] AS [Payment_Frequency], 
        [Extent2].[Coupon_BusDay_Adjustment] AS [Coupon_BusDay_Adjustment], 
        [Extent2].[Next_Ex_Div_Date] AS [Next_Ex_Div_Date], 
        [Extent2].[Ex_Div_BusDay_Adjustment] AS [Ex_Div_BusDay_Adjustment], 
        [Extent2].[Ex_Div_Period] AS [Ex_Div_Period], 
        [Extent2].[Ticker] AS [Ticker], 
        [Extent2].[Inet_ID] AS [Inet_ID], 
        [Extent2].[Bloomberg_ID] AS [Bloomberg_ID], 
        [Extent2].[External_Sec_ID] AS [External_Sec_ID], 
        [Extent2].[Reuters_ID] AS [Reuters_ID], 
        [Extent2].[ISIN] AS [ISIN], 
        [Extent2].[Call_Account_Flag] AS [Call_Account_Flag], 
        [Extent2].[System_Locked] AS [System_Locked], 
        [Extent2].[Last_Update_User] AS [Last_Update_User1], 
        [Extent2].[Last_Update_Date] AS [Last_Update_Date1], 
        [Extent2].[Security_Status] AS [Security_Status], 
        [Extent2].[Benchmark_Portfolio] AS [Benchmark_Portfolio], 
        [Extent2].[Active_flag] AS [Active_flag], 
        [Extent2].[Dividend_FX_Security_ID] AS [Dividend_FX_Security_ID]
        FROM  [dbo].[Security_Attribution_History] AS [Extent1]
        INNER JOIN [dbo].[Security_Detail] AS [Extent2] ON [Extent1].[Security_ID] = [Extent2].[Security_ID]
        WHERE ([Extent1].[Security_ID] = @p__linq__0) AND ([Extent1].[Portfolio_Code] = @p__linq__1)
    )  AS [Project1]
    ORDER BY [Project1].[Record_Date] DESC
2018-04-11 13:17:51.9283|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: IF db_id(N'MetopeAzureDb') IS NOT NULL SELECT 1 ELSE SELECT Count(*) FROM sys.databases WHERE [name]=N'MetopeAzureDb'
2018-04-11 13:17:51.9519|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: IF db_id(N'MetopeAzureDb') IS NOT NULL SELECT 1 ELSE SELECT Count(*) FROM sys.databases WHERE [name]=N'MetopeAzureDb'
2018-04-11 13:17:51.9829|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: IF db_id(N'MetopeAzureDb') IS NOT NULL SELECT 1 ELSE SELECT Count(*) FROM sys.databases WHERE [name]=N'MetopeAzureDb'
2018-04-11 13:17:52.0064|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: IF db_id(N'MetopeAzureDb') IS NOT NULL SELECT 1 ELSE SELECT Count(*) FROM sys.databases WHERE [name]=N'MetopeAzureDb'
2018-04-11 13:18:02.3180|ERROR|ASP.MetopeNspace.MvcApplication|Error caught in Application_Error event
, http://localhost:53133/SecurityAttributionHistory 
 Error in: Object reference not set to an instance of an object., 
Stack Trace:   at MetopeMVCApp.DecimalModelBinder.BindModel(ControllerContext controllerContext, ModelBindingContext bindingContext) in c:\BlueStream\Development\Metope\WebSite\MetopeMVCApp\MetopeMVCApp\DecimalModelBinder.cs:line 19
   at System.Web.Mvc.ControllerActionInvoker.GetParameterValue(ControllerContext controllerContext, ParameterDescriptor parameterDescriptor)
   at System.Web.Mvc.ControllerActionInvoker.GetParameterValues(ControllerContext controllerContext, ActionDescriptor actionDescriptor)
   at System.Web.Mvc.Async.AsyncControllerActionInvoker.<>c__DisplayClass21.<BeginInvokeAction>b__19(AsyncCallback asyncCallback, Object asyncState)
   at System.Web.Mvc.Async.AsyncResultWrapper.WrappedAsyncResult`1.CallBeginDelegate(AsyncCallback callback, Object callbackState)
   at System.Web.Mvc.Async.AsyncResultWrapper.WrappedAsyncResultBase`1.Begin(AsyncCallback callback, Object state, Int32 timeout)
   at System.Web.Mvc.Async.AsyncControllerActionInvoker.BeginInvokeAction(ControllerContext controllerContext, String actionName, AsyncCallback callback, Object state)
   at System.Web.Mvc.Controller.<BeginExecuteCore>b__1c(AsyncCallback asyncCallback, Object asyncState, ExecuteCoreState innerState)
   at System.Web.Mvc.Async.AsyncResultWrapper.WrappedAsyncVoid`1.CallBeginDelegate(AsyncCallback callback, Object callbackState)
   at System.Web.Mvc.Async.AsyncResultWrapper.WrappedAsyncResultBase`1.Begin(AsyncCallback callback, Object state, Int32 timeout)
   at System.Web.Mvc.Controller.BeginExecuteCore(AsyncCallback callback, Object state)
   at System.Web.Mvc.Controller.<BeginExecute>b__14(AsyncCallback asyncCallback, Object callbackState, Controller controller)
   at System.Web.Mvc.Async.AsyncResultWrapper.WrappedAsyncVoid`1.CallBeginDelegate(AsyncCallback callback, Object callbackState)
   at System.Web.Mvc.Async.AsyncResultWrapper.WrappedAsyncResultBase`1.Begin(AsyncCallback callback, Object state, Int32 timeout)
   at System.Web.Mvc.Controller.BeginExecute(RequestContext requestContext, AsyncCallback callback, Object state)
   at System.Web.Mvc.Controller.System.Web.Mvc.Async.IAsyncController.BeginExecute(RequestContext requestContext, AsyncCallback callback, Object state)
   at System.Web.Mvc.MvcHandler.<BeginProcessRequest>b__4(AsyncCallback asyncCallback, Object asyncState, ProcessRequestState innerState)
   at System.Web.Mvc.Async.AsyncResultWrapper.WrappedAsyncVoid`1.CallBeginDelegate(AsyncCallback callback, Object callbackState)
   at System.Web.Mvc.Async.AsyncResultWrapper.WrappedAsyncResultBase`1.Begin(AsyncCallback callback, Object state, Int32 timeout)
   at System.Web.Mvc.MvcHandler.BeginProcessRequest(HttpContextBase httpContext, AsyncCallback callback, Object state)
   at System.Web.Mvc.MvcHandler.BeginProcessRequest(HttpContext httpContext, AsyncCallback callback, Object state)
   at System.Web.Mvc.MvcHandler.System.Web.IHttpAsyncHandler.BeginProcessRequest(HttpContext context, AsyncCallback cb, Object extraData)
   at System.Web.HttpApplication.CallHandlerExecutionStep.System.Web.HttpApplication.IExecutionStep.Execute()
   at System.Web.HttpApplication.ExecuteStepImpl(IExecutionStep step)
   at System.Web.HttpApplication.ExecuteStep(IExecutionStep step, Boolean& completedSynchronously)
Session: Identity name:aaaaaa IsAuthenticated:True 
2018-04-11 13:18:02.4356|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: IF db_id(N'MetopeAzureDb') IS NOT NULL SELECT 1 ELSE SELECT Count(*) FROM sys.databases WHERE [name]=N'MetopeAzureDb'
2018-04-11 13:18:02.4752|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: IF db_id(N'MetopeAzureDb') IS NOT NULL SELECT 1 ELSE SELECT Count(*) FROM sys.databases WHERE [name]=N'MetopeAzureDb'
2018-04-11 13:18:02.5152|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: IF db_id(N'MetopeAzureDb') IS NOT NULL SELECT 1 ELSE SELECT Count(*) FROM sys.databases WHERE [name]=N'MetopeAzureDb'
2018-04-11 13:18:02.5577|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: IF db_id(N'MetopeAzureDb') IS NOT NULL SELECT 1 ELSE SELECT Count(*) FROM sys.databases WHERE [name]=N'MetopeAzureDb'
2018-04-11 13:18:14.8261|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: SELECT 
    [Project1].[Decimal_Precision] AS [Decimal_Precision], 
    [Project1].[Entity_ID] AS [Entity_ID], 
    [Project1].[Security_ID] AS [Security_ID], 
    [Project1].[Issued_Amount] AS [Issued_Amount], 
    [Project1].[Market_Capitalisation] AS [Market_Capitalisation], 
    [Project1].[Risk_Premium] AS [Risk_Premium], 
    [Project1].[Exit_Price] AS [Exit_Price], 
    [Project1].[Total_Return_ME_1YR] AS [Total_Return_ME_1YR], 
    [Project1].[Total_Return_ME_2YR] AS [Total_Return_ME_2YR], 
    [Project1].[Total_Return_ME_3YR] AS [Total_Return_ME_3YR], 
    [Project1].[Historic_Distribution] AS [Historic_Distribution], 
    [Project1].[Distribution_Growth_Forecast_Yr1] AS [Distribution_Growth_Forecast_Yr1], 
    [Project1].[Distribution_Growth_Forecast_Yr2] AS [Distribution_Growth_Forecast_Yr2], 
    [Project1].[Distribution_Growth_Forecast_Yr3] AS [Distribution_Growth_Forecast_Yr3], 
    [Project1].[Forecast_Distribution_Yr1] AS [Forecast_Distribution_Yr1], 
    [Project1].[Forecast_Distribution_Yr2] AS [Forecast_Distribution_Yr2], 
    [Project1].[Forecast_Distribution_Yr3] AS [Forecast_Distribution_Yr3], 
    [Project1].[Earnings_Growth_Compounded] AS [Earnings_Growth_Compounded], 
    [Project1].[Earnings_Forecast_Yr3] AS [Earnings_Forecast_Yr3], 
    [Project1].[Historic_Dividend_Yield_FYE] AS [Historic_Dividend_Yield_FYE], 
    [Project1].[Forward_Dividend_Yield_FYE] AS [Forward_Dividend_Yield_FYE], 
    [Project1].[Yr3_Forward_Dividend_Yield] AS [Yr3_Forward_Dividend_Yield], 
    [Project1].[Rolling_12M_Forward_Yield] AS [Rolling_12M_Forward_Yield], 
    [Project1].[Historical_Earnings_FYE] AS [Historical_Earnings_FYE], 
    [Project1].[Earnings_Forecast_Yr1] AS [Earnings_Forecast_Yr1], 
    [Project1].[Earnings_Forecast_Yr2] AS [Earnings_Forecast_Yr2], 
    [Project1].[Historic_Dividend_Yield_Relative] AS [Historic_Dividend_Yield_Relative], 
    [Project1].[Rolling_12M_Historic_Distribution_PriceCurr] AS [Rolling_12M_Historic_Distribution_PriceCurr], 
    [Project1].[Short_Term_Market_Rerate] AS [Short_Term_Market_Rerate], 
    [Project1].[Forecast_12M_Total_Return] AS [Forecast_12M_Total_Return], 
    [Project1].[Clean_Price] AS [Clean_Price], 
    [Project1].[Rolling_Dividend_Yield_Historic] AS [Rolling_Dividend_Yield_Historic], 
    [Project1].[Last_Update_Date] AS [Last_Update_Date], 
    [Project1].[Last_Update_User] AS [Last_Update_User], 
    [Project1].[Discount_Security_ID] AS [Discount_Security_ID], 
    [Project1].[Net_Present_Value] AS [Net_Present_Value], 
    [Project1].[Forecast_Rolling_Custom_Income] AS [Forecast_Rolling_Custom_Income], 
    [Project1].[Custom_Period] AS [Custom_Period], 
    [Project1].[Rolling_12M_Historic_Distribution] AS [Rolling_12M_Historic_Distribution], 
    [Project1].[Record_Date] AS [Record_Date], 
    [Project1].[Session_ID] AS [Session_ID], 
    [Project1].[Hist_Last_Update_Date] AS [Hist_Last_Update_Date], 
    [Project1].[Hist_Last_Update_User] AS [Hist_Last_Update_User], 
    [Project1].[Rolling_12M_Forecast_Distribution] AS [Rolling_12M_Forecast_Distribution], 
    [Project1].[Yr2_Forward_Dividend_Yield] AS [Yr2_Forward_Dividend_Yield], 
    [Project1].[Exit_Yield] AS [Exit_Yield], 
    [Project1].[Discount_Rate] AS [Discount_Rate], 
    [Project1].[Distribution_Growth_Compounded] AS [Distribution_Growth_Compounded], 
    [Project1].[Forecast_12MRolling_Income_Accrual] AS [Forecast_12MRolling_Income_Accrual], 
    [Project1].[Rolling_12_to_24M_Forecast_Distribution] AS [Rolling_12_to_24M_Forecast_Distribution], 
    [Project1].[Rolling_24_to_36M_Forecast_Distribution] AS [Rolling_24_to_36M_Forecast_Distribution], 
    [Project1].[Forecast_Yr1_Dividend_Yield_Relative] AS [Forecast_Yr1_Dividend_Yield_Relative], 
    [Project1].[Market_Historic_Yield] AS [Market_Historic_Yield], 
    [Project1].[Market_Forward_Yield] AS [Market_Forward_Yield], 
    [Project1].[Historic_Distribution_PriceCurr] AS [Historic_Distribution_PriceCurr], 
    [Project1].[Forecast_Distribution_Yr1_PriceCurr] AS [Forecast_Distribution_Yr1_PriceCurr], 
    [Project1].[Forecast_Distribution_Yr2_PriceCurr] AS [Forecast_Distribution_Yr2_PriceCurr], 
    [Project1].[Forecast_Distribution_Yr3_PriceCurr] AS [Forecast_Distribution_Yr3_PriceCurr], 
    [Project1].[Rolling_12M_Forecast_Distribution_PriceCurr] AS [Rolling_12M_Forecast_Distribution_PriceCurr], 
    [Project1].[Rolling_12_24M_Forecast_Distribution_PriceCurr] AS [Rolling_12_24M_Forecast_Distribution_PriceCurr], 
    [Project1].[Rolling_24_36M_Forecast_Distribution_PriceCurr] AS [Rolling_24_36M_Forecast_Distribution_PriceCurr], 
    [Project1].[Distribution_Growth_Forecast_Yr4] AS [Distribution_Growth_Forecast_Yr4], 
    [Project1].[Earnings_Forecast_Yr4] AS [Earnings_Forecast_Yr4], 
    [Project1].[Forecast_Distribution_Yr4] AS [Forecast_Distribution_Yr4], 
    [Project1].[Forecast_Distribution_Yr4_PriceCurr] AS [Forecast_Distribution_Yr4_PriceCurr], 
    [Project1].[Security_ID1] AS [Security_ID1], 
    [Project1].[Entity_ID1] AS [Entity_ID1], 
    [Project1].[Security_Name] AS [Security_Name], 
    [Project1].[Short_Name] AS [Short_Name], 
    [Project1].[Primary_Exch] AS [Primary_Exch], 
    [Project1].[Secondary_Exch] AS [Secondary_Exch], 
    [Project1].[Country_Of_Domicile] AS [Country_Of_Domicile], 
    [Project1].[Country_Of_Risk] AS [Country_Of_Risk], 
    [Project1].[Security_Type_Code] AS [Security_Type_Code], 
    [Project1].[Price_Multiplier] AS [Price_Multiplier], 
    [Project1].[Income_Frequency] AS [Income_Frequency], 
    [Project1].[Issuer_Code] AS [Issuer_Code], 
    [Project1].[Ultimate_Issuer_Code] AS [Ultimate_Issuer_Code], 
    [Project1].[Asset_Currency] AS [Asset_Currency], 
    [Project1].[Min_Lot_Size] AS [Min_Lot_Size], 
    [Project1].[AvePrice_Rounding] AS [AvePrice_Rounding], 
    [Project1].[Issue_Date] AS [Issue_Date], 
    [Project1].[Maturity_Date] AS [Maturity_Date], 
    [Project1].[Coupon_Rate] AS [Coupon_Rate], 
    [Project1].[Price_Exchange] AS [Price_Exchange], 
    [Project1].[Trade_Currency] AS [Trade_Currency], 
    [Project1].[Price_Curr] AS [Price_Curr], 
    [Project1].[Currency_Pair_Code] AS [Currency_Pair_Code], 
    [Project1].[Share_Class] AS [Share_Class], 
    [Project1].[Current_Market_Price] AS [Current_Market_Price], 
    [Project1].[Index_Type] AS [Index_Type], 
    [Project1].[Clean_Price_Formula] AS [Clean_Price_Formula], 
    [Project1].[Accrued_Income_Price_Formula] AS [Accrued_Income_Price_Formula], 
    [Project1].[Odd_First_Coupon_Date] AS [Odd_First_Coupon_Date], 
    [Project1].[Odd_Last_Coupon_Date] AS [Odd_Last_Coupon_Date], 
    [Project1].[Coupon_Anniversary_Indicator] AS [Coupon_Anniversary_Indicator], 
    [Project1].[Track_EOM_Flag] AS [Track_EOM_Flag], 
    [Project1].[Next_Coupon_Date] AS [Next_Coupon_Date], 
    [Project1].[Previous_Coupon_Date] AS [Previous_Coupon_Date], 
    [Project1].[Payment_Frequency] AS [Payment_Frequency], 
    [Project1].[Coupon_BusDay_Adjustment] AS [Coupon_BusDay_Adjustment], 
    [Project1].[Next_Ex_Div_Date] AS [Next_Ex_Div_Date], 
    [Project1].[Ex_Div_BusDay_Adjustment] AS [Ex_Div_BusDay_Adjustment], 
    [Project1].[Ex_Div_Period] AS [Ex_Div_Period], 
    [Project1].[Ticker] AS [Ticker], 
    [Project1].[Inet_ID] AS [Inet_ID], 
    [Project1].[Bloomberg_ID] AS [Bloomberg_ID], 
    [Project1].[External_Sec_ID] AS [External_Sec_ID], 
    [Project1].[Reuters_ID] AS [Reuters_ID], 
    [Project1].[ISIN] AS [ISIN], 
    [Project1].[Call_Account_Flag] AS [Call_Account_Flag], 
    [Project1].[System_Locked] AS [System_Locked], 
    [Project1].[Last_Update_User1] AS [Last_Update_User1], 
    [Project1].[Last_Update_Date1] AS [Last_Update_Date1], 
    [Project1].[Security_Status] AS [Security_Status], 
    [Project1].[Benchmark_Portfolio] AS [Benchmark_Portfolio], 
    [Project1].[Active_flag] AS [Active_flag], 
    [Project1].[Dividend_FX_Security_ID] AS [Dividend_FX_Security_ID]
    FROM ( SELECT 
        [Extent1].[Entity_ID] AS [Entity_ID], 
        [Extent1].[Security_ID] AS [Security_ID], 
        [Extent1].[Issued_Amount] AS [Issued_Amount], 
        [Extent1].[Market_Capitalisation] AS [Market_Capitalisation], 
        [Extent1].[Risk_Premium] AS [Risk_Premium], 
        [Extent1].[Exit_Price] AS [Exit_Price], 
        [Extent1].[Total_Return_ME_1YR] AS [Total_Return_ME_1YR], 
        [Extent1].[Total_Return_ME_2YR] AS [Total_Return_ME_2YR], 
        [Extent1].[Total_Return_ME_3YR] AS [Total_Return_ME_3YR], 
        [Extent1].[Historic_Distribution] AS [Historic_Distribution], 
        [Extent1].[Distribution_Growth_Forecast_Yr1] AS [Distribution_Growth_Forecast_Yr1], 
        [Extent1].[Distribution_Growth_Forecast_Yr2] AS [Distribution_Growth_Forecast_Yr2], 
        [Extent1].[Distribution_Growth_Forecast_Yr3] AS [Distribution_Growth_Forecast_Yr3], 
        [Extent1].[Forecast_Distribution_Yr1] AS [Forecast_Distribution_Yr1], 
        [Extent1].[Forecast_Distribution_Yr2] AS [Forecast_Distribution_Yr2], 
        [Extent1].[Forecast_Distribution_Yr3] AS [Forecast_Distribution_Yr3], 
        [Extent1].[Earnings_Growth_Compounded] AS [Earnings_Growth_Compounded], 
        [Extent1].[Earnings_Forecast_Yr3] AS [Earnings_Forecast_Yr3], 
        [Extent1].[Historic_Dividend_Yield_FYE] AS [Historic_Dividend_Yield_FYE], 
        [Extent1].[Forward_Dividend_Yield_FYE] AS [Forward_Dividend_Yield_FYE], 
        [Extent1].[Yr3_Forward_Dividend_Yield] AS [Yr3_Forward_Dividend_Yield], 
        [Extent1].[Rolling_12M_Forward_Yield] AS [Rolling_12M_Forward_Yield], 
        [Extent1].[Historical_Earnings_FYE] AS [Historical_Earnings_FYE], 
        [Extent1].[Earnings_Forecast_Yr1] AS [Earnings_Forecast_Yr1], 
        [Extent1].[Earnings_Forecast_Yr2] AS [Earnings_Forecast_Yr2], 
        [Extent1].[Historic_Dividend_Yield_Relative] AS [Historic_Dividend_Yield_Relative], 
        [Extent1].[Rolling_12M_Historic_Distribution_PriceCurr] AS [Rolling_12M_Historic_Distribution_PriceCurr], 
        [Extent1].[Short_Term_Market_Rerate] AS [Short_Term_Market_Rerate], 
        [Extent1].[Forecast_12M_Total_Return] AS [Forecast_12M_Total_Return], 
        [Extent1].[Clean_Price] AS [Clean_Price], 
        [Extent1].[Rolling_Dividend_Yield_Historic] AS [Rolling_Dividend_Yield_Historic], 
        [Extent1].[Last_Update_Date] AS [Last_Update_Date], 
        [Extent1].[Last_Update_User] AS [Last_Update_User], 
        [Extent1].[Discount_Security_ID] AS [Discount_Security_ID], 
        [Extent1].[Net_Present_Value] AS [Net_Present_Value], 
        [Extent1].[Forecast_Rolling_Custom_Income] AS [Forecast_Rolling_Custom_Income], 
        [Extent1].[Custom_Period] AS [Custom_Period], 
        [Extent1].[Rolling_12M_Historic_Distribution] AS [Rolling_12M_Historic_Distribution], 
        [Extent1].[Record_Date] AS [Record_Date], 
        [Extent1].[Session_ID] AS [Session_ID], 
        [Extent1].[Hist_Last_Update_Date] AS [Hist_Last_Update_Date], 
        [Extent1].[Hist_Last_Update_User] AS [Hist_Last_Update_User], 
        [Extent1].[Rolling_12M_Forecast_Distribution] AS [Rolling_12M_Forecast_Distribution], 
        [Extent1].[Yr2_Forward_Dividend_Yield] AS [Yr2_Forward_Dividend_Yield], 
        [Extent1].[Exit_Yield] AS [Exit_Yield], 
        [Extent1].[Discount_Rate] AS [Discount_Rate], 
        [Extent1].[Distribution_Growth_Compounded] AS [Distribution_Growth_Compounded], 
        [Extent1].[Forecast_12MRolling_Income_Accrual] AS [Forecast_12MRolling_Income_Accrual], 
        [Extent1].[Rolling_12_to_24M_Forecast_Distribution] AS [Rolling_12_to_24M_Forecast_Distribution], 
        [Extent1].[Rolling_24_to_36M_Forecast_Distribution] AS [Rolling_24_to_36M_Forecast_Distribution], 
        [Extent1].[Forecast_Yr1_Dividend_Yield_Relative] AS [Forecast_Yr1_Dividend_Yield_Relative], 
        [Extent1].[Market_Historic_Yield] AS [Market_Historic_Yield], 
        [Extent1].[Market_Forward_Yield] AS [Market_Forward_Yield], 
        [Extent1].[Historic_Distribution_PriceCurr] AS [Historic_Distribution_PriceCurr], 
        [Extent1].[Forecast_Distribution_Yr1_PriceCurr] AS [Forecast_Distribution_Yr1_PriceCurr], 
        [Extent1].[Forecast_Distribution_Yr2_PriceCurr] AS [Forecast_Distribution_Yr2_PriceCurr], 
        [Extent1].[Forecast_Distribution_Yr3_PriceCurr] AS [Forecast_Distribution_Yr3_PriceCurr], 
        [Extent1].[Rolling_12M_Forecast_Distribution_PriceCurr] AS [Rolling_12M_Forecast_Distribution_PriceCurr], 
        [Extent1].[Rolling_12_24M_Forecast_Distribution_PriceCurr] AS [Rolling_12_24M_Forecast_Distribution_PriceCurr], 
        [Extent1].[Rolling_24_36M_Forecast_Distribution_PriceCurr] AS [Rolling_24_36M_Forecast_Distribution_PriceCurr], 
        [Extent1].[Distribution_Growth_Forecast_Yr4] AS [Distribution_Growth_Forecast_Yr4], 
        [Extent1].[Earnings_Forecast_Yr4] AS [Earnings_Forecast_Yr4], 
        [Extent1].[Forecast_Distribution_Yr4] AS [Forecast_Distribution_Yr4], 
        [Extent1].[Forecast_Distribution_Yr4_PriceCurr] AS [Forecast_Distribution_Yr4_PriceCurr], 
        [Extent2].[Security_ID] AS [Security_ID1], 
        [Extent2].[Entity_ID] AS [Entity_ID1], 
        [Extent2].[Security_Name] AS [Security_Name], 
        [Extent2].[Short_Name] AS [Short_Name], 
        [Extent2].[Primary_Exch] AS [Primary_Exch], 
        [Extent2].[Secondary_Exch] AS [Secondary_Exch], 
        [Extent2].[Country_Of_Domicile] AS [Country_Of_Domicile], 
        [Extent2].[Country_Of_Risk] AS [Country_Of_Risk], 
        [Extent2].[Security_Type_Code] AS [Security_Type_Code], 
        [Extent2].[Price_Multiplier] AS [Price_Multiplier], 
        [Extent2].[Income_Frequency] AS [Income_Frequency], 
        [Extent2].[Issuer_Code] AS [Issuer_Code], 
        [Extent2].[Ultimate_Issuer_Code] AS [Ultimate_Issuer_Code], 
        [Extent2].[Asset_Currency] AS [Asset_Currency], 
        [Extent2].[Min_Lot_Size] AS [Min_Lot_Size], 
        [Extent2].[Decimal_Precision] AS [Decimal_Precision], 
        [Extent2].[AvePrice_Rounding] AS [AvePrice_Rounding], 
        [Extent2].[Issue_Date] AS [Issue_Date], 
        [Extent2].[Maturity_Date] AS [Maturity_Date], 
        [Extent2].[Coupon_Rate] AS [Coupon_Rate], 
        [Extent2].[Price_Exchange] AS [Price_Exchange], 
        [Extent2].[Trade_Currency] AS [Trade_Currency], 
        [Extent2].[Price_Curr] AS [Price_Curr], 
        [Extent2].[Currency_Pair_Code] AS [Currency_Pair_Code], 
        [Extent2].[Share_Class] AS [Share_Class], 
        [Extent2].[Current_Market_Price] AS [Current_Market_Price], 
        [Extent2].[Index_Type] AS [Index_Type], 
        [Extent2].[Clean_Price_Formula] AS [Clean_Price_Formula], 
        [Extent2].[Accrued_Income_Price_Formula] AS [Accrued_Income_Price_Formula], 
        [Extent2].[Odd_First_Coupon_Date] AS [Odd_First_Coupon_Date], 
        [Extent2].[Odd_Last_Coupon_Date] AS [Odd_Last_Coupon_Date], 
        [Extent2].[Coupon_Anniversary_Indicator] AS [Coupon_Anniversary_Indicator], 
        [Extent2].[Track_EOM_Flag] AS [Track_EOM_Flag], 
        [Extent2].[Next_Coupon_Date] AS [Next_Coupon_Date], 
        [Extent2].[Previous_Coupon_Date] AS [Previous_Coupon_Date], 
        [Extent2].[Payment_Frequency] AS [Payment_Frequency], 
        [Extent2].[Coupon_BusDay_Adjustment] AS [Coupon_BusDay_Adjustment], 
        [Extent2].[Next_Ex_Div_Date] AS [Next_Ex_Div_Date], 
        [Extent2].[Ex_Div_BusDay_Adjustment] AS [Ex_Div_BusDay_Adjustment], 
        [Extent2].[Ex_Div_Period] AS [Ex_Div_Period], 
        [Extent2].[Ticker] AS [Ticker], 
        [Extent2].[Inet_ID] AS [Inet_ID], 
        [Extent2].[Bloomberg_ID] AS [Bloomberg_ID], 
        [Extent2].[External_Sec_ID] AS [External_Sec_ID], 
        [Extent2].[Reuters_ID] AS [Reuters_ID], 
        [Extent2].[ISIN] AS [ISIN], 
        [Extent2].[Call_Account_Flag] AS [Call_Account_Flag], 
        [Extent2].[System_Locked] AS [System_Locked], 
        [Extent2].[Last_Update_User] AS [Last_Update_User1], 
        [Extent2].[Last_Update_Date] AS [Last_Update_Date1], 
        [Extent2].[Security_Status] AS [Security_Status], 
        [Extent2].[Benchmark_Portfolio] AS [Benchmark_Portfolio], 
        [Extent2].[Active_flag] AS [Active_flag], 
        [Extent2].[Dividend_FX_Security_ID] AS [Dividend_FX_Security_ID]
        FROM  [dbo].[Security_Analytics_History] AS [Extent1]
        INNER JOIN [dbo].[Security_Detail] AS [Extent2] ON [Extent1].[Security_ID] = [Extent2].[Security_ID]
        WHERE [Extent1].[Security_ID] = @p__linq__0
    )  AS [Project1]
    ORDER BY [Project1].[Record_Date] DESC
2018-04-11 13:18:14.9192|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: SELECT 
    [Project1].[Decimal_Precision] AS [Decimal_Precision], 
    [Project1].[Entity_ID] AS [Entity_ID], 
    [Project1].[Security_ID] AS [Security_ID], 
    [Project1].[Issued_Amount] AS [Issued_Amount], 
    [Project1].[Market_Capitalisation] AS [Market_Capitalisation], 
    [Project1].[Risk_Premium] AS [Risk_Premium], 
    [Project1].[Exit_Price] AS [Exit_Price], 
    [Project1].[Total_Return_ME_1YR] AS [Total_Return_ME_1YR], 
    [Project1].[Total_Return_ME_2YR] AS [Total_Return_ME_2YR], 
    [Project1].[Total_Return_ME_3YR] AS [Total_Return_ME_3YR], 
    [Project1].[Historic_Distribution] AS [Historic_Distribution], 
    [Project1].[Distribution_Growth_Forecast_Yr1] AS [Distribution_Growth_Forecast_Yr1], 
    [Project1].[Distribution_Growth_Forecast_Yr2] AS [Distribution_Growth_Forecast_Yr2], 
    [Project1].[Distribution_Growth_Forecast_Yr3] AS [Distribution_Growth_Forecast_Yr3], 
    [Project1].[Forecast_Distribution_Yr1] AS [Forecast_Distribution_Yr1], 
    [Project1].[Forecast_Distribution_Yr2] AS [Forecast_Distribution_Yr2], 
    [Project1].[Forecast_Distribution_Yr3] AS [Forecast_Distribution_Yr3], 
    [Project1].[Earnings_Growth_Compounded] AS [Earnings_Growth_Compounded], 
    [Project1].[Earnings_Forecast_Yr3] AS [Earnings_Forecast_Yr3], 
    [Project1].[Historic_Dividend_Yield_FYE] AS [Historic_Dividend_Yield_FYE], 
    [Project1].[Forward_Dividend_Yield_FYE] AS [Forward_Dividend_Yield_FYE], 
    [Project1].[Yr3_Forward_Dividend_Yield] AS [Yr3_Forward_Dividend_Yield], 
    [Project1].[Rolling_12M_Forward_Yield] AS [Rolling_12M_Forward_Yield], 
    [Project1].[Historical_Earnings_FYE] AS [Historical_Earnings_FYE], 
    [Project1].[Earnings_Forecast_Yr1] AS [Earnings_Forecast_Yr1], 
    [Project1].[Earnings_Forecast_Yr2] AS [Earnings_Forecast_Yr2], 
    [Project1].[Historic_Dividend_Yield_Relative] AS [Historic_Dividend_Yield_Relative], 
    [Project1].[Rolling_12M_Historic_Distribution_PriceCurr] AS [Rolling_12M_Historic_Distribution_PriceCurr], 
    [Project1].[Short_Term_Market_Rerate] AS [Short_Term_Market_Rerate], 
    [Project1].[Forecast_12M_Total_Return] AS [Forecast_12M_Total_Return], 
    [Project1].[Clean_Price] AS [Clean_Price], 
    [Project1].[Rolling_Dividend_Yield_Historic] AS [Rolling_Dividend_Yield_Historic], 
    [Project1].[Last_Update_Date] AS [Last_Update_Date], 
    [Project1].[Last_Update_User] AS [Last_Update_User], 
    [Project1].[Discount_Security_ID] AS [Discount_Security_ID], 
    [Project1].[Net_Present_Value] AS [Net_Present_Value], 
    [Project1].[Forecast_Rolling_Custom_Income] AS [Forecast_Rolling_Custom_Income], 
    [Project1].[Custom_Period] AS [Custom_Period], 
    [Project1].[Rolling_12M_Historic_Distribution] AS [Rolling_12M_Historic_Distribution], 
    [Project1].[Record_Date] AS [Record_Date], 
    [Project1].[Session_ID] AS [Session_ID], 
    [Project1].[Hist_Last_Update_Date] AS [Hist_Last_Update_Date], 
    [Project1].[Hist_Last_Update_User] AS [Hist_Last_Update_User], 
    [Project1].[Rolling_12M_Forecast_Distribution] AS [Rolling_12M_Forecast_Distribution], 
    [Project1].[Yr2_Forward_Dividend_Yield] AS [Yr2_Forward_Dividend_Yield], 
    [Project1].[Exit_Yield] AS [Exit_Yield], 
    [Project1].[Discount_Rate] AS [Discount_Rate], 
    [Project1].[Distribution_Growth_Compounded] AS [Distribution_Growth_Compounded], 
    [Project1].[Forecast_12MRolling_Income_Accrual] AS [Forecast_12MRolling_Income_Accrual], 
    [Project1].[Rolling_12_to_24M_Forecast_Distribution] AS [Rolling_12_to_24M_Forecast_Distribution], 
    [Project1].[Rolling_24_to_36M_Forecast_Distribution] AS [Rolling_24_to_36M_Forecast_Distribution], 
    [Project1].[Forecast_Yr1_Dividend_Yield_Relative] AS [Forecast_Yr1_Dividend_Yield_Relative], 
    [Project1].[Market_Historic_Yield] AS [Market_Historic_Yield], 
    [Project1].[Market_Forward_Yield] AS [Market_Forward_Yield], 
    [Project1].[Historic_Distribution_PriceCurr] AS [Historic_Distribution_PriceCurr], 
    [Project1].[Forecast_Distribution_Yr1_PriceCurr] AS [Forecast_Distribution_Yr1_PriceCurr], 
    [Project1].[Forecast_Distribution_Yr2_PriceCurr] AS [Forecast_Distribution_Yr2_PriceCurr], 
    [Project1].[Forecast_Distribution_Yr3_PriceCurr] AS [Forecast_Distribution_Yr3_PriceCurr], 
    [Project1].[Rolling_12M_Forecast_Distribution_PriceCurr] AS [Rolling_12M_Forecast_Distribution_PriceCurr], 
    [Project1].[Rolling_12_24M_Forecast_Distribution_PriceCurr] AS [Rolling_12_24M_Forecast_Distribution_PriceCurr], 
    [Project1].[Rolling_24_36M_Forecast_Distribution_PriceCurr] AS [Rolling_24_36M_Forecast_Distribution_PriceCurr], 
    [Project1].[Distribution_Growth_Forecast_Yr4] AS [Distribution_Growth_Forecast_Yr4], 
    [Project1].[Earnings_Forecast_Yr4] AS [Earnings_Forecast_Yr4], 
    [Project1].[Forecast_Distribution_Yr4] AS [Forecast_Distribution_Yr4], 
    [Project1].[Forecast_Distribution_Yr4_PriceCurr] AS [Forecast_Distribution_Yr4_PriceCurr], 
    [Project1].[Security_ID1] AS [Security_ID1], 
    [Project1].[Entity_ID1] AS [Entity_ID1], 
    [Project1].[Security_Name] AS [Security_Name], 
    [Project1].[Short_Name] AS [Short_Name], 
    [Project1].[Primary_Exch] AS [Primary_Exch], 
    [Project1].[Secondary_Exch] AS [Secondary_Exch], 
    [Project1].[Country_Of_Domicile] AS [Country_Of_Domicile], 
    [Project1].[Country_Of_Risk] AS [Country_Of_Risk], 
    [Project1].[Security_Type_Code] AS [Security_Type_Code], 
    [Project1].[Price_Multiplier] AS [Price_Multiplier], 
    [Project1].[Income_Frequency] AS [Income_Frequency], 
    [Project1].[Issuer_Code] AS [Issuer_Code], 
    [Project1].[Ultimate_Issuer_Code] AS [Ultimate_Issuer_Code], 
    [Project1].[Asset_Currency] AS [Asset_Currency], 
    [Project1].[Min_Lot_Size] AS [Min_Lot_Size], 
    [Project1].[AvePrice_Rounding] AS [AvePrice_Rounding], 
    [Project1].[Issue_Date] AS [Issue_Date], 
    [Project1].[Maturity_Date] AS [Maturity_Date], 
    [Project1].[Coupon_Rate] AS [Coupon_Rate], 
    [Project1].[Price_Exchange] AS [Price_Exchange], 
    [Project1].[Trade_Currency] AS [Trade_Currency], 
    [Project1].[Price_Curr] AS [Price_Curr], 
    [Project1].[Currency_Pair_Code] AS [Currency_Pair_Code], 
    [Project1].[Share_Class] AS [Share_Class], 
    [Project1].[Current_Market_Price] AS [Current_Market_Price], 
    [Project1].[Index_Type] AS [Index_Type], 
    [Project1].[Clean_Price_Formula] AS [Clean_Price_Formula], 
    [Project1].[Accrued_Income_Price_Formula] AS [Accrued_Income_Price_Formula], 
    [Project1].[Odd_First_Coupon_Date] AS [Odd_First_Coupon_Date], 
    [Project1].[Odd_Last_Coupon_Date] AS [Odd_Last_Coupon_Date], 
    [Project1].[Coupon_Anniversary_Indicator] AS [Coupon_Anniversary_Indicator], 
    [Project1].[Track_EOM_Flag] AS [Track_EOM_Flag], 
    [Project1].[Next_Coupon_Date] AS [Next_Coupon_Date], 
    [Project1].[Previous_Coupon_Date] AS [Previous_Coupon_Date], 
    [Project1].[Payment_Frequency] AS [Payment_Frequency], 
    [Project1].[Coupon_BusDay_Adjustment] AS [Coupon_BusDay_Adjustment], 
    [Project1].[Next_Ex_Div_Date] AS [Next_Ex_Div_Date], 
    [Project1].[Ex_Div_BusDay_Adjustment] AS [Ex_Div_BusDay_Adjustment], 
    [Project1].[Ex_Div_Period] AS [Ex_Div_Period], 
    [Project1].[Ticker] AS [Ticker], 
    [Project1].[Inet_ID] AS [Inet_ID], 
    [Project1].[Bloomberg_ID] AS [Bloomberg_ID], 
    [Project1].[External_Sec_ID] AS [External_Sec_ID], 
    [Project1].[Reuters_ID] AS [Reuters_ID], 
    [Project1].[ISIN] AS [ISIN], 
    [Project1].[Call_Account_Flag] AS [Call_Account_Flag], 
    [Project1].[System_Locked] AS [System_Locked], 
    [Project1].[Last_Update_User1] AS [Last_Update_User1], 
    [Project1].[Last_Update_Date1] AS [Last_Update_Date1], 
    [Project1].[Security_Status] AS [Security_Status], 
    [Project1].[Benchmark_Portfolio] AS [Benchmark_Portfolio], 
    [Project1].[Active_flag] AS [Active_flag], 
    [Project1].[Dividend_FX_Security_ID] AS [Dividend_FX_Security_ID]
    FROM ( SELECT 
        [Extent1].[Entity_ID] AS [Entity_ID], 
        [Extent1].[Security_ID] AS [Security_ID], 
        [Extent1].[Issued_Amount] AS [Issued_Amount], 
        [Extent1].[Market_Capitalisation] AS [Market_Capitalisation], 
        [Extent1].[Risk_Premium] AS [Risk_Premium], 
        [Extent1].[Exit_Price] AS [Exit_Price], 
        [Extent1].[Total_Return_ME_1YR] AS [Total_Return_ME_1YR], 
        [Extent1].[Total_Return_ME_2YR] AS [Total_Return_ME_2YR], 
        [Extent1].[Total_Return_ME_3YR] AS [Total_Return_ME_3YR], 
        [Extent1].[Historic_Distribution] AS [Historic_Distribution], 
        [Extent1].[Distribution_Growth_Forecast_Yr1] AS [Distribution_Growth_Forecast_Yr1], 
        [Extent1].[Distribution_Growth_Forecast_Yr2] AS [Distribution_Growth_Forecast_Yr2], 
        [Extent1].[Distribution_Growth_Forecast_Yr3] AS [Distribution_Growth_Forecast_Yr3], 
        [Extent1].[Forecast_Distribution_Yr1] AS [Forecast_Distribution_Yr1], 
        [Extent1].[Forecast_Distribution_Yr2] AS [Forecast_Distribution_Yr2], 
        [Extent1].[Forecast_Distribution_Yr3] AS [Forecast_Distribution_Yr3], 
        [Extent1].[Earnings_Growth_Compounded] AS [Earnings_Growth_Compounded], 
        [Extent1].[Earnings_Forecast_Yr3] AS [Earnings_Forecast_Yr3], 
        [Extent1].[Historic_Dividend_Yield_FYE] AS [Historic_Dividend_Yield_FYE], 
        [Extent1].[Forward_Dividend_Yield_FYE] AS [Forward_Dividend_Yield_FYE], 
        [Extent1].[Yr3_Forward_Dividend_Yield] AS [Yr3_Forward_Dividend_Yield], 
        [Extent1].[Rolling_12M_Forward_Yield] AS [Rolling_12M_Forward_Yield], 
        [Extent1].[Historical_Earnings_FYE] AS [Historical_Earnings_FYE], 
        [Extent1].[Earnings_Forecast_Yr1] AS [Earnings_Forecast_Yr1], 
        [Extent1].[Earnings_Forecast_Yr2] AS [Earnings_Forecast_Yr2], 
        [Extent1].[Historic_Dividend_Yield_Relative] AS [Historic_Dividend_Yield_Relative], 
        [Extent1].[Rolling_12M_Historic_Distribution_PriceCurr] AS [Rolling_12M_Historic_Distribution_PriceCurr], 
        [Extent1].[Short_Term_Market_Rerate] AS [Short_Term_Market_Rerate], 
        [Extent1].[Forecast_12M_Total_Return] AS [Forecast_12M_Total_Return], 
        [Extent1].[Clean_Price] AS [Clean_Price], 
        [Extent1].[Rolling_Dividend_Yield_Historic] AS [Rolling_Dividend_Yield_Historic], 
        [Extent1].[Last_Update_Date] AS [Last_Update_Date], 
        [Extent1].[Last_Update_User] AS [Last_Update_User], 
        [Extent1].[Discount_Security_ID] AS [Discount_Security_ID], 
        [Extent1].[Net_Present_Value] AS [Net_Present_Value], 
        [Extent1].[Forecast_Rolling_Custom_Income] AS [Forecast_Rolling_Custom_Income], 
        [Extent1].[Custom_Period] AS [Custom_Period], 
        [Extent1].[Rolling_12M_Historic_Distribution] AS [Rolling_12M_Historic_Distribution], 
        [Extent1].[Record_Date] AS [Record_Date], 
        [Extent1].[Session_ID] AS [Session_ID], 
        [Extent1].[Hist_Last_Update_Date] AS [Hist_Last_Update_Date], 
        [Extent1].[Hist_Last_Update_User] AS [Hist_Last_Update_User], 
        [Extent1].[Rolling_12M_Forecast_Distribution] AS [Rolling_12M_Forecast_Distribution], 
        [Extent1].[Yr2_Forward_Dividend_Yield] AS [Yr2_Forward_Dividend_Yield], 
        [Extent1].[Exit_Yield] AS [Exit_Yield], 
        [Extent1].[Discount_Rate] AS [Discount_Rate], 
        [Extent1].[Distribution_Growth_Compounded] AS [Distribution_Growth_Compounded], 
        [Extent1].[Forecast_12MRolling_Income_Accrual] AS [Forecast_12MRolling_Income_Accrual], 
        [Extent1].[Rolling_12_to_24M_Forecast_Distribution] AS [Rolling_12_to_24M_Forecast_Distribution], 
        [Extent1].[Rolling_24_to_36M_Forecast_Distribution] AS [Rolling_24_to_36M_Forecast_Distribution], 
        [Extent1].[Forecast_Yr1_Dividend_Yield_Relative] AS [Forecast_Yr1_Dividend_Yield_Relative], 
        [Extent1].[Market_Historic_Yield] AS [Market_Historic_Yield], 
        [Extent1].[Market_Forward_Yield] AS [Market_Forward_Yield], 
        [Extent1].[Historic_Distribution_PriceCurr] AS [Historic_Distribution_PriceCurr], 
        [Extent1].[Forecast_Distribution_Yr1_PriceCurr] AS [Forecast_Distribution_Yr1_PriceCurr], 
        [Extent1].[Forecast_Distribution_Yr2_PriceCurr] AS [Forecast_Distribution_Yr2_PriceCurr], 
        [Extent1].[Forecast_Distribution_Yr3_PriceCurr] AS [Forecast_Distribution_Yr3_PriceCurr], 
        [Extent1].[Rolling_12M_Forecast_Distribution_PriceCurr] AS [Rolling_12M_Forecast_Distribution_PriceCurr], 
        [Extent1].[Rolling_12_24M_Forecast_Distribution_PriceCurr] AS [Rolling_12_24M_Forecast_Distribution_PriceCurr], 
        [Extent1].[Rolling_24_36M_Forecast_Distribution_PriceCurr] AS [Rolling_24_36M_Forecast_Distribution_PriceCurr], 
        [Extent1].[Distribution_Growth_Forecast_Yr4] AS [Distribution_Growth_Forecast_Yr4], 
        [Extent1].[Earnings_Forecast_Yr4] AS [Earnings_Forecast_Yr4], 
        [Extent1].[Forecast_Distribution_Yr4] AS [Forecast_Distribution_Yr4], 
        [Extent1].[Forecast_Distribution_Yr4_PriceCurr] AS [Forecast_Distribution_Yr4_PriceCurr], 
        [Extent2].[Security_ID] AS [Security_ID1], 
        [Extent2].[Entity_ID] AS [Entity_ID1], 
        [Extent2].[Security_Name] AS [Security_Name], 
        [Extent2].[Short_Name] AS [Short_Name], 
        [Extent2].[Primary_Exch] AS [Primary_Exch], 
        [Extent2].[Secondary_Exch] AS [Secondary_Exch], 
        [Extent2].[Country_Of_Domicile] AS [Country_Of_Domicile], 
        [Extent2].[Country_Of_Risk] AS [Country_Of_Risk], 
        [Extent2].[Security_Type_Code] AS [Security_Type_Code], 
        [Extent2].[Price_Multiplier] AS [Price_Multiplier], 
        [Extent2].[Income_Frequency] AS [Income_Frequency], 
        [Extent2].[Issuer_Code] AS [Issuer_Code], 
        [Extent2].[Ultimate_Issuer_Code] AS [Ultimate_Issuer_Code], 
        [Extent2].[Asset_Currency] AS [Asset_Currency], 
        [Extent2].[Min_Lot_Size] AS [Min_Lot_Size], 
        [Extent2].[Decimal_Precision] AS [Decimal_Precision], 
        [Extent2].[AvePrice_Rounding] AS [AvePrice_Rounding], 
        [Extent2].[Issue_Date] AS [Issue_Date], 
        [Extent2].[Maturity_Date] AS [Maturity_Date], 
        [Extent2].[Coupon_Rate] AS [Coupon_Rate], 
        [Extent2].[Price_Exchange] AS [Price_Exchange], 
        [Extent2].[Trade_Currency] AS [Trade_Currency], 
        [Extent2].[Price_Curr] AS [Price_Curr], 
        [Extent2].[Currency_Pair_Code] AS [Currency_Pair_Code], 
        [Extent2].[Share_Class] AS [Share_Class], 
        [Extent2].[Current_Market_Price] AS [Current_Market_Price], 
        [Extent2].[Index_Type] AS [Index_Type], 
        [Extent2].[Clean_Price_Formula] AS [Clean_Price_Formula], 
        [Extent2].[Accrued_Income_Price_Formula] AS [Accrued_Income_Price_Formula], 
        [Extent2].[Odd_First_Coupon_Date] AS [Odd_First_Coupon_Date], 
        [Extent2].[Odd_Last_Coupon_Date] AS [Odd_Last_Coupon_Date], 
        [Extent2].[Coupon_Anniversary_Indicator] AS [Coupon_Anniversary_Indicator], 
        [Extent2].[Track_EOM_Flag] AS [Track_EOM_Flag], 
        [Extent2].[Next_Coupon_Date] AS [Next_Coupon_Date], 
        [Extent2].[Previous_Coupon_Date] AS [Previous_Coupon_Date], 
        [Extent2].[Payment_Frequency] AS [Payment_Frequency], 
        [Extent2].[Coupon_BusDay_Adjustment] AS [Coupon_BusDay_Adjustment], 
        [Extent2].[Next_Ex_Div_Date] AS [Next_Ex_Div_Date], 
        [Extent2].[Ex_Div_BusDay_Adjustment] AS [Ex_Div_BusDay_Adjustment], 
        [Extent2].[Ex_Div_Period] AS [Ex_Div_Period], 
        [Extent2].[Ticker] AS [Ticker], 
        [Extent2].[Inet_ID] AS [Inet_ID], 
        [Extent2].[Bloomberg_ID] AS [Bloomberg_ID], 
        [Extent2].[External_Sec_ID] AS [External_Sec_ID], 
        [Extent2].[Reuters_ID] AS [Reuters_ID], 
        [Extent2].[ISIN] AS [ISIN], 
        [Extent2].[Call_Account_Flag] AS [Call_Account_Flag], 
        [Extent2].[System_Locked] AS [System_Locked], 
        [Extent2].[Last_Update_User] AS [Last_Update_User1], 
        [Extent2].[Last_Update_Date] AS [Last_Update_Date1], 
        [Extent2].[Security_Status] AS [Security_Status], 
        [Extent2].[Benchmark_Portfolio] AS [Benchmark_Portfolio], 
        [Extent2].[Active_flag] AS [Active_flag], 
        [Extent2].[Dividend_FX_Security_ID] AS [Dividend_FX_Security_ID]
        FROM  [dbo].[Security_Analytics_History] AS [Extent1]
        INNER JOIN [dbo].[Security_Detail] AS [Extent2] ON [Extent1].[Security_ID] = [Extent2].[Security_ID]
        WHERE [Extent1].[Security_ID] = @p__linq__0
    )  AS [Project1]
    ORDER BY [Project1].[Record_Date] DESC
2018-04-11 13:18:15.0228|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: IF db_id(N'MetopeAzureDb') IS NOT NULL SELECT 1 ELSE SELECT Count(*) FROM sys.databases WHERE [name]=N'MetopeAzureDb'
2018-04-11 13:18:15.0628|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: IF db_id(N'MetopeAzureDb') IS NOT NULL SELECT 1 ELSE SELECT Count(*) FROM sys.databases WHERE [name]=N'MetopeAzureDb'
2018-04-11 13:18:15.0948|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: IF db_id(N'MetopeAzureDb') IS NOT NULL SELECT 1 ELSE SELECT Count(*) FROM sys.databases WHERE [name]=N'MetopeAzureDb'
2018-04-11 13:18:15.1469|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: IF db_id(N'MetopeAzureDb') IS NOT NULL SELECT 1 ELSE SELECT Count(*) FROM sys.databases WHERE [name]=N'MetopeAzureDb'
2018-04-11 13:18:25.4716|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: SELECT TOP (1) 
    [Project1].[C1] AS [C1], 
    [Project1].[Entity_ID] AS [Entity_ID], 
    [Project1].[Security_ID] AS [Security_ID], 
    [Project1].[Portfolio_Code] AS [Portfolio_Code], 
    [Project1].[ModDietz_Performance_Quarterly] AS [ModDietz_Performance_Quarterly], 
    [Project1].[ModDietz_Performance_Monthly] AS [ModDietz_Performance_Monthly], 
    [Project1].[ModDietz_Performance_MonthToDate] AS [ModDietz_Performance_MonthToDate], 
    [Project1].[Ticker] AS [Ticker]
    FROM ( SELECT 
        [Extent1].[Security_ID] AS [Security_ID], 
        [Extent1].[Portfolio_Code] AS [Portfolio_Code], 
        [Extent1].[Entity_ID] AS [Entity_ID], 
        [Extent1].[ModDietz_Performance_Quarterly] AS [ModDietz_Performance_Quarterly], 
        [Extent1].[ModDietz_Performance_Monthly] AS [ModDietz_Performance_Monthly], 
        [Extent1].[ModDietz_Performance_MonthToDate] AS [ModDietz_Performance_MonthToDate], 
        [Extent2].[Ticker] AS [Ticker], 
        1 AS [C1]
        FROM  [dbo].[Security_Performance] AS [Extent1]
        INNER JOIN [dbo].[Security_Detail] AS [Extent2] ON [Extent1].[Security_ID] = [Extent2].[Security_ID]
        WHERE ([Extent1].[Entity_ID] = @p__linq__0) AND ([Extent1].[Portfolio_Code] = @p__linq__1) AND ([Extent1].[Entity_ID] = @p__linq__2)
    )  AS [Project1]
    ORDER BY [Project1].[Security_ID] ASC
2018-04-11 13:18:25.5396|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: SELECT TOP (1) 
    [Project1].[C1] AS [C1], 
    [Project1].[Entity_ID] AS [Entity_ID], 
    [Project1].[Security_ID] AS [Security_ID], 
    [Project1].[Portfolio_Code] AS [Portfolio_Code], 
    [Project1].[ModDietz_Performance_Quarterly] AS [ModDietz_Performance_Quarterly], 
    [Project1].[ModDietz_Performance_Monthly] AS [ModDietz_Performance_Monthly], 
    [Project1].[ModDietz_Performance_MonthToDate] AS [ModDietz_Performance_MonthToDate], 
    [Project1].[Ticker] AS [Ticker]
    FROM ( SELECT 
        [Extent1].[Security_ID] AS [Security_ID], 
        [Extent1].[Portfolio_Code] AS [Portfolio_Code], 
        [Extent1].[Entity_ID] AS [Entity_ID], 
        [Extent1].[ModDietz_Performance_Quarterly] AS [ModDietz_Performance_Quarterly], 
        [Extent1].[ModDietz_Performance_Monthly] AS [ModDietz_Performance_Monthly], 
        [Extent1].[ModDietz_Performance_MonthToDate] AS [ModDietz_Performance_MonthToDate], 
        [Extent2].[Ticker] AS [Ticker], 
        1 AS [C1]
        FROM  [dbo].[Security_Performance] AS [Extent1]
        INNER JOIN [dbo].[Security_Detail] AS [Extent2] ON [Extent1].[Security_ID] = [Extent2].[Security_ID]
        WHERE ([Extent1].[Entity_ID] = @p__linq__0) AND ([Extent1].[Portfolio_Code] = @p__linq__1) AND ([Extent1].[Entity_ID] = @p__linq__2)
    )  AS [Project1]
    ORDER BY [Project1].[Security_ID] ASC
2018-04-11 13:18:25.5756|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: SELECT 
    [Project1].[C1] AS [C1], 
    [Project1].[Entity_ID] AS [Entity_ID], 
    [Project1].[Security_ID] AS [Security_ID], 
    [Project1].[Portfolio_Code] AS [Portfolio_Code], 
    [Project1].[ModDietz_Performance_Quarterly] AS [ModDietz_Performance_Quarterly], 
    [Project1].[ModDietz_Performance_Monthly] AS [ModDietz_Performance_Monthly], 
    [Project1].[ModDietz_Performance_MonthToDate] AS [ModDietz_Performance_MonthToDate], 
    [Project1].[Ticker] AS [Ticker]
    FROM ( SELECT 
        [Extent1].[Security_ID] AS [Security_ID], 
        [Extent1].[Portfolio_Code] AS [Portfolio_Code], 
        [Extent1].[Entity_ID] AS [Entity_ID], 
        [Extent1].[ModDietz_Performance_Quarterly] AS [ModDietz_Performance_Quarterly], 
        [Extent1].[ModDietz_Performance_Monthly] AS [ModDietz_Performance_Monthly], 
        [Extent1].[ModDietz_Performance_MonthToDate] AS [ModDietz_Performance_MonthToDate], 
        [Extent2].[Ticker] AS [Ticker], 
        1 AS [C1]
        FROM  [dbo].[Security_Performance] AS [Extent1]
        INNER JOIN [dbo].[Security_Detail] AS [Extent2] ON [Extent1].[Security_ID] = [Extent2].[Security_ID]
        WHERE ([Extent1].[Entity_ID] = @p__linq__0) AND ([Extent1].[Portfolio_Code] = @p__linq__1) AND ([Extent1].[Entity_ID] = @p__linq__2)
    )  AS [Project1]
    ORDER BY [Project1].[Security_ID] ASC
2018-04-11 13:18:25.6167|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: SELECT 
    [Project1].[C1] AS [C1], 
    [Project1].[Entity_ID] AS [Entity_ID], 
    [Project1].[Security_ID] AS [Security_ID], 
    [Project1].[Portfolio_Code] AS [Portfolio_Code], 
    [Project1].[ModDietz_Performance_Quarterly] AS [ModDietz_Performance_Quarterly], 
    [Project1].[ModDietz_Performance_Monthly] AS [ModDietz_Performance_Monthly], 
    [Project1].[ModDietz_Performance_MonthToDate] AS [ModDietz_Performance_MonthToDate], 
    [Project1].[Ticker] AS [Ticker]
    FROM ( SELECT 
        [Extent1].[Security_ID] AS [Security_ID], 
        [Extent1].[Portfolio_Code] AS [Portfolio_Code], 
        [Extent1].[Entity_ID] AS [Entity_ID], 
        [Extent1].[ModDietz_Performance_Quarterly] AS [ModDietz_Performance_Quarterly], 
        [Extent1].[ModDietz_Performance_Monthly] AS [ModDietz_Performance_Monthly], 
        [Extent1].[ModDietz_Performance_MonthToDate] AS [ModDietz_Performance_MonthToDate], 
        [Extent2].[Ticker] AS [Ticker], 
        1 AS [C1]
        FROM  [dbo].[Security_Performance] AS [Extent1]
        INNER JOIN [dbo].[Security_Detail] AS [Extent2] ON [Extent1].[Security_ID] = [Extent2].[Security_ID]
        WHERE ([Extent1].[Entity_ID] = @p__linq__0) AND ([Extent1].[Portfolio_Code] = @p__linq__1) AND ([Extent1].[Entity_ID] = @p__linq__2)
    )  AS [Project1]
    ORDER BY [Project1].[Security_ID] ASC
2018-04-11 13:18:25.6702|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: IF db_id(N'MetopeAzureDb') IS NOT NULL SELECT 1 ELSE SELECT Count(*) FROM sys.databases WHERE [name]=N'MetopeAzureDb'
2018-04-11 13:18:25.6932|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: IF db_id(N'MetopeAzureDb') IS NOT NULL SELECT 1 ELSE SELECT Count(*) FROM sys.databases WHERE [name]=N'MetopeAzureDb'
2018-04-11 13:18:25.7182|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: IF db_id(N'MetopeAzureDb') IS NOT NULL SELECT 1 ELSE SELECT Count(*) FROM sys.databases WHERE [name]=N'MetopeAzureDb'
2018-04-11 13:18:25.7362|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: IF db_id(N'MetopeAzureDb') IS NOT NULL SELECT 1 ELSE SELECT Count(*) FROM sys.databases WHERE [name]=N'MetopeAzureDb'
2018-04-11 13:18:29.8491|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: SELECT 
    [Project1].[Entity_ID] AS [Entity_ID], 
    [Project1].[Portfolio_Code] AS [Portfolio_Code], 
    [Project1].[Portfolio_Name] AS [Portfolio_Name], 
    [Project1].[Manager] AS [Manager], 
    [Project1].[Portfolio_Type] AS [Portfolio_Type], 
    [Project1].[Portfolio_Base_Currency] AS [Portfolio_Base_Currency], 
    [Project1].[PortfolIo_Domicile] AS [PortfolIo_Domicile], 
    [Project1].[Portfolio_Report_Currency] AS [Portfolio_Report_Currency], 
    [Project1].[Inception_Date] AS [Inception_Date], 
    [Project1].[Financial_Year_End] AS [Financial_Year_End], 
    [Project1].[Custodian_Code] AS [Custodian_Code], 
    [Project1].[Active_Flag] AS [Active_Flag], 
    [Project1].[System_Locked] AS [System_Locked], 
    [Project1].[Portfolio_Status] AS [Portfolio_Status]
    FROM ( SELECT 
        [Extent1].[Entity_ID] AS [Entity_ID], 
        [Extent1].[Portfolio_Code] AS [Portfolio_Code], 
        [Extent1].[Portfolio_Name] AS [Portfolio_Name], 
        [Extent1].[Manager] AS [Manager], 
        [Extent1].[Portfolio_Type] AS [Portfolio_Type], 
        [Extent1].[Portfolio_Base_Currency] AS [Portfolio_Base_Currency], 
        [Extent1].[PortfolIo_Domicile] AS [PortfolIo_Domicile], 
        [Extent1].[Portfolio_Report_Currency] AS [Portfolio_Report_Currency], 
        [Extent1].[Inception_Date] AS [Inception_Date], 
        [Extent1].[Financial_Year_End] AS [Financial_Year_End], 
        [Extent1].[Custodian_Code] AS [Custodian_Code], 
        [Extent1].[Active_Flag] AS [Active_Flag], 
        [Extent1].[System_Locked] AS [System_Locked], 
        [Extent1].[Portfolio_Status] AS [Portfolio_Status]
        FROM [dbo].[Portfolio] AS [Extent1]
        WHERE ([Extent1].[Entity_ID] = @p__linq__0) AND ([Extent1].[Portfolio_Status] = @p__linq__1)
    )  AS [Project1]
    ORDER BY [Project1].[Portfolio_Name] ASC
2018-04-11 13:18:29.8916|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: SELECT 
    [Project1].[Entity_ID] AS [Entity_ID], 
    [Project1].[Portfolio_Code] AS [Portfolio_Code], 
    [Project1].[Portfolio_Name] AS [Portfolio_Name], 
    [Project1].[Manager] AS [Manager], 
    [Project1].[Portfolio_Type] AS [Portfolio_Type], 
    [Project1].[Portfolio_Base_Currency] AS [Portfolio_Base_Currency], 
    [Project1].[PortfolIo_Domicile] AS [PortfolIo_Domicile], 
    [Project1].[Portfolio_Report_Currency] AS [Portfolio_Report_Currency], 
    [Project1].[Inception_Date] AS [Inception_Date], 
    [Project1].[Financial_Year_End] AS [Financial_Year_End], 
    [Project1].[Custodian_Code] AS [Custodian_Code], 
    [Project1].[Active_Flag] AS [Active_Flag], 
    [Project1].[System_Locked] AS [System_Locked], 
    [Project1].[Portfolio_Status] AS [Portfolio_Status]
    FROM ( SELECT 
        [Extent1].[Entity_ID] AS [Entity_ID], 
        [Extent1].[Portfolio_Code] AS [Portfolio_Code], 
        [Extent1].[Portfolio_Name] AS [Portfolio_Name], 
        [Extent1].[Manager] AS [Manager], 
        [Extent1].[Portfolio_Type] AS [Portfolio_Type], 
        [Extent1].[Portfolio_Base_Currency] AS [Portfolio_Base_Currency], 
        [Extent1].[PortfolIo_Domicile] AS [PortfolIo_Domicile], 
        [Extent1].[Portfolio_Report_Currency] AS [Portfolio_Report_Currency], 
        [Extent1].[Inception_Date] AS [Inception_Date], 
        [Extent1].[Financial_Year_End] AS [Financial_Year_End], 
        [Extent1].[Custodian_Code] AS [Custodian_Code], 
        [Extent1].[Active_Flag] AS [Active_Flag], 
        [Extent1].[System_Locked] AS [System_Locked], 
        [Extent1].[Portfolio_Status] AS [Portfolio_Status]
        FROM [dbo].[Portfolio] AS [Extent1]
        WHERE ([Extent1].[Entity_ID] = @p__linq__0) AND ([Extent1].[Portfolio_Status] = @p__linq__1)
    )  AS [Project1]
    ORDER BY [Project1].[Portfolio_Name] ASC
2018-04-11 13:18:30.0022|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: SELECT 
    [Project1].[Security_ID] AS [Security_ID], 
    [Project1].[Entity_ID] AS [Entity_ID], 
    [Project1].[Security_Name] AS [Security_Name], 
    [Project1].[Short_Name] AS [Short_Name], 
    [Project1].[Primary_Exch] AS [Primary_Exch], 
    [Project1].[Secondary_Exch] AS [Secondary_Exch], 
    [Project1].[Country_Of_Domicile] AS [Country_Of_Domicile], 
    [Project1].[Country_Of_Risk] AS [Country_Of_Risk], 
    [Project1].[Security_Type_Code] AS [Security_Type_Code], 
    [Project1].[Price_Multiplier] AS [Price_Multiplier], 
    [Project1].[Income_Frequency] AS [Income_Frequency], 
    [Project1].[Issuer_Code] AS [Issuer_Code], 
    [Project1].[Ultimate_Issuer_Code] AS [Ultimate_Issuer_Code], 
    [Project1].[Asset_Currency] AS [Asset_Currency], 
    [Project1].[Min_Lot_Size] AS [Min_Lot_Size], 
    [Project1].[Decimal_Precision] AS [Decimal_Precision], 
    [Project1].[AvePrice_Rounding] AS [AvePrice_Rounding], 
    [Project1].[Issue_Date] AS [Issue_Date], 
    [Project1].[Maturity_Date] AS [Maturity_Date], 
    [Project1].[Coupon_Rate] AS [Coupon_Rate], 
    [Project1].[Price_Exchange] AS [Price_Exchange], 
    [Project1].[Trade_Currency] AS [Trade_Currency], 
    [Project1].[Price_Curr] AS [Price_Curr], 
    [Project1].[Currency_Pair_Code] AS [Currency_Pair_Code], 
    [Project1].[Share_Class] AS [Share_Class], 
    [Project1].[Current_Market_Price] AS [Current_Market_Price], 
    [Project1].[Index_Type] AS [Index_Type], 
    [Project1].[Clean_Price_Formula] AS [Clean_Price_Formula], 
    [Project1].[Accrued_Income_Price_Formula] AS [Accrued_Income_Price_Formula], 
    [Project1].[Odd_First_Coupon_Date] AS [Odd_First_Coupon_Date], 
    [Project1].[Odd_Last_Coupon_Date] AS [Odd_Last_Coupon_Date], 
    [Project1].[Coupon_Anniversary_Indicator] AS [Coupon_Anniversary_Indicator], 
    [Project1].[Track_EOM_Flag] AS [Track_EOM_Flag], 
    [Project1].[Next_Coupon_Date] AS [Next_Coupon_Date], 
    [Project1].[Previous_Coupon_Date] AS [Previous_Coupon_Date], 
    [Project1].[Payment_Frequency] AS [Payment_Frequency], 
    [Project1].[Coupon_BusDay_Adjustment] AS [Coupon_BusDay_Adjustment], 
    [Project1].[Next_Ex_Div_Date] AS [Next_Ex_Div_Date], 
    [Project1].[Ex_Div_BusDay_Adjustment] AS [Ex_Div_BusDay_Adjustment], 
    [Project1].[Ex_Div_Period] AS [Ex_Div_Period], 
    [Project1].[Ticker] AS [Ticker], 
    [Project1].[Inet_ID] AS [Inet_ID], 
    [Project1].[Bloomberg_ID] AS [Bloomberg_ID], 
    [Project1].[External_Sec_ID] AS [External_Sec_ID], 
    [Project1].[Reuters_ID] AS [Reuters_ID], 
    [Project1].[ISIN] AS [ISIN], 
    [Project1].[Call_Account_Flag] AS [Call_Account_Flag], 
    [Project1].[System_Locked] AS [System_Locked], 
    [Project1].[Last_Update_User] AS [Last_Update_User], 
    [Project1].[Last_Update_Date] AS [Last_Update_Date], 
    [Project1].[Security_Status] AS [Security_Status], 
    [Project1].[Benchmark_Portfolio] AS [Benchmark_Portfolio], 
    [Project1].[Active_flag] AS [Active_flag], 
    [Project1].[Dividend_FX_Security_ID] AS [Dividend_FX_Security_ID]
    FROM ( SELECT 
        [Extent1].[Security_ID] AS [Security_ID], 
        [Extent1].[Entity_ID] AS [Entity_ID], 
        [Extent1].[Security_Name] AS [Security_Name], 
        [Extent1].[Short_Name] AS [Short_Name], 
        [Extent1].[Primary_Exch] AS [Primary_Exch], 
        [Extent1].[Secondary_Exch] AS [Secondary_Exch], 
        [Extent1].[Country_Of_Domicile] AS [Country_Of_Domicile], 
        [Extent1].[Country_Of_Risk] AS [Country_Of_Risk], 
        [Extent1].[Security_Type_Code] AS [Security_Type_Code], 
        [Extent1].[Price_Multiplier] AS [Price_Multiplier], 
        [Extent1].[Income_Frequency] AS [Income_Frequency], 
        [Extent1].[Issuer_Code] AS [Issuer_Code], 
        [Extent1].[Ultimate_Issuer_Code] AS [Ultimate_Issuer_Code], 
        [Extent1].[Asset_Currency] AS [Asset_Currency], 
        [Extent1].[Min_Lot_Size] AS [Min_Lot_Size], 
        [Extent1].[Decimal_Precision] AS [Decimal_Precision], 
        [Extent1].[AvePrice_Rounding] AS [AvePrice_Rounding], 
        [Extent1].[Issue_Date] AS [Issue_Date], 
        [Extent1].[Maturity_Date] AS [Maturity_Date], 
        [Extent1].[Coupon_Rate] AS [Coupon_Rate], 
        [Extent1].[Price_Exchange] AS [Price_Exchange], 
        [Extent1].[Trade_Currency] AS [Trade_Currency], 
        [Extent1].[Price_Curr] AS [Price_Curr], 
        [Extent1].[Currency_Pair_Code] AS [Currency_Pair_Code], 
        [Extent1].[Share_Class] AS [Share_Class], 
        [Extent1].[Current_Market_Price] AS [Current_Market_Price], 
        [Extent1].[Index_Type] AS [Index_Type], 
        [Extent1].[Clean_Price_Formula] AS [Clean_Price_Formula], 
        [Extent1].[Accrued_Income_Price_Formula] AS [Accrued_Income_Price_Formula], 
        [Extent1].[Odd_First_Coupon_Date] AS [Odd_First_Coupon_Date], 
        [Extent1].[Odd_Last_Coupon_Date] AS [Odd_Last_Coupon_Date], 
        [Extent1].[Coupon_Anniversary_Indicator] AS [Coupon_Anniversary_Indicator], 
        [Extent1].[Track_EOM_Flag] AS [Track_EOM_Flag], 
        [Extent1].[Next_Coupon_Date] AS [Next_Coupon_Date], 
        [Extent1].[Previous_Coupon_Date] AS [Previous_Coupon_Date], 
        [Extent1].[Payment_Frequency] AS [Payment_Frequency], 
        [Extent1].[Coupon_BusDay_Adjustment] AS [Coupon_BusDay_Adjustment], 
        [Extent1].[Next_Ex_Div_Date] AS [Next_Ex_Div_Date], 
        [Extent1].[Ex_Div_BusDay_Adjustment] AS [Ex_Div_BusDay_Adjustment], 
        [Extent1].[Ex_Div_Period] AS [Ex_Div_Period], 
        [Extent1].[Ticker] AS [Ticker], 
        [Extent1].[Inet_ID] AS [Inet_ID], 
        [Extent1].[Bloomberg_ID] AS [Bloomberg_ID], 
        [Extent1].[External_Sec_ID] AS [External_Sec_ID], 
        [Extent1].[Reuters_ID] AS [Reuters_ID], 
        [Extent1].[ISIN] AS [ISIN], 
        [Extent1].[Call_Account_Flag] AS [Call_Account_Flag], 
        [Extent1].[System_Locked] AS [System_Locked], 
        [Extent1].[Last_Update_User] AS [Last_Update_User], 
        [Extent1].[Last_Update_Date] AS [Last_Update_Date], 
        [Extent1].[Security_Status] AS [Security_Status], 
        [Extent1].[Benchmark_Portfolio] AS [Benchmark_Portfolio], 
        [Extent1].[Active_flag] AS [Active_flag], 
        [Extent1].[Dividend_FX_Security_ID] AS [Dividend_FX_Security_ID]
        FROM [dbo].[Security_Detail] AS [Extent1]
        WHERE ([Extent1].[Entity_ID] IN (@p__linq__0,@p__linq__1)) AND ((CASE WHEN ( NOT ((N'' = @p__linq__2) AND (@p__linq__2 IS NOT NULL))) THEN CASE WHEN ([Extent1].[Security_Type_Code] = @p__linq__3) THEN cast(1 as bit) WHEN ( NOT (([Extent1].[Security_Type_Code] = @p__linq__3) AND (0 = (CASE WHEN (@p__linq__3 IS NULL) THEN cast(1 as bit) ELSE cast(0 as bit) END)))) THEN cast(0 as bit) END WHEN ('' <> [Extent1].[Security_Type_Code]) THEN cast(1 as bit) WHEN ('' = [Extent1].[Security_Type_Code]) THEN cast(0 as bit) END) = 1)
    )  AS [Project1]
    ORDER BY [Project1].[Security_Name] ASC
2018-04-11 13:18:30.0312|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: SELECT 
    [Project1].[Security_ID] AS [Security_ID], 
    [Project1].[Entity_ID] AS [Entity_ID], 
    [Project1].[Security_Name] AS [Security_Name], 
    [Project1].[Short_Name] AS [Short_Name], 
    [Project1].[Primary_Exch] AS [Primary_Exch], 
    [Project1].[Secondary_Exch] AS [Secondary_Exch], 
    [Project1].[Country_Of_Domicile] AS [Country_Of_Domicile], 
    [Project1].[Country_Of_Risk] AS [Country_Of_Risk], 
    [Project1].[Security_Type_Code] AS [Security_Type_Code], 
    [Project1].[Price_Multiplier] AS [Price_Multiplier], 
    [Project1].[Income_Frequency] AS [Income_Frequency], 
    [Project1].[Issuer_Code] AS [Issuer_Code], 
    [Project1].[Ultimate_Issuer_Code] AS [Ultimate_Issuer_Code], 
    [Project1].[Asset_Currency] AS [Asset_Currency], 
    [Project1].[Min_Lot_Size] AS [Min_Lot_Size], 
    [Project1].[Decimal_Precision] AS [Decimal_Precision], 
    [Project1].[AvePrice_Rounding] AS [AvePrice_Rounding], 
    [Project1].[Issue_Date] AS [Issue_Date], 
    [Project1].[Maturity_Date] AS [Maturity_Date], 
    [Project1].[Coupon_Rate] AS [Coupon_Rate], 
    [Project1].[Price_Exchange] AS [Price_Exchange], 
    [Project1].[Trade_Currency] AS [Trade_Currency], 
    [Project1].[Price_Curr] AS [Price_Curr], 
    [Project1].[Currency_Pair_Code] AS [Currency_Pair_Code], 
    [Project1].[Share_Class] AS [Share_Class], 
    [Project1].[Current_Market_Price] AS [Current_Market_Price], 
    [Project1].[Index_Type] AS [Index_Type], 
    [Project1].[Clean_Price_Formula] AS [Clean_Price_Formula], 
    [Project1].[Accrued_Income_Price_Formula] AS [Accrued_Income_Price_Formula], 
    [Project1].[Odd_First_Coupon_Date] AS [Odd_First_Coupon_Date], 
    [Project1].[Odd_Last_Coupon_Date] AS [Odd_Last_Coupon_Date], 
    [Project1].[Coupon_Anniversary_Indicator] AS [Coupon_Anniversary_Indicator], 
    [Project1].[Track_EOM_Flag] AS [Track_EOM_Flag], 
    [Project1].[Next_Coupon_Date] AS [Next_Coupon_Date], 
    [Project1].[Previous_Coupon_Date] AS [Previous_Coupon_Date], 
    [Project1].[Payment_Frequency] AS [Payment_Frequency], 
    [Project1].[Coupon_BusDay_Adjustment] AS [Coupon_BusDay_Adjustment], 
    [Project1].[Next_Ex_Div_Date] AS [Next_Ex_Div_Date], 
    [Project1].[Ex_Div_BusDay_Adjustment] AS [Ex_Div_BusDay_Adjustment], 
    [Project1].[Ex_Div_Period] AS [Ex_Div_Period], 
    [Project1].[Ticker] AS [Ticker], 
    [Project1].[Inet_ID] AS [Inet_ID], 
    [Project1].[Bloomberg_ID] AS [Bloomberg_ID], 
    [Project1].[External_Sec_ID] AS [External_Sec_ID], 
    [Project1].[Reuters_ID] AS [Reuters_ID], 
    [Project1].[ISIN] AS [ISIN], 
    [Project1].[Call_Account_Flag] AS [Call_Account_Flag], 
    [Project1].[System_Locked] AS [System_Locked], 
    [Project1].[Last_Update_User] AS [Last_Update_User], 
    [Project1].[Last_Update_Date] AS [Last_Update_Date], 
    [Project1].[Security_Status] AS [Security_Status], 
    [Project1].[Benchmark_Portfolio] AS [Benchmark_Portfolio], 
    [Project1].[Active_flag] AS [Active_flag], 
    [Project1].[Dividend_FX_Security_ID] AS [Dividend_FX_Security_ID]
    FROM ( SELECT 
        [Extent1].[Security_ID] AS [Security_ID], 
        [Extent1].[Entity_ID] AS [Entity_ID], 
        [Extent1].[Security_Name] AS [Security_Name], 
        [Extent1].[Short_Name] AS [Short_Name], 
        [Extent1].[Primary_Exch] AS [Primary_Exch], 
        [Extent1].[Secondary_Exch] AS [Secondary_Exch], 
        [Extent1].[Country_Of_Domicile] AS [Country_Of_Domicile], 
        [Extent1].[Country_Of_Risk] AS [Country_Of_Risk], 
        [Extent1].[Security_Type_Code] AS [Security_Type_Code], 
        [Extent1].[Price_Multiplier] AS [Price_Multiplier], 
        [Extent1].[Income_Frequency] AS [Income_Frequency], 
        [Extent1].[Issuer_Code] AS [Issuer_Code], 
        [Extent1].[Ultimate_Issuer_Code] AS [Ultimate_Issuer_Code], 
        [Extent1].[Asset_Currency] AS [Asset_Currency], 
        [Extent1].[Min_Lot_Size] AS [Min_Lot_Size], 
        [Extent1].[Decimal_Precision] AS [Decimal_Precision], 
        [Extent1].[AvePrice_Rounding] AS [AvePrice_Rounding], 
        [Extent1].[Issue_Date] AS [Issue_Date], 
        [Extent1].[Maturity_Date] AS [Maturity_Date], 
        [Extent1].[Coupon_Rate] AS [Coupon_Rate], 
        [Extent1].[Price_Exchange] AS [Price_Exchange], 
        [Extent1].[Trade_Currency] AS [Trade_Currency], 
        [Extent1].[Price_Curr] AS [Price_Curr], 
        [Extent1].[Currency_Pair_Code] AS [Currency_Pair_Code], 
        [Extent1].[Share_Class] AS [Share_Class], 
        [Extent1].[Current_Market_Price] AS [Current_Market_Price], 
        [Extent1].[Index_Type] AS [Index_Type], 
        [Extent1].[Clean_Price_Formula] AS [Clean_Price_Formula], 
        [Extent1].[Accrued_Income_Price_Formula] AS [Accrued_Income_Price_Formula], 
        [Extent1].[Odd_First_Coupon_Date] AS [Odd_First_Coupon_Date], 
        [Extent1].[Odd_Last_Coupon_Date] AS [Odd_Last_Coupon_Date], 
        [Extent1].[Coupon_Anniversary_Indicator] AS [Coupon_Anniversary_Indicator], 
        [Extent1].[Track_EOM_Flag] AS [Track_EOM_Flag], 
        [Extent1].[Next_Coupon_Date] AS [Next_Coupon_Date], 
        [Extent1].[Previous_Coupon_Date] AS [Previous_Coupon_Date], 
        [Extent1].[Payment_Frequency] AS [Payment_Frequency], 
        [Extent1].[Coupon_BusDay_Adjustment] AS [Coupon_BusDay_Adjustment], 
        [Extent1].[Next_Ex_Div_Date] AS [Next_Ex_Div_Date], 
        [Extent1].[Ex_Div_BusDay_Adjustment] AS [Ex_Div_BusDay_Adjustment], 
        [Extent1].[Ex_Div_Period] AS [Ex_Div_Period], 
        [Extent1].[Ticker] AS [Ticker], 
        [Extent1].[Inet_ID] AS [Inet_ID], 
        [Extent1].[Bloomberg_ID] AS [Bloomberg_ID], 
        [Extent1].[External_Sec_ID] AS [External_Sec_ID], 
        [Extent1].[Reuters_ID] AS [Reuters_ID], 
        [Extent1].[ISIN] AS [ISIN], 
        [Extent1].[Call_Account_Flag] AS [Call_Account_Flag], 
        [Extent1].[System_Locked] AS [System_Locked], 
        [Extent1].[Last_Update_User] AS [Last_Update_User], 
        [Extent1].[Last_Update_Date] AS [Last_Update_Date], 
        [Extent1].[Security_Status] AS [Security_Status], 
        [Extent1].[Benchmark_Portfolio] AS [Benchmark_Portfolio], 
        [Extent1].[Active_flag] AS [Active_flag], 
        [Extent1].[Dividend_FX_Security_ID] AS [Dividend_FX_Security_ID]
        FROM [dbo].[Security_Detail] AS [Extent1]
        WHERE ([Extent1].[Entity_ID] IN (@p__linq__0,@p__linq__1)) AND ((CASE WHEN ( NOT ((N'' = @p__linq__2) AND (@p__linq__2 IS NOT NULL))) THEN CASE WHEN ([Extent1].[Security_Type_Code] = @p__linq__3) THEN cast(1 as bit) WHEN ( NOT (([Extent1].[Security_Type_Code] = @p__linq__3) AND (0 = (CASE WHEN (@p__linq__3 IS NULL) THEN cast(1 as bit) ELSE cast(0 as bit) END)))) THEN cast(0 as bit) END WHEN ('' <> [Extent1].[Security_Type_Code]) THEN cast(1 as bit) WHEN ('' = [Extent1].[Security_Type_Code]) THEN cast(0 as bit) END) = 1)
    )  AS [Project1]
    ORDER BY [Project1].[Security_Name] ASC
2018-04-11 13:18:30.0972|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: IF db_id(N'MetopeAzureDb') IS NOT NULL SELECT 1 ELSE SELECT Count(*) FROM sys.databases WHERE [name]=N'MetopeAzureDb'
2018-04-11 13:18:30.1218|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: IF db_id(N'MetopeAzureDb') IS NOT NULL SELECT 1 ELSE SELECT Count(*) FROM sys.databases WHERE [name]=N'MetopeAzureDb'
2018-04-11 13:18:30.1513|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: IF db_id(N'MetopeAzureDb') IS NOT NULL SELECT 1 ELSE SELECT Count(*) FROM sys.databases WHERE [name]=N'MetopeAzureDb'
2018-04-11 13:18:30.1728|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: IF db_id(N'MetopeAzureDb') IS NOT NULL SELECT 1 ELSE SELECT Count(*) FROM sys.databases WHERE [name]=N'MetopeAzureDb'
2018-04-11 13:18:34.2971|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: SELECT TOP (1) 
    [Project1].[C1] AS [C1], 
    [Project1].[Entity_ID] AS [Entity_ID], 
    [Project1].[Security_ID] AS [Security_ID], 
    [Project1].[Portfolio_Code] AS [Portfolio_Code], 
    [Project1].[ModDietz_Performance_Quarterly] AS [ModDietz_Performance_Quarterly], 
    [Project1].[ModDietz_Performance_Monthly] AS [ModDietz_Performance_Monthly], 
    [Project1].[ModDietz_Performance_MonthToDate] AS [ModDietz_Performance_MonthToDate], 
    [Project1].[Ticker] AS [Ticker]
    FROM ( SELECT 
        [Extent1].[Security_ID] AS [Security_ID], 
        [Extent1].[Portfolio_Code] AS [Portfolio_Code], 
        [Extent1].[Entity_ID] AS [Entity_ID], 
        [Extent1].[ModDietz_Performance_Quarterly] AS [ModDietz_Performance_Quarterly], 
        [Extent1].[ModDietz_Performance_Monthly] AS [ModDietz_Performance_Monthly], 
        [Extent1].[ModDietz_Performance_MonthToDate] AS [ModDietz_Performance_MonthToDate], 
        [Extent2].[Ticker] AS [Ticker], 
        1 AS [C1]
        FROM  [dbo].[Security_Performance] AS [Extent1]
        INNER JOIN [dbo].[Security_Detail] AS [Extent2] ON [Extent1].[Security_ID] = [Extent2].[Security_ID]
        WHERE ([Extent1].[Entity_ID] = @p__linq__0) AND ([Extent1].[Portfolio_Code] = @p__linq__1) AND ([Extent1].[Entity_ID] = @p__linq__2)
    )  AS [Project1]
    ORDER BY [Project1].[Security_ID] ASC
2018-04-11 13:18:34.3872|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: SELECT TOP (1) 
    [Project1].[C1] AS [C1], 
    [Project1].[Entity_ID] AS [Entity_ID], 
    [Project1].[Security_ID] AS [Security_ID], 
    [Project1].[Portfolio_Code] AS [Portfolio_Code], 
    [Project1].[ModDietz_Performance_Quarterly] AS [ModDietz_Performance_Quarterly], 
    [Project1].[ModDietz_Performance_Monthly] AS [ModDietz_Performance_Monthly], 
    [Project1].[ModDietz_Performance_MonthToDate] AS [ModDietz_Performance_MonthToDate], 
    [Project1].[Ticker] AS [Ticker]
    FROM ( SELECT 
        [Extent1].[Security_ID] AS [Security_ID], 
        [Extent1].[Portfolio_Code] AS [Portfolio_Code], 
        [Extent1].[Entity_ID] AS [Entity_ID], 
        [Extent1].[ModDietz_Performance_Quarterly] AS [ModDietz_Performance_Quarterly], 
        [Extent1].[ModDietz_Performance_Monthly] AS [ModDietz_Performance_Monthly], 
        [Extent1].[ModDietz_Performance_MonthToDate] AS [ModDietz_Performance_MonthToDate], 
        [Extent2].[Ticker] AS [Ticker], 
        1 AS [C1]
        FROM  [dbo].[Security_Performance] AS [Extent1]
        INNER JOIN [dbo].[Security_Detail] AS [Extent2] ON [Extent1].[Security_ID] = [Extent2].[Security_ID]
        WHERE ([Extent1].[Entity_ID] = @p__linq__0) AND ([Extent1].[Portfolio_Code] = @p__linq__1) AND ([Extent1].[Entity_ID] = @p__linq__2)
    )  AS [Project1]
    ORDER BY [Project1].[Security_ID] ASC
2018-04-11 13:18:34.4402|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: SELECT 
    [Project1].[C1] AS [C1], 
    [Project1].[Entity_ID] AS [Entity_ID], 
    [Project1].[Security_ID] AS [Security_ID], 
    [Project1].[Portfolio_Code] AS [Portfolio_Code], 
    [Project1].[ModDietz_Performance_Quarterly] AS [ModDietz_Performance_Quarterly], 
    [Project1].[ModDietz_Performance_Monthly] AS [ModDietz_Performance_Monthly], 
    [Project1].[ModDietz_Performance_MonthToDate] AS [ModDietz_Performance_MonthToDate], 
    [Project1].[Ticker] AS [Ticker]
    FROM ( SELECT 
        [Extent1].[Security_ID] AS [Security_ID], 
        [Extent1].[Portfolio_Code] AS [Portfolio_Code], 
        [Extent1].[Entity_ID] AS [Entity_ID], 
        [Extent1].[ModDietz_Performance_Quarterly] AS [ModDietz_Performance_Quarterly], 
        [Extent1].[ModDietz_Performance_Monthly] AS [ModDietz_Performance_Monthly], 
        [Extent1].[ModDietz_Performance_MonthToDate] AS [ModDietz_Performance_MonthToDate], 
        [Extent2].[Ticker] AS [Ticker], 
        1 AS [C1]
        FROM  [dbo].[Security_Performance] AS [Extent1]
        INNER JOIN [dbo].[Security_Detail] AS [Extent2] ON [Extent1].[Security_ID] = [Extent2].[Security_ID]
        WHERE ([Extent1].[Entity_ID] = @p__linq__0) AND ([Extent1].[Portfolio_Code] = @p__linq__1) AND ([Extent1].[Entity_ID] = @p__linq__2)
    )  AS [Project1]
    ORDER BY [Project1].[Security_ID] ASC
2018-04-11 13:18:34.4708|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: SELECT 
    [Project1].[C1] AS [C1], 
    [Project1].[Entity_ID] AS [Entity_ID], 
    [Project1].[Security_ID] AS [Security_ID], 
    [Project1].[Portfolio_Code] AS [Portfolio_Code], 
    [Project1].[ModDietz_Performance_Quarterly] AS [ModDietz_Performance_Quarterly], 
    [Project1].[ModDietz_Performance_Monthly] AS [ModDietz_Performance_Monthly], 
    [Project1].[ModDietz_Performance_MonthToDate] AS [ModDietz_Performance_MonthToDate], 
    [Project1].[Ticker] AS [Ticker]
    FROM ( SELECT 
        [Extent1].[Security_ID] AS [Security_ID], 
        [Extent1].[Portfolio_Code] AS [Portfolio_Code], 
        [Extent1].[Entity_ID] AS [Entity_ID], 
        [Extent1].[ModDietz_Performance_Quarterly] AS [ModDietz_Performance_Quarterly], 
        [Extent1].[ModDietz_Performance_Monthly] AS [ModDietz_Performance_Monthly], 
        [Extent1].[ModDietz_Performance_MonthToDate] AS [ModDietz_Performance_MonthToDate], 
        [Extent2].[Ticker] AS [Ticker], 
        1 AS [C1]
        FROM  [dbo].[Security_Performance] AS [Extent1]
        INNER JOIN [dbo].[Security_Detail] AS [Extent2] ON [Extent1].[Security_ID] = [Extent2].[Security_ID]
        WHERE ([Extent1].[Entity_ID] = @p__linq__0) AND ([Extent1].[Portfolio_Code] = @p__linq__1) AND ([Extent1].[Entity_ID] = @p__linq__2)
    )  AS [Project1]
    ORDER BY [Project1].[Security_ID] ASC
2018-04-11 13:18:34.5163|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: IF db_id(N'MetopeAzureDb') IS NOT NULL SELECT 1 ELSE SELECT Count(*) FROM sys.databases WHERE [name]=N'MetopeAzureDb'
2018-04-11 13:18:34.5433|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: IF db_id(N'MetopeAzureDb') IS NOT NULL SELECT 1 ELSE SELECT Count(*) FROM sys.databases WHERE [name]=N'MetopeAzureDb'
2018-04-11 13:18:34.5788|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: IF db_id(N'MetopeAzureDb') IS NOT NULL SELECT 1 ELSE SELECT Count(*) FROM sys.databases WHERE [name]=N'MetopeAzureDb'
2018-04-11 13:18:34.6034|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: IF db_id(N'MetopeAzureDb') IS NOT NULL SELECT 1 ELSE SELECT Count(*) FROM sys.databases WHERE [name]=N'MetopeAzureDb'
2018-04-11 13:19:29.3485|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: SELECT 
    [Project1].[Decimal_Precision] AS [Decimal_Precision], 
    [Project1].[Security_ID] AS [Security_ID], 
    [Project1].[Portfolio_Code] AS [Portfolio_Code], 
    [Project1].[Entity_ID] AS [Entity_ID], 
    [Project1].[ModDietz_Performance_Quarterly] AS [ModDietz_Performance_Quarterly], 
    [Project1].[ModDietz_Performance_Monthly] AS [ModDietz_Performance_Monthly], 
    [Project1].[ModDietz_Performance_MonthToDate] AS [ModDietz_Performance_MonthToDate], 
    [Project1].[Dietz_Performance_Quarterly] AS [Dietz_Performance_Quarterly], 
    [Project1].[Dietz_Performance_Monthly] AS [Dietz_Performance_Monthly], 
    [Project1].[Dietz_Performance_MonthToDate] AS [Dietz_Performance_MonthToDate], 
    [Project1].[Last_Update_Date] AS [Last_Update_Date], 
    [Project1].[Last_Update_User] AS [Last_Update_User], 
    [Project1].[Record_Date] AS [Record_Date], 
    [Project1].[Session_ID] AS [Session_ID], 
    [Project1].[Hist_Last_Update_Date] AS [Hist_Last_Update_Date], 
    [Project1].[Hist_Last_Update_User] AS [Hist_Last_Update_User], 
    [Project1].[Security_ID1] AS [Security_ID1], 
    [Project1].[Entity_ID1] AS [Entity_ID1], 
    [Project1].[Security_Name] AS [Security_Name], 
    [Project1].[Short_Name] AS [Short_Name], 
    [Project1].[Primary_Exch] AS [Primary_Exch], 
    [Project1].[Secondary_Exch] AS [Secondary_Exch], 
    [Project1].[Country_Of_Domicile] AS [Country_Of_Domicile], 
    [Project1].[Country_Of_Risk] AS [Country_Of_Risk], 
    [Project1].[Security_Type_Code] AS [Security_Type_Code], 
    [Project1].[Price_Multiplier] AS [Price_Multiplier], 
    [Project1].[Income_Frequency] AS [Income_Frequency], 
    [Project1].[Issuer_Code] AS [Issuer_Code], 
    [Project1].[Ultimate_Issuer_Code] AS [Ultimate_Issuer_Code], 
    [Project1].[Asset_Currency] AS [Asset_Currency], 
    [Project1].[Min_Lot_Size] AS [Min_Lot_Size], 
    [Project1].[AvePrice_Rounding] AS [AvePrice_Rounding], 
    [Project1].[Issue_Date] AS [Issue_Date], 
    [Project1].[Maturity_Date] AS [Maturity_Date], 
    [Project1].[Coupon_Rate] AS [Coupon_Rate], 
    [Project1].[Price_Exchange] AS [Price_Exchange], 
    [Project1].[Trade_Currency] AS [Trade_Currency], 
    [Project1].[Price_Curr] AS [Price_Curr], 
    [Project1].[Currency_Pair_Code] AS [Currency_Pair_Code], 
    [Project1].[Share_Class] AS [Share_Class], 
    [Project1].[Current_Market_Price] AS [Current_Market_Price], 
    [Project1].[Index_Type] AS [Index_Type], 
    [Project1].[Clean_Price_Formula] AS [Clean_Price_Formula], 
    [Project1].[Accrued_Income_Price_Formula] AS [Accrued_Income_Price_Formula], 
    [Project1].[Odd_First_Coupon_Date] AS [Odd_First_Coupon_Date], 
    [Project1].[Odd_Last_Coupon_Date] AS [Odd_Last_Coupon_Date], 
    [Project1].[Coupon_Anniversary_Indicator] AS [Coupon_Anniversary_Indicator], 
    [Project1].[Track_EOM_Flag] AS [Track_EOM_Flag], 
    [Project1].[Next_Coupon_Date] AS [Next_Coupon_Date], 
    [Project1].[Previous_Coupon_Date] AS [Previous_Coupon_Date], 
    [Project1].[Payment_Frequency] AS [Payment_Frequency], 
    [Project1].[Coupon_BusDay_Adjustment] AS [Coupon_BusDay_Adjustment], 
    [Project1].[Next_Ex_Div_Date] AS [Next_Ex_Div_Date], 
    [Project1].[Ex_Div_BusDay_Adjustment] AS [Ex_Div_BusDay_Adjustment], 
    [Project1].[Ex_Div_Period] AS [Ex_Div_Period], 
    [Project1].[Ticker] AS [Ticker], 
    [Project1].[Inet_ID] AS [Inet_ID], 
    [Project1].[Bloomberg_ID] AS [Bloomberg_ID], 
    [Project1].[External_Sec_ID] AS [External_Sec_ID], 
    [Project1].[Reuters_ID] AS [Reuters_ID], 
    [Project1].[ISIN] AS [ISIN], 
    [Project1].[Call_Account_Flag] AS [Call_Account_Flag], 
    [Project1].[System_Locked] AS [System_Locked], 
    [Project1].[Last_Update_User1] AS [Last_Update_User1], 
    [Project1].[Last_Update_Date1] AS [Last_Update_Date1], 
    [Project1].[Security_Status] AS [Security_Status], 
    [Project1].[Benchmark_Portfolio] AS [Benchmark_Portfolio], 
    [Project1].[Active_flag] AS [Active_flag], 
    [Project1].[Dividend_FX_Security_ID] AS [Dividend_FX_Security_ID]
    FROM ( SELECT 
        [Extent1].[Security_ID] AS [Security_ID], 
        [Extent1].[Portfolio_Code] AS [Portfolio_Code], 
        [Extent1].[Entity_ID] AS [Entity_ID], 
        [Extent1].[ModDietz_Performance_Quarterly] AS [ModDietz_Performance_Quarterly], 
        [Extent1].[ModDietz_Performance_Monthly] AS [ModDietz_Performance_Monthly], 
        [Extent1].[ModDietz_Performance_MonthToDate] AS [ModDietz_Performance_MonthToDate], 
        [Extent1].[Dietz_Performance_Quarterly] AS [Dietz_Performance_Quarterly], 
        [Extent1].[Dietz_Performance_Monthly] AS [Dietz_Performance_Monthly], 
        [Extent1].[Dietz_Performance_MonthToDate] AS [Dietz_Performance_MonthToDate], 
        [Extent1].[Last_Update_Date] AS [Last_Update_Date], 
        [Extent1].[Last_Update_User] AS [Last_Update_User], 
        [Extent1].[Record_Date] AS [Record_Date], 
        [Extent1].[Session_ID] AS [Session_ID], 
        [Extent1].[Hist_Last_Update_Date] AS [Hist_Last_Update_Date], 
        [Extent1].[Hist_Last_Update_User] AS [Hist_Last_Update_User], 
        [Extent2].[Security_ID] AS [Security_ID1], 
        [Extent2].[Entity_ID] AS [Entity_ID1], 
        [Extent2].[Security_Name] AS [Security_Name], 
        [Extent2].[Short_Name] AS [Short_Name], 
        [Extent2].[Primary_Exch] AS [Primary_Exch], 
        [Extent2].[Secondary_Exch] AS [Secondary_Exch], 
        [Extent2].[Country_Of_Domicile] AS [Country_Of_Domicile], 
        [Extent2].[Country_Of_Risk] AS [Country_Of_Risk], 
        [Extent2].[Security_Type_Code] AS [Security_Type_Code], 
        [Extent2].[Price_Multiplier] AS [Price_Multiplier], 
        [Extent2].[Income_Frequency] AS [Income_Frequency], 
        [Extent2].[Issuer_Code] AS [Issuer_Code], 
        [Extent2].[Ultimate_Issuer_Code] AS [Ultimate_Issuer_Code], 
        [Extent2].[Asset_Currency] AS [Asset_Currency], 
        [Extent2].[Min_Lot_Size] AS [Min_Lot_Size], 
        [Extent2].[Decimal_Precision] AS [Decimal_Precision], 
        [Extent2].[AvePrice_Rounding] AS [AvePrice_Rounding], 
        [Extent2].[Issue_Date] AS [Issue_Date], 
        [Extent2].[Maturity_Date] AS [Maturity_Date], 
        [Extent2].[Coupon_Rate] AS [Coupon_Rate], 
        [Extent2].[Price_Exchange] AS [Price_Exchange], 
        [Extent2].[Trade_Currency] AS [Trade_Currency], 
        [Extent2].[Price_Curr] AS [Price_Curr], 
        [Extent2].[Currency_Pair_Code] AS [Currency_Pair_Code], 
        [Extent2].[Share_Class] AS [Share_Class], 
        [Extent2].[Current_Market_Price] AS [Current_Market_Price], 
        [Extent2].[Index_Type] AS [Index_Type], 
        [Extent2].[Clean_Price_Formula] AS [Clean_Price_Formula], 
        [Extent2].[Accrued_Income_Price_Formula] AS [Accrued_Income_Price_Formula], 
        [Extent2].[Odd_First_Coupon_Date] AS [Odd_First_Coupon_Date], 
        [Extent2].[Odd_Last_Coupon_Date] AS [Odd_Last_Coupon_Date], 
        [Extent2].[Coupon_Anniversary_Indicator] AS [Coupon_Anniversary_Indicator], 
        [Extent2].[Track_EOM_Flag] AS [Track_EOM_Flag], 
        [Extent2].[Next_Coupon_Date] AS [Next_Coupon_Date], 
        [Extent2].[Previous_Coupon_Date] AS [Previous_Coupon_Date], 
        [Extent2].[Payment_Frequency] AS [Payment_Frequency], 
        [Extent2].[Coupon_BusDay_Adjustment] AS [Coupon_BusDay_Adjustment], 
        [Extent2].[Next_Ex_Div_Date] AS [Next_Ex_Div_Date], 
        [Extent2].[Ex_Div_BusDay_Adjustment] AS [Ex_Div_BusDay_Adjustment], 
        [Extent2].[Ex_Div_Period] AS [Ex_Div_Period], 
        [Extent2].[Ticker] AS [Ticker], 
        [Extent2].[Inet_ID] AS [Inet_ID], 
        [Extent2].[Bloomberg_ID] AS [Bloomberg_ID], 
        [Extent2].[External_Sec_ID] AS [External_Sec_ID], 
        [Extent2].[Reuters_ID] AS [Reuters_ID], 
        [Extent2].[ISIN] AS [ISIN], 
        [Extent2].[Call_Account_Flag] AS [Call_Account_Flag], 
        [Extent2].[System_Locked] AS [System_Locked], 
        [Extent2].[Last_Update_User] AS [Last_Update_User1], 
        [Extent2].[Last_Update_Date] AS [Last_Update_Date1], 
        [Extent2].[Security_Status] AS [Security_Status], 
        [Extent2].[Benchmark_Portfolio] AS [Benchmark_Portfolio], 
        [Extent2].[Active_flag] AS [Active_flag], 
        [Extent2].[Dividend_FX_Security_ID] AS [Dividend_FX_Security_ID]
        FROM  [dbo].[Security_Performance_History] AS [Extent1]
        INNER JOIN [dbo].[Security_Detail] AS [Extent2] ON [Extent1].[Security_ID] = [Extent2].[Security_ID]
        WHERE ([Extent1].[Security_ID] = @p__linq__0) AND ([Extent1].[Portfolio_Code] = @p__linq__1)
    )  AS [Project1]
    ORDER BY [Project1].[Record_Date] DESC
2018-04-11 13:19:29.4160|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: SELECT 
    [Project1].[Decimal_Precision] AS [Decimal_Precision], 
    [Project1].[Security_ID] AS [Security_ID], 
    [Project1].[Portfolio_Code] AS [Portfolio_Code], 
    [Project1].[Entity_ID] AS [Entity_ID], 
    [Project1].[ModDietz_Performance_Quarterly] AS [ModDietz_Performance_Quarterly], 
    [Project1].[ModDietz_Performance_Monthly] AS [ModDietz_Performance_Monthly], 
    [Project1].[ModDietz_Performance_MonthToDate] AS [ModDietz_Performance_MonthToDate], 
    [Project1].[Dietz_Performance_Quarterly] AS [Dietz_Performance_Quarterly], 
    [Project1].[Dietz_Performance_Monthly] AS [Dietz_Performance_Monthly], 
    [Project1].[Dietz_Performance_MonthToDate] AS [Dietz_Performance_MonthToDate], 
    [Project1].[Last_Update_Date] AS [Last_Update_Date], 
    [Project1].[Last_Update_User] AS [Last_Update_User], 
    [Project1].[Record_Date] AS [Record_Date], 
    [Project1].[Session_ID] AS [Session_ID], 
    [Project1].[Hist_Last_Update_Date] AS [Hist_Last_Update_Date], 
    [Project1].[Hist_Last_Update_User] AS [Hist_Last_Update_User], 
    [Project1].[Security_ID1] AS [Security_ID1], 
    [Project1].[Entity_ID1] AS [Entity_ID1], 
    [Project1].[Security_Name] AS [Security_Name], 
    [Project1].[Short_Name] AS [Short_Name], 
    [Project1].[Primary_Exch] AS [Primary_Exch], 
    [Project1].[Secondary_Exch] AS [Secondary_Exch], 
    [Project1].[Country_Of_Domicile] AS [Country_Of_Domicile], 
    [Project1].[Country_Of_Risk] AS [Country_Of_Risk], 
    [Project1].[Security_Type_Code] AS [Security_Type_Code], 
    [Project1].[Price_Multiplier] AS [Price_Multiplier], 
    [Project1].[Income_Frequency] AS [Income_Frequency], 
    [Project1].[Issuer_Code] AS [Issuer_Code], 
    [Project1].[Ultimate_Issuer_Code] AS [Ultimate_Issuer_Code], 
    [Project1].[Asset_Currency] AS [Asset_Currency], 
    [Project1].[Min_Lot_Size] AS [Min_Lot_Size], 
    [Project1].[AvePrice_Rounding] AS [AvePrice_Rounding], 
    [Project1].[Issue_Date] AS [Issue_Date], 
    [Project1].[Maturity_Date] AS [Maturity_Date], 
    [Project1].[Coupon_Rate] AS [Coupon_Rate], 
    [Project1].[Price_Exchange] AS [Price_Exchange], 
    [Project1].[Trade_Currency] AS [Trade_Currency], 
    [Project1].[Price_Curr] AS [Price_Curr], 
    [Project1].[Currency_Pair_Code] AS [Currency_Pair_Code], 
    [Project1].[Share_Class] AS [Share_Class], 
    [Project1].[Current_Market_Price] AS [Current_Market_Price], 
    [Project1].[Index_Type] AS [Index_Type], 
    [Project1].[Clean_Price_Formula] AS [Clean_Price_Formula], 
    [Project1].[Accrued_Income_Price_Formula] AS [Accrued_Income_Price_Formula], 
    [Project1].[Odd_First_Coupon_Date] AS [Odd_First_Coupon_Date], 
    [Project1].[Odd_Last_Coupon_Date] AS [Odd_Last_Coupon_Date], 
    [Project1].[Coupon_Anniversary_Indicator] AS [Coupon_Anniversary_Indicator], 
    [Project1].[Track_EOM_Flag] AS [Track_EOM_Flag], 
    [Project1].[Next_Coupon_Date] AS [Next_Coupon_Date], 
    [Project1].[Previous_Coupon_Date] AS [Previous_Coupon_Date], 
    [Project1].[Payment_Frequency] AS [Payment_Frequency], 
    [Project1].[Coupon_BusDay_Adjustment] AS [Coupon_BusDay_Adjustment], 
    [Project1].[Next_Ex_Div_Date] AS [Next_Ex_Div_Date], 
    [Project1].[Ex_Div_BusDay_Adjustment] AS [Ex_Div_BusDay_Adjustment], 
    [Project1].[Ex_Div_Period] AS [Ex_Div_Period], 
    [Project1].[Ticker] AS [Ticker], 
    [Project1].[Inet_ID] AS [Inet_ID], 
    [Project1].[Bloomberg_ID] AS [Bloomberg_ID], 
    [Project1].[External_Sec_ID] AS [External_Sec_ID], 
    [Project1].[Reuters_ID] AS [Reuters_ID], 
    [Project1].[ISIN] AS [ISIN], 
    [Project1].[Call_Account_Flag] AS [Call_Account_Flag], 
    [Project1].[System_Locked] AS [System_Locked], 
    [Project1].[Last_Update_User1] AS [Last_Update_User1], 
    [Project1].[Last_Update_Date1] AS [Last_Update_Date1], 
    [Project1].[Security_Status] AS [Security_Status], 
    [Project1].[Benchmark_Portfolio] AS [Benchmark_Portfolio], 
    [Project1].[Active_flag] AS [Active_flag], 
    [Project1].[Dividend_FX_Security_ID] AS [Dividend_FX_Security_ID]
    FROM ( SELECT 
        [Extent1].[Security_ID] AS [Security_ID], 
        [Extent1].[Portfolio_Code] AS [Portfolio_Code], 
        [Extent1].[Entity_ID] AS [Entity_ID], 
        [Extent1].[ModDietz_Performance_Quarterly] AS [ModDietz_Performance_Quarterly], 
        [Extent1].[ModDietz_Performance_Monthly] AS [ModDietz_Performance_Monthly], 
        [Extent1].[ModDietz_Performance_MonthToDate] AS [ModDietz_Performance_MonthToDate], 
        [Extent1].[Dietz_Performance_Quarterly] AS [Dietz_Performance_Quarterly], 
        [Extent1].[Dietz_Performance_Monthly] AS [Dietz_Performance_Monthly], 
        [Extent1].[Dietz_Performance_MonthToDate] AS [Dietz_Performance_MonthToDate], 
        [Extent1].[Last_Update_Date] AS [Last_Update_Date], 
        [Extent1].[Last_Update_User] AS [Last_Update_User], 
        [Extent1].[Record_Date] AS [Record_Date], 
        [Extent1].[Session_ID] AS [Session_ID], 
        [Extent1].[Hist_Last_Update_Date] AS [Hist_Last_Update_Date], 
        [Extent1].[Hist_Last_Update_User] AS [Hist_Last_Update_User], 
        [Extent2].[Security_ID] AS [Security_ID1], 
        [Extent2].[Entity_ID] AS [Entity_ID1], 
        [Extent2].[Security_Name] AS [Security_Name], 
        [Extent2].[Short_Name] AS [Short_Name], 
        [Extent2].[Primary_Exch] AS [Primary_Exch], 
        [Extent2].[Secondary_Exch] AS [Secondary_Exch], 
        [Extent2].[Country_Of_Domicile] AS [Country_Of_Domicile], 
        [Extent2].[Country_Of_Risk] AS [Country_Of_Risk], 
        [Extent2].[Security_Type_Code] AS [Security_Type_Code], 
        [Extent2].[Price_Multiplier] AS [Price_Multiplier], 
        [Extent2].[Income_Frequency] AS [Income_Frequency], 
        [Extent2].[Issuer_Code] AS [Issuer_Code], 
        [Extent2].[Ultimate_Issuer_Code] AS [Ultimate_Issuer_Code], 
        [Extent2].[Asset_Currency] AS [Asset_Currency], 
        [Extent2].[Min_Lot_Size] AS [Min_Lot_Size], 
        [Extent2].[Decimal_Precision] AS [Decimal_Precision], 
        [Extent2].[AvePrice_Rounding] AS [AvePrice_Rounding], 
        [Extent2].[Issue_Date] AS [Issue_Date], 
        [Extent2].[Maturity_Date] AS [Maturity_Date], 
        [Extent2].[Coupon_Rate] AS [Coupon_Rate], 
        [Extent2].[Price_Exchange] AS [Price_Exchange], 
        [Extent2].[Trade_Currency] AS [Trade_Currency], 
        [Extent2].[Price_Curr] AS [Price_Curr], 
        [Extent2].[Currency_Pair_Code] AS [Currency_Pair_Code], 
        [Extent2].[Share_Class] AS [Share_Class], 
        [Extent2].[Current_Market_Price] AS [Current_Market_Price], 
        [Extent2].[Index_Type] AS [Index_Type], 
        [Extent2].[Clean_Price_Formula] AS [Clean_Price_Formula], 
        [Extent2].[Accrued_Income_Price_Formula] AS [Accrued_Income_Price_Formula], 
        [Extent2].[Odd_First_Coupon_Date] AS [Odd_First_Coupon_Date], 
        [Extent2].[Odd_Last_Coupon_Date] AS [Odd_Last_Coupon_Date], 
        [Extent2].[Coupon_Anniversary_Indicator] AS [Coupon_Anniversary_Indicator], 
        [Extent2].[Track_EOM_Flag] AS [Track_EOM_Flag], 
        [Extent2].[Next_Coupon_Date] AS [Next_Coupon_Date], 
        [Extent2].[Previous_Coupon_Date] AS [Previous_Coupon_Date], 
        [Extent2].[Payment_Frequency] AS [Payment_Frequency], 
        [Extent2].[Coupon_BusDay_Adjustment] AS [Coupon_BusDay_Adjustment], 
        [Extent2].[Next_Ex_Div_Date] AS [Next_Ex_Div_Date], 
        [Extent2].[Ex_Div_BusDay_Adjustment] AS [Ex_Div_BusDay_Adjustment], 
        [Extent2].[Ex_Div_Period] AS [Ex_Div_Period], 
        [Extent2].[Ticker] AS [Ticker], 
        [Extent2].[Inet_ID] AS [Inet_ID], 
        [Extent2].[Bloomberg_ID] AS [Bloomberg_ID], 
        [Extent2].[External_Sec_ID] AS [External_Sec_ID], 
        [Extent2].[Reuters_ID] AS [Reuters_ID], 
        [Extent2].[ISIN] AS [ISIN], 
        [Extent2].[Call_Account_Flag] AS [Call_Account_Flag], 
        [Extent2].[System_Locked] AS [System_Locked], 
        [Extent2].[Last_Update_User] AS [Last_Update_User1], 
        [Extent2].[Last_Update_Date] AS [Last_Update_Date1], 
        [Extent2].[Security_Status] AS [Security_Status], 
        [Extent2].[Benchmark_Portfolio] AS [Benchmark_Portfolio], 
        [Extent2].[Active_flag] AS [Active_flag], 
        [Extent2].[Dividend_FX_Security_ID] AS [Dividend_FX_Security_ID]
        FROM  [dbo].[Security_Performance_History] AS [Extent1]
        INNER JOIN [dbo].[Security_Detail] AS [Extent2] ON [Extent1].[Security_ID] = [Extent2].[Security_ID]
        WHERE ([Extent1].[Security_ID] = @p__linq__0) AND ([Extent1].[Portfolio_Code] = @p__linq__1)
    )  AS [Project1]
    ORDER BY [Project1].[Record_Date] DESC
2018-04-11 13:19:29.4991|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: IF db_id(N'MetopeAzureDb') IS NOT NULL SELECT 1 ELSE SELECT Count(*) FROM sys.databases WHERE [name]=N'MetopeAzureDb'
2018-04-11 13:19:29.6087|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: IF db_id(N'MetopeAzureDb') IS NOT NULL SELECT 1 ELSE SELECT Count(*) FROM sys.databases WHERE [name]=N'MetopeAzureDb'
2018-04-11 13:19:29.7027|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: IF db_id(N'MetopeAzureDb') IS NOT NULL SELECT 1 ELSE SELECT Count(*) FROM sys.databases WHERE [name]=N'MetopeAzureDb'
2018-04-11 13:19:29.7283|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: IF db_id(N'MetopeAzureDb') IS NOT NULL SELECT 1 ELSE SELECT Count(*) FROM sys.databases WHERE [name]=N'MetopeAzureDb'
2018-04-11 13:19:36.7702|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: SELECT 
    [Project1].[Security_ID] AS [Security_ID], 
    [Project1].[Entity_ID] AS [Entity_ID], 
    [Project1].[Security_Name] AS [Security_Name], 
    [Project1].[Short_Name] AS [Short_Name], 
    [Project1].[Primary_Exch] AS [Primary_Exch], 
    [Project1].[Secondary_Exch] AS [Secondary_Exch], 
    [Project1].[Country_Of_Domicile] AS [Country_Of_Domicile], 
    [Project1].[Country_Of_Risk] AS [Country_Of_Risk], 
    [Project1].[Security_Type_Code] AS [Security_Type_Code], 
    [Project1].[Price_Multiplier] AS [Price_Multiplier], 
    [Project1].[Income_Frequency] AS [Income_Frequency], 
    [Project1].[Issuer_Code] AS [Issuer_Code], 
    [Project1].[Ultimate_Issuer_Code] AS [Ultimate_Issuer_Code], 
    [Project1].[Asset_Currency] AS [Asset_Currency], 
    [Project1].[Min_Lot_Size] AS [Min_Lot_Size], 
    [Project1].[Decimal_Precision] AS [Decimal_Precision], 
    [Project1].[AvePrice_Rounding] AS [AvePrice_Rounding], 
    [Project1].[Issue_Date] AS [Issue_Date], 
    [Project1].[Maturity_Date] AS [Maturity_Date], 
    [Project1].[Coupon_Rate] AS [Coupon_Rate], 
    [Project1].[Price_Exchange] AS [Price_Exchange], 
    [Project1].[Trade_Currency] AS [Trade_Currency], 
    [Project1].[Price_Curr] AS [Price_Curr], 
    [Project1].[Currency_Pair_Code] AS [Currency_Pair_Code], 
    [Project1].[Share_Class] AS [Share_Class], 
    [Project1].[Current_Market_Price] AS [Current_Market_Price], 
    [Project1].[Index_Type] AS [Index_Type], 
    [Project1].[Clean_Price_Formula] AS [Clean_Price_Formula], 
    [Project1].[Accrued_Income_Price_Formula] AS [Accrued_Income_Price_Formula], 
    [Project1].[Odd_First_Coupon_Date] AS [Odd_First_Coupon_Date], 
    [Project1].[Odd_Last_Coupon_Date] AS [Odd_Last_Coupon_Date], 
    [Project1].[Coupon_Anniversary_Indicator] AS [Coupon_Anniversary_Indicator], 
    [Project1].[Track_EOM_Flag] AS [Track_EOM_Flag], 
    [Project1].[Next_Coupon_Date] AS [Next_Coupon_Date], 
    [Project1].[Previous_Coupon_Date] AS [Previous_Coupon_Date], 
    [Project1].[Payment_Frequency] AS [Payment_Frequency], 
    [Project1].[Coupon_BusDay_Adjustment] AS [Coupon_BusDay_Adjustment], 
    [Project1].[Next_Ex_Div_Date] AS [Next_Ex_Div_Date], 
    [Project1].[Ex_Div_BusDay_Adjustment] AS [Ex_Div_BusDay_Adjustment], 
    [Project1].[Ex_Div_Period] AS [Ex_Div_Period], 
    [Project1].[Ticker] AS [Ticker], 
    [Project1].[Inet_ID] AS [Inet_ID], 
    [Project1].[Bloomberg_ID] AS [Bloomberg_ID], 
    [Project1].[External_Sec_ID] AS [External_Sec_ID], 
    [Project1].[Reuters_ID] AS [Reuters_ID], 
    [Project1].[ISIN] AS [ISIN], 
    [Project1].[Call_Account_Flag] AS [Call_Account_Flag], 
    [Project1].[System_Locked] AS [System_Locked], 
    [Project1].[Last_Update_User] AS [Last_Update_User], 
    [Project1].[Last_Update_Date] AS [Last_Update_Date], 
    [Project1].[Security_Status] AS [Security_Status], 
    [Project1].[Benchmark_Portfolio] AS [Benchmark_Portfolio], 
    [Project1].[Active_flag] AS [Active_flag], 
    [Project1].[Dividend_FX_Security_ID] AS [Dividend_FX_Security_ID]
    FROM ( SELECT 
        [Extent1].[Security_ID] AS [Security_ID], 
        [Extent1].[Entity_ID] AS [Entity_ID], 
        [Extent1].[Security_Name] AS [Security_Name], 
        [Extent1].[Short_Name] AS [Short_Name], 
        [Extent1].[Primary_Exch] AS [Primary_Exch], 
        [Extent1].[Secondary_Exch] AS [Secondary_Exch], 
        [Extent1].[Country_Of_Domicile] AS [Country_Of_Domicile], 
        [Extent1].[Country_Of_Risk] AS [Country_Of_Risk], 
        [Extent1].[Security_Type_Code] AS [Security_Type_Code], 
        [Extent1].[Price_Multiplier] AS [Price_Multiplier], 
        [Extent1].[Income_Frequency] AS [Income_Frequency], 
        [Extent1].[Issuer_Code] AS [Issuer_Code], 
        [Extent1].[Ultimate_Issuer_Code] AS [Ultimate_Issuer_Code], 
        [Extent1].[Asset_Currency] AS [Asset_Currency], 
        [Extent1].[Min_Lot_Size] AS [Min_Lot_Size], 
        [Extent1].[Decimal_Precision] AS [Decimal_Precision], 
        [Extent1].[AvePrice_Rounding] AS [AvePrice_Rounding], 
        [Extent1].[Issue_Date] AS [Issue_Date], 
        [Extent1].[Maturity_Date] AS [Maturity_Date], 
        [Extent1].[Coupon_Rate] AS [Coupon_Rate], 
        [Extent1].[Price_Exchange] AS [Price_Exchange], 
        [Extent1].[Trade_Currency] AS [Trade_Currency], 
        [Extent1].[Price_Curr] AS [Price_Curr], 
        [Extent1].[Currency_Pair_Code] AS [Currency_Pair_Code], 
        [Extent1].[Share_Class] AS [Share_Class], 
        [Extent1].[Current_Market_Price] AS [Current_Market_Price], 
        [Extent1].[Index_Type] AS [Index_Type], 
        [Extent1].[Clean_Price_Formula] AS [Clean_Price_Formula], 
        [Extent1].[Accrued_Income_Price_Formula] AS [Accrued_Income_Price_Formula], 
        [Extent1].[Odd_First_Coupon_Date] AS [Odd_First_Coupon_Date], 
        [Extent1].[Odd_Last_Coupon_Date] AS [Odd_Last_Coupon_Date], 
        [Extent1].[Coupon_Anniversary_Indicator] AS [Coupon_Anniversary_Indicator], 
        [Extent1].[Track_EOM_Flag] AS [Track_EOM_Flag], 
        [Extent1].[Next_Coupon_Date] AS [Next_Coupon_Date], 
        [Extent1].[Previous_Coupon_Date] AS [Previous_Coupon_Date], 
        [Extent1].[Payment_Frequency] AS [Payment_Frequency], 
        [Extent1].[Coupon_BusDay_Adjustment] AS [Coupon_BusDay_Adjustment], 
        [Extent1].[Next_Ex_Div_Date] AS [Next_Ex_Div_Date], 
        [Extent1].[Ex_Div_BusDay_Adjustment] AS [Ex_Div_BusDay_Adjustment], 
        [Extent1].[Ex_Div_Period] AS [Ex_Div_Period], 
        [Extent1].[Ticker] AS [Ticker], 
        [Extent1].[Inet_ID] AS [Inet_ID], 
        [Extent1].[Bloomberg_ID] AS [Bloomberg_ID], 
        [Extent1].[External_Sec_ID] AS [External_Sec_ID], 
        [Extent1].[Reuters_ID] AS [Reuters_ID], 
        [Extent1].[ISIN] AS [ISIN], 
        [Extent1].[Call_Account_Flag] AS [Call_Account_Flag], 
        [Extent1].[System_Locked] AS [System_Locked], 
        [Extent1].[Last_Update_User] AS [Last_Update_User], 
        [Extent1].[Last_Update_Date] AS [Last_Update_Date], 
        [Extent1].[Security_Status] AS [Security_Status], 
        [Extent1].[Benchmark_Portfolio] AS [Benchmark_Portfolio], 
        [Extent1].[Active_flag] AS [Active_flag], 
        [Extent1].[Dividend_FX_Security_ID] AS [Dividend_FX_Security_ID]
        FROM [dbo].[Security_Detail] AS [Extent1]
        WHERE ([Extent1].[Entity_ID] IN (@p__linq__0,@p__linq__1)) AND ((CASE WHEN ( NOT ((N'' = @p__linq__2) AND (@p__linq__2 IS NOT NULL))) THEN CASE WHEN ([Extent1].[Security_Type_Code] = @p__linq__3) THEN cast(1 as bit) WHEN ( NOT (([Extent1].[Security_Type_Code] = @p__linq__3) AND (0 = (CASE WHEN (@p__linq__3 IS NULL) THEN cast(1 as bit) ELSE cast(0 as bit) END)))) THEN cast(0 as bit) END WHEN ('' <> [Extent1].[Security_Type_Code]) THEN cast(1 as bit) WHEN ('' = [Extent1].[Security_Type_Code]) THEN cast(0 as bit) END) = 1)
    )  AS [Project1]
    ORDER BY [Project1].[Security_Name] ASC
2018-04-11 13:19:36.8062|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: SELECT 
    [Project1].[Security_ID] AS [Security_ID], 
    [Project1].[Entity_ID] AS [Entity_ID], 
    [Project1].[Security_Name] AS [Security_Name], 
    [Project1].[Short_Name] AS [Short_Name], 
    [Project1].[Primary_Exch] AS [Primary_Exch], 
    [Project1].[Secondary_Exch] AS [Secondary_Exch], 
    [Project1].[Country_Of_Domicile] AS [Country_Of_Domicile], 
    [Project1].[Country_Of_Risk] AS [Country_Of_Risk], 
    [Project1].[Security_Type_Code] AS [Security_Type_Code], 
    [Project1].[Price_Multiplier] AS [Price_Multiplier], 
    [Project1].[Income_Frequency] AS [Income_Frequency], 
    [Project1].[Issuer_Code] AS [Issuer_Code], 
    [Project1].[Ultimate_Issuer_Code] AS [Ultimate_Issuer_Code], 
    [Project1].[Asset_Currency] AS [Asset_Currency], 
    [Project1].[Min_Lot_Size] AS [Min_Lot_Size], 
    [Project1].[Decimal_Precision] AS [Decimal_Precision], 
    [Project1].[AvePrice_Rounding] AS [AvePrice_Rounding], 
    [Project1].[Issue_Date] AS [Issue_Date], 
    [Project1].[Maturity_Date] AS [Maturity_Date], 
    [Project1].[Coupon_Rate] AS [Coupon_Rate], 
    [Project1].[Price_Exchange] AS [Price_Exchange], 
    [Project1].[Trade_Currency] AS [Trade_Currency], 
    [Project1].[Price_Curr] AS [Price_Curr], 
    [Project1].[Currency_Pair_Code] AS [Currency_Pair_Code], 
    [Project1].[Share_Class] AS [Share_Class], 
    [Project1].[Current_Market_Price] AS [Current_Market_Price], 
    [Project1].[Index_Type] AS [Index_Type], 
    [Project1].[Clean_Price_Formula] AS [Clean_Price_Formula], 
    [Project1].[Accrued_Income_Price_Formula] AS [Accrued_Income_Price_Formula], 
    [Project1].[Odd_First_Coupon_Date] AS [Odd_First_Coupon_Date], 
    [Project1].[Odd_Last_Coupon_Date] AS [Odd_Last_Coupon_Date], 
    [Project1].[Coupon_Anniversary_Indicator] AS [Coupon_Anniversary_Indicator], 
    [Project1].[Track_EOM_Flag] AS [Track_EOM_Flag], 
    [Project1].[Next_Coupon_Date] AS [Next_Coupon_Date], 
    [Project1].[Previous_Coupon_Date] AS [Previous_Coupon_Date], 
    [Project1].[Payment_Frequency] AS [Payment_Frequency], 
    [Project1].[Coupon_BusDay_Adjustment] AS [Coupon_BusDay_Adjustment], 
    [Project1].[Next_Ex_Div_Date] AS [Next_Ex_Div_Date], 
    [Project1].[Ex_Div_BusDay_Adjustment] AS [Ex_Div_BusDay_Adjustment], 
    [Project1].[Ex_Div_Period] AS [Ex_Div_Period], 
    [Project1].[Ticker] AS [Ticker], 
    [Project1].[Inet_ID] AS [Inet_ID], 
    [Project1].[Bloomberg_ID] AS [Bloomberg_ID], 
    [Project1].[External_Sec_ID] AS [External_Sec_ID], 
    [Project1].[Reuters_ID] AS [Reuters_ID], 
    [Project1].[ISIN] AS [ISIN], 
    [Project1].[Call_Account_Flag] AS [Call_Account_Flag], 
    [Project1].[System_Locked] AS [System_Locked], 
    [Project1].[Last_Update_User] AS [Last_Update_User], 
    [Project1].[Last_Update_Date] AS [Last_Update_Date], 
    [Project1].[Security_Status] AS [Security_Status], 
    [Project1].[Benchmark_Portfolio] AS [Benchmark_Portfolio], 
    [Project1].[Active_flag] AS [Active_flag], 
    [Project1].[Dividend_FX_Security_ID] AS [Dividend_FX_Security_ID]
    FROM ( SELECT 
        [Extent1].[Security_ID] AS [Security_ID], 
        [Extent1].[Entity_ID] AS [Entity_ID], 
        [Extent1].[Security_Name] AS [Security_Name], 
        [Extent1].[Short_Name] AS [Short_Name], 
        [Extent1].[Primary_Exch] AS [Primary_Exch], 
        [Extent1].[Secondary_Exch] AS [Secondary_Exch], 
        [Extent1].[Country_Of_Domicile] AS [Country_Of_Domicile], 
        [Extent1].[Country_Of_Risk] AS [Country_Of_Risk], 
        [Extent1].[Security_Type_Code] AS [Security_Type_Code], 
        [Extent1].[Price_Multiplier] AS [Price_Multiplier], 
        [Extent1].[Income_Frequency] AS [Income_Frequency], 
        [Extent1].[Issuer_Code] AS [Issuer_Code], 
        [Extent1].[Ultimate_Issuer_Code] AS [Ultimate_Issuer_Code], 
        [Extent1].[Asset_Currency] AS [Asset_Currency], 
        [Extent1].[Min_Lot_Size] AS [Min_Lot_Size], 
        [Extent1].[Decimal_Precision] AS [Decimal_Precision], 
        [Extent1].[AvePrice_Rounding] AS [AvePrice_Rounding], 
        [Extent1].[Issue_Date] AS [Issue_Date], 
        [Extent1].[Maturity_Date] AS [Maturity_Date], 
        [Extent1].[Coupon_Rate] AS [Coupon_Rate], 
        [Extent1].[Price_Exchange] AS [Price_Exchange], 
        [Extent1].[Trade_Currency] AS [Trade_Currency], 
        [Extent1].[Price_Curr] AS [Price_Curr], 
        [Extent1].[Currency_Pair_Code] AS [Currency_Pair_Code], 
        [Extent1].[Share_Class] AS [Share_Class], 
        [Extent1].[Current_Market_Price] AS [Current_Market_Price], 
        [Extent1].[Index_Type] AS [Index_Type], 
        [Extent1].[Clean_Price_Formula] AS [Clean_Price_Formula], 
        [Extent1].[Accrued_Income_Price_Formula] AS [Accrued_Income_Price_Formula], 
        [Extent1].[Odd_First_Coupon_Date] AS [Odd_First_Coupon_Date], 
        [Extent1].[Odd_Last_Coupon_Date] AS [Odd_Last_Coupon_Date], 
        [Extent1].[Coupon_Anniversary_Indicator] AS [Coupon_Anniversary_Indicator], 
        [Extent1].[Track_EOM_Flag] AS [Track_EOM_Flag], 
        [Extent1].[Next_Coupon_Date] AS [Next_Coupon_Date], 
        [Extent1].[Previous_Coupon_Date] AS [Previous_Coupon_Date], 
        [Extent1].[Payment_Frequency] AS [Payment_Frequency], 
        [Extent1].[Coupon_BusDay_Adjustment] AS [Coupon_BusDay_Adjustment], 
        [Extent1].[Next_Ex_Div_Date] AS [Next_Ex_Div_Date], 
        [Extent1].[Ex_Div_BusDay_Adjustment] AS [Ex_Div_BusDay_Adjustment], 
        [Extent1].[Ex_Div_Period] AS [Ex_Div_Period], 
        [Extent1].[Ticker] AS [Ticker], 
        [Extent1].[Inet_ID] AS [Inet_ID], 
        [Extent1].[Bloomberg_ID] AS [Bloomberg_ID], 
        [Extent1].[External_Sec_ID] AS [External_Sec_ID], 
        [Extent1].[Reuters_ID] AS [Reuters_ID], 
        [Extent1].[ISIN] AS [ISIN], 
        [Extent1].[Call_Account_Flag] AS [Call_Account_Flag], 
        [Extent1].[System_Locked] AS [System_Locked], 
        [Extent1].[Last_Update_User] AS [Last_Update_User], 
        [Extent1].[Last_Update_Date] AS [Last_Update_Date], 
        [Extent1].[Security_Status] AS [Security_Status], 
        [Extent1].[Benchmark_Portfolio] AS [Benchmark_Portfolio], 
        [Extent1].[Active_flag] AS [Active_flag], 
        [Extent1].[Dividend_FX_Security_ID] AS [Dividend_FX_Security_ID]
        FROM [dbo].[Security_Detail] AS [Extent1]
        WHERE ([Extent1].[Entity_ID] IN (@p__linq__0,@p__linq__1)) AND ((CASE WHEN ( NOT ((N'' = @p__linq__2) AND (@p__linq__2 IS NOT NULL))) THEN CASE WHEN ([Extent1].[Security_Type_Code] = @p__linq__3) THEN cast(1 as bit) WHEN ( NOT (([Extent1].[Security_Type_Code] = @p__linq__3) AND (0 = (CASE WHEN (@p__linq__3 IS NULL) THEN cast(1 as bit) ELSE cast(0 as bit) END)))) THEN cast(0 as bit) END WHEN ('' <> [Extent1].[Security_Type_Code]) THEN cast(1 as bit) WHEN ('' = [Extent1].[Security_Type_Code]) THEN cast(0 as bit) END) = 1)
    )  AS [Project1]
    ORDER BY [Project1].[Security_Name] ASC
2018-04-11 13:19:36.8883|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: IF db_id(N'MetopeAzureDb') IS NOT NULL SELECT 1 ELSE SELECT Count(*) FROM sys.databases WHERE [name]=N'MetopeAzureDb'
2018-04-11 13:19:36.9123|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: IF db_id(N'MetopeAzureDb') IS NOT NULL SELECT 1 ELSE SELECT Count(*) FROM sys.databases WHERE [name]=N'MetopeAzureDb'
2018-04-11 13:19:36.9353|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: IF db_id(N'MetopeAzureDb') IS NOT NULL SELECT 1 ELSE SELECT Count(*) FROM sys.databases WHERE [name]=N'MetopeAzureDb'
2018-04-11 13:19:36.9683|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: IF db_id(N'MetopeAzureDb') IS NOT NULL SELECT 1 ELSE SELECT Count(*) FROM sys.databases WHERE [name]=N'MetopeAzureDb'
2018-04-11 13:19:38.9959|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: SELECT 
    [Project1].[Decimal_Precision] AS [Decimal_Precision], 
    [Project1].[Security_ID] AS [Security_ID], 
    [Project1].[Portfolio_Code] AS [Portfolio_Code], 
    [Project1].[Entity_ID] AS [Entity_ID], 
    [Project1].[ModDietz_Performance_Quarterly] AS [ModDietz_Performance_Quarterly], 
    [Project1].[ModDietz_Performance_Monthly] AS [ModDietz_Performance_Monthly], 
    [Project1].[ModDietz_Performance_MonthToDate] AS [ModDietz_Performance_MonthToDate], 
    [Project1].[Dietz_Performance_Quarterly] AS [Dietz_Performance_Quarterly], 
    [Project1].[Dietz_Performance_Monthly] AS [Dietz_Performance_Monthly], 
    [Project1].[Dietz_Performance_MonthToDate] AS [Dietz_Performance_MonthToDate], 
    [Project1].[Last_Update_Date] AS [Last_Update_Date], 
    [Project1].[Last_Update_User] AS [Last_Update_User], 
    [Project1].[Record_Date] AS [Record_Date], 
    [Project1].[Session_ID] AS [Session_ID], 
    [Project1].[Hist_Last_Update_Date] AS [Hist_Last_Update_Date], 
    [Project1].[Hist_Last_Update_User] AS [Hist_Last_Update_User], 
    [Project1].[Security_ID1] AS [Security_ID1], 
    [Project1].[Entity_ID1] AS [Entity_ID1], 
    [Project1].[Security_Name] AS [Security_Name], 
    [Project1].[Short_Name] AS [Short_Name], 
    [Project1].[Primary_Exch] AS [Primary_Exch], 
    [Project1].[Secondary_Exch] AS [Secondary_Exch], 
    [Project1].[Country_Of_Domicile] AS [Country_Of_Domicile], 
    [Project1].[Country_Of_Risk] AS [Country_Of_Risk], 
    [Project1].[Security_Type_Code] AS [Security_Type_Code], 
    [Project1].[Price_Multiplier] AS [Price_Multiplier], 
    [Project1].[Income_Frequency] AS [Income_Frequency], 
    [Project1].[Issuer_Code] AS [Issuer_Code], 
    [Project1].[Ultimate_Issuer_Code] AS [Ultimate_Issuer_Code], 
    [Project1].[Asset_Currency] AS [Asset_Currency], 
    [Project1].[Min_Lot_Size] AS [Min_Lot_Size], 
    [Project1].[AvePrice_Rounding] AS [AvePrice_Rounding], 
    [Project1].[Issue_Date] AS [Issue_Date], 
    [Project1].[Maturity_Date] AS [Maturity_Date], 
    [Project1].[Coupon_Rate] AS [Coupon_Rate], 
    [Project1].[Price_Exchange] AS [Price_Exchange], 
    [Project1].[Trade_Currency] AS [Trade_Currency], 
    [Project1].[Price_Curr] AS [Price_Curr], 
    [Project1].[Currency_Pair_Code] AS [Currency_Pair_Code], 
    [Project1].[Share_Class] AS [Share_Class], 
    [Project1].[Current_Market_Price] AS [Current_Market_Price], 
    [Project1].[Index_Type] AS [Index_Type], 
    [Project1].[Clean_Price_Formula] AS [Clean_Price_Formula], 
    [Project1].[Accrued_Income_Price_Formula] AS [Accrued_Income_Price_Formula], 
    [Project1].[Odd_First_Coupon_Date] AS [Odd_First_Coupon_Date], 
    [Project1].[Odd_Last_Coupon_Date] AS [Odd_Last_Coupon_Date], 
    [Project1].[Coupon_Anniversary_Indicator] AS [Coupon_Anniversary_Indicator], 
    [Project1].[Track_EOM_Flag] AS [Track_EOM_Flag], 
    [Project1].[Next_Coupon_Date] AS [Next_Coupon_Date], 
    [Project1].[Previous_Coupon_Date] AS [Previous_Coupon_Date], 
    [Project1].[Payment_Frequency] AS [Payment_Frequency], 
    [Project1].[Coupon_BusDay_Adjustment] AS [Coupon_BusDay_Adjustment], 
    [Project1].[Next_Ex_Div_Date] AS [Next_Ex_Div_Date], 
    [Project1].[Ex_Div_BusDay_Adjustment] AS [Ex_Div_BusDay_Adjustment], 
    [Project1].[Ex_Div_Period] AS [Ex_Div_Period], 
    [Project1].[Ticker] AS [Ticker], 
    [Project1].[Inet_ID] AS [Inet_ID], 
    [Project1].[Bloomberg_ID] AS [Bloomberg_ID], 
    [Project1].[External_Sec_ID] AS [External_Sec_ID], 
    [Project1].[Reuters_ID] AS [Reuters_ID], 
    [Project1].[ISIN] AS [ISIN], 
    [Project1].[Call_Account_Flag] AS [Call_Account_Flag], 
    [Project1].[System_Locked] AS [System_Locked], 
    [Project1].[Last_Update_User1] AS [Last_Update_User1], 
    [Project1].[Last_Update_Date1] AS [Last_Update_Date1], 
    [Project1].[Security_Status] AS [Security_Status], 
    [Project1].[Benchmark_Portfolio] AS [Benchmark_Portfolio], 
    [Project1].[Active_flag] AS [Active_flag], 
    [Project1].[Dividend_FX_Security_ID] AS [Dividend_FX_Security_ID]
    FROM ( SELECT 
        [Extent1].[Security_ID] AS [Security_ID], 
        [Extent1].[Portfolio_Code] AS [Portfolio_Code], 
        [Extent1].[Entity_ID] AS [Entity_ID], 
        [Extent1].[ModDietz_Performance_Quarterly] AS [ModDietz_Performance_Quarterly], 
        [Extent1].[ModDietz_Performance_Monthly] AS [ModDietz_Performance_Monthly], 
        [Extent1].[ModDietz_Performance_MonthToDate] AS [ModDietz_Performance_MonthToDate], 
        [Extent1].[Dietz_Performance_Quarterly] AS [Dietz_Performance_Quarterly], 
        [Extent1].[Dietz_Performance_Monthly] AS [Dietz_Performance_Monthly], 
        [Extent1].[Dietz_Performance_MonthToDate] AS [Dietz_Performance_MonthToDate], 
        [Extent1].[Last_Update_Date] AS [Last_Update_Date], 
        [Extent1].[Last_Update_User] AS [Last_Update_User], 
        [Extent1].[Record_Date] AS [Record_Date], 
        [Extent1].[Session_ID] AS [Session_ID], 
        [Extent1].[Hist_Last_Update_Date] AS [Hist_Last_Update_Date], 
        [Extent1].[Hist_Last_Update_User] AS [Hist_Last_Update_User], 
        [Extent2].[Security_ID] AS [Security_ID1], 
        [Extent2].[Entity_ID] AS [Entity_ID1], 
        [Extent2].[Security_Name] AS [Security_Name], 
        [Extent2].[Short_Name] AS [Short_Name], 
        [Extent2].[Primary_Exch] AS [Primary_Exch], 
        [Extent2].[Secondary_Exch] AS [Secondary_Exch], 
        [Extent2].[Country_Of_Domicile] AS [Country_Of_Domicile], 
        [Extent2].[Country_Of_Risk] AS [Country_Of_Risk], 
        [Extent2].[Security_Type_Code] AS [Security_Type_Code], 
        [Extent2].[Price_Multiplier] AS [Price_Multiplier], 
        [Extent2].[Income_Frequency] AS [Income_Frequency], 
        [Extent2].[Issuer_Code] AS [Issuer_Code], 
        [Extent2].[Ultimate_Issuer_Code] AS [Ultimate_Issuer_Code], 
        [Extent2].[Asset_Currency] AS [Asset_Currency], 
        [Extent2].[Min_Lot_Size] AS [Min_Lot_Size], 
        [Extent2].[Decimal_Precision] AS [Decimal_Precision], 
        [Extent2].[AvePrice_Rounding] AS [AvePrice_Rounding], 
        [Extent2].[Issue_Date] AS [Issue_Date], 
        [Extent2].[Maturity_Date] AS [Maturity_Date], 
        [Extent2].[Coupon_Rate] AS [Coupon_Rate], 
        [Extent2].[Price_Exchange] AS [Price_Exchange], 
        [Extent2].[Trade_Currency] AS [Trade_Currency], 
        [Extent2].[Price_Curr] AS [Price_Curr], 
        [Extent2].[Currency_Pair_Code] AS [Currency_Pair_Code], 
        [Extent2].[Share_Class] AS [Share_Class], 
        [Extent2].[Current_Market_Price] AS [Current_Market_Price], 
        [Extent2].[Index_Type] AS [Index_Type], 
        [Extent2].[Clean_Price_Formula] AS [Clean_Price_Formula], 
        [Extent2].[Accrued_Income_Price_Formula] AS [Accrued_Income_Price_Formula], 
        [Extent2].[Odd_First_Coupon_Date] AS [Odd_First_Coupon_Date], 
        [Extent2].[Odd_Last_Coupon_Date] AS [Odd_Last_Coupon_Date], 
        [Extent2].[Coupon_Anniversary_Indicator] AS [Coupon_Anniversary_Indicator], 
        [Extent2].[Track_EOM_Flag] AS [Track_EOM_Flag], 
        [Extent2].[Next_Coupon_Date] AS [Next_Coupon_Date], 
        [Extent2].[Previous_Coupon_Date] AS [Previous_Coupon_Date], 
        [Extent2].[Payment_Frequency] AS [Payment_Frequency], 
        [Extent2].[Coupon_BusDay_Adjustment] AS [Coupon_BusDay_Adjustment], 
        [Extent2].[Next_Ex_Div_Date] AS [Next_Ex_Div_Date], 
        [Extent2].[Ex_Div_BusDay_Adjustment] AS [Ex_Div_BusDay_Adjustment], 
        [Extent2].[Ex_Div_Period] AS [Ex_Div_Period], 
        [Extent2].[Ticker] AS [Ticker], 
        [Extent2].[Inet_ID] AS [Inet_ID], 
        [Extent2].[Bloomberg_ID] AS [Bloomberg_ID], 
        [Extent2].[External_Sec_ID] AS [External_Sec_ID], 
        [Extent2].[Reuters_ID] AS [Reuters_ID], 
        [Extent2].[ISIN] AS [ISIN], 
        [Extent2].[Call_Account_Flag] AS [Call_Account_Flag], 
        [Extent2].[System_Locked] AS [System_Locked], 
        [Extent2].[Last_Update_User] AS [Last_Update_User1], 
        [Extent2].[Last_Update_Date] AS [Last_Update_Date1], 
        [Extent2].[Security_Status] AS [Security_Status], 
        [Extent2].[Benchmark_Portfolio] AS [Benchmark_Portfolio], 
        [Extent2].[Active_flag] AS [Active_flag], 
        [Extent2].[Dividend_FX_Security_ID] AS [Dividend_FX_Security_ID]
        FROM  [dbo].[Security_Performance_History] AS [Extent1]
        INNER JOIN [dbo].[Security_Detail] AS [Extent2] ON [Extent1].[Security_ID] = [Extent2].[Security_ID]
        WHERE ([Extent1].[Security_ID] = @p__linq__0) AND ([Extent1].[Portfolio_Code] = @p__linq__1)
    )  AS [Project1]
    ORDER BY [Project1].[Record_Date] DESC
2018-04-11 13:19:39.0294|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: SELECT 
    [Project1].[Decimal_Precision] AS [Decimal_Precision], 
    [Project1].[Security_ID] AS [Security_ID], 
    [Project1].[Portfolio_Code] AS [Portfolio_Code], 
    [Project1].[Entity_ID] AS [Entity_ID], 
    [Project1].[ModDietz_Performance_Quarterly] AS [ModDietz_Performance_Quarterly], 
    [Project1].[ModDietz_Performance_Monthly] AS [ModDietz_Performance_Monthly], 
    [Project1].[ModDietz_Performance_MonthToDate] AS [ModDietz_Performance_MonthToDate], 
    [Project1].[Dietz_Performance_Quarterly] AS [Dietz_Performance_Quarterly], 
    [Project1].[Dietz_Performance_Monthly] AS [Dietz_Performance_Monthly], 
    [Project1].[Dietz_Performance_MonthToDate] AS [Dietz_Performance_MonthToDate], 
    [Project1].[Last_Update_Date] AS [Last_Update_Date], 
    [Project1].[Last_Update_User] AS [Last_Update_User], 
    [Project1].[Record_Date] AS [Record_Date], 
    [Project1].[Session_ID] AS [Session_ID], 
    [Project1].[Hist_Last_Update_Date] AS [Hist_Last_Update_Date], 
    [Project1].[Hist_Last_Update_User] AS [Hist_Last_Update_User], 
    [Project1].[Security_ID1] AS [Security_ID1], 
    [Project1].[Entity_ID1] AS [Entity_ID1], 
    [Project1].[Security_Name] AS [Security_Name], 
    [Project1].[Short_Name] AS [Short_Name], 
    [Project1].[Primary_Exch] AS [Primary_Exch], 
    [Project1].[Secondary_Exch] AS [Secondary_Exch], 
    [Project1].[Country_Of_Domicile] AS [Country_Of_Domicile], 
    [Project1].[Country_Of_Risk] AS [Country_Of_Risk], 
    [Project1].[Security_Type_Code] AS [Security_Type_Code], 
    [Project1].[Price_Multiplier] AS [Price_Multiplier], 
    [Project1].[Income_Frequency] AS [Income_Frequency], 
    [Project1].[Issuer_Code] AS [Issuer_Code], 
    [Project1].[Ultimate_Issuer_Code] AS [Ultimate_Issuer_Code], 
    [Project1].[Asset_Currency] AS [Asset_Currency], 
    [Project1].[Min_Lot_Size] AS [Min_Lot_Size], 
    [Project1].[AvePrice_Rounding] AS [AvePrice_Rounding], 
    [Project1].[Issue_Date] AS [Issue_Date], 
    [Project1].[Maturity_Date] AS [Maturity_Date], 
    [Project1].[Coupon_Rate] AS [Coupon_Rate], 
    [Project1].[Price_Exchange] AS [Price_Exchange], 
    [Project1].[Trade_Currency] AS [Trade_Currency], 
    [Project1].[Price_Curr] AS [Price_Curr], 
    [Project1].[Currency_Pair_Code] AS [Currency_Pair_Code], 
    [Project1].[Share_Class] AS [Share_Class], 
    [Project1].[Current_Market_Price] AS [Current_Market_Price], 
    [Project1].[Index_Type] AS [Index_Type], 
    [Project1].[Clean_Price_Formula] AS [Clean_Price_Formula], 
    [Project1].[Accrued_Income_Price_Formula] AS [Accrued_Income_Price_Formula], 
    [Project1].[Odd_First_Coupon_Date] AS [Odd_First_Coupon_Date], 
    [Project1].[Odd_Last_Coupon_Date] AS [Odd_Last_Coupon_Date], 
    [Project1].[Coupon_Anniversary_Indicator] AS [Coupon_Anniversary_Indicator], 
    [Project1].[Track_EOM_Flag] AS [Track_EOM_Flag], 
    [Project1].[Next_Coupon_Date] AS [Next_Coupon_Date], 
    [Project1].[Previous_Coupon_Date] AS [Previous_Coupon_Date], 
    [Project1].[Payment_Frequency] AS [Payment_Frequency], 
    [Project1].[Coupon_BusDay_Adjustment] AS [Coupon_BusDay_Adjustment], 
    [Project1].[Next_Ex_Div_Date] AS [Next_Ex_Div_Date], 
    [Project1].[Ex_Div_BusDay_Adjustment] AS [Ex_Div_BusDay_Adjustment], 
    [Project1].[Ex_Div_Period] AS [Ex_Div_Period], 
    [Project1].[Ticker] AS [Ticker], 
    [Project1].[Inet_ID] AS [Inet_ID], 
    [Project1].[Bloomberg_ID] AS [Bloomberg_ID], 
    [Project1].[External_Sec_ID] AS [External_Sec_ID], 
    [Project1].[Reuters_ID] AS [Reuters_ID], 
    [Project1].[ISIN] AS [ISIN], 
    [Project1].[Call_Account_Flag] AS [Call_Account_Flag], 
    [Project1].[System_Locked] AS [System_Locked], 
    [Project1].[Last_Update_User1] AS [Last_Update_User1], 
    [Project1].[Last_Update_Date1] AS [Last_Update_Date1], 
    [Project1].[Security_Status] AS [Security_Status], 
    [Project1].[Benchmark_Portfolio] AS [Benchmark_Portfolio], 
    [Project1].[Active_flag] AS [Active_flag], 
    [Project1].[Dividend_FX_Security_ID] AS [Dividend_FX_Security_ID]
    FROM ( SELECT 
        [Extent1].[Security_ID] AS [Security_ID], 
        [Extent1].[Portfolio_Code] AS [Portfolio_Code], 
        [Extent1].[Entity_ID] AS [Entity_ID], 
        [Extent1].[ModDietz_Performance_Quarterly] AS [ModDietz_Performance_Quarterly], 
        [Extent1].[ModDietz_Performance_Monthly] AS [ModDietz_Performance_Monthly], 
        [Extent1].[ModDietz_Performance_MonthToDate] AS [ModDietz_Performance_MonthToDate], 
        [Extent1].[Dietz_Performance_Quarterly] AS [Dietz_Performance_Quarterly], 
        [Extent1].[Dietz_Performance_Monthly] AS [Dietz_Performance_Monthly], 
        [Extent1].[Dietz_Performance_MonthToDate] AS [Dietz_Performance_MonthToDate], 
        [Extent1].[Last_Update_Date] AS [Last_Update_Date], 
        [Extent1].[Last_Update_User] AS [Last_Update_User], 
        [Extent1].[Record_Date] AS [Record_Date], 
        [Extent1].[Session_ID] AS [Session_ID], 
        [Extent1].[Hist_Last_Update_Date] AS [Hist_Last_Update_Date], 
        [Extent1].[Hist_Last_Update_User] AS [Hist_Last_Update_User], 
        [Extent2].[Security_ID] AS [Security_ID1], 
        [Extent2].[Entity_ID] AS [Entity_ID1], 
        [Extent2].[Security_Name] AS [Security_Name], 
        [Extent2].[Short_Name] AS [Short_Name], 
        [Extent2].[Primary_Exch] AS [Primary_Exch], 
        [Extent2].[Secondary_Exch] AS [Secondary_Exch], 
        [Extent2].[Country_Of_Domicile] AS [Country_Of_Domicile], 
        [Extent2].[Country_Of_Risk] AS [Country_Of_Risk], 
        [Extent2].[Security_Type_Code] AS [Security_Type_Code], 
        [Extent2].[Price_Multiplier] AS [Price_Multiplier], 
        [Extent2].[Income_Frequency] AS [Income_Frequency], 
        [Extent2].[Issuer_Code] AS [Issuer_Code], 
        [Extent2].[Ultimate_Issuer_Code] AS [Ultimate_Issuer_Code], 
        [Extent2].[Asset_Currency] AS [Asset_Currency], 
        [Extent2].[Min_Lot_Size] AS [Min_Lot_Size], 
        [Extent2].[Decimal_Precision] AS [Decimal_Precision], 
        [Extent2].[AvePrice_Rounding] AS [AvePrice_Rounding], 
        [Extent2].[Issue_Date] AS [Issue_Date], 
        [Extent2].[Maturity_Date] AS [Maturity_Date], 
        [Extent2].[Coupon_Rate] AS [Coupon_Rate], 
        [Extent2].[Price_Exchange] AS [Price_Exchange], 
        [Extent2].[Trade_Currency] AS [Trade_Currency], 
        [Extent2].[Price_Curr] AS [Price_Curr], 
        [Extent2].[Currency_Pair_Code] AS [Currency_Pair_Code], 
        [Extent2].[Share_Class] AS [Share_Class], 
        [Extent2].[Current_Market_Price] AS [Current_Market_Price], 
        [Extent2].[Index_Type] AS [Index_Type], 
        [Extent2].[Clean_Price_Formula] AS [Clean_Price_Formula], 
        [Extent2].[Accrued_Income_Price_Formula] AS [Accrued_Income_Price_Formula], 
        [Extent2].[Odd_First_Coupon_Date] AS [Odd_First_Coupon_Date], 
        [Extent2].[Odd_Last_Coupon_Date] AS [Odd_Last_Coupon_Date], 
        [Extent2].[Coupon_Anniversary_Indicator] AS [Coupon_Anniversary_Indicator], 
        [Extent2].[Track_EOM_Flag] AS [Track_EOM_Flag], 
        [Extent2].[Next_Coupon_Date] AS [Next_Coupon_Date], 
        [Extent2].[Previous_Coupon_Date] AS [Previous_Coupon_Date], 
        [Extent2].[Payment_Frequency] AS [Payment_Frequency], 
        [Extent2].[Coupon_BusDay_Adjustment] AS [Coupon_BusDay_Adjustment], 
        [Extent2].[Next_Ex_Div_Date] AS [Next_Ex_Div_Date], 
        [Extent2].[Ex_Div_BusDay_Adjustment] AS [Ex_Div_BusDay_Adjustment], 
        [Extent2].[Ex_Div_Period] AS [Ex_Div_Period], 
        [Extent2].[Ticker] AS [Ticker], 
        [Extent2].[Inet_ID] AS [Inet_ID], 
        [Extent2].[Bloomberg_ID] AS [Bloomberg_ID], 
        [Extent2].[External_Sec_ID] AS [External_Sec_ID], 
        [Extent2].[Reuters_ID] AS [Reuters_ID], 
        [Extent2].[ISIN] AS [ISIN], 
        [Extent2].[Call_Account_Flag] AS [Call_Account_Flag], 
        [Extent2].[System_Locked] AS [System_Locked], 
        [Extent2].[Last_Update_User] AS [Last_Update_User1], 
        [Extent2].[Last_Update_Date] AS [Last_Update_Date1], 
        [Extent2].[Security_Status] AS [Security_Status], 
        [Extent2].[Benchmark_Portfolio] AS [Benchmark_Portfolio], 
        [Extent2].[Active_flag] AS [Active_flag], 
        [Extent2].[Dividend_FX_Security_ID] AS [Dividend_FX_Security_ID]
        FROM  [dbo].[Security_Performance_History] AS [Extent1]
        INNER JOIN [dbo].[Security_Detail] AS [Extent2] ON [Extent1].[Security_ID] = [Extent2].[Security_ID]
        WHERE ([Extent1].[Security_ID] = @p__linq__0) AND ([Extent1].[Portfolio_Code] = @p__linq__1)
    )  AS [Project1]
    ORDER BY [Project1].[Record_Date] DESC
2018-04-11 13:19:39.1034|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: IF db_id(N'MetopeAzureDb') IS NOT NULL SELECT 1 ELSE SELECT Count(*) FROM sys.databases WHERE [name]=N'MetopeAzureDb'
2018-04-11 13:19:39.1335|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: IF db_id(N'MetopeAzureDb') IS NOT NULL SELECT 1 ELSE SELECT Count(*) FROM sys.databases WHERE [name]=N'MetopeAzureDb'
2018-04-11 13:19:39.1675|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: IF db_id(N'MetopeAzureDb') IS NOT NULL SELECT 1 ELSE SELECT Count(*) FROM sys.databases WHERE [name]=N'MetopeAzureDb'
2018-04-11 13:19:39.1940|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: IF db_id(N'MetopeAzureDb') IS NOT NULL SELECT 1 ELSE SELECT Count(*) FROM sys.databases WHERE [name]=N'MetopeAzureDb'
2018-04-11 13:37:46.2307|ERROR|ASP.MetopeNspace.MvcApplication|Error caught in Application_Error event
, http://localhost:53133/SecurityPerformanceHistory/Index 
 Error in: Object reference not set to an instance of an object., 
Stack Trace:   at MetopeMVCApp.DecimalModelBinder.BindModel(ControllerContext controllerContext, ModelBindingContext bindingContext) in c:\BlueStream\Development\Metope\WebSite\MetopeMVCApp\MetopeMVCApp\DecimalModelBinder.cs:line 19
   at System.Web.Mvc.ControllerActionInvoker.GetParameterValue(ControllerContext controllerContext, ParameterDescriptor parameterDescriptor)
   at System.Web.Mvc.ControllerActionInvoker.GetParameterValues(ControllerContext controllerContext, ActionDescriptor actionDescriptor)
   at System.Web.Mvc.Async.AsyncControllerActionInvoker.<>c__DisplayClass21.<BeginInvokeAction>b__19(AsyncCallback asyncCallback, Object asyncState)
   at System.Web.Mvc.Async.AsyncResultWrapper.WrappedAsyncResult`1.CallBeginDelegate(AsyncCallback callback, Object callbackState)
   at System.Web.Mvc.Async.AsyncResultWrapper.WrappedAsyncResultBase`1.Begin(AsyncCallback callback, Object state, Int32 timeout)
   at System.Web.Mvc.Async.AsyncControllerActionInvoker.BeginInvokeAction(ControllerContext controllerContext, String actionName, AsyncCallback callback, Object state)
   at System.Web.Mvc.Controller.<BeginExecuteCore>b__1c(AsyncCallback asyncCallback, Object asyncState, ExecuteCoreState innerState)
   at System.Web.Mvc.Async.AsyncResultWrapper.WrappedAsyncVoid`1.CallBeginDelegate(AsyncCallback callback, Object callbackState)
   at System.Web.Mvc.Async.AsyncResultWrapper.WrappedAsyncResultBase`1.Begin(AsyncCallback callback, Object state, Int32 timeout)
   at System.Web.Mvc.Controller.BeginExecuteCore(AsyncCallback callback, Object state)
   at System.Web.Mvc.Controller.<BeginExecute>b__14(AsyncCallback asyncCallback, Object callbackState, Controller controller)
   at System.Web.Mvc.Async.AsyncResultWrapper.WrappedAsyncVoid`1.CallBeginDelegate(AsyncCallback callback, Object callbackState)
   at System.Web.Mvc.Async.AsyncResultWrapper.WrappedAsyncResultBase`1.Begin(AsyncCallback callback, Object state, Int32 timeout)
   at System.Web.Mvc.Controller.BeginExecute(RequestContext requestContext, AsyncCallback callback, Object state)
   at System.Web.Mvc.Controller.System.Web.Mvc.Async.IAsyncController.BeginExecute(RequestContext requestContext, AsyncCallback callback, Object state)
   at System.Web.Mvc.MvcHandler.<BeginProcessRequest>b__4(AsyncCallback asyncCallback, Object asyncState, ProcessRequestState innerState)
   at System.Web.Mvc.Async.AsyncResultWrapper.WrappedAsyncVoid`1.CallBeginDelegate(AsyncCallback callback, Object callbackState)
   at System.Web.Mvc.Async.AsyncResultWrapper.WrappedAsyncResultBase`1.Begin(AsyncCallback callback, Object state, Int32 timeout)
   at System.Web.Mvc.MvcHandler.BeginProcessRequest(HttpContextBase httpContext, AsyncCallback callback, Object state)
   at System.Web.Mvc.MvcHandler.BeginProcessRequest(HttpContext httpContext, AsyncCallback callback, Object state)
   at System.Web.Mvc.MvcHandler.System.Web.IHttpAsyncHandler.BeginProcessRequest(HttpContext context, AsyncCallback cb, Object extraData)
   at System.Web.HttpApplication.CallHandlerExecutionStep.System.Web.HttpApplication.IExecutionStep.Execute()
   at System.Web.HttpApplication.ExecuteStepImpl(IExecutionStep step)
   at System.Web.HttpApplication.ExecuteStep(IExecutionStep step, Boolean& completedSynchronously)
Session: Identity name:aaaaaa IsAuthenticated:True 
2018-04-11 13:37:47.2944|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: select cast(serverproperty('EngineEdition') as int)
2018-04-11 13:37:47.3349|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: select cast(serverproperty('EngineEdition') as int)
2018-04-11 13:37:47.6561|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: IF db_id(N'MetopeAzureDb') IS NOT NULL SELECT 1 ELSE SELECT Count(*) FROM sys.databases WHERE [name]=N'MetopeAzureDb'
2018-04-11 13:37:47.7407|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: IF db_id(N'MetopeAzureDb') IS NOT NULL SELECT 1 ELSE SELECT Count(*) FROM sys.databases WHERE [name]=N'MetopeAzureDb'
2018-04-11 13:37:47.8613|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: IF db_id(N'MetopeAzureDb') IS NOT NULL SELECT 1 ELSE SELECT Count(*) FROM sys.databases WHERE [name]=N'MetopeAzureDb'
2018-04-11 13:37:47.8878|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: IF db_id(N'MetopeAzureDb') IS NOT NULL SELECT 1 ELSE SELECT Count(*) FROM sys.databases WHERE [name]=N'MetopeAzureDb'
2018-04-11 13:37:47.9534|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: IF db_id(N'MetopeAzureDb') IS NOT NULL SELECT 1 ELSE SELECT Count(*) FROM sys.databases WHERE [name]=N'MetopeAzureDb'
2018-04-11 13:37:47.9734|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: IF db_id(N'MetopeAzureDb') IS NOT NULL SELECT 1 ELSE SELECT Count(*) FROM sys.databases WHERE [name]=N'MetopeAzureDb'
2018-04-11 13:37:47.9939|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: 
SELECT Count(*)
FROM INFORMATION_SCHEMA.TABLES AS t
WHERE t.TABLE_SCHEMA + '.' + t.TABLE_NAME IN ('dbo.AspNetRoles','dbo.AspNetUserRoles','dbo.AspNetUsers','dbo.AspNetUserClaims','dbo.AspNetUserLogins')
    OR t.TABLE_NAME = 'EdmMetadata'
2018-04-11 13:37:48.0529|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: 
SELECT Count(*)
FROM INFORMATION_SCHEMA.TABLES AS t
WHERE t.TABLE_SCHEMA + '.' + t.TABLE_NAME IN ('dbo.AspNetRoles','dbo.AspNetUserRoles','dbo.AspNetUsers','dbo.AspNetUserClaims','dbo.AspNetUserLogins')
    OR t.TABLE_NAME = 'EdmMetadata'
2018-04-11 13:37:48.3091|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: SELECT 
    [GroupBy1].[A1] AS [C1]
    FROM ( SELECT 
        COUNT(1) AS [A1]
        FROM [dbo].[__MigrationHistory] AS [Extent1]
        WHERE [Extent1].[ContextKey] = @p__linq__0
    )  AS [GroupBy1]
2018-04-11 13:37:48.3767|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: SELECT 
    [GroupBy1].[A1] AS [C1]
    FROM ( SELECT 
        COUNT(1) AS [A1]
        FROM [dbo].[__MigrationHistory] AS [Extent1]
        WHERE [Extent1].[ContextKey] = @p__linq__0
    )  AS [GroupBy1]
2018-04-11 13:37:48.4237|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: SELECT TOP (1) 
    [Project1].[C1] AS [C1], 
    [Project1].[MigrationId] AS [MigrationId], 
    [Project1].[Model] AS [Model], 
    [Project1].[ProductVersion] AS [ProductVersion]
    FROM ( SELECT 
        [Extent1].[MigrationId] AS [MigrationId], 
        [Extent1].[Model] AS [Model], 
        [Extent1].[ProductVersion] AS [ProductVersion], 
        1 AS [C1]
        FROM [dbo].[__MigrationHistory] AS [Extent1]
        WHERE [Extent1].[ContextKey] = @p__linq__0
    )  AS [Project1]
    ORDER BY [Project1].[MigrationId] DESC
2018-04-11 13:37:48.4782|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: SELECT TOP (1) 
    [Project1].[C1] AS [C1], 
    [Project1].[MigrationId] AS [MigrationId], 
    [Project1].[Model] AS [Model], 
    [Project1].[ProductVersion] AS [ProductVersion]
    FROM ( SELECT 
        [Extent1].[MigrationId] AS [MigrationId], 
        [Extent1].[Model] AS [Model], 
        [Extent1].[ProductVersion] AS [ProductVersion], 
        1 AS [C1]
        FROM [dbo].[__MigrationHistory] AS [Extent1]
        WHERE [Extent1].[ContextKey] = @p__linq__0
    )  AS [Project1]
    ORDER BY [Project1].[MigrationId] DESC
2018-04-11 13:37:48.8005|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: True, Command Text: SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[EntityIdScope] AS [EntityIdScope], 
    [Extent1].[Email] AS [Email], 
    [Extent1].[EmailConfirmed] AS [EmailConfirmed], 
    [Extent1].[PasswordHash] AS [PasswordHash], 
    [Extent1].[SecurityStamp] AS [SecurityStamp], 
    [Extent1].[PhoneNumber] AS [PhoneNumber], 
    [Extent1].[PhoneNumberConfirmed] AS [PhoneNumberConfirmed], 
    [Extent1].[TwoFactorEnabled] AS [TwoFactorEnabled], 
    [Extent1].[LockoutEndDateUtc] AS [LockoutEndDateUtc], 
    [Extent1].[LockoutEnabled] AS [LockoutEnabled], 
    [Extent1].[AccessFailedCount] AS [AccessFailedCount], 
    [Extent1].[UserName] AS [UserName]
    FROM [dbo].[AspNetUsers] AS [Extent1]
    WHERE [Extent1].[Id] = @p0
2018-04-11 13:37:48.8205|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: True, Command Text: SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[EntityIdScope] AS [EntityIdScope], 
    [Extent1].[Email] AS [Email], 
    [Extent1].[EmailConfirmed] AS [EmailConfirmed], 
    [Extent1].[PasswordHash] AS [PasswordHash], 
    [Extent1].[SecurityStamp] AS [SecurityStamp], 
    [Extent1].[PhoneNumber] AS [PhoneNumber], 
    [Extent1].[PhoneNumberConfirmed] AS [PhoneNumberConfirmed], 
    [Extent1].[TwoFactorEnabled] AS [TwoFactorEnabled], 
    [Extent1].[LockoutEndDateUtc] AS [LockoutEndDateUtc], 
    [Extent1].[LockoutEnabled] AS [LockoutEnabled], 
    [Extent1].[AccessFailedCount] AS [AccessFailedCount], 
    [Extent1].[UserName] AS [UserName]
    FROM [dbo].[AspNetUsers] AS [Extent1]
    WHERE [Extent1].[Id] = @p0
2018-04-11 13:37:48.9261|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: True, Command Text: SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[UserId] AS [UserId], 
    [Extent1].[ClaimType] AS [ClaimType], 
    [Extent1].[ClaimValue] AS [ClaimValue]
    FROM [dbo].[AspNetUserClaims] AS [Extent1]
    WHERE [Extent1].[UserId] = @p__linq__0
2018-04-11 13:37:48.9396|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: True, Command Text: SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[UserId] AS [UserId], 
    [Extent1].[ClaimType] AS [ClaimType], 
    [Extent1].[ClaimValue] AS [ClaimValue]
    FROM [dbo].[AspNetUserClaims] AS [Extent1]
    WHERE [Extent1].[UserId] = @p__linq__0
2018-04-11 13:37:49.0066|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: True, Command Text: SELECT 
    [Extent1].[LoginProvider] AS [LoginProvider], 
    [Extent1].[ProviderKey] AS [ProviderKey], 
    [Extent1].[UserId] AS [UserId]
    FROM [dbo].[AspNetUserLogins] AS [Extent1]
    WHERE [Extent1].[UserId] = @p__linq__0
2018-04-11 13:37:49.0251|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: True, Command Text: SELECT 
    [Extent1].[LoginProvider] AS [LoginProvider], 
    [Extent1].[ProviderKey] AS [ProviderKey], 
    [Extent1].[UserId] AS [UserId]
    FROM [dbo].[AspNetUserLogins] AS [Extent1]
    WHERE [Extent1].[UserId] = @p__linq__0
2018-04-11 13:37:49.1797|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: True, Command Text: SELECT 
    [Extent1].[UserId] AS [UserId], 
    [Extent1].[RoleId] AS [RoleId]
    FROM [dbo].[AspNetUserRoles] AS [Extent1]
    WHERE [Extent1].[UserId] = @p__linq__0
2018-04-11 13:37:49.2158|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: True, Command Text: SELECT 
    [Extent1].[UserId] AS [UserId], 
    [Extent1].[RoleId] AS [RoleId]
    FROM [dbo].[AspNetUserRoles] AS [Extent1]
    WHERE [Extent1].[UserId] = @p__linq__0
2018-04-11 13:37:49.7877|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: SELECT TOP (1) 
    [Project1].[C1] AS [C1], 
    [Project1].[Entity_ID] AS [Entity_ID], 
    [Project1].[Security_ID] AS [Security_ID], 
    [Project1].[Portfolio_Code] AS [Portfolio_Code], 
    [Project1].[ModDietz_Performance_Quarterly] AS [ModDietz_Performance_Quarterly], 
    [Project1].[ModDietz_Performance_Monthly] AS [ModDietz_Performance_Monthly], 
    [Project1].[ModDietz_Performance_MonthToDate] AS [ModDietz_Performance_MonthToDate], 
    [Project1].[Ticker] AS [Ticker]
    FROM ( SELECT 
        [Extent1].[Security_ID] AS [Security_ID], 
        [Extent1].[Portfolio_Code] AS [Portfolio_Code], 
        [Extent1].[Entity_ID] AS [Entity_ID], 
        [Extent1].[ModDietz_Performance_Quarterly] AS [ModDietz_Performance_Quarterly], 
        [Extent1].[ModDietz_Performance_Monthly] AS [ModDietz_Performance_Monthly], 
        [Extent1].[ModDietz_Performance_MonthToDate] AS [ModDietz_Performance_MonthToDate], 
        [Extent2].[Ticker] AS [Ticker], 
        1 AS [C1]
        FROM  [dbo].[Security_Performance] AS [Extent1]
        INNER JOIN [dbo].[Security_Detail] AS [Extent2] ON [Extent1].[Security_ID] = [Extent2].[Security_ID]
        WHERE ([Extent1].[Entity_ID] = @p__linq__0) AND ([Extent1].[Portfolio_Code] = @p__linq__1) AND ([Extent1].[Entity_ID] = @p__linq__2)
    )  AS [Project1]
    ORDER BY [Project1].[Security_ID] ASC
2018-04-11 13:37:49.8327|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: SELECT TOP (1) 
    [Project1].[C1] AS [C1], 
    [Project1].[Entity_ID] AS [Entity_ID], 
    [Project1].[Security_ID] AS [Security_ID], 
    [Project1].[Portfolio_Code] AS [Portfolio_Code], 
    [Project1].[ModDietz_Performance_Quarterly] AS [ModDietz_Performance_Quarterly], 
    [Project1].[ModDietz_Performance_Monthly] AS [ModDietz_Performance_Monthly], 
    [Project1].[ModDietz_Performance_MonthToDate] AS [ModDietz_Performance_MonthToDate], 
    [Project1].[Ticker] AS [Ticker]
    FROM ( SELECT 
        [Extent1].[Security_ID] AS [Security_ID], 
        [Extent1].[Portfolio_Code] AS [Portfolio_Code], 
        [Extent1].[Entity_ID] AS [Entity_ID], 
        [Extent1].[ModDietz_Performance_Quarterly] AS [ModDietz_Performance_Quarterly], 
        [Extent1].[ModDietz_Performance_Monthly] AS [ModDietz_Performance_Monthly], 
        [Extent1].[ModDietz_Performance_MonthToDate] AS [ModDietz_Performance_MonthToDate], 
        [Extent2].[Ticker] AS [Ticker], 
        1 AS [C1]
        FROM  [dbo].[Security_Performance] AS [Extent1]
        INNER JOIN [dbo].[Security_Detail] AS [Extent2] ON [Extent1].[Security_ID] = [Extent2].[Security_ID]
        WHERE ([Extent1].[Entity_ID] = @p__linq__0) AND ([Extent1].[Portfolio_Code] = @p__linq__1) AND ([Extent1].[Entity_ID] = @p__linq__2)
    )  AS [Project1]
    ORDER BY [Project1].[Security_ID] ASC
2018-04-11 13:37:49.8602|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: SELECT 
    [Project1].[C1] AS [C1], 
    [Project1].[Entity_ID] AS [Entity_ID], 
    [Project1].[Security_ID] AS [Security_ID], 
    [Project1].[Portfolio_Code] AS [Portfolio_Code], 
    [Project1].[ModDietz_Performance_Quarterly] AS [ModDietz_Performance_Quarterly], 
    [Project1].[ModDietz_Performance_Monthly] AS [ModDietz_Performance_Monthly], 
    [Project1].[ModDietz_Performance_MonthToDate] AS [ModDietz_Performance_MonthToDate], 
    [Project1].[Ticker] AS [Ticker]
    FROM ( SELECT 
        [Extent1].[Security_ID] AS [Security_ID], 
        [Extent1].[Portfolio_Code] AS [Portfolio_Code], 
        [Extent1].[Entity_ID] AS [Entity_ID], 
        [Extent1].[ModDietz_Performance_Quarterly] AS [ModDietz_Performance_Quarterly], 
        [Extent1].[ModDietz_Performance_Monthly] AS [ModDietz_Performance_Monthly], 
        [Extent1].[ModDietz_Performance_MonthToDate] AS [ModDietz_Performance_MonthToDate], 
        [Extent2].[Ticker] AS [Ticker], 
        1 AS [C1]
        FROM  [dbo].[Security_Performance] AS [Extent1]
        INNER JOIN [dbo].[Security_Detail] AS [Extent2] ON [Extent1].[Security_ID] = [Extent2].[Security_ID]
        WHERE ([Extent1].[Entity_ID] = @p__linq__0) AND ([Extent1].[Portfolio_Code] = @p__linq__1) AND ([Extent1].[Entity_ID] = @p__linq__2)
    )  AS [Project1]
    ORDER BY [Project1].[Security_ID] ASC
2018-04-11 13:37:49.8792|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: SELECT 
    [Project1].[C1] AS [C1], 
    [Project1].[Entity_ID] AS [Entity_ID], 
    [Project1].[Security_ID] AS [Security_ID], 
    [Project1].[Portfolio_Code] AS [Portfolio_Code], 
    [Project1].[ModDietz_Performance_Quarterly] AS [ModDietz_Performance_Quarterly], 
    [Project1].[ModDietz_Performance_Monthly] AS [ModDietz_Performance_Monthly], 
    [Project1].[ModDietz_Performance_MonthToDate] AS [ModDietz_Performance_MonthToDate], 
    [Project1].[Ticker] AS [Ticker]
    FROM ( SELECT 
        [Extent1].[Security_ID] AS [Security_ID], 
        [Extent1].[Portfolio_Code] AS [Portfolio_Code], 
        [Extent1].[Entity_ID] AS [Entity_ID], 
        [Extent1].[ModDietz_Performance_Quarterly] AS [ModDietz_Performance_Quarterly], 
        [Extent1].[ModDietz_Performance_Monthly] AS [ModDietz_Performance_Monthly], 
        [Extent1].[ModDietz_Performance_MonthToDate] AS [ModDietz_Performance_MonthToDate], 
        [Extent2].[Ticker] AS [Ticker], 
        1 AS [C1]
        FROM  [dbo].[Security_Performance] AS [Extent1]
        INNER JOIN [dbo].[Security_Detail] AS [Extent2] ON [Extent1].[Security_ID] = [Extent2].[Security_ID]
        WHERE ([Extent1].[Entity_ID] = @p__linq__0) AND ([Extent1].[Portfolio_Code] = @p__linq__1) AND ([Extent1].[Entity_ID] = @p__linq__2)
    )  AS [Project1]
    ORDER BY [Project1].[Security_ID] ASC
2018-04-11 13:37:54.7921|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: IF db_id(N'MetopeAzureDb') IS NOT NULL SELECT 1 ELSE SELECT Count(*) FROM sys.databases WHERE [name]=N'MetopeAzureDb'
2018-04-11 13:37:54.7921|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: IF db_id(N'MetopeAzureDb') IS NOT NULL SELECT 1 ELSE SELECT Count(*) FROM sys.databases WHERE [name]=N'MetopeAzureDb'
2018-04-11 13:37:54.8126|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: IF db_id(N'MetopeAzureDb') IS NOT NULL SELECT 1 ELSE SELECT Count(*) FROM sys.databases WHERE [name]=N'MetopeAzureDb'
2018-04-11 13:37:54.8241|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: IF db_id(N'MetopeAzureDb') IS NOT NULL SELECT 1 ELSE SELECT Count(*) FROM sys.databases WHERE [name]=N'MetopeAzureDb'
2018-04-11 13:37:54.8241|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: True, Command Text: SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[EntityIdScope] AS [EntityIdScope], 
    [Extent1].[Email] AS [Email], 
    [Extent1].[EmailConfirmed] AS [EmailConfirmed], 
    [Extent1].[PasswordHash] AS [PasswordHash], 
    [Extent1].[SecurityStamp] AS [SecurityStamp], 
    [Extent1].[PhoneNumber] AS [PhoneNumber], 
    [Extent1].[PhoneNumberConfirmed] AS [PhoneNumberConfirmed], 
    [Extent1].[TwoFactorEnabled] AS [TwoFactorEnabled], 
    [Extent1].[LockoutEndDateUtc] AS [LockoutEndDateUtc], 
    [Extent1].[LockoutEnabled] AS [LockoutEnabled], 
    [Extent1].[AccessFailedCount] AS [AccessFailedCount], 
    [Extent1].[UserName] AS [UserName]
    FROM [dbo].[AspNetUsers] AS [Extent1]
    WHERE [Extent1].[Id] = @p0
2018-04-11 13:37:54.8431|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: True, Command Text: SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[EntityIdScope] AS [EntityIdScope], 
    [Extent1].[Email] AS [Email], 
    [Extent1].[EmailConfirmed] AS [EmailConfirmed], 
    [Extent1].[PasswordHash] AS [PasswordHash], 
    [Extent1].[SecurityStamp] AS [SecurityStamp], 
    [Extent1].[PhoneNumber] AS [PhoneNumber], 
    [Extent1].[PhoneNumberConfirmed] AS [PhoneNumberConfirmed], 
    [Extent1].[TwoFactorEnabled] AS [TwoFactorEnabled], 
    [Extent1].[LockoutEndDateUtc] AS [LockoutEndDateUtc], 
    [Extent1].[LockoutEnabled] AS [LockoutEnabled], 
    [Extent1].[AccessFailedCount] AS [AccessFailedCount], 
    [Extent1].[UserName] AS [UserName]
    FROM [dbo].[AspNetUsers] AS [Extent1]
    WHERE [Extent1].[Id] = @p0
2018-04-11 13:37:54.8556|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: True, Command Text: SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[UserId] AS [UserId], 
    [Extent1].[ClaimType] AS [ClaimType], 
    [Extent1].[ClaimValue] AS [ClaimValue]
    FROM [dbo].[AspNetUserClaims] AS [Extent1]
    WHERE [Extent1].[UserId] = @p__linq__0
2018-04-11 13:37:54.8556|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: True, Command Text: SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[UserId] AS [UserId], 
    [Extent1].[ClaimType] AS [ClaimType], 
    [Extent1].[ClaimValue] AS [ClaimValue]
    FROM [dbo].[AspNetUserClaims] AS [Extent1]
    WHERE [Extent1].[UserId] = @p__linq__0
2018-04-11 13:37:54.8741|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: True, Command Text: SELECT 
    [Extent1].[LoginProvider] AS [LoginProvider], 
    [Extent1].[ProviderKey] AS [ProviderKey], 
    [Extent1].[UserId] AS [UserId]
    FROM [dbo].[AspNetUserLogins] AS [Extent1]
    WHERE [Extent1].[UserId] = @p__linq__0
2018-04-11 13:37:54.8846|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: True, Command Text: SELECT 
    [Extent1].[LoginProvider] AS [LoginProvider], 
    [Extent1].[ProviderKey] AS [ProviderKey], 
    [Extent1].[UserId] AS [UserId]
    FROM [dbo].[AspNetUserLogins] AS [Extent1]
    WHERE [Extent1].[UserId] = @p__linq__0
2018-04-11 13:37:54.9071|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: True, Command Text: SELECT 
    [Extent1].[UserId] AS [UserId], 
    [Extent1].[RoleId] AS [RoleId]
    FROM [dbo].[AspNetUserRoles] AS [Extent1]
    WHERE [Extent1].[UserId] = @p__linq__0
2018-04-11 13:37:54.9172|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: True, Command Text: SELECT 
    [Extent1].[UserId] AS [UserId], 
    [Extent1].[RoleId] AS [RoleId]
    FROM [dbo].[AspNetUserRoles] AS [Extent1]
    WHERE [Extent1].[UserId] = @p__linq__0
2018-04-11 13:37:54.9712|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: SELECT TOP (2) 
    [Extent1].[Entity_ID] AS [Entity_ID], 
    [Extent1].[Entity_Code] AS [Entity_Code], 
    [Extent1].[Entity_Name] AS [Entity_Name], 
    [Extent1].[Import_Folder] AS [Import_Folder], 
    [Extent1].[Export_Folder] AS [Export_Folder]
    FROM [dbo].[Entity] AS [Extent1]
    WHERE [Extent1].[Entity_ID] = @p0
2018-04-11 13:37:54.9877|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: SELECT TOP (2) 
    [Extent1].[Entity_ID] AS [Entity_ID], 
    [Extent1].[Entity_Code] AS [Entity_Code], 
    [Extent1].[Entity_Name] AS [Entity_Name], 
    [Extent1].[Import_Folder] AS [Import_Folder], 
    [Extent1].[Export_Folder] AS [Export_Folder]
    FROM [dbo].[Entity] AS [Extent1]
    WHERE [Extent1].[Entity_ID] = @p0
2018-04-11 13:37:55.4851|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: IF db_id(N'MetopeAzureDb') IS NOT NULL SELECT 1 ELSE SELECT Count(*) FROM sys.databases WHERE [name]=N'MetopeAzureDb'
2018-04-11 13:37:55.5146|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: IF db_id(N'MetopeAzureDb') IS NOT NULL SELECT 1 ELSE SELECT Count(*) FROM sys.databases WHERE [name]=N'MetopeAzureDb'
2018-04-11 13:37:55.5511|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: IF db_id(N'MetopeAzureDb') IS NOT NULL SELECT 1 ELSE SELECT Count(*) FROM sys.databases WHERE [name]=N'MetopeAzureDb'
2018-04-11 13:37:55.5876|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: IF db_id(N'MetopeAzureDb') IS NOT NULL SELECT 1 ELSE SELECT Count(*) FROM sys.databases WHERE [name]=N'MetopeAzureDb'
2018-04-11 13:37:55.6131|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: True, Command Text: SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[EntityIdScope] AS [EntityIdScope], 
    [Extent1].[Email] AS [Email], 
    [Extent1].[EmailConfirmed] AS [EmailConfirmed], 
    [Extent1].[PasswordHash] AS [PasswordHash], 
    [Extent1].[SecurityStamp] AS [SecurityStamp], 
    [Extent1].[PhoneNumber] AS [PhoneNumber], 
    [Extent1].[PhoneNumberConfirmed] AS [PhoneNumberConfirmed], 
    [Extent1].[TwoFactorEnabled] AS [TwoFactorEnabled], 
    [Extent1].[LockoutEndDateUtc] AS [LockoutEndDateUtc], 
    [Extent1].[LockoutEnabled] AS [LockoutEnabled], 
    [Extent1].[AccessFailedCount] AS [AccessFailedCount], 
    [Extent1].[UserName] AS [UserName]
    FROM [dbo].[AspNetUsers] AS [Extent1]
    WHERE [Extent1].[Id] = @p0
2018-04-11 13:37:55.6547|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: True, Command Text: SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[EntityIdScope] AS [EntityIdScope], 
    [Extent1].[Email] AS [Email], 
    [Extent1].[EmailConfirmed] AS [EmailConfirmed], 
    [Extent1].[PasswordHash] AS [PasswordHash], 
    [Extent1].[SecurityStamp] AS [SecurityStamp], 
    [Extent1].[PhoneNumber] AS [PhoneNumber], 
    [Extent1].[PhoneNumberConfirmed] AS [PhoneNumberConfirmed], 
    [Extent1].[TwoFactorEnabled] AS [TwoFactorEnabled], 
    [Extent1].[LockoutEndDateUtc] AS [LockoutEndDateUtc], 
    [Extent1].[LockoutEnabled] AS [LockoutEnabled], 
    [Extent1].[AccessFailedCount] AS [AccessFailedCount], 
    [Extent1].[UserName] AS [UserName]
    FROM [dbo].[AspNetUsers] AS [Extent1]
    WHERE [Extent1].[Id] = @p0
2018-04-11 13:37:55.6642|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: True, Command Text: SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[UserId] AS [UserId], 
    [Extent1].[ClaimType] AS [ClaimType], 
    [Extent1].[ClaimValue] AS [ClaimValue]
    FROM [dbo].[AspNetUserClaims] AS [Extent1]
    WHERE [Extent1].[UserId] = @p__linq__0
2018-04-11 13:37:55.6877|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: True, Command Text: SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[UserId] AS [UserId], 
    [Extent1].[ClaimType] AS [ClaimType], 
    [Extent1].[ClaimValue] AS [ClaimValue]
    FROM [dbo].[AspNetUserClaims] AS [Extent1]
    WHERE [Extent1].[UserId] = @p__linq__0
2018-04-11 13:37:55.6972|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: True, Command Text: SELECT 
    [Extent1].[LoginProvider] AS [LoginProvider], 
    [Extent1].[ProviderKey] AS [ProviderKey], 
    [Extent1].[UserId] AS [UserId]
    FROM [dbo].[AspNetUserLogins] AS [Extent1]
    WHERE [Extent1].[UserId] = @p__linq__0
2018-04-11 13:37:55.7167|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: True, Command Text: SELECT 
    [Extent1].[LoginProvider] AS [LoginProvider], 
    [Extent1].[ProviderKey] AS [ProviderKey], 
    [Extent1].[UserId] AS [UserId]
    FROM [dbo].[AspNetUserLogins] AS [Extent1]
    WHERE [Extent1].[UserId] = @p__linq__0
2018-04-11 13:37:55.7272|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: True, Command Text: SELECT 
    [Extent1].[UserId] AS [UserId], 
    [Extent1].[RoleId] AS [RoleId]
    FROM [dbo].[AspNetUserRoles] AS [Extent1]
    WHERE [Extent1].[UserId] = @p__linq__0
2018-04-11 13:37:55.8228|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: True, Command Text: SELECT 
    [Extent1].[UserId] AS [UserId], 
    [Extent1].[RoleId] AS [RoleId]
    FROM [dbo].[AspNetUserRoles] AS [Extent1]
    WHERE [Extent1].[UserId] = @p__linq__0
2018-04-11 13:37:55.8228|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: SELECT TOP (2) 
    [Extent1].[Entity_ID] AS [Entity_ID], 
    [Extent1].[Entity_Code] AS [Entity_Code], 
    [Extent1].[Entity_Name] AS [Entity_Name], 
    [Extent1].[Import_Folder] AS [Import_Folder], 
    [Extent1].[Export_Folder] AS [Export_Folder]
    FROM [dbo].[Entity] AS [Extent1]
    WHERE [Extent1].[Entity_ID] = @p0
2018-04-11 13:37:55.8423|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: SELECT TOP (2) 
    [Extent1].[Entity_ID] AS [Entity_ID], 
    [Extent1].[Entity_Code] AS [Entity_Code], 
    [Extent1].[Entity_Name] AS [Entity_Name], 
    [Extent1].[Import_Folder] AS [Import_Folder], 
    [Extent1].[Export_Folder] AS [Export_Folder]
    FROM [dbo].[Entity] AS [Extent1]
    WHERE [Extent1].[Entity_ID] = @p0
2018-04-11 13:38:14.3672|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: SELECT 
    [Project1].[Decimal_Precision] AS [Decimal_Precision], 
    [Project1].[Security_ID] AS [Security_ID], 
    [Project1].[Portfolio_Code] AS [Portfolio_Code], 
    [Project1].[Entity_ID] AS [Entity_ID], 
    [Project1].[ModDietz_Performance_Quarterly] AS [ModDietz_Performance_Quarterly], 
    [Project1].[ModDietz_Performance_Monthly] AS [ModDietz_Performance_Monthly], 
    [Project1].[ModDietz_Performance_MonthToDate] AS [ModDietz_Performance_MonthToDate], 
    [Project1].[Dietz_Performance_Quarterly] AS [Dietz_Performance_Quarterly], 
    [Project1].[Dietz_Performance_Monthly] AS [Dietz_Performance_Monthly], 
    [Project1].[Dietz_Performance_MonthToDate] AS [Dietz_Performance_MonthToDate], 
    [Project1].[Last_Update_Date] AS [Last_Update_Date], 
    [Project1].[Last_Update_User] AS [Last_Update_User], 
    [Project1].[Record_Date] AS [Record_Date], 
    [Project1].[Session_ID] AS [Session_ID], 
    [Project1].[Hist_Last_Update_Date] AS [Hist_Last_Update_Date], 
    [Project1].[Hist_Last_Update_User] AS [Hist_Last_Update_User], 
    [Project1].[Security_ID1] AS [Security_ID1], 
    [Project1].[Entity_ID1] AS [Entity_ID1], 
    [Project1].[Security_Name] AS [Security_Name], 
    [Project1].[Short_Name] AS [Short_Name], 
    [Project1].[Primary_Exch] AS [Primary_Exch], 
    [Project1].[Secondary_Exch] AS [Secondary_Exch], 
    [Project1].[Country_Of_Domicile] AS [Country_Of_Domicile], 
    [Project1].[Country_Of_Risk] AS [Country_Of_Risk], 
    [Project1].[Security_Type_Code] AS [Security_Type_Code], 
    [Project1].[Price_Multiplier] AS [Price_Multiplier], 
    [Project1].[Income_Frequency] AS [Income_Frequency], 
    [Project1].[Issuer_Code] AS [Issuer_Code], 
    [Project1].[Ultimate_Issuer_Code] AS [Ultimate_Issuer_Code], 
    [Project1].[Asset_Currency] AS [Asset_Currency], 
    [Project1].[Min_Lot_Size] AS [Min_Lot_Size], 
    [Project1].[AvePrice_Rounding] AS [AvePrice_Rounding], 
    [Project1].[Issue_Date] AS [Issue_Date], 
    [Project1].[Maturity_Date] AS [Maturity_Date], 
    [Project1].[Coupon_Rate] AS [Coupon_Rate], 
    [Project1].[Price_Exchange] AS [Price_Exchange], 
    [Project1].[Trade_Currency] AS [Trade_Currency], 
    [Project1].[Price_Curr] AS [Price_Curr], 
    [Project1].[Currency_Pair_Code] AS [Currency_Pair_Code], 
    [Project1].[Share_Class] AS [Share_Class], 
    [Project1].[Current_Market_Price] AS [Current_Market_Price], 
    [Project1].[Index_Type] AS [Index_Type], 
    [Project1].[Clean_Price_Formula] AS [Clean_Price_Formula], 
    [Project1].[Accrued_Income_Price_Formula] AS [Accrued_Income_Price_Formula], 
    [Project1].[Odd_First_Coupon_Date] AS [Odd_First_Coupon_Date], 
    [Project1].[Odd_Last_Coupon_Date] AS [Odd_Last_Coupon_Date], 
    [Project1].[Coupon_Anniversary_Indicator] AS [Coupon_Anniversary_Indicator], 
    [Project1].[Track_EOM_Flag] AS [Track_EOM_Flag], 
    [Project1].[Next_Coupon_Date] AS [Next_Coupon_Date], 
    [Project1].[Previous_Coupon_Date] AS [Previous_Coupon_Date], 
    [Project1].[Payment_Frequency] AS [Payment_Frequency], 
    [Project1].[Coupon_BusDay_Adjustment] AS [Coupon_BusDay_Adjustment], 
    [Project1].[Next_Ex_Div_Date] AS [Next_Ex_Div_Date], 
    [Project1].[Ex_Div_BusDay_Adjustment] AS [Ex_Div_BusDay_Adjustment], 
    [Project1].[Ex_Div_Period] AS [Ex_Div_Period], 
    [Project1].[Ticker] AS [Ticker], 
    [Project1].[Inet_ID] AS [Inet_ID], 
    [Project1].[Bloomberg_ID] AS [Bloomberg_ID], 
    [Project1].[External_Sec_ID] AS [External_Sec_ID], 
    [Project1].[Reuters_ID] AS [Reuters_ID], 
    [Project1].[ISIN] AS [ISIN], 
    [Project1].[Call_Account_Flag] AS [Call_Account_Flag], 
    [Project1].[System_Locked] AS [System_Locked], 
    [Project1].[Last_Update_User1] AS [Last_Update_User1], 
    [Project1].[Last_Update_Date1] AS [Last_Update_Date1], 
    [Project1].[Security_Status] AS [Security_Status], 
    [Project1].[Benchmark_Portfolio] AS [Benchmark_Portfolio], 
    [Project1].[Active_flag] AS [Active_flag], 
    [Project1].[Dividend_FX_Security_ID] AS [Dividend_FX_Security_ID]
    FROM ( SELECT 
        [Extent1].[Security_ID] AS [Security_ID], 
        [Extent1].[Portfolio_Code] AS [Portfolio_Code], 
        [Extent1].[Entity_ID] AS [Entity_ID], 
        [Extent1].[ModDietz_Performance_Quarterly] AS [ModDietz_Performance_Quarterly], 
        [Extent1].[ModDietz_Performance_Monthly] AS [ModDietz_Performance_Monthly], 
        [Extent1].[ModDietz_Performance_MonthToDate] AS [ModDietz_Performance_MonthToDate], 
        [Extent1].[Dietz_Performance_Quarterly] AS [Dietz_Performance_Quarterly], 
        [Extent1].[Dietz_Performance_Monthly] AS [Dietz_Performance_Monthly], 
        [Extent1].[Dietz_Performance_MonthToDate] AS [Dietz_Performance_MonthToDate], 
        [Extent1].[Last_Update_Date] AS [Last_Update_Date], 
        [Extent1].[Last_Update_User] AS [Last_Update_User], 
        [Extent1].[Record_Date] AS [Record_Date], 
        [Extent1].[Session_ID] AS [Session_ID], 
        [Extent1].[Hist_Last_Update_Date] AS [Hist_Last_Update_Date], 
        [Extent1].[Hist_Last_Update_User] AS [Hist_Last_Update_User], 
        [Extent2].[Security_ID] AS [Security_ID1], 
        [Extent2].[Entity_ID] AS [Entity_ID1], 
        [Extent2].[Security_Name] AS [Security_Name], 
        [Extent2].[Short_Name] AS [Short_Name], 
        [Extent2].[Primary_Exch] AS [Primary_Exch], 
        [Extent2].[Secondary_Exch] AS [Secondary_Exch], 
        [Extent2].[Country_Of_Domicile] AS [Country_Of_Domicile], 
        [Extent2].[Country_Of_Risk] AS [Country_Of_Risk], 
        [Extent2].[Security_Type_Code] AS [Security_Type_Code], 
        [Extent2].[Price_Multiplier] AS [Price_Multiplier], 
        [Extent2].[Income_Frequency] AS [Income_Frequency], 
        [Extent2].[Issuer_Code] AS [Issuer_Code], 
        [Extent2].[Ultimate_Issuer_Code] AS [Ultimate_Issuer_Code], 
        [Extent2].[Asset_Currency] AS [Asset_Currency], 
        [Extent2].[Min_Lot_Size] AS [Min_Lot_Size], 
        [Extent2].[Decimal_Precision] AS [Decimal_Precision], 
        [Extent2].[AvePrice_Rounding] AS [AvePrice_Rounding], 
        [Extent2].[Issue_Date] AS [Issue_Date], 
        [Extent2].[Maturity_Date] AS [Maturity_Date], 
        [Extent2].[Coupon_Rate] AS [Coupon_Rate], 
        [Extent2].[Price_Exchange] AS [Price_Exchange], 
        [Extent2].[Trade_Currency] AS [Trade_Currency], 
        [Extent2].[Price_Curr] AS [Price_Curr], 
        [Extent2].[Currency_Pair_Code] AS [Currency_Pair_Code], 
        [Extent2].[Share_Class] AS [Share_Class], 
        [Extent2].[Current_Market_Price] AS [Current_Market_Price], 
        [Extent2].[Index_Type] AS [Index_Type], 
        [Extent2].[Clean_Price_Formula] AS [Clean_Price_Formula], 
        [Extent2].[Accrued_Income_Price_Formula] AS [Accrued_Income_Price_Formula], 
        [Extent2].[Odd_First_Coupon_Date] AS [Odd_First_Coupon_Date], 
        [Extent2].[Odd_Last_Coupon_Date] AS [Odd_Last_Coupon_Date], 
        [Extent2].[Coupon_Anniversary_Indicator] AS [Coupon_Anniversary_Indicator], 
        [Extent2].[Track_EOM_Flag] AS [Track_EOM_Flag], 
        [Extent2].[Next_Coupon_Date] AS [Next_Coupon_Date], 
        [Extent2].[Previous_Coupon_Date] AS [Previous_Coupon_Date], 
        [Extent2].[Payment_Frequency] AS [Payment_Frequency], 
        [Extent2].[Coupon_BusDay_Adjustment] AS [Coupon_BusDay_Adjustment], 
        [Extent2].[Next_Ex_Div_Date] AS [Next_Ex_Div_Date], 
        [Extent2].[Ex_Div_BusDay_Adjustment] AS [Ex_Div_BusDay_Adjustment], 
        [Extent2].[Ex_Div_Period] AS [Ex_Div_Period], 
        [Extent2].[Ticker] AS [Ticker], 
        [Extent2].[Inet_ID] AS [Inet_ID], 
        [Extent2].[Bloomberg_ID] AS [Bloomberg_ID], 
        [Extent2].[External_Sec_ID] AS [External_Sec_ID], 
        [Extent2].[Reuters_ID] AS [Reuters_ID], 
        [Extent2].[ISIN] AS [ISIN], 
        [Extent2].[Call_Account_Flag] AS [Call_Account_Flag], 
        [Extent2].[System_Locked] AS [System_Locked], 
        [Extent2].[Last_Update_User] AS [Last_Update_User1], 
        [Extent2].[Last_Update_Date] AS [Last_Update_Date1], 
        [Extent2].[Security_Status] AS [Security_Status], 
        [Extent2].[Benchmark_Portfolio] AS [Benchmark_Portfolio], 
        [Extent2].[Active_flag] AS [Active_flag], 
        [Extent2].[Dividend_FX_Security_ID] AS [Dividend_FX_Security_ID]
        FROM  [dbo].[Security_Performance_History] AS [Extent1]
        INNER JOIN [dbo].[Security_Detail] AS [Extent2] ON [Extent1].[Security_ID] = [Extent2].[Security_ID]
        WHERE ([Extent1].[Security_ID] = @p__linq__0) AND ([Extent1].[Portfolio_Code] = @p__linq__1)
    )  AS [Project1]
    ORDER BY [Project1].[Record_Date] DESC
2018-04-11 13:38:14.4075|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: SELECT 
    [Project1].[Decimal_Precision] AS [Decimal_Precision], 
    [Project1].[Security_ID] AS [Security_ID], 
    [Project1].[Portfolio_Code] AS [Portfolio_Code], 
    [Project1].[Entity_ID] AS [Entity_ID], 
    [Project1].[ModDietz_Performance_Quarterly] AS [ModDietz_Performance_Quarterly], 
    [Project1].[ModDietz_Performance_Monthly] AS [ModDietz_Performance_Monthly], 
    [Project1].[ModDietz_Performance_MonthToDate] AS [ModDietz_Performance_MonthToDate], 
    [Project1].[Dietz_Performance_Quarterly] AS [Dietz_Performance_Quarterly], 
    [Project1].[Dietz_Performance_Monthly] AS [Dietz_Performance_Monthly], 
    [Project1].[Dietz_Performance_MonthToDate] AS [Dietz_Performance_MonthToDate], 
    [Project1].[Last_Update_Date] AS [Last_Update_Date], 
    [Project1].[Last_Update_User] AS [Last_Update_User], 
    [Project1].[Record_Date] AS [Record_Date], 
    [Project1].[Session_ID] AS [Session_ID], 
    [Project1].[Hist_Last_Update_Date] AS [Hist_Last_Update_Date], 
    [Project1].[Hist_Last_Update_User] AS [Hist_Last_Update_User], 
    [Project1].[Security_ID1] AS [Security_ID1], 
    [Project1].[Entity_ID1] AS [Entity_ID1], 
    [Project1].[Security_Name] AS [Security_Name], 
    [Project1].[Short_Name] AS [Short_Name], 
    [Project1].[Primary_Exch] AS [Primary_Exch], 
    [Project1].[Secondary_Exch] AS [Secondary_Exch], 
    [Project1].[Country_Of_Domicile] AS [Country_Of_Domicile], 
    [Project1].[Country_Of_Risk] AS [Country_Of_Risk], 
    [Project1].[Security_Type_Code] AS [Security_Type_Code], 
    [Project1].[Price_Multiplier] AS [Price_Multiplier], 
    [Project1].[Income_Frequency] AS [Income_Frequency], 
    [Project1].[Issuer_Code] AS [Issuer_Code], 
    [Project1].[Ultimate_Issuer_Code] AS [Ultimate_Issuer_Code], 
    [Project1].[Asset_Currency] AS [Asset_Currency], 
    [Project1].[Min_Lot_Size] AS [Min_Lot_Size], 
    [Project1].[AvePrice_Rounding] AS [AvePrice_Rounding], 
    [Project1].[Issue_Date] AS [Issue_Date], 
    [Project1].[Maturity_Date] AS [Maturity_Date], 
    [Project1].[Coupon_Rate] AS [Coupon_Rate], 
    [Project1].[Price_Exchange] AS [Price_Exchange], 
    [Project1].[Trade_Currency] AS [Trade_Currency], 
    [Project1].[Price_Curr] AS [Price_Curr], 
    [Project1].[Currency_Pair_Code] AS [Currency_Pair_Code], 
    [Project1].[Share_Class] AS [Share_Class], 
    [Project1].[Current_Market_Price] AS [Current_Market_Price], 
    [Project1].[Index_Type] AS [Index_Type], 
    [Project1].[Clean_Price_Formula] AS [Clean_Price_Formula], 
    [Project1].[Accrued_Income_Price_Formula] AS [Accrued_Income_Price_Formula], 
    [Project1].[Odd_First_Coupon_Date] AS [Odd_First_Coupon_Date], 
    [Project1].[Odd_Last_Coupon_Date] AS [Odd_Last_Coupon_Date], 
    [Project1].[Coupon_Anniversary_Indicator] AS [Coupon_Anniversary_Indicator], 
    [Project1].[Track_EOM_Flag] AS [Track_EOM_Flag], 
    [Project1].[Next_Coupon_Date] AS [Next_Coupon_Date], 
    [Project1].[Previous_Coupon_Date] AS [Previous_Coupon_Date], 
    [Project1].[Payment_Frequency] AS [Payment_Frequency], 
    [Project1].[Coupon_BusDay_Adjustment] AS [Coupon_BusDay_Adjustment], 
    [Project1].[Next_Ex_Div_Date] AS [Next_Ex_Div_Date], 
    [Project1].[Ex_Div_BusDay_Adjustment] AS [Ex_Div_BusDay_Adjustment], 
    [Project1].[Ex_Div_Period] AS [Ex_Div_Period], 
    [Project1].[Ticker] AS [Ticker], 
    [Project1].[Inet_ID] AS [Inet_ID], 
    [Project1].[Bloomberg_ID] AS [Bloomberg_ID], 
    [Project1].[External_Sec_ID] AS [External_Sec_ID], 
    [Project1].[Reuters_ID] AS [Reuters_ID], 
    [Project1].[ISIN] AS [ISIN], 
    [Project1].[Call_Account_Flag] AS [Call_Account_Flag], 
    [Project1].[System_Locked] AS [System_Locked], 
    [Project1].[Last_Update_User1] AS [Last_Update_User1], 
    [Project1].[Last_Update_Date1] AS [Last_Update_Date1], 
    [Project1].[Security_Status] AS [Security_Status], 
    [Project1].[Benchmark_Portfolio] AS [Benchmark_Portfolio], 
    [Project1].[Active_flag] AS [Active_flag], 
    [Project1].[Dividend_FX_Security_ID] AS [Dividend_FX_Security_ID]
    FROM ( SELECT 
        [Extent1].[Security_ID] AS [Security_ID], 
        [Extent1].[Portfolio_Code] AS [Portfolio_Code], 
        [Extent1].[Entity_ID] AS [Entity_ID], 
        [Extent1].[ModDietz_Performance_Quarterly] AS [ModDietz_Performance_Quarterly], 
        [Extent1].[ModDietz_Performance_Monthly] AS [ModDietz_Performance_Monthly], 
        [Extent1].[ModDietz_Performance_MonthToDate] AS [ModDietz_Performance_MonthToDate], 
        [Extent1].[Dietz_Performance_Quarterly] AS [Dietz_Performance_Quarterly], 
        [Extent1].[Dietz_Performance_Monthly] AS [Dietz_Performance_Monthly], 
        [Extent1].[Dietz_Performance_MonthToDate] AS [Dietz_Performance_MonthToDate], 
        [Extent1].[Last_Update_Date] AS [Last_Update_Date], 
        [Extent1].[Last_Update_User] AS [Last_Update_User], 
        [Extent1].[Record_Date] AS [Record_Date], 
        [Extent1].[Session_ID] AS [Session_ID], 
        [Extent1].[Hist_Last_Update_Date] AS [Hist_Last_Update_Date], 
        [Extent1].[Hist_Last_Update_User] AS [Hist_Last_Update_User], 
        [Extent2].[Security_ID] AS [Security_ID1], 
        [Extent2].[Entity_ID] AS [Entity_ID1], 
        [Extent2].[Security_Name] AS [Security_Name], 
        [Extent2].[Short_Name] AS [Short_Name], 
        [Extent2].[Primary_Exch] AS [Primary_Exch], 
        [Extent2].[Secondary_Exch] AS [Secondary_Exch], 
        [Extent2].[Country_Of_Domicile] AS [Country_Of_Domicile], 
        [Extent2].[Country_Of_Risk] AS [Country_Of_Risk], 
        [Extent2].[Security_Type_Code] AS [Security_Type_Code], 
        [Extent2].[Price_Multiplier] AS [Price_Multiplier], 
        [Extent2].[Income_Frequency] AS [Income_Frequency], 
        [Extent2].[Issuer_Code] AS [Issuer_Code], 
        [Extent2].[Ultimate_Issuer_Code] AS [Ultimate_Issuer_Code], 
        [Extent2].[Asset_Currency] AS [Asset_Currency], 
        [Extent2].[Min_Lot_Size] AS [Min_Lot_Size], 
        [Extent2].[Decimal_Precision] AS [Decimal_Precision], 
        [Extent2].[AvePrice_Rounding] AS [AvePrice_Rounding], 
        [Extent2].[Issue_Date] AS [Issue_Date], 
        [Extent2].[Maturity_Date] AS [Maturity_Date], 
        [Extent2].[Coupon_Rate] AS [Coupon_Rate], 
        [Extent2].[Price_Exchange] AS [Price_Exchange], 
        [Extent2].[Trade_Currency] AS [Trade_Currency], 
        [Extent2].[Price_Curr] AS [Price_Curr], 
        [Extent2].[Currency_Pair_Code] AS [Currency_Pair_Code], 
        [Extent2].[Share_Class] AS [Share_Class], 
        [Extent2].[Current_Market_Price] AS [Current_Market_Price], 
        [Extent2].[Index_Type] AS [Index_Type], 
        [Extent2].[Clean_Price_Formula] AS [Clean_Price_Formula], 
        [Extent2].[Accrued_Income_Price_Formula] AS [Accrued_Income_Price_Formula], 
        [Extent2].[Odd_First_Coupon_Date] AS [Odd_First_Coupon_Date], 
        [Extent2].[Odd_Last_Coupon_Date] AS [Odd_Last_Coupon_Date], 
        [Extent2].[Coupon_Anniversary_Indicator] AS [Coupon_Anniversary_Indicator], 
        [Extent2].[Track_EOM_Flag] AS [Track_EOM_Flag], 
        [Extent2].[Next_Coupon_Date] AS [Next_Coupon_Date], 
        [Extent2].[Previous_Coupon_Date] AS [Previous_Coupon_Date], 
        [Extent2].[Payment_Frequency] AS [Payment_Frequency], 
        [Extent2].[Coupon_BusDay_Adjustment] AS [Coupon_BusDay_Adjustment], 
        [Extent2].[Next_Ex_Div_Date] AS [Next_Ex_Div_Date], 
        [Extent2].[Ex_Div_BusDay_Adjustment] AS [Ex_Div_BusDay_Adjustment], 
        [Extent2].[Ex_Div_Period] AS [Ex_Div_Period], 
        [Extent2].[Ticker] AS [Ticker], 
        [Extent2].[Inet_ID] AS [Inet_ID], 
        [Extent2].[Bloomberg_ID] AS [Bloomberg_ID], 
        [Extent2].[External_Sec_ID] AS [External_Sec_ID], 
        [Extent2].[Reuters_ID] AS [Reuters_ID], 
        [Extent2].[ISIN] AS [ISIN], 
        [Extent2].[Call_Account_Flag] AS [Call_Account_Flag], 
        [Extent2].[System_Locked] AS [System_Locked], 
        [Extent2].[Last_Update_User] AS [Last_Update_User1], 
        [Extent2].[Last_Update_Date] AS [Last_Update_Date1], 
        [Extent2].[Security_Status] AS [Security_Status], 
        [Extent2].[Benchmark_Portfolio] AS [Benchmark_Portfolio], 
        [Extent2].[Active_flag] AS [Active_flag], 
        [Extent2].[Dividend_FX_Security_ID] AS [Dividend_FX_Security_ID]
        FROM  [dbo].[Security_Performance_History] AS [Extent1]
        INNER JOIN [dbo].[Security_Detail] AS [Extent2] ON [Extent1].[Security_ID] = [Extent2].[Security_ID]
        WHERE ([Extent1].[Security_ID] = @p__linq__0) AND ([Extent1].[Portfolio_Code] = @p__linq__1)
    )  AS [Project1]
    ORDER BY [Project1].[Record_Date] DESC
2018-04-11 13:38:19.3440|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: IF db_id(N'MetopeAzureDb') IS NOT NULL SELECT 1 ELSE SELECT Count(*) FROM sys.databases WHERE [name]=N'MetopeAzureDb'
2018-04-11 13:38:19.3545|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: IF db_id(N'MetopeAzureDb') IS NOT NULL SELECT 1 ELSE SELECT Count(*) FROM sys.databases WHERE [name]=N'MetopeAzureDb'
2018-04-11 13:38:19.3700|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: IF db_id(N'MetopeAzureDb') IS NOT NULL SELECT 1 ELSE SELECT Count(*) FROM sys.databases WHERE [name]=N'MetopeAzureDb'
2018-04-11 13:38:19.3820|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: IF db_id(N'MetopeAzureDb') IS NOT NULL SELECT 1 ELSE SELECT Count(*) FROM sys.databases WHERE [name]=N'MetopeAzureDb'
2018-04-11 13:38:30.3935|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: SELECT 
    [Project1].[Decimal_Precision] AS [Decimal_Precision], 
    [Project1].[Security_ID] AS [Security_ID], 
    [Project1].[Portfolio_Code] AS [Portfolio_Code], 
    [Project1].[Entity_ID] AS [Entity_ID], 
    [Project1].[Excess_Weight_Quarterly] AS [Excess_Weight_Quarterly], 
    [Project1].[Relative_Contribution_Quarterly] AS [Relative_Contribution_Quarterly], 
    [Project1].[Allocation_Selection_Interaction_Quarterly] AS [Allocation_Selection_Interaction_Quarterly], 
    [Project1].[StockVs_TotBenchmarkReturn_Quarterly] AS [StockVs_TotBenchmarkReturn_Quarterly], 
    [Project1].[Selection_Interaction_Quarterly] AS [Selection_Interaction_Quarterly], 
    [Project1].[Asset_Allocation_Quarterly] AS [Asset_Allocation_Quarterly], 
    [Project1].[Excess_Weight_Monthly] AS [Excess_Weight_Monthly], 
    [Project1].[Relative_Contribution_Monthly] AS [Relative_Contribution_Monthly], 
    [Project1].[Allocation_Selection_Interaction_Monthly] AS [Allocation_Selection_Interaction_Monthly], 
    [Project1].[StockVs_TotBenchmarkReturn_Monthly] AS [StockVs_TotBenchmarkReturn_Monthly], 
    [Project1].[Selection_Interaction_Monthly] AS [Selection_Interaction_Monthly], 
    [Project1].[Asset_Allocation_Monthly] AS [Asset_Allocation_Monthly], 
    [Project1].[Excess_Weight_MonthToDate] AS [Excess_Weight_MonthToDate], 
    [Project1].[Relative_Contribution_MonthToDate] AS [Relative_Contribution_MonthToDate], 
    [Project1].[Allocation_Selection_Interaction_MonthToDate] AS [Allocation_Selection_Interaction_MonthToDate], 
    [Project1].[StockVs_TotBenchmarkReturn_MonthToDate] AS [StockVs_TotBenchmarkReturn_MonthToDate], 
    [Project1].[Selection_Interaction_MonthToDate] AS [Selection_Interaction_MonthToDate], 
    [Project1].[Asset_Allocation_MonthToDate] AS [Asset_Allocation_MonthToDate], 
    [Project1].[Last_Update_Date] AS [Last_Update_Date], 
    [Project1].[Last_Update_User] AS [Last_Update_User], 
    [Project1].[Security_Weight_Portfolio_Monthly] AS [Security_Weight_Portfolio_Monthly], 
    [Project1].[Security_Weight_Portfolio_MonthToDate] AS [Security_Weight_Portfolio_MonthToDate], 
    [Project1].[Security_Weight_Portfolio_Quarterly] AS [Security_Weight_Portfolio_Quarterly], 
    [Project1].[Security_Weight_Benchmark_Monthly] AS [Security_Weight_Benchmark_Monthly], 
    [Project1].[Security_Weight_Benchmark_MonthToDate] AS [Security_Weight_Benchmark_MonthToDate], 
    [Project1].[Security_Weight_Benchmark_Quarterly] AS [Security_Weight_Benchmark_Quarterly], 
    [Project1].[Total_Return_Security_Price_Monthly] AS [Total_Return_Security_Price_Monthly], 
    [Project1].[Total_Return_Security_Price_MonthToDate] AS [Total_Return_Security_Price_MonthToDate], 
    [Project1].[Total_Return_Security_Price_Quarterly] AS [Total_Return_Security_Price_Quarterly], 
    [Project1].[TW_Return_Portfolio_Monthly] AS [TW_Return_Portfolio_Monthly], 
    [Project1].[TW_Return_Portfolio_MonthToDate] AS [TW_Return_Portfolio_MonthToDate], 
    [Project1].[TW_Return_Portfolio_Quarterly] AS [TW_Return_Portfolio_Quarterly], 
    [Project1].[Record_Date] AS [Record_Date], 
    [Project1].[Session_ID] AS [Session_ID], 
    [Project1].[Hist_Last_Update_Date] AS [Hist_Last_Update_Date], 
    [Project1].[Hist_Last_Update_User] AS [Hist_Last_Update_User], 
    [Project1].[Benchmark_Price_Performance_Monthly] AS [Benchmark_Price_Performance_Monthly], 
    [Project1].[Benchmark_Price_Performance_MonthToDate] AS [Benchmark_Price_Performance_MonthToDate], 
    [Project1].[Benchmark_Price_Performance_Quarterly] AS [Benchmark_Price_Performance_Quarterly], 
    [Project1].[Security_ID1] AS [Security_ID1], 
    [Project1].[Entity_ID1] AS [Entity_ID1], 
    [Project1].[Security_Name] AS [Security_Name], 
    [Project1].[Short_Name] AS [Short_Name], 
    [Project1].[Primary_Exch] AS [Primary_Exch], 
    [Project1].[Secondary_Exch] AS [Secondary_Exch], 
    [Project1].[Country_Of_Domicile] AS [Country_Of_Domicile], 
    [Project1].[Country_Of_Risk] AS [Country_Of_Risk], 
    [Project1].[Security_Type_Code] AS [Security_Type_Code], 
    [Project1].[Price_Multiplier] AS [Price_Multiplier], 
    [Project1].[Income_Frequency] AS [Income_Frequency], 
    [Project1].[Issuer_Code] AS [Issuer_Code], 
    [Project1].[Ultimate_Issuer_Code] AS [Ultimate_Issuer_Code], 
    [Project1].[Asset_Currency] AS [Asset_Currency], 
    [Project1].[Min_Lot_Size] AS [Min_Lot_Size], 
    [Project1].[AvePrice_Rounding] AS [AvePrice_Rounding], 
    [Project1].[Issue_Date] AS [Issue_Date], 
    [Project1].[Maturity_Date] AS [Maturity_Date], 
    [Project1].[Coupon_Rate] AS [Coupon_Rate], 
    [Project1].[Price_Exchange] AS [Price_Exchange], 
    [Project1].[Trade_Currency] AS [Trade_Currency], 
    [Project1].[Price_Curr] AS [Price_Curr], 
    [Project1].[Currency_Pair_Code] AS [Currency_Pair_Code], 
    [Project1].[Share_Class] AS [Share_Class], 
    [Project1].[Current_Market_Price] AS [Current_Market_Price], 
    [Project1].[Index_Type] AS [Index_Type], 
    [Project1].[Clean_Price_Formula] AS [Clean_Price_Formula], 
    [Project1].[Accrued_Income_Price_Formula] AS [Accrued_Income_Price_Formula], 
    [Project1].[Odd_First_Coupon_Date] AS [Odd_First_Coupon_Date], 
    [Project1].[Odd_Last_Coupon_Date] AS [Odd_Last_Coupon_Date], 
    [Project1].[Coupon_Anniversary_Indicator] AS [Coupon_Anniversary_Indicator], 
    [Project1].[Track_EOM_Flag] AS [Track_EOM_Flag], 
    [Project1].[Next_Coupon_Date] AS [Next_Coupon_Date], 
    [Project1].[Previous_Coupon_Date] AS [Previous_Coupon_Date], 
    [Project1].[Payment_Frequency] AS [Payment_Frequency], 
    [Project1].[Coupon_BusDay_Adjustment] AS [Coupon_BusDay_Adjustment], 
    [Project1].[Next_Ex_Div_Date] AS [Next_Ex_Div_Date], 
    [Project1].[Ex_Div_BusDay_Adjustment] AS [Ex_Div_BusDay_Adjustment], 
    [Project1].[Ex_Div_Period] AS [Ex_Div_Period], 
    [Project1].[Ticker] AS [Ticker], 
    [Project1].[Inet_ID] AS [Inet_ID], 
    [Project1].[Bloomberg_ID] AS [Bloomberg_ID], 
    [Project1].[External_Sec_ID] AS [External_Sec_ID], 
    [Project1].[Reuters_ID] AS [Reuters_ID], 
    [Project1].[ISIN] AS [ISIN], 
    [Project1].[Call_Account_Flag] AS [Call_Account_Flag], 
    [Project1].[System_Locked] AS [System_Locked], 
    [Project1].[Last_Update_User1] AS [Last_Update_User1], 
    [Project1].[Last_Update_Date1] AS [Last_Update_Date1], 
    [Project1].[Security_Status] AS [Security_Status], 
    [Project1].[Benchmark_Portfolio] AS [Benchmark_Portfolio], 
    [Project1].[Active_flag] AS [Active_flag], 
    [Project1].[Dividend_FX_Security_ID] AS [Dividend_FX_Security_ID]
    FROM ( SELECT 
        [Extent1].[Security_ID] AS [Security_ID], 
        [Extent1].[Portfolio_Code] AS [Portfolio_Code], 
        [Extent1].[Entity_ID] AS [Entity_ID], 
        [Extent1].[Excess_Weight_Quarterly] AS [Excess_Weight_Quarterly], 
        [Extent1].[Relative_Contribution_Quarterly] AS [Relative_Contribution_Quarterly], 
        [Extent1].[Allocation_Selection_Interaction_Quarterly] AS [Allocation_Selection_Interaction_Quarterly], 
        [Extent1].[StockVs_TotBenchmarkReturn_Quarterly] AS [StockVs_TotBenchmarkReturn_Quarterly], 
        [Extent1].[Selection_Interaction_Quarterly] AS [Selection_Interaction_Quarterly], 
        [Extent1].[Asset_Allocation_Quarterly] AS [Asset_Allocation_Quarterly], 
        [Extent1].[Excess_Weight_Monthly] AS [Excess_Weight_Monthly], 
        [Extent1].[Relative_Contribution_Monthly] AS [Relative_Contribution_Monthly], 
        [Extent1].[Allocation_Selection_Interaction_Monthly] AS [Allocation_Selection_Interaction_Monthly], 
        [Extent1].[StockVs_TotBenchmarkReturn_Monthly] AS [StockVs_TotBenchmarkReturn_Monthly], 
        [Extent1].[Selection_Interaction_Monthly] AS [Selection_Interaction_Monthly], 
        [Extent1].[Asset_Allocation_Monthly] AS [Asset_Allocation_Monthly], 
        [Extent1].[Excess_Weight_MonthToDate] AS [Excess_Weight_MonthToDate], 
        [Extent1].[Relative_Contribution_MonthToDate] AS [Relative_Contribution_MonthToDate], 
        [Extent1].[Allocation_Selection_Interaction_MonthToDate] AS [Allocation_Selection_Interaction_MonthToDate], 
        [Extent1].[StockVs_TotBenchmarkReturn_MonthToDate] AS [StockVs_TotBenchmarkReturn_MonthToDate], 
        [Extent1].[Selection_Interaction_MonthToDate] AS [Selection_Interaction_MonthToDate], 
        [Extent1].[Asset_Allocation_MonthToDate] AS [Asset_Allocation_MonthToDate], 
        [Extent1].[Last_Update_Date] AS [Last_Update_Date], 
        [Extent1].[Last_Update_User] AS [Last_Update_User], 
        [Extent1].[Security_Weight_Portfolio_Monthly] AS [Security_Weight_Portfolio_Monthly], 
        [Extent1].[Security_Weight_Portfolio_MonthToDate] AS [Security_Weight_Portfolio_MonthToDate], 
        [Extent1].[Security_Weight_Portfolio_Quarterly] AS [Security_Weight_Portfolio_Quarterly], 
        [Extent1].[Security_Weight_Benchmark_Monthly] AS [Security_Weight_Benchmark_Monthly], 
        [Extent1].[Security_Weight_Benchmark_MonthToDate] AS [Security_Weight_Benchmark_MonthToDate], 
        [Extent1].[Security_Weight_Benchmark_Quarterly] AS [Security_Weight_Benchmark_Quarterly], 
        [Extent1].[Total_Return_Security_Price_Monthly] AS [Total_Return_Security_Price_Monthly], 
        [Extent1].[Total_Return_Security_Price_MonthToDate] AS [Total_Return_Security_Price_MonthToDate], 
        [Extent1].[Total_Return_Security_Price_Quarterly] AS [Total_Return_Security_Price_Quarterly], 
        [Extent1].[TW_Return_Portfolio_Monthly] AS [TW_Return_Portfolio_Monthly], 
        [Extent1].[TW_Return_Portfolio_MonthToDate] AS [TW_Return_Portfolio_MonthToDate], 
        [Extent1].[TW_Return_Portfolio_Quarterly] AS [TW_Return_Portfolio_Quarterly], 
        [Extent1].[Record_Date] AS [Record_Date], 
        [Extent1].[Session_ID] AS [Session_ID], 
        [Extent1].[Hist_Last_Update_Date] AS [Hist_Last_Update_Date], 
        [Extent1].[Hist_Last_Update_User] AS [Hist_Last_Update_User], 
        [Extent1].[Benchmark_Price_Performance_Monthly] AS [Benchmark_Price_Performance_Monthly], 
        [Extent1].[Benchmark_Price_Performance_MonthToDate] AS [Benchmark_Price_Performance_MonthToDate], 
        [Extent1].[Benchmark_Price_Performance_Quarterly] AS [Benchmark_Price_Performance_Quarterly], 
        [Extent2].[Security_ID] AS [Security_ID1], 
        [Extent2].[Entity_ID] AS [Entity_ID1], 
        [Extent2].[Security_Name] AS [Security_Name], 
        [Extent2].[Short_Name] AS [Short_Name], 
        [Extent2].[Primary_Exch] AS [Primary_Exch], 
        [Extent2].[Secondary_Exch] AS [Secondary_Exch], 
        [Extent2].[Country_Of_Domicile] AS [Country_Of_Domicile], 
        [Extent2].[Country_Of_Risk] AS [Country_Of_Risk], 
        [Extent2].[Security_Type_Code] AS [Security_Type_Code], 
        [Extent2].[Price_Multiplier] AS [Price_Multiplier], 
        [Extent2].[Income_Frequency] AS [Income_Frequency], 
        [Extent2].[Issuer_Code] AS [Issuer_Code], 
        [Extent2].[Ultimate_Issuer_Code] AS [Ultimate_Issuer_Code], 
        [Extent2].[Asset_Currency] AS [Asset_Currency], 
        [Extent2].[Min_Lot_Size] AS [Min_Lot_Size], 
        [Extent2].[Decimal_Precision] AS [Decimal_Precision], 
        [Extent2].[AvePrice_Rounding] AS [AvePrice_Rounding], 
        [Extent2].[Issue_Date] AS [Issue_Date], 
        [Extent2].[Maturity_Date] AS [Maturity_Date], 
        [Extent2].[Coupon_Rate] AS [Coupon_Rate], 
        [Extent2].[Price_Exchange] AS [Price_Exchange], 
        [Extent2].[Trade_Currency] AS [Trade_Currency], 
        [Extent2].[Price_Curr] AS [Price_Curr], 
        [Extent2].[Currency_Pair_Code] AS [Currency_Pair_Code], 
        [Extent2].[Share_Class] AS [Share_Class], 
        [Extent2].[Current_Market_Price] AS [Current_Market_Price], 
        [Extent2].[Index_Type] AS [Index_Type], 
        [Extent2].[Clean_Price_Formula] AS [Clean_Price_Formula], 
        [Extent2].[Accrued_Income_Price_Formula] AS [Accrued_Income_Price_Formula], 
        [Extent2].[Odd_First_Coupon_Date] AS [Odd_First_Coupon_Date], 
        [Extent2].[Odd_Last_Coupon_Date] AS [Odd_Last_Coupon_Date], 
        [Extent2].[Coupon_Anniversary_Indicator] AS [Coupon_Anniversary_Indicator], 
        [Extent2].[Track_EOM_Flag] AS [Track_EOM_Flag], 
        [Extent2].[Next_Coupon_Date] AS [Next_Coupon_Date], 
        [Extent2].[Previous_Coupon_Date] AS [Previous_Coupon_Date], 
        [Extent2].[Payment_Frequency] AS [Payment_Frequency], 
        [Extent2].[Coupon_BusDay_Adjustment] AS [Coupon_BusDay_Adjustment], 
        [Extent2].[Next_Ex_Div_Date] AS [Next_Ex_Div_Date], 
        [Extent2].[Ex_Div_BusDay_Adjustment] AS [Ex_Div_BusDay_Adjustment], 
        [Extent2].[Ex_Div_Period] AS [Ex_Div_Period], 
        [Extent2].[Ticker] AS [Ticker], 
        [Extent2].[Inet_ID] AS [Inet_ID], 
        [Extent2].[Bloomberg_ID] AS [Bloomberg_ID], 
        [Extent2].[External_Sec_ID] AS [External_Sec_ID], 
        [Extent2].[Reuters_ID] AS [Reuters_ID], 
        [Extent2].[ISIN] AS [ISIN], 
        [Extent2].[Call_Account_Flag] AS [Call_Account_Flag], 
        [Extent2].[System_Locked] AS [System_Locked], 
        [Extent2].[Last_Update_User] AS [Last_Update_User1], 
        [Extent2].[Last_Update_Date] AS [Last_Update_Date1], 
        [Extent2].[Security_Status] AS [Security_Status], 
        [Extent2].[Benchmark_Portfolio] AS [Benchmark_Portfolio], 
        [Extent2].[Active_flag] AS [Active_flag], 
        [Extent2].[Dividend_FX_Security_ID] AS [Dividend_FX_Security_ID]
        FROM  [dbo].[Security_Attribution_History] AS [Extent1]
        INNER JOIN [dbo].[Security_Detail] AS [Extent2] ON [Extent1].[Security_ID] = [Extent2].[Security_ID]
        WHERE ([Extent1].[Security_ID] = @p__linq__0) AND ([Extent1].[Portfolio_Code] = @p__linq__1)
    )  AS [Project1]
    ORDER BY [Project1].[Record_Date] DESC
2018-04-11 13:38:30.6002|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: SELECT 
    [Project1].[Decimal_Precision] AS [Decimal_Precision], 
    [Project1].[Security_ID] AS [Security_ID], 
    [Project1].[Portfolio_Code] AS [Portfolio_Code], 
    [Project1].[Entity_ID] AS [Entity_ID], 
    [Project1].[Excess_Weight_Quarterly] AS [Excess_Weight_Quarterly], 
    [Project1].[Relative_Contribution_Quarterly] AS [Relative_Contribution_Quarterly], 
    [Project1].[Allocation_Selection_Interaction_Quarterly] AS [Allocation_Selection_Interaction_Quarterly], 
    [Project1].[StockVs_TotBenchmarkReturn_Quarterly] AS [StockVs_TotBenchmarkReturn_Quarterly], 
    [Project1].[Selection_Interaction_Quarterly] AS [Selection_Interaction_Quarterly], 
    [Project1].[Asset_Allocation_Quarterly] AS [Asset_Allocation_Quarterly], 
    [Project1].[Excess_Weight_Monthly] AS [Excess_Weight_Monthly], 
    [Project1].[Relative_Contribution_Monthly] AS [Relative_Contribution_Monthly], 
    [Project1].[Allocation_Selection_Interaction_Monthly] AS [Allocation_Selection_Interaction_Monthly], 
    [Project1].[StockVs_TotBenchmarkReturn_Monthly] AS [StockVs_TotBenchmarkReturn_Monthly], 
    [Project1].[Selection_Interaction_Monthly] AS [Selection_Interaction_Monthly], 
    [Project1].[Asset_Allocation_Monthly] AS [Asset_Allocation_Monthly], 
    [Project1].[Excess_Weight_MonthToDate] AS [Excess_Weight_MonthToDate], 
    [Project1].[Relative_Contribution_MonthToDate] AS [Relative_Contribution_MonthToDate], 
    [Project1].[Allocation_Selection_Interaction_MonthToDate] AS [Allocation_Selection_Interaction_MonthToDate], 
    [Project1].[StockVs_TotBenchmarkReturn_MonthToDate] AS [StockVs_TotBenchmarkReturn_MonthToDate], 
    [Project1].[Selection_Interaction_MonthToDate] AS [Selection_Interaction_MonthToDate], 
    [Project1].[Asset_Allocation_MonthToDate] AS [Asset_Allocation_MonthToDate], 
    [Project1].[Last_Update_Date] AS [Last_Update_Date], 
    [Project1].[Last_Update_User] AS [Last_Update_User], 
    [Project1].[Security_Weight_Portfolio_Monthly] AS [Security_Weight_Portfolio_Monthly], 
    [Project1].[Security_Weight_Portfolio_MonthToDate] AS [Security_Weight_Portfolio_MonthToDate], 
    [Project1].[Security_Weight_Portfolio_Quarterly] AS [Security_Weight_Portfolio_Quarterly], 
    [Project1].[Security_Weight_Benchmark_Monthly] AS [Security_Weight_Benchmark_Monthly], 
    [Project1].[Security_Weight_Benchmark_MonthToDate] AS [Security_Weight_Benchmark_MonthToDate], 
    [Project1].[Security_Weight_Benchmark_Quarterly] AS [Security_Weight_Benchmark_Quarterly], 
    [Project1].[Total_Return_Security_Price_Monthly] AS [Total_Return_Security_Price_Monthly], 
    [Project1].[Total_Return_Security_Price_MonthToDate] AS [Total_Return_Security_Price_MonthToDate], 
    [Project1].[Total_Return_Security_Price_Quarterly] AS [Total_Return_Security_Price_Quarterly], 
    [Project1].[TW_Return_Portfolio_Monthly] AS [TW_Return_Portfolio_Monthly], 
    [Project1].[TW_Return_Portfolio_MonthToDate] AS [TW_Return_Portfolio_MonthToDate], 
    [Project1].[TW_Return_Portfolio_Quarterly] AS [TW_Return_Portfolio_Quarterly], 
    [Project1].[Record_Date] AS [Record_Date], 
    [Project1].[Session_ID] AS [Session_ID], 
    [Project1].[Hist_Last_Update_Date] AS [Hist_Last_Update_Date], 
    [Project1].[Hist_Last_Update_User] AS [Hist_Last_Update_User], 
    [Project1].[Benchmark_Price_Performance_Monthly] AS [Benchmark_Price_Performance_Monthly], 
    [Project1].[Benchmark_Price_Performance_MonthToDate] AS [Benchmark_Price_Performance_MonthToDate], 
    [Project1].[Benchmark_Price_Performance_Quarterly] AS [Benchmark_Price_Performance_Quarterly], 
    [Project1].[Security_ID1] AS [Security_ID1], 
    [Project1].[Entity_ID1] AS [Entity_ID1], 
    [Project1].[Security_Name] AS [Security_Name], 
    [Project1].[Short_Name] AS [Short_Name], 
    [Project1].[Primary_Exch] AS [Primary_Exch], 
    [Project1].[Secondary_Exch] AS [Secondary_Exch], 
    [Project1].[Country_Of_Domicile] AS [Country_Of_Domicile], 
    [Project1].[Country_Of_Risk] AS [Country_Of_Risk], 
    [Project1].[Security_Type_Code] AS [Security_Type_Code], 
    [Project1].[Price_Multiplier] AS [Price_Multiplier], 
    [Project1].[Income_Frequency] AS [Income_Frequency], 
    [Project1].[Issuer_Code] AS [Issuer_Code], 
    [Project1].[Ultimate_Issuer_Code] AS [Ultimate_Issuer_Code], 
    [Project1].[Asset_Currency] AS [Asset_Currency], 
    [Project1].[Min_Lot_Size] AS [Min_Lot_Size], 
    [Project1].[AvePrice_Rounding] AS [AvePrice_Rounding], 
    [Project1].[Issue_Date] AS [Issue_Date], 
    [Project1].[Maturity_Date] AS [Maturity_Date], 
    [Project1].[Coupon_Rate] AS [Coupon_Rate], 
    [Project1].[Price_Exchange] AS [Price_Exchange], 
    [Project1].[Trade_Currency] AS [Trade_Currency], 
    [Project1].[Price_Curr] AS [Price_Curr], 
    [Project1].[Currency_Pair_Code] AS [Currency_Pair_Code], 
    [Project1].[Share_Class] AS [Share_Class], 
    [Project1].[Current_Market_Price] AS [Current_Market_Price], 
    [Project1].[Index_Type] AS [Index_Type], 
    [Project1].[Clean_Price_Formula] AS [Clean_Price_Formula], 
    [Project1].[Accrued_Income_Price_Formula] AS [Accrued_Income_Price_Formula], 
    [Project1].[Odd_First_Coupon_Date] AS [Odd_First_Coupon_Date], 
    [Project1].[Odd_Last_Coupon_Date] AS [Odd_Last_Coupon_Date], 
    [Project1].[Coupon_Anniversary_Indicator] AS [Coupon_Anniversary_Indicator], 
    [Project1].[Track_EOM_Flag] AS [Track_EOM_Flag], 
    [Project1].[Next_Coupon_Date] AS [Next_Coupon_Date], 
    [Project1].[Previous_Coupon_Date] AS [Previous_Coupon_Date], 
    [Project1].[Payment_Frequency] AS [Payment_Frequency], 
    [Project1].[Coupon_BusDay_Adjustment] AS [Coupon_BusDay_Adjustment], 
    [Project1].[Next_Ex_Div_Date] AS [Next_Ex_Div_Date], 
    [Project1].[Ex_Div_BusDay_Adjustment] AS [Ex_Div_BusDay_Adjustment], 
    [Project1].[Ex_Div_Period] AS [Ex_Div_Period], 
    [Project1].[Ticker] AS [Ticker], 
    [Project1].[Inet_ID] AS [Inet_ID], 
    [Project1].[Bloomberg_ID] AS [Bloomberg_ID], 
    [Project1].[External_Sec_ID] AS [External_Sec_ID], 
    [Project1].[Reuters_ID] AS [Reuters_ID], 
    [Project1].[ISIN] AS [ISIN], 
    [Project1].[Call_Account_Flag] AS [Call_Account_Flag], 
    [Project1].[System_Locked] AS [System_Locked], 
    [Project1].[Last_Update_User1] AS [Last_Update_User1], 
    [Project1].[Last_Update_Date1] AS [Last_Update_Date1], 
    [Project1].[Security_Status] AS [Security_Status], 
    [Project1].[Benchmark_Portfolio] AS [Benchmark_Portfolio], 
    [Project1].[Active_flag] AS [Active_flag], 
    [Project1].[Dividend_FX_Security_ID] AS [Dividend_FX_Security_ID]
    FROM ( SELECT 
        [Extent1].[Security_ID] AS [Security_ID], 
        [Extent1].[Portfolio_Code] AS [Portfolio_Code], 
        [Extent1].[Entity_ID] AS [Entity_ID], 
        [Extent1].[Excess_Weight_Quarterly] AS [Excess_Weight_Quarterly], 
        [Extent1].[Relative_Contribution_Quarterly] AS [Relative_Contribution_Quarterly], 
        [Extent1].[Allocation_Selection_Interaction_Quarterly] AS [Allocation_Selection_Interaction_Quarterly], 
        [Extent1].[StockVs_TotBenchmarkReturn_Quarterly] AS [StockVs_TotBenchmarkReturn_Quarterly], 
        [Extent1].[Selection_Interaction_Quarterly] AS [Selection_Interaction_Quarterly], 
        [Extent1].[Asset_Allocation_Quarterly] AS [Asset_Allocation_Quarterly], 
        [Extent1].[Excess_Weight_Monthly] AS [Excess_Weight_Monthly], 
        [Extent1].[Relative_Contribution_Monthly] AS [Relative_Contribution_Monthly], 
        [Extent1].[Allocation_Selection_Interaction_Monthly] AS [Allocation_Selection_Interaction_Monthly], 
        [Extent1].[StockVs_TotBenchmarkReturn_Monthly] AS [StockVs_TotBenchmarkReturn_Monthly], 
        [Extent1].[Selection_Interaction_Monthly] AS [Selection_Interaction_Monthly], 
        [Extent1].[Asset_Allocation_Monthly] AS [Asset_Allocation_Monthly], 
        [Extent1].[Excess_Weight_MonthToDate] AS [Excess_Weight_MonthToDate], 
        [Extent1].[Relative_Contribution_MonthToDate] AS [Relative_Contribution_MonthToDate], 
        [Extent1].[Allocation_Selection_Interaction_MonthToDate] AS [Allocation_Selection_Interaction_MonthToDate], 
        [Extent1].[StockVs_TotBenchmarkReturn_MonthToDate] AS [StockVs_TotBenchmarkReturn_MonthToDate], 
        [Extent1].[Selection_Interaction_MonthToDate] AS [Selection_Interaction_MonthToDate], 
        [Extent1].[Asset_Allocation_MonthToDate] AS [Asset_Allocation_MonthToDate], 
        [Extent1].[Last_Update_Date] AS [Last_Update_Date], 
        [Extent1].[Last_Update_User] AS [Last_Update_User], 
        [Extent1].[Security_Weight_Portfolio_Monthly] AS [Security_Weight_Portfolio_Monthly], 
        [Extent1].[Security_Weight_Portfolio_MonthToDate] AS [Security_Weight_Portfolio_MonthToDate], 
        [Extent1].[Security_Weight_Portfolio_Quarterly] AS [Security_Weight_Portfolio_Quarterly], 
        [Extent1].[Security_Weight_Benchmark_Monthly] AS [Security_Weight_Benchmark_Monthly], 
        [Extent1].[Security_Weight_Benchmark_MonthToDate] AS [Security_Weight_Benchmark_MonthToDate], 
        [Extent1].[Security_Weight_Benchmark_Quarterly] AS [Security_Weight_Benchmark_Quarterly], 
        [Extent1].[Total_Return_Security_Price_Monthly] AS [Total_Return_Security_Price_Monthly], 
        [Extent1].[Total_Return_Security_Price_MonthToDate] AS [Total_Return_Security_Price_MonthToDate], 
        [Extent1].[Total_Return_Security_Price_Quarterly] AS [Total_Return_Security_Price_Quarterly], 
        [Extent1].[TW_Return_Portfolio_Monthly] AS [TW_Return_Portfolio_Monthly], 
        [Extent1].[TW_Return_Portfolio_MonthToDate] AS [TW_Return_Portfolio_MonthToDate], 
        [Extent1].[TW_Return_Portfolio_Quarterly] AS [TW_Return_Portfolio_Quarterly], 
        [Extent1].[Record_Date] AS [Record_Date], 
        [Extent1].[Session_ID] AS [Session_ID], 
        [Extent1].[Hist_Last_Update_Date] AS [Hist_Last_Update_Date], 
        [Extent1].[Hist_Last_Update_User] AS [Hist_Last_Update_User], 
        [Extent1].[Benchmark_Price_Performance_Monthly] AS [Benchmark_Price_Performance_Monthly], 
        [Extent1].[Benchmark_Price_Performance_MonthToDate] AS [Benchmark_Price_Performance_MonthToDate], 
        [Extent1].[Benchmark_Price_Performance_Quarterly] AS [Benchmark_Price_Performance_Quarterly], 
        [Extent2].[Security_ID] AS [Security_ID1], 
        [Extent2].[Entity_ID] AS [Entity_ID1], 
        [Extent2].[Security_Name] AS [Security_Name], 
        [Extent2].[Short_Name] AS [Short_Name], 
        [Extent2].[Primary_Exch] AS [Primary_Exch], 
        [Extent2].[Secondary_Exch] AS [Secondary_Exch], 
        [Extent2].[Country_Of_Domicile] AS [Country_Of_Domicile], 
        [Extent2].[Country_Of_Risk] AS [Country_Of_Risk], 
        [Extent2].[Security_Type_Code] AS [Security_Type_Code], 
        [Extent2].[Price_Multiplier] AS [Price_Multiplier], 
        [Extent2].[Income_Frequency] AS [Income_Frequency], 
        [Extent2].[Issuer_Code] AS [Issuer_Code], 
        [Extent2].[Ultimate_Issuer_Code] AS [Ultimate_Issuer_Code], 
        [Extent2].[Asset_Currency] AS [Asset_Currency], 
        [Extent2].[Min_Lot_Size] AS [Min_Lot_Size], 
        [Extent2].[Decimal_Precision] AS [Decimal_Precision], 
        [Extent2].[AvePrice_Rounding] AS [AvePrice_Rounding], 
        [Extent2].[Issue_Date] AS [Issue_Date], 
        [Extent2].[Maturity_Date] AS [Maturity_Date], 
        [Extent2].[Coupon_Rate] AS [Coupon_Rate], 
        [Extent2].[Price_Exchange] AS [Price_Exchange], 
        [Extent2].[Trade_Currency] AS [Trade_Currency], 
        [Extent2].[Price_Curr] AS [Price_Curr], 
        [Extent2].[Currency_Pair_Code] AS [Currency_Pair_Code], 
        [Extent2].[Share_Class] AS [Share_Class], 
        [Extent2].[Current_Market_Price] AS [Current_Market_Price], 
        [Extent2].[Index_Type] AS [Index_Type], 
        [Extent2].[Clean_Price_Formula] AS [Clean_Price_Formula], 
        [Extent2].[Accrued_Income_Price_Formula] AS [Accrued_Income_Price_Formula], 
        [Extent2].[Odd_First_Coupon_Date] AS [Odd_First_Coupon_Date], 
        [Extent2].[Odd_Last_Coupon_Date] AS [Odd_Last_Coupon_Date], 
        [Extent2].[Coupon_Anniversary_Indicator] AS [Coupon_Anniversary_Indicator], 
        [Extent2].[Track_EOM_Flag] AS [Track_EOM_Flag], 
        [Extent2].[Next_Coupon_Date] AS [Next_Coupon_Date], 
        [Extent2].[Previous_Coupon_Date] AS [Previous_Coupon_Date], 
        [Extent2].[Payment_Frequency] AS [Payment_Frequency], 
        [Extent2].[Coupon_BusDay_Adjustment] AS [Coupon_BusDay_Adjustment], 
        [Extent2].[Next_Ex_Div_Date] AS [Next_Ex_Div_Date], 
        [Extent2].[Ex_Div_BusDay_Adjustment] AS [Ex_Div_BusDay_Adjustment], 
        [Extent2].[Ex_Div_Period] AS [Ex_Div_Period], 
        [Extent2].[Ticker] AS [Ticker], 
        [Extent2].[Inet_ID] AS [Inet_ID], 
        [Extent2].[Bloomberg_ID] AS [Bloomberg_ID], 
        [Extent2].[External_Sec_ID] AS [External_Sec_ID], 
        [Extent2].[Reuters_ID] AS [Reuters_ID], 
        [Extent2].[ISIN] AS [ISIN], 
        [Extent2].[Call_Account_Flag] AS [Call_Account_Flag], 
        [Extent2].[System_Locked] AS [System_Locked], 
        [Extent2].[Last_Update_User] AS [Last_Update_User1], 
        [Extent2].[Last_Update_Date] AS [Last_Update_Date1], 
        [Extent2].[Security_Status] AS [Security_Status], 
        [Extent2].[Benchmark_Portfolio] AS [Benchmark_Portfolio], 
        [Extent2].[Active_flag] AS [Active_flag], 
        [Extent2].[Dividend_FX_Security_ID] AS [Dividend_FX_Security_ID]
        FROM  [dbo].[Security_Attribution_History] AS [Extent1]
        INNER JOIN [dbo].[Security_Detail] AS [Extent2] ON [Extent1].[Security_ID] = [Extent2].[Security_ID]
        WHERE ([Extent1].[Security_ID] = @p__linq__0) AND ([Extent1].[Portfolio_Code] = @p__linq__1)
    )  AS [Project1]
    ORDER BY [Project1].[Record_Date] DESC
2018-04-11 13:38:34.6297|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: IF db_id(N'MetopeAzureDb') IS NOT NULL SELECT 1 ELSE SELECT Count(*) FROM sys.databases WHERE [name]=N'MetopeAzureDb'
2018-04-11 13:38:34.7313|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: IF db_id(N'MetopeAzureDb') IS NOT NULL SELECT 1 ELSE SELECT Count(*) FROM sys.databases WHERE [name]=N'MetopeAzureDb'
2018-04-11 13:38:34.7994|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: IF db_id(N'MetopeAzureDb') IS NOT NULL SELECT 1 ELSE SELECT Count(*) FROM sys.databases WHERE [name]=N'MetopeAzureDb'
2018-04-11 13:38:34.8154|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: IF db_id(N'MetopeAzureDb') IS NOT NULL SELECT 1 ELSE SELECT Count(*) FROM sys.databases WHERE [name]=N'MetopeAzureDb'
2018-04-11 13:38:35.3372|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: SELECT 
    [Project1].[Decimal_Precision] AS [Decimal_Precision], 
    [Project1].[Security_ID] AS [Security_ID], 
    [Project1].[Portfolio_Code] AS [Portfolio_Code], 
    [Project1].[Entity_ID] AS [Entity_ID], 
    [Project1].[ModDietz_Performance_Quarterly] AS [ModDietz_Performance_Quarterly], 
    [Project1].[ModDietz_Performance_Monthly] AS [ModDietz_Performance_Monthly], 
    [Project1].[ModDietz_Performance_MonthToDate] AS [ModDietz_Performance_MonthToDate], 
    [Project1].[Dietz_Performance_Quarterly] AS [Dietz_Performance_Quarterly], 
    [Project1].[Dietz_Performance_Monthly] AS [Dietz_Performance_Monthly], 
    [Project1].[Dietz_Performance_MonthToDate] AS [Dietz_Performance_MonthToDate], 
    [Project1].[Last_Update_Date] AS [Last_Update_Date], 
    [Project1].[Last_Update_User] AS [Last_Update_User], 
    [Project1].[Record_Date] AS [Record_Date], 
    [Project1].[Session_ID] AS [Session_ID], 
    [Project1].[Hist_Last_Update_Date] AS [Hist_Last_Update_Date], 
    [Project1].[Hist_Last_Update_User] AS [Hist_Last_Update_User], 
    [Project1].[Security_ID1] AS [Security_ID1], 
    [Project1].[Entity_ID1] AS [Entity_ID1], 
    [Project1].[Security_Name] AS [Security_Name], 
    [Project1].[Short_Name] AS [Short_Name], 
    [Project1].[Primary_Exch] AS [Primary_Exch], 
    [Project1].[Secondary_Exch] AS [Secondary_Exch], 
    [Project1].[Country_Of_Domicile] AS [Country_Of_Domicile], 
    [Project1].[Country_Of_Risk] AS [Country_Of_Risk], 
    [Project1].[Security_Type_Code] AS [Security_Type_Code], 
    [Project1].[Price_Multiplier] AS [Price_Multiplier], 
    [Project1].[Income_Frequency] AS [Income_Frequency], 
    [Project1].[Issuer_Code] AS [Issuer_Code], 
    [Project1].[Ultimate_Issuer_Code] AS [Ultimate_Issuer_Code], 
    [Project1].[Asset_Currency] AS [Asset_Currency], 
    [Project1].[Min_Lot_Size] AS [Min_Lot_Size], 
    [Project1].[AvePrice_Rounding] AS [AvePrice_Rounding], 
    [Project1].[Issue_Date] AS [Issue_Date], 
    [Project1].[Maturity_Date] AS [Maturity_Date], 
    [Project1].[Coupon_Rate] AS [Coupon_Rate], 
    [Project1].[Price_Exchange] AS [Price_Exchange], 
    [Project1].[Trade_Currency] AS [Trade_Currency], 
    [Project1].[Price_Curr] AS [Price_Curr], 
    [Project1].[Currency_Pair_Code] AS [Currency_Pair_Code], 
    [Project1].[Share_Class] AS [Share_Class], 
    [Project1].[Current_Market_Price] AS [Current_Market_Price], 
    [Project1].[Index_Type] AS [Index_Type], 
    [Project1].[Clean_Price_Formula] AS [Clean_Price_Formula], 
    [Project1].[Accrued_Income_Price_Formula] AS [Accrued_Income_Price_Formula], 
    [Project1].[Odd_First_Coupon_Date] AS [Odd_First_Coupon_Date], 
    [Project1].[Odd_Last_Coupon_Date] AS [Odd_Last_Coupon_Date], 
    [Project1].[Coupon_Anniversary_Indicator] AS [Coupon_Anniversary_Indicator], 
    [Project1].[Track_EOM_Flag] AS [Track_EOM_Flag], 
    [Project1].[Next_Coupon_Date] AS [Next_Coupon_Date], 
    [Project1].[Previous_Coupon_Date] AS [Previous_Coupon_Date], 
    [Project1].[Payment_Frequency] AS [Payment_Frequency], 
    [Project1].[Coupon_BusDay_Adjustment] AS [Coupon_BusDay_Adjustment], 
    [Project1].[Next_Ex_Div_Date] AS [Next_Ex_Div_Date], 
    [Project1].[Ex_Div_BusDay_Adjustment] AS [Ex_Div_BusDay_Adjustment], 
    [Project1].[Ex_Div_Period] AS [Ex_Div_Period], 
    [Project1].[Ticker] AS [Ticker], 
    [Project1].[Inet_ID] AS [Inet_ID], 
    [Project1].[Bloomberg_ID] AS [Bloomberg_ID], 
    [Project1].[External_Sec_ID] AS [External_Sec_ID], 
    [Project1].[Reuters_ID] AS [Reuters_ID], 
    [Project1].[ISIN] AS [ISIN], 
    [Project1].[Call_Account_Flag] AS [Call_Account_Flag], 
    [Project1].[System_Locked] AS [System_Locked], 
    [Project1].[Last_Update_User1] AS [Last_Update_User1], 
    [Project1].[Last_Update_Date1] AS [Last_Update_Date1], 
    [Project1].[Security_Status] AS [Security_Status], 
    [Project1].[Benchmark_Portfolio] AS [Benchmark_Portfolio], 
    [Project1].[Active_flag] AS [Active_flag], 
    [Project1].[Dividend_FX_Security_ID] AS [Dividend_FX_Security_ID]
    FROM ( SELECT 
        [Extent1].[Security_ID] AS [Security_ID], 
        [Extent1].[Portfolio_Code] AS [Portfolio_Code], 
        [Extent1].[Entity_ID] AS [Entity_ID], 
        [Extent1].[ModDietz_Performance_Quarterly] AS [ModDietz_Performance_Quarterly], 
        [Extent1].[ModDietz_Performance_Monthly] AS [ModDietz_Performance_Monthly], 
        [Extent1].[ModDietz_Performance_MonthToDate] AS [ModDietz_Performance_MonthToDate], 
        [Extent1].[Dietz_Performance_Quarterly] AS [Dietz_Performance_Quarterly], 
        [Extent1].[Dietz_Performance_Monthly] AS [Dietz_Performance_Monthly], 
        [Extent1].[Dietz_Performance_MonthToDate] AS [Dietz_Performance_MonthToDate], 
        [Extent1].[Last_Update_Date] AS [Last_Update_Date], 
        [Extent1].[Last_Update_User] AS [Last_Update_User], 
        [Extent1].[Record_Date] AS [Record_Date], 
        [Extent1].[Session_ID] AS [Session_ID], 
        [Extent1].[Hist_Last_Update_Date] AS [Hist_Last_Update_Date], 
        [Extent1].[Hist_Last_Update_User] AS [Hist_Last_Update_User], 
        [Extent2].[Security_ID] AS [Security_ID1], 
        [Extent2].[Entity_ID] AS [Entity_ID1], 
        [Extent2].[Security_Name] AS [Security_Name], 
        [Extent2].[Short_Name] AS [Short_Name], 
        [Extent2].[Primary_Exch] AS [Primary_Exch], 
        [Extent2].[Secondary_Exch] AS [Secondary_Exch], 
        [Extent2].[Country_Of_Domicile] AS [Country_Of_Domicile], 
        [Extent2].[Country_Of_Risk] AS [Country_Of_Risk], 
        [Extent2].[Security_Type_Code] AS [Security_Type_Code], 
        [Extent2].[Price_Multiplier] AS [Price_Multiplier], 
        [Extent2].[Income_Frequency] AS [Income_Frequency], 
        [Extent2].[Issuer_Code] AS [Issuer_Code], 
        [Extent2].[Ultimate_Issuer_Code] AS [Ultimate_Issuer_Code], 
        [Extent2].[Asset_Currency] AS [Asset_Currency], 
        [Extent2].[Min_Lot_Size] AS [Min_Lot_Size], 
        [Extent2].[Decimal_Precision] AS [Decimal_Precision], 
        [Extent2].[AvePrice_Rounding] AS [AvePrice_Rounding], 
        [Extent2].[Issue_Date] AS [Issue_Date], 
        [Extent2].[Maturity_Date] AS [Maturity_Date], 
        [Extent2].[Coupon_Rate] AS [Coupon_Rate], 
        [Extent2].[Price_Exchange] AS [Price_Exchange], 
        [Extent2].[Trade_Currency] AS [Trade_Currency], 
        [Extent2].[Price_Curr] AS [Price_Curr], 
        [Extent2].[Currency_Pair_Code] AS [Currency_Pair_Code], 
        [Extent2].[Share_Class] AS [Share_Class], 
        [Extent2].[Current_Market_Price] AS [Current_Market_Price], 
        [Extent2].[Index_Type] AS [Index_Type], 
        [Extent2].[Clean_Price_Formula] AS [Clean_Price_Formula], 
        [Extent2].[Accrued_Income_Price_Formula] AS [Accrued_Income_Price_Formula], 
        [Extent2].[Odd_First_Coupon_Date] AS [Odd_First_Coupon_Date], 
        [Extent2].[Odd_Last_Coupon_Date] AS [Odd_Last_Coupon_Date], 
        [Extent2].[Coupon_Anniversary_Indicator] AS [Coupon_Anniversary_Indicator], 
        [Extent2].[Track_EOM_Flag] AS [Track_EOM_Flag], 
        [Extent2].[Next_Coupon_Date] AS [Next_Coupon_Date], 
        [Extent2].[Previous_Coupon_Date] AS [Previous_Coupon_Date], 
        [Extent2].[Payment_Frequency] AS [Payment_Frequency], 
        [Extent2].[Coupon_BusDay_Adjustment] AS [Coupon_BusDay_Adjustment], 
        [Extent2].[Next_Ex_Div_Date] AS [Next_Ex_Div_Date], 
        [Extent2].[Ex_Div_BusDay_Adjustment] AS [Ex_Div_BusDay_Adjustment], 
        [Extent2].[Ex_Div_Period] AS [Ex_Div_Period], 
        [Extent2].[Ticker] AS [Ticker], 
        [Extent2].[Inet_ID] AS [Inet_ID], 
        [Extent2].[Bloomberg_ID] AS [Bloomberg_ID], 
        [Extent2].[External_Sec_ID] AS [External_Sec_ID], 
        [Extent2].[Reuters_ID] AS [Reuters_ID], 
        [Extent2].[ISIN] AS [ISIN], 
        [Extent2].[Call_Account_Flag] AS [Call_Account_Flag], 
        [Extent2].[System_Locked] AS [System_Locked], 
        [Extent2].[Last_Update_User] AS [Last_Update_User1], 
        [Extent2].[Last_Update_Date] AS [Last_Update_Date1], 
        [Extent2].[Security_Status] AS [Security_Status], 
        [Extent2].[Benchmark_Portfolio] AS [Benchmark_Portfolio], 
        [Extent2].[Active_flag] AS [Active_flag], 
        [Extent2].[Dividend_FX_Security_ID] AS [Dividend_FX_Security_ID]
        FROM  [dbo].[Security_Performance_History] AS [Extent1]
        INNER JOIN [dbo].[Security_Detail] AS [Extent2] ON [Extent1].[Security_ID] = [Extent2].[Security_ID]
        WHERE ([Extent1].[Security_ID] = @p__linq__0) AND ([Extent1].[Portfolio_Code] = @p__linq__1)
    )  AS [Project1]
    ORDER BY [Project1].[Record_Date] DESC
2018-04-11 13:38:35.4928|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: SELECT 
    [Project1].[Decimal_Precision] AS [Decimal_Precision], 
    [Project1].[Security_ID] AS [Security_ID], 
    [Project1].[Portfolio_Code] AS [Portfolio_Code], 
    [Project1].[Entity_ID] AS [Entity_ID], 
    [Project1].[ModDietz_Performance_Quarterly] AS [ModDietz_Performance_Quarterly], 
    [Project1].[ModDietz_Performance_Monthly] AS [ModDietz_Performance_Monthly], 
    [Project1].[ModDietz_Performance_MonthToDate] AS [ModDietz_Performance_MonthToDate], 
    [Project1].[Dietz_Performance_Quarterly] AS [Dietz_Performance_Quarterly], 
    [Project1].[Dietz_Performance_Monthly] AS [Dietz_Performance_Monthly], 
    [Project1].[Dietz_Performance_MonthToDate] AS [Dietz_Performance_MonthToDate], 
    [Project1].[Last_Update_Date] AS [Last_Update_Date], 
    [Project1].[Last_Update_User] AS [Last_Update_User], 
    [Project1].[Record_Date] AS [Record_Date], 
    [Project1].[Session_ID] AS [Session_ID], 
    [Project1].[Hist_Last_Update_Date] AS [Hist_Last_Update_Date], 
    [Project1].[Hist_Last_Update_User] AS [Hist_Last_Update_User], 
    [Project1].[Security_ID1] AS [Security_ID1], 
    [Project1].[Entity_ID1] AS [Entity_ID1], 
    [Project1].[Security_Name] AS [Security_Name], 
    [Project1].[Short_Name] AS [Short_Name], 
    [Project1].[Primary_Exch] AS [Primary_Exch], 
    [Project1].[Secondary_Exch] AS [Secondary_Exch], 
    [Project1].[Country_Of_Domicile] AS [Country_Of_Domicile], 
    [Project1].[Country_Of_Risk] AS [Country_Of_Risk], 
    [Project1].[Security_Type_Code] AS [Security_Type_Code], 
    [Project1].[Price_Multiplier] AS [Price_Multiplier], 
    [Project1].[Income_Frequency] AS [Income_Frequency], 
    [Project1].[Issuer_Code] AS [Issuer_Code], 
    [Project1].[Ultimate_Issuer_Code] AS [Ultimate_Issuer_Code], 
    [Project1].[Asset_Currency] AS [Asset_Currency], 
    [Project1].[Min_Lot_Size] AS [Min_Lot_Size], 
    [Project1].[AvePrice_Rounding] AS [AvePrice_Rounding], 
    [Project1].[Issue_Date] AS [Issue_Date], 
    [Project1].[Maturity_Date] AS [Maturity_Date], 
    [Project1].[Coupon_Rate] AS [Coupon_Rate], 
    [Project1].[Price_Exchange] AS [Price_Exchange], 
    [Project1].[Trade_Currency] AS [Trade_Currency], 
    [Project1].[Price_Curr] AS [Price_Curr], 
    [Project1].[Currency_Pair_Code] AS [Currency_Pair_Code], 
    [Project1].[Share_Class] AS [Share_Class], 
    [Project1].[Current_Market_Price] AS [Current_Market_Price], 
    [Project1].[Index_Type] AS [Index_Type], 
    [Project1].[Clean_Price_Formula] AS [Clean_Price_Formula], 
    [Project1].[Accrued_Income_Price_Formula] AS [Accrued_Income_Price_Formula], 
    [Project1].[Odd_First_Coupon_Date] AS [Odd_First_Coupon_Date], 
    [Project1].[Odd_Last_Coupon_Date] AS [Odd_Last_Coupon_Date], 
    [Project1].[Coupon_Anniversary_Indicator] AS [Coupon_Anniversary_Indicator], 
    [Project1].[Track_EOM_Flag] AS [Track_EOM_Flag], 
    [Project1].[Next_Coupon_Date] AS [Next_Coupon_Date], 
    [Project1].[Previous_Coupon_Date] AS [Previous_Coupon_Date], 
    [Project1].[Payment_Frequency] AS [Payment_Frequency], 
    [Project1].[Coupon_BusDay_Adjustment] AS [Coupon_BusDay_Adjustment], 
    [Project1].[Next_Ex_Div_Date] AS [Next_Ex_Div_Date], 
    [Project1].[Ex_Div_BusDay_Adjustment] AS [Ex_Div_BusDay_Adjustment], 
    [Project1].[Ex_Div_Period] AS [Ex_Div_Period], 
    [Project1].[Ticker] AS [Ticker], 
    [Project1].[Inet_ID] AS [Inet_ID], 
    [Project1].[Bloomberg_ID] AS [Bloomberg_ID], 
    [Project1].[External_Sec_ID] AS [External_Sec_ID], 
    [Project1].[Reuters_ID] AS [Reuters_ID], 
    [Project1].[ISIN] AS [ISIN], 
    [Project1].[Call_Account_Flag] AS [Call_Account_Flag], 
    [Project1].[System_Locked] AS [System_Locked], 
    [Project1].[Last_Update_User1] AS [Last_Update_User1], 
    [Project1].[Last_Update_Date1] AS [Last_Update_Date1], 
    [Project1].[Security_Status] AS [Security_Status], 
    [Project1].[Benchmark_Portfolio] AS [Benchmark_Portfolio], 
    [Project1].[Active_flag] AS [Active_flag], 
    [Project1].[Dividend_FX_Security_ID] AS [Dividend_FX_Security_ID]
    FROM ( SELECT 
        [Extent1].[Security_ID] AS [Security_ID], 
        [Extent1].[Portfolio_Code] AS [Portfolio_Code], 
        [Extent1].[Entity_ID] AS [Entity_ID], 
        [Extent1].[ModDietz_Performance_Quarterly] AS [ModDietz_Performance_Quarterly], 
        [Extent1].[ModDietz_Performance_Monthly] AS [ModDietz_Performance_Monthly], 
        [Extent1].[ModDietz_Performance_MonthToDate] AS [ModDietz_Performance_MonthToDate], 
        [Extent1].[Dietz_Performance_Quarterly] AS [Dietz_Performance_Quarterly], 
        [Extent1].[Dietz_Performance_Monthly] AS [Dietz_Performance_Monthly], 
        [Extent1].[Dietz_Performance_MonthToDate] AS [Dietz_Performance_MonthToDate], 
        [Extent1].[Last_Update_Date] AS [Last_Update_Date], 
        [Extent1].[Last_Update_User] AS [Last_Update_User], 
        [Extent1].[Record_Date] AS [Record_Date], 
        [Extent1].[Session_ID] AS [Session_ID], 
        [Extent1].[Hist_Last_Update_Date] AS [Hist_Last_Update_Date], 
        [Extent1].[Hist_Last_Update_User] AS [Hist_Last_Update_User], 
        [Extent2].[Security_ID] AS [Security_ID1], 
        [Extent2].[Entity_ID] AS [Entity_ID1], 
        [Extent2].[Security_Name] AS [Security_Name], 
        [Extent2].[Short_Name] AS [Short_Name], 
        [Extent2].[Primary_Exch] AS [Primary_Exch], 
        [Extent2].[Secondary_Exch] AS [Secondary_Exch], 
        [Extent2].[Country_Of_Domicile] AS [Country_Of_Domicile], 
        [Extent2].[Country_Of_Risk] AS [Country_Of_Risk], 
        [Extent2].[Security_Type_Code] AS [Security_Type_Code], 
        [Extent2].[Price_Multiplier] AS [Price_Multiplier], 
        [Extent2].[Income_Frequency] AS [Income_Frequency], 
        [Extent2].[Issuer_Code] AS [Issuer_Code], 
        [Extent2].[Ultimate_Issuer_Code] AS [Ultimate_Issuer_Code], 
        [Extent2].[Asset_Currency] AS [Asset_Currency], 
        [Extent2].[Min_Lot_Size] AS [Min_Lot_Size], 
        [Extent2].[Decimal_Precision] AS [Decimal_Precision], 
        [Extent2].[AvePrice_Rounding] AS [AvePrice_Rounding], 
        [Extent2].[Issue_Date] AS [Issue_Date], 
        [Extent2].[Maturity_Date] AS [Maturity_Date], 
        [Extent2].[Coupon_Rate] AS [Coupon_Rate], 
        [Extent2].[Price_Exchange] AS [Price_Exchange], 
        [Extent2].[Trade_Currency] AS [Trade_Currency], 
        [Extent2].[Price_Curr] AS [Price_Curr], 
        [Extent2].[Currency_Pair_Code] AS [Currency_Pair_Code], 
        [Extent2].[Share_Class] AS [Share_Class], 
        [Extent2].[Current_Market_Price] AS [Current_Market_Price], 
        [Extent2].[Index_Type] AS [Index_Type], 
        [Extent2].[Clean_Price_Formula] AS [Clean_Price_Formula], 
        [Extent2].[Accrued_Income_Price_Formula] AS [Accrued_Income_Price_Formula], 
        [Extent2].[Odd_First_Coupon_Date] AS [Odd_First_Coupon_Date], 
        [Extent2].[Odd_Last_Coupon_Date] AS [Odd_Last_Coupon_Date], 
        [Extent2].[Coupon_Anniversary_Indicator] AS [Coupon_Anniversary_Indicator], 
        [Extent2].[Track_EOM_Flag] AS [Track_EOM_Flag], 
        [Extent2].[Next_Coupon_Date] AS [Next_Coupon_Date], 
        [Extent2].[Previous_Coupon_Date] AS [Previous_Coupon_Date], 
        [Extent2].[Payment_Frequency] AS [Payment_Frequency], 
        [Extent2].[Coupon_BusDay_Adjustment] AS [Coupon_BusDay_Adjustment], 
        [Extent2].[Next_Ex_Div_Date] AS [Next_Ex_Div_Date], 
        [Extent2].[Ex_Div_BusDay_Adjustment] AS [Ex_Div_BusDay_Adjustment], 
        [Extent2].[Ex_Div_Period] AS [Ex_Div_Period], 
        [Extent2].[Ticker] AS [Ticker], 
        [Extent2].[Inet_ID] AS [Inet_ID], 
        [Extent2].[Bloomberg_ID] AS [Bloomberg_ID], 
        [Extent2].[External_Sec_ID] AS [External_Sec_ID], 
        [Extent2].[Reuters_ID] AS [Reuters_ID], 
        [Extent2].[ISIN] AS [ISIN], 
        [Extent2].[Call_Account_Flag] AS [Call_Account_Flag], 
        [Extent2].[System_Locked] AS [System_Locked], 
        [Extent2].[Last_Update_User] AS [Last_Update_User1], 
        [Extent2].[Last_Update_Date] AS [Last_Update_Date1], 
        [Extent2].[Security_Status] AS [Security_Status], 
        [Extent2].[Benchmark_Portfolio] AS [Benchmark_Portfolio], 
        [Extent2].[Active_flag] AS [Active_flag], 
        [Extent2].[Dividend_FX_Security_ID] AS [Dividend_FX_Security_ID]
        FROM  [dbo].[Security_Performance_History] AS [Extent1]
        INNER JOIN [dbo].[Security_Detail] AS [Extent2] ON [Extent1].[Security_ID] = [Extent2].[Security_ID]
        WHERE ([Extent1].[Security_ID] = @p__linq__0) AND ([Extent1].[Portfolio_Code] = @p__linq__1)
    )  AS [Project1]
    ORDER BY [Project1].[Record_Date] DESC
2018-04-11 13:38:35.5539|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: IF db_id(N'MetopeAzureDb') IS NOT NULL SELECT 1 ELSE SELECT Count(*) FROM sys.databases WHERE [name]=N'MetopeAzureDb'
2018-04-11 13:38:35.6680|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: IF db_id(N'MetopeAzureDb') IS NOT NULL SELECT 1 ELSE SELECT Count(*) FROM sys.databases WHERE [name]=N'MetopeAzureDb'
2018-04-11 13:38:35.7290|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: IF db_id(N'MetopeAzureDb') IS NOT NULL SELECT 1 ELSE SELECT Count(*) FROM sys.databases WHERE [name]=N'MetopeAzureDb'
2018-04-11 13:38:35.7941|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: IF db_id(N'MetopeAzureDb') IS NOT NULL SELECT 1 ELSE SELECT Count(*) FROM sys.databases WHERE [name]=N'MetopeAzureDb'
2018-04-11 13:38:50.3282|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: SELECT 
    [Project1].[Decimal_Precision] AS [Decimal_Precision], 
    [Project1].[Security_ID] AS [Security_ID], 
    [Project1].[Portfolio_Code] AS [Portfolio_Code], 
    [Project1].[Entity_ID] AS [Entity_ID], 
    [Project1].[Excess_Weight_Quarterly] AS [Excess_Weight_Quarterly], 
    [Project1].[Relative_Contribution_Quarterly] AS [Relative_Contribution_Quarterly], 
    [Project1].[Allocation_Selection_Interaction_Quarterly] AS [Allocation_Selection_Interaction_Quarterly], 
    [Project1].[StockVs_TotBenchmarkReturn_Quarterly] AS [StockVs_TotBenchmarkReturn_Quarterly], 
    [Project1].[Selection_Interaction_Quarterly] AS [Selection_Interaction_Quarterly], 
    [Project1].[Asset_Allocation_Quarterly] AS [Asset_Allocation_Quarterly], 
    [Project1].[Excess_Weight_Monthly] AS [Excess_Weight_Monthly], 
    [Project1].[Relative_Contribution_Monthly] AS [Relative_Contribution_Monthly], 
    [Project1].[Allocation_Selection_Interaction_Monthly] AS [Allocation_Selection_Interaction_Monthly], 
    [Project1].[StockVs_TotBenchmarkReturn_Monthly] AS [StockVs_TotBenchmarkReturn_Monthly], 
    [Project1].[Selection_Interaction_Monthly] AS [Selection_Interaction_Monthly], 
    [Project1].[Asset_Allocation_Monthly] AS [Asset_Allocation_Monthly], 
    [Project1].[Excess_Weight_MonthToDate] AS [Excess_Weight_MonthToDate], 
    [Project1].[Relative_Contribution_MonthToDate] AS [Relative_Contribution_MonthToDate], 
    [Project1].[Allocation_Selection_Interaction_MonthToDate] AS [Allocation_Selection_Interaction_MonthToDate], 
    [Project1].[StockVs_TotBenchmarkReturn_MonthToDate] AS [StockVs_TotBenchmarkReturn_MonthToDate], 
    [Project1].[Selection_Interaction_MonthToDate] AS [Selection_Interaction_MonthToDate], 
    [Project1].[Asset_Allocation_MonthToDate] AS [Asset_Allocation_MonthToDate], 
    [Project1].[Last_Update_Date] AS [Last_Update_Date], 
    [Project1].[Last_Update_User] AS [Last_Update_User], 
    [Project1].[Security_Weight_Portfolio_Monthly] AS [Security_Weight_Portfolio_Monthly], 
    [Project1].[Security_Weight_Portfolio_MonthToDate] AS [Security_Weight_Portfolio_MonthToDate], 
    [Project1].[Security_Weight_Portfolio_Quarterly] AS [Security_Weight_Portfolio_Quarterly], 
    [Project1].[Security_Weight_Benchmark_Monthly] AS [Security_Weight_Benchmark_Monthly], 
    [Project1].[Security_Weight_Benchmark_MonthToDate] AS [Security_Weight_Benchmark_MonthToDate], 
    [Project1].[Security_Weight_Benchmark_Quarterly] AS [Security_Weight_Benchmark_Quarterly], 
    [Project1].[Total_Return_Security_Price_Monthly] AS [Total_Return_Security_Price_Monthly], 
    [Project1].[Total_Return_Security_Price_MonthToDate] AS [Total_Return_Security_Price_MonthToDate], 
    [Project1].[Total_Return_Security_Price_Quarterly] AS [Total_Return_Security_Price_Quarterly], 
    [Project1].[TW_Return_Portfolio_Monthly] AS [TW_Return_Portfolio_Monthly], 
    [Project1].[TW_Return_Portfolio_MonthToDate] AS [TW_Return_Portfolio_MonthToDate], 
    [Project1].[TW_Return_Portfolio_Quarterly] AS [TW_Return_Portfolio_Quarterly], 
    [Project1].[Record_Date] AS [Record_Date], 
    [Project1].[Session_ID] AS [Session_ID], 
    [Project1].[Hist_Last_Update_Date] AS [Hist_Last_Update_Date], 
    [Project1].[Hist_Last_Update_User] AS [Hist_Last_Update_User], 
    [Project1].[Benchmark_Price_Performance_Monthly] AS [Benchmark_Price_Performance_Monthly], 
    [Project1].[Benchmark_Price_Performance_MonthToDate] AS [Benchmark_Price_Performance_MonthToDate], 
    [Project1].[Benchmark_Price_Performance_Quarterly] AS [Benchmark_Price_Performance_Quarterly], 
    [Project1].[Security_ID1] AS [Security_ID1], 
    [Project1].[Entity_ID1] AS [Entity_ID1], 
    [Project1].[Security_Name] AS [Security_Name], 
    [Project1].[Short_Name] AS [Short_Name], 
    [Project1].[Primary_Exch] AS [Primary_Exch], 
    [Project1].[Secondary_Exch] AS [Secondary_Exch], 
    [Project1].[Country_Of_Domicile] AS [Country_Of_Domicile], 
    [Project1].[Country_Of_Risk] AS [Country_Of_Risk], 
    [Project1].[Security_Type_Code] AS [Security_Type_Code], 
    [Project1].[Price_Multiplier] AS [Price_Multiplier], 
    [Project1].[Income_Frequency] AS [Income_Frequency], 
    [Project1].[Issuer_Code] AS [Issuer_Code], 
    [Project1].[Ultimate_Issuer_Code] AS [Ultimate_Issuer_Code], 
    [Project1].[Asset_Currency] AS [Asset_Currency], 
    [Project1].[Min_Lot_Size] AS [Min_Lot_Size], 
    [Project1].[AvePrice_Rounding] AS [AvePrice_Rounding], 
    [Project1].[Issue_Date] AS [Issue_Date], 
    [Project1].[Maturity_Date] AS [Maturity_Date], 
    [Project1].[Coupon_Rate] AS [Coupon_Rate], 
    [Project1].[Price_Exchange] AS [Price_Exchange], 
    [Project1].[Trade_Currency] AS [Trade_Currency], 
    [Project1].[Price_Curr] AS [Price_Curr], 
    [Project1].[Currency_Pair_Code] AS [Currency_Pair_Code], 
    [Project1].[Share_Class] AS [Share_Class], 
    [Project1].[Current_Market_Price] AS [Current_Market_Price], 
    [Project1].[Index_Type] AS [Index_Type], 
    [Project1].[Clean_Price_Formula] AS [Clean_Price_Formula], 
    [Project1].[Accrued_Income_Price_Formula] AS [Accrued_Income_Price_Formula], 
    [Project1].[Odd_First_Coupon_Date] AS [Odd_First_Coupon_Date], 
    [Project1].[Odd_Last_Coupon_Date] AS [Odd_Last_Coupon_Date], 
    [Project1].[Coupon_Anniversary_Indicator] AS [Coupon_Anniversary_Indicator], 
    [Project1].[Track_EOM_Flag] AS [Track_EOM_Flag], 
    [Project1].[Next_Coupon_Date] AS [Next_Coupon_Date], 
    [Project1].[Previous_Coupon_Date] AS [Previous_Coupon_Date], 
    [Project1].[Payment_Frequency] AS [Payment_Frequency], 
    [Project1].[Coupon_BusDay_Adjustment] AS [Coupon_BusDay_Adjustment], 
    [Project1].[Next_Ex_Div_Date] AS [Next_Ex_Div_Date], 
    [Project1].[Ex_Div_BusDay_Adjustment] AS [Ex_Div_BusDay_Adjustment], 
    [Project1].[Ex_Div_Period] AS [Ex_Div_Period], 
    [Project1].[Ticker] AS [Ticker], 
    [Project1].[Inet_ID] AS [Inet_ID], 
    [Project1].[Bloomberg_ID] AS [Bloomberg_ID], 
    [Project1].[External_Sec_ID] AS [External_Sec_ID], 
    [Project1].[Reuters_ID] AS [Reuters_ID], 
    [Project1].[ISIN] AS [ISIN], 
    [Project1].[Call_Account_Flag] AS [Call_Account_Flag], 
    [Project1].[System_Locked] AS [System_Locked], 
    [Project1].[Last_Update_User1] AS [Last_Update_User1], 
    [Project1].[Last_Update_Date1] AS [Last_Update_Date1], 
    [Project1].[Security_Status] AS [Security_Status], 
    [Project1].[Benchmark_Portfolio] AS [Benchmark_Portfolio], 
    [Project1].[Active_flag] AS [Active_flag], 
    [Project1].[Dividend_FX_Security_ID] AS [Dividend_FX_Security_ID]
    FROM ( SELECT 
        [Extent1].[Security_ID] AS [Security_ID], 
        [Extent1].[Portfolio_Code] AS [Portfolio_Code], 
        [Extent1].[Entity_ID] AS [Entity_ID], 
        [Extent1].[Excess_Weight_Quarterly] AS [Excess_Weight_Quarterly], 
        [Extent1].[Relative_Contribution_Quarterly] AS [Relative_Contribution_Quarterly], 
        [Extent1].[Allocation_Selection_Interaction_Quarterly] AS [Allocation_Selection_Interaction_Quarterly], 
        [Extent1].[StockVs_TotBenchmarkReturn_Quarterly] AS [StockVs_TotBenchmarkReturn_Quarterly], 
        [Extent1].[Selection_Interaction_Quarterly] AS [Selection_Interaction_Quarterly], 
        [Extent1].[Asset_Allocation_Quarterly] AS [Asset_Allocation_Quarterly], 
        [Extent1].[Excess_Weight_Monthly] AS [Excess_Weight_Monthly], 
        [Extent1].[Relative_Contribution_Monthly] AS [Relative_Contribution_Monthly], 
        [Extent1].[Allocation_Selection_Interaction_Monthly] AS [Allocation_Selection_Interaction_Monthly], 
        [Extent1].[StockVs_TotBenchmarkReturn_Monthly] AS [StockVs_TotBenchmarkReturn_Monthly], 
        [Extent1].[Selection_Interaction_Monthly] AS [Selection_Interaction_Monthly], 
        [Extent1].[Asset_Allocation_Monthly] AS [Asset_Allocation_Monthly], 
        [Extent1].[Excess_Weight_MonthToDate] AS [Excess_Weight_MonthToDate], 
        [Extent1].[Relative_Contribution_MonthToDate] AS [Relative_Contribution_MonthToDate], 
        [Extent1].[Allocation_Selection_Interaction_MonthToDate] AS [Allocation_Selection_Interaction_MonthToDate], 
        [Extent1].[StockVs_TotBenchmarkReturn_MonthToDate] AS [StockVs_TotBenchmarkReturn_MonthToDate], 
        [Extent1].[Selection_Interaction_MonthToDate] AS [Selection_Interaction_MonthToDate], 
        [Extent1].[Asset_Allocation_MonthToDate] AS [Asset_Allocation_MonthToDate], 
        [Extent1].[Last_Update_Date] AS [Last_Update_Date], 
        [Extent1].[Last_Update_User] AS [Last_Update_User], 
        [Extent1].[Security_Weight_Portfolio_Monthly] AS [Security_Weight_Portfolio_Monthly], 
        [Extent1].[Security_Weight_Portfolio_MonthToDate] AS [Security_Weight_Portfolio_MonthToDate], 
        [Extent1].[Security_Weight_Portfolio_Quarterly] AS [Security_Weight_Portfolio_Quarterly], 
        [Extent1].[Security_Weight_Benchmark_Monthly] AS [Security_Weight_Benchmark_Monthly], 
        [Extent1].[Security_Weight_Benchmark_MonthToDate] AS [Security_Weight_Benchmark_MonthToDate], 
        [Extent1].[Security_Weight_Benchmark_Quarterly] AS [Security_Weight_Benchmark_Quarterly], 
        [Extent1].[Total_Return_Security_Price_Monthly] AS [Total_Return_Security_Price_Monthly], 
        [Extent1].[Total_Return_Security_Price_MonthToDate] AS [Total_Return_Security_Price_MonthToDate], 
        [Extent1].[Total_Return_Security_Price_Quarterly] AS [Total_Return_Security_Price_Quarterly], 
        [Extent1].[TW_Return_Portfolio_Monthly] AS [TW_Return_Portfolio_Monthly], 
        [Extent1].[TW_Return_Portfolio_MonthToDate] AS [TW_Return_Portfolio_MonthToDate], 
        [Extent1].[TW_Return_Portfolio_Quarterly] AS [TW_Return_Portfolio_Quarterly], 
        [Extent1].[Record_Date] AS [Record_Date], 
        [Extent1].[Session_ID] AS [Session_ID], 
        [Extent1].[Hist_Last_Update_Date] AS [Hist_Last_Update_Date], 
        [Extent1].[Hist_Last_Update_User] AS [Hist_Last_Update_User], 
        [Extent1].[Benchmark_Price_Performance_Monthly] AS [Benchmark_Price_Performance_Monthly], 
        [Extent1].[Benchmark_Price_Performance_MonthToDate] AS [Benchmark_Price_Performance_MonthToDate], 
        [Extent1].[Benchmark_Price_Performance_Quarterly] AS [Benchmark_Price_Performance_Quarterly], 
        [Extent2].[Security_ID] AS [Security_ID1], 
        [Extent2].[Entity_ID] AS [Entity_ID1], 
        [Extent2].[Security_Name] AS [Security_Name], 
        [Extent2].[Short_Name] AS [Short_Name], 
        [Extent2].[Primary_Exch] AS [Primary_Exch], 
        [Extent2].[Secondary_Exch] AS [Secondary_Exch], 
        [Extent2].[Country_Of_Domicile] AS [Country_Of_Domicile], 
        [Extent2].[Country_Of_Risk] AS [Country_Of_Risk], 
        [Extent2].[Security_Type_Code] AS [Security_Type_Code], 
        [Extent2].[Price_Multiplier] AS [Price_Multiplier], 
        [Extent2].[Income_Frequency] AS [Income_Frequency], 
        [Extent2].[Issuer_Code] AS [Issuer_Code], 
        [Extent2].[Ultimate_Issuer_Code] AS [Ultimate_Issuer_Code], 
        [Extent2].[Asset_Currency] AS [Asset_Currency], 
        [Extent2].[Min_Lot_Size] AS [Min_Lot_Size], 
        [Extent2].[Decimal_Precision] AS [Decimal_Precision], 
        [Extent2].[AvePrice_Rounding] AS [AvePrice_Rounding], 
        [Extent2].[Issue_Date] AS [Issue_Date], 
        [Extent2].[Maturity_Date] AS [Maturity_Date], 
        [Extent2].[Coupon_Rate] AS [Coupon_Rate], 
        [Extent2].[Price_Exchange] AS [Price_Exchange], 
        [Extent2].[Trade_Currency] AS [Trade_Currency], 
        [Extent2].[Price_Curr] AS [Price_Curr], 
        [Extent2].[Currency_Pair_Code] AS [Currency_Pair_Code], 
        [Extent2].[Share_Class] AS [Share_Class], 
        [Extent2].[Current_Market_Price] AS [Current_Market_Price], 
        [Extent2].[Index_Type] AS [Index_Type], 
        [Extent2].[Clean_Price_Formula] AS [Clean_Price_Formula], 
        [Extent2].[Accrued_Income_Price_Formula] AS [Accrued_Income_Price_Formula], 
        [Extent2].[Odd_First_Coupon_Date] AS [Odd_First_Coupon_Date], 
        [Extent2].[Odd_Last_Coupon_Date] AS [Odd_Last_Coupon_Date], 
        [Extent2].[Coupon_Anniversary_Indicator] AS [Coupon_Anniversary_Indicator], 
        [Extent2].[Track_EOM_Flag] AS [Track_EOM_Flag], 
        [Extent2].[Next_Coupon_Date] AS [Next_Coupon_Date], 
        [Extent2].[Previous_Coupon_Date] AS [Previous_Coupon_Date], 
        [Extent2].[Payment_Frequency] AS [Payment_Frequency], 
        [Extent2].[Coupon_BusDay_Adjustment] AS [Coupon_BusDay_Adjustment], 
        [Extent2].[Next_Ex_Div_Date] AS [Next_Ex_Div_Date], 
        [Extent2].[Ex_Div_BusDay_Adjustment] AS [Ex_Div_BusDay_Adjustment], 
        [Extent2].[Ex_Div_Period] AS [Ex_Div_Period], 
        [Extent2].[Ticker] AS [Ticker], 
        [Extent2].[Inet_ID] AS [Inet_ID], 
        [Extent2].[Bloomberg_ID] AS [Bloomberg_ID], 
        [Extent2].[External_Sec_ID] AS [External_Sec_ID], 
        [Extent2].[Reuters_ID] AS [Reuters_ID], 
        [Extent2].[ISIN] AS [ISIN], 
        [Extent2].[Call_Account_Flag] AS [Call_Account_Flag], 
        [Extent2].[System_Locked] AS [System_Locked], 
        [Extent2].[Last_Update_User] AS [Last_Update_User1], 
        [Extent2].[Last_Update_Date] AS [Last_Update_Date1], 
        [Extent2].[Security_Status] AS [Security_Status], 
        [Extent2].[Benchmark_Portfolio] AS [Benchmark_Portfolio], 
        [Extent2].[Active_flag] AS [Active_flag], 
        [Extent2].[Dividend_FX_Security_ID] AS [Dividend_FX_Security_ID]
        FROM  [dbo].[Security_Attribution_History] AS [Extent1]
        INNER JOIN [dbo].[Security_Detail] AS [Extent2] ON [Extent1].[Security_ID] = [Extent2].[Security_ID]
        WHERE ([Extent1].[Security_ID] = @p__linq__0) AND ([Extent1].[Portfolio_Code] = @p__linq__1)
    )  AS [Project1]
    ORDER BY [Project1].[Record_Date] DESC
2018-04-11 13:38:50.4018|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: SELECT 
    [Project1].[Decimal_Precision] AS [Decimal_Precision], 
    [Project1].[Security_ID] AS [Security_ID], 
    [Project1].[Portfolio_Code] AS [Portfolio_Code], 
    [Project1].[Entity_ID] AS [Entity_ID], 
    [Project1].[Excess_Weight_Quarterly] AS [Excess_Weight_Quarterly], 
    [Project1].[Relative_Contribution_Quarterly] AS [Relative_Contribution_Quarterly], 
    [Project1].[Allocation_Selection_Interaction_Quarterly] AS [Allocation_Selection_Interaction_Quarterly], 
    [Project1].[StockVs_TotBenchmarkReturn_Quarterly] AS [StockVs_TotBenchmarkReturn_Quarterly], 
    [Project1].[Selection_Interaction_Quarterly] AS [Selection_Interaction_Quarterly], 
    [Project1].[Asset_Allocation_Quarterly] AS [Asset_Allocation_Quarterly], 
    [Project1].[Excess_Weight_Monthly] AS [Excess_Weight_Monthly], 
    [Project1].[Relative_Contribution_Monthly] AS [Relative_Contribution_Monthly], 
    [Project1].[Allocation_Selection_Interaction_Monthly] AS [Allocation_Selection_Interaction_Monthly], 
    [Project1].[StockVs_TotBenchmarkReturn_Monthly] AS [StockVs_TotBenchmarkReturn_Monthly], 
    [Project1].[Selection_Interaction_Monthly] AS [Selection_Interaction_Monthly], 
    [Project1].[Asset_Allocation_Monthly] AS [Asset_Allocation_Monthly], 
    [Project1].[Excess_Weight_MonthToDate] AS [Excess_Weight_MonthToDate], 
    [Project1].[Relative_Contribution_MonthToDate] AS [Relative_Contribution_MonthToDate], 
    [Project1].[Allocation_Selection_Interaction_MonthToDate] AS [Allocation_Selection_Interaction_MonthToDate], 
    [Project1].[StockVs_TotBenchmarkReturn_MonthToDate] AS [StockVs_TotBenchmarkReturn_MonthToDate], 
    [Project1].[Selection_Interaction_MonthToDate] AS [Selection_Interaction_MonthToDate], 
    [Project1].[Asset_Allocation_MonthToDate] AS [Asset_Allocation_MonthToDate], 
    [Project1].[Last_Update_Date] AS [Last_Update_Date], 
    [Project1].[Last_Update_User] AS [Last_Update_User], 
    [Project1].[Security_Weight_Portfolio_Monthly] AS [Security_Weight_Portfolio_Monthly], 
    [Project1].[Security_Weight_Portfolio_MonthToDate] AS [Security_Weight_Portfolio_MonthToDate], 
    [Project1].[Security_Weight_Portfolio_Quarterly] AS [Security_Weight_Portfolio_Quarterly], 
    [Project1].[Security_Weight_Benchmark_Monthly] AS [Security_Weight_Benchmark_Monthly], 
    [Project1].[Security_Weight_Benchmark_MonthToDate] AS [Security_Weight_Benchmark_MonthToDate], 
    [Project1].[Security_Weight_Benchmark_Quarterly] AS [Security_Weight_Benchmark_Quarterly], 
    [Project1].[Total_Return_Security_Price_Monthly] AS [Total_Return_Security_Price_Monthly], 
    [Project1].[Total_Return_Security_Price_MonthToDate] AS [Total_Return_Security_Price_MonthToDate], 
    [Project1].[Total_Return_Security_Price_Quarterly] AS [Total_Return_Security_Price_Quarterly], 
    [Project1].[TW_Return_Portfolio_Monthly] AS [TW_Return_Portfolio_Monthly], 
    [Project1].[TW_Return_Portfolio_MonthToDate] AS [TW_Return_Portfolio_MonthToDate], 
    [Project1].[TW_Return_Portfolio_Quarterly] AS [TW_Return_Portfolio_Quarterly], 
    [Project1].[Record_Date] AS [Record_Date], 
    [Project1].[Session_ID] AS [Session_ID], 
    [Project1].[Hist_Last_Update_Date] AS [Hist_Last_Update_Date], 
    [Project1].[Hist_Last_Update_User] AS [Hist_Last_Update_User], 
    [Project1].[Benchmark_Price_Performance_Monthly] AS [Benchmark_Price_Performance_Monthly], 
    [Project1].[Benchmark_Price_Performance_MonthToDate] AS [Benchmark_Price_Performance_MonthToDate], 
    [Project1].[Benchmark_Price_Performance_Quarterly] AS [Benchmark_Price_Performance_Quarterly], 
    [Project1].[Security_ID1] AS [Security_ID1], 
    [Project1].[Entity_ID1] AS [Entity_ID1], 
    [Project1].[Security_Name] AS [Security_Name], 
    [Project1].[Short_Name] AS [Short_Name], 
    [Project1].[Primary_Exch] AS [Primary_Exch], 
    [Project1].[Secondary_Exch] AS [Secondary_Exch], 
    [Project1].[Country_Of_Domicile] AS [Country_Of_Domicile], 
    [Project1].[Country_Of_Risk] AS [Country_Of_Risk], 
    [Project1].[Security_Type_Code] AS [Security_Type_Code], 
    [Project1].[Price_Multiplier] AS [Price_Multiplier], 
    [Project1].[Income_Frequency] AS [Income_Frequency], 
    [Project1].[Issuer_Code] AS [Issuer_Code], 
    [Project1].[Ultimate_Issuer_Code] AS [Ultimate_Issuer_Code], 
    [Project1].[Asset_Currency] AS [Asset_Currency], 
    [Project1].[Min_Lot_Size] AS [Min_Lot_Size], 
    [Project1].[AvePrice_Rounding] AS [AvePrice_Rounding], 
    [Project1].[Issue_Date] AS [Issue_Date], 
    [Project1].[Maturity_Date] AS [Maturity_Date], 
    [Project1].[Coupon_Rate] AS [Coupon_Rate], 
    [Project1].[Price_Exchange] AS [Price_Exchange], 
    [Project1].[Trade_Currency] AS [Trade_Currency], 
    [Project1].[Price_Curr] AS [Price_Curr], 
    [Project1].[Currency_Pair_Code] AS [Currency_Pair_Code], 
    [Project1].[Share_Class] AS [Share_Class], 
    [Project1].[Current_Market_Price] AS [Current_Market_Price], 
    [Project1].[Index_Type] AS [Index_Type], 
    [Project1].[Clean_Price_Formula] AS [Clean_Price_Formula], 
    [Project1].[Accrued_Income_Price_Formula] AS [Accrued_Income_Price_Formula], 
    [Project1].[Odd_First_Coupon_Date] AS [Odd_First_Coupon_Date], 
    [Project1].[Odd_Last_Coupon_Date] AS [Odd_Last_Coupon_Date], 
    [Project1].[Coupon_Anniversary_Indicator] AS [Coupon_Anniversary_Indicator], 
    [Project1].[Track_EOM_Flag] AS [Track_EOM_Flag], 
    [Project1].[Next_Coupon_Date] AS [Next_Coupon_Date], 
    [Project1].[Previous_Coupon_Date] AS [Previous_Coupon_Date], 
    [Project1].[Payment_Frequency] AS [Payment_Frequency], 
    [Project1].[Coupon_BusDay_Adjustment] AS [Coupon_BusDay_Adjustment], 
    [Project1].[Next_Ex_Div_Date] AS [Next_Ex_Div_Date], 
    [Project1].[Ex_Div_BusDay_Adjustment] AS [Ex_Div_BusDay_Adjustment], 
    [Project1].[Ex_Div_Period] AS [Ex_Div_Period], 
    [Project1].[Ticker] AS [Ticker], 
    [Project1].[Inet_ID] AS [Inet_ID], 
    [Project1].[Bloomberg_ID] AS [Bloomberg_ID], 
    [Project1].[External_Sec_ID] AS [External_Sec_ID], 
    [Project1].[Reuters_ID] AS [Reuters_ID], 
    [Project1].[ISIN] AS [ISIN], 
    [Project1].[Call_Account_Flag] AS [Call_Account_Flag], 
    [Project1].[System_Locked] AS [System_Locked], 
    [Project1].[Last_Update_User1] AS [Last_Update_User1], 
    [Project1].[Last_Update_Date1] AS [Last_Update_Date1], 
    [Project1].[Security_Status] AS [Security_Status], 
    [Project1].[Benchmark_Portfolio] AS [Benchmark_Portfolio], 
    [Project1].[Active_flag] AS [Active_flag], 
    [Project1].[Dividend_FX_Security_ID] AS [Dividend_FX_Security_ID]
    FROM ( SELECT 
        [Extent1].[Security_ID] AS [Security_ID], 
        [Extent1].[Portfolio_Code] AS [Portfolio_Code], 
        [Extent1].[Entity_ID] AS [Entity_ID], 
        [Extent1].[Excess_Weight_Quarterly] AS [Excess_Weight_Quarterly], 
        [Extent1].[Relative_Contribution_Quarterly] AS [Relative_Contribution_Quarterly], 
        [Extent1].[Allocation_Selection_Interaction_Quarterly] AS [Allocation_Selection_Interaction_Quarterly], 
        [Extent1].[StockVs_TotBenchmarkReturn_Quarterly] AS [StockVs_TotBenchmarkReturn_Quarterly], 
        [Extent1].[Selection_Interaction_Quarterly] AS [Selection_Interaction_Quarterly], 
        [Extent1].[Asset_Allocation_Quarterly] AS [Asset_Allocation_Quarterly], 
        [Extent1].[Excess_Weight_Monthly] AS [Excess_Weight_Monthly], 
        [Extent1].[Relative_Contribution_Monthly] AS [Relative_Contribution_Monthly], 
        [Extent1].[Allocation_Selection_Interaction_Monthly] AS [Allocation_Selection_Interaction_Monthly], 
        [Extent1].[StockVs_TotBenchmarkReturn_Monthly] AS [StockVs_TotBenchmarkReturn_Monthly], 
        [Extent1].[Selection_Interaction_Monthly] AS [Selection_Interaction_Monthly], 
        [Extent1].[Asset_Allocation_Monthly] AS [Asset_Allocation_Monthly], 
        [Extent1].[Excess_Weight_MonthToDate] AS [Excess_Weight_MonthToDate], 
        [Extent1].[Relative_Contribution_MonthToDate] AS [Relative_Contribution_MonthToDate], 
        [Extent1].[Allocation_Selection_Interaction_MonthToDate] AS [Allocation_Selection_Interaction_MonthToDate], 
        [Extent1].[StockVs_TotBenchmarkReturn_MonthToDate] AS [StockVs_TotBenchmarkReturn_MonthToDate], 
        [Extent1].[Selection_Interaction_MonthToDate] AS [Selection_Interaction_MonthToDate], 
        [Extent1].[Asset_Allocation_MonthToDate] AS [Asset_Allocation_MonthToDate], 
        [Extent1].[Last_Update_Date] AS [Last_Update_Date], 
        [Extent1].[Last_Update_User] AS [Last_Update_User], 
        [Extent1].[Security_Weight_Portfolio_Monthly] AS [Security_Weight_Portfolio_Monthly], 
        [Extent1].[Security_Weight_Portfolio_MonthToDate] AS [Security_Weight_Portfolio_MonthToDate], 
        [Extent1].[Security_Weight_Portfolio_Quarterly] AS [Security_Weight_Portfolio_Quarterly], 
        [Extent1].[Security_Weight_Benchmark_Monthly] AS [Security_Weight_Benchmark_Monthly], 
        [Extent1].[Security_Weight_Benchmark_MonthToDate] AS [Security_Weight_Benchmark_MonthToDate], 
        [Extent1].[Security_Weight_Benchmark_Quarterly] AS [Security_Weight_Benchmark_Quarterly], 
        [Extent1].[Total_Return_Security_Price_Monthly] AS [Total_Return_Security_Price_Monthly], 
        [Extent1].[Total_Return_Security_Price_MonthToDate] AS [Total_Return_Security_Price_MonthToDate], 
        [Extent1].[Total_Return_Security_Price_Quarterly] AS [Total_Return_Security_Price_Quarterly], 
        [Extent1].[TW_Return_Portfolio_Monthly] AS [TW_Return_Portfolio_Monthly], 
        [Extent1].[TW_Return_Portfolio_MonthToDate] AS [TW_Return_Portfolio_MonthToDate], 
        [Extent1].[TW_Return_Portfolio_Quarterly] AS [TW_Return_Portfolio_Quarterly], 
        [Extent1].[Record_Date] AS [Record_Date], 
        [Extent1].[Session_ID] AS [Session_ID], 
        [Extent1].[Hist_Last_Update_Date] AS [Hist_Last_Update_Date], 
        [Extent1].[Hist_Last_Update_User] AS [Hist_Last_Update_User], 
        [Extent1].[Benchmark_Price_Performance_Monthly] AS [Benchmark_Price_Performance_Monthly], 
        [Extent1].[Benchmark_Price_Performance_MonthToDate] AS [Benchmark_Price_Performance_MonthToDate], 
        [Extent1].[Benchmark_Price_Performance_Quarterly] AS [Benchmark_Price_Performance_Quarterly], 
        [Extent2].[Security_ID] AS [Security_ID1], 
        [Extent2].[Entity_ID] AS [Entity_ID1], 
        [Extent2].[Security_Name] AS [Security_Name], 
        [Extent2].[Short_Name] AS [Short_Name], 
        [Extent2].[Primary_Exch] AS [Primary_Exch], 
        [Extent2].[Secondary_Exch] AS [Secondary_Exch], 
        [Extent2].[Country_Of_Domicile] AS [Country_Of_Domicile], 
        [Extent2].[Country_Of_Risk] AS [Country_Of_Risk], 
        [Extent2].[Security_Type_Code] AS [Security_Type_Code], 
        [Extent2].[Price_Multiplier] AS [Price_Multiplier], 
        [Extent2].[Income_Frequency] AS [Income_Frequency], 
        [Extent2].[Issuer_Code] AS [Issuer_Code], 
        [Extent2].[Ultimate_Issuer_Code] AS [Ultimate_Issuer_Code], 
        [Extent2].[Asset_Currency] AS [Asset_Currency], 
        [Extent2].[Min_Lot_Size] AS [Min_Lot_Size], 
        [Extent2].[Decimal_Precision] AS [Decimal_Precision], 
        [Extent2].[AvePrice_Rounding] AS [AvePrice_Rounding], 
        [Extent2].[Issue_Date] AS [Issue_Date], 
        [Extent2].[Maturity_Date] AS [Maturity_Date], 
        [Extent2].[Coupon_Rate] AS [Coupon_Rate], 
        [Extent2].[Price_Exchange] AS [Price_Exchange], 
        [Extent2].[Trade_Currency] AS [Trade_Currency], 
        [Extent2].[Price_Curr] AS [Price_Curr], 
        [Extent2].[Currency_Pair_Code] AS [Currency_Pair_Code], 
        [Extent2].[Share_Class] AS [Share_Class], 
        [Extent2].[Current_Market_Price] AS [Current_Market_Price], 
        [Extent2].[Index_Type] AS [Index_Type], 
        [Extent2].[Clean_Price_Formula] AS [Clean_Price_Formula], 
        [Extent2].[Accrued_Income_Price_Formula] AS [Accrued_Income_Price_Formula], 
        [Extent2].[Odd_First_Coupon_Date] AS [Odd_First_Coupon_Date], 
        [Extent2].[Odd_Last_Coupon_Date] AS [Odd_Last_Coupon_Date], 
        [Extent2].[Coupon_Anniversary_Indicator] AS [Coupon_Anniversary_Indicator], 
        [Extent2].[Track_EOM_Flag] AS [Track_EOM_Flag], 
        [Extent2].[Next_Coupon_Date] AS [Next_Coupon_Date], 
        [Extent2].[Previous_Coupon_Date] AS [Previous_Coupon_Date], 
        [Extent2].[Payment_Frequency] AS [Payment_Frequency], 
        [Extent2].[Coupon_BusDay_Adjustment] AS [Coupon_BusDay_Adjustment], 
        [Extent2].[Next_Ex_Div_Date] AS [Next_Ex_Div_Date], 
        [Extent2].[Ex_Div_BusDay_Adjustment] AS [Ex_Div_BusDay_Adjustment], 
        [Extent2].[Ex_Div_Period] AS [Ex_Div_Period], 
        [Extent2].[Ticker] AS [Ticker], 
        [Extent2].[Inet_ID] AS [Inet_ID], 
        [Extent2].[Bloomberg_ID] AS [Bloomberg_ID], 
        [Extent2].[External_Sec_ID] AS [External_Sec_ID], 
        [Extent2].[Reuters_ID] AS [Reuters_ID], 
        [Extent2].[ISIN] AS [ISIN], 
        [Extent2].[Call_Account_Flag] AS [Call_Account_Flag], 
        [Extent2].[System_Locked] AS [System_Locked], 
        [Extent2].[Last_Update_User] AS [Last_Update_User1], 
        [Extent2].[Last_Update_Date] AS [Last_Update_Date1], 
        [Extent2].[Security_Status] AS [Security_Status], 
        [Extent2].[Benchmark_Portfolio] AS [Benchmark_Portfolio], 
        [Extent2].[Active_flag] AS [Active_flag], 
        [Extent2].[Dividend_FX_Security_ID] AS [Dividend_FX_Security_ID]
        FROM  [dbo].[Security_Attribution_History] AS [Extent1]
        INNER JOIN [dbo].[Security_Detail] AS [Extent2] ON [Extent1].[Security_ID] = [Extent2].[Security_ID]
        WHERE ([Extent1].[Security_ID] = @p__linq__0) AND ([Extent1].[Portfolio_Code] = @p__linq__1)
    )  AS [Project1]
    ORDER BY [Project1].[Record_Date] DESC
2018-04-11 13:38:50.4803|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: IF db_id(N'MetopeAzureDb') IS NOT NULL SELECT 1 ELSE SELECT Count(*) FROM sys.databases WHERE [name]=N'MetopeAzureDb'
2018-04-11 13:38:50.5018|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: IF db_id(N'MetopeAzureDb') IS NOT NULL SELECT 1 ELSE SELECT Count(*) FROM sys.databases WHERE [name]=N'MetopeAzureDb'
2018-04-11 13:38:50.5278|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: IF db_id(N'MetopeAzureDb') IS NOT NULL SELECT 1 ELSE SELECT Count(*) FROM sys.databases WHERE [name]=N'MetopeAzureDb'
2018-04-11 13:38:50.5478|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: IF db_id(N'MetopeAzureDb') IS NOT NULL SELECT 1 ELSE SELECT Count(*) FROM sys.databases WHERE [name]=N'MetopeAzureDb'
2018-04-11 13:38:53.6420|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: SELECT 
    [Project1].[Decimal_Precision] AS [Decimal_Precision], 
    [Project1].[Security_ID] AS [Security_ID], 
    [Project1].[Portfolio_Code] AS [Portfolio_Code], 
    [Project1].[Entity_ID] AS [Entity_ID], 
    [Project1].[Excess_Weight_Quarterly] AS [Excess_Weight_Quarterly], 
    [Project1].[Relative_Contribution_Quarterly] AS [Relative_Contribution_Quarterly], 
    [Project1].[Allocation_Selection_Interaction_Quarterly] AS [Allocation_Selection_Interaction_Quarterly], 
    [Project1].[StockVs_TotBenchmarkReturn_Quarterly] AS [StockVs_TotBenchmarkReturn_Quarterly], 
    [Project1].[Selection_Interaction_Quarterly] AS [Selection_Interaction_Quarterly], 
    [Project1].[Asset_Allocation_Quarterly] AS [Asset_Allocation_Quarterly], 
    [Project1].[Excess_Weight_Monthly] AS [Excess_Weight_Monthly], 
    [Project1].[Relative_Contribution_Monthly] AS [Relative_Contribution_Monthly], 
    [Project1].[Allocation_Selection_Interaction_Monthly] AS [Allocation_Selection_Interaction_Monthly], 
    [Project1].[StockVs_TotBenchmarkReturn_Monthly] AS [StockVs_TotBenchmarkReturn_Monthly], 
    [Project1].[Selection_Interaction_Monthly] AS [Selection_Interaction_Monthly], 
    [Project1].[Asset_Allocation_Monthly] AS [Asset_Allocation_Monthly], 
    [Project1].[Excess_Weight_MonthToDate] AS [Excess_Weight_MonthToDate], 
    [Project1].[Relative_Contribution_MonthToDate] AS [Relative_Contribution_MonthToDate], 
    [Project1].[Allocation_Selection_Interaction_MonthToDate] AS [Allocation_Selection_Interaction_MonthToDate], 
    [Project1].[StockVs_TotBenchmarkReturn_MonthToDate] AS [StockVs_TotBenchmarkReturn_MonthToDate], 
    [Project1].[Selection_Interaction_MonthToDate] AS [Selection_Interaction_MonthToDate], 
    [Project1].[Asset_Allocation_MonthToDate] AS [Asset_Allocation_MonthToDate], 
    [Project1].[Last_Update_Date] AS [Last_Update_Date], 
    [Project1].[Last_Update_User] AS [Last_Update_User], 
    [Project1].[Security_Weight_Portfolio_Monthly] AS [Security_Weight_Portfolio_Monthly], 
    [Project1].[Security_Weight_Portfolio_MonthToDate] AS [Security_Weight_Portfolio_MonthToDate], 
    [Project1].[Security_Weight_Portfolio_Quarterly] AS [Security_Weight_Portfolio_Quarterly], 
    [Project1].[Security_Weight_Benchmark_Monthly] AS [Security_Weight_Benchmark_Monthly], 
    [Project1].[Security_Weight_Benchmark_MonthToDate] AS [Security_Weight_Benchmark_MonthToDate], 
    [Project1].[Security_Weight_Benchmark_Quarterly] AS [Security_Weight_Benchmark_Quarterly], 
    [Project1].[Total_Return_Security_Price_Monthly] AS [Total_Return_Security_Price_Monthly], 
    [Project1].[Total_Return_Security_Price_MonthToDate] AS [Total_Return_Security_Price_MonthToDate], 
    [Project1].[Total_Return_Security_Price_Quarterly] AS [Total_Return_Security_Price_Quarterly], 
    [Project1].[TW_Return_Portfolio_Monthly] AS [TW_Return_Portfolio_Monthly], 
    [Project1].[TW_Return_Portfolio_MonthToDate] AS [TW_Return_Portfolio_MonthToDate], 
    [Project1].[TW_Return_Portfolio_Quarterly] AS [TW_Return_Portfolio_Quarterly], 
    [Project1].[Record_Date] AS [Record_Date], 
    [Project1].[Session_ID] AS [Session_ID], 
    [Project1].[Hist_Last_Update_Date] AS [Hist_Last_Update_Date], 
    [Project1].[Hist_Last_Update_User] AS [Hist_Last_Update_User], 
    [Project1].[Benchmark_Price_Performance_Monthly] AS [Benchmark_Price_Performance_Monthly], 
    [Project1].[Benchmark_Price_Performance_MonthToDate] AS [Benchmark_Price_Performance_MonthToDate], 
    [Project1].[Benchmark_Price_Performance_Quarterly] AS [Benchmark_Price_Performance_Quarterly], 
    [Project1].[Security_ID1] AS [Security_ID1], 
    [Project1].[Entity_ID1] AS [Entity_ID1], 
    [Project1].[Security_Name] AS [Security_Name], 
    [Project1].[Short_Name] AS [Short_Name], 
    [Project1].[Primary_Exch] AS [Primary_Exch], 
    [Project1].[Secondary_Exch] AS [Secondary_Exch], 
    [Project1].[Country_Of_Domicile] AS [Country_Of_Domicile], 
    [Project1].[Country_Of_Risk] AS [Country_Of_Risk], 
    [Project1].[Security_Type_Code] AS [Security_Type_Code], 
    [Project1].[Price_Multiplier] AS [Price_Multiplier], 
    [Project1].[Income_Frequency] AS [Income_Frequency], 
    [Project1].[Issuer_Code] AS [Issuer_Code], 
    [Project1].[Ultimate_Issuer_Code] AS [Ultimate_Issuer_Code], 
    [Project1].[Asset_Currency] AS [Asset_Currency], 
    [Project1].[Min_Lot_Size] AS [Min_Lot_Size], 
    [Project1].[AvePrice_Rounding] AS [AvePrice_Rounding], 
    [Project1].[Issue_Date] AS [Issue_Date], 
    [Project1].[Maturity_Date] AS [Maturity_Date], 
    [Project1].[Coupon_Rate] AS [Coupon_Rate], 
    [Project1].[Price_Exchange] AS [Price_Exchange], 
    [Project1].[Trade_Currency] AS [Trade_Currency], 
    [Project1].[Price_Curr] AS [Price_Curr], 
    [Project1].[Currency_Pair_Code] AS [Currency_Pair_Code], 
    [Project1].[Share_Class] AS [Share_Class], 
    [Project1].[Current_Market_Price] AS [Current_Market_Price], 
    [Project1].[Index_Type] AS [Index_Type], 
    [Project1].[Clean_Price_Formula] AS [Clean_Price_Formula], 
    [Project1].[Accrued_Income_Price_Formula] AS [Accrued_Income_Price_Formula], 
    [Project1].[Odd_First_Coupon_Date] AS [Odd_First_Coupon_Date], 
    [Project1].[Odd_Last_Coupon_Date] AS [Odd_Last_Coupon_Date], 
    [Project1].[Coupon_Anniversary_Indicator] AS [Coupon_Anniversary_Indicator], 
    [Project1].[Track_EOM_Flag] AS [Track_EOM_Flag], 
    [Project1].[Next_Coupon_Date] AS [Next_Coupon_Date], 
    [Project1].[Previous_Coupon_Date] AS [Previous_Coupon_Date], 
    [Project1].[Payment_Frequency] AS [Payment_Frequency], 
    [Project1].[Coupon_BusDay_Adjustment] AS [Coupon_BusDay_Adjustment], 
    [Project1].[Next_Ex_Div_Date] AS [Next_Ex_Div_Date], 
    [Project1].[Ex_Div_BusDay_Adjustment] AS [Ex_Div_BusDay_Adjustment], 
    [Project1].[Ex_Div_Period] AS [Ex_Div_Period], 
    [Project1].[Ticker] AS [Ticker], 
    [Project1].[Inet_ID] AS [Inet_ID], 
    [Project1].[Bloomberg_ID] AS [Bloomberg_ID], 
    [Project1].[External_Sec_ID] AS [External_Sec_ID], 
    [Project1].[Reuters_ID] AS [Reuters_ID], 
    [Project1].[ISIN] AS [ISIN], 
    [Project1].[Call_Account_Flag] AS [Call_Account_Flag], 
    [Project1].[System_Locked] AS [System_Locked], 
    [Project1].[Last_Update_User1] AS [Last_Update_User1], 
    [Project1].[Last_Update_Date1] AS [Last_Update_Date1], 
    [Project1].[Security_Status] AS [Security_Status], 
    [Project1].[Benchmark_Portfolio] AS [Benchmark_Portfolio], 
    [Project1].[Active_flag] AS [Active_flag], 
    [Project1].[Dividend_FX_Security_ID] AS [Dividend_FX_Security_ID]
    FROM ( SELECT 
        [Extent1].[Security_ID] AS [Security_ID], 
        [Extent1].[Portfolio_Code] AS [Portfolio_Code], 
        [Extent1].[Entity_ID] AS [Entity_ID], 
        [Extent1].[Excess_Weight_Quarterly] AS [Excess_Weight_Quarterly], 
        [Extent1].[Relative_Contribution_Quarterly] AS [Relative_Contribution_Quarterly], 
        [Extent1].[Allocation_Selection_Interaction_Quarterly] AS [Allocation_Selection_Interaction_Quarterly], 
        [Extent1].[StockVs_TotBenchmarkReturn_Quarterly] AS [StockVs_TotBenchmarkReturn_Quarterly], 
        [Extent1].[Selection_Interaction_Quarterly] AS [Selection_Interaction_Quarterly], 
        [Extent1].[Asset_Allocation_Quarterly] AS [Asset_Allocation_Quarterly], 
        [Extent1].[Excess_Weight_Monthly] AS [Excess_Weight_Monthly], 
        [Extent1].[Relative_Contribution_Monthly] AS [Relative_Contribution_Monthly], 
        [Extent1].[Allocation_Selection_Interaction_Monthly] AS [Allocation_Selection_Interaction_Monthly], 
        [Extent1].[StockVs_TotBenchmarkReturn_Monthly] AS [StockVs_TotBenchmarkReturn_Monthly], 
        [Extent1].[Selection_Interaction_Monthly] AS [Selection_Interaction_Monthly], 
        [Extent1].[Asset_Allocation_Monthly] AS [Asset_Allocation_Monthly], 
        [Extent1].[Excess_Weight_MonthToDate] AS [Excess_Weight_MonthToDate], 
        [Extent1].[Relative_Contribution_MonthToDate] AS [Relative_Contribution_MonthToDate], 
        [Extent1].[Allocation_Selection_Interaction_MonthToDate] AS [Allocation_Selection_Interaction_MonthToDate], 
        [Extent1].[StockVs_TotBenchmarkReturn_MonthToDate] AS [StockVs_TotBenchmarkReturn_MonthToDate], 
        [Extent1].[Selection_Interaction_MonthToDate] AS [Selection_Interaction_MonthToDate], 
        [Extent1].[Asset_Allocation_MonthToDate] AS [Asset_Allocation_MonthToDate], 
        [Extent1].[Last_Update_Date] AS [Last_Update_Date], 
        [Extent1].[Last_Update_User] AS [Last_Update_User], 
        [Extent1].[Security_Weight_Portfolio_Monthly] AS [Security_Weight_Portfolio_Monthly], 
        [Extent1].[Security_Weight_Portfolio_MonthToDate] AS [Security_Weight_Portfolio_MonthToDate], 
        [Extent1].[Security_Weight_Portfolio_Quarterly] AS [Security_Weight_Portfolio_Quarterly], 
        [Extent1].[Security_Weight_Benchmark_Monthly] AS [Security_Weight_Benchmark_Monthly], 
        [Extent1].[Security_Weight_Benchmark_MonthToDate] AS [Security_Weight_Benchmark_MonthToDate], 
        [Extent1].[Security_Weight_Benchmark_Quarterly] AS [Security_Weight_Benchmark_Quarterly], 
        [Extent1].[Total_Return_Security_Price_Monthly] AS [Total_Return_Security_Price_Monthly], 
        [Extent1].[Total_Return_Security_Price_MonthToDate] AS [Total_Return_Security_Price_MonthToDate], 
        [Extent1].[Total_Return_Security_Price_Quarterly] AS [Total_Return_Security_Price_Quarterly], 
        [Extent1].[TW_Return_Portfolio_Monthly] AS [TW_Return_Portfolio_Monthly], 
        [Extent1].[TW_Return_Portfolio_MonthToDate] AS [TW_Return_Portfolio_MonthToDate], 
        [Extent1].[TW_Return_Portfolio_Quarterly] AS [TW_Return_Portfolio_Quarterly], 
        [Extent1].[Record_Date] AS [Record_Date], 
        [Extent1].[Session_ID] AS [Session_ID], 
        [Extent1].[Hist_Last_Update_Date] AS [Hist_Last_Update_Date], 
        [Extent1].[Hist_Last_Update_User] AS [Hist_Last_Update_User], 
        [Extent1].[Benchmark_Price_Performance_Monthly] AS [Benchmark_Price_Performance_Monthly], 
        [Extent1].[Benchmark_Price_Performance_MonthToDate] AS [Benchmark_Price_Performance_MonthToDate], 
        [Extent1].[Benchmark_Price_Performance_Quarterly] AS [Benchmark_Price_Performance_Quarterly], 
        [Extent2].[Security_ID] AS [Security_ID1], 
        [Extent2].[Entity_ID] AS [Entity_ID1], 
        [Extent2].[Security_Name] AS [Security_Name], 
        [Extent2].[Short_Name] AS [Short_Name], 
        [Extent2].[Primary_Exch] AS [Primary_Exch], 
        [Extent2].[Secondary_Exch] AS [Secondary_Exch], 
        [Extent2].[Country_Of_Domicile] AS [Country_Of_Domicile], 
        [Extent2].[Country_Of_Risk] AS [Country_Of_Risk], 
        [Extent2].[Security_Type_Code] AS [Security_Type_Code], 
        [Extent2].[Price_Multiplier] AS [Price_Multiplier], 
        [Extent2].[Income_Frequency] AS [Income_Frequency], 
        [Extent2].[Issuer_Code] AS [Issuer_Code], 
        [Extent2].[Ultimate_Issuer_Code] AS [Ultimate_Issuer_Code], 
        [Extent2].[Asset_Currency] AS [Asset_Currency], 
        [Extent2].[Min_Lot_Size] AS [Min_Lot_Size], 
        [Extent2].[Decimal_Precision] AS [Decimal_Precision], 
        [Extent2].[AvePrice_Rounding] AS [AvePrice_Rounding], 
        [Extent2].[Issue_Date] AS [Issue_Date], 
        [Extent2].[Maturity_Date] AS [Maturity_Date], 
        [Extent2].[Coupon_Rate] AS [Coupon_Rate], 
        [Extent2].[Price_Exchange] AS [Price_Exchange], 
        [Extent2].[Trade_Currency] AS [Trade_Currency], 
        [Extent2].[Price_Curr] AS [Price_Curr], 
        [Extent2].[Currency_Pair_Code] AS [Currency_Pair_Code], 
        [Extent2].[Share_Class] AS [Share_Class], 
        [Extent2].[Current_Market_Price] AS [Current_Market_Price], 
        [Extent2].[Index_Type] AS [Index_Type], 
        [Extent2].[Clean_Price_Formula] AS [Clean_Price_Formula], 
        [Extent2].[Accrued_Income_Price_Formula] AS [Accrued_Income_Price_Formula], 
        [Extent2].[Odd_First_Coupon_Date] AS [Odd_First_Coupon_Date], 
        [Extent2].[Odd_Last_Coupon_Date] AS [Odd_Last_Coupon_Date], 
        [Extent2].[Coupon_Anniversary_Indicator] AS [Coupon_Anniversary_Indicator], 
        [Extent2].[Track_EOM_Flag] AS [Track_EOM_Flag], 
        [Extent2].[Next_Coupon_Date] AS [Next_Coupon_Date], 
        [Extent2].[Previous_Coupon_Date] AS [Previous_Coupon_Date], 
        [Extent2].[Payment_Frequency] AS [Payment_Frequency], 
        [Extent2].[Coupon_BusDay_Adjustment] AS [Coupon_BusDay_Adjustment], 
        [Extent2].[Next_Ex_Div_Date] AS [Next_Ex_Div_Date], 
        [Extent2].[Ex_Div_BusDay_Adjustment] AS [Ex_Div_BusDay_Adjustment], 
        [Extent2].[Ex_Div_Period] AS [Ex_Div_Period], 
        [Extent2].[Ticker] AS [Ticker], 
        [Extent2].[Inet_ID] AS [Inet_ID], 
        [Extent2].[Bloomberg_ID] AS [Bloomberg_ID], 
        [Extent2].[External_Sec_ID] AS [External_Sec_ID], 
        [Extent2].[Reuters_ID] AS [Reuters_ID], 
        [Extent2].[ISIN] AS [ISIN], 
        [Extent2].[Call_Account_Flag] AS [Call_Account_Flag], 
        [Extent2].[System_Locked] AS [System_Locked], 
        [Extent2].[Last_Update_User] AS [Last_Update_User1], 
        [Extent2].[Last_Update_Date] AS [Last_Update_Date1], 
        [Extent2].[Security_Status] AS [Security_Status], 
        [Extent2].[Benchmark_Portfolio] AS [Benchmark_Portfolio], 
        [Extent2].[Active_flag] AS [Active_flag], 
        [Extent2].[Dividend_FX_Security_ID] AS [Dividend_FX_Security_ID]
        FROM  [dbo].[Security_Attribution_History] AS [Extent1]
        INNER JOIN [dbo].[Security_Detail] AS [Extent2] ON [Extent1].[Security_ID] = [Extent2].[Security_ID]
        WHERE ([Extent1].[Security_ID] = @p__linq__0) AND ([Extent1].[Portfolio_Code] = @p__linq__1)
    )  AS [Project1]
    ORDER BY [Project1].[Record_Date] DESC
2018-04-11 13:38:53.6791|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: SELECT 
    [Project1].[Decimal_Precision] AS [Decimal_Precision], 
    [Project1].[Security_ID] AS [Security_ID], 
    [Project1].[Portfolio_Code] AS [Portfolio_Code], 
    [Project1].[Entity_ID] AS [Entity_ID], 
    [Project1].[Excess_Weight_Quarterly] AS [Excess_Weight_Quarterly], 
    [Project1].[Relative_Contribution_Quarterly] AS [Relative_Contribution_Quarterly], 
    [Project1].[Allocation_Selection_Interaction_Quarterly] AS [Allocation_Selection_Interaction_Quarterly], 
    [Project1].[StockVs_TotBenchmarkReturn_Quarterly] AS [StockVs_TotBenchmarkReturn_Quarterly], 
    [Project1].[Selection_Interaction_Quarterly] AS [Selection_Interaction_Quarterly], 
    [Project1].[Asset_Allocation_Quarterly] AS [Asset_Allocation_Quarterly], 
    [Project1].[Excess_Weight_Monthly] AS [Excess_Weight_Monthly], 
    [Project1].[Relative_Contribution_Monthly] AS [Relative_Contribution_Monthly], 
    [Project1].[Allocation_Selection_Interaction_Monthly] AS [Allocation_Selection_Interaction_Monthly], 
    [Project1].[StockVs_TotBenchmarkReturn_Monthly] AS [StockVs_TotBenchmarkReturn_Monthly], 
    [Project1].[Selection_Interaction_Monthly] AS [Selection_Interaction_Monthly], 
    [Project1].[Asset_Allocation_Monthly] AS [Asset_Allocation_Monthly], 
    [Project1].[Excess_Weight_MonthToDate] AS [Excess_Weight_MonthToDate], 
    [Project1].[Relative_Contribution_MonthToDate] AS [Relative_Contribution_MonthToDate], 
    [Project1].[Allocation_Selection_Interaction_MonthToDate] AS [Allocation_Selection_Interaction_MonthToDate], 
    [Project1].[StockVs_TotBenchmarkReturn_MonthToDate] AS [StockVs_TotBenchmarkReturn_MonthToDate], 
    [Project1].[Selection_Interaction_MonthToDate] AS [Selection_Interaction_MonthToDate], 
    [Project1].[Asset_Allocation_MonthToDate] AS [Asset_Allocation_MonthToDate], 
    [Project1].[Last_Update_Date] AS [Last_Update_Date], 
    [Project1].[Last_Update_User] AS [Last_Update_User], 
    [Project1].[Security_Weight_Portfolio_Monthly] AS [Security_Weight_Portfolio_Monthly], 
    [Project1].[Security_Weight_Portfolio_MonthToDate] AS [Security_Weight_Portfolio_MonthToDate], 
    [Project1].[Security_Weight_Portfolio_Quarterly] AS [Security_Weight_Portfolio_Quarterly], 
    [Project1].[Security_Weight_Benchmark_Monthly] AS [Security_Weight_Benchmark_Monthly], 
    [Project1].[Security_Weight_Benchmark_MonthToDate] AS [Security_Weight_Benchmark_MonthToDate], 
    [Project1].[Security_Weight_Benchmark_Quarterly] AS [Security_Weight_Benchmark_Quarterly], 
    [Project1].[Total_Return_Security_Price_Monthly] AS [Total_Return_Security_Price_Monthly], 
    [Project1].[Total_Return_Security_Price_MonthToDate] AS [Total_Return_Security_Price_MonthToDate], 
    [Project1].[Total_Return_Security_Price_Quarterly] AS [Total_Return_Security_Price_Quarterly], 
    [Project1].[TW_Return_Portfolio_Monthly] AS [TW_Return_Portfolio_Monthly], 
    [Project1].[TW_Return_Portfolio_MonthToDate] AS [TW_Return_Portfolio_MonthToDate], 
    [Project1].[TW_Return_Portfolio_Quarterly] AS [TW_Return_Portfolio_Quarterly], 
    [Project1].[Record_Date] AS [Record_Date], 
    [Project1].[Session_ID] AS [Session_ID], 
    [Project1].[Hist_Last_Update_Date] AS [Hist_Last_Update_Date], 
    [Project1].[Hist_Last_Update_User] AS [Hist_Last_Update_User], 
    [Project1].[Benchmark_Price_Performance_Monthly] AS [Benchmark_Price_Performance_Monthly], 
    [Project1].[Benchmark_Price_Performance_MonthToDate] AS [Benchmark_Price_Performance_MonthToDate], 
    [Project1].[Benchmark_Price_Performance_Quarterly] AS [Benchmark_Price_Performance_Quarterly], 
    [Project1].[Security_ID1] AS [Security_ID1], 
    [Project1].[Entity_ID1] AS [Entity_ID1], 
    [Project1].[Security_Name] AS [Security_Name], 
    [Project1].[Short_Name] AS [Short_Name], 
    [Project1].[Primary_Exch] AS [Primary_Exch], 
    [Project1].[Secondary_Exch] AS [Secondary_Exch], 
    [Project1].[Country_Of_Domicile] AS [Country_Of_Domicile], 
    [Project1].[Country_Of_Risk] AS [Country_Of_Risk], 
    [Project1].[Security_Type_Code] AS [Security_Type_Code], 
    [Project1].[Price_Multiplier] AS [Price_Multiplier], 
    [Project1].[Income_Frequency] AS [Income_Frequency], 
    [Project1].[Issuer_Code] AS [Issuer_Code], 
    [Project1].[Ultimate_Issuer_Code] AS [Ultimate_Issuer_Code], 
    [Project1].[Asset_Currency] AS [Asset_Currency], 
    [Project1].[Min_Lot_Size] AS [Min_Lot_Size], 
    [Project1].[AvePrice_Rounding] AS [AvePrice_Rounding], 
    [Project1].[Issue_Date] AS [Issue_Date], 
    [Project1].[Maturity_Date] AS [Maturity_Date], 
    [Project1].[Coupon_Rate] AS [Coupon_Rate], 
    [Project1].[Price_Exchange] AS [Price_Exchange], 
    [Project1].[Trade_Currency] AS [Trade_Currency], 
    [Project1].[Price_Curr] AS [Price_Curr], 
    [Project1].[Currency_Pair_Code] AS [Currency_Pair_Code], 
    [Project1].[Share_Class] AS [Share_Class], 
    [Project1].[Current_Market_Price] AS [Current_Market_Price], 
    [Project1].[Index_Type] AS [Index_Type], 
    [Project1].[Clean_Price_Formula] AS [Clean_Price_Formula], 
    [Project1].[Accrued_Income_Price_Formula] AS [Accrued_Income_Price_Formula], 
    [Project1].[Odd_First_Coupon_Date] AS [Odd_First_Coupon_Date], 
    [Project1].[Odd_Last_Coupon_Date] AS [Odd_Last_Coupon_Date], 
    [Project1].[Coupon_Anniversary_Indicator] AS [Coupon_Anniversary_Indicator], 
    [Project1].[Track_EOM_Flag] AS [Track_EOM_Flag], 
    [Project1].[Next_Coupon_Date] AS [Next_Coupon_Date], 
    [Project1].[Previous_Coupon_Date] AS [Previous_Coupon_Date], 
    [Project1].[Payment_Frequency] AS [Payment_Frequency], 
    [Project1].[Coupon_BusDay_Adjustment] AS [Coupon_BusDay_Adjustment], 
    [Project1].[Next_Ex_Div_Date] AS [Next_Ex_Div_Date], 
    [Project1].[Ex_Div_BusDay_Adjustment] AS [Ex_Div_BusDay_Adjustment], 
    [Project1].[Ex_Div_Period] AS [Ex_Div_Period], 
    [Project1].[Ticker] AS [Ticker], 
    [Project1].[Inet_ID] AS [Inet_ID], 
    [Project1].[Bloomberg_ID] AS [Bloomberg_ID], 
    [Project1].[External_Sec_ID] AS [External_Sec_ID], 
    [Project1].[Reuters_ID] AS [Reuters_ID], 
    [Project1].[ISIN] AS [ISIN], 
    [Project1].[Call_Account_Flag] AS [Call_Account_Flag], 
    [Project1].[System_Locked] AS [System_Locked], 
    [Project1].[Last_Update_User1] AS [Last_Update_User1], 
    [Project1].[Last_Update_Date1] AS [Last_Update_Date1], 
    [Project1].[Security_Status] AS [Security_Status], 
    [Project1].[Benchmark_Portfolio] AS [Benchmark_Portfolio], 
    [Project1].[Active_flag] AS [Active_flag], 
    [Project1].[Dividend_FX_Security_ID] AS [Dividend_FX_Security_ID]
    FROM ( SELECT 
        [Extent1].[Security_ID] AS [Security_ID], 
        [Extent1].[Portfolio_Code] AS [Portfolio_Code], 
        [Extent1].[Entity_ID] AS [Entity_ID], 
        [Extent1].[Excess_Weight_Quarterly] AS [Excess_Weight_Quarterly], 
        [Extent1].[Relative_Contribution_Quarterly] AS [Relative_Contribution_Quarterly], 
        [Extent1].[Allocation_Selection_Interaction_Quarterly] AS [Allocation_Selection_Interaction_Quarterly], 
        [Extent1].[StockVs_TotBenchmarkReturn_Quarterly] AS [StockVs_TotBenchmarkReturn_Quarterly], 
        [Extent1].[Selection_Interaction_Quarterly] AS [Selection_Interaction_Quarterly], 
        [Extent1].[Asset_Allocation_Quarterly] AS [Asset_Allocation_Quarterly], 
        [Extent1].[Excess_Weight_Monthly] AS [Excess_Weight_Monthly], 
        [Extent1].[Relative_Contribution_Monthly] AS [Relative_Contribution_Monthly], 
        [Extent1].[Allocation_Selection_Interaction_Monthly] AS [Allocation_Selection_Interaction_Monthly], 
        [Extent1].[StockVs_TotBenchmarkReturn_Monthly] AS [StockVs_TotBenchmarkReturn_Monthly], 
        [Extent1].[Selection_Interaction_Monthly] AS [Selection_Interaction_Monthly], 
        [Extent1].[Asset_Allocation_Monthly] AS [Asset_Allocation_Monthly], 
        [Extent1].[Excess_Weight_MonthToDate] AS [Excess_Weight_MonthToDate], 
        [Extent1].[Relative_Contribution_MonthToDate] AS [Relative_Contribution_MonthToDate], 
        [Extent1].[Allocation_Selection_Interaction_MonthToDate] AS [Allocation_Selection_Interaction_MonthToDate], 
        [Extent1].[StockVs_TotBenchmarkReturn_MonthToDate] AS [StockVs_TotBenchmarkReturn_MonthToDate], 
        [Extent1].[Selection_Interaction_MonthToDate] AS [Selection_Interaction_MonthToDate], 
        [Extent1].[Asset_Allocation_MonthToDate] AS [Asset_Allocation_MonthToDate], 
        [Extent1].[Last_Update_Date] AS [Last_Update_Date], 
        [Extent1].[Last_Update_User] AS [Last_Update_User], 
        [Extent1].[Security_Weight_Portfolio_Monthly] AS [Security_Weight_Portfolio_Monthly], 
        [Extent1].[Security_Weight_Portfolio_MonthToDate] AS [Security_Weight_Portfolio_MonthToDate], 
        [Extent1].[Security_Weight_Portfolio_Quarterly] AS [Security_Weight_Portfolio_Quarterly], 
        [Extent1].[Security_Weight_Benchmark_Monthly] AS [Security_Weight_Benchmark_Monthly], 
        [Extent1].[Security_Weight_Benchmark_MonthToDate] AS [Security_Weight_Benchmark_MonthToDate], 
        [Extent1].[Security_Weight_Benchmark_Quarterly] AS [Security_Weight_Benchmark_Quarterly], 
        [Extent1].[Total_Return_Security_Price_Monthly] AS [Total_Return_Security_Price_Monthly], 
        [Extent1].[Total_Return_Security_Price_MonthToDate] AS [Total_Return_Security_Price_MonthToDate], 
        [Extent1].[Total_Return_Security_Price_Quarterly] AS [Total_Return_Security_Price_Quarterly], 
        [Extent1].[TW_Return_Portfolio_Monthly] AS [TW_Return_Portfolio_Monthly], 
        [Extent1].[TW_Return_Portfolio_MonthToDate] AS [TW_Return_Portfolio_MonthToDate], 
        [Extent1].[TW_Return_Portfolio_Quarterly] AS [TW_Return_Portfolio_Quarterly], 
        [Extent1].[Record_Date] AS [Record_Date], 
        [Extent1].[Session_ID] AS [Session_ID], 
        [Extent1].[Hist_Last_Update_Date] AS [Hist_Last_Update_Date], 
        [Extent1].[Hist_Last_Update_User] AS [Hist_Last_Update_User], 
        [Extent1].[Benchmark_Price_Performance_Monthly] AS [Benchmark_Price_Performance_Monthly], 
        [Extent1].[Benchmark_Price_Performance_MonthToDate] AS [Benchmark_Price_Performance_MonthToDate], 
        [Extent1].[Benchmark_Price_Performance_Quarterly] AS [Benchmark_Price_Performance_Quarterly], 
        [Extent2].[Security_ID] AS [Security_ID1], 
        [Extent2].[Entity_ID] AS [Entity_ID1], 
        [Extent2].[Security_Name] AS [Security_Name], 
        [Extent2].[Short_Name] AS [Short_Name], 
        [Extent2].[Primary_Exch] AS [Primary_Exch], 
        [Extent2].[Secondary_Exch] AS [Secondary_Exch], 
        [Extent2].[Country_Of_Domicile] AS [Country_Of_Domicile], 
        [Extent2].[Country_Of_Risk] AS [Country_Of_Risk], 
        [Extent2].[Security_Type_Code] AS [Security_Type_Code], 
        [Extent2].[Price_Multiplier] AS [Price_Multiplier], 
        [Extent2].[Income_Frequency] AS [Income_Frequency], 
        [Extent2].[Issuer_Code] AS [Issuer_Code], 
        [Extent2].[Ultimate_Issuer_Code] AS [Ultimate_Issuer_Code], 
        [Extent2].[Asset_Currency] AS [Asset_Currency], 
        [Extent2].[Min_Lot_Size] AS [Min_Lot_Size], 
        [Extent2].[Decimal_Precision] AS [Decimal_Precision], 
        [Extent2].[AvePrice_Rounding] AS [AvePrice_Rounding], 
        [Extent2].[Issue_Date] AS [Issue_Date], 
        [Extent2].[Maturity_Date] AS [Maturity_Date], 
        [Extent2].[Coupon_Rate] AS [Coupon_Rate], 
        [Extent2].[Price_Exchange] AS [Price_Exchange], 
        [Extent2].[Trade_Currency] AS [Trade_Currency], 
        [Extent2].[Price_Curr] AS [Price_Curr], 
        [Extent2].[Currency_Pair_Code] AS [Currency_Pair_Code], 
        [Extent2].[Share_Class] AS [Share_Class], 
        [Extent2].[Current_Market_Price] AS [Current_Market_Price], 
        [Extent2].[Index_Type] AS [Index_Type], 
        [Extent2].[Clean_Price_Formula] AS [Clean_Price_Formula], 
        [Extent2].[Accrued_Income_Price_Formula] AS [Accrued_Income_Price_Formula], 
        [Extent2].[Odd_First_Coupon_Date] AS [Odd_First_Coupon_Date], 
        [Extent2].[Odd_Last_Coupon_Date] AS [Odd_Last_Coupon_Date], 
        [Extent2].[Coupon_Anniversary_Indicator] AS [Coupon_Anniversary_Indicator], 
        [Extent2].[Track_EOM_Flag] AS [Track_EOM_Flag], 
        [Extent2].[Next_Coupon_Date] AS [Next_Coupon_Date], 
        [Extent2].[Previous_Coupon_Date] AS [Previous_Coupon_Date], 
        [Extent2].[Payment_Frequency] AS [Payment_Frequency], 
        [Extent2].[Coupon_BusDay_Adjustment] AS [Coupon_BusDay_Adjustment], 
        [Extent2].[Next_Ex_Div_Date] AS [Next_Ex_Div_Date], 
        [Extent2].[Ex_Div_BusDay_Adjustment] AS [Ex_Div_BusDay_Adjustment], 
        [Extent2].[Ex_Div_Period] AS [Ex_Div_Period], 
        [Extent2].[Ticker] AS [Ticker], 
        [Extent2].[Inet_ID] AS [Inet_ID], 
        [Extent2].[Bloomberg_ID] AS [Bloomberg_ID], 
        [Extent2].[External_Sec_ID] AS [External_Sec_ID], 
        [Extent2].[Reuters_ID] AS [Reuters_ID], 
        [Extent2].[ISIN] AS [ISIN], 
        [Extent2].[Call_Account_Flag] AS [Call_Account_Flag], 
        [Extent2].[System_Locked] AS [System_Locked], 
        [Extent2].[Last_Update_User] AS [Last_Update_User1], 
        [Extent2].[Last_Update_Date] AS [Last_Update_Date1], 
        [Extent2].[Security_Status] AS [Security_Status], 
        [Extent2].[Benchmark_Portfolio] AS [Benchmark_Portfolio], 
        [Extent2].[Active_flag] AS [Active_flag], 
        [Extent2].[Dividend_FX_Security_ID] AS [Dividend_FX_Security_ID]
        FROM  [dbo].[Security_Attribution_History] AS [Extent1]
        INNER JOIN [dbo].[Security_Detail] AS [Extent2] ON [Extent1].[Security_ID] = [Extent2].[Security_ID]
        WHERE ([Extent1].[Security_ID] = @p__linq__0) AND ([Extent1].[Portfolio_Code] = @p__linq__1)
    )  AS [Project1]
    ORDER BY [Project1].[Record_Date] DESC
2018-04-11 13:38:53.7531|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: IF db_id(N'MetopeAzureDb') IS NOT NULL SELECT 1 ELSE SELECT Count(*) FROM sys.databases WHERE [name]=N'MetopeAzureDb'
2018-04-11 13:38:53.7721|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: IF db_id(N'MetopeAzureDb') IS NOT NULL SELECT 1 ELSE SELECT Count(*) FROM sys.databases WHERE [name]=N'MetopeAzureDb'
2018-04-11 13:38:53.7947|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: IF db_id(N'MetopeAzureDb') IS NOT NULL SELECT 1 ELSE SELECT Count(*) FROM sys.databases WHERE [name]=N'MetopeAzureDb'
2018-04-11 13:38:53.8172|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: IF db_id(N'MetopeAzureDb') IS NOT NULL SELECT 1 ELSE SELECT Count(*) FROM sys.databases WHERE [name]=N'MetopeAzureDb'
2018-04-11 13:38:59.4565|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: IF db_id(N'MetopeAzureDb') IS NOT NULL SELECT 1 ELSE SELECT Count(*) FROM sys.databases WHERE [name]=N'MetopeAzureDb'
2018-04-11 13:38:59.4961|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: IF db_id(N'MetopeAzureDb') IS NOT NULL SELECT 1 ELSE SELECT Count(*) FROM sys.databases WHERE [name]=N'MetopeAzureDb'
2018-04-11 13:38:59.6086|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: SELECT TOP (1) 
    [Project1].[C1] AS [C1], 
    [Project1].[Entity_ID] AS [Entity_ID], 
    [Project1].[Security_ID] AS [Security_ID], 
    [Project1].[Portfolio_Code] AS [Portfolio_Code], 
    [Project1].[Excess_Weight_Quarterly] AS [Excess_Weight_Quarterly], 
    [Project1].[Relative_Contribution_Quarterly] AS [Relative_Contribution_Quarterly], 
    [Project1].[Security_Weight_Portfolio_Monthly] AS [Security_Weight_Portfolio_Monthly], 
    [Project1].[Ticker] AS [Ticker]
    FROM ( SELECT 
        [Extent1].[Security_ID] AS [Security_ID], 
        [Extent1].[Portfolio_Code] AS [Portfolio_Code], 
        [Extent1].[Entity_ID] AS [Entity_ID], 
        [Extent1].[Excess_Weight_Quarterly] AS [Excess_Weight_Quarterly], 
        [Extent1].[Relative_Contribution_Quarterly] AS [Relative_Contribution_Quarterly], 
        [Extent1].[Security_Weight_Portfolio_Monthly] AS [Security_Weight_Portfolio_Monthly], 
        [Extent2].[Ticker] AS [Ticker], 
        1 AS [C1]
        FROM  [dbo].[Security_Attribution] AS [Extent1]
        INNER JOIN [dbo].[Security_Detail] AS [Extent2] ON [Extent1].[Security_ID] = [Extent2].[Security_ID]
        WHERE ([Extent1].[Entity_ID] = @p__linq__0) AND ([Extent1].[Portfolio_Code] = @p__linq__1) AND ([Extent1].[Entity_ID] = @p__linq__2)
    )  AS [Project1]
    ORDER BY [Project1].[Security_ID] ASC
2018-04-11 13:38:59.6552|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: SELECT TOP (1) 
    [Project1].[C1] AS [C1], 
    [Project1].[Entity_ID] AS [Entity_ID], 
    [Project1].[Security_ID] AS [Security_ID], 
    [Project1].[Portfolio_Code] AS [Portfolio_Code], 
    [Project1].[Excess_Weight_Quarterly] AS [Excess_Weight_Quarterly], 
    [Project1].[Relative_Contribution_Quarterly] AS [Relative_Contribution_Quarterly], 
    [Project1].[Security_Weight_Portfolio_Monthly] AS [Security_Weight_Portfolio_Monthly], 
    [Project1].[Ticker] AS [Ticker]
    FROM ( SELECT 
        [Extent1].[Security_ID] AS [Security_ID], 
        [Extent1].[Portfolio_Code] AS [Portfolio_Code], 
        [Extent1].[Entity_ID] AS [Entity_ID], 
        [Extent1].[Excess_Weight_Quarterly] AS [Excess_Weight_Quarterly], 
        [Extent1].[Relative_Contribution_Quarterly] AS [Relative_Contribution_Quarterly], 
        [Extent1].[Security_Weight_Portfolio_Monthly] AS [Security_Weight_Portfolio_Monthly], 
        [Extent2].[Ticker] AS [Ticker], 
        1 AS [C1]
        FROM  [dbo].[Security_Attribution] AS [Extent1]
        INNER JOIN [dbo].[Security_Detail] AS [Extent2] ON [Extent1].[Security_ID] = [Extent2].[Security_ID]
        WHERE ([Extent1].[Entity_ID] = @p__linq__0) AND ([Extent1].[Portfolio_Code] = @p__linq__1) AND ([Extent1].[Entity_ID] = @p__linq__2)
    )  AS [Project1]
    ORDER BY [Project1].[Security_ID] ASC
2018-04-11 13:38:59.6987|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: SELECT 
    [Project1].[C1] AS [C1], 
    [Project1].[Entity_ID] AS [Entity_ID], 
    [Project1].[Security_ID] AS [Security_ID], 
    [Project1].[Portfolio_Code] AS [Portfolio_Code], 
    [Project1].[Excess_Weight_Quarterly] AS [Excess_Weight_Quarterly], 
    [Project1].[Relative_Contribution_Quarterly] AS [Relative_Contribution_Quarterly], 
    [Project1].[Security_Weight_Portfolio_Monthly] AS [Security_Weight_Portfolio_Monthly], 
    [Project1].[Ticker] AS [Ticker]
    FROM ( SELECT 
        [Extent1].[Security_ID] AS [Security_ID], 
        [Extent1].[Portfolio_Code] AS [Portfolio_Code], 
        [Extent1].[Entity_ID] AS [Entity_ID], 
        [Extent1].[Excess_Weight_Quarterly] AS [Excess_Weight_Quarterly], 
        [Extent1].[Relative_Contribution_Quarterly] AS [Relative_Contribution_Quarterly], 
        [Extent1].[Security_Weight_Portfolio_Monthly] AS [Security_Weight_Portfolio_Monthly], 
        [Extent2].[Ticker] AS [Ticker], 
        1 AS [C1]
        FROM  [dbo].[Security_Attribution] AS [Extent1]
        INNER JOIN [dbo].[Security_Detail] AS [Extent2] ON [Extent1].[Security_ID] = [Extent2].[Security_ID]
        WHERE ([Extent1].[Entity_ID] = @p__linq__0) AND ([Extent1].[Portfolio_Code] = @p__linq__1) AND ([Extent1].[Entity_ID] = @p__linq__2)
    )  AS [Project1]
    ORDER BY [Project1].[Security_ID] ASC
2018-04-11 13:38:59.7312|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: SELECT 
    [Project1].[C1] AS [C1], 
    [Project1].[Entity_ID] AS [Entity_ID], 
    [Project1].[Security_ID] AS [Security_ID], 
    [Project1].[Portfolio_Code] AS [Portfolio_Code], 
    [Project1].[Excess_Weight_Quarterly] AS [Excess_Weight_Quarterly], 
    [Project1].[Relative_Contribution_Quarterly] AS [Relative_Contribution_Quarterly], 
    [Project1].[Security_Weight_Portfolio_Monthly] AS [Security_Weight_Portfolio_Monthly], 
    [Project1].[Ticker] AS [Ticker]
    FROM ( SELECT 
        [Extent1].[Security_ID] AS [Security_ID], 
        [Extent1].[Portfolio_Code] AS [Portfolio_Code], 
        [Extent1].[Entity_ID] AS [Entity_ID], 
        [Extent1].[Excess_Weight_Quarterly] AS [Excess_Weight_Quarterly], 
        [Extent1].[Relative_Contribution_Quarterly] AS [Relative_Contribution_Quarterly], 
        [Extent1].[Security_Weight_Portfolio_Monthly] AS [Security_Weight_Portfolio_Monthly], 
        [Extent2].[Ticker] AS [Ticker], 
        1 AS [C1]
        FROM  [dbo].[Security_Attribution] AS [Extent1]
        INNER JOIN [dbo].[Security_Detail] AS [Extent2] ON [Extent1].[Security_ID] = [Extent2].[Security_ID]
        WHERE ([Extent1].[Entity_ID] = @p__linq__0) AND ([Extent1].[Portfolio_Code] = @p__linq__1) AND ([Extent1].[Entity_ID] = @p__linq__2)
    )  AS [Project1]
    ORDER BY [Project1].[Security_ID] ASC
2018-04-11 13:39:03.6580|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: IF db_id(N'MetopeAzureDb') IS NOT NULL SELECT 1 ELSE SELECT Count(*) FROM sys.databases WHERE [name]=N'MetopeAzureDb'
2018-04-11 13:39:03.6715|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: IF db_id(N'MetopeAzureDb') IS NOT NULL SELECT 1 ELSE SELECT Count(*) FROM sys.databases WHERE [name]=N'MetopeAzureDb'
2018-04-11 13:39:03.6880|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: IF db_id(N'MetopeAzureDb') IS NOT NULL SELECT 1 ELSE SELECT Count(*) FROM sys.databases WHERE [name]=N'MetopeAzureDb'
2018-04-11 13:39:03.7061|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: IF db_id(N'MetopeAzureDb') IS NOT NULL SELECT 1 ELSE SELECT Count(*) FROM sys.databases WHERE [name]=N'MetopeAzureDb'
2018-04-11 13:51:07.1979|ERROR|ASP.MetopeNspace.MvcApplication|Error caught in Application_Error event
, http://localhost:53133/SecurityPerformanceHistory/Index 
 Error in: Object reference not set to an instance of an object., 
Stack Trace:   at MetopeMVCApp.DecimalModelBinder.BindModel(ControllerContext controllerContext, ModelBindingContext bindingContext) in c:\BlueStream\Development\Metope\WebSite\MetopeMVCApp\MetopeMVCApp\DecimalModelBinder.cs:line 19
   at System.Web.Mvc.ControllerActionInvoker.GetParameterValue(ControllerContext controllerContext, ParameterDescriptor parameterDescriptor)
   at System.Web.Mvc.ControllerActionInvoker.GetParameterValues(ControllerContext controllerContext, ActionDescriptor actionDescriptor)
   at System.Web.Mvc.Async.AsyncControllerActionInvoker.<>c__DisplayClass21.<BeginInvokeAction>b__19(AsyncCallback asyncCallback, Object asyncState)
   at System.Web.Mvc.Async.AsyncResultWrapper.WrappedAsyncResult`1.CallBeginDelegate(AsyncCallback callback, Object callbackState)
   at System.Web.Mvc.Async.AsyncResultWrapper.WrappedAsyncResultBase`1.Begin(AsyncCallback callback, Object state, Int32 timeout)
   at System.Web.Mvc.Async.AsyncControllerActionInvoker.BeginInvokeAction(ControllerContext controllerContext, String actionName, AsyncCallback callback, Object state)
   at System.Web.Mvc.Controller.<BeginExecuteCore>b__1c(AsyncCallback asyncCallback, Object asyncState, ExecuteCoreState innerState)
   at System.Web.Mvc.Async.AsyncResultWrapper.WrappedAsyncVoid`1.CallBeginDelegate(AsyncCallback callback, Object callbackState)
   at System.Web.Mvc.Async.AsyncResultWrapper.WrappedAsyncResultBase`1.Begin(AsyncCallback callback, Object state, Int32 timeout)
   at System.Web.Mvc.Controller.BeginExecuteCore(AsyncCallback callback, Object state)
   at System.Web.Mvc.Controller.<BeginExecute>b__14(AsyncCallback asyncCallback, Object callbackState, Controller controller)
   at System.Web.Mvc.Async.AsyncResultWrapper.WrappedAsyncVoid`1.CallBeginDelegate(AsyncCallback callback, Object callbackState)
   at System.Web.Mvc.Async.AsyncResultWrapper.WrappedAsyncResultBase`1.Begin(AsyncCallback callback, Object state, Int32 timeout)
   at System.Web.Mvc.Controller.BeginExecute(RequestContext requestContext, AsyncCallback callback, Object state)
   at System.Web.Mvc.Controller.System.Web.Mvc.Async.IAsyncController.BeginExecute(RequestContext requestContext, AsyncCallback callback, Object state)
   at System.Web.Mvc.MvcHandler.<BeginProcessRequest>b__4(AsyncCallback asyncCallback, Object asyncState, ProcessRequestState innerState)
   at System.Web.Mvc.Async.AsyncResultWrapper.WrappedAsyncVoid`1.CallBeginDelegate(AsyncCallback callback, Object callbackState)
   at System.Web.Mvc.Async.AsyncResultWrapper.WrappedAsyncResultBase`1.Begin(AsyncCallback callback, Object state, Int32 timeout)
   at System.Web.Mvc.MvcHandler.BeginProcessRequest(HttpContextBase httpContext, AsyncCallback callback, Object state)
   at System.Web.Mvc.MvcHandler.BeginProcessRequest(HttpContext httpContext, AsyncCallback callback, Object state)
   at System.Web.Mvc.MvcHandler.System.Web.IHttpAsyncHandler.BeginProcessRequest(HttpContext context, AsyncCallback cb, Object extraData)
   at System.Web.HttpApplication.CallHandlerExecutionStep.System.Web.HttpApplication.IExecutionStep.Execute()
   at System.Web.HttpApplication.ExecuteStepImpl(IExecutionStep step)
   at System.Web.HttpApplication.ExecuteStep(IExecutionStep step, Boolean& completedSynchronously)
Session: Identity name:aaaaaa IsAuthenticated:True 
2018-04-11 13:51:07.6247|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: select cast(serverproperty('EngineEdition') as int)
2018-04-11 13:51:07.6517|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: select cast(serverproperty('EngineEdition') as int)
2018-04-11 13:51:09.4815|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: IF db_id(N'MetopeAzureDb') IS NOT NULL SELECT 1 ELSE SELECT Count(*) FROM sys.databases WHERE [name]=N'MetopeAzureDb'
2018-04-11 13:51:09.5475|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: IF db_id(N'MetopeAzureDb') IS NOT NULL SELECT 1 ELSE SELECT Count(*) FROM sys.databases WHERE [name]=N'MetopeAzureDb'
2018-04-11 13:51:09.6906|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: IF db_id(N'MetopeAzureDb') IS NOT NULL SELECT 1 ELSE SELECT Count(*) FROM sys.databases WHERE [name]=N'MetopeAzureDb'
2018-04-11 13:51:09.7141|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: IF db_id(N'MetopeAzureDb') IS NOT NULL SELECT 1 ELSE SELECT Count(*) FROM sys.databases WHERE [name]=N'MetopeAzureDb'
2018-04-11 13:51:09.7417|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: 
SELECT Count(*)
FROM INFORMATION_SCHEMA.TABLES AS t
WHERE t.TABLE_SCHEMA + '.' + t.TABLE_NAME IN ('dbo.AspNetRoles','dbo.AspNetUserRoles','dbo.AspNetUsers','dbo.AspNetUserClaims','dbo.AspNetUserLogins')
    OR t.TABLE_NAME = 'EdmMetadata'
2018-04-11 13:51:09.7897|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: 
SELECT Count(*)
FROM INFORMATION_SCHEMA.TABLES AS t
WHERE t.TABLE_SCHEMA + '.' + t.TABLE_NAME IN ('dbo.AspNetRoles','dbo.AspNetUserRoles','dbo.AspNetUsers','dbo.AspNetUserClaims','dbo.AspNetUserLogins')
    OR t.TABLE_NAME = 'EdmMetadata'
2018-04-11 13:51:11.9451|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: SELECT 
    [GroupBy1].[A1] AS [C1]
    FROM ( SELECT 
        COUNT(1) AS [A1]
        FROM [dbo].[__MigrationHistory] AS [Extent1]
        WHERE [Extent1].[ContextKey] = @p__linq__0
    )  AS [GroupBy1]
2018-04-11 13:51:11.9737|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: SELECT 
    [GroupBy1].[A1] AS [C1]
    FROM ( SELECT 
        COUNT(1) AS [A1]
        FROM [dbo].[__MigrationHistory] AS [Extent1]
        WHERE [Extent1].[ContextKey] = @p__linq__0
    )  AS [GroupBy1]
2018-04-11 13:51:12.1308|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: SELECT TOP (1) 
    [Project1].[C1] AS [C1], 
    [Project1].[MigrationId] AS [MigrationId], 
    [Project1].[Model] AS [Model], 
    [Project1].[ProductVersion] AS [ProductVersion]
    FROM ( SELECT 
        [Extent1].[MigrationId] AS [MigrationId], 
        [Extent1].[Model] AS [Model], 
        [Extent1].[ProductVersion] AS [ProductVersion], 
        1 AS [C1]
        FROM [dbo].[__MigrationHistory] AS [Extent1]
        WHERE [Extent1].[ContextKey] = @p__linq__0
    )  AS [Project1]
    ORDER BY [Project1].[MigrationId] DESC
2018-04-11 13:51:12.1458|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: SELECT TOP (1) 
    [Project1].[C1] AS [C1], 
    [Project1].[MigrationId] AS [MigrationId], 
    [Project1].[Model] AS [Model], 
    [Project1].[ProductVersion] AS [ProductVersion]
    FROM ( SELECT 
        [Extent1].[MigrationId] AS [MigrationId], 
        [Extent1].[Model] AS [Model], 
        [Extent1].[ProductVersion] AS [ProductVersion], 
        1 AS [C1]
        FROM [dbo].[__MigrationHistory] AS [Extent1]
        WHERE [Extent1].[ContextKey] = @p__linq__0
    )  AS [Project1]
    ORDER BY [Project1].[MigrationId] DESC
2018-04-11 13:51:13.0826|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: True, Command Text: SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[EntityIdScope] AS [EntityIdScope], 
    [Extent1].[Email] AS [Email], 
    [Extent1].[EmailConfirmed] AS [EmailConfirmed], 
    [Extent1].[PasswordHash] AS [PasswordHash], 
    [Extent1].[SecurityStamp] AS [SecurityStamp], 
    [Extent1].[PhoneNumber] AS [PhoneNumber], 
    [Extent1].[PhoneNumberConfirmed] AS [PhoneNumberConfirmed], 
    [Extent1].[TwoFactorEnabled] AS [TwoFactorEnabled], 
    [Extent1].[LockoutEndDateUtc] AS [LockoutEndDateUtc], 
    [Extent1].[LockoutEnabled] AS [LockoutEnabled], 
    [Extent1].[AccessFailedCount] AS [AccessFailedCount], 
    [Extent1].[UserName] AS [UserName]
    FROM [dbo].[AspNetUsers] AS [Extent1]
    WHERE [Extent1].[Id] = @p0
2018-04-11 13:51:13.1196|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: True, Command Text: SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[EntityIdScope] AS [EntityIdScope], 
    [Extent1].[Email] AS [Email], 
    [Extent1].[EmailConfirmed] AS [EmailConfirmed], 
    [Extent1].[PasswordHash] AS [PasswordHash], 
    [Extent1].[SecurityStamp] AS [SecurityStamp], 
    [Extent1].[PhoneNumber] AS [PhoneNumber], 
    [Extent1].[PhoneNumberConfirmed] AS [PhoneNumberConfirmed], 
    [Extent1].[TwoFactorEnabled] AS [TwoFactorEnabled], 
    [Extent1].[LockoutEndDateUtc] AS [LockoutEndDateUtc], 
    [Extent1].[LockoutEnabled] AS [LockoutEnabled], 
    [Extent1].[AccessFailedCount] AS [AccessFailedCount], 
    [Extent1].[UserName] AS [UserName]
    FROM [dbo].[AspNetUsers] AS [Extent1]
    WHERE [Extent1].[Id] = @p0
2018-04-11 13:51:13.3492|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: True, Command Text: SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[UserId] AS [UserId], 
    [Extent1].[ClaimType] AS [ClaimType], 
    [Extent1].[ClaimValue] AS [ClaimValue]
    FROM [dbo].[AspNetUserClaims] AS [Extent1]
    WHERE [Extent1].[UserId] = @p__linq__0
2018-04-11 13:51:13.3588|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: True, Command Text: SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[UserId] AS [UserId], 
    [Extent1].[ClaimType] AS [ClaimType], 
    [Extent1].[ClaimValue] AS [ClaimValue]
    FROM [dbo].[AspNetUserClaims] AS [Extent1]
    WHERE [Extent1].[UserId] = @p__linq__0
2018-04-11 13:51:13.3998|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: True, Command Text: SELECT 
    [Extent1].[LoginProvider] AS [LoginProvider], 
    [Extent1].[ProviderKey] AS [ProviderKey], 
    [Extent1].[UserId] AS [UserId]
    FROM [dbo].[AspNetUserLogins] AS [Extent1]
    WHERE [Extent1].[UserId] = @p__linq__0
2018-04-11 13:51:13.3998|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: True, Command Text: SELECT 
    [Extent1].[LoginProvider] AS [LoginProvider], 
    [Extent1].[ProviderKey] AS [ProviderKey], 
    [Extent1].[UserId] AS [UserId]
    FROM [dbo].[AspNetUserLogins] AS [Extent1]
    WHERE [Extent1].[UserId] = @p__linq__0
2018-04-11 13:51:13.4428|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: True, Command Text: SELECT 
    [Extent1].[UserId] AS [UserId], 
    [Extent1].[RoleId] AS [RoleId]
    FROM [dbo].[AspNetUserRoles] AS [Extent1]
    WHERE [Extent1].[UserId] = @p__linq__0
2018-04-11 13:51:13.4523|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: True, Command Text: SELECT 
    [Extent1].[UserId] AS [UserId], 
    [Extent1].[RoleId] AS [RoleId]
    FROM [dbo].[AspNetUserRoles] AS [Extent1]
    WHERE [Extent1].[UserId] = @p__linq__0
2018-04-11 13:51:14.0127|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: IF db_id(N'MetopeAzureDb') IS NOT NULL SELECT 1 ELSE SELECT Count(*) FROM sys.databases WHERE [name]=N'MetopeAzureDb'
2018-04-11 13:51:14.0127|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: IF db_id(N'MetopeAzureDb') IS NOT NULL SELECT 1 ELSE SELECT Count(*) FROM sys.databases WHERE [name]=N'MetopeAzureDb'
2018-04-11 13:51:14.0302|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: IF db_id(N'MetopeAzureDb') IS NOT NULL SELECT 1 ELSE SELECT Count(*) FROM sys.databases WHERE [name]=N'MetopeAzureDb'
2018-04-11 13:51:14.0387|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: IF db_id(N'MetopeAzureDb') IS NOT NULL SELECT 1 ELSE SELECT Count(*) FROM sys.databases WHERE [name]=N'MetopeAzureDb'
2018-04-11 13:51:14.0387|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: True, Command Text: SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[EntityIdScope] AS [EntityIdScope], 
    [Extent1].[Email] AS [Email], 
    [Extent1].[EmailConfirmed] AS [EmailConfirmed], 
    [Extent1].[PasswordHash] AS [PasswordHash], 
    [Extent1].[SecurityStamp] AS [SecurityStamp], 
    [Extent1].[PhoneNumber] AS [PhoneNumber], 
    [Extent1].[PhoneNumberConfirmed] AS [PhoneNumberConfirmed], 
    [Extent1].[TwoFactorEnabled] AS [TwoFactorEnabled], 
    [Extent1].[LockoutEndDateUtc] AS [LockoutEndDateUtc], 
    [Extent1].[LockoutEnabled] AS [LockoutEnabled], 
    [Extent1].[AccessFailedCount] AS [AccessFailedCount], 
    [Extent1].[UserName] AS [UserName]
    FROM [dbo].[AspNetUsers] AS [Extent1]
    WHERE [Extent1].[Id] = @p0
2018-04-11 13:51:14.0567|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: True, Command Text: SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[EntityIdScope] AS [EntityIdScope], 
    [Extent1].[Email] AS [Email], 
    [Extent1].[EmailConfirmed] AS [EmailConfirmed], 
    [Extent1].[PasswordHash] AS [PasswordHash], 
    [Extent1].[SecurityStamp] AS [SecurityStamp], 
    [Extent1].[PhoneNumber] AS [PhoneNumber], 
    [Extent1].[PhoneNumberConfirmed] AS [PhoneNumberConfirmed], 
    [Extent1].[TwoFactorEnabled] AS [TwoFactorEnabled], 
    [Extent1].[LockoutEndDateUtc] AS [LockoutEndDateUtc], 
    [Extent1].[LockoutEnabled] AS [LockoutEnabled], 
    [Extent1].[AccessFailedCount] AS [AccessFailedCount], 
    [Extent1].[UserName] AS [UserName]
    FROM [dbo].[AspNetUsers] AS [Extent1]
    WHERE [Extent1].[Id] = @p0
2018-04-11 13:51:14.0567|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: True, Command Text: SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[UserId] AS [UserId], 
    [Extent1].[ClaimType] AS [ClaimType], 
    [Extent1].[ClaimValue] AS [ClaimValue]
    FROM [dbo].[AspNetUserClaims] AS [Extent1]
    WHERE [Extent1].[UserId] = @p__linq__0
2018-04-11 13:51:14.0743|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: True, Command Text: SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[UserId] AS [UserId], 
    [Extent1].[ClaimType] AS [ClaimType], 
    [Extent1].[ClaimValue] AS [ClaimValue]
    FROM [dbo].[AspNetUserClaims] AS [Extent1]
    WHERE [Extent1].[UserId] = @p__linq__0
2018-04-11 13:51:14.0743|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: True, Command Text: SELECT 
    [Extent1].[LoginProvider] AS [LoginProvider], 
    [Extent1].[ProviderKey] AS [ProviderKey], 
    [Extent1].[UserId] AS [UserId]
    FROM [dbo].[AspNetUserLogins] AS [Extent1]
    WHERE [Extent1].[UserId] = @p__linq__0
2018-04-11 13:51:14.0893|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: True, Command Text: SELECT 
    [Extent1].[LoginProvider] AS [LoginProvider], 
    [Extent1].[ProviderKey] AS [ProviderKey], 
    [Extent1].[UserId] AS [UserId]
    FROM [dbo].[AspNetUserLogins] AS [Extent1]
    WHERE [Extent1].[UserId] = @p__linq__0
2018-04-11 13:51:14.0893|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: True, Command Text: SELECT 
    [Extent1].[UserId] AS [UserId], 
    [Extent1].[RoleId] AS [RoleId]
    FROM [dbo].[AspNetUserRoles] AS [Extent1]
    WHERE [Extent1].[UserId] = @p__linq__0
2018-04-11 13:51:14.1063|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: True, Command Text: SELECT 
    [Extent1].[UserId] AS [UserId], 
    [Extent1].[RoleId] AS [RoleId]
    FROM [dbo].[AspNetUserRoles] AS [Extent1]
    WHERE [Extent1].[UserId] = @p__linq__0
2018-04-11 13:51:14.1203|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: SELECT 
    [Project1].[Decimal_Precision] AS [Decimal_Precision], 
    [Project1].[Security_ID] AS [Security_ID], 
    [Project1].[Portfolio_Code] AS [Portfolio_Code], 
    [Project1].[Entity_ID] AS [Entity_ID], 
    [Project1].[ModDietz_Performance_Quarterly] AS [ModDietz_Performance_Quarterly], 
    [Project1].[ModDietz_Performance_Monthly] AS [ModDietz_Performance_Monthly], 
    [Project1].[ModDietz_Performance_MonthToDate] AS [ModDietz_Performance_MonthToDate], 
    [Project1].[Dietz_Performance_Quarterly] AS [Dietz_Performance_Quarterly], 
    [Project1].[Dietz_Performance_Monthly] AS [Dietz_Performance_Monthly], 
    [Project1].[Dietz_Performance_MonthToDate] AS [Dietz_Performance_MonthToDate], 
    [Project1].[Last_Update_Date] AS [Last_Update_Date], 
    [Project1].[Last_Update_User] AS [Last_Update_User], 
    [Project1].[Record_Date] AS [Record_Date], 
    [Project1].[Session_ID] AS [Session_ID], 
    [Project1].[Hist_Last_Update_Date] AS [Hist_Last_Update_Date], 
    [Project1].[Hist_Last_Update_User] AS [Hist_Last_Update_User], 
    [Project1].[Security_ID1] AS [Security_ID1], 
    [Project1].[Entity_ID1] AS [Entity_ID1], 
    [Project1].[Security_Name] AS [Security_Name], 
    [Project1].[Short_Name] AS [Short_Name], 
    [Project1].[Primary_Exch] AS [Primary_Exch], 
    [Project1].[Secondary_Exch] AS [Secondary_Exch], 
    [Project1].[Country_Of_Domicile] AS [Country_Of_Domicile], 
    [Project1].[Country_Of_Risk] AS [Country_Of_Risk], 
    [Project1].[Security_Type_Code] AS [Security_Type_Code], 
    [Project1].[Price_Multiplier] AS [Price_Multiplier], 
    [Project1].[Income_Frequency] AS [Income_Frequency], 
    [Project1].[Issuer_Code] AS [Issuer_Code], 
    [Project1].[Ultimate_Issuer_Code] AS [Ultimate_Issuer_Code], 
    [Project1].[Asset_Currency] AS [Asset_Currency], 
    [Project1].[Min_Lot_Size] AS [Min_Lot_Size], 
    [Project1].[AvePrice_Rounding] AS [AvePrice_Rounding], 
    [Project1].[Issue_Date] AS [Issue_Date], 
    [Project1].[Maturity_Date] AS [Maturity_Date], 
    [Project1].[Coupon_Rate] AS [Coupon_Rate], 
    [Project1].[Price_Exchange] AS [Price_Exchange], 
    [Project1].[Trade_Currency] AS [Trade_Currency], 
    [Project1].[Price_Curr] AS [Price_Curr], 
    [Project1].[Currency_Pair_Code] AS [Currency_Pair_Code], 
    [Project1].[Share_Class] AS [Share_Class], 
    [Project1].[Current_Market_Price] AS [Current_Market_Price], 
    [Project1].[Index_Type] AS [Index_Type], 
    [Project1].[Clean_Price_Formula] AS [Clean_Price_Formula], 
    [Project1].[Accrued_Income_Price_Formula] AS [Accrued_Income_Price_Formula], 
    [Project1].[Odd_First_Coupon_Date] AS [Odd_First_Coupon_Date], 
    [Project1].[Odd_Last_Coupon_Date] AS [Odd_Last_Coupon_Date], 
    [Project1].[Coupon_Anniversary_Indicator] AS [Coupon_Anniversary_Indicator], 
    [Project1].[Track_EOM_Flag] AS [Track_EOM_Flag], 
    [Project1].[Next_Coupon_Date] AS [Next_Coupon_Date], 
    [Project1].[Previous_Coupon_Date] AS [Previous_Coupon_Date], 
    [Project1].[Payment_Frequency] AS [Payment_Frequency], 
    [Project1].[Coupon_BusDay_Adjustment] AS [Coupon_BusDay_Adjustment], 
    [Project1].[Next_Ex_Div_Date] AS [Next_Ex_Div_Date], 
    [Project1].[Ex_Div_BusDay_Adjustment] AS [Ex_Div_BusDay_Adjustment], 
    [Project1].[Ex_Div_Period] AS [Ex_Div_Period], 
    [Project1].[Ticker] AS [Ticker], 
    [Project1].[Inet_ID] AS [Inet_ID], 
    [Project1].[Bloomberg_ID] AS [Bloomberg_ID], 
    [Project1].[External_Sec_ID] AS [External_Sec_ID], 
    [Project1].[Reuters_ID] AS [Reuters_ID], 
    [Project1].[ISIN] AS [ISIN], 
    [Project1].[Call_Account_Flag] AS [Call_Account_Flag], 
    [Project1].[System_Locked] AS [System_Locked], 
    [Project1].[Last_Update_User1] AS [Last_Update_User1], 
    [Project1].[Last_Update_Date1] AS [Last_Update_Date1], 
    [Project1].[Security_Status] AS [Security_Status], 
    [Project1].[Benchmark_Portfolio] AS [Benchmark_Portfolio], 
    [Project1].[Active_flag] AS [Active_flag], 
    [Project1].[Dividend_FX_Security_ID] AS [Dividend_FX_Security_ID]
    FROM ( SELECT 
        [Extent1].[Security_ID] AS [Security_ID], 
        [Extent1].[Portfolio_Code] AS [Portfolio_Code], 
        [Extent1].[Entity_ID] AS [Entity_ID], 
        [Extent1].[ModDietz_Performance_Quarterly] AS [ModDietz_Performance_Quarterly], 
        [Extent1].[ModDietz_Performance_Monthly] AS [ModDietz_Performance_Monthly], 
        [Extent1].[ModDietz_Performance_MonthToDate] AS [ModDietz_Performance_MonthToDate], 
        [Extent1].[Dietz_Performance_Quarterly] AS [Dietz_Performance_Quarterly], 
        [Extent1].[Dietz_Performance_Monthly] AS [Dietz_Performance_Monthly], 
        [Extent1].[Dietz_Performance_MonthToDate] AS [Dietz_Performance_MonthToDate], 
        [Extent1].[Last_Update_Date] AS [Last_Update_Date], 
        [Extent1].[Last_Update_User] AS [Last_Update_User], 
        [Extent1].[Record_Date] AS [Record_Date], 
        [Extent1].[Session_ID] AS [Session_ID], 
        [Extent1].[Hist_Last_Update_Date] AS [Hist_Last_Update_Date], 
        [Extent1].[Hist_Last_Update_User] AS [Hist_Last_Update_User], 
        [Extent2].[Security_ID] AS [Security_ID1], 
        [Extent2].[Entity_ID] AS [Entity_ID1], 
        [Extent2].[Security_Name] AS [Security_Name], 
        [Extent2].[Short_Name] AS [Short_Name], 
        [Extent2].[Primary_Exch] AS [Primary_Exch], 
        [Extent2].[Secondary_Exch] AS [Secondary_Exch], 
        [Extent2].[Country_Of_Domicile] AS [Country_Of_Domicile], 
        [Extent2].[Country_Of_Risk] AS [Country_Of_Risk], 
        [Extent2].[Security_Type_Code] AS [Security_Type_Code], 
        [Extent2].[Price_Multiplier] AS [Price_Multiplier], 
        [Extent2].[Income_Frequency] AS [Income_Frequency], 
        [Extent2].[Issuer_Code] AS [Issuer_Code], 
        [Extent2].[Ultimate_Issuer_Code] AS [Ultimate_Issuer_Code], 
        [Extent2].[Asset_Currency] AS [Asset_Currency], 
        [Extent2].[Min_Lot_Size] AS [Min_Lot_Size], 
        [Extent2].[Decimal_Precision] AS [Decimal_Precision], 
        [Extent2].[AvePrice_Rounding] AS [AvePrice_Rounding], 
        [Extent2].[Issue_Date] AS [Issue_Date], 
        [Extent2].[Maturity_Date] AS [Maturity_Date], 
        [Extent2].[Coupon_Rate] AS [Coupon_Rate], 
        [Extent2].[Price_Exchange] AS [Price_Exchange], 
        [Extent2].[Trade_Currency] AS [Trade_Currency], 
        [Extent2].[Price_Curr] AS [Price_Curr], 
        [Extent2].[Currency_Pair_Code] AS [Currency_Pair_Code], 
        [Extent2].[Share_Class] AS [Share_Class], 
        [Extent2].[Current_Market_Price] AS [Current_Market_Price], 
        [Extent2].[Index_Type] AS [Index_Type], 
        [Extent2].[Clean_Price_Formula] AS [Clean_Price_Formula], 
        [Extent2].[Accrued_Income_Price_Formula] AS [Accrued_Income_Price_Formula], 
        [Extent2].[Odd_First_Coupon_Date] AS [Odd_First_Coupon_Date], 
        [Extent2].[Odd_Last_Coupon_Date] AS [Odd_Last_Coupon_Date], 
        [Extent2].[Coupon_Anniversary_Indicator] AS [Coupon_Anniversary_Indicator], 
        [Extent2].[Track_EOM_Flag] AS [Track_EOM_Flag], 
        [Extent2].[Next_Coupon_Date] AS [Next_Coupon_Date], 
        [Extent2].[Previous_Coupon_Date] AS [Previous_Coupon_Date], 
        [Extent2].[Payment_Frequency] AS [Payment_Frequency], 
        [Extent2].[Coupon_BusDay_Adjustment] AS [Coupon_BusDay_Adjustment], 
        [Extent2].[Next_Ex_Div_Date] AS [Next_Ex_Div_Date], 
        [Extent2].[Ex_Div_BusDay_Adjustment] AS [Ex_Div_BusDay_Adjustment], 
        [Extent2].[Ex_Div_Period] AS [Ex_Div_Period], 
        [Extent2].[Ticker] AS [Ticker], 
        [Extent2].[Inet_ID] AS [Inet_ID], 
        [Extent2].[Bloomberg_ID] AS [Bloomberg_ID], 
        [Extent2].[External_Sec_ID] AS [External_Sec_ID], 
        [Extent2].[Reuters_ID] AS [Reuters_ID], 
        [Extent2].[ISIN] AS [ISIN], 
        [Extent2].[Call_Account_Flag] AS [Call_Account_Flag], 
        [Extent2].[System_Locked] AS [System_Locked], 
        [Extent2].[Last_Update_User] AS [Last_Update_User1], 
        [Extent2].[Last_Update_Date] AS [Last_Update_Date1], 
        [Extent2].[Security_Status] AS [Security_Status], 
        [Extent2].[Benchmark_Portfolio] AS [Benchmark_Portfolio], 
        [Extent2].[Active_flag] AS [Active_flag], 
        [Extent2].[Dividend_FX_Security_ID] AS [Dividend_FX_Security_ID]
        FROM  [dbo].[Security_Performance_History] AS [Extent1]
        INNER JOIN [dbo].[Security_Detail] AS [Extent2] ON [Extent1].[Security_ID] = [Extent2].[Security_ID]
        WHERE ([Extent1].[Security_ID] = @p__linq__0) AND ([Extent1].[Portfolio_Code] = @p__linq__1)
    )  AS [Project1]
    ORDER BY [Project1].[Record_Date] DESC
2018-04-11 13:51:14.1443|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: SELECT 
    [Project1].[Decimal_Precision] AS [Decimal_Precision], 
    [Project1].[Security_ID] AS [Security_ID], 
    [Project1].[Portfolio_Code] AS [Portfolio_Code], 
    [Project1].[Entity_ID] AS [Entity_ID], 
    [Project1].[ModDietz_Performance_Quarterly] AS [ModDietz_Performance_Quarterly], 
    [Project1].[ModDietz_Performance_Monthly] AS [ModDietz_Performance_Monthly], 
    [Project1].[ModDietz_Performance_MonthToDate] AS [ModDietz_Performance_MonthToDate], 
    [Project1].[Dietz_Performance_Quarterly] AS [Dietz_Performance_Quarterly], 
    [Project1].[Dietz_Performance_Monthly] AS [Dietz_Performance_Monthly], 
    [Project1].[Dietz_Performance_MonthToDate] AS [Dietz_Performance_MonthToDate], 
    [Project1].[Last_Update_Date] AS [Last_Update_Date], 
    [Project1].[Last_Update_User] AS [Last_Update_User], 
    [Project1].[Record_Date] AS [Record_Date], 
    [Project1].[Session_ID] AS [Session_ID], 
    [Project1].[Hist_Last_Update_Date] AS [Hist_Last_Update_Date], 
    [Project1].[Hist_Last_Update_User] AS [Hist_Last_Update_User], 
    [Project1].[Security_ID1] AS [Security_ID1], 
    [Project1].[Entity_ID1] AS [Entity_ID1], 
    [Project1].[Security_Name] AS [Security_Name], 
    [Project1].[Short_Name] AS [Short_Name], 
    [Project1].[Primary_Exch] AS [Primary_Exch], 
    [Project1].[Secondary_Exch] AS [Secondary_Exch], 
    [Project1].[Country_Of_Domicile] AS [Country_Of_Domicile], 
    [Project1].[Country_Of_Risk] AS [Country_Of_Risk], 
    [Project1].[Security_Type_Code] AS [Security_Type_Code], 
    [Project1].[Price_Multiplier] AS [Price_Multiplier], 
    [Project1].[Income_Frequency] AS [Income_Frequency], 
    [Project1].[Issuer_Code] AS [Issuer_Code], 
    [Project1].[Ultimate_Issuer_Code] AS [Ultimate_Issuer_Code], 
    [Project1].[Asset_Currency] AS [Asset_Currency], 
    [Project1].[Min_Lot_Size] AS [Min_Lot_Size], 
    [Project1].[AvePrice_Rounding] AS [AvePrice_Rounding], 
    [Project1].[Issue_Date] AS [Issue_Date], 
    [Project1].[Maturity_Date] AS [Maturity_Date], 
    [Project1].[Coupon_Rate] AS [Coupon_Rate], 
    [Project1].[Price_Exchange] AS [Price_Exchange], 
    [Project1].[Trade_Currency] AS [Trade_Currency], 
    [Project1].[Price_Curr] AS [Price_Curr], 
    [Project1].[Currency_Pair_Code] AS [Currency_Pair_Code], 
    [Project1].[Share_Class] AS [Share_Class], 
    [Project1].[Current_Market_Price] AS [Current_Market_Price], 
    [Project1].[Index_Type] AS [Index_Type], 
    [Project1].[Clean_Price_Formula] AS [Clean_Price_Formula], 
    [Project1].[Accrued_Income_Price_Formula] AS [Accrued_Income_Price_Formula], 
    [Project1].[Odd_First_Coupon_Date] AS [Odd_First_Coupon_Date], 
    [Project1].[Odd_Last_Coupon_Date] AS [Odd_Last_Coupon_Date], 
    [Project1].[Coupon_Anniversary_Indicator] AS [Coupon_Anniversary_Indicator], 
    [Project1].[Track_EOM_Flag] AS [Track_EOM_Flag], 
    [Project1].[Next_Coupon_Date] AS [Next_Coupon_Date], 
    [Project1].[Previous_Coupon_Date] AS [Previous_Coupon_Date], 
    [Project1].[Payment_Frequency] AS [Payment_Frequency], 
    [Project1].[Coupon_BusDay_Adjustment] AS [Coupon_BusDay_Adjustment], 
    [Project1].[Next_Ex_Div_Date] AS [Next_Ex_Div_Date], 
    [Project1].[Ex_Div_BusDay_Adjustment] AS [Ex_Div_BusDay_Adjustment], 
    [Project1].[Ex_Div_Period] AS [Ex_Div_Period], 
    [Project1].[Ticker] AS [Ticker], 
    [Project1].[Inet_ID] AS [Inet_ID], 
    [Project1].[Bloomberg_ID] AS [Bloomberg_ID], 
    [Project1].[External_Sec_ID] AS [External_Sec_ID], 
    [Project1].[Reuters_ID] AS [Reuters_ID], 
    [Project1].[ISIN] AS [ISIN], 
    [Project1].[Call_Account_Flag] AS [Call_Account_Flag], 
    [Project1].[System_Locked] AS [System_Locked], 
    [Project1].[Last_Update_User1] AS [Last_Update_User1], 
    [Project1].[Last_Update_Date1] AS [Last_Update_Date1], 
    [Project1].[Security_Status] AS [Security_Status], 
    [Project1].[Benchmark_Portfolio] AS [Benchmark_Portfolio], 
    [Project1].[Active_flag] AS [Active_flag], 
    [Project1].[Dividend_FX_Security_ID] AS [Dividend_FX_Security_ID]
    FROM ( SELECT 
        [Extent1].[Security_ID] AS [Security_ID], 
        [Extent1].[Portfolio_Code] AS [Portfolio_Code], 
        [Extent1].[Entity_ID] AS [Entity_ID], 
        [Extent1].[ModDietz_Performance_Quarterly] AS [ModDietz_Performance_Quarterly], 
        [Extent1].[ModDietz_Performance_Monthly] AS [ModDietz_Performance_Monthly], 
        [Extent1].[ModDietz_Performance_MonthToDate] AS [ModDietz_Performance_MonthToDate], 
        [Extent1].[Dietz_Performance_Quarterly] AS [Dietz_Performance_Quarterly], 
        [Extent1].[Dietz_Performance_Monthly] AS [Dietz_Performance_Monthly], 
        [Extent1].[Dietz_Performance_MonthToDate] AS [Dietz_Performance_MonthToDate], 
        [Extent1].[Last_Update_Date] AS [Last_Update_Date], 
        [Extent1].[Last_Update_User] AS [Last_Update_User], 
        [Extent1].[Record_Date] AS [Record_Date], 
        [Extent1].[Session_ID] AS [Session_ID], 
        [Extent1].[Hist_Last_Update_Date] AS [Hist_Last_Update_Date], 
        [Extent1].[Hist_Last_Update_User] AS [Hist_Last_Update_User], 
        [Extent2].[Security_ID] AS [Security_ID1], 
        [Extent2].[Entity_ID] AS [Entity_ID1], 
        [Extent2].[Security_Name] AS [Security_Name], 
        [Extent2].[Short_Name] AS [Short_Name], 
        [Extent2].[Primary_Exch] AS [Primary_Exch], 
        [Extent2].[Secondary_Exch] AS [Secondary_Exch], 
        [Extent2].[Country_Of_Domicile] AS [Country_Of_Domicile], 
        [Extent2].[Country_Of_Risk] AS [Country_Of_Risk], 
        [Extent2].[Security_Type_Code] AS [Security_Type_Code], 
        [Extent2].[Price_Multiplier] AS [Price_Multiplier], 
        [Extent2].[Income_Frequency] AS [Income_Frequency], 
        [Extent2].[Issuer_Code] AS [Issuer_Code], 
        [Extent2].[Ultimate_Issuer_Code] AS [Ultimate_Issuer_Code], 
        [Extent2].[Asset_Currency] AS [Asset_Currency], 
        [Extent2].[Min_Lot_Size] AS [Min_Lot_Size], 
        [Extent2].[Decimal_Precision] AS [Decimal_Precision], 
        [Extent2].[AvePrice_Rounding] AS [AvePrice_Rounding], 
        [Extent2].[Issue_Date] AS [Issue_Date], 
        [Extent2].[Maturity_Date] AS [Maturity_Date], 
        [Extent2].[Coupon_Rate] AS [Coupon_Rate], 
        [Extent2].[Price_Exchange] AS [Price_Exchange], 
        [Extent2].[Trade_Currency] AS [Trade_Currency], 
        [Extent2].[Price_Curr] AS [Price_Curr], 
        [Extent2].[Currency_Pair_Code] AS [Currency_Pair_Code], 
        [Extent2].[Share_Class] AS [Share_Class], 
        [Extent2].[Current_Market_Price] AS [Current_Market_Price], 
        [Extent2].[Index_Type] AS [Index_Type], 
        [Extent2].[Clean_Price_Formula] AS [Clean_Price_Formula], 
        [Extent2].[Accrued_Income_Price_Formula] AS [Accrued_Income_Price_Formula], 
        [Extent2].[Odd_First_Coupon_Date] AS [Odd_First_Coupon_Date], 
        [Extent2].[Odd_Last_Coupon_Date] AS [Odd_Last_Coupon_Date], 
        [Extent2].[Coupon_Anniversary_Indicator] AS [Coupon_Anniversary_Indicator], 
        [Extent2].[Track_EOM_Flag] AS [Track_EOM_Flag], 
        [Extent2].[Next_Coupon_Date] AS [Next_Coupon_Date], 
        [Extent2].[Previous_Coupon_Date] AS [Previous_Coupon_Date], 
        [Extent2].[Payment_Frequency] AS [Payment_Frequency], 
        [Extent2].[Coupon_BusDay_Adjustment] AS [Coupon_BusDay_Adjustment], 
        [Extent2].[Next_Ex_Div_Date] AS [Next_Ex_Div_Date], 
        [Extent2].[Ex_Div_BusDay_Adjustment] AS [Ex_Div_BusDay_Adjustment], 
        [Extent2].[Ex_Div_Period] AS [Ex_Div_Period], 
        [Extent2].[Ticker] AS [Ticker], 
        [Extent2].[Inet_ID] AS [Inet_ID], 
        [Extent2].[Bloomberg_ID] AS [Bloomberg_ID], 
        [Extent2].[External_Sec_ID] AS [External_Sec_ID], 
        [Extent2].[Reuters_ID] AS [Reuters_ID], 
        [Extent2].[ISIN] AS [ISIN], 
        [Extent2].[Call_Account_Flag] AS [Call_Account_Flag], 
        [Extent2].[System_Locked] AS [System_Locked], 
        [Extent2].[Last_Update_User] AS [Last_Update_User1], 
        [Extent2].[Last_Update_Date] AS [Last_Update_Date1], 
        [Extent2].[Security_Status] AS [Security_Status], 
        [Extent2].[Benchmark_Portfolio] AS [Benchmark_Portfolio], 
        [Extent2].[Active_flag] AS [Active_flag], 
        [Extent2].[Dividend_FX_Security_ID] AS [Dividend_FX_Security_ID]
        FROM  [dbo].[Security_Performance_History] AS [Extent1]
        INNER JOIN [dbo].[Security_Detail] AS [Extent2] ON [Extent1].[Security_ID] = [Extent2].[Security_ID]
        WHERE ([Extent1].[Security_ID] = @p__linq__0) AND ([Extent1].[Portfolio_Code] = @p__linq__1)
    )  AS [Project1]
    ORDER BY [Project1].[Record_Date] DESC
2018-04-11 13:51:14.1493|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: SELECT TOP (2) 
    [Extent1].[Entity_ID] AS [Entity_ID], 
    [Extent1].[Entity_Code] AS [Entity_Code], 
    [Extent1].[Entity_Name] AS [Entity_Name], 
    [Extent1].[Import_Folder] AS [Import_Folder], 
    [Extent1].[Export_Folder] AS [Export_Folder]
    FROM [dbo].[Entity] AS [Extent1]
    WHERE [Extent1].[Entity_ID] = @p0
2018-04-11 13:51:14.1493|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: SELECT TOP (2) 
    [Extent1].[Entity_ID] AS [Entity_ID], 
    [Extent1].[Entity_Code] AS [Entity_Code], 
    [Extent1].[Entity_Name] AS [Entity_Name], 
    [Extent1].[Import_Folder] AS [Import_Folder], 
    [Extent1].[Export_Folder] AS [Export_Folder]
    FROM [dbo].[Entity] AS [Extent1]
    WHERE [Extent1].[Entity_ID] = @p0
2018-04-11 13:51:15.5188|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: IF db_id(N'MetopeAzureDb') IS NOT NULL SELECT 1 ELSE SELECT Count(*) FROM sys.databases WHERE [name]=N'MetopeAzureDb'
2018-04-11 13:51:15.5253|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: IF db_id(N'MetopeAzureDb') IS NOT NULL SELECT 1 ELSE SELECT Count(*) FROM sys.databases WHERE [name]=N'MetopeAzureDb'
2018-04-11 13:51:15.5253|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: IF db_id(N'MetopeAzureDb') IS NOT NULL SELECT 1 ELSE SELECT Count(*) FROM sys.databases WHERE [name]=N'MetopeAzureDb'
2018-04-11 13:51:15.5393|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: IF db_id(N'MetopeAzureDb') IS NOT NULL SELECT 1 ELSE SELECT Count(*) FROM sys.databases WHERE [name]=N'MetopeAzureDb'
2018-04-11 13:51:15.5393|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: True, Command Text: SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[EntityIdScope] AS [EntityIdScope], 
    [Extent1].[Email] AS [Email], 
    [Extent1].[EmailConfirmed] AS [EmailConfirmed], 
    [Extent1].[PasswordHash] AS [PasswordHash], 
    [Extent1].[SecurityStamp] AS [SecurityStamp], 
    [Extent1].[PhoneNumber] AS [PhoneNumber], 
    [Extent1].[PhoneNumberConfirmed] AS [PhoneNumberConfirmed], 
    [Extent1].[TwoFactorEnabled] AS [TwoFactorEnabled], 
    [Extent1].[LockoutEndDateUtc] AS [LockoutEndDateUtc], 
    [Extent1].[LockoutEnabled] AS [LockoutEnabled], 
    [Extent1].[AccessFailedCount] AS [AccessFailedCount], 
    [Extent1].[UserName] AS [UserName]
    FROM [dbo].[AspNetUsers] AS [Extent1]
    WHERE [Extent1].[Id] = @p0
2018-04-11 13:51:15.5393|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: True, Command Text: SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[EntityIdScope] AS [EntityIdScope], 
    [Extent1].[Email] AS [Email], 
    [Extent1].[EmailConfirmed] AS [EmailConfirmed], 
    [Extent1].[PasswordHash] AS [PasswordHash], 
    [Extent1].[SecurityStamp] AS [SecurityStamp], 
    [Extent1].[PhoneNumber] AS [PhoneNumber], 
    [Extent1].[PhoneNumberConfirmed] AS [PhoneNumberConfirmed], 
    [Extent1].[TwoFactorEnabled] AS [TwoFactorEnabled], 
    [Extent1].[LockoutEndDateUtc] AS [LockoutEndDateUtc], 
    [Extent1].[LockoutEnabled] AS [LockoutEnabled], 
    [Extent1].[AccessFailedCount] AS [AccessFailedCount], 
    [Extent1].[UserName] AS [UserName]
    FROM [dbo].[AspNetUsers] AS [Extent1]
    WHERE [Extent1].[Id] = @p0
2018-04-11 13:51:15.5613|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: True, Command Text: SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[UserId] AS [UserId], 
    [Extent1].[ClaimType] AS [ClaimType], 
    [Extent1].[ClaimValue] AS [ClaimValue]
    FROM [dbo].[AspNetUserClaims] AS [Extent1]
    WHERE [Extent1].[UserId] = @p__linq__0
2018-04-11 13:51:15.5613|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: True, Command Text: SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[UserId] AS [UserId], 
    [Extent1].[ClaimType] AS [ClaimType], 
    [Extent1].[ClaimValue] AS [ClaimValue]
    FROM [dbo].[AspNetUserClaims] AS [Extent1]
    WHERE [Extent1].[UserId] = @p__linq__0
2018-04-11 13:51:15.5753|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: True, Command Text: SELECT 
    [Extent1].[LoginProvider] AS [LoginProvider], 
    [Extent1].[ProviderKey] AS [ProviderKey], 
    [Extent1].[UserId] AS [UserId]
    FROM [dbo].[AspNetUserLogins] AS [Extent1]
    WHERE [Extent1].[UserId] = @p__linq__0
2018-04-11 13:51:15.5753|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: True, Command Text: SELECT 
    [Extent1].[LoginProvider] AS [LoginProvider], 
    [Extent1].[ProviderKey] AS [ProviderKey], 
    [Extent1].[UserId] AS [UserId]
    FROM [dbo].[AspNetUserLogins] AS [Extent1]
    WHERE [Extent1].[UserId] = @p__linq__0
2018-04-11 13:51:15.5873|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: True, Command Text: SELECT 
    [Extent1].[UserId] AS [UserId], 
    [Extent1].[RoleId] AS [RoleId]
    FROM [dbo].[AspNetUserRoles] AS [Extent1]
    WHERE [Extent1].[UserId] = @p__linq__0
2018-04-11 13:51:15.5873|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: True, Command Text: SELECT 
    [Extent1].[UserId] AS [UserId], 
    [Extent1].[RoleId] AS [RoleId]
    FROM [dbo].[AspNetUserRoles] AS [Extent1]
    WHERE [Extent1].[UserId] = @p__linq__0
2018-04-11 13:51:15.5873|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: SELECT TOP (2) 
    [Extent1].[Entity_ID] AS [Entity_ID], 
    [Extent1].[Entity_Code] AS [Entity_Code], 
    [Extent1].[Entity_Name] AS [Entity_Name], 
    [Extent1].[Import_Folder] AS [Import_Folder], 
    [Extent1].[Export_Folder] AS [Export_Folder]
    FROM [dbo].[Entity] AS [Extent1]
    WHERE [Extent1].[Entity_ID] = @p0
2018-04-11 13:51:15.6063|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: SELECT TOP (2) 
    [Extent1].[Entity_ID] AS [Entity_ID], 
    [Extent1].[Entity_Code] AS [Entity_Code], 
    [Extent1].[Entity_Name] AS [Entity_Name], 
    [Extent1].[Import_Folder] AS [Import_Folder], 
    [Extent1].[Export_Folder] AS [Export_Folder]
    FROM [dbo].[Entity] AS [Extent1]
    WHERE [Extent1].[Entity_ID] = @p0
2018-04-11 13:51:51.1227|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: select cast(serverproperty('EngineEdition') as int)
2018-04-11 13:51:51.2498|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: select cast(serverproperty('EngineEdition') as int)
2018-04-11 13:51:54.1324|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: IF db_id(N'MetopeAzureDb') IS NOT NULL SELECT 1 ELSE SELECT Count(*) FROM sys.databases WHERE [name]=N'MetopeAzureDb'
2018-04-11 13:51:54.2159|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: IF db_id(N'MetopeAzureDb') IS NOT NULL SELECT 1 ELSE SELECT Count(*) FROM sys.databases WHERE [name]=N'MetopeAzureDb'
2018-04-11 13:51:54.3325|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: IF db_id(N'MetopeAzureDb') IS NOT NULL SELECT 1 ELSE SELECT Count(*) FROM sys.databases WHERE [name]=N'MetopeAzureDb'
2018-04-11 13:51:54.3435|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: IF db_id(N'MetopeAzureDb') IS NOT NULL SELECT 1 ELSE SELECT Count(*) FROM sys.databases WHERE [name]=N'MetopeAzureDb'
2018-04-11 13:51:54.3675|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: 
SELECT Count(*)
FROM INFORMATION_SCHEMA.TABLES AS t
WHERE t.TABLE_SCHEMA + '.' + t.TABLE_NAME IN ('dbo.AspNetRoles','dbo.AspNetUserRoles','dbo.AspNetUsers','dbo.AspNetUserClaims','dbo.AspNetUserLogins')
    OR t.TABLE_NAME = 'EdmMetadata'
2018-04-11 13:51:54.4080|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: 
SELECT Count(*)
FROM INFORMATION_SCHEMA.TABLES AS t
WHERE t.TABLE_SCHEMA + '.' + t.TABLE_NAME IN ('dbo.AspNetRoles','dbo.AspNetUserRoles','dbo.AspNetUsers','dbo.AspNetUserClaims','dbo.AspNetUserLogins')
    OR t.TABLE_NAME = 'EdmMetadata'
2018-04-11 13:51:57.9926|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: SELECT 
    [GroupBy1].[A1] AS [C1]
    FROM ( SELECT 
        COUNT(1) AS [A1]
        FROM [dbo].[__MigrationHistory] AS [Extent1]
        WHERE [Extent1].[ContextKey] = @p__linq__0
    )  AS [GroupBy1]
2018-04-11 13:51:58.2894|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: SELECT 
    [GroupBy1].[A1] AS [C1]
    FROM ( SELECT 
        COUNT(1) AS [A1]
        FROM [dbo].[__MigrationHistory] AS [Extent1]
        WHERE [Extent1].[ContextKey] = @p__linq__0
    )  AS [GroupBy1]
2018-04-11 13:51:58.7797|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: SELECT TOP (1) 
    [Project1].[C1] AS [C1], 
    [Project1].[MigrationId] AS [MigrationId], 
    [Project1].[Model] AS [Model], 
    [Project1].[ProductVersion] AS [ProductVersion]
    FROM ( SELECT 
        [Extent1].[MigrationId] AS [MigrationId], 
        [Extent1].[Model] AS [Model], 
        [Extent1].[ProductVersion] AS [ProductVersion], 
        1 AS [C1]
        FROM [dbo].[__MigrationHistory] AS [Extent1]
        WHERE [Extent1].[ContextKey] = @p__linq__0
    )  AS [Project1]
    ORDER BY [Project1].[MigrationId] DESC
2018-04-11 13:51:58.8112|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: SELECT TOP (1) 
    [Project1].[C1] AS [C1], 
    [Project1].[MigrationId] AS [MigrationId], 
    [Project1].[Model] AS [Model], 
    [Project1].[ProductVersion] AS [ProductVersion]
    FROM ( SELECT 
        [Extent1].[MigrationId] AS [MigrationId], 
        [Extent1].[Model] AS [Model], 
        [Extent1].[ProductVersion] AS [ProductVersion], 
        1 AS [C1]
        FROM [dbo].[__MigrationHistory] AS [Extent1]
        WHERE [Extent1].[ContextKey] = @p__linq__0
    )  AS [Project1]
    ORDER BY [Project1].[MigrationId] DESC
2018-04-11 13:52:00.4109|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: True, Command Text: SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[EntityIdScope] AS [EntityIdScope], 
    [Extent1].[Email] AS [Email], 
    [Extent1].[EmailConfirmed] AS [EmailConfirmed], 
    [Extent1].[PasswordHash] AS [PasswordHash], 
    [Extent1].[SecurityStamp] AS [SecurityStamp], 
    [Extent1].[PhoneNumber] AS [PhoneNumber], 
    [Extent1].[PhoneNumberConfirmed] AS [PhoneNumberConfirmed], 
    [Extent1].[TwoFactorEnabled] AS [TwoFactorEnabled], 
    [Extent1].[LockoutEndDateUtc] AS [LockoutEndDateUtc], 
    [Extent1].[LockoutEnabled] AS [LockoutEnabled], 
    [Extent1].[AccessFailedCount] AS [AccessFailedCount], 
    [Extent1].[UserName] AS [UserName]
    FROM [dbo].[AspNetUsers] AS [Extent1]
    WHERE [Extent1].[Id] = @p0
2018-04-11 13:52:00.5014|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: True, Command Text: SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[EntityIdScope] AS [EntityIdScope], 
    [Extent1].[Email] AS [Email], 
    [Extent1].[EmailConfirmed] AS [EmailConfirmed], 
    [Extent1].[PasswordHash] AS [PasswordHash], 
    [Extent1].[SecurityStamp] AS [SecurityStamp], 
    [Extent1].[PhoneNumber] AS [PhoneNumber], 
    [Extent1].[PhoneNumberConfirmed] AS [PhoneNumberConfirmed], 
    [Extent1].[TwoFactorEnabled] AS [TwoFactorEnabled], 
    [Extent1].[LockoutEndDateUtc] AS [LockoutEndDateUtc], 
    [Extent1].[LockoutEnabled] AS [LockoutEnabled], 
    [Extent1].[AccessFailedCount] AS [AccessFailedCount], 
    [Extent1].[UserName] AS [UserName]
    FROM [dbo].[AspNetUsers] AS [Extent1]
    WHERE [Extent1].[Id] = @p0
2018-04-11 13:52:01.0023|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: True, Command Text: SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[UserId] AS [UserId], 
    [Extent1].[ClaimType] AS [ClaimType], 
    [Extent1].[ClaimValue] AS [ClaimValue]
    FROM [dbo].[AspNetUserClaims] AS [Extent1]
    WHERE [Extent1].[UserId] = @p__linq__0
2018-04-11 13:52:01.0308|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: True, Command Text: SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[UserId] AS [UserId], 
    [Extent1].[ClaimType] AS [ClaimType], 
    [Extent1].[ClaimValue] AS [ClaimValue]
    FROM [dbo].[AspNetUserClaims] AS [Extent1]
    WHERE [Extent1].[UserId] = @p__linq__0
2018-04-11 13:52:01.1734|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: True, Command Text: SELECT 
    [Extent1].[LoginProvider] AS [LoginProvider], 
    [Extent1].[ProviderKey] AS [ProviderKey], 
    [Extent1].[UserId] AS [UserId]
    FROM [dbo].[AspNetUserLogins] AS [Extent1]
    WHERE [Extent1].[UserId] = @p__linq__0
2018-04-11 13:52:01.2124|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: True, Command Text: SELECT 
    [Extent1].[LoginProvider] AS [LoginProvider], 
    [Extent1].[ProviderKey] AS [ProviderKey], 
    [Extent1].[UserId] AS [UserId]
    FROM [dbo].[AspNetUserLogins] AS [Extent1]
    WHERE [Extent1].[UserId] = @p__linq__0
2018-04-11 13:52:01.3155|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: True, Command Text: SELECT 
    [Extent1].[UserId] AS [UserId], 
    [Extent1].[RoleId] AS [RoleId]
    FROM [dbo].[AspNetUserRoles] AS [Extent1]
    WHERE [Extent1].[UserId] = @p__linq__0
2018-04-11 13:52:01.3650|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: True, Command Text: SELECT 
    [Extent1].[UserId] AS [UserId], 
    [Extent1].[RoleId] AS [RoleId]
    FROM [dbo].[AspNetUserRoles] AS [Extent1]
    WHERE [Extent1].[UserId] = @p__linq__0
2018-04-11 13:52:02.8516|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: SELECT 
    [Project1].[Decimal_Precision] AS [Decimal_Precision], 
    [Project1].[Security_ID] AS [Security_ID], 
    [Project1].[Portfolio_Code] AS [Portfolio_Code], 
    [Project1].[Entity_ID] AS [Entity_ID], 
    [Project1].[ModDietz_Performance_Quarterly] AS [ModDietz_Performance_Quarterly], 
    [Project1].[ModDietz_Performance_Monthly] AS [ModDietz_Performance_Monthly], 
    [Project1].[ModDietz_Performance_MonthToDate] AS [ModDietz_Performance_MonthToDate], 
    [Project1].[Dietz_Performance_Quarterly] AS [Dietz_Performance_Quarterly], 
    [Project1].[Dietz_Performance_Monthly] AS [Dietz_Performance_Monthly], 
    [Project1].[Dietz_Performance_MonthToDate] AS [Dietz_Performance_MonthToDate], 
    [Project1].[Last_Update_Date] AS [Last_Update_Date], 
    [Project1].[Last_Update_User] AS [Last_Update_User], 
    [Project1].[Record_Date] AS [Record_Date], 
    [Project1].[Session_ID] AS [Session_ID], 
    [Project1].[Hist_Last_Update_Date] AS [Hist_Last_Update_Date], 
    [Project1].[Hist_Last_Update_User] AS [Hist_Last_Update_User], 
    [Project1].[Security_ID1] AS [Security_ID1], 
    [Project1].[Entity_ID1] AS [Entity_ID1], 
    [Project1].[Security_Name] AS [Security_Name], 
    [Project1].[Short_Name] AS [Short_Name], 
    [Project1].[Primary_Exch] AS [Primary_Exch], 
    [Project1].[Secondary_Exch] AS [Secondary_Exch], 
    [Project1].[Country_Of_Domicile] AS [Country_Of_Domicile], 
    [Project1].[Country_Of_Risk] AS [Country_Of_Risk], 
    [Project1].[Security_Type_Code] AS [Security_Type_Code], 
    [Project1].[Price_Multiplier] AS [Price_Multiplier], 
    [Project1].[Income_Frequency] AS [Income_Frequency], 
    [Project1].[Issuer_Code] AS [Issuer_Code], 
    [Project1].[Ultimate_Issuer_Code] AS [Ultimate_Issuer_Code], 
    [Project1].[Asset_Currency] AS [Asset_Currency], 
    [Project1].[Min_Lot_Size] AS [Min_Lot_Size], 
    [Project1].[AvePrice_Rounding] AS [AvePrice_Rounding], 
    [Project1].[Issue_Date] AS [Issue_Date], 
    [Project1].[Maturity_Date] AS [Maturity_Date], 
    [Project1].[Coupon_Rate] AS [Coupon_Rate], 
    [Project1].[Price_Exchange] AS [Price_Exchange], 
    [Project1].[Trade_Currency] AS [Trade_Currency], 
    [Project1].[Price_Curr] AS [Price_Curr], 
    [Project1].[Currency_Pair_Code] AS [Currency_Pair_Code], 
    [Project1].[Share_Class] AS [Share_Class], 
    [Project1].[Current_Market_Price] AS [Current_Market_Price], 
    [Project1].[Index_Type] AS [Index_Type], 
    [Project1].[Clean_Price_Formula] AS [Clean_Price_Formula], 
    [Project1].[Accrued_Income_Price_Formula] AS [Accrued_Income_Price_Formula], 
    [Project1].[Odd_First_Coupon_Date] AS [Odd_First_Coupon_Date], 
    [Project1].[Odd_Last_Coupon_Date] AS [Odd_Last_Coupon_Date], 
    [Project1].[Coupon_Anniversary_Indicator] AS [Coupon_Anniversary_Indicator], 
    [Project1].[Track_EOM_Flag] AS [Track_EOM_Flag], 
    [Project1].[Next_Coupon_Date] AS [Next_Coupon_Date], 
    [Project1].[Previous_Coupon_Date] AS [Previous_Coupon_Date], 
    [Project1].[Payment_Frequency] AS [Payment_Frequency], 
    [Project1].[Coupon_BusDay_Adjustment] AS [Coupon_BusDay_Adjustment], 
    [Project1].[Next_Ex_Div_Date] AS [Next_Ex_Div_Date], 
    [Project1].[Ex_Div_BusDay_Adjustment] AS [Ex_Div_BusDay_Adjustment], 
    [Project1].[Ex_Div_Period] AS [Ex_Div_Period], 
    [Project1].[Ticker] AS [Ticker], 
    [Project1].[Inet_ID] AS [Inet_ID], 
    [Project1].[Bloomberg_ID] AS [Bloomberg_ID], 
    [Project1].[External_Sec_ID] AS [External_Sec_ID], 
    [Project1].[Reuters_ID] AS [Reuters_ID], 
    [Project1].[ISIN] AS [ISIN], 
    [Project1].[Call_Account_Flag] AS [Call_Account_Flag], 
    [Project1].[System_Locked] AS [System_Locked], 
    [Project1].[Last_Update_User1] AS [Last_Update_User1], 
    [Project1].[Last_Update_Date1] AS [Last_Update_Date1], 
    [Project1].[Security_Status] AS [Security_Status], 
    [Project1].[Benchmark_Portfolio] AS [Benchmark_Portfolio], 
    [Project1].[Active_flag] AS [Active_flag], 
    [Project1].[Dividend_FX_Security_ID] AS [Dividend_FX_Security_ID]
    FROM ( SELECT 
        [Extent1].[Security_ID] AS [Security_ID], 
        [Extent1].[Portfolio_Code] AS [Portfolio_Code], 
        [Extent1].[Entity_ID] AS [Entity_ID], 
        [Extent1].[ModDietz_Performance_Quarterly] AS [ModDietz_Performance_Quarterly], 
        [Extent1].[ModDietz_Performance_Monthly] AS [ModDietz_Performance_Monthly], 
        [Extent1].[ModDietz_Performance_MonthToDate] AS [ModDietz_Performance_MonthToDate], 
        [Extent1].[Dietz_Performance_Quarterly] AS [Dietz_Performance_Quarterly], 
        [Extent1].[Dietz_Performance_Monthly] AS [Dietz_Performance_Monthly], 
        [Extent1].[Dietz_Performance_MonthToDate] AS [Dietz_Performance_MonthToDate], 
        [Extent1].[Last_Update_Date] AS [Last_Update_Date], 
        [Extent1].[Last_Update_User] AS [Last_Update_User], 
        [Extent1].[Record_Date] AS [Record_Date], 
        [Extent1].[Session_ID] AS [Session_ID], 
        [Extent1].[Hist_Last_Update_Date] AS [Hist_Last_Update_Date], 
        [Extent1].[Hist_Last_Update_User] AS [Hist_Last_Update_User], 
        [Extent2].[Security_ID] AS [Security_ID1], 
        [Extent2].[Entity_ID] AS [Entity_ID1], 
        [Extent2].[Security_Name] AS [Security_Name], 
        [Extent2].[Short_Name] AS [Short_Name], 
        [Extent2].[Primary_Exch] AS [Primary_Exch], 
        [Extent2].[Secondary_Exch] AS [Secondary_Exch], 
        [Extent2].[Country_Of_Domicile] AS [Country_Of_Domicile], 
        [Extent2].[Country_Of_Risk] AS [Country_Of_Risk], 
        [Extent2].[Security_Type_Code] AS [Security_Type_Code], 
        [Extent2].[Price_Multiplier] AS [Price_Multiplier], 
        [Extent2].[Income_Frequency] AS [Income_Frequency], 
        [Extent2].[Issuer_Code] AS [Issuer_Code], 
        [Extent2].[Ultimate_Issuer_Code] AS [Ultimate_Issuer_Code], 
        [Extent2].[Asset_Currency] AS [Asset_Currency], 
        [Extent2].[Min_Lot_Size] AS [Min_Lot_Size], 
        [Extent2].[Decimal_Precision] AS [Decimal_Precision], 
        [Extent2].[AvePrice_Rounding] AS [AvePrice_Rounding], 
        [Extent2].[Issue_Date] AS [Issue_Date], 
        [Extent2].[Maturity_Date] AS [Maturity_Date], 
        [Extent2].[Coupon_Rate] AS [Coupon_Rate], 
        [Extent2].[Price_Exchange] AS [Price_Exchange], 
        [Extent2].[Trade_Currency] AS [Trade_Currency], 
        [Extent2].[Price_Curr] AS [Price_Curr], 
        [Extent2].[Currency_Pair_Code] AS [Currency_Pair_Code], 
        [Extent2].[Share_Class] AS [Share_Class], 
        [Extent2].[Current_Market_Price] AS [Current_Market_Price], 
        [Extent2].[Index_Type] AS [Index_Type], 
        [Extent2].[Clean_Price_Formula] AS [Clean_Price_Formula], 
        [Extent2].[Accrued_Income_Price_Formula] AS [Accrued_Income_Price_Formula], 
        [Extent2].[Odd_First_Coupon_Date] AS [Odd_First_Coupon_Date], 
        [Extent2].[Odd_Last_Coupon_Date] AS [Odd_Last_Coupon_Date], 
        [Extent2].[Coupon_Anniversary_Indicator] AS [Coupon_Anniversary_Indicator], 
        [Extent2].[Track_EOM_Flag] AS [Track_EOM_Flag], 
        [Extent2].[Next_Coupon_Date] AS [Next_Coupon_Date], 
        [Extent2].[Previous_Coupon_Date] AS [Previous_Coupon_Date], 
        [Extent2].[Payment_Frequency] AS [Payment_Frequency], 
        [Extent2].[Coupon_BusDay_Adjustment] AS [Coupon_BusDay_Adjustment], 
        [Extent2].[Next_Ex_Div_Date] AS [Next_Ex_Div_Date], 
        [Extent2].[Ex_Div_BusDay_Adjustment] AS [Ex_Div_BusDay_Adjustment], 
        [Extent2].[Ex_Div_Period] AS [Ex_Div_Period], 
        [Extent2].[Ticker] AS [Ticker], 
        [Extent2].[Inet_ID] AS [Inet_ID], 
        [Extent2].[Bloomberg_ID] AS [Bloomberg_ID], 
        [Extent2].[External_Sec_ID] AS [External_Sec_ID], 
        [Extent2].[Reuters_ID] AS [Reuters_ID], 
        [Extent2].[ISIN] AS [ISIN], 
        [Extent2].[Call_Account_Flag] AS [Call_Account_Flag], 
        [Extent2].[System_Locked] AS [System_Locked], 
        [Extent2].[Last_Update_User] AS [Last_Update_User1], 
        [Extent2].[Last_Update_Date] AS [Last_Update_Date1], 
        [Extent2].[Security_Status] AS [Security_Status], 
        [Extent2].[Benchmark_Portfolio] AS [Benchmark_Portfolio], 
        [Extent2].[Active_flag] AS [Active_flag], 
        [Extent2].[Dividend_FX_Security_ID] AS [Dividend_FX_Security_ID]
        FROM  [dbo].[Security_Performance_History] AS [Extent1]
        INNER JOIN [dbo].[Security_Detail] AS [Extent2] ON [Extent1].[Security_ID] = [Extent2].[Security_ID]
        WHERE ([Extent1].[Security_ID] = @p__linq__0) AND ([Extent1].[Portfolio_Code] = @p__linq__1)
    )  AS [Project1]
    ORDER BY [Project1].[Record_Date] DESC
2018-04-11 13:52:02.8966|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: SELECT 
    [Project1].[Decimal_Precision] AS [Decimal_Precision], 
    [Project1].[Security_ID] AS [Security_ID], 
    [Project1].[Portfolio_Code] AS [Portfolio_Code], 
    [Project1].[Entity_ID] AS [Entity_ID], 
    [Project1].[ModDietz_Performance_Quarterly] AS [ModDietz_Performance_Quarterly], 
    [Project1].[ModDietz_Performance_Monthly] AS [ModDietz_Performance_Monthly], 
    [Project1].[ModDietz_Performance_MonthToDate] AS [ModDietz_Performance_MonthToDate], 
    [Project1].[Dietz_Performance_Quarterly] AS [Dietz_Performance_Quarterly], 
    [Project1].[Dietz_Performance_Monthly] AS [Dietz_Performance_Monthly], 
    [Project1].[Dietz_Performance_MonthToDate] AS [Dietz_Performance_MonthToDate], 
    [Project1].[Last_Update_Date] AS [Last_Update_Date], 
    [Project1].[Last_Update_User] AS [Last_Update_User], 
    [Project1].[Record_Date] AS [Record_Date], 
    [Project1].[Session_ID] AS [Session_ID], 
    [Project1].[Hist_Last_Update_Date] AS [Hist_Last_Update_Date], 
    [Project1].[Hist_Last_Update_User] AS [Hist_Last_Update_User], 
    [Project1].[Security_ID1] AS [Security_ID1], 
    [Project1].[Entity_ID1] AS [Entity_ID1], 
    [Project1].[Security_Name] AS [Security_Name], 
    [Project1].[Short_Name] AS [Short_Name], 
    [Project1].[Primary_Exch] AS [Primary_Exch], 
    [Project1].[Secondary_Exch] AS [Secondary_Exch], 
    [Project1].[Country_Of_Domicile] AS [Country_Of_Domicile], 
    [Project1].[Country_Of_Risk] AS [Country_Of_Risk], 
    [Project1].[Security_Type_Code] AS [Security_Type_Code], 
    [Project1].[Price_Multiplier] AS [Price_Multiplier], 
    [Project1].[Income_Frequency] AS [Income_Frequency], 
    [Project1].[Issuer_Code] AS [Issuer_Code], 
    [Project1].[Ultimate_Issuer_Code] AS [Ultimate_Issuer_Code], 
    [Project1].[Asset_Currency] AS [Asset_Currency], 
    [Project1].[Min_Lot_Size] AS [Min_Lot_Size], 
    [Project1].[AvePrice_Rounding] AS [AvePrice_Rounding], 
    [Project1].[Issue_Date] AS [Issue_Date], 
    [Project1].[Maturity_Date] AS [Maturity_Date], 
    [Project1].[Coupon_Rate] AS [Coupon_Rate], 
    [Project1].[Price_Exchange] AS [Price_Exchange], 
    [Project1].[Trade_Currency] AS [Trade_Currency], 
    [Project1].[Price_Curr] AS [Price_Curr], 
    [Project1].[Currency_Pair_Code] AS [Currency_Pair_Code], 
    [Project1].[Share_Class] AS [Share_Class], 
    [Project1].[Current_Market_Price] AS [Current_Market_Price], 
    [Project1].[Index_Type] AS [Index_Type], 
    [Project1].[Clean_Price_Formula] AS [Clean_Price_Formula], 
    [Project1].[Accrued_Income_Price_Formula] AS [Accrued_Income_Price_Formula], 
    [Project1].[Odd_First_Coupon_Date] AS [Odd_First_Coupon_Date], 
    [Project1].[Odd_Last_Coupon_Date] AS [Odd_Last_Coupon_Date], 
    [Project1].[Coupon_Anniversary_Indicator] AS [Coupon_Anniversary_Indicator], 
    [Project1].[Track_EOM_Flag] AS [Track_EOM_Flag], 
    [Project1].[Next_Coupon_Date] AS [Next_Coupon_Date], 
    [Project1].[Previous_Coupon_Date] AS [Previous_Coupon_Date], 
    [Project1].[Payment_Frequency] AS [Payment_Frequency], 
    [Project1].[Coupon_BusDay_Adjustment] AS [Coupon_BusDay_Adjustment], 
    [Project1].[Next_Ex_Div_Date] AS [Next_Ex_Div_Date], 
    [Project1].[Ex_Div_BusDay_Adjustment] AS [Ex_Div_BusDay_Adjustment], 
    [Project1].[Ex_Div_Period] AS [Ex_Div_Period], 
    [Project1].[Ticker] AS [Ticker], 
    [Project1].[Inet_ID] AS [Inet_ID], 
    [Project1].[Bloomberg_ID] AS [Bloomberg_ID], 
    [Project1].[External_Sec_ID] AS [External_Sec_ID], 
    [Project1].[Reuters_ID] AS [Reuters_ID], 
    [Project1].[ISIN] AS [ISIN], 
    [Project1].[Call_Account_Flag] AS [Call_Account_Flag], 
    [Project1].[System_Locked] AS [System_Locked], 
    [Project1].[Last_Update_User1] AS [Last_Update_User1], 
    [Project1].[Last_Update_Date1] AS [Last_Update_Date1], 
    [Project1].[Security_Status] AS [Security_Status], 
    [Project1].[Benchmark_Portfolio] AS [Benchmark_Portfolio], 
    [Project1].[Active_flag] AS [Active_flag], 
    [Project1].[Dividend_FX_Security_ID] AS [Dividend_FX_Security_ID]
    FROM ( SELECT 
        [Extent1].[Security_ID] AS [Security_ID], 
        [Extent1].[Portfolio_Code] AS [Portfolio_Code], 
        [Extent1].[Entity_ID] AS [Entity_ID], 
        [Extent1].[ModDietz_Performance_Quarterly] AS [ModDietz_Performance_Quarterly], 
        [Extent1].[ModDietz_Performance_Monthly] AS [ModDietz_Performance_Monthly], 
        [Extent1].[ModDietz_Performance_MonthToDate] AS [ModDietz_Performance_MonthToDate], 
        [Extent1].[Dietz_Performance_Quarterly] AS [Dietz_Performance_Quarterly], 
        [Extent1].[Dietz_Performance_Monthly] AS [Dietz_Performance_Monthly], 
        [Extent1].[Dietz_Performance_MonthToDate] AS [Dietz_Performance_MonthToDate], 
        [Extent1].[Last_Update_Date] AS [Last_Update_Date], 
        [Extent1].[Last_Update_User] AS [Last_Update_User], 
        [Extent1].[Record_Date] AS [Record_Date], 
        [Extent1].[Session_ID] AS [Session_ID], 
        [Extent1].[Hist_Last_Update_Date] AS [Hist_Last_Update_Date], 
        [Extent1].[Hist_Last_Update_User] AS [Hist_Last_Update_User], 
        [Extent2].[Security_ID] AS [Security_ID1], 
        [Extent2].[Entity_ID] AS [Entity_ID1], 
        [Extent2].[Security_Name] AS [Security_Name], 
        [Extent2].[Short_Name] AS [Short_Name], 
        [Extent2].[Primary_Exch] AS [Primary_Exch], 
        [Extent2].[Secondary_Exch] AS [Secondary_Exch], 
        [Extent2].[Country_Of_Domicile] AS [Country_Of_Domicile], 
        [Extent2].[Country_Of_Risk] AS [Country_Of_Risk], 
        [Extent2].[Security_Type_Code] AS [Security_Type_Code], 
        [Extent2].[Price_Multiplier] AS [Price_Multiplier], 
        [Extent2].[Income_Frequency] AS [Income_Frequency], 
        [Extent2].[Issuer_Code] AS [Issuer_Code], 
        [Extent2].[Ultimate_Issuer_Code] AS [Ultimate_Issuer_Code], 
        [Extent2].[Asset_Currency] AS [Asset_Currency], 
        [Extent2].[Min_Lot_Size] AS [Min_Lot_Size], 
        [Extent2].[Decimal_Precision] AS [Decimal_Precision], 
        [Extent2].[AvePrice_Rounding] AS [AvePrice_Rounding], 
        [Extent2].[Issue_Date] AS [Issue_Date], 
        [Extent2].[Maturity_Date] AS [Maturity_Date], 
        [Extent2].[Coupon_Rate] AS [Coupon_Rate], 
        [Extent2].[Price_Exchange] AS [Price_Exchange], 
        [Extent2].[Trade_Currency] AS [Trade_Currency], 
        [Extent2].[Price_Curr] AS [Price_Curr], 
        [Extent2].[Currency_Pair_Code] AS [Currency_Pair_Code], 
        [Extent2].[Share_Class] AS [Share_Class], 
        [Extent2].[Current_Market_Price] AS [Current_Market_Price], 
        [Extent2].[Index_Type] AS [Index_Type], 
        [Extent2].[Clean_Price_Formula] AS [Clean_Price_Formula], 
        [Extent2].[Accrued_Income_Price_Formula] AS [Accrued_Income_Price_Formula], 
        [Extent2].[Odd_First_Coupon_Date] AS [Odd_First_Coupon_Date], 
        [Extent2].[Odd_Last_Coupon_Date] AS [Odd_Last_Coupon_Date], 
        [Extent2].[Coupon_Anniversary_Indicator] AS [Coupon_Anniversary_Indicator], 
        [Extent2].[Track_EOM_Flag] AS [Track_EOM_Flag], 
        [Extent2].[Next_Coupon_Date] AS [Next_Coupon_Date], 
        [Extent2].[Previous_Coupon_Date] AS [Previous_Coupon_Date], 
        [Extent2].[Payment_Frequency] AS [Payment_Frequency], 
        [Extent2].[Coupon_BusDay_Adjustment] AS [Coupon_BusDay_Adjustment], 
        [Extent2].[Next_Ex_Div_Date] AS [Next_Ex_Div_Date], 
        [Extent2].[Ex_Div_BusDay_Adjustment] AS [Ex_Div_BusDay_Adjustment], 
        [Extent2].[Ex_Div_Period] AS [Ex_Div_Period], 
        [Extent2].[Ticker] AS [Ticker], 
        [Extent2].[Inet_ID] AS [Inet_ID], 
        [Extent2].[Bloomberg_ID] AS [Bloomberg_ID], 
        [Extent2].[External_Sec_ID] AS [External_Sec_ID], 
        [Extent2].[Reuters_ID] AS [Reuters_ID], 
        [Extent2].[ISIN] AS [ISIN], 
        [Extent2].[Call_Account_Flag] AS [Call_Account_Flag], 
        [Extent2].[System_Locked] AS [System_Locked], 
        [Extent2].[Last_Update_User] AS [Last_Update_User1], 
        [Extent2].[Last_Update_Date] AS [Last_Update_Date1], 
        [Extent2].[Security_Status] AS [Security_Status], 
        [Extent2].[Benchmark_Portfolio] AS [Benchmark_Portfolio], 
        [Extent2].[Active_flag] AS [Active_flag], 
        [Extent2].[Dividend_FX_Security_ID] AS [Dividend_FX_Security_ID]
        FROM  [dbo].[Security_Performance_History] AS [Extent1]
        INNER JOIN [dbo].[Security_Detail] AS [Extent2] ON [Extent1].[Security_ID] = [Extent2].[Security_ID]
        WHERE ([Extent1].[Security_ID] = @p__linq__0) AND ([Extent1].[Portfolio_Code] = @p__linq__1)
    )  AS [Project1]
    ORDER BY [Project1].[Record_Date] DESC
2018-04-11 13:52:09.3147|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: IF db_id(N'MetopeAzureDb') IS NOT NULL SELECT 1 ELSE SELECT Count(*) FROM sys.databases WHERE [name]=N'MetopeAzureDb'
2018-04-11 13:52:09.3202|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: IF db_id(N'MetopeAzureDb') IS NOT NULL SELECT 1 ELSE SELECT Count(*) FROM sys.databases WHERE [name]=N'MetopeAzureDb'
2018-04-11 13:52:09.3202|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: IF db_id(N'MetopeAzureDb') IS NOT NULL SELECT 1 ELSE SELECT Count(*) FROM sys.databases WHERE [name]=N'MetopeAzureDb'
2018-04-11 13:52:09.3417|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: IF db_id(N'MetopeAzureDb') IS NOT NULL SELECT 1 ELSE SELECT Count(*) FROM sys.databases WHERE [name]=N'MetopeAzureDb'
2018-04-11 13:52:09.3542|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: True, Command Text: SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[EntityIdScope] AS [EntityIdScope], 
    [Extent1].[Email] AS [Email], 
    [Extent1].[EmailConfirmed] AS [EmailConfirmed], 
    [Extent1].[PasswordHash] AS [PasswordHash], 
    [Extent1].[SecurityStamp] AS [SecurityStamp], 
    [Extent1].[PhoneNumber] AS [PhoneNumber], 
    [Extent1].[PhoneNumberConfirmed] AS [PhoneNumberConfirmed], 
    [Extent1].[TwoFactorEnabled] AS [TwoFactorEnabled], 
    [Extent1].[LockoutEndDateUtc] AS [LockoutEndDateUtc], 
    [Extent1].[LockoutEnabled] AS [LockoutEnabled], 
    [Extent1].[AccessFailedCount] AS [AccessFailedCount], 
    [Extent1].[UserName] AS [UserName]
    FROM [dbo].[AspNetUsers] AS [Extent1]
    WHERE [Extent1].[Id] = @p0
2018-04-11 13:52:09.3542|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: True, Command Text: SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[EntityIdScope] AS [EntityIdScope], 
    [Extent1].[Email] AS [Email], 
    [Extent1].[EmailConfirmed] AS [EmailConfirmed], 
    [Extent1].[PasswordHash] AS [PasswordHash], 
    [Extent1].[SecurityStamp] AS [SecurityStamp], 
    [Extent1].[PhoneNumber] AS [PhoneNumber], 
    [Extent1].[PhoneNumberConfirmed] AS [PhoneNumberConfirmed], 
    [Extent1].[TwoFactorEnabled] AS [TwoFactorEnabled], 
    [Extent1].[LockoutEndDateUtc] AS [LockoutEndDateUtc], 
    [Extent1].[LockoutEnabled] AS [LockoutEnabled], 
    [Extent1].[AccessFailedCount] AS [AccessFailedCount], 
    [Extent1].[UserName] AS [UserName]
    FROM [dbo].[AspNetUsers] AS [Extent1]
    WHERE [Extent1].[Id] = @p0
2018-04-11 13:52:09.3727|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: True, Command Text: SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[UserId] AS [UserId], 
    [Extent1].[ClaimType] AS [ClaimType], 
    [Extent1].[ClaimValue] AS [ClaimValue]
    FROM [dbo].[AspNetUserClaims] AS [Extent1]
    WHERE [Extent1].[UserId] = @p__linq__0
2018-04-11 13:52:09.3817|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: True, Command Text: SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[UserId] AS [UserId], 
    [Extent1].[ClaimType] AS [ClaimType], 
    [Extent1].[ClaimValue] AS [ClaimValue]
    FROM [dbo].[AspNetUserClaims] AS [Extent1]
    WHERE [Extent1].[UserId] = @p__linq__0
2018-04-11 13:52:09.3817|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: True, Command Text: SELECT 
    [Extent1].[LoginProvider] AS [LoginProvider], 
    [Extent1].[ProviderKey] AS [ProviderKey], 
    [Extent1].[UserId] AS [UserId]
    FROM [dbo].[AspNetUserLogins] AS [Extent1]
    WHERE [Extent1].[UserId] = @p__linq__0
2018-04-11 13:52:09.3977|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: True, Command Text: SELECT 
    [Extent1].[LoginProvider] AS [LoginProvider], 
    [Extent1].[ProviderKey] AS [ProviderKey], 
    [Extent1].[UserId] AS [UserId]
    FROM [dbo].[AspNetUserLogins] AS [Extent1]
    WHERE [Extent1].[UserId] = @p__linq__0
2018-04-11 13:52:09.3977|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: True, Command Text: SELECT 
    [Extent1].[UserId] AS [UserId], 
    [Extent1].[RoleId] AS [RoleId]
    FROM [dbo].[AspNetUserRoles] AS [Extent1]
    WHERE [Extent1].[UserId] = @p__linq__0
2018-04-11 13:52:09.4138|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: True, Command Text: SELECT 
    [Extent1].[UserId] AS [UserId], 
    [Extent1].[RoleId] AS [RoleId]
    FROM [dbo].[AspNetUserRoles] AS [Extent1]
    WHERE [Extent1].[UserId] = @p__linq__0
2018-04-11 13:52:09.4758|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: SELECT TOP (2) 
    [Extent1].[Entity_ID] AS [Entity_ID], 
    [Extent1].[Entity_Code] AS [Entity_Code], 
    [Extent1].[Entity_Name] AS [Entity_Name], 
    [Extent1].[Import_Folder] AS [Import_Folder], 
    [Extent1].[Export_Folder] AS [Export_Folder]
    FROM [dbo].[Entity] AS [Extent1]
    WHERE [Extent1].[Entity_ID] = @p0
2018-04-11 13:52:09.4918|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: SELECT TOP (2) 
    [Extent1].[Entity_ID] AS [Entity_ID], 
    [Extent1].[Entity_Code] AS [Entity_Code], 
    [Extent1].[Entity_Name] AS [Entity_Name], 
    [Extent1].[Import_Folder] AS [Import_Folder], 
    [Extent1].[Export_Folder] AS [Export_Folder]
    FROM [dbo].[Entity] AS [Extent1]
    WHERE [Extent1].[Entity_ID] = @p0
