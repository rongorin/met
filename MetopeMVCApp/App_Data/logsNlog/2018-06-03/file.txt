2018-06-03 05:48:12.7162|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: IF db_id(N'MetopeAzureDb') IS NOT NULL SELECT 1 ELSE SELECT Count(*) FROM sys.databases WHERE [name]=N'MetopeAzureDb'
2018-06-03 05:48:12.9194|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: IF db_id(N'MetopeAzureDb') IS NOT NULL SELECT 1 ELSE SELECT Count(*) FROM sys.databases WHERE [name]=N'MetopeAzureDb'
2018-06-03 05:48:17.6022|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: IF db_id(N'MetopeAzureDb') IS NOT NULL SELECT 1 ELSE SELECT Count(*) FROM sys.databases WHERE [name]=N'MetopeAzureDb'
2018-06-03 05:48:17.6202|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: IF db_id(N'MetopeAzureDb') IS NOT NULL SELECT 1 ELSE SELECT Count(*) FROM sys.databases WHERE [name]=N'MetopeAzureDb'
2018-06-03 05:48:17.6412|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: IF db_id(N'MetopeAzureDb') IS NOT NULL SELECT 1 ELSE SELECT Count(*) FROM sys.databases WHERE [name]=N'MetopeAzureDb'
2018-06-03 05:48:17.7073|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: IF db_id(N'MetopeAzureDb') IS NOT NULL SELECT 1 ELSE SELECT Count(*) FROM sys.databases WHERE [name]=N'MetopeAzureDb'
2018-06-03 05:48:17.8189|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: True, Command Text: SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[EntityIdScope] AS [EntityIdScope], 
    [Extent1].[Email] AS [Email], 
    [Extent1].[EmailConfirmed] AS [EmailConfirmed], 
    [Extent1].[PasswordHash] AS [PasswordHash], 
    [Extent1].[SecurityStamp] AS [SecurityStamp], 
    [Extent1].[PhoneNumber] AS [PhoneNumber], 
    [Extent1].[PhoneNumberConfirmed] AS [PhoneNumberConfirmed], 
    [Extent1].[TwoFactorEnabled] AS [TwoFactorEnabled], 
    [Extent1].[LockoutEndDateUtc] AS [LockoutEndDateUtc], 
    [Extent1].[LockoutEnabled] AS [LockoutEnabled], 
    [Extent1].[AccessFailedCount] AS [AccessFailedCount], 
    [Extent1].[UserName] AS [UserName]
    FROM [dbo].[AspNetUsers] AS [Extent1]
    WHERE [Extent1].[Id] = @p0
2018-06-03 05:48:17.8414|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: True, Command Text: SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[EntityIdScope] AS [EntityIdScope], 
    [Extent1].[Email] AS [Email], 
    [Extent1].[EmailConfirmed] AS [EmailConfirmed], 
    [Extent1].[PasswordHash] AS [PasswordHash], 
    [Extent1].[SecurityStamp] AS [SecurityStamp], 
    [Extent1].[PhoneNumber] AS [PhoneNumber], 
    [Extent1].[PhoneNumberConfirmed] AS [PhoneNumberConfirmed], 
    [Extent1].[TwoFactorEnabled] AS [TwoFactorEnabled], 
    [Extent1].[LockoutEndDateUtc] AS [LockoutEndDateUtc], 
    [Extent1].[LockoutEnabled] AS [LockoutEnabled], 
    [Extent1].[AccessFailedCount] AS [AccessFailedCount], 
    [Extent1].[UserName] AS [UserName]
    FROM [dbo].[AspNetUsers] AS [Extent1]
    WHERE [Extent1].[Id] = @p0
2018-06-03 05:48:17.8589|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: True, Command Text: SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[UserId] AS [UserId], 
    [Extent1].[ClaimType] AS [ClaimType], 
    [Extent1].[ClaimValue] AS [ClaimValue]
    FROM [dbo].[AspNetUserClaims] AS [Extent1]
    WHERE [Extent1].[UserId] = @p__linq__0
2018-06-03 05:48:17.8784|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: True, Command Text: SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[UserId] AS [UserId], 
    [Extent1].[ClaimType] AS [ClaimType], 
    [Extent1].[ClaimValue] AS [ClaimValue]
    FROM [dbo].[AspNetUserClaims] AS [Extent1]
    WHERE [Extent1].[UserId] = @p__linq__0
2018-06-03 05:48:17.8954|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: True, Command Text: SELECT 
    [Extent1].[LoginProvider] AS [LoginProvider], 
    [Extent1].[ProviderKey] AS [ProviderKey], 
    [Extent1].[UserId] AS [UserId]
    FROM [dbo].[AspNetUserLogins] AS [Extent1]
    WHERE [Extent1].[UserId] = @p__linq__0
2018-06-03 05:48:17.9855|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: True, Command Text: SELECT 
    [Extent1].[LoginProvider] AS [LoginProvider], 
    [Extent1].[ProviderKey] AS [ProviderKey], 
    [Extent1].[UserId] AS [UserId]
    FROM [dbo].[AspNetUserLogins] AS [Extent1]
    WHERE [Extent1].[UserId] = @p__linq__0
2018-06-03 05:48:18.0075|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: True, Command Text: SELECT 
    [Extent1].[UserId] AS [UserId], 
    [Extent1].[RoleId] AS [RoleId]
    FROM [dbo].[AspNetUserRoles] AS [Extent1]
    WHERE [Extent1].[UserId] = @p__linq__0
2018-06-03 05:48:18.0715|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: True, Command Text: SELECT 
    [Extent1].[UserId] AS [UserId], 
    [Extent1].[RoleId] AS [RoleId]
    FROM [dbo].[AspNetUserRoles] AS [Extent1]
    WHERE [Extent1].[UserId] = @p__linq__0
2018-06-03 05:48:18.1026|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: SELECT TOP (2) 
    [Extent1].[Entity_ID] AS [Entity_ID], 
    [Extent1].[Entity_Code] AS [Entity_Code], 
    [Extent1].[Entity_Name] AS [Entity_Name], 
    [Extent1].[Import_Folder] AS [Import_Folder], 
    [Extent1].[Export_Folder] AS [Export_Folder]
    FROM [dbo].[Entity] AS [Extent1]
    WHERE [Extent1].[Entity_ID] = @p0
2018-06-03 05:48:18.1271|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: SELECT TOP (2) 
    [Extent1].[Entity_ID] AS [Entity_ID], 
    [Extent1].[Entity_Code] AS [Entity_Code], 
    [Extent1].[Entity_Name] AS [Entity_Name], 
    [Extent1].[Import_Folder] AS [Import_Folder], 
    [Extent1].[Export_Folder] AS [Export_Folder]
    FROM [dbo].[Entity] AS [Extent1]
    WHERE [Extent1].[Entity_ID] = @p0
2018-06-03 05:48:21.8562|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: IF db_id(N'MetopeAzureDb') IS NOT NULL SELECT 1 ELSE SELECT Count(*) FROM sys.databases WHERE [name]=N'MetopeAzureDb'
2018-06-03 05:48:21.9798|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: IF db_id(N'MetopeAzureDb') IS NOT NULL SELECT 1 ELSE SELECT Count(*) FROM sys.databases WHERE [name]=N'MetopeAzureDb'
2018-06-03 05:48:28.5588|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: IF db_id(N'MetopeAzureDb') IS NOT NULL SELECT 1 ELSE SELECT Count(*) FROM sys.databases WHERE [name]=N'MetopeAzureDb'
2018-06-03 05:48:28.7965|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: IF db_id(N'MetopeAzureDb') IS NOT NULL SELECT 1 ELSE SELECT Count(*) FROM sys.databases WHERE [name]=N'MetopeAzureDb'
2018-06-03 05:48:28.9962|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: IF db_id(N'MetopeAzureDb') IS NOT NULL SELECT 1 ELSE SELECT Count(*) FROM sys.databases WHERE [name]=N'MetopeAzureDb'
2018-06-03 05:48:29.0222|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: IF db_id(N'MetopeAzureDb') IS NOT NULL SELECT 1 ELSE SELECT Count(*) FROM sys.databases WHERE [name]=N'MetopeAzureDb'
2018-06-03 05:48:29.0637|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: IF db_id(N'MetopeAzureDb') IS NOT NULL SELECT 1 ELSE SELECT Count(*) FROM sys.databases WHERE [name]=N'MetopeAzureDb'
2018-06-03 05:48:29.1052|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: IF db_id(N'MetopeAzureDb') IS NOT NULL SELECT 1 ELSE SELECT Count(*) FROM sys.databases WHERE [name]=N'MetopeAzureDb'
2018-06-03 05:52:01.2528|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: IF db_id(N'MetopeAzureDb') IS NOT NULL SELECT 1 ELSE SELECT Count(*) FROM sys.databases WHERE [name]=N'MetopeAzureDb'
2018-06-03 05:52:01.4945|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: IF db_id(N'MetopeAzureDb') IS NOT NULL SELECT 1 ELSE SELECT Count(*) FROM sys.databases WHERE [name]=N'MetopeAzureDb'
2018-06-03 05:52:05.8331|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: IF db_id(N'MetopeAzureDb') IS NOT NULL SELECT 1 ELSE SELECT Count(*) FROM sys.databases WHERE [name]=N'MetopeAzureDb'
2018-06-03 05:52:05.8727|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: IF db_id(N'MetopeAzureDb') IS NOT NULL SELECT 1 ELSE SELECT Count(*) FROM sys.databases WHERE [name]=N'MetopeAzureDb'
2018-06-03 05:52:05.9282|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: IF db_id(N'MetopeAzureDb') IS NOT NULL SELECT 1 ELSE SELECT Count(*) FROM sys.databases WHERE [name]=N'MetopeAzureDb'
2018-06-03 05:52:05.9612|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: IF db_id(N'MetopeAzureDb') IS NOT NULL SELECT 1 ELSE SELECT Count(*) FROM sys.databases WHERE [name]=N'MetopeAzureDb'
2018-06-03 05:52:26.0084|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: IF db_id(N'MetopeAzureDb') IS NOT NULL SELECT 1 ELSE SELECT Count(*) FROM sys.databases WHERE [name]=N'MetopeAzureDb'
2018-06-03 05:52:26.0810|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: IF db_id(N'MetopeAzureDb') IS NOT NULL SELECT 1 ELSE SELECT Count(*) FROM sys.databases WHERE [name]=N'MetopeAzureDb'
2018-06-03 05:52:30.3700|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: IF db_id(N'MetopeAzureDb') IS NOT NULL SELECT 1 ELSE SELECT Count(*) FROM sys.databases WHERE [name]=N'MetopeAzureDb'
2018-06-03 05:52:30.3855|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: IF db_id(N'MetopeAzureDb') IS NOT NULL SELECT 1 ELSE SELECT Count(*) FROM sys.databases WHERE [name]=N'MetopeAzureDb'
2018-06-03 05:52:30.4301|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: IF db_id(N'MetopeAzureDb') IS NOT NULL SELECT 1 ELSE SELECT Count(*) FROM sys.databases WHERE [name]=N'MetopeAzureDb'
2018-06-03 05:52:30.4611|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: IF db_id(N'MetopeAzureDb') IS NOT NULL SELECT 1 ELSE SELECT Count(*) FROM sys.databases WHERE [name]=N'MetopeAzureDb'
2018-06-03 06:03:03.2872|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: IF db_id(N'MetopeAzureDb') IS NOT NULL SELECT 1 ELSE SELECT Count(*) FROM sys.databases WHERE [name]=N'MetopeAzureDb'
2018-06-03 06:03:03.5464|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: IF db_id(N'MetopeAzureDb') IS NOT NULL SELECT 1 ELSE SELECT Count(*) FROM sys.databases WHERE [name]=N'MetopeAzureDb'
2018-06-03 06:03:03.9652|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: SELECT TOP (1) 
    [Extent1].[Classification_Code] AS [Classification_Code], 
    [Extent1].[Effective_Date] AS [Effective_Date], 
    [Extent1].[Entity_ID] AS [Entity_ID], 
    [Extent1].[Industry_Code] AS [Industry_Code], 
    [Extent1].[Last_Update_Date] AS [Last_Update_Date], 
    [Extent1].[Last_Update_User] AS [Last_Update_User], 
    [Extent1].[Security_ID] AS [Security_ID]
    FROM [dbo].[Security_Classification_Industry] AS [Extent1]
    WHERE ([Extent1].[Classification_Code] = @p__linq__0) AND ([Extent1].[Entity_ID] = @p__linq__1) AND ([Extent1].[Security_ID] = @p__linq__2) AND ([Extent1].[Industry_Code] = @p__linq__3) AND ([Extent1].[Effective_Date] = @p__linq__4)
2018-06-03 06:03:04.0182|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: SELECT TOP (1) 
    [Extent1].[Classification_Code] AS [Classification_Code], 
    [Extent1].[Effective_Date] AS [Effective_Date], 
    [Extent1].[Entity_ID] AS [Entity_ID], 
    [Extent1].[Industry_Code] AS [Industry_Code], 
    [Extent1].[Last_Update_Date] AS [Last_Update_Date], 
    [Extent1].[Last_Update_User] AS [Last_Update_User], 
    [Extent1].[Security_ID] AS [Security_ID]
    FROM [dbo].[Security_Classification_Industry] AS [Extent1]
    WHERE ([Extent1].[Classification_Code] = @p__linq__0) AND ([Extent1].[Entity_ID] = @p__linq__1) AND ([Extent1].[Security_ID] = @p__linq__2) AND ([Extent1].[Industry_Code] = @p__linq__3) AND ([Extent1].[Effective_Date] = @p__linq__4)
2018-06-03 06:03:04.2124|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: SELECT 
    [Project1].[Classification_Code] AS [Classification_Code], 
    [Project1].[Description] AS [Description], 
    [Project1].[Entity_ID] AS [Entity_ID], 
    [Project1].[Last_Update_Date] AS [Last_Update_Date], 
    [Project1].[Last_Update_User] AS [Last_Update_User], 
    [Project1].[System_Locked] AS [System_Locked]
    FROM ( SELECT 
        [Extent1].[Classification_Code] AS [Classification_Code], 
        [Extent1].[Description] AS [Description], 
        [Extent1].[Entity_ID] AS [Entity_ID], 
        [Extent1].[Last_Update_Date] AS [Last_Update_Date], 
        [Extent1].[Last_Update_User] AS [Last_Update_User], 
        [Extent1].[System_Locked] AS [System_Locked]
        FROM [dbo].[Classification] AS [Extent1]
        WHERE [Extent1].[Entity_ID] = @p__linq__0
    )  AS [Project1]
    ORDER BY [Project1].[Classification_Code] ASC
2018-06-03 06:03:04.3154|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: SELECT 
    [Project1].[Classification_Code] AS [Classification_Code], 
    [Project1].[Description] AS [Description], 
    [Project1].[Entity_ID] AS [Entity_ID], 
    [Project1].[Last_Update_Date] AS [Last_Update_Date], 
    [Project1].[Last_Update_User] AS [Last_Update_User], 
    [Project1].[System_Locked] AS [System_Locked]
    FROM ( SELECT 
        [Extent1].[Classification_Code] AS [Classification_Code], 
        [Extent1].[Description] AS [Description], 
        [Extent1].[Entity_ID] AS [Entity_ID], 
        [Extent1].[Last_Update_Date] AS [Last_Update_Date], 
        [Extent1].[Last_Update_User] AS [Last_Update_User], 
        [Extent1].[System_Locked] AS [System_Locked]
        FROM [dbo].[Classification] AS [Extent1]
        WHERE [Extent1].[Entity_ID] = @p__linq__0
    )  AS [Project1]
    ORDER BY [Project1].[Classification_Code] ASC
2018-06-03 06:03:04.6807|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: SELECT 
    [Project1].[Classification_Code] AS [Classification_Code], 
    [Project1].[Description] AS [Description], 
    [Project1].[Industry_Code] AS [Industry_Code], 
    [Project1].[Entity_ID] AS [Entity_ID], 
    [Project1].[Last_Update_Date] AS [Last_Update_Date], 
    [Project1].[Last_Update_User] AS [Last_Update_User], 
    [Project1].[System_Locked] AS [System_Locked]
    FROM ( SELECT 
        [Extent1].[Classification_Code] AS [Classification_Code], 
        [Extent1].[Description] AS [Description], 
        [Extent1].[Industry_Code] AS [Industry_Code], 
        [Extent1].[Entity_ID] AS [Entity_ID], 
        [Extent1].[Last_Update_Date] AS [Last_Update_Date], 
        [Extent1].[Last_Update_User] AS [Last_Update_User], 
        [Extent1].[System_Locked] AS [System_Locked]
        FROM [dbo].[Classification_Industry] AS [Extent1]
        WHERE ([Extent1].[Entity_ID] = @p__linq__0) AND ((CASE WHEN ( NOT ((N'' = @p__linq__1) AND (@p__linq__1 IS NOT NULL))) THEN CASE WHEN ([Extent1].[Classification_Code] = @p__linq__2) THEN cast(1 as bit) WHEN ( NOT (([Extent1].[Classification_Code] = @p__linq__2) AND (0 = (CASE WHEN (@p__linq__2 IS NULL) THEN cast(1 as bit) ELSE cast(0 as bit) END)))) THEN cast(0 as bit) END WHEN ('' <> [Extent1].[Classification_Code]) THEN cast(1 as bit) WHEN ('' = [Extent1].[Classification_Code]) THEN cast(0 as bit) END) = 1)
    )  AS [Project1]
    ORDER BY [Project1].[Description] ASC
2018-06-03 06:03:04.7362|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: SELECT 
    [Project1].[Classification_Code] AS [Classification_Code], 
    [Project1].[Description] AS [Description], 
    [Project1].[Industry_Code] AS [Industry_Code], 
    [Project1].[Entity_ID] AS [Entity_ID], 
    [Project1].[Last_Update_Date] AS [Last_Update_Date], 
    [Project1].[Last_Update_User] AS [Last_Update_User], 
    [Project1].[System_Locked] AS [System_Locked]
    FROM ( SELECT 
        [Extent1].[Classification_Code] AS [Classification_Code], 
        [Extent1].[Description] AS [Description], 
        [Extent1].[Industry_Code] AS [Industry_Code], 
        [Extent1].[Entity_ID] AS [Entity_ID], 
        [Extent1].[Last_Update_Date] AS [Last_Update_Date], 
        [Extent1].[Last_Update_User] AS [Last_Update_User], 
        [Extent1].[System_Locked] AS [System_Locked]
        FROM [dbo].[Classification_Industry] AS [Extent1]
        WHERE ([Extent1].[Entity_ID] = @p__linq__0) AND ((CASE WHEN ( NOT ((N'' = @p__linq__1) AND (@p__linq__1 IS NOT NULL))) THEN CASE WHEN ([Extent1].[Classification_Code] = @p__linq__2) THEN cast(1 as bit) WHEN ( NOT (([Extent1].[Classification_Code] = @p__linq__2) AND (0 = (CASE WHEN (@p__linq__2 IS NULL) THEN cast(1 as bit) ELSE cast(0 as bit) END)))) THEN cast(0 as bit) END WHEN ('' <> [Extent1].[Classification_Code]) THEN cast(1 as bit) WHEN ('' = [Extent1].[Classification_Code]) THEN cast(0 as bit) END) = 1)
    )  AS [Project1]
    ORDER BY [Project1].[Description] ASC
2018-06-03 06:03:04.8868|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: SELECT 
    [Extent1].[Security_ID] AS [Security_ID], 
    [Extent1].[Entity_ID] AS [Entity_ID], 
    [Extent1].[Security_Name] AS [Security_Name], 
    [Extent1].[Short_Name] AS [Short_Name], 
    [Extent1].[Primary_Exch] AS [Primary_Exch], 
    [Extent1].[Secondary_Exch] AS [Secondary_Exch], 
    [Extent1].[Country_Of_Domicile] AS [Country_Of_Domicile], 
    [Extent1].[Country_Of_Risk] AS [Country_Of_Risk], 
    [Extent1].[Security_Type_Code] AS [Security_Type_Code], 
    [Extent1].[Price_Multiplier] AS [Price_Multiplier], 
    [Extent1].[Income_Frequency] AS [Income_Frequency], 
    [Extent1].[Issuer_Code] AS [Issuer_Code], 
    [Extent1].[Ultimate_Issuer_Code] AS [Ultimate_Issuer_Code], 
    [Extent1].[Asset_Currency] AS [Asset_Currency], 
    [Extent1].[Min_Lot_Size] AS [Min_Lot_Size], 
    [Extent1].[Decimal_Precision] AS [Decimal_Precision], 
    [Extent1].[AvePrice_Rounding] AS [AvePrice_Rounding], 
    [Extent1].[Issue_Date] AS [Issue_Date], 
    [Extent1].[Maturity_Date] AS [Maturity_Date], 
    [Extent1].[Coupon_Rate] AS [Coupon_Rate], 
    [Extent1].[Price_Exchange] AS [Price_Exchange], 
    [Extent1].[Trade_Currency] AS [Trade_Currency], 
    [Extent1].[Price_Curr] AS [Price_Curr], 
    [Extent1].[Currency_Pair_Code] AS [Currency_Pair_Code], 
    [Extent1].[Share_Class] AS [Share_Class], 
    [Extent1].[Current_Market_Price] AS [Current_Market_Price], 
    [Extent1].[Index_Type] AS [Index_Type], 
    [Extent1].[Clean_Price_Formula] AS [Clean_Price_Formula], 
    [Extent1].[Accrued_Income_Price_Formula] AS [Accrued_Income_Price_Formula], 
    [Extent1].[Odd_First_Coupon_Date] AS [Odd_First_Coupon_Date], 
    [Extent1].[Odd_Last_Coupon_Date] AS [Odd_Last_Coupon_Date], 
    [Extent1].[Coupon_Anniversary_Indicator] AS [Coupon_Anniversary_Indicator], 
    [Extent1].[Track_EOM_Flag] AS [Track_EOM_Flag], 
    [Extent1].[Next_Coupon_Date] AS [Next_Coupon_Date], 
    [Extent1].[Previous_Coupon_Date] AS [Previous_Coupon_Date], 
    [Extent1].[Payment_Frequency] AS [Payment_Frequency], 
    [Extent1].[Coupon_BusDay_Adjustment] AS [Coupon_BusDay_Adjustment], 
    [Extent1].[Next_Ex_Div_Date] AS [Next_Ex_Div_Date], 
    [Extent1].[Ex_Div_BusDay_Adjustment] AS [Ex_Div_BusDay_Adjustment], 
    [Extent1].[Ex_Div_Period] AS [Ex_Div_Period], 
    [Extent1].[Ticker] AS [Ticker], 
    [Extent1].[Inet_ID] AS [Inet_ID], 
    [Extent1].[Bloomberg_ID] AS [Bloomberg_ID], 
    [Extent1].[External_Sec_ID] AS [External_Sec_ID], 
    [Extent1].[Reuters_ID] AS [Reuters_ID], 
    [Extent1].[ISIN] AS [ISIN], 
    [Extent1].[Call_Account_Flag] AS [Call_Account_Flag], 
    [Extent1].[System_Locked] AS [System_Locked], 
    [Extent1].[Last_Update_User] AS [Last_Update_User], 
    [Extent1].[Last_Update_Date] AS [Last_Update_Date], 
    [Extent1].[Security_Status] AS [Security_Status], 
    [Extent1].[Benchmark_Portfolio] AS [Benchmark_Portfolio], 
    [Extent1].[Active_flag] AS [Active_flag], 
    [Extent1].[Dividend_FX_Security_ID] AS [Dividend_FX_Security_ID]
    FROM [dbo].[Security_Detail] AS [Extent1]
    WHERE [Extent1].[Security_ID] = @EntityKeyValue1
2018-06-03 06:03:04.9459|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: SELECT 
    [Extent1].[Security_ID] AS [Security_ID], 
    [Extent1].[Entity_ID] AS [Entity_ID], 
    [Extent1].[Security_Name] AS [Security_Name], 
    [Extent1].[Short_Name] AS [Short_Name], 
    [Extent1].[Primary_Exch] AS [Primary_Exch], 
    [Extent1].[Secondary_Exch] AS [Secondary_Exch], 
    [Extent1].[Country_Of_Domicile] AS [Country_Of_Domicile], 
    [Extent1].[Country_Of_Risk] AS [Country_Of_Risk], 
    [Extent1].[Security_Type_Code] AS [Security_Type_Code], 
    [Extent1].[Price_Multiplier] AS [Price_Multiplier], 
    [Extent1].[Income_Frequency] AS [Income_Frequency], 
    [Extent1].[Issuer_Code] AS [Issuer_Code], 
    [Extent1].[Ultimate_Issuer_Code] AS [Ultimate_Issuer_Code], 
    [Extent1].[Asset_Currency] AS [Asset_Currency], 
    [Extent1].[Min_Lot_Size] AS [Min_Lot_Size], 
    [Extent1].[Decimal_Precision] AS [Decimal_Precision], 
    [Extent1].[AvePrice_Rounding] AS [AvePrice_Rounding], 
    [Extent1].[Issue_Date] AS [Issue_Date], 
    [Extent1].[Maturity_Date] AS [Maturity_Date], 
    [Extent1].[Coupon_Rate] AS [Coupon_Rate], 
    [Extent1].[Price_Exchange] AS [Price_Exchange], 
    [Extent1].[Trade_Currency] AS [Trade_Currency], 
    [Extent1].[Price_Curr] AS [Price_Curr], 
    [Extent1].[Currency_Pair_Code] AS [Currency_Pair_Code], 
    [Extent1].[Share_Class] AS [Share_Class], 
    [Extent1].[Current_Market_Price] AS [Current_Market_Price], 
    [Extent1].[Index_Type] AS [Index_Type], 
    [Extent1].[Clean_Price_Formula] AS [Clean_Price_Formula], 
    [Extent1].[Accrued_Income_Price_Formula] AS [Accrued_Income_Price_Formula], 
    [Extent1].[Odd_First_Coupon_Date] AS [Odd_First_Coupon_Date], 
    [Extent1].[Odd_Last_Coupon_Date] AS [Odd_Last_Coupon_Date], 
    [Extent1].[Coupon_Anniversary_Indicator] AS [Coupon_Anniversary_Indicator], 
    [Extent1].[Track_EOM_Flag] AS [Track_EOM_Flag], 
    [Extent1].[Next_Coupon_Date] AS [Next_Coupon_Date], 
    [Extent1].[Previous_Coupon_Date] AS [Previous_Coupon_Date], 
    [Extent1].[Payment_Frequency] AS [Payment_Frequency], 
    [Extent1].[Coupon_BusDay_Adjustment] AS [Coupon_BusDay_Adjustment], 
    [Extent1].[Next_Ex_Div_Date] AS [Next_Ex_Div_Date], 
    [Extent1].[Ex_Div_BusDay_Adjustment] AS [Ex_Div_BusDay_Adjustment], 
    [Extent1].[Ex_Div_Period] AS [Ex_Div_Period], 
    [Extent1].[Ticker] AS [Ticker], 
    [Extent1].[Inet_ID] AS [Inet_ID], 
    [Extent1].[Bloomberg_ID] AS [Bloomberg_ID], 
    [Extent1].[External_Sec_ID] AS [External_Sec_ID], 
    [Extent1].[Reuters_ID] AS [Reuters_ID], 
    [Extent1].[ISIN] AS [ISIN], 
    [Extent1].[Call_Account_Flag] AS [Call_Account_Flag], 
    [Extent1].[System_Locked] AS [System_Locked], 
    [Extent1].[Last_Update_User] AS [Last_Update_User], 
    [Extent1].[Last_Update_Date] AS [Last_Update_Date], 
    [Extent1].[Security_Status] AS [Security_Status], 
    [Extent1].[Benchmark_Portfolio] AS [Benchmark_Portfolio], 
    [Extent1].[Active_flag] AS [Active_flag], 
    [Extent1].[Dividend_FX_Security_ID] AS [Dividend_FX_Security_ID]
    FROM [dbo].[Security_Detail] AS [Extent1]
    WHERE [Extent1].[Security_ID] = @EntityKeyValue1
2018-06-03 06:03:17.2828|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: IF db_id(N'MetopeAzureDb') IS NOT NULL SELECT 1 ELSE SELECT Count(*) FROM sys.databases WHERE [name]=N'MetopeAzureDb'
2018-06-03 06:03:17.3029|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: IF db_id(N'MetopeAzureDb') IS NOT NULL SELECT 1 ELSE SELECT Count(*) FROM sys.databases WHERE [name]=N'MetopeAzureDb'
2018-06-03 06:03:17.3574|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: IF db_id(N'MetopeAzureDb') IS NOT NULL SELECT 1 ELSE SELECT Count(*) FROM sys.databases WHERE [name]=N'MetopeAzureDb'
2018-06-03 06:03:17.4054|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: IF db_id(N'MetopeAzureDb') IS NOT NULL SELECT 1 ELSE SELECT Count(*) FROM sys.databases WHERE [name]=N'MetopeAzureDb'
2018-06-03 06:03:33.1151|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: SELECT 
    [Project1].[Classification_Code] AS [Classification_Code], 
    [Project1].[Effective_Date] AS [Effective_Date], 
    [Project1].[Entity_ID] AS [Entity_ID], 
    [Project1].[Industry_Code] AS [Industry_Code], 
    [Project1].[Last_Update_Date] AS [Last_Update_Date], 
    [Project1].[Last_Update_User] AS [Last_Update_User], 
    [Project1].[Security_ID] AS [Security_ID]
    FROM ( SELECT 
        [Extent1].[Classification_Code] AS [Classification_Code], 
        [Extent1].[Effective_Date] AS [Effective_Date], 
        [Extent1].[Entity_ID] AS [Entity_ID], 
        [Extent1].[Industry_Code] AS [Industry_Code], 
        [Extent1].[Last_Update_Date] AS [Last_Update_Date], 
        [Extent1].[Last_Update_User] AS [Last_Update_User], 
        [Extent1].[Security_ID] AS [Security_ID]
        FROM [dbo].[Security_Classification_Industry] AS [Extent1]
        WHERE ([Extent1].[Entity_ID] = @p__linq__0) AND ([Extent1].[Security_ID] = @p__linq__1)
    )  AS [Project1]
    ORDER BY [Project1].[Security_ID] ASC, [Project1].[Effective_Date] DESC, [Project1].[Classification_Code] ASC
2018-06-03 06:03:33.1732|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: SELECT 
    [Project1].[Classification_Code] AS [Classification_Code], 
    [Project1].[Effective_Date] AS [Effective_Date], 
    [Project1].[Entity_ID] AS [Entity_ID], 
    [Project1].[Industry_Code] AS [Industry_Code], 
    [Project1].[Last_Update_Date] AS [Last_Update_Date], 
    [Project1].[Last_Update_User] AS [Last_Update_User], 
    [Project1].[Security_ID] AS [Security_ID]
    FROM ( SELECT 
        [Extent1].[Classification_Code] AS [Classification_Code], 
        [Extent1].[Effective_Date] AS [Effective_Date], 
        [Extent1].[Entity_ID] AS [Entity_ID], 
        [Extent1].[Industry_Code] AS [Industry_Code], 
        [Extent1].[Last_Update_Date] AS [Last_Update_Date], 
        [Extent1].[Last_Update_User] AS [Last_Update_User], 
        [Extent1].[Security_ID] AS [Security_ID]
        FROM [dbo].[Security_Classification_Industry] AS [Extent1]
        WHERE ([Extent1].[Entity_ID] = @p__linq__0) AND ([Extent1].[Security_ID] = @p__linq__1)
    )  AS [Project1]
    ORDER BY [Project1].[Security_ID] ASC, [Project1].[Effective_Date] DESC, [Project1].[Classification_Code] ASC
2018-06-03 06:03:33.2297|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: SELECT 
    [Extent1].[Security_ID] AS [Security_ID], 
    [Extent1].[Entity_ID] AS [Entity_ID], 
    [Extent1].[Security_Name] AS [Security_Name], 
    [Extent1].[Short_Name] AS [Short_Name], 
    [Extent1].[Primary_Exch] AS [Primary_Exch], 
    [Extent1].[Secondary_Exch] AS [Secondary_Exch], 
    [Extent1].[Country_Of_Domicile] AS [Country_Of_Domicile], 
    [Extent1].[Country_Of_Risk] AS [Country_Of_Risk], 
    [Extent1].[Security_Type_Code] AS [Security_Type_Code], 
    [Extent1].[Price_Multiplier] AS [Price_Multiplier], 
    [Extent1].[Income_Frequency] AS [Income_Frequency], 
    [Extent1].[Issuer_Code] AS [Issuer_Code], 
    [Extent1].[Ultimate_Issuer_Code] AS [Ultimate_Issuer_Code], 
    [Extent1].[Asset_Currency] AS [Asset_Currency], 
    [Extent1].[Min_Lot_Size] AS [Min_Lot_Size], 
    [Extent1].[Decimal_Precision] AS [Decimal_Precision], 
    [Extent1].[AvePrice_Rounding] AS [AvePrice_Rounding], 
    [Extent1].[Issue_Date] AS [Issue_Date], 
    [Extent1].[Maturity_Date] AS [Maturity_Date], 
    [Extent1].[Coupon_Rate] AS [Coupon_Rate], 
    [Extent1].[Price_Exchange] AS [Price_Exchange], 
    [Extent1].[Trade_Currency] AS [Trade_Currency], 
    [Extent1].[Price_Curr] AS [Price_Curr], 
    [Extent1].[Currency_Pair_Code] AS [Currency_Pair_Code], 
    [Extent1].[Share_Class] AS [Share_Class], 
    [Extent1].[Current_Market_Price] AS [Current_Market_Price], 
    [Extent1].[Index_Type] AS [Index_Type], 
    [Extent1].[Clean_Price_Formula] AS [Clean_Price_Formula], 
    [Extent1].[Accrued_Income_Price_Formula] AS [Accrued_Income_Price_Formula], 
    [Extent1].[Odd_First_Coupon_Date] AS [Odd_First_Coupon_Date], 
    [Extent1].[Odd_Last_Coupon_Date] AS [Odd_Last_Coupon_Date], 
    [Extent1].[Coupon_Anniversary_Indicator] AS [Coupon_Anniversary_Indicator], 
    [Extent1].[Track_EOM_Flag] AS [Track_EOM_Flag], 
    [Extent1].[Next_Coupon_Date] AS [Next_Coupon_Date], 
    [Extent1].[Previous_Coupon_Date] AS [Previous_Coupon_Date], 
    [Extent1].[Payment_Frequency] AS [Payment_Frequency], 
    [Extent1].[Coupon_BusDay_Adjustment] AS [Coupon_BusDay_Adjustment], 
    [Extent1].[Next_Ex_Div_Date] AS [Next_Ex_Div_Date], 
    [Extent1].[Ex_Div_BusDay_Adjustment] AS [Ex_Div_BusDay_Adjustment], 
    [Extent1].[Ex_Div_Period] AS [Ex_Div_Period], 
    [Extent1].[Ticker] AS [Ticker], 
    [Extent1].[Inet_ID] AS [Inet_ID], 
    [Extent1].[Bloomberg_ID] AS [Bloomberg_ID], 
    [Extent1].[External_Sec_ID] AS [External_Sec_ID], 
    [Extent1].[Reuters_ID] AS [Reuters_ID], 
    [Extent1].[ISIN] AS [ISIN], 
    [Extent1].[Call_Account_Flag] AS [Call_Account_Flag], 
    [Extent1].[System_Locked] AS [System_Locked], 
    [Extent1].[Last_Update_User] AS [Last_Update_User], 
    [Extent1].[Last_Update_Date] AS [Last_Update_Date], 
    [Extent1].[Security_Status] AS [Security_Status], 
    [Extent1].[Benchmark_Portfolio] AS [Benchmark_Portfolio], 
    [Extent1].[Active_flag] AS [Active_flag], 
    [Extent1].[Dividend_FX_Security_ID] AS [Dividend_FX_Security_ID]
    FROM [dbo].[Security_Detail] AS [Extent1]
    WHERE [Extent1].[Security_ID] = @EntityKeyValue1
2018-06-03 06:03:33.2747|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: SELECT 
    [Extent1].[Security_ID] AS [Security_ID], 
    [Extent1].[Entity_ID] AS [Entity_ID], 
    [Extent1].[Security_Name] AS [Security_Name], 
    [Extent1].[Short_Name] AS [Short_Name], 
    [Extent1].[Primary_Exch] AS [Primary_Exch], 
    [Extent1].[Secondary_Exch] AS [Secondary_Exch], 
    [Extent1].[Country_Of_Domicile] AS [Country_Of_Domicile], 
    [Extent1].[Country_Of_Risk] AS [Country_Of_Risk], 
    [Extent1].[Security_Type_Code] AS [Security_Type_Code], 
    [Extent1].[Price_Multiplier] AS [Price_Multiplier], 
    [Extent1].[Income_Frequency] AS [Income_Frequency], 
    [Extent1].[Issuer_Code] AS [Issuer_Code], 
    [Extent1].[Ultimate_Issuer_Code] AS [Ultimate_Issuer_Code], 
    [Extent1].[Asset_Currency] AS [Asset_Currency], 
    [Extent1].[Min_Lot_Size] AS [Min_Lot_Size], 
    [Extent1].[Decimal_Precision] AS [Decimal_Precision], 
    [Extent1].[AvePrice_Rounding] AS [AvePrice_Rounding], 
    [Extent1].[Issue_Date] AS [Issue_Date], 
    [Extent1].[Maturity_Date] AS [Maturity_Date], 
    [Extent1].[Coupon_Rate] AS [Coupon_Rate], 
    [Extent1].[Price_Exchange] AS [Price_Exchange], 
    [Extent1].[Trade_Currency] AS [Trade_Currency], 
    [Extent1].[Price_Curr] AS [Price_Curr], 
    [Extent1].[Currency_Pair_Code] AS [Currency_Pair_Code], 
    [Extent1].[Share_Class] AS [Share_Class], 
    [Extent1].[Current_Market_Price] AS [Current_Market_Price], 
    [Extent1].[Index_Type] AS [Index_Type], 
    [Extent1].[Clean_Price_Formula] AS [Clean_Price_Formula], 
    [Extent1].[Accrued_Income_Price_Formula] AS [Accrued_Income_Price_Formula], 
    [Extent1].[Odd_First_Coupon_Date] AS [Odd_First_Coupon_Date], 
    [Extent1].[Odd_Last_Coupon_Date] AS [Odd_Last_Coupon_Date], 
    [Extent1].[Coupon_Anniversary_Indicator] AS [Coupon_Anniversary_Indicator], 
    [Extent1].[Track_EOM_Flag] AS [Track_EOM_Flag], 
    [Extent1].[Next_Coupon_Date] AS [Next_Coupon_Date], 
    [Extent1].[Previous_Coupon_Date] AS [Previous_Coupon_Date], 
    [Extent1].[Payment_Frequency] AS [Payment_Frequency], 
    [Extent1].[Coupon_BusDay_Adjustment] AS [Coupon_BusDay_Adjustment], 
    [Extent1].[Next_Ex_Div_Date] AS [Next_Ex_Div_Date], 
    [Extent1].[Ex_Div_BusDay_Adjustment] AS [Ex_Div_BusDay_Adjustment], 
    [Extent1].[Ex_Div_Period] AS [Ex_Div_Period], 
    [Extent1].[Ticker] AS [Ticker], 
    [Extent1].[Inet_ID] AS [Inet_ID], 
    [Extent1].[Bloomberg_ID] AS [Bloomberg_ID], 
    [Extent1].[External_Sec_ID] AS [External_Sec_ID], 
    [Extent1].[Reuters_ID] AS [Reuters_ID], 
    [Extent1].[ISIN] AS [ISIN], 
    [Extent1].[Call_Account_Flag] AS [Call_Account_Flag], 
    [Extent1].[System_Locked] AS [System_Locked], 
    [Extent1].[Last_Update_User] AS [Last_Update_User], 
    [Extent1].[Last_Update_Date] AS [Last_Update_Date], 
    [Extent1].[Security_Status] AS [Security_Status], 
    [Extent1].[Benchmark_Portfolio] AS [Benchmark_Portfolio], 
    [Extent1].[Active_flag] AS [Active_flag], 
    [Extent1].[Dividend_FX_Security_ID] AS [Dividend_FX_Security_ID]
    FROM [dbo].[Security_Detail] AS [Extent1]
    WHERE [Extent1].[Security_ID] = @EntityKeyValue1
2018-06-03 06:03:33.3823|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: IF db_id(N'MetopeAzureDb') IS NOT NULL SELECT 1 ELSE SELECT Count(*) FROM sys.databases WHERE [name]=N'MetopeAzureDb'
2018-06-03 06:03:33.4264|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: IF db_id(N'MetopeAzureDb') IS NOT NULL SELECT 1 ELSE SELECT Count(*) FROM sys.databases WHERE [name]=N'MetopeAzureDb'
2018-06-03 06:03:33.4639|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: IF db_id(N'MetopeAzureDb') IS NOT NULL SELECT 1 ELSE SELECT Count(*) FROM sys.databases WHERE [name]=N'MetopeAzureDb'
2018-06-03 06:03:33.5144|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: IF db_id(N'MetopeAzureDb') IS NOT NULL SELECT 1 ELSE SELECT Count(*) FROM sys.databases WHERE [name]=N'MetopeAzureDb'
2018-06-03 06:03:51.4709|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: SELECT TOP (1) 
    [Extent1].[Classification_Code] AS [Classification_Code], 
    [Extent1].[Effective_Date] AS [Effective_Date], 
    [Extent1].[Entity_ID] AS [Entity_ID], 
    [Extent1].[Industry_Code] AS [Industry_Code], 
    [Extent1].[Last_Update_Date] AS [Last_Update_Date], 
    [Extent1].[Last_Update_User] AS [Last_Update_User], 
    [Extent1].[Security_ID] AS [Security_ID]
    FROM [dbo].[Security_Classification_Industry] AS [Extent1]
    WHERE ([Extent1].[Classification_Code] = @p__linq__0) AND ([Extent1].[Entity_ID] = @p__linq__1) AND ([Extent1].[Security_ID] = @p__linq__2) AND ([Extent1].[Industry_Code] = @p__linq__3) AND ([Extent1].[Effective_Date] = @p__linq__4)
2018-06-03 06:03:51.5440|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: SELECT TOP (1) 
    [Extent1].[Classification_Code] AS [Classification_Code], 
    [Extent1].[Effective_Date] AS [Effective_Date], 
    [Extent1].[Entity_ID] AS [Entity_ID], 
    [Extent1].[Industry_Code] AS [Industry_Code], 
    [Extent1].[Last_Update_Date] AS [Last_Update_Date], 
    [Extent1].[Last_Update_User] AS [Last_Update_User], 
    [Extent1].[Security_ID] AS [Security_ID]
    FROM [dbo].[Security_Classification_Industry] AS [Extent1]
    WHERE ([Extent1].[Classification_Code] = @p__linq__0) AND ([Extent1].[Entity_ID] = @p__linq__1) AND ([Extent1].[Security_ID] = @p__linq__2) AND ([Extent1].[Industry_Code] = @p__linq__3) AND ([Extent1].[Effective_Date] = @p__linq__4)
2018-06-03 06:03:51.6000|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: SELECT 
    [Project1].[Classification_Code] AS [Classification_Code], 
    [Project1].[Description] AS [Description], 
    [Project1].[Industry_Code] AS [Industry_Code], 
    [Project1].[Entity_ID] AS [Entity_ID], 
    [Project1].[Last_Update_Date] AS [Last_Update_Date], 
    [Project1].[Last_Update_User] AS [Last_Update_User], 
    [Project1].[System_Locked] AS [System_Locked]
    FROM ( SELECT 
        [Extent1].[Classification_Code] AS [Classification_Code], 
        [Extent1].[Description] AS [Description], 
        [Extent1].[Industry_Code] AS [Industry_Code], 
        [Extent1].[Entity_ID] AS [Entity_ID], 
        [Extent1].[Last_Update_Date] AS [Last_Update_Date], 
        [Extent1].[Last_Update_User] AS [Last_Update_User], 
        [Extent1].[System_Locked] AS [System_Locked]
        FROM [dbo].[Classification_Industry] AS [Extent1]
        WHERE ([Extent1].[Entity_ID] = @p__linq__0) AND ((CASE WHEN ( NOT ((N'' = @p__linq__1) AND (@p__linq__1 IS NOT NULL))) THEN CASE WHEN ([Extent1].[Classification_Code] = @p__linq__2) THEN cast(1 as bit) WHEN ( NOT (([Extent1].[Classification_Code] = @p__linq__2) AND (0 = (CASE WHEN (@p__linq__2 IS NULL) THEN cast(1 as bit) ELSE cast(0 as bit) END)))) THEN cast(0 as bit) END WHEN ('' <> [Extent1].[Classification_Code]) THEN cast(1 as bit) WHEN ('' = [Extent1].[Classification_Code]) THEN cast(0 as bit) END) = 1)
    )  AS [Project1]
    ORDER BY [Project1].[Description] ASC
2018-06-03 06:03:51.6646|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: SELECT 
    [Project1].[Classification_Code] AS [Classification_Code], 
    [Project1].[Description] AS [Description], 
    [Project1].[Industry_Code] AS [Industry_Code], 
    [Project1].[Entity_ID] AS [Entity_ID], 
    [Project1].[Last_Update_Date] AS [Last_Update_Date], 
    [Project1].[Last_Update_User] AS [Last_Update_User], 
    [Project1].[System_Locked] AS [System_Locked]
    FROM ( SELECT 
        [Extent1].[Classification_Code] AS [Classification_Code], 
        [Extent1].[Description] AS [Description], 
        [Extent1].[Industry_Code] AS [Industry_Code], 
        [Extent1].[Entity_ID] AS [Entity_ID], 
        [Extent1].[Last_Update_Date] AS [Last_Update_Date], 
        [Extent1].[Last_Update_User] AS [Last_Update_User], 
        [Extent1].[System_Locked] AS [System_Locked]
        FROM [dbo].[Classification_Industry] AS [Extent1]
        WHERE ([Extent1].[Entity_ID] = @p__linq__0) AND ((CASE WHEN ( NOT ((N'' = @p__linq__1) AND (@p__linq__1 IS NOT NULL))) THEN CASE WHEN ([Extent1].[Classification_Code] = @p__linq__2) THEN cast(1 as bit) WHEN ( NOT (([Extent1].[Classification_Code] = @p__linq__2) AND (0 = (CASE WHEN (@p__linq__2 IS NULL) THEN cast(1 as bit) ELSE cast(0 as bit) END)))) THEN cast(0 as bit) END WHEN ('' <> [Extent1].[Classification_Code]) THEN cast(1 as bit) WHEN ('' = [Extent1].[Classification_Code]) THEN cast(0 as bit) END) = 1)
    )  AS [Project1]
    ORDER BY [Project1].[Description] ASC
2018-06-03 06:03:51.7026|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: SELECT 
    [Extent1].[Security_ID] AS [Security_ID], 
    [Extent1].[Entity_ID] AS [Entity_ID], 
    [Extent1].[Security_Name] AS [Security_Name], 
    [Extent1].[Short_Name] AS [Short_Name], 
    [Extent1].[Primary_Exch] AS [Primary_Exch], 
    [Extent1].[Secondary_Exch] AS [Secondary_Exch], 
    [Extent1].[Country_Of_Domicile] AS [Country_Of_Domicile], 
    [Extent1].[Country_Of_Risk] AS [Country_Of_Risk], 
    [Extent1].[Security_Type_Code] AS [Security_Type_Code], 
    [Extent1].[Price_Multiplier] AS [Price_Multiplier], 
    [Extent1].[Income_Frequency] AS [Income_Frequency], 
    [Extent1].[Issuer_Code] AS [Issuer_Code], 
    [Extent1].[Ultimate_Issuer_Code] AS [Ultimate_Issuer_Code], 
    [Extent1].[Asset_Currency] AS [Asset_Currency], 
    [Extent1].[Min_Lot_Size] AS [Min_Lot_Size], 
    [Extent1].[Decimal_Precision] AS [Decimal_Precision], 
    [Extent1].[AvePrice_Rounding] AS [AvePrice_Rounding], 
    [Extent1].[Issue_Date] AS [Issue_Date], 
    [Extent1].[Maturity_Date] AS [Maturity_Date], 
    [Extent1].[Coupon_Rate] AS [Coupon_Rate], 
    [Extent1].[Price_Exchange] AS [Price_Exchange], 
    [Extent1].[Trade_Currency] AS [Trade_Currency], 
    [Extent1].[Price_Curr] AS [Price_Curr], 
    [Extent1].[Currency_Pair_Code] AS [Currency_Pair_Code], 
    [Extent1].[Share_Class] AS [Share_Class], 
    [Extent1].[Current_Market_Price] AS [Current_Market_Price], 
    [Extent1].[Index_Type] AS [Index_Type], 
    [Extent1].[Clean_Price_Formula] AS [Clean_Price_Formula], 
    [Extent1].[Accrued_Income_Price_Formula] AS [Accrued_Income_Price_Formula], 
    [Extent1].[Odd_First_Coupon_Date] AS [Odd_First_Coupon_Date], 
    [Extent1].[Odd_Last_Coupon_Date] AS [Odd_Last_Coupon_Date], 
    [Extent1].[Coupon_Anniversary_Indicator] AS [Coupon_Anniversary_Indicator], 
    [Extent1].[Track_EOM_Flag] AS [Track_EOM_Flag], 
    [Extent1].[Next_Coupon_Date] AS [Next_Coupon_Date], 
    [Extent1].[Previous_Coupon_Date] AS [Previous_Coupon_Date], 
    [Extent1].[Payment_Frequency] AS [Payment_Frequency], 
    [Extent1].[Coupon_BusDay_Adjustment] AS [Coupon_BusDay_Adjustment], 
    [Extent1].[Next_Ex_Div_Date] AS [Next_Ex_Div_Date], 
    [Extent1].[Ex_Div_BusDay_Adjustment] AS [Ex_Div_BusDay_Adjustment], 
    [Extent1].[Ex_Div_Period] AS [Ex_Div_Period], 
    [Extent1].[Ticker] AS [Ticker], 
    [Extent1].[Inet_ID] AS [Inet_ID], 
    [Extent1].[Bloomberg_ID] AS [Bloomberg_ID], 
    [Extent1].[External_Sec_ID] AS [External_Sec_ID], 
    [Extent1].[Reuters_ID] AS [Reuters_ID], 
    [Extent1].[ISIN] AS [ISIN], 
    [Extent1].[Call_Account_Flag] AS [Call_Account_Flag], 
    [Extent1].[System_Locked] AS [System_Locked], 
    [Extent1].[Last_Update_User] AS [Last_Update_User], 
    [Extent1].[Last_Update_Date] AS [Last_Update_Date], 
    [Extent1].[Security_Status] AS [Security_Status], 
    [Extent1].[Benchmark_Portfolio] AS [Benchmark_Portfolio], 
    [Extent1].[Active_flag] AS [Active_flag], 
    [Extent1].[Dividend_FX_Security_ID] AS [Dividend_FX_Security_ID]
    FROM [dbo].[Security_Detail] AS [Extent1]
    WHERE [Extent1].[Security_ID] = @EntityKeyValue1
2018-06-03 06:03:51.7762|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: SELECT 
    [Extent1].[Security_ID] AS [Security_ID], 
    [Extent1].[Entity_ID] AS [Entity_ID], 
    [Extent1].[Security_Name] AS [Security_Name], 
    [Extent1].[Short_Name] AS [Short_Name], 
    [Extent1].[Primary_Exch] AS [Primary_Exch], 
    [Extent1].[Secondary_Exch] AS [Secondary_Exch], 
    [Extent1].[Country_Of_Domicile] AS [Country_Of_Domicile], 
    [Extent1].[Country_Of_Risk] AS [Country_Of_Risk], 
    [Extent1].[Security_Type_Code] AS [Security_Type_Code], 
    [Extent1].[Price_Multiplier] AS [Price_Multiplier], 
    [Extent1].[Income_Frequency] AS [Income_Frequency], 
    [Extent1].[Issuer_Code] AS [Issuer_Code], 
    [Extent1].[Ultimate_Issuer_Code] AS [Ultimate_Issuer_Code], 
    [Extent1].[Asset_Currency] AS [Asset_Currency], 
    [Extent1].[Min_Lot_Size] AS [Min_Lot_Size], 
    [Extent1].[Decimal_Precision] AS [Decimal_Precision], 
    [Extent1].[AvePrice_Rounding] AS [AvePrice_Rounding], 
    [Extent1].[Issue_Date] AS [Issue_Date], 
    [Extent1].[Maturity_Date] AS [Maturity_Date], 
    [Extent1].[Coupon_Rate] AS [Coupon_Rate], 
    [Extent1].[Price_Exchange] AS [Price_Exchange], 
    [Extent1].[Trade_Currency] AS [Trade_Currency], 
    [Extent1].[Price_Curr] AS [Price_Curr], 
    [Extent1].[Currency_Pair_Code] AS [Currency_Pair_Code], 
    [Extent1].[Share_Class] AS [Share_Class], 
    [Extent1].[Current_Market_Price] AS [Current_Market_Price], 
    [Extent1].[Index_Type] AS [Index_Type], 
    [Extent1].[Clean_Price_Formula] AS [Clean_Price_Formula], 
    [Extent1].[Accrued_Income_Price_Formula] AS [Accrued_Income_Price_Formula], 
    [Extent1].[Odd_First_Coupon_Date] AS [Odd_First_Coupon_Date], 
    [Extent1].[Odd_Last_Coupon_Date] AS [Odd_Last_Coupon_Date], 
    [Extent1].[Coupon_Anniversary_Indicator] AS [Coupon_Anniversary_Indicator], 
    [Extent1].[Track_EOM_Flag] AS [Track_EOM_Flag], 
    [Extent1].[Next_Coupon_Date] AS [Next_Coupon_Date], 
    [Extent1].[Previous_Coupon_Date] AS [Previous_Coupon_Date], 
    [Extent1].[Payment_Frequency] AS [Payment_Frequency], 
    [Extent1].[Coupon_BusDay_Adjustment] AS [Coupon_BusDay_Adjustment], 
    [Extent1].[Next_Ex_Div_Date] AS [Next_Ex_Div_Date], 
    [Extent1].[Ex_Div_BusDay_Adjustment] AS [Ex_Div_BusDay_Adjustment], 
    [Extent1].[Ex_Div_Period] AS [Ex_Div_Period], 
    [Extent1].[Ticker] AS [Ticker], 
    [Extent1].[Inet_ID] AS [Inet_ID], 
    [Extent1].[Bloomberg_ID] AS [Bloomberg_ID], 
    [Extent1].[External_Sec_ID] AS [External_Sec_ID], 
    [Extent1].[Reuters_ID] AS [Reuters_ID], 
    [Extent1].[ISIN] AS [ISIN], 
    [Extent1].[Call_Account_Flag] AS [Call_Account_Flag], 
    [Extent1].[System_Locked] AS [System_Locked], 
    [Extent1].[Last_Update_User] AS [Last_Update_User], 
    [Extent1].[Last_Update_Date] AS [Last_Update_Date], 
    [Extent1].[Security_Status] AS [Security_Status], 
    [Extent1].[Benchmark_Portfolio] AS [Benchmark_Portfolio], 
    [Extent1].[Active_flag] AS [Active_flag], 
    [Extent1].[Dividend_FX_Security_ID] AS [Dividend_FX_Security_ID]
    FROM [dbo].[Security_Detail] AS [Extent1]
    WHERE [Extent1].[Security_ID] = @EntityKeyValue1
2018-06-03 06:03:51.8442|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: IF db_id(N'MetopeAzureDb') IS NOT NULL SELECT 1 ELSE SELECT Count(*) FROM sys.databases WHERE [name]=N'MetopeAzureDb'
2018-06-03 06:03:52.0108|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: IF db_id(N'MetopeAzureDb') IS NOT NULL SELECT 1 ELSE SELECT Count(*) FROM sys.databases WHERE [name]=N'MetopeAzureDb'
2018-06-03 06:03:52.1164|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: IF db_id(N'MetopeAzureDb') IS NOT NULL SELECT 1 ELSE SELECT Count(*) FROM sys.databases WHERE [name]=N'MetopeAzureDb'
2018-06-03 06:03:52.1404|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: IF db_id(N'MetopeAzureDb') IS NOT NULL SELECT 1 ELSE SELECT Count(*) FROM sys.databases WHERE [name]=N'MetopeAzureDb'
2018-06-03 06:03:55.1315|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: SELECT 
    [Project1].[Classification_Code] AS [Classification_Code], 
    [Project1].[Effective_Date] AS [Effective_Date], 
    [Project1].[Entity_ID] AS [Entity_ID], 
    [Project1].[Industry_Code] AS [Industry_Code], 
    [Project1].[Last_Update_Date] AS [Last_Update_Date], 
    [Project1].[Last_Update_User] AS [Last_Update_User], 
    [Project1].[Security_ID] AS [Security_ID]
    FROM ( SELECT 
        [Extent1].[Classification_Code] AS [Classification_Code], 
        [Extent1].[Effective_Date] AS [Effective_Date], 
        [Extent1].[Entity_ID] AS [Entity_ID], 
        [Extent1].[Industry_Code] AS [Industry_Code], 
        [Extent1].[Last_Update_Date] AS [Last_Update_Date], 
        [Extent1].[Last_Update_User] AS [Last_Update_User], 
        [Extent1].[Security_ID] AS [Security_ID]
        FROM [dbo].[Security_Classification_Industry] AS [Extent1]
        WHERE ([Extent1].[Entity_ID] = @p__linq__0) AND ([Extent1].[Security_ID] = @p__linq__1)
    )  AS [Project1]
    ORDER BY [Project1].[Security_ID] ASC, [Project1].[Effective_Date] DESC, [Project1].[Classification_Code] ASC
2018-06-03 06:03:55.1690|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: SELECT 
    [Project1].[Classification_Code] AS [Classification_Code], 
    [Project1].[Effective_Date] AS [Effective_Date], 
    [Project1].[Entity_ID] AS [Entity_ID], 
    [Project1].[Industry_Code] AS [Industry_Code], 
    [Project1].[Last_Update_Date] AS [Last_Update_Date], 
    [Project1].[Last_Update_User] AS [Last_Update_User], 
    [Project1].[Security_ID] AS [Security_ID]
    FROM ( SELECT 
        [Extent1].[Classification_Code] AS [Classification_Code], 
        [Extent1].[Effective_Date] AS [Effective_Date], 
        [Extent1].[Entity_ID] AS [Entity_ID], 
        [Extent1].[Industry_Code] AS [Industry_Code], 
        [Extent1].[Last_Update_Date] AS [Last_Update_Date], 
        [Extent1].[Last_Update_User] AS [Last_Update_User], 
        [Extent1].[Security_ID] AS [Security_ID]
        FROM [dbo].[Security_Classification_Industry] AS [Extent1]
        WHERE ([Extent1].[Entity_ID] = @p__linq__0) AND ([Extent1].[Security_ID] = @p__linq__1)
    )  AS [Project1]
    ORDER BY [Project1].[Security_ID] ASC, [Project1].[Effective_Date] DESC, [Project1].[Classification_Code] ASC
2018-06-03 06:03:55.2041|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: SELECT 
    [Extent1].[Security_ID] AS [Security_ID], 
    [Extent1].[Entity_ID] AS [Entity_ID], 
    [Extent1].[Security_Name] AS [Security_Name], 
    [Extent1].[Short_Name] AS [Short_Name], 
    [Extent1].[Primary_Exch] AS [Primary_Exch], 
    [Extent1].[Secondary_Exch] AS [Secondary_Exch], 
    [Extent1].[Country_Of_Domicile] AS [Country_Of_Domicile], 
    [Extent1].[Country_Of_Risk] AS [Country_Of_Risk], 
    [Extent1].[Security_Type_Code] AS [Security_Type_Code], 
    [Extent1].[Price_Multiplier] AS [Price_Multiplier], 
    [Extent1].[Income_Frequency] AS [Income_Frequency], 
    [Extent1].[Issuer_Code] AS [Issuer_Code], 
    [Extent1].[Ultimate_Issuer_Code] AS [Ultimate_Issuer_Code], 
    [Extent1].[Asset_Currency] AS [Asset_Currency], 
    [Extent1].[Min_Lot_Size] AS [Min_Lot_Size], 
    [Extent1].[Decimal_Precision] AS [Decimal_Precision], 
    [Extent1].[AvePrice_Rounding] AS [AvePrice_Rounding], 
    [Extent1].[Issue_Date] AS [Issue_Date], 
    [Extent1].[Maturity_Date] AS [Maturity_Date], 
    [Extent1].[Coupon_Rate] AS [Coupon_Rate], 
    [Extent1].[Price_Exchange] AS [Price_Exchange], 
    [Extent1].[Trade_Currency] AS [Trade_Currency], 
    [Extent1].[Price_Curr] AS [Price_Curr], 
    [Extent1].[Currency_Pair_Code] AS [Currency_Pair_Code], 
    [Extent1].[Share_Class] AS [Share_Class], 
    [Extent1].[Current_Market_Price] AS [Current_Market_Price], 
    [Extent1].[Index_Type] AS [Index_Type], 
    [Extent1].[Clean_Price_Formula] AS [Clean_Price_Formula], 
    [Extent1].[Accrued_Income_Price_Formula] AS [Accrued_Income_Price_Formula], 
    [Extent1].[Odd_First_Coupon_Date] AS [Odd_First_Coupon_Date], 
    [Extent1].[Odd_Last_Coupon_Date] AS [Odd_Last_Coupon_Date], 
    [Extent1].[Coupon_Anniversary_Indicator] AS [Coupon_Anniversary_Indicator], 
    [Extent1].[Track_EOM_Flag] AS [Track_EOM_Flag], 
    [Extent1].[Next_Coupon_Date] AS [Next_Coupon_Date], 
    [Extent1].[Previous_Coupon_Date] AS [Previous_Coupon_Date], 
    [Extent1].[Payment_Frequency] AS [Payment_Frequency], 
    [Extent1].[Coupon_BusDay_Adjustment] AS [Coupon_BusDay_Adjustment], 
    [Extent1].[Next_Ex_Div_Date] AS [Next_Ex_Div_Date], 
    [Extent1].[Ex_Div_BusDay_Adjustment] AS [Ex_Div_BusDay_Adjustment], 
    [Extent1].[Ex_Div_Period] AS [Ex_Div_Period], 
    [Extent1].[Ticker] AS [Ticker], 
    [Extent1].[Inet_ID] AS [Inet_ID], 
    [Extent1].[Bloomberg_ID] AS [Bloomberg_ID], 
    [Extent1].[External_Sec_ID] AS [External_Sec_ID], 
    [Extent1].[Reuters_ID] AS [Reuters_ID], 
    [Extent1].[ISIN] AS [ISIN], 
    [Extent1].[Call_Account_Flag] AS [Call_Account_Flag], 
    [Extent1].[System_Locked] AS [System_Locked], 
    [Extent1].[Last_Update_User] AS [Last_Update_User], 
    [Extent1].[Last_Update_Date] AS [Last_Update_Date], 
    [Extent1].[Security_Status] AS [Security_Status], 
    [Extent1].[Benchmark_Portfolio] AS [Benchmark_Portfolio], 
    [Extent1].[Active_flag] AS [Active_flag], 
    [Extent1].[Dividend_FX_Security_ID] AS [Dividend_FX_Security_ID]
    FROM [dbo].[Security_Detail] AS [Extent1]
    WHERE [Extent1].[Security_ID] = @EntityKeyValue1
2018-06-03 06:03:55.2416|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: SELECT 
    [Extent1].[Security_ID] AS [Security_ID], 
    [Extent1].[Entity_ID] AS [Entity_ID], 
    [Extent1].[Security_Name] AS [Security_Name], 
    [Extent1].[Short_Name] AS [Short_Name], 
    [Extent1].[Primary_Exch] AS [Primary_Exch], 
    [Extent1].[Secondary_Exch] AS [Secondary_Exch], 
    [Extent1].[Country_Of_Domicile] AS [Country_Of_Domicile], 
    [Extent1].[Country_Of_Risk] AS [Country_Of_Risk], 
    [Extent1].[Security_Type_Code] AS [Security_Type_Code], 
    [Extent1].[Price_Multiplier] AS [Price_Multiplier], 
    [Extent1].[Income_Frequency] AS [Income_Frequency], 
    [Extent1].[Issuer_Code] AS [Issuer_Code], 
    [Extent1].[Ultimate_Issuer_Code] AS [Ultimate_Issuer_Code], 
    [Extent1].[Asset_Currency] AS [Asset_Currency], 
    [Extent1].[Min_Lot_Size] AS [Min_Lot_Size], 
    [Extent1].[Decimal_Precision] AS [Decimal_Precision], 
    [Extent1].[AvePrice_Rounding] AS [AvePrice_Rounding], 
    [Extent1].[Issue_Date] AS [Issue_Date], 
    [Extent1].[Maturity_Date] AS [Maturity_Date], 
    [Extent1].[Coupon_Rate] AS [Coupon_Rate], 
    [Extent1].[Price_Exchange] AS [Price_Exchange], 
    [Extent1].[Trade_Currency] AS [Trade_Currency], 
    [Extent1].[Price_Curr] AS [Price_Curr], 
    [Extent1].[Currency_Pair_Code] AS [Currency_Pair_Code], 
    [Extent1].[Share_Class] AS [Share_Class], 
    [Extent1].[Current_Market_Price] AS [Current_Market_Price], 
    [Extent1].[Index_Type] AS [Index_Type], 
    [Extent1].[Clean_Price_Formula] AS [Clean_Price_Formula], 
    [Extent1].[Accrued_Income_Price_Formula] AS [Accrued_Income_Price_Formula], 
    [Extent1].[Odd_First_Coupon_Date] AS [Odd_First_Coupon_Date], 
    [Extent1].[Odd_Last_Coupon_Date] AS [Odd_Last_Coupon_Date], 
    [Extent1].[Coupon_Anniversary_Indicator] AS [Coupon_Anniversary_Indicator], 
    [Extent1].[Track_EOM_Flag] AS [Track_EOM_Flag], 
    [Extent1].[Next_Coupon_Date] AS [Next_Coupon_Date], 
    [Extent1].[Previous_Coupon_Date] AS [Previous_Coupon_Date], 
    [Extent1].[Payment_Frequency] AS [Payment_Frequency], 
    [Extent1].[Coupon_BusDay_Adjustment] AS [Coupon_BusDay_Adjustment], 
    [Extent1].[Next_Ex_Div_Date] AS [Next_Ex_Div_Date], 
    [Extent1].[Ex_Div_BusDay_Adjustment] AS [Ex_Div_BusDay_Adjustment], 
    [Extent1].[Ex_Div_Period] AS [Ex_Div_Period], 
    [Extent1].[Ticker] AS [Ticker], 
    [Extent1].[Inet_ID] AS [Inet_ID], 
    [Extent1].[Bloomberg_ID] AS [Bloomberg_ID], 
    [Extent1].[External_Sec_ID] AS [External_Sec_ID], 
    [Extent1].[Reuters_ID] AS [Reuters_ID], 
    [Extent1].[ISIN] AS [ISIN], 
    [Extent1].[Call_Account_Flag] AS [Call_Account_Flag], 
    [Extent1].[System_Locked] AS [System_Locked], 
    [Extent1].[Last_Update_User] AS [Last_Update_User], 
    [Extent1].[Last_Update_Date] AS [Last_Update_Date], 
    [Extent1].[Security_Status] AS [Security_Status], 
    [Extent1].[Benchmark_Portfolio] AS [Benchmark_Portfolio], 
    [Extent1].[Active_flag] AS [Active_flag], 
    [Extent1].[Dividend_FX_Security_ID] AS [Dividend_FX_Security_ID]
    FROM [dbo].[Security_Detail] AS [Extent1]
    WHERE [Extent1].[Security_ID] = @EntityKeyValue1
2018-06-03 06:03:55.3336|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: IF db_id(N'MetopeAzureDb') IS NOT NULL SELECT 1 ELSE SELECT Count(*) FROM sys.databases WHERE [name]=N'MetopeAzureDb'
2018-06-03 06:03:55.3692|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: IF db_id(N'MetopeAzureDb') IS NOT NULL SELECT 1 ELSE SELECT Count(*) FROM sys.databases WHERE [name]=N'MetopeAzureDb'
2018-06-03 06:03:55.4012|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: IF db_id(N'MetopeAzureDb') IS NOT NULL SELECT 1 ELSE SELECT Count(*) FROM sys.databases WHERE [name]=N'MetopeAzureDb'
2018-06-03 06:03:55.4332|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: IF db_id(N'MetopeAzureDb') IS NOT NULL SELECT 1 ELSE SELECT Count(*) FROM sys.databases WHERE [name]=N'MetopeAzureDb'
2018-06-03 06:04:08.7031|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: SELECT 
    [Project2].[C1] AS [C1], 
    [Project2].[Security_ID] AS [Security_ID], 
    [Project2].[Entity_ID] AS [Entity_ID], 
    [Project2].[Security_Type_Code] AS [Security_Type_Code], 
    [Project2].[Security_Name] AS [Security_Name], 
    [Project2].[Short_Name] AS [Short_Name], 
    [Project2].[Current_Market_Price] AS [Current_Market_Price], 
    [Project2].[Ticker] AS [Ticker], 
    [Project2].[Primary_Exch] AS [Primary_Exch], 
    [Project2].[Maturity_Date] AS [Maturity_Date], 
    [Project2].[Security_Status] AS [Security_Status], 
    [Project2].[C2] AS [C2], 
    [Project2].[C3] AS [C3]
    FROM ( SELECT 
        [Project1].[Security_ID] AS [Security_ID], 
        [Project1].[Entity_ID] AS [Entity_ID], 
        [Project1].[Security_Name] AS [Security_Name], 
        [Project1].[Short_Name] AS [Short_Name], 
        [Project1].[Primary_Exch] AS [Primary_Exch], 
        [Project1].[Security_Type_Code] AS [Security_Type_Code], 
        [Project1].[Maturity_Date] AS [Maturity_Date], 
        [Project1].[Current_Market_Price] AS [Current_Market_Price], 
        [Project1].[Ticker] AS [Ticker], 
        [Project1].[Security_Status] AS [Security_Status], 
        1 AS [C1], 
        @p__linq__2 AS [C2], 
        [Project1].[C1] AS [C3]
        FROM ( SELECT 
            [Extent1].[Security_ID] AS [Security_ID], 
            [Extent1].[Entity_ID] AS [Entity_ID], 
            [Extent1].[Security_Name] AS [Security_Name], 
            [Extent1].[Short_Name] AS [Short_Name], 
            [Extent1].[Primary_Exch] AS [Primary_Exch], 
            [Extent1].[Security_Type_Code] AS [Security_Type_Code], 
            [Extent1].[Maturity_Date] AS [Maturity_Date], 
            [Extent1].[Current_Market_Price] AS [Current_Market_Price], 
            [Extent1].[Ticker] AS [Ticker], 
            [Extent1].[Security_Status] AS [Security_Status], 
            (SELECT 
                COUNT(1) AS [A1]
                FROM [dbo].[Security_Analytics] AS [Extent2]
                WHERE [Extent1].[Security_ID] = [Extent2].[Security_ID]) AS [C1]
            FROM [dbo].[Security_Detail] AS [Extent1]
            WHERE [Extent1].[Entity_ID] IN (@p__linq__0,@p__linq__1)
        )  AS [Project1]
    )  AS [Project2]
    ORDER BY [Project2].[Security_Name] ASC
2018-06-03 06:04:08.8077|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: SELECT 
    [Project2].[C1] AS [C1], 
    [Project2].[Security_ID] AS [Security_ID], 
    [Project2].[Entity_ID] AS [Entity_ID], 
    [Project2].[Security_Type_Code] AS [Security_Type_Code], 
    [Project2].[Security_Name] AS [Security_Name], 
    [Project2].[Short_Name] AS [Short_Name], 
    [Project2].[Current_Market_Price] AS [Current_Market_Price], 
    [Project2].[Ticker] AS [Ticker], 
    [Project2].[Primary_Exch] AS [Primary_Exch], 
    [Project2].[Maturity_Date] AS [Maturity_Date], 
    [Project2].[Security_Status] AS [Security_Status], 
    [Project2].[C2] AS [C2], 
    [Project2].[C3] AS [C3]
    FROM ( SELECT 
        [Project1].[Security_ID] AS [Security_ID], 
        [Project1].[Entity_ID] AS [Entity_ID], 
        [Project1].[Security_Name] AS [Security_Name], 
        [Project1].[Short_Name] AS [Short_Name], 
        [Project1].[Primary_Exch] AS [Primary_Exch], 
        [Project1].[Security_Type_Code] AS [Security_Type_Code], 
        [Project1].[Maturity_Date] AS [Maturity_Date], 
        [Project1].[Current_Market_Price] AS [Current_Market_Price], 
        [Project1].[Ticker] AS [Ticker], 
        [Project1].[Security_Status] AS [Security_Status], 
        1 AS [C1], 
        @p__linq__2 AS [C2], 
        [Project1].[C1] AS [C3]
        FROM ( SELECT 
            [Extent1].[Security_ID] AS [Security_ID], 
            [Extent1].[Entity_ID] AS [Entity_ID], 
            [Extent1].[Security_Name] AS [Security_Name], 
            [Extent1].[Short_Name] AS [Short_Name], 
            [Extent1].[Primary_Exch] AS [Primary_Exch], 
            [Extent1].[Security_Type_Code] AS [Security_Type_Code], 
            [Extent1].[Maturity_Date] AS [Maturity_Date], 
            [Extent1].[Current_Market_Price] AS [Current_Market_Price], 
            [Extent1].[Ticker] AS [Ticker], 
            [Extent1].[Security_Status] AS [Security_Status], 
            (SELECT 
                COUNT(1) AS [A1]
                FROM [dbo].[Security_Analytics] AS [Extent2]
                WHERE [Extent1].[Security_ID] = [Extent2].[Security_ID]) AS [C1]
            FROM [dbo].[Security_Detail] AS [Extent1]
            WHERE [Extent1].[Entity_ID] IN (@p__linq__0,@p__linq__1)
        )  AS [Project1]
    )  AS [Project2]
    ORDER BY [Project2].[Security_Name] ASC
2018-06-03 06:04:16.2358|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: IF db_id(N'MetopeAzureDb') IS NOT NULL SELECT 1 ELSE SELECT Count(*) FROM sys.databases WHERE [name]=N'MetopeAzureDb'
2018-06-03 06:04:16.2853|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: IF db_id(N'MetopeAzureDb') IS NOT NULL SELECT 1 ELSE SELECT Count(*) FROM sys.databases WHERE [name]=N'MetopeAzureDb'
2018-06-03 06:04:16.3108|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: IF db_id(N'MetopeAzureDb') IS NOT NULL SELECT 1 ELSE SELECT Count(*) FROM sys.databases WHERE [name]=N'MetopeAzureDb'
2018-06-03 06:04:16.3373|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: IF db_id(N'MetopeAzureDb') IS NOT NULL SELECT 1 ELSE SELECT Count(*) FROM sys.databases WHERE [name]=N'MetopeAzureDb'
2018-06-03 06:18:20.4399|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: SELECT 
    [Project2].[C1] AS [C1], 
    [Project2].[Security_ID] AS [Security_ID], 
    [Project2].[Entity_ID] AS [Entity_ID], 
    [Project2].[Security_Type_Code] AS [Security_Type_Code], 
    [Project2].[Security_Name] AS [Security_Name], 
    [Project2].[Short_Name] AS [Short_Name], 
    [Project2].[Current_Market_Price] AS [Current_Market_Price], 
    [Project2].[Ticker] AS [Ticker], 
    [Project2].[Primary_Exch] AS [Primary_Exch], 
    [Project2].[Maturity_Date] AS [Maturity_Date], 
    [Project2].[Security_Status] AS [Security_Status], 
    [Project2].[C2] AS [C2], 
    [Project2].[C3] AS [C3]
    FROM ( SELECT 
        [Project1].[Security_ID] AS [Security_ID], 
        [Project1].[Entity_ID] AS [Entity_ID], 
        [Project1].[Security_Name] AS [Security_Name], 
        [Project1].[Short_Name] AS [Short_Name], 
        [Project1].[Primary_Exch] AS [Primary_Exch], 
        [Project1].[Security_Type_Code] AS [Security_Type_Code], 
        [Project1].[Maturity_Date] AS [Maturity_Date], 
        [Project1].[Current_Market_Price] AS [Current_Market_Price], 
        [Project1].[Ticker] AS [Ticker], 
        [Project1].[Security_Status] AS [Security_Status], 
        1 AS [C1], 
        @p__linq__2 AS [C2], 
        [Project1].[C1] AS [C3]
        FROM ( SELECT 
            [Extent1].[Security_ID] AS [Security_ID], 
            [Extent1].[Entity_ID] AS [Entity_ID], 
            [Extent1].[Security_Name] AS [Security_Name], 
            [Extent1].[Short_Name] AS [Short_Name], 
            [Extent1].[Primary_Exch] AS [Primary_Exch], 
            [Extent1].[Security_Type_Code] AS [Security_Type_Code], 
            [Extent1].[Maturity_Date] AS [Maturity_Date], 
            [Extent1].[Current_Market_Price] AS [Current_Market_Price], 
            [Extent1].[Ticker] AS [Ticker], 
            [Extent1].[Security_Status] AS [Security_Status], 
            (SELECT 
                COUNT(1) AS [A1]
                FROM [dbo].[Security_Analytics] AS [Extent2]
                WHERE [Extent1].[Security_ID] = [Extent2].[Security_ID]) AS [C1]
            FROM [dbo].[Security_Detail] AS [Extent1]
            WHERE [Extent1].[Entity_ID] IN (@p__linq__0,@p__linq__1)
        )  AS [Project1]
    )  AS [Project2]
    ORDER BY [Project2].[Security_Name] ASC
2018-06-03 06:18:20.5149|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: SELECT 
    [Project2].[C1] AS [C1], 
    [Project2].[Security_ID] AS [Security_ID], 
    [Project2].[Entity_ID] AS [Entity_ID], 
    [Project2].[Security_Type_Code] AS [Security_Type_Code], 
    [Project2].[Security_Name] AS [Security_Name], 
    [Project2].[Short_Name] AS [Short_Name], 
    [Project2].[Current_Market_Price] AS [Current_Market_Price], 
    [Project2].[Ticker] AS [Ticker], 
    [Project2].[Primary_Exch] AS [Primary_Exch], 
    [Project2].[Maturity_Date] AS [Maturity_Date], 
    [Project2].[Security_Status] AS [Security_Status], 
    [Project2].[C2] AS [C2], 
    [Project2].[C3] AS [C3]
    FROM ( SELECT 
        [Project1].[Security_ID] AS [Security_ID], 
        [Project1].[Entity_ID] AS [Entity_ID], 
        [Project1].[Security_Name] AS [Security_Name], 
        [Project1].[Short_Name] AS [Short_Name], 
        [Project1].[Primary_Exch] AS [Primary_Exch], 
        [Project1].[Security_Type_Code] AS [Security_Type_Code], 
        [Project1].[Maturity_Date] AS [Maturity_Date], 
        [Project1].[Current_Market_Price] AS [Current_Market_Price], 
        [Project1].[Ticker] AS [Ticker], 
        [Project1].[Security_Status] AS [Security_Status], 
        1 AS [C1], 
        @p__linq__2 AS [C2], 
        [Project1].[C1] AS [C3]
        FROM ( SELECT 
            [Extent1].[Security_ID] AS [Security_ID], 
            [Extent1].[Entity_ID] AS [Entity_ID], 
            [Extent1].[Security_Name] AS [Security_Name], 
            [Extent1].[Short_Name] AS [Short_Name], 
            [Extent1].[Primary_Exch] AS [Primary_Exch], 
            [Extent1].[Security_Type_Code] AS [Security_Type_Code], 
            [Extent1].[Maturity_Date] AS [Maturity_Date], 
            [Extent1].[Current_Market_Price] AS [Current_Market_Price], 
            [Extent1].[Ticker] AS [Ticker], 
            [Extent1].[Security_Status] AS [Security_Status], 
            (SELECT 
                COUNT(1) AS [A1]
                FROM [dbo].[Security_Analytics] AS [Extent2]
                WHERE [Extent1].[Security_ID] = [Extent2].[Security_ID]) AS [C1]
            FROM [dbo].[Security_Detail] AS [Extent1]
            WHERE [Extent1].[Entity_ID] IN (@p__linq__0,@p__linq__1)
        )  AS [Project1]
    )  AS [Project2]
    ORDER BY [Project2].[Security_Name] ASC
2018-06-03 06:18:20.7386|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: IF db_id(N'MetopeAzureDb') IS NOT NULL SELECT 1 ELSE SELECT Count(*) FROM sys.databases WHERE [name]=N'MetopeAzureDb'
2018-06-03 06:18:20.8952|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: IF db_id(N'MetopeAzureDb') IS NOT NULL SELECT 1 ELSE SELECT Count(*) FROM sys.databases WHERE [name]=N'MetopeAzureDb'
2018-06-03 06:18:21.0548|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: IF db_id(N'MetopeAzureDb') IS NOT NULL SELECT 1 ELSE SELECT Count(*) FROM sys.databases WHERE [name]=N'MetopeAzureDb'
2018-06-03 06:18:21.0788|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: IF db_id(N'MetopeAzureDb') IS NOT NULL SELECT 1 ELSE SELECT Count(*) FROM sys.databases WHERE [name]=N'MetopeAzureDb'
2018-06-03 06:18:26.6518|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: SELECT 
    [Project1].[Classification_Code] AS [Classification_Code], 
    [Project1].[Effective_Date] AS [Effective_Date], 
    [Project1].[Entity_ID] AS [Entity_ID], 
    [Project1].[Industry_Code] AS [Industry_Code], 
    [Project1].[Last_Update_Date] AS [Last_Update_Date], 
    [Project1].[Last_Update_User] AS [Last_Update_User], 
    [Project1].[Security_ID] AS [Security_ID]
    FROM ( SELECT 
        [Extent1].[Classification_Code] AS [Classification_Code], 
        [Extent1].[Effective_Date] AS [Effective_Date], 
        [Extent1].[Entity_ID] AS [Entity_ID], 
        [Extent1].[Industry_Code] AS [Industry_Code], 
        [Extent1].[Last_Update_Date] AS [Last_Update_Date], 
        [Extent1].[Last_Update_User] AS [Last_Update_User], 
        [Extent1].[Security_ID] AS [Security_ID]
        FROM [dbo].[Security_Classification_Industry] AS [Extent1]
        WHERE ([Extent1].[Entity_ID] = @p__linq__0) AND ([Extent1].[Security_ID] = @p__linq__1)
    )  AS [Project1]
    ORDER BY [Project1].[Security_ID] ASC, [Project1].[Effective_Date] DESC, [Project1].[Classification_Code] ASC
2018-06-03 06:18:26.7449|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: SELECT 
    [Project1].[Classification_Code] AS [Classification_Code], 
    [Project1].[Effective_Date] AS [Effective_Date], 
    [Project1].[Entity_ID] AS [Entity_ID], 
    [Project1].[Industry_Code] AS [Industry_Code], 
    [Project1].[Last_Update_Date] AS [Last_Update_Date], 
    [Project1].[Last_Update_User] AS [Last_Update_User], 
    [Project1].[Security_ID] AS [Security_ID]
    FROM ( SELECT 
        [Extent1].[Classification_Code] AS [Classification_Code], 
        [Extent1].[Effective_Date] AS [Effective_Date], 
        [Extent1].[Entity_ID] AS [Entity_ID], 
        [Extent1].[Industry_Code] AS [Industry_Code], 
        [Extent1].[Last_Update_Date] AS [Last_Update_Date], 
        [Extent1].[Last_Update_User] AS [Last_Update_User], 
        [Extent1].[Security_ID] AS [Security_ID]
        FROM [dbo].[Security_Classification_Industry] AS [Extent1]
        WHERE ([Extent1].[Entity_ID] = @p__linq__0) AND ([Extent1].[Security_ID] = @p__linq__1)
    )  AS [Project1]
    ORDER BY [Project1].[Security_ID] ASC, [Project1].[Effective_Date] DESC, [Project1].[Classification_Code] ASC
2018-06-03 06:18:32.5653|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: IF db_id(N'MetopeAzureDb') IS NOT NULL SELECT 1 ELSE SELECT Count(*) FROM sys.databases WHERE [name]=N'MetopeAzureDb'
2018-06-03 06:18:32.5918|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: IF db_id(N'MetopeAzureDb') IS NOT NULL SELECT 1 ELSE SELECT Count(*) FROM sys.databases WHERE [name]=N'MetopeAzureDb'
2018-06-03 06:18:32.6293|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: IF db_id(N'MetopeAzureDb') IS NOT NULL SELECT 1 ELSE SELECT Count(*) FROM sys.databases WHERE [name]=N'MetopeAzureDb'
2018-06-03 06:18:32.6598|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: IF db_id(N'MetopeAzureDb') IS NOT NULL SELECT 1 ELSE SELECT Count(*) FROM sys.databases WHERE [name]=N'MetopeAzureDb'
2018-06-03 06:18:39.5798|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: SELECT 
    [Project1].[Classification_Code] AS [Classification_Code], 
    [Project1].[Description] AS [Description], 
    [Project1].[Industry_Code] AS [Industry_Code], 
    [Project1].[Entity_ID] AS [Entity_ID], 
    [Project1].[Last_Update_Date] AS [Last_Update_Date], 
    [Project1].[Last_Update_User] AS [Last_Update_User], 
    [Project1].[System_Locked] AS [System_Locked]
    FROM ( SELECT 
        [Extent1].[Classification_Code] AS [Classification_Code], 
        [Extent1].[Description] AS [Description], 
        [Extent1].[Industry_Code] AS [Industry_Code], 
        [Extent1].[Entity_ID] AS [Entity_ID], 
        [Extent1].[Last_Update_Date] AS [Last_Update_Date], 
        [Extent1].[Last_Update_User] AS [Last_Update_User], 
        [Extent1].[System_Locked] AS [System_Locked]
        FROM [dbo].[Classification_Industry] AS [Extent1]
        WHERE ([Extent1].[Entity_ID] = @p__linq__0) AND ((CASE WHEN ( NOT ((N'' = @p__linq__1) AND (@p__linq__1 IS NOT NULL))) THEN CASE WHEN ([Extent1].[Classification_Code] = @p__linq__2) THEN cast(1 as bit) WHEN ( NOT (([Extent1].[Classification_Code] = @p__linq__2) AND (0 = (CASE WHEN (@p__linq__2 IS NULL) THEN cast(1 as bit) ELSE cast(0 as bit) END)))) THEN cast(0 as bit) END WHEN ('' <> [Extent1].[Classification_Code]) THEN cast(1 as bit) WHEN ('' = [Extent1].[Classification_Code]) THEN cast(0 as bit) END) = 1)
    )  AS [Project1]
    ORDER BY [Project1].[Description] ASC
2018-06-03 06:18:39.6388|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: SELECT 
    [Project1].[Classification_Code] AS [Classification_Code], 
    [Project1].[Description] AS [Description], 
    [Project1].[Industry_Code] AS [Industry_Code], 
    [Project1].[Entity_ID] AS [Entity_ID], 
    [Project1].[Last_Update_Date] AS [Last_Update_Date], 
    [Project1].[Last_Update_User] AS [Last_Update_User], 
    [Project1].[System_Locked] AS [System_Locked]
    FROM ( SELECT 
        [Extent1].[Classification_Code] AS [Classification_Code], 
        [Extent1].[Description] AS [Description], 
        [Extent1].[Industry_Code] AS [Industry_Code], 
        [Extent1].[Entity_ID] AS [Entity_ID], 
        [Extent1].[Last_Update_Date] AS [Last_Update_Date], 
        [Extent1].[Last_Update_User] AS [Last_Update_User], 
        [Extent1].[System_Locked] AS [System_Locked]
        FROM [dbo].[Classification_Industry] AS [Extent1]
        WHERE ([Extent1].[Entity_ID] = @p__linq__0) AND ((CASE WHEN ( NOT ((N'' = @p__linq__1) AND (@p__linq__1 IS NOT NULL))) THEN CASE WHEN ([Extent1].[Classification_Code] = @p__linq__2) THEN cast(1 as bit) WHEN ( NOT (([Extent1].[Classification_Code] = @p__linq__2) AND (0 = (CASE WHEN (@p__linq__2 IS NULL) THEN cast(1 as bit) ELSE cast(0 as bit) END)))) THEN cast(0 as bit) END WHEN ('' <> [Extent1].[Classification_Code]) THEN cast(1 as bit) WHEN ('' = [Extent1].[Classification_Code]) THEN cast(0 as bit) END) = 1)
    )  AS [Project1]
    ORDER BY [Project1].[Description] ASC
2018-06-03 06:18:39.8254|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: SELECT 
    [Project1].[Security_ID] AS [Security_ID], 
    [Project1].[Entity_ID] AS [Entity_ID], 
    [Project1].[Security_Name] AS [Security_Name], 
    [Project1].[Short_Name] AS [Short_Name], 
    [Project1].[Primary_Exch] AS [Primary_Exch], 
    [Project1].[Secondary_Exch] AS [Secondary_Exch], 
    [Project1].[Country_Of_Domicile] AS [Country_Of_Domicile], 
    [Project1].[Country_Of_Risk] AS [Country_Of_Risk], 
    [Project1].[Security_Type_Code] AS [Security_Type_Code], 
    [Project1].[Price_Multiplier] AS [Price_Multiplier], 
    [Project1].[Income_Frequency] AS [Income_Frequency], 
    [Project1].[Issuer_Code] AS [Issuer_Code], 
    [Project1].[Ultimate_Issuer_Code] AS [Ultimate_Issuer_Code], 
    [Project1].[Asset_Currency] AS [Asset_Currency], 
    [Project1].[Min_Lot_Size] AS [Min_Lot_Size], 
    [Project1].[Decimal_Precision] AS [Decimal_Precision], 
    [Project1].[AvePrice_Rounding] AS [AvePrice_Rounding], 
    [Project1].[Issue_Date] AS [Issue_Date], 
    [Project1].[Maturity_Date] AS [Maturity_Date], 
    [Project1].[Coupon_Rate] AS [Coupon_Rate], 
    [Project1].[Price_Exchange] AS [Price_Exchange], 
    [Project1].[Trade_Currency] AS [Trade_Currency], 
    [Project1].[Price_Curr] AS [Price_Curr], 
    [Project1].[Currency_Pair_Code] AS [Currency_Pair_Code], 
    [Project1].[Share_Class] AS [Share_Class], 
    [Project1].[Current_Market_Price] AS [Current_Market_Price], 
    [Project1].[Index_Type] AS [Index_Type], 
    [Project1].[Clean_Price_Formula] AS [Clean_Price_Formula], 
    [Project1].[Accrued_Income_Price_Formula] AS [Accrued_Income_Price_Formula], 
    [Project1].[Odd_First_Coupon_Date] AS [Odd_First_Coupon_Date], 
    [Project1].[Odd_Last_Coupon_Date] AS [Odd_Last_Coupon_Date], 
    [Project1].[Coupon_Anniversary_Indicator] AS [Coupon_Anniversary_Indicator], 
    [Project1].[Track_EOM_Flag] AS [Track_EOM_Flag], 
    [Project1].[Next_Coupon_Date] AS [Next_Coupon_Date], 
    [Project1].[Previous_Coupon_Date] AS [Previous_Coupon_Date], 
    [Project1].[Payment_Frequency] AS [Payment_Frequency], 
    [Project1].[Coupon_BusDay_Adjustment] AS [Coupon_BusDay_Adjustment], 
    [Project1].[Next_Ex_Div_Date] AS [Next_Ex_Div_Date], 
    [Project1].[Ex_Div_BusDay_Adjustment] AS [Ex_Div_BusDay_Adjustment], 
    [Project1].[Ex_Div_Period] AS [Ex_Div_Period], 
    [Project1].[Ticker] AS [Ticker], 
    [Project1].[Inet_ID] AS [Inet_ID], 
    [Project1].[Bloomberg_ID] AS [Bloomberg_ID], 
    [Project1].[External_Sec_ID] AS [External_Sec_ID], 
    [Project1].[Reuters_ID] AS [Reuters_ID], 
    [Project1].[ISIN] AS [ISIN], 
    [Project1].[Call_Account_Flag] AS [Call_Account_Flag], 
    [Project1].[System_Locked] AS [System_Locked], 
    [Project1].[Last_Update_User] AS [Last_Update_User], 
    [Project1].[Last_Update_Date] AS [Last_Update_Date], 
    [Project1].[Security_Status] AS [Security_Status], 
    [Project1].[Benchmark_Portfolio] AS [Benchmark_Portfolio], 
    [Project1].[Active_flag] AS [Active_flag], 
    [Project1].[Dividend_FX_Security_ID] AS [Dividend_FX_Security_ID]
    FROM ( SELECT 
        [Extent1].[Security_ID] AS [Security_ID], 
        [Extent1].[Entity_ID] AS [Entity_ID], 
        [Extent1].[Security_Name] AS [Security_Name], 
        [Extent1].[Short_Name] AS [Short_Name], 
        [Extent1].[Primary_Exch] AS [Primary_Exch], 
        [Extent1].[Secondary_Exch] AS [Secondary_Exch], 
        [Extent1].[Country_Of_Domicile] AS [Country_Of_Domicile], 
        [Extent1].[Country_Of_Risk] AS [Country_Of_Risk], 
        [Extent1].[Security_Type_Code] AS [Security_Type_Code], 
        [Extent1].[Price_Multiplier] AS [Price_Multiplier], 
        [Extent1].[Income_Frequency] AS [Income_Frequency], 
        [Extent1].[Issuer_Code] AS [Issuer_Code], 
        [Extent1].[Ultimate_Issuer_Code] AS [Ultimate_Issuer_Code], 
        [Extent1].[Asset_Currency] AS [Asset_Currency], 
        [Extent1].[Min_Lot_Size] AS [Min_Lot_Size], 
        [Extent1].[Decimal_Precision] AS [Decimal_Precision], 
        [Extent1].[AvePrice_Rounding] AS [AvePrice_Rounding], 
        [Extent1].[Issue_Date] AS [Issue_Date], 
        [Extent1].[Maturity_Date] AS [Maturity_Date], 
        [Extent1].[Coupon_Rate] AS [Coupon_Rate], 
        [Extent1].[Price_Exchange] AS [Price_Exchange], 
        [Extent1].[Trade_Currency] AS [Trade_Currency], 
        [Extent1].[Price_Curr] AS [Price_Curr], 
        [Extent1].[Currency_Pair_Code] AS [Currency_Pair_Code], 
        [Extent1].[Share_Class] AS [Share_Class], 
        [Extent1].[Current_Market_Price] AS [Current_Market_Price], 
        [Extent1].[Index_Type] AS [Index_Type], 
        [Extent1].[Clean_Price_Formula] AS [Clean_Price_Formula], 
        [Extent1].[Accrued_Income_Price_Formula] AS [Accrued_Income_Price_Formula], 
        [Extent1].[Odd_First_Coupon_Date] AS [Odd_First_Coupon_Date], 
        [Extent1].[Odd_Last_Coupon_Date] AS [Odd_Last_Coupon_Date], 
        [Extent1].[Coupon_Anniversary_Indicator] AS [Coupon_Anniversary_Indicator], 
        [Extent1].[Track_EOM_Flag] AS [Track_EOM_Flag], 
        [Extent1].[Next_Coupon_Date] AS [Next_Coupon_Date], 
        [Extent1].[Previous_Coupon_Date] AS [Previous_Coupon_Date], 
        [Extent1].[Payment_Frequency] AS [Payment_Frequency], 
        [Extent1].[Coupon_BusDay_Adjustment] AS [Coupon_BusDay_Adjustment], 
        [Extent1].[Next_Ex_Div_Date] AS [Next_Ex_Div_Date], 
        [Extent1].[Ex_Div_BusDay_Adjustment] AS [Ex_Div_BusDay_Adjustment], 
        [Extent1].[Ex_Div_Period] AS [Ex_Div_Period], 
        [Extent1].[Ticker] AS [Ticker], 
        [Extent1].[Inet_ID] AS [Inet_ID], 
        [Extent1].[Bloomberg_ID] AS [Bloomberg_ID], 
        [Extent1].[External_Sec_ID] AS [External_Sec_ID], 
        [Extent1].[Reuters_ID] AS [Reuters_ID], 
        [Extent1].[ISIN] AS [ISIN], 
        [Extent1].[Call_Account_Flag] AS [Call_Account_Flag], 
        [Extent1].[System_Locked] AS [System_Locked], 
        [Extent1].[Last_Update_User] AS [Last_Update_User], 
        [Extent1].[Last_Update_Date] AS [Last_Update_Date], 
        [Extent1].[Security_Status] AS [Security_Status], 
        [Extent1].[Benchmark_Portfolio] AS [Benchmark_Portfolio], 
        [Extent1].[Active_flag] AS [Active_flag], 
        [Extent1].[Dividend_FX_Security_ID] AS [Dividend_FX_Security_ID]
        FROM [dbo].[Security_Detail] AS [Extent1]
        WHERE ([Extent1].[Entity_ID] IN (@p__linq__0,@p__linq__1)) AND ((CASE WHEN ( NOT ((N'' = @p__linq__2) AND (@p__linq__2 IS NOT NULL))) THEN CASE WHEN ([Extent1].[Security_Type_Code] = @p__linq__3) THEN cast(1 as bit) WHEN ( NOT (([Extent1].[Security_Type_Code] = @p__linq__3) AND (0 = (CASE WHEN (@p__linq__3 IS NULL) THEN cast(1 as bit) ELSE cast(0 as bit) END)))) THEN cast(0 as bit) END WHEN ('' <> [Extent1].[Security_Type_Code]) THEN cast(1 as bit) WHEN ('' = [Extent1].[Security_Type_Code]) THEN cast(0 as bit) END) = 1)
    )  AS [Project1]
    ORDER BY [Project1].[Security_Name] ASC
2018-06-03 06:18:39.8980|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: SELECT 
    [Project1].[Security_ID] AS [Security_ID], 
    [Project1].[Entity_ID] AS [Entity_ID], 
    [Project1].[Security_Name] AS [Security_Name], 
    [Project1].[Short_Name] AS [Short_Name], 
    [Project1].[Primary_Exch] AS [Primary_Exch], 
    [Project1].[Secondary_Exch] AS [Secondary_Exch], 
    [Project1].[Country_Of_Domicile] AS [Country_Of_Domicile], 
    [Project1].[Country_Of_Risk] AS [Country_Of_Risk], 
    [Project1].[Security_Type_Code] AS [Security_Type_Code], 
    [Project1].[Price_Multiplier] AS [Price_Multiplier], 
    [Project1].[Income_Frequency] AS [Income_Frequency], 
    [Project1].[Issuer_Code] AS [Issuer_Code], 
    [Project1].[Ultimate_Issuer_Code] AS [Ultimate_Issuer_Code], 
    [Project1].[Asset_Currency] AS [Asset_Currency], 
    [Project1].[Min_Lot_Size] AS [Min_Lot_Size], 
    [Project1].[Decimal_Precision] AS [Decimal_Precision], 
    [Project1].[AvePrice_Rounding] AS [AvePrice_Rounding], 
    [Project1].[Issue_Date] AS [Issue_Date], 
    [Project1].[Maturity_Date] AS [Maturity_Date], 
    [Project1].[Coupon_Rate] AS [Coupon_Rate], 
    [Project1].[Price_Exchange] AS [Price_Exchange], 
    [Project1].[Trade_Currency] AS [Trade_Currency], 
    [Project1].[Price_Curr] AS [Price_Curr], 
    [Project1].[Currency_Pair_Code] AS [Currency_Pair_Code], 
    [Project1].[Share_Class] AS [Share_Class], 
    [Project1].[Current_Market_Price] AS [Current_Market_Price], 
    [Project1].[Index_Type] AS [Index_Type], 
    [Project1].[Clean_Price_Formula] AS [Clean_Price_Formula], 
    [Project1].[Accrued_Income_Price_Formula] AS [Accrued_Income_Price_Formula], 
    [Project1].[Odd_First_Coupon_Date] AS [Odd_First_Coupon_Date], 
    [Project1].[Odd_Last_Coupon_Date] AS [Odd_Last_Coupon_Date], 
    [Project1].[Coupon_Anniversary_Indicator] AS [Coupon_Anniversary_Indicator], 
    [Project1].[Track_EOM_Flag] AS [Track_EOM_Flag], 
    [Project1].[Next_Coupon_Date] AS [Next_Coupon_Date], 
    [Project1].[Previous_Coupon_Date] AS [Previous_Coupon_Date], 
    [Project1].[Payment_Frequency] AS [Payment_Frequency], 
    [Project1].[Coupon_BusDay_Adjustment] AS [Coupon_BusDay_Adjustment], 
    [Project1].[Next_Ex_Div_Date] AS [Next_Ex_Div_Date], 
    [Project1].[Ex_Div_BusDay_Adjustment] AS [Ex_Div_BusDay_Adjustment], 
    [Project1].[Ex_Div_Period] AS [Ex_Div_Period], 
    [Project1].[Ticker] AS [Ticker], 
    [Project1].[Inet_ID] AS [Inet_ID], 
    [Project1].[Bloomberg_ID] AS [Bloomberg_ID], 
    [Project1].[External_Sec_ID] AS [External_Sec_ID], 
    [Project1].[Reuters_ID] AS [Reuters_ID], 
    [Project1].[ISIN] AS [ISIN], 
    [Project1].[Call_Account_Flag] AS [Call_Account_Flag], 
    [Project1].[System_Locked] AS [System_Locked], 
    [Project1].[Last_Update_User] AS [Last_Update_User], 
    [Project1].[Last_Update_Date] AS [Last_Update_Date], 
    [Project1].[Security_Status] AS [Security_Status], 
    [Project1].[Benchmark_Portfolio] AS [Benchmark_Portfolio], 
    [Project1].[Active_flag] AS [Active_flag], 
    [Project1].[Dividend_FX_Security_ID] AS [Dividend_FX_Security_ID]
    FROM ( SELECT 
        [Extent1].[Security_ID] AS [Security_ID], 
        [Extent1].[Entity_ID] AS [Entity_ID], 
        [Extent1].[Security_Name] AS [Security_Name], 
        [Extent1].[Short_Name] AS [Short_Name], 
        [Extent1].[Primary_Exch] AS [Primary_Exch], 
        [Extent1].[Secondary_Exch] AS [Secondary_Exch], 
        [Extent1].[Country_Of_Domicile] AS [Country_Of_Domicile], 
        [Extent1].[Country_Of_Risk] AS [Country_Of_Risk], 
        [Extent1].[Security_Type_Code] AS [Security_Type_Code], 
        [Extent1].[Price_Multiplier] AS [Price_Multiplier], 
        [Extent1].[Income_Frequency] AS [Income_Frequency], 
        [Extent1].[Issuer_Code] AS [Issuer_Code], 
        [Extent1].[Ultimate_Issuer_Code] AS [Ultimate_Issuer_Code], 
        [Extent1].[Asset_Currency] AS [Asset_Currency], 
        [Extent1].[Min_Lot_Size] AS [Min_Lot_Size], 
        [Extent1].[Decimal_Precision] AS [Decimal_Precision], 
        [Extent1].[AvePrice_Rounding] AS [AvePrice_Rounding], 
        [Extent1].[Issue_Date] AS [Issue_Date], 
        [Extent1].[Maturity_Date] AS [Maturity_Date], 
        [Extent1].[Coupon_Rate] AS [Coupon_Rate], 
        [Extent1].[Price_Exchange] AS [Price_Exchange], 
        [Extent1].[Trade_Currency] AS [Trade_Currency], 
        [Extent1].[Price_Curr] AS [Price_Curr], 
        [Extent1].[Currency_Pair_Code] AS [Currency_Pair_Code], 
        [Extent1].[Share_Class] AS [Share_Class], 
        [Extent1].[Current_Market_Price] AS [Current_Market_Price], 
        [Extent1].[Index_Type] AS [Index_Type], 
        [Extent1].[Clean_Price_Formula] AS [Clean_Price_Formula], 
        [Extent1].[Accrued_Income_Price_Formula] AS [Accrued_Income_Price_Formula], 
        [Extent1].[Odd_First_Coupon_Date] AS [Odd_First_Coupon_Date], 
        [Extent1].[Odd_Last_Coupon_Date] AS [Odd_Last_Coupon_Date], 
        [Extent1].[Coupon_Anniversary_Indicator] AS [Coupon_Anniversary_Indicator], 
        [Extent1].[Track_EOM_Flag] AS [Track_EOM_Flag], 
        [Extent1].[Next_Coupon_Date] AS [Next_Coupon_Date], 
        [Extent1].[Previous_Coupon_Date] AS [Previous_Coupon_Date], 
        [Extent1].[Payment_Frequency] AS [Payment_Frequency], 
        [Extent1].[Coupon_BusDay_Adjustment] AS [Coupon_BusDay_Adjustment], 
        [Extent1].[Next_Ex_Div_Date] AS [Next_Ex_Div_Date], 
        [Extent1].[Ex_Div_BusDay_Adjustment] AS [Ex_Div_BusDay_Adjustment], 
        [Extent1].[Ex_Div_Period] AS [Ex_Div_Period], 
        [Extent1].[Ticker] AS [Ticker], 
        [Extent1].[Inet_ID] AS [Inet_ID], 
        [Extent1].[Bloomberg_ID] AS [Bloomberg_ID], 
        [Extent1].[External_Sec_ID] AS [External_Sec_ID], 
        [Extent1].[Reuters_ID] AS [Reuters_ID], 
        [Extent1].[ISIN] AS [ISIN], 
        [Extent1].[Call_Account_Flag] AS [Call_Account_Flag], 
        [Extent1].[System_Locked] AS [System_Locked], 
        [Extent1].[Last_Update_User] AS [Last_Update_User], 
        [Extent1].[Last_Update_Date] AS [Last_Update_Date], 
        [Extent1].[Security_Status] AS [Security_Status], 
        [Extent1].[Benchmark_Portfolio] AS [Benchmark_Portfolio], 
        [Extent1].[Active_flag] AS [Active_flag], 
        [Extent1].[Dividend_FX_Security_ID] AS [Dividend_FX_Security_ID]
        FROM [dbo].[Security_Detail] AS [Extent1]
        WHERE ([Extent1].[Entity_ID] IN (@p__linq__0,@p__linq__1)) AND ((CASE WHEN ( NOT ((N'' = @p__linq__2) AND (@p__linq__2 IS NOT NULL))) THEN CASE WHEN ([Extent1].[Security_Type_Code] = @p__linq__3) THEN cast(1 as bit) WHEN ( NOT (([Extent1].[Security_Type_Code] = @p__linq__3) AND (0 = (CASE WHEN (@p__linq__3 IS NULL) THEN cast(1 as bit) ELSE cast(0 as bit) END)))) THEN cast(0 as bit) END WHEN ('' <> [Extent1].[Security_Type_Code]) THEN cast(1 as bit) WHEN ('' = [Extent1].[Security_Type_Code]) THEN cast(0 as bit) END) = 1)
    )  AS [Project1]
    ORDER BY [Project1].[Security_Name] ASC
2018-06-03 06:18:40.2542|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: IF db_id(N'MetopeAzureDb') IS NOT NULL SELECT 1 ELSE SELECT Count(*) FROM sys.databases WHERE [name]=N'MetopeAzureDb'
2018-06-03 06:18:40.2843|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: IF db_id(N'MetopeAzureDb') IS NOT NULL SELECT 1 ELSE SELECT Count(*) FROM sys.databases WHERE [name]=N'MetopeAzureDb'
2018-06-03 06:18:40.3203|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: IF db_id(N'MetopeAzureDb') IS NOT NULL SELECT 1 ELSE SELECT Count(*) FROM sys.databases WHERE [name]=N'MetopeAzureDb'
2018-06-03 06:18:40.3563|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: IF db_id(N'MetopeAzureDb') IS NOT NULL SELECT 1 ELSE SELECT Count(*) FROM sys.databases WHERE [name]=N'MetopeAzureDb'
2018-06-03 06:18:48.2981|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: SELECT 
    [Project1].[Classification_Code] AS [Classification_Code], 
    [Project1].[Effective_Date] AS [Effective_Date], 
    [Project1].[Entity_ID] AS [Entity_ID], 
    [Project1].[Industry_Code] AS [Industry_Code], 
    [Project1].[Last_Update_Date] AS [Last_Update_Date], 
    [Project1].[Last_Update_User] AS [Last_Update_User], 
    [Project1].[Security_ID] AS [Security_ID]
    FROM ( SELECT 
        [Extent1].[Classification_Code] AS [Classification_Code], 
        [Extent1].[Effective_Date] AS [Effective_Date], 
        [Extent1].[Entity_ID] AS [Entity_ID], 
        [Extent1].[Industry_Code] AS [Industry_Code], 
        [Extent1].[Last_Update_Date] AS [Last_Update_Date], 
        [Extent1].[Last_Update_User] AS [Last_Update_User], 
        [Extent1].[Security_ID] AS [Security_ID]
        FROM [dbo].[Security_Classification_Industry] AS [Extent1]
        WHERE ([Extent1].[Entity_ID] = @p__linq__0) AND ([Extent1].[Security_ID] = @p__linq__1)
    )  AS [Project1]
    ORDER BY [Project1].[Security_ID] ASC, [Project1].[Effective_Date] DESC, [Project1].[Classification_Code] ASC
2018-06-03 06:18:48.3497|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: SELECT 
    [Project1].[Classification_Code] AS [Classification_Code], 
    [Project1].[Effective_Date] AS [Effective_Date], 
    [Project1].[Entity_ID] AS [Entity_ID], 
    [Project1].[Industry_Code] AS [Industry_Code], 
    [Project1].[Last_Update_Date] AS [Last_Update_Date], 
    [Project1].[Last_Update_User] AS [Last_Update_User], 
    [Project1].[Security_ID] AS [Security_ID]
    FROM ( SELECT 
        [Extent1].[Classification_Code] AS [Classification_Code], 
        [Extent1].[Effective_Date] AS [Effective_Date], 
        [Extent1].[Entity_ID] AS [Entity_ID], 
        [Extent1].[Industry_Code] AS [Industry_Code], 
        [Extent1].[Last_Update_Date] AS [Last_Update_Date], 
        [Extent1].[Last_Update_User] AS [Last_Update_User], 
        [Extent1].[Security_ID] AS [Security_ID]
        FROM [dbo].[Security_Classification_Industry] AS [Extent1]
        WHERE ([Extent1].[Entity_ID] = @p__linq__0) AND ([Extent1].[Security_ID] = @p__linq__1)
    )  AS [Project1]
    ORDER BY [Project1].[Security_ID] ASC, [Project1].[Effective_Date] DESC, [Project1].[Classification_Code] ASC
2018-06-03 06:18:48.4167|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: IF db_id(N'MetopeAzureDb') IS NOT NULL SELECT 1 ELSE SELECT Count(*) FROM sys.databases WHERE [name]=N'MetopeAzureDb'
2018-06-03 06:18:48.4547|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: IF db_id(N'MetopeAzureDb') IS NOT NULL SELECT 1 ELSE SELECT Count(*) FROM sys.databases WHERE [name]=N'MetopeAzureDb'
2018-06-03 06:18:48.4873|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: IF db_id(N'MetopeAzureDb') IS NOT NULL SELECT 1 ELSE SELECT Count(*) FROM sys.databases WHERE [name]=N'MetopeAzureDb'
2018-06-03 06:18:48.5253|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: IF db_id(N'MetopeAzureDb') IS NOT NULL SELECT 1 ELSE SELECT Count(*) FROM sys.databases WHERE [name]=N'MetopeAzureDb'
2018-06-03 06:19:01.8253|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: SELECT 
    [Project2].[C1] AS [C1], 
    [Project2].[Security_ID] AS [Security_ID], 
    [Project2].[Entity_ID] AS [Entity_ID], 
    [Project2].[Security_Type_Code] AS [Security_Type_Code], 
    [Project2].[Security_Name] AS [Security_Name], 
    [Project2].[Short_Name] AS [Short_Name], 
    [Project2].[Current_Market_Price] AS [Current_Market_Price], 
    [Project2].[Ticker] AS [Ticker], 
    [Project2].[Primary_Exch] AS [Primary_Exch], 
    [Project2].[Maturity_Date] AS [Maturity_Date], 
    [Project2].[Security_Status] AS [Security_Status], 
    [Project2].[C2] AS [C2], 
    [Project2].[C3] AS [C3]
    FROM ( SELECT 
        [Project1].[Security_ID] AS [Security_ID], 
        [Project1].[Entity_ID] AS [Entity_ID], 
        [Project1].[Security_Name] AS [Security_Name], 
        [Project1].[Short_Name] AS [Short_Name], 
        [Project1].[Primary_Exch] AS [Primary_Exch], 
        [Project1].[Security_Type_Code] AS [Security_Type_Code], 
        [Project1].[Maturity_Date] AS [Maturity_Date], 
        [Project1].[Current_Market_Price] AS [Current_Market_Price], 
        [Project1].[Ticker] AS [Ticker], 
        [Project1].[Security_Status] AS [Security_Status], 
        1 AS [C1], 
        @p__linq__2 AS [C2], 
        [Project1].[C1] AS [C3]
        FROM ( SELECT 
            [Extent1].[Security_ID] AS [Security_ID], 
            [Extent1].[Entity_ID] AS [Entity_ID], 
            [Extent1].[Security_Name] AS [Security_Name], 
            [Extent1].[Short_Name] AS [Short_Name], 
            [Extent1].[Primary_Exch] AS [Primary_Exch], 
            [Extent1].[Security_Type_Code] AS [Security_Type_Code], 
            [Extent1].[Maturity_Date] AS [Maturity_Date], 
            [Extent1].[Current_Market_Price] AS [Current_Market_Price], 
            [Extent1].[Ticker] AS [Ticker], 
            [Extent1].[Security_Status] AS [Security_Status], 
            (SELECT 
                COUNT(1) AS [A1]
                FROM [dbo].[Security_Analytics] AS [Extent2]
                WHERE [Extent1].[Security_ID] = [Extent2].[Security_ID]) AS [C1]
            FROM [dbo].[Security_Detail] AS [Extent1]
            WHERE [Extent1].[Entity_ID] IN (@p__linq__0,@p__linq__1)
        )  AS [Project1]
    )  AS [Project2]
    ORDER BY [Project2].[Security_Name] ASC
2018-06-03 06:19:01.9674|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: SELECT 
    [Project2].[C1] AS [C1], 
    [Project2].[Security_ID] AS [Security_ID], 
    [Project2].[Entity_ID] AS [Entity_ID], 
    [Project2].[Security_Type_Code] AS [Security_Type_Code], 
    [Project2].[Security_Name] AS [Security_Name], 
    [Project2].[Short_Name] AS [Short_Name], 
    [Project2].[Current_Market_Price] AS [Current_Market_Price], 
    [Project2].[Ticker] AS [Ticker], 
    [Project2].[Primary_Exch] AS [Primary_Exch], 
    [Project2].[Maturity_Date] AS [Maturity_Date], 
    [Project2].[Security_Status] AS [Security_Status], 
    [Project2].[C2] AS [C2], 
    [Project2].[C3] AS [C3]
    FROM ( SELECT 
        [Project1].[Security_ID] AS [Security_ID], 
        [Project1].[Entity_ID] AS [Entity_ID], 
        [Project1].[Security_Name] AS [Security_Name], 
        [Project1].[Short_Name] AS [Short_Name], 
        [Project1].[Primary_Exch] AS [Primary_Exch], 
        [Project1].[Security_Type_Code] AS [Security_Type_Code], 
        [Project1].[Maturity_Date] AS [Maturity_Date], 
        [Project1].[Current_Market_Price] AS [Current_Market_Price], 
        [Project1].[Ticker] AS [Ticker], 
        [Project1].[Security_Status] AS [Security_Status], 
        1 AS [C1], 
        @p__linq__2 AS [C2], 
        [Project1].[C1] AS [C3]
        FROM ( SELECT 
            [Extent1].[Security_ID] AS [Security_ID], 
            [Extent1].[Entity_ID] AS [Entity_ID], 
            [Extent1].[Security_Name] AS [Security_Name], 
            [Extent1].[Short_Name] AS [Short_Name], 
            [Extent1].[Primary_Exch] AS [Primary_Exch], 
            [Extent1].[Security_Type_Code] AS [Security_Type_Code], 
            [Extent1].[Maturity_Date] AS [Maturity_Date], 
            [Extent1].[Current_Market_Price] AS [Current_Market_Price], 
            [Extent1].[Ticker] AS [Ticker], 
            [Extent1].[Security_Status] AS [Security_Status], 
            (SELECT 
                COUNT(1) AS [A1]
                FROM [dbo].[Security_Analytics] AS [Extent2]
                WHERE [Extent1].[Security_ID] = [Extent2].[Security_ID]) AS [C1]
            FROM [dbo].[Security_Detail] AS [Extent1]
            WHERE [Extent1].[Entity_ID] IN (@p__linq__0,@p__linq__1)
        )  AS [Project1]
    )  AS [Project2]
    ORDER BY [Project2].[Security_Name] ASC
2018-06-03 06:19:02.0915|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: IF db_id(N'MetopeAzureDb') IS NOT NULL SELECT 1 ELSE SELECT Count(*) FROM sys.databases WHERE [name]=N'MetopeAzureDb'
2018-06-03 06:19:02.3422|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: IF db_id(N'MetopeAzureDb') IS NOT NULL SELECT 1 ELSE SELECT Count(*) FROM sys.databases WHERE [name]=N'MetopeAzureDb'
2018-06-03 06:19:02.5098|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: IF db_id(N'MetopeAzureDb') IS NOT NULL SELECT 1 ELSE SELECT Count(*) FROM sys.databases WHERE [name]=N'MetopeAzureDb'
2018-06-03 06:19:02.7435|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: IF db_id(N'MetopeAzureDb') IS NOT NULL SELECT 1 ELSE SELECT Count(*) FROM sys.databases WHERE [name]=N'MetopeAzureDb'
2018-06-03 06:19:07.6197|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: SELECT 
    [Project1].[Classification_Code] AS [Classification_Code], 
    [Project1].[Effective_Date] AS [Effective_Date], 
    [Project1].[Entity_ID] AS [Entity_ID], 
    [Project1].[Industry_Code] AS [Industry_Code], 
    [Project1].[Last_Update_Date] AS [Last_Update_Date], 
    [Project1].[Last_Update_User] AS [Last_Update_User], 
    [Project1].[Security_ID] AS [Security_ID]
    FROM ( SELECT 
        [Extent1].[Classification_Code] AS [Classification_Code], 
        [Extent1].[Effective_Date] AS [Effective_Date], 
        [Extent1].[Entity_ID] AS [Entity_ID], 
        [Extent1].[Industry_Code] AS [Industry_Code], 
        [Extent1].[Last_Update_Date] AS [Last_Update_Date], 
        [Extent1].[Last_Update_User] AS [Last_Update_User], 
        [Extent1].[Security_ID] AS [Security_ID]
        FROM [dbo].[Security_Classification_Industry] AS [Extent1]
        WHERE ([Extent1].[Entity_ID] = @p__linq__0) AND ([Extent1].[Security_ID] = @p__linq__1)
    )  AS [Project1]
    ORDER BY [Project1].[Security_ID] ASC, [Project1].[Effective_Date] DESC, [Project1].[Classification_Code] ASC
2018-06-03 06:19:07.7217|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: SELECT 
    [Project1].[Classification_Code] AS [Classification_Code], 
    [Project1].[Effective_Date] AS [Effective_Date], 
    [Project1].[Entity_ID] AS [Entity_ID], 
    [Project1].[Industry_Code] AS [Industry_Code], 
    [Project1].[Last_Update_Date] AS [Last_Update_Date], 
    [Project1].[Last_Update_User] AS [Last_Update_User], 
    [Project1].[Security_ID] AS [Security_ID]
    FROM ( SELECT 
        [Extent1].[Classification_Code] AS [Classification_Code], 
        [Extent1].[Effective_Date] AS [Effective_Date], 
        [Extent1].[Entity_ID] AS [Entity_ID], 
        [Extent1].[Industry_Code] AS [Industry_Code], 
        [Extent1].[Last_Update_Date] AS [Last_Update_Date], 
        [Extent1].[Last_Update_User] AS [Last_Update_User], 
        [Extent1].[Security_ID] AS [Security_ID]
        FROM [dbo].[Security_Classification_Industry] AS [Extent1]
        WHERE ([Extent1].[Entity_ID] = @p__linq__0) AND ([Extent1].[Security_ID] = @p__linq__1)
    )  AS [Project1]
    ORDER BY [Project1].[Security_ID] ASC, [Project1].[Effective_Date] DESC, [Project1].[Classification_Code] ASC
2018-06-03 06:19:07.7788|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: SELECT 
    [Extent1].[Security_ID] AS [Security_ID], 
    [Extent1].[Entity_ID] AS [Entity_ID], 
    [Extent1].[Security_Name] AS [Security_Name], 
    [Extent1].[Short_Name] AS [Short_Name], 
    [Extent1].[Primary_Exch] AS [Primary_Exch], 
    [Extent1].[Secondary_Exch] AS [Secondary_Exch], 
    [Extent1].[Country_Of_Domicile] AS [Country_Of_Domicile], 
    [Extent1].[Country_Of_Risk] AS [Country_Of_Risk], 
    [Extent1].[Security_Type_Code] AS [Security_Type_Code], 
    [Extent1].[Price_Multiplier] AS [Price_Multiplier], 
    [Extent1].[Income_Frequency] AS [Income_Frequency], 
    [Extent1].[Issuer_Code] AS [Issuer_Code], 
    [Extent1].[Ultimate_Issuer_Code] AS [Ultimate_Issuer_Code], 
    [Extent1].[Asset_Currency] AS [Asset_Currency], 
    [Extent1].[Min_Lot_Size] AS [Min_Lot_Size], 
    [Extent1].[Decimal_Precision] AS [Decimal_Precision], 
    [Extent1].[AvePrice_Rounding] AS [AvePrice_Rounding], 
    [Extent1].[Issue_Date] AS [Issue_Date], 
    [Extent1].[Maturity_Date] AS [Maturity_Date], 
    [Extent1].[Coupon_Rate] AS [Coupon_Rate], 
    [Extent1].[Price_Exchange] AS [Price_Exchange], 
    [Extent1].[Trade_Currency] AS [Trade_Currency], 
    [Extent1].[Price_Curr] AS [Price_Curr], 
    [Extent1].[Currency_Pair_Code] AS [Currency_Pair_Code], 
    [Extent1].[Share_Class] AS [Share_Class], 
    [Extent1].[Current_Market_Price] AS [Current_Market_Price], 
    [Extent1].[Index_Type] AS [Index_Type], 
    [Extent1].[Clean_Price_Formula] AS [Clean_Price_Formula], 
    [Extent1].[Accrued_Income_Price_Formula] AS [Accrued_Income_Price_Formula], 
    [Extent1].[Odd_First_Coupon_Date] AS [Odd_First_Coupon_Date], 
    [Extent1].[Odd_Last_Coupon_Date] AS [Odd_Last_Coupon_Date], 
    [Extent1].[Coupon_Anniversary_Indicator] AS [Coupon_Anniversary_Indicator], 
    [Extent1].[Track_EOM_Flag] AS [Track_EOM_Flag], 
    [Extent1].[Next_Coupon_Date] AS [Next_Coupon_Date], 
    [Extent1].[Previous_Coupon_Date] AS [Previous_Coupon_Date], 
    [Extent1].[Payment_Frequency] AS [Payment_Frequency], 
    [Extent1].[Coupon_BusDay_Adjustment] AS [Coupon_BusDay_Adjustment], 
    [Extent1].[Next_Ex_Div_Date] AS [Next_Ex_Div_Date], 
    [Extent1].[Ex_Div_BusDay_Adjustment] AS [Ex_Div_BusDay_Adjustment], 
    [Extent1].[Ex_Div_Period] AS [Ex_Div_Period], 
    [Extent1].[Ticker] AS [Ticker], 
    [Extent1].[Inet_ID] AS [Inet_ID], 
    [Extent1].[Bloomberg_ID] AS [Bloomberg_ID], 
    [Extent1].[External_Sec_ID] AS [External_Sec_ID], 
    [Extent1].[Reuters_ID] AS [Reuters_ID], 
    [Extent1].[ISIN] AS [ISIN], 
    [Extent1].[Call_Account_Flag] AS [Call_Account_Flag], 
    [Extent1].[System_Locked] AS [System_Locked], 
    [Extent1].[Last_Update_User] AS [Last_Update_User], 
    [Extent1].[Last_Update_Date] AS [Last_Update_Date], 
    [Extent1].[Security_Status] AS [Security_Status], 
    [Extent1].[Benchmark_Portfolio] AS [Benchmark_Portfolio], 
    [Extent1].[Active_flag] AS [Active_flag], 
    [Extent1].[Dividend_FX_Security_ID] AS [Dividend_FX_Security_ID]
    FROM [dbo].[Security_Detail] AS [Extent1]
    WHERE [Extent1].[Security_ID] = @EntityKeyValue1
2018-06-03 06:19:07.8333|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: SELECT 
    [Extent1].[Security_ID] AS [Security_ID], 
    [Extent1].[Entity_ID] AS [Entity_ID], 
    [Extent1].[Security_Name] AS [Security_Name], 
    [Extent1].[Short_Name] AS [Short_Name], 
    [Extent1].[Primary_Exch] AS [Primary_Exch], 
    [Extent1].[Secondary_Exch] AS [Secondary_Exch], 
    [Extent1].[Country_Of_Domicile] AS [Country_Of_Domicile], 
    [Extent1].[Country_Of_Risk] AS [Country_Of_Risk], 
    [Extent1].[Security_Type_Code] AS [Security_Type_Code], 
    [Extent1].[Price_Multiplier] AS [Price_Multiplier], 
    [Extent1].[Income_Frequency] AS [Income_Frequency], 
    [Extent1].[Issuer_Code] AS [Issuer_Code], 
    [Extent1].[Ultimate_Issuer_Code] AS [Ultimate_Issuer_Code], 
    [Extent1].[Asset_Currency] AS [Asset_Currency], 
    [Extent1].[Min_Lot_Size] AS [Min_Lot_Size], 
    [Extent1].[Decimal_Precision] AS [Decimal_Precision], 
    [Extent1].[AvePrice_Rounding] AS [AvePrice_Rounding], 
    [Extent1].[Issue_Date] AS [Issue_Date], 
    [Extent1].[Maturity_Date] AS [Maturity_Date], 
    [Extent1].[Coupon_Rate] AS [Coupon_Rate], 
    [Extent1].[Price_Exchange] AS [Price_Exchange], 
    [Extent1].[Trade_Currency] AS [Trade_Currency], 
    [Extent1].[Price_Curr] AS [Price_Curr], 
    [Extent1].[Currency_Pair_Code] AS [Currency_Pair_Code], 
    [Extent1].[Share_Class] AS [Share_Class], 
    [Extent1].[Current_Market_Price] AS [Current_Market_Price], 
    [Extent1].[Index_Type] AS [Index_Type], 
    [Extent1].[Clean_Price_Formula] AS [Clean_Price_Formula], 
    [Extent1].[Accrued_Income_Price_Formula] AS [Accrued_Income_Price_Formula], 
    [Extent1].[Odd_First_Coupon_Date] AS [Odd_First_Coupon_Date], 
    [Extent1].[Odd_Last_Coupon_Date] AS [Odd_Last_Coupon_Date], 
    [Extent1].[Coupon_Anniversary_Indicator] AS [Coupon_Anniversary_Indicator], 
    [Extent1].[Track_EOM_Flag] AS [Track_EOM_Flag], 
    [Extent1].[Next_Coupon_Date] AS [Next_Coupon_Date], 
    [Extent1].[Previous_Coupon_Date] AS [Previous_Coupon_Date], 
    [Extent1].[Payment_Frequency] AS [Payment_Frequency], 
    [Extent1].[Coupon_BusDay_Adjustment] AS [Coupon_BusDay_Adjustment], 
    [Extent1].[Next_Ex_Div_Date] AS [Next_Ex_Div_Date], 
    [Extent1].[Ex_Div_BusDay_Adjustment] AS [Ex_Div_BusDay_Adjustment], 
    [Extent1].[Ex_Div_Period] AS [Ex_Div_Period], 
    [Extent1].[Ticker] AS [Ticker], 
    [Extent1].[Inet_ID] AS [Inet_ID], 
    [Extent1].[Bloomberg_ID] AS [Bloomberg_ID], 
    [Extent1].[External_Sec_ID] AS [External_Sec_ID], 
    [Extent1].[Reuters_ID] AS [Reuters_ID], 
    [Extent1].[ISIN] AS [ISIN], 
    [Extent1].[Call_Account_Flag] AS [Call_Account_Flag], 
    [Extent1].[System_Locked] AS [System_Locked], 
    [Extent1].[Last_Update_User] AS [Last_Update_User], 
    [Extent1].[Last_Update_Date] AS [Last_Update_Date], 
    [Extent1].[Security_Status] AS [Security_Status], 
    [Extent1].[Benchmark_Portfolio] AS [Benchmark_Portfolio], 
    [Extent1].[Active_flag] AS [Active_flag], 
    [Extent1].[Dividend_FX_Security_ID] AS [Dividend_FX_Security_ID]
    FROM [dbo].[Security_Detail] AS [Extent1]
    WHERE [Extent1].[Security_ID] = @EntityKeyValue1
2018-06-03 06:19:07.9144|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: IF db_id(N'MetopeAzureDb') IS NOT NULL SELECT 1 ELSE SELECT Count(*) FROM sys.databases WHERE [name]=N'MetopeAzureDb'
2018-06-03 06:19:07.9479|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: IF db_id(N'MetopeAzureDb') IS NOT NULL SELECT 1 ELSE SELECT Count(*) FROM sys.databases WHERE [name]=N'MetopeAzureDb'
2018-06-03 06:19:07.9849|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: IF db_id(N'MetopeAzureDb') IS NOT NULL SELECT 1 ELSE SELECT Count(*) FROM sys.databases WHERE [name]=N'MetopeAzureDb'
2018-06-03 06:19:08.0209|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: IF db_id(N'MetopeAzureDb') IS NOT NULL SELECT 1 ELSE SELECT Count(*) FROM sys.databases WHERE [name]=N'MetopeAzureDb'
2018-06-03 06:19:12.0404|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: SELECT 
    [Project1].[Classification_Code] AS [Classification_Code], 
    [Project1].[Description] AS [Description], 
    [Project1].[Industry_Code] AS [Industry_Code], 
    [Project1].[Entity_ID] AS [Entity_ID], 
    [Project1].[Last_Update_Date] AS [Last_Update_Date], 
    [Project1].[Last_Update_User] AS [Last_Update_User], 
    [Project1].[System_Locked] AS [System_Locked]
    FROM ( SELECT 
        [Extent1].[Classification_Code] AS [Classification_Code], 
        [Extent1].[Description] AS [Description], 
        [Extent1].[Industry_Code] AS [Industry_Code], 
        [Extent1].[Entity_ID] AS [Entity_ID], 
        [Extent1].[Last_Update_Date] AS [Last_Update_Date], 
        [Extent1].[Last_Update_User] AS [Last_Update_User], 
        [Extent1].[System_Locked] AS [System_Locked]
        FROM [dbo].[Classification_Industry] AS [Extent1]
        WHERE ([Extent1].[Entity_ID] = @p__linq__0) AND ((CASE WHEN ( NOT ((N'' = @p__linq__1) AND (@p__linq__1 IS NOT NULL))) THEN CASE WHEN ([Extent1].[Classification_Code] = @p__linq__2) THEN cast(1 as bit) WHEN ( NOT (([Extent1].[Classification_Code] = @p__linq__2) AND (0 = (CASE WHEN (@p__linq__2 IS NULL) THEN cast(1 as bit) ELSE cast(0 as bit) END)))) THEN cast(0 as bit) END WHEN ('' <> [Extent1].[Classification_Code]) THEN cast(1 as bit) WHEN ('' = [Extent1].[Classification_Code]) THEN cast(0 as bit) END) = 1)
    )  AS [Project1]
    ORDER BY [Project1].[Description] ASC
2018-06-03 06:19:12.1009|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: SELECT 
    [Project1].[Classification_Code] AS [Classification_Code], 
    [Project1].[Description] AS [Description], 
    [Project1].[Industry_Code] AS [Industry_Code], 
    [Project1].[Entity_ID] AS [Entity_ID], 
    [Project1].[Last_Update_Date] AS [Last_Update_Date], 
    [Project1].[Last_Update_User] AS [Last_Update_User], 
    [Project1].[System_Locked] AS [System_Locked]
    FROM ( SELECT 
        [Extent1].[Classification_Code] AS [Classification_Code], 
        [Extent1].[Description] AS [Description], 
        [Extent1].[Industry_Code] AS [Industry_Code], 
        [Extent1].[Entity_ID] AS [Entity_ID], 
        [Extent1].[Last_Update_Date] AS [Last_Update_Date], 
        [Extent1].[Last_Update_User] AS [Last_Update_User], 
        [Extent1].[System_Locked] AS [System_Locked]
        FROM [dbo].[Classification_Industry] AS [Extent1]
        WHERE ([Extent1].[Entity_ID] = @p__linq__0) AND ((CASE WHEN ( NOT ((N'' = @p__linq__1) AND (@p__linq__1 IS NOT NULL))) THEN CASE WHEN ([Extent1].[Classification_Code] = @p__linq__2) THEN cast(1 as bit) WHEN ( NOT (([Extent1].[Classification_Code] = @p__linq__2) AND (0 = (CASE WHEN (@p__linq__2 IS NULL) THEN cast(1 as bit) ELSE cast(0 as bit) END)))) THEN cast(0 as bit) END WHEN ('' <> [Extent1].[Classification_Code]) THEN cast(1 as bit) WHEN ('' = [Extent1].[Classification_Code]) THEN cast(0 as bit) END) = 1)
    )  AS [Project1]
    ORDER BY [Project1].[Description] ASC
2018-06-03 06:19:12.1639|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: IF db_id(N'MetopeAzureDb') IS NOT NULL SELECT 1 ELSE SELECT Count(*) FROM sys.databases WHERE [name]=N'MetopeAzureDb'
2018-06-03 06:19:12.1935|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: IF db_id(N'MetopeAzureDb') IS NOT NULL SELECT 1 ELSE SELECT Count(*) FROM sys.databases WHERE [name]=N'MetopeAzureDb'
2018-06-03 06:19:12.2330|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: IF db_id(N'MetopeAzureDb') IS NOT NULL SELECT 1 ELSE SELECT Count(*) FROM sys.databases WHERE [name]=N'MetopeAzureDb'
2018-06-03 06:19:12.2565|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: IF db_id(N'MetopeAzureDb') IS NOT NULL SELECT 1 ELSE SELECT Count(*) FROM sys.databases WHERE [name]=N'MetopeAzureDb'
2018-06-03 06:26:05.2603|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: select cast(serverproperty('EngineEdition') as int)
2018-06-03 06:26:05.8487|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: select cast(serverproperty('EngineEdition') as int)
2018-06-03 06:26:09.2578|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: IF db_id(N'MetopeAzureDb') IS NOT NULL SELECT 1 ELSE SELECT Count(*) FROM sys.databases WHERE [name]=N'MetopeAzureDb'
2018-06-03 06:26:09.3169|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: IF db_id(N'MetopeAzureDb') IS NOT NULL SELECT 1 ELSE SELECT Count(*) FROM sys.databases WHERE [name]=N'MetopeAzureDb'
2018-06-03 06:26:09.5260|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: IF db_id(N'MetopeAzureDb') IS NOT NULL SELECT 1 ELSE SELECT Count(*) FROM sys.databases WHERE [name]=N'MetopeAzureDb'
2018-06-03 06:26:09.5375|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: IF db_id(N'MetopeAzureDb') IS NOT NULL SELECT 1 ELSE SELECT Count(*) FROM sys.databases WHERE [name]=N'MetopeAzureDb'
2018-06-03 06:26:09.6171|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: IF db_id(N'MetopeAzureDb') IS NOT NULL SELECT 1 ELSE SELECT Count(*) FROM sys.databases WHERE [name]=N'MetopeAzureDb'
2018-06-03 06:26:09.6171|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: IF db_id(N'MetopeAzureDb') IS NOT NULL SELECT 1 ELSE SELECT Count(*) FROM sys.databases WHERE [name]=N'MetopeAzureDb'
2018-06-03 06:26:09.6561|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: 
SELECT Count(*)
FROM INFORMATION_SCHEMA.TABLES AS t
WHERE t.TABLE_SCHEMA + '.' + t.TABLE_NAME IN ('dbo.AspNetRoles','dbo.AspNetUserRoles','dbo.AspNetUsers','dbo.AspNetUserClaims','dbo.AspNetUserLogins')
    OR t.TABLE_NAME = 'EdmMetadata'
2018-06-03 06:26:09.7182|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: 
SELECT Count(*)
FROM INFORMATION_SCHEMA.TABLES AS t
WHERE t.TABLE_SCHEMA + '.' + t.TABLE_NAME IN ('dbo.AspNetRoles','dbo.AspNetUserRoles','dbo.AspNetUsers','dbo.AspNetUserClaims','dbo.AspNetUserLogins')
    OR t.TABLE_NAME = 'EdmMetadata'
2018-06-03 06:26:12.8429|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: SELECT 
    [GroupBy1].[A1] AS [C1]
    FROM ( SELECT 
        COUNT(1) AS [A1]
        FROM [dbo].[__MigrationHistory] AS [Extent1]
        WHERE [Extent1].[ContextKey] = @p__linq__0
    )  AS [GroupBy1]
2018-06-03 06:26:12.9425|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: SELECT 
    [GroupBy1].[A1] AS [C1]
    FROM ( SELECT 
        COUNT(1) AS [A1]
        FROM [dbo].[__MigrationHistory] AS [Extent1]
        WHERE [Extent1].[ContextKey] = @p__linq__0
    )  AS [GroupBy1]
2018-06-03 06:26:13.5119|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: SELECT TOP (1) 
    [Project1].[C1] AS [C1], 
    [Project1].[MigrationId] AS [MigrationId], 
    [Project1].[Model] AS [Model], 
    [Project1].[ProductVersion] AS [ProductVersion]
    FROM ( SELECT 
        [Extent1].[MigrationId] AS [MigrationId], 
        [Extent1].[Model] AS [Model], 
        [Extent1].[ProductVersion] AS [ProductVersion], 
        1 AS [C1]
        FROM [dbo].[__MigrationHistory] AS [Extent1]
        WHERE [Extent1].[ContextKey] = @p__linq__0
    )  AS [Project1]
    ORDER BY [Project1].[MigrationId] DESC
2018-06-03 06:26:13.5855|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: SELECT TOP (1) 
    [Project1].[C1] AS [C1], 
    [Project1].[MigrationId] AS [MigrationId], 
    [Project1].[Model] AS [Model], 
    [Project1].[ProductVersion] AS [ProductVersion]
    FROM ( SELECT 
        [Extent1].[MigrationId] AS [MigrationId], 
        [Extent1].[Model] AS [Model], 
        [Extent1].[ProductVersion] AS [ProductVersion], 
        1 AS [C1]
        FROM [dbo].[__MigrationHistory] AS [Extent1]
        WHERE [Extent1].[ContextKey] = @p__linq__0
    )  AS [Project1]
    ORDER BY [Project1].[MigrationId] DESC
2018-06-03 06:26:15.6855|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: True, Command Text: SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[EntityIdScope] AS [EntityIdScope], 
    [Extent1].[Email] AS [Email], 
    [Extent1].[EmailConfirmed] AS [EmailConfirmed], 
    [Extent1].[PasswordHash] AS [PasswordHash], 
    [Extent1].[SecurityStamp] AS [SecurityStamp], 
    [Extent1].[PhoneNumber] AS [PhoneNumber], 
    [Extent1].[PhoneNumberConfirmed] AS [PhoneNumberConfirmed], 
    [Extent1].[TwoFactorEnabled] AS [TwoFactorEnabled], 
    [Extent1].[LockoutEndDateUtc] AS [LockoutEndDateUtc], 
    [Extent1].[LockoutEnabled] AS [LockoutEnabled], 
    [Extent1].[AccessFailedCount] AS [AccessFailedCount], 
    [Extent1].[UserName] AS [UserName]
    FROM [dbo].[AspNetUsers] AS [Extent1]
    WHERE [Extent1].[Id] = @p0
2018-06-03 06:26:15.7240|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: True, Command Text: SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[EntityIdScope] AS [EntityIdScope], 
    [Extent1].[Email] AS [Email], 
    [Extent1].[EmailConfirmed] AS [EmailConfirmed], 
    [Extent1].[PasswordHash] AS [PasswordHash], 
    [Extent1].[SecurityStamp] AS [SecurityStamp], 
    [Extent1].[PhoneNumber] AS [PhoneNumber], 
    [Extent1].[PhoneNumberConfirmed] AS [PhoneNumberConfirmed], 
    [Extent1].[TwoFactorEnabled] AS [TwoFactorEnabled], 
    [Extent1].[LockoutEndDateUtc] AS [LockoutEndDateUtc], 
    [Extent1].[LockoutEnabled] AS [LockoutEnabled], 
    [Extent1].[AccessFailedCount] AS [AccessFailedCount], 
    [Extent1].[UserName] AS [UserName]
    FROM [dbo].[AspNetUsers] AS [Extent1]
    WHERE [Extent1].[Id] = @p0
2018-06-03 06:26:16.1624|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: True, Command Text: SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[UserId] AS [UserId], 
    [Extent1].[ClaimType] AS [ClaimType], 
    [Extent1].[ClaimValue] AS [ClaimValue]
    FROM [dbo].[AspNetUserClaims] AS [Extent1]
    WHERE [Extent1].[UserId] = @p__linq__0
2018-06-03 06:26:16.1819|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: True, Command Text: SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[UserId] AS [UserId], 
    [Extent1].[ClaimType] AS [ClaimType], 
    [Extent1].[ClaimValue] AS [ClaimValue]
    FROM [dbo].[AspNetUserClaims] AS [Extent1]
    WHERE [Extent1].[UserId] = @p__linq__0
2018-06-03 06:26:16.2839|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: True, Command Text: SELECT 
    [Extent1].[LoginProvider] AS [LoginProvider], 
    [Extent1].[ProviderKey] AS [ProviderKey], 
    [Extent1].[UserId] AS [UserId]
    FROM [dbo].[AspNetUserLogins] AS [Extent1]
    WHERE [Extent1].[UserId] = @p__linq__0
2018-06-03 06:26:16.3045|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: True, Command Text: SELECT 
    [Extent1].[LoginProvider] AS [LoginProvider], 
    [Extent1].[ProviderKey] AS [ProviderKey], 
    [Extent1].[UserId] AS [UserId]
    FROM [dbo].[AspNetUserLogins] AS [Extent1]
    WHERE [Extent1].[UserId] = @p__linq__0
2018-06-03 06:26:16.4040|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: True, Command Text: SELECT 
    [Extent1].[UserId] AS [UserId], 
    [Extent1].[RoleId] AS [RoleId]
    FROM [dbo].[AspNetUserRoles] AS [Extent1]
    WHERE [Extent1].[UserId] = @p__linq__0
2018-06-03 06:26:16.4235|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: True, Command Text: SELECT 
    [Extent1].[UserId] AS [UserId], 
    [Extent1].[RoleId] AS [RoleId]
    FROM [dbo].[AspNetUserRoles] AS [Extent1]
    WHERE [Extent1].[UserId] = @p__linq__0
2018-06-03 06:26:17.8480|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: SELECT TOP (1) 
    [Extent1].[Classification_Code] AS [Classification_Code], 
    [Extent1].[Effective_Date] AS [Effective_Date], 
    [Extent1].[Entity_ID] AS [Entity_ID], 
    [Extent1].[Industry_Code] AS [Industry_Code], 
    [Extent1].[Last_Update_Date] AS [Last_Update_Date], 
    [Extent1].[Last_Update_User] AS [Last_Update_User], 
    [Extent1].[Security_ID] AS [Security_ID]
    FROM [dbo].[Security_Classification_Industry] AS [Extent1]
    WHERE ([Extent1].[Classification_Code] = @p__linq__0) AND ([Extent1].[Entity_ID] = @p__linq__1) AND ([Extent1].[Security_ID] = @p__linq__2) AND ([Extent1].[Industry_Code] = @p__linq__3) AND ([Extent1].[Effective_Date] = @p__linq__4)
2018-06-03 06:26:17.8971|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: SELECT TOP (1) 
    [Extent1].[Classification_Code] AS [Classification_Code], 
    [Extent1].[Effective_Date] AS [Effective_Date], 
    [Extent1].[Entity_ID] AS [Entity_ID], 
    [Extent1].[Industry_Code] AS [Industry_Code], 
    [Extent1].[Last_Update_Date] AS [Last_Update_Date], 
    [Extent1].[Last_Update_User] AS [Last_Update_User], 
    [Extent1].[Security_ID] AS [Security_ID]
    FROM [dbo].[Security_Classification_Industry] AS [Extent1]
    WHERE ([Extent1].[Classification_Code] = @p__linq__0) AND ([Extent1].[Entity_ID] = @p__linq__1) AND ([Extent1].[Security_ID] = @p__linq__2) AND ([Extent1].[Industry_Code] = @p__linq__3) AND ([Extent1].[Effective_Date] = @p__linq__4)
2018-06-03 06:26:18.0452|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: SELECT 
    [Project1].[Classification_Code] AS [Classification_Code], 
    [Project1].[Description] AS [Description], 
    [Project1].[Entity_ID] AS [Entity_ID], 
    [Project1].[Last_Update_Date] AS [Last_Update_Date], 
    [Project1].[Last_Update_User] AS [Last_Update_User], 
    [Project1].[System_Locked] AS [System_Locked]
    FROM ( SELECT 
        [Extent1].[Classification_Code] AS [Classification_Code], 
        [Extent1].[Description] AS [Description], 
        [Extent1].[Entity_ID] AS [Entity_ID], 
        [Extent1].[Last_Update_Date] AS [Last_Update_Date], 
        [Extent1].[Last_Update_User] AS [Last_Update_User], 
        [Extent1].[System_Locked] AS [System_Locked]
        FROM [dbo].[Classification] AS [Extent1]
        WHERE [Extent1].[Entity_ID] = @p__linq__0
    )  AS [Project1]
    ORDER BY [Project1].[Classification_Code] ASC
2018-06-03 06:26:18.0642|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: SELECT 
    [Project1].[Classification_Code] AS [Classification_Code], 
    [Project1].[Description] AS [Description], 
    [Project1].[Entity_ID] AS [Entity_ID], 
    [Project1].[Last_Update_Date] AS [Last_Update_Date], 
    [Project1].[Last_Update_User] AS [Last_Update_User], 
    [Project1].[System_Locked] AS [System_Locked]
    FROM ( SELECT 
        [Extent1].[Classification_Code] AS [Classification_Code], 
        [Extent1].[Description] AS [Description], 
        [Extent1].[Entity_ID] AS [Entity_ID], 
        [Extent1].[Last_Update_Date] AS [Last_Update_Date], 
        [Extent1].[Last_Update_User] AS [Last_Update_User], 
        [Extent1].[System_Locked] AS [System_Locked]
        FROM [dbo].[Classification] AS [Extent1]
        WHERE [Extent1].[Entity_ID] = @p__linq__0
    )  AS [Project1]
    ORDER BY [Project1].[Classification_Code] ASC
2018-06-03 06:26:18.1638|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: SELECT 
    [Project1].[Classification_Code] AS [Classification_Code], 
    [Project1].[Description] AS [Description], 
    [Project1].[Industry_Code] AS [Industry_Code], 
    [Project1].[Entity_ID] AS [Entity_ID], 
    [Project1].[Last_Update_Date] AS [Last_Update_Date], 
    [Project1].[Last_Update_User] AS [Last_Update_User], 
    [Project1].[System_Locked] AS [System_Locked]
    FROM ( SELECT 
        [Extent1].[Classification_Code] AS [Classification_Code], 
        [Extent1].[Description] AS [Description], 
        [Extent1].[Industry_Code] AS [Industry_Code], 
        [Extent1].[Entity_ID] AS [Entity_ID], 
        [Extent1].[Last_Update_Date] AS [Last_Update_Date], 
        [Extent1].[Last_Update_User] AS [Last_Update_User], 
        [Extent1].[System_Locked] AS [System_Locked]
        FROM [dbo].[Classification_Industry] AS [Extent1]
        WHERE ([Extent1].[Entity_ID] = @p__linq__0) AND ((CASE WHEN ( NOT ((N'' = @p__linq__1) AND (@p__linq__1 IS NOT NULL))) THEN CASE WHEN ([Extent1].[Classification_Code] = @p__linq__2) THEN cast(1 as bit) WHEN ( NOT (([Extent1].[Classification_Code] = @p__linq__2) AND (0 = (CASE WHEN (@p__linq__2 IS NULL) THEN cast(1 as bit) ELSE cast(0 as bit) END)))) THEN cast(0 as bit) END WHEN ('' <> [Extent1].[Classification_Code]) THEN cast(1 as bit) WHEN ('' = [Extent1].[Classification_Code]) THEN cast(0 as bit) END) = 1)
    )  AS [Project1]
    ORDER BY [Project1].[Description] ASC
2018-06-03 06:26:18.1818|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: SELECT 
    [Project1].[Classification_Code] AS [Classification_Code], 
    [Project1].[Description] AS [Description], 
    [Project1].[Industry_Code] AS [Industry_Code], 
    [Project1].[Entity_ID] AS [Entity_ID], 
    [Project1].[Last_Update_Date] AS [Last_Update_Date], 
    [Project1].[Last_Update_User] AS [Last_Update_User], 
    [Project1].[System_Locked] AS [System_Locked]
    FROM ( SELECT 
        [Extent1].[Classification_Code] AS [Classification_Code], 
        [Extent1].[Description] AS [Description], 
        [Extent1].[Industry_Code] AS [Industry_Code], 
        [Extent1].[Entity_ID] AS [Entity_ID], 
        [Extent1].[Last_Update_Date] AS [Last_Update_Date], 
        [Extent1].[Last_Update_User] AS [Last_Update_User], 
        [Extent1].[System_Locked] AS [System_Locked]
        FROM [dbo].[Classification_Industry] AS [Extent1]
        WHERE ([Extent1].[Entity_ID] = @p__linq__0) AND ((CASE WHEN ( NOT ((N'' = @p__linq__1) AND (@p__linq__1 IS NOT NULL))) THEN CASE WHEN ([Extent1].[Classification_Code] = @p__linq__2) THEN cast(1 as bit) WHEN ( NOT (([Extent1].[Classification_Code] = @p__linq__2) AND (0 = (CASE WHEN (@p__linq__2 IS NULL) THEN cast(1 as bit) ELSE cast(0 as bit) END)))) THEN cast(0 as bit) END WHEN ('' <> [Extent1].[Classification_Code]) THEN cast(1 as bit) WHEN ('' = [Extent1].[Classification_Code]) THEN cast(0 as bit) END) = 1)
    )  AS [Project1]
    ORDER BY [Project1].[Description] ASC
2018-06-03 06:26:21.3205|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: SELECT 
    [Extent1].[Security_ID] AS [Security_ID], 
    [Extent1].[Entity_ID] AS [Entity_ID], 
    [Extent1].[Security_Name] AS [Security_Name], 
    [Extent1].[Short_Name] AS [Short_Name], 
    [Extent1].[Primary_Exch] AS [Primary_Exch], 
    [Extent1].[Secondary_Exch] AS [Secondary_Exch], 
    [Extent1].[Country_Of_Domicile] AS [Country_Of_Domicile], 
    [Extent1].[Country_Of_Risk] AS [Country_Of_Risk], 
    [Extent1].[Security_Type_Code] AS [Security_Type_Code], 
    [Extent1].[Price_Multiplier] AS [Price_Multiplier], 
    [Extent1].[Income_Frequency] AS [Income_Frequency], 
    [Extent1].[Issuer_Code] AS [Issuer_Code], 
    [Extent1].[Ultimate_Issuer_Code] AS [Ultimate_Issuer_Code], 
    [Extent1].[Asset_Currency] AS [Asset_Currency], 
    [Extent1].[Min_Lot_Size] AS [Min_Lot_Size], 
    [Extent1].[Decimal_Precision] AS [Decimal_Precision], 
    [Extent1].[AvePrice_Rounding] AS [AvePrice_Rounding], 
    [Extent1].[Issue_Date] AS [Issue_Date], 
    [Extent1].[Maturity_Date] AS [Maturity_Date], 
    [Extent1].[Coupon_Rate] AS [Coupon_Rate], 
    [Extent1].[Price_Exchange] AS [Price_Exchange], 
    [Extent1].[Trade_Currency] AS [Trade_Currency], 
    [Extent1].[Price_Curr] AS [Price_Curr], 
    [Extent1].[Currency_Pair_Code] AS [Currency_Pair_Code], 
    [Extent1].[Share_Class] AS [Share_Class], 
    [Extent1].[Current_Market_Price] AS [Current_Market_Price], 
    [Extent1].[Index_Type] AS [Index_Type], 
    [Extent1].[Clean_Price_Formula] AS [Clean_Price_Formula], 
    [Extent1].[Accrued_Income_Price_Formula] AS [Accrued_Income_Price_Formula], 
    [Extent1].[Odd_First_Coupon_Date] AS [Odd_First_Coupon_Date], 
    [Extent1].[Odd_Last_Coupon_Date] AS [Odd_Last_Coupon_Date], 
    [Extent1].[Coupon_Anniversary_Indicator] AS [Coupon_Anniversary_Indicator], 
    [Extent1].[Track_EOM_Flag] AS [Track_EOM_Flag], 
    [Extent1].[Next_Coupon_Date] AS [Next_Coupon_Date], 
    [Extent1].[Previous_Coupon_Date] AS [Previous_Coupon_Date], 
    [Extent1].[Payment_Frequency] AS [Payment_Frequency], 
    [Extent1].[Coupon_BusDay_Adjustment] AS [Coupon_BusDay_Adjustment], 
    [Extent1].[Next_Ex_Div_Date] AS [Next_Ex_Div_Date], 
    [Extent1].[Ex_Div_BusDay_Adjustment] AS [Ex_Div_BusDay_Adjustment], 
    [Extent1].[Ex_Div_Period] AS [Ex_Div_Period], 
    [Extent1].[Ticker] AS [Ticker], 
    [Extent1].[Inet_ID] AS [Inet_ID], 
    [Extent1].[Bloomberg_ID] AS [Bloomberg_ID], 
    [Extent1].[External_Sec_ID] AS [External_Sec_ID], 
    [Extent1].[Reuters_ID] AS [Reuters_ID], 
    [Extent1].[ISIN] AS [ISIN], 
    [Extent1].[Call_Account_Flag] AS [Call_Account_Flag], 
    [Extent1].[System_Locked] AS [System_Locked], 
    [Extent1].[Last_Update_User] AS [Last_Update_User], 
    [Extent1].[Last_Update_Date] AS [Last_Update_Date], 
    [Extent1].[Security_Status] AS [Security_Status], 
    [Extent1].[Benchmark_Portfolio] AS [Benchmark_Portfolio], 
    [Extent1].[Active_flag] AS [Active_flag], 
    [Extent1].[Dividend_FX_Security_ID] AS [Dividend_FX_Security_ID]
    FROM [dbo].[Security_Detail] AS [Extent1]
    WHERE [Extent1].[Security_ID] = @EntityKeyValue1
2018-06-03 06:26:21.3400|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: SELECT 
    [Extent1].[Security_ID] AS [Security_ID], 
    [Extent1].[Entity_ID] AS [Entity_ID], 
    [Extent1].[Security_Name] AS [Security_Name], 
    [Extent1].[Short_Name] AS [Short_Name], 
    [Extent1].[Primary_Exch] AS [Primary_Exch], 
    [Extent1].[Secondary_Exch] AS [Secondary_Exch], 
    [Extent1].[Country_Of_Domicile] AS [Country_Of_Domicile], 
    [Extent1].[Country_Of_Risk] AS [Country_Of_Risk], 
    [Extent1].[Security_Type_Code] AS [Security_Type_Code], 
    [Extent1].[Price_Multiplier] AS [Price_Multiplier], 
    [Extent1].[Income_Frequency] AS [Income_Frequency], 
    [Extent1].[Issuer_Code] AS [Issuer_Code], 
    [Extent1].[Ultimate_Issuer_Code] AS [Ultimate_Issuer_Code], 
    [Extent1].[Asset_Currency] AS [Asset_Currency], 
    [Extent1].[Min_Lot_Size] AS [Min_Lot_Size], 
    [Extent1].[Decimal_Precision] AS [Decimal_Precision], 
    [Extent1].[AvePrice_Rounding] AS [AvePrice_Rounding], 
    [Extent1].[Issue_Date] AS [Issue_Date], 
    [Extent1].[Maturity_Date] AS [Maturity_Date], 
    [Extent1].[Coupon_Rate] AS [Coupon_Rate], 
    [Extent1].[Price_Exchange] AS [Price_Exchange], 
    [Extent1].[Trade_Currency] AS [Trade_Currency], 
    [Extent1].[Price_Curr] AS [Price_Curr], 
    [Extent1].[Currency_Pair_Code] AS [Currency_Pair_Code], 
    [Extent1].[Share_Class] AS [Share_Class], 
    [Extent1].[Current_Market_Price] AS [Current_Market_Price], 
    [Extent1].[Index_Type] AS [Index_Type], 
    [Extent1].[Clean_Price_Formula] AS [Clean_Price_Formula], 
    [Extent1].[Accrued_Income_Price_Formula] AS [Accrued_Income_Price_Formula], 
    [Extent1].[Odd_First_Coupon_Date] AS [Odd_First_Coupon_Date], 
    [Extent1].[Odd_Last_Coupon_Date] AS [Odd_Last_Coupon_Date], 
    [Extent1].[Coupon_Anniversary_Indicator] AS [Coupon_Anniversary_Indicator], 
    [Extent1].[Track_EOM_Flag] AS [Track_EOM_Flag], 
    [Extent1].[Next_Coupon_Date] AS [Next_Coupon_Date], 
    [Extent1].[Previous_Coupon_Date] AS [Previous_Coupon_Date], 
    [Extent1].[Payment_Frequency] AS [Payment_Frequency], 
    [Extent1].[Coupon_BusDay_Adjustment] AS [Coupon_BusDay_Adjustment], 
    [Extent1].[Next_Ex_Div_Date] AS [Next_Ex_Div_Date], 
    [Extent1].[Ex_Div_BusDay_Adjustment] AS [Ex_Div_BusDay_Adjustment], 
    [Extent1].[Ex_Div_Period] AS [Ex_Div_Period], 
    [Extent1].[Ticker] AS [Ticker], 
    [Extent1].[Inet_ID] AS [Inet_ID], 
    [Extent1].[Bloomberg_ID] AS [Bloomberg_ID], 
    [Extent1].[External_Sec_ID] AS [External_Sec_ID], 
    [Extent1].[Reuters_ID] AS [Reuters_ID], 
    [Extent1].[ISIN] AS [ISIN], 
    [Extent1].[Call_Account_Flag] AS [Call_Account_Flag], 
    [Extent1].[System_Locked] AS [System_Locked], 
    [Extent1].[Last_Update_User] AS [Last_Update_User], 
    [Extent1].[Last_Update_Date] AS [Last_Update_Date], 
    [Extent1].[Security_Status] AS [Security_Status], 
    [Extent1].[Benchmark_Portfolio] AS [Benchmark_Portfolio], 
    [Extent1].[Active_flag] AS [Active_flag], 
    [Extent1].[Dividend_FX_Security_ID] AS [Dividend_FX_Security_ID]
    FROM [dbo].[Security_Detail] AS [Extent1]
    WHERE [Extent1].[Security_ID] = @EntityKeyValue1
2018-06-03 06:26:37.8448|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: IF db_id(N'MetopeAzureDb') IS NOT NULL SELECT 1 ELSE SELECT Count(*) FROM sys.databases WHERE [name]=N'MetopeAzureDb'
2018-06-03 06:26:37.8949|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: IF db_id(N'MetopeAzureDb') IS NOT NULL SELECT 1 ELSE SELECT Count(*) FROM sys.databases WHERE [name]=N'MetopeAzureDb'
2018-06-03 06:26:37.9199|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: IF db_id(N'MetopeAzureDb') IS NOT NULL SELECT 1 ELSE SELECT Count(*) FROM sys.databases WHERE [name]=N'MetopeAzureDb'
2018-06-03 06:26:37.9729|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: IF db_id(N'MetopeAzureDb') IS NOT NULL SELECT 1 ELSE SELECT Count(*) FROM sys.databases WHERE [name]=N'MetopeAzureDb'
2018-06-03 06:26:38.0250|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: True, Command Text: SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[EntityIdScope] AS [EntityIdScope], 
    [Extent1].[Email] AS [Email], 
    [Extent1].[EmailConfirmed] AS [EmailConfirmed], 
    [Extent1].[PasswordHash] AS [PasswordHash], 
    [Extent1].[SecurityStamp] AS [SecurityStamp], 
    [Extent1].[PhoneNumber] AS [PhoneNumber], 
    [Extent1].[PhoneNumberConfirmed] AS [PhoneNumberConfirmed], 
    [Extent1].[TwoFactorEnabled] AS [TwoFactorEnabled], 
    [Extent1].[LockoutEndDateUtc] AS [LockoutEndDateUtc], 
    [Extent1].[LockoutEnabled] AS [LockoutEnabled], 
    [Extent1].[AccessFailedCount] AS [AccessFailedCount], 
    [Extent1].[UserName] AS [UserName]
    FROM [dbo].[AspNetUsers] AS [Extent1]
    WHERE [Extent1].[Id] = @p0
2018-06-03 06:26:38.0850|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: True, Command Text: SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[EntityIdScope] AS [EntityIdScope], 
    [Extent1].[Email] AS [Email], 
    [Extent1].[EmailConfirmed] AS [EmailConfirmed], 
    [Extent1].[PasswordHash] AS [PasswordHash], 
    [Extent1].[SecurityStamp] AS [SecurityStamp], 
    [Extent1].[PhoneNumber] AS [PhoneNumber], 
    [Extent1].[PhoneNumberConfirmed] AS [PhoneNumberConfirmed], 
    [Extent1].[TwoFactorEnabled] AS [TwoFactorEnabled], 
    [Extent1].[LockoutEndDateUtc] AS [LockoutEndDateUtc], 
    [Extent1].[LockoutEnabled] AS [LockoutEnabled], 
    [Extent1].[AccessFailedCount] AS [AccessFailedCount], 
    [Extent1].[UserName] AS [UserName]
    FROM [dbo].[AspNetUsers] AS [Extent1]
    WHERE [Extent1].[Id] = @p0
2018-06-03 06:26:38.1020|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: True, Command Text: SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[UserId] AS [UserId], 
    [Extent1].[ClaimType] AS [ClaimType], 
    [Extent1].[ClaimValue] AS [ClaimValue]
    FROM [dbo].[AspNetUserClaims] AS [Extent1]
    WHERE [Extent1].[UserId] = @p__linq__0
2018-06-03 06:26:38.1390|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: True, Command Text: SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[UserId] AS [UserId], 
    [Extent1].[ClaimType] AS [ClaimType], 
    [Extent1].[ClaimValue] AS [ClaimValue]
    FROM [dbo].[AspNetUserClaims] AS [Extent1]
    WHERE [Extent1].[UserId] = @p__linq__0
2018-06-03 06:26:38.1551|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: True, Command Text: SELECT 
    [Extent1].[LoginProvider] AS [LoginProvider], 
    [Extent1].[ProviderKey] AS [ProviderKey], 
    [Extent1].[UserId] AS [UserId]
    FROM [dbo].[AspNetUserLogins] AS [Extent1]
    WHERE [Extent1].[UserId] = @p__linq__0
2018-06-03 06:26:38.1921|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: True, Command Text: SELECT 
    [Extent1].[LoginProvider] AS [LoginProvider], 
    [Extent1].[ProviderKey] AS [ProviderKey], 
    [Extent1].[UserId] AS [UserId]
    FROM [dbo].[AspNetUserLogins] AS [Extent1]
    WHERE [Extent1].[UserId] = @p__linq__0
2018-06-03 06:26:38.2086|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: True, Command Text: SELECT 
    [Extent1].[UserId] AS [UserId], 
    [Extent1].[RoleId] AS [RoleId]
    FROM [dbo].[AspNetUserRoles] AS [Extent1]
    WHERE [Extent1].[UserId] = @p__linq__0
2018-06-03 06:26:38.2316|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: True, Command Text: SELECT 
    [Extent1].[UserId] AS [UserId], 
    [Extent1].[RoleId] AS [RoleId]
    FROM [dbo].[AspNetUserRoles] AS [Extent1]
    WHERE [Extent1].[UserId] = @p__linq__0
2018-06-03 06:26:38.3662|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: SELECT TOP (2) 
    [Extent1].[Entity_ID] AS [Entity_ID], 
    [Extent1].[Entity_Code] AS [Entity_Code], 
    [Extent1].[Entity_Name] AS [Entity_Name], 
    [Extent1].[Import_Folder] AS [Import_Folder], 
    [Extent1].[Export_Folder] AS [Export_Folder]
    FROM [dbo].[Entity] AS [Extent1]
    WHERE [Extent1].[Entity_ID] = @p0
2018-06-03 06:26:38.6159|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: SELECT TOP (2) 
    [Extent1].[Entity_ID] AS [Entity_ID], 
    [Extent1].[Entity_Code] AS [Entity_Code], 
    [Extent1].[Entity_Name] AS [Entity_Name], 
    [Extent1].[Import_Folder] AS [Import_Folder], 
    [Extent1].[Export_Folder] AS [Export_Folder]
    FROM [dbo].[Entity] AS [Extent1]
    WHERE [Extent1].[Entity_ID] = @p0
2018-06-03 06:27:10.9162|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: SELECT 
    [Project1].[Classification_Code] AS [Classification_Code], 
    [Project1].[Effective_Date] AS [Effective_Date], 
    [Project1].[Entity_ID] AS [Entity_ID], 
    [Project1].[Industry_Code] AS [Industry_Code], 
    [Project1].[Last_Update_Date] AS [Last_Update_Date], 
    [Project1].[Last_Update_User] AS [Last_Update_User], 
    [Project1].[Security_ID] AS [Security_ID]
    FROM ( SELECT 
        [Extent1].[Classification_Code] AS [Classification_Code], 
        [Extent1].[Effective_Date] AS [Effective_Date], 
        [Extent1].[Entity_ID] AS [Entity_ID], 
        [Extent1].[Industry_Code] AS [Industry_Code], 
        [Extent1].[Last_Update_Date] AS [Last_Update_Date], 
        [Extent1].[Last_Update_User] AS [Last_Update_User], 
        [Extent1].[Security_ID] AS [Security_ID]
        FROM [dbo].[Security_Classification_Industry] AS [Extent1]
        WHERE ([Extent1].[Entity_ID] = @p__linq__0) AND ([Extent1].[Security_ID] = @p__linq__1)
    )  AS [Project1]
    ORDER BY [Project1].[Security_ID] ASC, [Project1].[Effective_Date] DESC, [Project1].[Classification_Code] ASC
2018-06-03 06:27:10.9547|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: SELECT 
    [Project1].[Classification_Code] AS [Classification_Code], 
    [Project1].[Effective_Date] AS [Effective_Date], 
    [Project1].[Entity_ID] AS [Entity_ID], 
    [Project1].[Industry_Code] AS [Industry_Code], 
    [Project1].[Last_Update_Date] AS [Last_Update_Date], 
    [Project1].[Last_Update_User] AS [Last_Update_User], 
    [Project1].[Security_ID] AS [Security_ID]
    FROM ( SELECT 
        [Extent1].[Classification_Code] AS [Classification_Code], 
        [Extent1].[Effective_Date] AS [Effective_Date], 
        [Extent1].[Entity_ID] AS [Entity_ID], 
        [Extent1].[Industry_Code] AS [Industry_Code], 
        [Extent1].[Last_Update_Date] AS [Last_Update_Date], 
        [Extent1].[Last_Update_User] AS [Last_Update_User], 
        [Extent1].[Security_ID] AS [Security_ID]
        FROM [dbo].[Security_Classification_Industry] AS [Extent1]
        WHERE ([Extent1].[Entity_ID] = @p__linq__0) AND ([Extent1].[Security_ID] = @p__linq__1)
    )  AS [Project1]
    ORDER BY [Project1].[Security_ID] ASC, [Project1].[Effective_Date] DESC, [Project1].[Classification_Code] ASC
2018-06-03 06:27:11.0318|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: SELECT 
    [Extent1].[Security_ID] AS [Security_ID], 
    [Extent1].[Entity_ID] AS [Entity_ID], 
    [Extent1].[Security_Name] AS [Security_Name], 
    [Extent1].[Short_Name] AS [Short_Name], 
    [Extent1].[Primary_Exch] AS [Primary_Exch], 
    [Extent1].[Secondary_Exch] AS [Secondary_Exch], 
    [Extent1].[Country_Of_Domicile] AS [Country_Of_Domicile], 
    [Extent1].[Country_Of_Risk] AS [Country_Of_Risk], 
    [Extent1].[Security_Type_Code] AS [Security_Type_Code], 
    [Extent1].[Price_Multiplier] AS [Price_Multiplier], 
    [Extent1].[Income_Frequency] AS [Income_Frequency], 
    [Extent1].[Issuer_Code] AS [Issuer_Code], 
    [Extent1].[Ultimate_Issuer_Code] AS [Ultimate_Issuer_Code], 
    [Extent1].[Asset_Currency] AS [Asset_Currency], 
    [Extent1].[Min_Lot_Size] AS [Min_Lot_Size], 
    [Extent1].[Decimal_Precision] AS [Decimal_Precision], 
    [Extent1].[AvePrice_Rounding] AS [AvePrice_Rounding], 
    [Extent1].[Issue_Date] AS [Issue_Date], 
    [Extent1].[Maturity_Date] AS [Maturity_Date], 
    [Extent1].[Coupon_Rate] AS [Coupon_Rate], 
    [Extent1].[Price_Exchange] AS [Price_Exchange], 
    [Extent1].[Trade_Currency] AS [Trade_Currency], 
    [Extent1].[Price_Curr] AS [Price_Curr], 
    [Extent1].[Currency_Pair_Code] AS [Currency_Pair_Code], 
    [Extent1].[Share_Class] AS [Share_Class], 
    [Extent1].[Current_Market_Price] AS [Current_Market_Price], 
    [Extent1].[Index_Type] AS [Index_Type], 
    [Extent1].[Clean_Price_Formula] AS [Clean_Price_Formula], 
    [Extent1].[Accrued_Income_Price_Formula] AS [Accrued_Income_Price_Formula], 
    [Extent1].[Odd_First_Coupon_Date] AS [Odd_First_Coupon_Date], 
    [Extent1].[Odd_Last_Coupon_Date] AS [Odd_Last_Coupon_Date], 
    [Extent1].[Coupon_Anniversary_Indicator] AS [Coupon_Anniversary_Indicator], 
    [Extent1].[Track_EOM_Flag] AS [Track_EOM_Flag], 
    [Extent1].[Next_Coupon_Date] AS [Next_Coupon_Date], 
    [Extent1].[Previous_Coupon_Date] AS [Previous_Coupon_Date], 
    [Extent1].[Payment_Frequency] AS [Payment_Frequency], 
    [Extent1].[Coupon_BusDay_Adjustment] AS [Coupon_BusDay_Adjustment], 
    [Extent1].[Next_Ex_Div_Date] AS [Next_Ex_Div_Date], 
    [Extent1].[Ex_Div_BusDay_Adjustment] AS [Ex_Div_BusDay_Adjustment], 
    [Extent1].[Ex_Div_Period] AS [Ex_Div_Period], 
    [Extent1].[Ticker] AS [Ticker], 
    [Extent1].[Inet_ID] AS [Inet_ID], 
    [Extent1].[Bloomberg_ID] AS [Bloomberg_ID], 
    [Extent1].[External_Sec_ID] AS [External_Sec_ID], 
    [Extent1].[Reuters_ID] AS [Reuters_ID], 
    [Extent1].[ISIN] AS [ISIN], 
    [Extent1].[Call_Account_Flag] AS [Call_Account_Flag], 
    [Extent1].[System_Locked] AS [System_Locked], 
    [Extent1].[Last_Update_User] AS [Last_Update_User], 
    [Extent1].[Last_Update_Date] AS [Last_Update_Date], 
    [Extent1].[Security_Status] AS [Security_Status], 
    [Extent1].[Benchmark_Portfolio] AS [Benchmark_Portfolio], 
    [Extent1].[Active_flag] AS [Active_flag], 
    [Extent1].[Dividend_FX_Security_ID] AS [Dividend_FX_Security_ID]
    FROM [dbo].[Security_Detail] AS [Extent1]
    WHERE [Extent1].[Security_ID] = @EntityKeyValue1
2018-06-03 06:27:11.0908|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: SELECT 
    [Extent1].[Security_ID] AS [Security_ID], 
    [Extent1].[Entity_ID] AS [Entity_ID], 
    [Extent1].[Security_Name] AS [Security_Name], 
    [Extent1].[Short_Name] AS [Short_Name], 
    [Extent1].[Primary_Exch] AS [Primary_Exch], 
    [Extent1].[Secondary_Exch] AS [Secondary_Exch], 
    [Extent1].[Country_Of_Domicile] AS [Country_Of_Domicile], 
    [Extent1].[Country_Of_Risk] AS [Country_Of_Risk], 
    [Extent1].[Security_Type_Code] AS [Security_Type_Code], 
    [Extent1].[Price_Multiplier] AS [Price_Multiplier], 
    [Extent1].[Income_Frequency] AS [Income_Frequency], 
    [Extent1].[Issuer_Code] AS [Issuer_Code], 
    [Extent1].[Ultimate_Issuer_Code] AS [Ultimate_Issuer_Code], 
    [Extent1].[Asset_Currency] AS [Asset_Currency], 
    [Extent1].[Min_Lot_Size] AS [Min_Lot_Size], 
    [Extent1].[Decimal_Precision] AS [Decimal_Precision], 
    [Extent1].[AvePrice_Rounding] AS [AvePrice_Rounding], 
    [Extent1].[Issue_Date] AS [Issue_Date], 
    [Extent1].[Maturity_Date] AS [Maturity_Date], 
    [Extent1].[Coupon_Rate] AS [Coupon_Rate], 
    [Extent1].[Price_Exchange] AS [Price_Exchange], 
    [Extent1].[Trade_Currency] AS [Trade_Currency], 
    [Extent1].[Price_Curr] AS [Price_Curr], 
    [Extent1].[Currency_Pair_Code] AS [Currency_Pair_Code], 
    [Extent1].[Share_Class] AS [Share_Class], 
    [Extent1].[Current_Market_Price] AS [Current_Market_Price], 
    [Extent1].[Index_Type] AS [Index_Type], 
    [Extent1].[Clean_Price_Formula] AS [Clean_Price_Formula], 
    [Extent1].[Accrued_Income_Price_Formula] AS [Accrued_Income_Price_Formula], 
    [Extent1].[Odd_First_Coupon_Date] AS [Odd_First_Coupon_Date], 
    [Extent1].[Odd_Last_Coupon_Date] AS [Odd_Last_Coupon_Date], 
    [Extent1].[Coupon_Anniversary_Indicator] AS [Coupon_Anniversary_Indicator], 
    [Extent1].[Track_EOM_Flag] AS [Track_EOM_Flag], 
    [Extent1].[Next_Coupon_Date] AS [Next_Coupon_Date], 
    [Extent1].[Previous_Coupon_Date] AS [Previous_Coupon_Date], 
    [Extent1].[Payment_Frequency] AS [Payment_Frequency], 
    [Extent1].[Coupon_BusDay_Adjustment] AS [Coupon_BusDay_Adjustment], 
    [Extent1].[Next_Ex_Div_Date] AS [Next_Ex_Div_Date], 
    [Extent1].[Ex_Div_BusDay_Adjustment] AS [Ex_Div_BusDay_Adjustment], 
    [Extent1].[Ex_Div_Period] AS [Ex_Div_Period], 
    [Extent1].[Ticker] AS [Ticker], 
    [Extent1].[Inet_ID] AS [Inet_ID], 
    [Extent1].[Bloomberg_ID] AS [Bloomberg_ID], 
    [Extent1].[External_Sec_ID] AS [External_Sec_ID], 
    [Extent1].[Reuters_ID] AS [Reuters_ID], 
    [Extent1].[ISIN] AS [ISIN], 
    [Extent1].[Call_Account_Flag] AS [Call_Account_Flag], 
    [Extent1].[System_Locked] AS [System_Locked], 
    [Extent1].[Last_Update_User] AS [Last_Update_User], 
    [Extent1].[Last_Update_Date] AS [Last_Update_Date], 
    [Extent1].[Security_Status] AS [Security_Status], 
    [Extent1].[Benchmark_Portfolio] AS [Benchmark_Portfolio], 
    [Extent1].[Active_flag] AS [Active_flag], 
    [Extent1].[Dividend_FX_Security_ID] AS [Dividend_FX_Security_ID]
    FROM [dbo].[Security_Detail] AS [Extent1]
    WHERE [Extent1].[Security_ID] = @EntityKeyValue1
2018-06-03 06:27:12.0080|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: IF db_id(N'MetopeAzureDb') IS NOT NULL SELECT 1 ELSE SELECT Count(*) FROM sys.databases WHERE [name]=N'MetopeAzureDb'
2018-06-03 06:27:12.2031|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: IF db_id(N'MetopeAzureDb') IS NOT NULL SELECT 1 ELSE SELECT Count(*) FROM sys.databases WHERE [name]=N'MetopeAzureDb'
2018-06-03 06:27:12.3507|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: IF db_id(N'MetopeAzureDb') IS NOT NULL SELECT 1 ELSE SELECT Count(*) FROM sys.databases WHERE [name]=N'MetopeAzureDb'
2018-06-03 06:27:12.3888|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: IF db_id(N'MetopeAzureDb') IS NOT NULL SELECT 1 ELSE SELECT Count(*) FROM sys.databases WHERE [name]=N'MetopeAzureDb'
2018-06-03 06:27:20.6424|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: SELECT 
    [Project1].[Classification_Code] AS [Classification_Code], 
    [Project1].[Effective_Date] AS [Effective_Date], 
    [Project1].[Entity_ID] AS [Entity_ID], 
    [Project1].[Industry_Code] AS [Industry_Code], 
    [Project1].[Last_Update_Date] AS [Last_Update_Date], 
    [Project1].[Last_Update_User] AS [Last_Update_User], 
    [Project1].[Security_ID] AS [Security_ID]
    FROM ( SELECT 
        [Extent1].[Classification_Code] AS [Classification_Code], 
        [Extent1].[Effective_Date] AS [Effective_Date], 
        [Extent1].[Entity_ID] AS [Entity_ID], 
        [Extent1].[Industry_Code] AS [Industry_Code], 
        [Extent1].[Last_Update_Date] AS [Last_Update_Date], 
        [Extent1].[Last_Update_User] AS [Last_Update_User], 
        [Extent1].[Security_ID] AS [Security_ID]
        FROM [dbo].[Security_Classification_Industry] AS [Extent1]
        WHERE ([Extent1].[Entity_ID] = @p__linq__0) AND ([Extent1].[Security_ID] = @p__linq__1)
    )  AS [Project1]
    ORDER BY [Project1].[Security_ID] ASC, [Project1].[Effective_Date] DESC, [Project1].[Classification_Code] ASC
2018-06-03 06:27:20.7279|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: SELECT 
    [Project1].[Classification_Code] AS [Classification_Code], 
    [Project1].[Effective_Date] AS [Effective_Date], 
    [Project1].[Entity_ID] AS [Entity_ID], 
    [Project1].[Industry_Code] AS [Industry_Code], 
    [Project1].[Last_Update_Date] AS [Last_Update_Date], 
    [Project1].[Last_Update_User] AS [Last_Update_User], 
    [Project1].[Security_ID] AS [Security_ID]
    FROM ( SELECT 
        [Extent1].[Classification_Code] AS [Classification_Code], 
        [Extent1].[Effective_Date] AS [Effective_Date], 
        [Extent1].[Entity_ID] AS [Entity_ID], 
        [Extent1].[Industry_Code] AS [Industry_Code], 
        [Extent1].[Last_Update_Date] AS [Last_Update_Date], 
        [Extent1].[Last_Update_User] AS [Last_Update_User], 
        [Extent1].[Security_ID] AS [Security_ID]
        FROM [dbo].[Security_Classification_Industry] AS [Extent1]
        WHERE ([Extent1].[Entity_ID] = @p__linq__0) AND ([Extent1].[Security_ID] = @p__linq__1)
    )  AS [Project1]
    ORDER BY [Project1].[Security_ID] ASC, [Project1].[Effective_Date] DESC, [Project1].[Classification_Code] ASC
2018-06-03 06:27:20.7900|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: SELECT 
    [Extent1].[Security_ID] AS [Security_ID], 
    [Extent1].[Entity_ID] AS [Entity_ID], 
    [Extent1].[Security_Name] AS [Security_Name], 
    [Extent1].[Short_Name] AS [Short_Name], 
    [Extent1].[Primary_Exch] AS [Primary_Exch], 
    [Extent1].[Secondary_Exch] AS [Secondary_Exch], 
    [Extent1].[Country_Of_Domicile] AS [Country_Of_Domicile], 
    [Extent1].[Country_Of_Risk] AS [Country_Of_Risk], 
    [Extent1].[Security_Type_Code] AS [Security_Type_Code], 
    [Extent1].[Price_Multiplier] AS [Price_Multiplier], 
    [Extent1].[Income_Frequency] AS [Income_Frequency], 
    [Extent1].[Issuer_Code] AS [Issuer_Code], 
    [Extent1].[Ultimate_Issuer_Code] AS [Ultimate_Issuer_Code], 
    [Extent1].[Asset_Currency] AS [Asset_Currency], 
    [Extent1].[Min_Lot_Size] AS [Min_Lot_Size], 
    [Extent1].[Decimal_Precision] AS [Decimal_Precision], 
    [Extent1].[AvePrice_Rounding] AS [AvePrice_Rounding], 
    [Extent1].[Issue_Date] AS [Issue_Date], 
    [Extent1].[Maturity_Date] AS [Maturity_Date], 
    [Extent1].[Coupon_Rate] AS [Coupon_Rate], 
    [Extent1].[Price_Exchange] AS [Price_Exchange], 
    [Extent1].[Trade_Currency] AS [Trade_Currency], 
    [Extent1].[Price_Curr] AS [Price_Curr], 
    [Extent1].[Currency_Pair_Code] AS [Currency_Pair_Code], 
    [Extent1].[Share_Class] AS [Share_Class], 
    [Extent1].[Current_Market_Price] AS [Current_Market_Price], 
    [Extent1].[Index_Type] AS [Index_Type], 
    [Extent1].[Clean_Price_Formula] AS [Clean_Price_Formula], 
    [Extent1].[Accrued_Income_Price_Formula] AS [Accrued_Income_Price_Formula], 
    [Extent1].[Odd_First_Coupon_Date] AS [Odd_First_Coupon_Date], 
    [Extent1].[Odd_Last_Coupon_Date] AS [Odd_Last_Coupon_Date], 
    [Extent1].[Coupon_Anniversary_Indicator] AS [Coupon_Anniversary_Indicator], 
    [Extent1].[Track_EOM_Flag] AS [Track_EOM_Flag], 
    [Extent1].[Next_Coupon_Date] AS [Next_Coupon_Date], 
    [Extent1].[Previous_Coupon_Date] AS [Previous_Coupon_Date], 
    [Extent1].[Payment_Frequency] AS [Payment_Frequency], 
    [Extent1].[Coupon_BusDay_Adjustment] AS [Coupon_BusDay_Adjustment], 
    [Extent1].[Next_Ex_Div_Date] AS [Next_Ex_Div_Date], 
    [Extent1].[Ex_Div_BusDay_Adjustment] AS [Ex_Div_BusDay_Adjustment], 
    [Extent1].[Ex_Div_Period] AS [Ex_Div_Period], 
    [Extent1].[Ticker] AS [Ticker], 
    [Extent1].[Inet_ID] AS [Inet_ID], 
    [Extent1].[Bloomberg_ID] AS [Bloomberg_ID], 
    [Extent1].[External_Sec_ID] AS [External_Sec_ID], 
    [Extent1].[Reuters_ID] AS [Reuters_ID], 
    [Extent1].[ISIN] AS [ISIN], 
    [Extent1].[Call_Account_Flag] AS [Call_Account_Flag], 
    [Extent1].[System_Locked] AS [System_Locked], 
    [Extent1].[Last_Update_User] AS [Last_Update_User], 
    [Extent1].[Last_Update_Date] AS [Last_Update_Date], 
    [Extent1].[Security_Status] AS [Security_Status], 
    [Extent1].[Benchmark_Portfolio] AS [Benchmark_Portfolio], 
    [Extent1].[Active_flag] AS [Active_flag], 
    [Extent1].[Dividend_FX_Security_ID] AS [Dividend_FX_Security_ID]
    FROM [dbo].[Security_Detail] AS [Extent1]
    WHERE [Extent1].[Security_ID] = @EntityKeyValue1
2018-06-03 06:27:20.8890|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: SELECT 
    [Extent1].[Security_ID] AS [Security_ID], 
    [Extent1].[Entity_ID] AS [Entity_ID], 
    [Extent1].[Security_Name] AS [Security_Name], 
    [Extent1].[Short_Name] AS [Short_Name], 
    [Extent1].[Primary_Exch] AS [Primary_Exch], 
    [Extent1].[Secondary_Exch] AS [Secondary_Exch], 
    [Extent1].[Country_Of_Domicile] AS [Country_Of_Domicile], 
    [Extent1].[Country_Of_Risk] AS [Country_Of_Risk], 
    [Extent1].[Security_Type_Code] AS [Security_Type_Code], 
    [Extent1].[Price_Multiplier] AS [Price_Multiplier], 
    [Extent1].[Income_Frequency] AS [Income_Frequency], 
    [Extent1].[Issuer_Code] AS [Issuer_Code], 
    [Extent1].[Ultimate_Issuer_Code] AS [Ultimate_Issuer_Code], 
    [Extent1].[Asset_Currency] AS [Asset_Currency], 
    [Extent1].[Min_Lot_Size] AS [Min_Lot_Size], 
    [Extent1].[Decimal_Precision] AS [Decimal_Precision], 
    [Extent1].[AvePrice_Rounding] AS [AvePrice_Rounding], 
    [Extent1].[Issue_Date] AS [Issue_Date], 
    [Extent1].[Maturity_Date] AS [Maturity_Date], 
    [Extent1].[Coupon_Rate] AS [Coupon_Rate], 
    [Extent1].[Price_Exchange] AS [Price_Exchange], 
    [Extent1].[Trade_Currency] AS [Trade_Currency], 
    [Extent1].[Price_Curr] AS [Price_Curr], 
    [Extent1].[Currency_Pair_Code] AS [Currency_Pair_Code], 
    [Extent1].[Share_Class] AS [Share_Class], 
    [Extent1].[Current_Market_Price] AS [Current_Market_Price], 
    [Extent1].[Index_Type] AS [Index_Type], 
    [Extent1].[Clean_Price_Formula] AS [Clean_Price_Formula], 
    [Extent1].[Accrued_Income_Price_Formula] AS [Accrued_Income_Price_Formula], 
    [Extent1].[Odd_First_Coupon_Date] AS [Odd_First_Coupon_Date], 
    [Extent1].[Odd_Last_Coupon_Date] AS [Odd_Last_Coupon_Date], 
    [Extent1].[Coupon_Anniversary_Indicator] AS [Coupon_Anniversary_Indicator], 
    [Extent1].[Track_EOM_Flag] AS [Track_EOM_Flag], 
    [Extent1].[Next_Coupon_Date] AS [Next_Coupon_Date], 
    [Extent1].[Previous_Coupon_Date] AS [Previous_Coupon_Date], 
    [Extent1].[Payment_Frequency] AS [Payment_Frequency], 
    [Extent1].[Coupon_BusDay_Adjustment] AS [Coupon_BusDay_Adjustment], 
    [Extent1].[Next_Ex_Div_Date] AS [Next_Ex_Div_Date], 
    [Extent1].[Ex_Div_BusDay_Adjustment] AS [Ex_Div_BusDay_Adjustment], 
    [Extent1].[Ex_Div_Period] AS [Ex_Div_Period], 
    [Extent1].[Ticker] AS [Ticker], 
    [Extent1].[Inet_ID] AS [Inet_ID], 
    [Extent1].[Bloomberg_ID] AS [Bloomberg_ID], 
    [Extent1].[External_Sec_ID] AS [External_Sec_ID], 
    [Extent1].[Reuters_ID] AS [Reuters_ID], 
    [Extent1].[ISIN] AS [ISIN], 
    [Extent1].[Call_Account_Flag] AS [Call_Account_Flag], 
    [Extent1].[System_Locked] AS [System_Locked], 
    [Extent1].[Last_Update_User] AS [Last_Update_User], 
    [Extent1].[Last_Update_Date] AS [Last_Update_Date], 
    [Extent1].[Security_Status] AS [Security_Status], 
    [Extent1].[Benchmark_Portfolio] AS [Benchmark_Portfolio], 
    [Extent1].[Active_flag] AS [Active_flag], 
    [Extent1].[Dividend_FX_Security_ID] AS [Dividend_FX_Security_ID]
    FROM [dbo].[Security_Detail] AS [Extent1]
    WHERE [Extent1].[Security_ID] = @EntityKeyValue1
2018-06-03 06:27:20.9851|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: IF db_id(N'MetopeAzureDb') IS NOT NULL SELECT 1 ELSE SELECT Count(*) FROM sys.databases WHERE [name]=N'MetopeAzureDb'
2018-06-03 06:27:21.0587|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: IF db_id(N'MetopeAzureDb') IS NOT NULL SELECT 1 ELSE SELECT Count(*) FROM sys.databases WHERE [name]=N'MetopeAzureDb'
2018-06-03 06:27:21.1577|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: IF db_id(N'MetopeAzureDb') IS NOT NULL SELECT 1 ELSE SELECT Count(*) FROM sys.databases WHERE [name]=N'MetopeAzureDb'
2018-06-03 06:27:21.2258|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: IF db_id(N'MetopeAzureDb') IS NOT NULL SELECT 1 ELSE SELECT Count(*) FROM sys.databases WHERE [name]=N'MetopeAzureDb'
2018-06-03 13:33:39.6160|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: select cast(serverproperty('EngineEdition') as int)
2018-06-03 13:33:39.8317|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: select cast(serverproperty('EngineEdition') as int)
2018-06-03 13:33:41.3057|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: IF db_id(N'MetopeAzureDb') IS NOT NULL SELECT 1 ELSE SELECT Count(*) FROM sys.databases WHERE [name]=N'MetopeAzureDb'
2018-06-03 13:33:41.6660|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: IF db_id(N'MetopeAzureDb') IS NOT NULL SELECT 1 ELSE SELECT Count(*) FROM sys.databases WHERE [name]=N'MetopeAzureDb'
2018-06-03 13:33:42.5801|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: IF db_id(N'MetopeAzureDb') IS NOT NULL SELECT 1 ELSE SELECT Count(*) FROM sys.databases WHERE [name]=N'MetopeAzureDb'
2018-06-03 13:33:42.6372|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: IF db_id(N'MetopeAzureDb') IS NOT NULL SELECT 1 ELSE SELECT Count(*) FROM sys.databases WHERE [name]=N'MetopeAzureDb'
2018-06-03 13:33:42.8193|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: IF db_id(N'MetopeAzureDb') IS NOT NULL SELECT 1 ELSE SELECT Count(*) FROM sys.databases WHERE [name]=N'MetopeAzureDb'
2018-06-03 13:33:42.8894|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: IF db_id(N'MetopeAzureDb') IS NOT NULL SELECT 1 ELSE SELECT Count(*) FROM sys.databases WHERE [name]=N'MetopeAzureDb'
2018-06-03 13:33:42.9314|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: 
SELECT Count(*)
FROM INFORMATION_SCHEMA.TABLES AS t
WHERE t.TABLE_SCHEMA + '.' + t.TABLE_NAME IN ('dbo.AspNetRoles','dbo.AspNetUserRoles','dbo.AspNetUsers','dbo.AspNetUserClaims','dbo.AspNetUserLogins')
    OR t.TABLE_NAME = 'EdmMetadata'
2018-06-03 13:33:43.1701|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: 
SELECT Count(*)
FROM INFORMATION_SCHEMA.TABLES AS t
WHERE t.TABLE_SCHEMA + '.' + t.TABLE_NAME IN ('dbo.AspNetRoles','dbo.AspNetUserRoles','dbo.AspNetUsers','dbo.AspNetUserClaims','dbo.AspNetUserLogins')
    OR t.TABLE_NAME = 'EdmMetadata'
2018-06-03 13:33:44.1723|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: SELECT 
    [GroupBy1].[A1] AS [C1]
    FROM ( SELECT 
        COUNT(1) AS [A1]
        FROM [dbo].[__MigrationHistory] AS [Extent1]
        WHERE [Extent1].[ContextKey] = @p__linq__0
    )  AS [GroupBy1]
2018-06-03 13:33:44.2068|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: SELECT 
    [GroupBy1].[A1] AS [C1]
    FROM ( SELECT 
        COUNT(1) AS [A1]
        FROM [dbo].[__MigrationHistory] AS [Extent1]
        WHERE [Extent1].[ContextKey] = @p__linq__0
    )  AS [GroupBy1]
2018-06-03 13:33:44.2733|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: SELECT TOP (1) 
    [Project1].[C1] AS [C1], 
    [Project1].[MigrationId] AS [MigrationId], 
    [Project1].[Model] AS [Model], 
    [Project1].[ProductVersion] AS [ProductVersion]
    FROM ( SELECT 
        [Extent1].[MigrationId] AS [MigrationId], 
        [Extent1].[Model] AS [Model], 
        [Extent1].[ProductVersion] AS [ProductVersion], 
        1 AS [C1]
        FROM [dbo].[__MigrationHistory] AS [Extent1]
        WHERE [Extent1].[ContextKey] = @p__linq__0
    )  AS [Project1]
    ORDER BY [Project1].[MigrationId] DESC
2018-06-03 13:33:44.2989|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: SELECT TOP (1) 
    [Project1].[C1] AS [C1], 
    [Project1].[MigrationId] AS [MigrationId], 
    [Project1].[Model] AS [Model], 
    [Project1].[ProductVersion] AS [ProductVersion]
    FROM ( SELECT 
        [Extent1].[MigrationId] AS [MigrationId], 
        [Extent1].[Model] AS [Model], 
        [Extent1].[ProductVersion] AS [ProductVersion], 
        1 AS [C1]
        FROM [dbo].[__MigrationHistory] AS [Extent1]
        WHERE [Extent1].[ContextKey] = @p__linq__0
    )  AS [Project1]
    ORDER BY [Project1].[MigrationId] DESC
2018-06-03 13:33:44.6391|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: True, Command Text: SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[EntityIdScope] AS [EntityIdScope], 
    [Extent1].[Email] AS [Email], 
    [Extent1].[EmailConfirmed] AS [EmailConfirmed], 
    [Extent1].[PasswordHash] AS [PasswordHash], 
    [Extent1].[SecurityStamp] AS [SecurityStamp], 
    [Extent1].[PhoneNumber] AS [PhoneNumber], 
    [Extent1].[PhoneNumberConfirmed] AS [PhoneNumberConfirmed], 
    [Extent1].[TwoFactorEnabled] AS [TwoFactorEnabled], 
    [Extent1].[LockoutEndDateUtc] AS [LockoutEndDateUtc], 
    [Extent1].[LockoutEnabled] AS [LockoutEnabled], 
    [Extent1].[AccessFailedCount] AS [AccessFailedCount], 
    [Extent1].[UserName] AS [UserName]
    FROM [dbo].[AspNetUsers] AS [Extent1]
    WHERE [Extent1].[Id] = @p0
2018-06-03 13:33:44.6676|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: True, Command Text: SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[EntityIdScope] AS [EntityIdScope], 
    [Extent1].[Email] AS [Email], 
    [Extent1].[EmailConfirmed] AS [EmailConfirmed], 
    [Extent1].[PasswordHash] AS [PasswordHash], 
    [Extent1].[SecurityStamp] AS [SecurityStamp], 
    [Extent1].[PhoneNumber] AS [PhoneNumber], 
    [Extent1].[PhoneNumberConfirmed] AS [PhoneNumberConfirmed], 
    [Extent1].[TwoFactorEnabled] AS [TwoFactorEnabled], 
    [Extent1].[LockoutEndDateUtc] AS [LockoutEndDateUtc], 
    [Extent1].[LockoutEnabled] AS [LockoutEnabled], 
    [Extent1].[AccessFailedCount] AS [AccessFailedCount], 
    [Extent1].[UserName] AS [UserName]
    FROM [dbo].[AspNetUsers] AS [Extent1]
    WHERE [Extent1].[Id] = @p0
2018-06-03 13:33:44.8022|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: True, Command Text: SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[UserId] AS [UserId], 
    [Extent1].[ClaimType] AS [ClaimType], 
    [Extent1].[ClaimValue] AS [ClaimValue]
    FROM [dbo].[AspNetUserClaims] AS [Extent1]
    WHERE [Extent1].[UserId] = @p__linq__0
2018-06-03 13:33:44.8237|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: True, Command Text: SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[UserId] AS [UserId], 
    [Extent1].[ClaimType] AS [ClaimType], 
    [Extent1].[ClaimValue] AS [ClaimValue]
    FROM [dbo].[AspNetUserClaims] AS [Extent1]
    WHERE [Extent1].[UserId] = @p__linq__0
2018-06-03 13:33:44.8993|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: True, Command Text: SELECT 
    [Extent1].[LoginProvider] AS [LoginProvider], 
    [Extent1].[ProviderKey] AS [ProviderKey], 
    [Extent1].[UserId] AS [UserId]
    FROM [dbo].[AspNetUserLogins] AS [Extent1]
    WHERE [Extent1].[UserId] = @p__linq__0
2018-06-03 13:33:44.9213|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: True, Command Text: SELECT 
    [Extent1].[LoginProvider] AS [LoginProvider], 
    [Extent1].[ProviderKey] AS [ProviderKey], 
    [Extent1].[UserId] AS [UserId]
    FROM [dbo].[AspNetUserLogins] AS [Extent1]
    WHERE [Extent1].[UserId] = @p__linq__0
2018-06-03 13:33:44.9974|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: True, Command Text: SELECT 
    [Extent1].[UserId] AS [UserId], 
    [Extent1].[RoleId] AS [RoleId]
    FROM [dbo].[AspNetUserRoles] AS [Extent1]
    WHERE [Extent1].[UserId] = @p__linq__0
2018-06-03 13:33:45.0194|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: True, Command Text: SELECT 
    [Extent1].[UserId] AS [UserId], 
    [Extent1].[RoleId] AS [RoleId]
    FROM [dbo].[AspNetUserRoles] AS [Extent1]
    WHERE [Extent1].[UserId] = @p__linq__0
2018-06-03 13:33:46.2027|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: SELECT 
    CASE WHEN ( EXISTS (SELECT TOP (50) 
        1 AS [C1]
        FROM ( SELECT 
            [Extent1].[Transaction_Date] AS [Transaction_Date]
            FROM [dbo].[Cash_Transactions] AS [Extent1]
            WHERE ([Extent1].[Entity_ID] = @p__linq__0) AND ([Extent1].[Portfolio_Code] = @p__linq__1) AND ([Extent1].[Transaction_Date] <= @p__linq__2)
        )  AS [Project1]
        ORDER BY [Project1].[Transaction_Date] DESC
    )) THEN cast(1 as bit) ELSE cast(0 as bit) END AS [C1]
    FROM  ( SELECT 1 AS X ) AS [SingleRowTable1]
2018-06-03 13:33:46.2733|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: SELECT 
    CASE WHEN ( EXISTS (SELECT TOP (50) 
        1 AS [C1]
        FROM ( SELECT 
            [Extent1].[Transaction_Date] AS [Transaction_Date]
            FROM [dbo].[Cash_Transactions] AS [Extent1]
            WHERE ([Extent1].[Entity_ID] = @p__linq__0) AND ([Extent1].[Portfolio_Code] = @p__linq__1) AND ([Extent1].[Transaction_Date] <= @p__linq__2)
        )  AS [Project1]
        ORDER BY [Project1].[Transaction_Date] DESC
    )) THEN cast(1 as bit) ELSE cast(0 as bit) END AS [C1]
    FROM  ( SELECT 1 AS X ) AS [SingleRowTable1]
2018-06-03 13:33:46.9157|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: SELECT TOP (50) 
    [Project1].[C1] AS [C1], 
    [Project1].[Cash_Transaction_ID] AS [Cash_Transaction_ID], 
    [Project1].[Portfolio_Code] AS [Portfolio_Code], 
    [Project1].[Entity_ID] AS [Entity_ID], 
    [Project1].[Transaction_Security_ID] AS [Transaction_Security_ID], 
    [Project1].[Cash_Security_ID] AS [Cash_Security_ID], 
    [Project1].[Transaction_Source_Code] AS [Transaction_Source_Code], 
    [Project1].[Order_ID] AS [Order_ID], 
    [Project1].[Allocation_ID] AS [Allocation_ID], 
    [Project1].[Cashflow_ID] AS [Cashflow_ID], 
    [Project1].[Dividend_Seq_Number] AS [Dividend_Seq_Number], 
    [Project1].[External_ID] AS [External_ID], 
    [Project1].[Transaction_Date] AS [Transaction_Date], 
    [Project1].[Value_Date] AS [Value_Date], 
    [Project1].[Cash_Transaction_Type] AS [Cash_Transaction_Type], 
    [Project1].[Transaction_Amount] AS [Transaction_Amount], 
    [Project1].[Transaction_Currency_Code] AS [Transaction_Currency_Code], 
    [Project1].[BaseCur_Amount] AS [BaseCur_Amount], 
    [Project1].[Create_User_Code] AS [Create_User_Code], 
    [Project1].[Create_Date] AS [Create_Date], 
    [Project1].[Last_Update_User] AS [Last_Update_User], 
    [Project1].[Last_Update_Date] AS [Last_Update_Date], 
    [Project1].[Security_ID] AS [Security_ID], 
    [Project1].[Entity_ID1] AS [Entity_ID1], 
    [Project1].[Security_Name] AS [Security_Name], 
    [Project1].[Short_Name] AS [Short_Name], 
    [Project1].[Primary_Exch] AS [Primary_Exch], 
    [Project1].[Secondary_Exch] AS [Secondary_Exch], 
    [Project1].[Country_Of_Domicile] AS [Country_Of_Domicile], 
    [Project1].[Country_Of_Risk] AS [Country_Of_Risk], 
    [Project1].[Security_Type_Code] AS [Security_Type_Code], 
    [Project1].[Price_Multiplier] AS [Price_Multiplier], 
    [Project1].[Income_Frequency] AS [Income_Frequency], 
    [Project1].[Issuer_Code] AS [Issuer_Code], 
    [Project1].[Ultimate_Issuer_Code] AS [Ultimate_Issuer_Code], 
    [Project1].[Asset_Currency] AS [Asset_Currency], 
    [Project1].[Min_Lot_Size] AS [Min_Lot_Size], 
    [Project1].[Decimal_Precision] AS [Decimal_Precision], 
    [Project1].[AvePrice_Rounding] AS [AvePrice_Rounding], 
    [Project1].[Issue_Date] AS [Issue_Date], 
    [Project1].[Maturity_Date] AS [Maturity_Date], 
    [Project1].[Coupon_Rate] AS [Coupon_Rate], 
    [Project1].[Price_Exchange] AS [Price_Exchange], 
    [Project1].[Trade_Currency] AS [Trade_Currency], 
    [Project1].[Price_Curr] AS [Price_Curr], 
    [Project1].[Currency_Pair_Code] AS [Currency_Pair_Code], 
    [Project1].[Share_Class] AS [Share_Class], 
    [Project1].[Current_Market_Price] AS [Current_Market_Price], 
    [Project1].[Index_Type] AS [Index_Type], 
    [Project1].[Clean_Price_Formula] AS [Clean_Price_Formula], 
    [Project1].[Accrued_Income_Price_Formula] AS [Accrued_Income_Price_Formula], 
    [Project1].[Odd_First_Coupon_Date] AS [Odd_First_Coupon_Date], 
    [Project1].[Odd_Last_Coupon_Date] AS [Odd_Last_Coupon_Date], 
    [Project1].[Coupon_Anniversary_Indicator] AS [Coupon_Anniversary_Indicator], 
    [Project1].[Track_EOM_Flag] AS [Track_EOM_Flag], 
    [Project1].[Next_Coupon_Date] AS [Next_Coupon_Date], 
    [Project1].[Previous_Coupon_Date] AS [Previous_Coupon_Date], 
    [Project1].[Payment_Frequency] AS [Payment_Frequency], 
    [Project1].[Coupon_BusDay_Adjustment] AS [Coupon_BusDay_Adjustment], 
    [Project1].[Next_Ex_Div_Date] AS [Next_Ex_Div_Date], 
    [Project1].[Ex_Div_BusDay_Adjustment] AS [Ex_Div_BusDay_Adjustment], 
    [Project1].[Ex_Div_Period] AS [Ex_Div_Period], 
    [Project1].[Ticker] AS [Ticker], 
    [Project1].[Inet_ID] AS [Inet_ID], 
    [Project1].[Bloomberg_ID] AS [Bloomberg_ID], 
    [Project1].[External_Sec_ID] AS [External_Sec_ID], 
    [Project1].[Reuters_ID] AS [Reuters_ID], 
    [Project1].[ISIN] AS [ISIN], 
    [Project1].[Call_Account_Flag] AS [Call_Account_Flag], 
    [Project1].[System_Locked] AS [System_Locked], 
    [Project1].[Last_Update_User1] AS [Last_Update_User1], 
    [Project1].[Last_Update_Date1] AS [Last_Update_Date1], 
    [Project1].[Security_Status] AS [Security_Status], 
    [Project1].[Benchmark_Portfolio] AS [Benchmark_Portfolio], 
    [Project1].[Active_flag] AS [Active_flag], 
    [Project1].[Dividend_FX_Security_ID] AS [Dividend_FX_Security_ID], 
    [Project1].[Order_ID1] AS [Order_ID1], 
    [Project1].[Entity_ID2] AS [Entity_ID2], 
    [Project1].[Security_ID1] AS [Security_ID1], 
    [Project1].[Trade_Date] AS [Trade_Date], 
    [Project1].[Settlement_Date] AS [Settlement_Date], 
    [Project1].[Transaction_Type] AS [Transaction_Type], 
    [Project1].[Order_Status] AS [Order_Status], 
    [Project1].[Cancel_Reason_Code] AS [Cancel_Reason_Code], 
    [Project1].[Manager] AS [Manager], 
    [Project1].[Trader] AS [Trader], 
    [Project1].[Operations_User] AS [Operations_User], 
    [Project1].[Order_Instruction] AS [Order_Instruction], 
    [Project1].[Order_Duration] AS [Order_Duration], 
    [Project1].[Limit_Price] AS [Limit_Price], 
    [Project1].[Limit_Yield] AS [Limit_Yield], 
    [Project1].[Limit_Discount] AS [Limit_Discount], 
    [Project1].[Order_Creator] AS [Order_Creator], 
    [Project1].[Order_Create_Date] AS [Order_Create_Date], 
    [Project1].[Last_Update_Date2] AS [Last_Update_Date2], 
    [Project1].[Last_Update_User2] AS [Last_Update_User2], 
    [Project1].[Sent_To_Trading_Date] AS [Sent_To_Trading_Date], 
    [Project1].[Sent_To_Accounting_Date] AS [Sent_To_Accounting_Date], 
    [Project1].[Value_Based_Indicator] AS [Value_Based_Indicator], 
    [Project1].[Target_Clean_Price] AS [Target_Clean_Price], 
    [Project1].[Target_Income_Price] AS [Target_Income_Price], 
    [Project1].[Target_AllIn_Price] AS [Target_AllIn_Price], 
    [Project1].[Target_Yield] AS [Target_Yield], 
    [Project1].[Target_Discount] AS [Target_Discount], 
    [Project1].[Target_Quantity] AS [Target_Quantity], 
    [Project1].[Target_Clean_Amount_TradeCur] AS [Target_Clean_Amount_TradeCur], 
    [Project1].[Target_Income_Amount_TradeCur] AS [Target_Income_Amount_TradeCur], 
    [Project1].[Target_AllIn_Amount_TradeCur] AS [Target_AllIn_Amount_TradeCur], 
    [Project1].[Place_Quantity] AS [Place_Quantity], 
    [Project1].[Execution_Quantity] AS [Execution_Quantity], 
    [Project1].[Execution_Clean_Amount_TradeCur] AS [Execution_Clean_Amount_TradeCur], 
    [Project1].[Execution_Income_Amount_TradeCur] AS [Execution_Income_Amount_TradeCur], 
    [Project1].[Execution_AllIn_Amount_TradeCur] AS [Execution_AllIn_Amount_TradeCur], 
    [Project1].[Broker_Code] AS [Broker_Code], 
    [Project1].[Execution_Clean_Price] AS [Execution_Clean_Price], 
    [Project1].[Execution_Income_Price] AS [Execution_Income_Price], 
    [Project1].[Execution_AllIn_Price] AS [Execution_AllIn_Price], 
    [Project1].[Execution_Yield] AS [Execution_Yield], 
    [Project1].[Execution_Discount] AS [Execution_Discount], 
    [Project1].[Execution_Currency] AS [Execution_Currency], 
    [Project1].[Execution_Exchange] AS [Execution_Exchange], 
    [Project1].[Target_FX_Rate] AS [Target_FX_Rate], 
    [Project1].[Limit_FX_Rate] AS [Limit_FX_Rate], 
    [Project1].[Execution_FX_Rate] AS [Execution_FX_Rate], 
    [Project1].[Buy_Currency_Code] AS [Buy_Currency_Code], 
    [Project1].[Buy_Currency_Execution_Amount] AS [Buy_Currency_Execution_Amount], 
    [Project1].[Buy_Currency_Target_Amount] AS [Buy_Currency_Target_Amount], 
    [Project1].[Sell_Currency_Code] AS [Sell_Currency_Code], 
    [Project1].[Sell_Currency_Execution_Amount] AS [Sell_Currency_Execution_Amount], 
    [Project1].[Sell_Currency_Target_Amount] AS [Sell_Currency_Target_Amount], 
    [Project1].[Commission_Amount_TradeCur] AS [Commission_Amount_TradeCur], 
    [Project1].[Trade_Type_Indicator] AS [Trade_Type_Indicator], 
    [Project1].[Commission_Rate] AS [Commission_Rate], 
    [Project1].[Commission_Type] AS [Commission_Type], 
    [Project1].[Fee_Code1] AS [Fee_Code1], 
    [Project1].[Fee_Code2] AS [Fee_Code2], 
    [Project1].[Fee_Code3] AS [Fee_Code3], 
    [Project1].[Fee_Code4] AS [Fee_Code4], 
    [Project1].[Fee_Code5] AS [Fee_Code5], 
    [Project1].[Fee_Code6] AS [Fee_Code6], 
    [Project1].[Fee_Amount1_TradeCur] AS [Fee_Amount1_TradeCur], 
    [Project1].[Fee_Amount2_TradeCur] AS [Fee_Amount2_TradeCur], 
    [Project1].[Fee_Amount3_TradeCur] AS [Fee_Amount3_TradeCur], 
    [Project1].[Fee_Amount4_TradeCur] AS [Fee_Amount4_TradeCur], 
    [Project1].[Fee_Amount5_TradeCur] AS [Fee_Amount5_TradeCur], 
    [Project1].[Fee_Amount6_TradeCur] AS [Fee_Amount6_TradeCur], 
    [Project1].[Tax_Amount_TradeCur] AS [Tax_Amount_TradeCur], 
    [Project1].[Tax_Type] AS [Tax_Type], 
    [Project1].[Tax_Charge_FeeNum] AS [Tax_Charge_FeeNum], 
    [Project1].[Execution_Gross_Amount_TradeCur] AS [Execution_Gross_Amount_TradeCur], 
    [Project1].[Execution_Net_Amount_TradeCur] AS [Execution_Net_Amount_TradeCur], 
    [Project1].[Related_Order_ID] AS [Related_Order_ID], 
    [Project1].[Previous_Order_ID] AS [Previous_Order_ID], 
    [Project1].[Authorised_User1] AS [Authorised_User1], 
    [Project1].[Authorised_User1_DateTime] AS [Authorised_User1_DateTime], 
    [Project1].[Authorised_User2] AS [Authorised_User2], 
    [Project1].[Authorised_User2_DateTime] AS [Authorised_User2_DateTime], 
    [Project1].[Authorised_Number] AS [Authorised_Number], 
    [Project1].[Security_Type_Code1] AS [Security_Type_Code1], 
    [Project1].[Export_Status] AS [Export_Status], 
    [Project1].[Order_Ack_Nack_Status] AS [Order_Ack_Nack_Status], 
    [Project1].[Operations_Status] AS [Operations_Status], 
    [Project1].[Import_Trade_ID] AS [Import_Trade_ID]
    FROM ( SELECT 
        [Extent1].[Cash_Transaction_ID] AS [Cash_Transaction_ID], 
        [Extent1].[Portfolio_Code] AS [Portfolio_Code], 
        [Extent1].[Entity_ID] AS [Entity_ID], 
        [Extent1].[Transaction_Security_ID] AS [Transaction_Security_ID], 
        [Extent1].[Cash_Security_ID] AS [Cash_Security_ID], 
        [Extent1].[Transaction_Source_Code] AS [Transaction_Source_Code], 
        [Extent1].[Order_ID] AS [Order_ID], 
        [Extent1].[Allocation_ID] AS [Allocation_ID], 
        [Extent1].[Cashflow_ID] AS [Cashflow_ID], 
        [Extent1].[Dividend_Seq_Number] AS [Dividend_Seq_Number], 
        [Extent1].[External_ID] AS [External_ID], 
        [Extent1].[Transaction_Date] AS [Transaction_Date], 
        [Extent1].[Value_Date] AS [Value_Date], 
        [Extent1].[Cash_Transaction_Type] AS [Cash_Transaction_Type], 
        [Extent1].[Transaction_Amount] AS [Transaction_Amount], 
        [Extent1].[Transaction_Currency_Code] AS [Transaction_Currency_Code], 
        [Extent1].[BaseCur_Amount] AS [BaseCur_Amount], 
        [Extent1].[Create_User_Code] AS [Create_User_Code], 
        [Extent1].[Create_Date] AS [Create_Date], 
        [Extent1].[Last_Update_User] AS [Last_Update_User], 
        [Extent1].[Last_Update_Date] AS [Last_Update_Date], 
        [Extent2].[Security_ID] AS [Security_ID], 
        [Extent2].[Entity_ID] AS [Entity_ID1], 
        [Extent2].[Security_Name] AS [Security_Name], 
        [Extent2].[Short_Name] AS [Short_Name], 
        [Extent2].[Primary_Exch] AS [Primary_Exch], 
        [Extent2].[Secondary_Exch] AS [Secondary_Exch], 
        [Extent2].[Country_Of_Domicile] AS [Country_Of_Domicile], 
        [Extent2].[Country_Of_Risk] AS [Country_Of_Risk], 
        [Extent2].[Security_Type_Code] AS [Security_Type_Code], 
        [Extent2].[Price_Multiplier] AS [Price_Multiplier], 
        [Extent2].[Income_Frequency] AS [Income_Frequency], 
        [Extent2].[Issuer_Code] AS [Issuer_Code], 
        [Extent2].[Ultimate_Issuer_Code] AS [Ultimate_Issuer_Code], 
        [Extent2].[Asset_Currency] AS [Asset_Currency], 
        [Extent2].[Min_Lot_Size] AS [Min_Lot_Size], 
        [Extent2].[Decimal_Precision] AS [Decimal_Precision], 
        [Extent2].[AvePrice_Rounding] AS [AvePrice_Rounding], 
        [Extent2].[Issue_Date] AS [Issue_Date], 
        [Extent2].[Maturity_Date] AS [Maturity_Date], 
        [Extent2].[Coupon_Rate] AS [Coupon_Rate], 
        [Extent2].[Price_Exchange] AS [Price_Exchange], 
        [Extent2].[Trade_Currency] AS [Trade_Currency], 
        [Extent2].[Price_Curr] AS [Price_Curr], 
        [Extent2].[Currency_Pair_Code] AS [Currency_Pair_Code], 
        [Extent2].[Share_Class] AS [Share_Class], 
        [Extent2].[Current_Market_Price] AS [Current_Market_Price], 
        [Extent2].[Index_Type] AS [Index_Type], 
        [Extent2].[Clean_Price_Formula] AS [Clean_Price_Formula], 
        [Extent2].[Accrued_Income_Price_Formula] AS [Accrued_Income_Price_Formula], 
        [Extent2].[Odd_First_Coupon_Date] AS [Odd_First_Coupon_Date], 
        [Extent2].[Odd_Last_Coupon_Date] AS [Odd_Last_Coupon_Date], 
        [Extent2].[Coupon_Anniversary_Indicator] AS [Coupon_Anniversary_Indicator], 
        [Extent2].[Track_EOM_Flag] AS [Track_EOM_Flag], 
        [Extent2].[Next_Coupon_Date] AS [Next_Coupon_Date], 
        [Extent2].[Previous_Coupon_Date] AS [Previous_Coupon_Date], 
        [Extent2].[Payment_Frequency] AS [Payment_Frequency], 
        [Extent2].[Coupon_BusDay_Adjustment] AS [Coupon_BusDay_Adjustment], 
        [Extent2].[Next_Ex_Div_Date] AS [Next_Ex_Div_Date], 
        [Extent2].[Ex_Div_BusDay_Adjustment] AS [Ex_Div_BusDay_Adjustment], 
        [Extent2].[Ex_Div_Period] AS [Ex_Div_Period], 
        [Extent2].[Ticker] AS [Ticker], 
        [Extent2].[Inet_ID] AS [Inet_ID], 
        [Extent2].[Bloomberg_ID] AS [Bloomberg_ID], 
        [Extent2].[External_Sec_ID] AS [External_Sec_ID], 
        [Extent2].[Reuters_ID] AS [Reuters_ID], 
        [Extent2].[ISIN] AS [ISIN], 
        [Extent2].[Call_Account_Flag] AS [Call_Account_Flag], 
        [Extent2].[System_Locked] AS [System_Locked], 
        [Extent2].[Last_Update_User] AS [Last_Update_User1], 
        [Extent2].[Last_Update_Date] AS [Last_Update_Date1], 
        [Extent2].[Security_Status] AS [Security_Status], 
        [Extent2].[Benchmark_Portfolio] AS [Benchmark_Portfolio], 
        [Extent2].[Active_flag] AS [Active_flag], 
        [Extent2].[Dividend_FX_Security_ID] AS [Dividend_FX_Security_ID], 
        [Extent3].[Order_ID] AS [Order_ID1], 
        [Extent3].[Entity_ID] AS [Entity_ID2], 
        [Extent3].[Security_ID] AS [Security_ID1], 
        [Extent3].[Trade_Date] AS [Trade_Date], 
        [Extent3].[Settlement_Date] AS [Settlement_Date], 
        [Extent3].[Transaction_Type] AS [Transaction_Type], 
        [Extent3].[Order_Status] AS [Order_Status], 
        [Extent3].[Cancel_Reason_Code] AS [Cancel_Reason_Code], 
        [Extent3].[Manager] AS [Manager], 
        [Extent3].[Trader] AS [Trader], 
        [Extent3].[Operations_User] AS [Operations_User], 
        [Extent3].[Order_Instruction] AS [Order_Instruction], 
        [Extent3].[Order_Duration] AS [Order_Duration], 
        [Extent3].[Limit_Price] AS [Limit_Price], 
        [Extent3].[Limit_Yield] AS [Limit_Yield], 
        [Extent3].[Limit_Discount] AS [Limit_Discount], 
        [Extent3].[Order_Creator] AS [Order_Creator], 
        [Extent3].[Order_Create_Date] AS [Order_Create_Date], 
        [Extent3].[Last_Update_Date] AS [Last_Update_Date2], 
        [Extent3].[Last_Update_User] AS [Last_Update_User2], 
        [Extent3].[Sent_To_Trading_Date] AS [Sent_To_Trading_Date], 
        [Extent3].[Sent_To_Accounting_Date] AS [Sent_To_Accounting_Date], 
        [Extent3].[Value_Based_Indicator] AS [Value_Based_Indicator], 
        [Extent3].[Target_Clean_Price] AS [Target_Clean_Price], 
        [Extent3].[Target_Income_Price] AS [Target_Income_Price], 
        [Extent3].[Target_AllIn_Price] AS [Target_AllIn_Price], 
        [Extent3].[Target_Yield] AS [Target_Yield], 
        [Extent3].[Target_Discount] AS [Target_Discount], 
        [Extent3].[Target_Quantity] AS [Target_Quantity], 
        [Extent3].[Target_Clean_Amount_TradeCur] AS [Target_Clean_Amount_TradeCur], 
        [Extent3].[Target_Income_Amount_TradeCur] AS [Target_Income_Amount_TradeCur], 
        [Extent3].[Target_AllIn_Amount_TradeCur] AS [Target_AllIn_Amount_TradeCur], 
        [Extent3].[Place_Quantity] AS [Place_Quantity], 
        [Extent3].[Execution_Quantity] AS [Execution_Quantity], 
        [Extent3].[Execution_Clean_Amount_TradeCur] AS [Execution_Clean_Amount_TradeCur], 
        [Extent3].[Execution_Income_Amount_TradeCur] AS [Execution_Income_Amount_TradeCur], 
        [Extent3].[Execution_AllIn_Amount_TradeCur] AS [Execution_AllIn_Amount_TradeCur], 
        [Extent3].[Broker_Code] AS [Broker_Code], 
        [Extent3].[Execution_Clean_Price] AS [Execution_Clean_Price], 
        [Extent3].[Execution_Income_Price] AS [Execution_Income_Price], 
        [Extent3].[Execution_AllIn_Price] AS [Execution_AllIn_Price], 
        [Extent3].[Execution_Yield] AS [Execution_Yield], 
        [Extent3].[Execution_Discount] AS [Execution_Discount], 
        [Extent3].[Execution_Currency] AS [Execution_Currency], 
        [Extent3].[Execution_Exchange] AS [Execution_Exchange], 
        [Extent3].[Target_FX_Rate] AS [Target_FX_Rate], 
        [Extent3].[Limit_FX_Rate] AS [Limit_FX_Rate], 
        [Extent3].[Execution_FX_Rate] AS [Execution_FX_Rate], 
        [Extent3].[Buy_Currency_Code] AS [Buy_Currency_Code], 
        [Extent3].[Buy_Currency_Execution_Amount] AS [Buy_Currency_Execution_Amount], 
        [Extent3].[Buy_Currency_Target_Amount] AS [Buy_Currency_Target_Amount], 
        [Extent3].[Sell_Currency_Code] AS [Sell_Currency_Code], 
        [Extent3].[Sell_Currency_Execution_Amount] AS [Sell_Currency_Execution_Amount], 
        [Extent3].[Sell_Currency_Target_Amount] AS [Sell_Currency_Target_Amount], 
        [Extent3].[Commission_Amount_TradeCur] AS [Commission_Amount_TradeCur], 
        [Extent3].[Trade_Type_Indicator] AS [Trade_Type_Indicator], 
        [Extent3].[Commission_Rate] AS [Commission_Rate], 
        [Extent3].[Commission_Type] AS [Commission_Type], 
        [Extent3].[Fee_Code1] AS [Fee_Code1], 
        [Extent3].[Fee_Code2] AS [Fee_Code2], 
        [Extent3].[Fee_Code3] AS [Fee_Code3], 
        [Extent3].[Fee_Code4] AS [Fee_Code4], 
        [Extent3].[Fee_Code5] AS [Fee_Code5], 
        [Extent3].[Fee_Code6] AS [Fee_Code6], 
        [Extent3].[Fee_Amount1_TradeCur] AS [Fee_Amount1_TradeCur], 
        [Extent3].[Fee_Amount2_TradeCur] AS [Fee_Amount2_TradeCur], 
        [Extent3].[Fee_Amount3_TradeCur] AS [Fee_Amount3_TradeCur], 
        [Extent3].[Fee_Amount4_TradeCur] AS [Fee_Amount4_TradeCur], 
        [Extent3].[Fee_Amount5_TradeCur] AS [Fee_Amount5_TradeCur], 
        [Extent3].[Fee_Amount6_TradeCur] AS [Fee_Amount6_TradeCur], 
        [Extent3].[Tax_Amount_TradeCur] AS [Tax_Amount_TradeCur], 
        [Extent3].[Tax_Type] AS [Tax_Type], 
        [Extent3].[Tax_Charge_FeeNum] AS [Tax_Charge_FeeNum], 
        [Extent3].[Execution_Gross_Amount_TradeCur] AS [Execution_Gross_Amount_TradeCur], 
        [Extent3].[Execution_Net_Amount_TradeCur] AS [Execution_Net_Amount_TradeCur], 
        [Extent3].[Related_Order_ID] AS [Related_Order_ID], 
        [Extent3].[Previous_Order_ID] AS [Previous_Order_ID], 
        [Extent3].[Authorised_User1] AS [Authorised_User1], 
        [Extent3].[Authorised_User1_DateTime] AS [Authorised_User1_DateTime], 
        [Extent3].[Authorised_User2] AS [Authorised_User2], 
        [Extent3].[Authorised_User2_DateTime] AS [Authorised_User2_DateTime], 
        [Extent3].[Authorised_Number] AS [Authorised_Number], 
        [Extent3].[Security_Type_Code] AS [Security_Type_Code1], 
        [Extent3].[Export_Status] AS [Export_Status], 
        [Extent3].[Order_Ack_Nack_Status] AS [Order_Ack_Nack_Status], 
        [Extent3].[Operations_Status] AS [Operations_Status], 
        [Extent3].[Import_Trade_ID] AS [Import_Trade_ID], 
        1 AS [C1]
        FROM   [dbo].[Cash_Transactions] AS [Extent1]
        LEFT OUTER JOIN [dbo].[Security_Detail] AS [Extent2] ON [Extent1].[Transaction_Security_ID] = [Extent2].[Security_ID]
        LEFT OUTER JOIN [dbo].[Order_Detail] AS [Extent3] ON [Extent1].[Order_ID] = [Extent3].[Order_ID]
        WHERE ([Extent1].[Entity_ID] = @p__linq__0) AND ([Extent1].[Portfolio_Code] = @p__linq__1) AND ([Extent1].[Transaction_Date] <= @p__linq__2)
    )  AS [Project1]
    ORDER BY [Project1].[Transaction_Date] DESC
2018-06-03 13:33:46.9735|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: SELECT TOP (50) 
    [Project1].[C1] AS [C1], 
    [Project1].[Cash_Transaction_ID] AS [Cash_Transaction_ID], 
    [Project1].[Portfolio_Code] AS [Portfolio_Code], 
    [Project1].[Entity_ID] AS [Entity_ID], 
    [Project1].[Transaction_Security_ID] AS [Transaction_Security_ID], 
    [Project1].[Cash_Security_ID] AS [Cash_Security_ID], 
    [Project1].[Transaction_Source_Code] AS [Transaction_Source_Code], 
    [Project1].[Order_ID] AS [Order_ID], 
    [Project1].[Allocation_ID] AS [Allocation_ID], 
    [Project1].[Cashflow_ID] AS [Cashflow_ID], 
    [Project1].[Dividend_Seq_Number] AS [Dividend_Seq_Number], 
    [Project1].[External_ID] AS [External_ID], 
    [Project1].[Transaction_Date] AS [Transaction_Date], 
    [Project1].[Value_Date] AS [Value_Date], 
    [Project1].[Cash_Transaction_Type] AS [Cash_Transaction_Type], 
    [Project1].[Transaction_Amount] AS [Transaction_Amount], 
    [Project1].[Transaction_Currency_Code] AS [Transaction_Currency_Code], 
    [Project1].[BaseCur_Amount] AS [BaseCur_Amount], 
    [Project1].[Create_User_Code] AS [Create_User_Code], 
    [Project1].[Create_Date] AS [Create_Date], 
    [Project1].[Last_Update_User] AS [Last_Update_User], 
    [Project1].[Last_Update_Date] AS [Last_Update_Date], 
    [Project1].[Security_ID] AS [Security_ID], 
    [Project1].[Entity_ID1] AS [Entity_ID1], 
    [Project1].[Security_Name] AS [Security_Name], 
    [Project1].[Short_Name] AS [Short_Name], 
    [Project1].[Primary_Exch] AS [Primary_Exch], 
    [Project1].[Secondary_Exch] AS [Secondary_Exch], 
    [Project1].[Country_Of_Domicile] AS [Country_Of_Domicile], 
    [Project1].[Country_Of_Risk] AS [Country_Of_Risk], 
    [Project1].[Security_Type_Code] AS [Security_Type_Code], 
    [Project1].[Price_Multiplier] AS [Price_Multiplier], 
    [Project1].[Income_Frequency] AS [Income_Frequency], 
    [Project1].[Issuer_Code] AS [Issuer_Code], 
    [Project1].[Ultimate_Issuer_Code] AS [Ultimate_Issuer_Code], 
    [Project1].[Asset_Currency] AS [Asset_Currency], 
    [Project1].[Min_Lot_Size] AS [Min_Lot_Size], 
    [Project1].[Decimal_Precision] AS [Decimal_Precision], 
    [Project1].[AvePrice_Rounding] AS [AvePrice_Rounding], 
    [Project1].[Issue_Date] AS [Issue_Date], 
    [Project1].[Maturity_Date] AS [Maturity_Date], 
    [Project1].[Coupon_Rate] AS [Coupon_Rate], 
    [Project1].[Price_Exchange] AS [Price_Exchange], 
    [Project1].[Trade_Currency] AS [Trade_Currency], 
    [Project1].[Price_Curr] AS [Price_Curr], 
    [Project1].[Currency_Pair_Code] AS [Currency_Pair_Code], 
    [Project1].[Share_Class] AS [Share_Class], 
    [Project1].[Current_Market_Price] AS [Current_Market_Price], 
    [Project1].[Index_Type] AS [Index_Type], 
    [Project1].[Clean_Price_Formula] AS [Clean_Price_Formula], 
    [Project1].[Accrued_Income_Price_Formula] AS [Accrued_Income_Price_Formula], 
    [Project1].[Odd_First_Coupon_Date] AS [Odd_First_Coupon_Date], 
    [Project1].[Odd_Last_Coupon_Date] AS [Odd_Last_Coupon_Date], 
    [Project1].[Coupon_Anniversary_Indicator] AS [Coupon_Anniversary_Indicator], 
    [Project1].[Track_EOM_Flag] AS [Track_EOM_Flag], 
    [Project1].[Next_Coupon_Date] AS [Next_Coupon_Date], 
    [Project1].[Previous_Coupon_Date] AS [Previous_Coupon_Date], 
    [Project1].[Payment_Frequency] AS [Payment_Frequency], 
    [Project1].[Coupon_BusDay_Adjustment] AS [Coupon_BusDay_Adjustment], 
    [Project1].[Next_Ex_Div_Date] AS [Next_Ex_Div_Date], 
    [Project1].[Ex_Div_BusDay_Adjustment] AS [Ex_Div_BusDay_Adjustment], 
    [Project1].[Ex_Div_Period] AS [Ex_Div_Period], 
    [Project1].[Ticker] AS [Ticker], 
    [Project1].[Inet_ID] AS [Inet_ID], 
    [Project1].[Bloomberg_ID] AS [Bloomberg_ID], 
    [Project1].[External_Sec_ID] AS [External_Sec_ID], 
    [Project1].[Reuters_ID] AS [Reuters_ID], 
    [Project1].[ISIN] AS [ISIN], 
    [Project1].[Call_Account_Flag] AS [Call_Account_Flag], 
    [Project1].[System_Locked] AS [System_Locked], 
    [Project1].[Last_Update_User1] AS [Last_Update_User1], 
    [Project1].[Last_Update_Date1] AS [Last_Update_Date1], 
    [Project1].[Security_Status] AS [Security_Status], 
    [Project1].[Benchmark_Portfolio] AS [Benchmark_Portfolio], 
    [Project1].[Active_flag] AS [Active_flag], 
    [Project1].[Dividend_FX_Security_ID] AS [Dividend_FX_Security_ID], 
    [Project1].[Order_ID1] AS [Order_ID1], 
    [Project1].[Entity_ID2] AS [Entity_ID2], 
    [Project1].[Security_ID1] AS [Security_ID1], 
    [Project1].[Trade_Date] AS [Trade_Date], 
    [Project1].[Settlement_Date] AS [Settlement_Date], 
    [Project1].[Transaction_Type] AS [Transaction_Type], 
    [Project1].[Order_Status] AS [Order_Status], 
    [Project1].[Cancel_Reason_Code] AS [Cancel_Reason_Code], 
    [Project1].[Manager] AS [Manager], 
    [Project1].[Trader] AS [Trader], 
    [Project1].[Operations_User] AS [Operations_User], 
    [Project1].[Order_Instruction] AS [Order_Instruction], 
    [Project1].[Order_Duration] AS [Order_Duration], 
    [Project1].[Limit_Price] AS [Limit_Price], 
    [Project1].[Limit_Yield] AS [Limit_Yield], 
    [Project1].[Limit_Discount] AS [Limit_Discount], 
    [Project1].[Order_Creator] AS [Order_Creator], 
    [Project1].[Order_Create_Date] AS [Order_Create_Date], 
    [Project1].[Last_Update_Date2] AS [Last_Update_Date2], 
    [Project1].[Last_Update_User2] AS [Last_Update_User2], 
    [Project1].[Sent_To_Trading_Date] AS [Sent_To_Trading_Date], 
    [Project1].[Sent_To_Accounting_Date] AS [Sent_To_Accounting_Date], 
    [Project1].[Value_Based_Indicator] AS [Value_Based_Indicator], 
    [Project1].[Target_Clean_Price] AS [Target_Clean_Price], 
    [Project1].[Target_Income_Price] AS [Target_Income_Price], 
    [Project1].[Target_AllIn_Price] AS [Target_AllIn_Price], 
    [Project1].[Target_Yield] AS [Target_Yield], 
    [Project1].[Target_Discount] AS [Target_Discount], 
    [Project1].[Target_Quantity] AS [Target_Quantity], 
    [Project1].[Target_Clean_Amount_TradeCur] AS [Target_Clean_Amount_TradeCur], 
    [Project1].[Target_Income_Amount_TradeCur] AS [Target_Income_Amount_TradeCur], 
    [Project1].[Target_AllIn_Amount_TradeCur] AS [Target_AllIn_Amount_TradeCur], 
    [Project1].[Place_Quantity] AS [Place_Quantity], 
    [Project1].[Execution_Quantity] AS [Execution_Quantity], 
    [Project1].[Execution_Clean_Amount_TradeCur] AS [Execution_Clean_Amount_TradeCur], 
    [Project1].[Execution_Income_Amount_TradeCur] AS [Execution_Income_Amount_TradeCur], 
    [Project1].[Execution_AllIn_Amount_TradeCur] AS [Execution_AllIn_Amount_TradeCur], 
    [Project1].[Broker_Code] AS [Broker_Code], 
    [Project1].[Execution_Clean_Price] AS [Execution_Clean_Price], 
    [Project1].[Execution_Income_Price] AS [Execution_Income_Price], 
    [Project1].[Execution_AllIn_Price] AS [Execution_AllIn_Price], 
    [Project1].[Execution_Yield] AS [Execution_Yield], 
    [Project1].[Execution_Discount] AS [Execution_Discount], 
    [Project1].[Execution_Currency] AS [Execution_Currency], 
    [Project1].[Execution_Exchange] AS [Execution_Exchange], 
    [Project1].[Target_FX_Rate] AS [Target_FX_Rate], 
    [Project1].[Limit_FX_Rate] AS [Limit_FX_Rate], 
    [Project1].[Execution_FX_Rate] AS [Execution_FX_Rate], 
    [Project1].[Buy_Currency_Code] AS [Buy_Currency_Code], 
    [Project1].[Buy_Currency_Execution_Amount] AS [Buy_Currency_Execution_Amount], 
    [Project1].[Buy_Currency_Target_Amount] AS [Buy_Currency_Target_Amount], 
    [Project1].[Sell_Currency_Code] AS [Sell_Currency_Code], 
    [Project1].[Sell_Currency_Execution_Amount] AS [Sell_Currency_Execution_Amount], 
    [Project1].[Sell_Currency_Target_Amount] AS [Sell_Currency_Target_Amount], 
    [Project1].[Commission_Amount_TradeCur] AS [Commission_Amount_TradeCur], 
    [Project1].[Trade_Type_Indicator] AS [Trade_Type_Indicator], 
    [Project1].[Commission_Rate] AS [Commission_Rate], 
    [Project1].[Commission_Type] AS [Commission_Type], 
    [Project1].[Fee_Code1] AS [Fee_Code1], 
    [Project1].[Fee_Code2] AS [Fee_Code2], 
    [Project1].[Fee_Code3] AS [Fee_Code3], 
    [Project1].[Fee_Code4] AS [Fee_Code4], 
    [Project1].[Fee_Code5] AS [Fee_Code5], 
    [Project1].[Fee_Code6] AS [Fee_Code6], 
    [Project1].[Fee_Amount1_TradeCur] AS [Fee_Amount1_TradeCur], 
    [Project1].[Fee_Amount2_TradeCur] AS [Fee_Amount2_TradeCur], 
    [Project1].[Fee_Amount3_TradeCur] AS [Fee_Amount3_TradeCur], 
    [Project1].[Fee_Amount4_TradeCur] AS [Fee_Amount4_TradeCur], 
    [Project1].[Fee_Amount5_TradeCur] AS [Fee_Amount5_TradeCur], 
    [Project1].[Fee_Amount6_TradeCur] AS [Fee_Amount6_TradeCur], 
    [Project1].[Tax_Amount_TradeCur] AS [Tax_Amount_TradeCur], 
    [Project1].[Tax_Type] AS [Tax_Type], 
    [Project1].[Tax_Charge_FeeNum] AS [Tax_Charge_FeeNum], 
    [Project1].[Execution_Gross_Amount_TradeCur] AS [Execution_Gross_Amount_TradeCur], 
    [Project1].[Execution_Net_Amount_TradeCur] AS [Execution_Net_Amount_TradeCur], 
    [Project1].[Related_Order_ID] AS [Related_Order_ID], 
    [Project1].[Previous_Order_ID] AS [Previous_Order_ID], 
    [Project1].[Authorised_User1] AS [Authorised_User1], 
    [Project1].[Authorised_User1_DateTime] AS [Authorised_User1_DateTime], 
    [Project1].[Authorised_User2] AS [Authorised_User2], 
    [Project1].[Authorised_User2_DateTime] AS [Authorised_User2_DateTime], 
    [Project1].[Authorised_Number] AS [Authorised_Number], 
    [Project1].[Security_Type_Code1] AS [Security_Type_Code1], 
    [Project1].[Export_Status] AS [Export_Status], 
    [Project1].[Order_Ack_Nack_Status] AS [Order_Ack_Nack_Status], 
    [Project1].[Operations_Status] AS [Operations_Status], 
    [Project1].[Import_Trade_ID] AS [Import_Trade_ID]
    FROM ( SELECT 
        [Extent1].[Cash_Transaction_ID] AS [Cash_Transaction_ID], 
        [Extent1].[Portfolio_Code] AS [Portfolio_Code], 
        [Extent1].[Entity_ID] AS [Entity_ID], 
        [Extent1].[Transaction_Security_ID] AS [Transaction_Security_ID], 
        [Extent1].[Cash_Security_ID] AS [Cash_Security_ID], 
        [Extent1].[Transaction_Source_Code] AS [Transaction_Source_Code], 
        [Extent1].[Order_ID] AS [Order_ID], 
        [Extent1].[Allocation_ID] AS [Allocation_ID], 
        [Extent1].[Cashflow_ID] AS [Cashflow_ID], 
        [Extent1].[Dividend_Seq_Number] AS [Dividend_Seq_Number], 
        [Extent1].[External_ID] AS [External_ID], 
        [Extent1].[Transaction_Date] AS [Transaction_Date], 
        [Extent1].[Value_Date] AS [Value_Date], 
        [Extent1].[Cash_Transaction_Type] AS [Cash_Transaction_Type], 
        [Extent1].[Transaction_Amount] AS [Transaction_Amount], 
        [Extent1].[Transaction_Currency_Code] AS [Transaction_Currency_Code], 
        [Extent1].[BaseCur_Amount] AS [BaseCur_Amount], 
        [Extent1].[Create_User_Code] AS [Create_User_Code], 
        [Extent1].[Create_Date] AS [Create_Date], 
        [Extent1].[Last_Update_User] AS [Last_Update_User], 
        [Extent1].[Last_Update_Date] AS [Last_Update_Date], 
        [Extent2].[Security_ID] AS [Security_ID], 
        [Extent2].[Entity_ID] AS [Entity_ID1], 
        [Extent2].[Security_Name] AS [Security_Name], 
        [Extent2].[Short_Name] AS [Short_Name], 
        [Extent2].[Primary_Exch] AS [Primary_Exch], 
        [Extent2].[Secondary_Exch] AS [Secondary_Exch], 
        [Extent2].[Country_Of_Domicile] AS [Country_Of_Domicile], 
        [Extent2].[Country_Of_Risk] AS [Country_Of_Risk], 
        [Extent2].[Security_Type_Code] AS [Security_Type_Code], 
        [Extent2].[Price_Multiplier] AS [Price_Multiplier], 
        [Extent2].[Income_Frequency] AS [Income_Frequency], 
        [Extent2].[Issuer_Code] AS [Issuer_Code], 
        [Extent2].[Ultimate_Issuer_Code] AS [Ultimate_Issuer_Code], 
        [Extent2].[Asset_Currency] AS [Asset_Currency], 
        [Extent2].[Min_Lot_Size] AS [Min_Lot_Size], 
        [Extent2].[Decimal_Precision] AS [Decimal_Precision], 
        [Extent2].[AvePrice_Rounding] AS [AvePrice_Rounding], 
        [Extent2].[Issue_Date] AS [Issue_Date], 
        [Extent2].[Maturity_Date] AS [Maturity_Date], 
        [Extent2].[Coupon_Rate] AS [Coupon_Rate], 
        [Extent2].[Price_Exchange] AS [Price_Exchange], 
        [Extent2].[Trade_Currency] AS [Trade_Currency], 
        [Extent2].[Price_Curr] AS [Price_Curr], 
        [Extent2].[Currency_Pair_Code] AS [Currency_Pair_Code], 
        [Extent2].[Share_Class] AS [Share_Class], 
        [Extent2].[Current_Market_Price] AS [Current_Market_Price], 
        [Extent2].[Index_Type] AS [Index_Type], 
        [Extent2].[Clean_Price_Formula] AS [Clean_Price_Formula], 
        [Extent2].[Accrued_Income_Price_Formula] AS [Accrued_Income_Price_Formula], 
        [Extent2].[Odd_First_Coupon_Date] AS [Odd_First_Coupon_Date], 
        [Extent2].[Odd_Last_Coupon_Date] AS [Odd_Last_Coupon_Date], 
        [Extent2].[Coupon_Anniversary_Indicator] AS [Coupon_Anniversary_Indicator], 
        [Extent2].[Track_EOM_Flag] AS [Track_EOM_Flag], 
        [Extent2].[Next_Coupon_Date] AS [Next_Coupon_Date], 
        [Extent2].[Previous_Coupon_Date] AS [Previous_Coupon_Date], 
        [Extent2].[Payment_Frequency] AS [Payment_Frequency], 
        [Extent2].[Coupon_BusDay_Adjustment] AS [Coupon_BusDay_Adjustment], 
        [Extent2].[Next_Ex_Div_Date] AS [Next_Ex_Div_Date], 
        [Extent2].[Ex_Div_BusDay_Adjustment] AS [Ex_Div_BusDay_Adjustment], 
        [Extent2].[Ex_Div_Period] AS [Ex_Div_Period], 
        [Extent2].[Ticker] AS [Ticker], 
        [Extent2].[Inet_ID] AS [Inet_ID], 
        [Extent2].[Bloomberg_ID] AS [Bloomberg_ID], 
        [Extent2].[External_Sec_ID] AS [External_Sec_ID], 
        [Extent2].[Reuters_ID] AS [Reuters_ID], 
        [Extent2].[ISIN] AS [ISIN], 
        [Extent2].[Call_Account_Flag] AS [Call_Account_Flag], 
        [Extent2].[System_Locked] AS [System_Locked], 
        [Extent2].[Last_Update_User] AS [Last_Update_User1], 
        [Extent2].[Last_Update_Date] AS [Last_Update_Date1], 
        [Extent2].[Security_Status] AS [Security_Status], 
        [Extent2].[Benchmark_Portfolio] AS [Benchmark_Portfolio], 
        [Extent2].[Active_flag] AS [Active_flag], 
        [Extent2].[Dividend_FX_Security_ID] AS [Dividend_FX_Security_ID], 
        [Extent3].[Order_ID] AS [Order_ID1], 
        [Extent3].[Entity_ID] AS [Entity_ID2], 
        [Extent3].[Security_ID] AS [Security_ID1], 
        [Extent3].[Trade_Date] AS [Trade_Date], 
        [Extent3].[Settlement_Date] AS [Settlement_Date], 
        [Extent3].[Transaction_Type] AS [Transaction_Type], 
        [Extent3].[Order_Status] AS [Order_Status], 
        [Extent3].[Cancel_Reason_Code] AS [Cancel_Reason_Code], 
        [Extent3].[Manager] AS [Manager], 
        [Extent3].[Trader] AS [Trader], 
        [Extent3].[Operations_User] AS [Operations_User], 
        [Extent3].[Order_Instruction] AS [Order_Instruction], 
        [Extent3].[Order_Duration] AS [Order_Duration], 
        [Extent3].[Limit_Price] AS [Limit_Price], 
        [Extent3].[Limit_Yield] AS [Limit_Yield], 
        [Extent3].[Limit_Discount] AS [Limit_Discount], 
        [Extent3].[Order_Creator] AS [Order_Creator], 
        [Extent3].[Order_Create_Date] AS [Order_Create_Date], 
        [Extent3].[Last_Update_Date] AS [Last_Update_Date2], 
        [Extent3].[Last_Update_User] AS [Last_Update_User2], 
        [Extent3].[Sent_To_Trading_Date] AS [Sent_To_Trading_Date], 
        [Extent3].[Sent_To_Accounting_Date] AS [Sent_To_Accounting_Date], 
        [Extent3].[Value_Based_Indicator] AS [Value_Based_Indicator], 
        [Extent3].[Target_Clean_Price] AS [Target_Clean_Price], 
        [Extent3].[Target_Income_Price] AS [Target_Income_Price], 
        [Extent3].[Target_AllIn_Price] AS [Target_AllIn_Price], 
        [Extent3].[Target_Yield] AS [Target_Yield], 
        [Extent3].[Target_Discount] AS [Target_Discount], 
        [Extent3].[Target_Quantity] AS [Target_Quantity], 
        [Extent3].[Target_Clean_Amount_TradeCur] AS [Target_Clean_Amount_TradeCur], 
        [Extent3].[Target_Income_Amount_TradeCur] AS [Target_Income_Amount_TradeCur], 
        [Extent3].[Target_AllIn_Amount_TradeCur] AS [Target_AllIn_Amount_TradeCur], 
        [Extent3].[Place_Quantity] AS [Place_Quantity], 
        [Extent3].[Execution_Quantity] AS [Execution_Quantity], 
        [Extent3].[Execution_Clean_Amount_TradeCur] AS [Execution_Clean_Amount_TradeCur], 
        [Extent3].[Execution_Income_Amount_TradeCur] AS [Execution_Income_Amount_TradeCur], 
        [Extent3].[Execution_AllIn_Amount_TradeCur] AS [Execution_AllIn_Amount_TradeCur], 
        [Extent3].[Broker_Code] AS [Broker_Code], 
        [Extent3].[Execution_Clean_Price] AS [Execution_Clean_Price], 
        [Extent3].[Execution_Income_Price] AS [Execution_Income_Price], 
        [Extent3].[Execution_AllIn_Price] AS [Execution_AllIn_Price], 
        [Extent3].[Execution_Yield] AS [Execution_Yield], 
        [Extent3].[Execution_Discount] AS [Execution_Discount], 
        [Extent3].[Execution_Currency] AS [Execution_Currency], 
        [Extent3].[Execution_Exchange] AS [Execution_Exchange], 
        [Extent3].[Target_FX_Rate] AS [Target_FX_Rate], 
        [Extent3].[Limit_FX_Rate] AS [Limit_FX_Rate], 
        [Extent3].[Execution_FX_Rate] AS [Execution_FX_Rate], 
        [Extent3].[Buy_Currency_Code] AS [Buy_Currency_Code], 
        [Extent3].[Buy_Currency_Execution_Amount] AS [Buy_Currency_Execution_Amount], 
        [Extent3].[Buy_Currency_Target_Amount] AS [Buy_Currency_Target_Amount], 
        [Extent3].[Sell_Currency_Code] AS [Sell_Currency_Code], 
        [Extent3].[Sell_Currency_Execution_Amount] AS [Sell_Currency_Execution_Amount], 
        [Extent3].[Sell_Currency_Target_Amount] AS [Sell_Currency_Target_Amount], 
        [Extent3].[Commission_Amount_TradeCur] AS [Commission_Amount_TradeCur], 
        [Extent3].[Trade_Type_Indicator] AS [Trade_Type_Indicator], 
        [Extent3].[Commission_Rate] AS [Commission_Rate], 
        [Extent3].[Commission_Type] AS [Commission_Type], 
        [Extent3].[Fee_Code1] AS [Fee_Code1], 
        [Extent3].[Fee_Code2] AS [Fee_Code2], 
        [Extent3].[Fee_Code3] AS [Fee_Code3], 
        [Extent3].[Fee_Code4] AS [Fee_Code4], 
        [Extent3].[Fee_Code5] AS [Fee_Code5], 
        [Extent3].[Fee_Code6] AS [Fee_Code6], 
        [Extent3].[Fee_Amount1_TradeCur] AS [Fee_Amount1_TradeCur], 
        [Extent3].[Fee_Amount2_TradeCur] AS [Fee_Amount2_TradeCur], 
        [Extent3].[Fee_Amount3_TradeCur] AS [Fee_Amount3_TradeCur], 
        [Extent3].[Fee_Amount4_TradeCur] AS [Fee_Amount4_TradeCur], 
        [Extent3].[Fee_Amount5_TradeCur] AS [Fee_Amount5_TradeCur], 
        [Extent3].[Fee_Amount6_TradeCur] AS [Fee_Amount6_TradeCur], 
        [Extent3].[Tax_Amount_TradeCur] AS [Tax_Amount_TradeCur], 
        [Extent3].[Tax_Type] AS [Tax_Type], 
        [Extent3].[Tax_Charge_FeeNum] AS [Tax_Charge_FeeNum], 
        [Extent3].[Execution_Gross_Amount_TradeCur] AS [Execution_Gross_Amount_TradeCur], 
        [Extent3].[Execution_Net_Amount_TradeCur] AS [Execution_Net_Amount_TradeCur], 
        [Extent3].[Related_Order_ID] AS [Related_Order_ID], 
        [Extent3].[Previous_Order_ID] AS [Previous_Order_ID], 
        [Extent3].[Authorised_User1] AS [Authorised_User1], 
        [Extent3].[Authorised_User1_DateTime] AS [Authorised_User1_DateTime], 
        [Extent3].[Authorised_User2] AS [Authorised_User2], 
        [Extent3].[Authorised_User2_DateTime] AS [Authorised_User2_DateTime], 
        [Extent3].[Authorised_Number] AS [Authorised_Number], 
        [Extent3].[Security_Type_Code] AS [Security_Type_Code1], 
        [Extent3].[Export_Status] AS [Export_Status], 
        [Extent3].[Order_Ack_Nack_Status] AS [Order_Ack_Nack_Status], 
        [Extent3].[Operations_Status] AS [Operations_Status], 
        [Extent3].[Import_Trade_ID] AS [Import_Trade_ID], 
        1 AS [C1]
        FROM   [dbo].[Cash_Transactions] AS [Extent1]
        LEFT OUTER JOIN [dbo].[Security_Detail] AS [Extent2] ON [Extent1].[Transaction_Security_ID] = [Extent2].[Security_ID]
        LEFT OUTER JOIN [dbo].[Order_Detail] AS [Extent3] ON [Extent1].[Order_ID] = [Extent3].[Order_ID]
        WHERE ([Extent1].[Entity_ID] = @p__linq__0) AND ([Extent1].[Portfolio_Code] = @p__linq__1) AND ([Extent1].[Transaction_Date] <= @p__linq__2)
    )  AS [Project1]
    ORDER BY [Project1].[Transaction_Date] DESC
2018-06-03 13:33:58.4976|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: SELECT 
    CASE WHEN ( EXISTS (SELECT TOP (50) 
        1 AS [C1]
        FROM ( SELECT 
            [Extent1].[Transaction_Date] AS [Transaction_Date]
            FROM [dbo].[Cash_Transactions] AS [Extent1]
            WHERE ([Extent1].[Entity_ID] = @p__linq__0) AND ([Extent1].[Portfolio_Code] = @p__linq__1) AND ([Extent1].[Transaction_Date] <= @p__linq__2)
        )  AS [Project1]
        ORDER BY [Project1].[Transaction_Date] DESC
    )) THEN cast(1 as bit) ELSE cast(0 as bit) END AS [C1]
    FROM  ( SELECT 1 AS X ) AS [SingleRowTable1]
2018-06-03 13:33:58.5871|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: SELECT 
    CASE WHEN ( EXISTS (SELECT TOP (50) 
        1 AS [C1]
        FROM ( SELECT 
            [Extent1].[Transaction_Date] AS [Transaction_Date]
            FROM [dbo].[Cash_Transactions] AS [Extent1]
            WHERE ([Extent1].[Entity_ID] = @p__linq__0) AND ([Extent1].[Portfolio_Code] = @p__linq__1) AND ([Extent1].[Transaction_Date] <= @p__linq__2)
        )  AS [Project1]
        ORDER BY [Project1].[Transaction_Date] DESC
    )) THEN cast(1 as bit) ELSE cast(0 as bit) END AS [C1]
    FROM  ( SELECT 1 AS X ) AS [SingleRowTable1]
2018-06-03 13:33:58.6432|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: SELECT TOP (50) 
    [Project1].[C1] AS [C1], 
    [Project1].[Cash_Transaction_ID] AS [Cash_Transaction_ID], 
    [Project1].[Portfolio_Code] AS [Portfolio_Code], 
    [Project1].[Entity_ID] AS [Entity_ID], 
    [Project1].[Transaction_Security_ID] AS [Transaction_Security_ID], 
    [Project1].[Cash_Security_ID] AS [Cash_Security_ID], 
    [Project1].[Transaction_Source_Code] AS [Transaction_Source_Code], 
    [Project1].[Order_ID] AS [Order_ID], 
    [Project1].[Allocation_ID] AS [Allocation_ID], 
    [Project1].[Cashflow_ID] AS [Cashflow_ID], 
    [Project1].[Dividend_Seq_Number] AS [Dividend_Seq_Number], 
    [Project1].[External_ID] AS [External_ID], 
    [Project1].[Transaction_Date] AS [Transaction_Date], 
    [Project1].[Value_Date] AS [Value_Date], 
    [Project1].[Cash_Transaction_Type] AS [Cash_Transaction_Type], 
    [Project1].[Transaction_Amount] AS [Transaction_Amount], 
    [Project1].[Transaction_Currency_Code] AS [Transaction_Currency_Code], 
    [Project1].[BaseCur_Amount] AS [BaseCur_Amount], 
    [Project1].[Create_User_Code] AS [Create_User_Code], 
    [Project1].[Create_Date] AS [Create_Date], 
    [Project1].[Last_Update_User] AS [Last_Update_User], 
    [Project1].[Last_Update_Date] AS [Last_Update_Date], 
    [Project1].[Security_ID] AS [Security_ID], 
    [Project1].[Entity_ID1] AS [Entity_ID1], 
    [Project1].[Security_Name] AS [Security_Name], 
    [Project1].[Short_Name] AS [Short_Name], 
    [Project1].[Primary_Exch] AS [Primary_Exch], 
    [Project1].[Secondary_Exch] AS [Secondary_Exch], 
    [Project1].[Country_Of_Domicile] AS [Country_Of_Domicile], 
    [Project1].[Country_Of_Risk] AS [Country_Of_Risk], 
    [Project1].[Security_Type_Code] AS [Security_Type_Code], 
    [Project1].[Price_Multiplier] AS [Price_Multiplier], 
    [Project1].[Income_Frequency] AS [Income_Frequency], 
    [Project1].[Issuer_Code] AS [Issuer_Code], 
    [Project1].[Ultimate_Issuer_Code] AS [Ultimate_Issuer_Code], 
    [Project1].[Asset_Currency] AS [Asset_Currency], 
    [Project1].[Min_Lot_Size] AS [Min_Lot_Size], 
    [Project1].[Decimal_Precision] AS [Decimal_Precision], 
    [Project1].[AvePrice_Rounding] AS [AvePrice_Rounding], 
    [Project1].[Issue_Date] AS [Issue_Date], 
    [Project1].[Maturity_Date] AS [Maturity_Date], 
    [Project1].[Coupon_Rate] AS [Coupon_Rate], 
    [Project1].[Price_Exchange] AS [Price_Exchange], 
    [Project1].[Trade_Currency] AS [Trade_Currency], 
    [Project1].[Price_Curr] AS [Price_Curr], 
    [Project1].[Currency_Pair_Code] AS [Currency_Pair_Code], 
    [Project1].[Share_Class] AS [Share_Class], 
    [Project1].[Current_Market_Price] AS [Current_Market_Price], 
    [Project1].[Index_Type] AS [Index_Type], 
    [Project1].[Clean_Price_Formula] AS [Clean_Price_Formula], 
    [Project1].[Accrued_Income_Price_Formula] AS [Accrued_Income_Price_Formula], 
    [Project1].[Odd_First_Coupon_Date] AS [Odd_First_Coupon_Date], 
    [Project1].[Odd_Last_Coupon_Date] AS [Odd_Last_Coupon_Date], 
    [Project1].[Coupon_Anniversary_Indicator] AS [Coupon_Anniversary_Indicator], 
    [Project1].[Track_EOM_Flag] AS [Track_EOM_Flag], 
    [Project1].[Next_Coupon_Date] AS [Next_Coupon_Date], 
    [Project1].[Previous_Coupon_Date] AS [Previous_Coupon_Date], 
    [Project1].[Payment_Frequency] AS [Payment_Frequency], 
    [Project1].[Coupon_BusDay_Adjustment] AS [Coupon_BusDay_Adjustment], 
    [Project1].[Next_Ex_Div_Date] AS [Next_Ex_Div_Date], 
    [Project1].[Ex_Div_BusDay_Adjustment] AS [Ex_Div_BusDay_Adjustment], 
    [Project1].[Ex_Div_Period] AS [Ex_Div_Period], 
    [Project1].[Ticker] AS [Ticker], 
    [Project1].[Inet_ID] AS [Inet_ID], 
    [Project1].[Bloomberg_ID] AS [Bloomberg_ID], 
    [Project1].[External_Sec_ID] AS [External_Sec_ID], 
    [Project1].[Reuters_ID] AS [Reuters_ID], 
    [Project1].[ISIN] AS [ISIN], 
    [Project1].[Call_Account_Flag] AS [Call_Account_Flag], 
    [Project1].[System_Locked] AS [System_Locked], 
    [Project1].[Last_Update_User1] AS [Last_Update_User1], 
    [Project1].[Last_Update_Date1] AS [Last_Update_Date1], 
    [Project1].[Security_Status] AS [Security_Status], 
    [Project1].[Benchmark_Portfolio] AS [Benchmark_Portfolio], 
    [Project1].[Active_flag] AS [Active_flag], 
    [Project1].[Dividend_FX_Security_ID] AS [Dividend_FX_Security_ID], 
    [Project1].[Order_ID1] AS [Order_ID1], 
    [Project1].[Entity_ID2] AS [Entity_ID2], 
    [Project1].[Security_ID1] AS [Security_ID1], 
    [Project1].[Trade_Date] AS [Trade_Date], 
    [Project1].[Settlement_Date] AS [Settlement_Date], 
    [Project1].[Transaction_Type] AS [Transaction_Type], 
    [Project1].[Order_Status] AS [Order_Status], 
    [Project1].[Cancel_Reason_Code] AS [Cancel_Reason_Code], 
    [Project1].[Manager] AS [Manager], 
    [Project1].[Trader] AS [Trader], 
    [Project1].[Operations_User] AS [Operations_User], 
    [Project1].[Order_Instruction] AS [Order_Instruction], 
    [Project1].[Order_Duration] AS [Order_Duration], 
    [Project1].[Limit_Price] AS [Limit_Price], 
    [Project1].[Limit_Yield] AS [Limit_Yield], 
    [Project1].[Limit_Discount] AS [Limit_Discount], 
    [Project1].[Order_Creator] AS [Order_Creator], 
    [Project1].[Order_Create_Date] AS [Order_Create_Date], 
    [Project1].[Last_Update_Date2] AS [Last_Update_Date2], 
    [Project1].[Last_Update_User2] AS [Last_Update_User2], 
    [Project1].[Sent_To_Trading_Date] AS [Sent_To_Trading_Date], 
    [Project1].[Sent_To_Accounting_Date] AS [Sent_To_Accounting_Date], 
    [Project1].[Value_Based_Indicator] AS [Value_Based_Indicator], 
    [Project1].[Target_Clean_Price] AS [Target_Clean_Price], 
    [Project1].[Target_Income_Price] AS [Target_Income_Price], 
    [Project1].[Target_AllIn_Price] AS [Target_AllIn_Price], 
    [Project1].[Target_Yield] AS [Target_Yield], 
    [Project1].[Target_Discount] AS [Target_Discount], 
    [Project1].[Target_Quantity] AS [Target_Quantity], 
    [Project1].[Target_Clean_Amount_TradeCur] AS [Target_Clean_Amount_TradeCur], 
    [Project1].[Target_Income_Amount_TradeCur] AS [Target_Income_Amount_TradeCur], 
    [Project1].[Target_AllIn_Amount_TradeCur] AS [Target_AllIn_Amount_TradeCur], 
    [Project1].[Place_Quantity] AS [Place_Quantity], 
    [Project1].[Execution_Quantity] AS [Execution_Quantity], 
    [Project1].[Execution_Clean_Amount_TradeCur] AS [Execution_Clean_Amount_TradeCur], 
    [Project1].[Execution_Income_Amount_TradeCur] AS [Execution_Income_Amount_TradeCur], 
    [Project1].[Execution_AllIn_Amount_TradeCur] AS [Execution_AllIn_Amount_TradeCur], 
    [Project1].[Broker_Code] AS [Broker_Code], 
    [Project1].[Execution_Clean_Price] AS [Execution_Clean_Price], 
    [Project1].[Execution_Income_Price] AS [Execution_Income_Price], 
    [Project1].[Execution_AllIn_Price] AS [Execution_AllIn_Price], 
    [Project1].[Execution_Yield] AS [Execution_Yield], 
    [Project1].[Execution_Discount] AS [Execution_Discount], 
    [Project1].[Execution_Currency] AS [Execution_Currency], 
    [Project1].[Execution_Exchange] AS [Execution_Exchange], 
    [Project1].[Target_FX_Rate] AS [Target_FX_Rate], 
    [Project1].[Limit_FX_Rate] AS [Limit_FX_Rate], 
    [Project1].[Execution_FX_Rate] AS [Execution_FX_Rate], 
    [Project1].[Buy_Currency_Code] AS [Buy_Currency_Code], 
    [Project1].[Buy_Currency_Execution_Amount] AS [Buy_Currency_Execution_Amount], 
    [Project1].[Buy_Currency_Target_Amount] AS [Buy_Currency_Target_Amount], 
    [Project1].[Sell_Currency_Code] AS [Sell_Currency_Code], 
    [Project1].[Sell_Currency_Execution_Amount] AS [Sell_Currency_Execution_Amount], 
    [Project1].[Sell_Currency_Target_Amount] AS [Sell_Currency_Target_Amount], 
    [Project1].[Commission_Amount_TradeCur] AS [Commission_Amount_TradeCur], 
    [Project1].[Trade_Type_Indicator] AS [Trade_Type_Indicator], 
    [Project1].[Commission_Rate] AS [Commission_Rate], 
    [Project1].[Commission_Type] AS [Commission_Type], 
    [Project1].[Fee_Code1] AS [Fee_Code1], 
    [Project1].[Fee_Code2] AS [Fee_Code2], 
    [Project1].[Fee_Code3] AS [Fee_Code3], 
    [Project1].[Fee_Code4] AS [Fee_Code4], 
    [Project1].[Fee_Code5] AS [Fee_Code5], 
    [Project1].[Fee_Code6] AS [Fee_Code6], 
    [Project1].[Fee_Amount1_TradeCur] AS [Fee_Amount1_TradeCur], 
    [Project1].[Fee_Amount2_TradeCur] AS [Fee_Amount2_TradeCur], 
    [Project1].[Fee_Amount3_TradeCur] AS [Fee_Amount3_TradeCur], 
    [Project1].[Fee_Amount4_TradeCur] AS [Fee_Amount4_TradeCur], 
    [Project1].[Fee_Amount5_TradeCur] AS [Fee_Amount5_TradeCur], 
    [Project1].[Fee_Amount6_TradeCur] AS [Fee_Amount6_TradeCur], 
    [Project1].[Tax_Amount_TradeCur] AS [Tax_Amount_TradeCur], 
    [Project1].[Tax_Type] AS [Tax_Type], 
    [Project1].[Tax_Charge_FeeNum] AS [Tax_Charge_FeeNum], 
    [Project1].[Execution_Gross_Amount_TradeCur] AS [Execution_Gross_Amount_TradeCur], 
    [Project1].[Execution_Net_Amount_TradeCur] AS [Execution_Net_Amount_TradeCur], 
    [Project1].[Related_Order_ID] AS [Related_Order_ID], 
    [Project1].[Previous_Order_ID] AS [Previous_Order_ID], 
    [Project1].[Authorised_User1] AS [Authorised_User1], 
    [Project1].[Authorised_User1_DateTime] AS [Authorised_User1_DateTime], 
    [Project1].[Authorised_User2] AS [Authorised_User2], 
    [Project1].[Authorised_User2_DateTime] AS [Authorised_User2_DateTime], 
    [Project1].[Authorised_Number] AS [Authorised_Number], 
    [Project1].[Security_Type_Code1] AS [Security_Type_Code1], 
    [Project1].[Export_Status] AS [Export_Status], 
    [Project1].[Order_Ack_Nack_Status] AS [Order_Ack_Nack_Status], 
    [Project1].[Operations_Status] AS [Operations_Status], 
    [Project1].[Import_Trade_ID] AS [Import_Trade_ID]
    FROM ( SELECT 
        [Extent1].[Cash_Transaction_ID] AS [Cash_Transaction_ID], 
        [Extent1].[Portfolio_Code] AS [Portfolio_Code], 
        [Extent1].[Entity_ID] AS [Entity_ID], 
        [Extent1].[Transaction_Security_ID] AS [Transaction_Security_ID], 
        [Extent1].[Cash_Security_ID] AS [Cash_Security_ID], 
        [Extent1].[Transaction_Source_Code] AS [Transaction_Source_Code], 
        [Extent1].[Order_ID] AS [Order_ID], 
        [Extent1].[Allocation_ID] AS [Allocation_ID], 
        [Extent1].[Cashflow_ID] AS [Cashflow_ID], 
        [Extent1].[Dividend_Seq_Number] AS [Dividend_Seq_Number], 
        [Extent1].[External_ID] AS [External_ID], 
        [Extent1].[Transaction_Date] AS [Transaction_Date], 
        [Extent1].[Value_Date] AS [Value_Date], 
        [Extent1].[Cash_Transaction_Type] AS [Cash_Transaction_Type], 
        [Extent1].[Transaction_Amount] AS [Transaction_Amount], 
        [Extent1].[Transaction_Currency_Code] AS [Transaction_Currency_Code], 
        [Extent1].[BaseCur_Amount] AS [BaseCur_Amount], 
        [Extent1].[Create_User_Code] AS [Create_User_Code], 
        [Extent1].[Create_Date] AS [Create_Date], 
        [Extent1].[Last_Update_User] AS [Last_Update_User], 
        [Extent1].[Last_Update_Date] AS [Last_Update_Date], 
        [Extent2].[Security_ID] AS [Security_ID], 
        [Extent2].[Entity_ID] AS [Entity_ID1], 
        [Extent2].[Security_Name] AS [Security_Name], 
        [Extent2].[Short_Name] AS [Short_Name], 
        [Extent2].[Primary_Exch] AS [Primary_Exch], 
        [Extent2].[Secondary_Exch] AS [Secondary_Exch], 
        [Extent2].[Country_Of_Domicile] AS [Country_Of_Domicile], 
        [Extent2].[Country_Of_Risk] AS [Country_Of_Risk], 
        [Extent2].[Security_Type_Code] AS [Security_Type_Code], 
        [Extent2].[Price_Multiplier] AS [Price_Multiplier], 
        [Extent2].[Income_Frequency] AS [Income_Frequency], 
        [Extent2].[Issuer_Code] AS [Issuer_Code], 
        [Extent2].[Ultimate_Issuer_Code] AS [Ultimate_Issuer_Code], 
        [Extent2].[Asset_Currency] AS [Asset_Currency], 
        [Extent2].[Min_Lot_Size] AS [Min_Lot_Size], 
        [Extent2].[Decimal_Precision] AS [Decimal_Precision], 
        [Extent2].[AvePrice_Rounding] AS [AvePrice_Rounding], 
        [Extent2].[Issue_Date] AS [Issue_Date], 
        [Extent2].[Maturity_Date] AS [Maturity_Date], 
        [Extent2].[Coupon_Rate] AS [Coupon_Rate], 
        [Extent2].[Price_Exchange] AS [Price_Exchange], 
        [Extent2].[Trade_Currency] AS [Trade_Currency], 
        [Extent2].[Price_Curr] AS [Price_Curr], 
        [Extent2].[Currency_Pair_Code] AS [Currency_Pair_Code], 
        [Extent2].[Share_Class] AS [Share_Class], 
        [Extent2].[Current_Market_Price] AS [Current_Market_Price], 
        [Extent2].[Index_Type] AS [Index_Type], 
        [Extent2].[Clean_Price_Formula] AS [Clean_Price_Formula], 
        [Extent2].[Accrued_Income_Price_Formula] AS [Accrued_Income_Price_Formula], 
        [Extent2].[Odd_First_Coupon_Date] AS [Odd_First_Coupon_Date], 
        [Extent2].[Odd_Last_Coupon_Date] AS [Odd_Last_Coupon_Date], 
        [Extent2].[Coupon_Anniversary_Indicator] AS [Coupon_Anniversary_Indicator], 
        [Extent2].[Track_EOM_Flag] AS [Track_EOM_Flag], 
        [Extent2].[Next_Coupon_Date] AS [Next_Coupon_Date], 
        [Extent2].[Previous_Coupon_Date] AS [Previous_Coupon_Date], 
        [Extent2].[Payment_Frequency] AS [Payment_Frequency], 
        [Extent2].[Coupon_BusDay_Adjustment] AS [Coupon_BusDay_Adjustment], 
        [Extent2].[Next_Ex_Div_Date] AS [Next_Ex_Div_Date], 
        [Extent2].[Ex_Div_BusDay_Adjustment] AS [Ex_Div_BusDay_Adjustment], 
        [Extent2].[Ex_Div_Period] AS [Ex_Div_Period], 
        [Extent2].[Ticker] AS [Ticker], 
        [Extent2].[Inet_ID] AS [Inet_ID], 
        [Extent2].[Bloomberg_ID] AS [Bloomberg_ID], 
        [Extent2].[External_Sec_ID] AS [External_Sec_ID], 
        [Extent2].[Reuters_ID] AS [Reuters_ID], 
        [Extent2].[ISIN] AS [ISIN], 
        [Extent2].[Call_Account_Flag] AS [Call_Account_Flag], 
        [Extent2].[System_Locked] AS [System_Locked], 
        [Extent2].[Last_Update_User] AS [Last_Update_User1], 
        [Extent2].[Last_Update_Date] AS [Last_Update_Date1], 
        [Extent2].[Security_Status] AS [Security_Status], 
        [Extent2].[Benchmark_Portfolio] AS [Benchmark_Portfolio], 
        [Extent2].[Active_flag] AS [Active_flag], 
        [Extent2].[Dividend_FX_Security_ID] AS [Dividend_FX_Security_ID], 
        [Extent3].[Order_ID] AS [Order_ID1], 
        [Extent3].[Entity_ID] AS [Entity_ID2], 
        [Extent3].[Security_ID] AS [Security_ID1], 
        [Extent3].[Trade_Date] AS [Trade_Date], 
        [Extent3].[Settlement_Date] AS [Settlement_Date], 
        [Extent3].[Transaction_Type] AS [Transaction_Type], 
        [Extent3].[Order_Status] AS [Order_Status], 
        [Extent3].[Cancel_Reason_Code] AS [Cancel_Reason_Code], 
        [Extent3].[Manager] AS [Manager], 
        [Extent3].[Trader] AS [Trader], 
        [Extent3].[Operations_User] AS [Operations_User], 
        [Extent3].[Order_Instruction] AS [Order_Instruction], 
        [Extent3].[Order_Duration] AS [Order_Duration], 
        [Extent3].[Limit_Price] AS [Limit_Price], 
        [Extent3].[Limit_Yield] AS [Limit_Yield], 
        [Extent3].[Limit_Discount] AS [Limit_Discount], 
        [Extent3].[Order_Creator] AS [Order_Creator], 
        [Extent3].[Order_Create_Date] AS [Order_Create_Date], 
        [Extent3].[Last_Update_Date] AS [Last_Update_Date2], 
        [Extent3].[Last_Update_User] AS [Last_Update_User2], 
        [Extent3].[Sent_To_Trading_Date] AS [Sent_To_Trading_Date], 
        [Extent3].[Sent_To_Accounting_Date] AS [Sent_To_Accounting_Date], 
        [Extent3].[Value_Based_Indicator] AS [Value_Based_Indicator], 
        [Extent3].[Target_Clean_Price] AS [Target_Clean_Price], 
        [Extent3].[Target_Income_Price] AS [Target_Income_Price], 
        [Extent3].[Target_AllIn_Price] AS [Target_AllIn_Price], 
        [Extent3].[Target_Yield] AS [Target_Yield], 
        [Extent3].[Target_Discount] AS [Target_Discount], 
        [Extent3].[Target_Quantity] AS [Target_Quantity], 
        [Extent3].[Target_Clean_Amount_TradeCur] AS [Target_Clean_Amount_TradeCur], 
        [Extent3].[Target_Income_Amount_TradeCur] AS [Target_Income_Amount_TradeCur], 
        [Extent3].[Target_AllIn_Amount_TradeCur] AS [Target_AllIn_Amount_TradeCur], 
        [Extent3].[Place_Quantity] AS [Place_Quantity], 
        [Extent3].[Execution_Quantity] AS [Execution_Quantity], 
        [Extent3].[Execution_Clean_Amount_TradeCur] AS [Execution_Clean_Amount_TradeCur], 
        [Extent3].[Execution_Income_Amount_TradeCur] AS [Execution_Income_Amount_TradeCur], 
        [Extent3].[Execution_AllIn_Amount_TradeCur] AS [Execution_AllIn_Amount_TradeCur], 
        [Extent3].[Broker_Code] AS [Broker_Code], 
        [Extent3].[Execution_Clean_Price] AS [Execution_Clean_Price], 
        [Extent3].[Execution_Income_Price] AS [Execution_Income_Price], 
        [Extent3].[Execution_AllIn_Price] AS [Execution_AllIn_Price], 
        [Extent3].[Execution_Yield] AS [Execution_Yield], 
        [Extent3].[Execution_Discount] AS [Execution_Discount], 
        [Extent3].[Execution_Currency] AS [Execution_Currency], 
        [Extent3].[Execution_Exchange] AS [Execution_Exchange], 
        [Extent3].[Target_FX_Rate] AS [Target_FX_Rate], 
        [Extent3].[Limit_FX_Rate] AS [Limit_FX_Rate], 
        [Extent3].[Execution_FX_Rate] AS [Execution_FX_Rate], 
        [Extent3].[Buy_Currency_Code] AS [Buy_Currency_Code], 
        [Extent3].[Buy_Currency_Execution_Amount] AS [Buy_Currency_Execution_Amount], 
        [Extent3].[Buy_Currency_Target_Amount] AS [Buy_Currency_Target_Amount], 
        [Extent3].[Sell_Currency_Code] AS [Sell_Currency_Code], 
        [Extent3].[Sell_Currency_Execution_Amount] AS [Sell_Currency_Execution_Amount], 
        [Extent3].[Sell_Currency_Target_Amount] AS [Sell_Currency_Target_Amount], 
        [Extent3].[Commission_Amount_TradeCur] AS [Commission_Amount_TradeCur], 
        [Extent3].[Trade_Type_Indicator] AS [Trade_Type_Indicator], 
        [Extent3].[Commission_Rate] AS [Commission_Rate], 
        [Extent3].[Commission_Type] AS [Commission_Type], 
        [Extent3].[Fee_Code1] AS [Fee_Code1], 
        [Extent3].[Fee_Code2] AS [Fee_Code2], 
        [Extent3].[Fee_Code3] AS [Fee_Code3], 
        [Extent3].[Fee_Code4] AS [Fee_Code4], 
        [Extent3].[Fee_Code5] AS [Fee_Code5], 
        [Extent3].[Fee_Code6] AS [Fee_Code6], 
        [Extent3].[Fee_Amount1_TradeCur] AS [Fee_Amount1_TradeCur], 
        [Extent3].[Fee_Amount2_TradeCur] AS [Fee_Amount2_TradeCur], 
        [Extent3].[Fee_Amount3_TradeCur] AS [Fee_Amount3_TradeCur], 
        [Extent3].[Fee_Amount4_TradeCur] AS [Fee_Amount4_TradeCur], 
        [Extent3].[Fee_Amount5_TradeCur] AS [Fee_Amount5_TradeCur], 
        [Extent3].[Fee_Amount6_TradeCur] AS [Fee_Amount6_TradeCur], 
        [Extent3].[Tax_Amount_TradeCur] AS [Tax_Amount_TradeCur], 
        [Extent3].[Tax_Type] AS [Tax_Type], 
        [Extent3].[Tax_Charge_FeeNum] AS [Tax_Charge_FeeNum], 
        [Extent3].[Execution_Gross_Amount_TradeCur] AS [Execution_Gross_Amount_TradeCur], 
        [Extent3].[Execution_Net_Amount_TradeCur] AS [Execution_Net_Amount_TradeCur], 
        [Extent3].[Related_Order_ID] AS [Related_Order_ID], 
        [Extent3].[Previous_Order_ID] AS [Previous_Order_ID], 
        [Extent3].[Authorised_User1] AS [Authorised_User1], 
        [Extent3].[Authorised_User1_DateTime] AS [Authorised_User1_DateTime], 
        [Extent3].[Authorised_User2] AS [Authorised_User2], 
        [Extent3].[Authorised_User2_DateTime] AS [Authorised_User2_DateTime], 
        [Extent3].[Authorised_Number] AS [Authorised_Number], 
        [Extent3].[Security_Type_Code] AS [Security_Type_Code1], 
        [Extent3].[Export_Status] AS [Export_Status], 
        [Extent3].[Order_Ack_Nack_Status] AS [Order_Ack_Nack_Status], 
        [Extent3].[Operations_Status] AS [Operations_Status], 
        [Extent3].[Import_Trade_ID] AS [Import_Trade_ID], 
        1 AS [C1]
        FROM   [dbo].[Cash_Transactions] AS [Extent1]
        LEFT OUTER JOIN [dbo].[Security_Detail] AS [Extent2] ON [Extent1].[Transaction_Security_ID] = [Extent2].[Security_ID]
        LEFT OUTER JOIN [dbo].[Order_Detail] AS [Extent3] ON [Extent1].[Order_ID] = [Extent3].[Order_ID]
        WHERE ([Extent1].[Entity_ID] = @p__linq__0) AND ([Extent1].[Portfolio_Code] = @p__linq__1) AND ([Extent1].[Transaction_Date] <= @p__linq__2)
    )  AS [Project1]
    ORDER BY [Project1].[Transaction_Date] DESC
2018-06-03 13:33:58.7518|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: SELECT TOP (50) 
    [Project1].[C1] AS [C1], 
    [Project1].[Cash_Transaction_ID] AS [Cash_Transaction_ID], 
    [Project1].[Portfolio_Code] AS [Portfolio_Code], 
    [Project1].[Entity_ID] AS [Entity_ID], 
    [Project1].[Transaction_Security_ID] AS [Transaction_Security_ID], 
    [Project1].[Cash_Security_ID] AS [Cash_Security_ID], 
    [Project1].[Transaction_Source_Code] AS [Transaction_Source_Code], 
    [Project1].[Order_ID] AS [Order_ID], 
    [Project1].[Allocation_ID] AS [Allocation_ID], 
    [Project1].[Cashflow_ID] AS [Cashflow_ID], 
    [Project1].[Dividend_Seq_Number] AS [Dividend_Seq_Number], 
    [Project1].[External_ID] AS [External_ID], 
    [Project1].[Transaction_Date] AS [Transaction_Date], 
    [Project1].[Value_Date] AS [Value_Date], 
    [Project1].[Cash_Transaction_Type] AS [Cash_Transaction_Type], 
    [Project1].[Transaction_Amount] AS [Transaction_Amount], 
    [Project1].[Transaction_Currency_Code] AS [Transaction_Currency_Code], 
    [Project1].[BaseCur_Amount] AS [BaseCur_Amount], 
    [Project1].[Create_User_Code] AS [Create_User_Code], 
    [Project1].[Create_Date] AS [Create_Date], 
    [Project1].[Last_Update_User] AS [Last_Update_User], 
    [Project1].[Last_Update_Date] AS [Last_Update_Date], 
    [Project1].[Security_ID] AS [Security_ID], 
    [Project1].[Entity_ID1] AS [Entity_ID1], 
    [Project1].[Security_Name] AS [Security_Name], 
    [Project1].[Short_Name] AS [Short_Name], 
    [Project1].[Primary_Exch] AS [Primary_Exch], 
    [Project1].[Secondary_Exch] AS [Secondary_Exch], 
    [Project1].[Country_Of_Domicile] AS [Country_Of_Domicile], 
    [Project1].[Country_Of_Risk] AS [Country_Of_Risk], 
    [Project1].[Security_Type_Code] AS [Security_Type_Code], 
    [Project1].[Price_Multiplier] AS [Price_Multiplier], 
    [Project1].[Income_Frequency] AS [Income_Frequency], 
    [Project1].[Issuer_Code] AS [Issuer_Code], 
    [Project1].[Ultimate_Issuer_Code] AS [Ultimate_Issuer_Code], 
    [Project1].[Asset_Currency] AS [Asset_Currency], 
    [Project1].[Min_Lot_Size] AS [Min_Lot_Size], 
    [Project1].[Decimal_Precision] AS [Decimal_Precision], 
    [Project1].[AvePrice_Rounding] AS [AvePrice_Rounding], 
    [Project1].[Issue_Date] AS [Issue_Date], 
    [Project1].[Maturity_Date] AS [Maturity_Date], 
    [Project1].[Coupon_Rate] AS [Coupon_Rate], 
    [Project1].[Price_Exchange] AS [Price_Exchange], 
    [Project1].[Trade_Currency] AS [Trade_Currency], 
    [Project1].[Price_Curr] AS [Price_Curr], 
    [Project1].[Currency_Pair_Code] AS [Currency_Pair_Code], 
    [Project1].[Share_Class] AS [Share_Class], 
    [Project1].[Current_Market_Price] AS [Current_Market_Price], 
    [Project1].[Index_Type] AS [Index_Type], 
    [Project1].[Clean_Price_Formula] AS [Clean_Price_Formula], 
    [Project1].[Accrued_Income_Price_Formula] AS [Accrued_Income_Price_Formula], 
    [Project1].[Odd_First_Coupon_Date] AS [Odd_First_Coupon_Date], 
    [Project1].[Odd_Last_Coupon_Date] AS [Odd_Last_Coupon_Date], 
    [Project1].[Coupon_Anniversary_Indicator] AS [Coupon_Anniversary_Indicator], 
    [Project1].[Track_EOM_Flag] AS [Track_EOM_Flag], 
    [Project1].[Next_Coupon_Date] AS [Next_Coupon_Date], 
    [Project1].[Previous_Coupon_Date] AS [Previous_Coupon_Date], 
    [Project1].[Payment_Frequency] AS [Payment_Frequency], 
    [Project1].[Coupon_BusDay_Adjustment] AS [Coupon_BusDay_Adjustment], 
    [Project1].[Next_Ex_Div_Date] AS [Next_Ex_Div_Date], 
    [Project1].[Ex_Div_BusDay_Adjustment] AS [Ex_Div_BusDay_Adjustment], 
    [Project1].[Ex_Div_Period] AS [Ex_Div_Period], 
    [Project1].[Ticker] AS [Ticker], 
    [Project1].[Inet_ID] AS [Inet_ID], 
    [Project1].[Bloomberg_ID] AS [Bloomberg_ID], 
    [Project1].[External_Sec_ID] AS [External_Sec_ID], 
    [Project1].[Reuters_ID] AS [Reuters_ID], 
    [Project1].[ISIN] AS [ISIN], 
    [Project1].[Call_Account_Flag] AS [Call_Account_Flag], 
    [Project1].[System_Locked] AS [System_Locked], 
    [Project1].[Last_Update_User1] AS [Last_Update_User1], 
    [Project1].[Last_Update_Date1] AS [Last_Update_Date1], 
    [Project1].[Security_Status] AS [Security_Status], 
    [Project1].[Benchmark_Portfolio] AS [Benchmark_Portfolio], 
    [Project1].[Active_flag] AS [Active_flag], 
    [Project1].[Dividend_FX_Security_ID] AS [Dividend_FX_Security_ID], 
    [Project1].[Order_ID1] AS [Order_ID1], 
    [Project1].[Entity_ID2] AS [Entity_ID2], 
    [Project1].[Security_ID1] AS [Security_ID1], 
    [Project1].[Trade_Date] AS [Trade_Date], 
    [Project1].[Settlement_Date] AS [Settlement_Date], 
    [Project1].[Transaction_Type] AS [Transaction_Type], 
    [Project1].[Order_Status] AS [Order_Status], 
    [Project1].[Cancel_Reason_Code] AS [Cancel_Reason_Code], 
    [Project1].[Manager] AS [Manager], 
    [Project1].[Trader] AS [Trader], 
    [Project1].[Operations_User] AS [Operations_User], 
    [Project1].[Order_Instruction] AS [Order_Instruction], 
    [Project1].[Order_Duration] AS [Order_Duration], 
    [Project1].[Limit_Price] AS [Limit_Price], 
    [Project1].[Limit_Yield] AS [Limit_Yield], 
    [Project1].[Limit_Discount] AS [Limit_Discount], 
    [Project1].[Order_Creator] AS [Order_Creator], 
    [Project1].[Order_Create_Date] AS [Order_Create_Date], 
    [Project1].[Last_Update_Date2] AS [Last_Update_Date2], 
    [Project1].[Last_Update_User2] AS [Last_Update_User2], 
    [Project1].[Sent_To_Trading_Date] AS [Sent_To_Trading_Date], 
    [Project1].[Sent_To_Accounting_Date] AS [Sent_To_Accounting_Date], 
    [Project1].[Value_Based_Indicator] AS [Value_Based_Indicator], 
    [Project1].[Target_Clean_Price] AS [Target_Clean_Price], 
    [Project1].[Target_Income_Price] AS [Target_Income_Price], 
    [Project1].[Target_AllIn_Price] AS [Target_AllIn_Price], 
    [Project1].[Target_Yield] AS [Target_Yield], 
    [Project1].[Target_Discount] AS [Target_Discount], 
    [Project1].[Target_Quantity] AS [Target_Quantity], 
    [Project1].[Target_Clean_Amount_TradeCur] AS [Target_Clean_Amount_TradeCur], 
    [Project1].[Target_Income_Amount_TradeCur] AS [Target_Income_Amount_TradeCur], 
    [Project1].[Target_AllIn_Amount_TradeCur] AS [Target_AllIn_Amount_TradeCur], 
    [Project1].[Place_Quantity] AS [Place_Quantity], 
    [Project1].[Execution_Quantity] AS [Execution_Quantity], 
    [Project1].[Execution_Clean_Amount_TradeCur] AS [Execution_Clean_Amount_TradeCur], 
    [Project1].[Execution_Income_Amount_TradeCur] AS [Execution_Income_Amount_TradeCur], 
    [Project1].[Execution_AllIn_Amount_TradeCur] AS [Execution_AllIn_Amount_TradeCur], 
    [Project1].[Broker_Code] AS [Broker_Code], 
    [Project1].[Execution_Clean_Price] AS [Execution_Clean_Price], 
    [Project1].[Execution_Income_Price] AS [Execution_Income_Price], 
    [Project1].[Execution_AllIn_Price] AS [Execution_AllIn_Price], 
    [Project1].[Execution_Yield] AS [Execution_Yield], 
    [Project1].[Execution_Discount] AS [Execution_Discount], 
    [Project1].[Execution_Currency] AS [Execution_Currency], 
    [Project1].[Execution_Exchange] AS [Execution_Exchange], 
    [Project1].[Target_FX_Rate] AS [Target_FX_Rate], 
    [Project1].[Limit_FX_Rate] AS [Limit_FX_Rate], 
    [Project1].[Execution_FX_Rate] AS [Execution_FX_Rate], 
    [Project1].[Buy_Currency_Code] AS [Buy_Currency_Code], 
    [Project1].[Buy_Currency_Execution_Amount] AS [Buy_Currency_Execution_Amount], 
    [Project1].[Buy_Currency_Target_Amount] AS [Buy_Currency_Target_Amount], 
    [Project1].[Sell_Currency_Code] AS [Sell_Currency_Code], 
    [Project1].[Sell_Currency_Execution_Amount] AS [Sell_Currency_Execution_Amount], 
    [Project1].[Sell_Currency_Target_Amount] AS [Sell_Currency_Target_Amount], 
    [Project1].[Commission_Amount_TradeCur] AS [Commission_Amount_TradeCur], 
    [Project1].[Trade_Type_Indicator] AS [Trade_Type_Indicator], 
    [Project1].[Commission_Rate] AS [Commission_Rate], 
    [Project1].[Commission_Type] AS [Commission_Type], 
    [Project1].[Fee_Code1] AS [Fee_Code1], 
    [Project1].[Fee_Code2] AS [Fee_Code2], 
    [Project1].[Fee_Code3] AS [Fee_Code3], 
    [Project1].[Fee_Code4] AS [Fee_Code4], 
    [Project1].[Fee_Code5] AS [Fee_Code5], 
    [Project1].[Fee_Code6] AS [Fee_Code6], 
    [Project1].[Fee_Amount1_TradeCur] AS [Fee_Amount1_TradeCur], 
    [Project1].[Fee_Amount2_TradeCur] AS [Fee_Amount2_TradeCur], 
    [Project1].[Fee_Amount3_TradeCur] AS [Fee_Amount3_TradeCur], 
    [Project1].[Fee_Amount4_TradeCur] AS [Fee_Amount4_TradeCur], 
    [Project1].[Fee_Amount5_TradeCur] AS [Fee_Amount5_TradeCur], 
    [Project1].[Fee_Amount6_TradeCur] AS [Fee_Amount6_TradeCur], 
    [Project1].[Tax_Amount_TradeCur] AS [Tax_Amount_TradeCur], 
    [Project1].[Tax_Type] AS [Tax_Type], 
    [Project1].[Tax_Charge_FeeNum] AS [Tax_Charge_FeeNum], 
    [Project1].[Execution_Gross_Amount_TradeCur] AS [Execution_Gross_Amount_TradeCur], 
    [Project1].[Execution_Net_Amount_TradeCur] AS [Execution_Net_Amount_TradeCur], 
    [Project1].[Related_Order_ID] AS [Related_Order_ID], 
    [Project1].[Previous_Order_ID] AS [Previous_Order_ID], 
    [Project1].[Authorised_User1] AS [Authorised_User1], 
    [Project1].[Authorised_User1_DateTime] AS [Authorised_User1_DateTime], 
    [Project1].[Authorised_User2] AS [Authorised_User2], 
    [Project1].[Authorised_User2_DateTime] AS [Authorised_User2_DateTime], 
    [Project1].[Authorised_Number] AS [Authorised_Number], 
    [Project1].[Security_Type_Code1] AS [Security_Type_Code1], 
    [Project1].[Export_Status] AS [Export_Status], 
    [Project1].[Order_Ack_Nack_Status] AS [Order_Ack_Nack_Status], 
    [Project1].[Operations_Status] AS [Operations_Status], 
    [Project1].[Import_Trade_ID] AS [Import_Trade_ID]
    FROM ( SELECT 
        [Extent1].[Cash_Transaction_ID] AS [Cash_Transaction_ID], 
        [Extent1].[Portfolio_Code] AS [Portfolio_Code], 
        [Extent1].[Entity_ID] AS [Entity_ID], 
        [Extent1].[Transaction_Security_ID] AS [Transaction_Security_ID], 
        [Extent1].[Cash_Security_ID] AS [Cash_Security_ID], 
        [Extent1].[Transaction_Source_Code] AS [Transaction_Source_Code], 
        [Extent1].[Order_ID] AS [Order_ID], 
        [Extent1].[Allocation_ID] AS [Allocation_ID], 
        [Extent1].[Cashflow_ID] AS [Cashflow_ID], 
        [Extent1].[Dividend_Seq_Number] AS [Dividend_Seq_Number], 
        [Extent1].[External_ID] AS [External_ID], 
        [Extent1].[Transaction_Date] AS [Transaction_Date], 
        [Extent1].[Value_Date] AS [Value_Date], 
        [Extent1].[Cash_Transaction_Type] AS [Cash_Transaction_Type], 
        [Extent1].[Transaction_Amount] AS [Transaction_Amount], 
        [Extent1].[Transaction_Currency_Code] AS [Transaction_Currency_Code], 
        [Extent1].[BaseCur_Amount] AS [BaseCur_Amount], 
        [Extent1].[Create_User_Code] AS [Create_User_Code], 
        [Extent1].[Create_Date] AS [Create_Date], 
        [Extent1].[Last_Update_User] AS [Last_Update_User], 
        [Extent1].[Last_Update_Date] AS [Last_Update_Date], 
        [Extent2].[Security_ID] AS [Security_ID], 
        [Extent2].[Entity_ID] AS [Entity_ID1], 
        [Extent2].[Security_Name] AS [Security_Name], 
        [Extent2].[Short_Name] AS [Short_Name], 
        [Extent2].[Primary_Exch] AS [Primary_Exch], 
        [Extent2].[Secondary_Exch] AS [Secondary_Exch], 
        [Extent2].[Country_Of_Domicile] AS [Country_Of_Domicile], 
        [Extent2].[Country_Of_Risk] AS [Country_Of_Risk], 
        [Extent2].[Security_Type_Code] AS [Security_Type_Code], 
        [Extent2].[Price_Multiplier] AS [Price_Multiplier], 
        [Extent2].[Income_Frequency] AS [Income_Frequency], 
        [Extent2].[Issuer_Code] AS [Issuer_Code], 
        [Extent2].[Ultimate_Issuer_Code] AS [Ultimate_Issuer_Code], 
        [Extent2].[Asset_Currency] AS [Asset_Currency], 
        [Extent2].[Min_Lot_Size] AS [Min_Lot_Size], 
        [Extent2].[Decimal_Precision] AS [Decimal_Precision], 
        [Extent2].[AvePrice_Rounding] AS [AvePrice_Rounding], 
        [Extent2].[Issue_Date] AS [Issue_Date], 
        [Extent2].[Maturity_Date] AS [Maturity_Date], 
        [Extent2].[Coupon_Rate] AS [Coupon_Rate], 
        [Extent2].[Price_Exchange] AS [Price_Exchange], 
        [Extent2].[Trade_Currency] AS [Trade_Currency], 
        [Extent2].[Price_Curr] AS [Price_Curr], 
        [Extent2].[Currency_Pair_Code] AS [Currency_Pair_Code], 
        [Extent2].[Share_Class] AS [Share_Class], 
        [Extent2].[Current_Market_Price] AS [Current_Market_Price], 
        [Extent2].[Index_Type] AS [Index_Type], 
        [Extent2].[Clean_Price_Formula] AS [Clean_Price_Formula], 
        [Extent2].[Accrued_Income_Price_Formula] AS [Accrued_Income_Price_Formula], 
        [Extent2].[Odd_First_Coupon_Date] AS [Odd_First_Coupon_Date], 
        [Extent2].[Odd_Last_Coupon_Date] AS [Odd_Last_Coupon_Date], 
        [Extent2].[Coupon_Anniversary_Indicator] AS [Coupon_Anniversary_Indicator], 
        [Extent2].[Track_EOM_Flag] AS [Track_EOM_Flag], 
        [Extent2].[Next_Coupon_Date] AS [Next_Coupon_Date], 
        [Extent2].[Previous_Coupon_Date] AS [Previous_Coupon_Date], 
        [Extent2].[Payment_Frequency] AS [Payment_Frequency], 
        [Extent2].[Coupon_BusDay_Adjustment] AS [Coupon_BusDay_Adjustment], 
        [Extent2].[Next_Ex_Div_Date] AS [Next_Ex_Div_Date], 
        [Extent2].[Ex_Div_BusDay_Adjustment] AS [Ex_Div_BusDay_Adjustment], 
        [Extent2].[Ex_Div_Period] AS [Ex_Div_Period], 
        [Extent2].[Ticker] AS [Ticker], 
        [Extent2].[Inet_ID] AS [Inet_ID], 
        [Extent2].[Bloomberg_ID] AS [Bloomberg_ID], 
        [Extent2].[External_Sec_ID] AS [External_Sec_ID], 
        [Extent2].[Reuters_ID] AS [Reuters_ID], 
        [Extent2].[ISIN] AS [ISIN], 
        [Extent2].[Call_Account_Flag] AS [Call_Account_Flag], 
        [Extent2].[System_Locked] AS [System_Locked], 
        [Extent2].[Last_Update_User] AS [Last_Update_User1], 
        [Extent2].[Last_Update_Date] AS [Last_Update_Date1], 
        [Extent2].[Security_Status] AS [Security_Status], 
        [Extent2].[Benchmark_Portfolio] AS [Benchmark_Portfolio], 
        [Extent2].[Active_flag] AS [Active_flag], 
        [Extent2].[Dividend_FX_Security_ID] AS [Dividend_FX_Security_ID], 
        [Extent3].[Order_ID] AS [Order_ID1], 
        [Extent3].[Entity_ID] AS [Entity_ID2], 
        [Extent3].[Security_ID] AS [Security_ID1], 
        [Extent3].[Trade_Date] AS [Trade_Date], 
        [Extent3].[Settlement_Date] AS [Settlement_Date], 
        [Extent3].[Transaction_Type] AS [Transaction_Type], 
        [Extent3].[Order_Status] AS [Order_Status], 
        [Extent3].[Cancel_Reason_Code] AS [Cancel_Reason_Code], 
        [Extent3].[Manager] AS [Manager], 
        [Extent3].[Trader] AS [Trader], 
        [Extent3].[Operations_User] AS [Operations_User], 
        [Extent3].[Order_Instruction] AS [Order_Instruction], 
        [Extent3].[Order_Duration] AS [Order_Duration], 
        [Extent3].[Limit_Price] AS [Limit_Price], 
        [Extent3].[Limit_Yield] AS [Limit_Yield], 
        [Extent3].[Limit_Discount] AS [Limit_Discount], 
        [Extent3].[Order_Creator] AS [Order_Creator], 
        [Extent3].[Order_Create_Date] AS [Order_Create_Date], 
        [Extent3].[Last_Update_Date] AS [Last_Update_Date2], 
        [Extent3].[Last_Update_User] AS [Last_Update_User2], 
        [Extent3].[Sent_To_Trading_Date] AS [Sent_To_Trading_Date], 
        [Extent3].[Sent_To_Accounting_Date] AS [Sent_To_Accounting_Date], 
        [Extent3].[Value_Based_Indicator] AS [Value_Based_Indicator], 
        [Extent3].[Target_Clean_Price] AS [Target_Clean_Price], 
        [Extent3].[Target_Income_Price] AS [Target_Income_Price], 
        [Extent3].[Target_AllIn_Price] AS [Target_AllIn_Price], 
        [Extent3].[Target_Yield] AS [Target_Yield], 
        [Extent3].[Target_Discount] AS [Target_Discount], 
        [Extent3].[Target_Quantity] AS [Target_Quantity], 
        [Extent3].[Target_Clean_Amount_TradeCur] AS [Target_Clean_Amount_TradeCur], 
        [Extent3].[Target_Income_Amount_TradeCur] AS [Target_Income_Amount_TradeCur], 
        [Extent3].[Target_AllIn_Amount_TradeCur] AS [Target_AllIn_Amount_TradeCur], 
        [Extent3].[Place_Quantity] AS [Place_Quantity], 
        [Extent3].[Execution_Quantity] AS [Execution_Quantity], 
        [Extent3].[Execution_Clean_Amount_TradeCur] AS [Execution_Clean_Amount_TradeCur], 
        [Extent3].[Execution_Income_Amount_TradeCur] AS [Execution_Income_Amount_TradeCur], 
        [Extent3].[Execution_AllIn_Amount_TradeCur] AS [Execution_AllIn_Amount_TradeCur], 
        [Extent3].[Broker_Code] AS [Broker_Code], 
        [Extent3].[Execution_Clean_Price] AS [Execution_Clean_Price], 
        [Extent3].[Execution_Income_Price] AS [Execution_Income_Price], 
        [Extent3].[Execution_AllIn_Price] AS [Execution_AllIn_Price], 
        [Extent3].[Execution_Yield] AS [Execution_Yield], 
        [Extent3].[Execution_Discount] AS [Execution_Discount], 
        [Extent3].[Execution_Currency] AS [Execution_Currency], 
        [Extent3].[Execution_Exchange] AS [Execution_Exchange], 
        [Extent3].[Target_FX_Rate] AS [Target_FX_Rate], 
        [Extent3].[Limit_FX_Rate] AS [Limit_FX_Rate], 
        [Extent3].[Execution_FX_Rate] AS [Execution_FX_Rate], 
        [Extent3].[Buy_Currency_Code] AS [Buy_Currency_Code], 
        [Extent3].[Buy_Currency_Execution_Amount] AS [Buy_Currency_Execution_Amount], 
        [Extent3].[Buy_Currency_Target_Amount] AS [Buy_Currency_Target_Amount], 
        [Extent3].[Sell_Currency_Code] AS [Sell_Currency_Code], 
        [Extent3].[Sell_Currency_Execution_Amount] AS [Sell_Currency_Execution_Amount], 
        [Extent3].[Sell_Currency_Target_Amount] AS [Sell_Currency_Target_Amount], 
        [Extent3].[Commission_Amount_TradeCur] AS [Commission_Amount_TradeCur], 
        [Extent3].[Trade_Type_Indicator] AS [Trade_Type_Indicator], 
        [Extent3].[Commission_Rate] AS [Commission_Rate], 
        [Extent3].[Commission_Type] AS [Commission_Type], 
        [Extent3].[Fee_Code1] AS [Fee_Code1], 
        [Extent3].[Fee_Code2] AS [Fee_Code2], 
        [Extent3].[Fee_Code3] AS [Fee_Code3], 
        [Extent3].[Fee_Code4] AS [Fee_Code4], 
        [Extent3].[Fee_Code5] AS [Fee_Code5], 
        [Extent3].[Fee_Code6] AS [Fee_Code6], 
        [Extent3].[Fee_Amount1_TradeCur] AS [Fee_Amount1_TradeCur], 
        [Extent3].[Fee_Amount2_TradeCur] AS [Fee_Amount2_TradeCur], 
        [Extent3].[Fee_Amount3_TradeCur] AS [Fee_Amount3_TradeCur], 
        [Extent3].[Fee_Amount4_TradeCur] AS [Fee_Amount4_TradeCur], 
        [Extent3].[Fee_Amount5_TradeCur] AS [Fee_Amount5_TradeCur], 
        [Extent3].[Fee_Amount6_TradeCur] AS [Fee_Amount6_TradeCur], 
        [Extent3].[Tax_Amount_TradeCur] AS [Tax_Amount_TradeCur], 
        [Extent3].[Tax_Type] AS [Tax_Type], 
        [Extent3].[Tax_Charge_FeeNum] AS [Tax_Charge_FeeNum], 
        [Extent3].[Execution_Gross_Amount_TradeCur] AS [Execution_Gross_Amount_TradeCur], 
        [Extent3].[Execution_Net_Amount_TradeCur] AS [Execution_Net_Amount_TradeCur], 
        [Extent3].[Related_Order_ID] AS [Related_Order_ID], 
        [Extent3].[Previous_Order_ID] AS [Previous_Order_ID], 
        [Extent3].[Authorised_User1] AS [Authorised_User1], 
        [Extent3].[Authorised_User1_DateTime] AS [Authorised_User1_DateTime], 
        [Extent3].[Authorised_User2] AS [Authorised_User2], 
        [Extent3].[Authorised_User2_DateTime] AS [Authorised_User2_DateTime], 
        [Extent3].[Authorised_Number] AS [Authorised_Number], 
        [Extent3].[Security_Type_Code] AS [Security_Type_Code1], 
        [Extent3].[Export_Status] AS [Export_Status], 
        [Extent3].[Order_Ack_Nack_Status] AS [Order_Ack_Nack_Status], 
        [Extent3].[Operations_Status] AS [Operations_Status], 
        [Extent3].[Import_Trade_ID] AS [Import_Trade_ID], 
        1 AS [C1]
        FROM   [dbo].[Cash_Transactions] AS [Extent1]
        LEFT OUTER JOIN [dbo].[Security_Detail] AS [Extent2] ON [Extent1].[Transaction_Security_ID] = [Extent2].[Security_ID]
        LEFT OUTER JOIN [dbo].[Order_Detail] AS [Extent3] ON [Extent1].[Order_ID] = [Extent3].[Order_ID]
        WHERE ([Extent1].[Entity_ID] = @p__linq__0) AND ([Extent1].[Portfolio_Code] = @p__linq__1) AND ([Extent1].[Transaction_Date] <= @p__linq__2)
    )  AS [Project1]
    ORDER BY [Project1].[Transaction_Date] DESC
2018-06-03 13:34:08.2170|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: IF db_id(N'MetopeAzureDb') IS NOT NULL SELECT 1 ELSE SELECT Count(*) FROM sys.databases WHERE [name]=N'MetopeAzureDb'
2018-06-03 13:34:08.2421|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: IF db_id(N'MetopeAzureDb') IS NOT NULL SELECT 1 ELSE SELECT Count(*) FROM sys.databases WHERE [name]=N'MetopeAzureDb'
2018-06-03 13:34:08.3131|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: IF db_id(N'MetopeAzureDb') IS NOT NULL SELECT 1 ELSE SELECT Count(*) FROM sys.databases WHERE [name]=N'MetopeAzureDb'
2018-06-03 13:34:08.3572|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: IF db_id(N'MetopeAzureDb') IS NOT NULL SELECT 1 ELSE SELECT Count(*) FROM sys.databases WHERE [name]=N'MetopeAzureDb'
2018-06-03 13:34:08.4127|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: IF db_id(N'MetopeAzureDb') IS NOT NULL SELECT 1 ELSE SELECT Count(*) FROM sys.databases WHERE [name]=N'MetopeAzureDb'
2018-06-03 13:34:08.4852|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: IF db_id(N'MetopeAzureDb') IS NOT NULL SELECT 1 ELSE SELECT Count(*) FROM sys.databases WHERE [name]=N'MetopeAzureDb'
2018-06-03 13:34:08.5438|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: IF db_id(N'MetopeAzureDb') IS NOT NULL SELECT 1 ELSE SELECT Count(*) FROM sys.databases WHERE [name]=N'MetopeAzureDb'
2018-06-03 13:34:08.6048|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: IF db_id(N'MetopeAzureDb') IS NOT NULL SELECT 1 ELSE SELECT Count(*) FROM sys.databases WHERE [name]=N'MetopeAzureDb'
2018-06-03 13:34:08.6449|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: True, Command Text: SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[EntityIdScope] AS [EntityIdScope], 
    [Extent1].[Email] AS [Email], 
    [Extent1].[EmailConfirmed] AS [EmailConfirmed], 
    [Extent1].[PasswordHash] AS [PasswordHash], 
    [Extent1].[SecurityStamp] AS [SecurityStamp], 
    [Extent1].[PhoneNumber] AS [PhoneNumber], 
    [Extent1].[PhoneNumberConfirmed] AS [PhoneNumberConfirmed], 
    [Extent1].[TwoFactorEnabled] AS [TwoFactorEnabled], 
    [Extent1].[LockoutEndDateUtc] AS [LockoutEndDateUtc], 
    [Extent1].[LockoutEnabled] AS [LockoutEnabled], 
    [Extent1].[AccessFailedCount] AS [AccessFailedCount], 
    [Extent1].[UserName] AS [UserName]
    FROM [dbo].[AspNetUsers] AS [Extent1]
    WHERE [Extent1].[Id] = @p0
2018-06-03 13:34:08.7159|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: True, Command Text: SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[EntityIdScope] AS [EntityIdScope], 
    [Extent1].[Email] AS [Email], 
    [Extent1].[EmailConfirmed] AS [EmailConfirmed], 
    [Extent1].[PasswordHash] AS [PasswordHash], 
    [Extent1].[SecurityStamp] AS [SecurityStamp], 
    [Extent1].[PhoneNumber] AS [PhoneNumber], 
    [Extent1].[PhoneNumberConfirmed] AS [PhoneNumberConfirmed], 
    [Extent1].[TwoFactorEnabled] AS [TwoFactorEnabled], 
    [Extent1].[LockoutEndDateUtc] AS [LockoutEndDateUtc], 
    [Extent1].[LockoutEnabled] AS [LockoutEnabled], 
    [Extent1].[AccessFailedCount] AS [AccessFailedCount], 
    [Extent1].[UserName] AS [UserName]
    FROM [dbo].[AspNetUsers] AS [Extent1]
    WHERE [Extent1].[Id] = @p0
2018-06-03 13:34:08.7494|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: True, Command Text: SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[UserId] AS [UserId], 
    [Extent1].[ClaimType] AS [ClaimType], 
    [Extent1].[ClaimValue] AS [ClaimValue]
    FROM [dbo].[AspNetUserClaims] AS [Extent1]
    WHERE [Extent1].[UserId] = @p__linq__0
2018-06-03 13:34:08.7955|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: True, Command Text: SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[UserId] AS [UserId], 
    [Extent1].[ClaimType] AS [ClaimType], 
    [Extent1].[ClaimValue] AS [ClaimValue]
    FROM [dbo].[AspNetUserClaims] AS [Extent1]
    WHERE [Extent1].[UserId] = @p__linq__0
2018-06-03 13:34:08.8285|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: True, Command Text: SELECT 
    [Extent1].[LoginProvider] AS [LoginProvider], 
    [Extent1].[ProviderKey] AS [ProviderKey], 
    [Extent1].[UserId] AS [UserId]
    FROM [dbo].[AspNetUserLogins] AS [Extent1]
    WHERE [Extent1].[UserId] = @p__linq__0
2018-06-03 13:34:08.8045|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: True, Command Text: SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[EntityIdScope] AS [EntityIdScope], 
    [Extent1].[Email] AS [Email], 
    [Extent1].[EmailConfirmed] AS [EmailConfirmed], 
    [Extent1].[PasswordHash] AS [PasswordHash], 
    [Extent1].[SecurityStamp] AS [SecurityStamp], 
    [Extent1].[PhoneNumber] AS [PhoneNumber], 
    [Extent1].[PhoneNumberConfirmed] AS [PhoneNumberConfirmed], 
    [Extent1].[TwoFactorEnabled] AS [TwoFactorEnabled], 
    [Extent1].[LockoutEndDateUtc] AS [LockoutEndDateUtc], 
    [Extent1].[LockoutEnabled] AS [LockoutEnabled], 
    [Extent1].[AccessFailedCount] AS [AccessFailedCount], 
    [Extent1].[UserName] AS [UserName]
    FROM [dbo].[AspNetUsers] AS [Extent1]
    WHERE [Extent1].[Id] = @p0
2018-06-03 13:34:08.9075|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: True, Command Text: SELECT 
    [Extent1].[LoginProvider] AS [LoginProvider], 
    [Extent1].[ProviderKey] AS [ProviderKey], 
    [Extent1].[UserId] AS [UserId]
    FROM [dbo].[AspNetUserLogins] AS [Extent1]
    WHERE [Extent1].[UserId] = @p__linq__0
2018-06-03 13:34:08.9601|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: True, Command Text: SELECT 
    [Extent1].[UserId] AS [UserId], 
    [Extent1].[RoleId] AS [RoleId]
    FROM [dbo].[AspNetUserRoles] AS [Extent1]
    WHERE [Extent1].[UserId] = @p__linq__0
2018-06-03 13:34:08.9391|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: True, Command Text: SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[EntityIdScope] AS [EntityIdScope], 
    [Extent1].[Email] AS [Email], 
    [Extent1].[EmailConfirmed] AS [EmailConfirmed], 
    [Extent1].[PasswordHash] AS [PasswordHash], 
    [Extent1].[SecurityStamp] AS [SecurityStamp], 
    [Extent1].[PhoneNumber] AS [PhoneNumber], 
    [Extent1].[PhoneNumberConfirmed] AS [PhoneNumberConfirmed], 
    [Extent1].[TwoFactorEnabled] AS [TwoFactorEnabled], 
    [Extent1].[LockoutEndDateUtc] AS [LockoutEndDateUtc], 
    [Extent1].[LockoutEnabled] AS [LockoutEnabled], 
    [Extent1].[AccessFailedCount] AS [AccessFailedCount], 
    [Extent1].[UserName] AS [UserName]
    FROM [dbo].[AspNetUsers] AS [Extent1]
    WHERE [Extent1].[Id] = @p0
2018-06-03 13:34:09.0026|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: True, Command Text: SELECT 
    [Extent1].[UserId] AS [UserId], 
    [Extent1].[RoleId] AS [RoleId]
    FROM [dbo].[AspNetUserRoles] AS [Extent1]
    WHERE [Extent1].[UserId] = @p__linq__0
2018-06-03 13:34:09.0346|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: True, Command Text: SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[UserId] AS [UserId], 
    [Extent1].[ClaimType] AS [ClaimType], 
    [Extent1].[ClaimValue] AS [ClaimValue]
    FROM [dbo].[AspNetUserClaims] AS [Extent1]
    WHERE [Extent1].[UserId] = @p__linq__0
2018-06-03 13:34:09.0987|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: True, Command Text: SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[UserId] AS [UserId], 
    [Extent1].[ClaimType] AS [ClaimType], 
    [Extent1].[ClaimValue] AS [ClaimValue]
    FROM [dbo].[AspNetUserClaims] AS [Extent1]
    WHERE [Extent1].[UserId] = @p__linq__0
2018-06-03 13:34:09.1302|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: True, Command Text: SELECT 
    [Extent1].[LoginProvider] AS [LoginProvider], 
    [Extent1].[ProviderKey] AS [ProviderKey], 
    [Extent1].[UserId] AS [UserId]
    FROM [dbo].[AspNetUserLogins] AS [Extent1]
    WHERE [Extent1].[UserId] = @p__linq__0
2018-06-03 13:34:09.1952|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: True, Command Text: SELECT 
    [Extent1].[LoginProvider] AS [LoginProvider], 
    [Extent1].[ProviderKey] AS [ProviderKey], 
    [Extent1].[UserId] AS [UserId]
    FROM [dbo].[AspNetUserLogins] AS [Extent1]
    WHERE [Extent1].[UserId] = @p__linq__0
2018-06-03 13:34:09.2318|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: True, Command Text: SELECT 
    [Extent1].[UserId] AS [UserId], 
    [Extent1].[RoleId] AS [RoleId]
    FROM [dbo].[AspNetUserRoles] AS [Extent1]
    WHERE [Extent1].[UserId] = @p__linq__0
2018-06-03 13:34:09.3043|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: True, Command Text: SELECT 
    [Extent1].[UserId] AS [UserId], 
    [Extent1].[RoleId] AS [RoleId]
    FROM [dbo].[AspNetUserRoles] AS [Extent1]
    WHERE [Extent1].[UserId] = @p__linq__0
2018-06-03 13:34:09.3634|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: SELECT TOP (2) 
    [Extent1].[Entity_ID] AS [Entity_ID], 
    [Extent1].[Entity_Code] AS [Entity_Code], 
    [Extent1].[Entity_Name] AS [Entity_Name], 
    [Extent1].[Import_Folder] AS [Import_Folder], 
    [Extent1].[Export_Folder] AS [Export_Folder]
    FROM [dbo].[Entity] AS [Extent1]
    WHERE [Extent1].[Entity_ID] = @p0
2018-06-03 13:34:09.4734|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: SELECT TOP (2) 
    [Extent1].[Entity_ID] AS [Entity_ID], 
    [Extent1].[Entity_Code] AS [Entity_Code], 
    [Extent1].[Entity_Name] AS [Entity_Name], 
    [Extent1].[Import_Folder] AS [Import_Folder], 
    [Extent1].[Export_Folder] AS [Export_Folder]
    FROM [dbo].[Entity] AS [Extent1]
    WHERE [Extent1].[Entity_ID] = @p0
2018-06-03 13:34:09.5835|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: SELECT TOP (2) 
    [Extent1].[Entity_ID] AS [Entity_ID], 
    [Extent1].[Entity_Code] AS [Entity_Code], 
    [Extent1].[Entity_Name] AS [Entity_Name], 
    [Extent1].[Import_Folder] AS [Import_Folder], 
    [Extent1].[Export_Folder] AS [Export_Folder]
    FROM [dbo].[Entity] AS [Extent1]
    WHERE [Extent1].[Entity_ID] = @p0
2018-06-03 13:34:09.6566|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: SELECT TOP (2) 
    [Extent1].[Entity_ID] AS [Entity_ID], 
    [Extent1].[Entity_Code] AS [Entity_Code], 
    [Extent1].[Entity_Name] AS [Entity_Name], 
    [Extent1].[Import_Folder] AS [Import_Folder], 
    [Extent1].[Export_Folder] AS [Export_Folder]
    FROM [dbo].[Entity] AS [Extent1]
    WHERE [Extent1].[Entity_ID] = @p0
2018-06-03 13:42:32.7210|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: SELECT 
    CASE WHEN ( EXISTS (SELECT TOP (50) 
        1 AS [C1]
        FROM ( SELECT 
            [Extent1].[Transaction_Date] AS [Transaction_Date]
            FROM [dbo].[Cash_Transactions] AS [Extent1]
            WHERE ([Extent1].[Entity_ID] = @p__linq__0) AND ([Extent1].[Portfolio_Code] = @p__linq__1) AND ([Extent1].[Transaction_Date] <= @p__linq__2)
        )  AS [Project1]
        ORDER BY [Project1].[Transaction_Date] DESC
    )) THEN cast(1 as bit) ELSE cast(0 as bit) END AS [C1]
    FROM  ( SELECT 1 AS X ) AS [SingleRowTable1]
2018-06-03 13:42:32.7896|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: SELECT 
    CASE WHEN ( EXISTS (SELECT TOP (50) 
        1 AS [C1]
        FROM ( SELECT 
            [Extent1].[Transaction_Date] AS [Transaction_Date]
            FROM [dbo].[Cash_Transactions] AS [Extent1]
            WHERE ([Extent1].[Entity_ID] = @p__linq__0) AND ([Extent1].[Portfolio_Code] = @p__linq__1) AND ([Extent1].[Transaction_Date] <= @p__linq__2)
        )  AS [Project1]
        ORDER BY [Project1].[Transaction_Date] DESC
    )) THEN cast(1 as bit) ELSE cast(0 as bit) END AS [C1]
    FROM  ( SELECT 1 AS X ) AS [SingleRowTable1]
2018-06-03 13:42:32.8506|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: SELECT TOP (50) 
    [Project1].[C1] AS [C1], 
    [Project1].[Cash_Transaction_ID] AS [Cash_Transaction_ID], 
    [Project1].[Portfolio_Code] AS [Portfolio_Code], 
    [Project1].[Entity_ID] AS [Entity_ID], 
    [Project1].[Transaction_Security_ID] AS [Transaction_Security_ID], 
    [Project1].[Cash_Security_ID] AS [Cash_Security_ID], 
    [Project1].[Transaction_Source_Code] AS [Transaction_Source_Code], 
    [Project1].[Order_ID] AS [Order_ID], 
    [Project1].[Allocation_ID] AS [Allocation_ID], 
    [Project1].[Cashflow_ID] AS [Cashflow_ID], 
    [Project1].[Dividend_Seq_Number] AS [Dividend_Seq_Number], 
    [Project1].[External_ID] AS [External_ID], 
    [Project1].[Transaction_Date] AS [Transaction_Date], 
    [Project1].[Value_Date] AS [Value_Date], 
    [Project1].[Cash_Transaction_Type] AS [Cash_Transaction_Type], 
    [Project1].[Transaction_Amount] AS [Transaction_Amount], 
    [Project1].[Transaction_Currency_Code] AS [Transaction_Currency_Code], 
    [Project1].[BaseCur_Amount] AS [BaseCur_Amount], 
    [Project1].[Create_User_Code] AS [Create_User_Code], 
    [Project1].[Create_Date] AS [Create_Date], 
    [Project1].[Last_Update_User] AS [Last_Update_User], 
    [Project1].[Last_Update_Date] AS [Last_Update_Date], 
    [Project1].[Security_ID] AS [Security_ID], 
    [Project1].[Entity_ID1] AS [Entity_ID1], 
    [Project1].[Security_Name] AS [Security_Name], 
    [Project1].[Short_Name] AS [Short_Name], 
    [Project1].[Primary_Exch] AS [Primary_Exch], 
    [Project1].[Secondary_Exch] AS [Secondary_Exch], 
    [Project1].[Country_Of_Domicile] AS [Country_Of_Domicile], 
    [Project1].[Country_Of_Risk] AS [Country_Of_Risk], 
    [Project1].[Security_Type_Code] AS [Security_Type_Code], 
    [Project1].[Price_Multiplier] AS [Price_Multiplier], 
    [Project1].[Income_Frequency] AS [Income_Frequency], 
    [Project1].[Issuer_Code] AS [Issuer_Code], 
    [Project1].[Ultimate_Issuer_Code] AS [Ultimate_Issuer_Code], 
    [Project1].[Asset_Currency] AS [Asset_Currency], 
    [Project1].[Min_Lot_Size] AS [Min_Lot_Size], 
    [Project1].[Decimal_Precision] AS [Decimal_Precision], 
    [Project1].[AvePrice_Rounding] AS [AvePrice_Rounding], 
    [Project1].[Issue_Date] AS [Issue_Date], 
    [Project1].[Maturity_Date] AS [Maturity_Date], 
    [Project1].[Coupon_Rate] AS [Coupon_Rate], 
    [Project1].[Price_Exchange] AS [Price_Exchange], 
    [Project1].[Trade_Currency] AS [Trade_Currency], 
    [Project1].[Price_Curr] AS [Price_Curr], 
    [Project1].[Currency_Pair_Code] AS [Currency_Pair_Code], 
    [Project1].[Share_Class] AS [Share_Class], 
    [Project1].[Current_Market_Price] AS [Current_Market_Price], 
    [Project1].[Index_Type] AS [Index_Type], 
    [Project1].[Clean_Price_Formula] AS [Clean_Price_Formula], 
    [Project1].[Accrued_Income_Price_Formula] AS [Accrued_Income_Price_Formula], 
    [Project1].[Odd_First_Coupon_Date] AS [Odd_First_Coupon_Date], 
    [Project1].[Odd_Last_Coupon_Date] AS [Odd_Last_Coupon_Date], 
    [Project1].[Coupon_Anniversary_Indicator] AS [Coupon_Anniversary_Indicator], 
    [Project1].[Track_EOM_Flag] AS [Track_EOM_Flag], 
    [Project1].[Next_Coupon_Date] AS [Next_Coupon_Date], 
    [Project1].[Previous_Coupon_Date] AS [Previous_Coupon_Date], 
    [Project1].[Payment_Frequency] AS [Payment_Frequency], 
    [Project1].[Coupon_BusDay_Adjustment] AS [Coupon_BusDay_Adjustment], 
    [Project1].[Next_Ex_Div_Date] AS [Next_Ex_Div_Date], 
    [Project1].[Ex_Div_BusDay_Adjustment] AS [Ex_Div_BusDay_Adjustment], 
    [Project1].[Ex_Div_Period] AS [Ex_Div_Period], 
    [Project1].[Ticker] AS [Ticker], 
    [Project1].[Inet_ID] AS [Inet_ID], 
    [Project1].[Bloomberg_ID] AS [Bloomberg_ID], 
    [Project1].[External_Sec_ID] AS [External_Sec_ID], 
    [Project1].[Reuters_ID] AS [Reuters_ID], 
    [Project1].[ISIN] AS [ISIN], 
    [Project1].[Call_Account_Flag] AS [Call_Account_Flag], 
    [Project1].[System_Locked] AS [System_Locked], 
    [Project1].[Last_Update_User1] AS [Last_Update_User1], 
    [Project1].[Last_Update_Date1] AS [Last_Update_Date1], 
    [Project1].[Security_Status] AS [Security_Status], 
    [Project1].[Benchmark_Portfolio] AS [Benchmark_Portfolio], 
    [Project1].[Active_flag] AS [Active_flag], 
    [Project1].[Dividend_FX_Security_ID] AS [Dividend_FX_Security_ID], 
    [Project1].[Order_ID1] AS [Order_ID1], 
    [Project1].[Entity_ID2] AS [Entity_ID2], 
    [Project1].[Security_ID1] AS [Security_ID1], 
    [Project1].[Trade_Date] AS [Trade_Date], 
    [Project1].[Settlement_Date] AS [Settlement_Date], 
    [Project1].[Transaction_Type] AS [Transaction_Type], 
    [Project1].[Order_Status] AS [Order_Status], 
    [Project1].[Cancel_Reason_Code] AS [Cancel_Reason_Code], 
    [Project1].[Manager] AS [Manager], 
    [Project1].[Trader] AS [Trader], 
    [Project1].[Operations_User] AS [Operations_User], 
    [Project1].[Order_Instruction] AS [Order_Instruction], 
    [Project1].[Order_Duration] AS [Order_Duration], 
    [Project1].[Limit_Price] AS [Limit_Price], 
    [Project1].[Limit_Yield] AS [Limit_Yield], 
    [Project1].[Limit_Discount] AS [Limit_Discount], 
    [Project1].[Order_Creator] AS [Order_Creator], 
    [Project1].[Order_Create_Date] AS [Order_Create_Date], 
    [Project1].[Last_Update_Date2] AS [Last_Update_Date2], 
    [Project1].[Last_Update_User2] AS [Last_Update_User2], 
    [Project1].[Sent_To_Trading_Date] AS [Sent_To_Trading_Date], 
    [Project1].[Sent_To_Accounting_Date] AS [Sent_To_Accounting_Date], 
    [Project1].[Value_Based_Indicator] AS [Value_Based_Indicator], 
    [Project1].[Target_Clean_Price] AS [Target_Clean_Price], 
    [Project1].[Target_Income_Price] AS [Target_Income_Price], 
    [Project1].[Target_AllIn_Price] AS [Target_AllIn_Price], 
    [Project1].[Target_Yield] AS [Target_Yield], 
    [Project1].[Target_Discount] AS [Target_Discount], 
    [Project1].[Target_Quantity] AS [Target_Quantity], 
    [Project1].[Target_Clean_Amount_TradeCur] AS [Target_Clean_Amount_TradeCur], 
    [Project1].[Target_Income_Amount_TradeCur] AS [Target_Income_Amount_TradeCur], 
    [Project1].[Target_AllIn_Amount_TradeCur] AS [Target_AllIn_Amount_TradeCur], 
    [Project1].[Place_Quantity] AS [Place_Quantity], 
    [Project1].[Execution_Quantity] AS [Execution_Quantity], 
    [Project1].[Execution_Clean_Amount_TradeCur] AS [Execution_Clean_Amount_TradeCur], 
    [Project1].[Execution_Income_Amount_TradeCur] AS [Execution_Income_Amount_TradeCur], 
    [Project1].[Execution_AllIn_Amount_TradeCur] AS [Execution_AllIn_Amount_TradeCur], 
    [Project1].[Broker_Code] AS [Broker_Code], 
    [Project1].[Execution_Clean_Price] AS [Execution_Clean_Price], 
    [Project1].[Execution_Income_Price] AS [Execution_Income_Price], 
    [Project1].[Execution_AllIn_Price] AS [Execution_AllIn_Price], 
    [Project1].[Execution_Yield] AS [Execution_Yield], 
    [Project1].[Execution_Discount] AS [Execution_Discount], 
    [Project1].[Execution_Currency] AS [Execution_Currency], 
    [Project1].[Execution_Exchange] AS [Execution_Exchange], 
    [Project1].[Target_FX_Rate] AS [Target_FX_Rate], 
    [Project1].[Limit_FX_Rate] AS [Limit_FX_Rate], 
    [Project1].[Execution_FX_Rate] AS [Execution_FX_Rate], 
    [Project1].[Buy_Currency_Code] AS [Buy_Currency_Code], 
    [Project1].[Buy_Currency_Execution_Amount] AS [Buy_Currency_Execution_Amount], 
    [Project1].[Buy_Currency_Target_Amount] AS [Buy_Currency_Target_Amount], 
    [Project1].[Sell_Currency_Code] AS [Sell_Currency_Code], 
    [Project1].[Sell_Currency_Execution_Amount] AS [Sell_Currency_Execution_Amount], 
    [Project1].[Sell_Currency_Target_Amount] AS [Sell_Currency_Target_Amount], 
    [Project1].[Commission_Amount_TradeCur] AS [Commission_Amount_TradeCur], 
    [Project1].[Trade_Type_Indicator] AS [Trade_Type_Indicator], 
    [Project1].[Commission_Rate] AS [Commission_Rate], 
    [Project1].[Commission_Type] AS [Commission_Type], 
    [Project1].[Fee_Code1] AS [Fee_Code1], 
    [Project1].[Fee_Code2] AS [Fee_Code2], 
    [Project1].[Fee_Code3] AS [Fee_Code3], 
    [Project1].[Fee_Code4] AS [Fee_Code4], 
    [Project1].[Fee_Code5] AS [Fee_Code5], 
    [Project1].[Fee_Code6] AS [Fee_Code6], 
    [Project1].[Fee_Amount1_TradeCur] AS [Fee_Amount1_TradeCur], 
    [Project1].[Fee_Amount2_TradeCur] AS [Fee_Amount2_TradeCur], 
    [Project1].[Fee_Amount3_TradeCur] AS [Fee_Amount3_TradeCur], 
    [Project1].[Fee_Amount4_TradeCur] AS [Fee_Amount4_TradeCur], 
    [Project1].[Fee_Amount5_TradeCur] AS [Fee_Amount5_TradeCur], 
    [Project1].[Fee_Amount6_TradeCur] AS [Fee_Amount6_TradeCur], 
    [Project1].[Tax_Amount_TradeCur] AS [Tax_Amount_TradeCur], 
    [Project1].[Tax_Type] AS [Tax_Type], 
    [Project1].[Tax_Charge_FeeNum] AS [Tax_Charge_FeeNum], 
    [Project1].[Execution_Gross_Amount_TradeCur] AS [Execution_Gross_Amount_TradeCur], 
    [Project1].[Execution_Net_Amount_TradeCur] AS [Execution_Net_Amount_TradeCur], 
    [Project1].[Related_Order_ID] AS [Related_Order_ID], 
    [Project1].[Previous_Order_ID] AS [Previous_Order_ID], 
    [Project1].[Authorised_User1] AS [Authorised_User1], 
    [Project1].[Authorised_User1_DateTime] AS [Authorised_User1_DateTime], 
    [Project1].[Authorised_User2] AS [Authorised_User2], 
    [Project1].[Authorised_User2_DateTime] AS [Authorised_User2_DateTime], 
    [Project1].[Authorised_Number] AS [Authorised_Number], 
    [Project1].[Security_Type_Code1] AS [Security_Type_Code1], 
    [Project1].[Export_Status] AS [Export_Status], 
    [Project1].[Order_Ack_Nack_Status] AS [Order_Ack_Nack_Status], 
    [Project1].[Operations_Status] AS [Operations_Status], 
    [Project1].[Import_Trade_ID] AS [Import_Trade_ID]
    FROM ( SELECT 
        [Extent1].[Cash_Transaction_ID] AS [Cash_Transaction_ID], 
        [Extent1].[Portfolio_Code] AS [Portfolio_Code], 
        [Extent1].[Entity_ID] AS [Entity_ID], 
        [Extent1].[Transaction_Security_ID] AS [Transaction_Security_ID], 
        [Extent1].[Cash_Security_ID] AS [Cash_Security_ID], 
        [Extent1].[Transaction_Source_Code] AS [Transaction_Source_Code], 
        [Extent1].[Order_ID] AS [Order_ID], 
        [Extent1].[Allocation_ID] AS [Allocation_ID], 
        [Extent1].[Cashflow_ID] AS [Cashflow_ID], 
        [Extent1].[Dividend_Seq_Number] AS [Dividend_Seq_Number], 
        [Extent1].[External_ID] AS [External_ID], 
        [Extent1].[Transaction_Date] AS [Transaction_Date], 
        [Extent1].[Value_Date] AS [Value_Date], 
        [Extent1].[Cash_Transaction_Type] AS [Cash_Transaction_Type], 
        [Extent1].[Transaction_Amount] AS [Transaction_Amount], 
        [Extent1].[Transaction_Currency_Code] AS [Transaction_Currency_Code], 
        [Extent1].[BaseCur_Amount] AS [BaseCur_Amount], 
        [Extent1].[Create_User_Code] AS [Create_User_Code], 
        [Extent1].[Create_Date] AS [Create_Date], 
        [Extent1].[Last_Update_User] AS [Last_Update_User], 
        [Extent1].[Last_Update_Date] AS [Last_Update_Date], 
        [Extent2].[Security_ID] AS [Security_ID], 
        [Extent2].[Entity_ID] AS [Entity_ID1], 
        [Extent2].[Security_Name] AS [Security_Name], 
        [Extent2].[Short_Name] AS [Short_Name], 
        [Extent2].[Primary_Exch] AS [Primary_Exch], 
        [Extent2].[Secondary_Exch] AS [Secondary_Exch], 
        [Extent2].[Country_Of_Domicile] AS [Country_Of_Domicile], 
        [Extent2].[Country_Of_Risk] AS [Country_Of_Risk], 
        [Extent2].[Security_Type_Code] AS [Security_Type_Code], 
        [Extent2].[Price_Multiplier] AS [Price_Multiplier], 
        [Extent2].[Income_Frequency] AS [Income_Frequency], 
        [Extent2].[Issuer_Code] AS [Issuer_Code], 
        [Extent2].[Ultimate_Issuer_Code] AS [Ultimate_Issuer_Code], 
        [Extent2].[Asset_Currency] AS [Asset_Currency], 
        [Extent2].[Min_Lot_Size] AS [Min_Lot_Size], 
        [Extent2].[Decimal_Precision] AS [Decimal_Precision], 
        [Extent2].[AvePrice_Rounding] AS [AvePrice_Rounding], 
        [Extent2].[Issue_Date] AS [Issue_Date], 
        [Extent2].[Maturity_Date] AS [Maturity_Date], 
        [Extent2].[Coupon_Rate] AS [Coupon_Rate], 
        [Extent2].[Price_Exchange] AS [Price_Exchange], 
        [Extent2].[Trade_Currency] AS [Trade_Currency], 
        [Extent2].[Price_Curr] AS [Price_Curr], 
        [Extent2].[Currency_Pair_Code] AS [Currency_Pair_Code], 
        [Extent2].[Share_Class] AS [Share_Class], 
        [Extent2].[Current_Market_Price] AS [Current_Market_Price], 
        [Extent2].[Index_Type] AS [Index_Type], 
        [Extent2].[Clean_Price_Formula] AS [Clean_Price_Formula], 
        [Extent2].[Accrued_Income_Price_Formula] AS [Accrued_Income_Price_Formula], 
        [Extent2].[Odd_First_Coupon_Date] AS [Odd_First_Coupon_Date], 
        [Extent2].[Odd_Last_Coupon_Date] AS [Odd_Last_Coupon_Date], 
        [Extent2].[Coupon_Anniversary_Indicator] AS [Coupon_Anniversary_Indicator], 
        [Extent2].[Track_EOM_Flag] AS [Track_EOM_Flag], 
        [Extent2].[Next_Coupon_Date] AS [Next_Coupon_Date], 
        [Extent2].[Previous_Coupon_Date] AS [Previous_Coupon_Date], 
        [Extent2].[Payment_Frequency] AS [Payment_Frequency], 
        [Extent2].[Coupon_BusDay_Adjustment] AS [Coupon_BusDay_Adjustment], 
        [Extent2].[Next_Ex_Div_Date] AS [Next_Ex_Div_Date], 
        [Extent2].[Ex_Div_BusDay_Adjustment] AS [Ex_Div_BusDay_Adjustment], 
        [Extent2].[Ex_Div_Period] AS [Ex_Div_Period], 
        [Extent2].[Ticker] AS [Ticker], 
        [Extent2].[Inet_ID] AS [Inet_ID], 
        [Extent2].[Bloomberg_ID] AS [Bloomberg_ID], 
        [Extent2].[External_Sec_ID] AS [External_Sec_ID], 
        [Extent2].[Reuters_ID] AS [Reuters_ID], 
        [Extent2].[ISIN] AS [ISIN], 
        [Extent2].[Call_Account_Flag] AS [Call_Account_Flag], 
        [Extent2].[System_Locked] AS [System_Locked], 
        [Extent2].[Last_Update_User] AS [Last_Update_User1], 
        [Extent2].[Last_Update_Date] AS [Last_Update_Date1], 
        [Extent2].[Security_Status] AS [Security_Status], 
        [Extent2].[Benchmark_Portfolio] AS [Benchmark_Portfolio], 
        [Extent2].[Active_flag] AS [Active_flag], 
        [Extent2].[Dividend_FX_Security_ID] AS [Dividend_FX_Security_ID], 
        [Extent3].[Order_ID] AS [Order_ID1], 
        [Extent3].[Entity_ID] AS [Entity_ID2], 
        [Extent3].[Security_ID] AS [Security_ID1], 
        [Extent3].[Trade_Date] AS [Trade_Date], 
        [Extent3].[Settlement_Date] AS [Settlement_Date], 
        [Extent3].[Transaction_Type] AS [Transaction_Type], 
        [Extent3].[Order_Status] AS [Order_Status], 
        [Extent3].[Cancel_Reason_Code] AS [Cancel_Reason_Code], 
        [Extent3].[Manager] AS [Manager], 
        [Extent3].[Trader] AS [Trader], 
        [Extent3].[Operations_User] AS [Operations_User], 
        [Extent3].[Order_Instruction] AS [Order_Instruction], 
        [Extent3].[Order_Duration] AS [Order_Duration], 
        [Extent3].[Limit_Price] AS [Limit_Price], 
        [Extent3].[Limit_Yield] AS [Limit_Yield], 
        [Extent3].[Limit_Discount] AS [Limit_Discount], 
        [Extent3].[Order_Creator] AS [Order_Creator], 
        [Extent3].[Order_Create_Date] AS [Order_Create_Date], 
        [Extent3].[Last_Update_Date] AS [Last_Update_Date2], 
        [Extent3].[Last_Update_User] AS [Last_Update_User2], 
        [Extent3].[Sent_To_Trading_Date] AS [Sent_To_Trading_Date], 
        [Extent3].[Sent_To_Accounting_Date] AS [Sent_To_Accounting_Date], 
        [Extent3].[Value_Based_Indicator] AS [Value_Based_Indicator], 
        [Extent3].[Target_Clean_Price] AS [Target_Clean_Price], 
        [Extent3].[Target_Income_Price] AS [Target_Income_Price], 
        [Extent3].[Target_AllIn_Price] AS [Target_AllIn_Price], 
        [Extent3].[Target_Yield] AS [Target_Yield], 
        [Extent3].[Target_Discount] AS [Target_Discount], 
        [Extent3].[Target_Quantity] AS [Target_Quantity], 
        [Extent3].[Target_Clean_Amount_TradeCur] AS [Target_Clean_Amount_TradeCur], 
        [Extent3].[Target_Income_Amount_TradeCur] AS [Target_Income_Amount_TradeCur], 
        [Extent3].[Target_AllIn_Amount_TradeCur] AS [Target_AllIn_Amount_TradeCur], 
        [Extent3].[Place_Quantity] AS [Place_Quantity], 
        [Extent3].[Execution_Quantity] AS [Execution_Quantity], 
        [Extent3].[Execution_Clean_Amount_TradeCur] AS [Execution_Clean_Amount_TradeCur], 
        [Extent3].[Execution_Income_Amount_TradeCur] AS [Execution_Income_Amount_TradeCur], 
        [Extent3].[Execution_AllIn_Amount_TradeCur] AS [Execution_AllIn_Amount_TradeCur], 
        [Extent3].[Broker_Code] AS [Broker_Code], 
        [Extent3].[Execution_Clean_Price] AS [Execution_Clean_Price], 
        [Extent3].[Execution_Income_Price] AS [Execution_Income_Price], 
        [Extent3].[Execution_AllIn_Price] AS [Execution_AllIn_Price], 
        [Extent3].[Execution_Yield] AS [Execution_Yield], 
        [Extent3].[Execution_Discount] AS [Execution_Discount], 
        [Extent3].[Execution_Currency] AS [Execution_Currency], 
        [Extent3].[Execution_Exchange] AS [Execution_Exchange], 
        [Extent3].[Target_FX_Rate] AS [Target_FX_Rate], 
        [Extent3].[Limit_FX_Rate] AS [Limit_FX_Rate], 
        [Extent3].[Execution_FX_Rate] AS [Execution_FX_Rate], 
        [Extent3].[Buy_Currency_Code] AS [Buy_Currency_Code], 
        [Extent3].[Buy_Currency_Execution_Amount] AS [Buy_Currency_Execution_Amount], 
        [Extent3].[Buy_Currency_Target_Amount] AS [Buy_Currency_Target_Amount], 
        [Extent3].[Sell_Currency_Code] AS [Sell_Currency_Code], 
        [Extent3].[Sell_Currency_Execution_Amount] AS [Sell_Currency_Execution_Amount], 
        [Extent3].[Sell_Currency_Target_Amount] AS [Sell_Currency_Target_Amount], 
        [Extent3].[Commission_Amount_TradeCur] AS [Commission_Amount_TradeCur], 
        [Extent3].[Trade_Type_Indicator] AS [Trade_Type_Indicator], 
        [Extent3].[Commission_Rate] AS [Commission_Rate], 
        [Extent3].[Commission_Type] AS [Commission_Type], 
        [Extent3].[Fee_Code1] AS [Fee_Code1], 
        [Extent3].[Fee_Code2] AS [Fee_Code2], 
        [Extent3].[Fee_Code3] AS [Fee_Code3], 
        [Extent3].[Fee_Code4] AS [Fee_Code4], 
        [Extent3].[Fee_Code5] AS [Fee_Code5], 
        [Extent3].[Fee_Code6] AS [Fee_Code6], 
        [Extent3].[Fee_Amount1_TradeCur] AS [Fee_Amount1_TradeCur], 
        [Extent3].[Fee_Amount2_TradeCur] AS [Fee_Amount2_TradeCur], 
        [Extent3].[Fee_Amount3_TradeCur] AS [Fee_Amount3_TradeCur], 
        [Extent3].[Fee_Amount4_TradeCur] AS [Fee_Amount4_TradeCur], 
        [Extent3].[Fee_Amount5_TradeCur] AS [Fee_Amount5_TradeCur], 
        [Extent3].[Fee_Amount6_TradeCur] AS [Fee_Amount6_TradeCur], 
        [Extent3].[Tax_Amount_TradeCur] AS [Tax_Amount_TradeCur], 
        [Extent3].[Tax_Type] AS [Tax_Type], 
        [Extent3].[Tax_Charge_FeeNum] AS [Tax_Charge_FeeNum], 
        [Extent3].[Execution_Gross_Amount_TradeCur] AS [Execution_Gross_Amount_TradeCur], 
        [Extent3].[Execution_Net_Amount_TradeCur] AS [Execution_Net_Amount_TradeCur], 
        [Extent3].[Related_Order_ID] AS [Related_Order_ID], 
        [Extent3].[Previous_Order_ID] AS [Previous_Order_ID], 
        [Extent3].[Authorised_User1] AS [Authorised_User1], 
        [Extent3].[Authorised_User1_DateTime] AS [Authorised_User1_DateTime], 
        [Extent3].[Authorised_User2] AS [Authorised_User2], 
        [Extent3].[Authorised_User2_DateTime] AS [Authorised_User2_DateTime], 
        [Extent3].[Authorised_Number] AS [Authorised_Number], 
        [Extent3].[Security_Type_Code] AS [Security_Type_Code1], 
        [Extent3].[Export_Status] AS [Export_Status], 
        [Extent3].[Order_Ack_Nack_Status] AS [Order_Ack_Nack_Status], 
        [Extent3].[Operations_Status] AS [Operations_Status], 
        [Extent3].[Import_Trade_ID] AS [Import_Trade_ID], 
        1 AS [C1]
        FROM   [dbo].[Cash_Transactions] AS [Extent1]
        LEFT OUTER JOIN [dbo].[Security_Detail] AS [Extent2] ON [Extent1].[Transaction_Security_ID] = [Extent2].[Security_ID]
        LEFT OUTER JOIN [dbo].[Order_Detail] AS [Extent3] ON [Extent1].[Order_ID] = [Extent3].[Order_ID]
        WHERE ([Extent1].[Entity_ID] = @p__linq__0) AND ([Extent1].[Portfolio_Code] = @p__linq__1) AND ([Extent1].[Transaction_Date] <= @p__linq__2)
    )  AS [Project1]
    ORDER BY [Project1].[Transaction_Date] DESC
2018-06-03 13:42:33.1288|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: SELECT TOP (50) 
    [Project1].[C1] AS [C1], 
    [Project1].[Cash_Transaction_ID] AS [Cash_Transaction_ID], 
    [Project1].[Portfolio_Code] AS [Portfolio_Code], 
    [Project1].[Entity_ID] AS [Entity_ID], 
    [Project1].[Transaction_Security_ID] AS [Transaction_Security_ID], 
    [Project1].[Cash_Security_ID] AS [Cash_Security_ID], 
    [Project1].[Transaction_Source_Code] AS [Transaction_Source_Code], 
    [Project1].[Order_ID] AS [Order_ID], 
    [Project1].[Allocation_ID] AS [Allocation_ID], 
    [Project1].[Cashflow_ID] AS [Cashflow_ID], 
    [Project1].[Dividend_Seq_Number] AS [Dividend_Seq_Number], 
    [Project1].[External_ID] AS [External_ID], 
    [Project1].[Transaction_Date] AS [Transaction_Date], 
    [Project1].[Value_Date] AS [Value_Date], 
    [Project1].[Cash_Transaction_Type] AS [Cash_Transaction_Type], 
    [Project1].[Transaction_Amount] AS [Transaction_Amount], 
    [Project1].[Transaction_Currency_Code] AS [Transaction_Currency_Code], 
    [Project1].[BaseCur_Amount] AS [BaseCur_Amount], 
    [Project1].[Create_User_Code] AS [Create_User_Code], 
    [Project1].[Create_Date] AS [Create_Date], 
    [Project1].[Last_Update_User] AS [Last_Update_User], 
    [Project1].[Last_Update_Date] AS [Last_Update_Date], 
    [Project1].[Security_ID] AS [Security_ID], 
    [Project1].[Entity_ID1] AS [Entity_ID1], 
    [Project1].[Security_Name] AS [Security_Name], 
    [Project1].[Short_Name] AS [Short_Name], 
    [Project1].[Primary_Exch] AS [Primary_Exch], 
    [Project1].[Secondary_Exch] AS [Secondary_Exch], 
    [Project1].[Country_Of_Domicile] AS [Country_Of_Domicile], 
    [Project1].[Country_Of_Risk] AS [Country_Of_Risk], 
    [Project1].[Security_Type_Code] AS [Security_Type_Code], 
    [Project1].[Price_Multiplier] AS [Price_Multiplier], 
    [Project1].[Income_Frequency] AS [Income_Frequency], 
    [Project1].[Issuer_Code] AS [Issuer_Code], 
    [Project1].[Ultimate_Issuer_Code] AS [Ultimate_Issuer_Code], 
    [Project1].[Asset_Currency] AS [Asset_Currency], 
    [Project1].[Min_Lot_Size] AS [Min_Lot_Size], 
    [Project1].[Decimal_Precision] AS [Decimal_Precision], 
    [Project1].[AvePrice_Rounding] AS [AvePrice_Rounding], 
    [Project1].[Issue_Date] AS [Issue_Date], 
    [Project1].[Maturity_Date] AS [Maturity_Date], 
    [Project1].[Coupon_Rate] AS [Coupon_Rate], 
    [Project1].[Price_Exchange] AS [Price_Exchange], 
    [Project1].[Trade_Currency] AS [Trade_Currency], 
    [Project1].[Price_Curr] AS [Price_Curr], 
    [Project1].[Currency_Pair_Code] AS [Currency_Pair_Code], 
    [Project1].[Share_Class] AS [Share_Class], 
    [Project1].[Current_Market_Price] AS [Current_Market_Price], 
    [Project1].[Index_Type] AS [Index_Type], 
    [Project1].[Clean_Price_Formula] AS [Clean_Price_Formula], 
    [Project1].[Accrued_Income_Price_Formula] AS [Accrued_Income_Price_Formula], 
    [Project1].[Odd_First_Coupon_Date] AS [Odd_First_Coupon_Date], 
    [Project1].[Odd_Last_Coupon_Date] AS [Odd_Last_Coupon_Date], 
    [Project1].[Coupon_Anniversary_Indicator] AS [Coupon_Anniversary_Indicator], 
    [Project1].[Track_EOM_Flag] AS [Track_EOM_Flag], 
    [Project1].[Next_Coupon_Date] AS [Next_Coupon_Date], 
    [Project1].[Previous_Coupon_Date] AS [Previous_Coupon_Date], 
    [Project1].[Payment_Frequency] AS [Payment_Frequency], 
    [Project1].[Coupon_BusDay_Adjustment] AS [Coupon_BusDay_Adjustment], 
    [Project1].[Next_Ex_Div_Date] AS [Next_Ex_Div_Date], 
    [Project1].[Ex_Div_BusDay_Adjustment] AS [Ex_Div_BusDay_Adjustment], 
    [Project1].[Ex_Div_Period] AS [Ex_Div_Period], 
    [Project1].[Ticker] AS [Ticker], 
    [Project1].[Inet_ID] AS [Inet_ID], 
    [Project1].[Bloomberg_ID] AS [Bloomberg_ID], 
    [Project1].[External_Sec_ID] AS [External_Sec_ID], 
    [Project1].[Reuters_ID] AS [Reuters_ID], 
    [Project1].[ISIN] AS [ISIN], 
    [Project1].[Call_Account_Flag] AS [Call_Account_Flag], 
    [Project1].[System_Locked] AS [System_Locked], 
    [Project1].[Last_Update_User1] AS [Last_Update_User1], 
    [Project1].[Last_Update_Date1] AS [Last_Update_Date1], 
    [Project1].[Security_Status] AS [Security_Status], 
    [Project1].[Benchmark_Portfolio] AS [Benchmark_Portfolio], 
    [Project1].[Active_flag] AS [Active_flag], 
    [Project1].[Dividend_FX_Security_ID] AS [Dividend_FX_Security_ID], 
    [Project1].[Order_ID1] AS [Order_ID1], 
    [Project1].[Entity_ID2] AS [Entity_ID2], 
    [Project1].[Security_ID1] AS [Security_ID1], 
    [Project1].[Trade_Date] AS [Trade_Date], 
    [Project1].[Settlement_Date] AS [Settlement_Date], 
    [Project1].[Transaction_Type] AS [Transaction_Type], 
    [Project1].[Order_Status] AS [Order_Status], 
    [Project1].[Cancel_Reason_Code] AS [Cancel_Reason_Code], 
    [Project1].[Manager] AS [Manager], 
    [Project1].[Trader] AS [Trader], 
    [Project1].[Operations_User] AS [Operations_User], 
    [Project1].[Order_Instruction] AS [Order_Instruction], 
    [Project1].[Order_Duration] AS [Order_Duration], 
    [Project1].[Limit_Price] AS [Limit_Price], 
    [Project1].[Limit_Yield] AS [Limit_Yield], 
    [Project1].[Limit_Discount] AS [Limit_Discount], 
    [Project1].[Order_Creator] AS [Order_Creator], 
    [Project1].[Order_Create_Date] AS [Order_Create_Date], 
    [Project1].[Last_Update_Date2] AS [Last_Update_Date2], 
    [Project1].[Last_Update_User2] AS [Last_Update_User2], 
    [Project1].[Sent_To_Trading_Date] AS [Sent_To_Trading_Date], 
    [Project1].[Sent_To_Accounting_Date] AS [Sent_To_Accounting_Date], 
    [Project1].[Value_Based_Indicator] AS [Value_Based_Indicator], 
    [Project1].[Target_Clean_Price] AS [Target_Clean_Price], 
    [Project1].[Target_Income_Price] AS [Target_Income_Price], 
    [Project1].[Target_AllIn_Price] AS [Target_AllIn_Price], 
    [Project1].[Target_Yield] AS [Target_Yield], 
    [Project1].[Target_Discount] AS [Target_Discount], 
    [Project1].[Target_Quantity] AS [Target_Quantity], 
    [Project1].[Target_Clean_Amount_TradeCur] AS [Target_Clean_Amount_TradeCur], 
    [Project1].[Target_Income_Amount_TradeCur] AS [Target_Income_Amount_TradeCur], 
    [Project1].[Target_AllIn_Amount_TradeCur] AS [Target_AllIn_Amount_TradeCur], 
    [Project1].[Place_Quantity] AS [Place_Quantity], 
    [Project1].[Execution_Quantity] AS [Execution_Quantity], 
    [Project1].[Execution_Clean_Amount_TradeCur] AS [Execution_Clean_Amount_TradeCur], 
    [Project1].[Execution_Income_Amount_TradeCur] AS [Execution_Income_Amount_TradeCur], 
    [Project1].[Execution_AllIn_Amount_TradeCur] AS [Execution_AllIn_Amount_TradeCur], 
    [Project1].[Broker_Code] AS [Broker_Code], 
    [Project1].[Execution_Clean_Price] AS [Execution_Clean_Price], 
    [Project1].[Execution_Income_Price] AS [Execution_Income_Price], 
    [Project1].[Execution_AllIn_Price] AS [Execution_AllIn_Price], 
    [Project1].[Execution_Yield] AS [Execution_Yield], 
    [Project1].[Execution_Discount] AS [Execution_Discount], 
    [Project1].[Execution_Currency] AS [Execution_Currency], 
    [Project1].[Execution_Exchange] AS [Execution_Exchange], 
    [Project1].[Target_FX_Rate] AS [Target_FX_Rate], 
    [Project1].[Limit_FX_Rate] AS [Limit_FX_Rate], 
    [Project1].[Execution_FX_Rate] AS [Execution_FX_Rate], 
    [Project1].[Buy_Currency_Code] AS [Buy_Currency_Code], 
    [Project1].[Buy_Currency_Execution_Amount] AS [Buy_Currency_Execution_Amount], 
    [Project1].[Buy_Currency_Target_Amount] AS [Buy_Currency_Target_Amount], 
    [Project1].[Sell_Currency_Code] AS [Sell_Currency_Code], 
    [Project1].[Sell_Currency_Execution_Amount] AS [Sell_Currency_Execution_Amount], 
    [Project1].[Sell_Currency_Target_Amount] AS [Sell_Currency_Target_Amount], 
    [Project1].[Commission_Amount_TradeCur] AS [Commission_Amount_TradeCur], 
    [Project1].[Trade_Type_Indicator] AS [Trade_Type_Indicator], 
    [Project1].[Commission_Rate] AS [Commission_Rate], 
    [Project1].[Commission_Type] AS [Commission_Type], 
    [Project1].[Fee_Code1] AS [Fee_Code1], 
    [Project1].[Fee_Code2] AS [Fee_Code2], 
    [Project1].[Fee_Code3] AS [Fee_Code3], 
    [Project1].[Fee_Code4] AS [Fee_Code4], 
    [Project1].[Fee_Code5] AS [Fee_Code5], 
    [Project1].[Fee_Code6] AS [Fee_Code6], 
    [Project1].[Fee_Amount1_TradeCur] AS [Fee_Amount1_TradeCur], 
    [Project1].[Fee_Amount2_TradeCur] AS [Fee_Amount2_TradeCur], 
    [Project1].[Fee_Amount3_TradeCur] AS [Fee_Amount3_TradeCur], 
    [Project1].[Fee_Amount4_TradeCur] AS [Fee_Amount4_TradeCur], 
    [Project1].[Fee_Amount5_TradeCur] AS [Fee_Amount5_TradeCur], 
    [Project1].[Fee_Amount6_TradeCur] AS [Fee_Amount6_TradeCur], 
    [Project1].[Tax_Amount_TradeCur] AS [Tax_Amount_TradeCur], 
    [Project1].[Tax_Type] AS [Tax_Type], 
    [Project1].[Tax_Charge_FeeNum] AS [Tax_Charge_FeeNum], 
    [Project1].[Execution_Gross_Amount_TradeCur] AS [Execution_Gross_Amount_TradeCur], 
    [Project1].[Execution_Net_Amount_TradeCur] AS [Execution_Net_Amount_TradeCur], 
    [Project1].[Related_Order_ID] AS [Related_Order_ID], 
    [Project1].[Previous_Order_ID] AS [Previous_Order_ID], 
    [Project1].[Authorised_User1] AS [Authorised_User1], 
    [Project1].[Authorised_User1_DateTime] AS [Authorised_User1_DateTime], 
    [Project1].[Authorised_User2] AS [Authorised_User2], 
    [Project1].[Authorised_User2_DateTime] AS [Authorised_User2_DateTime], 
    [Project1].[Authorised_Number] AS [Authorised_Number], 
    [Project1].[Security_Type_Code1] AS [Security_Type_Code1], 
    [Project1].[Export_Status] AS [Export_Status], 
    [Project1].[Order_Ack_Nack_Status] AS [Order_Ack_Nack_Status], 
    [Project1].[Operations_Status] AS [Operations_Status], 
    [Project1].[Import_Trade_ID] AS [Import_Trade_ID]
    FROM ( SELECT 
        [Extent1].[Cash_Transaction_ID] AS [Cash_Transaction_ID], 
        [Extent1].[Portfolio_Code] AS [Portfolio_Code], 
        [Extent1].[Entity_ID] AS [Entity_ID], 
        [Extent1].[Transaction_Security_ID] AS [Transaction_Security_ID], 
        [Extent1].[Cash_Security_ID] AS [Cash_Security_ID], 
        [Extent1].[Transaction_Source_Code] AS [Transaction_Source_Code], 
        [Extent1].[Order_ID] AS [Order_ID], 
        [Extent1].[Allocation_ID] AS [Allocation_ID], 
        [Extent1].[Cashflow_ID] AS [Cashflow_ID], 
        [Extent1].[Dividend_Seq_Number] AS [Dividend_Seq_Number], 
        [Extent1].[External_ID] AS [External_ID], 
        [Extent1].[Transaction_Date] AS [Transaction_Date], 
        [Extent1].[Value_Date] AS [Value_Date], 
        [Extent1].[Cash_Transaction_Type] AS [Cash_Transaction_Type], 
        [Extent1].[Transaction_Amount] AS [Transaction_Amount], 
        [Extent1].[Transaction_Currency_Code] AS [Transaction_Currency_Code], 
        [Extent1].[BaseCur_Amount] AS [BaseCur_Amount], 
        [Extent1].[Create_User_Code] AS [Create_User_Code], 
        [Extent1].[Create_Date] AS [Create_Date], 
        [Extent1].[Last_Update_User] AS [Last_Update_User], 
        [Extent1].[Last_Update_Date] AS [Last_Update_Date], 
        [Extent2].[Security_ID] AS [Security_ID], 
        [Extent2].[Entity_ID] AS [Entity_ID1], 
        [Extent2].[Security_Name] AS [Security_Name], 
        [Extent2].[Short_Name] AS [Short_Name], 
        [Extent2].[Primary_Exch] AS [Primary_Exch], 
        [Extent2].[Secondary_Exch] AS [Secondary_Exch], 
        [Extent2].[Country_Of_Domicile] AS [Country_Of_Domicile], 
        [Extent2].[Country_Of_Risk] AS [Country_Of_Risk], 
        [Extent2].[Security_Type_Code] AS [Security_Type_Code], 
        [Extent2].[Price_Multiplier] AS [Price_Multiplier], 
        [Extent2].[Income_Frequency] AS [Income_Frequency], 
        [Extent2].[Issuer_Code] AS [Issuer_Code], 
        [Extent2].[Ultimate_Issuer_Code] AS [Ultimate_Issuer_Code], 
        [Extent2].[Asset_Currency] AS [Asset_Currency], 
        [Extent2].[Min_Lot_Size] AS [Min_Lot_Size], 
        [Extent2].[Decimal_Precision] AS [Decimal_Precision], 
        [Extent2].[AvePrice_Rounding] AS [AvePrice_Rounding], 
        [Extent2].[Issue_Date] AS [Issue_Date], 
        [Extent2].[Maturity_Date] AS [Maturity_Date], 
        [Extent2].[Coupon_Rate] AS [Coupon_Rate], 
        [Extent2].[Price_Exchange] AS [Price_Exchange], 
        [Extent2].[Trade_Currency] AS [Trade_Currency], 
        [Extent2].[Price_Curr] AS [Price_Curr], 
        [Extent2].[Currency_Pair_Code] AS [Currency_Pair_Code], 
        [Extent2].[Share_Class] AS [Share_Class], 
        [Extent2].[Current_Market_Price] AS [Current_Market_Price], 
        [Extent2].[Index_Type] AS [Index_Type], 
        [Extent2].[Clean_Price_Formula] AS [Clean_Price_Formula], 
        [Extent2].[Accrued_Income_Price_Formula] AS [Accrued_Income_Price_Formula], 
        [Extent2].[Odd_First_Coupon_Date] AS [Odd_First_Coupon_Date], 
        [Extent2].[Odd_Last_Coupon_Date] AS [Odd_Last_Coupon_Date], 
        [Extent2].[Coupon_Anniversary_Indicator] AS [Coupon_Anniversary_Indicator], 
        [Extent2].[Track_EOM_Flag] AS [Track_EOM_Flag], 
        [Extent2].[Next_Coupon_Date] AS [Next_Coupon_Date], 
        [Extent2].[Previous_Coupon_Date] AS [Previous_Coupon_Date], 
        [Extent2].[Payment_Frequency] AS [Payment_Frequency], 
        [Extent2].[Coupon_BusDay_Adjustment] AS [Coupon_BusDay_Adjustment], 
        [Extent2].[Next_Ex_Div_Date] AS [Next_Ex_Div_Date], 
        [Extent2].[Ex_Div_BusDay_Adjustment] AS [Ex_Div_BusDay_Adjustment], 
        [Extent2].[Ex_Div_Period] AS [Ex_Div_Period], 
        [Extent2].[Ticker] AS [Ticker], 
        [Extent2].[Inet_ID] AS [Inet_ID], 
        [Extent2].[Bloomberg_ID] AS [Bloomberg_ID], 
        [Extent2].[External_Sec_ID] AS [External_Sec_ID], 
        [Extent2].[Reuters_ID] AS [Reuters_ID], 
        [Extent2].[ISIN] AS [ISIN], 
        [Extent2].[Call_Account_Flag] AS [Call_Account_Flag], 
        [Extent2].[System_Locked] AS [System_Locked], 
        [Extent2].[Last_Update_User] AS [Last_Update_User1], 
        [Extent2].[Last_Update_Date] AS [Last_Update_Date1], 
        [Extent2].[Security_Status] AS [Security_Status], 
        [Extent2].[Benchmark_Portfolio] AS [Benchmark_Portfolio], 
        [Extent2].[Active_flag] AS [Active_flag], 
        [Extent2].[Dividend_FX_Security_ID] AS [Dividend_FX_Security_ID], 
        [Extent3].[Order_ID] AS [Order_ID1], 
        [Extent3].[Entity_ID] AS [Entity_ID2], 
        [Extent3].[Security_ID] AS [Security_ID1], 
        [Extent3].[Trade_Date] AS [Trade_Date], 
        [Extent3].[Settlement_Date] AS [Settlement_Date], 
        [Extent3].[Transaction_Type] AS [Transaction_Type], 
        [Extent3].[Order_Status] AS [Order_Status], 
        [Extent3].[Cancel_Reason_Code] AS [Cancel_Reason_Code], 
        [Extent3].[Manager] AS [Manager], 
        [Extent3].[Trader] AS [Trader], 
        [Extent3].[Operations_User] AS [Operations_User], 
        [Extent3].[Order_Instruction] AS [Order_Instruction], 
        [Extent3].[Order_Duration] AS [Order_Duration], 
        [Extent3].[Limit_Price] AS [Limit_Price], 
        [Extent3].[Limit_Yield] AS [Limit_Yield], 
        [Extent3].[Limit_Discount] AS [Limit_Discount], 
        [Extent3].[Order_Creator] AS [Order_Creator], 
        [Extent3].[Order_Create_Date] AS [Order_Create_Date], 
        [Extent3].[Last_Update_Date] AS [Last_Update_Date2], 
        [Extent3].[Last_Update_User] AS [Last_Update_User2], 
        [Extent3].[Sent_To_Trading_Date] AS [Sent_To_Trading_Date], 
        [Extent3].[Sent_To_Accounting_Date] AS [Sent_To_Accounting_Date], 
        [Extent3].[Value_Based_Indicator] AS [Value_Based_Indicator], 
        [Extent3].[Target_Clean_Price] AS [Target_Clean_Price], 
        [Extent3].[Target_Income_Price] AS [Target_Income_Price], 
        [Extent3].[Target_AllIn_Price] AS [Target_AllIn_Price], 
        [Extent3].[Target_Yield] AS [Target_Yield], 
        [Extent3].[Target_Discount] AS [Target_Discount], 
        [Extent3].[Target_Quantity] AS [Target_Quantity], 
        [Extent3].[Target_Clean_Amount_TradeCur] AS [Target_Clean_Amount_TradeCur], 
        [Extent3].[Target_Income_Amount_TradeCur] AS [Target_Income_Amount_TradeCur], 
        [Extent3].[Target_AllIn_Amount_TradeCur] AS [Target_AllIn_Amount_TradeCur], 
        [Extent3].[Place_Quantity] AS [Place_Quantity], 
        [Extent3].[Execution_Quantity] AS [Execution_Quantity], 
        [Extent3].[Execution_Clean_Amount_TradeCur] AS [Execution_Clean_Amount_TradeCur], 
        [Extent3].[Execution_Income_Amount_TradeCur] AS [Execution_Income_Amount_TradeCur], 
        [Extent3].[Execution_AllIn_Amount_TradeCur] AS [Execution_AllIn_Amount_TradeCur], 
        [Extent3].[Broker_Code] AS [Broker_Code], 
        [Extent3].[Execution_Clean_Price] AS [Execution_Clean_Price], 
        [Extent3].[Execution_Income_Price] AS [Execution_Income_Price], 
        [Extent3].[Execution_AllIn_Price] AS [Execution_AllIn_Price], 
        [Extent3].[Execution_Yield] AS [Execution_Yield], 
        [Extent3].[Execution_Discount] AS [Execution_Discount], 
        [Extent3].[Execution_Currency] AS [Execution_Currency], 
        [Extent3].[Execution_Exchange] AS [Execution_Exchange], 
        [Extent3].[Target_FX_Rate] AS [Target_FX_Rate], 
        [Extent3].[Limit_FX_Rate] AS [Limit_FX_Rate], 
        [Extent3].[Execution_FX_Rate] AS [Execution_FX_Rate], 
        [Extent3].[Buy_Currency_Code] AS [Buy_Currency_Code], 
        [Extent3].[Buy_Currency_Execution_Amount] AS [Buy_Currency_Execution_Amount], 
        [Extent3].[Buy_Currency_Target_Amount] AS [Buy_Currency_Target_Amount], 
        [Extent3].[Sell_Currency_Code] AS [Sell_Currency_Code], 
        [Extent3].[Sell_Currency_Execution_Amount] AS [Sell_Currency_Execution_Amount], 
        [Extent3].[Sell_Currency_Target_Amount] AS [Sell_Currency_Target_Amount], 
        [Extent3].[Commission_Amount_TradeCur] AS [Commission_Amount_TradeCur], 
        [Extent3].[Trade_Type_Indicator] AS [Trade_Type_Indicator], 
        [Extent3].[Commission_Rate] AS [Commission_Rate], 
        [Extent3].[Commission_Type] AS [Commission_Type], 
        [Extent3].[Fee_Code1] AS [Fee_Code1], 
        [Extent3].[Fee_Code2] AS [Fee_Code2], 
        [Extent3].[Fee_Code3] AS [Fee_Code3], 
        [Extent3].[Fee_Code4] AS [Fee_Code4], 
        [Extent3].[Fee_Code5] AS [Fee_Code5], 
        [Extent3].[Fee_Code6] AS [Fee_Code6], 
        [Extent3].[Fee_Amount1_TradeCur] AS [Fee_Amount1_TradeCur], 
        [Extent3].[Fee_Amount2_TradeCur] AS [Fee_Amount2_TradeCur], 
        [Extent3].[Fee_Amount3_TradeCur] AS [Fee_Amount3_TradeCur], 
        [Extent3].[Fee_Amount4_TradeCur] AS [Fee_Amount4_TradeCur], 
        [Extent3].[Fee_Amount5_TradeCur] AS [Fee_Amount5_TradeCur], 
        [Extent3].[Fee_Amount6_TradeCur] AS [Fee_Amount6_TradeCur], 
        [Extent3].[Tax_Amount_TradeCur] AS [Tax_Amount_TradeCur], 
        [Extent3].[Tax_Type] AS [Tax_Type], 
        [Extent3].[Tax_Charge_FeeNum] AS [Tax_Charge_FeeNum], 
        [Extent3].[Execution_Gross_Amount_TradeCur] AS [Execution_Gross_Amount_TradeCur], 
        [Extent3].[Execution_Net_Amount_TradeCur] AS [Execution_Net_Amount_TradeCur], 
        [Extent3].[Related_Order_ID] AS [Related_Order_ID], 
        [Extent3].[Previous_Order_ID] AS [Previous_Order_ID], 
        [Extent3].[Authorised_User1] AS [Authorised_User1], 
        [Extent3].[Authorised_User1_DateTime] AS [Authorised_User1_DateTime], 
        [Extent3].[Authorised_User2] AS [Authorised_User2], 
        [Extent3].[Authorised_User2_DateTime] AS [Authorised_User2_DateTime], 
        [Extent3].[Authorised_Number] AS [Authorised_Number], 
        [Extent3].[Security_Type_Code] AS [Security_Type_Code1], 
        [Extent3].[Export_Status] AS [Export_Status], 
        [Extent3].[Order_Ack_Nack_Status] AS [Order_Ack_Nack_Status], 
        [Extent3].[Operations_Status] AS [Operations_Status], 
        [Extent3].[Import_Trade_ID] AS [Import_Trade_ID], 
        1 AS [C1]
        FROM   [dbo].[Cash_Transactions] AS [Extent1]
        LEFT OUTER JOIN [dbo].[Security_Detail] AS [Extent2] ON [Extent1].[Transaction_Security_ID] = [Extent2].[Security_ID]
        LEFT OUTER JOIN [dbo].[Order_Detail] AS [Extent3] ON [Extent1].[Order_ID] = [Extent3].[Order_ID]
        WHERE ([Extent1].[Entity_ID] = @p__linq__0) AND ([Extent1].[Portfolio_Code] = @p__linq__1) AND ([Extent1].[Transaction_Date] <= @p__linq__2)
    )  AS [Project1]
    ORDER BY [Project1].[Transaction_Date] DESC
2018-06-03 13:42:37.6653|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: IF db_id(N'MetopeAzureDb') IS NOT NULL SELECT 1 ELSE SELECT Count(*) FROM sys.databases WHERE [name]=N'MetopeAzureDb'
2018-06-03 13:42:37.7653|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: IF db_id(N'MetopeAzureDb') IS NOT NULL SELECT 1 ELSE SELECT Count(*) FROM sys.databases WHERE [name]=N'MetopeAzureDb'
2018-06-03 13:42:37.8649|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: IF db_id(N'MetopeAzureDb') IS NOT NULL SELECT 1 ELSE SELECT Count(*) FROM sys.databases WHERE [name]=N'MetopeAzureDb'
2018-06-03 13:42:37.8874|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: IF db_id(N'MetopeAzureDb') IS NOT NULL SELECT 1 ELSE SELECT Count(*) FROM sys.databases WHERE [name]=N'MetopeAzureDb'
2018-06-03 13:42:54.7710|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: SELECT 
    CASE WHEN ( EXISTS (SELECT TOP (50) 
        1 AS [C1]
        FROM ( SELECT 
            [Extent1].[Transaction_Date] AS [Transaction_Date]
            FROM [dbo].[Cash_Transactions] AS [Extent1]
            WHERE ([Extent1].[Entity_ID] = @p__linq__0) AND ([Extent1].[Portfolio_Code] = @p__linq__1) AND ([Extent1].[Transaction_Date] <= @p__linq__2)
        )  AS [Project1]
        ORDER BY [Project1].[Transaction_Date] DESC
    )) THEN cast(1 as bit) ELSE cast(0 as bit) END AS [C1]
    FROM  ( SELECT 1 AS X ) AS [SingleRowTable1]
2018-06-03 13:42:54.8021|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: SELECT 
    CASE WHEN ( EXISTS (SELECT TOP (50) 
        1 AS [C1]
        FROM ( SELECT 
            [Extent1].[Transaction_Date] AS [Transaction_Date]
            FROM [dbo].[Cash_Transactions] AS [Extent1]
            WHERE ([Extent1].[Entity_ID] = @p__linq__0) AND ([Extent1].[Portfolio_Code] = @p__linq__1) AND ([Extent1].[Transaction_Date] <= @p__linq__2)
        )  AS [Project1]
        ORDER BY [Project1].[Transaction_Date] DESC
    )) THEN cast(1 as bit) ELSE cast(0 as bit) END AS [C1]
    FROM  ( SELECT 1 AS X ) AS [SingleRowTable1]
2018-06-03 13:42:54.8721|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: SELECT TOP (50) 
    [Project1].[C1] AS [C1], 
    [Project1].[Cash_Transaction_ID] AS [Cash_Transaction_ID], 
    [Project1].[Portfolio_Code] AS [Portfolio_Code], 
    [Project1].[Entity_ID] AS [Entity_ID], 
    [Project1].[Transaction_Security_ID] AS [Transaction_Security_ID], 
    [Project1].[Cash_Security_ID] AS [Cash_Security_ID], 
    [Project1].[Transaction_Source_Code] AS [Transaction_Source_Code], 
    [Project1].[Order_ID] AS [Order_ID], 
    [Project1].[Allocation_ID] AS [Allocation_ID], 
    [Project1].[Cashflow_ID] AS [Cashflow_ID], 
    [Project1].[Dividend_Seq_Number] AS [Dividend_Seq_Number], 
    [Project1].[External_ID] AS [External_ID], 
    [Project1].[Transaction_Date] AS [Transaction_Date], 
    [Project1].[Value_Date] AS [Value_Date], 
    [Project1].[Cash_Transaction_Type] AS [Cash_Transaction_Type], 
    [Project1].[Transaction_Amount] AS [Transaction_Amount], 
    [Project1].[Transaction_Currency_Code] AS [Transaction_Currency_Code], 
    [Project1].[BaseCur_Amount] AS [BaseCur_Amount], 
    [Project1].[Create_User_Code] AS [Create_User_Code], 
    [Project1].[Create_Date] AS [Create_Date], 
    [Project1].[Last_Update_User] AS [Last_Update_User], 
    [Project1].[Last_Update_Date] AS [Last_Update_Date], 
    [Project1].[Security_ID] AS [Security_ID], 
    [Project1].[Entity_ID1] AS [Entity_ID1], 
    [Project1].[Security_Name] AS [Security_Name], 
    [Project1].[Short_Name] AS [Short_Name], 
    [Project1].[Primary_Exch] AS [Primary_Exch], 
    [Project1].[Secondary_Exch] AS [Secondary_Exch], 
    [Project1].[Country_Of_Domicile] AS [Country_Of_Domicile], 
    [Project1].[Country_Of_Risk] AS [Country_Of_Risk], 
    [Project1].[Security_Type_Code] AS [Security_Type_Code], 
    [Project1].[Price_Multiplier] AS [Price_Multiplier], 
    [Project1].[Income_Frequency] AS [Income_Frequency], 
    [Project1].[Issuer_Code] AS [Issuer_Code], 
    [Project1].[Ultimate_Issuer_Code] AS [Ultimate_Issuer_Code], 
    [Project1].[Asset_Currency] AS [Asset_Currency], 
    [Project1].[Min_Lot_Size] AS [Min_Lot_Size], 
    [Project1].[Decimal_Precision] AS [Decimal_Precision], 
    [Project1].[AvePrice_Rounding] AS [AvePrice_Rounding], 
    [Project1].[Issue_Date] AS [Issue_Date], 
    [Project1].[Maturity_Date] AS [Maturity_Date], 
    [Project1].[Coupon_Rate] AS [Coupon_Rate], 
    [Project1].[Price_Exchange] AS [Price_Exchange], 
    [Project1].[Trade_Currency] AS [Trade_Currency], 
    [Project1].[Price_Curr] AS [Price_Curr], 
    [Project1].[Currency_Pair_Code] AS [Currency_Pair_Code], 
    [Project1].[Share_Class] AS [Share_Class], 
    [Project1].[Current_Market_Price] AS [Current_Market_Price], 
    [Project1].[Index_Type] AS [Index_Type], 
    [Project1].[Clean_Price_Formula] AS [Clean_Price_Formula], 
    [Project1].[Accrued_Income_Price_Formula] AS [Accrued_Income_Price_Formula], 
    [Project1].[Odd_First_Coupon_Date] AS [Odd_First_Coupon_Date], 
    [Project1].[Odd_Last_Coupon_Date] AS [Odd_Last_Coupon_Date], 
    [Project1].[Coupon_Anniversary_Indicator] AS [Coupon_Anniversary_Indicator], 
    [Project1].[Track_EOM_Flag] AS [Track_EOM_Flag], 
    [Project1].[Next_Coupon_Date] AS [Next_Coupon_Date], 
    [Project1].[Previous_Coupon_Date] AS [Previous_Coupon_Date], 
    [Project1].[Payment_Frequency] AS [Payment_Frequency], 
    [Project1].[Coupon_BusDay_Adjustment] AS [Coupon_BusDay_Adjustment], 
    [Project1].[Next_Ex_Div_Date] AS [Next_Ex_Div_Date], 
    [Project1].[Ex_Div_BusDay_Adjustment] AS [Ex_Div_BusDay_Adjustment], 
    [Project1].[Ex_Div_Period] AS [Ex_Div_Period], 
    [Project1].[Ticker] AS [Ticker], 
    [Project1].[Inet_ID] AS [Inet_ID], 
    [Project1].[Bloomberg_ID] AS [Bloomberg_ID], 
    [Project1].[External_Sec_ID] AS [External_Sec_ID], 
    [Project1].[Reuters_ID] AS [Reuters_ID], 
    [Project1].[ISIN] AS [ISIN], 
    [Project1].[Call_Account_Flag] AS [Call_Account_Flag], 
    [Project1].[System_Locked] AS [System_Locked], 
    [Project1].[Last_Update_User1] AS [Last_Update_User1], 
    [Project1].[Last_Update_Date1] AS [Last_Update_Date1], 
    [Project1].[Security_Status] AS [Security_Status], 
    [Project1].[Benchmark_Portfolio] AS [Benchmark_Portfolio], 
    [Project1].[Active_flag] AS [Active_flag], 
    [Project1].[Dividend_FX_Security_ID] AS [Dividend_FX_Security_ID], 
    [Project1].[Order_ID1] AS [Order_ID1], 
    [Project1].[Entity_ID2] AS [Entity_ID2], 
    [Project1].[Security_ID1] AS [Security_ID1], 
    [Project1].[Trade_Date] AS [Trade_Date], 
    [Project1].[Settlement_Date] AS [Settlement_Date], 
    [Project1].[Transaction_Type] AS [Transaction_Type], 
    [Project1].[Order_Status] AS [Order_Status], 
    [Project1].[Cancel_Reason_Code] AS [Cancel_Reason_Code], 
    [Project1].[Manager] AS [Manager], 
    [Project1].[Trader] AS [Trader], 
    [Project1].[Operations_User] AS [Operations_User], 
    [Project1].[Order_Instruction] AS [Order_Instruction], 
    [Project1].[Order_Duration] AS [Order_Duration], 
    [Project1].[Limit_Price] AS [Limit_Price], 
    [Project1].[Limit_Yield] AS [Limit_Yield], 
    [Project1].[Limit_Discount] AS [Limit_Discount], 
    [Project1].[Order_Creator] AS [Order_Creator], 
    [Project1].[Order_Create_Date] AS [Order_Create_Date], 
    [Project1].[Last_Update_Date2] AS [Last_Update_Date2], 
    [Project1].[Last_Update_User2] AS [Last_Update_User2], 
    [Project1].[Sent_To_Trading_Date] AS [Sent_To_Trading_Date], 
    [Project1].[Sent_To_Accounting_Date] AS [Sent_To_Accounting_Date], 
    [Project1].[Value_Based_Indicator] AS [Value_Based_Indicator], 
    [Project1].[Target_Clean_Price] AS [Target_Clean_Price], 
    [Project1].[Target_Income_Price] AS [Target_Income_Price], 
    [Project1].[Target_AllIn_Price] AS [Target_AllIn_Price], 
    [Project1].[Target_Yield] AS [Target_Yield], 
    [Project1].[Target_Discount] AS [Target_Discount], 
    [Project1].[Target_Quantity] AS [Target_Quantity], 
    [Project1].[Target_Clean_Amount_TradeCur] AS [Target_Clean_Amount_TradeCur], 
    [Project1].[Target_Income_Amount_TradeCur] AS [Target_Income_Amount_TradeCur], 
    [Project1].[Target_AllIn_Amount_TradeCur] AS [Target_AllIn_Amount_TradeCur], 
    [Project1].[Place_Quantity] AS [Place_Quantity], 
    [Project1].[Execution_Quantity] AS [Execution_Quantity], 
    [Project1].[Execution_Clean_Amount_TradeCur] AS [Execution_Clean_Amount_TradeCur], 
    [Project1].[Execution_Income_Amount_TradeCur] AS [Execution_Income_Amount_TradeCur], 
    [Project1].[Execution_AllIn_Amount_TradeCur] AS [Execution_AllIn_Amount_TradeCur], 
    [Project1].[Broker_Code] AS [Broker_Code], 
    [Project1].[Execution_Clean_Price] AS [Execution_Clean_Price], 
    [Project1].[Execution_Income_Price] AS [Execution_Income_Price], 
    [Project1].[Execution_AllIn_Price] AS [Execution_AllIn_Price], 
    [Project1].[Execution_Yield] AS [Execution_Yield], 
    [Project1].[Execution_Discount] AS [Execution_Discount], 
    [Project1].[Execution_Currency] AS [Execution_Currency], 
    [Project1].[Execution_Exchange] AS [Execution_Exchange], 
    [Project1].[Target_FX_Rate] AS [Target_FX_Rate], 
    [Project1].[Limit_FX_Rate] AS [Limit_FX_Rate], 
    [Project1].[Execution_FX_Rate] AS [Execution_FX_Rate], 
    [Project1].[Buy_Currency_Code] AS [Buy_Currency_Code], 
    [Project1].[Buy_Currency_Execution_Amount] AS [Buy_Currency_Execution_Amount], 
    [Project1].[Buy_Currency_Target_Amount] AS [Buy_Currency_Target_Amount], 
    [Project1].[Sell_Currency_Code] AS [Sell_Currency_Code], 
    [Project1].[Sell_Currency_Execution_Amount] AS [Sell_Currency_Execution_Amount], 
    [Project1].[Sell_Currency_Target_Amount] AS [Sell_Currency_Target_Amount], 
    [Project1].[Commission_Amount_TradeCur] AS [Commission_Amount_TradeCur], 
    [Project1].[Trade_Type_Indicator] AS [Trade_Type_Indicator], 
    [Project1].[Commission_Rate] AS [Commission_Rate], 
    [Project1].[Commission_Type] AS [Commission_Type], 
    [Project1].[Fee_Code1] AS [Fee_Code1], 
    [Project1].[Fee_Code2] AS [Fee_Code2], 
    [Project1].[Fee_Code3] AS [Fee_Code3], 
    [Project1].[Fee_Code4] AS [Fee_Code4], 
    [Project1].[Fee_Code5] AS [Fee_Code5], 
    [Project1].[Fee_Code6] AS [Fee_Code6], 
    [Project1].[Fee_Amount1_TradeCur] AS [Fee_Amount1_TradeCur], 
    [Project1].[Fee_Amount2_TradeCur] AS [Fee_Amount2_TradeCur], 
    [Project1].[Fee_Amount3_TradeCur] AS [Fee_Amount3_TradeCur], 
    [Project1].[Fee_Amount4_TradeCur] AS [Fee_Amount4_TradeCur], 
    [Project1].[Fee_Amount5_TradeCur] AS [Fee_Amount5_TradeCur], 
    [Project1].[Fee_Amount6_TradeCur] AS [Fee_Amount6_TradeCur], 
    [Project1].[Tax_Amount_TradeCur] AS [Tax_Amount_TradeCur], 
    [Project1].[Tax_Type] AS [Tax_Type], 
    [Project1].[Tax_Charge_FeeNum] AS [Tax_Charge_FeeNum], 
    [Project1].[Execution_Gross_Amount_TradeCur] AS [Execution_Gross_Amount_TradeCur], 
    [Project1].[Execution_Net_Amount_TradeCur] AS [Execution_Net_Amount_TradeCur], 
    [Project1].[Related_Order_ID] AS [Related_Order_ID], 
    [Project1].[Previous_Order_ID] AS [Previous_Order_ID], 
    [Project1].[Authorised_User1] AS [Authorised_User1], 
    [Project1].[Authorised_User1_DateTime] AS [Authorised_User1_DateTime], 
    [Project1].[Authorised_User2] AS [Authorised_User2], 
    [Project1].[Authorised_User2_DateTime] AS [Authorised_User2_DateTime], 
    [Project1].[Authorised_Number] AS [Authorised_Number], 
    [Project1].[Security_Type_Code1] AS [Security_Type_Code1], 
    [Project1].[Export_Status] AS [Export_Status], 
    [Project1].[Order_Ack_Nack_Status] AS [Order_Ack_Nack_Status], 
    [Project1].[Operations_Status] AS [Operations_Status], 
    [Project1].[Import_Trade_ID] AS [Import_Trade_ID]
    FROM ( SELECT 
        [Extent1].[Cash_Transaction_ID] AS [Cash_Transaction_ID], 
        [Extent1].[Portfolio_Code] AS [Portfolio_Code], 
        [Extent1].[Entity_ID] AS [Entity_ID], 
        [Extent1].[Transaction_Security_ID] AS [Transaction_Security_ID], 
        [Extent1].[Cash_Security_ID] AS [Cash_Security_ID], 
        [Extent1].[Transaction_Source_Code] AS [Transaction_Source_Code], 
        [Extent1].[Order_ID] AS [Order_ID], 
        [Extent1].[Allocation_ID] AS [Allocation_ID], 
        [Extent1].[Cashflow_ID] AS [Cashflow_ID], 
        [Extent1].[Dividend_Seq_Number] AS [Dividend_Seq_Number], 
        [Extent1].[External_ID] AS [External_ID], 
        [Extent1].[Transaction_Date] AS [Transaction_Date], 
        [Extent1].[Value_Date] AS [Value_Date], 
        [Extent1].[Cash_Transaction_Type] AS [Cash_Transaction_Type], 
        [Extent1].[Transaction_Amount] AS [Transaction_Amount], 
        [Extent1].[Transaction_Currency_Code] AS [Transaction_Currency_Code], 
        [Extent1].[BaseCur_Amount] AS [BaseCur_Amount], 
        [Extent1].[Create_User_Code] AS [Create_User_Code], 
        [Extent1].[Create_Date] AS [Create_Date], 
        [Extent1].[Last_Update_User] AS [Last_Update_User], 
        [Extent1].[Last_Update_Date] AS [Last_Update_Date], 
        [Extent2].[Security_ID] AS [Security_ID], 
        [Extent2].[Entity_ID] AS [Entity_ID1], 
        [Extent2].[Security_Name] AS [Security_Name], 
        [Extent2].[Short_Name] AS [Short_Name], 
        [Extent2].[Primary_Exch] AS [Primary_Exch], 
        [Extent2].[Secondary_Exch] AS [Secondary_Exch], 
        [Extent2].[Country_Of_Domicile] AS [Country_Of_Domicile], 
        [Extent2].[Country_Of_Risk] AS [Country_Of_Risk], 
        [Extent2].[Security_Type_Code] AS [Security_Type_Code], 
        [Extent2].[Price_Multiplier] AS [Price_Multiplier], 
        [Extent2].[Income_Frequency] AS [Income_Frequency], 
        [Extent2].[Issuer_Code] AS [Issuer_Code], 
        [Extent2].[Ultimate_Issuer_Code] AS [Ultimate_Issuer_Code], 
        [Extent2].[Asset_Currency] AS [Asset_Currency], 
        [Extent2].[Min_Lot_Size] AS [Min_Lot_Size], 
        [Extent2].[Decimal_Precision] AS [Decimal_Precision], 
        [Extent2].[AvePrice_Rounding] AS [AvePrice_Rounding], 
        [Extent2].[Issue_Date] AS [Issue_Date], 
        [Extent2].[Maturity_Date] AS [Maturity_Date], 
        [Extent2].[Coupon_Rate] AS [Coupon_Rate], 
        [Extent2].[Price_Exchange] AS [Price_Exchange], 
        [Extent2].[Trade_Currency] AS [Trade_Currency], 
        [Extent2].[Price_Curr] AS [Price_Curr], 
        [Extent2].[Currency_Pair_Code] AS [Currency_Pair_Code], 
        [Extent2].[Share_Class] AS [Share_Class], 
        [Extent2].[Current_Market_Price] AS [Current_Market_Price], 
        [Extent2].[Index_Type] AS [Index_Type], 
        [Extent2].[Clean_Price_Formula] AS [Clean_Price_Formula], 
        [Extent2].[Accrued_Income_Price_Formula] AS [Accrued_Income_Price_Formula], 
        [Extent2].[Odd_First_Coupon_Date] AS [Odd_First_Coupon_Date], 
        [Extent2].[Odd_Last_Coupon_Date] AS [Odd_Last_Coupon_Date], 
        [Extent2].[Coupon_Anniversary_Indicator] AS [Coupon_Anniversary_Indicator], 
        [Extent2].[Track_EOM_Flag] AS [Track_EOM_Flag], 
        [Extent2].[Next_Coupon_Date] AS [Next_Coupon_Date], 
        [Extent2].[Previous_Coupon_Date] AS [Previous_Coupon_Date], 
        [Extent2].[Payment_Frequency] AS [Payment_Frequency], 
        [Extent2].[Coupon_BusDay_Adjustment] AS [Coupon_BusDay_Adjustment], 
        [Extent2].[Next_Ex_Div_Date] AS [Next_Ex_Div_Date], 
        [Extent2].[Ex_Div_BusDay_Adjustment] AS [Ex_Div_BusDay_Adjustment], 
        [Extent2].[Ex_Div_Period] AS [Ex_Div_Period], 
        [Extent2].[Ticker] AS [Ticker], 
        [Extent2].[Inet_ID] AS [Inet_ID], 
        [Extent2].[Bloomberg_ID] AS [Bloomberg_ID], 
        [Extent2].[External_Sec_ID] AS [External_Sec_ID], 
        [Extent2].[Reuters_ID] AS [Reuters_ID], 
        [Extent2].[ISIN] AS [ISIN], 
        [Extent2].[Call_Account_Flag] AS [Call_Account_Flag], 
        [Extent2].[System_Locked] AS [System_Locked], 
        [Extent2].[Last_Update_User] AS [Last_Update_User1], 
        [Extent2].[Last_Update_Date] AS [Last_Update_Date1], 
        [Extent2].[Security_Status] AS [Security_Status], 
        [Extent2].[Benchmark_Portfolio] AS [Benchmark_Portfolio], 
        [Extent2].[Active_flag] AS [Active_flag], 
        [Extent2].[Dividend_FX_Security_ID] AS [Dividend_FX_Security_ID], 
        [Extent3].[Order_ID] AS [Order_ID1], 
        [Extent3].[Entity_ID] AS [Entity_ID2], 
        [Extent3].[Security_ID] AS [Security_ID1], 
        [Extent3].[Trade_Date] AS [Trade_Date], 
        [Extent3].[Settlement_Date] AS [Settlement_Date], 
        [Extent3].[Transaction_Type] AS [Transaction_Type], 
        [Extent3].[Order_Status] AS [Order_Status], 
        [Extent3].[Cancel_Reason_Code] AS [Cancel_Reason_Code], 
        [Extent3].[Manager] AS [Manager], 
        [Extent3].[Trader] AS [Trader], 
        [Extent3].[Operations_User] AS [Operations_User], 
        [Extent3].[Order_Instruction] AS [Order_Instruction], 
        [Extent3].[Order_Duration] AS [Order_Duration], 
        [Extent3].[Limit_Price] AS [Limit_Price], 
        [Extent3].[Limit_Yield] AS [Limit_Yield], 
        [Extent3].[Limit_Discount] AS [Limit_Discount], 
        [Extent3].[Order_Creator] AS [Order_Creator], 
        [Extent3].[Order_Create_Date] AS [Order_Create_Date], 
        [Extent3].[Last_Update_Date] AS [Last_Update_Date2], 
        [Extent3].[Last_Update_User] AS [Last_Update_User2], 
        [Extent3].[Sent_To_Trading_Date] AS [Sent_To_Trading_Date], 
        [Extent3].[Sent_To_Accounting_Date] AS [Sent_To_Accounting_Date], 
        [Extent3].[Value_Based_Indicator] AS [Value_Based_Indicator], 
        [Extent3].[Target_Clean_Price] AS [Target_Clean_Price], 
        [Extent3].[Target_Income_Price] AS [Target_Income_Price], 
        [Extent3].[Target_AllIn_Price] AS [Target_AllIn_Price], 
        [Extent3].[Target_Yield] AS [Target_Yield], 
        [Extent3].[Target_Discount] AS [Target_Discount], 
        [Extent3].[Target_Quantity] AS [Target_Quantity], 
        [Extent3].[Target_Clean_Amount_TradeCur] AS [Target_Clean_Amount_TradeCur], 
        [Extent3].[Target_Income_Amount_TradeCur] AS [Target_Income_Amount_TradeCur], 
        [Extent3].[Target_AllIn_Amount_TradeCur] AS [Target_AllIn_Amount_TradeCur], 
        [Extent3].[Place_Quantity] AS [Place_Quantity], 
        [Extent3].[Execution_Quantity] AS [Execution_Quantity], 
        [Extent3].[Execution_Clean_Amount_TradeCur] AS [Execution_Clean_Amount_TradeCur], 
        [Extent3].[Execution_Income_Amount_TradeCur] AS [Execution_Income_Amount_TradeCur], 
        [Extent3].[Execution_AllIn_Amount_TradeCur] AS [Execution_AllIn_Amount_TradeCur], 
        [Extent3].[Broker_Code] AS [Broker_Code], 
        [Extent3].[Execution_Clean_Price] AS [Execution_Clean_Price], 
        [Extent3].[Execution_Income_Price] AS [Execution_Income_Price], 
        [Extent3].[Execution_AllIn_Price] AS [Execution_AllIn_Price], 
        [Extent3].[Execution_Yield] AS [Execution_Yield], 
        [Extent3].[Execution_Discount] AS [Execution_Discount], 
        [Extent3].[Execution_Currency] AS [Execution_Currency], 
        [Extent3].[Execution_Exchange] AS [Execution_Exchange], 
        [Extent3].[Target_FX_Rate] AS [Target_FX_Rate], 
        [Extent3].[Limit_FX_Rate] AS [Limit_FX_Rate], 
        [Extent3].[Execution_FX_Rate] AS [Execution_FX_Rate], 
        [Extent3].[Buy_Currency_Code] AS [Buy_Currency_Code], 
        [Extent3].[Buy_Currency_Execution_Amount] AS [Buy_Currency_Execution_Amount], 
        [Extent3].[Buy_Currency_Target_Amount] AS [Buy_Currency_Target_Amount], 
        [Extent3].[Sell_Currency_Code] AS [Sell_Currency_Code], 
        [Extent3].[Sell_Currency_Execution_Amount] AS [Sell_Currency_Execution_Amount], 
        [Extent3].[Sell_Currency_Target_Amount] AS [Sell_Currency_Target_Amount], 
        [Extent3].[Commission_Amount_TradeCur] AS [Commission_Amount_TradeCur], 
        [Extent3].[Trade_Type_Indicator] AS [Trade_Type_Indicator], 
        [Extent3].[Commission_Rate] AS [Commission_Rate], 
        [Extent3].[Commission_Type] AS [Commission_Type], 
        [Extent3].[Fee_Code1] AS [Fee_Code1], 
        [Extent3].[Fee_Code2] AS [Fee_Code2], 
        [Extent3].[Fee_Code3] AS [Fee_Code3], 
        [Extent3].[Fee_Code4] AS [Fee_Code4], 
        [Extent3].[Fee_Code5] AS [Fee_Code5], 
        [Extent3].[Fee_Code6] AS [Fee_Code6], 
        [Extent3].[Fee_Amount1_TradeCur] AS [Fee_Amount1_TradeCur], 
        [Extent3].[Fee_Amount2_TradeCur] AS [Fee_Amount2_TradeCur], 
        [Extent3].[Fee_Amount3_TradeCur] AS [Fee_Amount3_TradeCur], 
        [Extent3].[Fee_Amount4_TradeCur] AS [Fee_Amount4_TradeCur], 
        [Extent3].[Fee_Amount5_TradeCur] AS [Fee_Amount5_TradeCur], 
        [Extent3].[Fee_Amount6_TradeCur] AS [Fee_Amount6_TradeCur], 
        [Extent3].[Tax_Amount_TradeCur] AS [Tax_Amount_TradeCur], 
        [Extent3].[Tax_Type] AS [Tax_Type], 
        [Extent3].[Tax_Charge_FeeNum] AS [Tax_Charge_FeeNum], 
        [Extent3].[Execution_Gross_Amount_TradeCur] AS [Execution_Gross_Amount_TradeCur], 
        [Extent3].[Execution_Net_Amount_TradeCur] AS [Execution_Net_Amount_TradeCur], 
        [Extent3].[Related_Order_ID] AS [Related_Order_ID], 
        [Extent3].[Previous_Order_ID] AS [Previous_Order_ID], 
        [Extent3].[Authorised_User1] AS [Authorised_User1], 
        [Extent3].[Authorised_User1_DateTime] AS [Authorised_User1_DateTime], 
        [Extent3].[Authorised_User2] AS [Authorised_User2], 
        [Extent3].[Authorised_User2_DateTime] AS [Authorised_User2_DateTime], 
        [Extent3].[Authorised_Number] AS [Authorised_Number], 
        [Extent3].[Security_Type_Code] AS [Security_Type_Code1], 
        [Extent3].[Export_Status] AS [Export_Status], 
        [Extent3].[Order_Ack_Nack_Status] AS [Order_Ack_Nack_Status], 
        [Extent3].[Operations_Status] AS [Operations_Status], 
        [Extent3].[Import_Trade_ID] AS [Import_Trade_ID], 
        1 AS [C1]
        FROM   [dbo].[Cash_Transactions] AS [Extent1]
        LEFT OUTER JOIN [dbo].[Security_Detail] AS [Extent2] ON [Extent1].[Transaction_Security_ID] = [Extent2].[Security_ID]
        LEFT OUTER JOIN [dbo].[Order_Detail] AS [Extent3] ON [Extent1].[Order_ID] = [Extent3].[Order_ID]
        WHERE ([Extent1].[Entity_ID] = @p__linq__0) AND ([Extent1].[Portfolio_Code] = @p__linq__1) AND ([Extent1].[Transaction_Date] <= @p__linq__2)
    )  AS [Project1]
    ORDER BY [Project1].[Transaction_Date] DESC
2018-06-03 13:42:54.9257|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: SELECT TOP (50) 
    [Project1].[C1] AS [C1], 
    [Project1].[Cash_Transaction_ID] AS [Cash_Transaction_ID], 
    [Project1].[Portfolio_Code] AS [Portfolio_Code], 
    [Project1].[Entity_ID] AS [Entity_ID], 
    [Project1].[Transaction_Security_ID] AS [Transaction_Security_ID], 
    [Project1].[Cash_Security_ID] AS [Cash_Security_ID], 
    [Project1].[Transaction_Source_Code] AS [Transaction_Source_Code], 
    [Project1].[Order_ID] AS [Order_ID], 
    [Project1].[Allocation_ID] AS [Allocation_ID], 
    [Project1].[Cashflow_ID] AS [Cashflow_ID], 
    [Project1].[Dividend_Seq_Number] AS [Dividend_Seq_Number], 
    [Project1].[External_ID] AS [External_ID], 
    [Project1].[Transaction_Date] AS [Transaction_Date], 
    [Project1].[Value_Date] AS [Value_Date], 
    [Project1].[Cash_Transaction_Type] AS [Cash_Transaction_Type], 
    [Project1].[Transaction_Amount] AS [Transaction_Amount], 
    [Project1].[Transaction_Currency_Code] AS [Transaction_Currency_Code], 
    [Project1].[BaseCur_Amount] AS [BaseCur_Amount], 
    [Project1].[Create_User_Code] AS [Create_User_Code], 
    [Project1].[Create_Date] AS [Create_Date], 
    [Project1].[Last_Update_User] AS [Last_Update_User], 
    [Project1].[Last_Update_Date] AS [Last_Update_Date], 
    [Project1].[Security_ID] AS [Security_ID], 
    [Project1].[Entity_ID1] AS [Entity_ID1], 
    [Project1].[Security_Name] AS [Security_Name], 
    [Project1].[Short_Name] AS [Short_Name], 
    [Project1].[Primary_Exch] AS [Primary_Exch], 
    [Project1].[Secondary_Exch] AS [Secondary_Exch], 
    [Project1].[Country_Of_Domicile] AS [Country_Of_Domicile], 
    [Project1].[Country_Of_Risk] AS [Country_Of_Risk], 
    [Project1].[Security_Type_Code] AS [Security_Type_Code], 
    [Project1].[Price_Multiplier] AS [Price_Multiplier], 
    [Project1].[Income_Frequency] AS [Income_Frequency], 
    [Project1].[Issuer_Code] AS [Issuer_Code], 
    [Project1].[Ultimate_Issuer_Code] AS [Ultimate_Issuer_Code], 
    [Project1].[Asset_Currency] AS [Asset_Currency], 
    [Project1].[Min_Lot_Size] AS [Min_Lot_Size], 
    [Project1].[Decimal_Precision] AS [Decimal_Precision], 
    [Project1].[AvePrice_Rounding] AS [AvePrice_Rounding], 
    [Project1].[Issue_Date] AS [Issue_Date], 
    [Project1].[Maturity_Date] AS [Maturity_Date], 
    [Project1].[Coupon_Rate] AS [Coupon_Rate], 
    [Project1].[Price_Exchange] AS [Price_Exchange], 
    [Project1].[Trade_Currency] AS [Trade_Currency], 
    [Project1].[Price_Curr] AS [Price_Curr], 
    [Project1].[Currency_Pair_Code] AS [Currency_Pair_Code], 
    [Project1].[Share_Class] AS [Share_Class], 
    [Project1].[Current_Market_Price] AS [Current_Market_Price], 
    [Project1].[Index_Type] AS [Index_Type], 
    [Project1].[Clean_Price_Formula] AS [Clean_Price_Formula], 
    [Project1].[Accrued_Income_Price_Formula] AS [Accrued_Income_Price_Formula], 
    [Project1].[Odd_First_Coupon_Date] AS [Odd_First_Coupon_Date], 
    [Project1].[Odd_Last_Coupon_Date] AS [Odd_Last_Coupon_Date], 
    [Project1].[Coupon_Anniversary_Indicator] AS [Coupon_Anniversary_Indicator], 
    [Project1].[Track_EOM_Flag] AS [Track_EOM_Flag], 
    [Project1].[Next_Coupon_Date] AS [Next_Coupon_Date], 
    [Project1].[Previous_Coupon_Date] AS [Previous_Coupon_Date], 
    [Project1].[Payment_Frequency] AS [Payment_Frequency], 
    [Project1].[Coupon_BusDay_Adjustment] AS [Coupon_BusDay_Adjustment], 
    [Project1].[Next_Ex_Div_Date] AS [Next_Ex_Div_Date], 
    [Project1].[Ex_Div_BusDay_Adjustment] AS [Ex_Div_BusDay_Adjustment], 
    [Project1].[Ex_Div_Period] AS [Ex_Div_Period], 
    [Project1].[Ticker] AS [Ticker], 
    [Project1].[Inet_ID] AS [Inet_ID], 
    [Project1].[Bloomberg_ID] AS [Bloomberg_ID], 
    [Project1].[External_Sec_ID] AS [External_Sec_ID], 
    [Project1].[Reuters_ID] AS [Reuters_ID], 
    [Project1].[ISIN] AS [ISIN], 
    [Project1].[Call_Account_Flag] AS [Call_Account_Flag], 
    [Project1].[System_Locked] AS [System_Locked], 
    [Project1].[Last_Update_User1] AS [Last_Update_User1], 
    [Project1].[Last_Update_Date1] AS [Last_Update_Date1], 
    [Project1].[Security_Status] AS [Security_Status], 
    [Project1].[Benchmark_Portfolio] AS [Benchmark_Portfolio], 
    [Project1].[Active_flag] AS [Active_flag], 
    [Project1].[Dividend_FX_Security_ID] AS [Dividend_FX_Security_ID], 
    [Project1].[Order_ID1] AS [Order_ID1], 
    [Project1].[Entity_ID2] AS [Entity_ID2], 
    [Project1].[Security_ID1] AS [Security_ID1], 
    [Project1].[Trade_Date] AS [Trade_Date], 
    [Project1].[Settlement_Date] AS [Settlement_Date], 
    [Project1].[Transaction_Type] AS [Transaction_Type], 
    [Project1].[Order_Status] AS [Order_Status], 
    [Project1].[Cancel_Reason_Code] AS [Cancel_Reason_Code], 
    [Project1].[Manager] AS [Manager], 
    [Project1].[Trader] AS [Trader], 
    [Project1].[Operations_User] AS [Operations_User], 
    [Project1].[Order_Instruction] AS [Order_Instruction], 
    [Project1].[Order_Duration] AS [Order_Duration], 
    [Project1].[Limit_Price] AS [Limit_Price], 
    [Project1].[Limit_Yield] AS [Limit_Yield], 
    [Project1].[Limit_Discount] AS [Limit_Discount], 
    [Project1].[Order_Creator] AS [Order_Creator], 
    [Project1].[Order_Create_Date] AS [Order_Create_Date], 
    [Project1].[Last_Update_Date2] AS [Last_Update_Date2], 
    [Project1].[Last_Update_User2] AS [Last_Update_User2], 
    [Project1].[Sent_To_Trading_Date] AS [Sent_To_Trading_Date], 
    [Project1].[Sent_To_Accounting_Date] AS [Sent_To_Accounting_Date], 
    [Project1].[Value_Based_Indicator] AS [Value_Based_Indicator], 
    [Project1].[Target_Clean_Price] AS [Target_Clean_Price], 
    [Project1].[Target_Income_Price] AS [Target_Income_Price], 
    [Project1].[Target_AllIn_Price] AS [Target_AllIn_Price], 
    [Project1].[Target_Yield] AS [Target_Yield], 
    [Project1].[Target_Discount] AS [Target_Discount], 
    [Project1].[Target_Quantity] AS [Target_Quantity], 
    [Project1].[Target_Clean_Amount_TradeCur] AS [Target_Clean_Amount_TradeCur], 
    [Project1].[Target_Income_Amount_TradeCur] AS [Target_Income_Amount_TradeCur], 
    [Project1].[Target_AllIn_Amount_TradeCur] AS [Target_AllIn_Amount_TradeCur], 
    [Project1].[Place_Quantity] AS [Place_Quantity], 
    [Project1].[Execution_Quantity] AS [Execution_Quantity], 
    [Project1].[Execution_Clean_Amount_TradeCur] AS [Execution_Clean_Amount_TradeCur], 
    [Project1].[Execution_Income_Amount_TradeCur] AS [Execution_Income_Amount_TradeCur], 
    [Project1].[Execution_AllIn_Amount_TradeCur] AS [Execution_AllIn_Amount_TradeCur], 
    [Project1].[Broker_Code] AS [Broker_Code], 
    [Project1].[Execution_Clean_Price] AS [Execution_Clean_Price], 
    [Project1].[Execution_Income_Price] AS [Execution_Income_Price], 
    [Project1].[Execution_AllIn_Price] AS [Execution_AllIn_Price], 
    [Project1].[Execution_Yield] AS [Execution_Yield], 
    [Project1].[Execution_Discount] AS [Execution_Discount], 
    [Project1].[Execution_Currency] AS [Execution_Currency], 
    [Project1].[Execution_Exchange] AS [Execution_Exchange], 
    [Project1].[Target_FX_Rate] AS [Target_FX_Rate], 
    [Project1].[Limit_FX_Rate] AS [Limit_FX_Rate], 
    [Project1].[Execution_FX_Rate] AS [Execution_FX_Rate], 
    [Project1].[Buy_Currency_Code] AS [Buy_Currency_Code], 
    [Project1].[Buy_Currency_Execution_Amount] AS [Buy_Currency_Execution_Amount], 
    [Project1].[Buy_Currency_Target_Amount] AS [Buy_Currency_Target_Amount], 
    [Project1].[Sell_Currency_Code] AS [Sell_Currency_Code], 
    [Project1].[Sell_Currency_Execution_Amount] AS [Sell_Currency_Execution_Amount], 
    [Project1].[Sell_Currency_Target_Amount] AS [Sell_Currency_Target_Amount], 
    [Project1].[Commission_Amount_TradeCur] AS [Commission_Amount_TradeCur], 
    [Project1].[Trade_Type_Indicator] AS [Trade_Type_Indicator], 
    [Project1].[Commission_Rate] AS [Commission_Rate], 
    [Project1].[Commission_Type] AS [Commission_Type], 
    [Project1].[Fee_Code1] AS [Fee_Code1], 
    [Project1].[Fee_Code2] AS [Fee_Code2], 
    [Project1].[Fee_Code3] AS [Fee_Code3], 
    [Project1].[Fee_Code4] AS [Fee_Code4], 
    [Project1].[Fee_Code5] AS [Fee_Code5], 
    [Project1].[Fee_Code6] AS [Fee_Code6], 
    [Project1].[Fee_Amount1_TradeCur] AS [Fee_Amount1_TradeCur], 
    [Project1].[Fee_Amount2_TradeCur] AS [Fee_Amount2_TradeCur], 
    [Project1].[Fee_Amount3_TradeCur] AS [Fee_Amount3_TradeCur], 
    [Project1].[Fee_Amount4_TradeCur] AS [Fee_Amount4_TradeCur], 
    [Project1].[Fee_Amount5_TradeCur] AS [Fee_Amount5_TradeCur], 
    [Project1].[Fee_Amount6_TradeCur] AS [Fee_Amount6_TradeCur], 
    [Project1].[Tax_Amount_TradeCur] AS [Tax_Amount_TradeCur], 
    [Project1].[Tax_Type] AS [Tax_Type], 
    [Project1].[Tax_Charge_FeeNum] AS [Tax_Charge_FeeNum], 
    [Project1].[Execution_Gross_Amount_TradeCur] AS [Execution_Gross_Amount_TradeCur], 
    [Project1].[Execution_Net_Amount_TradeCur] AS [Execution_Net_Amount_TradeCur], 
    [Project1].[Related_Order_ID] AS [Related_Order_ID], 
    [Project1].[Previous_Order_ID] AS [Previous_Order_ID], 
    [Project1].[Authorised_User1] AS [Authorised_User1], 
    [Project1].[Authorised_User1_DateTime] AS [Authorised_User1_DateTime], 
    [Project1].[Authorised_User2] AS [Authorised_User2], 
    [Project1].[Authorised_User2_DateTime] AS [Authorised_User2_DateTime], 
    [Project1].[Authorised_Number] AS [Authorised_Number], 
    [Project1].[Security_Type_Code1] AS [Security_Type_Code1], 
    [Project1].[Export_Status] AS [Export_Status], 
    [Project1].[Order_Ack_Nack_Status] AS [Order_Ack_Nack_Status], 
    [Project1].[Operations_Status] AS [Operations_Status], 
    [Project1].[Import_Trade_ID] AS [Import_Trade_ID]
    FROM ( SELECT 
        [Extent1].[Cash_Transaction_ID] AS [Cash_Transaction_ID], 
        [Extent1].[Portfolio_Code] AS [Portfolio_Code], 
        [Extent1].[Entity_ID] AS [Entity_ID], 
        [Extent1].[Transaction_Security_ID] AS [Transaction_Security_ID], 
        [Extent1].[Cash_Security_ID] AS [Cash_Security_ID], 
        [Extent1].[Transaction_Source_Code] AS [Transaction_Source_Code], 
        [Extent1].[Order_ID] AS [Order_ID], 
        [Extent1].[Allocation_ID] AS [Allocation_ID], 
        [Extent1].[Cashflow_ID] AS [Cashflow_ID], 
        [Extent1].[Dividend_Seq_Number] AS [Dividend_Seq_Number], 
        [Extent1].[External_ID] AS [External_ID], 
        [Extent1].[Transaction_Date] AS [Transaction_Date], 
        [Extent1].[Value_Date] AS [Value_Date], 
        [Extent1].[Cash_Transaction_Type] AS [Cash_Transaction_Type], 
        [Extent1].[Transaction_Amount] AS [Transaction_Amount], 
        [Extent1].[Transaction_Currency_Code] AS [Transaction_Currency_Code], 
        [Extent1].[BaseCur_Amount] AS [BaseCur_Amount], 
        [Extent1].[Create_User_Code] AS [Create_User_Code], 
        [Extent1].[Create_Date] AS [Create_Date], 
        [Extent1].[Last_Update_User] AS [Last_Update_User], 
        [Extent1].[Last_Update_Date] AS [Last_Update_Date], 
        [Extent2].[Security_ID] AS [Security_ID], 
        [Extent2].[Entity_ID] AS [Entity_ID1], 
        [Extent2].[Security_Name] AS [Security_Name], 
        [Extent2].[Short_Name] AS [Short_Name], 
        [Extent2].[Primary_Exch] AS [Primary_Exch], 
        [Extent2].[Secondary_Exch] AS [Secondary_Exch], 
        [Extent2].[Country_Of_Domicile] AS [Country_Of_Domicile], 
        [Extent2].[Country_Of_Risk] AS [Country_Of_Risk], 
        [Extent2].[Security_Type_Code] AS [Security_Type_Code], 
        [Extent2].[Price_Multiplier] AS [Price_Multiplier], 
        [Extent2].[Income_Frequency] AS [Income_Frequency], 
        [Extent2].[Issuer_Code] AS [Issuer_Code], 
        [Extent2].[Ultimate_Issuer_Code] AS [Ultimate_Issuer_Code], 
        [Extent2].[Asset_Currency] AS [Asset_Currency], 
        [Extent2].[Min_Lot_Size] AS [Min_Lot_Size], 
        [Extent2].[Decimal_Precision] AS [Decimal_Precision], 
        [Extent2].[AvePrice_Rounding] AS [AvePrice_Rounding], 
        [Extent2].[Issue_Date] AS [Issue_Date], 
        [Extent2].[Maturity_Date] AS [Maturity_Date], 
        [Extent2].[Coupon_Rate] AS [Coupon_Rate], 
        [Extent2].[Price_Exchange] AS [Price_Exchange], 
        [Extent2].[Trade_Currency] AS [Trade_Currency], 
        [Extent2].[Price_Curr] AS [Price_Curr], 
        [Extent2].[Currency_Pair_Code] AS [Currency_Pair_Code], 
        [Extent2].[Share_Class] AS [Share_Class], 
        [Extent2].[Current_Market_Price] AS [Current_Market_Price], 
        [Extent2].[Index_Type] AS [Index_Type], 
        [Extent2].[Clean_Price_Formula] AS [Clean_Price_Formula], 
        [Extent2].[Accrued_Income_Price_Formula] AS [Accrued_Income_Price_Formula], 
        [Extent2].[Odd_First_Coupon_Date] AS [Odd_First_Coupon_Date], 
        [Extent2].[Odd_Last_Coupon_Date] AS [Odd_Last_Coupon_Date], 
        [Extent2].[Coupon_Anniversary_Indicator] AS [Coupon_Anniversary_Indicator], 
        [Extent2].[Track_EOM_Flag] AS [Track_EOM_Flag], 
        [Extent2].[Next_Coupon_Date] AS [Next_Coupon_Date], 
        [Extent2].[Previous_Coupon_Date] AS [Previous_Coupon_Date], 
        [Extent2].[Payment_Frequency] AS [Payment_Frequency], 
        [Extent2].[Coupon_BusDay_Adjustment] AS [Coupon_BusDay_Adjustment], 
        [Extent2].[Next_Ex_Div_Date] AS [Next_Ex_Div_Date], 
        [Extent2].[Ex_Div_BusDay_Adjustment] AS [Ex_Div_BusDay_Adjustment], 
        [Extent2].[Ex_Div_Period] AS [Ex_Div_Period], 
        [Extent2].[Ticker] AS [Ticker], 
        [Extent2].[Inet_ID] AS [Inet_ID], 
        [Extent2].[Bloomberg_ID] AS [Bloomberg_ID], 
        [Extent2].[External_Sec_ID] AS [External_Sec_ID], 
        [Extent2].[Reuters_ID] AS [Reuters_ID], 
        [Extent2].[ISIN] AS [ISIN], 
        [Extent2].[Call_Account_Flag] AS [Call_Account_Flag], 
        [Extent2].[System_Locked] AS [System_Locked], 
        [Extent2].[Last_Update_User] AS [Last_Update_User1], 
        [Extent2].[Last_Update_Date] AS [Last_Update_Date1], 
        [Extent2].[Security_Status] AS [Security_Status], 
        [Extent2].[Benchmark_Portfolio] AS [Benchmark_Portfolio], 
        [Extent2].[Active_flag] AS [Active_flag], 
        [Extent2].[Dividend_FX_Security_ID] AS [Dividend_FX_Security_ID], 
        [Extent3].[Order_ID] AS [Order_ID1], 
        [Extent3].[Entity_ID] AS [Entity_ID2], 
        [Extent3].[Security_ID] AS [Security_ID1], 
        [Extent3].[Trade_Date] AS [Trade_Date], 
        [Extent3].[Settlement_Date] AS [Settlement_Date], 
        [Extent3].[Transaction_Type] AS [Transaction_Type], 
        [Extent3].[Order_Status] AS [Order_Status], 
        [Extent3].[Cancel_Reason_Code] AS [Cancel_Reason_Code], 
        [Extent3].[Manager] AS [Manager], 
        [Extent3].[Trader] AS [Trader], 
        [Extent3].[Operations_User] AS [Operations_User], 
        [Extent3].[Order_Instruction] AS [Order_Instruction], 
        [Extent3].[Order_Duration] AS [Order_Duration], 
        [Extent3].[Limit_Price] AS [Limit_Price], 
        [Extent3].[Limit_Yield] AS [Limit_Yield], 
        [Extent3].[Limit_Discount] AS [Limit_Discount], 
        [Extent3].[Order_Creator] AS [Order_Creator], 
        [Extent3].[Order_Create_Date] AS [Order_Create_Date], 
        [Extent3].[Last_Update_Date] AS [Last_Update_Date2], 
        [Extent3].[Last_Update_User] AS [Last_Update_User2], 
        [Extent3].[Sent_To_Trading_Date] AS [Sent_To_Trading_Date], 
        [Extent3].[Sent_To_Accounting_Date] AS [Sent_To_Accounting_Date], 
        [Extent3].[Value_Based_Indicator] AS [Value_Based_Indicator], 
        [Extent3].[Target_Clean_Price] AS [Target_Clean_Price], 
        [Extent3].[Target_Income_Price] AS [Target_Income_Price], 
        [Extent3].[Target_AllIn_Price] AS [Target_AllIn_Price], 
        [Extent3].[Target_Yield] AS [Target_Yield], 
        [Extent3].[Target_Discount] AS [Target_Discount], 
        [Extent3].[Target_Quantity] AS [Target_Quantity], 
        [Extent3].[Target_Clean_Amount_TradeCur] AS [Target_Clean_Amount_TradeCur], 
        [Extent3].[Target_Income_Amount_TradeCur] AS [Target_Income_Amount_TradeCur], 
        [Extent3].[Target_AllIn_Amount_TradeCur] AS [Target_AllIn_Amount_TradeCur], 
        [Extent3].[Place_Quantity] AS [Place_Quantity], 
        [Extent3].[Execution_Quantity] AS [Execution_Quantity], 
        [Extent3].[Execution_Clean_Amount_TradeCur] AS [Execution_Clean_Amount_TradeCur], 
        [Extent3].[Execution_Income_Amount_TradeCur] AS [Execution_Income_Amount_TradeCur], 
        [Extent3].[Execution_AllIn_Amount_TradeCur] AS [Execution_AllIn_Amount_TradeCur], 
        [Extent3].[Broker_Code] AS [Broker_Code], 
        [Extent3].[Execution_Clean_Price] AS [Execution_Clean_Price], 
        [Extent3].[Execution_Income_Price] AS [Execution_Income_Price], 
        [Extent3].[Execution_AllIn_Price] AS [Execution_AllIn_Price], 
        [Extent3].[Execution_Yield] AS [Execution_Yield], 
        [Extent3].[Execution_Discount] AS [Execution_Discount], 
        [Extent3].[Execution_Currency] AS [Execution_Currency], 
        [Extent3].[Execution_Exchange] AS [Execution_Exchange], 
        [Extent3].[Target_FX_Rate] AS [Target_FX_Rate], 
        [Extent3].[Limit_FX_Rate] AS [Limit_FX_Rate], 
        [Extent3].[Execution_FX_Rate] AS [Execution_FX_Rate], 
        [Extent3].[Buy_Currency_Code] AS [Buy_Currency_Code], 
        [Extent3].[Buy_Currency_Execution_Amount] AS [Buy_Currency_Execution_Amount], 
        [Extent3].[Buy_Currency_Target_Amount] AS [Buy_Currency_Target_Amount], 
        [Extent3].[Sell_Currency_Code] AS [Sell_Currency_Code], 
        [Extent3].[Sell_Currency_Execution_Amount] AS [Sell_Currency_Execution_Amount], 
        [Extent3].[Sell_Currency_Target_Amount] AS [Sell_Currency_Target_Amount], 
        [Extent3].[Commission_Amount_TradeCur] AS [Commission_Amount_TradeCur], 
        [Extent3].[Trade_Type_Indicator] AS [Trade_Type_Indicator], 
        [Extent3].[Commission_Rate] AS [Commission_Rate], 
        [Extent3].[Commission_Type] AS [Commission_Type], 
        [Extent3].[Fee_Code1] AS [Fee_Code1], 
        [Extent3].[Fee_Code2] AS [Fee_Code2], 
        [Extent3].[Fee_Code3] AS [Fee_Code3], 
        [Extent3].[Fee_Code4] AS [Fee_Code4], 
        [Extent3].[Fee_Code5] AS [Fee_Code5], 
        [Extent3].[Fee_Code6] AS [Fee_Code6], 
        [Extent3].[Fee_Amount1_TradeCur] AS [Fee_Amount1_TradeCur], 
        [Extent3].[Fee_Amount2_TradeCur] AS [Fee_Amount2_TradeCur], 
        [Extent3].[Fee_Amount3_TradeCur] AS [Fee_Amount3_TradeCur], 
        [Extent3].[Fee_Amount4_TradeCur] AS [Fee_Amount4_TradeCur], 
        [Extent3].[Fee_Amount5_TradeCur] AS [Fee_Amount5_TradeCur], 
        [Extent3].[Fee_Amount6_TradeCur] AS [Fee_Amount6_TradeCur], 
        [Extent3].[Tax_Amount_TradeCur] AS [Tax_Amount_TradeCur], 
        [Extent3].[Tax_Type] AS [Tax_Type], 
        [Extent3].[Tax_Charge_FeeNum] AS [Tax_Charge_FeeNum], 
        [Extent3].[Execution_Gross_Amount_TradeCur] AS [Execution_Gross_Amount_TradeCur], 
        [Extent3].[Execution_Net_Amount_TradeCur] AS [Execution_Net_Amount_TradeCur], 
        [Extent3].[Related_Order_ID] AS [Related_Order_ID], 
        [Extent3].[Previous_Order_ID] AS [Previous_Order_ID], 
        [Extent3].[Authorised_User1] AS [Authorised_User1], 
        [Extent3].[Authorised_User1_DateTime] AS [Authorised_User1_DateTime], 
        [Extent3].[Authorised_User2] AS [Authorised_User2], 
        [Extent3].[Authorised_User2_DateTime] AS [Authorised_User2_DateTime], 
        [Extent3].[Authorised_Number] AS [Authorised_Number], 
        [Extent3].[Security_Type_Code] AS [Security_Type_Code1], 
        [Extent3].[Export_Status] AS [Export_Status], 
        [Extent3].[Order_Ack_Nack_Status] AS [Order_Ack_Nack_Status], 
        [Extent3].[Operations_Status] AS [Operations_Status], 
        [Extent3].[Import_Trade_ID] AS [Import_Trade_ID], 
        1 AS [C1]
        FROM   [dbo].[Cash_Transactions] AS [Extent1]
        LEFT OUTER JOIN [dbo].[Security_Detail] AS [Extent2] ON [Extent1].[Transaction_Security_ID] = [Extent2].[Security_ID]
        LEFT OUTER JOIN [dbo].[Order_Detail] AS [Extent3] ON [Extent1].[Order_ID] = [Extent3].[Order_ID]
        WHERE ([Extent1].[Entity_ID] = @p__linq__0) AND ([Extent1].[Portfolio_Code] = @p__linq__1) AND ([Extent1].[Transaction_Date] <= @p__linq__2)
    )  AS [Project1]
    ORDER BY [Project1].[Transaction_Date] DESC
2018-06-03 13:42:54.9782|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: IF db_id(N'MetopeAzureDb') IS NOT NULL SELECT 1 ELSE SELECT Count(*) FROM sys.databases WHERE [name]=N'MetopeAzureDb'
2018-06-03 13:42:55.0207|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: IF db_id(N'MetopeAzureDb') IS NOT NULL SELECT 1 ELSE SELECT Count(*) FROM sys.databases WHERE [name]=N'MetopeAzureDb'
2018-06-03 13:42:55.0577|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: IF db_id(N'MetopeAzureDb') IS NOT NULL SELECT 1 ELSE SELECT Count(*) FROM sys.databases WHERE [name]=N'MetopeAzureDb'
2018-06-03 13:42:55.0888|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: IF db_id(N'MetopeAzureDb') IS NOT NULL SELECT 1 ELSE SELECT Count(*) FROM sys.databases WHERE [name]=N'MetopeAzureDb'
2018-06-03 13:43:47.7316|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: SELECT 
    CASE WHEN ( EXISTS (SELECT TOP (50) 
        1 AS [C1]
        FROM ( SELECT 
            [Extent1].[Transaction_Date] AS [Transaction_Date]
            FROM [dbo].[Cash_Transactions] AS [Extent1]
            WHERE ([Extent1].[Entity_ID] = @p__linq__0) AND ([Extent1].[Portfolio_Code] = @p__linq__1) AND ([Extent1].[Transaction_Date] <= @p__linq__2)
        )  AS [Project1]
        ORDER BY [Project1].[Transaction_Date] DESC
    )) THEN cast(1 as bit) ELSE cast(0 as bit) END AS [C1]
    FROM  ( SELECT 1 AS X ) AS [SingleRowTable1]
2018-06-03 13:43:47.7871|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: SELECT 
    CASE WHEN ( EXISTS (SELECT TOP (50) 
        1 AS [C1]
        FROM ( SELECT 
            [Extent1].[Transaction_Date] AS [Transaction_Date]
            FROM [dbo].[Cash_Transactions] AS [Extent1]
            WHERE ([Extent1].[Entity_ID] = @p__linq__0) AND ([Extent1].[Portfolio_Code] = @p__linq__1) AND ([Extent1].[Transaction_Date] <= @p__linq__2)
        )  AS [Project1]
        ORDER BY [Project1].[Transaction_Date] DESC
    )) THEN cast(1 as bit) ELSE cast(0 as bit) END AS [C1]
    FROM  ( SELECT 1 AS X ) AS [SingleRowTable1]
2018-06-03 13:43:47.8252|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: SELECT TOP (50) 
    [Project1].[C1] AS [C1], 
    [Project1].[Cash_Transaction_ID] AS [Cash_Transaction_ID], 
    [Project1].[Portfolio_Code] AS [Portfolio_Code], 
    [Project1].[Entity_ID] AS [Entity_ID], 
    [Project1].[Transaction_Security_ID] AS [Transaction_Security_ID], 
    [Project1].[Cash_Security_ID] AS [Cash_Security_ID], 
    [Project1].[Transaction_Source_Code] AS [Transaction_Source_Code], 
    [Project1].[Order_ID] AS [Order_ID], 
    [Project1].[Allocation_ID] AS [Allocation_ID], 
    [Project1].[Cashflow_ID] AS [Cashflow_ID], 
    [Project1].[Dividend_Seq_Number] AS [Dividend_Seq_Number], 
    [Project1].[External_ID] AS [External_ID], 
    [Project1].[Transaction_Date] AS [Transaction_Date], 
    [Project1].[Value_Date] AS [Value_Date], 
    [Project1].[Cash_Transaction_Type] AS [Cash_Transaction_Type], 
    [Project1].[Transaction_Amount] AS [Transaction_Amount], 
    [Project1].[Transaction_Currency_Code] AS [Transaction_Currency_Code], 
    [Project1].[BaseCur_Amount] AS [BaseCur_Amount], 
    [Project1].[Create_User_Code] AS [Create_User_Code], 
    [Project1].[Create_Date] AS [Create_Date], 
    [Project1].[Last_Update_User] AS [Last_Update_User], 
    [Project1].[Last_Update_Date] AS [Last_Update_Date], 
    [Project1].[Security_ID] AS [Security_ID], 
    [Project1].[Entity_ID1] AS [Entity_ID1], 
    [Project1].[Security_Name] AS [Security_Name], 
    [Project1].[Short_Name] AS [Short_Name], 
    [Project1].[Primary_Exch] AS [Primary_Exch], 
    [Project1].[Secondary_Exch] AS [Secondary_Exch], 
    [Project1].[Country_Of_Domicile] AS [Country_Of_Domicile], 
    [Project1].[Country_Of_Risk] AS [Country_Of_Risk], 
    [Project1].[Security_Type_Code] AS [Security_Type_Code], 
    [Project1].[Price_Multiplier] AS [Price_Multiplier], 
    [Project1].[Income_Frequency] AS [Income_Frequency], 
    [Project1].[Issuer_Code] AS [Issuer_Code], 
    [Project1].[Ultimate_Issuer_Code] AS [Ultimate_Issuer_Code], 
    [Project1].[Asset_Currency] AS [Asset_Currency], 
    [Project1].[Min_Lot_Size] AS [Min_Lot_Size], 
    [Project1].[Decimal_Precision] AS [Decimal_Precision], 
    [Project1].[AvePrice_Rounding] AS [AvePrice_Rounding], 
    [Project1].[Issue_Date] AS [Issue_Date], 
    [Project1].[Maturity_Date] AS [Maturity_Date], 
    [Project1].[Coupon_Rate] AS [Coupon_Rate], 
    [Project1].[Price_Exchange] AS [Price_Exchange], 
    [Project1].[Trade_Currency] AS [Trade_Currency], 
    [Project1].[Price_Curr] AS [Price_Curr], 
    [Project1].[Currency_Pair_Code] AS [Currency_Pair_Code], 
    [Project1].[Share_Class] AS [Share_Class], 
    [Project1].[Current_Market_Price] AS [Current_Market_Price], 
    [Project1].[Index_Type] AS [Index_Type], 
    [Project1].[Clean_Price_Formula] AS [Clean_Price_Formula], 
    [Project1].[Accrued_Income_Price_Formula] AS [Accrued_Income_Price_Formula], 
    [Project1].[Odd_First_Coupon_Date] AS [Odd_First_Coupon_Date], 
    [Project1].[Odd_Last_Coupon_Date] AS [Odd_Last_Coupon_Date], 
    [Project1].[Coupon_Anniversary_Indicator] AS [Coupon_Anniversary_Indicator], 
    [Project1].[Track_EOM_Flag] AS [Track_EOM_Flag], 
    [Project1].[Next_Coupon_Date] AS [Next_Coupon_Date], 
    [Project1].[Previous_Coupon_Date] AS [Previous_Coupon_Date], 
    [Project1].[Payment_Frequency] AS [Payment_Frequency], 
    [Project1].[Coupon_BusDay_Adjustment] AS [Coupon_BusDay_Adjustment], 
    [Project1].[Next_Ex_Div_Date] AS [Next_Ex_Div_Date], 
    [Project1].[Ex_Div_BusDay_Adjustment] AS [Ex_Div_BusDay_Adjustment], 
    [Project1].[Ex_Div_Period] AS [Ex_Div_Period], 
    [Project1].[Ticker] AS [Ticker], 
    [Project1].[Inet_ID] AS [Inet_ID], 
    [Project1].[Bloomberg_ID] AS [Bloomberg_ID], 
    [Project1].[External_Sec_ID] AS [External_Sec_ID], 
    [Project1].[Reuters_ID] AS [Reuters_ID], 
    [Project1].[ISIN] AS [ISIN], 
    [Project1].[Call_Account_Flag] AS [Call_Account_Flag], 
    [Project1].[System_Locked] AS [System_Locked], 
    [Project1].[Last_Update_User1] AS [Last_Update_User1], 
    [Project1].[Last_Update_Date1] AS [Last_Update_Date1], 
    [Project1].[Security_Status] AS [Security_Status], 
    [Project1].[Benchmark_Portfolio] AS [Benchmark_Portfolio], 
    [Project1].[Active_flag] AS [Active_flag], 
    [Project1].[Dividend_FX_Security_ID] AS [Dividend_FX_Security_ID], 
    [Project1].[Order_ID1] AS [Order_ID1], 
    [Project1].[Entity_ID2] AS [Entity_ID2], 
    [Project1].[Security_ID1] AS [Security_ID1], 
    [Project1].[Trade_Date] AS [Trade_Date], 
    [Project1].[Settlement_Date] AS [Settlement_Date], 
    [Project1].[Transaction_Type] AS [Transaction_Type], 
    [Project1].[Order_Status] AS [Order_Status], 
    [Project1].[Cancel_Reason_Code] AS [Cancel_Reason_Code], 
    [Project1].[Manager] AS [Manager], 
    [Project1].[Trader] AS [Trader], 
    [Project1].[Operations_User] AS [Operations_User], 
    [Project1].[Order_Instruction] AS [Order_Instruction], 
    [Project1].[Order_Duration] AS [Order_Duration], 
    [Project1].[Limit_Price] AS [Limit_Price], 
    [Project1].[Limit_Yield] AS [Limit_Yield], 
    [Project1].[Limit_Discount] AS [Limit_Discount], 
    [Project1].[Order_Creator] AS [Order_Creator], 
    [Project1].[Order_Create_Date] AS [Order_Create_Date], 
    [Project1].[Last_Update_Date2] AS [Last_Update_Date2], 
    [Project1].[Last_Update_User2] AS [Last_Update_User2], 
    [Project1].[Sent_To_Trading_Date] AS [Sent_To_Trading_Date], 
    [Project1].[Sent_To_Accounting_Date] AS [Sent_To_Accounting_Date], 
    [Project1].[Value_Based_Indicator] AS [Value_Based_Indicator], 
    [Project1].[Target_Clean_Price] AS [Target_Clean_Price], 
    [Project1].[Target_Income_Price] AS [Target_Income_Price], 
    [Project1].[Target_AllIn_Price] AS [Target_AllIn_Price], 
    [Project1].[Target_Yield] AS [Target_Yield], 
    [Project1].[Target_Discount] AS [Target_Discount], 
    [Project1].[Target_Quantity] AS [Target_Quantity], 
    [Project1].[Target_Clean_Amount_TradeCur] AS [Target_Clean_Amount_TradeCur], 
    [Project1].[Target_Income_Amount_TradeCur] AS [Target_Income_Amount_TradeCur], 
    [Project1].[Target_AllIn_Amount_TradeCur] AS [Target_AllIn_Amount_TradeCur], 
    [Project1].[Place_Quantity] AS [Place_Quantity], 
    [Project1].[Execution_Quantity] AS [Execution_Quantity], 
    [Project1].[Execution_Clean_Amount_TradeCur] AS [Execution_Clean_Amount_TradeCur], 
    [Project1].[Execution_Income_Amount_TradeCur] AS [Execution_Income_Amount_TradeCur], 
    [Project1].[Execution_AllIn_Amount_TradeCur] AS [Execution_AllIn_Amount_TradeCur], 
    [Project1].[Broker_Code] AS [Broker_Code], 
    [Project1].[Execution_Clean_Price] AS [Execution_Clean_Price], 
    [Project1].[Execution_Income_Price] AS [Execution_Income_Price], 
    [Project1].[Execution_AllIn_Price] AS [Execution_AllIn_Price], 
    [Project1].[Execution_Yield] AS [Execution_Yield], 
    [Project1].[Execution_Discount] AS [Execution_Discount], 
    [Project1].[Execution_Currency] AS [Execution_Currency], 
    [Project1].[Execution_Exchange] AS [Execution_Exchange], 
    [Project1].[Target_FX_Rate] AS [Target_FX_Rate], 
    [Project1].[Limit_FX_Rate] AS [Limit_FX_Rate], 
    [Project1].[Execution_FX_Rate] AS [Execution_FX_Rate], 
    [Project1].[Buy_Currency_Code] AS [Buy_Currency_Code], 
    [Project1].[Buy_Currency_Execution_Amount] AS [Buy_Currency_Execution_Amount], 
    [Project1].[Buy_Currency_Target_Amount] AS [Buy_Currency_Target_Amount], 
    [Project1].[Sell_Currency_Code] AS [Sell_Currency_Code], 
    [Project1].[Sell_Currency_Execution_Amount] AS [Sell_Currency_Execution_Amount], 
    [Project1].[Sell_Currency_Target_Amount] AS [Sell_Currency_Target_Amount], 
    [Project1].[Commission_Amount_TradeCur] AS [Commission_Amount_TradeCur], 
    [Project1].[Trade_Type_Indicator] AS [Trade_Type_Indicator], 
    [Project1].[Commission_Rate] AS [Commission_Rate], 
    [Project1].[Commission_Type] AS [Commission_Type], 
    [Project1].[Fee_Code1] AS [Fee_Code1], 
    [Project1].[Fee_Code2] AS [Fee_Code2], 
    [Project1].[Fee_Code3] AS [Fee_Code3], 
    [Project1].[Fee_Code4] AS [Fee_Code4], 
    [Project1].[Fee_Code5] AS [Fee_Code5], 
    [Project1].[Fee_Code6] AS [Fee_Code6], 
    [Project1].[Fee_Amount1_TradeCur] AS [Fee_Amount1_TradeCur], 
    [Project1].[Fee_Amount2_TradeCur] AS [Fee_Amount2_TradeCur], 
    [Project1].[Fee_Amount3_TradeCur] AS [Fee_Amount3_TradeCur], 
    [Project1].[Fee_Amount4_TradeCur] AS [Fee_Amount4_TradeCur], 
    [Project1].[Fee_Amount5_TradeCur] AS [Fee_Amount5_TradeCur], 
    [Project1].[Fee_Amount6_TradeCur] AS [Fee_Amount6_TradeCur], 
    [Project1].[Tax_Amount_TradeCur] AS [Tax_Amount_TradeCur], 
    [Project1].[Tax_Type] AS [Tax_Type], 
    [Project1].[Tax_Charge_FeeNum] AS [Tax_Charge_FeeNum], 
    [Project1].[Execution_Gross_Amount_TradeCur] AS [Execution_Gross_Amount_TradeCur], 
    [Project1].[Execution_Net_Amount_TradeCur] AS [Execution_Net_Amount_TradeCur], 
    [Project1].[Related_Order_ID] AS [Related_Order_ID], 
    [Project1].[Previous_Order_ID] AS [Previous_Order_ID], 
    [Project1].[Authorised_User1] AS [Authorised_User1], 
    [Project1].[Authorised_User1_DateTime] AS [Authorised_User1_DateTime], 
    [Project1].[Authorised_User2] AS [Authorised_User2], 
    [Project1].[Authorised_User2_DateTime] AS [Authorised_User2_DateTime], 
    [Project1].[Authorised_Number] AS [Authorised_Number], 
    [Project1].[Security_Type_Code1] AS [Security_Type_Code1], 
    [Project1].[Export_Status] AS [Export_Status], 
    [Project1].[Order_Ack_Nack_Status] AS [Order_Ack_Nack_Status], 
    [Project1].[Operations_Status] AS [Operations_Status], 
    [Project1].[Import_Trade_ID] AS [Import_Trade_ID]
    FROM ( SELECT 
        [Extent1].[Cash_Transaction_ID] AS [Cash_Transaction_ID], 
        [Extent1].[Portfolio_Code] AS [Portfolio_Code], 
        [Extent1].[Entity_ID] AS [Entity_ID], 
        [Extent1].[Transaction_Security_ID] AS [Transaction_Security_ID], 
        [Extent1].[Cash_Security_ID] AS [Cash_Security_ID], 
        [Extent1].[Transaction_Source_Code] AS [Transaction_Source_Code], 
        [Extent1].[Order_ID] AS [Order_ID], 
        [Extent1].[Allocation_ID] AS [Allocation_ID], 
        [Extent1].[Cashflow_ID] AS [Cashflow_ID], 
        [Extent1].[Dividend_Seq_Number] AS [Dividend_Seq_Number], 
        [Extent1].[External_ID] AS [External_ID], 
        [Extent1].[Transaction_Date] AS [Transaction_Date], 
        [Extent1].[Value_Date] AS [Value_Date], 
        [Extent1].[Cash_Transaction_Type] AS [Cash_Transaction_Type], 
        [Extent1].[Transaction_Amount] AS [Transaction_Amount], 
        [Extent1].[Transaction_Currency_Code] AS [Transaction_Currency_Code], 
        [Extent1].[BaseCur_Amount] AS [BaseCur_Amount], 
        [Extent1].[Create_User_Code] AS [Create_User_Code], 
        [Extent1].[Create_Date] AS [Create_Date], 
        [Extent1].[Last_Update_User] AS [Last_Update_User], 
        [Extent1].[Last_Update_Date] AS [Last_Update_Date], 
        [Extent2].[Security_ID] AS [Security_ID], 
        [Extent2].[Entity_ID] AS [Entity_ID1], 
        [Extent2].[Security_Name] AS [Security_Name], 
        [Extent2].[Short_Name] AS [Short_Name], 
        [Extent2].[Primary_Exch] AS [Primary_Exch], 
        [Extent2].[Secondary_Exch] AS [Secondary_Exch], 
        [Extent2].[Country_Of_Domicile] AS [Country_Of_Domicile], 
        [Extent2].[Country_Of_Risk] AS [Country_Of_Risk], 
        [Extent2].[Security_Type_Code] AS [Security_Type_Code], 
        [Extent2].[Price_Multiplier] AS [Price_Multiplier], 
        [Extent2].[Income_Frequency] AS [Income_Frequency], 
        [Extent2].[Issuer_Code] AS [Issuer_Code], 
        [Extent2].[Ultimate_Issuer_Code] AS [Ultimate_Issuer_Code], 
        [Extent2].[Asset_Currency] AS [Asset_Currency], 
        [Extent2].[Min_Lot_Size] AS [Min_Lot_Size], 
        [Extent2].[Decimal_Precision] AS [Decimal_Precision], 
        [Extent2].[AvePrice_Rounding] AS [AvePrice_Rounding], 
        [Extent2].[Issue_Date] AS [Issue_Date], 
        [Extent2].[Maturity_Date] AS [Maturity_Date], 
        [Extent2].[Coupon_Rate] AS [Coupon_Rate], 
        [Extent2].[Price_Exchange] AS [Price_Exchange], 
        [Extent2].[Trade_Currency] AS [Trade_Currency], 
        [Extent2].[Price_Curr] AS [Price_Curr], 
        [Extent2].[Currency_Pair_Code] AS [Currency_Pair_Code], 
        [Extent2].[Share_Class] AS [Share_Class], 
        [Extent2].[Current_Market_Price] AS [Current_Market_Price], 
        [Extent2].[Index_Type] AS [Index_Type], 
        [Extent2].[Clean_Price_Formula] AS [Clean_Price_Formula], 
        [Extent2].[Accrued_Income_Price_Formula] AS [Accrued_Income_Price_Formula], 
        [Extent2].[Odd_First_Coupon_Date] AS [Odd_First_Coupon_Date], 
        [Extent2].[Odd_Last_Coupon_Date] AS [Odd_Last_Coupon_Date], 
        [Extent2].[Coupon_Anniversary_Indicator] AS [Coupon_Anniversary_Indicator], 
        [Extent2].[Track_EOM_Flag] AS [Track_EOM_Flag], 
        [Extent2].[Next_Coupon_Date] AS [Next_Coupon_Date], 
        [Extent2].[Previous_Coupon_Date] AS [Previous_Coupon_Date], 
        [Extent2].[Payment_Frequency] AS [Payment_Frequency], 
        [Extent2].[Coupon_BusDay_Adjustment] AS [Coupon_BusDay_Adjustment], 
        [Extent2].[Next_Ex_Div_Date] AS [Next_Ex_Div_Date], 
        [Extent2].[Ex_Div_BusDay_Adjustment] AS [Ex_Div_BusDay_Adjustment], 
        [Extent2].[Ex_Div_Period] AS [Ex_Div_Period], 
        [Extent2].[Ticker] AS [Ticker], 
        [Extent2].[Inet_ID] AS [Inet_ID], 
        [Extent2].[Bloomberg_ID] AS [Bloomberg_ID], 
        [Extent2].[External_Sec_ID] AS [External_Sec_ID], 
        [Extent2].[Reuters_ID] AS [Reuters_ID], 
        [Extent2].[ISIN] AS [ISIN], 
        [Extent2].[Call_Account_Flag] AS [Call_Account_Flag], 
        [Extent2].[System_Locked] AS [System_Locked], 
        [Extent2].[Last_Update_User] AS [Last_Update_User1], 
        [Extent2].[Last_Update_Date] AS [Last_Update_Date1], 
        [Extent2].[Security_Status] AS [Security_Status], 
        [Extent2].[Benchmark_Portfolio] AS [Benchmark_Portfolio], 
        [Extent2].[Active_flag] AS [Active_flag], 
        [Extent2].[Dividend_FX_Security_ID] AS [Dividend_FX_Security_ID], 
        [Extent3].[Order_ID] AS [Order_ID1], 
        [Extent3].[Entity_ID] AS [Entity_ID2], 
        [Extent3].[Security_ID] AS [Security_ID1], 
        [Extent3].[Trade_Date] AS [Trade_Date], 
        [Extent3].[Settlement_Date] AS [Settlement_Date], 
        [Extent3].[Transaction_Type] AS [Transaction_Type], 
        [Extent3].[Order_Status] AS [Order_Status], 
        [Extent3].[Cancel_Reason_Code] AS [Cancel_Reason_Code], 
        [Extent3].[Manager] AS [Manager], 
        [Extent3].[Trader] AS [Trader], 
        [Extent3].[Operations_User] AS [Operations_User], 
        [Extent3].[Order_Instruction] AS [Order_Instruction], 
        [Extent3].[Order_Duration] AS [Order_Duration], 
        [Extent3].[Limit_Price] AS [Limit_Price], 
        [Extent3].[Limit_Yield] AS [Limit_Yield], 
        [Extent3].[Limit_Discount] AS [Limit_Discount], 
        [Extent3].[Order_Creator] AS [Order_Creator], 
        [Extent3].[Order_Create_Date] AS [Order_Create_Date], 
        [Extent3].[Last_Update_Date] AS [Last_Update_Date2], 
        [Extent3].[Last_Update_User] AS [Last_Update_User2], 
        [Extent3].[Sent_To_Trading_Date] AS [Sent_To_Trading_Date], 
        [Extent3].[Sent_To_Accounting_Date] AS [Sent_To_Accounting_Date], 
        [Extent3].[Value_Based_Indicator] AS [Value_Based_Indicator], 
        [Extent3].[Target_Clean_Price] AS [Target_Clean_Price], 
        [Extent3].[Target_Income_Price] AS [Target_Income_Price], 
        [Extent3].[Target_AllIn_Price] AS [Target_AllIn_Price], 
        [Extent3].[Target_Yield] AS [Target_Yield], 
        [Extent3].[Target_Discount] AS [Target_Discount], 
        [Extent3].[Target_Quantity] AS [Target_Quantity], 
        [Extent3].[Target_Clean_Amount_TradeCur] AS [Target_Clean_Amount_TradeCur], 
        [Extent3].[Target_Income_Amount_TradeCur] AS [Target_Income_Amount_TradeCur], 
        [Extent3].[Target_AllIn_Amount_TradeCur] AS [Target_AllIn_Amount_TradeCur], 
        [Extent3].[Place_Quantity] AS [Place_Quantity], 
        [Extent3].[Execution_Quantity] AS [Execution_Quantity], 
        [Extent3].[Execution_Clean_Amount_TradeCur] AS [Execution_Clean_Amount_TradeCur], 
        [Extent3].[Execution_Income_Amount_TradeCur] AS [Execution_Income_Amount_TradeCur], 
        [Extent3].[Execution_AllIn_Amount_TradeCur] AS [Execution_AllIn_Amount_TradeCur], 
        [Extent3].[Broker_Code] AS [Broker_Code], 
        [Extent3].[Execution_Clean_Price] AS [Execution_Clean_Price], 
        [Extent3].[Execution_Income_Price] AS [Execution_Income_Price], 
        [Extent3].[Execution_AllIn_Price] AS [Execution_AllIn_Price], 
        [Extent3].[Execution_Yield] AS [Execution_Yield], 
        [Extent3].[Execution_Discount] AS [Execution_Discount], 
        [Extent3].[Execution_Currency] AS [Execution_Currency], 
        [Extent3].[Execution_Exchange] AS [Execution_Exchange], 
        [Extent3].[Target_FX_Rate] AS [Target_FX_Rate], 
        [Extent3].[Limit_FX_Rate] AS [Limit_FX_Rate], 
        [Extent3].[Execution_FX_Rate] AS [Execution_FX_Rate], 
        [Extent3].[Buy_Currency_Code] AS [Buy_Currency_Code], 
        [Extent3].[Buy_Currency_Execution_Amount] AS [Buy_Currency_Execution_Amount], 
        [Extent3].[Buy_Currency_Target_Amount] AS [Buy_Currency_Target_Amount], 
        [Extent3].[Sell_Currency_Code] AS [Sell_Currency_Code], 
        [Extent3].[Sell_Currency_Execution_Amount] AS [Sell_Currency_Execution_Amount], 
        [Extent3].[Sell_Currency_Target_Amount] AS [Sell_Currency_Target_Amount], 
        [Extent3].[Commission_Amount_TradeCur] AS [Commission_Amount_TradeCur], 
        [Extent3].[Trade_Type_Indicator] AS [Trade_Type_Indicator], 
        [Extent3].[Commission_Rate] AS [Commission_Rate], 
        [Extent3].[Commission_Type] AS [Commission_Type], 
        [Extent3].[Fee_Code1] AS [Fee_Code1], 
        [Extent3].[Fee_Code2] AS [Fee_Code2], 
        [Extent3].[Fee_Code3] AS [Fee_Code3], 
        [Extent3].[Fee_Code4] AS [Fee_Code4], 
        [Extent3].[Fee_Code5] AS [Fee_Code5], 
        [Extent3].[Fee_Code6] AS [Fee_Code6], 
        [Extent3].[Fee_Amount1_TradeCur] AS [Fee_Amount1_TradeCur], 
        [Extent3].[Fee_Amount2_TradeCur] AS [Fee_Amount2_TradeCur], 
        [Extent3].[Fee_Amount3_TradeCur] AS [Fee_Amount3_TradeCur], 
        [Extent3].[Fee_Amount4_TradeCur] AS [Fee_Amount4_TradeCur], 
        [Extent3].[Fee_Amount5_TradeCur] AS [Fee_Amount5_TradeCur], 
        [Extent3].[Fee_Amount6_TradeCur] AS [Fee_Amount6_TradeCur], 
        [Extent3].[Tax_Amount_TradeCur] AS [Tax_Amount_TradeCur], 
        [Extent3].[Tax_Type] AS [Tax_Type], 
        [Extent3].[Tax_Charge_FeeNum] AS [Tax_Charge_FeeNum], 
        [Extent3].[Execution_Gross_Amount_TradeCur] AS [Execution_Gross_Amount_TradeCur], 
        [Extent3].[Execution_Net_Amount_TradeCur] AS [Execution_Net_Amount_TradeCur], 
        [Extent3].[Related_Order_ID] AS [Related_Order_ID], 
        [Extent3].[Previous_Order_ID] AS [Previous_Order_ID], 
        [Extent3].[Authorised_User1] AS [Authorised_User1], 
        [Extent3].[Authorised_User1_DateTime] AS [Authorised_User1_DateTime], 
        [Extent3].[Authorised_User2] AS [Authorised_User2], 
        [Extent3].[Authorised_User2_DateTime] AS [Authorised_User2_DateTime], 
        [Extent3].[Authorised_Number] AS [Authorised_Number], 
        [Extent3].[Security_Type_Code] AS [Security_Type_Code1], 
        [Extent3].[Export_Status] AS [Export_Status], 
        [Extent3].[Order_Ack_Nack_Status] AS [Order_Ack_Nack_Status], 
        [Extent3].[Operations_Status] AS [Operations_Status], 
        [Extent3].[Import_Trade_ID] AS [Import_Trade_ID], 
        1 AS [C1]
        FROM   [dbo].[Cash_Transactions] AS [Extent1]
        LEFT OUTER JOIN [dbo].[Security_Detail] AS [Extent2] ON [Extent1].[Transaction_Security_ID] = [Extent2].[Security_ID]
        LEFT OUTER JOIN [dbo].[Order_Detail] AS [Extent3] ON [Extent1].[Order_ID] = [Extent3].[Order_ID]
        WHERE ([Extent1].[Entity_ID] = @p__linq__0) AND ([Extent1].[Portfolio_Code] = @p__linq__1) AND ([Extent1].[Transaction_Date] <= @p__linq__2)
    )  AS [Project1]
    ORDER BY [Project1].[Transaction_Date] DESC
2018-06-03 13:43:47.9382|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: SELECT TOP (50) 
    [Project1].[C1] AS [C1], 
    [Project1].[Cash_Transaction_ID] AS [Cash_Transaction_ID], 
    [Project1].[Portfolio_Code] AS [Portfolio_Code], 
    [Project1].[Entity_ID] AS [Entity_ID], 
    [Project1].[Transaction_Security_ID] AS [Transaction_Security_ID], 
    [Project1].[Cash_Security_ID] AS [Cash_Security_ID], 
    [Project1].[Transaction_Source_Code] AS [Transaction_Source_Code], 
    [Project1].[Order_ID] AS [Order_ID], 
    [Project1].[Allocation_ID] AS [Allocation_ID], 
    [Project1].[Cashflow_ID] AS [Cashflow_ID], 
    [Project1].[Dividend_Seq_Number] AS [Dividend_Seq_Number], 
    [Project1].[External_ID] AS [External_ID], 
    [Project1].[Transaction_Date] AS [Transaction_Date], 
    [Project1].[Value_Date] AS [Value_Date], 
    [Project1].[Cash_Transaction_Type] AS [Cash_Transaction_Type], 
    [Project1].[Transaction_Amount] AS [Transaction_Amount], 
    [Project1].[Transaction_Currency_Code] AS [Transaction_Currency_Code], 
    [Project1].[BaseCur_Amount] AS [BaseCur_Amount], 
    [Project1].[Create_User_Code] AS [Create_User_Code], 
    [Project1].[Create_Date] AS [Create_Date], 
    [Project1].[Last_Update_User] AS [Last_Update_User], 
    [Project1].[Last_Update_Date] AS [Last_Update_Date], 
    [Project1].[Security_ID] AS [Security_ID], 
    [Project1].[Entity_ID1] AS [Entity_ID1], 
    [Project1].[Security_Name] AS [Security_Name], 
    [Project1].[Short_Name] AS [Short_Name], 
    [Project1].[Primary_Exch] AS [Primary_Exch], 
    [Project1].[Secondary_Exch] AS [Secondary_Exch], 
    [Project1].[Country_Of_Domicile] AS [Country_Of_Domicile], 
    [Project1].[Country_Of_Risk] AS [Country_Of_Risk], 
    [Project1].[Security_Type_Code] AS [Security_Type_Code], 
    [Project1].[Price_Multiplier] AS [Price_Multiplier], 
    [Project1].[Income_Frequency] AS [Income_Frequency], 
    [Project1].[Issuer_Code] AS [Issuer_Code], 
    [Project1].[Ultimate_Issuer_Code] AS [Ultimate_Issuer_Code], 
    [Project1].[Asset_Currency] AS [Asset_Currency], 
    [Project1].[Min_Lot_Size] AS [Min_Lot_Size], 
    [Project1].[Decimal_Precision] AS [Decimal_Precision], 
    [Project1].[AvePrice_Rounding] AS [AvePrice_Rounding], 
    [Project1].[Issue_Date] AS [Issue_Date], 
    [Project1].[Maturity_Date] AS [Maturity_Date], 
    [Project1].[Coupon_Rate] AS [Coupon_Rate], 
    [Project1].[Price_Exchange] AS [Price_Exchange], 
    [Project1].[Trade_Currency] AS [Trade_Currency], 
    [Project1].[Price_Curr] AS [Price_Curr], 
    [Project1].[Currency_Pair_Code] AS [Currency_Pair_Code], 
    [Project1].[Share_Class] AS [Share_Class], 
    [Project1].[Current_Market_Price] AS [Current_Market_Price], 
    [Project1].[Index_Type] AS [Index_Type], 
    [Project1].[Clean_Price_Formula] AS [Clean_Price_Formula], 
    [Project1].[Accrued_Income_Price_Formula] AS [Accrued_Income_Price_Formula], 
    [Project1].[Odd_First_Coupon_Date] AS [Odd_First_Coupon_Date], 
    [Project1].[Odd_Last_Coupon_Date] AS [Odd_Last_Coupon_Date], 
    [Project1].[Coupon_Anniversary_Indicator] AS [Coupon_Anniversary_Indicator], 
    [Project1].[Track_EOM_Flag] AS [Track_EOM_Flag], 
    [Project1].[Next_Coupon_Date] AS [Next_Coupon_Date], 
    [Project1].[Previous_Coupon_Date] AS [Previous_Coupon_Date], 
    [Project1].[Payment_Frequency] AS [Payment_Frequency], 
    [Project1].[Coupon_BusDay_Adjustment] AS [Coupon_BusDay_Adjustment], 
    [Project1].[Next_Ex_Div_Date] AS [Next_Ex_Div_Date], 
    [Project1].[Ex_Div_BusDay_Adjustment] AS [Ex_Div_BusDay_Adjustment], 
    [Project1].[Ex_Div_Period] AS [Ex_Div_Period], 
    [Project1].[Ticker] AS [Ticker], 
    [Project1].[Inet_ID] AS [Inet_ID], 
    [Project1].[Bloomberg_ID] AS [Bloomberg_ID], 
    [Project1].[External_Sec_ID] AS [External_Sec_ID], 
    [Project1].[Reuters_ID] AS [Reuters_ID], 
    [Project1].[ISIN] AS [ISIN], 
    [Project1].[Call_Account_Flag] AS [Call_Account_Flag], 
    [Project1].[System_Locked] AS [System_Locked], 
    [Project1].[Last_Update_User1] AS [Last_Update_User1], 
    [Project1].[Last_Update_Date1] AS [Last_Update_Date1], 
    [Project1].[Security_Status] AS [Security_Status], 
    [Project1].[Benchmark_Portfolio] AS [Benchmark_Portfolio], 
    [Project1].[Active_flag] AS [Active_flag], 
    [Project1].[Dividend_FX_Security_ID] AS [Dividend_FX_Security_ID], 
    [Project1].[Order_ID1] AS [Order_ID1], 
    [Project1].[Entity_ID2] AS [Entity_ID2], 
    [Project1].[Security_ID1] AS [Security_ID1], 
    [Project1].[Trade_Date] AS [Trade_Date], 
    [Project1].[Settlement_Date] AS [Settlement_Date], 
    [Project1].[Transaction_Type] AS [Transaction_Type], 
    [Project1].[Order_Status] AS [Order_Status], 
    [Project1].[Cancel_Reason_Code] AS [Cancel_Reason_Code], 
    [Project1].[Manager] AS [Manager], 
    [Project1].[Trader] AS [Trader], 
    [Project1].[Operations_User] AS [Operations_User], 
    [Project1].[Order_Instruction] AS [Order_Instruction], 
    [Project1].[Order_Duration] AS [Order_Duration], 
    [Project1].[Limit_Price] AS [Limit_Price], 
    [Project1].[Limit_Yield] AS [Limit_Yield], 
    [Project1].[Limit_Discount] AS [Limit_Discount], 
    [Project1].[Order_Creator] AS [Order_Creator], 
    [Project1].[Order_Create_Date] AS [Order_Create_Date], 
    [Project1].[Last_Update_Date2] AS [Last_Update_Date2], 
    [Project1].[Last_Update_User2] AS [Last_Update_User2], 
    [Project1].[Sent_To_Trading_Date] AS [Sent_To_Trading_Date], 
    [Project1].[Sent_To_Accounting_Date] AS [Sent_To_Accounting_Date], 
    [Project1].[Value_Based_Indicator] AS [Value_Based_Indicator], 
    [Project1].[Target_Clean_Price] AS [Target_Clean_Price], 
    [Project1].[Target_Income_Price] AS [Target_Income_Price], 
    [Project1].[Target_AllIn_Price] AS [Target_AllIn_Price], 
    [Project1].[Target_Yield] AS [Target_Yield], 
    [Project1].[Target_Discount] AS [Target_Discount], 
    [Project1].[Target_Quantity] AS [Target_Quantity], 
    [Project1].[Target_Clean_Amount_TradeCur] AS [Target_Clean_Amount_TradeCur], 
    [Project1].[Target_Income_Amount_TradeCur] AS [Target_Income_Amount_TradeCur], 
    [Project1].[Target_AllIn_Amount_TradeCur] AS [Target_AllIn_Amount_TradeCur], 
    [Project1].[Place_Quantity] AS [Place_Quantity], 
    [Project1].[Execution_Quantity] AS [Execution_Quantity], 
    [Project1].[Execution_Clean_Amount_TradeCur] AS [Execution_Clean_Amount_TradeCur], 
    [Project1].[Execution_Income_Amount_TradeCur] AS [Execution_Income_Amount_TradeCur], 
    [Project1].[Execution_AllIn_Amount_TradeCur] AS [Execution_AllIn_Amount_TradeCur], 
    [Project1].[Broker_Code] AS [Broker_Code], 
    [Project1].[Execution_Clean_Price] AS [Execution_Clean_Price], 
    [Project1].[Execution_Income_Price] AS [Execution_Income_Price], 
    [Project1].[Execution_AllIn_Price] AS [Execution_AllIn_Price], 
    [Project1].[Execution_Yield] AS [Execution_Yield], 
    [Project1].[Execution_Discount] AS [Execution_Discount], 
    [Project1].[Execution_Currency] AS [Execution_Currency], 
    [Project1].[Execution_Exchange] AS [Execution_Exchange], 
    [Project1].[Target_FX_Rate] AS [Target_FX_Rate], 
    [Project1].[Limit_FX_Rate] AS [Limit_FX_Rate], 
    [Project1].[Execution_FX_Rate] AS [Execution_FX_Rate], 
    [Project1].[Buy_Currency_Code] AS [Buy_Currency_Code], 
    [Project1].[Buy_Currency_Execution_Amount] AS [Buy_Currency_Execution_Amount], 
    [Project1].[Buy_Currency_Target_Amount] AS [Buy_Currency_Target_Amount], 
    [Project1].[Sell_Currency_Code] AS [Sell_Currency_Code], 
    [Project1].[Sell_Currency_Execution_Amount] AS [Sell_Currency_Execution_Amount], 
    [Project1].[Sell_Currency_Target_Amount] AS [Sell_Currency_Target_Amount], 
    [Project1].[Commission_Amount_TradeCur] AS [Commission_Amount_TradeCur], 
    [Project1].[Trade_Type_Indicator] AS [Trade_Type_Indicator], 
    [Project1].[Commission_Rate] AS [Commission_Rate], 
    [Project1].[Commission_Type] AS [Commission_Type], 
    [Project1].[Fee_Code1] AS [Fee_Code1], 
    [Project1].[Fee_Code2] AS [Fee_Code2], 
    [Project1].[Fee_Code3] AS [Fee_Code3], 
    [Project1].[Fee_Code4] AS [Fee_Code4], 
    [Project1].[Fee_Code5] AS [Fee_Code5], 
    [Project1].[Fee_Code6] AS [Fee_Code6], 
    [Project1].[Fee_Amount1_TradeCur] AS [Fee_Amount1_TradeCur], 
    [Project1].[Fee_Amount2_TradeCur] AS [Fee_Amount2_TradeCur], 
    [Project1].[Fee_Amount3_TradeCur] AS [Fee_Amount3_TradeCur], 
    [Project1].[Fee_Amount4_TradeCur] AS [Fee_Amount4_TradeCur], 
    [Project1].[Fee_Amount5_TradeCur] AS [Fee_Amount5_TradeCur], 
    [Project1].[Fee_Amount6_TradeCur] AS [Fee_Amount6_TradeCur], 
    [Project1].[Tax_Amount_TradeCur] AS [Tax_Amount_TradeCur], 
    [Project1].[Tax_Type] AS [Tax_Type], 
    [Project1].[Tax_Charge_FeeNum] AS [Tax_Charge_FeeNum], 
    [Project1].[Execution_Gross_Amount_TradeCur] AS [Execution_Gross_Amount_TradeCur], 
    [Project1].[Execution_Net_Amount_TradeCur] AS [Execution_Net_Amount_TradeCur], 
    [Project1].[Related_Order_ID] AS [Related_Order_ID], 
    [Project1].[Previous_Order_ID] AS [Previous_Order_ID], 
    [Project1].[Authorised_User1] AS [Authorised_User1], 
    [Project1].[Authorised_User1_DateTime] AS [Authorised_User1_DateTime], 
    [Project1].[Authorised_User2] AS [Authorised_User2], 
    [Project1].[Authorised_User2_DateTime] AS [Authorised_User2_DateTime], 
    [Project1].[Authorised_Number] AS [Authorised_Number], 
    [Project1].[Security_Type_Code1] AS [Security_Type_Code1], 
    [Project1].[Export_Status] AS [Export_Status], 
    [Project1].[Order_Ack_Nack_Status] AS [Order_Ack_Nack_Status], 
    [Project1].[Operations_Status] AS [Operations_Status], 
    [Project1].[Import_Trade_ID] AS [Import_Trade_ID]
    FROM ( SELECT 
        [Extent1].[Cash_Transaction_ID] AS [Cash_Transaction_ID], 
        [Extent1].[Portfolio_Code] AS [Portfolio_Code], 
        [Extent1].[Entity_ID] AS [Entity_ID], 
        [Extent1].[Transaction_Security_ID] AS [Transaction_Security_ID], 
        [Extent1].[Cash_Security_ID] AS [Cash_Security_ID], 
        [Extent1].[Transaction_Source_Code] AS [Transaction_Source_Code], 
        [Extent1].[Order_ID] AS [Order_ID], 
        [Extent1].[Allocation_ID] AS [Allocation_ID], 
        [Extent1].[Cashflow_ID] AS [Cashflow_ID], 
        [Extent1].[Dividend_Seq_Number] AS [Dividend_Seq_Number], 
        [Extent1].[External_ID] AS [External_ID], 
        [Extent1].[Transaction_Date] AS [Transaction_Date], 
        [Extent1].[Value_Date] AS [Value_Date], 
        [Extent1].[Cash_Transaction_Type] AS [Cash_Transaction_Type], 
        [Extent1].[Transaction_Amount] AS [Transaction_Amount], 
        [Extent1].[Transaction_Currency_Code] AS [Transaction_Currency_Code], 
        [Extent1].[BaseCur_Amount] AS [BaseCur_Amount], 
        [Extent1].[Create_User_Code] AS [Create_User_Code], 
        [Extent1].[Create_Date] AS [Create_Date], 
        [Extent1].[Last_Update_User] AS [Last_Update_User], 
        [Extent1].[Last_Update_Date] AS [Last_Update_Date], 
        [Extent2].[Security_ID] AS [Security_ID], 
        [Extent2].[Entity_ID] AS [Entity_ID1], 
        [Extent2].[Security_Name] AS [Security_Name], 
        [Extent2].[Short_Name] AS [Short_Name], 
        [Extent2].[Primary_Exch] AS [Primary_Exch], 
        [Extent2].[Secondary_Exch] AS [Secondary_Exch], 
        [Extent2].[Country_Of_Domicile] AS [Country_Of_Domicile], 
        [Extent2].[Country_Of_Risk] AS [Country_Of_Risk], 
        [Extent2].[Security_Type_Code] AS [Security_Type_Code], 
        [Extent2].[Price_Multiplier] AS [Price_Multiplier], 
        [Extent2].[Income_Frequency] AS [Income_Frequency], 
        [Extent2].[Issuer_Code] AS [Issuer_Code], 
        [Extent2].[Ultimate_Issuer_Code] AS [Ultimate_Issuer_Code], 
        [Extent2].[Asset_Currency] AS [Asset_Currency], 
        [Extent2].[Min_Lot_Size] AS [Min_Lot_Size], 
        [Extent2].[Decimal_Precision] AS [Decimal_Precision], 
        [Extent2].[AvePrice_Rounding] AS [AvePrice_Rounding], 
        [Extent2].[Issue_Date] AS [Issue_Date], 
        [Extent2].[Maturity_Date] AS [Maturity_Date], 
        [Extent2].[Coupon_Rate] AS [Coupon_Rate], 
        [Extent2].[Price_Exchange] AS [Price_Exchange], 
        [Extent2].[Trade_Currency] AS [Trade_Currency], 
        [Extent2].[Price_Curr] AS [Price_Curr], 
        [Extent2].[Currency_Pair_Code] AS [Currency_Pair_Code], 
        [Extent2].[Share_Class] AS [Share_Class], 
        [Extent2].[Current_Market_Price] AS [Current_Market_Price], 
        [Extent2].[Index_Type] AS [Index_Type], 
        [Extent2].[Clean_Price_Formula] AS [Clean_Price_Formula], 
        [Extent2].[Accrued_Income_Price_Formula] AS [Accrued_Income_Price_Formula], 
        [Extent2].[Odd_First_Coupon_Date] AS [Odd_First_Coupon_Date], 
        [Extent2].[Odd_Last_Coupon_Date] AS [Odd_Last_Coupon_Date], 
        [Extent2].[Coupon_Anniversary_Indicator] AS [Coupon_Anniversary_Indicator], 
        [Extent2].[Track_EOM_Flag] AS [Track_EOM_Flag], 
        [Extent2].[Next_Coupon_Date] AS [Next_Coupon_Date], 
        [Extent2].[Previous_Coupon_Date] AS [Previous_Coupon_Date], 
        [Extent2].[Payment_Frequency] AS [Payment_Frequency], 
        [Extent2].[Coupon_BusDay_Adjustment] AS [Coupon_BusDay_Adjustment], 
        [Extent2].[Next_Ex_Div_Date] AS [Next_Ex_Div_Date], 
        [Extent2].[Ex_Div_BusDay_Adjustment] AS [Ex_Div_BusDay_Adjustment], 
        [Extent2].[Ex_Div_Period] AS [Ex_Div_Period], 
        [Extent2].[Ticker] AS [Ticker], 
        [Extent2].[Inet_ID] AS [Inet_ID], 
        [Extent2].[Bloomberg_ID] AS [Bloomberg_ID], 
        [Extent2].[External_Sec_ID] AS [External_Sec_ID], 
        [Extent2].[Reuters_ID] AS [Reuters_ID], 
        [Extent2].[ISIN] AS [ISIN], 
        [Extent2].[Call_Account_Flag] AS [Call_Account_Flag], 
        [Extent2].[System_Locked] AS [System_Locked], 
        [Extent2].[Last_Update_User] AS [Last_Update_User1], 
        [Extent2].[Last_Update_Date] AS [Last_Update_Date1], 
        [Extent2].[Security_Status] AS [Security_Status], 
        [Extent2].[Benchmark_Portfolio] AS [Benchmark_Portfolio], 
        [Extent2].[Active_flag] AS [Active_flag], 
        [Extent2].[Dividend_FX_Security_ID] AS [Dividend_FX_Security_ID], 
        [Extent3].[Order_ID] AS [Order_ID1], 
        [Extent3].[Entity_ID] AS [Entity_ID2], 
        [Extent3].[Security_ID] AS [Security_ID1], 
        [Extent3].[Trade_Date] AS [Trade_Date], 
        [Extent3].[Settlement_Date] AS [Settlement_Date], 
        [Extent3].[Transaction_Type] AS [Transaction_Type], 
        [Extent3].[Order_Status] AS [Order_Status], 
        [Extent3].[Cancel_Reason_Code] AS [Cancel_Reason_Code], 
        [Extent3].[Manager] AS [Manager], 
        [Extent3].[Trader] AS [Trader], 
        [Extent3].[Operations_User] AS [Operations_User], 
        [Extent3].[Order_Instruction] AS [Order_Instruction], 
        [Extent3].[Order_Duration] AS [Order_Duration], 
        [Extent3].[Limit_Price] AS [Limit_Price], 
        [Extent3].[Limit_Yield] AS [Limit_Yield], 
        [Extent3].[Limit_Discount] AS [Limit_Discount], 
        [Extent3].[Order_Creator] AS [Order_Creator], 
        [Extent3].[Order_Create_Date] AS [Order_Create_Date], 
        [Extent3].[Last_Update_Date] AS [Last_Update_Date2], 
        [Extent3].[Last_Update_User] AS [Last_Update_User2], 
        [Extent3].[Sent_To_Trading_Date] AS [Sent_To_Trading_Date], 
        [Extent3].[Sent_To_Accounting_Date] AS [Sent_To_Accounting_Date], 
        [Extent3].[Value_Based_Indicator] AS [Value_Based_Indicator], 
        [Extent3].[Target_Clean_Price] AS [Target_Clean_Price], 
        [Extent3].[Target_Income_Price] AS [Target_Income_Price], 
        [Extent3].[Target_AllIn_Price] AS [Target_AllIn_Price], 
        [Extent3].[Target_Yield] AS [Target_Yield], 
        [Extent3].[Target_Discount] AS [Target_Discount], 
        [Extent3].[Target_Quantity] AS [Target_Quantity], 
        [Extent3].[Target_Clean_Amount_TradeCur] AS [Target_Clean_Amount_TradeCur], 
        [Extent3].[Target_Income_Amount_TradeCur] AS [Target_Income_Amount_TradeCur], 
        [Extent3].[Target_AllIn_Amount_TradeCur] AS [Target_AllIn_Amount_TradeCur], 
        [Extent3].[Place_Quantity] AS [Place_Quantity], 
        [Extent3].[Execution_Quantity] AS [Execution_Quantity], 
        [Extent3].[Execution_Clean_Amount_TradeCur] AS [Execution_Clean_Amount_TradeCur], 
        [Extent3].[Execution_Income_Amount_TradeCur] AS [Execution_Income_Amount_TradeCur], 
        [Extent3].[Execution_AllIn_Amount_TradeCur] AS [Execution_AllIn_Amount_TradeCur], 
        [Extent3].[Broker_Code] AS [Broker_Code], 
        [Extent3].[Execution_Clean_Price] AS [Execution_Clean_Price], 
        [Extent3].[Execution_Income_Price] AS [Execution_Income_Price], 
        [Extent3].[Execution_AllIn_Price] AS [Execution_AllIn_Price], 
        [Extent3].[Execution_Yield] AS [Execution_Yield], 
        [Extent3].[Execution_Discount] AS [Execution_Discount], 
        [Extent3].[Execution_Currency] AS [Execution_Currency], 
        [Extent3].[Execution_Exchange] AS [Execution_Exchange], 
        [Extent3].[Target_FX_Rate] AS [Target_FX_Rate], 
        [Extent3].[Limit_FX_Rate] AS [Limit_FX_Rate], 
        [Extent3].[Execution_FX_Rate] AS [Execution_FX_Rate], 
        [Extent3].[Buy_Currency_Code] AS [Buy_Currency_Code], 
        [Extent3].[Buy_Currency_Execution_Amount] AS [Buy_Currency_Execution_Amount], 
        [Extent3].[Buy_Currency_Target_Amount] AS [Buy_Currency_Target_Amount], 
        [Extent3].[Sell_Currency_Code] AS [Sell_Currency_Code], 
        [Extent3].[Sell_Currency_Execution_Amount] AS [Sell_Currency_Execution_Amount], 
        [Extent3].[Sell_Currency_Target_Amount] AS [Sell_Currency_Target_Amount], 
        [Extent3].[Commission_Amount_TradeCur] AS [Commission_Amount_TradeCur], 
        [Extent3].[Trade_Type_Indicator] AS [Trade_Type_Indicator], 
        [Extent3].[Commission_Rate] AS [Commission_Rate], 
        [Extent3].[Commission_Type] AS [Commission_Type], 
        [Extent3].[Fee_Code1] AS [Fee_Code1], 
        [Extent3].[Fee_Code2] AS [Fee_Code2], 
        [Extent3].[Fee_Code3] AS [Fee_Code3], 
        [Extent3].[Fee_Code4] AS [Fee_Code4], 
        [Extent3].[Fee_Code5] AS [Fee_Code5], 
        [Extent3].[Fee_Code6] AS [Fee_Code6], 
        [Extent3].[Fee_Amount1_TradeCur] AS [Fee_Amount1_TradeCur], 
        [Extent3].[Fee_Amount2_TradeCur] AS [Fee_Amount2_TradeCur], 
        [Extent3].[Fee_Amount3_TradeCur] AS [Fee_Amount3_TradeCur], 
        [Extent3].[Fee_Amount4_TradeCur] AS [Fee_Amount4_TradeCur], 
        [Extent3].[Fee_Amount5_TradeCur] AS [Fee_Amount5_TradeCur], 
        [Extent3].[Fee_Amount6_TradeCur] AS [Fee_Amount6_TradeCur], 
        [Extent3].[Tax_Amount_TradeCur] AS [Tax_Amount_TradeCur], 
        [Extent3].[Tax_Type] AS [Tax_Type], 
        [Extent3].[Tax_Charge_FeeNum] AS [Tax_Charge_FeeNum], 
        [Extent3].[Execution_Gross_Amount_TradeCur] AS [Execution_Gross_Amount_TradeCur], 
        [Extent3].[Execution_Net_Amount_TradeCur] AS [Execution_Net_Amount_TradeCur], 
        [Extent3].[Related_Order_ID] AS [Related_Order_ID], 
        [Extent3].[Previous_Order_ID] AS [Previous_Order_ID], 
        [Extent3].[Authorised_User1] AS [Authorised_User1], 
        [Extent3].[Authorised_User1_DateTime] AS [Authorised_User1_DateTime], 
        [Extent3].[Authorised_User2] AS [Authorised_User2], 
        [Extent3].[Authorised_User2_DateTime] AS [Authorised_User2_DateTime], 
        [Extent3].[Authorised_Number] AS [Authorised_Number], 
        [Extent3].[Security_Type_Code] AS [Security_Type_Code1], 
        [Extent3].[Export_Status] AS [Export_Status], 
        [Extent3].[Order_Ack_Nack_Status] AS [Order_Ack_Nack_Status], 
        [Extent3].[Operations_Status] AS [Operations_Status], 
        [Extent3].[Import_Trade_ID] AS [Import_Trade_ID], 
        1 AS [C1]
        FROM   [dbo].[Cash_Transactions] AS [Extent1]
        LEFT OUTER JOIN [dbo].[Security_Detail] AS [Extent2] ON [Extent1].[Transaction_Security_ID] = [Extent2].[Security_ID]
        LEFT OUTER JOIN [dbo].[Order_Detail] AS [Extent3] ON [Extent1].[Order_ID] = [Extent3].[Order_ID]
        WHERE ([Extent1].[Entity_ID] = @p__linq__0) AND ([Extent1].[Portfolio_Code] = @p__linq__1) AND ([Extent1].[Transaction_Date] <= @p__linq__2)
    )  AS [Project1]
    ORDER BY [Project1].[Transaction_Date] DESC
2018-06-03 13:43:53.5092|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: IF db_id(N'MetopeAzureDb') IS NOT NULL SELECT 1 ELSE SELECT Count(*) FROM sys.databases WHERE [name]=N'MetopeAzureDb'
2018-06-03 13:43:53.5928|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: IF db_id(N'MetopeAzureDb') IS NOT NULL SELECT 1 ELSE SELECT Count(*) FROM sys.databases WHERE [name]=N'MetopeAzureDb'
2018-06-03 13:43:53.6463|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: IF db_id(N'MetopeAzureDb') IS NOT NULL SELECT 1 ELSE SELECT Count(*) FROM sys.databases WHERE [name]=N'MetopeAzureDb'
2018-06-03 13:43:53.6463|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: IF db_id(N'MetopeAzureDb') IS NOT NULL SELECT 1 ELSE SELECT Count(*) FROM sys.databases WHERE [name]=N'MetopeAzureDb'
2018-06-03 13:45:15.8711|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: SELECT 
    CASE WHEN ( EXISTS (SELECT TOP (50) 
        1 AS [C1]
        FROM ( SELECT 
            [Extent1].[Transaction_Date] AS [Transaction_Date]
            FROM [dbo].[Cash_Transactions] AS [Extent1]
            WHERE ([Extent1].[Entity_ID] = @p__linq__0) AND ([Extent1].[Portfolio_Code] = @p__linq__1) AND ([Extent1].[Transaction_Date] <= @p__linq__2)
        )  AS [Project1]
        ORDER BY [Project1].[Transaction_Date] DESC
    )) THEN cast(1 as bit) ELSE cast(0 as bit) END AS [C1]
    FROM  ( SELECT 1 AS X ) AS [SingleRowTable1]
2018-06-03 13:45:15.9321|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: SELECT 
    CASE WHEN ( EXISTS (SELECT TOP (50) 
        1 AS [C1]
        FROM ( SELECT 
            [Extent1].[Transaction_Date] AS [Transaction_Date]
            FROM [dbo].[Cash_Transactions] AS [Extent1]
            WHERE ([Extent1].[Entity_ID] = @p__linq__0) AND ([Extent1].[Portfolio_Code] = @p__linq__1) AND ([Extent1].[Transaction_Date] <= @p__linq__2)
        )  AS [Project1]
        ORDER BY [Project1].[Transaction_Date] DESC
    )) THEN cast(1 as bit) ELSE cast(0 as bit) END AS [C1]
    FROM  ( SELECT 1 AS X ) AS [SingleRowTable1]
2018-06-03 13:45:15.9907|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: SELECT TOP (50) 
    [Project1].[C1] AS [C1], 
    [Project1].[Cash_Transaction_ID] AS [Cash_Transaction_ID], 
    [Project1].[Portfolio_Code] AS [Portfolio_Code], 
    [Project1].[Entity_ID] AS [Entity_ID], 
    [Project1].[Transaction_Security_ID] AS [Transaction_Security_ID], 
    [Project1].[Cash_Security_ID] AS [Cash_Security_ID], 
    [Project1].[Transaction_Source_Code] AS [Transaction_Source_Code], 
    [Project1].[Order_ID] AS [Order_ID], 
    [Project1].[Allocation_ID] AS [Allocation_ID], 
    [Project1].[Cashflow_ID] AS [Cashflow_ID], 
    [Project1].[Dividend_Seq_Number] AS [Dividend_Seq_Number], 
    [Project1].[External_ID] AS [External_ID], 
    [Project1].[Transaction_Date] AS [Transaction_Date], 
    [Project1].[Value_Date] AS [Value_Date], 
    [Project1].[Cash_Transaction_Type] AS [Cash_Transaction_Type], 
    [Project1].[Transaction_Amount] AS [Transaction_Amount], 
    [Project1].[Transaction_Currency_Code] AS [Transaction_Currency_Code], 
    [Project1].[BaseCur_Amount] AS [BaseCur_Amount], 
    [Project1].[Create_User_Code] AS [Create_User_Code], 
    [Project1].[Create_Date] AS [Create_Date], 
    [Project1].[Last_Update_User] AS [Last_Update_User], 
    [Project1].[Last_Update_Date] AS [Last_Update_Date], 
    [Project1].[Security_ID] AS [Security_ID], 
    [Project1].[Entity_ID1] AS [Entity_ID1], 
    [Project1].[Security_Name] AS [Security_Name], 
    [Project1].[Short_Name] AS [Short_Name], 
    [Project1].[Primary_Exch] AS [Primary_Exch], 
    [Project1].[Secondary_Exch] AS [Secondary_Exch], 
    [Project1].[Country_Of_Domicile] AS [Country_Of_Domicile], 
    [Project1].[Country_Of_Risk] AS [Country_Of_Risk], 
    [Project1].[Security_Type_Code] AS [Security_Type_Code], 
    [Project1].[Price_Multiplier] AS [Price_Multiplier], 
    [Project1].[Income_Frequency] AS [Income_Frequency], 
    [Project1].[Issuer_Code] AS [Issuer_Code], 
    [Project1].[Ultimate_Issuer_Code] AS [Ultimate_Issuer_Code], 
    [Project1].[Asset_Currency] AS [Asset_Currency], 
    [Project1].[Min_Lot_Size] AS [Min_Lot_Size], 
    [Project1].[Decimal_Precision] AS [Decimal_Precision], 
    [Project1].[AvePrice_Rounding] AS [AvePrice_Rounding], 
    [Project1].[Issue_Date] AS [Issue_Date], 
    [Project1].[Maturity_Date] AS [Maturity_Date], 
    [Project1].[Coupon_Rate] AS [Coupon_Rate], 
    [Project1].[Price_Exchange] AS [Price_Exchange], 
    [Project1].[Trade_Currency] AS [Trade_Currency], 
    [Project1].[Price_Curr] AS [Price_Curr], 
    [Project1].[Currency_Pair_Code] AS [Currency_Pair_Code], 
    [Project1].[Share_Class] AS [Share_Class], 
    [Project1].[Current_Market_Price] AS [Current_Market_Price], 
    [Project1].[Index_Type] AS [Index_Type], 
    [Project1].[Clean_Price_Formula] AS [Clean_Price_Formula], 
    [Project1].[Accrued_Income_Price_Formula] AS [Accrued_Income_Price_Formula], 
    [Project1].[Odd_First_Coupon_Date] AS [Odd_First_Coupon_Date], 
    [Project1].[Odd_Last_Coupon_Date] AS [Odd_Last_Coupon_Date], 
    [Project1].[Coupon_Anniversary_Indicator] AS [Coupon_Anniversary_Indicator], 
    [Project1].[Track_EOM_Flag] AS [Track_EOM_Flag], 
    [Project1].[Next_Coupon_Date] AS [Next_Coupon_Date], 
    [Project1].[Previous_Coupon_Date] AS [Previous_Coupon_Date], 
    [Project1].[Payment_Frequency] AS [Payment_Frequency], 
    [Project1].[Coupon_BusDay_Adjustment] AS [Coupon_BusDay_Adjustment], 
    [Project1].[Next_Ex_Div_Date] AS [Next_Ex_Div_Date], 
    [Project1].[Ex_Div_BusDay_Adjustment] AS [Ex_Div_BusDay_Adjustment], 
    [Project1].[Ex_Div_Period] AS [Ex_Div_Period], 
    [Project1].[Ticker] AS [Ticker], 
    [Project1].[Inet_ID] AS [Inet_ID], 
    [Project1].[Bloomberg_ID] AS [Bloomberg_ID], 
    [Project1].[External_Sec_ID] AS [External_Sec_ID], 
    [Project1].[Reuters_ID] AS [Reuters_ID], 
    [Project1].[ISIN] AS [ISIN], 
    [Project1].[Call_Account_Flag] AS [Call_Account_Flag], 
    [Project1].[System_Locked] AS [System_Locked], 
    [Project1].[Last_Update_User1] AS [Last_Update_User1], 
    [Project1].[Last_Update_Date1] AS [Last_Update_Date1], 
    [Project1].[Security_Status] AS [Security_Status], 
    [Project1].[Benchmark_Portfolio] AS [Benchmark_Portfolio], 
    [Project1].[Active_flag] AS [Active_flag], 
    [Project1].[Dividend_FX_Security_ID] AS [Dividend_FX_Security_ID], 
    [Project1].[Order_ID1] AS [Order_ID1], 
    [Project1].[Entity_ID2] AS [Entity_ID2], 
    [Project1].[Security_ID1] AS [Security_ID1], 
    [Project1].[Trade_Date] AS [Trade_Date], 
    [Project1].[Settlement_Date] AS [Settlement_Date], 
    [Project1].[Transaction_Type] AS [Transaction_Type], 
    [Project1].[Order_Status] AS [Order_Status], 
    [Project1].[Cancel_Reason_Code] AS [Cancel_Reason_Code], 
    [Project1].[Manager] AS [Manager], 
    [Project1].[Trader] AS [Trader], 
    [Project1].[Operations_User] AS [Operations_User], 
    [Project1].[Order_Instruction] AS [Order_Instruction], 
    [Project1].[Order_Duration] AS [Order_Duration], 
    [Project1].[Limit_Price] AS [Limit_Price], 
    [Project1].[Limit_Yield] AS [Limit_Yield], 
    [Project1].[Limit_Discount] AS [Limit_Discount], 
    [Project1].[Order_Creator] AS [Order_Creator], 
    [Project1].[Order_Create_Date] AS [Order_Create_Date], 
    [Project1].[Last_Update_Date2] AS [Last_Update_Date2], 
    [Project1].[Last_Update_User2] AS [Last_Update_User2], 
    [Project1].[Sent_To_Trading_Date] AS [Sent_To_Trading_Date], 
    [Project1].[Sent_To_Accounting_Date] AS [Sent_To_Accounting_Date], 
    [Project1].[Value_Based_Indicator] AS [Value_Based_Indicator], 
    [Project1].[Target_Clean_Price] AS [Target_Clean_Price], 
    [Project1].[Target_Income_Price] AS [Target_Income_Price], 
    [Project1].[Target_AllIn_Price] AS [Target_AllIn_Price], 
    [Project1].[Target_Yield] AS [Target_Yield], 
    [Project1].[Target_Discount] AS [Target_Discount], 
    [Project1].[Target_Quantity] AS [Target_Quantity], 
    [Project1].[Target_Clean_Amount_TradeCur] AS [Target_Clean_Amount_TradeCur], 
    [Project1].[Target_Income_Amount_TradeCur] AS [Target_Income_Amount_TradeCur], 
    [Project1].[Target_AllIn_Amount_TradeCur] AS [Target_AllIn_Amount_TradeCur], 
    [Project1].[Place_Quantity] AS [Place_Quantity], 
    [Project1].[Execution_Quantity] AS [Execution_Quantity], 
    [Project1].[Execution_Clean_Amount_TradeCur] AS [Execution_Clean_Amount_TradeCur], 
    [Project1].[Execution_Income_Amount_TradeCur] AS [Execution_Income_Amount_TradeCur], 
    [Project1].[Execution_AllIn_Amount_TradeCur] AS [Execution_AllIn_Amount_TradeCur], 
    [Project1].[Broker_Code] AS [Broker_Code], 
    [Project1].[Execution_Clean_Price] AS [Execution_Clean_Price], 
    [Project1].[Execution_Income_Price] AS [Execution_Income_Price], 
    [Project1].[Execution_AllIn_Price] AS [Execution_AllIn_Price], 
    [Project1].[Execution_Yield] AS [Execution_Yield], 
    [Project1].[Execution_Discount] AS [Execution_Discount], 
    [Project1].[Execution_Currency] AS [Execution_Currency], 
    [Project1].[Execution_Exchange] AS [Execution_Exchange], 
    [Project1].[Target_FX_Rate] AS [Target_FX_Rate], 
    [Project1].[Limit_FX_Rate] AS [Limit_FX_Rate], 
    [Project1].[Execution_FX_Rate] AS [Execution_FX_Rate], 
    [Project1].[Buy_Currency_Code] AS [Buy_Currency_Code], 
    [Project1].[Buy_Currency_Execution_Amount] AS [Buy_Currency_Execution_Amount], 
    [Project1].[Buy_Currency_Target_Amount] AS [Buy_Currency_Target_Amount], 
    [Project1].[Sell_Currency_Code] AS [Sell_Currency_Code], 
    [Project1].[Sell_Currency_Execution_Amount] AS [Sell_Currency_Execution_Amount], 
    [Project1].[Sell_Currency_Target_Amount] AS [Sell_Currency_Target_Amount], 
    [Project1].[Commission_Amount_TradeCur] AS [Commission_Amount_TradeCur], 
    [Project1].[Trade_Type_Indicator] AS [Trade_Type_Indicator], 
    [Project1].[Commission_Rate] AS [Commission_Rate], 
    [Project1].[Commission_Type] AS [Commission_Type], 
    [Project1].[Fee_Code1] AS [Fee_Code1], 
    [Project1].[Fee_Code2] AS [Fee_Code2], 
    [Project1].[Fee_Code3] AS [Fee_Code3], 
    [Project1].[Fee_Code4] AS [Fee_Code4], 
    [Project1].[Fee_Code5] AS [Fee_Code5], 
    [Project1].[Fee_Code6] AS [Fee_Code6], 
    [Project1].[Fee_Amount1_TradeCur] AS [Fee_Amount1_TradeCur], 
    [Project1].[Fee_Amount2_TradeCur] AS [Fee_Amount2_TradeCur], 
    [Project1].[Fee_Amount3_TradeCur] AS [Fee_Amount3_TradeCur], 
    [Project1].[Fee_Amount4_TradeCur] AS [Fee_Amount4_TradeCur], 
    [Project1].[Fee_Amount5_TradeCur] AS [Fee_Amount5_TradeCur], 
    [Project1].[Fee_Amount6_TradeCur] AS [Fee_Amount6_TradeCur], 
    [Project1].[Tax_Amount_TradeCur] AS [Tax_Amount_TradeCur], 
    [Project1].[Tax_Type] AS [Tax_Type], 
    [Project1].[Tax_Charge_FeeNum] AS [Tax_Charge_FeeNum], 
    [Project1].[Execution_Gross_Amount_TradeCur] AS [Execution_Gross_Amount_TradeCur], 
    [Project1].[Execution_Net_Amount_TradeCur] AS [Execution_Net_Amount_TradeCur], 
    [Project1].[Related_Order_ID] AS [Related_Order_ID], 
    [Project1].[Previous_Order_ID] AS [Previous_Order_ID], 
    [Project1].[Authorised_User1] AS [Authorised_User1], 
    [Project1].[Authorised_User1_DateTime] AS [Authorised_User1_DateTime], 
    [Project1].[Authorised_User2] AS [Authorised_User2], 
    [Project1].[Authorised_User2_DateTime] AS [Authorised_User2_DateTime], 
    [Project1].[Authorised_Number] AS [Authorised_Number], 
    [Project1].[Security_Type_Code1] AS [Security_Type_Code1], 
    [Project1].[Export_Status] AS [Export_Status], 
    [Project1].[Order_Ack_Nack_Status] AS [Order_Ack_Nack_Status], 
    [Project1].[Operations_Status] AS [Operations_Status], 
    [Project1].[Import_Trade_ID] AS [Import_Trade_ID]
    FROM ( SELECT 
        [Extent1].[Cash_Transaction_ID] AS [Cash_Transaction_ID], 
        [Extent1].[Portfolio_Code] AS [Portfolio_Code], 
        [Extent1].[Entity_ID] AS [Entity_ID], 
        [Extent1].[Transaction_Security_ID] AS [Transaction_Security_ID], 
        [Extent1].[Cash_Security_ID] AS [Cash_Security_ID], 
        [Extent1].[Transaction_Source_Code] AS [Transaction_Source_Code], 
        [Extent1].[Order_ID] AS [Order_ID], 
        [Extent1].[Allocation_ID] AS [Allocation_ID], 
        [Extent1].[Cashflow_ID] AS [Cashflow_ID], 
        [Extent1].[Dividend_Seq_Number] AS [Dividend_Seq_Number], 
        [Extent1].[External_ID] AS [External_ID], 
        [Extent1].[Transaction_Date] AS [Transaction_Date], 
        [Extent1].[Value_Date] AS [Value_Date], 
        [Extent1].[Cash_Transaction_Type] AS [Cash_Transaction_Type], 
        [Extent1].[Transaction_Amount] AS [Transaction_Amount], 
        [Extent1].[Transaction_Currency_Code] AS [Transaction_Currency_Code], 
        [Extent1].[BaseCur_Amount] AS [BaseCur_Amount], 
        [Extent1].[Create_User_Code] AS [Create_User_Code], 
        [Extent1].[Create_Date] AS [Create_Date], 
        [Extent1].[Last_Update_User] AS [Last_Update_User], 
        [Extent1].[Last_Update_Date] AS [Last_Update_Date], 
        [Extent2].[Security_ID] AS [Security_ID], 
        [Extent2].[Entity_ID] AS [Entity_ID1], 
        [Extent2].[Security_Name] AS [Security_Name], 
        [Extent2].[Short_Name] AS [Short_Name], 
        [Extent2].[Primary_Exch] AS [Primary_Exch], 
        [Extent2].[Secondary_Exch] AS [Secondary_Exch], 
        [Extent2].[Country_Of_Domicile] AS [Country_Of_Domicile], 
        [Extent2].[Country_Of_Risk] AS [Country_Of_Risk], 
        [Extent2].[Security_Type_Code] AS [Security_Type_Code], 
        [Extent2].[Price_Multiplier] AS [Price_Multiplier], 
        [Extent2].[Income_Frequency] AS [Income_Frequency], 
        [Extent2].[Issuer_Code] AS [Issuer_Code], 
        [Extent2].[Ultimate_Issuer_Code] AS [Ultimate_Issuer_Code], 
        [Extent2].[Asset_Currency] AS [Asset_Currency], 
        [Extent2].[Min_Lot_Size] AS [Min_Lot_Size], 
        [Extent2].[Decimal_Precision] AS [Decimal_Precision], 
        [Extent2].[AvePrice_Rounding] AS [AvePrice_Rounding], 
        [Extent2].[Issue_Date] AS [Issue_Date], 
        [Extent2].[Maturity_Date] AS [Maturity_Date], 
        [Extent2].[Coupon_Rate] AS [Coupon_Rate], 
        [Extent2].[Price_Exchange] AS [Price_Exchange], 
        [Extent2].[Trade_Currency] AS [Trade_Currency], 
        [Extent2].[Price_Curr] AS [Price_Curr], 
        [Extent2].[Currency_Pair_Code] AS [Currency_Pair_Code], 
        [Extent2].[Share_Class] AS [Share_Class], 
        [Extent2].[Current_Market_Price] AS [Current_Market_Price], 
        [Extent2].[Index_Type] AS [Index_Type], 
        [Extent2].[Clean_Price_Formula] AS [Clean_Price_Formula], 
        [Extent2].[Accrued_Income_Price_Formula] AS [Accrued_Income_Price_Formula], 
        [Extent2].[Odd_First_Coupon_Date] AS [Odd_First_Coupon_Date], 
        [Extent2].[Odd_Last_Coupon_Date] AS [Odd_Last_Coupon_Date], 
        [Extent2].[Coupon_Anniversary_Indicator] AS [Coupon_Anniversary_Indicator], 
        [Extent2].[Track_EOM_Flag] AS [Track_EOM_Flag], 
        [Extent2].[Next_Coupon_Date] AS [Next_Coupon_Date], 
        [Extent2].[Previous_Coupon_Date] AS [Previous_Coupon_Date], 
        [Extent2].[Payment_Frequency] AS [Payment_Frequency], 
        [Extent2].[Coupon_BusDay_Adjustment] AS [Coupon_BusDay_Adjustment], 
        [Extent2].[Next_Ex_Div_Date] AS [Next_Ex_Div_Date], 
        [Extent2].[Ex_Div_BusDay_Adjustment] AS [Ex_Div_BusDay_Adjustment], 
        [Extent2].[Ex_Div_Period] AS [Ex_Div_Period], 
        [Extent2].[Ticker] AS [Ticker], 
        [Extent2].[Inet_ID] AS [Inet_ID], 
        [Extent2].[Bloomberg_ID] AS [Bloomberg_ID], 
        [Extent2].[External_Sec_ID] AS [External_Sec_ID], 
        [Extent2].[Reuters_ID] AS [Reuters_ID], 
        [Extent2].[ISIN] AS [ISIN], 
        [Extent2].[Call_Account_Flag] AS [Call_Account_Flag], 
        [Extent2].[System_Locked] AS [System_Locked], 
        [Extent2].[Last_Update_User] AS [Last_Update_User1], 
        [Extent2].[Last_Update_Date] AS [Last_Update_Date1], 
        [Extent2].[Security_Status] AS [Security_Status], 
        [Extent2].[Benchmark_Portfolio] AS [Benchmark_Portfolio], 
        [Extent2].[Active_flag] AS [Active_flag], 
        [Extent2].[Dividend_FX_Security_ID] AS [Dividend_FX_Security_ID], 
        [Extent3].[Order_ID] AS [Order_ID1], 
        [Extent3].[Entity_ID] AS [Entity_ID2], 
        [Extent3].[Security_ID] AS [Security_ID1], 
        [Extent3].[Trade_Date] AS [Trade_Date], 
        [Extent3].[Settlement_Date] AS [Settlement_Date], 
        [Extent3].[Transaction_Type] AS [Transaction_Type], 
        [Extent3].[Order_Status] AS [Order_Status], 
        [Extent3].[Cancel_Reason_Code] AS [Cancel_Reason_Code], 
        [Extent3].[Manager] AS [Manager], 
        [Extent3].[Trader] AS [Trader], 
        [Extent3].[Operations_User] AS [Operations_User], 
        [Extent3].[Order_Instruction] AS [Order_Instruction], 
        [Extent3].[Order_Duration] AS [Order_Duration], 
        [Extent3].[Limit_Price] AS [Limit_Price], 
        [Extent3].[Limit_Yield] AS [Limit_Yield], 
        [Extent3].[Limit_Discount] AS [Limit_Discount], 
        [Extent3].[Order_Creator] AS [Order_Creator], 
        [Extent3].[Order_Create_Date] AS [Order_Create_Date], 
        [Extent3].[Last_Update_Date] AS [Last_Update_Date2], 
        [Extent3].[Last_Update_User] AS [Last_Update_User2], 
        [Extent3].[Sent_To_Trading_Date] AS [Sent_To_Trading_Date], 
        [Extent3].[Sent_To_Accounting_Date] AS [Sent_To_Accounting_Date], 
        [Extent3].[Value_Based_Indicator] AS [Value_Based_Indicator], 
        [Extent3].[Target_Clean_Price] AS [Target_Clean_Price], 
        [Extent3].[Target_Income_Price] AS [Target_Income_Price], 
        [Extent3].[Target_AllIn_Price] AS [Target_AllIn_Price], 
        [Extent3].[Target_Yield] AS [Target_Yield], 
        [Extent3].[Target_Discount] AS [Target_Discount], 
        [Extent3].[Target_Quantity] AS [Target_Quantity], 
        [Extent3].[Target_Clean_Amount_TradeCur] AS [Target_Clean_Amount_TradeCur], 
        [Extent3].[Target_Income_Amount_TradeCur] AS [Target_Income_Amount_TradeCur], 
        [Extent3].[Target_AllIn_Amount_TradeCur] AS [Target_AllIn_Amount_TradeCur], 
        [Extent3].[Place_Quantity] AS [Place_Quantity], 
        [Extent3].[Execution_Quantity] AS [Execution_Quantity], 
        [Extent3].[Execution_Clean_Amount_TradeCur] AS [Execution_Clean_Amount_TradeCur], 
        [Extent3].[Execution_Income_Amount_TradeCur] AS [Execution_Income_Amount_TradeCur], 
        [Extent3].[Execution_AllIn_Amount_TradeCur] AS [Execution_AllIn_Amount_TradeCur], 
        [Extent3].[Broker_Code] AS [Broker_Code], 
        [Extent3].[Execution_Clean_Price] AS [Execution_Clean_Price], 
        [Extent3].[Execution_Income_Price] AS [Execution_Income_Price], 
        [Extent3].[Execution_AllIn_Price] AS [Execution_AllIn_Price], 
        [Extent3].[Execution_Yield] AS [Execution_Yield], 
        [Extent3].[Execution_Discount] AS [Execution_Discount], 
        [Extent3].[Execution_Currency] AS [Execution_Currency], 
        [Extent3].[Execution_Exchange] AS [Execution_Exchange], 
        [Extent3].[Target_FX_Rate] AS [Target_FX_Rate], 
        [Extent3].[Limit_FX_Rate] AS [Limit_FX_Rate], 
        [Extent3].[Execution_FX_Rate] AS [Execution_FX_Rate], 
        [Extent3].[Buy_Currency_Code] AS [Buy_Currency_Code], 
        [Extent3].[Buy_Currency_Execution_Amount] AS [Buy_Currency_Execution_Amount], 
        [Extent3].[Buy_Currency_Target_Amount] AS [Buy_Currency_Target_Amount], 
        [Extent3].[Sell_Currency_Code] AS [Sell_Currency_Code], 
        [Extent3].[Sell_Currency_Execution_Amount] AS [Sell_Currency_Execution_Amount], 
        [Extent3].[Sell_Currency_Target_Amount] AS [Sell_Currency_Target_Amount], 
        [Extent3].[Commission_Amount_TradeCur] AS [Commission_Amount_TradeCur], 
        [Extent3].[Trade_Type_Indicator] AS [Trade_Type_Indicator], 
        [Extent3].[Commission_Rate] AS [Commission_Rate], 
        [Extent3].[Commission_Type] AS [Commission_Type], 
        [Extent3].[Fee_Code1] AS [Fee_Code1], 
        [Extent3].[Fee_Code2] AS [Fee_Code2], 
        [Extent3].[Fee_Code3] AS [Fee_Code3], 
        [Extent3].[Fee_Code4] AS [Fee_Code4], 
        [Extent3].[Fee_Code5] AS [Fee_Code5], 
        [Extent3].[Fee_Code6] AS [Fee_Code6], 
        [Extent3].[Fee_Amount1_TradeCur] AS [Fee_Amount1_TradeCur], 
        [Extent3].[Fee_Amount2_TradeCur] AS [Fee_Amount2_TradeCur], 
        [Extent3].[Fee_Amount3_TradeCur] AS [Fee_Amount3_TradeCur], 
        [Extent3].[Fee_Amount4_TradeCur] AS [Fee_Amount4_TradeCur], 
        [Extent3].[Fee_Amount5_TradeCur] AS [Fee_Amount5_TradeCur], 
        [Extent3].[Fee_Amount6_TradeCur] AS [Fee_Amount6_TradeCur], 
        [Extent3].[Tax_Amount_TradeCur] AS [Tax_Amount_TradeCur], 
        [Extent3].[Tax_Type] AS [Tax_Type], 
        [Extent3].[Tax_Charge_FeeNum] AS [Tax_Charge_FeeNum], 
        [Extent3].[Execution_Gross_Amount_TradeCur] AS [Execution_Gross_Amount_TradeCur], 
        [Extent3].[Execution_Net_Amount_TradeCur] AS [Execution_Net_Amount_TradeCur], 
        [Extent3].[Related_Order_ID] AS [Related_Order_ID], 
        [Extent3].[Previous_Order_ID] AS [Previous_Order_ID], 
        [Extent3].[Authorised_User1] AS [Authorised_User1], 
        [Extent3].[Authorised_User1_DateTime] AS [Authorised_User1_DateTime], 
        [Extent3].[Authorised_User2] AS [Authorised_User2], 
        [Extent3].[Authorised_User2_DateTime] AS [Authorised_User2_DateTime], 
        [Extent3].[Authorised_Number] AS [Authorised_Number], 
        [Extent3].[Security_Type_Code] AS [Security_Type_Code1], 
        [Extent3].[Export_Status] AS [Export_Status], 
        [Extent3].[Order_Ack_Nack_Status] AS [Order_Ack_Nack_Status], 
        [Extent3].[Operations_Status] AS [Operations_Status], 
        [Extent3].[Import_Trade_ID] AS [Import_Trade_ID], 
        1 AS [C1]
        FROM   [dbo].[Cash_Transactions] AS [Extent1]
        LEFT OUTER JOIN [dbo].[Security_Detail] AS [Extent2] ON [Extent1].[Transaction_Security_ID] = [Extent2].[Security_ID]
        LEFT OUTER JOIN [dbo].[Order_Detail] AS [Extent3] ON [Extent1].[Order_ID] = [Extent3].[Order_ID]
        WHERE ([Extent1].[Entity_ID] = @p__linq__0) AND ([Extent1].[Portfolio_Code] = @p__linq__1) AND ([Extent1].[Transaction_Date] <= @p__linq__2)
    )  AS [Project1]
    ORDER BY [Project1].[Transaction_Date] DESC
2018-06-03 13:45:16.1122|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: SELECT TOP (50) 
    [Project1].[C1] AS [C1], 
    [Project1].[Cash_Transaction_ID] AS [Cash_Transaction_ID], 
    [Project1].[Portfolio_Code] AS [Portfolio_Code], 
    [Project1].[Entity_ID] AS [Entity_ID], 
    [Project1].[Transaction_Security_ID] AS [Transaction_Security_ID], 
    [Project1].[Cash_Security_ID] AS [Cash_Security_ID], 
    [Project1].[Transaction_Source_Code] AS [Transaction_Source_Code], 
    [Project1].[Order_ID] AS [Order_ID], 
    [Project1].[Allocation_ID] AS [Allocation_ID], 
    [Project1].[Cashflow_ID] AS [Cashflow_ID], 
    [Project1].[Dividend_Seq_Number] AS [Dividend_Seq_Number], 
    [Project1].[External_ID] AS [External_ID], 
    [Project1].[Transaction_Date] AS [Transaction_Date], 
    [Project1].[Value_Date] AS [Value_Date], 
    [Project1].[Cash_Transaction_Type] AS [Cash_Transaction_Type], 
    [Project1].[Transaction_Amount] AS [Transaction_Amount], 
    [Project1].[Transaction_Currency_Code] AS [Transaction_Currency_Code], 
    [Project1].[BaseCur_Amount] AS [BaseCur_Amount], 
    [Project1].[Create_User_Code] AS [Create_User_Code], 
    [Project1].[Create_Date] AS [Create_Date], 
    [Project1].[Last_Update_User] AS [Last_Update_User], 
    [Project1].[Last_Update_Date] AS [Last_Update_Date], 
    [Project1].[Security_ID] AS [Security_ID], 
    [Project1].[Entity_ID1] AS [Entity_ID1], 
    [Project1].[Security_Name] AS [Security_Name], 
    [Project1].[Short_Name] AS [Short_Name], 
    [Project1].[Primary_Exch] AS [Primary_Exch], 
    [Project1].[Secondary_Exch] AS [Secondary_Exch], 
    [Project1].[Country_Of_Domicile] AS [Country_Of_Domicile], 
    [Project1].[Country_Of_Risk] AS [Country_Of_Risk], 
    [Project1].[Security_Type_Code] AS [Security_Type_Code], 
    [Project1].[Price_Multiplier] AS [Price_Multiplier], 
    [Project1].[Income_Frequency] AS [Income_Frequency], 
    [Project1].[Issuer_Code] AS [Issuer_Code], 
    [Project1].[Ultimate_Issuer_Code] AS [Ultimate_Issuer_Code], 
    [Project1].[Asset_Currency] AS [Asset_Currency], 
    [Project1].[Min_Lot_Size] AS [Min_Lot_Size], 
    [Project1].[Decimal_Precision] AS [Decimal_Precision], 
    [Project1].[AvePrice_Rounding] AS [AvePrice_Rounding], 
    [Project1].[Issue_Date] AS [Issue_Date], 
    [Project1].[Maturity_Date] AS [Maturity_Date], 
    [Project1].[Coupon_Rate] AS [Coupon_Rate], 
    [Project1].[Price_Exchange] AS [Price_Exchange], 
    [Project1].[Trade_Currency] AS [Trade_Currency], 
    [Project1].[Price_Curr] AS [Price_Curr], 
    [Project1].[Currency_Pair_Code] AS [Currency_Pair_Code], 
    [Project1].[Share_Class] AS [Share_Class], 
    [Project1].[Current_Market_Price] AS [Current_Market_Price], 
    [Project1].[Index_Type] AS [Index_Type], 
    [Project1].[Clean_Price_Formula] AS [Clean_Price_Formula], 
    [Project1].[Accrued_Income_Price_Formula] AS [Accrued_Income_Price_Formula], 
    [Project1].[Odd_First_Coupon_Date] AS [Odd_First_Coupon_Date], 
    [Project1].[Odd_Last_Coupon_Date] AS [Odd_Last_Coupon_Date], 
    [Project1].[Coupon_Anniversary_Indicator] AS [Coupon_Anniversary_Indicator], 
    [Project1].[Track_EOM_Flag] AS [Track_EOM_Flag], 
    [Project1].[Next_Coupon_Date] AS [Next_Coupon_Date], 
    [Project1].[Previous_Coupon_Date] AS [Previous_Coupon_Date], 
    [Project1].[Payment_Frequency] AS [Payment_Frequency], 
    [Project1].[Coupon_BusDay_Adjustment] AS [Coupon_BusDay_Adjustment], 
    [Project1].[Next_Ex_Div_Date] AS [Next_Ex_Div_Date], 
    [Project1].[Ex_Div_BusDay_Adjustment] AS [Ex_Div_BusDay_Adjustment], 
    [Project1].[Ex_Div_Period] AS [Ex_Div_Period], 
    [Project1].[Ticker] AS [Ticker], 
    [Project1].[Inet_ID] AS [Inet_ID], 
    [Project1].[Bloomberg_ID] AS [Bloomberg_ID], 
    [Project1].[External_Sec_ID] AS [External_Sec_ID], 
    [Project1].[Reuters_ID] AS [Reuters_ID], 
    [Project1].[ISIN] AS [ISIN], 
    [Project1].[Call_Account_Flag] AS [Call_Account_Flag], 
    [Project1].[System_Locked] AS [System_Locked], 
    [Project1].[Last_Update_User1] AS [Last_Update_User1], 
    [Project1].[Last_Update_Date1] AS [Last_Update_Date1], 
    [Project1].[Security_Status] AS [Security_Status], 
    [Project1].[Benchmark_Portfolio] AS [Benchmark_Portfolio], 
    [Project1].[Active_flag] AS [Active_flag], 
    [Project1].[Dividend_FX_Security_ID] AS [Dividend_FX_Security_ID], 
    [Project1].[Order_ID1] AS [Order_ID1], 
    [Project1].[Entity_ID2] AS [Entity_ID2], 
    [Project1].[Security_ID1] AS [Security_ID1], 
    [Project1].[Trade_Date] AS [Trade_Date], 
    [Project1].[Settlement_Date] AS [Settlement_Date], 
    [Project1].[Transaction_Type] AS [Transaction_Type], 
    [Project1].[Order_Status] AS [Order_Status], 
    [Project1].[Cancel_Reason_Code] AS [Cancel_Reason_Code], 
    [Project1].[Manager] AS [Manager], 
    [Project1].[Trader] AS [Trader], 
    [Project1].[Operations_User] AS [Operations_User], 
    [Project1].[Order_Instruction] AS [Order_Instruction], 
    [Project1].[Order_Duration] AS [Order_Duration], 
    [Project1].[Limit_Price] AS [Limit_Price], 
    [Project1].[Limit_Yield] AS [Limit_Yield], 
    [Project1].[Limit_Discount] AS [Limit_Discount], 
    [Project1].[Order_Creator] AS [Order_Creator], 
    [Project1].[Order_Create_Date] AS [Order_Create_Date], 
    [Project1].[Last_Update_Date2] AS [Last_Update_Date2], 
    [Project1].[Last_Update_User2] AS [Last_Update_User2], 
    [Project1].[Sent_To_Trading_Date] AS [Sent_To_Trading_Date], 
    [Project1].[Sent_To_Accounting_Date] AS [Sent_To_Accounting_Date], 
    [Project1].[Value_Based_Indicator] AS [Value_Based_Indicator], 
    [Project1].[Target_Clean_Price] AS [Target_Clean_Price], 
    [Project1].[Target_Income_Price] AS [Target_Income_Price], 
    [Project1].[Target_AllIn_Price] AS [Target_AllIn_Price], 
    [Project1].[Target_Yield] AS [Target_Yield], 
    [Project1].[Target_Discount] AS [Target_Discount], 
    [Project1].[Target_Quantity] AS [Target_Quantity], 
    [Project1].[Target_Clean_Amount_TradeCur] AS [Target_Clean_Amount_TradeCur], 
    [Project1].[Target_Income_Amount_TradeCur] AS [Target_Income_Amount_TradeCur], 
    [Project1].[Target_AllIn_Amount_TradeCur] AS [Target_AllIn_Amount_TradeCur], 
    [Project1].[Place_Quantity] AS [Place_Quantity], 
    [Project1].[Execution_Quantity] AS [Execution_Quantity], 
    [Project1].[Execution_Clean_Amount_TradeCur] AS [Execution_Clean_Amount_TradeCur], 
    [Project1].[Execution_Income_Amount_TradeCur] AS [Execution_Income_Amount_TradeCur], 
    [Project1].[Execution_AllIn_Amount_TradeCur] AS [Execution_AllIn_Amount_TradeCur], 
    [Project1].[Broker_Code] AS [Broker_Code], 
    [Project1].[Execution_Clean_Price] AS [Execution_Clean_Price], 
    [Project1].[Execution_Income_Price] AS [Execution_Income_Price], 
    [Project1].[Execution_AllIn_Price] AS [Execution_AllIn_Price], 
    [Project1].[Execution_Yield] AS [Execution_Yield], 
    [Project1].[Execution_Discount] AS [Execution_Discount], 
    [Project1].[Execution_Currency] AS [Execution_Currency], 
    [Project1].[Execution_Exchange] AS [Execution_Exchange], 
    [Project1].[Target_FX_Rate] AS [Target_FX_Rate], 
    [Project1].[Limit_FX_Rate] AS [Limit_FX_Rate], 
    [Project1].[Execution_FX_Rate] AS [Execution_FX_Rate], 
    [Project1].[Buy_Currency_Code] AS [Buy_Currency_Code], 
    [Project1].[Buy_Currency_Execution_Amount] AS [Buy_Currency_Execution_Amount], 
    [Project1].[Buy_Currency_Target_Amount] AS [Buy_Currency_Target_Amount], 
    [Project1].[Sell_Currency_Code] AS [Sell_Currency_Code], 
    [Project1].[Sell_Currency_Execution_Amount] AS [Sell_Currency_Execution_Amount], 
    [Project1].[Sell_Currency_Target_Amount] AS [Sell_Currency_Target_Amount], 
    [Project1].[Commission_Amount_TradeCur] AS [Commission_Amount_TradeCur], 
    [Project1].[Trade_Type_Indicator] AS [Trade_Type_Indicator], 
    [Project1].[Commission_Rate] AS [Commission_Rate], 
    [Project1].[Commission_Type] AS [Commission_Type], 
    [Project1].[Fee_Code1] AS [Fee_Code1], 
    [Project1].[Fee_Code2] AS [Fee_Code2], 
    [Project1].[Fee_Code3] AS [Fee_Code3], 
    [Project1].[Fee_Code4] AS [Fee_Code4], 
    [Project1].[Fee_Code5] AS [Fee_Code5], 
    [Project1].[Fee_Code6] AS [Fee_Code6], 
    [Project1].[Fee_Amount1_TradeCur] AS [Fee_Amount1_TradeCur], 
    [Project1].[Fee_Amount2_TradeCur] AS [Fee_Amount2_TradeCur], 
    [Project1].[Fee_Amount3_TradeCur] AS [Fee_Amount3_TradeCur], 
    [Project1].[Fee_Amount4_TradeCur] AS [Fee_Amount4_TradeCur], 
    [Project1].[Fee_Amount5_TradeCur] AS [Fee_Amount5_TradeCur], 
    [Project1].[Fee_Amount6_TradeCur] AS [Fee_Amount6_TradeCur], 
    [Project1].[Tax_Amount_TradeCur] AS [Tax_Amount_TradeCur], 
    [Project1].[Tax_Type] AS [Tax_Type], 
    [Project1].[Tax_Charge_FeeNum] AS [Tax_Charge_FeeNum], 
    [Project1].[Execution_Gross_Amount_TradeCur] AS [Execution_Gross_Amount_TradeCur], 
    [Project1].[Execution_Net_Amount_TradeCur] AS [Execution_Net_Amount_TradeCur], 
    [Project1].[Related_Order_ID] AS [Related_Order_ID], 
    [Project1].[Previous_Order_ID] AS [Previous_Order_ID], 
    [Project1].[Authorised_User1] AS [Authorised_User1], 
    [Project1].[Authorised_User1_DateTime] AS [Authorised_User1_DateTime], 
    [Project1].[Authorised_User2] AS [Authorised_User2], 
    [Project1].[Authorised_User2_DateTime] AS [Authorised_User2_DateTime], 
    [Project1].[Authorised_Number] AS [Authorised_Number], 
    [Project1].[Security_Type_Code1] AS [Security_Type_Code1], 
    [Project1].[Export_Status] AS [Export_Status], 
    [Project1].[Order_Ack_Nack_Status] AS [Order_Ack_Nack_Status], 
    [Project1].[Operations_Status] AS [Operations_Status], 
    [Project1].[Import_Trade_ID] AS [Import_Trade_ID]
    FROM ( SELECT 
        [Extent1].[Cash_Transaction_ID] AS [Cash_Transaction_ID], 
        [Extent1].[Portfolio_Code] AS [Portfolio_Code], 
        [Extent1].[Entity_ID] AS [Entity_ID], 
        [Extent1].[Transaction_Security_ID] AS [Transaction_Security_ID], 
        [Extent1].[Cash_Security_ID] AS [Cash_Security_ID], 
        [Extent1].[Transaction_Source_Code] AS [Transaction_Source_Code], 
        [Extent1].[Order_ID] AS [Order_ID], 
        [Extent1].[Allocation_ID] AS [Allocation_ID], 
        [Extent1].[Cashflow_ID] AS [Cashflow_ID], 
        [Extent1].[Dividend_Seq_Number] AS [Dividend_Seq_Number], 
        [Extent1].[External_ID] AS [External_ID], 
        [Extent1].[Transaction_Date] AS [Transaction_Date], 
        [Extent1].[Value_Date] AS [Value_Date], 
        [Extent1].[Cash_Transaction_Type] AS [Cash_Transaction_Type], 
        [Extent1].[Transaction_Amount] AS [Transaction_Amount], 
        [Extent1].[Transaction_Currency_Code] AS [Transaction_Currency_Code], 
        [Extent1].[BaseCur_Amount] AS [BaseCur_Amount], 
        [Extent1].[Create_User_Code] AS [Create_User_Code], 
        [Extent1].[Create_Date] AS [Create_Date], 
        [Extent1].[Last_Update_User] AS [Last_Update_User], 
        [Extent1].[Last_Update_Date] AS [Last_Update_Date], 
        [Extent2].[Security_ID] AS [Security_ID], 
        [Extent2].[Entity_ID] AS [Entity_ID1], 
        [Extent2].[Security_Name] AS [Security_Name], 
        [Extent2].[Short_Name] AS [Short_Name], 
        [Extent2].[Primary_Exch] AS [Primary_Exch], 
        [Extent2].[Secondary_Exch] AS [Secondary_Exch], 
        [Extent2].[Country_Of_Domicile] AS [Country_Of_Domicile], 
        [Extent2].[Country_Of_Risk] AS [Country_Of_Risk], 
        [Extent2].[Security_Type_Code] AS [Security_Type_Code], 
        [Extent2].[Price_Multiplier] AS [Price_Multiplier], 
        [Extent2].[Income_Frequency] AS [Income_Frequency], 
        [Extent2].[Issuer_Code] AS [Issuer_Code], 
        [Extent2].[Ultimate_Issuer_Code] AS [Ultimate_Issuer_Code], 
        [Extent2].[Asset_Currency] AS [Asset_Currency], 
        [Extent2].[Min_Lot_Size] AS [Min_Lot_Size], 
        [Extent2].[Decimal_Precision] AS [Decimal_Precision], 
        [Extent2].[AvePrice_Rounding] AS [AvePrice_Rounding], 
        [Extent2].[Issue_Date] AS [Issue_Date], 
        [Extent2].[Maturity_Date] AS [Maturity_Date], 
        [Extent2].[Coupon_Rate] AS [Coupon_Rate], 
        [Extent2].[Price_Exchange] AS [Price_Exchange], 
        [Extent2].[Trade_Currency] AS [Trade_Currency], 
        [Extent2].[Price_Curr] AS [Price_Curr], 
        [Extent2].[Currency_Pair_Code] AS [Currency_Pair_Code], 
        [Extent2].[Share_Class] AS [Share_Class], 
        [Extent2].[Current_Market_Price] AS [Current_Market_Price], 
        [Extent2].[Index_Type] AS [Index_Type], 
        [Extent2].[Clean_Price_Formula] AS [Clean_Price_Formula], 
        [Extent2].[Accrued_Income_Price_Formula] AS [Accrued_Income_Price_Formula], 
        [Extent2].[Odd_First_Coupon_Date] AS [Odd_First_Coupon_Date], 
        [Extent2].[Odd_Last_Coupon_Date] AS [Odd_Last_Coupon_Date], 
        [Extent2].[Coupon_Anniversary_Indicator] AS [Coupon_Anniversary_Indicator], 
        [Extent2].[Track_EOM_Flag] AS [Track_EOM_Flag], 
        [Extent2].[Next_Coupon_Date] AS [Next_Coupon_Date], 
        [Extent2].[Previous_Coupon_Date] AS [Previous_Coupon_Date], 
        [Extent2].[Payment_Frequency] AS [Payment_Frequency], 
        [Extent2].[Coupon_BusDay_Adjustment] AS [Coupon_BusDay_Adjustment], 
        [Extent2].[Next_Ex_Div_Date] AS [Next_Ex_Div_Date], 
        [Extent2].[Ex_Div_BusDay_Adjustment] AS [Ex_Div_BusDay_Adjustment], 
        [Extent2].[Ex_Div_Period] AS [Ex_Div_Period], 
        [Extent2].[Ticker] AS [Ticker], 
        [Extent2].[Inet_ID] AS [Inet_ID], 
        [Extent2].[Bloomberg_ID] AS [Bloomberg_ID], 
        [Extent2].[External_Sec_ID] AS [External_Sec_ID], 
        [Extent2].[Reuters_ID] AS [Reuters_ID], 
        [Extent2].[ISIN] AS [ISIN], 
        [Extent2].[Call_Account_Flag] AS [Call_Account_Flag], 
        [Extent2].[System_Locked] AS [System_Locked], 
        [Extent2].[Last_Update_User] AS [Last_Update_User1], 
        [Extent2].[Last_Update_Date] AS [Last_Update_Date1], 
        [Extent2].[Security_Status] AS [Security_Status], 
        [Extent2].[Benchmark_Portfolio] AS [Benchmark_Portfolio], 
        [Extent2].[Active_flag] AS [Active_flag], 
        [Extent2].[Dividend_FX_Security_ID] AS [Dividend_FX_Security_ID], 
        [Extent3].[Order_ID] AS [Order_ID1], 
        [Extent3].[Entity_ID] AS [Entity_ID2], 
        [Extent3].[Security_ID] AS [Security_ID1], 
        [Extent3].[Trade_Date] AS [Trade_Date], 
        [Extent3].[Settlement_Date] AS [Settlement_Date], 
        [Extent3].[Transaction_Type] AS [Transaction_Type], 
        [Extent3].[Order_Status] AS [Order_Status], 
        [Extent3].[Cancel_Reason_Code] AS [Cancel_Reason_Code], 
        [Extent3].[Manager] AS [Manager], 
        [Extent3].[Trader] AS [Trader], 
        [Extent3].[Operations_User] AS [Operations_User], 
        [Extent3].[Order_Instruction] AS [Order_Instruction], 
        [Extent3].[Order_Duration] AS [Order_Duration], 
        [Extent3].[Limit_Price] AS [Limit_Price], 
        [Extent3].[Limit_Yield] AS [Limit_Yield], 
        [Extent3].[Limit_Discount] AS [Limit_Discount], 
        [Extent3].[Order_Creator] AS [Order_Creator], 
        [Extent3].[Order_Create_Date] AS [Order_Create_Date], 
        [Extent3].[Last_Update_Date] AS [Last_Update_Date2], 
        [Extent3].[Last_Update_User] AS [Last_Update_User2], 
        [Extent3].[Sent_To_Trading_Date] AS [Sent_To_Trading_Date], 
        [Extent3].[Sent_To_Accounting_Date] AS [Sent_To_Accounting_Date], 
        [Extent3].[Value_Based_Indicator] AS [Value_Based_Indicator], 
        [Extent3].[Target_Clean_Price] AS [Target_Clean_Price], 
        [Extent3].[Target_Income_Price] AS [Target_Income_Price], 
        [Extent3].[Target_AllIn_Price] AS [Target_AllIn_Price], 
        [Extent3].[Target_Yield] AS [Target_Yield], 
        [Extent3].[Target_Discount] AS [Target_Discount], 
        [Extent3].[Target_Quantity] AS [Target_Quantity], 
        [Extent3].[Target_Clean_Amount_TradeCur] AS [Target_Clean_Amount_TradeCur], 
        [Extent3].[Target_Income_Amount_TradeCur] AS [Target_Income_Amount_TradeCur], 
        [Extent3].[Target_AllIn_Amount_TradeCur] AS [Target_AllIn_Amount_TradeCur], 
        [Extent3].[Place_Quantity] AS [Place_Quantity], 
        [Extent3].[Execution_Quantity] AS [Execution_Quantity], 
        [Extent3].[Execution_Clean_Amount_TradeCur] AS [Execution_Clean_Amount_TradeCur], 
        [Extent3].[Execution_Income_Amount_TradeCur] AS [Execution_Income_Amount_TradeCur], 
        [Extent3].[Execution_AllIn_Amount_TradeCur] AS [Execution_AllIn_Amount_TradeCur], 
        [Extent3].[Broker_Code] AS [Broker_Code], 
        [Extent3].[Execution_Clean_Price] AS [Execution_Clean_Price], 
        [Extent3].[Execution_Income_Price] AS [Execution_Income_Price], 
        [Extent3].[Execution_AllIn_Price] AS [Execution_AllIn_Price], 
        [Extent3].[Execution_Yield] AS [Execution_Yield], 
        [Extent3].[Execution_Discount] AS [Execution_Discount], 
        [Extent3].[Execution_Currency] AS [Execution_Currency], 
        [Extent3].[Execution_Exchange] AS [Execution_Exchange], 
        [Extent3].[Target_FX_Rate] AS [Target_FX_Rate], 
        [Extent3].[Limit_FX_Rate] AS [Limit_FX_Rate], 
        [Extent3].[Execution_FX_Rate] AS [Execution_FX_Rate], 
        [Extent3].[Buy_Currency_Code] AS [Buy_Currency_Code], 
        [Extent3].[Buy_Currency_Execution_Amount] AS [Buy_Currency_Execution_Amount], 
        [Extent3].[Buy_Currency_Target_Amount] AS [Buy_Currency_Target_Amount], 
        [Extent3].[Sell_Currency_Code] AS [Sell_Currency_Code], 
        [Extent3].[Sell_Currency_Execution_Amount] AS [Sell_Currency_Execution_Amount], 
        [Extent3].[Sell_Currency_Target_Amount] AS [Sell_Currency_Target_Amount], 
        [Extent3].[Commission_Amount_TradeCur] AS [Commission_Amount_TradeCur], 
        [Extent3].[Trade_Type_Indicator] AS [Trade_Type_Indicator], 
        [Extent3].[Commission_Rate] AS [Commission_Rate], 
        [Extent3].[Commission_Type] AS [Commission_Type], 
        [Extent3].[Fee_Code1] AS [Fee_Code1], 
        [Extent3].[Fee_Code2] AS [Fee_Code2], 
        [Extent3].[Fee_Code3] AS [Fee_Code3], 
        [Extent3].[Fee_Code4] AS [Fee_Code4], 
        [Extent3].[Fee_Code5] AS [Fee_Code5], 
        [Extent3].[Fee_Code6] AS [Fee_Code6], 
        [Extent3].[Fee_Amount1_TradeCur] AS [Fee_Amount1_TradeCur], 
        [Extent3].[Fee_Amount2_TradeCur] AS [Fee_Amount2_TradeCur], 
        [Extent3].[Fee_Amount3_TradeCur] AS [Fee_Amount3_TradeCur], 
        [Extent3].[Fee_Amount4_TradeCur] AS [Fee_Amount4_TradeCur], 
        [Extent3].[Fee_Amount5_TradeCur] AS [Fee_Amount5_TradeCur], 
        [Extent3].[Fee_Amount6_TradeCur] AS [Fee_Amount6_TradeCur], 
        [Extent3].[Tax_Amount_TradeCur] AS [Tax_Amount_TradeCur], 
        [Extent3].[Tax_Type] AS [Tax_Type], 
        [Extent3].[Tax_Charge_FeeNum] AS [Tax_Charge_FeeNum], 
        [Extent3].[Execution_Gross_Amount_TradeCur] AS [Execution_Gross_Amount_TradeCur], 
        [Extent3].[Execution_Net_Amount_TradeCur] AS [Execution_Net_Amount_TradeCur], 
        [Extent3].[Related_Order_ID] AS [Related_Order_ID], 
        [Extent3].[Previous_Order_ID] AS [Previous_Order_ID], 
        [Extent3].[Authorised_User1] AS [Authorised_User1], 
        [Extent3].[Authorised_User1_DateTime] AS [Authorised_User1_DateTime], 
        [Extent3].[Authorised_User2] AS [Authorised_User2], 
        [Extent3].[Authorised_User2_DateTime] AS [Authorised_User2_DateTime], 
        [Extent3].[Authorised_Number] AS [Authorised_Number], 
        [Extent3].[Security_Type_Code] AS [Security_Type_Code1], 
        [Extent3].[Export_Status] AS [Export_Status], 
        [Extent3].[Order_Ack_Nack_Status] AS [Order_Ack_Nack_Status], 
        [Extent3].[Operations_Status] AS [Operations_Status], 
        [Extent3].[Import_Trade_ID] AS [Import_Trade_ID], 
        1 AS [C1]
        FROM   [dbo].[Cash_Transactions] AS [Extent1]
        LEFT OUTER JOIN [dbo].[Security_Detail] AS [Extent2] ON [Extent1].[Transaction_Security_ID] = [Extent2].[Security_ID]
        LEFT OUTER JOIN [dbo].[Order_Detail] AS [Extent3] ON [Extent1].[Order_ID] = [Extent3].[Order_ID]
        WHERE ([Extent1].[Entity_ID] = @p__linq__0) AND ([Extent1].[Portfolio_Code] = @p__linq__1) AND ([Extent1].[Transaction_Date] <= @p__linq__2)
    )  AS [Project1]
    ORDER BY [Project1].[Transaction_Date] DESC
2018-06-03 13:45:20.4504|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: IF db_id(N'MetopeAzureDb') IS NOT NULL SELECT 1 ELSE SELECT Count(*) FROM sys.databases WHERE [name]=N'MetopeAzureDb'
2018-06-03 13:45:20.5200|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: IF db_id(N'MetopeAzureDb') IS NOT NULL SELECT 1 ELSE SELECT Count(*) FROM sys.databases WHERE [name]=N'MetopeAzureDb'
2018-06-03 13:45:20.5795|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: IF db_id(N'MetopeAzureDb') IS NOT NULL SELECT 1 ELSE SELECT Count(*) FROM sys.databases WHERE [name]=N'MetopeAzureDb'
2018-06-03 13:45:20.6025|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: IF db_id(N'MetopeAzureDb') IS NOT NULL SELECT 1 ELSE SELECT Count(*) FROM sys.databases WHERE [name]=N'MetopeAzureDb'
2018-06-03 13:45:51.4538|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: SELECT 
    CASE WHEN ( EXISTS (SELECT TOP (50) 
        1 AS [C1]
        FROM ( SELECT 
            [Extent1].[Transaction_Date] AS [Transaction_Date]
            FROM [dbo].[Cash_Transactions] AS [Extent1]
            WHERE ([Extent1].[Entity_ID] = @p__linq__0) AND ([Extent1].[Portfolio_Code] = @p__linq__1) AND ([Extent1].[Transaction_Date] <= @p__linq__2)
        )  AS [Project1]
        ORDER BY [Project1].[Transaction_Date] DESC
    )) THEN cast(1 as bit) ELSE cast(0 as bit) END AS [C1]
    FROM  ( SELECT 1 AS X ) AS [SingleRowTable1]
2018-06-03 13:45:51.5723|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: SELECT 
    CASE WHEN ( EXISTS (SELECT TOP (50) 
        1 AS [C1]
        FROM ( SELECT 
            [Extent1].[Transaction_Date] AS [Transaction_Date]
            FROM [dbo].[Cash_Transactions] AS [Extent1]
            WHERE ([Extent1].[Entity_ID] = @p__linq__0) AND ([Extent1].[Portfolio_Code] = @p__linq__1) AND ([Extent1].[Transaction_Date] <= @p__linq__2)
        )  AS [Project1]
        ORDER BY [Project1].[Transaction_Date] DESC
    )) THEN cast(1 as bit) ELSE cast(0 as bit) END AS [C1]
    FROM  ( SELECT 1 AS X ) AS [SingleRowTable1]
2018-06-03 13:45:51.6379|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: SELECT TOP (50) 
    [Project1].[C1] AS [C1], 
    [Project1].[Cash_Transaction_ID] AS [Cash_Transaction_ID], 
    [Project1].[Portfolio_Code] AS [Portfolio_Code], 
    [Project1].[Entity_ID] AS [Entity_ID], 
    [Project1].[Transaction_Security_ID] AS [Transaction_Security_ID], 
    [Project1].[Cash_Security_ID] AS [Cash_Security_ID], 
    [Project1].[Transaction_Source_Code] AS [Transaction_Source_Code], 
    [Project1].[Order_ID] AS [Order_ID], 
    [Project1].[Allocation_ID] AS [Allocation_ID], 
    [Project1].[Cashflow_ID] AS [Cashflow_ID], 
    [Project1].[Dividend_Seq_Number] AS [Dividend_Seq_Number], 
    [Project1].[External_ID] AS [External_ID], 
    [Project1].[Transaction_Date] AS [Transaction_Date], 
    [Project1].[Value_Date] AS [Value_Date], 
    [Project1].[Cash_Transaction_Type] AS [Cash_Transaction_Type], 
    [Project1].[Transaction_Amount] AS [Transaction_Amount], 
    [Project1].[Transaction_Currency_Code] AS [Transaction_Currency_Code], 
    [Project1].[BaseCur_Amount] AS [BaseCur_Amount], 
    [Project1].[Create_User_Code] AS [Create_User_Code], 
    [Project1].[Create_Date] AS [Create_Date], 
    [Project1].[Last_Update_User] AS [Last_Update_User], 
    [Project1].[Last_Update_Date] AS [Last_Update_Date], 
    [Project1].[Security_ID] AS [Security_ID], 
    [Project1].[Entity_ID1] AS [Entity_ID1], 
    [Project1].[Security_Name] AS [Security_Name], 
    [Project1].[Short_Name] AS [Short_Name], 
    [Project1].[Primary_Exch] AS [Primary_Exch], 
    [Project1].[Secondary_Exch] AS [Secondary_Exch], 
    [Project1].[Country_Of_Domicile] AS [Country_Of_Domicile], 
    [Project1].[Country_Of_Risk] AS [Country_Of_Risk], 
    [Project1].[Security_Type_Code] AS [Security_Type_Code], 
    [Project1].[Price_Multiplier] AS [Price_Multiplier], 
    [Project1].[Income_Frequency] AS [Income_Frequency], 
    [Project1].[Issuer_Code] AS [Issuer_Code], 
    [Project1].[Ultimate_Issuer_Code] AS [Ultimate_Issuer_Code], 
    [Project1].[Asset_Currency] AS [Asset_Currency], 
    [Project1].[Min_Lot_Size] AS [Min_Lot_Size], 
    [Project1].[Decimal_Precision] AS [Decimal_Precision], 
    [Project1].[AvePrice_Rounding] AS [AvePrice_Rounding], 
    [Project1].[Issue_Date] AS [Issue_Date], 
    [Project1].[Maturity_Date] AS [Maturity_Date], 
    [Project1].[Coupon_Rate] AS [Coupon_Rate], 
    [Project1].[Price_Exchange] AS [Price_Exchange], 
    [Project1].[Trade_Currency] AS [Trade_Currency], 
    [Project1].[Price_Curr] AS [Price_Curr], 
    [Project1].[Currency_Pair_Code] AS [Currency_Pair_Code], 
    [Project1].[Share_Class] AS [Share_Class], 
    [Project1].[Current_Market_Price] AS [Current_Market_Price], 
    [Project1].[Index_Type] AS [Index_Type], 
    [Project1].[Clean_Price_Formula] AS [Clean_Price_Formula], 
    [Project1].[Accrued_Income_Price_Formula] AS [Accrued_Income_Price_Formula], 
    [Project1].[Odd_First_Coupon_Date] AS [Odd_First_Coupon_Date], 
    [Project1].[Odd_Last_Coupon_Date] AS [Odd_Last_Coupon_Date], 
    [Project1].[Coupon_Anniversary_Indicator] AS [Coupon_Anniversary_Indicator], 
    [Project1].[Track_EOM_Flag] AS [Track_EOM_Flag], 
    [Project1].[Next_Coupon_Date] AS [Next_Coupon_Date], 
    [Project1].[Previous_Coupon_Date] AS [Previous_Coupon_Date], 
    [Project1].[Payment_Frequency] AS [Payment_Frequency], 
    [Project1].[Coupon_BusDay_Adjustment] AS [Coupon_BusDay_Adjustment], 
    [Project1].[Next_Ex_Div_Date] AS [Next_Ex_Div_Date], 
    [Project1].[Ex_Div_BusDay_Adjustment] AS [Ex_Div_BusDay_Adjustment], 
    [Project1].[Ex_Div_Period] AS [Ex_Div_Period], 
    [Project1].[Ticker] AS [Ticker], 
    [Project1].[Inet_ID] AS [Inet_ID], 
    [Project1].[Bloomberg_ID] AS [Bloomberg_ID], 
    [Project1].[External_Sec_ID] AS [External_Sec_ID], 
    [Project1].[Reuters_ID] AS [Reuters_ID], 
    [Project1].[ISIN] AS [ISIN], 
    [Project1].[Call_Account_Flag] AS [Call_Account_Flag], 
    [Project1].[System_Locked] AS [System_Locked], 
    [Project1].[Last_Update_User1] AS [Last_Update_User1], 
    [Project1].[Last_Update_Date1] AS [Last_Update_Date1], 
    [Project1].[Security_Status] AS [Security_Status], 
    [Project1].[Benchmark_Portfolio] AS [Benchmark_Portfolio], 
    [Project1].[Active_flag] AS [Active_flag], 
    [Project1].[Dividend_FX_Security_ID] AS [Dividend_FX_Security_ID], 
    [Project1].[Order_ID1] AS [Order_ID1], 
    [Project1].[Entity_ID2] AS [Entity_ID2], 
    [Project1].[Security_ID1] AS [Security_ID1], 
    [Project1].[Trade_Date] AS [Trade_Date], 
    [Project1].[Settlement_Date] AS [Settlement_Date], 
    [Project1].[Transaction_Type] AS [Transaction_Type], 
    [Project1].[Order_Status] AS [Order_Status], 
    [Project1].[Cancel_Reason_Code] AS [Cancel_Reason_Code], 
    [Project1].[Manager] AS [Manager], 
    [Project1].[Trader] AS [Trader], 
    [Project1].[Operations_User] AS [Operations_User], 
    [Project1].[Order_Instruction] AS [Order_Instruction], 
    [Project1].[Order_Duration] AS [Order_Duration], 
    [Project1].[Limit_Price] AS [Limit_Price], 
    [Project1].[Limit_Yield] AS [Limit_Yield], 
    [Project1].[Limit_Discount] AS [Limit_Discount], 
    [Project1].[Order_Creator] AS [Order_Creator], 
    [Project1].[Order_Create_Date] AS [Order_Create_Date], 
    [Project1].[Last_Update_Date2] AS [Last_Update_Date2], 
    [Project1].[Last_Update_User2] AS [Last_Update_User2], 
    [Project1].[Sent_To_Trading_Date] AS [Sent_To_Trading_Date], 
    [Project1].[Sent_To_Accounting_Date] AS [Sent_To_Accounting_Date], 
    [Project1].[Value_Based_Indicator] AS [Value_Based_Indicator], 
    [Project1].[Target_Clean_Price] AS [Target_Clean_Price], 
    [Project1].[Target_Income_Price] AS [Target_Income_Price], 
    [Project1].[Target_AllIn_Price] AS [Target_AllIn_Price], 
    [Project1].[Target_Yield] AS [Target_Yield], 
    [Project1].[Target_Discount] AS [Target_Discount], 
    [Project1].[Target_Quantity] AS [Target_Quantity], 
    [Project1].[Target_Clean_Amount_TradeCur] AS [Target_Clean_Amount_TradeCur], 
    [Project1].[Target_Income_Amount_TradeCur] AS [Target_Income_Amount_TradeCur], 
    [Project1].[Target_AllIn_Amount_TradeCur] AS [Target_AllIn_Amount_TradeCur], 
    [Project1].[Place_Quantity] AS [Place_Quantity], 
    [Project1].[Execution_Quantity] AS [Execution_Quantity], 
    [Project1].[Execution_Clean_Amount_TradeCur] AS [Execution_Clean_Amount_TradeCur], 
    [Project1].[Execution_Income_Amount_TradeCur] AS [Execution_Income_Amount_TradeCur], 
    [Project1].[Execution_AllIn_Amount_TradeCur] AS [Execution_AllIn_Amount_TradeCur], 
    [Project1].[Broker_Code] AS [Broker_Code], 
    [Project1].[Execution_Clean_Price] AS [Execution_Clean_Price], 
    [Project1].[Execution_Income_Price] AS [Execution_Income_Price], 
    [Project1].[Execution_AllIn_Price] AS [Execution_AllIn_Price], 
    [Project1].[Execution_Yield] AS [Execution_Yield], 
    [Project1].[Execution_Discount] AS [Execution_Discount], 
    [Project1].[Execution_Currency] AS [Execution_Currency], 
    [Project1].[Execution_Exchange] AS [Execution_Exchange], 
    [Project1].[Target_FX_Rate] AS [Target_FX_Rate], 
    [Project1].[Limit_FX_Rate] AS [Limit_FX_Rate], 
    [Project1].[Execution_FX_Rate] AS [Execution_FX_Rate], 
    [Project1].[Buy_Currency_Code] AS [Buy_Currency_Code], 
    [Project1].[Buy_Currency_Execution_Amount] AS [Buy_Currency_Execution_Amount], 
    [Project1].[Buy_Currency_Target_Amount] AS [Buy_Currency_Target_Amount], 
    [Project1].[Sell_Currency_Code] AS [Sell_Currency_Code], 
    [Project1].[Sell_Currency_Execution_Amount] AS [Sell_Currency_Execution_Amount], 
    [Project1].[Sell_Currency_Target_Amount] AS [Sell_Currency_Target_Amount], 
    [Project1].[Commission_Amount_TradeCur] AS [Commission_Amount_TradeCur], 
    [Project1].[Trade_Type_Indicator] AS [Trade_Type_Indicator], 
    [Project1].[Commission_Rate] AS [Commission_Rate], 
    [Project1].[Commission_Type] AS [Commission_Type], 
    [Project1].[Fee_Code1] AS [Fee_Code1], 
    [Project1].[Fee_Code2] AS [Fee_Code2], 
    [Project1].[Fee_Code3] AS [Fee_Code3], 
    [Project1].[Fee_Code4] AS [Fee_Code4], 
    [Project1].[Fee_Code5] AS [Fee_Code5], 
    [Project1].[Fee_Code6] AS [Fee_Code6], 
    [Project1].[Fee_Amount1_TradeCur] AS [Fee_Amount1_TradeCur], 
    [Project1].[Fee_Amount2_TradeCur] AS [Fee_Amount2_TradeCur], 
    [Project1].[Fee_Amount3_TradeCur] AS [Fee_Amount3_TradeCur], 
    [Project1].[Fee_Amount4_TradeCur] AS [Fee_Amount4_TradeCur], 
    [Project1].[Fee_Amount5_TradeCur] AS [Fee_Amount5_TradeCur], 
    [Project1].[Fee_Amount6_TradeCur] AS [Fee_Amount6_TradeCur], 
    [Project1].[Tax_Amount_TradeCur] AS [Tax_Amount_TradeCur], 
    [Project1].[Tax_Type] AS [Tax_Type], 
    [Project1].[Tax_Charge_FeeNum] AS [Tax_Charge_FeeNum], 
    [Project1].[Execution_Gross_Amount_TradeCur] AS [Execution_Gross_Amount_TradeCur], 
    [Project1].[Execution_Net_Amount_TradeCur] AS [Execution_Net_Amount_TradeCur], 
    [Project1].[Related_Order_ID] AS [Related_Order_ID], 
    [Project1].[Previous_Order_ID] AS [Previous_Order_ID], 
    [Project1].[Authorised_User1] AS [Authorised_User1], 
    [Project1].[Authorised_User1_DateTime] AS [Authorised_User1_DateTime], 
    [Project1].[Authorised_User2] AS [Authorised_User2], 
    [Project1].[Authorised_User2_DateTime] AS [Authorised_User2_DateTime], 
    [Project1].[Authorised_Number] AS [Authorised_Number], 
    [Project1].[Security_Type_Code1] AS [Security_Type_Code1], 
    [Project1].[Export_Status] AS [Export_Status], 
    [Project1].[Order_Ack_Nack_Status] AS [Order_Ack_Nack_Status], 
    [Project1].[Operations_Status] AS [Operations_Status], 
    [Project1].[Import_Trade_ID] AS [Import_Trade_ID]
    FROM ( SELECT 
        [Extent1].[Cash_Transaction_ID] AS [Cash_Transaction_ID], 
        [Extent1].[Portfolio_Code] AS [Portfolio_Code], 
        [Extent1].[Entity_ID] AS [Entity_ID], 
        [Extent1].[Transaction_Security_ID] AS [Transaction_Security_ID], 
        [Extent1].[Cash_Security_ID] AS [Cash_Security_ID], 
        [Extent1].[Transaction_Source_Code] AS [Transaction_Source_Code], 
        [Extent1].[Order_ID] AS [Order_ID], 
        [Extent1].[Allocation_ID] AS [Allocation_ID], 
        [Extent1].[Cashflow_ID] AS [Cashflow_ID], 
        [Extent1].[Dividend_Seq_Number] AS [Dividend_Seq_Number], 
        [Extent1].[External_ID] AS [External_ID], 
        [Extent1].[Transaction_Date] AS [Transaction_Date], 
        [Extent1].[Value_Date] AS [Value_Date], 
        [Extent1].[Cash_Transaction_Type] AS [Cash_Transaction_Type], 
        [Extent1].[Transaction_Amount] AS [Transaction_Amount], 
        [Extent1].[Transaction_Currency_Code] AS [Transaction_Currency_Code], 
        [Extent1].[BaseCur_Amount] AS [BaseCur_Amount], 
        [Extent1].[Create_User_Code] AS [Create_User_Code], 
        [Extent1].[Create_Date] AS [Create_Date], 
        [Extent1].[Last_Update_User] AS [Last_Update_User], 
        [Extent1].[Last_Update_Date] AS [Last_Update_Date], 
        [Extent2].[Security_ID] AS [Security_ID], 
        [Extent2].[Entity_ID] AS [Entity_ID1], 
        [Extent2].[Security_Name] AS [Security_Name], 
        [Extent2].[Short_Name] AS [Short_Name], 
        [Extent2].[Primary_Exch] AS [Primary_Exch], 
        [Extent2].[Secondary_Exch] AS [Secondary_Exch], 
        [Extent2].[Country_Of_Domicile] AS [Country_Of_Domicile], 
        [Extent2].[Country_Of_Risk] AS [Country_Of_Risk], 
        [Extent2].[Security_Type_Code] AS [Security_Type_Code], 
        [Extent2].[Price_Multiplier] AS [Price_Multiplier], 
        [Extent2].[Income_Frequency] AS [Income_Frequency], 
        [Extent2].[Issuer_Code] AS [Issuer_Code], 
        [Extent2].[Ultimate_Issuer_Code] AS [Ultimate_Issuer_Code], 
        [Extent2].[Asset_Currency] AS [Asset_Currency], 
        [Extent2].[Min_Lot_Size] AS [Min_Lot_Size], 
        [Extent2].[Decimal_Precision] AS [Decimal_Precision], 
        [Extent2].[AvePrice_Rounding] AS [AvePrice_Rounding], 
        [Extent2].[Issue_Date] AS [Issue_Date], 
        [Extent2].[Maturity_Date] AS [Maturity_Date], 
        [Extent2].[Coupon_Rate] AS [Coupon_Rate], 
        [Extent2].[Price_Exchange] AS [Price_Exchange], 
        [Extent2].[Trade_Currency] AS [Trade_Currency], 
        [Extent2].[Price_Curr] AS [Price_Curr], 
        [Extent2].[Currency_Pair_Code] AS [Currency_Pair_Code], 
        [Extent2].[Share_Class] AS [Share_Class], 
        [Extent2].[Current_Market_Price] AS [Current_Market_Price], 
        [Extent2].[Index_Type] AS [Index_Type], 
        [Extent2].[Clean_Price_Formula] AS [Clean_Price_Formula], 
        [Extent2].[Accrued_Income_Price_Formula] AS [Accrued_Income_Price_Formula], 
        [Extent2].[Odd_First_Coupon_Date] AS [Odd_First_Coupon_Date], 
        [Extent2].[Odd_Last_Coupon_Date] AS [Odd_Last_Coupon_Date], 
        [Extent2].[Coupon_Anniversary_Indicator] AS [Coupon_Anniversary_Indicator], 
        [Extent2].[Track_EOM_Flag] AS [Track_EOM_Flag], 
        [Extent2].[Next_Coupon_Date] AS [Next_Coupon_Date], 
        [Extent2].[Previous_Coupon_Date] AS [Previous_Coupon_Date], 
        [Extent2].[Payment_Frequency] AS [Payment_Frequency], 
        [Extent2].[Coupon_BusDay_Adjustment] AS [Coupon_BusDay_Adjustment], 
        [Extent2].[Next_Ex_Div_Date] AS [Next_Ex_Div_Date], 
        [Extent2].[Ex_Div_BusDay_Adjustment] AS [Ex_Div_BusDay_Adjustment], 
        [Extent2].[Ex_Div_Period] AS [Ex_Div_Period], 
        [Extent2].[Ticker] AS [Ticker], 
        [Extent2].[Inet_ID] AS [Inet_ID], 
        [Extent2].[Bloomberg_ID] AS [Bloomberg_ID], 
        [Extent2].[External_Sec_ID] AS [External_Sec_ID], 
        [Extent2].[Reuters_ID] AS [Reuters_ID], 
        [Extent2].[ISIN] AS [ISIN], 
        [Extent2].[Call_Account_Flag] AS [Call_Account_Flag], 
        [Extent2].[System_Locked] AS [System_Locked], 
        [Extent2].[Last_Update_User] AS [Last_Update_User1], 
        [Extent2].[Last_Update_Date] AS [Last_Update_Date1], 
        [Extent2].[Security_Status] AS [Security_Status], 
        [Extent2].[Benchmark_Portfolio] AS [Benchmark_Portfolio], 
        [Extent2].[Active_flag] AS [Active_flag], 
        [Extent2].[Dividend_FX_Security_ID] AS [Dividend_FX_Security_ID], 
        [Extent3].[Order_ID] AS [Order_ID1], 
        [Extent3].[Entity_ID] AS [Entity_ID2], 
        [Extent3].[Security_ID] AS [Security_ID1], 
        [Extent3].[Trade_Date] AS [Trade_Date], 
        [Extent3].[Settlement_Date] AS [Settlement_Date], 
        [Extent3].[Transaction_Type] AS [Transaction_Type], 
        [Extent3].[Order_Status] AS [Order_Status], 
        [Extent3].[Cancel_Reason_Code] AS [Cancel_Reason_Code], 
        [Extent3].[Manager] AS [Manager], 
        [Extent3].[Trader] AS [Trader], 
        [Extent3].[Operations_User] AS [Operations_User], 
        [Extent3].[Order_Instruction] AS [Order_Instruction], 
        [Extent3].[Order_Duration] AS [Order_Duration], 
        [Extent3].[Limit_Price] AS [Limit_Price], 
        [Extent3].[Limit_Yield] AS [Limit_Yield], 
        [Extent3].[Limit_Discount] AS [Limit_Discount], 
        [Extent3].[Order_Creator] AS [Order_Creator], 
        [Extent3].[Order_Create_Date] AS [Order_Create_Date], 
        [Extent3].[Last_Update_Date] AS [Last_Update_Date2], 
        [Extent3].[Last_Update_User] AS [Last_Update_User2], 
        [Extent3].[Sent_To_Trading_Date] AS [Sent_To_Trading_Date], 
        [Extent3].[Sent_To_Accounting_Date] AS [Sent_To_Accounting_Date], 
        [Extent3].[Value_Based_Indicator] AS [Value_Based_Indicator], 
        [Extent3].[Target_Clean_Price] AS [Target_Clean_Price], 
        [Extent3].[Target_Income_Price] AS [Target_Income_Price], 
        [Extent3].[Target_AllIn_Price] AS [Target_AllIn_Price], 
        [Extent3].[Target_Yield] AS [Target_Yield], 
        [Extent3].[Target_Discount] AS [Target_Discount], 
        [Extent3].[Target_Quantity] AS [Target_Quantity], 
        [Extent3].[Target_Clean_Amount_TradeCur] AS [Target_Clean_Amount_TradeCur], 
        [Extent3].[Target_Income_Amount_TradeCur] AS [Target_Income_Amount_TradeCur], 
        [Extent3].[Target_AllIn_Amount_TradeCur] AS [Target_AllIn_Amount_TradeCur], 
        [Extent3].[Place_Quantity] AS [Place_Quantity], 
        [Extent3].[Execution_Quantity] AS [Execution_Quantity], 
        [Extent3].[Execution_Clean_Amount_TradeCur] AS [Execution_Clean_Amount_TradeCur], 
        [Extent3].[Execution_Income_Amount_TradeCur] AS [Execution_Income_Amount_TradeCur], 
        [Extent3].[Execution_AllIn_Amount_TradeCur] AS [Execution_AllIn_Amount_TradeCur], 
        [Extent3].[Broker_Code] AS [Broker_Code], 
        [Extent3].[Execution_Clean_Price] AS [Execution_Clean_Price], 
        [Extent3].[Execution_Income_Price] AS [Execution_Income_Price], 
        [Extent3].[Execution_AllIn_Price] AS [Execution_AllIn_Price], 
        [Extent3].[Execution_Yield] AS [Execution_Yield], 
        [Extent3].[Execution_Discount] AS [Execution_Discount], 
        [Extent3].[Execution_Currency] AS [Execution_Currency], 
        [Extent3].[Execution_Exchange] AS [Execution_Exchange], 
        [Extent3].[Target_FX_Rate] AS [Target_FX_Rate], 
        [Extent3].[Limit_FX_Rate] AS [Limit_FX_Rate], 
        [Extent3].[Execution_FX_Rate] AS [Execution_FX_Rate], 
        [Extent3].[Buy_Currency_Code] AS [Buy_Currency_Code], 
        [Extent3].[Buy_Currency_Execution_Amount] AS [Buy_Currency_Execution_Amount], 
        [Extent3].[Buy_Currency_Target_Amount] AS [Buy_Currency_Target_Amount], 
        [Extent3].[Sell_Currency_Code] AS [Sell_Currency_Code], 
        [Extent3].[Sell_Currency_Execution_Amount] AS [Sell_Currency_Execution_Amount], 
        [Extent3].[Sell_Currency_Target_Amount] AS [Sell_Currency_Target_Amount], 
        [Extent3].[Commission_Amount_TradeCur] AS [Commission_Amount_TradeCur], 
        [Extent3].[Trade_Type_Indicator] AS [Trade_Type_Indicator], 
        [Extent3].[Commission_Rate] AS [Commission_Rate], 
        [Extent3].[Commission_Type] AS [Commission_Type], 
        [Extent3].[Fee_Code1] AS [Fee_Code1], 
        [Extent3].[Fee_Code2] AS [Fee_Code2], 
        [Extent3].[Fee_Code3] AS [Fee_Code3], 
        [Extent3].[Fee_Code4] AS [Fee_Code4], 
        [Extent3].[Fee_Code5] AS [Fee_Code5], 
        [Extent3].[Fee_Code6] AS [Fee_Code6], 
        [Extent3].[Fee_Amount1_TradeCur] AS [Fee_Amount1_TradeCur], 
        [Extent3].[Fee_Amount2_TradeCur] AS [Fee_Amount2_TradeCur], 
        [Extent3].[Fee_Amount3_TradeCur] AS [Fee_Amount3_TradeCur], 
        [Extent3].[Fee_Amount4_TradeCur] AS [Fee_Amount4_TradeCur], 
        [Extent3].[Fee_Amount5_TradeCur] AS [Fee_Amount5_TradeCur], 
        [Extent3].[Fee_Amount6_TradeCur] AS [Fee_Amount6_TradeCur], 
        [Extent3].[Tax_Amount_TradeCur] AS [Tax_Amount_TradeCur], 
        [Extent3].[Tax_Type] AS [Tax_Type], 
        [Extent3].[Tax_Charge_FeeNum] AS [Tax_Charge_FeeNum], 
        [Extent3].[Execution_Gross_Amount_TradeCur] AS [Execution_Gross_Amount_TradeCur], 
        [Extent3].[Execution_Net_Amount_TradeCur] AS [Execution_Net_Amount_TradeCur], 
        [Extent3].[Related_Order_ID] AS [Related_Order_ID], 
        [Extent3].[Previous_Order_ID] AS [Previous_Order_ID], 
        [Extent3].[Authorised_User1] AS [Authorised_User1], 
        [Extent3].[Authorised_User1_DateTime] AS [Authorised_User1_DateTime], 
        [Extent3].[Authorised_User2] AS [Authorised_User2], 
        [Extent3].[Authorised_User2_DateTime] AS [Authorised_User2_DateTime], 
        [Extent3].[Authorised_Number] AS [Authorised_Number], 
        [Extent3].[Security_Type_Code] AS [Security_Type_Code1], 
        [Extent3].[Export_Status] AS [Export_Status], 
        [Extent3].[Order_Ack_Nack_Status] AS [Order_Ack_Nack_Status], 
        [Extent3].[Operations_Status] AS [Operations_Status], 
        [Extent3].[Import_Trade_ID] AS [Import_Trade_ID], 
        1 AS [C1]
        FROM   [dbo].[Cash_Transactions] AS [Extent1]
        LEFT OUTER JOIN [dbo].[Security_Detail] AS [Extent2] ON [Extent1].[Transaction_Security_ID] = [Extent2].[Security_ID]
        LEFT OUTER JOIN [dbo].[Order_Detail] AS [Extent3] ON [Extent1].[Order_ID] = [Extent3].[Order_ID]
        WHERE ([Extent1].[Entity_ID] = @p__linq__0) AND ([Extent1].[Portfolio_Code] = @p__linq__1) AND ([Extent1].[Transaction_Date] <= @p__linq__2)
    )  AS [Project1]
    ORDER BY [Project1].[Transaction_Date] DESC
2018-06-03 13:45:51.7900|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: SELECT TOP (50) 
    [Project1].[C1] AS [C1], 
    [Project1].[Cash_Transaction_ID] AS [Cash_Transaction_ID], 
    [Project1].[Portfolio_Code] AS [Portfolio_Code], 
    [Project1].[Entity_ID] AS [Entity_ID], 
    [Project1].[Transaction_Security_ID] AS [Transaction_Security_ID], 
    [Project1].[Cash_Security_ID] AS [Cash_Security_ID], 
    [Project1].[Transaction_Source_Code] AS [Transaction_Source_Code], 
    [Project1].[Order_ID] AS [Order_ID], 
    [Project1].[Allocation_ID] AS [Allocation_ID], 
    [Project1].[Cashflow_ID] AS [Cashflow_ID], 
    [Project1].[Dividend_Seq_Number] AS [Dividend_Seq_Number], 
    [Project1].[External_ID] AS [External_ID], 
    [Project1].[Transaction_Date] AS [Transaction_Date], 
    [Project1].[Value_Date] AS [Value_Date], 
    [Project1].[Cash_Transaction_Type] AS [Cash_Transaction_Type], 
    [Project1].[Transaction_Amount] AS [Transaction_Amount], 
    [Project1].[Transaction_Currency_Code] AS [Transaction_Currency_Code], 
    [Project1].[BaseCur_Amount] AS [BaseCur_Amount], 
    [Project1].[Create_User_Code] AS [Create_User_Code], 
    [Project1].[Create_Date] AS [Create_Date], 
    [Project1].[Last_Update_User] AS [Last_Update_User], 
    [Project1].[Last_Update_Date] AS [Last_Update_Date], 
    [Project1].[Security_ID] AS [Security_ID], 
    [Project1].[Entity_ID1] AS [Entity_ID1], 
    [Project1].[Security_Name] AS [Security_Name], 
    [Project1].[Short_Name] AS [Short_Name], 
    [Project1].[Primary_Exch] AS [Primary_Exch], 
    [Project1].[Secondary_Exch] AS [Secondary_Exch], 
    [Project1].[Country_Of_Domicile] AS [Country_Of_Domicile], 
    [Project1].[Country_Of_Risk] AS [Country_Of_Risk], 
    [Project1].[Security_Type_Code] AS [Security_Type_Code], 
    [Project1].[Price_Multiplier] AS [Price_Multiplier], 
    [Project1].[Income_Frequency] AS [Income_Frequency], 
    [Project1].[Issuer_Code] AS [Issuer_Code], 
    [Project1].[Ultimate_Issuer_Code] AS [Ultimate_Issuer_Code], 
    [Project1].[Asset_Currency] AS [Asset_Currency], 
    [Project1].[Min_Lot_Size] AS [Min_Lot_Size], 
    [Project1].[Decimal_Precision] AS [Decimal_Precision], 
    [Project1].[AvePrice_Rounding] AS [AvePrice_Rounding], 
    [Project1].[Issue_Date] AS [Issue_Date], 
    [Project1].[Maturity_Date] AS [Maturity_Date], 
    [Project1].[Coupon_Rate] AS [Coupon_Rate], 
    [Project1].[Price_Exchange] AS [Price_Exchange], 
    [Project1].[Trade_Currency] AS [Trade_Currency], 
    [Project1].[Price_Curr] AS [Price_Curr], 
    [Project1].[Currency_Pair_Code] AS [Currency_Pair_Code], 
    [Project1].[Share_Class] AS [Share_Class], 
    [Project1].[Current_Market_Price] AS [Current_Market_Price], 
    [Project1].[Index_Type] AS [Index_Type], 
    [Project1].[Clean_Price_Formula] AS [Clean_Price_Formula], 
    [Project1].[Accrued_Income_Price_Formula] AS [Accrued_Income_Price_Formula], 
    [Project1].[Odd_First_Coupon_Date] AS [Odd_First_Coupon_Date], 
    [Project1].[Odd_Last_Coupon_Date] AS [Odd_Last_Coupon_Date], 
    [Project1].[Coupon_Anniversary_Indicator] AS [Coupon_Anniversary_Indicator], 
    [Project1].[Track_EOM_Flag] AS [Track_EOM_Flag], 
    [Project1].[Next_Coupon_Date] AS [Next_Coupon_Date], 
    [Project1].[Previous_Coupon_Date] AS [Previous_Coupon_Date], 
    [Project1].[Payment_Frequency] AS [Payment_Frequency], 
    [Project1].[Coupon_BusDay_Adjustment] AS [Coupon_BusDay_Adjustment], 
    [Project1].[Next_Ex_Div_Date] AS [Next_Ex_Div_Date], 
    [Project1].[Ex_Div_BusDay_Adjustment] AS [Ex_Div_BusDay_Adjustment], 
    [Project1].[Ex_Div_Period] AS [Ex_Div_Period], 
    [Project1].[Ticker] AS [Ticker], 
    [Project1].[Inet_ID] AS [Inet_ID], 
    [Project1].[Bloomberg_ID] AS [Bloomberg_ID], 
    [Project1].[External_Sec_ID] AS [External_Sec_ID], 
    [Project1].[Reuters_ID] AS [Reuters_ID], 
    [Project1].[ISIN] AS [ISIN], 
    [Project1].[Call_Account_Flag] AS [Call_Account_Flag], 
    [Project1].[System_Locked] AS [System_Locked], 
    [Project1].[Last_Update_User1] AS [Last_Update_User1], 
    [Project1].[Last_Update_Date1] AS [Last_Update_Date1], 
    [Project1].[Security_Status] AS [Security_Status], 
    [Project1].[Benchmark_Portfolio] AS [Benchmark_Portfolio], 
    [Project1].[Active_flag] AS [Active_flag], 
    [Project1].[Dividend_FX_Security_ID] AS [Dividend_FX_Security_ID], 
    [Project1].[Order_ID1] AS [Order_ID1], 
    [Project1].[Entity_ID2] AS [Entity_ID2], 
    [Project1].[Security_ID1] AS [Security_ID1], 
    [Project1].[Trade_Date] AS [Trade_Date], 
    [Project1].[Settlement_Date] AS [Settlement_Date], 
    [Project1].[Transaction_Type] AS [Transaction_Type], 
    [Project1].[Order_Status] AS [Order_Status], 
    [Project1].[Cancel_Reason_Code] AS [Cancel_Reason_Code], 
    [Project1].[Manager] AS [Manager], 
    [Project1].[Trader] AS [Trader], 
    [Project1].[Operations_User] AS [Operations_User], 
    [Project1].[Order_Instruction] AS [Order_Instruction], 
    [Project1].[Order_Duration] AS [Order_Duration], 
    [Project1].[Limit_Price] AS [Limit_Price], 
    [Project1].[Limit_Yield] AS [Limit_Yield], 
    [Project1].[Limit_Discount] AS [Limit_Discount], 
    [Project1].[Order_Creator] AS [Order_Creator], 
    [Project1].[Order_Create_Date] AS [Order_Create_Date], 
    [Project1].[Last_Update_Date2] AS [Last_Update_Date2], 
    [Project1].[Last_Update_User2] AS [Last_Update_User2], 
    [Project1].[Sent_To_Trading_Date] AS [Sent_To_Trading_Date], 
    [Project1].[Sent_To_Accounting_Date] AS [Sent_To_Accounting_Date], 
    [Project1].[Value_Based_Indicator] AS [Value_Based_Indicator], 
    [Project1].[Target_Clean_Price] AS [Target_Clean_Price], 
    [Project1].[Target_Income_Price] AS [Target_Income_Price], 
    [Project1].[Target_AllIn_Price] AS [Target_AllIn_Price], 
    [Project1].[Target_Yield] AS [Target_Yield], 
    [Project1].[Target_Discount] AS [Target_Discount], 
    [Project1].[Target_Quantity] AS [Target_Quantity], 
    [Project1].[Target_Clean_Amount_TradeCur] AS [Target_Clean_Amount_TradeCur], 
    [Project1].[Target_Income_Amount_TradeCur] AS [Target_Income_Amount_TradeCur], 
    [Project1].[Target_AllIn_Amount_TradeCur] AS [Target_AllIn_Amount_TradeCur], 
    [Project1].[Place_Quantity] AS [Place_Quantity], 
    [Project1].[Execution_Quantity] AS [Execution_Quantity], 
    [Project1].[Execution_Clean_Amount_TradeCur] AS [Execution_Clean_Amount_TradeCur], 
    [Project1].[Execution_Income_Amount_TradeCur] AS [Execution_Income_Amount_TradeCur], 
    [Project1].[Execution_AllIn_Amount_TradeCur] AS [Execution_AllIn_Amount_TradeCur], 
    [Project1].[Broker_Code] AS [Broker_Code], 
    [Project1].[Execution_Clean_Price] AS [Execution_Clean_Price], 
    [Project1].[Execution_Income_Price] AS [Execution_Income_Price], 
    [Project1].[Execution_AllIn_Price] AS [Execution_AllIn_Price], 
    [Project1].[Execution_Yield] AS [Execution_Yield], 
    [Project1].[Execution_Discount] AS [Execution_Discount], 
    [Project1].[Execution_Currency] AS [Execution_Currency], 
    [Project1].[Execution_Exchange] AS [Execution_Exchange], 
    [Project1].[Target_FX_Rate] AS [Target_FX_Rate], 
    [Project1].[Limit_FX_Rate] AS [Limit_FX_Rate], 
    [Project1].[Execution_FX_Rate] AS [Execution_FX_Rate], 
    [Project1].[Buy_Currency_Code] AS [Buy_Currency_Code], 
    [Project1].[Buy_Currency_Execution_Amount] AS [Buy_Currency_Execution_Amount], 
    [Project1].[Buy_Currency_Target_Amount] AS [Buy_Currency_Target_Amount], 
    [Project1].[Sell_Currency_Code] AS [Sell_Currency_Code], 
    [Project1].[Sell_Currency_Execution_Amount] AS [Sell_Currency_Execution_Amount], 
    [Project1].[Sell_Currency_Target_Amount] AS [Sell_Currency_Target_Amount], 
    [Project1].[Commission_Amount_TradeCur] AS [Commission_Amount_TradeCur], 
    [Project1].[Trade_Type_Indicator] AS [Trade_Type_Indicator], 
    [Project1].[Commission_Rate] AS [Commission_Rate], 
    [Project1].[Commission_Type] AS [Commission_Type], 
    [Project1].[Fee_Code1] AS [Fee_Code1], 
    [Project1].[Fee_Code2] AS [Fee_Code2], 
    [Project1].[Fee_Code3] AS [Fee_Code3], 
    [Project1].[Fee_Code4] AS [Fee_Code4], 
    [Project1].[Fee_Code5] AS [Fee_Code5], 
    [Project1].[Fee_Code6] AS [Fee_Code6], 
    [Project1].[Fee_Amount1_TradeCur] AS [Fee_Amount1_TradeCur], 
    [Project1].[Fee_Amount2_TradeCur] AS [Fee_Amount2_TradeCur], 
    [Project1].[Fee_Amount3_TradeCur] AS [Fee_Amount3_TradeCur], 
    [Project1].[Fee_Amount4_TradeCur] AS [Fee_Amount4_TradeCur], 
    [Project1].[Fee_Amount5_TradeCur] AS [Fee_Amount5_TradeCur], 
    [Project1].[Fee_Amount6_TradeCur] AS [Fee_Amount6_TradeCur], 
    [Project1].[Tax_Amount_TradeCur] AS [Tax_Amount_TradeCur], 
    [Project1].[Tax_Type] AS [Tax_Type], 
    [Project1].[Tax_Charge_FeeNum] AS [Tax_Charge_FeeNum], 
    [Project1].[Execution_Gross_Amount_TradeCur] AS [Execution_Gross_Amount_TradeCur], 
    [Project1].[Execution_Net_Amount_TradeCur] AS [Execution_Net_Amount_TradeCur], 
    [Project1].[Related_Order_ID] AS [Related_Order_ID], 
    [Project1].[Previous_Order_ID] AS [Previous_Order_ID], 
    [Project1].[Authorised_User1] AS [Authorised_User1], 
    [Project1].[Authorised_User1_DateTime] AS [Authorised_User1_DateTime], 
    [Project1].[Authorised_User2] AS [Authorised_User2], 
    [Project1].[Authorised_User2_DateTime] AS [Authorised_User2_DateTime], 
    [Project1].[Authorised_Number] AS [Authorised_Number], 
    [Project1].[Security_Type_Code1] AS [Security_Type_Code1], 
    [Project1].[Export_Status] AS [Export_Status], 
    [Project1].[Order_Ack_Nack_Status] AS [Order_Ack_Nack_Status], 
    [Project1].[Operations_Status] AS [Operations_Status], 
    [Project1].[Import_Trade_ID] AS [Import_Trade_ID]
    FROM ( SELECT 
        [Extent1].[Cash_Transaction_ID] AS [Cash_Transaction_ID], 
        [Extent1].[Portfolio_Code] AS [Portfolio_Code], 
        [Extent1].[Entity_ID] AS [Entity_ID], 
        [Extent1].[Transaction_Security_ID] AS [Transaction_Security_ID], 
        [Extent1].[Cash_Security_ID] AS [Cash_Security_ID], 
        [Extent1].[Transaction_Source_Code] AS [Transaction_Source_Code], 
        [Extent1].[Order_ID] AS [Order_ID], 
        [Extent1].[Allocation_ID] AS [Allocation_ID], 
        [Extent1].[Cashflow_ID] AS [Cashflow_ID], 
        [Extent1].[Dividend_Seq_Number] AS [Dividend_Seq_Number], 
        [Extent1].[External_ID] AS [External_ID], 
        [Extent1].[Transaction_Date] AS [Transaction_Date], 
        [Extent1].[Value_Date] AS [Value_Date], 
        [Extent1].[Cash_Transaction_Type] AS [Cash_Transaction_Type], 
        [Extent1].[Transaction_Amount] AS [Transaction_Amount], 
        [Extent1].[Transaction_Currency_Code] AS [Transaction_Currency_Code], 
        [Extent1].[BaseCur_Amount] AS [BaseCur_Amount], 
        [Extent1].[Create_User_Code] AS [Create_User_Code], 
        [Extent1].[Create_Date] AS [Create_Date], 
        [Extent1].[Last_Update_User] AS [Last_Update_User], 
        [Extent1].[Last_Update_Date] AS [Last_Update_Date], 
        [Extent2].[Security_ID] AS [Security_ID], 
        [Extent2].[Entity_ID] AS [Entity_ID1], 
        [Extent2].[Security_Name] AS [Security_Name], 
        [Extent2].[Short_Name] AS [Short_Name], 
        [Extent2].[Primary_Exch] AS [Primary_Exch], 
        [Extent2].[Secondary_Exch] AS [Secondary_Exch], 
        [Extent2].[Country_Of_Domicile] AS [Country_Of_Domicile], 
        [Extent2].[Country_Of_Risk] AS [Country_Of_Risk], 
        [Extent2].[Security_Type_Code] AS [Security_Type_Code], 
        [Extent2].[Price_Multiplier] AS [Price_Multiplier], 
        [Extent2].[Income_Frequency] AS [Income_Frequency], 
        [Extent2].[Issuer_Code] AS [Issuer_Code], 
        [Extent2].[Ultimate_Issuer_Code] AS [Ultimate_Issuer_Code], 
        [Extent2].[Asset_Currency] AS [Asset_Currency], 
        [Extent2].[Min_Lot_Size] AS [Min_Lot_Size], 
        [Extent2].[Decimal_Precision] AS [Decimal_Precision], 
        [Extent2].[AvePrice_Rounding] AS [AvePrice_Rounding], 
        [Extent2].[Issue_Date] AS [Issue_Date], 
        [Extent2].[Maturity_Date] AS [Maturity_Date], 
        [Extent2].[Coupon_Rate] AS [Coupon_Rate], 
        [Extent2].[Price_Exchange] AS [Price_Exchange], 
        [Extent2].[Trade_Currency] AS [Trade_Currency], 
        [Extent2].[Price_Curr] AS [Price_Curr], 
        [Extent2].[Currency_Pair_Code] AS [Currency_Pair_Code], 
        [Extent2].[Share_Class] AS [Share_Class], 
        [Extent2].[Current_Market_Price] AS [Current_Market_Price], 
        [Extent2].[Index_Type] AS [Index_Type], 
        [Extent2].[Clean_Price_Formula] AS [Clean_Price_Formula], 
        [Extent2].[Accrued_Income_Price_Formula] AS [Accrued_Income_Price_Formula], 
        [Extent2].[Odd_First_Coupon_Date] AS [Odd_First_Coupon_Date], 
        [Extent2].[Odd_Last_Coupon_Date] AS [Odd_Last_Coupon_Date], 
        [Extent2].[Coupon_Anniversary_Indicator] AS [Coupon_Anniversary_Indicator], 
        [Extent2].[Track_EOM_Flag] AS [Track_EOM_Flag], 
        [Extent2].[Next_Coupon_Date] AS [Next_Coupon_Date], 
        [Extent2].[Previous_Coupon_Date] AS [Previous_Coupon_Date], 
        [Extent2].[Payment_Frequency] AS [Payment_Frequency], 
        [Extent2].[Coupon_BusDay_Adjustment] AS [Coupon_BusDay_Adjustment], 
        [Extent2].[Next_Ex_Div_Date] AS [Next_Ex_Div_Date], 
        [Extent2].[Ex_Div_BusDay_Adjustment] AS [Ex_Div_BusDay_Adjustment], 
        [Extent2].[Ex_Div_Period] AS [Ex_Div_Period], 
        [Extent2].[Ticker] AS [Ticker], 
        [Extent2].[Inet_ID] AS [Inet_ID], 
        [Extent2].[Bloomberg_ID] AS [Bloomberg_ID], 
        [Extent2].[External_Sec_ID] AS [External_Sec_ID], 
        [Extent2].[Reuters_ID] AS [Reuters_ID], 
        [Extent2].[ISIN] AS [ISIN], 
        [Extent2].[Call_Account_Flag] AS [Call_Account_Flag], 
        [Extent2].[System_Locked] AS [System_Locked], 
        [Extent2].[Last_Update_User] AS [Last_Update_User1], 
        [Extent2].[Last_Update_Date] AS [Last_Update_Date1], 
        [Extent2].[Security_Status] AS [Security_Status], 
        [Extent2].[Benchmark_Portfolio] AS [Benchmark_Portfolio], 
        [Extent2].[Active_flag] AS [Active_flag], 
        [Extent2].[Dividend_FX_Security_ID] AS [Dividend_FX_Security_ID], 
        [Extent3].[Order_ID] AS [Order_ID1], 
        [Extent3].[Entity_ID] AS [Entity_ID2], 
        [Extent3].[Security_ID] AS [Security_ID1], 
        [Extent3].[Trade_Date] AS [Trade_Date], 
        [Extent3].[Settlement_Date] AS [Settlement_Date], 
        [Extent3].[Transaction_Type] AS [Transaction_Type], 
        [Extent3].[Order_Status] AS [Order_Status], 
        [Extent3].[Cancel_Reason_Code] AS [Cancel_Reason_Code], 
        [Extent3].[Manager] AS [Manager], 
        [Extent3].[Trader] AS [Trader], 
        [Extent3].[Operations_User] AS [Operations_User], 
        [Extent3].[Order_Instruction] AS [Order_Instruction], 
        [Extent3].[Order_Duration] AS [Order_Duration], 
        [Extent3].[Limit_Price] AS [Limit_Price], 
        [Extent3].[Limit_Yield] AS [Limit_Yield], 
        [Extent3].[Limit_Discount] AS [Limit_Discount], 
        [Extent3].[Order_Creator] AS [Order_Creator], 
        [Extent3].[Order_Create_Date] AS [Order_Create_Date], 
        [Extent3].[Last_Update_Date] AS [Last_Update_Date2], 
        [Extent3].[Last_Update_User] AS [Last_Update_User2], 
        [Extent3].[Sent_To_Trading_Date] AS [Sent_To_Trading_Date], 
        [Extent3].[Sent_To_Accounting_Date] AS [Sent_To_Accounting_Date], 
        [Extent3].[Value_Based_Indicator] AS [Value_Based_Indicator], 
        [Extent3].[Target_Clean_Price] AS [Target_Clean_Price], 
        [Extent3].[Target_Income_Price] AS [Target_Income_Price], 
        [Extent3].[Target_AllIn_Price] AS [Target_AllIn_Price], 
        [Extent3].[Target_Yield] AS [Target_Yield], 
        [Extent3].[Target_Discount] AS [Target_Discount], 
        [Extent3].[Target_Quantity] AS [Target_Quantity], 
        [Extent3].[Target_Clean_Amount_TradeCur] AS [Target_Clean_Amount_TradeCur], 
        [Extent3].[Target_Income_Amount_TradeCur] AS [Target_Income_Amount_TradeCur], 
        [Extent3].[Target_AllIn_Amount_TradeCur] AS [Target_AllIn_Amount_TradeCur], 
        [Extent3].[Place_Quantity] AS [Place_Quantity], 
        [Extent3].[Execution_Quantity] AS [Execution_Quantity], 
        [Extent3].[Execution_Clean_Amount_TradeCur] AS [Execution_Clean_Amount_TradeCur], 
        [Extent3].[Execution_Income_Amount_TradeCur] AS [Execution_Income_Amount_TradeCur], 
        [Extent3].[Execution_AllIn_Amount_TradeCur] AS [Execution_AllIn_Amount_TradeCur], 
        [Extent3].[Broker_Code] AS [Broker_Code], 
        [Extent3].[Execution_Clean_Price] AS [Execution_Clean_Price], 
        [Extent3].[Execution_Income_Price] AS [Execution_Income_Price], 
        [Extent3].[Execution_AllIn_Price] AS [Execution_AllIn_Price], 
        [Extent3].[Execution_Yield] AS [Execution_Yield], 
        [Extent3].[Execution_Discount] AS [Execution_Discount], 
        [Extent3].[Execution_Currency] AS [Execution_Currency], 
        [Extent3].[Execution_Exchange] AS [Execution_Exchange], 
        [Extent3].[Target_FX_Rate] AS [Target_FX_Rate], 
        [Extent3].[Limit_FX_Rate] AS [Limit_FX_Rate], 
        [Extent3].[Execution_FX_Rate] AS [Execution_FX_Rate], 
        [Extent3].[Buy_Currency_Code] AS [Buy_Currency_Code], 
        [Extent3].[Buy_Currency_Execution_Amount] AS [Buy_Currency_Execution_Amount], 
        [Extent3].[Buy_Currency_Target_Amount] AS [Buy_Currency_Target_Amount], 
        [Extent3].[Sell_Currency_Code] AS [Sell_Currency_Code], 
        [Extent3].[Sell_Currency_Execution_Amount] AS [Sell_Currency_Execution_Amount], 
        [Extent3].[Sell_Currency_Target_Amount] AS [Sell_Currency_Target_Amount], 
        [Extent3].[Commission_Amount_TradeCur] AS [Commission_Amount_TradeCur], 
        [Extent3].[Trade_Type_Indicator] AS [Trade_Type_Indicator], 
        [Extent3].[Commission_Rate] AS [Commission_Rate], 
        [Extent3].[Commission_Type] AS [Commission_Type], 
        [Extent3].[Fee_Code1] AS [Fee_Code1], 
        [Extent3].[Fee_Code2] AS [Fee_Code2], 
        [Extent3].[Fee_Code3] AS [Fee_Code3], 
        [Extent3].[Fee_Code4] AS [Fee_Code4], 
        [Extent3].[Fee_Code5] AS [Fee_Code5], 
        [Extent3].[Fee_Code6] AS [Fee_Code6], 
        [Extent3].[Fee_Amount1_TradeCur] AS [Fee_Amount1_TradeCur], 
        [Extent3].[Fee_Amount2_TradeCur] AS [Fee_Amount2_TradeCur], 
        [Extent3].[Fee_Amount3_TradeCur] AS [Fee_Amount3_TradeCur], 
        [Extent3].[Fee_Amount4_TradeCur] AS [Fee_Amount4_TradeCur], 
        [Extent3].[Fee_Amount5_TradeCur] AS [Fee_Amount5_TradeCur], 
        [Extent3].[Fee_Amount6_TradeCur] AS [Fee_Amount6_TradeCur], 
        [Extent3].[Tax_Amount_TradeCur] AS [Tax_Amount_TradeCur], 
        [Extent3].[Tax_Type] AS [Tax_Type], 
        [Extent3].[Tax_Charge_FeeNum] AS [Tax_Charge_FeeNum], 
        [Extent3].[Execution_Gross_Amount_TradeCur] AS [Execution_Gross_Amount_TradeCur], 
        [Extent3].[Execution_Net_Amount_TradeCur] AS [Execution_Net_Amount_TradeCur], 
        [Extent3].[Related_Order_ID] AS [Related_Order_ID], 
        [Extent3].[Previous_Order_ID] AS [Previous_Order_ID], 
        [Extent3].[Authorised_User1] AS [Authorised_User1], 
        [Extent3].[Authorised_User1_DateTime] AS [Authorised_User1_DateTime], 
        [Extent3].[Authorised_User2] AS [Authorised_User2], 
        [Extent3].[Authorised_User2_DateTime] AS [Authorised_User2_DateTime], 
        [Extent3].[Authorised_Number] AS [Authorised_Number], 
        [Extent3].[Security_Type_Code] AS [Security_Type_Code1], 
        [Extent3].[Export_Status] AS [Export_Status], 
        [Extent3].[Order_Ack_Nack_Status] AS [Order_Ack_Nack_Status], 
        [Extent3].[Operations_Status] AS [Operations_Status], 
        [Extent3].[Import_Trade_ID] AS [Import_Trade_ID], 
        1 AS [C1]
        FROM   [dbo].[Cash_Transactions] AS [Extent1]
        LEFT OUTER JOIN [dbo].[Security_Detail] AS [Extent2] ON [Extent1].[Transaction_Security_ID] = [Extent2].[Security_ID]
        LEFT OUTER JOIN [dbo].[Order_Detail] AS [Extent3] ON [Extent1].[Order_ID] = [Extent3].[Order_ID]
        WHERE ([Extent1].[Entity_ID] = @p__linq__0) AND ([Extent1].[Portfolio_Code] = @p__linq__1) AND ([Extent1].[Transaction_Date] <= @p__linq__2)
    )  AS [Project1]
    ORDER BY [Project1].[Transaction_Date] DESC
2018-06-03 13:45:57.4556|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: IF db_id(N'MetopeAzureDb') IS NOT NULL SELECT 1 ELSE SELECT Count(*) FROM sys.databases WHERE [name]=N'MetopeAzureDb'
2018-06-03 13:45:57.6708|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: IF db_id(N'MetopeAzureDb') IS NOT NULL SELECT 1 ELSE SELECT Count(*) FROM sys.databases WHERE [name]=N'MetopeAzureDb'
2018-06-03 13:45:57.8529|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: IF db_id(N'MetopeAzureDb') IS NOT NULL SELECT 1 ELSE SELECT Count(*) FROM sys.databases WHERE [name]=N'MetopeAzureDb'
2018-06-03 13:45:57.8950|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: IF db_id(N'MetopeAzureDb') IS NOT NULL SELECT 1 ELSE SELECT Count(*) FROM sys.databases WHERE [name]=N'MetopeAzureDb'
2018-06-03 13:46:59.5046|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: SELECT 
    CASE WHEN ( EXISTS (SELECT TOP (50) 
        1 AS [C1]
        FROM ( SELECT 
            [Extent1].[Transaction_Date] AS [Transaction_Date]
            FROM [dbo].[Cash_Transactions] AS [Extent1]
            WHERE ([Extent1].[Entity_ID] = @p__linq__0) AND ([Extent1].[Portfolio_Code] = @p__linq__1) AND ([Extent1].[Transaction_Date] <= @p__linq__2)
        )  AS [Project1]
        ORDER BY [Project1].[Transaction_Date] DESC
    )) THEN cast(1 as bit) ELSE cast(0 as bit) END AS [C1]
    FROM  ( SELECT 1 AS X ) AS [SingleRowTable1]
2018-06-03 13:46:59.5616|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: SELECT 
    CASE WHEN ( EXISTS (SELECT TOP (50) 
        1 AS [C1]
        FROM ( SELECT 
            [Extent1].[Transaction_Date] AS [Transaction_Date]
            FROM [dbo].[Cash_Transactions] AS [Extent1]
            WHERE ([Extent1].[Entity_ID] = @p__linq__0) AND ([Extent1].[Portfolio_Code] = @p__linq__1) AND ([Extent1].[Transaction_Date] <= @p__linq__2)
        )  AS [Project1]
        ORDER BY [Project1].[Transaction_Date] DESC
    )) THEN cast(1 as bit) ELSE cast(0 as bit) END AS [C1]
    FROM  ( SELECT 1 AS X ) AS [SingleRowTable1]
2018-06-03 13:46:59.6122|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: SELECT TOP (50) 
    [Project1].[C1] AS [C1], 
    [Project1].[Cash_Transaction_ID] AS [Cash_Transaction_ID], 
    [Project1].[Portfolio_Code] AS [Portfolio_Code], 
    [Project1].[Entity_ID] AS [Entity_ID], 
    [Project1].[Transaction_Security_ID] AS [Transaction_Security_ID], 
    [Project1].[Cash_Security_ID] AS [Cash_Security_ID], 
    [Project1].[Transaction_Source_Code] AS [Transaction_Source_Code], 
    [Project1].[Order_ID] AS [Order_ID], 
    [Project1].[Allocation_ID] AS [Allocation_ID], 
    [Project1].[Cashflow_ID] AS [Cashflow_ID], 
    [Project1].[Dividend_Seq_Number] AS [Dividend_Seq_Number], 
    [Project1].[External_ID] AS [External_ID], 
    [Project1].[Transaction_Date] AS [Transaction_Date], 
    [Project1].[Value_Date] AS [Value_Date], 
    [Project1].[Cash_Transaction_Type] AS [Cash_Transaction_Type], 
    [Project1].[Transaction_Amount] AS [Transaction_Amount], 
    [Project1].[Transaction_Currency_Code] AS [Transaction_Currency_Code], 
    [Project1].[BaseCur_Amount] AS [BaseCur_Amount], 
    [Project1].[Create_User_Code] AS [Create_User_Code], 
    [Project1].[Create_Date] AS [Create_Date], 
    [Project1].[Last_Update_User] AS [Last_Update_User], 
    [Project1].[Last_Update_Date] AS [Last_Update_Date], 
    [Project1].[Security_ID] AS [Security_ID], 
    [Project1].[Entity_ID1] AS [Entity_ID1], 
    [Project1].[Security_Name] AS [Security_Name], 
    [Project1].[Short_Name] AS [Short_Name], 
    [Project1].[Primary_Exch] AS [Primary_Exch], 
    [Project1].[Secondary_Exch] AS [Secondary_Exch], 
    [Project1].[Country_Of_Domicile] AS [Country_Of_Domicile], 
    [Project1].[Country_Of_Risk] AS [Country_Of_Risk], 
    [Project1].[Security_Type_Code] AS [Security_Type_Code], 
    [Project1].[Price_Multiplier] AS [Price_Multiplier], 
    [Project1].[Income_Frequency] AS [Income_Frequency], 
    [Project1].[Issuer_Code] AS [Issuer_Code], 
    [Project1].[Ultimate_Issuer_Code] AS [Ultimate_Issuer_Code], 
    [Project1].[Asset_Currency] AS [Asset_Currency], 
    [Project1].[Min_Lot_Size] AS [Min_Lot_Size], 
    [Project1].[Decimal_Precision] AS [Decimal_Precision], 
    [Project1].[AvePrice_Rounding] AS [AvePrice_Rounding], 
    [Project1].[Issue_Date] AS [Issue_Date], 
    [Project1].[Maturity_Date] AS [Maturity_Date], 
    [Project1].[Coupon_Rate] AS [Coupon_Rate], 
    [Project1].[Price_Exchange] AS [Price_Exchange], 
    [Project1].[Trade_Currency] AS [Trade_Currency], 
    [Project1].[Price_Curr] AS [Price_Curr], 
    [Project1].[Currency_Pair_Code] AS [Currency_Pair_Code], 
    [Project1].[Share_Class] AS [Share_Class], 
    [Project1].[Current_Market_Price] AS [Current_Market_Price], 
    [Project1].[Index_Type] AS [Index_Type], 
    [Project1].[Clean_Price_Formula] AS [Clean_Price_Formula], 
    [Project1].[Accrued_Income_Price_Formula] AS [Accrued_Income_Price_Formula], 
    [Project1].[Odd_First_Coupon_Date] AS [Odd_First_Coupon_Date], 
    [Project1].[Odd_Last_Coupon_Date] AS [Odd_Last_Coupon_Date], 
    [Project1].[Coupon_Anniversary_Indicator] AS [Coupon_Anniversary_Indicator], 
    [Project1].[Track_EOM_Flag] AS [Track_EOM_Flag], 
    [Project1].[Next_Coupon_Date] AS [Next_Coupon_Date], 
    [Project1].[Previous_Coupon_Date] AS [Previous_Coupon_Date], 
    [Project1].[Payment_Frequency] AS [Payment_Frequency], 
    [Project1].[Coupon_BusDay_Adjustment] AS [Coupon_BusDay_Adjustment], 
    [Project1].[Next_Ex_Div_Date] AS [Next_Ex_Div_Date], 
    [Project1].[Ex_Div_BusDay_Adjustment] AS [Ex_Div_BusDay_Adjustment], 
    [Project1].[Ex_Div_Period] AS [Ex_Div_Period], 
    [Project1].[Ticker] AS [Ticker], 
    [Project1].[Inet_ID] AS [Inet_ID], 
    [Project1].[Bloomberg_ID] AS [Bloomberg_ID], 
    [Project1].[External_Sec_ID] AS [External_Sec_ID], 
    [Project1].[Reuters_ID] AS [Reuters_ID], 
    [Project1].[ISIN] AS [ISIN], 
    [Project1].[Call_Account_Flag] AS [Call_Account_Flag], 
    [Project1].[System_Locked] AS [System_Locked], 
    [Project1].[Last_Update_User1] AS [Last_Update_User1], 
    [Project1].[Last_Update_Date1] AS [Last_Update_Date1], 
    [Project1].[Security_Status] AS [Security_Status], 
    [Project1].[Benchmark_Portfolio] AS [Benchmark_Portfolio], 
    [Project1].[Active_flag] AS [Active_flag], 
    [Project1].[Dividend_FX_Security_ID] AS [Dividend_FX_Security_ID], 
    [Project1].[Order_ID1] AS [Order_ID1], 
    [Project1].[Entity_ID2] AS [Entity_ID2], 
    [Project1].[Security_ID1] AS [Security_ID1], 
    [Project1].[Trade_Date] AS [Trade_Date], 
    [Project1].[Settlement_Date] AS [Settlement_Date], 
    [Project1].[Transaction_Type] AS [Transaction_Type], 
    [Project1].[Order_Status] AS [Order_Status], 
    [Project1].[Cancel_Reason_Code] AS [Cancel_Reason_Code], 
    [Project1].[Manager] AS [Manager], 
    [Project1].[Trader] AS [Trader], 
    [Project1].[Operations_User] AS [Operations_User], 
    [Project1].[Order_Instruction] AS [Order_Instruction], 
    [Project1].[Order_Duration] AS [Order_Duration], 
    [Project1].[Limit_Price] AS [Limit_Price], 
    [Project1].[Limit_Yield] AS [Limit_Yield], 
    [Project1].[Limit_Discount] AS [Limit_Discount], 
    [Project1].[Order_Creator] AS [Order_Creator], 
    [Project1].[Order_Create_Date] AS [Order_Create_Date], 
    [Project1].[Last_Update_Date2] AS [Last_Update_Date2], 
    [Project1].[Last_Update_User2] AS [Last_Update_User2], 
    [Project1].[Sent_To_Trading_Date] AS [Sent_To_Trading_Date], 
    [Project1].[Sent_To_Accounting_Date] AS [Sent_To_Accounting_Date], 
    [Project1].[Value_Based_Indicator] AS [Value_Based_Indicator], 
    [Project1].[Target_Clean_Price] AS [Target_Clean_Price], 
    [Project1].[Target_Income_Price] AS [Target_Income_Price], 
    [Project1].[Target_AllIn_Price] AS [Target_AllIn_Price], 
    [Project1].[Target_Yield] AS [Target_Yield], 
    [Project1].[Target_Discount] AS [Target_Discount], 
    [Project1].[Target_Quantity] AS [Target_Quantity], 
    [Project1].[Target_Clean_Amount_TradeCur] AS [Target_Clean_Amount_TradeCur], 
    [Project1].[Target_Income_Amount_TradeCur] AS [Target_Income_Amount_TradeCur], 
    [Project1].[Target_AllIn_Amount_TradeCur] AS [Target_AllIn_Amount_TradeCur], 
    [Project1].[Place_Quantity] AS [Place_Quantity], 
    [Project1].[Execution_Quantity] AS [Execution_Quantity], 
    [Project1].[Execution_Clean_Amount_TradeCur] AS [Execution_Clean_Amount_TradeCur], 
    [Project1].[Execution_Income_Amount_TradeCur] AS [Execution_Income_Amount_TradeCur], 
    [Project1].[Execution_AllIn_Amount_TradeCur] AS [Execution_AllIn_Amount_TradeCur], 
    [Project1].[Broker_Code] AS [Broker_Code], 
    [Project1].[Execution_Clean_Price] AS [Execution_Clean_Price], 
    [Project1].[Execution_Income_Price] AS [Execution_Income_Price], 
    [Project1].[Execution_AllIn_Price] AS [Execution_AllIn_Price], 
    [Project1].[Execution_Yield] AS [Execution_Yield], 
    [Project1].[Execution_Discount] AS [Execution_Discount], 
    [Project1].[Execution_Currency] AS [Execution_Currency], 
    [Project1].[Execution_Exchange] AS [Execution_Exchange], 
    [Project1].[Target_FX_Rate] AS [Target_FX_Rate], 
    [Project1].[Limit_FX_Rate] AS [Limit_FX_Rate], 
    [Project1].[Execution_FX_Rate] AS [Execution_FX_Rate], 
    [Project1].[Buy_Currency_Code] AS [Buy_Currency_Code], 
    [Project1].[Buy_Currency_Execution_Amount] AS [Buy_Currency_Execution_Amount], 
    [Project1].[Buy_Currency_Target_Amount] AS [Buy_Currency_Target_Amount], 
    [Project1].[Sell_Currency_Code] AS [Sell_Currency_Code], 
    [Project1].[Sell_Currency_Execution_Amount] AS [Sell_Currency_Execution_Amount], 
    [Project1].[Sell_Currency_Target_Amount] AS [Sell_Currency_Target_Amount], 
    [Project1].[Commission_Amount_TradeCur] AS [Commission_Amount_TradeCur], 
    [Project1].[Trade_Type_Indicator] AS [Trade_Type_Indicator], 
    [Project1].[Commission_Rate] AS [Commission_Rate], 
    [Project1].[Commission_Type] AS [Commission_Type], 
    [Project1].[Fee_Code1] AS [Fee_Code1], 
    [Project1].[Fee_Code2] AS [Fee_Code2], 
    [Project1].[Fee_Code3] AS [Fee_Code3], 
    [Project1].[Fee_Code4] AS [Fee_Code4], 
    [Project1].[Fee_Code5] AS [Fee_Code5], 
    [Project1].[Fee_Code6] AS [Fee_Code6], 
    [Project1].[Fee_Amount1_TradeCur] AS [Fee_Amount1_TradeCur], 
    [Project1].[Fee_Amount2_TradeCur] AS [Fee_Amount2_TradeCur], 
    [Project1].[Fee_Amount3_TradeCur] AS [Fee_Amount3_TradeCur], 
    [Project1].[Fee_Amount4_TradeCur] AS [Fee_Amount4_TradeCur], 
    [Project1].[Fee_Amount5_TradeCur] AS [Fee_Amount5_TradeCur], 
    [Project1].[Fee_Amount6_TradeCur] AS [Fee_Amount6_TradeCur], 
    [Project1].[Tax_Amount_TradeCur] AS [Tax_Amount_TradeCur], 
    [Project1].[Tax_Type] AS [Tax_Type], 
    [Project1].[Tax_Charge_FeeNum] AS [Tax_Charge_FeeNum], 
    [Project1].[Execution_Gross_Amount_TradeCur] AS [Execution_Gross_Amount_TradeCur], 
    [Project1].[Execution_Net_Amount_TradeCur] AS [Execution_Net_Amount_TradeCur], 
    [Project1].[Related_Order_ID] AS [Related_Order_ID], 
    [Project1].[Previous_Order_ID] AS [Previous_Order_ID], 
    [Project1].[Authorised_User1] AS [Authorised_User1], 
    [Project1].[Authorised_User1_DateTime] AS [Authorised_User1_DateTime], 
    [Project1].[Authorised_User2] AS [Authorised_User2], 
    [Project1].[Authorised_User2_DateTime] AS [Authorised_User2_DateTime], 
    [Project1].[Authorised_Number] AS [Authorised_Number], 
    [Project1].[Security_Type_Code1] AS [Security_Type_Code1], 
    [Project1].[Export_Status] AS [Export_Status], 
    [Project1].[Order_Ack_Nack_Status] AS [Order_Ack_Nack_Status], 
    [Project1].[Operations_Status] AS [Operations_Status], 
    [Project1].[Import_Trade_ID] AS [Import_Trade_ID]
    FROM ( SELECT 
        [Extent1].[Cash_Transaction_ID] AS [Cash_Transaction_ID], 
        [Extent1].[Portfolio_Code] AS [Portfolio_Code], 
        [Extent1].[Entity_ID] AS [Entity_ID], 
        [Extent1].[Transaction_Security_ID] AS [Transaction_Security_ID], 
        [Extent1].[Cash_Security_ID] AS [Cash_Security_ID], 
        [Extent1].[Transaction_Source_Code] AS [Transaction_Source_Code], 
        [Extent1].[Order_ID] AS [Order_ID], 
        [Extent1].[Allocation_ID] AS [Allocation_ID], 
        [Extent1].[Cashflow_ID] AS [Cashflow_ID], 
        [Extent1].[Dividend_Seq_Number] AS [Dividend_Seq_Number], 
        [Extent1].[External_ID] AS [External_ID], 
        [Extent1].[Transaction_Date] AS [Transaction_Date], 
        [Extent1].[Value_Date] AS [Value_Date], 
        [Extent1].[Cash_Transaction_Type] AS [Cash_Transaction_Type], 
        [Extent1].[Transaction_Amount] AS [Transaction_Amount], 
        [Extent1].[Transaction_Currency_Code] AS [Transaction_Currency_Code], 
        [Extent1].[BaseCur_Amount] AS [BaseCur_Amount], 
        [Extent1].[Create_User_Code] AS [Create_User_Code], 
        [Extent1].[Create_Date] AS [Create_Date], 
        [Extent1].[Last_Update_User] AS [Last_Update_User], 
        [Extent1].[Last_Update_Date] AS [Last_Update_Date], 
        [Extent2].[Security_ID] AS [Security_ID], 
        [Extent2].[Entity_ID] AS [Entity_ID1], 
        [Extent2].[Security_Name] AS [Security_Name], 
        [Extent2].[Short_Name] AS [Short_Name], 
        [Extent2].[Primary_Exch] AS [Primary_Exch], 
        [Extent2].[Secondary_Exch] AS [Secondary_Exch], 
        [Extent2].[Country_Of_Domicile] AS [Country_Of_Domicile], 
        [Extent2].[Country_Of_Risk] AS [Country_Of_Risk], 
        [Extent2].[Security_Type_Code] AS [Security_Type_Code], 
        [Extent2].[Price_Multiplier] AS [Price_Multiplier], 
        [Extent2].[Income_Frequency] AS [Income_Frequency], 
        [Extent2].[Issuer_Code] AS [Issuer_Code], 
        [Extent2].[Ultimate_Issuer_Code] AS [Ultimate_Issuer_Code], 
        [Extent2].[Asset_Currency] AS [Asset_Currency], 
        [Extent2].[Min_Lot_Size] AS [Min_Lot_Size], 
        [Extent2].[Decimal_Precision] AS [Decimal_Precision], 
        [Extent2].[AvePrice_Rounding] AS [AvePrice_Rounding], 
        [Extent2].[Issue_Date] AS [Issue_Date], 
        [Extent2].[Maturity_Date] AS [Maturity_Date], 
        [Extent2].[Coupon_Rate] AS [Coupon_Rate], 
        [Extent2].[Price_Exchange] AS [Price_Exchange], 
        [Extent2].[Trade_Currency] AS [Trade_Currency], 
        [Extent2].[Price_Curr] AS [Price_Curr], 
        [Extent2].[Currency_Pair_Code] AS [Currency_Pair_Code], 
        [Extent2].[Share_Class] AS [Share_Class], 
        [Extent2].[Current_Market_Price] AS [Current_Market_Price], 
        [Extent2].[Index_Type] AS [Index_Type], 
        [Extent2].[Clean_Price_Formula] AS [Clean_Price_Formula], 
        [Extent2].[Accrued_Income_Price_Formula] AS [Accrued_Income_Price_Formula], 
        [Extent2].[Odd_First_Coupon_Date] AS [Odd_First_Coupon_Date], 
        [Extent2].[Odd_Last_Coupon_Date] AS [Odd_Last_Coupon_Date], 
        [Extent2].[Coupon_Anniversary_Indicator] AS [Coupon_Anniversary_Indicator], 
        [Extent2].[Track_EOM_Flag] AS [Track_EOM_Flag], 
        [Extent2].[Next_Coupon_Date] AS [Next_Coupon_Date], 
        [Extent2].[Previous_Coupon_Date] AS [Previous_Coupon_Date], 
        [Extent2].[Payment_Frequency] AS [Payment_Frequency], 
        [Extent2].[Coupon_BusDay_Adjustment] AS [Coupon_BusDay_Adjustment], 
        [Extent2].[Next_Ex_Div_Date] AS [Next_Ex_Div_Date], 
        [Extent2].[Ex_Div_BusDay_Adjustment] AS [Ex_Div_BusDay_Adjustment], 
        [Extent2].[Ex_Div_Period] AS [Ex_Div_Period], 
        [Extent2].[Ticker] AS [Ticker], 
        [Extent2].[Inet_ID] AS [Inet_ID], 
        [Extent2].[Bloomberg_ID] AS [Bloomberg_ID], 
        [Extent2].[External_Sec_ID] AS [External_Sec_ID], 
        [Extent2].[Reuters_ID] AS [Reuters_ID], 
        [Extent2].[ISIN] AS [ISIN], 
        [Extent2].[Call_Account_Flag] AS [Call_Account_Flag], 
        [Extent2].[System_Locked] AS [System_Locked], 
        [Extent2].[Last_Update_User] AS [Last_Update_User1], 
        [Extent2].[Last_Update_Date] AS [Last_Update_Date1], 
        [Extent2].[Security_Status] AS [Security_Status], 
        [Extent2].[Benchmark_Portfolio] AS [Benchmark_Portfolio], 
        [Extent2].[Active_flag] AS [Active_flag], 
        [Extent2].[Dividend_FX_Security_ID] AS [Dividend_FX_Security_ID], 
        [Extent3].[Order_ID] AS [Order_ID1], 
        [Extent3].[Entity_ID] AS [Entity_ID2], 
        [Extent3].[Security_ID] AS [Security_ID1], 
        [Extent3].[Trade_Date] AS [Trade_Date], 
        [Extent3].[Settlement_Date] AS [Settlement_Date], 
        [Extent3].[Transaction_Type] AS [Transaction_Type], 
        [Extent3].[Order_Status] AS [Order_Status], 
        [Extent3].[Cancel_Reason_Code] AS [Cancel_Reason_Code], 
        [Extent3].[Manager] AS [Manager], 
        [Extent3].[Trader] AS [Trader], 
        [Extent3].[Operations_User] AS [Operations_User], 
        [Extent3].[Order_Instruction] AS [Order_Instruction], 
        [Extent3].[Order_Duration] AS [Order_Duration], 
        [Extent3].[Limit_Price] AS [Limit_Price], 
        [Extent3].[Limit_Yield] AS [Limit_Yield], 
        [Extent3].[Limit_Discount] AS [Limit_Discount], 
        [Extent3].[Order_Creator] AS [Order_Creator], 
        [Extent3].[Order_Create_Date] AS [Order_Create_Date], 
        [Extent3].[Last_Update_Date] AS [Last_Update_Date2], 
        [Extent3].[Last_Update_User] AS [Last_Update_User2], 
        [Extent3].[Sent_To_Trading_Date] AS [Sent_To_Trading_Date], 
        [Extent3].[Sent_To_Accounting_Date] AS [Sent_To_Accounting_Date], 
        [Extent3].[Value_Based_Indicator] AS [Value_Based_Indicator], 
        [Extent3].[Target_Clean_Price] AS [Target_Clean_Price], 
        [Extent3].[Target_Income_Price] AS [Target_Income_Price], 
        [Extent3].[Target_AllIn_Price] AS [Target_AllIn_Price], 
        [Extent3].[Target_Yield] AS [Target_Yield], 
        [Extent3].[Target_Discount] AS [Target_Discount], 
        [Extent3].[Target_Quantity] AS [Target_Quantity], 
        [Extent3].[Target_Clean_Amount_TradeCur] AS [Target_Clean_Amount_TradeCur], 
        [Extent3].[Target_Income_Amount_TradeCur] AS [Target_Income_Amount_TradeCur], 
        [Extent3].[Target_AllIn_Amount_TradeCur] AS [Target_AllIn_Amount_TradeCur], 
        [Extent3].[Place_Quantity] AS [Place_Quantity], 
        [Extent3].[Execution_Quantity] AS [Execution_Quantity], 
        [Extent3].[Execution_Clean_Amount_TradeCur] AS [Execution_Clean_Amount_TradeCur], 
        [Extent3].[Execution_Income_Amount_TradeCur] AS [Execution_Income_Amount_TradeCur], 
        [Extent3].[Execution_AllIn_Amount_TradeCur] AS [Execution_AllIn_Amount_TradeCur], 
        [Extent3].[Broker_Code] AS [Broker_Code], 
        [Extent3].[Execution_Clean_Price] AS [Execution_Clean_Price], 
        [Extent3].[Execution_Income_Price] AS [Execution_Income_Price], 
        [Extent3].[Execution_AllIn_Price] AS [Execution_AllIn_Price], 
        [Extent3].[Execution_Yield] AS [Execution_Yield], 
        [Extent3].[Execution_Discount] AS [Execution_Discount], 
        [Extent3].[Execution_Currency] AS [Execution_Currency], 
        [Extent3].[Execution_Exchange] AS [Execution_Exchange], 
        [Extent3].[Target_FX_Rate] AS [Target_FX_Rate], 
        [Extent3].[Limit_FX_Rate] AS [Limit_FX_Rate], 
        [Extent3].[Execution_FX_Rate] AS [Execution_FX_Rate], 
        [Extent3].[Buy_Currency_Code] AS [Buy_Currency_Code], 
        [Extent3].[Buy_Currency_Execution_Amount] AS [Buy_Currency_Execution_Amount], 
        [Extent3].[Buy_Currency_Target_Amount] AS [Buy_Currency_Target_Amount], 
        [Extent3].[Sell_Currency_Code] AS [Sell_Currency_Code], 
        [Extent3].[Sell_Currency_Execution_Amount] AS [Sell_Currency_Execution_Amount], 
        [Extent3].[Sell_Currency_Target_Amount] AS [Sell_Currency_Target_Amount], 
        [Extent3].[Commission_Amount_TradeCur] AS [Commission_Amount_TradeCur], 
        [Extent3].[Trade_Type_Indicator] AS [Trade_Type_Indicator], 
        [Extent3].[Commission_Rate] AS [Commission_Rate], 
        [Extent3].[Commission_Type] AS [Commission_Type], 
        [Extent3].[Fee_Code1] AS [Fee_Code1], 
        [Extent3].[Fee_Code2] AS [Fee_Code2], 
        [Extent3].[Fee_Code3] AS [Fee_Code3], 
        [Extent3].[Fee_Code4] AS [Fee_Code4], 
        [Extent3].[Fee_Code5] AS [Fee_Code5], 
        [Extent3].[Fee_Code6] AS [Fee_Code6], 
        [Extent3].[Fee_Amount1_TradeCur] AS [Fee_Amount1_TradeCur], 
        [Extent3].[Fee_Amount2_TradeCur] AS [Fee_Amount2_TradeCur], 
        [Extent3].[Fee_Amount3_TradeCur] AS [Fee_Amount3_TradeCur], 
        [Extent3].[Fee_Amount4_TradeCur] AS [Fee_Amount4_TradeCur], 
        [Extent3].[Fee_Amount5_TradeCur] AS [Fee_Amount5_TradeCur], 
        [Extent3].[Fee_Amount6_TradeCur] AS [Fee_Amount6_TradeCur], 
        [Extent3].[Tax_Amount_TradeCur] AS [Tax_Amount_TradeCur], 
        [Extent3].[Tax_Type] AS [Tax_Type], 
        [Extent3].[Tax_Charge_FeeNum] AS [Tax_Charge_FeeNum], 
        [Extent3].[Execution_Gross_Amount_TradeCur] AS [Execution_Gross_Amount_TradeCur], 
        [Extent3].[Execution_Net_Amount_TradeCur] AS [Execution_Net_Amount_TradeCur], 
        [Extent3].[Related_Order_ID] AS [Related_Order_ID], 
        [Extent3].[Previous_Order_ID] AS [Previous_Order_ID], 
        [Extent3].[Authorised_User1] AS [Authorised_User1], 
        [Extent3].[Authorised_User1_DateTime] AS [Authorised_User1_DateTime], 
        [Extent3].[Authorised_User2] AS [Authorised_User2], 
        [Extent3].[Authorised_User2_DateTime] AS [Authorised_User2_DateTime], 
        [Extent3].[Authorised_Number] AS [Authorised_Number], 
        [Extent3].[Security_Type_Code] AS [Security_Type_Code1], 
        [Extent3].[Export_Status] AS [Export_Status], 
        [Extent3].[Order_Ack_Nack_Status] AS [Order_Ack_Nack_Status], 
        [Extent3].[Operations_Status] AS [Operations_Status], 
        [Extent3].[Import_Trade_ID] AS [Import_Trade_ID], 
        1 AS [C1]
        FROM   [dbo].[Cash_Transactions] AS [Extent1]
        LEFT OUTER JOIN [dbo].[Security_Detail] AS [Extent2] ON [Extent1].[Transaction_Security_ID] = [Extent2].[Security_ID]
        LEFT OUTER JOIN [dbo].[Order_Detail] AS [Extent3] ON [Extent1].[Order_ID] = [Extent3].[Order_ID]
        WHERE ([Extent1].[Entity_ID] = @p__linq__0) AND ([Extent1].[Portfolio_Code] = @p__linq__1) AND ([Extent1].[Transaction_Date] <= @p__linq__2)
    )  AS [Project1]
    ORDER BY [Project1].[Transaction_Date] DESC
2018-06-03 13:46:59.7533|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: SELECT TOP (50) 
    [Project1].[C1] AS [C1], 
    [Project1].[Cash_Transaction_ID] AS [Cash_Transaction_ID], 
    [Project1].[Portfolio_Code] AS [Portfolio_Code], 
    [Project1].[Entity_ID] AS [Entity_ID], 
    [Project1].[Transaction_Security_ID] AS [Transaction_Security_ID], 
    [Project1].[Cash_Security_ID] AS [Cash_Security_ID], 
    [Project1].[Transaction_Source_Code] AS [Transaction_Source_Code], 
    [Project1].[Order_ID] AS [Order_ID], 
    [Project1].[Allocation_ID] AS [Allocation_ID], 
    [Project1].[Cashflow_ID] AS [Cashflow_ID], 
    [Project1].[Dividend_Seq_Number] AS [Dividend_Seq_Number], 
    [Project1].[External_ID] AS [External_ID], 
    [Project1].[Transaction_Date] AS [Transaction_Date], 
    [Project1].[Value_Date] AS [Value_Date], 
    [Project1].[Cash_Transaction_Type] AS [Cash_Transaction_Type], 
    [Project1].[Transaction_Amount] AS [Transaction_Amount], 
    [Project1].[Transaction_Currency_Code] AS [Transaction_Currency_Code], 
    [Project1].[BaseCur_Amount] AS [BaseCur_Amount], 
    [Project1].[Create_User_Code] AS [Create_User_Code], 
    [Project1].[Create_Date] AS [Create_Date], 
    [Project1].[Last_Update_User] AS [Last_Update_User], 
    [Project1].[Last_Update_Date] AS [Last_Update_Date], 
    [Project1].[Security_ID] AS [Security_ID], 
    [Project1].[Entity_ID1] AS [Entity_ID1], 
    [Project1].[Security_Name] AS [Security_Name], 
    [Project1].[Short_Name] AS [Short_Name], 
    [Project1].[Primary_Exch] AS [Primary_Exch], 
    [Project1].[Secondary_Exch] AS [Secondary_Exch], 
    [Project1].[Country_Of_Domicile] AS [Country_Of_Domicile], 
    [Project1].[Country_Of_Risk] AS [Country_Of_Risk], 
    [Project1].[Security_Type_Code] AS [Security_Type_Code], 
    [Project1].[Price_Multiplier] AS [Price_Multiplier], 
    [Project1].[Income_Frequency] AS [Income_Frequency], 
    [Project1].[Issuer_Code] AS [Issuer_Code], 
    [Project1].[Ultimate_Issuer_Code] AS [Ultimate_Issuer_Code], 
    [Project1].[Asset_Currency] AS [Asset_Currency], 
    [Project1].[Min_Lot_Size] AS [Min_Lot_Size], 
    [Project1].[Decimal_Precision] AS [Decimal_Precision], 
    [Project1].[AvePrice_Rounding] AS [AvePrice_Rounding], 
    [Project1].[Issue_Date] AS [Issue_Date], 
    [Project1].[Maturity_Date] AS [Maturity_Date], 
    [Project1].[Coupon_Rate] AS [Coupon_Rate], 
    [Project1].[Price_Exchange] AS [Price_Exchange], 
    [Project1].[Trade_Currency] AS [Trade_Currency], 
    [Project1].[Price_Curr] AS [Price_Curr], 
    [Project1].[Currency_Pair_Code] AS [Currency_Pair_Code], 
    [Project1].[Share_Class] AS [Share_Class], 
    [Project1].[Current_Market_Price] AS [Current_Market_Price], 
    [Project1].[Index_Type] AS [Index_Type], 
    [Project1].[Clean_Price_Formula] AS [Clean_Price_Formula], 
    [Project1].[Accrued_Income_Price_Formula] AS [Accrued_Income_Price_Formula], 
    [Project1].[Odd_First_Coupon_Date] AS [Odd_First_Coupon_Date], 
    [Project1].[Odd_Last_Coupon_Date] AS [Odd_Last_Coupon_Date], 
    [Project1].[Coupon_Anniversary_Indicator] AS [Coupon_Anniversary_Indicator], 
    [Project1].[Track_EOM_Flag] AS [Track_EOM_Flag], 
    [Project1].[Next_Coupon_Date] AS [Next_Coupon_Date], 
    [Project1].[Previous_Coupon_Date] AS [Previous_Coupon_Date], 
    [Project1].[Payment_Frequency] AS [Payment_Frequency], 
    [Project1].[Coupon_BusDay_Adjustment] AS [Coupon_BusDay_Adjustment], 
    [Project1].[Next_Ex_Div_Date] AS [Next_Ex_Div_Date], 
    [Project1].[Ex_Div_BusDay_Adjustment] AS [Ex_Div_BusDay_Adjustment], 
    [Project1].[Ex_Div_Period] AS [Ex_Div_Period], 
    [Project1].[Ticker] AS [Ticker], 
    [Project1].[Inet_ID] AS [Inet_ID], 
    [Project1].[Bloomberg_ID] AS [Bloomberg_ID], 
    [Project1].[External_Sec_ID] AS [External_Sec_ID], 
    [Project1].[Reuters_ID] AS [Reuters_ID], 
    [Project1].[ISIN] AS [ISIN], 
    [Project1].[Call_Account_Flag] AS [Call_Account_Flag], 
    [Project1].[System_Locked] AS [System_Locked], 
    [Project1].[Last_Update_User1] AS [Last_Update_User1], 
    [Project1].[Last_Update_Date1] AS [Last_Update_Date1], 
    [Project1].[Security_Status] AS [Security_Status], 
    [Project1].[Benchmark_Portfolio] AS [Benchmark_Portfolio], 
    [Project1].[Active_flag] AS [Active_flag], 
    [Project1].[Dividend_FX_Security_ID] AS [Dividend_FX_Security_ID], 
    [Project1].[Order_ID1] AS [Order_ID1], 
    [Project1].[Entity_ID2] AS [Entity_ID2], 
    [Project1].[Security_ID1] AS [Security_ID1], 
    [Project1].[Trade_Date] AS [Trade_Date], 
    [Project1].[Settlement_Date] AS [Settlement_Date], 
    [Project1].[Transaction_Type] AS [Transaction_Type], 
    [Project1].[Order_Status] AS [Order_Status], 
    [Project1].[Cancel_Reason_Code] AS [Cancel_Reason_Code], 
    [Project1].[Manager] AS [Manager], 
    [Project1].[Trader] AS [Trader], 
    [Project1].[Operations_User] AS [Operations_User], 
    [Project1].[Order_Instruction] AS [Order_Instruction], 
    [Project1].[Order_Duration] AS [Order_Duration], 
    [Project1].[Limit_Price] AS [Limit_Price], 
    [Project1].[Limit_Yield] AS [Limit_Yield], 
    [Project1].[Limit_Discount] AS [Limit_Discount], 
    [Project1].[Order_Creator] AS [Order_Creator], 
    [Project1].[Order_Create_Date] AS [Order_Create_Date], 
    [Project1].[Last_Update_Date2] AS [Last_Update_Date2], 
    [Project1].[Last_Update_User2] AS [Last_Update_User2], 
    [Project1].[Sent_To_Trading_Date] AS [Sent_To_Trading_Date], 
    [Project1].[Sent_To_Accounting_Date] AS [Sent_To_Accounting_Date], 
    [Project1].[Value_Based_Indicator] AS [Value_Based_Indicator], 
    [Project1].[Target_Clean_Price] AS [Target_Clean_Price], 
    [Project1].[Target_Income_Price] AS [Target_Income_Price], 
    [Project1].[Target_AllIn_Price] AS [Target_AllIn_Price], 
    [Project1].[Target_Yield] AS [Target_Yield], 
    [Project1].[Target_Discount] AS [Target_Discount], 
    [Project1].[Target_Quantity] AS [Target_Quantity], 
    [Project1].[Target_Clean_Amount_TradeCur] AS [Target_Clean_Amount_TradeCur], 
    [Project1].[Target_Income_Amount_TradeCur] AS [Target_Income_Amount_TradeCur], 
    [Project1].[Target_AllIn_Amount_TradeCur] AS [Target_AllIn_Amount_TradeCur], 
    [Project1].[Place_Quantity] AS [Place_Quantity], 
    [Project1].[Execution_Quantity] AS [Execution_Quantity], 
    [Project1].[Execution_Clean_Amount_TradeCur] AS [Execution_Clean_Amount_TradeCur], 
    [Project1].[Execution_Income_Amount_TradeCur] AS [Execution_Income_Amount_TradeCur], 
    [Project1].[Execution_AllIn_Amount_TradeCur] AS [Execution_AllIn_Amount_TradeCur], 
    [Project1].[Broker_Code] AS [Broker_Code], 
    [Project1].[Execution_Clean_Price] AS [Execution_Clean_Price], 
    [Project1].[Execution_Income_Price] AS [Execution_Income_Price], 
    [Project1].[Execution_AllIn_Price] AS [Execution_AllIn_Price], 
    [Project1].[Execution_Yield] AS [Execution_Yield], 
    [Project1].[Execution_Discount] AS [Execution_Discount], 
    [Project1].[Execution_Currency] AS [Execution_Currency], 
    [Project1].[Execution_Exchange] AS [Execution_Exchange], 
    [Project1].[Target_FX_Rate] AS [Target_FX_Rate], 
    [Project1].[Limit_FX_Rate] AS [Limit_FX_Rate], 
    [Project1].[Execution_FX_Rate] AS [Execution_FX_Rate], 
    [Project1].[Buy_Currency_Code] AS [Buy_Currency_Code], 
    [Project1].[Buy_Currency_Execution_Amount] AS [Buy_Currency_Execution_Amount], 
    [Project1].[Buy_Currency_Target_Amount] AS [Buy_Currency_Target_Amount], 
    [Project1].[Sell_Currency_Code] AS [Sell_Currency_Code], 
    [Project1].[Sell_Currency_Execution_Amount] AS [Sell_Currency_Execution_Amount], 
    [Project1].[Sell_Currency_Target_Amount] AS [Sell_Currency_Target_Amount], 
    [Project1].[Commission_Amount_TradeCur] AS [Commission_Amount_TradeCur], 
    [Project1].[Trade_Type_Indicator] AS [Trade_Type_Indicator], 
    [Project1].[Commission_Rate] AS [Commission_Rate], 
    [Project1].[Commission_Type] AS [Commission_Type], 
    [Project1].[Fee_Code1] AS [Fee_Code1], 
    [Project1].[Fee_Code2] AS [Fee_Code2], 
    [Project1].[Fee_Code3] AS [Fee_Code3], 
    [Project1].[Fee_Code4] AS [Fee_Code4], 
    [Project1].[Fee_Code5] AS [Fee_Code5], 
    [Project1].[Fee_Code6] AS [Fee_Code6], 
    [Project1].[Fee_Amount1_TradeCur] AS [Fee_Amount1_TradeCur], 
    [Project1].[Fee_Amount2_TradeCur] AS [Fee_Amount2_TradeCur], 
    [Project1].[Fee_Amount3_TradeCur] AS [Fee_Amount3_TradeCur], 
    [Project1].[Fee_Amount4_TradeCur] AS [Fee_Amount4_TradeCur], 
    [Project1].[Fee_Amount5_TradeCur] AS [Fee_Amount5_TradeCur], 
    [Project1].[Fee_Amount6_TradeCur] AS [Fee_Amount6_TradeCur], 
    [Project1].[Tax_Amount_TradeCur] AS [Tax_Amount_TradeCur], 
    [Project1].[Tax_Type] AS [Tax_Type], 
    [Project1].[Tax_Charge_FeeNum] AS [Tax_Charge_FeeNum], 
    [Project1].[Execution_Gross_Amount_TradeCur] AS [Execution_Gross_Amount_TradeCur], 
    [Project1].[Execution_Net_Amount_TradeCur] AS [Execution_Net_Amount_TradeCur], 
    [Project1].[Related_Order_ID] AS [Related_Order_ID], 
    [Project1].[Previous_Order_ID] AS [Previous_Order_ID], 
    [Project1].[Authorised_User1] AS [Authorised_User1], 
    [Project1].[Authorised_User1_DateTime] AS [Authorised_User1_DateTime], 
    [Project1].[Authorised_User2] AS [Authorised_User2], 
    [Project1].[Authorised_User2_DateTime] AS [Authorised_User2_DateTime], 
    [Project1].[Authorised_Number] AS [Authorised_Number], 
    [Project1].[Security_Type_Code1] AS [Security_Type_Code1], 
    [Project1].[Export_Status] AS [Export_Status], 
    [Project1].[Order_Ack_Nack_Status] AS [Order_Ack_Nack_Status], 
    [Project1].[Operations_Status] AS [Operations_Status], 
    [Project1].[Import_Trade_ID] AS [Import_Trade_ID]
    FROM ( SELECT 
        [Extent1].[Cash_Transaction_ID] AS [Cash_Transaction_ID], 
        [Extent1].[Portfolio_Code] AS [Portfolio_Code], 
        [Extent1].[Entity_ID] AS [Entity_ID], 
        [Extent1].[Transaction_Security_ID] AS [Transaction_Security_ID], 
        [Extent1].[Cash_Security_ID] AS [Cash_Security_ID], 
        [Extent1].[Transaction_Source_Code] AS [Transaction_Source_Code], 
        [Extent1].[Order_ID] AS [Order_ID], 
        [Extent1].[Allocation_ID] AS [Allocation_ID], 
        [Extent1].[Cashflow_ID] AS [Cashflow_ID], 
        [Extent1].[Dividend_Seq_Number] AS [Dividend_Seq_Number], 
        [Extent1].[External_ID] AS [External_ID], 
        [Extent1].[Transaction_Date] AS [Transaction_Date], 
        [Extent1].[Value_Date] AS [Value_Date], 
        [Extent1].[Cash_Transaction_Type] AS [Cash_Transaction_Type], 
        [Extent1].[Transaction_Amount] AS [Transaction_Amount], 
        [Extent1].[Transaction_Currency_Code] AS [Transaction_Currency_Code], 
        [Extent1].[BaseCur_Amount] AS [BaseCur_Amount], 
        [Extent1].[Create_User_Code] AS [Create_User_Code], 
        [Extent1].[Create_Date] AS [Create_Date], 
        [Extent1].[Last_Update_User] AS [Last_Update_User], 
        [Extent1].[Last_Update_Date] AS [Last_Update_Date], 
        [Extent2].[Security_ID] AS [Security_ID], 
        [Extent2].[Entity_ID] AS [Entity_ID1], 
        [Extent2].[Security_Name] AS [Security_Name], 
        [Extent2].[Short_Name] AS [Short_Name], 
        [Extent2].[Primary_Exch] AS [Primary_Exch], 
        [Extent2].[Secondary_Exch] AS [Secondary_Exch], 
        [Extent2].[Country_Of_Domicile] AS [Country_Of_Domicile], 
        [Extent2].[Country_Of_Risk] AS [Country_Of_Risk], 
        [Extent2].[Security_Type_Code] AS [Security_Type_Code], 
        [Extent2].[Price_Multiplier] AS [Price_Multiplier], 
        [Extent2].[Income_Frequency] AS [Income_Frequency], 
        [Extent2].[Issuer_Code] AS [Issuer_Code], 
        [Extent2].[Ultimate_Issuer_Code] AS [Ultimate_Issuer_Code], 
        [Extent2].[Asset_Currency] AS [Asset_Currency], 
        [Extent2].[Min_Lot_Size] AS [Min_Lot_Size], 
        [Extent2].[Decimal_Precision] AS [Decimal_Precision], 
        [Extent2].[AvePrice_Rounding] AS [AvePrice_Rounding], 
        [Extent2].[Issue_Date] AS [Issue_Date], 
        [Extent2].[Maturity_Date] AS [Maturity_Date], 
        [Extent2].[Coupon_Rate] AS [Coupon_Rate], 
        [Extent2].[Price_Exchange] AS [Price_Exchange], 
        [Extent2].[Trade_Currency] AS [Trade_Currency], 
        [Extent2].[Price_Curr] AS [Price_Curr], 
        [Extent2].[Currency_Pair_Code] AS [Currency_Pair_Code], 
        [Extent2].[Share_Class] AS [Share_Class], 
        [Extent2].[Current_Market_Price] AS [Current_Market_Price], 
        [Extent2].[Index_Type] AS [Index_Type], 
        [Extent2].[Clean_Price_Formula] AS [Clean_Price_Formula], 
        [Extent2].[Accrued_Income_Price_Formula] AS [Accrued_Income_Price_Formula], 
        [Extent2].[Odd_First_Coupon_Date] AS [Odd_First_Coupon_Date], 
        [Extent2].[Odd_Last_Coupon_Date] AS [Odd_Last_Coupon_Date], 
        [Extent2].[Coupon_Anniversary_Indicator] AS [Coupon_Anniversary_Indicator], 
        [Extent2].[Track_EOM_Flag] AS [Track_EOM_Flag], 
        [Extent2].[Next_Coupon_Date] AS [Next_Coupon_Date], 
        [Extent2].[Previous_Coupon_Date] AS [Previous_Coupon_Date], 
        [Extent2].[Payment_Frequency] AS [Payment_Frequency], 
        [Extent2].[Coupon_BusDay_Adjustment] AS [Coupon_BusDay_Adjustment], 
        [Extent2].[Next_Ex_Div_Date] AS [Next_Ex_Div_Date], 
        [Extent2].[Ex_Div_BusDay_Adjustment] AS [Ex_Div_BusDay_Adjustment], 
        [Extent2].[Ex_Div_Period] AS [Ex_Div_Period], 
        [Extent2].[Ticker] AS [Ticker], 
        [Extent2].[Inet_ID] AS [Inet_ID], 
        [Extent2].[Bloomberg_ID] AS [Bloomberg_ID], 
        [Extent2].[External_Sec_ID] AS [External_Sec_ID], 
        [Extent2].[Reuters_ID] AS [Reuters_ID], 
        [Extent2].[ISIN] AS [ISIN], 
        [Extent2].[Call_Account_Flag] AS [Call_Account_Flag], 
        [Extent2].[System_Locked] AS [System_Locked], 
        [Extent2].[Last_Update_User] AS [Last_Update_User1], 
        [Extent2].[Last_Update_Date] AS [Last_Update_Date1], 
        [Extent2].[Security_Status] AS [Security_Status], 
        [Extent2].[Benchmark_Portfolio] AS [Benchmark_Portfolio], 
        [Extent2].[Active_flag] AS [Active_flag], 
        [Extent2].[Dividend_FX_Security_ID] AS [Dividend_FX_Security_ID], 
        [Extent3].[Order_ID] AS [Order_ID1], 
        [Extent3].[Entity_ID] AS [Entity_ID2], 
        [Extent3].[Security_ID] AS [Security_ID1], 
        [Extent3].[Trade_Date] AS [Trade_Date], 
        [Extent3].[Settlement_Date] AS [Settlement_Date], 
        [Extent3].[Transaction_Type] AS [Transaction_Type], 
        [Extent3].[Order_Status] AS [Order_Status], 
        [Extent3].[Cancel_Reason_Code] AS [Cancel_Reason_Code], 
        [Extent3].[Manager] AS [Manager], 
        [Extent3].[Trader] AS [Trader], 
        [Extent3].[Operations_User] AS [Operations_User], 
        [Extent3].[Order_Instruction] AS [Order_Instruction], 
        [Extent3].[Order_Duration] AS [Order_Duration], 
        [Extent3].[Limit_Price] AS [Limit_Price], 
        [Extent3].[Limit_Yield] AS [Limit_Yield], 
        [Extent3].[Limit_Discount] AS [Limit_Discount], 
        [Extent3].[Order_Creator] AS [Order_Creator], 
        [Extent3].[Order_Create_Date] AS [Order_Create_Date], 
        [Extent3].[Last_Update_Date] AS [Last_Update_Date2], 
        [Extent3].[Last_Update_User] AS [Last_Update_User2], 
        [Extent3].[Sent_To_Trading_Date] AS [Sent_To_Trading_Date], 
        [Extent3].[Sent_To_Accounting_Date] AS [Sent_To_Accounting_Date], 
        [Extent3].[Value_Based_Indicator] AS [Value_Based_Indicator], 
        [Extent3].[Target_Clean_Price] AS [Target_Clean_Price], 
        [Extent3].[Target_Income_Price] AS [Target_Income_Price], 
        [Extent3].[Target_AllIn_Price] AS [Target_AllIn_Price], 
        [Extent3].[Target_Yield] AS [Target_Yield], 
        [Extent3].[Target_Discount] AS [Target_Discount], 
        [Extent3].[Target_Quantity] AS [Target_Quantity], 
        [Extent3].[Target_Clean_Amount_TradeCur] AS [Target_Clean_Amount_TradeCur], 
        [Extent3].[Target_Income_Amount_TradeCur] AS [Target_Income_Amount_TradeCur], 
        [Extent3].[Target_AllIn_Amount_TradeCur] AS [Target_AllIn_Amount_TradeCur], 
        [Extent3].[Place_Quantity] AS [Place_Quantity], 
        [Extent3].[Execution_Quantity] AS [Execution_Quantity], 
        [Extent3].[Execution_Clean_Amount_TradeCur] AS [Execution_Clean_Amount_TradeCur], 
        [Extent3].[Execution_Income_Amount_TradeCur] AS [Execution_Income_Amount_TradeCur], 
        [Extent3].[Execution_AllIn_Amount_TradeCur] AS [Execution_AllIn_Amount_TradeCur], 
        [Extent3].[Broker_Code] AS [Broker_Code], 
        [Extent3].[Execution_Clean_Price] AS [Execution_Clean_Price], 
        [Extent3].[Execution_Income_Price] AS [Execution_Income_Price], 
        [Extent3].[Execution_AllIn_Price] AS [Execution_AllIn_Price], 
        [Extent3].[Execution_Yield] AS [Execution_Yield], 
        [Extent3].[Execution_Discount] AS [Execution_Discount], 
        [Extent3].[Execution_Currency] AS [Execution_Currency], 
        [Extent3].[Execution_Exchange] AS [Execution_Exchange], 
        [Extent3].[Target_FX_Rate] AS [Target_FX_Rate], 
        [Extent3].[Limit_FX_Rate] AS [Limit_FX_Rate], 
        [Extent3].[Execution_FX_Rate] AS [Execution_FX_Rate], 
        [Extent3].[Buy_Currency_Code] AS [Buy_Currency_Code], 
        [Extent3].[Buy_Currency_Execution_Amount] AS [Buy_Currency_Execution_Amount], 
        [Extent3].[Buy_Currency_Target_Amount] AS [Buy_Currency_Target_Amount], 
        [Extent3].[Sell_Currency_Code] AS [Sell_Currency_Code], 
        [Extent3].[Sell_Currency_Execution_Amount] AS [Sell_Currency_Execution_Amount], 
        [Extent3].[Sell_Currency_Target_Amount] AS [Sell_Currency_Target_Amount], 
        [Extent3].[Commission_Amount_TradeCur] AS [Commission_Amount_TradeCur], 
        [Extent3].[Trade_Type_Indicator] AS [Trade_Type_Indicator], 
        [Extent3].[Commission_Rate] AS [Commission_Rate], 
        [Extent3].[Commission_Type] AS [Commission_Type], 
        [Extent3].[Fee_Code1] AS [Fee_Code1], 
        [Extent3].[Fee_Code2] AS [Fee_Code2], 
        [Extent3].[Fee_Code3] AS [Fee_Code3], 
        [Extent3].[Fee_Code4] AS [Fee_Code4], 
        [Extent3].[Fee_Code5] AS [Fee_Code5], 
        [Extent3].[Fee_Code6] AS [Fee_Code6], 
        [Extent3].[Fee_Amount1_TradeCur] AS [Fee_Amount1_TradeCur], 
        [Extent3].[Fee_Amount2_TradeCur] AS [Fee_Amount2_TradeCur], 
        [Extent3].[Fee_Amount3_TradeCur] AS [Fee_Amount3_TradeCur], 
        [Extent3].[Fee_Amount4_TradeCur] AS [Fee_Amount4_TradeCur], 
        [Extent3].[Fee_Amount5_TradeCur] AS [Fee_Amount5_TradeCur], 
        [Extent3].[Fee_Amount6_TradeCur] AS [Fee_Amount6_TradeCur], 
        [Extent3].[Tax_Amount_TradeCur] AS [Tax_Amount_TradeCur], 
        [Extent3].[Tax_Type] AS [Tax_Type], 
        [Extent3].[Tax_Charge_FeeNum] AS [Tax_Charge_FeeNum], 
        [Extent3].[Execution_Gross_Amount_TradeCur] AS [Execution_Gross_Amount_TradeCur], 
        [Extent3].[Execution_Net_Amount_TradeCur] AS [Execution_Net_Amount_TradeCur], 
        [Extent3].[Related_Order_ID] AS [Related_Order_ID], 
        [Extent3].[Previous_Order_ID] AS [Previous_Order_ID], 
        [Extent3].[Authorised_User1] AS [Authorised_User1], 
        [Extent3].[Authorised_User1_DateTime] AS [Authorised_User1_DateTime], 
        [Extent3].[Authorised_User2] AS [Authorised_User2], 
        [Extent3].[Authorised_User2_DateTime] AS [Authorised_User2_DateTime], 
        [Extent3].[Authorised_Number] AS [Authorised_Number], 
        [Extent3].[Security_Type_Code] AS [Security_Type_Code1], 
        [Extent3].[Export_Status] AS [Export_Status], 
        [Extent3].[Order_Ack_Nack_Status] AS [Order_Ack_Nack_Status], 
        [Extent3].[Operations_Status] AS [Operations_Status], 
        [Extent3].[Import_Trade_ID] AS [Import_Trade_ID], 
        1 AS [C1]
        FROM   [dbo].[Cash_Transactions] AS [Extent1]
        LEFT OUTER JOIN [dbo].[Security_Detail] AS [Extent2] ON [Extent1].[Transaction_Security_ID] = [Extent2].[Security_ID]
        LEFT OUTER JOIN [dbo].[Order_Detail] AS [Extent3] ON [Extent1].[Order_ID] = [Extent3].[Order_ID]
        WHERE ([Extent1].[Entity_ID] = @p__linq__0) AND ([Extent1].[Portfolio_Code] = @p__linq__1) AND ([Extent1].[Transaction_Date] <= @p__linq__2)
    )  AS [Project1]
    ORDER BY [Project1].[Transaction_Date] DESC
2018-06-03 13:47:04.0944|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: IF db_id(N'MetopeAzureDb') IS NOT NULL SELECT 1 ELSE SELECT Count(*) FROM sys.databases WHERE [name]=N'MetopeAzureDb'
2018-06-03 13:47:04.1730|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: IF db_id(N'MetopeAzureDb') IS NOT NULL SELECT 1 ELSE SELECT Count(*) FROM sys.databases WHERE [name]=N'MetopeAzureDb'
2018-06-03 13:47:04.2290|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: IF db_id(N'MetopeAzureDb') IS NOT NULL SELECT 1 ELSE SELECT Count(*) FROM sys.databases WHERE [name]=N'MetopeAzureDb'
2018-06-03 13:47:04.2440|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: IF db_id(N'MetopeAzureDb') IS NOT NULL SELECT 1 ELSE SELECT Count(*) FROM sys.databases WHERE [name]=N'MetopeAzureDb'
2018-06-03 13:47:20.6361|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: SELECT 
    CASE WHEN ( EXISTS (SELECT TOP (50) 
        1 AS [C1]
        FROM ( SELECT 
            [Extent1].[Transaction_Date] AS [Transaction_Date]
            FROM [dbo].[Cash_Transactions] AS [Extent1]
            WHERE ([Extent1].[Entity_ID] = @p__linq__0) AND ([Extent1].[Portfolio_Code] = @p__linq__1) AND ([Extent1].[Transaction_Date] <= @p__linq__2)
        )  AS [Project1]
        ORDER BY [Project1].[Transaction_Date] DESC
    )) THEN cast(1 as bit) ELSE cast(0 as bit) END AS [C1]
    FROM  ( SELECT 1 AS X ) AS [SingleRowTable1]
2018-06-03 13:47:20.6686|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: SELECT 
    CASE WHEN ( EXISTS (SELECT TOP (50) 
        1 AS [C1]
        FROM ( SELECT 
            [Extent1].[Transaction_Date] AS [Transaction_Date]
            FROM [dbo].[Cash_Transactions] AS [Extent1]
            WHERE ([Extent1].[Entity_ID] = @p__linq__0) AND ([Extent1].[Portfolio_Code] = @p__linq__1) AND ([Extent1].[Transaction_Date] <= @p__linq__2)
        )  AS [Project1]
        ORDER BY [Project1].[Transaction_Date] DESC
    )) THEN cast(1 as bit) ELSE cast(0 as bit) END AS [C1]
    FROM  ( SELECT 1 AS X ) AS [SingleRowTable1]
2018-06-03 13:47:20.7252|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: SELECT TOP (50) 
    [Project1].[C1] AS [C1], 
    [Project1].[Cash_Transaction_ID] AS [Cash_Transaction_ID], 
    [Project1].[Portfolio_Code] AS [Portfolio_Code], 
    [Project1].[Entity_ID] AS [Entity_ID], 
    [Project1].[Transaction_Security_ID] AS [Transaction_Security_ID], 
    [Project1].[Cash_Security_ID] AS [Cash_Security_ID], 
    [Project1].[Transaction_Source_Code] AS [Transaction_Source_Code], 
    [Project1].[Order_ID] AS [Order_ID], 
    [Project1].[Allocation_ID] AS [Allocation_ID], 
    [Project1].[Cashflow_ID] AS [Cashflow_ID], 
    [Project1].[Dividend_Seq_Number] AS [Dividend_Seq_Number], 
    [Project1].[External_ID] AS [External_ID], 
    [Project1].[Transaction_Date] AS [Transaction_Date], 
    [Project1].[Value_Date] AS [Value_Date], 
    [Project1].[Cash_Transaction_Type] AS [Cash_Transaction_Type], 
    [Project1].[Transaction_Amount] AS [Transaction_Amount], 
    [Project1].[Transaction_Currency_Code] AS [Transaction_Currency_Code], 
    [Project1].[BaseCur_Amount] AS [BaseCur_Amount], 
    [Project1].[Create_User_Code] AS [Create_User_Code], 
    [Project1].[Create_Date] AS [Create_Date], 
    [Project1].[Last_Update_User] AS [Last_Update_User], 
    [Project1].[Last_Update_Date] AS [Last_Update_Date], 
    [Project1].[Security_ID] AS [Security_ID], 
    [Project1].[Entity_ID1] AS [Entity_ID1], 
    [Project1].[Security_Name] AS [Security_Name], 
    [Project1].[Short_Name] AS [Short_Name], 
    [Project1].[Primary_Exch] AS [Primary_Exch], 
    [Project1].[Secondary_Exch] AS [Secondary_Exch], 
    [Project1].[Country_Of_Domicile] AS [Country_Of_Domicile], 
    [Project1].[Country_Of_Risk] AS [Country_Of_Risk], 
    [Project1].[Security_Type_Code] AS [Security_Type_Code], 
    [Project1].[Price_Multiplier] AS [Price_Multiplier], 
    [Project1].[Income_Frequency] AS [Income_Frequency], 
    [Project1].[Issuer_Code] AS [Issuer_Code], 
    [Project1].[Ultimate_Issuer_Code] AS [Ultimate_Issuer_Code], 
    [Project1].[Asset_Currency] AS [Asset_Currency], 
    [Project1].[Min_Lot_Size] AS [Min_Lot_Size], 
    [Project1].[Decimal_Precision] AS [Decimal_Precision], 
    [Project1].[AvePrice_Rounding] AS [AvePrice_Rounding], 
    [Project1].[Issue_Date] AS [Issue_Date], 
    [Project1].[Maturity_Date] AS [Maturity_Date], 
    [Project1].[Coupon_Rate] AS [Coupon_Rate], 
    [Project1].[Price_Exchange] AS [Price_Exchange], 
    [Project1].[Trade_Currency] AS [Trade_Currency], 
    [Project1].[Price_Curr] AS [Price_Curr], 
    [Project1].[Currency_Pair_Code] AS [Currency_Pair_Code], 
    [Project1].[Share_Class] AS [Share_Class], 
    [Project1].[Current_Market_Price] AS [Current_Market_Price], 
    [Project1].[Index_Type] AS [Index_Type], 
    [Project1].[Clean_Price_Formula] AS [Clean_Price_Formula], 
    [Project1].[Accrued_Income_Price_Formula] AS [Accrued_Income_Price_Formula], 
    [Project1].[Odd_First_Coupon_Date] AS [Odd_First_Coupon_Date], 
    [Project1].[Odd_Last_Coupon_Date] AS [Odd_Last_Coupon_Date], 
    [Project1].[Coupon_Anniversary_Indicator] AS [Coupon_Anniversary_Indicator], 
    [Project1].[Track_EOM_Flag] AS [Track_EOM_Flag], 
    [Project1].[Next_Coupon_Date] AS [Next_Coupon_Date], 
    [Project1].[Previous_Coupon_Date] AS [Previous_Coupon_Date], 
    [Project1].[Payment_Frequency] AS [Payment_Frequency], 
    [Project1].[Coupon_BusDay_Adjustment] AS [Coupon_BusDay_Adjustment], 
    [Project1].[Next_Ex_Div_Date] AS [Next_Ex_Div_Date], 
    [Project1].[Ex_Div_BusDay_Adjustment] AS [Ex_Div_BusDay_Adjustment], 
    [Project1].[Ex_Div_Period] AS [Ex_Div_Period], 
    [Project1].[Ticker] AS [Ticker], 
    [Project1].[Inet_ID] AS [Inet_ID], 
    [Project1].[Bloomberg_ID] AS [Bloomberg_ID], 
    [Project1].[External_Sec_ID] AS [External_Sec_ID], 
    [Project1].[Reuters_ID] AS [Reuters_ID], 
    [Project1].[ISIN] AS [ISIN], 
    [Project1].[Call_Account_Flag] AS [Call_Account_Flag], 
    [Project1].[System_Locked] AS [System_Locked], 
    [Project1].[Last_Update_User1] AS [Last_Update_User1], 
    [Project1].[Last_Update_Date1] AS [Last_Update_Date1], 
    [Project1].[Security_Status] AS [Security_Status], 
    [Project1].[Benchmark_Portfolio] AS [Benchmark_Portfolio], 
    [Project1].[Active_flag] AS [Active_flag], 
    [Project1].[Dividend_FX_Security_ID] AS [Dividend_FX_Security_ID], 
    [Project1].[Order_ID1] AS [Order_ID1], 
    [Project1].[Entity_ID2] AS [Entity_ID2], 
    [Project1].[Security_ID1] AS [Security_ID1], 
    [Project1].[Trade_Date] AS [Trade_Date], 
    [Project1].[Settlement_Date] AS [Settlement_Date], 
    [Project1].[Transaction_Type] AS [Transaction_Type], 
    [Project1].[Order_Status] AS [Order_Status], 
    [Project1].[Cancel_Reason_Code] AS [Cancel_Reason_Code], 
    [Project1].[Manager] AS [Manager], 
    [Project1].[Trader] AS [Trader], 
    [Project1].[Operations_User] AS [Operations_User], 
    [Project1].[Order_Instruction] AS [Order_Instruction], 
    [Project1].[Order_Duration] AS [Order_Duration], 
    [Project1].[Limit_Price] AS [Limit_Price], 
    [Project1].[Limit_Yield] AS [Limit_Yield], 
    [Project1].[Limit_Discount] AS [Limit_Discount], 
    [Project1].[Order_Creator] AS [Order_Creator], 
    [Project1].[Order_Create_Date] AS [Order_Create_Date], 
    [Project1].[Last_Update_Date2] AS [Last_Update_Date2], 
    [Project1].[Last_Update_User2] AS [Last_Update_User2], 
    [Project1].[Sent_To_Trading_Date] AS [Sent_To_Trading_Date], 
    [Project1].[Sent_To_Accounting_Date] AS [Sent_To_Accounting_Date], 
    [Project1].[Value_Based_Indicator] AS [Value_Based_Indicator], 
    [Project1].[Target_Clean_Price] AS [Target_Clean_Price], 
    [Project1].[Target_Income_Price] AS [Target_Income_Price], 
    [Project1].[Target_AllIn_Price] AS [Target_AllIn_Price], 
    [Project1].[Target_Yield] AS [Target_Yield], 
    [Project1].[Target_Discount] AS [Target_Discount], 
    [Project1].[Target_Quantity] AS [Target_Quantity], 
    [Project1].[Target_Clean_Amount_TradeCur] AS [Target_Clean_Amount_TradeCur], 
    [Project1].[Target_Income_Amount_TradeCur] AS [Target_Income_Amount_TradeCur], 
    [Project1].[Target_AllIn_Amount_TradeCur] AS [Target_AllIn_Amount_TradeCur], 
    [Project1].[Place_Quantity] AS [Place_Quantity], 
    [Project1].[Execution_Quantity] AS [Execution_Quantity], 
    [Project1].[Execution_Clean_Amount_TradeCur] AS [Execution_Clean_Amount_TradeCur], 
    [Project1].[Execution_Income_Amount_TradeCur] AS [Execution_Income_Amount_TradeCur], 
    [Project1].[Execution_AllIn_Amount_TradeCur] AS [Execution_AllIn_Amount_TradeCur], 
    [Project1].[Broker_Code] AS [Broker_Code], 
    [Project1].[Execution_Clean_Price] AS [Execution_Clean_Price], 
    [Project1].[Execution_Income_Price] AS [Execution_Income_Price], 
    [Project1].[Execution_AllIn_Price] AS [Execution_AllIn_Price], 
    [Project1].[Execution_Yield] AS [Execution_Yield], 
    [Project1].[Execution_Discount] AS [Execution_Discount], 
    [Project1].[Execution_Currency] AS [Execution_Currency], 
    [Project1].[Execution_Exchange] AS [Execution_Exchange], 
    [Project1].[Target_FX_Rate] AS [Target_FX_Rate], 
    [Project1].[Limit_FX_Rate] AS [Limit_FX_Rate], 
    [Project1].[Execution_FX_Rate] AS [Execution_FX_Rate], 
    [Project1].[Buy_Currency_Code] AS [Buy_Currency_Code], 
    [Project1].[Buy_Currency_Execution_Amount] AS [Buy_Currency_Execution_Amount], 
    [Project1].[Buy_Currency_Target_Amount] AS [Buy_Currency_Target_Amount], 
    [Project1].[Sell_Currency_Code] AS [Sell_Currency_Code], 
    [Project1].[Sell_Currency_Execution_Amount] AS [Sell_Currency_Execution_Amount], 
    [Project1].[Sell_Currency_Target_Amount] AS [Sell_Currency_Target_Amount], 
    [Project1].[Commission_Amount_TradeCur] AS [Commission_Amount_TradeCur], 
    [Project1].[Trade_Type_Indicator] AS [Trade_Type_Indicator], 
    [Project1].[Commission_Rate] AS [Commission_Rate], 
    [Project1].[Commission_Type] AS [Commission_Type], 
    [Project1].[Fee_Code1] AS [Fee_Code1], 
    [Project1].[Fee_Code2] AS [Fee_Code2], 
    [Project1].[Fee_Code3] AS [Fee_Code3], 
    [Project1].[Fee_Code4] AS [Fee_Code4], 
    [Project1].[Fee_Code5] AS [Fee_Code5], 
    [Project1].[Fee_Code6] AS [Fee_Code6], 
    [Project1].[Fee_Amount1_TradeCur] AS [Fee_Amount1_TradeCur], 
    [Project1].[Fee_Amount2_TradeCur] AS [Fee_Amount2_TradeCur], 
    [Project1].[Fee_Amount3_TradeCur] AS [Fee_Amount3_TradeCur], 
    [Project1].[Fee_Amount4_TradeCur] AS [Fee_Amount4_TradeCur], 
    [Project1].[Fee_Amount5_TradeCur] AS [Fee_Amount5_TradeCur], 
    [Project1].[Fee_Amount6_TradeCur] AS [Fee_Amount6_TradeCur], 
    [Project1].[Tax_Amount_TradeCur] AS [Tax_Amount_TradeCur], 
    [Project1].[Tax_Type] AS [Tax_Type], 
    [Project1].[Tax_Charge_FeeNum] AS [Tax_Charge_FeeNum], 
    [Project1].[Execution_Gross_Amount_TradeCur] AS [Execution_Gross_Amount_TradeCur], 
    [Project1].[Execution_Net_Amount_TradeCur] AS [Execution_Net_Amount_TradeCur], 
    [Project1].[Related_Order_ID] AS [Related_Order_ID], 
    [Project1].[Previous_Order_ID] AS [Previous_Order_ID], 
    [Project1].[Authorised_User1] AS [Authorised_User1], 
    [Project1].[Authorised_User1_DateTime] AS [Authorised_User1_DateTime], 
    [Project1].[Authorised_User2] AS [Authorised_User2], 
    [Project1].[Authorised_User2_DateTime] AS [Authorised_User2_DateTime], 
    [Project1].[Authorised_Number] AS [Authorised_Number], 
    [Project1].[Security_Type_Code1] AS [Security_Type_Code1], 
    [Project1].[Export_Status] AS [Export_Status], 
    [Project1].[Order_Ack_Nack_Status] AS [Order_Ack_Nack_Status], 
    [Project1].[Operations_Status] AS [Operations_Status], 
    [Project1].[Import_Trade_ID] AS [Import_Trade_ID]
    FROM ( SELECT 
        [Extent1].[Cash_Transaction_ID] AS [Cash_Transaction_ID], 
        [Extent1].[Portfolio_Code] AS [Portfolio_Code], 
        [Extent1].[Entity_ID] AS [Entity_ID], 
        [Extent1].[Transaction_Security_ID] AS [Transaction_Security_ID], 
        [Extent1].[Cash_Security_ID] AS [Cash_Security_ID], 
        [Extent1].[Transaction_Source_Code] AS [Transaction_Source_Code], 
        [Extent1].[Order_ID] AS [Order_ID], 
        [Extent1].[Allocation_ID] AS [Allocation_ID], 
        [Extent1].[Cashflow_ID] AS [Cashflow_ID], 
        [Extent1].[Dividend_Seq_Number] AS [Dividend_Seq_Number], 
        [Extent1].[External_ID] AS [External_ID], 
        [Extent1].[Transaction_Date] AS [Transaction_Date], 
        [Extent1].[Value_Date] AS [Value_Date], 
        [Extent1].[Cash_Transaction_Type] AS [Cash_Transaction_Type], 
        [Extent1].[Transaction_Amount] AS [Transaction_Amount], 
        [Extent1].[Transaction_Currency_Code] AS [Transaction_Currency_Code], 
        [Extent1].[BaseCur_Amount] AS [BaseCur_Amount], 
        [Extent1].[Create_User_Code] AS [Create_User_Code], 
        [Extent1].[Create_Date] AS [Create_Date], 
        [Extent1].[Last_Update_User] AS [Last_Update_User], 
        [Extent1].[Last_Update_Date] AS [Last_Update_Date], 
        [Extent2].[Security_ID] AS [Security_ID], 
        [Extent2].[Entity_ID] AS [Entity_ID1], 
        [Extent2].[Security_Name] AS [Security_Name], 
        [Extent2].[Short_Name] AS [Short_Name], 
        [Extent2].[Primary_Exch] AS [Primary_Exch], 
        [Extent2].[Secondary_Exch] AS [Secondary_Exch], 
        [Extent2].[Country_Of_Domicile] AS [Country_Of_Domicile], 
        [Extent2].[Country_Of_Risk] AS [Country_Of_Risk], 
        [Extent2].[Security_Type_Code] AS [Security_Type_Code], 
        [Extent2].[Price_Multiplier] AS [Price_Multiplier], 
        [Extent2].[Income_Frequency] AS [Income_Frequency], 
        [Extent2].[Issuer_Code] AS [Issuer_Code], 
        [Extent2].[Ultimate_Issuer_Code] AS [Ultimate_Issuer_Code], 
        [Extent2].[Asset_Currency] AS [Asset_Currency], 
        [Extent2].[Min_Lot_Size] AS [Min_Lot_Size], 
        [Extent2].[Decimal_Precision] AS [Decimal_Precision], 
        [Extent2].[AvePrice_Rounding] AS [AvePrice_Rounding], 
        [Extent2].[Issue_Date] AS [Issue_Date], 
        [Extent2].[Maturity_Date] AS [Maturity_Date], 
        [Extent2].[Coupon_Rate] AS [Coupon_Rate], 
        [Extent2].[Price_Exchange] AS [Price_Exchange], 
        [Extent2].[Trade_Currency] AS [Trade_Currency], 
        [Extent2].[Price_Curr] AS [Price_Curr], 
        [Extent2].[Currency_Pair_Code] AS [Currency_Pair_Code], 
        [Extent2].[Share_Class] AS [Share_Class], 
        [Extent2].[Current_Market_Price] AS [Current_Market_Price], 
        [Extent2].[Index_Type] AS [Index_Type], 
        [Extent2].[Clean_Price_Formula] AS [Clean_Price_Formula], 
        [Extent2].[Accrued_Income_Price_Formula] AS [Accrued_Income_Price_Formula], 
        [Extent2].[Odd_First_Coupon_Date] AS [Odd_First_Coupon_Date], 
        [Extent2].[Odd_Last_Coupon_Date] AS [Odd_Last_Coupon_Date], 
        [Extent2].[Coupon_Anniversary_Indicator] AS [Coupon_Anniversary_Indicator], 
        [Extent2].[Track_EOM_Flag] AS [Track_EOM_Flag], 
        [Extent2].[Next_Coupon_Date] AS [Next_Coupon_Date], 
        [Extent2].[Previous_Coupon_Date] AS [Previous_Coupon_Date], 
        [Extent2].[Payment_Frequency] AS [Payment_Frequency], 
        [Extent2].[Coupon_BusDay_Adjustment] AS [Coupon_BusDay_Adjustment], 
        [Extent2].[Next_Ex_Div_Date] AS [Next_Ex_Div_Date], 
        [Extent2].[Ex_Div_BusDay_Adjustment] AS [Ex_Div_BusDay_Adjustment], 
        [Extent2].[Ex_Div_Period] AS [Ex_Div_Period], 
        [Extent2].[Ticker] AS [Ticker], 
        [Extent2].[Inet_ID] AS [Inet_ID], 
        [Extent2].[Bloomberg_ID] AS [Bloomberg_ID], 
        [Extent2].[External_Sec_ID] AS [External_Sec_ID], 
        [Extent2].[Reuters_ID] AS [Reuters_ID], 
        [Extent2].[ISIN] AS [ISIN], 
        [Extent2].[Call_Account_Flag] AS [Call_Account_Flag], 
        [Extent2].[System_Locked] AS [System_Locked], 
        [Extent2].[Last_Update_User] AS [Last_Update_User1], 
        [Extent2].[Last_Update_Date] AS [Last_Update_Date1], 
        [Extent2].[Security_Status] AS [Security_Status], 
        [Extent2].[Benchmark_Portfolio] AS [Benchmark_Portfolio], 
        [Extent2].[Active_flag] AS [Active_flag], 
        [Extent2].[Dividend_FX_Security_ID] AS [Dividend_FX_Security_ID], 
        [Extent3].[Order_ID] AS [Order_ID1], 
        [Extent3].[Entity_ID] AS [Entity_ID2], 
        [Extent3].[Security_ID] AS [Security_ID1], 
        [Extent3].[Trade_Date] AS [Trade_Date], 
        [Extent3].[Settlement_Date] AS [Settlement_Date], 
        [Extent3].[Transaction_Type] AS [Transaction_Type], 
        [Extent3].[Order_Status] AS [Order_Status], 
        [Extent3].[Cancel_Reason_Code] AS [Cancel_Reason_Code], 
        [Extent3].[Manager] AS [Manager], 
        [Extent3].[Trader] AS [Trader], 
        [Extent3].[Operations_User] AS [Operations_User], 
        [Extent3].[Order_Instruction] AS [Order_Instruction], 
        [Extent3].[Order_Duration] AS [Order_Duration], 
        [Extent3].[Limit_Price] AS [Limit_Price], 
        [Extent3].[Limit_Yield] AS [Limit_Yield], 
        [Extent3].[Limit_Discount] AS [Limit_Discount], 
        [Extent3].[Order_Creator] AS [Order_Creator], 
        [Extent3].[Order_Create_Date] AS [Order_Create_Date], 
        [Extent3].[Last_Update_Date] AS [Last_Update_Date2], 
        [Extent3].[Last_Update_User] AS [Last_Update_User2], 
        [Extent3].[Sent_To_Trading_Date] AS [Sent_To_Trading_Date], 
        [Extent3].[Sent_To_Accounting_Date] AS [Sent_To_Accounting_Date], 
        [Extent3].[Value_Based_Indicator] AS [Value_Based_Indicator], 
        [Extent3].[Target_Clean_Price] AS [Target_Clean_Price], 
        [Extent3].[Target_Income_Price] AS [Target_Income_Price], 
        [Extent3].[Target_AllIn_Price] AS [Target_AllIn_Price], 
        [Extent3].[Target_Yield] AS [Target_Yield], 
        [Extent3].[Target_Discount] AS [Target_Discount], 
        [Extent3].[Target_Quantity] AS [Target_Quantity], 
        [Extent3].[Target_Clean_Amount_TradeCur] AS [Target_Clean_Amount_TradeCur], 
        [Extent3].[Target_Income_Amount_TradeCur] AS [Target_Income_Amount_TradeCur], 
        [Extent3].[Target_AllIn_Amount_TradeCur] AS [Target_AllIn_Amount_TradeCur], 
        [Extent3].[Place_Quantity] AS [Place_Quantity], 
        [Extent3].[Execution_Quantity] AS [Execution_Quantity], 
        [Extent3].[Execution_Clean_Amount_TradeCur] AS [Execution_Clean_Amount_TradeCur], 
        [Extent3].[Execution_Income_Amount_TradeCur] AS [Execution_Income_Amount_TradeCur], 
        [Extent3].[Execution_AllIn_Amount_TradeCur] AS [Execution_AllIn_Amount_TradeCur], 
        [Extent3].[Broker_Code] AS [Broker_Code], 
        [Extent3].[Execution_Clean_Price] AS [Execution_Clean_Price], 
        [Extent3].[Execution_Income_Price] AS [Execution_Income_Price], 
        [Extent3].[Execution_AllIn_Price] AS [Execution_AllIn_Price], 
        [Extent3].[Execution_Yield] AS [Execution_Yield], 
        [Extent3].[Execution_Discount] AS [Execution_Discount], 
        [Extent3].[Execution_Currency] AS [Execution_Currency], 
        [Extent3].[Execution_Exchange] AS [Execution_Exchange], 
        [Extent3].[Target_FX_Rate] AS [Target_FX_Rate], 
        [Extent3].[Limit_FX_Rate] AS [Limit_FX_Rate], 
        [Extent3].[Execution_FX_Rate] AS [Execution_FX_Rate], 
        [Extent3].[Buy_Currency_Code] AS [Buy_Currency_Code], 
        [Extent3].[Buy_Currency_Execution_Amount] AS [Buy_Currency_Execution_Amount], 
        [Extent3].[Buy_Currency_Target_Amount] AS [Buy_Currency_Target_Amount], 
        [Extent3].[Sell_Currency_Code] AS [Sell_Currency_Code], 
        [Extent3].[Sell_Currency_Execution_Amount] AS [Sell_Currency_Execution_Amount], 
        [Extent3].[Sell_Currency_Target_Amount] AS [Sell_Currency_Target_Amount], 
        [Extent3].[Commission_Amount_TradeCur] AS [Commission_Amount_TradeCur], 
        [Extent3].[Trade_Type_Indicator] AS [Trade_Type_Indicator], 
        [Extent3].[Commission_Rate] AS [Commission_Rate], 
        [Extent3].[Commission_Type] AS [Commission_Type], 
        [Extent3].[Fee_Code1] AS [Fee_Code1], 
        [Extent3].[Fee_Code2] AS [Fee_Code2], 
        [Extent3].[Fee_Code3] AS [Fee_Code3], 
        [Extent3].[Fee_Code4] AS [Fee_Code4], 
        [Extent3].[Fee_Code5] AS [Fee_Code5], 
        [Extent3].[Fee_Code6] AS [Fee_Code6], 
        [Extent3].[Fee_Amount1_TradeCur] AS [Fee_Amount1_TradeCur], 
        [Extent3].[Fee_Amount2_TradeCur] AS [Fee_Amount2_TradeCur], 
        [Extent3].[Fee_Amount3_TradeCur] AS [Fee_Amount3_TradeCur], 
        [Extent3].[Fee_Amount4_TradeCur] AS [Fee_Amount4_TradeCur], 
        [Extent3].[Fee_Amount5_TradeCur] AS [Fee_Amount5_TradeCur], 
        [Extent3].[Fee_Amount6_TradeCur] AS [Fee_Amount6_TradeCur], 
        [Extent3].[Tax_Amount_TradeCur] AS [Tax_Amount_TradeCur], 
        [Extent3].[Tax_Type] AS [Tax_Type], 
        [Extent3].[Tax_Charge_FeeNum] AS [Tax_Charge_FeeNum], 
        [Extent3].[Execution_Gross_Amount_TradeCur] AS [Execution_Gross_Amount_TradeCur], 
        [Extent3].[Execution_Net_Amount_TradeCur] AS [Execution_Net_Amount_TradeCur], 
        [Extent3].[Related_Order_ID] AS [Related_Order_ID], 
        [Extent3].[Previous_Order_ID] AS [Previous_Order_ID], 
        [Extent3].[Authorised_User1] AS [Authorised_User1], 
        [Extent3].[Authorised_User1_DateTime] AS [Authorised_User1_DateTime], 
        [Extent3].[Authorised_User2] AS [Authorised_User2], 
        [Extent3].[Authorised_User2_DateTime] AS [Authorised_User2_DateTime], 
        [Extent3].[Authorised_Number] AS [Authorised_Number], 
        [Extent3].[Security_Type_Code] AS [Security_Type_Code1], 
        [Extent3].[Export_Status] AS [Export_Status], 
        [Extent3].[Order_Ack_Nack_Status] AS [Order_Ack_Nack_Status], 
        [Extent3].[Operations_Status] AS [Operations_Status], 
        [Extent3].[Import_Trade_ID] AS [Import_Trade_ID], 
        1 AS [C1]
        FROM   [dbo].[Cash_Transactions] AS [Extent1]
        LEFT OUTER JOIN [dbo].[Security_Detail] AS [Extent2] ON [Extent1].[Transaction_Security_ID] = [Extent2].[Security_ID]
        LEFT OUTER JOIN [dbo].[Order_Detail] AS [Extent3] ON [Extent1].[Order_ID] = [Extent3].[Order_ID]
        WHERE ([Extent1].[Entity_ID] = @p__linq__0) AND ([Extent1].[Portfolio_Code] = @p__linq__1) AND ([Extent1].[Transaction_Date] <= @p__linq__2)
    )  AS [Project1]
    ORDER BY [Project1].[Transaction_Date] DESC
2018-06-03 13:47:20.7702|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: SELECT TOP (50) 
    [Project1].[C1] AS [C1], 
    [Project1].[Cash_Transaction_ID] AS [Cash_Transaction_ID], 
    [Project1].[Portfolio_Code] AS [Portfolio_Code], 
    [Project1].[Entity_ID] AS [Entity_ID], 
    [Project1].[Transaction_Security_ID] AS [Transaction_Security_ID], 
    [Project1].[Cash_Security_ID] AS [Cash_Security_ID], 
    [Project1].[Transaction_Source_Code] AS [Transaction_Source_Code], 
    [Project1].[Order_ID] AS [Order_ID], 
    [Project1].[Allocation_ID] AS [Allocation_ID], 
    [Project1].[Cashflow_ID] AS [Cashflow_ID], 
    [Project1].[Dividend_Seq_Number] AS [Dividend_Seq_Number], 
    [Project1].[External_ID] AS [External_ID], 
    [Project1].[Transaction_Date] AS [Transaction_Date], 
    [Project1].[Value_Date] AS [Value_Date], 
    [Project1].[Cash_Transaction_Type] AS [Cash_Transaction_Type], 
    [Project1].[Transaction_Amount] AS [Transaction_Amount], 
    [Project1].[Transaction_Currency_Code] AS [Transaction_Currency_Code], 
    [Project1].[BaseCur_Amount] AS [BaseCur_Amount], 
    [Project1].[Create_User_Code] AS [Create_User_Code], 
    [Project1].[Create_Date] AS [Create_Date], 
    [Project1].[Last_Update_User] AS [Last_Update_User], 
    [Project1].[Last_Update_Date] AS [Last_Update_Date], 
    [Project1].[Security_ID] AS [Security_ID], 
    [Project1].[Entity_ID1] AS [Entity_ID1], 
    [Project1].[Security_Name] AS [Security_Name], 
    [Project1].[Short_Name] AS [Short_Name], 
    [Project1].[Primary_Exch] AS [Primary_Exch], 
    [Project1].[Secondary_Exch] AS [Secondary_Exch], 
    [Project1].[Country_Of_Domicile] AS [Country_Of_Domicile], 
    [Project1].[Country_Of_Risk] AS [Country_Of_Risk], 
    [Project1].[Security_Type_Code] AS [Security_Type_Code], 
    [Project1].[Price_Multiplier] AS [Price_Multiplier], 
    [Project1].[Income_Frequency] AS [Income_Frequency], 
    [Project1].[Issuer_Code] AS [Issuer_Code], 
    [Project1].[Ultimate_Issuer_Code] AS [Ultimate_Issuer_Code], 
    [Project1].[Asset_Currency] AS [Asset_Currency], 
    [Project1].[Min_Lot_Size] AS [Min_Lot_Size], 
    [Project1].[Decimal_Precision] AS [Decimal_Precision], 
    [Project1].[AvePrice_Rounding] AS [AvePrice_Rounding], 
    [Project1].[Issue_Date] AS [Issue_Date], 
    [Project1].[Maturity_Date] AS [Maturity_Date], 
    [Project1].[Coupon_Rate] AS [Coupon_Rate], 
    [Project1].[Price_Exchange] AS [Price_Exchange], 
    [Project1].[Trade_Currency] AS [Trade_Currency], 
    [Project1].[Price_Curr] AS [Price_Curr], 
    [Project1].[Currency_Pair_Code] AS [Currency_Pair_Code], 
    [Project1].[Share_Class] AS [Share_Class], 
    [Project1].[Current_Market_Price] AS [Current_Market_Price], 
    [Project1].[Index_Type] AS [Index_Type], 
    [Project1].[Clean_Price_Formula] AS [Clean_Price_Formula], 
    [Project1].[Accrued_Income_Price_Formula] AS [Accrued_Income_Price_Formula], 
    [Project1].[Odd_First_Coupon_Date] AS [Odd_First_Coupon_Date], 
    [Project1].[Odd_Last_Coupon_Date] AS [Odd_Last_Coupon_Date], 
    [Project1].[Coupon_Anniversary_Indicator] AS [Coupon_Anniversary_Indicator], 
    [Project1].[Track_EOM_Flag] AS [Track_EOM_Flag], 
    [Project1].[Next_Coupon_Date] AS [Next_Coupon_Date], 
    [Project1].[Previous_Coupon_Date] AS [Previous_Coupon_Date], 
    [Project1].[Payment_Frequency] AS [Payment_Frequency], 
    [Project1].[Coupon_BusDay_Adjustment] AS [Coupon_BusDay_Adjustment], 
    [Project1].[Next_Ex_Div_Date] AS [Next_Ex_Div_Date], 
    [Project1].[Ex_Div_BusDay_Adjustment] AS [Ex_Div_BusDay_Adjustment], 
    [Project1].[Ex_Div_Period] AS [Ex_Div_Period], 
    [Project1].[Ticker] AS [Ticker], 
    [Project1].[Inet_ID] AS [Inet_ID], 
    [Project1].[Bloomberg_ID] AS [Bloomberg_ID], 
    [Project1].[External_Sec_ID] AS [External_Sec_ID], 
    [Project1].[Reuters_ID] AS [Reuters_ID], 
    [Project1].[ISIN] AS [ISIN], 
    [Project1].[Call_Account_Flag] AS [Call_Account_Flag], 
    [Project1].[System_Locked] AS [System_Locked], 
    [Project1].[Last_Update_User1] AS [Last_Update_User1], 
    [Project1].[Last_Update_Date1] AS [Last_Update_Date1], 
    [Project1].[Security_Status] AS [Security_Status], 
    [Project1].[Benchmark_Portfolio] AS [Benchmark_Portfolio], 
    [Project1].[Active_flag] AS [Active_flag], 
    [Project1].[Dividend_FX_Security_ID] AS [Dividend_FX_Security_ID], 
    [Project1].[Order_ID1] AS [Order_ID1], 
    [Project1].[Entity_ID2] AS [Entity_ID2], 
    [Project1].[Security_ID1] AS [Security_ID1], 
    [Project1].[Trade_Date] AS [Trade_Date], 
    [Project1].[Settlement_Date] AS [Settlement_Date], 
    [Project1].[Transaction_Type] AS [Transaction_Type], 
    [Project1].[Order_Status] AS [Order_Status], 
    [Project1].[Cancel_Reason_Code] AS [Cancel_Reason_Code], 
    [Project1].[Manager] AS [Manager], 
    [Project1].[Trader] AS [Trader], 
    [Project1].[Operations_User] AS [Operations_User], 
    [Project1].[Order_Instruction] AS [Order_Instruction], 
    [Project1].[Order_Duration] AS [Order_Duration], 
    [Project1].[Limit_Price] AS [Limit_Price], 
    [Project1].[Limit_Yield] AS [Limit_Yield], 
    [Project1].[Limit_Discount] AS [Limit_Discount], 
    [Project1].[Order_Creator] AS [Order_Creator], 
    [Project1].[Order_Create_Date] AS [Order_Create_Date], 
    [Project1].[Last_Update_Date2] AS [Last_Update_Date2], 
    [Project1].[Last_Update_User2] AS [Last_Update_User2], 
    [Project1].[Sent_To_Trading_Date] AS [Sent_To_Trading_Date], 
    [Project1].[Sent_To_Accounting_Date] AS [Sent_To_Accounting_Date], 
    [Project1].[Value_Based_Indicator] AS [Value_Based_Indicator], 
    [Project1].[Target_Clean_Price] AS [Target_Clean_Price], 
    [Project1].[Target_Income_Price] AS [Target_Income_Price], 
    [Project1].[Target_AllIn_Price] AS [Target_AllIn_Price], 
    [Project1].[Target_Yield] AS [Target_Yield], 
    [Project1].[Target_Discount] AS [Target_Discount], 
    [Project1].[Target_Quantity] AS [Target_Quantity], 
    [Project1].[Target_Clean_Amount_TradeCur] AS [Target_Clean_Amount_TradeCur], 
    [Project1].[Target_Income_Amount_TradeCur] AS [Target_Income_Amount_TradeCur], 
    [Project1].[Target_AllIn_Amount_TradeCur] AS [Target_AllIn_Amount_TradeCur], 
    [Project1].[Place_Quantity] AS [Place_Quantity], 
    [Project1].[Execution_Quantity] AS [Execution_Quantity], 
    [Project1].[Execution_Clean_Amount_TradeCur] AS [Execution_Clean_Amount_TradeCur], 
    [Project1].[Execution_Income_Amount_TradeCur] AS [Execution_Income_Amount_TradeCur], 
    [Project1].[Execution_AllIn_Amount_TradeCur] AS [Execution_AllIn_Amount_TradeCur], 
    [Project1].[Broker_Code] AS [Broker_Code], 
    [Project1].[Execution_Clean_Price] AS [Execution_Clean_Price], 
    [Project1].[Execution_Income_Price] AS [Execution_Income_Price], 
    [Project1].[Execution_AllIn_Price] AS [Execution_AllIn_Price], 
    [Project1].[Execution_Yield] AS [Execution_Yield], 
    [Project1].[Execution_Discount] AS [Execution_Discount], 
    [Project1].[Execution_Currency] AS [Execution_Currency], 
    [Project1].[Execution_Exchange] AS [Execution_Exchange], 
    [Project1].[Target_FX_Rate] AS [Target_FX_Rate], 
    [Project1].[Limit_FX_Rate] AS [Limit_FX_Rate], 
    [Project1].[Execution_FX_Rate] AS [Execution_FX_Rate], 
    [Project1].[Buy_Currency_Code] AS [Buy_Currency_Code], 
    [Project1].[Buy_Currency_Execution_Amount] AS [Buy_Currency_Execution_Amount], 
    [Project1].[Buy_Currency_Target_Amount] AS [Buy_Currency_Target_Amount], 
    [Project1].[Sell_Currency_Code] AS [Sell_Currency_Code], 
    [Project1].[Sell_Currency_Execution_Amount] AS [Sell_Currency_Execution_Amount], 
    [Project1].[Sell_Currency_Target_Amount] AS [Sell_Currency_Target_Amount], 
    [Project1].[Commission_Amount_TradeCur] AS [Commission_Amount_TradeCur], 
    [Project1].[Trade_Type_Indicator] AS [Trade_Type_Indicator], 
    [Project1].[Commission_Rate] AS [Commission_Rate], 
    [Project1].[Commission_Type] AS [Commission_Type], 
    [Project1].[Fee_Code1] AS [Fee_Code1], 
    [Project1].[Fee_Code2] AS [Fee_Code2], 
    [Project1].[Fee_Code3] AS [Fee_Code3], 
    [Project1].[Fee_Code4] AS [Fee_Code4], 
    [Project1].[Fee_Code5] AS [Fee_Code5], 
    [Project1].[Fee_Code6] AS [Fee_Code6], 
    [Project1].[Fee_Amount1_TradeCur] AS [Fee_Amount1_TradeCur], 
    [Project1].[Fee_Amount2_TradeCur] AS [Fee_Amount2_TradeCur], 
    [Project1].[Fee_Amount3_TradeCur] AS [Fee_Amount3_TradeCur], 
    [Project1].[Fee_Amount4_TradeCur] AS [Fee_Amount4_TradeCur], 
    [Project1].[Fee_Amount5_TradeCur] AS [Fee_Amount5_TradeCur], 
    [Project1].[Fee_Amount6_TradeCur] AS [Fee_Amount6_TradeCur], 
    [Project1].[Tax_Amount_TradeCur] AS [Tax_Amount_TradeCur], 
    [Project1].[Tax_Type] AS [Tax_Type], 
    [Project1].[Tax_Charge_FeeNum] AS [Tax_Charge_FeeNum], 
    [Project1].[Execution_Gross_Amount_TradeCur] AS [Execution_Gross_Amount_TradeCur], 
    [Project1].[Execution_Net_Amount_TradeCur] AS [Execution_Net_Amount_TradeCur], 
    [Project1].[Related_Order_ID] AS [Related_Order_ID], 
    [Project1].[Previous_Order_ID] AS [Previous_Order_ID], 
    [Project1].[Authorised_User1] AS [Authorised_User1], 
    [Project1].[Authorised_User1_DateTime] AS [Authorised_User1_DateTime], 
    [Project1].[Authorised_User2] AS [Authorised_User2], 
    [Project1].[Authorised_User2_DateTime] AS [Authorised_User2_DateTime], 
    [Project1].[Authorised_Number] AS [Authorised_Number], 
    [Project1].[Security_Type_Code1] AS [Security_Type_Code1], 
    [Project1].[Export_Status] AS [Export_Status], 
    [Project1].[Order_Ack_Nack_Status] AS [Order_Ack_Nack_Status], 
    [Project1].[Operations_Status] AS [Operations_Status], 
    [Project1].[Import_Trade_ID] AS [Import_Trade_ID]
    FROM ( SELECT 
        [Extent1].[Cash_Transaction_ID] AS [Cash_Transaction_ID], 
        [Extent1].[Portfolio_Code] AS [Portfolio_Code], 
        [Extent1].[Entity_ID] AS [Entity_ID], 
        [Extent1].[Transaction_Security_ID] AS [Transaction_Security_ID], 
        [Extent1].[Cash_Security_ID] AS [Cash_Security_ID], 
        [Extent1].[Transaction_Source_Code] AS [Transaction_Source_Code], 
        [Extent1].[Order_ID] AS [Order_ID], 
        [Extent1].[Allocation_ID] AS [Allocation_ID], 
        [Extent1].[Cashflow_ID] AS [Cashflow_ID], 
        [Extent1].[Dividend_Seq_Number] AS [Dividend_Seq_Number], 
        [Extent1].[External_ID] AS [External_ID], 
        [Extent1].[Transaction_Date] AS [Transaction_Date], 
        [Extent1].[Value_Date] AS [Value_Date], 
        [Extent1].[Cash_Transaction_Type] AS [Cash_Transaction_Type], 
        [Extent1].[Transaction_Amount] AS [Transaction_Amount], 
        [Extent1].[Transaction_Currency_Code] AS [Transaction_Currency_Code], 
        [Extent1].[BaseCur_Amount] AS [BaseCur_Amount], 
        [Extent1].[Create_User_Code] AS [Create_User_Code], 
        [Extent1].[Create_Date] AS [Create_Date], 
        [Extent1].[Last_Update_User] AS [Last_Update_User], 
        [Extent1].[Last_Update_Date] AS [Last_Update_Date], 
        [Extent2].[Security_ID] AS [Security_ID], 
        [Extent2].[Entity_ID] AS [Entity_ID1], 
        [Extent2].[Security_Name] AS [Security_Name], 
        [Extent2].[Short_Name] AS [Short_Name], 
        [Extent2].[Primary_Exch] AS [Primary_Exch], 
        [Extent2].[Secondary_Exch] AS [Secondary_Exch], 
        [Extent2].[Country_Of_Domicile] AS [Country_Of_Domicile], 
        [Extent2].[Country_Of_Risk] AS [Country_Of_Risk], 
        [Extent2].[Security_Type_Code] AS [Security_Type_Code], 
        [Extent2].[Price_Multiplier] AS [Price_Multiplier], 
        [Extent2].[Income_Frequency] AS [Income_Frequency], 
        [Extent2].[Issuer_Code] AS [Issuer_Code], 
        [Extent2].[Ultimate_Issuer_Code] AS [Ultimate_Issuer_Code], 
        [Extent2].[Asset_Currency] AS [Asset_Currency], 
        [Extent2].[Min_Lot_Size] AS [Min_Lot_Size], 
        [Extent2].[Decimal_Precision] AS [Decimal_Precision], 
        [Extent2].[AvePrice_Rounding] AS [AvePrice_Rounding], 
        [Extent2].[Issue_Date] AS [Issue_Date], 
        [Extent2].[Maturity_Date] AS [Maturity_Date], 
        [Extent2].[Coupon_Rate] AS [Coupon_Rate], 
        [Extent2].[Price_Exchange] AS [Price_Exchange], 
        [Extent2].[Trade_Currency] AS [Trade_Currency], 
        [Extent2].[Price_Curr] AS [Price_Curr], 
        [Extent2].[Currency_Pair_Code] AS [Currency_Pair_Code], 
        [Extent2].[Share_Class] AS [Share_Class], 
        [Extent2].[Current_Market_Price] AS [Current_Market_Price], 
        [Extent2].[Index_Type] AS [Index_Type], 
        [Extent2].[Clean_Price_Formula] AS [Clean_Price_Formula], 
        [Extent2].[Accrued_Income_Price_Formula] AS [Accrued_Income_Price_Formula], 
        [Extent2].[Odd_First_Coupon_Date] AS [Odd_First_Coupon_Date], 
        [Extent2].[Odd_Last_Coupon_Date] AS [Odd_Last_Coupon_Date], 
        [Extent2].[Coupon_Anniversary_Indicator] AS [Coupon_Anniversary_Indicator], 
        [Extent2].[Track_EOM_Flag] AS [Track_EOM_Flag], 
        [Extent2].[Next_Coupon_Date] AS [Next_Coupon_Date], 
        [Extent2].[Previous_Coupon_Date] AS [Previous_Coupon_Date], 
        [Extent2].[Payment_Frequency] AS [Payment_Frequency], 
        [Extent2].[Coupon_BusDay_Adjustment] AS [Coupon_BusDay_Adjustment], 
        [Extent2].[Next_Ex_Div_Date] AS [Next_Ex_Div_Date], 
        [Extent2].[Ex_Div_BusDay_Adjustment] AS [Ex_Div_BusDay_Adjustment], 
        [Extent2].[Ex_Div_Period] AS [Ex_Div_Period], 
        [Extent2].[Ticker] AS [Ticker], 
        [Extent2].[Inet_ID] AS [Inet_ID], 
        [Extent2].[Bloomberg_ID] AS [Bloomberg_ID], 
        [Extent2].[External_Sec_ID] AS [External_Sec_ID], 
        [Extent2].[Reuters_ID] AS [Reuters_ID], 
        [Extent2].[ISIN] AS [ISIN], 
        [Extent2].[Call_Account_Flag] AS [Call_Account_Flag], 
        [Extent2].[System_Locked] AS [System_Locked], 
        [Extent2].[Last_Update_User] AS [Last_Update_User1], 
        [Extent2].[Last_Update_Date] AS [Last_Update_Date1], 
        [Extent2].[Security_Status] AS [Security_Status], 
        [Extent2].[Benchmark_Portfolio] AS [Benchmark_Portfolio], 
        [Extent2].[Active_flag] AS [Active_flag], 
        [Extent2].[Dividend_FX_Security_ID] AS [Dividend_FX_Security_ID], 
        [Extent3].[Order_ID] AS [Order_ID1], 
        [Extent3].[Entity_ID] AS [Entity_ID2], 
        [Extent3].[Security_ID] AS [Security_ID1], 
        [Extent3].[Trade_Date] AS [Trade_Date], 
        [Extent3].[Settlement_Date] AS [Settlement_Date], 
        [Extent3].[Transaction_Type] AS [Transaction_Type], 
        [Extent3].[Order_Status] AS [Order_Status], 
        [Extent3].[Cancel_Reason_Code] AS [Cancel_Reason_Code], 
        [Extent3].[Manager] AS [Manager], 
        [Extent3].[Trader] AS [Trader], 
        [Extent3].[Operations_User] AS [Operations_User], 
        [Extent3].[Order_Instruction] AS [Order_Instruction], 
        [Extent3].[Order_Duration] AS [Order_Duration], 
        [Extent3].[Limit_Price] AS [Limit_Price], 
        [Extent3].[Limit_Yield] AS [Limit_Yield], 
        [Extent3].[Limit_Discount] AS [Limit_Discount], 
        [Extent3].[Order_Creator] AS [Order_Creator], 
        [Extent3].[Order_Create_Date] AS [Order_Create_Date], 
        [Extent3].[Last_Update_Date] AS [Last_Update_Date2], 
        [Extent3].[Last_Update_User] AS [Last_Update_User2], 
        [Extent3].[Sent_To_Trading_Date] AS [Sent_To_Trading_Date], 
        [Extent3].[Sent_To_Accounting_Date] AS [Sent_To_Accounting_Date], 
        [Extent3].[Value_Based_Indicator] AS [Value_Based_Indicator], 
        [Extent3].[Target_Clean_Price] AS [Target_Clean_Price], 
        [Extent3].[Target_Income_Price] AS [Target_Income_Price], 
        [Extent3].[Target_AllIn_Price] AS [Target_AllIn_Price], 
        [Extent3].[Target_Yield] AS [Target_Yield], 
        [Extent3].[Target_Discount] AS [Target_Discount], 
        [Extent3].[Target_Quantity] AS [Target_Quantity], 
        [Extent3].[Target_Clean_Amount_TradeCur] AS [Target_Clean_Amount_TradeCur], 
        [Extent3].[Target_Income_Amount_TradeCur] AS [Target_Income_Amount_TradeCur], 
        [Extent3].[Target_AllIn_Amount_TradeCur] AS [Target_AllIn_Amount_TradeCur], 
        [Extent3].[Place_Quantity] AS [Place_Quantity], 
        [Extent3].[Execution_Quantity] AS [Execution_Quantity], 
        [Extent3].[Execution_Clean_Amount_TradeCur] AS [Execution_Clean_Amount_TradeCur], 
        [Extent3].[Execution_Income_Amount_TradeCur] AS [Execution_Income_Amount_TradeCur], 
        [Extent3].[Execution_AllIn_Amount_TradeCur] AS [Execution_AllIn_Amount_TradeCur], 
        [Extent3].[Broker_Code] AS [Broker_Code], 
        [Extent3].[Execution_Clean_Price] AS [Execution_Clean_Price], 
        [Extent3].[Execution_Income_Price] AS [Execution_Income_Price], 
        [Extent3].[Execution_AllIn_Price] AS [Execution_AllIn_Price], 
        [Extent3].[Execution_Yield] AS [Execution_Yield], 
        [Extent3].[Execution_Discount] AS [Execution_Discount], 
        [Extent3].[Execution_Currency] AS [Execution_Currency], 
        [Extent3].[Execution_Exchange] AS [Execution_Exchange], 
        [Extent3].[Target_FX_Rate] AS [Target_FX_Rate], 
        [Extent3].[Limit_FX_Rate] AS [Limit_FX_Rate], 
        [Extent3].[Execution_FX_Rate] AS [Execution_FX_Rate], 
        [Extent3].[Buy_Currency_Code] AS [Buy_Currency_Code], 
        [Extent3].[Buy_Currency_Execution_Amount] AS [Buy_Currency_Execution_Amount], 
        [Extent3].[Buy_Currency_Target_Amount] AS [Buy_Currency_Target_Amount], 
        [Extent3].[Sell_Currency_Code] AS [Sell_Currency_Code], 
        [Extent3].[Sell_Currency_Execution_Amount] AS [Sell_Currency_Execution_Amount], 
        [Extent3].[Sell_Currency_Target_Amount] AS [Sell_Currency_Target_Amount], 
        [Extent3].[Commission_Amount_TradeCur] AS [Commission_Amount_TradeCur], 
        [Extent3].[Trade_Type_Indicator] AS [Trade_Type_Indicator], 
        [Extent3].[Commission_Rate] AS [Commission_Rate], 
        [Extent3].[Commission_Type] AS [Commission_Type], 
        [Extent3].[Fee_Code1] AS [Fee_Code1], 
        [Extent3].[Fee_Code2] AS [Fee_Code2], 
        [Extent3].[Fee_Code3] AS [Fee_Code3], 
        [Extent3].[Fee_Code4] AS [Fee_Code4], 
        [Extent3].[Fee_Code5] AS [Fee_Code5], 
        [Extent3].[Fee_Code6] AS [Fee_Code6], 
        [Extent3].[Fee_Amount1_TradeCur] AS [Fee_Amount1_TradeCur], 
        [Extent3].[Fee_Amount2_TradeCur] AS [Fee_Amount2_TradeCur], 
        [Extent3].[Fee_Amount3_TradeCur] AS [Fee_Amount3_TradeCur], 
        [Extent3].[Fee_Amount4_TradeCur] AS [Fee_Amount4_TradeCur], 
        [Extent3].[Fee_Amount5_TradeCur] AS [Fee_Amount5_TradeCur], 
        [Extent3].[Fee_Amount6_TradeCur] AS [Fee_Amount6_TradeCur], 
        [Extent3].[Tax_Amount_TradeCur] AS [Tax_Amount_TradeCur], 
        [Extent3].[Tax_Type] AS [Tax_Type], 
        [Extent3].[Tax_Charge_FeeNum] AS [Tax_Charge_FeeNum], 
        [Extent3].[Execution_Gross_Amount_TradeCur] AS [Execution_Gross_Amount_TradeCur], 
        [Extent3].[Execution_Net_Amount_TradeCur] AS [Execution_Net_Amount_TradeCur], 
        [Extent3].[Related_Order_ID] AS [Related_Order_ID], 
        [Extent3].[Previous_Order_ID] AS [Previous_Order_ID], 
        [Extent3].[Authorised_User1] AS [Authorised_User1], 
        [Extent3].[Authorised_User1_DateTime] AS [Authorised_User1_DateTime], 
        [Extent3].[Authorised_User2] AS [Authorised_User2], 
        [Extent3].[Authorised_User2_DateTime] AS [Authorised_User2_DateTime], 
        [Extent3].[Authorised_Number] AS [Authorised_Number], 
        [Extent3].[Security_Type_Code] AS [Security_Type_Code1], 
        [Extent3].[Export_Status] AS [Export_Status], 
        [Extent3].[Order_Ack_Nack_Status] AS [Order_Ack_Nack_Status], 
        [Extent3].[Operations_Status] AS [Operations_Status], 
        [Extent3].[Import_Trade_ID] AS [Import_Trade_ID], 
        1 AS [C1]
        FROM   [dbo].[Cash_Transactions] AS [Extent1]
        LEFT OUTER JOIN [dbo].[Security_Detail] AS [Extent2] ON [Extent1].[Transaction_Security_ID] = [Extent2].[Security_ID]
        LEFT OUTER JOIN [dbo].[Order_Detail] AS [Extent3] ON [Extent1].[Order_ID] = [Extent3].[Order_ID]
        WHERE ([Extent1].[Entity_ID] = @p__linq__0) AND ([Extent1].[Portfolio_Code] = @p__linq__1) AND ([Extent1].[Transaction_Date] <= @p__linq__2)
    )  AS [Project1]
    ORDER BY [Project1].[Transaction_Date] DESC
2018-06-03 13:47:20.8337|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: IF db_id(N'MetopeAzureDb') IS NOT NULL SELECT 1 ELSE SELECT Count(*) FROM sys.databases WHERE [name]=N'MetopeAzureDb'
2018-06-03 13:47:20.8563|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: IF db_id(N'MetopeAzureDb') IS NOT NULL SELECT 1 ELSE SELECT Count(*) FROM sys.databases WHERE [name]=N'MetopeAzureDb'
2018-06-03 13:47:20.8928|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: IF db_id(N'MetopeAzureDb') IS NOT NULL SELECT 1 ELSE SELECT Count(*) FROM sys.databases WHERE [name]=N'MetopeAzureDb'
2018-06-03 13:47:20.9388|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: IF db_id(N'MetopeAzureDb') IS NOT NULL SELECT 1 ELSE SELECT Count(*) FROM sys.databases WHERE [name]=N'MetopeAzureDb'
2018-06-03 13:47:28.0395|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: IF db_id(N'MetopeAzureDb') IS NOT NULL SELECT 1 ELSE SELECT Count(*) FROM sys.databases WHERE [name]=N'MetopeAzureDb'
2018-06-03 13:47:28.0760|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: IF db_id(N'MetopeAzureDb') IS NOT NULL SELECT 1 ELSE SELECT Count(*) FROM sys.databases WHERE [name]=N'MetopeAzureDb'
2018-06-03 13:47:28.6394|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: SELECT 
    [Project1].[Party_Code] AS [Party_Code], 
    [Project1].[Entity_ID] AS [Entity_ID], 
    [Project1].[Actual_Forecast_Indicator] AS [Actual_Forecast_Indicator], 
    [Project1].[Security_ID] AS [Security_ID], 
    [Project1].[Financials_Date] AS [Financials_Date], 
    [Project1].[Full_Adjusted_Share_NAV] AS [Full_Adjusted_Share_NAV], 
    [Project1].[Enterprise_Value] AS [Enterprise_Value], 
    [Project1].[Dividend_Yield] AS [Dividend_Yield], 
    [Project1].[Net_Present_Value] AS [Net_Present_Value], 
    [Project1].[Net_Property_Income] AS [Net_Property_Income], 
    [Project1].[Vacancies_Overall] AS [Vacancies_Overall], 
    [Project1].[Portfolio_Leases_Expiring] AS [Portfolio_Leases_Expiring], 
    [Project1].[Assumed_Ave_Escalation_Rate] AS [Assumed_Ave_Escalation_Rate], 
    [Project1].[Cap_Rate_Movemt_Assump] AS [Cap_Rate_Movemt_Assump], 
    [Project1].[Reversion_Exp_Rent_Reviews] AS [Reversion_Exp_Rent_Reviews], 
    [Project1].[Ungeared_Yield] AS [Ungeared_Yield], 
    [Project1].[Net_Operating_Profit] AS [Net_Operating_Profit], 
    [Project1].[Revenue_Growth] AS [Revenue_Growth], 
    [Project1].[Net_Property_Income_Growth] AS [Net_Property_Income_Growth], 
    [Project1].[Net_Operating_Profit_Growth] AS [Net_Operating_Profit_Growth], 
    [Project1].[Interest_Paid_Growth] AS [Interest_Paid_Growth], 
    [Project1].[Loan_To_Value] AS [Loan_To_Value], 
    [Project1].[Interest_Cover_Ratio] AS [Interest_Cover_Ratio], 
    [Project1].[Revenue] AS [Revenue], 
    [Project1].[Interest_Paid] AS [Interest_Paid], 
    [Project1].[Property_Expenses] AS [Property_Expenses], 
    [Project1].[Property_Expenses_Growth] AS [Property_Expenses_Growth], 
    [Project1].[Investment_Income] AS [Investment_Income], 
    [Project1].[Admin_Expenses] AS [Admin_Expenses], 
    [Project1].[Admin_Expenses_Growth] AS [Admin_Expenses_Growth], 
    [Project1].[Taxation] AS [Taxation], 
    [Project1].[Other_Income] AS [Other_Income], 
    [Project1].[Distributable_Earnings] AS [Distributable_Earnings], 
    [Project1].[Distributions_Growth] AS [Distributions_Growth], 
    [Project1].[Linked_Units_Issued] AS [Linked_Units_Issued], 
    [Project1].[Borrowings] AS [Borrowings], 
    [Project1].[Units_Issued] AS [Units_Issued], 
    [Project1].[Purchases_And_Developments] AS [Purchases_And_Developments], 
    [Project1].[Sales] AS [Sales], 
    [Project1].[Total_Assets] AS [Total_Assets], 
    [Project1].[Current_Liabilities] AS [Current_Liabilities], 
    [Project1].[Interest_Bearing_Borrowings] AS [Interest_Bearing_Borrowings], 
    [Project1].[Last_Update_Date] AS [Last_Update_Date], 
    [Project1].[Last_Update_User] AS [Last_Update_User], 
    [Project1].[Forecast_Distributions_Growth] AS [Forecast_Distributions_Growth], 
    [Project1].[Property_Portfolio_Value] AS [Property_Portfolio_Value], 
    [Project1].[OffshoreExposure_WesternEurope] AS [OffshoreExposure_WesternEurope], 
    [Project1].[OffshoreExposure_CEE] AS [OffshoreExposure_CEE], 
    [Project1].[OffshoreExposure_US] AS [OffshoreExposure_US], 
    [Project1].[OffshoreExposure_UK] AS [OffshoreExposure_UK], 
    [Project1].[OffshoreExposure_Australia] AS [OffshoreExposure_Australia], 
    [Project1].[OffshoreExposure_Africa] AS [OffshoreExposure_Africa], 
    [Project1].[OffshoreExposure_Other] AS [OffshoreExposure_Other], 
    [Project1].[Sector_Retail] AS [Sector_Retail], 
    [Project1].[Sector_Office] AS [Sector_Office], 
    [Project1].[Sector_Industrial] AS [Sector_Industrial], 
    [Project1].[Sector_Residential] AS [Sector_Residential], 
    [Project1].[Sector_Other] AS [Sector_Other], 
    [Project1].[Sector_Offshore] AS [Sector_Offshore]
    FROM ( SELECT 
        [Extent1].[Party_Code] AS [Party_Code], 
        [Extent1].[Entity_ID] AS [Entity_ID], 
        [Extent1].[Actual_Forecast_Indicator] AS [Actual_Forecast_Indicator], 
        [Extent1].[Security_ID] AS [Security_ID], 
        [Extent1].[Financials_Date] AS [Financials_Date], 
        [Extent1].[Full_Adjusted_Share_NAV] AS [Full_Adjusted_Share_NAV], 
        [Extent1].[Enterprise_Value] AS [Enterprise_Value], 
        [Extent1].[Dividend_Yield] AS [Dividend_Yield], 
        [Extent1].[Net_Present_Value] AS [Net_Present_Value], 
        [Extent1].[Net_Property_Income] AS [Net_Property_Income], 
        [Extent1].[Vacancies_Overall] AS [Vacancies_Overall], 
        [Extent1].[Portfolio_Leases_Expiring] AS [Portfolio_Leases_Expiring], 
        [Extent1].[Assumed_Ave_Escalation_Rate] AS [Assumed_Ave_Escalation_Rate], 
        [Extent1].[Cap_Rate_Movemt_Assump] AS [Cap_Rate_Movemt_Assump], 
        [Extent1].[Reversion_Exp_Rent_Reviews] AS [Reversion_Exp_Rent_Reviews], 
        [Extent1].[Ungeared_Yield] AS [Ungeared_Yield], 
        [Extent1].[Net_Operating_Profit] AS [Net_Operating_Profit], 
        [Extent1].[Revenue_Growth] AS [Revenue_Growth], 
        [Extent1].[Net_Property_Income_Growth] AS [Net_Property_Income_Growth], 
        [Extent1].[Net_Operating_Profit_Growth] AS [Net_Operating_Profit_Growth], 
        [Extent1].[Interest_Paid_Growth] AS [Interest_Paid_Growth], 
        [Extent1].[Loan_To_Value] AS [Loan_To_Value], 
        [Extent1].[Interest_Cover_Ratio] AS [Interest_Cover_Ratio], 
        [Extent1].[Revenue] AS [Revenue], 
        [Extent1].[Interest_Paid] AS [Interest_Paid], 
        [Extent1].[Property_Expenses] AS [Property_Expenses], 
        [Extent1].[Property_Expenses_Growth] AS [Property_Expenses_Growth], 
        [Extent1].[Investment_Income] AS [Investment_Income], 
        [Extent1].[Admin_Expenses] AS [Admin_Expenses], 
        [Extent1].[Admin_Expenses_Growth] AS [Admin_Expenses_Growth], 
        [Extent1].[Taxation] AS [Taxation], 
        [Extent1].[Other_Income] AS [Other_Income], 
        [Extent1].[Distributable_Earnings] AS [Distributable_Earnings], 
        [Extent1].[Distributions_Growth] AS [Distributions_Growth], 
        [Extent1].[Linked_Units_Issued] AS [Linked_Units_Issued], 
        [Extent1].[Borrowings] AS [Borrowings], 
        [Extent1].[Units_Issued] AS [Units_Issued], 
        [Extent1].[Purchases_And_Developments] AS [Purchases_And_Developments], 
        [Extent1].[Sales] AS [Sales], 
        [Extent1].[Total_Assets] AS [Total_Assets], 
        [Extent1].[Current_Liabilities] AS [Current_Liabilities], 
        [Extent1].[Interest_Bearing_Borrowings] AS [Interest_Bearing_Borrowings], 
        [Extent1].[Last_Update_Date] AS [Last_Update_Date], 
        [Extent1].[Last_Update_User] AS [Last_Update_User], 
        [Extent1].[Forecast_Distributions_Growth] AS [Forecast_Distributions_Growth], 
        [Extent1].[Property_Portfolio_Value] AS [Property_Portfolio_Value], 
        [Extent1].[OffshoreExposure_WesternEurope] AS [OffshoreExposure_WesternEurope], 
        [Extent1].[OffshoreExposure_CEE] AS [OffshoreExposure_CEE], 
        [Extent1].[OffshoreExposure_US] AS [OffshoreExposure_US], 
        [Extent1].[OffshoreExposure_UK] AS [OffshoreExposure_UK], 
        [Extent1].[OffshoreExposure_Australia] AS [OffshoreExposure_Australia], 
        [Extent1].[OffshoreExposure_Africa] AS [OffshoreExposure_Africa], 
        [Extent1].[OffshoreExposure_Other] AS [OffshoreExposure_Other], 
        [Extent1].[Sector_Retail] AS [Sector_Retail], 
        [Extent1].[Sector_Office] AS [Sector_Office], 
        [Extent1].[Sector_Industrial] AS [Sector_Industrial], 
        [Extent1].[Sector_Residential] AS [Sector_Residential], 
        [Extent1].[Sector_Other] AS [Sector_Other], 
        [Extent1].[Sector_Offshore] AS [Sector_Offshore]
        FROM [dbo].[Party_Financials] AS [Extent1]
        WHERE ((CASE WHEN ( NOT ((N'' = @p__linq__0) AND (@p__linq__0 IS NOT NULL))) THEN CASE WHEN ([Extent1].[Party_Code] = @p__linq__1) THEN cast(1 as bit) WHEN ( NOT (([Extent1].[Party_Code] = @p__linq__1) AND (0 = (CASE WHEN (@p__linq__1 IS NULL) THEN cast(1 as bit) ELSE cast(0 as bit) END)))) THEN cast(0 as bit) END WHEN ('' <> [Extent1].[Party_Code]) THEN cast(1 as bit) WHEN ('' = [Extent1].[Party_Code]) THEN cast(0 as bit) END) = 1) AND ([Extent1].[Entity_ID] = @p__linq__2)
    )  AS [Project1]
    ORDER BY [Project1].[Party_Code] ASC, [Project1].[Actual_Forecast_Indicator] ASC
2018-06-03 13:47:28.7224|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: SELECT 
    [Project1].[Party_Code] AS [Party_Code], 
    [Project1].[Entity_ID] AS [Entity_ID], 
    [Project1].[Actual_Forecast_Indicator] AS [Actual_Forecast_Indicator], 
    [Project1].[Security_ID] AS [Security_ID], 
    [Project1].[Financials_Date] AS [Financials_Date], 
    [Project1].[Full_Adjusted_Share_NAV] AS [Full_Adjusted_Share_NAV], 
    [Project1].[Enterprise_Value] AS [Enterprise_Value], 
    [Project1].[Dividend_Yield] AS [Dividend_Yield], 
    [Project1].[Net_Present_Value] AS [Net_Present_Value], 
    [Project1].[Net_Property_Income] AS [Net_Property_Income], 
    [Project1].[Vacancies_Overall] AS [Vacancies_Overall], 
    [Project1].[Portfolio_Leases_Expiring] AS [Portfolio_Leases_Expiring], 
    [Project1].[Assumed_Ave_Escalation_Rate] AS [Assumed_Ave_Escalation_Rate], 
    [Project1].[Cap_Rate_Movemt_Assump] AS [Cap_Rate_Movemt_Assump], 
    [Project1].[Reversion_Exp_Rent_Reviews] AS [Reversion_Exp_Rent_Reviews], 
    [Project1].[Ungeared_Yield] AS [Ungeared_Yield], 
    [Project1].[Net_Operating_Profit] AS [Net_Operating_Profit], 
    [Project1].[Revenue_Growth] AS [Revenue_Growth], 
    [Project1].[Net_Property_Income_Growth] AS [Net_Property_Income_Growth], 
    [Project1].[Net_Operating_Profit_Growth] AS [Net_Operating_Profit_Growth], 
    [Project1].[Interest_Paid_Growth] AS [Interest_Paid_Growth], 
    [Project1].[Loan_To_Value] AS [Loan_To_Value], 
    [Project1].[Interest_Cover_Ratio] AS [Interest_Cover_Ratio], 
    [Project1].[Revenue] AS [Revenue], 
    [Project1].[Interest_Paid] AS [Interest_Paid], 
    [Project1].[Property_Expenses] AS [Property_Expenses], 
    [Project1].[Property_Expenses_Growth] AS [Property_Expenses_Growth], 
    [Project1].[Investment_Income] AS [Investment_Income], 
    [Project1].[Admin_Expenses] AS [Admin_Expenses], 
    [Project1].[Admin_Expenses_Growth] AS [Admin_Expenses_Growth], 
    [Project1].[Taxation] AS [Taxation], 
    [Project1].[Other_Income] AS [Other_Income], 
    [Project1].[Distributable_Earnings] AS [Distributable_Earnings], 
    [Project1].[Distributions_Growth] AS [Distributions_Growth], 
    [Project1].[Linked_Units_Issued] AS [Linked_Units_Issued], 
    [Project1].[Borrowings] AS [Borrowings], 
    [Project1].[Units_Issued] AS [Units_Issued], 
    [Project1].[Purchases_And_Developments] AS [Purchases_And_Developments], 
    [Project1].[Sales] AS [Sales], 
    [Project1].[Total_Assets] AS [Total_Assets], 
    [Project1].[Current_Liabilities] AS [Current_Liabilities], 
    [Project1].[Interest_Bearing_Borrowings] AS [Interest_Bearing_Borrowings], 
    [Project1].[Last_Update_Date] AS [Last_Update_Date], 
    [Project1].[Last_Update_User] AS [Last_Update_User], 
    [Project1].[Forecast_Distributions_Growth] AS [Forecast_Distributions_Growth], 
    [Project1].[Property_Portfolio_Value] AS [Property_Portfolio_Value], 
    [Project1].[OffshoreExposure_WesternEurope] AS [OffshoreExposure_WesternEurope], 
    [Project1].[OffshoreExposure_CEE] AS [OffshoreExposure_CEE], 
    [Project1].[OffshoreExposure_US] AS [OffshoreExposure_US], 
    [Project1].[OffshoreExposure_UK] AS [OffshoreExposure_UK], 
    [Project1].[OffshoreExposure_Australia] AS [OffshoreExposure_Australia], 
    [Project1].[OffshoreExposure_Africa] AS [OffshoreExposure_Africa], 
    [Project1].[OffshoreExposure_Other] AS [OffshoreExposure_Other], 
    [Project1].[Sector_Retail] AS [Sector_Retail], 
    [Project1].[Sector_Office] AS [Sector_Office], 
    [Project1].[Sector_Industrial] AS [Sector_Industrial], 
    [Project1].[Sector_Residential] AS [Sector_Residential], 
    [Project1].[Sector_Other] AS [Sector_Other], 
    [Project1].[Sector_Offshore] AS [Sector_Offshore]
    FROM ( SELECT 
        [Extent1].[Party_Code] AS [Party_Code], 
        [Extent1].[Entity_ID] AS [Entity_ID], 
        [Extent1].[Actual_Forecast_Indicator] AS [Actual_Forecast_Indicator], 
        [Extent1].[Security_ID] AS [Security_ID], 
        [Extent1].[Financials_Date] AS [Financials_Date], 
        [Extent1].[Full_Adjusted_Share_NAV] AS [Full_Adjusted_Share_NAV], 
        [Extent1].[Enterprise_Value] AS [Enterprise_Value], 
        [Extent1].[Dividend_Yield] AS [Dividend_Yield], 
        [Extent1].[Net_Present_Value] AS [Net_Present_Value], 
        [Extent1].[Net_Property_Income] AS [Net_Property_Income], 
        [Extent1].[Vacancies_Overall] AS [Vacancies_Overall], 
        [Extent1].[Portfolio_Leases_Expiring] AS [Portfolio_Leases_Expiring], 
        [Extent1].[Assumed_Ave_Escalation_Rate] AS [Assumed_Ave_Escalation_Rate], 
        [Extent1].[Cap_Rate_Movemt_Assump] AS [Cap_Rate_Movemt_Assump], 
        [Extent1].[Reversion_Exp_Rent_Reviews] AS [Reversion_Exp_Rent_Reviews], 
        [Extent1].[Ungeared_Yield] AS [Ungeared_Yield], 
        [Extent1].[Net_Operating_Profit] AS [Net_Operating_Profit], 
        [Extent1].[Revenue_Growth] AS [Revenue_Growth], 
        [Extent1].[Net_Property_Income_Growth] AS [Net_Property_Income_Growth], 
        [Extent1].[Net_Operating_Profit_Growth] AS [Net_Operating_Profit_Growth], 
        [Extent1].[Interest_Paid_Growth] AS [Interest_Paid_Growth], 
        [Extent1].[Loan_To_Value] AS [Loan_To_Value], 
        [Extent1].[Interest_Cover_Ratio] AS [Interest_Cover_Ratio], 
        [Extent1].[Revenue] AS [Revenue], 
        [Extent1].[Interest_Paid] AS [Interest_Paid], 
        [Extent1].[Property_Expenses] AS [Property_Expenses], 
        [Extent1].[Property_Expenses_Growth] AS [Property_Expenses_Growth], 
        [Extent1].[Investment_Income] AS [Investment_Income], 
        [Extent1].[Admin_Expenses] AS [Admin_Expenses], 
        [Extent1].[Admin_Expenses_Growth] AS [Admin_Expenses_Growth], 
        [Extent1].[Taxation] AS [Taxation], 
        [Extent1].[Other_Income] AS [Other_Income], 
        [Extent1].[Distributable_Earnings] AS [Distributable_Earnings], 
        [Extent1].[Distributions_Growth] AS [Distributions_Growth], 
        [Extent1].[Linked_Units_Issued] AS [Linked_Units_Issued], 
        [Extent1].[Borrowings] AS [Borrowings], 
        [Extent1].[Units_Issued] AS [Units_Issued], 
        [Extent1].[Purchases_And_Developments] AS [Purchases_And_Developments], 
        [Extent1].[Sales] AS [Sales], 
        [Extent1].[Total_Assets] AS [Total_Assets], 
        [Extent1].[Current_Liabilities] AS [Current_Liabilities], 
        [Extent1].[Interest_Bearing_Borrowings] AS [Interest_Bearing_Borrowings], 
        [Extent1].[Last_Update_Date] AS [Last_Update_Date], 
        [Extent1].[Last_Update_User] AS [Last_Update_User], 
        [Extent1].[Forecast_Distributions_Growth] AS [Forecast_Distributions_Growth], 
        [Extent1].[Property_Portfolio_Value] AS [Property_Portfolio_Value], 
        [Extent1].[OffshoreExposure_WesternEurope] AS [OffshoreExposure_WesternEurope], 
        [Extent1].[OffshoreExposure_CEE] AS [OffshoreExposure_CEE], 
        [Extent1].[OffshoreExposure_US] AS [OffshoreExposure_US], 
        [Extent1].[OffshoreExposure_UK] AS [OffshoreExposure_UK], 
        [Extent1].[OffshoreExposure_Australia] AS [OffshoreExposure_Australia], 
        [Extent1].[OffshoreExposure_Africa] AS [OffshoreExposure_Africa], 
        [Extent1].[OffshoreExposure_Other] AS [OffshoreExposure_Other], 
        [Extent1].[Sector_Retail] AS [Sector_Retail], 
        [Extent1].[Sector_Office] AS [Sector_Office], 
        [Extent1].[Sector_Industrial] AS [Sector_Industrial], 
        [Extent1].[Sector_Residential] AS [Sector_Residential], 
        [Extent1].[Sector_Other] AS [Sector_Other], 
        [Extent1].[Sector_Offshore] AS [Sector_Offshore]
        FROM [dbo].[Party_Financials] AS [Extent1]
        WHERE ((CASE WHEN ( NOT ((N'' = @p__linq__0) AND (@p__linq__0 IS NOT NULL))) THEN CASE WHEN ([Extent1].[Party_Code] = @p__linq__1) THEN cast(1 as bit) WHEN ( NOT (([Extent1].[Party_Code] = @p__linq__1) AND (0 = (CASE WHEN (@p__linq__1 IS NULL) THEN cast(1 as bit) ELSE cast(0 as bit) END)))) THEN cast(0 as bit) END WHEN ('' <> [Extent1].[Party_Code]) THEN cast(1 as bit) WHEN ('' = [Extent1].[Party_Code]) THEN cast(0 as bit) END) = 1) AND ([Extent1].[Entity_ID] = @p__linq__2)
    )  AS [Project1]
    ORDER BY [Project1].[Party_Code] ASC, [Project1].[Actual_Forecast_Indicator] ASC
2018-06-03 13:47:34.2374|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: IF db_id(N'MetopeAzureDb') IS NOT NULL SELECT 1 ELSE SELECT Count(*) FROM sys.databases WHERE [name]=N'MetopeAzureDb'
2018-06-03 13:47:34.4170|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: IF db_id(N'MetopeAzureDb') IS NOT NULL SELECT 1 ELSE SELECT Count(*) FROM sys.databases WHERE [name]=N'MetopeAzureDb'
2018-06-03 13:47:34.6652|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: IF db_id(N'MetopeAzureDb') IS NOT NULL SELECT 1 ELSE SELECT Count(*) FROM sys.databases WHERE [name]=N'MetopeAzureDb'
2018-06-03 13:47:34.8873|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: IF db_id(N'MetopeAzureDb') IS NOT NULL SELECT 1 ELSE SELECT Count(*) FROM sys.databases WHERE [name]=N'MetopeAzureDb'
2018-06-03 13:49:10.3208|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: SELECT 
    CASE WHEN ( EXISTS (SELECT TOP (50) 
        1 AS [C1]
        FROM ( SELECT 
            [Extent1].[Transaction_Date] AS [Transaction_Date]
            FROM [dbo].[Cash_Transactions] AS [Extent1]
            WHERE ([Extent1].[Entity_ID] = @p__linq__0) AND ([Extent1].[Portfolio_Code] = @p__linq__1) AND ([Extent1].[Transaction_Date] <= @p__linq__2)
        )  AS [Project1]
        ORDER BY [Project1].[Transaction_Date] DESC
    )) THEN cast(1 as bit) ELSE cast(0 as bit) END AS [C1]
    FROM  ( SELECT 1 AS X ) AS [SingleRowTable1]
2018-06-03 13:49:10.3823|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: SELECT 
    CASE WHEN ( EXISTS (SELECT TOP (50) 
        1 AS [C1]
        FROM ( SELECT 
            [Extent1].[Transaction_Date] AS [Transaction_Date]
            FROM [dbo].[Cash_Transactions] AS [Extent1]
            WHERE ([Extent1].[Entity_ID] = @p__linq__0) AND ([Extent1].[Portfolio_Code] = @p__linq__1) AND ([Extent1].[Transaction_Date] <= @p__linq__2)
        )  AS [Project1]
        ORDER BY [Project1].[Transaction_Date] DESC
    )) THEN cast(1 as bit) ELSE cast(0 as bit) END AS [C1]
    FROM  ( SELECT 1 AS X ) AS [SingleRowTable1]
2018-06-03 13:49:10.4263|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: SELECT TOP (50) 
    [Project1].[C1] AS [C1], 
    [Project1].[Cash_Transaction_ID] AS [Cash_Transaction_ID], 
    [Project1].[Portfolio_Code] AS [Portfolio_Code], 
    [Project1].[Entity_ID] AS [Entity_ID], 
    [Project1].[Transaction_Security_ID] AS [Transaction_Security_ID], 
    [Project1].[Cash_Security_ID] AS [Cash_Security_ID], 
    [Project1].[Transaction_Source_Code] AS [Transaction_Source_Code], 
    [Project1].[Order_ID] AS [Order_ID], 
    [Project1].[Allocation_ID] AS [Allocation_ID], 
    [Project1].[Cashflow_ID] AS [Cashflow_ID], 
    [Project1].[Dividend_Seq_Number] AS [Dividend_Seq_Number], 
    [Project1].[External_ID] AS [External_ID], 
    [Project1].[Transaction_Date] AS [Transaction_Date], 
    [Project1].[Value_Date] AS [Value_Date], 
    [Project1].[Cash_Transaction_Type] AS [Cash_Transaction_Type], 
    [Project1].[Transaction_Amount] AS [Transaction_Amount], 
    [Project1].[Transaction_Currency_Code] AS [Transaction_Currency_Code], 
    [Project1].[BaseCur_Amount] AS [BaseCur_Amount], 
    [Project1].[Create_User_Code] AS [Create_User_Code], 
    [Project1].[Create_Date] AS [Create_Date], 
    [Project1].[Last_Update_User] AS [Last_Update_User], 
    [Project1].[Last_Update_Date] AS [Last_Update_Date], 
    [Project1].[Security_ID] AS [Security_ID], 
    [Project1].[Entity_ID1] AS [Entity_ID1], 
    [Project1].[Security_Name] AS [Security_Name], 
    [Project1].[Short_Name] AS [Short_Name], 
    [Project1].[Primary_Exch] AS [Primary_Exch], 
    [Project1].[Secondary_Exch] AS [Secondary_Exch], 
    [Project1].[Country_Of_Domicile] AS [Country_Of_Domicile], 
    [Project1].[Country_Of_Risk] AS [Country_Of_Risk], 
    [Project1].[Security_Type_Code] AS [Security_Type_Code], 
    [Project1].[Price_Multiplier] AS [Price_Multiplier], 
    [Project1].[Income_Frequency] AS [Income_Frequency], 
    [Project1].[Issuer_Code] AS [Issuer_Code], 
    [Project1].[Ultimate_Issuer_Code] AS [Ultimate_Issuer_Code], 
    [Project1].[Asset_Currency] AS [Asset_Currency], 
    [Project1].[Min_Lot_Size] AS [Min_Lot_Size], 
    [Project1].[Decimal_Precision] AS [Decimal_Precision], 
    [Project1].[AvePrice_Rounding] AS [AvePrice_Rounding], 
    [Project1].[Issue_Date] AS [Issue_Date], 
    [Project1].[Maturity_Date] AS [Maturity_Date], 
    [Project1].[Coupon_Rate] AS [Coupon_Rate], 
    [Project1].[Price_Exchange] AS [Price_Exchange], 
    [Project1].[Trade_Currency] AS [Trade_Currency], 
    [Project1].[Price_Curr] AS [Price_Curr], 
    [Project1].[Currency_Pair_Code] AS [Currency_Pair_Code], 
    [Project1].[Share_Class] AS [Share_Class], 
    [Project1].[Current_Market_Price] AS [Current_Market_Price], 
    [Project1].[Index_Type] AS [Index_Type], 
    [Project1].[Clean_Price_Formula] AS [Clean_Price_Formula], 
    [Project1].[Accrued_Income_Price_Formula] AS [Accrued_Income_Price_Formula], 
    [Project1].[Odd_First_Coupon_Date] AS [Odd_First_Coupon_Date], 
    [Project1].[Odd_Last_Coupon_Date] AS [Odd_Last_Coupon_Date], 
    [Project1].[Coupon_Anniversary_Indicator] AS [Coupon_Anniversary_Indicator], 
    [Project1].[Track_EOM_Flag] AS [Track_EOM_Flag], 
    [Project1].[Next_Coupon_Date] AS [Next_Coupon_Date], 
    [Project1].[Previous_Coupon_Date] AS [Previous_Coupon_Date], 
    [Project1].[Payment_Frequency] AS [Payment_Frequency], 
    [Project1].[Coupon_BusDay_Adjustment] AS [Coupon_BusDay_Adjustment], 
    [Project1].[Next_Ex_Div_Date] AS [Next_Ex_Div_Date], 
    [Project1].[Ex_Div_BusDay_Adjustment] AS [Ex_Div_BusDay_Adjustment], 
    [Project1].[Ex_Div_Period] AS [Ex_Div_Period], 
    [Project1].[Ticker] AS [Ticker], 
    [Project1].[Inet_ID] AS [Inet_ID], 
    [Project1].[Bloomberg_ID] AS [Bloomberg_ID], 
    [Project1].[External_Sec_ID] AS [External_Sec_ID], 
    [Project1].[Reuters_ID] AS [Reuters_ID], 
    [Project1].[ISIN] AS [ISIN], 
    [Project1].[Call_Account_Flag] AS [Call_Account_Flag], 
    [Project1].[System_Locked] AS [System_Locked], 
    [Project1].[Last_Update_User1] AS [Last_Update_User1], 
    [Project1].[Last_Update_Date1] AS [Last_Update_Date1], 
    [Project1].[Security_Status] AS [Security_Status], 
    [Project1].[Benchmark_Portfolio] AS [Benchmark_Portfolio], 
    [Project1].[Active_flag] AS [Active_flag], 
    [Project1].[Dividend_FX_Security_ID] AS [Dividend_FX_Security_ID], 
    [Project1].[Order_ID1] AS [Order_ID1], 
    [Project1].[Entity_ID2] AS [Entity_ID2], 
    [Project1].[Security_ID1] AS [Security_ID1], 
    [Project1].[Trade_Date] AS [Trade_Date], 
    [Project1].[Settlement_Date] AS [Settlement_Date], 
    [Project1].[Transaction_Type] AS [Transaction_Type], 
    [Project1].[Order_Status] AS [Order_Status], 
    [Project1].[Cancel_Reason_Code] AS [Cancel_Reason_Code], 
    [Project1].[Manager] AS [Manager], 
    [Project1].[Trader] AS [Trader], 
    [Project1].[Operations_User] AS [Operations_User], 
    [Project1].[Order_Instruction] AS [Order_Instruction], 
    [Project1].[Order_Duration] AS [Order_Duration], 
    [Project1].[Limit_Price] AS [Limit_Price], 
    [Project1].[Limit_Yield] AS [Limit_Yield], 
    [Project1].[Limit_Discount] AS [Limit_Discount], 
    [Project1].[Order_Creator] AS [Order_Creator], 
    [Project1].[Order_Create_Date] AS [Order_Create_Date], 
    [Project1].[Last_Update_Date2] AS [Last_Update_Date2], 
    [Project1].[Last_Update_User2] AS [Last_Update_User2], 
    [Project1].[Sent_To_Trading_Date] AS [Sent_To_Trading_Date], 
    [Project1].[Sent_To_Accounting_Date] AS [Sent_To_Accounting_Date], 
    [Project1].[Value_Based_Indicator] AS [Value_Based_Indicator], 
    [Project1].[Target_Clean_Price] AS [Target_Clean_Price], 
    [Project1].[Target_Income_Price] AS [Target_Income_Price], 
    [Project1].[Target_AllIn_Price] AS [Target_AllIn_Price], 
    [Project1].[Target_Yield] AS [Target_Yield], 
    [Project1].[Target_Discount] AS [Target_Discount], 
    [Project1].[Target_Quantity] AS [Target_Quantity], 
    [Project1].[Target_Clean_Amount_TradeCur] AS [Target_Clean_Amount_TradeCur], 
    [Project1].[Target_Income_Amount_TradeCur] AS [Target_Income_Amount_TradeCur], 
    [Project1].[Target_AllIn_Amount_TradeCur] AS [Target_AllIn_Amount_TradeCur], 
    [Project1].[Place_Quantity] AS [Place_Quantity], 
    [Project1].[Execution_Quantity] AS [Execution_Quantity], 
    [Project1].[Execution_Clean_Amount_TradeCur] AS [Execution_Clean_Amount_TradeCur], 
    [Project1].[Execution_Income_Amount_TradeCur] AS [Execution_Income_Amount_TradeCur], 
    [Project1].[Execution_AllIn_Amount_TradeCur] AS [Execution_AllIn_Amount_TradeCur], 
    [Project1].[Broker_Code] AS [Broker_Code], 
    [Project1].[Execution_Clean_Price] AS [Execution_Clean_Price], 
    [Project1].[Execution_Income_Price] AS [Execution_Income_Price], 
    [Project1].[Execution_AllIn_Price] AS [Execution_AllIn_Price], 
    [Project1].[Execution_Yield] AS [Execution_Yield], 
    [Project1].[Execution_Discount] AS [Execution_Discount], 
    [Project1].[Execution_Currency] AS [Execution_Currency], 
    [Project1].[Execution_Exchange] AS [Execution_Exchange], 
    [Project1].[Target_FX_Rate] AS [Target_FX_Rate], 
    [Project1].[Limit_FX_Rate] AS [Limit_FX_Rate], 
    [Project1].[Execution_FX_Rate] AS [Execution_FX_Rate], 
    [Project1].[Buy_Currency_Code] AS [Buy_Currency_Code], 
    [Project1].[Buy_Currency_Execution_Amount] AS [Buy_Currency_Execution_Amount], 
    [Project1].[Buy_Currency_Target_Amount] AS [Buy_Currency_Target_Amount], 
    [Project1].[Sell_Currency_Code] AS [Sell_Currency_Code], 
    [Project1].[Sell_Currency_Execution_Amount] AS [Sell_Currency_Execution_Amount], 
    [Project1].[Sell_Currency_Target_Amount] AS [Sell_Currency_Target_Amount], 
    [Project1].[Commission_Amount_TradeCur] AS [Commission_Amount_TradeCur], 
    [Project1].[Trade_Type_Indicator] AS [Trade_Type_Indicator], 
    [Project1].[Commission_Rate] AS [Commission_Rate], 
    [Project1].[Commission_Type] AS [Commission_Type], 
    [Project1].[Fee_Code1] AS [Fee_Code1], 
    [Project1].[Fee_Code2] AS [Fee_Code2], 
    [Project1].[Fee_Code3] AS [Fee_Code3], 
    [Project1].[Fee_Code4] AS [Fee_Code4], 
    [Project1].[Fee_Code5] AS [Fee_Code5], 
    [Project1].[Fee_Code6] AS [Fee_Code6], 
    [Project1].[Fee_Amount1_TradeCur] AS [Fee_Amount1_TradeCur], 
    [Project1].[Fee_Amount2_TradeCur] AS [Fee_Amount2_TradeCur], 
    [Project1].[Fee_Amount3_TradeCur] AS [Fee_Amount3_TradeCur], 
    [Project1].[Fee_Amount4_TradeCur] AS [Fee_Amount4_TradeCur], 
    [Project1].[Fee_Amount5_TradeCur] AS [Fee_Amount5_TradeCur], 
    [Project1].[Fee_Amount6_TradeCur] AS [Fee_Amount6_TradeCur], 
    [Project1].[Tax_Amount_TradeCur] AS [Tax_Amount_TradeCur], 
    [Project1].[Tax_Type] AS [Tax_Type], 
    [Project1].[Tax_Charge_FeeNum] AS [Tax_Charge_FeeNum], 
    [Project1].[Execution_Gross_Amount_TradeCur] AS [Execution_Gross_Amount_TradeCur], 
    [Project1].[Execution_Net_Amount_TradeCur] AS [Execution_Net_Amount_TradeCur], 
    [Project1].[Related_Order_ID] AS [Related_Order_ID], 
    [Project1].[Previous_Order_ID] AS [Previous_Order_ID], 
    [Project1].[Authorised_User1] AS [Authorised_User1], 
    [Project1].[Authorised_User1_DateTime] AS [Authorised_User1_DateTime], 
    [Project1].[Authorised_User2] AS [Authorised_User2], 
    [Project1].[Authorised_User2_DateTime] AS [Authorised_User2_DateTime], 
    [Project1].[Authorised_Number] AS [Authorised_Number], 
    [Project1].[Security_Type_Code1] AS [Security_Type_Code1], 
    [Project1].[Export_Status] AS [Export_Status], 
    [Project1].[Order_Ack_Nack_Status] AS [Order_Ack_Nack_Status], 
    [Project1].[Operations_Status] AS [Operations_Status], 
    [Project1].[Import_Trade_ID] AS [Import_Trade_ID]
    FROM ( SELECT 
        [Extent1].[Cash_Transaction_ID] AS [Cash_Transaction_ID], 
        [Extent1].[Portfolio_Code] AS [Portfolio_Code], 
        [Extent1].[Entity_ID] AS [Entity_ID], 
        [Extent1].[Transaction_Security_ID] AS [Transaction_Security_ID], 
        [Extent1].[Cash_Security_ID] AS [Cash_Security_ID], 
        [Extent1].[Transaction_Source_Code] AS [Transaction_Source_Code], 
        [Extent1].[Order_ID] AS [Order_ID], 
        [Extent1].[Allocation_ID] AS [Allocation_ID], 
        [Extent1].[Cashflow_ID] AS [Cashflow_ID], 
        [Extent1].[Dividend_Seq_Number] AS [Dividend_Seq_Number], 
        [Extent1].[External_ID] AS [External_ID], 
        [Extent1].[Transaction_Date] AS [Transaction_Date], 
        [Extent1].[Value_Date] AS [Value_Date], 
        [Extent1].[Cash_Transaction_Type] AS [Cash_Transaction_Type], 
        [Extent1].[Transaction_Amount] AS [Transaction_Amount], 
        [Extent1].[Transaction_Currency_Code] AS [Transaction_Currency_Code], 
        [Extent1].[BaseCur_Amount] AS [BaseCur_Amount], 
        [Extent1].[Create_User_Code] AS [Create_User_Code], 
        [Extent1].[Create_Date] AS [Create_Date], 
        [Extent1].[Last_Update_User] AS [Last_Update_User], 
        [Extent1].[Last_Update_Date] AS [Last_Update_Date], 
        [Extent2].[Security_ID] AS [Security_ID], 
        [Extent2].[Entity_ID] AS [Entity_ID1], 
        [Extent2].[Security_Name] AS [Security_Name], 
        [Extent2].[Short_Name] AS [Short_Name], 
        [Extent2].[Primary_Exch] AS [Primary_Exch], 
        [Extent2].[Secondary_Exch] AS [Secondary_Exch], 
        [Extent2].[Country_Of_Domicile] AS [Country_Of_Domicile], 
        [Extent2].[Country_Of_Risk] AS [Country_Of_Risk], 
        [Extent2].[Security_Type_Code] AS [Security_Type_Code], 
        [Extent2].[Price_Multiplier] AS [Price_Multiplier], 
        [Extent2].[Income_Frequency] AS [Income_Frequency], 
        [Extent2].[Issuer_Code] AS [Issuer_Code], 
        [Extent2].[Ultimate_Issuer_Code] AS [Ultimate_Issuer_Code], 
        [Extent2].[Asset_Currency] AS [Asset_Currency], 
        [Extent2].[Min_Lot_Size] AS [Min_Lot_Size], 
        [Extent2].[Decimal_Precision] AS [Decimal_Precision], 
        [Extent2].[AvePrice_Rounding] AS [AvePrice_Rounding], 
        [Extent2].[Issue_Date] AS [Issue_Date], 
        [Extent2].[Maturity_Date] AS [Maturity_Date], 
        [Extent2].[Coupon_Rate] AS [Coupon_Rate], 
        [Extent2].[Price_Exchange] AS [Price_Exchange], 
        [Extent2].[Trade_Currency] AS [Trade_Currency], 
        [Extent2].[Price_Curr] AS [Price_Curr], 
        [Extent2].[Currency_Pair_Code] AS [Currency_Pair_Code], 
        [Extent2].[Share_Class] AS [Share_Class], 
        [Extent2].[Current_Market_Price] AS [Current_Market_Price], 
        [Extent2].[Index_Type] AS [Index_Type], 
        [Extent2].[Clean_Price_Formula] AS [Clean_Price_Formula], 
        [Extent2].[Accrued_Income_Price_Formula] AS [Accrued_Income_Price_Formula], 
        [Extent2].[Odd_First_Coupon_Date] AS [Odd_First_Coupon_Date], 
        [Extent2].[Odd_Last_Coupon_Date] AS [Odd_Last_Coupon_Date], 
        [Extent2].[Coupon_Anniversary_Indicator] AS [Coupon_Anniversary_Indicator], 
        [Extent2].[Track_EOM_Flag] AS [Track_EOM_Flag], 
        [Extent2].[Next_Coupon_Date] AS [Next_Coupon_Date], 
        [Extent2].[Previous_Coupon_Date] AS [Previous_Coupon_Date], 
        [Extent2].[Payment_Frequency] AS [Payment_Frequency], 
        [Extent2].[Coupon_BusDay_Adjustment] AS [Coupon_BusDay_Adjustment], 
        [Extent2].[Next_Ex_Div_Date] AS [Next_Ex_Div_Date], 
        [Extent2].[Ex_Div_BusDay_Adjustment] AS [Ex_Div_BusDay_Adjustment], 
        [Extent2].[Ex_Div_Period] AS [Ex_Div_Period], 
        [Extent2].[Ticker] AS [Ticker], 
        [Extent2].[Inet_ID] AS [Inet_ID], 
        [Extent2].[Bloomberg_ID] AS [Bloomberg_ID], 
        [Extent2].[External_Sec_ID] AS [External_Sec_ID], 
        [Extent2].[Reuters_ID] AS [Reuters_ID], 
        [Extent2].[ISIN] AS [ISIN], 
        [Extent2].[Call_Account_Flag] AS [Call_Account_Flag], 
        [Extent2].[System_Locked] AS [System_Locked], 
        [Extent2].[Last_Update_User] AS [Last_Update_User1], 
        [Extent2].[Last_Update_Date] AS [Last_Update_Date1], 
        [Extent2].[Security_Status] AS [Security_Status], 
        [Extent2].[Benchmark_Portfolio] AS [Benchmark_Portfolio], 
        [Extent2].[Active_flag] AS [Active_flag], 
        [Extent2].[Dividend_FX_Security_ID] AS [Dividend_FX_Security_ID], 
        [Extent3].[Order_ID] AS [Order_ID1], 
        [Extent3].[Entity_ID] AS [Entity_ID2], 
        [Extent3].[Security_ID] AS [Security_ID1], 
        [Extent3].[Trade_Date] AS [Trade_Date], 
        [Extent3].[Settlement_Date] AS [Settlement_Date], 
        [Extent3].[Transaction_Type] AS [Transaction_Type], 
        [Extent3].[Order_Status] AS [Order_Status], 
        [Extent3].[Cancel_Reason_Code] AS [Cancel_Reason_Code], 
        [Extent3].[Manager] AS [Manager], 
        [Extent3].[Trader] AS [Trader], 
        [Extent3].[Operations_User] AS [Operations_User], 
        [Extent3].[Order_Instruction] AS [Order_Instruction], 
        [Extent3].[Order_Duration] AS [Order_Duration], 
        [Extent3].[Limit_Price] AS [Limit_Price], 
        [Extent3].[Limit_Yield] AS [Limit_Yield], 
        [Extent3].[Limit_Discount] AS [Limit_Discount], 
        [Extent3].[Order_Creator] AS [Order_Creator], 
        [Extent3].[Order_Create_Date] AS [Order_Create_Date], 
        [Extent3].[Last_Update_Date] AS [Last_Update_Date2], 
        [Extent3].[Last_Update_User] AS [Last_Update_User2], 
        [Extent3].[Sent_To_Trading_Date] AS [Sent_To_Trading_Date], 
        [Extent3].[Sent_To_Accounting_Date] AS [Sent_To_Accounting_Date], 
        [Extent3].[Value_Based_Indicator] AS [Value_Based_Indicator], 
        [Extent3].[Target_Clean_Price] AS [Target_Clean_Price], 
        [Extent3].[Target_Income_Price] AS [Target_Income_Price], 
        [Extent3].[Target_AllIn_Price] AS [Target_AllIn_Price], 
        [Extent3].[Target_Yield] AS [Target_Yield], 
        [Extent3].[Target_Discount] AS [Target_Discount], 
        [Extent3].[Target_Quantity] AS [Target_Quantity], 
        [Extent3].[Target_Clean_Amount_TradeCur] AS [Target_Clean_Amount_TradeCur], 
        [Extent3].[Target_Income_Amount_TradeCur] AS [Target_Income_Amount_TradeCur], 
        [Extent3].[Target_AllIn_Amount_TradeCur] AS [Target_AllIn_Amount_TradeCur], 
        [Extent3].[Place_Quantity] AS [Place_Quantity], 
        [Extent3].[Execution_Quantity] AS [Execution_Quantity], 
        [Extent3].[Execution_Clean_Amount_TradeCur] AS [Execution_Clean_Amount_TradeCur], 
        [Extent3].[Execution_Income_Amount_TradeCur] AS [Execution_Income_Amount_TradeCur], 
        [Extent3].[Execution_AllIn_Amount_TradeCur] AS [Execution_AllIn_Amount_TradeCur], 
        [Extent3].[Broker_Code] AS [Broker_Code], 
        [Extent3].[Execution_Clean_Price] AS [Execution_Clean_Price], 
        [Extent3].[Execution_Income_Price] AS [Execution_Income_Price], 
        [Extent3].[Execution_AllIn_Price] AS [Execution_AllIn_Price], 
        [Extent3].[Execution_Yield] AS [Execution_Yield], 
        [Extent3].[Execution_Discount] AS [Execution_Discount], 
        [Extent3].[Execution_Currency] AS [Execution_Currency], 
        [Extent3].[Execution_Exchange] AS [Execution_Exchange], 
        [Extent3].[Target_FX_Rate] AS [Target_FX_Rate], 
        [Extent3].[Limit_FX_Rate] AS [Limit_FX_Rate], 
        [Extent3].[Execution_FX_Rate] AS [Execution_FX_Rate], 
        [Extent3].[Buy_Currency_Code] AS [Buy_Currency_Code], 
        [Extent3].[Buy_Currency_Execution_Amount] AS [Buy_Currency_Execution_Amount], 
        [Extent3].[Buy_Currency_Target_Amount] AS [Buy_Currency_Target_Amount], 
        [Extent3].[Sell_Currency_Code] AS [Sell_Currency_Code], 
        [Extent3].[Sell_Currency_Execution_Amount] AS [Sell_Currency_Execution_Amount], 
        [Extent3].[Sell_Currency_Target_Amount] AS [Sell_Currency_Target_Amount], 
        [Extent3].[Commission_Amount_TradeCur] AS [Commission_Amount_TradeCur], 
        [Extent3].[Trade_Type_Indicator] AS [Trade_Type_Indicator], 
        [Extent3].[Commission_Rate] AS [Commission_Rate], 
        [Extent3].[Commission_Type] AS [Commission_Type], 
        [Extent3].[Fee_Code1] AS [Fee_Code1], 
        [Extent3].[Fee_Code2] AS [Fee_Code2], 
        [Extent3].[Fee_Code3] AS [Fee_Code3], 
        [Extent3].[Fee_Code4] AS [Fee_Code4], 
        [Extent3].[Fee_Code5] AS [Fee_Code5], 
        [Extent3].[Fee_Code6] AS [Fee_Code6], 
        [Extent3].[Fee_Amount1_TradeCur] AS [Fee_Amount1_TradeCur], 
        [Extent3].[Fee_Amount2_TradeCur] AS [Fee_Amount2_TradeCur], 
        [Extent3].[Fee_Amount3_TradeCur] AS [Fee_Amount3_TradeCur], 
        [Extent3].[Fee_Amount4_TradeCur] AS [Fee_Amount4_TradeCur], 
        [Extent3].[Fee_Amount5_TradeCur] AS [Fee_Amount5_TradeCur], 
        [Extent3].[Fee_Amount6_TradeCur] AS [Fee_Amount6_TradeCur], 
        [Extent3].[Tax_Amount_TradeCur] AS [Tax_Amount_TradeCur], 
        [Extent3].[Tax_Type] AS [Tax_Type], 
        [Extent3].[Tax_Charge_FeeNum] AS [Tax_Charge_FeeNum], 
        [Extent3].[Execution_Gross_Amount_TradeCur] AS [Execution_Gross_Amount_TradeCur], 
        [Extent3].[Execution_Net_Amount_TradeCur] AS [Execution_Net_Amount_TradeCur], 
        [Extent3].[Related_Order_ID] AS [Related_Order_ID], 
        [Extent3].[Previous_Order_ID] AS [Previous_Order_ID], 
        [Extent3].[Authorised_User1] AS [Authorised_User1], 
        [Extent3].[Authorised_User1_DateTime] AS [Authorised_User1_DateTime], 
        [Extent3].[Authorised_User2] AS [Authorised_User2], 
        [Extent3].[Authorised_User2_DateTime] AS [Authorised_User2_DateTime], 
        [Extent3].[Authorised_Number] AS [Authorised_Number], 
        [Extent3].[Security_Type_Code] AS [Security_Type_Code1], 
        [Extent3].[Export_Status] AS [Export_Status], 
        [Extent3].[Order_Ack_Nack_Status] AS [Order_Ack_Nack_Status], 
        [Extent3].[Operations_Status] AS [Operations_Status], 
        [Extent3].[Import_Trade_ID] AS [Import_Trade_ID], 
        1 AS [C1]
        FROM   [dbo].[Cash_Transactions] AS [Extent1]
        LEFT OUTER JOIN [dbo].[Security_Detail] AS [Extent2] ON [Extent1].[Transaction_Security_ID] = [Extent2].[Security_ID]
        LEFT OUTER JOIN [dbo].[Order_Detail] AS [Extent3] ON [Extent1].[Order_ID] = [Extent3].[Order_ID]
        WHERE ([Extent1].[Entity_ID] = @p__linq__0) AND ([Extent1].[Portfolio_Code] = @p__linq__1) AND ([Extent1].[Transaction_Date] <= @p__linq__2)
    )  AS [Project1]
    ORDER BY [Project1].[Transaction_Date] DESC
2018-06-03 13:49:10.6320|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: SELECT TOP (50) 
    [Project1].[C1] AS [C1], 
    [Project1].[Cash_Transaction_ID] AS [Cash_Transaction_ID], 
    [Project1].[Portfolio_Code] AS [Portfolio_Code], 
    [Project1].[Entity_ID] AS [Entity_ID], 
    [Project1].[Transaction_Security_ID] AS [Transaction_Security_ID], 
    [Project1].[Cash_Security_ID] AS [Cash_Security_ID], 
    [Project1].[Transaction_Source_Code] AS [Transaction_Source_Code], 
    [Project1].[Order_ID] AS [Order_ID], 
    [Project1].[Allocation_ID] AS [Allocation_ID], 
    [Project1].[Cashflow_ID] AS [Cashflow_ID], 
    [Project1].[Dividend_Seq_Number] AS [Dividend_Seq_Number], 
    [Project1].[External_ID] AS [External_ID], 
    [Project1].[Transaction_Date] AS [Transaction_Date], 
    [Project1].[Value_Date] AS [Value_Date], 
    [Project1].[Cash_Transaction_Type] AS [Cash_Transaction_Type], 
    [Project1].[Transaction_Amount] AS [Transaction_Amount], 
    [Project1].[Transaction_Currency_Code] AS [Transaction_Currency_Code], 
    [Project1].[BaseCur_Amount] AS [BaseCur_Amount], 
    [Project1].[Create_User_Code] AS [Create_User_Code], 
    [Project1].[Create_Date] AS [Create_Date], 
    [Project1].[Last_Update_User] AS [Last_Update_User], 
    [Project1].[Last_Update_Date] AS [Last_Update_Date], 
    [Project1].[Security_ID] AS [Security_ID], 
    [Project1].[Entity_ID1] AS [Entity_ID1], 
    [Project1].[Security_Name] AS [Security_Name], 
    [Project1].[Short_Name] AS [Short_Name], 
    [Project1].[Primary_Exch] AS [Primary_Exch], 
    [Project1].[Secondary_Exch] AS [Secondary_Exch], 
    [Project1].[Country_Of_Domicile] AS [Country_Of_Domicile], 
    [Project1].[Country_Of_Risk] AS [Country_Of_Risk], 
    [Project1].[Security_Type_Code] AS [Security_Type_Code], 
    [Project1].[Price_Multiplier] AS [Price_Multiplier], 
    [Project1].[Income_Frequency] AS [Income_Frequency], 
    [Project1].[Issuer_Code] AS [Issuer_Code], 
    [Project1].[Ultimate_Issuer_Code] AS [Ultimate_Issuer_Code], 
    [Project1].[Asset_Currency] AS [Asset_Currency], 
    [Project1].[Min_Lot_Size] AS [Min_Lot_Size], 
    [Project1].[Decimal_Precision] AS [Decimal_Precision], 
    [Project1].[AvePrice_Rounding] AS [AvePrice_Rounding], 
    [Project1].[Issue_Date] AS [Issue_Date], 
    [Project1].[Maturity_Date] AS [Maturity_Date], 
    [Project1].[Coupon_Rate] AS [Coupon_Rate], 
    [Project1].[Price_Exchange] AS [Price_Exchange], 
    [Project1].[Trade_Currency] AS [Trade_Currency], 
    [Project1].[Price_Curr] AS [Price_Curr], 
    [Project1].[Currency_Pair_Code] AS [Currency_Pair_Code], 
    [Project1].[Share_Class] AS [Share_Class], 
    [Project1].[Current_Market_Price] AS [Current_Market_Price], 
    [Project1].[Index_Type] AS [Index_Type], 
    [Project1].[Clean_Price_Formula] AS [Clean_Price_Formula], 
    [Project1].[Accrued_Income_Price_Formula] AS [Accrued_Income_Price_Formula], 
    [Project1].[Odd_First_Coupon_Date] AS [Odd_First_Coupon_Date], 
    [Project1].[Odd_Last_Coupon_Date] AS [Odd_Last_Coupon_Date], 
    [Project1].[Coupon_Anniversary_Indicator] AS [Coupon_Anniversary_Indicator], 
    [Project1].[Track_EOM_Flag] AS [Track_EOM_Flag], 
    [Project1].[Next_Coupon_Date] AS [Next_Coupon_Date], 
    [Project1].[Previous_Coupon_Date] AS [Previous_Coupon_Date], 
    [Project1].[Payment_Frequency] AS [Payment_Frequency], 
    [Project1].[Coupon_BusDay_Adjustment] AS [Coupon_BusDay_Adjustment], 
    [Project1].[Next_Ex_Div_Date] AS [Next_Ex_Div_Date], 
    [Project1].[Ex_Div_BusDay_Adjustment] AS [Ex_Div_BusDay_Adjustment], 
    [Project1].[Ex_Div_Period] AS [Ex_Div_Period], 
    [Project1].[Ticker] AS [Ticker], 
    [Project1].[Inet_ID] AS [Inet_ID], 
    [Project1].[Bloomberg_ID] AS [Bloomberg_ID], 
    [Project1].[External_Sec_ID] AS [External_Sec_ID], 
    [Project1].[Reuters_ID] AS [Reuters_ID], 
    [Project1].[ISIN] AS [ISIN], 
    [Project1].[Call_Account_Flag] AS [Call_Account_Flag], 
    [Project1].[System_Locked] AS [System_Locked], 
    [Project1].[Last_Update_User1] AS [Last_Update_User1], 
    [Project1].[Last_Update_Date1] AS [Last_Update_Date1], 
    [Project1].[Security_Status] AS [Security_Status], 
    [Project1].[Benchmark_Portfolio] AS [Benchmark_Portfolio], 
    [Project1].[Active_flag] AS [Active_flag], 
    [Project1].[Dividend_FX_Security_ID] AS [Dividend_FX_Security_ID], 
    [Project1].[Order_ID1] AS [Order_ID1], 
    [Project1].[Entity_ID2] AS [Entity_ID2], 
    [Project1].[Security_ID1] AS [Security_ID1], 
    [Project1].[Trade_Date] AS [Trade_Date], 
    [Project1].[Settlement_Date] AS [Settlement_Date], 
    [Project1].[Transaction_Type] AS [Transaction_Type], 
    [Project1].[Order_Status] AS [Order_Status], 
    [Project1].[Cancel_Reason_Code] AS [Cancel_Reason_Code], 
    [Project1].[Manager] AS [Manager], 
    [Project1].[Trader] AS [Trader], 
    [Project1].[Operations_User] AS [Operations_User], 
    [Project1].[Order_Instruction] AS [Order_Instruction], 
    [Project1].[Order_Duration] AS [Order_Duration], 
    [Project1].[Limit_Price] AS [Limit_Price], 
    [Project1].[Limit_Yield] AS [Limit_Yield], 
    [Project1].[Limit_Discount] AS [Limit_Discount], 
    [Project1].[Order_Creator] AS [Order_Creator], 
    [Project1].[Order_Create_Date] AS [Order_Create_Date], 
    [Project1].[Last_Update_Date2] AS [Last_Update_Date2], 
    [Project1].[Last_Update_User2] AS [Last_Update_User2], 
    [Project1].[Sent_To_Trading_Date] AS [Sent_To_Trading_Date], 
    [Project1].[Sent_To_Accounting_Date] AS [Sent_To_Accounting_Date], 
    [Project1].[Value_Based_Indicator] AS [Value_Based_Indicator], 
    [Project1].[Target_Clean_Price] AS [Target_Clean_Price], 
    [Project1].[Target_Income_Price] AS [Target_Income_Price], 
    [Project1].[Target_AllIn_Price] AS [Target_AllIn_Price], 
    [Project1].[Target_Yield] AS [Target_Yield], 
    [Project1].[Target_Discount] AS [Target_Discount], 
    [Project1].[Target_Quantity] AS [Target_Quantity], 
    [Project1].[Target_Clean_Amount_TradeCur] AS [Target_Clean_Amount_TradeCur], 
    [Project1].[Target_Income_Amount_TradeCur] AS [Target_Income_Amount_TradeCur], 
    [Project1].[Target_AllIn_Amount_TradeCur] AS [Target_AllIn_Amount_TradeCur], 
    [Project1].[Place_Quantity] AS [Place_Quantity], 
    [Project1].[Execution_Quantity] AS [Execution_Quantity], 
    [Project1].[Execution_Clean_Amount_TradeCur] AS [Execution_Clean_Amount_TradeCur], 
    [Project1].[Execution_Income_Amount_TradeCur] AS [Execution_Income_Amount_TradeCur], 
    [Project1].[Execution_AllIn_Amount_TradeCur] AS [Execution_AllIn_Amount_TradeCur], 
    [Project1].[Broker_Code] AS [Broker_Code], 
    [Project1].[Execution_Clean_Price] AS [Execution_Clean_Price], 
    [Project1].[Execution_Income_Price] AS [Execution_Income_Price], 
    [Project1].[Execution_AllIn_Price] AS [Execution_AllIn_Price], 
    [Project1].[Execution_Yield] AS [Execution_Yield], 
    [Project1].[Execution_Discount] AS [Execution_Discount], 
    [Project1].[Execution_Currency] AS [Execution_Currency], 
    [Project1].[Execution_Exchange] AS [Execution_Exchange], 
    [Project1].[Target_FX_Rate] AS [Target_FX_Rate], 
    [Project1].[Limit_FX_Rate] AS [Limit_FX_Rate], 
    [Project1].[Execution_FX_Rate] AS [Execution_FX_Rate], 
    [Project1].[Buy_Currency_Code] AS [Buy_Currency_Code], 
    [Project1].[Buy_Currency_Execution_Amount] AS [Buy_Currency_Execution_Amount], 
    [Project1].[Buy_Currency_Target_Amount] AS [Buy_Currency_Target_Amount], 
    [Project1].[Sell_Currency_Code] AS [Sell_Currency_Code], 
    [Project1].[Sell_Currency_Execution_Amount] AS [Sell_Currency_Execution_Amount], 
    [Project1].[Sell_Currency_Target_Amount] AS [Sell_Currency_Target_Amount], 
    [Project1].[Commission_Amount_TradeCur] AS [Commission_Amount_TradeCur], 
    [Project1].[Trade_Type_Indicator] AS [Trade_Type_Indicator], 
    [Project1].[Commission_Rate] AS [Commission_Rate], 
    [Project1].[Commission_Type] AS [Commission_Type], 
    [Project1].[Fee_Code1] AS [Fee_Code1], 
    [Project1].[Fee_Code2] AS [Fee_Code2], 
    [Project1].[Fee_Code3] AS [Fee_Code3], 
    [Project1].[Fee_Code4] AS [Fee_Code4], 
    [Project1].[Fee_Code5] AS [Fee_Code5], 
    [Project1].[Fee_Code6] AS [Fee_Code6], 
    [Project1].[Fee_Amount1_TradeCur] AS [Fee_Amount1_TradeCur], 
    [Project1].[Fee_Amount2_TradeCur] AS [Fee_Amount2_TradeCur], 
    [Project1].[Fee_Amount3_TradeCur] AS [Fee_Amount3_TradeCur], 
    [Project1].[Fee_Amount4_TradeCur] AS [Fee_Amount4_TradeCur], 
    [Project1].[Fee_Amount5_TradeCur] AS [Fee_Amount5_TradeCur], 
    [Project1].[Fee_Amount6_TradeCur] AS [Fee_Amount6_TradeCur], 
    [Project1].[Tax_Amount_TradeCur] AS [Tax_Amount_TradeCur], 
    [Project1].[Tax_Type] AS [Tax_Type], 
    [Project1].[Tax_Charge_FeeNum] AS [Tax_Charge_FeeNum], 
    [Project1].[Execution_Gross_Amount_TradeCur] AS [Execution_Gross_Amount_TradeCur], 
    [Project1].[Execution_Net_Amount_TradeCur] AS [Execution_Net_Amount_TradeCur], 
    [Project1].[Related_Order_ID] AS [Related_Order_ID], 
    [Project1].[Previous_Order_ID] AS [Previous_Order_ID], 
    [Project1].[Authorised_User1] AS [Authorised_User1], 
    [Project1].[Authorised_User1_DateTime] AS [Authorised_User1_DateTime], 
    [Project1].[Authorised_User2] AS [Authorised_User2], 
    [Project1].[Authorised_User2_DateTime] AS [Authorised_User2_DateTime], 
    [Project1].[Authorised_Number] AS [Authorised_Number], 
    [Project1].[Security_Type_Code1] AS [Security_Type_Code1], 
    [Project1].[Export_Status] AS [Export_Status], 
    [Project1].[Order_Ack_Nack_Status] AS [Order_Ack_Nack_Status], 
    [Project1].[Operations_Status] AS [Operations_Status], 
    [Project1].[Import_Trade_ID] AS [Import_Trade_ID]
    FROM ( SELECT 
        [Extent1].[Cash_Transaction_ID] AS [Cash_Transaction_ID], 
        [Extent1].[Portfolio_Code] AS [Portfolio_Code], 
        [Extent1].[Entity_ID] AS [Entity_ID], 
        [Extent1].[Transaction_Security_ID] AS [Transaction_Security_ID], 
        [Extent1].[Cash_Security_ID] AS [Cash_Security_ID], 
        [Extent1].[Transaction_Source_Code] AS [Transaction_Source_Code], 
        [Extent1].[Order_ID] AS [Order_ID], 
        [Extent1].[Allocation_ID] AS [Allocation_ID], 
        [Extent1].[Cashflow_ID] AS [Cashflow_ID], 
        [Extent1].[Dividend_Seq_Number] AS [Dividend_Seq_Number], 
        [Extent1].[External_ID] AS [External_ID], 
        [Extent1].[Transaction_Date] AS [Transaction_Date], 
        [Extent1].[Value_Date] AS [Value_Date], 
        [Extent1].[Cash_Transaction_Type] AS [Cash_Transaction_Type], 
        [Extent1].[Transaction_Amount] AS [Transaction_Amount], 
        [Extent1].[Transaction_Currency_Code] AS [Transaction_Currency_Code], 
        [Extent1].[BaseCur_Amount] AS [BaseCur_Amount], 
        [Extent1].[Create_User_Code] AS [Create_User_Code], 
        [Extent1].[Create_Date] AS [Create_Date], 
        [Extent1].[Last_Update_User] AS [Last_Update_User], 
        [Extent1].[Last_Update_Date] AS [Last_Update_Date], 
        [Extent2].[Security_ID] AS [Security_ID], 
        [Extent2].[Entity_ID] AS [Entity_ID1], 
        [Extent2].[Security_Name] AS [Security_Name], 
        [Extent2].[Short_Name] AS [Short_Name], 
        [Extent2].[Primary_Exch] AS [Primary_Exch], 
        [Extent2].[Secondary_Exch] AS [Secondary_Exch], 
        [Extent2].[Country_Of_Domicile] AS [Country_Of_Domicile], 
        [Extent2].[Country_Of_Risk] AS [Country_Of_Risk], 
        [Extent2].[Security_Type_Code] AS [Security_Type_Code], 
        [Extent2].[Price_Multiplier] AS [Price_Multiplier], 
        [Extent2].[Income_Frequency] AS [Income_Frequency], 
        [Extent2].[Issuer_Code] AS [Issuer_Code], 
        [Extent2].[Ultimate_Issuer_Code] AS [Ultimate_Issuer_Code], 
        [Extent2].[Asset_Currency] AS [Asset_Currency], 
        [Extent2].[Min_Lot_Size] AS [Min_Lot_Size], 
        [Extent2].[Decimal_Precision] AS [Decimal_Precision], 
        [Extent2].[AvePrice_Rounding] AS [AvePrice_Rounding], 
        [Extent2].[Issue_Date] AS [Issue_Date], 
        [Extent2].[Maturity_Date] AS [Maturity_Date], 
        [Extent2].[Coupon_Rate] AS [Coupon_Rate], 
        [Extent2].[Price_Exchange] AS [Price_Exchange], 
        [Extent2].[Trade_Currency] AS [Trade_Currency], 
        [Extent2].[Price_Curr] AS [Price_Curr], 
        [Extent2].[Currency_Pair_Code] AS [Currency_Pair_Code], 
        [Extent2].[Share_Class] AS [Share_Class], 
        [Extent2].[Current_Market_Price] AS [Current_Market_Price], 
        [Extent2].[Index_Type] AS [Index_Type], 
        [Extent2].[Clean_Price_Formula] AS [Clean_Price_Formula], 
        [Extent2].[Accrued_Income_Price_Formula] AS [Accrued_Income_Price_Formula], 
        [Extent2].[Odd_First_Coupon_Date] AS [Odd_First_Coupon_Date], 
        [Extent2].[Odd_Last_Coupon_Date] AS [Odd_Last_Coupon_Date], 
        [Extent2].[Coupon_Anniversary_Indicator] AS [Coupon_Anniversary_Indicator], 
        [Extent2].[Track_EOM_Flag] AS [Track_EOM_Flag], 
        [Extent2].[Next_Coupon_Date] AS [Next_Coupon_Date], 
        [Extent2].[Previous_Coupon_Date] AS [Previous_Coupon_Date], 
        [Extent2].[Payment_Frequency] AS [Payment_Frequency], 
        [Extent2].[Coupon_BusDay_Adjustment] AS [Coupon_BusDay_Adjustment], 
        [Extent2].[Next_Ex_Div_Date] AS [Next_Ex_Div_Date], 
        [Extent2].[Ex_Div_BusDay_Adjustment] AS [Ex_Div_BusDay_Adjustment], 
        [Extent2].[Ex_Div_Period] AS [Ex_Div_Period], 
        [Extent2].[Ticker] AS [Ticker], 
        [Extent2].[Inet_ID] AS [Inet_ID], 
        [Extent2].[Bloomberg_ID] AS [Bloomberg_ID], 
        [Extent2].[External_Sec_ID] AS [External_Sec_ID], 
        [Extent2].[Reuters_ID] AS [Reuters_ID], 
        [Extent2].[ISIN] AS [ISIN], 
        [Extent2].[Call_Account_Flag] AS [Call_Account_Flag], 
        [Extent2].[System_Locked] AS [System_Locked], 
        [Extent2].[Last_Update_User] AS [Last_Update_User1], 
        [Extent2].[Last_Update_Date] AS [Last_Update_Date1], 
        [Extent2].[Security_Status] AS [Security_Status], 
        [Extent2].[Benchmark_Portfolio] AS [Benchmark_Portfolio], 
        [Extent2].[Active_flag] AS [Active_flag], 
        [Extent2].[Dividend_FX_Security_ID] AS [Dividend_FX_Security_ID], 
        [Extent3].[Order_ID] AS [Order_ID1], 
        [Extent3].[Entity_ID] AS [Entity_ID2], 
        [Extent3].[Security_ID] AS [Security_ID1], 
        [Extent3].[Trade_Date] AS [Trade_Date], 
        [Extent3].[Settlement_Date] AS [Settlement_Date], 
        [Extent3].[Transaction_Type] AS [Transaction_Type], 
        [Extent3].[Order_Status] AS [Order_Status], 
        [Extent3].[Cancel_Reason_Code] AS [Cancel_Reason_Code], 
        [Extent3].[Manager] AS [Manager], 
        [Extent3].[Trader] AS [Trader], 
        [Extent3].[Operations_User] AS [Operations_User], 
        [Extent3].[Order_Instruction] AS [Order_Instruction], 
        [Extent3].[Order_Duration] AS [Order_Duration], 
        [Extent3].[Limit_Price] AS [Limit_Price], 
        [Extent3].[Limit_Yield] AS [Limit_Yield], 
        [Extent3].[Limit_Discount] AS [Limit_Discount], 
        [Extent3].[Order_Creator] AS [Order_Creator], 
        [Extent3].[Order_Create_Date] AS [Order_Create_Date], 
        [Extent3].[Last_Update_Date] AS [Last_Update_Date2], 
        [Extent3].[Last_Update_User] AS [Last_Update_User2], 
        [Extent3].[Sent_To_Trading_Date] AS [Sent_To_Trading_Date], 
        [Extent3].[Sent_To_Accounting_Date] AS [Sent_To_Accounting_Date], 
        [Extent3].[Value_Based_Indicator] AS [Value_Based_Indicator], 
        [Extent3].[Target_Clean_Price] AS [Target_Clean_Price], 
        [Extent3].[Target_Income_Price] AS [Target_Income_Price], 
        [Extent3].[Target_AllIn_Price] AS [Target_AllIn_Price], 
        [Extent3].[Target_Yield] AS [Target_Yield], 
        [Extent3].[Target_Discount] AS [Target_Discount], 
        [Extent3].[Target_Quantity] AS [Target_Quantity], 
        [Extent3].[Target_Clean_Amount_TradeCur] AS [Target_Clean_Amount_TradeCur], 
        [Extent3].[Target_Income_Amount_TradeCur] AS [Target_Income_Amount_TradeCur], 
        [Extent3].[Target_AllIn_Amount_TradeCur] AS [Target_AllIn_Amount_TradeCur], 
        [Extent3].[Place_Quantity] AS [Place_Quantity], 
        [Extent3].[Execution_Quantity] AS [Execution_Quantity], 
        [Extent3].[Execution_Clean_Amount_TradeCur] AS [Execution_Clean_Amount_TradeCur], 
        [Extent3].[Execution_Income_Amount_TradeCur] AS [Execution_Income_Amount_TradeCur], 
        [Extent3].[Execution_AllIn_Amount_TradeCur] AS [Execution_AllIn_Amount_TradeCur], 
        [Extent3].[Broker_Code] AS [Broker_Code], 
        [Extent3].[Execution_Clean_Price] AS [Execution_Clean_Price], 
        [Extent3].[Execution_Income_Price] AS [Execution_Income_Price], 
        [Extent3].[Execution_AllIn_Price] AS [Execution_AllIn_Price], 
        [Extent3].[Execution_Yield] AS [Execution_Yield], 
        [Extent3].[Execution_Discount] AS [Execution_Discount], 
        [Extent3].[Execution_Currency] AS [Execution_Currency], 
        [Extent3].[Execution_Exchange] AS [Execution_Exchange], 
        [Extent3].[Target_FX_Rate] AS [Target_FX_Rate], 
        [Extent3].[Limit_FX_Rate] AS [Limit_FX_Rate], 
        [Extent3].[Execution_FX_Rate] AS [Execution_FX_Rate], 
        [Extent3].[Buy_Currency_Code] AS [Buy_Currency_Code], 
        [Extent3].[Buy_Currency_Execution_Amount] AS [Buy_Currency_Execution_Amount], 
        [Extent3].[Buy_Currency_Target_Amount] AS [Buy_Currency_Target_Amount], 
        [Extent3].[Sell_Currency_Code] AS [Sell_Currency_Code], 
        [Extent3].[Sell_Currency_Execution_Amount] AS [Sell_Currency_Execution_Amount], 
        [Extent3].[Sell_Currency_Target_Amount] AS [Sell_Currency_Target_Amount], 
        [Extent3].[Commission_Amount_TradeCur] AS [Commission_Amount_TradeCur], 
        [Extent3].[Trade_Type_Indicator] AS [Trade_Type_Indicator], 
        [Extent3].[Commission_Rate] AS [Commission_Rate], 
        [Extent3].[Commission_Type] AS [Commission_Type], 
        [Extent3].[Fee_Code1] AS [Fee_Code1], 
        [Extent3].[Fee_Code2] AS [Fee_Code2], 
        [Extent3].[Fee_Code3] AS [Fee_Code3], 
        [Extent3].[Fee_Code4] AS [Fee_Code4], 
        [Extent3].[Fee_Code5] AS [Fee_Code5], 
        [Extent3].[Fee_Code6] AS [Fee_Code6], 
        [Extent3].[Fee_Amount1_TradeCur] AS [Fee_Amount1_TradeCur], 
        [Extent3].[Fee_Amount2_TradeCur] AS [Fee_Amount2_TradeCur], 
        [Extent3].[Fee_Amount3_TradeCur] AS [Fee_Amount3_TradeCur], 
        [Extent3].[Fee_Amount4_TradeCur] AS [Fee_Amount4_TradeCur], 
        [Extent3].[Fee_Amount5_TradeCur] AS [Fee_Amount5_TradeCur], 
        [Extent3].[Fee_Amount6_TradeCur] AS [Fee_Amount6_TradeCur], 
        [Extent3].[Tax_Amount_TradeCur] AS [Tax_Amount_TradeCur], 
        [Extent3].[Tax_Type] AS [Tax_Type], 
        [Extent3].[Tax_Charge_FeeNum] AS [Tax_Charge_FeeNum], 
        [Extent3].[Execution_Gross_Amount_TradeCur] AS [Execution_Gross_Amount_TradeCur], 
        [Extent3].[Execution_Net_Amount_TradeCur] AS [Execution_Net_Amount_TradeCur], 
        [Extent3].[Related_Order_ID] AS [Related_Order_ID], 
        [Extent3].[Previous_Order_ID] AS [Previous_Order_ID], 
        [Extent3].[Authorised_User1] AS [Authorised_User1], 
        [Extent3].[Authorised_User1_DateTime] AS [Authorised_User1_DateTime], 
        [Extent3].[Authorised_User2] AS [Authorised_User2], 
        [Extent3].[Authorised_User2_DateTime] AS [Authorised_User2_DateTime], 
        [Extent3].[Authorised_Number] AS [Authorised_Number], 
        [Extent3].[Security_Type_Code] AS [Security_Type_Code1], 
        [Extent3].[Export_Status] AS [Export_Status], 
        [Extent3].[Order_Ack_Nack_Status] AS [Order_Ack_Nack_Status], 
        [Extent3].[Operations_Status] AS [Operations_Status], 
        [Extent3].[Import_Trade_ID] AS [Import_Trade_ID], 
        1 AS [C1]
        FROM   [dbo].[Cash_Transactions] AS [Extent1]
        LEFT OUTER JOIN [dbo].[Security_Detail] AS [Extent2] ON [Extent1].[Transaction_Security_ID] = [Extent2].[Security_ID]
        LEFT OUTER JOIN [dbo].[Order_Detail] AS [Extent3] ON [Extent1].[Order_ID] = [Extent3].[Order_ID]
        WHERE ([Extent1].[Entity_ID] = @p__linq__0) AND ([Extent1].[Portfolio_Code] = @p__linq__1) AND ([Extent1].[Transaction_Date] <= @p__linq__2)
    )  AS [Project1]
    ORDER BY [Project1].[Transaction_Date] DESC
2018-06-03 13:49:16.8683|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: IF db_id(N'MetopeAzureDb') IS NOT NULL SELECT 1 ELSE SELECT Count(*) FROM sys.databases WHERE [name]=N'MetopeAzureDb'
2018-06-03 13:49:17.1900|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: IF db_id(N'MetopeAzureDb') IS NOT NULL SELECT 1 ELSE SELECT Count(*) FROM sys.databases WHERE [name]=N'MetopeAzureDb'
2018-06-03 13:49:17.4836|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: IF db_id(N'MetopeAzureDb') IS NOT NULL SELECT 1 ELSE SELECT Count(*) FROM sys.databases WHERE [name]=N'MetopeAzureDb'
2018-06-03 13:49:17.5686|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: IF db_id(N'MetopeAzureDb') IS NOT NULL SELECT 1 ELSE SELECT Count(*) FROM sys.databases WHERE [name]=N'MetopeAzureDb'
2018-06-03 13:51:05.8652|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: IF db_id(N'MetopeAzureDb') IS NOT NULL SELECT 1 ELSE SELECT Count(*) FROM sys.databases WHERE [name]=N'MetopeAzureDb'
2018-06-03 13:51:06.1389|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: IF db_id(N'MetopeAzureDb') IS NOT NULL SELECT 1 ELSE SELECT Count(*) FROM sys.databases WHERE [name]=N'MetopeAzureDb'
2018-06-03 13:51:06.3925|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: SELECT 
    [Project1].[Party_Code] AS [Party_Code], 
    [Project1].[Entity_ID] AS [Entity_ID], 
    [Project1].[Actual_Forecast_Indicator] AS [Actual_Forecast_Indicator], 
    [Project1].[Security_ID] AS [Security_ID], 
    [Project1].[Financials_Date] AS [Financials_Date], 
    [Project1].[Full_Adjusted_Share_NAV] AS [Full_Adjusted_Share_NAV], 
    [Project1].[Enterprise_Value] AS [Enterprise_Value], 
    [Project1].[Dividend_Yield] AS [Dividend_Yield], 
    [Project1].[Net_Present_Value] AS [Net_Present_Value], 
    [Project1].[Net_Property_Income] AS [Net_Property_Income], 
    [Project1].[Vacancies_Overall] AS [Vacancies_Overall], 
    [Project1].[Portfolio_Leases_Expiring] AS [Portfolio_Leases_Expiring], 
    [Project1].[Assumed_Ave_Escalation_Rate] AS [Assumed_Ave_Escalation_Rate], 
    [Project1].[Cap_Rate_Movemt_Assump] AS [Cap_Rate_Movemt_Assump], 
    [Project1].[Reversion_Exp_Rent_Reviews] AS [Reversion_Exp_Rent_Reviews], 
    [Project1].[Ungeared_Yield] AS [Ungeared_Yield], 
    [Project1].[Net_Operating_Profit] AS [Net_Operating_Profit], 
    [Project1].[Revenue_Growth] AS [Revenue_Growth], 
    [Project1].[Net_Property_Income_Growth] AS [Net_Property_Income_Growth], 
    [Project1].[Net_Operating_Profit_Growth] AS [Net_Operating_Profit_Growth], 
    [Project1].[Interest_Paid_Growth] AS [Interest_Paid_Growth], 
    [Project1].[Loan_To_Value] AS [Loan_To_Value], 
    [Project1].[Interest_Cover_Ratio] AS [Interest_Cover_Ratio], 
    [Project1].[Revenue] AS [Revenue], 
    [Project1].[Interest_Paid] AS [Interest_Paid], 
    [Project1].[Property_Expenses] AS [Property_Expenses], 
    [Project1].[Property_Expenses_Growth] AS [Property_Expenses_Growth], 
    [Project1].[Investment_Income] AS [Investment_Income], 
    [Project1].[Admin_Expenses] AS [Admin_Expenses], 
    [Project1].[Admin_Expenses_Growth] AS [Admin_Expenses_Growth], 
    [Project1].[Taxation] AS [Taxation], 
    [Project1].[Other_Income] AS [Other_Income], 
    [Project1].[Distributable_Earnings] AS [Distributable_Earnings], 
    [Project1].[Distributions_Growth] AS [Distributions_Growth], 
    [Project1].[Linked_Units_Issued] AS [Linked_Units_Issued], 
    [Project1].[Borrowings] AS [Borrowings], 
    [Project1].[Units_Issued] AS [Units_Issued], 
    [Project1].[Purchases_And_Developments] AS [Purchases_And_Developments], 
    [Project1].[Sales] AS [Sales], 
    [Project1].[Total_Assets] AS [Total_Assets], 
    [Project1].[Current_Liabilities] AS [Current_Liabilities], 
    [Project1].[Interest_Bearing_Borrowings] AS [Interest_Bearing_Borrowings], 
    [Project1].[Last_Update_Date] AS [Last_Update_Date], 
    [Project1].[Last_Update_User] AS [Last_Update_User], 
    [Project1].[Forecast_Distributions_Growth] AS [Forecast_Distributions_Growth], 
    [Project1].[Property_Portfolio_Value] AS [Property_Portfolio_Value], 
    [Project1].[OffshoreExposure_WesternEurope] AS [OffshoreExposure_WesternEurope], 
    [Project1].[OffshoreExposure_CEE] AS [OffshoreExposure_CEE], 
    [Project1].[OffshoreExposure_US] AS [OffshoreExposure_US], 
    [Project1].[OffshoreExposure_UK] AS [OffshoreExposure_UK], 
    [Project1].[OffshoreExposure_Australia] AS [OffshoreExposure_Australia], 
    [Project1].[OffshoreExposure_Africa] AS [OffshoreExposure_Africa], 
    [Project1].[OffshoreExposure_Other] AS [OffshoreExposure_Other], 
    [Project1].[Sector_Retail] AS [Sector_Retail], 
    [Project1].[Sector_Office] AS [Sector_Office], 
    [Project1].[Sector_Industrial] AS [Sector_Industrial], 
    [Project1].[Sector_Residential] AS [Sector_Residential], 
    [Project1].[Sector_Other] AS [Sector_Other], 
    [Project1].[Sector_Offshore] AS [Sector_Offshore]
    FROM ( SELECT 
        [Extent1].[Party_Code] AS [Party_Code], 
        [Extent1].[Entity_ID] AS [Entity_ID], 
        [Extent1].[Actual_Forecast_Indicator] AS [Actual_Forecast_Indicator], 
        [Extent1].[Security_ID] AS [Security_ID], 
        [Extent1].[Financials_Date] AS [Financials_Date], 
        [Extent1].[Full_Adjusted_Share_NAV] AS [Full_Adjusted_Share_NAV], 
        [Extent1].[Enterprise_Value] AS [Enterprise_Value], 
        [Extent1].[Dividend_Yield] AS [Dividend_Yield], 
        [Extent1].[Net_Present_Value] AS [Net_Present_Value], 
        [Extent1].[Net_Property_Income] AS [Net_Property_Income], 
        [Extent1].[Vacancies_Overall] AS [Vacancies_Overall], 
        [Extent1].[Portfolio_Leases_Expiring] AS [Portfolio_Leases_Expiring], 
        [Extent1].[Assumed_Ave_Escalation_Rate] AS [Assumed_Ave_Escalation_Rate], 
        [Extent1].[Cap_Rate_Movemt_Assump] AS [Cap_Rate_Movemt_Assump], 
        [Extent1].[Reversion_Exp_Rent_Reviews] AS [Reversion_Exp_Rent_Reviews], 
        [Extent1].[Ungeared_Yield] AS [Ungeared_Yield], 
        [Extent1].[Net_Operating_Profit] AS [Net_Operating_Profit], 
        [Extent1].[Revenue_Growth] AS [Revenue_Growth], 
        [Extent1].[Net_Property_Income_Growth] AS [Net_Property_Income_Growth], 
        [Extent1].[Net_Operating_Profit_Growth] AS [Net_Operating_Profit_Growth], 
        [Extent1].[Interest_Paid_Growth] AS [Interest_Paid_Growth], 
        [Extent1].[Loan_To_Value] AS [Loan_To_Value], 
        [Extent1].[Interest_Cover_Ratio] AS [Interest_Cover_Ratio], 
        [Extent1].[Revenue] AS [Revenue], 
        [Extent1].[Interest_Paid] AS [Interest_Paid], 
        [Extent1].[Property_Expenses] AS [Property_Expenses], 
        [Extent1].[Property_Expenses_Growth] AS [Property_Expenses_Growth], 
        [Extent1].[Investment_Income] AS [Investment_Income], 
        [Extent1].[Admin_Expenses] AS [Admin_Expenses], 
        [Extent1].[Admin_Expenses_Growth] AS [Admin_Expenses_Growth], 
        [Extent1].[Taxation] AS [Taxation], 
        [Extent1].[Other_Income] AS [Other_Income], 
        [Extent1].[Distributable_Earnings] AS [Distributable_Earnings], 
        [Extent1].[Distributions_Growth] AS [Distributions_Growth], 
        [Extent1].[Linked_Units_Issued] AS [Linked_Units_Issued], 
        [Extent1].[Borrowings] AS [Borrowings], 
        [Extent1].[Units_Issued] AS [Units_Issued], 
        [Extent1].[Purchases_And_Developments] AS [Purchases_And_Developments], 
        [Extent1].[Sales] AS [Sales], 
        [Extent1].[Total_Assets] AS [Total_Assets], 
        [Extent1].[Current_Liabilities] AS [Current_Liabilities], 
        [Extent1].[Interest_Bearing_Borrowings] AS [Interest_Bearing_Borrowings], 
        [Extent1].[Last_Update_Date] AS [Last_Update_Date], 
        [Extent1].[Last_Update_User] AS [Last_Update_User], 
        [Extent1].[Forecast_Distributions_Growth] AS [Forecast_Distributions_Growth], 
        [Extent1].[Property_Portfolio_Value] AS [Property_Portfolio_Value], 
        [Extent1].[OffshoreExposure_WesternEurope] AS [OffshoreExposure_WesternEurope], 
        [Extent1].[OffshoreExposure_CEE] AS [OffshoreExposure_CEE], 
        [Extent1].[OffshoreExposure_US] AS [OffshoreExposure_US], 
        [Extent1].[OffshoreExposure_UK] AS [OffshoreExposure_UK], 
        [Extent1].[OffshoreExposure_Australia] AS [OffshoreExposure_Australia], 
        [Extent1].[OffshoreExposure_Africa] AS [OffshoreExposure_Africa], 
        [Extent1].[OffshoreExposure_Other] AS [OffshoreExposure_Other], 
        [Extent1].[Sector_Retail] AS [Sector_Retail], 
        [Extent1].[Sector_Office] AS [Sector_Office], 
        [Extent1].[Sector_Industrial] AS [Sector_Industrial], 
        [Extent1].[Sector_Residential] AS [Sector_Residential], 
        [Extent1].[Sector_Other] AS [Sector_Other], 
        [Extent1].[Sector_Offshore] AS [Sector_Offshore]
        FROM [dbo].[Party_Financials] AS [Extent1]
        WHERE ((CASE WHEN ( NOT ((N'' = @p__linq__0) AND (@p__linq__0 IS NOT NULL))) THEN CASE WHEN ([Extent1].[Party_Code] = @p__linq__1) THEN cast(1 as bit) WHEN ( NOT (([Extent1].[Party_Code] = @p__linq__1) AND (0 = (CASE WHEN (@p__linq__1 IS NULL) THEN cast(1 as bit) ELSE cast(0 as bit) END)))) THEN cast(0 as bit) END WHEN ('' <> [Extent1].[Party_Code]) THEN cast(1 as bit) WHEN ('' = [Extent1].[Party_Code]) THEN cast(0 as bit) END) = 1) AND ([Extent1].[Entity_ID] = @p__linq__2)
    )  AS [Project1]
    ORDER BY [Project1].[Party_Code] ASC, [Project1].[Actual_Forecast_Indicator] ASC
2018-06-03 13:51:06.5041|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: SELECT 
    [Project1].[Party_Code] AS [Party_Code], 
    [Project1].[Entity_ID] AS [Entity_ID], 
    [Project1].[Actual_Forecast_Indicator] AS [Actual_Forecast_Indicator], 
    [Project1].[Security_ID] AS [Security_ID], 
    [Project1].[Financials_Date] AS [Financials_Date], 
    [Project1].[Full_Adjusted_Share_NAV] AS [Full_Adjusted_Share_NAV], 
    [Project1].[Enterprise_Value] AS [Enterprise_Value], 
    [Project1].[Dividend_Yield] AS [Dividend_Yield], 
    [Project1].[Net_Present_Value] AS [Net_Present_Value], 
    [Project1].[Net_Property_Income] AS [Net_Property_Income], 
    [Project1].[Vacancies_Overall] AS [Vacancies_Overall], 
    [Project1].[Portfolio_Leases_Expiring] AS [Portfolio_Leases_Expiring], 
    [Project1].[Assumed_Ave_Escalation_Rate] AS [Assumed_Ave_Escalation_Rate], 
    [Project1].[Cap_Rate_Movemt_Assump] AS [Cap_Rate_Movemt_Assump], 
    [Project1].[Reversion_Exp_Rent_Reviews] AS [Reversion_Exp_Rent_Reviews], 
    [Project1].[Ungeared_Yield] AS [Ungeared_Yield], 
    [Project1].[Net_Operating_Profit] AS [Net_Operating_Profit], 
    [Project1].[Revenue_Growth] AS [Revenue_Growth], 
    [Project1].[Net_Property_Income_Growth] AS [Net_Property_Income_Growth], 
    [Project1].[Net_Operating_Profit_Growth] AS [Net_Operating_Profit_Growth], 
    [Project1].[Interest_Paid_Growth] AS [Interest_Paid_Growth], 
    [Project1].[Loan_To_Value] AS [Loan_To_Value], 
    [Project1].[Interest_Cover_Ratio] AS [Interest_Cover_Ratio], 
    [Project1].[Revenue] AS [Revenue], 
    [Project1].[Interest_Paid] AS [Interest_Paid], 
    [Project1].[Property_Expenses] AS [Property_Expenses], 
    [Project1].[Property_Expenses_Growth] AS [Property_Expenses_Growth], 
    [Project1].[Investment_Income] AS [Investment_Income], 
    [Project1].[Admin_Expenses] AS [Admin_Expenses], 
    [Project1].[Admin_Expenses_Growth] AS [Admin_Expenses_Growth], 
    [Project1].[Taxation] AS [Taxation], 
    [Project1].[Other_Income] AS [Other_Income], 
    [Project1].[Distributable_Earnings] AS [Distributable_Earnings], 
    [Project1].[Distributions_Growth] AS [Distributions_Growth], 
    [Project1].[Linked_Units_Issued] AS [Linked_Units_Issued], 
    [Project1].[Borrowings] AS [Borrowings], 
    [Project1].[Units_Issued] AS [Units_Issued], 
    [Project1].[Purchases_And_Developments] AS [Purchases_And_Developments], 
    [Project1].[Sales] AS [Sales], 
    [Project1].[Total_Assets] AS [Total_Assets], 
    [Project1].[Current_Liabilities] AS [Current_Liabilities], 
    [Project1].[Interest_Bearing_Borrowings] AS [Interest_Bearing_Borrowings], 
    [Project1].[Last_Update_Date] AS [Last_Update_Date], 
    [Project1].[Last_Update_User] AS [Last_Update_User], 
    [Project1].[Forecast_Distributions_Growth] AS [Forecast_Distributions_Growth], 
    [Project1].[Property_Portfolio_Value] AS [Property_Portfolio_Value], 
    [Project1].[OffshoreExposure_WesternEurope] AS [OffshoreExposure_WesternEurope], 
    [Project1].[OffshoreExposure_CEE] AS [OffshoreExposure_CEE], 
    [Project1].[OffshoreExposure_US] AS [OffshoreExposure_US], 
    [Project1].[OffshoreExposure_UK] AS [OffshoreExposure_UK], 
    [Project1].[OffshoreExposure_Australia] AS [OffshoreExposure_Australia], 
    [Project1].[OffshoreExposure_Africa] AS [OffshoreExposure_Africa], 
    [Project1].[OffshoreExposure_Other] AS [OffshoreExposure_Other], 
    [Project1].[Sector_Retail] AS [Sector_Retail], 
    [Project1].[Sector_Office] AS [Sector_Office], 
    [Project1].[Sector_Industrial] AS [Sector_Industrial], 
    [Project1].[Sector_Residential] AS [Sector_Residential], 
    [Project1].[Sector_Other] AS [Sector_Other], 
    [Project1].[Sector_Offshore] AS [Sector_Offshore]
    FROM ( SELECT 
        [Extent1].[Party_Code] AS [Party_Code], 
        [Extent1].[Entity_ID] AS [Entity_ID], 
        [Extent1].[Actual_Forecast_Indicator] AS [Actual_Forecast_Indicator], 
        [Extent1].[Security_ID] AS [Security_ID], 
        [Extent1].[Financials_Date] AS [Financials_Date], 
        [Extent1].[Full_Adjusted_Share_NAV] AS [Full_Adjusted_Share_NAV], 
        [Extent1].[Enterprise_Value] AS [Enterprise_Value], 
        [Extent1].[Dividend_Yield] AS [Dividend_Yield], 
        [Extent1].[Net_Present_Value] AS [Net_Present_Value], 
        [Extent1].[Net_Property_Income] AS [Net_Property_Income], 
        [Extent1].[Vacancies_Overall] AS [Vacancies_Overall], 
        [Extent1].[Portfolio_Leases_Expiring] AS [Portfolio_Leases_Expiring], 
        [Extent1].[Assumed_Ave_Escalation_Rate] AS [Assumed_Ave_Escalation_Rate], 
        [Extent1].[Cap_Rate_Movemt_Assump] AS [Cap_Rate_Movemt_Assump], 
        [Extent1].[Reversion_Exp_Rent_Reviews] AS [Reversion_Exp_Rent_Reviews], 
        [Extent1].[Ungeared_Yield] AS [Ungeared_Yield], 
        [Extent1].[Net_Operating_Profit] AS [Net_Operating_Profit], 
        [Extent1].[Revenue_Growth] AS [Revenue_Growth], 
        [Extent1].[Net_Property_Income_Growth] AS [Net_Property_Income_Growth], 
        [Extent1].[Net_Operating_Profit_Growth] AS [Net_Operating_Profit_Growth], 
        [Extent1].[Interest_Paid_Growth] AS [Interest_Paid_Growth], 
        [Extent1].[Loan_To_Value] AS [Loan_To_Value], 
        [Extent1].[Interest_Cover_Ratio] AS [Interest_Cover_Ratio], 
        [Extent1].[Revenue] AS [Revenue], 
        [Extent1].[Interest_Paid] AS [Interest_Paid], 
        [Extent1].[Property_Expenses] AS [Property_Expenses], 
        [Extent1].[Property_Expenses_Growth] AS [Property_Expenses_Growth], 
        [Extent1].[Investment_Income] AS [Investment_Income], 
        [Extent1].[Admin_Expenses] AS [Admin_Expenses], 
        [Extent1].[Admin_Expenses_Growth] AS [Admin_Expenses_Growth], 
        [Extent1].[Taxation] AS [Taxation], 
        [Extent1].[Other_Income] AS [Other_Income], 
        [Extent1].[Distributable_Earnings] AS [Distributable_Earnings], 
        [Extent1].[Distributions_Growth] AS [Distributions_Growth], 
        [Extent1].[Linked_Units_Issued] AS [Linked_Units_Issued], 
        [Extent1].[Borrowings] AS [Borrowings], 
        [Extent1].[Units_Issued] AS [Units_Issued], 
        [Extent1].[Purchases_And_Developments] AS [Purchases_And_Developments], 
        [Extent1].[Sales] AS [Sales], 
        [Extent1].[Total_Assets] AS [Total_Assets], 
        [Extent1].[Current_Liabilities] AS [Current_Liabilities], 
        [Extent1].[Interest_Bearing_Borrowings] AS [Interest_Bearing_Borrowings], 
        [Extent1].[Last_Update_Date] AS [Last_Update_Date], 
        [Extent1].[Last_Update_User] AS [Last_Update_User], 
        [Extent1].[Forecast_Distributions_Growth] AS [Forecast_Distributions_Growth], 
        [Extent1].[Property_Portfolio_Value] AS [Property_Portfolio_Value], 
        [Extent1].[OffshoreExposure_WesternEurope] AS [OffshoreExposure_WesternEurope], 
        [Extent1].[OffshoreExposure_CEE] AS [OffshoreExposure_CEE], 
        [Extent1].[OffshoreExposure_US] AS [OffshoreExposure_US], 
        [Extent1].[OffshoreExposure_UK] AS [OffshoreExposure_UK], 
        [Extent1].[OffshoreExposure_Australia] AS [OffshoreExposure_Australia], 
        [Extent1].[OffshoreExposure_Africa] AS [OffshoreExposure_Africa], 
        [Extent1].[OffshoreExposure_Other] AS [OffshoreExposure_Other], 
        [Extent1].[Sector_Retail] AS [Sector_Retail], 
        [Extent1].[Sector_Office] AS [Sector_Office], 
        [Extent1].[Sector_Industrial] AS [Sector_Industrial], 
        [Extent1].[Sector_Residential] AS [Sector_Residential], 
        [Extent1].[Sector_Other] AS [Sector_Other], 
        [Extent1].[Sector_Offshore] AS [Sector_Offshore]
        FROM [dbo].[Party_Financials] AS [Extent1]
        WHERE ((CASE WHEN ( NOT ((N'' = @p__linq__0) AND (@p__linq__0 IS NOT NULL))) THEN CASE WHEN ([Extent1].[Party_Code] = @p__linq__1) THEN cast(1 as bit) WHEN ( NOT (([Extent1].[Party_Code] = @p__linq__1) AND (0 = (CASE WHEN (@p__linq__1 IS NULL) THEN cast(1 as bit) ELSE cast(0 as bit) END)))) THEN cast(0 as bit) END WHEN ('' <> [Extent1].[Party_Code]) THEN cast(1 as bit) WHEN ('' = [Extent1].[Party_Code]) THEN cast(0 as bit) END) = 1) AND ([Extent1].[Entity_ID] = @p__linq__2)
    )  AS [Project1]
    ORDER BY [Project1].[Party_Code] ASC, [Project1].[Actual_Forecast_Indicator] ASC
2018-06-03 13:51:13.5351|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: IF db_id(N'MetopeAzureDb') IS NOT NULL SELECT 1 ELSE SELECT Count(*) FROM sys.databases WHERE [name]=N'MetopeAzureDb'
2018-06-03 13:51:13.5531|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: IF db_id(N'MetopeAzureDb') IS NOT NULL SELECT 1 ELSE SELECT Count(*) FROM sys.databases WHERE [name]=N'MetopeAzureDb'
2018-06-03 13:51:13.5746|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: IF db_id(N'MetopeAzureDb') IS NOT NULL SELECT 1 ELSE SELECT Count(*) FROM sys.databases WHERE [name]=N'MetopeAzureDb'
2018-06-03 13:51:13.5862|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: IF db_id(N'MetopeAzureDb') IS NOT NULL SELECT 1 ELSE SELECT Count(*) FROM sys.databases WHERE [name]=N'MetopeAzureDb'
2018-06-03 13:51:45.8551|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: SELECT 
    CASE WHEN ( EXISTS (SELECT TOP (50) 
        1 AS [C1]
        FROM ( SELECT 
            [Extent1].[Transaction_Date] AS [Transaction_Date]
            FROM [dbo].[Cash_Transactions] AS [Extent1]
            WHERE ([Extent1].[Entity_ID] = @p__linq__0) AND ([Extent1].[Portfolio_Code] = @p__linq__1) AND ([Extent1].[Transaction_Date] <= @p__linq__2)
        )  AS [Project1]
        ORDER BY [Project1].[Transaction_Date] DESC
    )) THEN cast(1 as bit) ELSE cast(0 as bit) END AS [C1]
    FROM  ( SELECT 1 AS X ) AS [SingleRowTable1]
2018-06-03 13:51:45.9231|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: SELECT 
    CASE WHEN ( EXISTS (SELECT TOP (50) 
        1 AS [C1]
        FROM ( SELECT 
            [Extent1].[Transaction_Date] AS [Transaction_Date]
            FROM [dbo].[Cash_Transactions] AS [Extent1]
            WHERE ([Extent1].[Entity_ID] = @p__linq__0) AND ([Extent1].[Portfolio_Code] = @p__linq__1) AND ([Extent1].[Transaction_Date] <= @p__linq__2)
        )  AS [Project1]
        ORDER BY [Project1].[Transaction_Date] DESC
    )) THEN cast(1 as bit) ELSE cast(0 as bit) END AS [C1]
    FROM  ( SELECT 1 AS X ) AS [SingleRowTable1]
2018-06-03 13:51:45.9812|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: SELECT TOP (50) 
    [Project1].[C1] AS [C1], 
    [Project1].[Cash_Transaction_ID] AS [Cash_Transaction_ID], 
    [Project1].[Portfolio_Code] AS [Portfolio_Code], 
    [Project1].[Entity_ID] AS [Entity_ID], 
    [Project1].[Transaction_Security_ID] AS [Transaction_Security_ID], 
    [Project1].[Cash_Security_ID] AS [Cash_Security_ID], 
    [Project1].[Transaction_Source_Code] AS [Transaction_Source_Code], 
    [Project1].[Order_ID] AS [Order_ID], 
    [Project1].[Allocation_ID] AS [Allocation_ID], 
    [Project1].[Cashflow_ID] AS [Cashflow_ID], 
    [Project1].[Dividend_Seq_Number] AS [Dividend_Seq_Number], 
    [Project1].[External_ID] AS [External_ID], 
    [Project1].[Transaction_Date] AS [Transaction_Date], 
    [Project1].[Value_Date] AS [Value_Date], 
    [Project1].[Cash_Transaction_Type] AS [Cash_Transaction_Type], 
    [Project1].[Transaction_Amount] AS [Transaction_Amount], 
    [Project1].[Transaction_Currency_Code] AS [Transaction_Currency_Code], 
    [Project1].[BaseCur_Amount] AS [BaseCur_Amount], 
    [Project1].[Create_User_Code] AS [Create_User_Code], 
    [Project1].[Create_Date] AS [Create_Date], 
    [Project1].[Last_Update_User] AS [Last_Update_User], 
    [Project1].[Last_Update_Date] AS [Last_Update_Date], 
    [Project1].[Security_ID] AS [Security_ID], 
    [Project1].[Entity_ID1] AS [Entity_ID1], 
    [Project1].[Security_Name] AS [Security_Name], 
    [Project1].[Short_Name] AS [Short_Name], 
    [Project1].[Primary_Exch] AS [Primary_Exch], 
    [Project1].[Secondary_Exch] AS [Secondary_Exch], 
    [Project1].[Country_Of_Domicile] AS [Country_Of_Domicile], 
    [Project1].[Country_Of_Risk] AS [Country_Of_Risk], 
    [Project1].[Security_Type_Code] AS [Security_Type_Code], 
    [Project1].[Price_Multiplier] AS [Price_Multiplier], 
    [Project1].[Income_Frequency] AS [Income_Frequency], 
    [Project1].[Issuer_Code] AS [Issuer_Code], 
    [Project1].[Ultimate_Issuer_Code] AS [Ultimate_Issuer_Code], 
    [Project1].[Asset_Currency] AS [Asset_Currency], 
    [Project1].[Min_Lot_Size] AS [Min_Lot_Size], 
    [Project1].[Decimal_Precision] AS [Decimal_Precision], 
    [Project1].[AvePrice_Rounding] AS [AvePrice_Rounding], 
    [Project1].[Issue_Date] AS [Issue_Date], 
    [Project1].[Maturity_Date] AS [Maturity_Date], 
    [Project1].[Coupon_Rate] AS [Coupon_Rate], 
    [Project1].[Price_Exchange] AS [Price_Exchange], 
    [Project1].[Trade_Currency] AS [Trade_Currency], 
    [Project1].[Price_Curr] AS [Price_Curr], 
    [Project1].[Currency_Pair_Code] AS [Currency_Pair_Code], 
    [Project1].[Share_Class] AS [Share_Class], 
    [Project1].[Current_Market_Price] AS [Current_Market_Price], 
    [Project1].[Index_Type] AS [Index_Type], 
    [Project1].[Clean_Price_Formula] AS [Clean_Price_Formula], 
    [Project1].[Accrued_Income_Price_Formula] AS [Accrued_Income_Price_Formula], 
    [Project1].[Odd_First_Coupon_Date] AS [Odd_First_Coupon_Date], 
    [Project1].[Odd_Last_Coupon_Date] AS [Odd_Last_Coupon_Date], 
    [Project1].[Coupon_Anniversary_Indicator] AS [Coupon_Anniversary_Indicator], 
    [Project1].[Track_EOM_Flag] AS [Track_EOM_Flag], 
    [Project1].[Next_Coupon_Date] AS [Next_Coupon_Date], 
    [Project1].[Previous_Coupon_Date] AS [Previous_Coupon_Date], 
    [Project1].[Payment_Frequency] AS [Payment_Frequency], 
    [Project1].[Coupon_BusDay_Adjustment] AS [Coupon_BusDay_Adjustment], 
    [Project1].[Next_Ex_Div_Date] AS [Next_Ex_Div_Date], 
    [Project1].[Ex_Div_BusDay_Adjustment] AS [Ex_Div_BusDay_Adjustment], 
    [Project1].[Ex_Div_Period] AS [Ex_Div_Period], 
    [Project1].[Ticker] AS [Ticker], 
    [Project1].[Inet_ID] AS [Inet_ID], 
    [Project1].[Bloomberg_ID] AS [Bloomberg_ID], 
    [Project1].[External_Sec_ID] AS [External_Sec_ID], 
    [Project1].[Reuters_ID] AS [Reuters_ID], 
    [Project1].[ISIN] AS [ISIN], 
    [Project1].[Call_Account_Flag] AS [Call_Account_Flag], 
    [Project1].[System_Locked] AS [System_Locked], 
    [Project1].[Last_Update_User1] AS [Last_Update_User1], 
    [Project1].[Last_Update_Date1] AS [Last_Update_Date1], 
    [Project1].[Security_Status] AS [Security_Status], 
    [Project1].[Benchmark_Portfolio] AS [Benchmark_Portfolio], 
    [Project1].[Active_flag] AS [Active_flag], 
    [Project1].[Dividend_FX_Security_ID] AS [Dividend_FX_Security_ID], 
    [Project1].[Order_ID1] AS [Order_ID1], 
    [Project1].[Entity_ID2] AS [Entity_ID2], 
    [Project1].[Security_ID1] AS [Security_ID1], 
    [Project1].[Trade_Date] AS [Trade_Date], 
    [Project1].[Settlement_Date] AS [Settlement_Date], 
    [Project1].[Transaction_Type] AS [Transaction_Type], 
    [Project1].[Order_Status] AS [Order_Status], 
    [Project1].[Cancel_Reason_Code] AS [Cancel_Reason_Code], 
    [Project1].[Manager] AS [Manager], 
    [Project1].[Trader] AS [Trader], 
    [Project1].[Operations_User] AS [Operations_User], 
    [Project1].[Order_Instruction] AS [Order_Instruction], 
    [Project1].[Order_Duration] AS [Order_Duration], 
    [Project1].[Limit_Price] AS [Limit_Price], 
    [Project1].[Limit_Yield] AS [Limit_Yield], 
    [Project1].[Limit_Discount] AS [Limit_Discount], 
    [Project1].[Order_Creator] AS [Order_Creator], 
    [Project1].[Order_Create_Date] AS [Order_Create_Date], 
    [Project1].[Last_Update_Date2] AS [Last_Update_Date2], 
    [Project1].[Last_Update_User2] AS [Last_Update_User2], 
    [Project1].[Sent_To_Trading_Date] AS [Sent_To_Trading_Date], 
    [Project1].[Sent_To_Accounting_Date] AS [Sent_To_Accounting_Date], 
    [Project1].[Value_Based_Indicator] AS [Value_Based_Indicator], 
    [Project1].[Target_Clean_Price] AS [Target_Clean_Price], 
    [Project1].[Target_Income_Price] AS [Target_Income_Price], 
    [Project1].[Target_AllIn_Price] AS [Target_AllIn_Price], 
    [Project1].[Target_Yield] AS [Target_Yield], 
    [Project1].[Target_Discount] AS [Target_Discount], 
    [Project1].[Target_Quantity] AS [Target_Quantity], 
    [Project1].[Target_Clean_Amount_TradeCur] AS [Target_Clean_Amount_TradeCur], 
    [Project1].[Target_Income_Amount_TradeCur] AS [Target_Income_Amount_TradeCur], 
    [Project1].[Target_AllIn_Amount_TradeCur] AS [Target_AllIn_Amount_TradeCur], 
    [Project1].[Place_Quantity] AS [Place_Quantity], 
    [Project1].[Execution_Quantity] AS [Execution_Quantity], 
    [Project1].[Execution_Clean_Amount_TradeCur] AS [Execution_Clean_Amount_TradeCur], 
    [Project1].[Execution_Income_Amount_TradeCur] AS [Execution_Income_Amount_TradeCur], 
    [Project1].[Execution_AllIn_Amount_TradeCur] AS [Execution_AllIn_Amount_TradeCur], 
    [Project1].[Broker_Code] AS [Broker_Code], 
    [Project1].[Execution_Clean_Price] AS [Execution_Clean_Price], 
    [Project1].[Execution_Income_Price] AS [Execution_Income_Price], 
    [Project1].[Execution_AllIn_Price] AS [Execution_AllIn_Price], 
    [Project1].[Execution_Yield] AS [Execution_Yield], 
    [Project1].[Execution_Discount] AS [Execution_Discount], 
    [Project1].[Execution_Currency] AS [Execution_Currency], 
    [Project1].[Execution_Exchange] AS [Execution_Exchange], 
    [Project1].[Target_FX_Rate] AS [Target_FX_Rate], 
    [Project1].[Limit_FX_Rate] AS [Limit_FX_Rate], 
    [Project1].[Execution_FX_Rate] AS [Execution_FX_Rate], 
    [Project1].[Buy_Currency_Code] AS [Buy_Currency_Code], 
    [Project1].[Buy_Currency_Execution_Amount] AS [Buy_Currency_Execution_Amount], 
    [Project1].[Buy_Currency_Target_Amount] AS [Buy_Currency_Target_Amount], 
    [Project1].[Sell_Currency_Code] AS [Sell_Currency_Code], 
    [Project1].[Sell_Currency_Execution_Amount] AS [Sell_Currency_Execution_Amount], 
    [Project1].[Sell_Currency_Target_Amount] AS [Sell_Currency_Target_Amount], 
    [Project1].[Commission_Amount_TradeCur] AS [Commission_Amount_TradeCur], 
    [Project1].[Trade_Type_Indicator] AS [Trade_Type_Indicator], 
    [Project1].[Commission_Rate] AS [Commission_Rate], 
    [Project1].[Commission_Type] AS [Commission_Type], 
    [Project1].[Fee_Code1] AS [Fee_Code1], 
    [Project1].[Fee_Code2] AS [Fee_Code2], 
    [Project1].[Fee_Code3] AS [Fee_Code3], 
    [Project1].[Fee_Code4] AS [Fee_Code4], 
    [Project1].[Fee_Code5] AS [Fee_Code5], 
    [Project1].[Fee_Code6] AS [Fee_Code6], 
    [Project1].[Fee_Amount1_TradeCur] AS [Fee_Amount1_TradeCur], 
    [Project1].[Fee_Amount2_TradeCur] AS [Fee_Amount2_TradeCur], 
    [Project1].[Fee_Amount3_TradeCur] AS [Fee_Amount3_TradeCur], 
    [Project1].[Fee_Amount4_TradeCur] AS [Fee_Amount4_TradeCur], 
    [Project1].[Fee_Amount5_TradeCur] AS [Fee_Amount5_TradeCur], 
    [Project1].[Fee_Amount6_TradeCur] AS [Fee_Amount6_TradeCur], 
    [Project1].[Tax_Amount_TradeCur] AS [Tax_Amount_TradeCur], 
    [Project1].[Tax_Type] AS [Tax_Type], 
    [Project1].[Tax_Charge_FeeNum] AS [Tax_Charge_FeeNum], 
    [Project1].[Execution_Gross_Amount_TradeCur] AS [Execution_Gross_Amount_TradeCur], 
    [Project1].[Execution_Net_Amount_TradeCur] AS [Execution_Net_Amount_TradeCur], 
    [Project1].[Related_Order_ID] AS [Related_Order_ID], 
    [Project1].[Previous_Order_ID] AS [Previous_Order_ID], 
    [Project1].[Authorised_User1] AS [Authorised_User1], 
    [Project1].[Authorised_User1_DateTime] AS [Authorised_User1_DateTime], 
    [Project1].[Authorised_User2] AS [Authorised_User2], 
    [Project1].[Authorised_User2_DateTime] AS [Authorised_User2_DateTime], 
    [Project1].[Authorised_Number] AS [Authorised_Number], 
    [Project1].[Security_Type_Code1] AS [Security_Type_Code1], 
    [Project1].[Export_Status] AS [Export_Status], 
    [Project1].[Order_Ack_Nack_Status] AS [Order_Ack_Nack_Status], 
    [Project1].[Operations_Status] AS [Operations_Status], 
    [Project1].[Import_Trade_ID] AS [Import_Trade_ID]
    FROM ( SELECT 
        [Extent1].[Cash_Transaction_ID] AS [Cash_Transaction_ID], 
        [Extent1].[Portfolio_Code] AS [Portfolio_Code], 
        [Extent1].[Entity_ID] AS [Entity_ID], 
        [Extent1].[Transaction_Security_ID] AS [Transaction_Security_ID], 
        [Extent1].[Cash_Security_ID] AS [Cash_Security_ID], 
        [Extent1].[Transaction_Source_Code] AS [Transaction_Source_Code], 
        [Extent1].[Order_ID] AS [Order_ID], 
        [Extent1].[Allocation_ID] AS [Allocation_ID], 
        [Extent1].[Cashflow_ID] AS [Cashflow_ID], 
        [Extent1].[Dividend_Seq_Number] AS [Dividend_Seq_Number], 
        [Extent1].[External_ID] AS [External_ID], 
        [Extent1].[Transaction_Date] AS [Transaction_Date], 
        [Extent1].[Value_Date] AS [Value_Date], 
        [Extent1].[Cash_Transaction_Type] AS [Cash_Transaction_Type], 
        [Extent1].[Transaction_Amount] AS [Transaction_Amount], 
        [Extent1].[Transaction_Currency_Code] AS [Transaction_Currency_Code], 
        [Extent1].[BaseCur_Amount] AS [BaseCur_Amount], 
        [Extent1].[Create_User_Code] AS [Create_User_Code], 
        [Extent1].[Create_Date] AS [Create_Date], 
        [Extent1].[Last_Update_User] AS [Last_Update_User], 
        [Extent1].[Last_Update_Date] AS [Last_Update_Date], 
        [Extent2].[Security_ID] AS [Security_ID], 
        [Extent2].[Entity_ID] AS [Entity_ID1], 
        [Extent2].[Security_Name] AS [Security_Name], 
        [Extent2].[Short_Name] AS [Short_Name], 
        [Extent2].[Primary_Exch] AS [Primary_Exch], 
        [Extent2].[Secondary_Exch] AS [Secondary_Exch], 
        [Extent2].[Country_Of_Domicile] AS [Country_Of_Domicile], 
        [Extent2].[Country_Of_Risk] AS [Country_Of_Risk], 
        [Extent2].[Security_Type_Code] AS [Security_Type_Code], 
        [Extent2].[Price_Multiplier] AS [Price_Multiplier], 
        [Extent2].[Income_Frequency] AS [Income_Frequency], 
        [Extent2].[Issuer_Code] AS [Issuer_Code], 
        [Extent2].[Ultimate_Issuer_Code] AS [Ultimate_Issuer_Code], 
        [Extent2].[Asset_Currency] AS [Asset_Currency], 
        [Extent2].[Min_Lot_Size] AS [Min_Lot_Size], 
        [Extent2].[Decimal_Precision] AS [Decimal_Precision], 
        [Extent2].[AvePrice_Rounding] AS [AvePrice_Rounding], 
        [Extent2].[Issue_Date] AS [Issue_Date], 
        [Extent2].[Maturity_Date] AS [Maturity_Date], 
        [Extent2].[Coupon_Rate] AS [Coupon_Rate], 
        [Extent2].[Price_Exchange] AS [Price_Exchange], 
        [Extent2].[Trade_Currency] AS [Trade_Currency], 
        [Extent2].[Price_Curr] AS [Price_Curr], 
        [Extent2].[Currency_Pair_Code] AS [Currency_Pair_Code], 
        [Extent2].[Share_Class] AS [Share_Class], 
        [Extent2].[Current_Market_Price] AS [Current_Market_Price], 
        [Extent2].[Index_Type] AS [Index_Type], 
        [Extent2].[Clean_Price_Formula] AS [Clean_Price_Formula], 
        [Extent2].[Accrued_Income_Price_Formula] AS [Accrued_Income_Price_Formula], 
        [Extent2].[Odd_First_Coupon_Date] AS [Odd_First_Coupon_Date], 
        [Extent2].[Odd_Last_Coupon_Date] AS [Odd_Last_Coupon_Date], 
        [Extent2].[Coupon_Anniversary_Indicator] AS [Coupon_Anniversary_Indicator], 
        [Extent2].[Track_EOM_Flag] AS [Track_EOM_Flag], 
        [Extent2].[Next_Coupon_Date] AS [Next_Coupon_Date], 
        [Extent2].[Previous_Coupon_Date] AS [Previous_Coupon_Date], 
        [Extent2].[Payment_Frequency] AS [Payment_Frequency], 
        [Extent2].[Coupon_BusDay_Adjustment] AS [Coupon_BusDay_Adjustment], 
        [Extent2].[Next_Ex_Div_Date] AS [Next_Ex_Div_Date], 
        [Extent2].[Ex_Div_BusDay_Adjustment] AS [Ex_Div_BusDay_Adjustment], 
        [Extent2].[Ex_Div_Period] AS [Ex_Div_Period], 
        [Extent2].[Ticker] AS [Ticker], 
        [Extent2].[Inet_ID] AS [Inet_ID], 
        [Extent2].[Bloomberg_ID] AS [Bloomberg_ID], 
        [Extent2].[External_Sec_ID] AS [External_Sec_ID], 
        [Extent2].[Reuters_ID] AS [Reuters_ID], 
        [Extent2].[ISIN] AS [ISIN], 
        [Extent2].[Call_Account_Flag] AS [Call_Account_Flag], 
        [Extent2].[System_Locked] AS [System_Locked], 
        [Extent2].[Last_Update_User] AS [Last_Update_User1], 
        [Extent2].[Last_Update_Date] AS [Last_Update_Date1], 
        [Extent2].[Security_Status] AS [Security_Status], 
        [Extent2].[Benchmark_Portfolio] AS [Benchmark_Portfolio], 
        [Extent2].[Active_flag] AS [Active_flag], 
        [Extent2].[Dividend_FX_Security_ID] AS [Dividend_FX_Security_ID], 
        [Extent3].[Order_ID] AS [Order_ID1], 
        [Extent3].[Entity_ID] AS [Entity_ID2], 
        [Extent3].[Security_ID] AS [Security_ID1], 
        [Extent3].[Trade_Date] AS [Trade_Date], 
        [Extent3].[Settlement_Date] AS [Settlement_Date], 
        [Extent3].[Transaction_Type] AS [Transaction_Type], 
        [Extent3].[Order_Status] AS [Order_Status], 
        [Extent3].[Cancel_Reason_Code] AS [Cancel_Reason_Code], 
        [Extent3].[Manager] AS [Manager], 
        [Extent3].[Trader] AS [Trader], 
        [Extent3].[Operations_User] AS [Operations_User], 
        [Extent3].[Order_Instruction] AS [Order_Instruction], 
        [Extent3].[Order_Duration] AS [Order_Duration], 
        [Extent3].[Limit_Price] AS [Limit_Price], 
        [Extent3].[Limit_Yield] AS [Limit_Yield], 
        [Extent3].[Limit_Discount] AS [Limit_Discount], 
        [Extent3].[Order_Creator] AS [Order_Creator], 
        [Extent3].[Order_Create_Date] AS [Order_Create_Date], 
        [Extent3].[Last_Update_Date] AS [Last_Update_Date2], 
        [Extent3].[Last_Update_User] AS [Last_Update_User2], 
        [Extent3].[Sent_To_Trading_Date] AS [Sent_To_Trading_Date], 
        [Extent3].[Sent_To_Accounting_Date] AS [Sent_To_Accounting_Date], 
        [Extent3].[Value_Based_Indicator] AS [Value_Based_Indicator], 
        [Extent3].[Target_Clean_Price] AS [Target_Clean_Price], 
        [Extent3].[Target_Income_Price] AS [Target_Income_Price], 
        [Extent3].[Target_AllIn_Price] AS [Target_AllIn_Price], 
        [Extent3].[Target_Yield] AS [Target_Yield], 
        [Extent3].[Target_Discount] AS [Target_Discount], 
        [Extent3].[Target_Quantity] AS [Target_Quantity], 
        [Extent3].[Target_Clean_Amount_TradeCur] AS [Target_Clean_Amount_TradeCur], 
        [Extent3].[Target_Income_Amount_TradeCur] AS [Target_Income_Amount_TradeCur], 
        [Extent3].[Target_AllIn_Amount_TradeCur] AS [Target_AllIn_Amount_TradeCur], 
        [Extent3].[Place_Quantity] AS [Place_Quantity], 
        [Extent3].[Execution_Quantity] AS [Execution_Quantity], 
        [Extent3].[Execution_Clean_Amount_TradeCur] AS [Execution_Clean_Amount_TradeCur], 
        [Extent3].[Execution_Income_Amount_TradeCur] AS [Execution_Income_Amount_TradeCur], 
        [Extent3].[Execution_AllIn_Amount_TradeCur] AS [Execution_AllIn_Amount_TradeCur], 
        [Extent3].[Broker_Code] AS [Broker_Code], 
        [Extent3].[Execution_Clean_Price] AS [Execution_Clean_Price], 
        [Extent3].[Execution_Income_Price] AS [Execution_Income_Price], 
        [Extent3].[Execution_AllIn_Price] AS [Execution_AllIn_Price], 
        [Extent3].[Execution_Yield] AS [Execution_Yield], 
        [Extent3].[Execution_Discount] AS [Execution_Discount], 
        [Extent3].[Execution_Currency] AS [Execution_Currency], 
        [Extent3].[Execution_Exchange] AS [Execution_Exchange], 
        [Extent3].[Target_FX_Rate] AS [Target_FX_Rate], 
        [Extent3].[Limit_FX_Rate] AS [Limit_FX_Rate], 
        [Extent3].[Execution_FX_Rate] AS [Execution_FX_Rate], 
        [Extent3].[Buy_Currency_Code] AS [Buy_Currency_Code], 
        [Extent3].[Buy_Currency_Execution_Amount] AS [Buy_Currency_Execution_Amount], 
        [Extent3].[Buy_Currency_Target_Amount] AS [Buy_Currency_Target_Amount], 
        [Extent3].[Sell_Currency_Code] AS [Sell_Currency_Code], 
        [Extent3].[Sell_Currency_Execution_Amount] AS [Sell_Currency_Execution_Amount], 
        [Extent3].[Sell_Currency_Target_Amount] AS [Sell_Currency_Target_Amount], 
        [Extent3].[Commission_Amount_TradeCur] AS [Commission_Amount_TradeCur], 
        [Extent3].[Trade_Type_Indicator] AS [Trade_Type_Indicator], 
        [Extent3].[Commission_Rate] AS [Commission_Rate], 
        [Extent3].[Commission_Type] AS [Commission_Type], 
        [Extent3].[Fee_Code1] AS [Fee_Code1], 
        [Extent3].[Fee_Code2] AS [Fee_Code2], 
        [Extent3].[Fee_Code3] AS [Fee_Code3], 
        [Extent3].[Fee_Code4] AS [Fee_Code4], 
        [Extent3].[Fee_Code5] AS [Fee_Code5], 
        [Extent3].[Fee_Code6] AS [Fee_Code6], 
        [Extent3].[Fee_Amount1_TradeCur] AS [Fee_Amount1_TradeCur], 
        [Extent3].[Fee_Amount2_TradeCur] AS [Fee_Amount2_TradeCur], 
        [Extent3].[Fee_Amount3_TradeCur] AS [Fee_Amount3_TradeCur], 
        [Extent3].[Fee_Amount4_TradeCur] AS [Fee_Amount4_TradeCur], 
        [Extent3].[Fee_Amount5_TradeCur] AS [Fee_Amount5_TradeCur], 
        [Extent3].[Fee_Amount6_TradeCur] AS [Fee_Amount6_TradeCur], 
        [Extent3].[Tax_Amount_TradeCur] AS [Tax_Amount_TradeCur], 
        [Extent3].[Tax_Type] AS [Tax_Type], 
        [Extent3].[Tax_Charge_FeeNum] AS [Tax_Charge_FeeNum], 
        [Extent3].[Execution_Gross_Amount_TradeCur] AS [Execution_Gross_Amount_TradeCur], 
        [Extent3].[Execution_Net_Amount_TradeCur] AS [Execution_Net_Amount_TradeCur], 
        [Extent3].[Related_Order_ID] AS [Related_Order_ID], 
        [Extent3].[Previous_Order_ID] AS [Previous_Order_ID], 
        [Extent3].[Authorised_User1] AS [Authorised_User1], 
        [Extent3].[Authorised_User1_DateTime] AS [Authorised_User1_DateTime], 
        [Extent3].[Authorised_User2] AS [Authorised_User2], 
        [Extent3].[Authorised_User2_DateTime] AS [Authorised_User2_DateTime], 
        [Extent3].[Authorised_Number] AS [Authorised_Number], 
        [Extent3].[Security_Type_Code] AS [Security_Type_Code1], 
        [Extent3].[Export_Status] AS [Export_Status], 
        [Extent3].[Order_Ack_Nack_Status] AS [Order_Ack_Nack_Status], 
        [Extent3].[Operations_Status] AS [Operations_Status], 
        [Extent3].[Import_Trade_ID] AS [Import_Trade_ID], 
        1 AS [C1]
        FROM   [dbo].[Cash_Transactions] AS [Extent1]
        LEFT OUTER JOIN [dbo].[Security_Detail] AS [Extent2] ON [Extent1].[Transaction_Security_ID] = [Extent2].[Security_ID]
        LEFT OUTER JOIN [dbo].[Order_Detail] AS [Extent3] ON [Extent1].[Order_ID] = [Extent3].[Order_ID]
        WHERE ([Extent1].[Entity_ID] = @p__linq__0) AND ([Extent1].[Portfolio_Code] = @p__linq__1) AND ([Extent1].[Transaction_Date] <= @p__linq__2)
    )  AS [Project1]
    ORDER BY [Project1].[Transaction_Date] DESC
2018-06-03 13:51:46.1088|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: SELECT TOP (50) 
    [Project1].[C1] AS [C1], 
    [Project1].[Cash_Transaction_ID] AS [Cash_Transaction_ID], 
    [Project1].[Portfolio_Code] AS [Portfolio_Code], 
    [Project1].[Entity_ID] AS [Entity_ID], 
    [Project1].[Transaction_Security_ID] AS [Transaction_Security_ID], 
    [Project1].[Cash_Security_ID] AS [Cash_Security_ID], 
    [Project1].[Transaction_Source_Code] AS [Transaction_Source_Code], 
    [Project1].[Order_ID] AS [Order_ID], 
    [Project1].[Allocation_ID] AS [Allocation_ID], 
    [Project1].[Cashflow_ID] AS [Cashflow_ID], 
    [Project1].[Dividend_Seq_Number] AS [Dividend_Seq_Number], 
    [Project1].[External_ID] AS [External_ID], 
    [Project1].[Transaction_Date] AS [Transaction_Date], 
    [Project1].[Value_Date] AS [Value_Date], 
    [Project1].[Cash_Transaction_Type] AS [Cash_Transaction_Type], 
    [Project1].[Transaction_Amount] AS [Transaction_Amount], 
    [Project1].[Transaction_Currency_Code] AS [Transaction_Currency_Code], 
    [Project1].[BaseCur_Amount] AS [BaseCur_Amount], 
    [Project1].[Create_User_Code] AS [Create_User_Code], 
    [Project1].[Create_Date] AS [Create_Date], 
    [Project1].[Last_Update_User] AS [Last_Update_User], 
    [Project1].[Last_Update_Date] AS [Last_Update_Date], 
    [Project1].[Security_ID] AS [Security_ID], 
    [Project1].[Entity_ID1] AS [Entity_ID1], 
    [Project1].[Security_Name] AS [Security_Name], 
    [Project1].[Short_Name] AS [Short_Name], 
    [Project1].[Primary_Exch] AS [Primary_Exch], 
    [Project1].[Secondary_Exch] AS [Secondary_Exch], 
    [Project1].[Country_Of_Domicile] AS [Country_Of_Domicile], 
    [Project1].[Country_Of_Risk] AS [Country_Of_Risk], 
    [Project1].[Security_Type_Code] AS [Security_Type_Code], 
    [Project1].[Price_Multiplier] AS [Price_Multiplier], 
    [Project1].[Income_Frequency] AS [Income_Frequency], 
    [Project1].[Issuer_Code] AS [Issuer_Code], 
    [Project1].[Ultimate_Issuer_Code] AS [Ultimate_Issuer_Code], 
    [Project1].[Asset_Currency] AS [Asset_Currency], 
    [Project1].[Min_Lot_Size] AS [Min_Lot_Size], 
    [Project1].[Decimal_Precision] AS [Decimal_Precision], 
    [Project1].[AvePrice_Rounding] AS [AvePrice_Rounding], 
    [Project1].[Issue_Date] AS [Issue_Date], 
    [Project1].[Maturity_Date] AS [Maturity_Date], 
    [Project1].[Coupon_Rate] AS [Coupon_Rate], 
    [Project1].[Price_Exchange] AS [Price_Exchange], 
    [Project1].[Trade_Currency] AS [Trade_Currency], 
    [Project1].[Price_Curr] AS [Price_Curr], 
    [Project1].[Currency_Pair_Code] AS [Currency_Pair_Code], 
    [Project1].[Share_Class] AS [Share_Class], 
    [Project1].[Current_Market_Price] AS [Current_Market_Price], 
    [Project1].[Index_Type] AS [Index_Type], 
    [Project1].[Clean_Price_Formula] AS [Clean_Price_Formula], 
    [Project1].[Accrued_Income_Price_Formula] AS [Accrued_Income_Price_Formula], 
    [Project1].[Odd_First_Coupon_Date] AS [Odd_First_Coupon_Date], 
    [Project1].[Odd_Last_Coupon_Date] AS [Odd_Last_Coupon_Date], 
    [Project1].[Coupon_Anniversary_Indicator] AS [Coupon_Anniversary_Indicator], 
    [Project1].[Track_EOM_Flag] AS [Track_EOM_Flag], 
    [Project1].[Next_Coupon_Date] AS [Next_Coupon_Date], 
    [Project1].[Previous_Coupon_Date] AS [Previous_Coupon_Date], 
    [Project1].[Payment_Frequency] AS [Payment_Frequency], 
    [Project1].[Coupon_BusDay_Adjustment] AS [Coupon_BusDay_Adjustment], 
    [Project1].[Next_Ex_Div_Date] AS [Next_Ex_Div_Date], 
    [Project1].[Ex_Div_BusDay_Adjustment] AS [Ex_Div_BusDay_Adjustment], 
    [Project1].[Ex_Div_Period] AS [Ex_Div_Period], 
    [Project1].[Ticker] AS [Ticker], 
    [Project1].[Inet_ID] AS [Inet_ID], 
    [Project1].[Bloomberg_ID] AS [Bloomberg_ID], 
    [Project1].[External_Sec_ID] AS [External_Sec_ID], 
    [Project1].[Reuters_ID] AS [Reuters_ID], 
    [Project1].[ISIN] AS [ISIN], 
    [Project1].[Call_Account_Flag] AS [Call_Account_Flag], 
    [Project1].[System_Locked] AS [System_Locked], 
    [Project1].[Last_Update_User1] AS [Last_Update_User1], 
    [Project1].[Last_Update_Date1] AS [Last_Update_Date1], 
    [Project1].[Security_Status] AS [Security_Status], 
    [Project1].[Benchmark_Portfolio] AS [Benchmark_Portfolio], 
    [Project1].[Active_flag] AS [Active_flag], 
    [Project1].[Dividend_FX_Security_ID] AS [Dividend_FX_Security_ID], 
    [Project1].[Order_ID1] AS [Order_ID1], 
    [Project1].[Entity_ID2] AS [Entity_ID2], 
    [Project1].[Security_ID1] AS [Security_ID1], 
    [Project1].[Trade_Date] AS [Trade_Date], 
    [Project1].[Settlement_Date] AS [Settlement_Date], 
    [Project1].[Transaction_Type] AS [Transaction_Type], 
    [Project1].[Order_Status] AS [Order_Status], 
    [Project1].[Cancel_Reason_Code] AS [Cancel_Reason_Code], 
    [Project1].[Manager] AS [Manager], 
    [Project1].[Trader] AS [Trader], 
    [Project1].[Operations_User] AS [Operations_User], 
    [Project1].[Order_Instruction] AS [Order_Instruction], 
    [Project1].[Order_Duration] AS [Order_Duration], 
    [Project1].[Limit_Price] AS [Limit_Price], 
    [Project1].[Limit_Yield] AS [Limit_Yield], 
    [Project1].[Limit_Discount] AS [Limit_Discount], 
    [Project1].[Order_Creator] AS [Order_Creator], 
    [Project1].[Order_Create_Date] AS [Order_Create_Date], 
    [Project1].[Last_Update_Date2] AS [Last_Update_Date2], 
    [Project1].[Last_Update_User2] AS [Last_Update_User2], 
    [Project1].[Sent_To_Trading_Date] AS [Sent_To_Trading_Date], 
    [Project1].[Sent_To_Accounting_Date] AS [Sent_To_Accounting_Date], 
    [Project1].[Value_Based_Indicator] AS [Value_Based_Indicator], 
    [Project1].[Target_Clean_Price] AS [Target_Clean_Price], 
    [Project1].[Target_Income_Price] AS [Target_Income_Price], 
    [Project1].[Target_AllIn_Price] AS [Target_AllIn_Price], 
    [Project1].[Target_Yield] AS [Target_Yield], 
    [Project1].[Target_Discount] AS [Target_Discount], 
    [Project1].[Target_Quantity] AS [Target_Quantity], 
    [Project1].[Target_Clean_Amount_TradeCur] AS [Target_Clean_Amount_TradeCur], 
    [Project1].[Target_Income_Amount_TradeCur] AS [Target_Income_Amount_TradeCur], 
    [Project1].[Target_AllIn_Amount_TradeCur] AS [Target_AllIn_Amount_TradeCur], 
    [Project1].[Place_Quantity] AS [Place_Quantity], 
    [Project1].[Execution_Quantity] AS [Execution_Quantity], 
    [Project1].[Execution_Clean_Amount_TradeCur] AS [Execution_Clean_Amount_TradeCur], 
    [Project1].[Execution_Income_Amount_TradeCur] AS [Execution_Income_Amount_TradeCur], 
    [Project1].[Execution_AllIn_Amount_TradeCur] AS [Execution_AllIn_Amount_TradeCur], 
    [Project1].[Broker_Code] AS [Broker_Code], 
    [Project1].[Execution_Clean_Price] AS [Execution_Clean_Price], 
    [Project1].[Execution_Income_Price] AS [Execution_Income_Price], 
    [Project1].[Execution_AllIn_Price] AS [Execution_AllIn_Price], 
    [Project1].[Execution_Yield] AS [Execution_Yield], 
    [Project1].[Execution_Discount] AS [Execution_Discount], 
    [Project1].[Execution_Currency] AS [Execution_Currency], 
    [Project1].[Execution_Exchange] AS [Execution_Exchange], 
    [Project1].[Target_FX_Rate] AS [Target_FX_Rate], 
    [Project1].[Limit_FX_Rate] AS [Limit_FX_Rate], 
    [Project1].[Execution_FX_Rate] AS [Execution_FX_Rate], 
    [Project1].[Buy_Currency_Code] AS [Buy_Currency_Code], 
    [Project1].[Buy_Currency_Execution_Amount] AS [Buy_Currency_Execution_Amount], 
    [Project1].[Buy_Currency_Target_Amount] AS [Buy_Currency_Target_Amount], 
    [Project1].[Sell_Currency_Code] AS [Sell_Currency_Code], 
    [Project1].[Sell_Currency_Execution_Amount] AS [Sell_Currency_Execution_Amount], 
    [Project1].[Sell_Currency_Target_Amount] AS [Sell_Currency_Target_Amount], 
    [Project1].[Commission_Amount_TradeCur] AS [Commission_Amount_TradeCur], 
    [Project1].[Trade_Type_Indicator] AS [Trade_Type_Indicator], 
    [Project1].[Commission_Rate] AS [Commission_Rate], 
    [Project1].[Commission_Type] AS [Commission_Type], 
    [Project1].[Fee_Code1] AS [Fee_Code1], 
    [Project1].[Fee_Code2] AS [Fee_Code2], 
    [Project1].[Fee_Code3] AS [Fee_Code3], 
    [Project1].[Fee_Code4] AS [Fee_Code4], 
    [Project1].[Fee_Code5] AS [Fee_Code5], 
    [Project1].[Fee_Code6] AS [Fee_Code6], 
    [Project1].[Fee_Amount1_TradeCur] AS [Fee_Amount1_TradeCur], 
    [Project1].[Fee_Amount2_TradeCur] AS [Fee_Amount2_TradeCur], 
    [Project1].[Fee_Amount3_TradeCur] AS [Fee_Amount3_TradeCur], 
    [Project1].[Fee_Amount4_TradeCur] AS [Fee_Amount4_TradeCur], 
    [Project1].[Fee_Amount5_TradeCur] AS [Fee_Amount5_TradeCur], 
    [Project1].[Fee_Amount6_TradeCur] AS [Fee_Amount6_TradeCur], 
    [Project1].[Tax_Amount_TradeCur] AS [Tax_Amount_TradeCur], 
    [Project1].[Tax_Type] AS [Tax_Type], 
    [Project1].[Tax_Charge_FeeNum] AS [Tax_Charge_FeeNum], 
    [Project1].[Execution_Gross_Amount_TradeCur] AS [Execution_Gross_Amount_TradeCur], 
    [Project1].[Execution_Net_Amount_TradeCur] AS [Execution_Net_Amount_TradeCur], 
    [Project1].[Related_Order_ID] AS [Related_Order_ID], 
    [Project1].[Previous_Order_ID] AS [Previous_Order_ID], 
    [Project1].[Authorised_User1] AS [Authorised_User1], 
    [Project1].[Authorised_User1_DateTime] AS [Authorised_User1_DateTime], 
    [Project1].[Authorised_User2] AS [Authorised_User2], 
    [Project1].[Authorised_User2_DateTime] AS [Authorised_User2_DateTime], 
    [Project1].[Authorised_Number] AS [Authorised_Number], 
    [Project1].[Security_Type_Code1] AS [Security_Type_Code1], 
    [Project1].[Export_Status] AS [Export_Status], 
    [Project1].[Order_Ack_Nack_Status] AS [Order_Ack_Nack_Status], 
    [Project1].[Operations_Status] AS [Operations_Status], 
    [Project1].[Import_Trade_ID] AS [Import_Trade_ID]
    FROM ( SELECT 
        [Extent1].[Cash_Transaction_ID] AS [Cash_Transaction_ID], 
        [Extent1].[Portfolio_Code] AS [Portfolio_Code], 
        [Extent1].[Entity_ID] AS [Entity_ID], 
        [Extent1].[Transaction_Security_ID] AS [Transaction_Security_ID], 
        [Extent1].[Cash_Security_ID] AS [Cash_Security_ID], 
        [Extent1].[Transaction_Source_Code] AS [Transaction_Source_Code], 
        [Extent1].[Order_ID] AS [Order_ID], 
        [Extent1].[Allocation_ID] AS [Allocation_ID], 
        [Extent1].[Cashflow_ID] AS [Cashflow_ID], 
        [Extent1].[Dividend_Seq_Number] AS [Dividend_Seq_Number], 
        [Extent1].[External_ID] AS [External_ID], 
        [Extent1].[Transaction_Date] AS [Transaction_Date], 
        [Extent1].[Value_Date] AS [Value_Date], 
        [Extent1].[Cash_Transaction_Type] AS [Cash_Transaction_Type], 
        [Extent1].[Transaction_Amount] AS [Transaction_Amount], 
        [Extent1].[Transaction_Currency_Code] AS [Transaction_Currency_Code], 
        [Extent1].[BaseCur_Amount] AS [BaseCur_Amount], 
        [Extent1].[Create_User_Code] AS [Create_User_Code], 
        [Extent1].[Create_Date] AS [Create_Date], 
        [Extent1].[Last_Update_User] AS [Last_Update_User], 
        [Extent1].[Last_Update_Date] AS [Last_Update_Date], 
        [Extent2].[Security_ID] AS [Security_ID], 
        [Extent2].[Entity_ID] AS [Entity_ID1], 
        [Extent2].[Security_Name] AS [Security_Name], 
        [Extent2].[Short_Name] AS [Short_Name], 
        [Extent2].[Primary_Exch] AS [Primary_Exch], 
        [Extent2].[Secondary_Exch] AS [Secondary_Exch], 
        [Extent2].[Country_Of_Domicile] AS [Country_Of_Domicile], 
        [Extent2].[Country_Of_Risk] AS [Country_Of_Risk], 
        [Extent2].[Security_Type_Code] AS [Security_Type_Code], 
        [Extent2].[Price_Multiplier] AS [Price_Multiplier], 
        [Extent2].[Income_Frequency] AS [Income_Frequency], 
        [Extent2].[Issuer_Code] AS [Issuer_Code], 
        [Extent2].[Ultimate_Issuer_Code] AS [Ultimate_Issuer_Code], 
        [Extent2].[Asset_Currency] AS [Asset_Currency], 
        [Extent2].[Min_Lot_Size] AS [Min_Lot_Size], 
        [Extent2].[Decimal_Precision] AS [Decimal_Precision], 
        [Extent2].[AvePrice_Rounding] AS [AvePrice_Rounding], 
        [Extent2].[Issue_Date] AS [Issue_Date], 
        [Extent2].[Maturity_Date] AS [Maturity_Date], 
        [Extent2].[Coupon_Rate] AS [Coupon_Rate], 
        [Extent2].[Price_Exchange] AS [Price_Exchange], 
        [Extent2].[Trade_Currency] AS [Trade_Currency], 
        [Extent2].[Price_Curr] AS [Price_Curr], 
        [Extent2].[Currency_Pair_Code] AS [Currency_Pair_Code], 
        [Extent2].[Share_Class] AS [Share_Class], 
        [Extent2].[Current_Market_Price] AS [Current_Market_Price], 
        [Extent2].[Index_Type] AS [Index_Type], 
        [Extent2].[Clean_Price_Formula] AS [Clean_Price_Formula], 
        [Extent2].[Accrued_Income_Price_Formula] AS [Accrued_Income_Price_Formula], 
        [Extent2].[Odd_First_Coupon_Date] AS [Odd_First_Coupon_Date], 
        [Extent2].[Odd_Last_Coupon_Date] AS [Odd_Last_Coupon_Date], 
        [Extent2].[Coupon_Anniversary_Indicator] AS [Coupon_Anniversary_Indicator], 
        [Extent2].[Track_EOM_Flag] AS [Track_EOM_Flag], 
        [Extent2].[Next_Coupon_Date] AS [Next_Coupon_Date], 
        [Extent2].[Previous_Coupon_Date] AS [Previous_Coupon_Date], 
        [Extent2].[Payment_Frequency] AS [Payment_Frequency], 
        [Extent2].[Coupon_BusDay_Adjustment] AS [Coupon_BusDay_Adjustment], 
        [Extent2].[Next_Ex_Div_Date] AS [Next_Ex_Div_Date], 
        [Extent2].[Ex_Div_BusDay_Adjustment] AS [Ex_Div_BusDay_Adjustment], 
        [Extent2].[Ex_Div_Period] AS [Ex_Div_Period], 
        [Extent2].[Ticker] AS [Ticker], 
        [Extent2].[Inet_ID] AS [Inet_ID], 
        [Extent2].[Bloomberg_ID] AS [Bloomberg_ID], 
        [Extent2].[External_Sec_ID] AS [External_Sec_ID], 
        [Extent2].[Reuters_ID] AS [Reuters_ID], 
        [Extent2].[ISIN] AS [ISIN], 
        [Extent2].[Call_Account_Flag] AS [Call_Account_Flag], 
        [Extent2].[System_Locked] AS [System_Locked], 
        [Extent2].[Last_Update_User] AS [Last_Update_User1], 
        [Extent2].[Last_Update_Date] AS [Last_Update_Date1], 
        [Extent2].[Security_Status] AS [Security_Status], 
        [Extent2].[Benchmark_Portfolio] AS [Benchmark_Portfolio], 
        [Extent2].[Active_flag] AS [Active_flag], 
        [Extent2].[Dividend_FX_Security_ID] AS [Dividend_FX_Security_ID], 
        [Extent3].[Order_ID] AS [Order_ID1], 
        [Extent3].[Entity_ID] AS [Entity_ID2], 
        [Extent3].[Security_ID] AS [Security_ID1], 
        [Extent3].[Trade_Date] AS [Trade_Date], 
        [Extent3].[Settlement_Date] AS [Settlement_Date], 
        [Extent3].[Transaction_Type] AS [Transaction_Type], 
        [Extent3].[Order_Status] AS [Order_Status], 
        [Extent3].[Cancel_Reason_Code] AS [Cancel_Reason_Code], 
        [Extent3].[Manager] AS [Manager], 
        [Extent3].[Trader] AS [Trader], 
        [Extent3].[Operations_User] AS [Operations_User], 
        [Extent3].[Order_Instruction] AS [Order_Instruction], 
        [Extent3].[Order_Duration] AS [Order_Duration], 
        [Extent3].[Limit_Price] AS [Limit_Price], 
        [Extent3].[Limit_Yield] AS [Limit_Yield], 
        [Extent3].[Limit_Discount] AS [Limit_Discount], 
        [Extent3].[Order_Creator] AS [Order_Creator], 
        [Extent3].[Order_Create_Date] AS [Order_Create_Date], 
        [Extent3].[Last_Update_Date] AS [Last_Update_Date2], 
        [Extent3].[Last_Update_User] AS [Last_Update_User2], 
        [Extent3].[Sent_To_Trading_Date] AS [Sent_To_Trading_Date], 
        [Extent3].[Sent_To_Accounting_Date] AS [Sent_To_Accounting_Date], 
        [Extent3].[Value_Based_Indicator] AS [Value_Based_Indicator], 
        [Extent3].[Target_Clean_Price] AS [Target_Clean_Price], 
        [Extent3].[Target_Income_Price] AS [Target_Income_Price], 
        [Extent3].[Target_AllIn_Price] AS [Target_AllIn_Price], 
        [Extent3].[Target_Yield] AS [Target_Yield], 
        [Extent3].[Target_Discount] AS [Target_Discount], 
        [Extent3].[Target_Quantity] AS [Target_Quantity], 
        [Extent3].[Target_Clean_Amount_TradeCur] AS [Target_Clean_Amount_TradeCur], 
        [Extent3].[Target_Income_Amount_TradeCur] AS [Target_Income_Amount_TradeCur], 
        [Extent3].[Target_AllIn_Amount_TradeCur] AS [Target_AllIn_Amount_TradeCur], 
        [Extent3].[Place_Quantity] AS [Place_Quantity], 
        [Extent3].[Execution_Quantity] AS [Execution_Quantity], 
        [Extent3].[Execution_Clean_Amount_TradeCur] AS [Execution_Clean_Amount_TradeCur], 
        [Extent3].[Execution_Income_Amount_TradeCur] AS [Execution_Income_Amount_TradeCur], 
        [Extent3].[Execution_AllIn_Amount_TradeCur] AS [Execution_AllIn_Amount_TradeCur], 
        [Extent3].[Broker_Code] AS [Broker_Code], 
        [Extent3].[Execution_Clean_Price] AS [Execution_Clean_Price], 
        [Extent3].[Execution_Income_Price] AS [Execution_Income_Price], 
        [Extent3].[Execution_AllIn_Price] AS [Execution_AllIn_Price], 
        [Extent3].[Execution_Yield] AS [Execution_Yield], 
        [Extent3].[Execution_Discount] AS [Execution_Discount], 
        [Extent3].[Execution_Currency] AS [Execution_Currency], 
        [Extent3].[Execution_Exchange] AS [Execution_Exchange], 
        [Extent3].[Target_FX_Rate] AS [Target_FX_Rate], 
        [Extent3].[Limit_FX_Rate] AS [Limit_FX_Rate], 
        [Extent3].[Execution_FX_Rate] AS [Execution_FX_Rate], 
        [Extent3].[Buy_Currency_Code] AS [Buy_Currency_Code], 
        [Extent3].[Buy_Currency_Execution_Amount] AS [Buy_Currency_Execution_Amount], 
        [Extent3].[Buy_Currency_Target_Amount] AS [Buy_Currency_Target_Amount], 
        [Extent3].[Sell_Currency_Code] AS [Sell_Currency_Code], 
        [Extent3].[Sell_Currency_Execution_Amount] AS [Sell_Currency_Execution_Amount], 
        [Extent3].[Sell_Currency_Target_Amount] AS [Sell_Currency_Target_Amount], 
        [Extent3].[Commission_Amount_TradeCur] AS [Commission_Amount_TradeCur], 
        [Extent3].[Trade_Type_Indicator] AS [Trade_Type_Indicator], 
        [Extent3].[Commission_Rate] AS [Commission_Rate], 
        [Extent3].[Commission_Type] AS [Commission_Type], 
        [Extent3].[Fee_Code1] AS [Fee_Code1], 
        [Extent3].[Fee_Code2] AS [Fee_Code2], 
        [Extent3].[Fee_Code3] AS [Fee_Code3], 
        [Extent3].[Fee_Code4] AS [Fee_Code4], 
        [Extent3].[Fee_Code5] AS [Fee_Code5], 
        [Extent3].[Fee_Code6] AS [Fee_Code6], 
        [Extent3].[Fee_Amount1_TradeCur] AS [Fee_Amount1_TradeCur], 
        [Extent3].[Fee_Amount2_TradeCur] AS [Fee_Amount2_TradeCur], 
        [Extent3].[Fee_Amount3_TradeCur] AS [Fee_Amount3_TradeCur], 
        [Extent3].[Fee_Amount4_TradeCur] AS [Fee_Amount4_TradeCur], 
        [Extent3].[Fee_Amount5_TradeCur] AS [Fee_Amount5_TradeCur], 
        [Extent3].[Fee_Amount6_TradeCur] AS [Fee_Amount6_TradeCur], 
        [Extent3].[Tax_Amount_TradeCur] AS [Tax_Amount_TradeCur], 
        [Extent3].[Tax_Type] AS [Tax_Type], 
        [Extent3].[Tax_Charge_FeeNum] AS [Tax_Charge_FeeNum], 
        [Extent3].[Execution_Gross_Amount_TradeCur] AS [Execution_Gross_Amount_TradeCur], 
        [Extent3].[Execution_Net_Amount_TradeCur] AS [Execution_Net_Amount_TradeCur], 
        [Extent3].[Related_Order_ID] AS [Related_Order_ID], 
        [Extent3].[Previous_Order_ID] AS [Previous_Order_ID], 
        [Extent3].[Authorised_User1] AS [Authorised_User1], 
        [Extent3].[Authorised_User1_DateTime] AS [Authorised_User1_DateTime], 
        [Extent3].[Authorised_User2] AS [Authorised_User2], 
        [Extent3].[Authorised_User2_DateTime] AS [Authorised_User2_DateTime], 
        [Extent3].[Authorised_Number] AS [Authorised_Number], 
        [Extent3].[Security_Type_Code] AS [Security_Type_Code1], 
        [Extent3].[Export_Status] AS [Export_Status], 
        [Extent3].[Order_Ack_Nack_Status] AS [Order_Ack_Nack_Status], 
        [Extent3].[Operations_Status] AS [Operations_Status], 
        [Extent3].[Import_Trade_ID] AS [Import_Trade_ID], 
        1 AS [C1]
        FROM   [dbo].[Cash_Transactions] AS [Extent1]
        LEFT OUTER JOIN [dbo].[Security_Detail] AS [Extent2] ON [Extent1].[Transaction_Security_ID] = [Extent2].[Security_ID]
        LEFT OUTER JOIN [dbo].[Order_Detail] AS [Extent3] ON [Extent1].[Order_ID] = [Extent3].[Order_ID]
        WHERE ([Extent1].[Entity_ID] = @p__linq__0) AND ([Extent1].[Portfolio_Code] = @p__linq__1) AND ([Extent1].[Transaction_Date] <= @p__linq__2)
    )  AS [Project1]
    ORDER BY [Project1].[Transaction_Date] DESC
2018-06-03 13:51:46.2854|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: IF db_id(N'MetopeAzureDb') IS NOT NULL SELECT 1 ELSE SELECT Count(*) FROM sys.databases WHERE [name]=N'MetopeAzureDb'
2018-06-03 13:51:46.3519|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: IF db_id(N'MetopeAzureDb') IS NOT NULL SELECT 1 ELSE SELECT Count(*) FROM sys.databases WHERE [name]=N'MetopeAzureDb'
2018-06-03 13:51:46.3950|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: IF db_id(N'MetopeAzureDb') IS NOT NULL SELECT 1 ELSE SELECT Count(*) FROM sys.databases WHERE [name]=N'MetopeAzureDb'
2018-06-03 13:51:46.4565|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: IF db_id(N'MetopeAzureDb') IS NOT NULL SELECT 1 ELSE SELECT Count(*) FROM sys.databases WHERE [name]=N'MetopeAzureDb'
2018-06-03 13:51:57.9889|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: IF db_id(N'MetopeAzureDb') IS NOT NULL SELECT 1 ELSE SELECT Count(*) FROM sys.databases WHERE [name]=N'MetopeAzureDb'
2018-06-03 13:51:58.3586|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: IF db_id(N'MetopeAzureDb') IS NOT NULL SELECT 1 ELSE SELECT Count(*) FROM sys.databases WHERE [name]=N'MetopeAzureDb'
2018-06-03 13:51:58.8219|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: True, Command Text: SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[EntityIdScope] AS [EntityIdScope], 
    [Extent1].[Email] AS [Email], 
    [Extent1].[EmailConfirmed] AS [EmailConfirmed], 
    [Extent1].[PasswordHash] AS [PasswordHash], 
    [Extent1].[SecurityStamp] AS [SecurityStamp], 
    [Extent1].[PhoneNumber] AS [PhoneNumber], 
    [Extent1].[PhoneNumberConfirmed] AS [PhoneNumberConfirmed], 
    [Extent1].[TwoFactorEnabled] AS [TwoFactorEnabled], 
    [Extent1].[LockoutEndDateUtc] AS [LockoutEndDateUtc], 
    [Extent1].[LockoutEnabled] AS [LockoutEnabled], 
    [Extent1].[AccessFailedCount] AS [AccessFailedCount], 
    [Extent1].[UserName] AS [UserName]
    FROM [dbo].[AspNetUsers] AS [Extent1]
    WHERE [Extent1].[Id] = @p0
2018-06-03 13:51:58.9535|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: True, Command Text: SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[EntityIdScope] AS [EntityIdScope], 
    [Extent1].[Email] AS [Email], 
    [Extent1].[EmailConfirmed] AS [EmailConfirmed], 
    [Extent1].[PasswordHash] AS [PasswordHash], 
    [Extent1].[SecurityStamp] AS [SecurityStamp], 
    [Extent1].[PhoneNumber] AS [PhoneNumber], 
    [Extent1].[PhoneNumberConfirmed] AS [PhoneNumberConfirmed], 
    [Extent1].[TwoFactorEnabled] AS [TwoFactorEnabled], 
    [Extent1].[LockoutEndDateUtc] AS [LockoutEndDateUtc], 
    [Extent1].[LockoutEnabled] AS [LockoutEnabled], 
    [Extent1].[AccessFailedCount] AS [AccessFailedCount], 
    [Extent1].[UserName] AS [UserName]
    FROM [dbo].[AspNetUsers] AS [Extent1]
    WHERE [Extent1].[Id] = @p0
2018-06-03 13:51:58.9875|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: True, Command Text: SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[UserId] AS [UserId], 
    [Extent1].[ClaimType] AS [ClaimType], 
    [Extent1].[ClaimValue] AS [ClaimValue]
    FROM [dbo].[AspNetUserClaims] AS [Extent1]
    WHERE [Extent1].[UserId] = @p__linq__0
2018-06-03 13:51:59.0411|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: True, Command Text: SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[UserId] AS [UserId], 
    [Extent1].[ClaimType] AS [ClaimType], 
    [Extent1].[ClaimValue] AS [ClaimValue]
    FROM [dbo].[AspNetUserClaims] AS [Extent1]
    WHERE [Extent1].[UserId] = @p__linq__0
2018-06-03 13:51:59.0716|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: True, Command Text: SELECT 
    [Extent1].[LoginProvider] AS [LoginProvider], 
    [Extent1].[ProviderKey] AS [ProviderKey], 
    [Extent1].[UserId] AS [UserId]
    FROM [dbo].[AspNetUserLogins] AS [Extent1]
    WHERE [Extent1].[UserId] = @p__linq__0
2018-06-03 13:51:59.1667|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: True, Command Text: SELECT 
    [Extent1].[LoginProvider] AS [LoginProvider], 
    [Extent1].[ProviderKey] AS [ProviderKey], 
    [Extent1].[UserId] AS [UserId]
    FROM [dbo].[AspNetUserLogins] AS [Extent1]
    WHERE [Extent1].[UserId] = @p__linq__0
2018-06-03 13:51:59.2067|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: True, Command Text: SELECT 
    [Extent1].[UserId] AS [UserId], 
    [Extent1].[RoleId] AS [RoleId]
    FROM [dbo].[AspNetUserRoles] AS [Extent1]
    WHERE [Extent1].[UserId] = @p__linq__0
2018-06-03 13:51:59.2402|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: True, Command Text: SELECT 
    [Extent1].[UserId] AS [UserId], 
    [Extent1].[RoleId] AS [RoleId]
    FROM [dbo].[AspNetUserRoles] AS [Extent1]
    WHERE [Extent1].[UserId] = @p__linq__0
2018-06-03 13:51:59.7446|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: SELECT 
    [Extent2].[Weekend_Start] AS [Weekend_Start], 
    [Extent1].[Entity_ID] AS [Entity_ID], 
    [Extent1].[Party_Code] AS [Party_Code], 
    [Extent1].[Party_Name] AS [Party_Name], 
    [Extent1].[Party_Type] AS [Party_Type], 
    [Extent1].[Financial_Year_End] AS [Financial_Year_End], 
    [Extent1].[Country_Code] AS [Country_Code], 
    [Extent1].[System_Locked] AS [System_Locked], 
    [Extent1].[SWIFT_ID] AS [SWIFT_ID], 
    [Extent1].[BIC_Code] AS [BIC_Code], 
    [Extent2].[Country_Code] AS [Country_Code1], 
    [Extent2].[Country_Name] AS [Country_Name], 
    [Extent2].[Weekend_End] AS [Weekend_End], 
    [Extent2].[ISO_Country_Code] AS [ISO_Country_Code], 
    [Extent2].[BB_Country_Code] AS [BB_Country_Code], 
    [Extent2].[system_locked] AS [System_Locked1], 
    [Extent3].[Entity_ID] AS [Entity_ID1], 
    [Extent3].[Entity_Code] AS [Entity_Code], 
    [Extent3].[Entity_Name] AS [Entity_Name], 
    [Extent3].[Import_Folder] AS [Import_Folder], 
    [Extent3].[Export_Folder] AS [Export_Folder]
    FROM   [dbo].[Party] AS [Extent1]
    INNER JOIN [dbo].[Country] AS [Extent2] ON [Extent1].[Country_Code] = [Extent2].[Country_Code]
    INNER JOIN [dbo].[Entity] AS [Extent3] ON [Extent1].[Entity_ID] = [Extent3].[Entity_ID]
    WHERE [Extent1].[Entity_ID] IN (@p__linq__0,@p__linq__1)
2018-06-03 13:51:59.8351|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: SELECT 
    [Extent2].[Weekend_Start] AS [Weekend_Start], 
    [Extent1].[Entity_ID] AS [Entity_ID], 
    [Extent1].[Party_Code] AS [Party_Code], 
    [Extent1].[Party_Name] AS [Party_Name], 
    [Extent1].[Party_Type] AS [Party_Type], 
    [Extent1].[Financial_Year_End] AS [Financial_Year_End], 
    [Extent1].[Country_Code] AS [Country_Code], 
    [Extent1].[System_Locked] AS [System_Locked], 
    [Extent1].[SWIFT_ID] AS [SWIFT_ID], 
    [Extent1].[BIC_Code] AS [BIC_Code], 
    [Extent2].[Country_Code] AS [Country_Code1], 
    [Extent2].[Country_Name] AS [Country_Name], 
    [Extent2].[Weekend_End] AS [Weekend_End], 
    [Extent2].[ISO_Country_Code] AS [ISO_Country_Code], 
    [Extent2].[BB_Country_Code] AS [BB_Country_Code], 
    [Extent2].[system_locked] AS [System_Locked1], 
    [Extent3].[Entity_ID] AS [Entity_ID1], 
    [Extent3].[Entity_Code] AS [Entity_Code], 
    [Extent3].[Entity_Name] AS [Entity_Name], 
    [Extent3].[Import_Folder] AS [Import_Folder], 
    [Extent3].[Export_Folder] AS [Export_Folder]
    FROM   [dbo].[Party] AS [Extent1]
    INNER JOIN [dbo].[Country] AS [Extent2] ON [Extent1].[Country_Code] = [Extent2].[Country_Code]
    INNER JOIN [dbo].[Entity] AS [Extent3] ON [Extent1].[Entity_ID] = [Extent3].[Entity_ID]
    WHERE [Extent1].[Entity_ID] IN (@p__linq__0,@p__linq__1)
2018-06-03 13:52:05.0163|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: IF db_id(N'MetopeAzureDb') IS NOT NULL SELECT 1 ELSE SELECT Count(*) FROM sys.databases WHERE [name]=N'MetopeAzureDb'
2018-06-03 13:52:05.0568|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: IF db_id(N'MetopeAzureDb') IS NOT NULL SELECT 1 ELSE SELECT Count(*) FROM sys.databases WHERE [name]=N'MetopeAzureDb'
2018-06-03 13:52:05.0993|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: IF db_id(N'MetopeAzureDb') IS NOT NULL SELECT 1 ELSE SELECT Count(*) FROM sys.databases WHERE [name]=N'MetopeAzureDb'
2018-06-03 13:52:05.1088|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: IF db_id(N'MetopeAzureDb') IS NOT NULL SELECT 1 ELSE SELECT Count(*) FROM sys.databases WHERE [name]=N'MetopeAzureDb'
2018-06-03 13:57:30.8576|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: select cast(serverproperty('EngineEdition') as int)
2018-06-03 13:57:30.9182|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: select cast(serverproperty('EngineEdition') as int)
2018-06-03 13:57:31.7038|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: IF db_id(N'MetopeAzureDb') IS NOT NULL SELECT 1 ELSE SELECT Count(*) FROM sys.databases WHERE [name]=N'MetopeAzureDb'
2018-06-03 13:57:31.8930|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: IF db_id(N'MetopeAzureDb') IS NOT NULL SELECT 1 ELSE SELECT Count(*) FROM sys.databases WHERE [name]=N'MetopeAzureDb'
2018-06-03 13:57:32.7876|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: IF db_id(N'MetopeAzureDb') IS NOT NULL SELECT 1 ELSE SELECT Count(*) FROM sys.databases WHERE [name]=N'MetopeAzureDb'
2018-06-03 13:57:32.7876|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: IF db_id(N'MetopeAzureDb') IS NOT NULL SELECT 1 ELSE SELECT Count(*) FROM sys.databases WHERE [name]=N'MetopeAzureDb'
2018-06-03 13:57:32.9012|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: IF db_id(N'MetopeAzureDb') IS NOT NULL SELECT 1 ELSE SELECT Count(*) FROM sys.databases WHERE [name]=N'MetopeAzureDb'
2018-06-03 13:57:32.9482|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: IF db_id(N'MetopeAzureDb') IS NOT NULL SELECT 1 ELSE SELECT Count(*) FROM sys.databases WHERE [name]=N'MetopeAzureDb'
2018-06-03 13:57:32.9822|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: 
SELECT Count(*)
FROM INFORMATION_SCHEMA.TABLES AS t
WHERE t.TABLE_SCHEMA + '.' + t.TABLE_NAME IN ('dbo.AspNetRoles','dbo.AspNetUserRoles','dbo.AspNetUsers','dbo.AspNetUserClaims','dbo.AspNetUserLogins')
    OR t.TABLE_NAME = 'EdmMetadata'
2018-06-03 13:57:33.0763|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: 
SELECT Count(*)
FROM INFORMATION_SCHEMA.TABLES AS t
WHERE t.TABLE_SCHEMA + '.' + t.TABLE_NAME IN ('dbo.AspNetRoles','dbo.AspNetUserRoles','dbo.AspNetUsers','dbo.AspNetUserClaims','dbo.AspNetUserLogins')
    OR t.TABLE_NAME = 'EdmMetadata'
2018-06-03 13:57:33.4704|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: SELECT 
    [GroupBy1].[A1] AS [C1]
    FROM ( SELECT 
        COUNT(1) AS [A1]
        FROM [dbo].[__MigrationHistory] AS [Extent1]
        WHERE [Extent1].[ContextKey] = @p__linq__0
    )  AS [GroupBy1]
2018-06-03 13:57:33.4864|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: SELECT 
    [GroupBy1].[A1] AS [C1]
    FROM ( SELECT 
        COUNT(1) AS [A1]
        FROM [dbo].[__MigrationHistory] AS [Extent1]
        WHERE [Extent1].[ContextKey] = @p__linq__0
    )  AS [GroupBy1]
2018-06-03 13:57:33.5195|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: SELECT TOP (1) 
    [Project1].[C1] AS [C1], 
    [Project1].[MigrationId] AS [MigrationId], 
    [Project1].[Model] AS [Model], 
    [Project1].[ProductVersion] AS [ProductVersion]
    FROM ( SELECT 
        [Extent1].[MigrationId] AS [MigrationId], 
        [Extent1].[Model] AS [Model], 
        [Extent1].[ProductVersion] AS [ProductVersion], 
        1 AS [C1]
        FROM [dbo].[__MigrationHistory] AS [Extent1]
        WHERE [Extent1].[ContextKey] = @p__linq__0
    )  AS [Project1]
    ORDER BY [Project1].[MigrationId] DESC
2018-06-03 13:57:33.5355|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: SELECT TOP (1) 
    [Project1].[C1] AS [C1], 
    [Project1].[MigrationId] AS [MigrationId], 
    [Project1].[Model] AS [Model], 
    [Project1].[ProductVersion] AS [ProductVersion]
    FROM ( SELECT 
        [Extent1].[MigrationId] AS [MigrationId], 
        [Extent1].[Model] AS [Model], 
        [Extent1].[ProductVersion] AS [ProductVersion], 
        1 AS [C1]
        FROM [dbo].[__MigrationHistory] AS [Extent1]
        WHERE [Extent1].[ContextKey] = @p__linq__0
    )  AS [Project1]
    ORDER BY [Project1].[MigrationId] DESC
2018-06-03 13:57:33.7877|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: True, Command Text: SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[EntityIdScope] AS [EntityIdScope], 
    [Extent1].[Email] AS [Email], 
    [Extent1].[EmailConfirmed] AS [EmailConfirmed], 
    [Extent1].[PasswordHash] AS [PasswordHash], 
    [Extent1].[SecurityStamp] AS [SecurityStamp], 
    [Extent1].[PhoneNumber] AS [PhoneNumber], 
    [Extent1].[PhoneNumberConfirmed] AS [PhoneNumberConfirmed], 
    [Extent1].[TwoFactorEnabled] AS [TwoFactorEnabled], 
    [Extent1].[LockoutEndDateUtc] AS [LockoutEndDateUtc], 
    [Extent1].[LockoutEnabled] AS [LockoutEnabled], 
    [Extent1].[AccessFailedCount] AS [AccessFailedCount], 
    [Extent1].[UserName] AS [UserName]
    FROM [dbo].[AspNetUsers] AS [Extent1]
    WHERE [Extent1].[Id] = @p0
2018-06-03 13:57:33.8047|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: True, Command Text: SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[EntityIdScope] AS [EntityIdScope], 
    [Extent1].[Email] AS [Email], 
    [Extent1].[EmailConfirmed] AS [EmailConfirmed], 
    [Extent1].[PasswordHash] AS [PasswordHash], 
    [Extent1].[SecurityStamp] AS [SecurityStamp], 
    [Extent1].[PhoneNumber] AS [PhoneNumber], 
    [Extent1].[PhoneNumberConfirmed] AS [PhoneNumberConfirmed], 
    [Extent1].[TwoFactorEnabled] AS [TwoFactorEnabled], 
    [Extent1].[LockoutEndDateUtc] AS [LockoutEndDateUtc], 
    [Extent1].[LockoutEnabled] AS [LockoutEnabled], 
    [Extent1].[AccessFailedCount] AS [AccessFailedCount], 
    [Extent1].[UserName] AS [UserName]
    FROM [dbo].[AspNetUsers] AS [Extent1]
    WHERE [Extent1].[Id] = @p0
2018-06-03 13:57:33.9309|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: True, Command Text: SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[UserId] AS [UserId], 
    [Extent1].[ClaimType] AS [ClaimType], 
    [Extent1].[ClaimValue] AS [ClaimValue]
    FROM [dbo].[AspNetUserClaims] AS [Extent1]
    WHERE [Extent1].[UserId] = @p__linq__0
2018-06-03 13:57:33.9569|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: True, Command Text: SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[UserId] AS [UserId], 
    [Extent1].[ClaimType] AS [ClaimType], 
    [Extent1].[ClaimValue] AS [ClaimValue]
    FROM [dbo].[AspNetUserClaims] AS [Extent1]
    WHERE [Extent1].[UserId] = @p__linq__0
2018-06-03 13:57:34.0119|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: True, Command Text: SELECT 
    [Extent1].[LoginProvider] AS [LoginProvider], 
    [Extent1].[ProviderKey] AS [ProviderKey], 
    [Extent1].[UserId] AS [UserId]
    FROM [dbo].[AspNetUserLogins] AS [Extent1]
    WHERE [Extent1].[UserId] = @p__linq__0
2018-06-03 13:57:34.0269|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: True, Command Text: SELECT 
    [Extent1].[LoginProvider] AS [LoginProvider], 
    [Extent1].[ProviderKey] AS [ProviderKey], 
    [Extent1].[UserId] AS [UserId]
    FROM [dbo].[AspNetUserLogins] AS [Extent1]
    WHERE [Extent1].[UserId] = @p__linq__0
2018-06-03 13:57:34.0740|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: True, Command Text: SELECT 
    [Extent1].[UserId] AS [UserId], 
    [Extent1].[RoleId] AS [RoleId]
    FROM [dbo].[AspNetUserRoles] AS [Extent1]
    WHERE [Extent1].[UserId] = @p__linq__0
2018-06-03 13:57:34.0860|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: True, Command Text: SELECT 
    [Extent1].[UserId] AS [UserId], 
    [Extent1].[RoleId] AS [RoleId]
    FROM [dbo].[AspNetUserRoles] AS [Extent1]
    WHERE [Extent1].[UserId] = @p__linq__0
2018-06-03 13:57:34.3062|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: True, Command Text: SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[EntityIdScope] AS [EntityIdScope], 
    [Extent1].[Email] AS [Email], 
    [Extent1].[EmailConfirmed] AS [EmailConfirmed], 
    [Extent1].[PasswordHash] AS [PasswordHash], 
    [Extent1].[SecurityStamp] AS [SecurityStamp], 
    [Extent1].[PhoneNumber] AS [PhoneNumber], 
    [Extent1].[PhoneNumberConfirmed] AS [PhoneNumberConfirmed], 
    [Extent1].[TwoFactorEnabled] AS [TwoFactorEnabled], 
    [Extent1].[LockoutEndDateUtc] AS [LockoutEndDateUtc], 
    [Extent1].[LockoutEnabled] AS [LockoutEnabled], 
    [Extent1].[AccessFailedCount] AS [AccessFailedCount], 
    [Extent1].[UserName] AS [UserName]
    FROM [dbo].[AspNetUsers] AS [Extent1]
    WHERE [Extent1].[Id] = @p0
2018-06-03 13:57:34.3062|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: True, Command Text: SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[EntityIdScope] AS [EntityIdScope], 
    [Extent1].[Email] AS [Email], 
    [Extent1].[EmailConfirmed] AS [EmailConfirmed], 
    [Extent1].[PasswordHash] AS [PasswordHash], 
    [Extent1].[SecurityStamp] AS [SecurityStamp], 
    [Extent1].[PhoneNumber] AS [PhoneNumber], 
    [Extent1].[PhoneNumberConfirmed] AS [PhoneNumberConfirmed], 
    [Extent1].[TwoFactorEnabled] AS [TwoFactorEnabled], 
    [Extent1].[LockoutEndDateUtc] AS [LockoutEndDateUtc], 
    [Extent1].[LockoutEnabled] AS [LockoutEnabled], 
    [Extent1].[AccessFailedCount] AS [AccessFailedCount], 
    [Extent1].[UserName] AS [UserName]
    FROM [dbo].[AspNetUsers] AS [Extent1]
    WHERE [Extent1].[Id] = @p0
2018-06-03 13:57:34.3272|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: True, Command Text: SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[UserId] AS [UserId], 
    [Extent1].[ClaimType] AS [ClaimType], 
    [Extent1].[ClaimValue] AS [ClaimValue]
    FROM [dbo].[AspNetUserClaims] AS [Extent1]
    WHERE [Extent1].[UserId] = @p__linq__0
2018-06-03 13:57:34.3392|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: True, Command Text: SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[UserId] AS [UserId], 
    [Extent1].[ClaimType] AS [ClaimType], 
    [Extent1].[ClaimValue] AS [ClaimValue]
    FROM [dbo].[AspNetUserClaims] AS [Extent1]
    WHERE [Extent1].[UserId] = @p__linq__0
2018-06-03 13:57:34.3392|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: True, Command Text: SELECT 
    [Extent1].[LoginProvider] AS [LoginProvider], 
    [Extent1].[ProviderKey] AS [ProviderKey], 
    [Extent1].[UserId] AS [UserId]
    FROM [dbo].[AspNetUserLogins] AS [Extent1]
    WHERE [Extent1].[UserId] = @p__linq__0
2018-06-03 13:57:34.3622|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: True, Command Text: SELECT 
    [Extent1].[LoginProvider] AS [LoginProvider], 
    [Extent1].[ProviderKey] AS [ProviderKey], 
    [Extent1].[UserId] AS [UserId]
    FROM [dbo].[AspNetUserLogins] AS [Extent1]
    WHERE [Extent1].[UserId] = @p__linq__0
2018-06-03 13:57:34.3732|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: True, Command Text: SELECT 
    [Extent1].[UserId] AS [UserId], 
    [Extent1].[RoleId] AS [RoleId]
    FROM [dbo].[AspNetUserRoles] AS [Extent1]
    WHERE [Extent1].[UserId] = @p__linq__0
2018-06-03 13:57:34.3903|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: True, Command Text: SELECT 
    [Extent1].[UserId] AS [UserId], 
    [Extent1].[RoleId] AS [RoleId]
    FROM [dbo].[AspNetUserRoles] AS [Extent1]
    WHERE [Extent1].[UserId] = @p__linq__0
2018-06-03 13:57:35.3304|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: SELECT TOP (2) 
    [Extent1].[Entity_ID] AS [Entity_ID], 
    [Extent1].[Entity_Code] AS [Entity_Code], 
    [Extent1].[Entity_Name] AS [Entity_Name], 
    [Extent1].[Import_Folder] AS [Import_Folder], 
    [Extent1].[Export_Folder] AS [Export_Folder]
    FROM [dbo].[Entity] AS [Extent1]
    WHERE [Extent1].[Entity_ID] = @p0
2018-06-03 13:57:35.3660|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: SELECT TOP (2) 
    [Extent1].[Entity_ID] AS [Entity_ID], 
    [Extent1].[Entity_Code] AS [Entity_Code], 
    [Extent1].[Entity_Name] AS [Entity_Name], 
    [Extent1].[Import_Folder] AS [Import_Folder], 
    [Extent1].[Export_Folder] AS [Export_Folder]
    FROM [dbo].[Entity] AS [Extent1]
    WHERE [Extent1].[Entity_ID] = @p0
2018-06-03 13:57:57.5233|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: IF db_id(N'MetopeAzureDb') IS NOT NULL SELECT 1 ELSE SELECT Count(*) FROM sys.databases WHERE [name]=N'MetopeAzureDb'
2018-06-03 13:57:57.5513|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: IF db_id(N'MetopeAzureDb') IS NOT NULL SELECT 1 ELSE SELECT Count(*) FROM sys.databases WHERE [name]=N'MetopeAzureDb'
2018-06-03 13:57:57.6864|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: IF db_id(N'MetopeAzureDb') IS NOT NULL SELECT 1 ELSE SELECT Count(*) FROM sys.databases WHERE [name]=N'MetopeAzureDb'
2018-06-03 13:57:57.7449|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: IF db_id(N'MetopeAzureDb') IS NOT NULL SELECT 1 ELSE SELECT Count(*) FROM sys.databases WHERE [name]=N'MetopeAzureDb'
