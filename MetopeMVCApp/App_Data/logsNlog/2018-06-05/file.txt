2018-06-05 10:54:13.4140|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: select cast(serverproperty('EngineEdition') as int)
2018-06-05 10:54:13.6292|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: select cast(serverproperty('EngineEdition') as int)
2018-06-05 10:54:15.4200|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: IF db_id(N'MetopeAzureDb') IS NOT NULL SELECT 1 ELSE SELECT Count(*) FROM sys.databases WHERE [name]=N'MetopeAzureDb'
2018-06-05 10:54:15.8343|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: IF db_id(N'MetopeAzureDb') IS NOT NULL SELECT 1 ELSE SELECT Count(*) FROM sys.databases WHERE [name]=N'MetopeAzureDb'
2018-06-05 10:54:48.1997|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: IF db_id(N'MetopeAzureDb') IS NOT NULL SELECT 1 ELSE SELECT Count(*) FROM sys.databases WHERE [name]=N'MetopeAzureDb'
2018-06-05 10:54:48.5240|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: IF db_id(N'MetopeAzureDb') IS NOT NULL SELECT 1 ELSE SELECT Count(*) FROM sys.databases WHERE [name]=N'MetopeAzureDb'
2018-06-05 10:54:49.1214|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: IF db_id(N'MetopeAzureDb') IS NOT NULL SELECT 1 ELSE SELECT Count(*) FROM sys.databases WHERE [name]=N'MetopeAzureDb'
2018-06-05 10:54:49.1669|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: IF db_id(N'MetopeAzureDb') IS NOT NULL SELECT 1 ELSE SELECT Count(*) FROM sys.databases WHERE [name]=N'MetopeAzureDb'
2018-06-05 10:54:49.2180|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: 
SELECT Count(*)
FROM INFORMATION_SCHEMA.TABLES AS t
WHERE t.TABLE_SCHEMA + '.' + t.TABLE_NAME IN ('dbo.AspNetRoles','dbo.AspNetUserRoles','dbo.AspNetUsers','dbo.AspNetUserClaims','dbo.AspNetUserLogins')
    OR t.TABLE_NAME = 'EdmMetadata'
2018-06-05 10:54:49.4476|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: 
SELECT Count(*)
FROM INFORMATION_SCHEMA.TABLES AS t
WHERE t.TABLE_SCHEMA + '.' + t.TABLE_NAME IN ('dbo.AspNetRoles','dbo.AspNetUserRoles','dbo.AspNetUsers','dbo.AspNetUserClaims','dbo.AspNetUserLogins')
    OR t.TABLE_NAME = 'EdmMetadata'
2018-06-05 10:54:50.4813|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: SELECT 
    [GroupBy1].[A1] AS [C1]
    FROM ( SELECT 
        COUNT(1) AS [A1]
        FROM [dbo].[__MigrationHistory] AS [Extent1]
        WHERE [Extent1].[ContextKey] = @p__linq__0
    )  AS [GroupBy1]
2018-06-05 10:54:50.6293|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: SELECT 
    [GroupBy1].[A1] AS [C1]
    FROM ( SELECT 
        COUNT(1) AS [A1]
        FROM [dbo].[__MigrationHistory] AS [Extent1]
        WHERE [Extent1].[ContextKey] = @p__linq__0
    )  AS [GroupBy1]
2018-06-05 10:54:50.7434|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: SELECT TOP (1) 
    [Project1].[C1] AS [C1], 
    [Project1].[MigrationId] AS [MigrationId], 
    [Project1].[Model] AS [Model], 
    [Project1].[ProductVersion] AS [ProductVersion]
    FROM ( SELECT 
        [Extent1].[MigrationId] AS [MigrationId], 
        [Extent1].[Model] AS [Model], 
        [Extent1].[ProductVersion] AS [ProductVersion], 
        1 AS [C1]
        FROM [dbo].[__MigrationHistory] AS [Extent1]
        WHERE [Extent1].[ContextKey] = @p__linq__0
    )  AS [Project1]
    ORDER BY [Project1].[MigrationId] DESC
2018-06-05 10:54:50.7834|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: SELECT TOP (1) 
    [Project1].[C1] AS [C1], 
    [Project1].[MigrationId] AS [MigrationId], 
    [Project1].[Model] AS [Model], 
    [Project1].[ProductVersion] AS [ProductVersion]
    FROM ( SELECT 
        [Extent1].[MigrationId] AS [MigrationId], 
        [Extent1].[Model] AS [Model], 
        [Extent1].[ProductVersion] AS [ProductVersion], 
        1 AS [C1]
        FROM [dbo].[__MigrationHistory] AS [Extent1]
        WHERE [Extent1].[ContextKey] = @p__linq__0
    )  AS [Project1]
    ORDER BY [Project1].[MigrationId] DESC
2018-06-05 10:54:51.8892|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: True, Command Text: SELECT TOP (1) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[EntityIdScope] AS [EntityIdScope], 
    [Extent1].[Email] AS [Email], 
    [Extent1].[EmailConfirmed] AS [EmailConfirmed], 
    [Extent1].[PasswordHash] AS [PasswordHash], 
    [Extent1].[SecurityStamp] AS [SecurityStamp], 
    [Extent1].[PhoneNumber] AS [PhoneNumber], 
    [Extent1].[PhoneNumberConfirmed] AS [PhoneNumberConfirmed], 
    [Extent1].[TwoFactorEnabled] AS [TwoFactorEnabled], 
    [Extent1].[LockoutEndDateUtc] AS [LockoutEndDateUtc], 
    [Extent1].[LockoutEnabled] AS [LockoutEnabled], 
    [Extent1].[AccessFailedCount] AS [AccessFailedCount], 
    [Extent1].[UserName] AS [UserName]
    FROM [dbo].[AspNetUsers] AS [Extent1]
    WHERE ((UPPER([Extent1].[UserName])) = (UPPER(@p__linq__0))) OR ((UPPER([Extent1].[UserName]) IS NULL) AND (UPPER(@p__linq__0) IS NULL))
2018-06-05 10:54:51.9787|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: True, Command Text: SELECT TOP (1) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[EntityIdScope] AS [EntityIdScope], 
    [Extent1].[Email] AS [Email], 
    [Extent1].[EmailConfirmed] AS [EmailConfirmed], 
    [Extent1].[PasswordHash] AS [PasswordHash], 
    [Extent1].[SecurityStamp] AS [SecurityStamp], 
    [Extent1].[PhoneNumber] AS [PhoneNumber], 
    [Extent1].[PhoneNumberConfirmed] AS [PhoneNumberConfirmed], 
    [Extent1].[TwoFactorEnabled] AS [TwoFactorEnabled], 
    [Extent1].[LockoutEndDateUtc] AS [LockoutEndDateUtc], 
    [Extent1].[LockoutEnabled] AS [LockoutEnabled], 
    [Extent1].[AccessFailedCount] AS [AccessFailedCount], 
    [Extent1].[UserName] AS [UserName]
    FROM [dbo].[AspNetUsers] AS [Extent1]
    WHERE ((UPPER([Extent1].[UserName])) = (UPPER(@p__linq__0))) OR ((UPPER([Extent1].[UserName]) IS NULL) AND (UPPER(@p__linq__0) IS NULL))
2018-06-05 10:54:52.2079|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: True, Command Text: SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[UserId] AS [UserId], 
    [Extent1].[ClaimType] AS [ClaimType], 
    [Extent1].[ClaimValue] AS [ClaimValue]
    FROM [dbo].[AspNetUserClaims] AS [Extent1]
    WHERE [Extent1].[UserId] = @p__linq__0
2018-06-05 10:54:52.2594|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: True, Command Text: SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[UserId] AS [UserId], 
    [Extent1].[ClaimType] AS [ClaimType], 
    [Extent1].[ClaimValue] AS [ClaimValue]
    FROM [dbo].[AspNetUserClaims] AS [Extent1]
    WHERE [Extent1].[UserId] = @p__linq__0
2018-06-05 10:54:52.4110|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: True, Command Text: SELECT 
    [Extent1].[LoginProvider] AS [LoginProvider], 
    [Extent1].[ProviderKey] AS [ProviderKey], 
    [Extent1].[UserId] AS [UserId]
    FROM [dbo].[AspNetUserLogins] AS [Extent1]
    WHERE [Extent1].[UserId] = @p__linq__0
2018-06-05 10:54:52.4476|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: True, Command Text: SELECT 
    [Extent1].[LoginProvider] AS [LoginProvider], 
    [Extent1].[ProviderKey] AS [ProviderKey], 
    [Extent1].[UserId] AS [UserId]
    FROM [dbo].[AspNetUserLogins] AS [Extent1]
    WHERE [Extent1].[UserId] = @p__linq__0
2018-06-05 10:54:52.5301|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: True, Command Text: SELECT 
    [Extent1].[UserId] AS [UserId], 
    [Extent1].[RoleId] AS [RoleId]
    FROM [dbo].[AspNetUserRoles] AS [Extent1]
    WHERE [Extent1].[UserId] = @p__linq__0
2018-06-05 10:54:52.5486|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: True, Command Text: SELECT 
    [Extent1].[UserId] AS [UserId], 
    [Extent1].[RoleId] AS [RoleId]
    FROM [dbo].[AspNetUserRoles] AS [Extent1]
    WHERE [Extent1].[UserId] = @p__linq__0
2018-06-05 10:54:52.6926|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: True, Command Text: SELECT 
    [Extent2].[Name] AS [Name]
    FROM  [dbo].[AspNetUserRoles] AS [Extent1]
    INNER JOIN [dbo].[AspNetRoles] AS [Extent2] ON [Extent1].[RoleId] = [Extent2].[Id]
    WHERE [Extent1].[UserId] = @p__linq__0
2018-06-05 10:54:52.7166|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: True, Command Text: SELECT 
    [Extent2].[Name] AS [Name]
    FROM  [dbo].[AspNetUserRoles] AS [Extent1]
    INNER JOIN [dbo].[AspNetRoles] AS [Extent2] ON [Extent1].[RoleId] = [Extent2].[Id]
    WHERE [Extent1].[UserId] = @p__linq__0
2018-06-05 10:56:47.3908|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: IF db_id(N'MetopeAzureDb') IS NOT NULL SELECT 1 ELSE SELECT Count(*) FROM sys.databases WHERE [name]=N'MetopeAzureDb'
2018-06-05 10:56:47.5988|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: IF db_id(N'MetopeAzureDb') IS NOT NULL SELECT 1 ELSE SELECT Count(*) FROM sys.databases WHERE [name]=N'MetopeAzureDb'
2018-06-05 10:56:47.7669|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: True, Command Text: SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[EntityIdScope] AS [EntityIdScope], 
    [Extent1].[Email] AS [Email], 
    [Extent1].[EmailConfirmed] AS [EmailConfirmed], 
    [Extent1].[PasswordHash] AS [PasswordHash], 
    [Extent1].[SecurityStamp] AS [SecurityStamp], 
    [Extent1].[PhoneNumber] AS [PhoneNumber], 
    [Extent1].[PhoneNumberConfirmed] AS [PhoneNumberConfirmed], 
    [Extent1].[TwoFactorEnabled] AS [TwoFactorEnabled], 
    [Extent1].[LockoutEndDateUtc] AS [LockoutEndDateUtc], 
    [Extent1].[LockoutEnabled] AS [LockoutEnabled], 
    [Extent1].[AccessFailedCount] AS [AccessFailedCount], 
    [Extent1].[UserName] AS [UserName]
    FROM [dbo].[AspNetUsers] AS [Extent1]
    WHERE [Extent1].[Id] = @p0
2018-06-05 10:56:47.8135|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: True, Command Text: SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[EntityIdScope] AS [EntityIdScope], 
    [Extent1].[Email] AS [Email], 
    [Extent1].[EmailConfirmed] AS [EmailConfirmed], 
    [Extent1].[PasswordHash] AS [PasswordHash], 
    [Extent1].[SecurityStamp] AS [SecurityStamp], 
    [Extent1].[PhoneNumber] AS [PhoneNumber], 
    [Extent1].[PhoneNumberConfirmed] AS [PhoneNumberConfirmed], 
    [Extent1].[TwoFactorEnabled] AS [TwoFactorEnabled], 
    [Extent1].[LockoutEndDateUtc] AS [LockoutEndDateUtc], 
    [Extent1].[LockoutEnabled] AS [LockoutEnabled], 
    [Extent1].[AccessFailedCount] AS [AccessFailedCount], 
    [Extent1].[UserName] AS [UserName]
    FROM [dbo].[AspNetUsers] AS [Extent1]
    WHERE [Extent1].[Id] = @p0
2018-06-05 10:56:47.8510|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: True, Command Text: SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[UserId] AS [UserId], 
    [Extent1].[ClaimType] AS [ClaimType], 
    [Extent1].[ClaimValue] AS [ClaimValue]
    FROM [dbo].[AspNetUserClaims] AS [Extent1]
    WHERE [Extent1].[UserId] = @p__linq__0
2018-06-05 10:56:47.8995|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: True, Command Text: SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[UserId] AS [UserId], 
    [Extent1].[ClaimType] AS [ClaimType], 
    [Extent1].[ClaimValue] AS [ClaimValue]
    FROM [dbo].[AspNetUserClaims] AS [Extent1]
    WHERE [Extent1].[UserId] = @p__linq__0
2018-06-05 10:56:47.9355|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: True, Command Text: SELECT 
    [Extent1].[LoginProvider] AS [LoginProvider], 
    [Extent1].[ProviderKey] AS [ProviderKey], 
    [Extent1].[UserId] AS [UserId]
    FROM [dbo].[AspNetUserLogins] AS [Extent1]
    WHERE [Extent1].[UserId] = @p__linq__0
2018-06-05 10:56:47.9941|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: True, Command Text: SELECT 
    [Extent1].[LoginProvider] AS [LoginProvider], 
    [Extent1].[ProviderKey] AS [ProviderKey], 
    [Extent1].[UserId] AS [UserId]
    FROM [dbo].[AspNetUserLogins] AS [Extent1]
    WHERE [Extent1].[UserId] = @p__linq__0
2018-06-05 10:56:48.0381|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: True, Command Text: SELECT 
    [Extent1].[UserId] AS [UserId], 
    [Extent1].[RoleId] AS [RoleId]
    FROM [dbo].[AspNetUserRoles] AS [Extent1]
    WHERE [Extent1].[UserId] = @p__linq__0
2018-06-05 10:56:48.0736|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: True, Command Text: SELECT 
    [Extent1].[UserId] AS [UserId], 
    [Extent1].[RoleId] AS [RoleId]
    FROM [dbo].[AspNetUserRoles] AS [Extent1]
    WHERE [Extent1].[UserId] = @p__linq__0
2018-06-05 10:56:50.7652|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: SELECT 
    [Project1].[Classification_Code] AS [Classification_Code], 
    [Project1].[Description] AS [Description], 
    [Project1].[Industry_Code] AS [Industry_Code], 
    [Project1].[Entity_ID] AS [Entity_ID], 
    [Project1].[Last_Update_Date] AS [Last_Update_Date], 
    [Project1].[Last_Update_User] AS [Last_Update_User], 
    [Project1].[System_Locked] AS [System_Locked]
    FROM ( SELECT 
        [Extent1].[Classification_Code] AS [Classification_Code], 
        [Extent1].[Description] AS [Description], 
        [Extent1].[Industry_Code] AS [Industry_Code], 
        [Extent1].[Entity_ID] AS [Entity_ID], 
        [Extent1].[Last_Update_Date] AS [Last_Update_Date], 
        [Extent1].[Last_Update_User] AS [Last_Update_User], 
        [Extent1].[System_Locked] AS [System_Locked]
        FROM [dbo].[Classification_Industry] AS [Extent1]
        WHERE ([Extent1].[Entity_ID] = @p__linq__0) AND ((CASE WHEN ( NOT ((N'' = @p__linq__1) AND (@p__linq__1 IS NOT NULL))) THEN CASE WHEN ([Extent1].[Classification_Code] = @p__linq__2) THEN cast(1 as bit) WHEN ( NOT (([Extent1].[Classification_Code] = @p__linq__2) AND (0 = (CASE WHEN (@p__linq__2 IS NULL) THEN cast(1 as bit) ELSE cast(0 as bit) END)))) THEN cast(0 as bit) END WHEN ('' <> [Extent1].[Classification_Code]) THEN cast(1 as bit) WHEN ('' = [Extent1].[Classification_Code]) THEN cast(0 as bit) END) = 1)
    )  AS [Project1]
    ORDER BY [Project1].[Description] ASC
2018-06-05 10:56:50.7972|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: SELECT 
    [Project1].[Classification_Code] AS [Classification_Code], 
    [Project1].[Description] AS [Description], 
    [Project1].[Industry_Code] AS [Industry_Code], 
    [Project1].[Entity_ID] AS [Entity_ID], 
    [Project1].[Last_Update_Date] AS [Last_Update_Date], 
    [Project1].[Last_Update_User] AS [Last_Update_User], 
    [Project1].[System_Locked] AS [System_Locked]
    FROM ( SELECT 
        [Extent1].[Classification_Code] AS [Classification_Code], 
        [Extent1].[Description] AS [Description], 
        [Extent1].[Industry_Code] AS [Industry_Code], 
        [Extent1].[Entity_ID] AS [Entity_ID], 
        [Extent1].[Last_Update_Date] AS [Last_Update_Date], 
        [Extent1].[Last_Update_User] AS [Last_Update_User], 
        [Extent1].[System_Locked] AS [System_Locked]
        FROM [dbo].[Classification_Industry] AS [Extent1]
        WHERE ([Extent1].[Entity_ID] = @p__linq__0) AND ((CASE WHEN ( NOT ((N'' = @p__linq__1) AND (@p__linq__1 IS NOT NULL))) THEN CASE WHEN ([Extent1].[Classification_Code] = @p__linq__2) THEN cast(1 as bit) WHEN ( NOT (([Extent1].[Classification_Code] = @p__linq__2) AND (0 = (CASE WHEN (@p__linq__2 IS NULL) THEN cast(1 as bit) ELSE cast(0 as bit) END)))) THEN cast(0 as bit) END WHEN ('' <> [Extent1].[Classification_Code]) THEN cast(1 as bit) WHEN ('' = [Extent1].[Classification_Code]) THEN cast(0 as bit) END) = 1)
    )  AS [Project1]
    ORDER BY [Project1].[Description] ASC
2018-06-05 10:56:51.1494|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: SELECT 
    [Project1].[Security_ID] AS [Security_ID], 
    [Project1].[Entity_ID] AS [Entity_ID], 
    [Project1].[Security_Name] AS [Security_Name], 
    [Project1].[Short_Name] AS [Short_Name], 
    [Project1].[Primary_Exch] AS [Primary_Exch], 
    [Project1].[Secondary_Exch] AS [Secondary_Exch], 
    [Project1].[Country_Of_Domicile] AS [Country_Of_Domicile], 
    [Project1].[Country_Of_Risk] AS [Country_Of_Risk], 
    [Project1].[Security_Type_Code] AS [Security_Type_Code], 
    [Project1].[Price_Multiplier] AS [Price_Multiplier], 
    [Project1].[Income_Frequency] AS [Income_Frequency], 
    [Project1].[Issuer_Code] AS [Issuer_Code], 
    [Project1].[Ultimate_Issuer_Code] AS [Ultimate_Issuer_Code], 
    [Project1].[Asset_Currency] AS [Asset_Currency], 
    [Project1].[Min_Lot_Size] AS [Min_Lot_Size], 
    [Project1].[Decimal_Precision] AS [Decimal_Precision], 
    [Project1].[AvePrice_Rounding] AS [AvePrice_Rounding], 
    [Project1].[Issue_Date] AS [Issue_Date], 
    [Project1].[Maturity_Date] AS [Maturity_Date], 
    [Project1].[Coupon_Rate] AS [Coupon_Rate], 
    [Project1].[Price_Exchange] AS [Price_Exchange], 
    [Project1].[Trade_Currency] AS [Trade_Currency], 
    [Project1].[Price_Curr] AS [Price_Curr], 
    [Project1].[Currency_Pair_Code] AS [Currency_Pair_Code], 
    [Project1].[Share_Class] AS [Share_Class], 
    [Project1].[Current_Market_Price] AS [Current_Market_Price], 
    [Project1].[Index_Type] AS [Index_Type], 
    [Project1].[Clean_Price_Formula] AS [Clean_Price_Formula], 
    [Project1].[Accrued_Income_Price_Formula] AS [Accrued_Income_Price_Formula], 
    [Project1].[Odd_First_Coupon_Date] AS [Odd_First_Coupon_Date], 
    [Project1].[Odd_Last_Coupon_Date] AS [Odd_Last_Coupon_Date], 
    [Project1].[Coupon_Anniversary_Indicator] AS [Coupon_Anniversary_Indicator], 
    [Project1].[Track_EOM_Flag] AS [Track_EOM_Flag], 
    [Project1].[Next_Coupon_Date] AS [Next_Coupon_Date], 
    [Project1].[Previous_Coupon_Date] AS [Previous_Coupon_Date], 
    [Project1].[Payment_Frequency] AS [Payment_Frequency], 
    [Project1].[Coupon_BusDay_Adjustment] AS [Coupon_BusDay_Adjustment], 
    [Project1].[Next_Ex_Div_Date] AS [Next_Ex_Div_Date], 
    [Project1].[Ex_Div_BusDay_Adjustment] AS [Ex_Div_BusDay_Adjustment], 
    [Project1].[Ex_Div_Period] AS [Ex_Div_Period], 
    [Project1].[Ticker] AS [Ticker], 
    [Project1].[Inet_ID] AS [Inet_ID], 
    [Project1].[Bloomberg_ID] AS [Bloomberg_ID], 
    [Project1].[External_Sec_ID] AS [External_Sec_ID], 
    [Project1].[Reuters_ID] AS [Reuters_ID], 
    [Project1].[ISIN] AS [ISIN], 
    [Project1].[Call_Account_Flag] AS [Call_Account_Flag], 
    [Project1].[System_Locked] AS [System_Locked], 
    [Project1].[Last_Update_User] AS [Last_Update_User], 
    [Project1].[Last_Update_Date] AS [Last_Update_Date], 
    [Project1].[Security_Status] AS [Security_Status], 
    [Project1].[Benchmark_Portfolio] AS [Benchmark_Portfolio], 
    [Project1].[Active_flag] AS [Active_flag], 
    [Project1].[Dividend_FX_Security_ID] AS [Dividend_FX_Security_ID]
    FROM ( SELECT 
        [Extent1].[Security_ID] AS [Security_ID], 
        [Extent1].[Entity_ID] AS [Entity_ID], 
        [Extent1].[Security_Name] AS [Security_Name], 
        [Extent1].[Short_Name] AS [Short_Name], 
        [Extent1].[Primary_Exch] AS [Primary_Exch], 
        [Extent1].[Secondary_Exch] AS [Secondary_Exch], 
        [Extent1].[Country_Of_Domicile] AS [Country_Of_Domicile], 
        [Extent1].[Country_Of_Risk] AS [Country_Of_Risk], 
        [Extent1].[Security_Type_Code] AS [Security_Type_Code], 
        [Extent1].[Price_Multiplier] AS [Price_Multiplier], 
        [Extent1].[Income_Frequency] AS [Income_Frequency], 
        [Extent1].[Issuer_Code] AS [Issuer_Code], 
        [Extent1].[Ultimate_Issuer_Code] AS [Ultimate_Issuer_Code], 
        [Extent1].[Asset_Currency] AS [Asset_Currency], 
        [Extent1].[Min_Lot_Size] AS [Min_Lot_Size], 
        [Extent1].[Decimal_Precision] AS [Decimal_Precision], 
        [Extent1].[AvePrice_Rounding] AS [AvePrice_Rounding], 
        [Extent1].[Issue_Date] AS [Issue_Date], 
        [Extent1].[Maturity_Date] AS [Maturity_Date], 
        [Extent1].[Coupon_Rate] AS [Coupon_Rate], 
        [Extent1].[Price_Exchange] AS [Price_Exchange], 
        [Extent1].[Trade_Currency] AS [Trade_Currency], 
        [Extent1].[Price_Curr] AS [Price_Curr], 
        [Extent1].[Currency_Pair_Code] AS [Currency_Pair_Code], 
        [Extent1].[Share_Class] AS [Share_Class], 
        [Extent1].[Current_Market_Price] AS [Current_Market_Price], 
        [Extent1].[Index_Type] AS [Index_Type], 
        [Extent1].[Clean_Price_Formula] AS [Clean_Price_Formula], 
        [Extent1].[Accrued_Income_Price_Formula] AS [Accrued_Income_Price_Formula], 
        [Extent1].[Odd_First_Coupon_Date] AS [Odd_First_Coupon_Date], 
        [Extent1].[Odd_Last_Coupon_Date] AS [Odd_Last_Coupon_Date], 
        [Extent1].[Coupon_Anniversary_Indicator] AS [Coupon_Anniversary_Indicator], 
        [Extent1].[Track_EOM_Flag] AS [Track_EOM_Flag], 
        [Extent1].[Next_Coupon_Date] AS [Next_Coupon_Date], 
        [Extent1].[Previous_Coupon_Date] AS [Previous_Coupon_Date], 
        [Extent1].[Payment_Frequency] AS [Payment_Frequency], 
        [Extent1].[Coupon_BusDay_Adjustment] AS [Coupon_BusDay_Adjustment], 
        [Extent1].[Next_Ex_Div_Date] AS [Next_Ex_Div_Date], 
        [Extent1].[Ex_Div_BusDay_Adjustment] AS [Ex_Div_BusDay_Adjustment], 
        [Extent1].[Ex_Div_Period] AS [Ex_Div_Period], 
        [Extent1].[Ticker] AS [Ticker], 
        [Extent1].[Inet_ID] AS [Inet_ID], 
        [Extent1].[Bloomberg_ID] AS [Bloomberg_ID], 
        [Extent1].[External_Sec_ID] AS [External_Sec_ID], 
        [Extent1].[Reuters_ID] AS [Reuters_ID], 
        [Extent1].[ISIN] AS [ISIN], 
        [Extent1].[Call_Account_Flag] AS [Call_Account_Flag], 
        [Extent1].[System_Locked] AS [System_Locked], 
        [Extent1].[Last_Update_User] AS [Last_Update_User], 
        [Extent1].[Last_Update_Date] AS [Last_Update_Date], 
        [Extent1].[Security_Status] AS [Security_Status], 
        [Extent1].[Benchmark_Portfolio] AS [Benchmark_Portfolio], 
        [Extent1].[Active_flag] AS [Active_flag], 
        [Extent1].[Dividend_FX_Security_ID] AS [Dividend_FX_Security_ID]
        FROM [dbo].[Security_Detail] AS [Extent1]
        WHERE ([Extent1].[Entity_ID] IN (@p__linq__0,@p__linq__1)) AND ((CASE WHEN ( NOT ((N'' = @p__linq__2) AND (@p__linq__2 IS NOT NULL))) THEN CASE WHEN ([Extent1].[Security_Type_Code] = @p__linq__3) THEN cast(1 as bit) WHEN ( NOT (([Extent1].[Security_Type_Code] = @p__linq__3) AND (0 = (CASE WHEN (@p__linq__3 IS NULL) THEN cast(1 as bit) ELSE cast(0 as bit) END)))) THEN cast(0 as bit) END WHEN ('' <> [Extent1].[Security_Type_Code]) THEN cast(1 as bit) WHEN ('' = [Extent1].[Security_Type_Code]) THEN cast(0 as bit) END) = 1)
    )  AS [Project1]
    ORDER BY [Project1].[Security_Name] ASC
2018-06-05 10:56:51.1974|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: SELECT 
    [Project1].[Security_ID] AS [Security_ID], 
    [Project1].[Entity_ID] AS [Entity_ID], 
    [Project1].[Security_Name] AS [Security_Name], 
    [Project1].[Short_Name] AS [Short_Name], 
    [Project1].[Primary_Exch] AS [Primary_Exch], 
    [Project1].[Secondary_Exch] AS [Secondary_Exch], 
    [Project1].[Country_Of_Domicile] AS [Country_Of_Domicile], 
    [Project1].[Country_Of_Risk] AS [Country_Of_Risk], 
    [Project1].[Security_Type_Code] AS [Security_Type_Code], 
    [Project1].[Price_Multiplier] AS [Price_Multiplier], 
    [Project1].[Income_Frequency] AS [Income_Frequency], 
    [Project1].[Issuer_Code] AS [Issuer_Code], 
    [Project1].[Ultimate_Issuer_Code] AS [Ultimate_Issuer_Code], 
    [Project1].[Asset_Currency] AS [Asset_Currency], 
    [Project1].[Min_Lot_Size] AS [Min_Lot_Size], 
    [Project1].[Decimal_Precision] AS [Decimal_Precision], 
    [Project1].[AvePrice_Rounding] AS [AvePrice_Rounding], 
    [Project1].[Issue_Date] AS [Issue_Date], 
    [Project1].[Maturity_Date] AS [Maturity_Date], 
    [Project1].[Coupon_Rate] AS [Coupon_Rate], 
    [Project1].[Price_Exchange] AS [Price_Exchange], 
    [Project1].[Trade_Currency] AS [Trade_Currency], 
    [Project1].[Price_Curr] AS [Price_Curr], 
    [Project1].[Currency_Pair_Code] AS [Currency_Pair_Code], 
    [Project1].[Share_Class] AS [Share_Class], 
    [Project1].[Current_Market_Price] AS [Current_Market_Price], 
    [Project1].[Index_Type] AS [Index_Type], 
    [Project1].[Clean_Price_Formula] AS [Clean_Price_Formula], 
    [Project1].[Accrued_Income_Price_Formula] AS [Accrued_Income_Price_Formula], 
    [Project1].[Odd_First_Coupon_Date] AS [Odd_First_Coupon_Date], 
    [Project1].[Odd_Last_Coupon_Date] AS [Odd_Last_Coupon_Date], 
    [Project1].[Coupon_Anniversary_Indicator] AS [Coupon_Anniversary_Indicator], 
    [Project1].[Track_EOM_Flag] AS [Track_EOM_Flag], 
    [Project1].[Next_Coupon_Date] AS [Next_Coupon_Date], 
    [Project1].[Previous_Coupon_Date] AS [Previous_Coupon_Date], 
    [Project1].[Payment_Frequency] AS [Payment_Frequency], 
    [Project1].[Coupon_BusDay_Adjustment] AS [Coupon_BusDay_Adjustment], 
    [Project1].[Next_Ex_Div_Date] AS [Next_Ex_Div_Date], 
    [Project1].[Ex_Div_BusDay_Adjustment] AS [Ex_Div_BusDay_Adjustment], 
    [Project1].[Ex_Div_Period] AS [Ex_Div_Period], 
    [Project1].[Ticker] AS [Ticker], 
    [Project1].[Inet_ID] AS [Inet_ID], 
    [Project1].[Bloomberg_ID] AS [Bloomberg_ID], 
    [Project1].[External_Sec_ID] AS [External_Sec_ID], 
    [Project1].[Reuters_ID] AS [Reuters_ID], 
    [Project1].[ISIN] AS [ISIN], 
    [Project1].[Call_Account_Flag] AS [Call_Account_Flag], 
    [Project1].[System_Locked] AS [System_Locked], 
    [Project1].[Last_Update_User] AS [Last_Update_User], 
    [Project1].[Last_Update_Date] AS [Last_Update_Date], 
    [Project1].[Security_Status] AS [Security_Status], 
    [Project1].[Benchmark_Portfolio] AS [Benchmark_Portfolio], 
    [Project1].[Active_flag] AS [Active_flag], 
    [Project1].[Dividend_FX_Security_ID] AS [Dividend_FX_Security_ID]
    FROM ( SELECT 
        [Extent1].[Security_ID] AS [Security_ID], 
        [Extent1].[Entity_ID] AS [Entity_ID], 
        [Extent1].[Security_Name] AS [Security_Name], 
        [Extent1].[Short_Name] AS [Short_Name], 
        [Extent1].[Primary_Exch] AS [Primary_Exch], 
        [Extent1].[Secondary_Exch] AS [Secondary_Exch], 
        [Extent1].[Country_Of_Domicile] AS [Country_Of_Domicile], 
        [Extent1].[Country_Of_Risk] AS [Country_Of_Risk], 
        [Extent1].[Security_Type_Code] AS [Security_Type_Code], 
        [Extent1].[Price_Multiplier] AS [Price_Multiplier], 
        [Extent1].[Income_Frequency] AS [Income_Frequency], 
        [Extent1].[Issuer_Code] AS [Issuer_Code], 
        [Extent1].[Ultimate_Issuer_Code] AS [Ultimate_Issuer_Code], 
        [Extent1].[Asset_Currency] AS [Asset_Currency], 
        [Extent1].[Min_Lot_Size] AS [Min_Lot_Size], 
        [Extent1].[Decimal_Precision] AS [Decimal_Precision], 
        [Extent1].[AvePrice_Rounding] AS [AvePrice_Rounding], 
        [Extent1].[Issue_Date] AS [Issue_Date], 
        [Extent1].[Maturity_Date] AS [Maturity_Date], 
        [Extent1].[Coupon_Rate] AS [Coupon_Rate], 
        [Extent1].[Price_Exchange] AS [Price_Exchange], 
        [Extent1].[Trade_Currency] AS [Trade_Currency], 
        [Extent1].[Price_Curr] AS [Price_Curr], 
        [Extent1].[Currency_Pair_Code] AS [Currency_Pair_Code], 
        [Extent1].[Share_Class] AS [Share_Class], 
        [Extent1].[Current_Market_Price] AS [Current_Market_Price], 
        [Extent1].[Index_Type] AS [Index_Type], 
        [Extent1].[Clean_Price_Formula] AS [Clean_Price_Formula], 
        [Extent1].[Accrued_Income_Price_Formula] AS [Accrued_Income_Price_Formula], 
        [Extent1].[Odd_First_Coupon_Date] AS [Odd_First_Coupon_Date], 
        [Extent1].[Odd_Last_Coupon_Date] AS [Odd_Last_Coupon_Date], 
        [Extent1].[Coupon_Anniversary_Indicator] AS [Coupon_Anniversary_Indicator], 
        [Extent1].[Track_EOM_Flag] AS [Track_EOM_Flag], 
        [Extent1].[Next_Coupon_Date] AS [Next_Coupon_Date], 
        [Extent1].[Previous_Coupon_Date] AS [Previous_Coupon_Date], 
        [Extent1].[Payment_Frequency] AS [Payment_Frequency], 
        [Extent1].[Coupon_BusDay_Adjustment] AS [Coupon_BusDay_Adjustment], 
        [Extent1].[Next_Ex_Div_Date] AS [Next_Ex_Div_Date], 
        [Extent1].[Ex_Div_BusDay_Adjustment] AS [Ex_Div_BusDay_Adjustment], 
        [Extent1].[Ex_Div_Period] AS [Ex_Div_Period], 
        [Extent1].[Ticker] AS [Ticker], 
        [Extent1].[Inet_ID] AS [Inet_ID], 
        [Extent1].[Bloomberg_ID] AS [Bloomberg_ID], 
        [Extent1].[External_Sec_ID] AS [External_Sec_ID], 
        [Extent1].[Reuters_ID] AS [Reuters_ID], 
        [Extent1].[ISIN] AS [ISIN], 
        [Extent1].[Call_Account_Flag] AS [Call_Account_Flag], 
        [Extent1].[System_Locked] AS [System_Locked], 
        [Extent1].[Last_Update_User] AS [Last_Update_User], 
        [Extent1].[Last_Update_Date] AS [Last_Update_Date], 
        [Extent1].[Security_Status] AS [Security_Status], 
        [Extent1].[Benchmark_Portfolio] AS [Benchmark_Portfolio], 
        [Extent1].[Active_flag] AS [Active_flag], 
        [Extent1].[Dividend_FX_Security_ID] AS [Dividend_FX_Security_ID]
        FROM [dbo].[Security_Detail] AS [Extent1]
        WHERE ([Extent1].[Entity_ID] IN (@p__linq__0,@p__linq__1)) AND ((CASE WHEN ( NOT ((N'' = @p__linq__2) AND (@p__linq__2 IS NOT NULL))) THEN CASE WHEN ([Extent1].[Security_Type_Code] = @p__linq__3) THEN cast(1 as bit) WHEN ( NOT (([Extent1].[Security_Type_Code] = @p__linq__3) AND (0 = (CASE WHEN (@p__linq__3 IS NULL) THEN cast(1 as bit) ELSE cast(0 as bit) END)))) THEN cast(0 as bit) END WHEN ('' <> [Extent1].[Security_Type_Code]) THEN cast(1 as bit) WHEN ('' = [Extent1].[Security_Type_Code]) THEN cast(0 as bit) END) = 1)
    )  AS [Project1]
    ORDER BY [Project1].[Security_Name] ASC
2018-06-05 10:56:51.3895|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: SELECT 
    [Project1].[Classification_Code] AS [Classification_Code], 
    [Project1].[Description] AS [Description], 
    [Project1].[Entity_ID] AS [Entity_ID], 
    [Project1].[Last_Update_Date] AS [Last_Update_Date], 
    [Project1].[Last_Update_User] AS [Last_Update_User], 
    [Project1].[System_Locked] AS [System_Locked]
    FROM ( SELECT 
        [Extent1].[Classification_Code] AS [Classification_Code], 
        [Extent1].[Description] AS [Description], 
        [Extent1].[Entity_ID] AS [Entity_ID], 
        [Extent1].[Last_Update_Date] AS [Last_Update_Date], 
        [Extent1].[Last_Update_User] AS [Last_Update_User], 
        [Extent1].[System_Locked] AS [System_Locked]
        FROM [dbo].[Classification] AS [Extent1]
        WHERE [Extent1].[Entity_ID] = @p__linq__0
    )  AS [Project1]
    ORDER BY [Project1].[Classification_Code] ASC
2018-06-05 10:56:51.4215|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: SELECT 
    [Project1].[Classification_Code] AS [Classification_Code], 
    [Project1].[Description] AS [Description], 
    [Project1].[Entity_ID] AS [Entity_ID], 
    [Project1].[Last_Update_Date] AS [Last_Update_Date], 
    [Project1].[Last_Update_User] AS [Last_Update_User], 
    [Project1].[System_Locked] AS [System_Locked]
    FROM ( SELECT 
        [Extent1].[Classification_Code] AS [Classification_Code], 
        [Extent1].[Description] AS [Description], 
        [Extent1].[Entity_ID] AS [Entity_ID], 
        [Extent1].[Last_Update_Date] AS [Last_Update_Date], 
        [Extent1].[Last_Update_User] AS [Last_Update_User], 
        [Extent1].[System_Locked] AS [System_Locked]
        FROM [dbo].[Classification] AS [Extent1]
        WHERE [Extent1].[Entity_ID] = @p__linq__0
    )  AS [Project1]
    ORDER BY [Project1].[Classification_Code] ASC
2018-06-05 10:57:03.0622|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: IF db_id(N'MetopeAzureDb') IS NOT NULL SELECT 1 ELSE SELECT Count(*) FROM sys.databases WHERE [name]=N'MetopeAzureDb'
2018-06-05 10:57:03.0817|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: IF db_id(N'MetopeAzureDb') IS NOT NULL SELECT 1 ELSE SELECT Count(*) FROM sys.databases WHERE [name]=N'MetopeAzureDb'
2018-06-05 10:57:03.1538|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: IF db_id(N'MetopeAzureDb') IS NOT NULL SELECT 1 ELSE SELECT Count(*) FROM sys.databases WHERE [name]=N'MetopeAzureDb'
2018-06-05 10:57:03.1903|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: IF db_id(N'MetopeAzureDb') IS NOT NULL SELECT 1 ELSE SELECT Count(*) FROM sys.databases WHERE [name]=N'MetopeAzureDb'
2018-06-05 10:57:03.2383|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: True, Command Text: SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[EntityIdScope] AS [EntityIdScope], 
    [Extent1].[Email] AS [Email], 
    [Extent1].[EmailConfirmed] AS [EmailConfirmed], 
    [Extent1].[PasswordHash] AS [PasswordHash], 
    [Extent1].[SecurityStamp] AS [SecurityStamp], 
    [Extent1].[PhoneNumber] AS [PhoneNumber], 
    [Extent1].[PhoneNumberConfirmed] AS [PhoneNumberConfirmed], 
    [Extent1].[TwoFactorEnabled] AS [TwoFactorEnabled], 
    [Extent1].[LockoutEndDateUtc] AS [LockoutEndDateUtc], 
    [Extent1].[LockoutEnabled] AS [LockoutEnabled], 
    [Extent1].[AccessFailedCount] AS [AccessFailedCount], 
    [Extent1].[UserName] AS [UserName]
    FROM [dbo].[AspNetUsers] AS [Extent1]
    WHERE [Extent1].[Id] = @p0
2018-06-05 10:57:03.2793|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: True, Command Text: SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[EntityIdScope] AS [EntityIdScope], 
    [Extent1].[Email] AS [Email], 
    [Extent1].[EmailConfirmed] AS [EmailConfirmed], 
    [Extent1].[PasswordHash] AS [PasswordHash], 
    [Extent1].[SecurityStamp] AS [SecurityStamp], 
    [Extent1].[PhoneNumber] AS [PhoneNumber], 
    [Extent1].[PhoneNumberConfirmed] AS [PhoneNumberConfirmed], 
    [Extent1].[TwoFactorEnabled] AS [TwoFactorEnabled], 
    [Extent1].[LockoutEndDateUtc] AS [LockoutEndDateUtc], 
    [Extent1].[LockoutEnabled] AS [LockoutEnabled], 
    [Extent1].[AccessFailedCount] AS [AccessFailedCount], 
    [Extent1].[UserName] AS [UserName]
    FROM [dbo].[AspNetUsers] AS [Extent1]
    WHERE [Extent1].[Id] = @p0
2018-06-05 10:57:03.3064|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: True, Command Text: SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[UserId] AS [UserId], 
    [Extent1].[ClaimType] AS [ClaimType], 
    [Extent1].[ClaimValue] AS [ClaimValue]
    FROM [dbo].[AspNetUserClaims] AS [Extent1]
    WHERE [Extent1].[UserId] = @p__linq__0
2018-06-05 10:57:03.3464|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: True, Command Text: SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[UserId] AS [UserId], 
    [Extent1].[ClaimType] AS [ClaimType], 
    [Extent1].[ClaimValue] AS [ClaimValue]
    FROM [dbo].[AspNetUserClaims] AS [Extent1]
    WHERE [Extent1].[UserId] = @p__linq__0
2018-06-05 10:57:03.3804|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: True, Command Text: SELECT 
    [Extent1].[LoginProvider] AS [LoginProvider], 
    [Extent1].[ProviderKey] AS [ProviderKey], 
    [Extent1].[UserId] AS [UserId]
    FROM [dbo].[AspNetUserLogins] AS [Extent1]
    WHERE [Extent1].[UserId] = @p__linq__0
2018-06-05 10:57:03.4144|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: True, Command Text: SELECT 
    [Extent1].[LoginProvider] AS [LoginProvider], 
    [Extent1].[ProviderKey] AS [ProviderKey], 
    [Extent1].[UserId] AS [UserId]
    FROM [dbo].[AspNetUserLogins] AS [Extent1]
    WHERE [Extent1].[UserId] = @p__linq__0
2018-06-05 10:57:03.4424|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: True, Command Text: SELECT 
    [Extent1].[UserId] AS [UserId], 
    [Extent1].[RoleId] AS [RoleId]
    FROM [dbo].[AspNetUserRoles] AS [Extent1]
    WHERE [Extent1].[UserId] = @p__linq__0
2018-06-05 10:57:03.4824|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: True, Command Text: SELECT 
    [Extent1].[UserId] AS [UserId], 
    [Extent1].[RoleId] AS [RoleId]
    FROM [dbo].[AspNetUserRoles] AS [Extent1]
    WHERE [Extent1].[UserId] = @p__linq__0
2018-06-05 10:57:03.7345|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: SELECT TOP (2) 
    [Extent1].[Entity_ID] AS [Entity_ID], 
    [Extent1].[Entity_Code] AS [Entity_Code], 
    [Extent1].[Entity_Name] AS [Entity_Name], 
    [Extent1].[Import_Folder] AS [Import_Folder], 
    [Extent1].[Export_Folder] AS [Export_Folder]
    FROM [dbo].[Entity] AS [Extent1]
    WHERE [Extent1].[Entity_ID] = @p0
2018-06-05 10:57:03.7826|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: SELECT TOP (2) 
    [Extent1].[Entity_ID] AS [Entity_ID], 
    [Extent1].[Entity_Code] AS [Entity_Code], 
    [Extent1].[Entity_Name] AS [Entity_Name], 
    [Extent1].[Import_Folder] AS [Import_Folder], 
    [Extent1].[Export_Folder] AS [Export_Folder]
    FROM [dbo].[Entity] AS [Extent1]
    WHERE [Extent1].[Entity_ID] = @p0
2018-06-05 10:58:49.1386|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: SELECT 
    [Project1].[Classification_Code] AS [Classification_Code], 
    [Project1].[Description] AS [Description], 
    [Project1].[Industry_Code] AS [Industry_Code], 
    [Project1].[Entity_ID] AS [Entity_ID], 
    [Project1].[Last_Update_Date] AS [Last_Update_Date], 
    [Project1].[Last_Update_User] AS [Last_Update_User], 
    [Project1].[System_Locked] AS [System_Locked]
    FROM ( SELECT 
        [Extent1].[Classification_Code] AS [Classification_Code], 
        [Extent1].[Description] AS [Description], 
        [Extent1].[Industry_Code] AS [Industry_Code], 
        [Extent1].[Entity_ID] AS [Entity_ID], 
        [Extent1].[Last_Update_Date] AS [Last_Update_Date], 
        [Extent1].[Last_Update_User] AS [Last_Update_User], 
        [Extent1].[System_Locked] AS [System_Locked]
        FROM [dbo].[Classification_Industry] AS [Extent1]
        WHERE ([Extent1].[Entity_ID] = @p__linq__0) AND ((CASE WHEN ( NOT ((N'' = @p__linq__1) AND (@p__linq__1 IS NOT NULL))) THEN CASE WHEN ([Extent1].[Classification_Code] = @p__linq__2) THEN cast(1 as bit) WHEN ( NOT (([Extent1].[Classification_Code] = @p__linq__2) AND (0 = (CASE WHEN (@p__linq__2 IS NULL) THEN cast(1 as bit) ELSE cast(0 as bit) END)))) THEN cast(0 as bit) END WHEN ('' <> [Extent1].[Classification_Code]) THEN cast(1 as bit) WHEN ('' = [Extent1].[Classification_Code]) THEN cast(0 as bit) END) = 1)
    )  AS [Project1]
    ORDER BY [Project1].[Description] ASC
2018-06-05 10:58:49.2286|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: SELECT 
    [Project1].[Classification_Code] AS [Classification_Code], 
    [Project1].[Description] AS [Description], 
    [Project1].[Industry_Code] AS [Industry_Code], 
    [Project1].[Entity_ID] AS [Entity_ID], 
    [Project1].[Last_Update_Date] AS [Last_Update_Date], 
    [Project1].[Last_Update_User] AS [Last_Update_User], 
    [Project1].[System_Locked] AS [System_Locked]
    FROM ( SELECT 
        [Extent1].[Classification_Code] AS [Classification_Code], 
        [Extent1].[Description] AS [Description], 
        [Extent1].[Industry_Code] AS [Industry_Code], 
        [Extent1].[Entity_ID] AS [Entity_ID], 
        [Extent1].[Last_Update_Date] AS [Last_Update_Date], 
        [Extent1].[Last_Update_User] AS [Last_Update_User], 
        [Extent1].[System_Locked] AS [System_Locked]
        FROM [dbo].[Classification_Industry] AS [Extent1]
        WHERE ([Extent1].[Entity_ID] = @p__linq__0) AND ((CASE WHEN ( NOT ((N'' = @p__linq__1) AND (@p__linq__1 IS NOT NULL))) THEN CASE WHEN ([Extent1].[Classification_Code] = @p__linq__2) THEN cast(1 as bit) WHEN ( NOT (([Extent1].[Classification_Code] = @p__linq__2) AND (0 = (CASE WHEN (@p__linq__2 IS NULL) THEN cast(1 as bit) ELSE cast(0 as bit) END)))) THEN cast(0 as bit) END WHEN ('' <> [Extent1].[Classification_Code]) THEN cast(1 as bit) WHEN ('' = [Extent1].[Classification_Code]) THEN cast(0 as bit) END) = 1)
    )  AS [Project1]
    ORDER BY [Project1].[Description] ASC
2018-06-05 10:58:53.5754|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: IF db_id(N'MetopeAzureDb') IS NOT NULL SELECT 1 ELSE SELECT Count(*) FROM sys.databases WHERE [name]=N'MetopeAzureDb'
2018-06-05 10:58:53.6714|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: IF db_id(N'MetopeAzureDb') IS NOT NULL SELECT 1 ELSE SELECT Count(*) FROM sys.databases WHERE [name]=N'MetopeAzureDb'
2018-06-05 10:58:53.7875|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: IF db_id(N'MetopeAzureDb') IS NOT NULL SELECT 1 ELSE SELECT Count(*) FROM sys.databases WHERE [name]=N'MetopeAzureDb'
2018-06-05 10:58:53.8195|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: IF db_id(N'MetopeAzureDb') IS NOT NULL SELECT 1 ELSE SELECT Count(*) FROM sys.databases WHERE [name]=N'MetopeAzureDb'
2018-06-05 11:00:31.5172|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: SELECT 
    [Project1].[Classification_Code] AS [Classification_Code], 
    [Project1].[Description] AS [Description], 
    [Project1].[Industry_Code] AS [Industry_Code], 
    [Project1].[Entity_ID] AS [Entity_ID], 
    [Project1].[Last_Update_Date] AS [Last_Update_Date], 
    [Project1].[Last_Update_User] AS [Last_Update_User], 
    [Project1].[System_Locked] AS [System_Locked]
    FROM ( SELECT 
        [Extent1].[Classification_Code] AS [Classification_Code], 
        [Extent1].[Description] AS [Description], 
        [Extent1].[Industry_Code] AS [Industry_Code], 
        [Extent1].[Entity_ID] AS [Entity_ID], 
        [Extent1].[Last_Update_Date] AS [Last_Update_Date], 
        [Extent1].[Last_Update_User] AS [Last_Update_User], 
        [Extent1].[System_Locked] AS [System_Locked]
        FROM [dbo].[Classification_Industry] AS [Extent1]
        WHERE ([Extent1].[Entity_ID] = @p__linq__0) AND ((CASE WHEN ( NOT ((N'' = @p__linq__1) AND (@p__linq__1 IS NOT NULL))) THEN CASE WHEN ([Extent1].[Classification_Code] = @p__linq__2) THEN cast(1 as bit) WHEN ( NOT (([Extent1].[Classification_Code] = @p__linq__2) AND (0 = (CASE WHEN (@p__linq__2 IS NULL) THEN cast(1 as bit) ELSE cast(0 as bit) END)))) THEN cast(0 as bit) END WHEN ('' <> [Extent1].[Classification_Code]) THEN cast(1 as bit) WHEN ('' = [Extent1].[Classification_Code]) THEN cast(0 as bit) END) = 1)
    )  AS [Project1]
    ORDER BY [Project1].[Description] ASC
2018-06-05 11:00:31.6312|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: SELECT 
    [Project1].[Classification_Code] AS [Classification_Code], 
    [Project1].[Description] AS [Description], 
    [Project1].[Industry_Code] AS [Industry_Code], 
    [Project1].[Entity_ID] AS [Entity_ID], 
    [Project1].[Last_Update_Date] AS [Last_Update_Date], 
    [Project1].[Last_Update_User] AS [Last_Update_User], 
    [Project1].[System_Locked] AS [System_Locked]
    FROM ( SELECT 
        [Extent1].[Classification_Code] AS [Classification_Code], 
        [Extent1].[Description] AS [Description], 
        [Extent1].[Industry_Code] AS [Industry_Code], 
        [Extent1].[Entity_ID] AS [Entity_ID], 
        [Extent1].[Last_Update_Date] AS [Last_Update_Date], 
        [Extent1].[Last_Update_User] AS [Last_Update_User], 
        [Extent1].[System_Locked] AS [System_Locked]
        FROM [dbo].[Classification_Industry] AS [Extent1]
        WHERE ([Extent1].[Entity_ID] = @p__linq__0) AND ((CASE WHEN ( NOT ((N'' = @p__linq__1) AND (@p__linq__1 IS NOT NULL))) THEN CASE WHEN ([Extent1].[Classification_Code] = @p__linq__2) THEN cast(1 as bit) WHEN ( NOT (([Extent1].[Classification_Code] = @p__linq__2) AND (0 = (CASE WHEN (@p__linq__2 IS NULL) THEN cast(1 as bit) ELSE cast(0 as bit) END)))) THEN cast(0 as bit) END WHEN ('' <> [Extent1].[Classification_Code]) THEN cast(1 as bit) WHEN ('' = [Extent1].[Classification_Code]) THEN cast(0 as bit) END) = 1)
    )  AS [Project1]
    ORDER BY [Project1].[Description] ASC
2018-06-05 11:00:37.2619|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: IF db_id(N'MetopeAzureDb') IS NOT NULL SELECT 1 ELSE SELECT Count(*) FROM sys.databases WHERE [name]=N'MetopeAzureDb'
2018-06-05 11:00:37.5671|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: IF db_id(N'MetopeAzureDb') IS NOT NULL SELECT 1 ELSE SELECT Count(*) FROM sys.databases WHERE [name]=N'MetopeAzureDb'
2018-06-05 11:20:20.7739|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: SELECT 
    [Project1].[Classification_Code] AS [Classification_Code], 
    [Project1].[Description] AS [Description], 
    [Project1].[Industry_Code] AS [Industry_Code], 
    [Project1].[Entity_ID] AS [Entity_ID], 
    [Project1].[Last_Update_Date] AS [Last_Update_Date], 
    [Project1].[Last_Update_User] AS [Last_Update_User], 
    [Project1].[System_Locked] AS [System_Locked]
    FROM ( SELECT 
        [Extent1].[Classification_Code] AS [Classification_Code], 
        [Extent1].[Description] AS [Description], 
        [Extent1].[Industry_Code] AS [Industry_Code], 
        [Extent1].[Entity_ID] AS [Entity_ID], 
        [Extent1].[Last_Update_Date] AS [Last_Update_Date], 
        [Extent1].[Last_Update_User] AS [Last_Update_User], 
        [Extent1].[System_Locked] AS [System_Locked]
        FROM [dbo].[Classification_Industry] AS [Extent1]
        WHERE ([Extent1].[Entity_ID] = @p__linq__0) AND ((CASE WHEN ( NOT ((N'' = @p__linq__1) AND (@p__linq__1 IS NOT NULL))) THEN CASE WHEN ([Extent1].[Classification_Code] = @p__linq__2) THEN cast(1 as bit) WHEN ( NOT (([Extent1].[Classification_Code] = @p__linq__2) AND (0 = (CASE WHEN (@p__linq__2 IS NULL) THEN cast(1 as bit) ELSE cast(0 as bit) END)))) THEN cast(0 as bit) END WHEN ('' <> [Extent1].[Classification_Code]) THEN cast(1 as bit) WHEN ('' = [Extent1].[Classification_Code]) THEN cast(0 as bit) END) = 1)
    )  AS [Project1]
    ORDER BY [Project1].[Description] ASC
2018-06-05 11:20:20.8460|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: SELECT 
    [Project1].[Classification_Code] AS [Classification_Code], 
    [Project1].[Description] AS [Description], 
    [Project1].[Industry_Code] AS [Industry_Code], 
    [Project1].[Entity_ID] AS [Entity_ID], 
    [Project1].[Last_Update_Date] AS [Last_Update_Date], 
    [Project1].[Last_Update_User] AS [Last_Update_User], 
    [Project1].[System_Locked] AS [System_Locked]
    FROM ( SELECT 
        [Extent1].[Classification_Code] AS [Classification_Code], 
        [Extent1].[Description] AS [Description], 
        [Extent1].[Industry_Code] AS [Industry_Code], 
        [Extent1].[Entity_ID] AS [Entity_ID], 
        [Extent1].[Last_Update_Date] AS [Last_Update_Date], 
        [Extent1].[Last_Update_User] AS [Last_Update_User], 
        [Extent1].[System_Locked] AS [System_Locked]
        FROM [dbo].[Classification_Industry] AS [Extent1]
        WHERE ([Extent1].[Entity_ID] = @p__linq__0) AND ((CASE WHEN ( NOT ((N'' = @p__linq__1) AND (@p__linq__1 IS NOT NULL))) THEN CASE WHEN ([Extent1].[Classification_Code] = @p__linq__2) THEN cast(1 as bit) WHEN ( NOT (([Extent1].[Classification_Code] = @p__linq__2) AND (0 = (CASE WHEN (@p__linq__2 IS NULL) THEN cast(1 as bit) ELSE cast(0 as bit) END)))) THEN cast(0 as bit) END WHEN ('' <> [Extent1].[Classification_Code]) THEN cast(1 as bit) WHEN ('' = [Extent1].[Classification_Code]) THEN cast(0 as bit) END) = 1)
    )  AS [Project1]
    ORDER BY [Project1].[Description] ASC
2018-06-05 11:20:28.0666|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: IF db_id(N'MetopeAzureDb') IS NOT NULL SELECT 1 ELSE SELECT Count(*) FROM sys.databases WHERE [name]=N'MetopeAzureDb'
2018-06-05 11:20:28.1521|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: IF db_id(N'MetopeAzureDb') IS NOT NULL SELECT 1 ELSE SELECT Count(*) FROM sys.databases WHERE [name]=N'MetopeAzureDb'
2018-06-05 11:29:06.7084|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: SELECT 
    [Project1].[Classification_Code] AS [Classification_Code], 
    [Project1].[Description] AS [Description], 
    [Project1].[Industry_Code] AS [Industry_Code], 
    [Project1].[Entity_ID] AS [Entity_ID], 
    [Project1].[Last_Update_Date] AS [Last_Update_Date], 
    [Project1].[Last_Update_User] AS [Last_Update_User], 
    [Project1].[System_Locked] AS [System_Locked]
    FROM ( SELECT 
        [Extent1].[Classification_Code] AS [Classification_Code], 
        [Extent1].[Description] AS [Description], 
        [Extent1].[Industry_Code] AS [Industry_Code], 
        [Extent1].[Entity_ID] AS [Entity_ID], 
        [Extent1].[Last_Update_Date] AS [Last_Update_Date], 
        [Extent1].[Last_Update_User] AS [Last_Update_User], 
        [Extent1].[System_Locked] AS [System_Locked]
        FROM [dbo].[Classification_Industry] AS [Extent1]
        WHERE ([Extent1].[Entity_ID] = @p__linq__0) AND ((CASE WHEN ( NOT ((N'' = @p__linq__1) AND (@p__linq__1 IS NOT NULL))) THEN CASE WHEN ([Extent1].[Classification_Code] = @p__linq__2) THEN cast(1 as bit) WHEN ( NOT (([Extent1].[Classification_Code] = @p__linq__2) AND (0 = (CASE WHEN (@p__linq__2 IS NULL) THEN cast(1 as bit) ELSE cast(0 as bit) END)))) THEN cast(0 as bit) END WHEN ('' <> [Extent1].[Classification_Code]) THEN cast(1 as bit) WHEN ('' = [Extent1].[Classification_Code]) THEN cast(0 as bit) END) = 1)
    )  AS [Project1]
    ORDER BY [Project1].[Description] ASC
2018-06-05 11:29:06.7764|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: SELECT 
    [Project1].[Classification_Code] AS [Classification_Code], 
    [Project1].[Description] AS [Description], 
    [Project1].[Industry_Code] AS [Industry_Code], 
    [Project1].[Entity_ID] AS [Entity_ID], 
    [Project1].[Last_Update_Date] AS [Last_Update_Date], 
    [Project1].[Last_Update_User] AS [Last_Update_User], 
    [Project1].[System_Locked] AS [System_Locked]
    FROM ( SELECT 
        [Extent1].[Classification_Code] AS [Classification_Code], 
        [Extent1].[Description] AS [Description], 
        [Extent1].[Industry_Code] AS [Industry_Code], 
        [Extent1].[Entity_ID] AS [Entity_ID], 
        [Extent1].[Last_Update_Date] AS [Last_Update_Date], 
        [Extent1].[Last_Update_User] AS [Last_Update_User], 
        [Extent1].[System_Locked] AS [System_Locked]
        FROM [dbo].[Classification_Industry] AS [Extent1]
        WHERE ([Extent1].[Entity_ID] = @p__linq__0) AND ((CASE WHEN ( NOT ((N'' = @p__linq__1) AND (@p__linq__1 IS NOT NULL))) THEN CASE WHEN ([Extent1].[Classification_Code] = @p__linq__2) THEN cast(1 as bit) WHEN ( NOT (([Extent1].[Classification_Code] = @p__linq__2) AND (0 = (CASE WHEN (@p__linq__2 IS NULL) THEN cast(1 as bit) ELSE cast(0 as bit) END)))) THEN cast(0 as bit) END WHEN ('' <> [Extent1].[Classification_Code]) THEN cast(1 as bit) WHEN ('' = [Extent1].[Classification_Code]) THEN cast(0 as bit) END) = 1)
    )  AS [Project1]
    ORDER BY [Project1].[Description] ASC
2018-06-05 11:29:14.6136|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: IF db_id(N'MetopeAzureDb') IS NOT NULL SELECT 1 ELSE SELECT Count(*) FROM sys.databases WHERE [name]=N'MetopeAzureDb'
2018-06-05 11:29:14.8463|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: IF db_id(N'MetopeAzureDb') IS NOT NULL SELECT 1 ELSE SELECT Count(*) FROM sys.databases WHERE [name]=N'MetopeAzureDb'
2018-06-05 11:29:14.9994|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: IF db_id(N'MetopeAzureDb') IS NOT NULL SELECT 1 ELSE SELECT Count(*) FROM sys.databases WHERE [name]=N'MetopeAzureDb'
2018-06-05 11:29:15.0339|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: IF db_id(N'MetopeAzureDb') IS NOT NULL SELECT 1 ELSE SELECT Count(*) FROM sys.databases WHERE [name]=N'MetopeAzureDb'
2018-06-05 16:59:20.6351|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: select cast(serverproperty('EngineEdition') as int)
2018-06-05 16:59:20.7867|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: select cast(serverproperty('EngineEdition') as int)
2018-06-05 16:59:21.6433|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: IF db_id(N'MetopeAzureDb') IS NOT NULL SELECT 1 ELSE SELECT Count(*) FROM sys.databases WHERE [name]=N'MetopeAzureDb'
2018-06-05 16:59:21.9275|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: IF db_id(N'MetopeAzureDb') IS NOT NULL SELECT 1 ELSE SELECT Count(*) FROM sys.databases WHERE [name]=N'MetopeAzureDb'
2018-06-05 16:59:22.6740|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: IF db_id(N'MetopeAzureDb') IS NOT NULL SELECT 1 ELSE SELECT Count(*) FROM sys.databases WHERE [name]=N'MetopeAzureDb'
2018-06-05 16:59:22.7145|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: IF db_id(N'MetopeAzureDb') IS NOT NULL SELECT 1 ELSE SELECT Count(*) FROM sys.databases WHERE [name]=N'MetopeAzureDb'
2018-06-05 16:59:22.8506|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: IF db_id(N'MetopeAzureDb') IS NOT NULL SELECT 1 ELSE SELECT Count(*) FROM sys.databases WHERE [name]=N'MetopeAzureDb'
2018-06-05 16:59:22.8897|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: IF db_id(N'MetopeAzureDb') IS NOT NULL SELECT 1 ELSE SELECT Count(*) FROM sys.databases WHERE [name]=N'MetopeAzureDb'
2018-06-05 16:59:22.9452|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: 
SELECT Count(*)
FROM INFORMATION_SCHEMA.TABLES AS t
WHERE t.TABLE_SCHEMA + '.' + t.TABLE_NAME IN ('dbo.AspNetRoles','dbo.AspNetUserRoles','dbo.AspNetUsers','dbo.AspNetUserClaims','dbo.AspNetUserLogins')
    OR t.TABLE_NAME = 'EdmMetadata'
2018-06-05 16:59:23.1248|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: 
SELECT Count(*)
FROM INFORMATION_SCHEMA.TABLES AS t
WHERE t.TABLE_SCHEMA + '.' + t.TABLE_NAME IN ('dbo.AspNetRoles','dbo.AspNetUserRoles','dbo.AspNetUsers','dbo.AspNetUserClaims','dbo.AspNetUserLogins')
    OR t.TABLE_NAME = 'EdmMetadata'
2018-06-05 16:59:24.3527|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: SELECT 
    [GroupBy1].[A1] AS [C1]
    FROM ( SELECT 
        COUNT(1) AS [A1]
        FROM [dbo].[__MigrationHistory] AS [Extent1]
        WHERE [Extent1].[ContextKey] = @p__linq__0
    )  AS [GroupBy1]
2018-06-05 16:59:24.4258|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: SELECT 
    [GroupBy1].[A1] AS [C1]
    FROM ( SELECT 
        COUNT(1) AS [A1]
        FROM [dbo].[__MigrationHistory] AS [Extent1]
        WHERE [Extent1].[ContextKey] = @p__linq__0
    )  AS [GroupBy1]
2018-06-05 16:59:24.5363|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: SELECT TOP (1) 
    [Project1].[C1] AS [C1], 
    [Project1].[MigrationId] AS [MigrationId], 
    [Project1].[Model] AS [Model], 
    [Project1].[ProductVersion] AS [ProductVersion]
    FROM ( SELECT 
        [Extent1].[MigrationId] AS [MigrationId], 
        [Extent1].[Model] AS [Model], 
        [Extent1].[ProductVersion] AS [ProductVersion], 
        1 AS [C1]
        FROM [dbo].[__MigrationHistory] AS [Extent1]
        WHERE [Extent1].[ContextKey] = @p__linq__0
    )  AS [Project1]
    ORDER BY [Project1].[MigrationId] DESC
2018-06-05 16:59:24.5759|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: SELECT TOP (1) 
    [Project1].[C1] AS [C1], 
    [Project1].[MigrationId] AS [MigrationId], 
    [Project1].[Model] AS [Model], 
    [Project1].[ProductVersion] AS [ProductVersion]
    FROM ( SELECT 
        [Extent1].[MigrationId] AS [MigrationId], 
        [Extent1].[Model] AS [Model], 
        [Extent1].[ProductVersion] AS [ProductVersion], 
        1 AS [C1]
        FROM [dbo].[__MigrationHistory] AS [Extent1]
        WHERE [Extent1].[ContextKey] = @p__linq__0
    )  AS [Project1]
    ORDER BY [Project1].[MigrationId] DESC
2018-06-05 16:59:25.3334|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: True, Command Text: SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[EntityIdScope] AS [EntityIdScope], 
    [Extent1].[Email] AS [Email], 
    [Extent1].[EmailConfirmed] AS [EmailConfirmed], 
    [Extent1].[PasswordHash] AS [PasswordHash], 
    [Extent1].[SecurityStamp] AS [SecurityStamp], 
    [Extent1].[PhoneNumber] AS [PhoneNumber], 
    [Extent1].[PhoneNumberConfirmed] AS [PhoneNumberConfirmed], 
    [Extent1].[TwoFactorEnabled] AS [TwoFactorEnabled], 
    [Extent1].[LockoutEndDateUtc] AS [LockoutEndDateUtc], 
    [Extent1].[LockoutEnabled] AS [LockoutEnabled], 
    [Extent1].[AccessFailedCount] AS [AccessFailedCount], 
    [Extent1].[UserName] AS [UserName]
    FROM [dbo].[AspNetUsers] AS [Extent1]
    WHERE [Extent1].[Id] = @p0
2018-06-05 16:59:25.3980|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: True, Command Text: SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[EntityIdScope] AS [EntityIdScope], 
    [Extent1].[Email] AS [Email], 
    [Extent1].[EmailConfirmed] AS [EmailConfirmed], 
    [Extent1].[PasswordHash] AS [PasswordHash], 
    [Extent1].[SecurityStamp] AS [SecurityStamp], 
    [Extent1].[PhoneNumber] AS [PhoneNumber], 
    [Extent1].[PhoneNumberConfirmed] AS [PhoneNumberConfirmed], 
    [Extent1].[TwoFactorEnabled] AS [TwoFactorEnabled], 
    [Extent1].[LockoutEndDateUtc] AS [LockoutEndDateUtc], 
    [Extent1].[LockoutEnabled] AS [LockoutEnabled], 
    [Extent1].[AccessFailedCount] AS [AccessFailedCount], 
    [Extent1].[UserName] AS [UserName]
    FROM [dbo].[AspNetUsers] AS [Extent1]
    WHERE [Extent1].[Id] = @p0
2018-06-05 16:59:25.7177|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: True, Command Text: SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[UserId] AS [UserId], 
    [Extent1].[ClaimType] AS [ClaimType], 
    [Extent1].[ClaimValue] AS [ClaimValue]
    FROM [dbo].[AspNetUserClaims] AS [Extent1]
    WHERE [Extent1].[UserId] = @p__linq__0
2018-06-05 16:59:25.7802|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: True, Command Text: SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[UserId] AS [UserId], 
    [Extent1].[ClaimType] AS [ClaimType], 
    [Extent1].[ClaimValue] AS [ClaimValue]
    FROM [dbo].[AspNetUserClaims] AS [Extent1]
    WHERE [Extent1].[UserId] = @p__linq__0
2018-06-05 16:59:25.8913|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: True, Command Text: SELECT 
    [Extent1].[LoginProvider] AS [LoginProvider], 
    [Extent1].[ProviderKey] AS [ProviderKey], 
    [Extent1].[UserId] AS [UserId]
    FROM [dbo].[AspNetUserLogins] AS [Extent1]
    WHERE [Extent1].[UserId] = @p__linq__0
2018-06-05 16:59:25.9223|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: True, Command Text: SELECT 
    [Extent1].[LoginProvider] AS [LoginProvider], 
    [Extent1].[ProviderKey] AS [ProviderKey], 
    [Extent1].[UserId] AS [UserId]
    FROM [dbo].[AspNetUserLogins] AS [Extent1]
    WHERE [Extent1].[UserId] = @p__linq__0
2018-06-05 16:59:26.0549|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: True, Command Text: SELECT 
    [Extent1].[UserId] AS [UserId], 
    [Extent1].[RoleId] AS [RoleId]
    FROM [dbo].[AspNetUserRoles] AS [Extent1]
    WHERE [Extent1].[UserId] = @p__linq__0
2018-06-05 16:59:26.1155|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: True, Command Text: SELECT 
    [Extent1].[UserId] AS [UserId], 
    [Extent1].[RoleId] AS [RoleId]
    FROM [dbo].[AspNetUserRoles] AS [Extent1]
    WHERE [Extent1].[UserId] = @p__linq__0
2018-06-05 16:59:27.8752|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: SELECT 
    CASE WHEN ( EXISTS (SELECT TOP (50) 
        1 AS [C1]
        FROM ( SELECT 
            [Extent1].[Transaction_Date] AS [Transaction_Date]
            FROM [dbo].[Cash_Transactions] AS [Extent1]
            WHERE ([Extent1].[Entity_ID] = @p__linq__0) AND ([Extent1].[Portfolio_Code] = @p__linq__1) AND ([Extent1].[Transaction_Date] <= @p__linq__2)
        )  AS [Project1]
        ORDER BY [Project1].[Transaction_Date] DESC
    )) THEN cast(1 as bit) ELSE cast(0 as bit) END AS [C1]
    FROM  ( SELECT 1 AS X ) AS [SingleRowTable1]
2018-06-05 16:59:27.9473|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: SELECT 
    CASE WHEN ( EXISTS (SELECT TOP (50) 
        1 AS [C1]
        FROM ( SELECT 
            [Extent1].[Transaction_Date] AS [Transaction_Date]
            FROM [dbo].[Cash_Transactions] AS [Extent1]
            WHERE ([Extent1].[Entity_ID] = @p__linq__0) AND ([Extent1].[Portfolio_Code] = @p__linq__1) AND ([Extent1].[Transaction_Date] <= @p__linq__2)
        )  AS [Project1]
        ORDER BY [Project1].[Transaction_Date] DESC
    )) THEN cast(1 as bit) ELSE cast(0 as bit) END AS [C1]
    FROM  ( SELECT 1 AS X ) AS [SingleRowTable1]
2018-06-05 16:59:28.7739|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: SELECT TOP (50) 
    [Project1].[C1] AS [C1], 
    [Project1].[Cash_Transaction_ID] AS [Cash_Transaction_ID], 
    [Project1].[Portfolio_Code] AS [Portfolio_Code], 
    [Project1].[Entity_ID] AS [Entity_ID], 
    [Project1].[Transaction_Security_ID] AS [Transaction_Security_ID], 
    [Project1].[Cash_Security_ID] AS [Cash_Security_ID], 
    [Project1].[Transaction_Source_Code] AS [Transaction_Source_Code], 
    [Project1].[Order_ID] AS [Order_ID], 
    [Project1].[Allocation_ID] AS [Allocation_ID], 
    [Project1].[Cashflow_ID] AS [Cashflow_ID], 
    [Project1].[Dividend_Seq_Number] AS [Dividend_Seq_Number], 
    [Project1].[External_ID] AS [External_ID], 
    [Project1].[Transaction_Date] AS [Transaction_Date], 
    [Project1].[Value_Date] AS [Value_Date], 
    [Project1].[Cash_Transaction_Type] AS [Cash_Transaction_Type], 
    [Project1].[Transaction_Amount] AS [Transaction_Amount], 
    [Project1].[Transaction_Currency_Code] AS [Transaction_Currency_Code], 
    [Project1].[BaseCur_Amount] AS [BaseCur_Amount], 
    [Project1].[Create_User_Code] AS [Create_User_Code], 
    [Project1].[Create_Date] AS [Create_Date], 
    [Project1].[Last_Update_User] AS [Last_Update_User], 
    [Project1].[Last_Update_Date] AS [Last_Update_Date], 
    [Project1].[Security_ID] AS [Security_ID], 
    [Project1].[Entity_ID1] AS [Entity_ID1], 
    [Project1].[Security_Name] AS [Security_Name], 
    [Project1].[Short_Name] AS [Short_Name], 
    [Project1].[Primary_Exch] AS [Primary_Exch], 
    [Project1].[Secondary_Exch] AS [Secondary_Exch], 
    [Project1].[Country_Of_Domicile] AS [Country_Of_Domicile], 
    [Project1].[Country_Of_Risk] AS [Country_Of_Risk], 
    [Project1].[Security_Type_Code] AS [Security_Type_Code], 
    [Project1].[Price_Multiplier] AS [Price_Multiplier], 
    [Project1].[Income_Frequency] AS [Income_Frequency], 
    [Project1].[Issuer_Code] AS [Issuer_Code], 
    [Project1].[Ultimate_Issuer_Code] AS [Ultimate_Issuer_Code], 
    [Project1].[Asset_Currency] AS [Asset_Currency], 
    [Project1].[Min_Lot_Size] AS [Min_Lot_Size], 
    [Project1].[Decimal_Precision] AS [Decimal_Precision], 
    [Project1].[AvePrice_Rounding] AS [AvePrice_Rounding], 
    [Project1].[Issue_Date] AS [Issue_Date], 
    [Project1].[Maturity_Date] AS [Maturity_Date], 
    [Project1].[Coupon_Rate] AS [Coupon_Rate], 
    [Project1].[Price_Exchange] AS [Price_Exchange], 
    [Project1].[Trade_Currency] AS [Trade_Currency], 
    [Project1].[Price_Curr] AS [Price_Curr], 
    [Project1].[Currency_Pair_Code] AS [Currency_Pair_Code], 
    [Project1].[Share_Class] AS [Share_Class], 
    [Project1].[Current_Market_Price] AS [Current_Market_Price], 
    [Project1].[Index_Type] AS [Index_Type], 
    [Project1].[Clean_Price_Formula] AS [Clean_Price_Formula], 
    [Project1].[Accrued_Income_Price_Formula] AS [Accrued_Income_Price_Formula], 
    [Project1].[Odd_First_Coupon_Date] AS [Odd_First_Coupon_Date], 
    [Project1].[Odd_Last_Coupon_Date] AS [Odd_Last_Coupon_Date], 
    [Project1].[Coupon_Anniversary_Indicator] AS [Coupon_Anniversary_Indicator], 
    [Project1].[Track_EOM_Flag] AS [Track_EOM_Flag], 
    [Project1].[Next_Coupon_Date] AS [Next_Coupon_Date], 
    [Project1].[Previous_Coupon_Date] AS [Previous_Coupon_Date], 
    [Project1].[Payment_Frequency] AS [Payment_Frequency], 
    [Project1].[Coupon_BusDay_Adjustment] AS [Coupon_BusDay_Adjustment], 
    [Project1].[Next_Ex_Div_Date] AS [Next_Ex_Div_Date], 
    [Project1].[Ex_Div_BusDay_Adjustment] AS [Ex_Div_BusDay_Adjustment], 
    [Project1].[Ex_Div_Period] AS [Ex_Div_Period], 
    [Project1].[Ticker] AS [Ticker], 
    [Project1].[Inet_ID] AS [Inet_ID], 
    [Project1].[Bloomberg_ID] AS [Bloomberg_ID], 
    [Project1].[External_Sec_ID] AS [External_Sec_ID], 
    [Project1].[Reuters_ID] AS [Reuters_ID], 
    [Project1].[ISIN] AS [ISIN], 
    [Project1].[Call_Account_Flag] AS [Call_Account_Flag], 
    [Project1].[System_Locked] AS [System_Locked], 
    [Project1].[Last_Update_User1] AS [Last_Update_User1], 
    [Project1].[Last_Update_Date1] AS [Last_Update_Date1], 
    [Project1].[Security_Status] AS [Security_Status], 
    [Project1].[Benchmark_Portfolio] AS [Benchmark_Portfolio], 
    [Project1].[Active_flag] AS [Active_flag], 
    [Project1].[Dividend_FX_Security_ID] AS [Dividend_FX_Security_ID], 
    [Project1].[Order_ID1] AS [Order_ID1], 
    [Project1].[Entity_ID2] AS [Entity_ID2], 
    [Project1].[Security_ID1] AS [Security_ID1], 
    [Project1].[Trade_Date] AS [Trade_Date], 
    [Project1].[Settlement_Date] AS [Settlement_Date], 
    [Project1].[Transaction_Type] AS [Transaction_Type], 
    [Project1].[Order_Status] AS [Order_Status], 
    [Project1].[Cancel_Reason_Code] AS [Cancel_Reason_Code], 
    [Project1].[Manager] AS [Manager], 
    [Project1].[Trader] AS [Trader], 
    [Project1].[Operations_User] AS [Operations_User], 
    [Project1].[Order_Instruction] AS [Order_Instruction], 
    [Project1].[Order_Duration] AS [Order_Duration], 
    [Project1].[Limit_Price] AS [Limit_Price], 
    [Project1].[Limit_Yield] AS [Limit_Yield], 
    [Project1].[Limit_Discount] AS [Limit_Discount], 
    [Project1].[Order_Creator] AS [Order_Creator], 
    [Project1].[Order_Create_Date] AS [Order_Create_Date], 
    [Project1].[Last_Update_Date2] AS [Last_Update_Date2], 
    [Project1].[Last_Update_User2] AS [Last_Update_User2], 
    [Project1].[Sent_To_Trading_Date] AS [Sent_To_Trading_Date], 
    [Project1].[Sent_To_Accounting_Date] AS [Sent_To_Accounting_Date], 
    [Project1].[Value_Based_Indicator] AS [Value_Based_Indicator], 
    [Project1].[Target_Clean_Price] AS [Target_Clean_Price], 
    [Project1].[Target_Income_Price] AS [Target_Income_Price], 
    [Project1].[Target_AllIn_Price] AS [Target_AllIn_Price], 
    [Project1].[Target_Yield] AS [Target_Yield], 
    [Project1].[Target_Discount] AS [Target_Discount], 
    [Project1].[Target_Quantity] AS [Target_Quantity], 
    [Project1].[Target_Clean_Amount_TradeCur] AS [Target_Clean_Amount_TradeCur], 
    [Project1].[Target_Income_Amount_TradeCur] AS [Target_Income_Amount_TradeCur], 
    [Project1].[Target_AllIn_Amount_TradeCur] AS [Target_AllIn_Amount_TradeCur], 
    [Project1].[Place_Quantity] AS [Place_Quantity], 
    [Project1].[Execution_Quantity] AS [Execution_Quantity], 
    [Project1].[Execution_Clean_Amount_TradeCur] AS [Execution_Clean_Amount_TradeCur], 
    [Project1].[Execution_Income_Amount_TradeCur] AS [Execution_Income_Amount_TradeCur], 
    [Project1].[Execution_AllIn_Amount_TradeCur] AS [Execution_AllIn_Amount_TradeCur], 
    [Project1].[Broker_Code] AS [Broker_Code], 
    [Project1].[Execution_Clean_Price] AS [Execution_Clean_Price], 
    [Project1].[Execution_Income_Price] AS [Execution_Income_Price], 
    [Project1].[Execution_AllIn_Price] AS [Execution_AllIn_Price], 
    [Project1].[Execution_Yield] AS [Execution_Yield], 
    [Project1].[Execution_Discount] AS [Execution_Discount], 
    [Project1].[Execution_Currency] AS [Execution_Currency], 
    [Project1].[Execution_Exchange] AS [Execution_Exchange], 
    [Project1].[Target_FX_Rate] AS [Target_FX_Rate], 
    [Project1].[Limit_FX_Rate] AS [Limit_FX_Rate], 
    [Project1].[Execution_FX_Rate] AS [Execution_FX_Rate], 
    [Project1].[Buy_Currency_Code] AS [Buy_Currency_Code], 
    [Project1].[Buy_Currency_Execution_Amount] AS [Buy_Currency_Execution_Amount], 
    [Project1].[Buy_Currency_Target_Amount] AS [Buy_Currency_Target_Amount], 
    [Project1].[Sell_Currency_Code] AS [Sell_Currency_Code], 
    [Project1].[Sell_Currency_Execution_Amount] AS [Sell_Currency_Execution_Amount], 
    [Project1].[Sell_Currency_Target_Amount] AS [Sell_Currency_Target_Amount], 
    [Project1].[Commission_Amount_TradeCur] AS [Commission_Amount_TradeCur], 
    [Project1].[Trade_Type_Indicator] AS [Trade_Type_Indicator], 
    [Project1].[Commission_Rate] AS [Commission_Rate], 
    [Project1].[Commission_Type] AS [Commission_Type], 
    [Project1].[Fee_Code1] AS [Fee_Code1], 
    [Project1].[Fee_Code2] AS [Fee_Code2], 
    [Project1].[Fee_Code3] AS [Fee_Code3], 
    [Project1].[Fee_Code4] AS [Fee_Code4], 
    [Project1].[Fee_Code5] AS [Fee_Code5], 
    [Project1].[Fee_Code6] AS [Fee_Code6], 
    [Project1].[Fee_Amount1_TradeCur] AS [Fee_Amount1_TradeCur], 
    [Project1].[Fee_Amount2_TradeCur] AS [Fee_Amount2_TradeCur], 
    [Project1].[Fee_Amount3_TradeCur] AS [Fee_Amount3_TradeCur], 
    [Project1].[Fee_Amount4_TradeCur] AS [Fee_Amount4_TradeCur], 
    [Project1].[Fee_Amount5_TradeCur] AS [Fee_Amount5_TradeCur], 
    [Project1].[Fee_Amount6_TradeCur] AS [Fee_Amount6_TradeCur], 
    [Project1].[Tax_Amount_TradeCur] AS [Tax_Amount_TradeCur], 
    [Project1].[Tax_Type] AS [Tax_Type], 
    [Project1].[Tax_Charge_FeeNum] AS [Tax_Charge_FeeNum], 
    [Project1].[Execution_Gross_Amount_TradeCur] AS [Execution_Gross_Amount_TradeCur], 
    [Project1].[Execution_Net_Amount_TradeCur] AS [Execution_Net_Amount_TradeCur], 
    [Project1].[Related_Order_ID] AS [Related_Order_ID], 
    [Project1].[Previous_Order_ID] AS [Previous_Order_ID], 
    [Project1].[Authorised_User1] AS [Authorised_User1], 
    [Project1].[Authorised_User1_DateTime] AS [Authorised_User1_DateTime], 
    [Project1].[Authorised_User2] AS [Authorised_User2], 
    [Project1].[Authorised_User2_DateTime] AS [Authorised_User2_DateTime], 
    [Project1].[Authorised_Number] AS [Authorised_Number], 
    [Project1].[Security_Type_Code1] AS [Security_Type_Code1], 
    [Project1].[Export_Status] AS [Export_Status], 
    [Project1].[Order_Ack_Nack_Status] AS [Order_Ack_Nack_Status], 
    [Project1].[Operations_Status] AS [Operations_Status], 
    [Project1].[Import_Trade_ID] AS [Import_Trade_ID]
    FROM ( SELECT 
        [Extent1].[Cash_Transaction_ID] AS [Cash_Transaction_ID], 
        [Extent1].[Portfolio_Code] AS [Portfolio_Code], 
        [Extent1].[Entity_ID] AS [Entity_ID], 
        [Extent1].[Transaction_Security_ID] AS [Transaction_Security_ID], 
        [Extent1].[Cash_Security_ID] AS [Cash_Security_ID], 
        [Extent1].[Transaction_Source_Code] AS [Transaction_Source_Code], 
        [Extent1].[Order_ID] AS [Order_ID], 
        [Extent1].[Allocation_ID] AS [Allocation_ID], 
        [Extent1].[Cashflow_ID] AS [Cashflow_ID], 
        [Extent1].[Dividend_Seq_Number] AS [Dividend_Seq_Number], 
        [Extent1].[External_ID] AS [External_ID], 
        [Extent1].[Transaction_Date] AS [Transaction_Date], 
        [Extent1].[Value_Date] AS [Value_Date], 
        [Extent1].[Cash_Transaction_Type] AS [Cash_Transaction_Type], 
        [Extent1].[Transaction_Amount] AS [Transaction_Amount], 
        [Extent1].[Transaction_Currency_Code] AS [Transaction_Currency_Code], 
        [Extent1].[BaseCur_Amount] AS [BaseCur_Amount], 
        [Extent1].[Create_User_Code] AS [Create_User_Code], 
        [Extent1].[Create_Date] AS [Create_Date], 
        [Extent1].[Last_Update_User] AS [Last_Update_User], 
        [Extent1].[Last_Update_Date] AS [Last_Update_Date], 
        [Extent2].[Security_ID] AS [Security_ID], 
        [Extent2].[Entity_ID] AS [Entity_ID1], 
        [Extent2].[Security_Name] AS [Security_Name], 
        [Extent2].[Short_Name] AS [Short_Name], 
        [Extent2].[Primary_Exch] AS [Primary_Exch], 
        [Extent2].[Secondary_Exch] AS [Secondary_Exch], 
        [Extent2].[Country_Of_Domicile] AS [Country_Of_Domicile], 
        [Extent2].[Country_Of_Risk] AS [Country_Of_Risk], 
        [Extent2].[Security_Type_Code] AS [Security_Type_Code], 
        [Extent2].[Price_Multiplier] AS [Price_Multiplier], 
        [Extent2].[Income_Frequency] AS [Income_Frequency], 
        [Extent2].[Issuer_Code] AS [Issuer_Code], 
        [Extent2].[Ultimate_Issuer_Code] AS [Ultimate_Issuer_Code], 
        [Extent2].[Asset_Currency] AS [Asset_Currency], 
        [Extent2].[Min_Lot_Size] AS [Min_Lot_Size], 
        [Extent2].[Decimal_Precision] AS [Decimal_Precision], 
        [Extent2].[AvePrice_Rounding] AS [AvePrice_Rounding], 
        [Extent2].[Issue_Date] AS [Issue_Date], 
        [Extent2].[Maturity_Date] AS [Maturity_Date], 
        [Extent2].[Coupon_Rate] AS [Coupon_Rate], 
        [Extent2].[Price_Exchange] AS [Price_Exchange], 
        [Extent2].[Trade_Currency] AS [Trade_Currency], 
        [Extent2].[Price_Curr] AS [Price_Curr], 
        [Extent2].[Currency_Pair_Code] AS [Currency_Pair_Code], 
        [Extent2].[Share_Class] AS [Share_Class], 
        [Extent2].[Current_Market_Price] AS [Current_Market_Price], 
        [Extent2].[Index_Type] AS [Index_Type], 
        [Extent2].[Clean_Price_Formula] AS [Clean_Price_Formula], 
        [Extent2].[Accrued_Income_Price_Formula] AS [Accrued_Income_Price_Formula], 
        [Extent2].[Odd_First_Coupon_Date] AS [Odd_First_Coupon_Date], 
        [Extent2].[Odd_Last_Coupon_Date] AS [Odd_Last_Coupon_Date], 
        [Extent2].[Coupon_Anniversary_Indicator] AS [Coupon_Anniversary_Indicator], 
        [Extent2].[Track_EOM_Flag] AS [Track_EOM_Flag], 
        [Extent2].[Next_Coupon_Date] AS [Next_Coupon_Date], 
        [Extent2].[Previous_Coupon_Date] AS [Previous_Coupon_Date], 
        [Extent2].[Payment_Frequency] AS [Payment_Frequency], 
        [Extent2].[Coupon_BusDay_Adjustment] AS [Coupon_BusDay_Adjustment], 
        [Extent2].[Next_Ex_Div_Date] AS [Next_Ex_Div_Date], 
        [Extent2].[Ex_Div_BusDay_Adjustment] AS [Ex_Div_BusDay_Adjustment], 
        [Extent2].[Ex_Div_Period] AS [Ex_Div_Period], 
        [Extent2].[Ticker] AS [Ticker], 
        [Extent2].[Inet_ID] AS [Inet_ID], 
        [Extent2].[Bloomberg_ID] AS [Bloomberg_ID], 
        [Extent2].[External_Sec_ID] AS [External_Sec_ID], 
        [Extent2].[Reuters_ID] AS [Reuters_ID], 
        [Extent2].[ISIN] AS [ISIN], 
        [Extent2].[Call_Account_Flag] AS [Call_Account_Flag], 
        [Extent2].[System_Locked] AS [System_Locked], 
        [Extent2].[Last_Update_User] AS [Last_Update_User1], 
        [Extent2].[Last_Update_Date] AS [Last_Update_Date1], 
        [Extent2].[Security_Status] AS [Security_Status], 
        [Extent2].[Benchmark_Portfolio] AS [Benchmark_Portfolio], 
        [Extent2].[Active_flag] AS [Active_flag], 
        [Extent2].[Dividend_FX_Security_ID] AS [Dividend_FX_Security_ID], 
        [Extent3].[Order_ID] AS [Order_ID1], 
        [Extent3].[Entity_ID] AS [Entity_ID2], 
        [Extent3].[Security_ID] AS [Security_ID1], 
        [Extent3].[Trade_Date] AS [Trade_Date], 
        [Extent3].[Settlement_Date] AS [Settlement_Date], 
        [Extent3].[Transaction_Type] AS [Transaction_Type], 
        [Extent3].[Order_Status] AS [Order_Status], 
        [Extent3].[Cancel_Reason_Code] AS [Cancel_Reason_Code], 
        [Extent3].[Manager] AS [Manager], 
        [Extent3].[Trader] AS [Trader], 
        [Extent3].[Operations_User] AS [Operations_User], 
        [Extent3].[Order_Instruction] AS [Order_Instruction], 
        [Extent3].[Order_Duration] AS [Order_Duration], 
        [Extent3].[Limit_Price] AS [Limit_Price], 
        [Extent3].[Limit_Yield] AS [Limit_Yield], 
        [Extent3].[Limit_Discount] AS [Limit_Discount], 
        [Extent3].[Order_Creator] AS [Order_Creator], 
        [Extent3].[Order_Create_Date] AS [Order_Create_Date], 
        [Extent3].[Last_Update_Date] AS [Last_Update_Date2], 
        [Extent3].[Last_Update_User] AS [Last_Update_User2], 
        [Extent3].[Sent_To_Trading_Date] AS [Sent_To_Trading_Date], 
        [Extent3].[Sent_To_Accounting_Date] AS [Sent_To_Accounting_Date], 
        [Extent3].[Value_Based_Indicator] AS [Value_Based_Indicator], 
        [Extent3].[Target_Clean_Price] AS [Target_Clean_Price], 
        [Extent3].[Target_Income_Price] AS [Target_Income_Price], 
        [Extent3].[Target_AllIn_Price] AS [Target_AllIn_Price], 
        [Extent3].[Target_Yield] AS [Target_Yield], 
        [Extent3].[Target_Discount] AS [Target_Discount], 
        [Extent3].[Target_Quantity] AS [Target_Quantity], 
        [Extent3].[Target_Clean_Amount_TradeCur] AS [Target_Clean_Amount_TradeCur], 
        [Extent3].[Target_Income_Amount_TradeCur] AS [Target_Income_Amount_TradeCur], 
        [Extent3].[Target_AllIn_Amount_TradeCur] AS [Target_AllIn_Amount_TradeCur], 
        [Extent3].[Place_Quantity] AS [Place_Quantity], 
        [Extent3].[Execution_Quantity] AS [Execution_Quantity], 
        [Extent3].[Execution_Clean_Amount_TradeCur] AS [Execution_Clean_Amount_TradeCur], 
        [Extent3].[Execution_Income_Amount_TradeCur] AS [Execution_Income_Amount_TradeCur], 
        [Extent3].[Execution_AllIn_Amount_TradeCur] AS [Execution_AllIn_Amount_TradeCur], 
        [Extent3].[Broker_Code] AS [Broker_Code], 
        [Extent3].[Execution_Clean_Price] AS [Execution_Clean_Price], 
        [Extent3].[Execution_Income_Price] AS [Execution_Income_Price], 
        [Extent3].[Execution_AllIn_Price] AS [Execution_AllIn_Price], 
        [Extent3].[Execution_Yield] AS [Execution_Yield], 
        [Extent3].[Execution_Discount] AS [Execution_Discount], 
        [Extent3].[Execution_Currency] AS [Execution_Currency], 
        [Extent3].[Execution_Exchange] AS [Execution_Exchange], 
        [Extent3].[Target_FX_Rate] AS [Target_FX_Rate], 
        [Extent3].[Limit_FX_Rate] AS [Limit_FX_Rate], 
        [Extent3].[Execution_FX_Rate] AS [Execution_FX_Rate], 
        [Extent3].[Buy_Currency_Code] AS [Buy_Currency_Code], 
        [Extent3].[Buy_Currency_Execution_Amount] AS [Buy_Currency_Execution_Amount], 
        [Extent3].[Buy_Currency_Target_Amount] AS [Buy_Currency_Target_Amount], 
        [Extent3].[Sell_Currency_Code] AS [Sell_Currency_Code], 
        [Extent3].[Sell_Currency_Execution_Amount] AS [Sell_Currency_Execution_Amount], 
        [Extent3].[Sell_Currency_Target_Amount] AS [Sell_Currency_Target_Amount], 
        [Extent3].[Commission_Amount_TradeCur] AS [Commission_Amount_TradeCur], 
        [Extent3].[Trade_Type_Indicator] AS [Trade_Type_Indicator], 
        [Extent3].[Commission_Rate] AS [Commission_Rate], 
        [Extent3].[Commission_Type] AS [Commission_Type], 
        [Extent3].[Fee_Code1] AS [Fee_Code1], 
        [Extent3].[Fee_Code2] AS [Fee_Code2], 
        [Extent3].[Fee_Code3] AS [Fee_Code3], 
        [Extent3].[Fee_Code4] AS [Fee_Code4], 
        [Extent3].[Fee_Code5] AS [Fee_Code5], 
        [Extent3].[Fee_Code6] AS [Fee_Code6], 
        [Extent3].[Fee_Amount1_TradeCur] AS [Fee_Amount1_TradeCur], 
        [Extent3].[Fee_Amount2_TradeCur] AS [Fee_Amount2_TradeCur], 
        [Extent3].[Fee_Amount3_TradeCur] AS [Fee_Amount3_TradeCur], 
        [Extent3].[Fee_Amount4_TradeCur] AS [Fee_Amount4_TradeCur], 
        [Extent3].[Fee_Amount5_TradeCur] AS [Fee_Amount5_TradeCur], 
        [Extent3].[Fee_Amount6_TradeCur] AS [Fee_Amount6_TradeCur], 
        [Extent3].[Tax_Amount_TradeCur] AS [Tax_Amount_TradeCur], 
        [Extent3].[Tax_Type] AS [Tax_Type], 
        [Extent3].[Tax_Charge_FeeNum] AS [Tax_Charge_FeeNum], 
        [Extent3].[Execution_Gross_Amount_TradeCur] AS [Execution_Gross_Amount_TradeCur], 
        [Extent3].[Execution_Net_Amount_TradeCur] AS [Execution_Net_Amount_TradeCur], 
        [Extent3].[Related_Order_ID] AS [Related_Order_ID], 
        [Extent3].[Previous_Order_ID] AS [Previous_Order_ID], 
        [Extent3].[Authorised_User1] AS [Authorised_User1], 
        [Extent3].[Authorised_User1_DateTime] AS [Authorised_User1_DateTime], 
        [Extent3].[Authorised_User2] AS [Authorised_User2], 
        [Extent3].[Authorised_User2_DateTime] AS [Authorised_User2_DateTime], 
        [Extent3].[Authorised_Number] AS [Authorised_Number], 
        [Extent3].[Security_Type_Code] AS [Security_Type_Code1], 
        [Extent3].[Export_Status] AS [Export_Status], 
        [Extent3].[Order_Ack_Nack_Status] AS [Order_Ack_Nack_Status], 
        [Extent3].[Operations_Status] AS [Operations_Status], 
        [Extent3].[Import_Trade_ID] AS [Import_Trade_ID], 
        1 AS [C1]
        FROM   [dbo].[Cash_Transactions] AS [Extent1]
        LEFT OUTER JOIN [dbo].[Security_Detail] AS [Extent2] ON [Extent1].[Transaction_Security_ID] = [Extent2].[Security_ID]
        LEFT OUTER JOIN [dbo].[Order_Detail] AS [Extent3] ON [Extent1].[Order_ID] = [Extent3].[Order_ID]
        WHERE ([Extent1].[Entity_ID] = @p__linq__0) AND ([Extent1].[Portfolio_Code] = @p__linq__1) AND ([Extent1].[Transaction_Date] <= @p__linq__2)
    )  AS [Project1]
    ORDER BY [Project1].[Transaction_Date] DESC
2018-06-05 16:59:28.8444|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: SELECT TOP (50) 
    [Project1].[C1] AS [C1], 
    [Project1].[Cash_Transaction_ID] AS [Cash_Transaction_ID], 
    [Project1].[Portfolio_Code] AS [Portfolio_Code], 
    [Project1].[Entity_ID] AS [Entity_ID], 
    [Project1].[Transaction_Security_ID] AS [Transaction_Security_ID], 
    [Project1].[Cash_Security_ID] AS [Cash_Security_ID], 
    [Project1].[Transaction_Source_Code] AS [Transaction_Source_Code], 
    [Project1].[Order_ID] AS [Order_ID], 
    [Project1].[Allocation_ID] AS [Allocation_ID], 
    [Project1].[Cashflow_ID] AS [Cashflow_ID], 
    [Project1].[Dividend_Seq_Number] AS [Dividend_Seq_Number], 
    [Project1].[External_ID] AS [External_ID], 
    [Project1].[Transaction_Date] AS [Transaction_Date], 
    [Project1].[Value_Date] AS [Value_Date], 
    [Project1].[Cash_Transaction_Type] AS [Cash_Transaction_Type], 
    [Project1].[Transaction_Amount] AS [Transaction_Amount], 
    [Project1].[Transaction_Currency_Code] AS [Transaction_Currency_Code], 
    [Project1].[BaseCur_Amount] AS [BaseCur_Amount], 
    [Project1].[Create_User_Code] AS [Create_User_Code], 
    [Project1].[Create_Date] AS [Create_Date], 
    [Project1].[Last_Update_User] AS [Last_Update_User], 
    [Project1].[Last_Update_Date] AS [Last_Update_Date], 
    [Project1].[Security_ID] AS [Security_ID], 
    [Project1].[Entity_ID1] AS [Entity_ID1], 
    [Project1].[Security_Name] AS [Security_Name], 
    [Project1].[Short_Name] AS [Short_Name], 
    [Project1].[Primary_Exch] AS [Primary_Exch], 
    [Project1].[Secondary_Exch] AS [Secondary_Exch], 
    [Project1].[Country_Of_Domicile] AS [Country_Of_Domicile], 
    [Project1].[Country_Of_Risk] AS [Country_Of_Risk], 
    [Project1].[Security_Type_Code] AS [Security_Type_Code], 
    [Project1].[Price_Multiplier] AS [Price_Multiplier], 
    [Project1].[Income_Frequency] AS [Income_Frequency], 
    [Project1].[Issuer_Code] AS [Issuer_Code], 
    [Project1].[Ultimate_Issuer_Code] AS [Ultimate_Issuer_Code], 
    [Project1].[Asset_Currency] AS [Asset_Currency], 
    [Project1].[Min_Lot_Size] AS [Min_Lot_Size], 
    [Project1].[Decimal_Precision] AS [Decimal_Precision], 
    [Project1].[AvePrice_Rounding] AS [AvePrice_Rounding], 
    [Project1].[Issue_Date] AS [Issue_Date], 
    [Project1].[Maturity_Date] AS [Maturity_Date], 
    [Project1].[Coupon_Rate] AS [Coupon_Rate], 
    [Project1].[Price_Exchange] AS [Price_Exchange], 
    [Project1].[Trade_Currency] AS [Trade_Currency], 
    [Project1].[Price_Curr] AS [Price_Curr], 
    [Project1].[Currency_Pair_Code] AS [Currency_Pair_Code], 
    [Project1].[Share_Class] AS [Share_Class], 
    [Project1].[Current_Market_Price] AS [Current_Market_Price], 
    [Project1].[Index_Type] AS [Index_Type], 
    [Project1].[Clean_Price_Formula] AS [Clean_Price_Formula], 
    [Project1].[Accrued_Income_Price_Formula] AS [Accrued_Income_Price_Formula], 
    [Project1].[Odd_First_Coupon_Date] AS [Odd_First_Coupon_Date], 
    [Project1].[Odd_Last_Coupon_Date] AS [Odd_Last_Coupon_Date], 
    [Project1].[Coupon_Anniversary_Indicator] AS [Coupon_Anniversary_Indicator], 
    [Project1].[Track_EOM_Flag] AS [Track_EOM_Flag], 
    [Project1].[Next_Coupon_Date] AS [Next_Coupon_Date], 
    [Project1].[Previous_Coupon_Date] AS [Previous_Coupon_Date], 
    [Project1].[Payment_Frequency] AS [Payment_Frequency], 
    [Project1].[Coupon_BusDay_Adjustment] AS [Coupon_BusDay_Adjustment], 
    [Project1].[Next_Ex_Div_Date] AS [Next_Ex_Div_Date], 
    [Project1].[Ex_Div_BusDay_Adjustment] AS [Ex_Div_BusDay_Adjustment], 
    [Project1].[Ex_Div_Period] AS [Ex_Div_Period], 
    [Project1].[Ticker] AS [Ticker], 
    [Project1].[Inet_ID] AS [Inet_ID], 
    [Project1].[Bloomberg_ID] AS [Bloomberg_ID], 
    [Project1].[External_Sec_ID] AS [External_Sec_ID], 
    [Project1].[Reuters_ID] AS [Reuters_ID], 
    [Project1].[ISIN] AS [ISIN], 
    [Project1].[Call_Account_Flag] AS [Call_Account_Flag], 
    [Project1].[System_Locked] AS [System_Locked], 
    [Project1].[Last_Update_User1] AS [Last_Update_User1], 
    [Project1].[Last_Update_Date1] AS [Last_Update_Date1], 
    [Project1].[Security_Status] AS [Security_Status], 
    [Project1].[Benchmark_Portfolio] AS [Benchmark_Portfolio], 
    [Project1].[Active_flag] AS [Active_flag], 
    [Project1].[Dividend_FX_Security_ID] AS [Dividend_FX_Security_ID], 
    [Project1].[Order_ID1] AS [Order_ID1], 
    [Project1].[Entity_ID2] AS [Entity_ID2], 
    [Project1].[Security_ID1] AS [Security_ID1], 
    [Project1].[Trade_Date] AS [Trade_Date], 
    [Project1].[Settlement_Date] AS [Settlement_Date], 
    [Project1].[Transaction_Type] AS [Transaction_Type], 
    [Project1].[Order_Status] AS [Order_Status], 
    [Project1].[Cancel_Reason_Code] AS [Cancel_Reason_Code], 
    [Project1].[Manager] AS [Manager], 
    [Project1].[Trader] AS [Trader], 
    [Project1].[Operations_User] AS [Operations_User], 
    [Project1].[Order_Instruction] AS [Order_Instruction], 
    [Project1].[Order_Duration] AS [Order_Duration], 
    [Project1].[Limit_Price] AS [Limit_Price], 
    [Project1].[Limit_Yield] AS [Limit_Yield], 
    [Project1].[Limit_Discount] AS [Limit_Discount], 
    [Project1].[Order_Creator] AS [Order_Creator], 
    [Project1].[Order_Create_Date] AS [Order_Create_Date], 
    [Project1].[Last_Update_Date2] AS [Last_Update_Date2], 
    [Project1].[Last_Update_User2] AS [Last_Update_User2], 
    [Project1].[Sent_To_Trading_Date] AS [Sent_To_Trading_Date], 
    [Project1].[Sent_To_Accounting_Date] AS [Sent_To_Accounting_Date], 
    [Project1].[Value_Based_Indicator] AS [Value_Based_Indicator], 
    [Project1].[Target_Clean_Price] AS [Target_Clean_Price], 
    [Project1].[Target_Income_Price] AS [Target_Income_Price], 
    [Project1].[Target_AllIn_Price] AS [Target_AllIn_Price], 
    [Project1].[Target_Yield] AS [Target_Yield], 
    [Project1].[Target_Discount] AS [Target_Discount], 
    [Project1].[Target_Quantity] AS [Target_Quantity], 
    [Project1].[Target_Clean_Amount_TradeCur] AS [Target_Clean_Amount_TradeCur], 
    [Project1].[Target_Income_Amount_TradeCur] AS [Target_Income_Amount_TradeCur], 
    [Project1].[Target_AllIn_Amount_TradeCur] AS [Target_AllIn_Amount_TradeCur], 
    [Project1].[Place_Quantity] AS [Place_Quantity], 
    [Project1].[Execution_Quantity] AS [Execution_Quantity], 
    [Project1].[Execution_Clean_Amount_TradeCur] AS [Execution_Clean_Amount_TradeCur], 
    [Project1].[Execution_Income_Amount_TradeCur] AS [Execution_Income_Amount_TradeCur], 
    [Project1].[Execution_AllIn_Amount_TradeCur] AS [Execution_AllIn_Amount_TradeCur], 
    [Project1].[Broker_Code] AS [Broker_Code], 
    [Project1].[Execution_Clean_Price] AS [Execution_Clean_Price], 
    [Project1].[Execution_Income_Price] AS [Execution_Income_Price], 
    [Project1].[Execution_AllIn_Price] AS [Execution_AllIn_Price], 
    [Project1].[Execution_Yield] AS [Execution_Yield], 
    [Project1].[Execution_Discount] AS [Execution_Discount], 
    [Project1].[Execution_Currency] AS [Execution_Currency], 
    [Project1].[Execution_Exchange] AS [Execution_Exchange], 
    [Project1].[Target_FX_Rate] AS [Target_FX_Rate], 
    [Project1].[Limit_FX_Rate] AS [Limit_FX_Rate], 
    [Project1].[Execution_FX_Rate] AS [Execution_FX_Rate], 
    [Project1].[Buy_Currency_Code] AS [Buy_Currency_Code], 
    [Project1].[Buy_Currency_Execution_Amount] AS [Buy_Currency_Execution_Amount], 
    [Project1].[Buy_Currency_Target_Amount] AS [Buy_Currency_Target_Amount], 
    [Project1].[Sell_Currency_Code] AS [Sell_Currency_Code], 
    [Project1].[Sell_Currency_Execution_Amount] AS [Sell_Currency_Execution_Amount], 
    [Project1].[Sell_Currency_Target_Amount] AS [Sell_Currency_Target_Amount], 
    [Project1].[Commission_Amount_TradeCur] AS [Commission_Amount_TradeCur], 
    [Project1].[Trade_Type_Indicator] AS [Trade_Type_Indicator], 
    [Project1].[Commission_Rate] AS [Commission_Rate], 
    [Project1].[Commission_Type] AS [Commission_Type], 
    [Project1].[Fee_Code1] AS [Fee_Code1], 
    [Project1].[Fee_Code2] AS [Fee_Code2], 
    [Project1].[Fee_Code3] AS [Fee_Code3], 
    [Project1].[Fee_Code4] AS [Fee_Code4], 
    [Project1].[Fee_Code5] AS [Fee_Code5], 
    [Project1].[Fee_Code6] AS [Fee_Code6], 
    [Project1].[Fee_Amount1_TradeCur] AS [Fee_Amount1_TradeCur], 
    [Project1].[Fee_Amount2_TradeCur] AS [Fee_Amount2_TradeCur], 
    [Project1].[Fee_Amount3_TradeCur] AS [Fee_Amount3_TradeCur], 
    [Project1].[Fee_Amount4_TradeCur] AS [Fee_Amount4_TradeCur], 
    [Project1].[Fee_Amount5_TradeCur] AS [Fee_Amount5_TradeCur], 
    [Project1].[Fee_Amount6_TradeCur] AS [Fee_Amount6_TradeCur], 
    [Project1].[Tax_Amount_TradeCur] AS [Tax_Amount_TradeCur], 
    [Project1].[Tax_Type] AS [Tax_Type], 
    [Project1].[Tax_Charge_FeeNum] AS [Tax_Charge_FeeNum], 
    [Project1].[Execution_Gross_Amount_TradeCur] AS [Execution_Gross_Amount_TradeCur], 
    [Project1].[Execution_Net_Amount_TradeCur] AS [Execution_Net_Amount_TradeCur], 
    [Project1].[Related_Order_ID] AS [Related_Order_ID], 
    [Project1].[Previous_Order_ID] AS [Previous_Order_ID], 
    [Project1].[Authorised_User1] AS [Authorised_User1], 
    [Project1].[Authorised_User1_DateTime] AS [Authorised_User1_DateTime], 
    [Project1].[Authorised_User2] AS [Authorised_User2], 
    [Project1].[Authorised_User2_DateTime] AS [Authorised_User2_DateTime], 
    [Project1].[Authorised_Number] AS [Authorised_Number], 
    [Project1].[Security_Type_Code1] AS [Security_Type_Code1], 
    [Project1].[Export_Status] AS [Export_Status], 
    [Project1].[Order_Ack_Nack_Status] AS [Order_Ack_Nack_Status], 
    [Project1].[Operations_Status] AS [Operations_Status], 
    [Project1].[Import_Trade_ID] AS [Import_Trade_ID]
    FROM ( SELECT 
        [Extent1].[Cash_Transaction_ID] AS [Cash_Transaction_ID], 
        [Extent1].[Portfolio_Code] AS [Portfolio_Code], 
        [Extent1].[Entity_ID] AS [Entity_ID], 
        [Extent1].[Transaction_Security_ID] AS [Transaction_Security_ID], 
        [Extent1].[Cash_Security_ID] AS [Cash_Security_ID], 
        [Extent1].[Transaction_Source_Code] AS [Transaction_Source_Code], 
        [Extent1].[Order_ID] AS [Order_ID], 
        [Extent1].[Allocation_ID] AS [Allocation_ID], 
        [Extent1].[Cashflow_ID] AS [Cashflow_ID], 
        [Extent1].[Dividend_Seq_Number] AS [Dividend_Seq_Number], 
        [Extent1].[External_ID] AS [External_ID], 
        [Extent1].[Transaction_Date] AS [Transaction_Date], 
        [Extent1].[Value_Date] AS [Value_Date], 
        [Extent1].[Cash_Transaction_Type] AS [Cash_Transaction_Type], 
        [Extent1].[Transaction_Amount] AS [Transaction_Amount], 
        [Extent1].[Transaction_Currency_Code] AS [Transaction_Currency_Code], 
        [Extent1].[BaseCur_Amount] AS [BaseCur_Amount], 
        [Extent1].[Create_User_Code] AS [Create_User_Code], 
        [Extent1].[Create_Date] AS [Create_Date], 
        [Extent1].[Last_Update_User] AS [Last_Update_User], 
        [Extent1].[Last_Update_Date] AS [Last_Update_Date], 
        [Extent2].[Security_ID] AS [Security_ID], 
        [Extent2].[Entity_ID] AS [Entity_ID1], 
        [Extent2].[Security_Name] AS [Security_Name], 
        [Extent2].[Short_Name] AS [Short_Name], 
        [Extent2].[Primary_Exch] AS [Primary_Exch], 
        [Extent2].[Secondary_Exch] AS [Secondary_Exch], 
        [Extent2].[Country_Of_Domicile] AS [Country_Of_Domicile], 
        [Extent2].[Country_Of_Risk] AS [Country_Of_Risk], 
        [Extent2].[Security_Type_Code] AS [Security_Type_Code], 
        [Extent2].[Price_Multiplier] AS [Price_Multiplier], 
        [Extent2].[Income_Frequency] AS [Income_Frequency], 
        [Extent2].[Issuer_Code] AS [Issuer_Code], 
        [Extent2].[Ultimate_Issuer_Code] AS [Ultimate_Issuer_Code], 
        [Extent2].[Asset_Currency] AS [Asset_Currency], 
        [Extent2].[Min_Lot_Size] AS [Min_Lot_Size], 
        [Extent2].[Decimal_Precision] AS [Decimal_Precision], 
        [Extent2].[AvePrice_Rounding] AS [AvePrice_Rounding], 
        [Extent2].[Issue_Date] AS [Issue_Date], 
        [Extent2].[Maturity_Date] AS [Maturity_Date], 
        [Extent2].[Coupon_Rate] AS [Coupon_Rate], 
        [Extent2].[Price_Exchange] AS [Price_Exchange], 
        [Extent2].[Trade_Currency] AS [Trade_Currency], 
        [Extent2].[Price_Curr] AS [Price_Curr], 
        [Extent2].[Currency_Pair_Code] AS [Currency_Pair_Code], 
        [Extent2].[Share_Class] AS [Share_Class], 
        [Extent2].[Current_Market_Price] AS [Current_Market_Price], 
        [Extent2].[Index_Type] AS [Index_Type], 
        [Extent2].[Clean_Price_Formula] AS [Clean_Price_Formula], 
        [Extent2].[Accrued_Income_Price_Formula] AS [Accrued_Income_Price_Formula], 
        [Extent2].[Odd_First_Coupon_Date] AS [Odd_First_Coupon_Date], 
        [Extent2].[Odd_Last_Coupon_Date] AS [Odd_Last_Coupon_Date], 
        [Extent2].[Coupon_Anniversary_Indicator] AS [Coupon_Anniversary_Indicator], 
        [Extent2].[Track_EOM_Flag] AS [Track_EOM_Flag], 
        [Extent2].[Next_Coupon_Date] AS [Next_Coupon_Date], 
        [Extent2].[Previous_Coupon_Date] AS [Previous_Coupon_Date], 
        [Extent2].[Payment_Frequency] AS [Payment_Frequency], 
        [Extent2].[Coupon_BusDay_Adjustment] AS [Coupon_BusDay_Adjustment], 
        [Extent2].[Next_Ex_Div_Date] AS [Next_Ex_Div_Date], 
        [Extent2].[Ex_Div_BusDay_Adjustment] AS [Ex_Div_BusDay_Adjustment], 
        [Extent2].[Ex_Div_Period] AS [Ex_Div_Period], 
        [Extent2].[Ticker] AS [Ticker], 
        [Extent2].[Inet_ID] AS [Inet_ID], 
        [Extent2].[Bloomberg_ID] AS [Bloomberg_ID], 
        [Extent2].[External_Sec_ID] AS [External_Sec_ID], 
        [Extent2].[Reuters_ID] AS [Reuters_ID], 
        [Extent2].[ISIN] AS [ISIN], 
        [Extent2].[Call_Account_Flag] AS [Call_Account_Flag], 
        [Extent2].[System_Locked] AS [System_Locked], 
        [Extent2].[Last_Update_User] AS [Last_Update_User1], 
        [Extent2].[Last_Update_Date] AS [Last_Update_Date1], 
        [Extent2].[Security_Status] AS [Security_Status], 
        [Extent2].[Benchmark_Portfolio] AS [Benchmark_Portfolio], 
        [Extent2].[Active_flag] AS [Active_flag], 
        [Extent2].[Dividend_FX_Security_ID] AS [Dividend_FX_Security_ID], 
        [Extent3].[Order_ID] AS [Order_ID1], 
        [Extent3].[Entity_ID] AS [Entity_ID2], 
        [Extent3].[Security_ID] AS [Security_ID1], 
        [Extent3].[Trade_Date] AS [Trade_Date], 
        [Extent3].[Settlement_Date] AS [Settlement_Date], 
        [Extent3].[Transaction_Type] AS [Transaction_Type], 
        [Extent3].[Order_Status] AS [Order_Status], 
        [Extent3].[Cancel_Reason_Code] AS [Cancel_Reason_Code], 
        [Extent3].[Manager] AS [Manager], 
        [Extent3].[Trader] AS [Trader], 
        [Extent3].[Operations_User] AS [Operations_User], 
        [Extent3].[Order_Instruction] AS [Order_Instruction], 
        [Extent3].[Order_Duration] AS [Order_Duration], 
        [Extent3].[Limit_Price] AS [Limit_Price], 
        [Extent3].[Limit_Yield] AS [Limit_Yield], 
        [Extent3].[Limit_Discount] AS [Limit_Discount], 
        [Extent3].[Order_Creator] AS [Order_Creator], 
        [Extent3].[Order_Create_Date] AS [Order_Create_Date], 
        [Extent3].[Last_Update_Date] AS [Last_Update_Date2], 
        [Extent3].[Last_Update_User] AS [Last_Update_User2], 
        [Extent3].[Sent_To_Trading_Date] AS [Sent_To_Trading_Date], 
        [Extent3].[Sent_To_Accounting_Date] AS [Sent_To_Accounting_Date], 
        [Extent3].[Value_Based_Indicator] AS [Value_Based_Indicator], 
        [Extent3].[Target_Clean_Price] AS [Target_Clean_Price], 
        [Extent3].[Target_Income_Price] AS [Target_Income_Price], 
        [Extent3].[Target_AllIn_Price] AS [Target_AllIn_Price], 
        [Extent3].[Target_Yield] AS [Target_Yield], 
        [Extent3].[Target_Discount] AS [Target_Discount], 
        [Extent3].[Target_Quantity] AS [Target_Quantity], 
        [Extent3].[Target_Clean_Amount_TradeCur] AS [Target_Clean_Amount_TradeCur], 
        [Extent3].[Target_Income_Amount_TradeCur] AS [Target_Income_Amount_TradeCur], 
        [Extent3].[Target_AllIn_Amount_TradeCur] AS [Target_AllIn_Amount_TradeCur], 
        [Extent3].[Place_Quantity] AS [Place_Quantity], 
        [Extent3].[Execution_Quantity] AS [Execution_Quantity], 
        [Extent3].[Execution_Clean_Amount_TradeCur] AS [Execution_Clean_Amount_TradeCur], 
        [Extent3].[Execution_Income_Amount_TradeCur] AS [Execution_Income_Amount_TradeCur], 
        [Extent3].[Execution_AllIn_Amount_TradeCur] AS [Execution_AllIn_Amount_TradeCur], 
        [Extent3].[Broker_Code] AS [Broker_Code], 
        [Extent3].[Execution_Clean_Price] AS [Execution_Clean_Price], 
        [Extent3].[Execution_Income_Price] AS [Execution_Income_Price], 
        [Extent3].[Execution_AllIn_Price] AS [Execution_AllIn_Price], 
        [Extent3].[Execution_Yield] AS [Execution_Yield], 
        [Extent3].[Execution_Discount] AS [Execution_Discount], 
        [Extent3].[Execution_Currency] AS [Execution_Currency], 
        [Extent3].[Execution_Exchange] AS [Execution_Exchange], 
        [Extent3].[Target_FX_Rate] AS [Target_FX_Rate], 
        [Extent3].[Limit_FX_Rate] AS [Limit_FX_Rate], 
        [Extent3].[Execution_FX_Rate] AS [Execution_FX_Rate], 
        [Extent3].[Buy_Currency_Code] AS [Buy_Currency_Code], 
        [Extent3].[Buy_Currency_Execution_Amount] AS [Buy_Currency_Execution_Amount], 
        [Extent3].[Buy_Currency_Target_Amount] AS [Buy_Currency_Target_Amount], 
        [Extent3].[Sell_Currency_Code] AS [Sell_Currency_Code], 
        [Extent3].[Sell_Currency_Execution_Amount] AS [Sell_Currency_Execution_Amount], 
        [Extent3].[Sell_Currency_Target_Amount] AS [Sell_Currency_Target_Amount], 
        [Extent3].[Commission_Amount_TradeCur] AS [Commission_Amount_TradeCur], 
        [Extent3].[Trade_Type_Indicator] AS [Trade_Type_Indicator], 
        [Extent3].[Commission_Rate] AS [Commission_Rate], 
        [Extent3].[Commission_Type] AS [Commission_Type], 
        [Extent3].[Fee_Code1] AS [Fee_Code1], 
        [Extent3].[Fee_Code2] AS [Fee_Code2], 
        [Extent3].[Fee_Code3] AS [Fee_Code3], 
        [Extent3].[Fee_Code4] AS [Fee_Code4], 
        [Extent3].[Fee_Code5] AS [Fee_Code5], 
        [Extent3].[Fee_Code6] AS [Fee_Code6], 
        [Extent3].[Fee_Amount1_TradeCur] AS [Fee_Amount1_TradeCur], 
        [Extent3].[Fee_Amount2_TradeCur] AS [Fee_Amount2_TradeCur], 
        [Extent3].[Fee_Amount3_TradeCur] AS [Fee_Amount3_TradeCur], 
        [Extent3].[Fee_Amount4_TradeCur] AS [Fee_Amount4_TradeCur], 
        [Extent3].[Fee_Amount5_TradeCur] AS [Fee_Amount5_TradeCur], 
        [Extent3].[Fee_Amount6_TradeCur] AS [Fee_Amount6_TradeCur], 
        [Extent3].[Tax_Amount_TradeCur] AS [Tax_Amount_TradeCur], 
        [Extent3].[Tax_Type] AS [Tax_Type], 
        [Extent3].[Tax_Charge_FeeNum] AS [Tax_Charge_FeeNum], 
        [Extent3].[Execution_Gross_Amount_TradeCur] AS [Execution_Gross_Amount_TradeCur], 
        [Extent3].[Execution_Net_Amount_TradeCur] AS [Execution_Net_Amount_TradeCur], 
        [Extent3].[Related_Order_ID] AS [Related_Order_ID], 
        [Extent3].[Previous_Order_ID] AS [Previous_Order_ID], 
        [Extent3].[Authorised_User1] AS [Authorised_User1], 
        [Extent3].[Authorised_User1_DateTime] AS [Authorised_User1_DateTime], 
        [Extent3].[Authorised_User2] AS [Authorised_User2], 
        [Extent3].[Authorised_User2_DateTime] AS [Authorised_User2_DateTime], 
        [Extent3].[Authorised_Number] AS [Authorised_Number], 
        [Extent3].[Security_Type_Code] AS [Security_Type_Code1], 
        [Extent3].[Export_Status] AS [Export_Status], 
        [Extent3].[Order_Ack_Nack_Status] AS [Order_Ack_Nack_Status], 
        [Extent3].[Operations_Status] AS [Operations_Status], 
        [Extent3].[Import_Trade_ID] AS [Import_Trade_ID], 
        1 AS [C1]
        FROM   [dbo].[Cash_Transactions] AS [Extent1]
        LEFT OUTER JOIN [dbo].[Security_Detail] AS [Extent2] ON [Extent1].[Transaction_Security_ID] = [Extent2].[Security_ID]
        LEFT OUTER JOIN [dbo].[Order_Detail] AS [Extent3] ON [Extent1].[Order_ID] = [Extent3].[Order_ID]
        WHERE ([Extent1].[Entity_ID] = @p__linq__0) AND ([Extent1].[Portfolio_Code] = @p__linq__1) AND ([Extent1].[Transaction_Date] <= @p__linq__2)
    )  AS [Project1]
    ORDER BY [Project1].[Transaction_Date] DESC
2018-06-05 16:59:51.4055|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: IF db_id(N'MetopeAzureDb') IS NOT NULL SELECT 1 ELSE SELECT Count(*) FROM sys.databases WHERE [name]=N'MetopeAzureDb'
2018-06-05 16:59:51.4780|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: IF db_id(N'MetopeAzureDb') IS NOT NULL SELECT 1 ELSE SELECT Count(*) FROM sys.databases WHERE [name]=N'MetopeAzureDb'
2018-06-05 16:59:51.7602|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: IF db_id(N'MetopeAzureDb') IS NOT NULL SELECT 1 ELSE SELECT Count(*) FROM sys.databases WHERE [name]=N'MetopeAzureDb'
2018-06-05 16:59:52.1760|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: IF db_id(N'MetopeAzureDb') IS NOT NULL SELECT 1 ELSE SELECT Count(*) FROM sys.databases WHERE [name]=N'MetopeAzureDb'
2018-06-05 16:59:52.5848|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: True, Command Text: SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[EntityIdScope] AS [EntityIdScope], 
    [Extent1].[Email] AS [Email], 
    [Extent1].[EmailConfirmed] AS [EmailConfirmed], 
    [Extent1].[PasswordHash] AS [PasswordHash], 
    [Extent1].[SecurityStamp] AS [SecurityStamp], 
    [Extent1].[PhoneNumber] AS [PhoneNumber], 
    [Extent1].[PhoneNumberConfirmed] AS [PhoneNumberConfirmed], 
    [Extent1].[TwoFactorEnabled] AS [TwoFactorEnabled], 
    [Extent1].[LockoutEndDateUtc] AS [LockoutEndDateUtc], 
    [Extent1].[LockoutEnabled] AS [LockoutEnabled], 
    [Extent1].[AccessFailedCount] AS [AccessFailedCount], 
    [Extent1].[UserName] AS [UserName]
    FROM [dbo].[AspNetUsers] AS [Extent1]
    WHERE [Extent1].[Id] = @p0
2018-06-05 16:59:52.7630|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: True, Command Text: SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[EntityIdScope] AS [EntityIdScope], 
    [Extent1].[Email] AS [Email], 
    [Extent1].[EmailConfirmed] AS [EmailConfirmed], 
    [Extent1].[PasswordHash] AS [PasswordHash], 
    [Extent1].[SecurityStamp] AS [SecurityStamp], 
    [Extent1].[PhoneNumber] AS [PhoneNumber], 
    [Extent1].[PhoneNumberConfirmed] AS [PhoneNumberConfirmed], 
    [Extent1].[TwoFactorEnabled] AS [TwoFactorEnabled], 
    [Extent1].[LockoutEndDateUtc] AS [LockoutEndDateUtc], 
    [Extent1].[LockoutEnabled] AS [LockoutEnabled], 
    [Extent1].[AccessFailedCount] AS [AccessFailedCount], 
    [Extent1].[UserName] AS [UserName]
    FROM [dbo].[AspNetUsers] AS [Extent1]
    WHERE [Extent1].[Id] = @p0
2018-06-05 16:59:52.8070|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: True, Command Text: SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[UserId] AS [UserId], 
    [Extent1].[ClaimType] AS [ClaimType], 
    [Extent1].[ClaimValue] AS [ClaimValue]
    FROM [dbo].[AspNetUserClaims] AS [Extent1]
    WHERE [Extent1].[UserId] = @p__linq__0
2018-06-05 16:59:52.9276|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: True, Command Text: SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[UserId] AS [UserId], 
    [Extent1].[ClaimType] AS [ClaimType], 
    [Extent1].[ClaimValue] AS [ClaimValue]
    FROM [dbo].[AspNetUserClaims] AS [Extent1]
    WHERE [Extent1].[UserId] = @p__linq__0
2018-06-05 16:59:53.0316|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: True, Command Text: SELECT 
    [Extent1].[LoginProvider] AS [LoginProvider], 
    [Extent1].[ProviderKey] AS [ProviderKey], 
    [Extent1].[UserId] AS [UserId]
    FROM [dbo].[AspNetUserLogins] AS [Extent1]
    WHERE [Extent1].[UserId] = @p__linq__0
2018-06-05 16:59:53.2913|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: True, Command Text: SELECT 
    [Extent1].[LoginProvider] AS [LoginProvider], 
    [Extent1].[ProviderKey] AS [ProviderKey], 
    [Extent1].[UserId] AS [UserId]
    FROM [dbo].[AspNetUserLogins] AS [Extent1]
    WHERE [Extent1].[UserId] = @p__linq__0
2018-06-05 16:59:53.3399|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: True, Command Text: SELECT 
    [Extent1].[UserId] AS [UserId], 
    [Extent1].[RoleId] AS [RoleId]
    FROM [dbo].[AspNetUserRoles] AS [Extent1]
    WHERE [Extent1].[UserId] = @p__linq__0
2018-06-05 16:59:53.5320|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: True, Command Text: SELECT 
    [Extent1].[UserId] AS [UserId], 
    [Extent1].[RoleId] AS [RoleId]
    FROM [dbo].[AspNetUserRoles] AS [Extent1]
    WHERE [Extent1].[UserId] = @p__linq__0
2018-06-05 16:59:54.1014|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: SELECT TOP (2) 
    [Extent1].[Entity_ID] AS [Entity_ID], 
    [Extent1].[Entity_Code] AS [Entity_Code], 
    [Extent1].[Entity_Name] AS [Entity_Name], 
    [Extent1].[Import_Folder] AS [Import_Folder], 
    [Extent1].[Export_Folder] AS [Export_Folder]
    FROM [dbo].[Entity] AS [Extent1]
    WHERE [Extent1].[Entity_ID] = @p0
2018-06-05 16:59:54.2995|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: SELECT TOP (2) 
    [Extent1].[Entity_ID] AS [Entity_ID], 
    [Extent1].[Entity_Code] AS [Entity_Code], 
    [Extent1].[Entity_Name] AS [Entity_Name], 
    [Extent1].[Import_Folder] AS [Import_Folder], 
    [Extent1].[Export_Folder] AS [Export_Folder]
    FROM [dbo].[Entity] AS [Extent1]
    WHERE [Extent1].[Entity_ID] = @p0
2018-06-05 17:01:05.5284|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: SELECT 
    CASE WHEN ( EXISTS (SELECT TOP (50) 
        1 AS [C1]
        FROM ( SELECT 
            [Extent1].[Transaction_Date] AS [Transaction_Date]
            FROM [dbo].[Cash_Transactions] AS [Extent1]
            WHERE ([Extent1].[Entity_ID] = @p__linq__0) AND ([Extent1].[Portfolio_Code] = @p__linq__1) AND ([Extent1].[Transaction_Date] <= @p__linq__2)
        )  AS [Project1]
        ORDER BY [Project1].[Transaction_Date] DESC
    )) THEN cast(1 as bit) ELSE cast(0 as bit) END AS [C1]
    FROM  ( SELECT 1 AS X ) AS [SingleRowTable1]
2018-06-05 17:01:05.6199|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: SELECT 
    CASE WHEN ( EXISTS (SELECT TOP (50) 
        1 AS [C1]
        FROM ( SELECT 
            [Extent1].[Transaction_Date] AS [Transaction_Date]
            FROM [dbo].[Cash_Transactions] AS [Extent1]
            WHERE ([Extent1].[Entity_ID] = @p__linq__0) AND ([Extent1].[Portfolio_Code] = @p__linq__1) AND ([Extent1].[Transaction_Date] <= @p__linq__2)
        )  AS [Project1]
        ORDER BY [Project1].[Transaction_Date] DESC
    )) THEN cast(1 as bit) ELSE cast(0 as bit) END AS [C1]
    FROM  ( SELECT 1 AS X ) AS [SingleRowTable1]
2018-06-05 17:01:05.7320|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: SELECT TOP (50) 
    [Project1].[C1] AS [C1], 
    [Project1].[Cash_Transaction_ID] AS [Cash_Transaction_ID], 
    [Project1].[Portfolio_Code] AS [Portfolio_Code], 
    [Project1].[Entity_ID] AS [Entity_ID], 
    [Project1].[Transaction_Security_ID] AS [Transaction_Security_ID], 
    [Project1].[Cash_Security_ID] AS [Cash_Security_ID], 
    [Project1].[Transaction_Source_Code] AS [Transaction_Source_Code], 
    [Project1].[Order_ID] AS [Order_ID], 
    [Project1].[Allocation_ID] AS [Allocation_ID], 
    [Project1].[Cashflow_ID] AS [Cashflow_ID], 
    [Project1].[Dividend_Seq_Number] AS [Dividend_Seq_Number], 
    [Project1].[External_ID] AS [External_ID], 
    [Project1].[Transaction_Date] AS [Transaction_Date], 
    [Project1].[Value_Date] AS [Value_Date], 
    [Project1].[Cash_Transaction_Type] AS [Cash_Transaction_Type], 
    [Project1].[Transaction_Amount] AS [Transaction_Amount], 
    [Project1].[Transaction_Currency_Code] AS [Transaction_Currency_Code], 
    [Project1].[BaseCur_Amount] AS [BaseCur_Amount], 
    [Project1].[Create_User_Code] AS [Create_User_Code], 
    [Project1].[Create_Date] AS [Create_Date], 
    [Project1].[Last_Update_User] AS [Last_Update_User], 
    [Project1].[Last_Update_Date] AS [Last_Update_Date], 
    [Project1].[Security_ID] AS [Security_ID], 
    [Project1].[Entity_ID1] AS [Entity_ID1], 
    [Project1].[Security_Name] AS [Security_Name], 
    [Project1].[Short_Name] AS [Short_Name], 
    [Project1].[Primary_Exch] AS [Primary_Exch], 
    [Project1].[Secondary_Exch] AS [Secondary_Exch], 
    [Project1].[Country_Of_Domicile] AS [Country_Of_Domicile], 
    [Project1].[Country_Of_Risk] AS [Country_Of_Risk], 
    [Project1].[Security_Type_Code] AS [Security_Type_Code], 
    [Project1].[Price_Multiplier] AS [Price_Multiplier], 
    [Project1].[Income_Frequency] AS [Income_Frequency], 
    [Project1].[Issuer_Code] AS [Issuer_Code], 
    [Project1].[Ultimate_Issuer_Code] AS [Ultimate_Issuer_Code], 
    [Project1].[Asset_Currency] AS [Asset_Currency], 
    [Project1].[Min_Lot_Size] AS [Min_Lot_Size], 
    [Project1].[Decimal_Precision] AS [Decimal_Precision], 
    [Project1].[AvePrice_Rounding] AS [AvePrice_Rounding], 
    [Project1].[Issue_Date] AS [Issue_Date], 
    [Project1].[Maturity_Date] AS [Maturity_Date], 
    [Project1].[Coupon_Rate] AS [Coupon_Rate], 
    [Project1].[Price_Exchange] AS [Price_Exchange], 
    [Project1].[Trade_Currency] AS [Trade_Currency], 
    [Project1].[Price_Curr] AS [Price_Curr], 
    [Project1].[Currency_Pair_Code] AS [Currency_Pair_Code], 
    [Project1].[Share_Class] AS [Share_Class], 
    [Project1].[Current_Market_Price] AS [Current_Market_Price], 
    [Project1].[Index_Type] AS [Index_Type], 
    [Project1].[Clean_Price_Formula] AS [Clean_Price_Formula], 
    [Project1].[Accrued_Income_Price_Formula] AS [Accrued_Income_Price_Formula], 
    [Project1].[Odd_First_Coupon_Date] AS [Odd_First_Coupon_Date], 
    [Project1].[Odd_Last_Coupon_Date] AS [Odd_Last_Coupon_Date], 
    [Project1].[Coupon_Anniversary_Indicator] AS [Coupon_Anniversary_Indicator], 
    [Project1].[Track_EOM_Flag] AS [Track_EOM_Flag], 
    [Project1].[Next_Coupon_Date] AS [Next_Coupon_Date], 
    [Project1].[Previous_Coupon_Date] AS [Previous_Coupon_Date], 
    [Project1].[Payment_Frequency] AS [Payment_Frequency], 
    [Project1].[Coupon_BusDay_Adjustment] AS [Coupon_BusDay_Adjustment], 
    [Project1].[Next_Ex_Div_Date] AS [Next_Ex_Div_Date], 
    [Project1].[Ex_Div_BusDay_Adjustment] AS [Ex_Div_BusDay_Adjustment], 
    [Project1].[Ex_Div_Period] AS [Ex_Div_Period], 
    [Project1].[Ticker] AS [Ticker], 
    [Project1].[Inet_ID] AS [Inet_ID], 
    [Project1].[Bloomberg_ID] AS [Bloomberg_ID], 
    [Project1].[External_Sec_ID] AS [External_Sec_ID], 
    [Project1].[Reuters_ID] AS [Reuters_ID], 
    [Project1].[ISIN] AS [ISIN], 
    [Project1].[Call_Account_Flag] AS [Call_Account_Flag], 
    [Project1].[System_Locked] AS [System_Locked], 
    [Project1].[Last_Update_User1] AS [Last_Update_User1], 
    [Project1].[Last_Update_Date1] AS [Last_Update_Date1], 
    [Project1].[Security_Status] AS [Security_Status], 
    [Project1].[Benchmark_Portfolio] AS [Benchmark_Portfolio], 
    [Project1].[Active_flag] AS [Active_flag], 
    [Project1].[Dividend_FX_Security_ID] AS [Dividend_FX_Security_ID], 
    [Project1].[Order_ID1] AS [Order_ID1], 
    [Project1].[Entity_ID2] AS [Entity_ID2], 
    [Project1].[Security_ID1] AS [Security_ID1], 
    [Project1].[Trade_Date] AS [Trade_Date], 
    [Project1].[Settlement_Date] AS [Settlement_Date], 
    [Project1].[Transaction_Type] AS [Transaction_Type], 
    [Project1].[Order_Status] AS [Order_Status], 
    [Project1].[Cancel_Reason_Code] AS [Cancel_Reason_Code], 
    [Project1].[Manager] AS [Manager], 
    [Project1].[Trader] AS [Trader], 
    [Project1].[Operations_User] AS [Operations_User], 
    [Project1].[Order_Instruction] AS [Order_Instruction], 
    [Project1].[Order_Duration] AS [Order_Duration], 
    [Project1].[Limit_Price] AS [Limit_Price], 
    [Project1].[Limit_Yield] AS [Limit_Yield], 
    [Project1].[Limit_Discount] AS [Limit_Discount], 
    [Project1].[Order_Creator] AS [Order_Creator], 
    [Project1].[Order_Create_Date] AS [Order_Create_Date], 
    [Project1].[Last_Update_Date2] AS [Last_Update_Date2], 
    [Project1].[Last_Update_User2] AS [Last_Update_User2], 
    [Project1].[Sent_To_Trading_Date] AS [Sent_To_Trading_Date], 
    [Project1].[Sent_To_Accounting_Date] AS [Sent_To_Accounting_Date], 
    [Project1].[Value_Based_Indicator] AS [Value_Based_Indicator], 
    [Project1].[Target_Clean_Price] AS [Target_Clean_Price], 
    [Project1].[Target_Income_Price] AS [Target_Income_Price], 
    [Project1].[Target_AllIn_Price] AS [Target_AllIn_Price], 
    [Project1].[Target_Yield] AS [Target_Yield], 
    [Project1].[Target_Discount] AS [Target_Discount], 
    [Project1].[Target_Quantity] AS [Target_Quantity], 
    [Project1].[Target_Clean_Amount_TradeCur] AS [Target_Clean_Amount_TradeCur], 
    [Project1].[Target_Income_Amount_TradeCur] AS [Target_Income_Amount_TradeCur], 
    [Project1].[Target_AllIn_Amount_TradeCur] AS [Target_AllIn_Amount_TradeCur], 
    [Project1].[Place_Quantity] AS [Place_Quantity], 
    [Project1].[Execution_Quantity] AS [Execution_Quantity], 
    [Project1].[Execution_Clean_Amount_TradeCur] AS [Execution_Clean_Amount_TradeCur], 
    [Project1].[Execution_Income_Amount_TradeCur] AS [Execution_Income_Amount_TradeCur], 
    [Project1].[Execution_AllIn_Amount_TradeCur] AS [Execution_AllIn_Amount_TradeCur], 
    [Project1].[Broker_Code] AS [Broker_Code], 
    [Project1].[Execution_Clean_Price] AS [Execution_Clean_Price], 
    [Project1].[Execution_Income_Price] AS [Execution_Income_Price], 
    [Project1].[Execution_AllIn_Price] AS [Execution_AllIn_Price], 
    [Project1].[Execution_Yield] AS [Execution_Yield], 
    [Project1].[Execution_Discount] AS [Execution_Discount], 
    [Project1].[Execution_Currency] AS [Execution_Currency], 
    [Project1].[Execution_Exchange] AS [Execution_Exchange], 
    [Project1].[Target_FX_Rate] AS [Target_FX_Rate], 
    [Project1].[Limit_FX_Rate] AS [Limit_FX_Rate], 
    [Project1].[Execution_FX_Rate] AS [Execution_FX_Rate], 
    [Project1].[Buy_Currency_Code] AS [Buy_Currency_Code], 
    [Project1].[Buy_Currency_Execution_Amount] AS [Buy_Currency_Execution_Amount], 
    [Project1].[Buy_Currency_Target_Amount] AS [Buy_Currency_Target_Amount], 
    [Project1].[Sell_Currency_Code] AS [Sell_Currency_Code], 
    [Project1].[Sell_Currency_Execution_Amount] AS [Sell_Currency_Execution_Amount], 
    [Project1].[Sell_Currency_Target_Amount] AS [Sell_Currency_Target_Amount], 
    [Project1].[Commission_Amount_TradeCur] AS [Commission_Amount_TradeCur], 
    [Project1].[Trade_Type_Indicator] AS [Trade_Type_Indicator], 
    [Project1].[Commission_Rate] AS [Commission_Rate], 
    [Project1].[Commission_Type] AS [Commission_Type], 
    [Project1].[Fee_Code1] AS [Fee_Code1], 
    [Project1].[Fee_Code2] AS [Fee_Code2], 
    [Project1].[Fee_Code3] AS [Fee_Code3], 
    [Project1].[Fee_Code4] AS [Fee_Code4], 
    [Project1].[Fee_Code5] AS [Fee_Code5], 
    [Project1].[Fee_Code6] AS [Fee_Code6], 
    [Project1].[Fee_Amount1_TradeCur] AS [Fee_Amount1_TradeCur], 
    [Project1].[Fee_Amount2_TradeCur] AS [Fee_Amount2_TradeCur], 
    [Project1].[Fee_Amount3_TradeCur] AS [Fee_Amount3_TradeCur], 
    [Project1].[Fee_Amount4_TradeCur] AS [Fee_Amount4_TradeCur], 
    [Project1].[Fee_Amount5_TradeCur] AS [Fee_Amount5_TradeCur], 
    [Project1].[Fee_Amount6_TradeCur] AS [Fee_Amount6_TradeCur], 
    [Project1].[Tax_Amount_TradeCur] AS [Tax_Amount_TradeCur], 
    [Project1].[Tax_Type] AS [Tax_Type], 
    [Project1].[Tax_Charge_FeeNum] AS [Tax_Charge_FeeNum], 
    [Project1].[Execution_Gross_Amount_TradeCur] AS [Execution_Gross_Amount_TradeCur], 
    [Project1].[Execution_Net_Amount_TradeCur] AS [Execution_Net_Amount_TradeCur], 
    [Project1].[Related_Order_ID] AS [Related_Order_ID], 
    [Project1].[Previous_Order_ID] AS [Previous_Order_ID], 
    [Project1].[Authorised_User1] AS [Authorised_User1], 
    [Project1].[Authorised_User1_DateTime] AS [Authorised_User1_DateTime], 
    [Project1].[Authorised_User2] AS [Authorised_User2], 
    [Project1].[Authorised_User2_DateTime] AS [Authorised_User2_DateTime], 
    [Project1].[Authorised_Number] AS [Authorised_Number], 
    [Project1].[Security_Type_Code1] AS [Security_Type_Code1], 
    [Project1].[Export_Status] AS [Export_Status], 
    [Project1].[Order_Ack_Nack_Status] AS [Order_Ack_Nack_Status], 
    [Project1].[Operations_Status] AS [Operations_Status], 
    [Project1].[Import_Trade_ID] AS [Import_Trade_ID]
    FROM ( SELECT 
        [Extent1].[Cash_Transaction_ID] AS [Cash_Transaction_ID], 
        [Extent1].[Portfolio_Code] AS [Portfolio_Code], 
        [Extent1].[Entity_ID] AS [Entity_ID], 
        [Extent1].[Transaction_Security_ID] AS [Transaction_Security_ID], 
        [Extent1].[Cash_Security_ID] AS [Cash_Security_ID], 
        [Extent1].[Transaction_Source_Code] AS [Transaction_Source_Code], 
        [Extent1].[Order_ID] AS [Order_ID], 
        [Extent1].[Allocation_ID] AS [Allocation_ID], 
        [Extent1].[Cashflow_ID] AS [Cashflow_ID], 
        [Extent1].[Dividend_Seq_Number] AS [Dividend_Seq_Number], 
        [Extent1].[External_ID] AS [External_ID], 
        [Extent1].[Transaction_Date] AS [Transaction_Date], 
        [Extent1].[Value_Date] AS [Value_Date], 
        [Extent1].[Cash_Transaction_Type] AS [Cash_Transaction_Type], 
        [Extent1].[Transaction_Amount] AS [Transaction_Amount], 
        [Extent1].[Transaction_Currency_Code] AS [Transaction_Currency_Code], 
        [Extent1].[BaseCur_Amount] AS [BaseCur_Amount], 
        [Extent1].[Create_User_Code] AS [Create_User_Code], 
        [Extent1].[Create_Date] AS [Create_Date], 
        [Extent1].[Last_Update_User] AS [Last_Update_User], 
        [Extent1].[Last_Update_Date] AS [Last_Update_Date], 
        [Extent2].[Security_ID] AS [Security_ID], 
        [Extent2].[Entity_ID] AS [Entity_ID1], 
        [Extent2].[Security_Name] AS [Security_Name], 
        [Extent2].[Short_Name] AS [Short_Name], 
        [Extent2].[Primary_Exch] AS [Primary_Exch], 
        [Extent2].[Secondary_Exch] AS [Secondary_Exch], 
        [Extent2].[Country_Of_Domicile] AS [Country_Of_Domicile], 
        [Extent2].[Country_Of_Risk] AS [Country_Of_Risk], 
        [Extent2].[Security_Type_Code] AS [Security_Type_Code], 
        [Extent2].[Price_Multiplier] AS [Price_Multiplier], 
        [Extent2].[Income_Frequency] AS [Income_Frequency], 
        [Extent2].[Issuer_Code] AS [Issuer_Code], 
        [Extent2].[Ultimate_Issuer_Code] AS [Ultimate_Issuer_Code], 
        [Extent2].[Asset_Currency] AS [Asset_Currency], 
        [Extent2].[Min_Lot_Size] AS [Min_Lot_Size], 
        [Extent2].[Decimal_Precision] AS [Decimal_Precision], 
        [Extent2].[AvePrice_Rounding] AS [AvePrice_Rounding], 
        [Extent2].[Issue_Date] AS [Issue_Date], 
        [Extent2].[Maturity_Date] AS [Maturity_Date], 
        [Extent2].[Coupon_Rate] AS [Coupon_Rate], 
        [Extent2].[Price_Exchange] AS [Price_Exchange], 
        [Extent2].[Trade_Currency] AS [Trade_Currency], 
        [Extent2].[Price_Curr] AS [Price_Curr], 
        [Extent2].[Currency_Pair_Code] AS [Currency_Pair_Code], 
        [Extent2].[Share_Class] AS [Share_Class], 
        [Extent2].[Current_Market_Price] AS [Current_Market_Price], 
        [Extent2].[Index_Type] AS [Index_Type], 
        [Extent2].[Clean_Price_Formula] AS [Clean_Price_Formula], 
        [Extent2].[Accrued_Income_Price_Formula] AS [Accrued_Income_Price_Formula], 
        [Extent2].[Odd_First_Coupon_Date] AS [Odd_First_Coupon_Date], 
        [Extent2].[Odd_Last_Coupon_Date] AS [Odd_Last_Coupon_Date], 
        [Extent2].[Coupon_Anniversary_Indicator] AS [Coupon_Anniversary_Indicator], 
        [Extent2].[Track_EOM_Flag] AS [Track_EOM_Flag], 
        [Extent2].[Next_Coupon_Date] AS [Next_Coupon_Date], 
        [Extent2].[Previous_Coupon_Date] AS [Previous_Coupon_Date], 
        [Extent2].[Payment_Frequency] AS [Payment_Frequency], 
        [Extent2].[Coupon_BusDay_Adjustment] AS [Coupon_BusDay_Adjustment], 
        [Extent2].[Next_Ex_Div_Date] AS [Next_Ex_Div_Date], 
        [Extent2].[Ex_Div_BusDay_Adjustment] AS [Ex_Div_BusDay_Adjustment], 
        [Extent2].[Ex_Div_Period] AS [Ex_Div_Period], 
        [Extent2].[Ticker] AS [Ticker], 
        [Extent2].[Inet_ID] AS [Inet_ID], 
        [Extent2].[Bloomberg_ID] AS [Bloomberg_ID], 
        [Extent2].[External_Sec_ID] AS [External_Sec_ID], 
        [Extent2].[Reuters_ID] AS [Reuters_ID], 
        [Extent2].[ISIN] AS [ISIN], 
        [Extent2].[Call_Account_Flag] AS [Call_Account_Flag], 
        [Extent2].[System_Locked] AS [System_Locked], 
        [Extent2].[Last_Update_User] AS [Last_Update_User1], 
        [Extent2].[Last_Update_Date] AS [Last_Update_Date1], 
        [Extent2].[Security_Status] AS [Security_Status], 
        [Extent2].[Benchmark_Portfolio] AS [Benchmark_Portfolio], 
        [Extent2].[Active_flag] AS [Active_flag], 
        [Extent2].[Dividend_FX_Security_ID] AS [Dividend_FX_Security_ID], 
        [Extent3].[Order_ID] AS [Order_ID1], 
        [Extent3].[Entity_ID] AS [Entity_ID2], 
        [Extent3].[Security_ID] AS [Security_ID1], 
        [Extent3].[Trade_Date] AS [Trade_Date], 
        [Extent3].[Settlement_Date] AS [Settlement_Date], 
        [Extent3].[Transaction_Type] AS [Transaction_Type], 
        [Extent3].[Order_Status] AS [Order_Status], 
        [Extent3].[Cancel_Reason_Code] AS [Cancel_Reason_Code], 
        [Extent3].[Manager] AS [Manager], 
        [Extent3].[Trader] AS [Trader], 
        [Extent3].[Operations_User] AS [Operations_User], 
        [Extent3].[Order_Instruction] AS [Order_Instruction], 
        [Extent3].[Order_Duration] AS [Order_Duration], 
        [Extent3].[Limit_Price] AS [Limit_Price], 
        [Extent3].[Limit_Yield] AS [Limit_Yield], 
        [Extent3].[Limit_Discount] AS [Limit_Discount], 
        [Extent3].[Order_Creator] AS [Order_Creator], 
        [Extent3].[Order_Create_Date] AS [Order_Create_Date], 
        [Extent3].[Last_Update_Date] AS [Last_Update_Date2], 
        [Extent3].[Last_Update_User] AS [Last_Update_User2], 
        [Extent3].[Sent_To_Trading_Date] AS [Sent_To_Trading_Date], 
        [Extent3].[Sent_To_Accounting_Date] AS [Sent_To_Accounting_Date], 
        [Extent3].[Value_Based_Indicator] AS [Value_Based_Indicator], 
        [Extent3].[Target_Clean_Price] AS [Target_Clean_Price], 
        [Extent3].[Target_Income_Price] AS [Target_Income_Price], 
        [Extent3].[Target_AllIn_Price] AS [Target_AllIn_Price], 
        [Extent3].[Target_Yield] AS [Target_Yield], 
        [Extent3].[Target_Discount] AS [Target_Discount], 
        [Extent3].[Target_Quantity] AS [Target_Quantity], 
        [Extent3].[Target_Clean_Amount_TradeCur] AS [Target_Clean_Amount_TradeCur], 
        [Extent3].[Target_Income_Amount_TradeCur] AS [Target_Income_Amount_TradeCur], 
        [Extent3].[Target_AllIn_Amount_TradeCur] AS [Target_AllIn_Amount_TradeCur], 
        [Extent3].[Place_Quantity] AS [Place_Quantity], 
        [Extent3].[Execution_Quantity] AS [Execution_Quantity], 
        [Extent3].[Execution_Clean_Amount_TradeCur] AS [Execution_Clean_Amount_TradeCur], 
        [Extent3].[Execution_Income_Amount_TradeCur] AS [Execution_Income_Amount_TradeCur], 
        [Extent3].[Execution_AllIn_Amount_TradeCur] AS [Execution_AllIn_Amount_TradeCur], 
        [Extent3].[Broker_Code] AS [Broker_Code], 
        [Extent3].[Execution_Clean_Price] AS [Execution_Clean_Price], 
        [Extent3].[Execution_Income_Price] AS [Execution_Income_Price], 
        [Extent3].[Execution_AllIn_Price] AS [Execution_AllIn_Price], 
        [Extent3].[Execution_Yield] AS [Execution_Yield], 
        [Extent3].[Execution_Discount] AS [Execution_Discount], 
        [Extent3].[Execution_Currency] AS [Execution_Currency], 
        [Extent3].[Execution_Exchange] AS [Execution_Exchange], 
        [Extent3].[Target_FX_Rate] AS [Target_FX_Rate], 
        [Extent3].[Limit_FX_Rate] AS [Limit_FX_Rate], 
        [Extent3].[Execution_FX_Rate] AS [Execution_FX_Rate], 
        [Extent3].[Buy_Currency_Code] AS [Buy_Currency_Code], 
        [Extent3].[Buy_Currency_Execution_Amount] AS [Buy_Currency_Execution_Amount], 
        [Extent3].[Buy_Currency_Target_Amount] AS [Buy_Currency_Target_Amount], 
        [Extent3].[Sell_Currency_Code] AS [Sell_Currency_Code], 
        [Extent3].[Sell_Currency_Execution_Amount] AS [Sell_Currency_Execution_Amount], 
        [Extent3].[Sell_Currency_Target_Amount] AS [Sell_Currency_Target_Amount], 
        [Extent3].[Commission_Amount_TradeCur] AS [Commission_Amount_TradeCur], 
        [Extent3].[Trade_Type_Indicator] AS [Trade_Type_Indicator], 
        [Extent3].[Commission_Rate] AS [Commission_Rate], 
        [Extent3].[Commission_Type] AS [Commission_Type], 
        [Extent3].[Fee_Code1] AS [Fee_Code1], 
        [Extent3].[Fee_Code2] AS [Fee_Code2], 
        [Extent3].[Fee_Code3] AS [Fee_Code3], 
        [Extent3].[Fee_Code4] AS [Fee_Code4], 
        [Extent3].[Fee_Code5] AS [Fee_Code5], 
        [Extent3].[Fee_Code6] AS [Fee_Code6], 
        [Extent3].[Fee_Amount1_TradeCur] AS [Fee_Amount1_TradeCur], 
        [Extent3].[Fee_Amount2_TradeCur] AS [Fee_Amount2_TradeCur], 
        [Extent3].[Fee_Amount3_TradeCur] AS [Fee_Amount3_TradeCur], 
        [Extent3].[Fee_Amount4_TradeCur] AS [Fee_Amount4_TradeCur], 
        [Extent3].[Fee_Amount5_TradeCur] AS [Fee_Amount5_TradeCur], 
        [Extent3].[Fee_Amount6_TradeCur] AS [Fee_Amount6_TradeCur], 
        [Extent3].[Tax_Amount_TradeCur] AS [Tax_Amount_TradeCur], 
        [Extent3].[Tax_Type] AS [Tax_Type], 
        [Extent3].[Tax_Charge_FeeNum] AS [Tax_Charge_FeeNum], 
        [Extent3].[Execution_Gross_Amount_TradeCur] AS [Execution_Gross_Amount_TradeCur], 
        [Extent3].[Execution_Net_Amount_TradeCur] AS [Execution_Net_Amount_TradeCur], 
        [Extent3].[Related_Order_ID] AS [Related_Order_ID], 
        [Extent3].[Previous_Order_ID] AS [Previous_Order_ID], 
        [Extent3].[Authorised_User1] AS [Authorised_User1], 
        [Extent3].[Authorised_User1_DateTime] AS [Authorised_User1_DateTime], 
        [Extent3].[Authorised_User2] AS [Authorised_User2], 
        [Extent3].[Authorised_User2_DateTime] AS [Authorised_User2_DateTime], 
        [Extent3].[Authorised_Number] AS [Authorised_Number], 
        [Extent3].[Security_Type_Code] AS [Security_Type_Code1], 
        [Extent3].[Export_Status] AS [Export_Status], 
        [Extent3].[Order_Ack_Nack_Status] AS [Order_Ack_Nack_Status], 
        [Extent3].[Operations_Status] AS [Operations_Status], 
        [Extent3].[Import_Trade_ID] AS [Import_Trade_ID], 
        1 AS [C1]
        FROM   [dbo].[Cash_Transactions] AS [Extent1]
        LEFT OUTER JOIN [dbo].[Security_Detail] AS [Extent2] ON [Extent1].[Transaction_Security_ID] = [Extent2].[Security_ID]
        LEFT OUTER JOIN [dbo].[Order_Detail] AS [Extent3] ON [Extent1].[Order_ID] = [Extent3].[Order_ID]
        WHERE ([Extent1].[Entity_ID] = @p__linq__0) AND ([Extent1].[Portfolio_Code] = @p__linq__1) AND ([Extent1].[Transaction_Date] <= @p__linq__2)
    )  AS [Project1]
    ORDER BY [Project1].[Transaction_Date] DESC
2018-06-05 17:01:05.8921|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: SELECT TOP (50) 
    [Project1].[C1] AS [C1], 
    [Project1].[Cash_Transaction_ID] AS [Cash_Transaction_ID], 
    [Project1].[Portfolio_Code] AS [Portfolio_Code], 
    [Project1].[Entity_ID] AS [Entity_ID], 
    [Project1].[Transaction_Security_ID] AS [Transaction_Security_ID], 
    [Project1].[Cash_Security_ID] AS [Cash_Security_ID], 
    [Project1].[Transaction_Source_Code] AS [Transaction_Source_Code], 
    [Project1].[Order_ID] AS [Order_ID], 
    [Project1].[Allocation_ID] AS [Allocation_ID], 
    [Project1].[Cashflow_ID] AS [Cashflow_ID], 
    [Project1].[Dividend_Seq_Number] AS [Dividend_Seq_Number], 
    [Project1].[External_ID] AS [External_ID], 
    [Project1].[Transaction_Date] AS [Transaction_Date], 
    [Project1].[Value_Date] AS [Value_Date], 
    [Project1].[Cash_Transaction_Type] AS [Cash_Transaction_Type], 
    [Project1].[Transaction_Amount] AS [Transaction_Amount], 
    [Project1].[Transaction_Currency_Code] AS [Transaction_Currency_Code], 
    [Project1].[BaseCur_Amount] AS [BaseCur_Amount], 
    [Project1].[Create_User_Code] AS [Create_User_Code], 
    [Project1].[Create_Date] AS [Create_Date], 
    [Project1].[Last_Update_User] AS [Last_Update_User], 
    [Project1].[Last_Update_Date] AS [Last_Update_Date], 
    [Project1].[Security_ID] AS [Security_ID], 
    [Project1].[Entity_ID1] AS [Entity_ID1], 
    [Project1].[Security_Name] AS [Security_Name], 
    [Project1].[Short_Name] AS [Short_Name], 
    [Project1].[Primary_Exch] AS [Primary_Exch], 
    [Project1].[Secondary_Exch] AS [Secondary_Exch], 
    [Project1].[Country_Of_Domicile] AS [Country_Of_Domicile], 
    [Project1].[Country_Of_Risk] AS [Country_Of_Risk], 
    [Project1].[Security_Type_Code] AS [Security_Type_Code], 
    [Project1].[Price_Multiplier] AS [Price_Multiplier], 
    [Project1].[Income_Frequency] AS [Income_Frequency], 
    [Project1].[Issuer_Code] AS [Issuer_Code], 
    [Project1].[Ultimate_Issuer_Code] AS [Ultimate_Issuer_Code], 
    [Project1].[Asset_Currency] AS [Asset_Currency], 
    [Project1].[Min_Lot_Size] AS [Min_Lot_Size], 
    [Project1].[Decimal_Precision] AS [Decimal_Precision], 
    [Project1].[AvePrice_Rounding] AS [AvePrice_Rounding], 
    [Project1].[Issue_Date] AS [Issue_Date], 
    [Project1].[Maturity_Date] AS [Maturity_Date], 
    [Project1].[Coupon_Rate] AS [Coupon_Rate], 
    [Project1].[Price_Exchange] AS [Price_Exchange], 
    [Project1].[Trade_Currency] AS [Trade_Currency], 
    [Project1].[Price_Curr] AS [Price_Curr], 
    [Project1].[Currency_Pair_Code] AS [Currency_Pair_Code], 
    [Project1].[Share_Class] AS [Share_Class], 
    [Project1].[Current_Market_Price] AS [Current_Market_Price], 
    [Project1].[Index_Type] AS [Index_Type], 
    [Project1].[Clean_Price_Formula] AS [Clean_Price_Formula], 
    [Project1].[Accrued_Income_Price_Formula] AS [Accrued_Income_Price_Formula], 
    [Project1].[Odd_First_Coupon_Date] AS [Odd_First_Coupon_Date], 
    [Project1].[Odd_Last_Coupon_Date] AS [Odd_Last_Coupon_Date], 
    [Project1].[Coupon_Anniversary_Indicator] AS [Coupon_Anniversary_Indicator], 
    [Project1].[Track_EOM_Flag] AS [Track_EOM_Flag], 
    [Project1].[Next_Coupon_Date] AS [Next_Coupon_Date], 
    [Project1].[Previous_Coupon_Date] AS [Previous_Coupon_Date], 
    [Project1].[Payment_Frequency] AS [Payment_Frequency], 
    [Project1].[Coupon_BusDay_Adjustment] AS [Coupon_BusDay_Adjustment], 
    [Project1].[Next_Ex_Div_Date] AS [Next_Ex_Div_Date], 
    [Project1].[Ex_Div_BusDay_Adjustment] AS [Ex_Div_BusDay_Adjustment], 
    [Project1].[Ex_Div_Period] AS [Ex_Div_Period], 
    [Project1].[Ticker] AS [Ticker], 
    [Project1].[Inet_ID] AS [Inet_ID], 
    [Project1].[Bloomberg_ID] AS [Bloomberg_ID], 
    [Project1].[External_Sec_ID] AS [External_Sec_ID], 
    [Project1].[Reuters_ID] AS [Reuters_ID], 
    [Project1].[ISIN] AS [ISIN], 
    [Project1].[Call_Account_Flag] AS [Call_Account_Flag], 
    [Project1].[System_Locked] AS [System_Locked], 
    [Project1].[Last_Update_User1] AS [Last_Update_User1], 
    [Project1].[Last_Update_Date1] AS [Last_Update_Date1], 
    [Project1].[Security_Status] AS [Security_Status], 
    [Project1].[Benchmark_Portfolio] AS [Benchmark_Portfolio], 
    [Project1].[Active_flag] AS [Active_flag], 
    [Project1].[Dividend_FX_Security_ID] AS [Dividend_FX_Security_ID], 
    [Project1].[Order_ID1] AS [Order_ID1], 
    [Project1].[Entity_ID2] AS [Entity_ID2], 
    [Project1].[Security_ID1] AS [Security_ID1], 
    [Project1].[Trade_Date] AS [Trade_Date], 
    [Project1].[Settlement_Date] AS [Settlement_Date], 
    [Project1].[Transaction_Type] AS [Transaction_Type], 
    [Project1].[Order_Status] AS [Order_Status], 
    [Project1].[Cancel_Reason_Code] AS [Cancel_Reason_Code], 
    [Project1].[Manager] AS [Manager], 
    [Project1].[Trader] AS [Trader], 
    [Project1].[Operations_User] AS [Operations_User], 
    [Project1].[Order_Instruction] AS [Order_Instruction], 
    [Project1].[Order_Duration] AS [Order_Duration], 
    [Project1].[Limit_Price] AS [Limit_Price], 
    [Project1].[Limit_Yield] AS [Limit_Yield], 
    [Project1].[Limit_Discount] AS [Limit_Discount], 
    [Project1].[Order_Creator] AS [Order_Creator], 
    [Project1].[Order_Create_Date] AS [Order_Create_Date], 
    [Project1].[Last_Update_Date2] AS [Last_Update_Date2], 
    [Project1].[Last_Update_User2] AS [Last_Update_User2], 
    [Project1].[Sent_To_Trading_Date] AS [Sent_To_Trading_Date], 
    [Project1].[Sent_To_Accounting_Date] AS [Sent_To_Accounting_Date], 
    [Project1].[Value_Based_Indicator] AS [Value_Based_Indicator], 
    [Project1].[Target_Clean_Price] AS [Target_Clean_Price], 
    [Project1].[Target_Income_Price] AS [Target_Income_Price], 
    [Project1].[Target_AllIn_Price] AS [Target_AllIn_Price], 
    [Project1].[Target_Yield] AS [Target_Yield], 
    [Project1].[Target_Discount] AS [Target_Discount], 
    [Project1].[Target_Quantity] AS [Target_Quantity], 
    [Project1].[Target_Clean_Amount_TradeCur] AS [Target_Clean_Amount_TradeCur], 
    [Project1].[Target_Income_Amount_TradeCur] AS [Target_Income_Amount_TradeCur], 
    [Project1].[Target_AllIn_Amount_TradeCur] AS [Target_AllIn_Amount_TradeCur], 
    [Project1].[Place_Quantity] AS [Place_Quantity], 
    [Project1].[Execution_Quantity] AS [Execution_Quantity], 
    [Project1].[Execution_Clean_Amount_TradeCur] AS [Execution_Clean_Amount_TradeCur], 
    [Project1].[Execution_Income_Amount_TradeCur] AS [Execution_Income_Amount_TradeCur], 
    [Project1].[Execution_AllIn_Amount_TradeCur] AS [Execution_AllIn_Amount_TradeCur], 
    [Project1].[Broker_Code] AS [Broker_Code], 
    [Project1].[Execution_Clean_Price] AS [Execution_Clean_Price], 
    [Project1].[Execution_Income_Price] AS [Execution_Income_Price], 
    [Project1].[Execution_AllIn_Price] AS [Execution_AllIn_Price], 
    [Project1].[Execution_Yield] AS [Execution_Yield], 
    [Project1].[Execution_Discount] AS [Execution_Discount], 
    [Project1].[Execution_Currency] AS [Execution_Currency], 
    [Project1].[Execution_Exchange] AS [Execution_Exchange], 
    [Project1].[Target_FX_Rate] AS [Target_FX_Rate], 
    [Project1].[Limit_FX_Rate] AS [Limit_FX_Rate], 
    [Project1].[Execution_FX_Rate] AS [Execution_FX_Rate], 
    [Project1].[Buy_Currency_Code] AS [Buy_Currency_Code], 
    [Project1].[Buy_Currency_Execution_Amount] AS [Buy_Currency_Execution_Amount], 
    [Project1].[Buy_Currency_Target_Amount] AS [Buy_Currency_Target_Amount], 
    [Project1].[Sell_Currency_Code] AS [Sell_Currency_Code], 
    [Project1].[Sell_Currency_Execution_Amount] AS [Sell_Currency_Execution_Amount], 
    [Project1].[Sell_Currency_Target_Amount] AS [Sell_Currency_Target_Amount], 
    [Project1].[Commission_Amount_TradeCur] AS [Commission_Amount_TradeCur], 
    [Project1].[Trade_Type_Indicator] AS [Trade_Type_Indicator], 
    [Project1].[Commission_Rate] AS [Commission_Rate], 
    [Project1].[Commission_Type] AS [Commission_Type], 
    [Project1].[Fee_Code1] AS [Fee_Code1], 
    [Project1].[Fee_Code2] AS [Fee_Code2], 
    [Project1].[Fee_Code3] AS [Fee_Code3], 
    [Project1].[Fee_Code4] AS [Fee_Code4], 
    [Project1].[Fee_Code5] AS [Fee_Code5], 
    [Project1].[Fee_Code6] AS [Fee_Code6], 
    [Project1].[Fee_Amount1_TradeCur] AS [Fee_Amount1_TradeCur], 
    [Project1].[Fee_Amount2_TradeCur] AS [Fee_Amount2_TradeCur], 
    [Project1].[Fee_Amount3_TradeCur] AS [Fee_Amount3_TradeCur], 
    [Project1].[Fee_Amount4_TradeCur] AS [Fee_Amount4_TradeCur], 
    [Project1].[Fee_Amount5_TradeCur] AS [Fee_Amount5_TradeCur], 
    [Project1].[Fee_Amount6_TradeCur] AS [Fee_Amount6_TradeCur], 
    [Project1].[Tax_Amount_TradeCur] AS [Tax_Amount_TradeCur], 
    [Project1].[Tax_Type] AS [Tax_Type], 
    [Project1].[Tax_Charge_FeeNum] AS [Tax_Charge_FeeNum], 
    [Project1].[Execution_Gross_Amount_TradeCur] AS [Execution_Gross_Amount_TradeCur], 
    [Project1].[Execution_Net_Amount_TradeCur] AS [Execution_Net_Amount_TradeCur], 
    [Project1].[Related_Order_ID] AS [Related_Order_ID], 
    [Project1].[Previous_Order_ID] AS [Previous_Order_ID], 
    [Project1].[Authorised_User1] AS [Authorised_User1], 
    [Project1].[Authorised_User1_DateTime] AS [Authorised_User1_DateTime], 
    [Project1].[Authorised_User2] AS [Authorised_User2], 
    [Project1].[Authorised_User2_DateTime] AS [Authorised_User2_DateTime], 
    [Project1].[Authorised_Number] AS [Authorised_Number], 
    [Project1].[Security_Type_Code1] AS [Security_Type_Code1], 
    [Project1].[Export_Status] AS [Export_Status], 
    [Project1].[Order_Ack_Nack_Status] AS [Order_Ack_Nack_Status], 
    [Project1].[Operations_Status] AS [Operations_Status], 
    [Project1].[Import_Trade_ID] AS [Import_Trade_ID]
    FROM ( SELECT 
        [Extent1].[Cash_Transaction_ID] AS [Cash_Transaction_ID], 
        [Extent1].[Portfolio_Code] AS [Portfolio_Code], 
        [Extent1].[Entity_ID] AS [Entity_ID], 
        [Extent1].[Transaction_Security_ID] AS [Transaction_Security_ID], 
        [Extent1].[Cash_Security_ID] AS [Cash_Security_ID], 
        [Extent1].[Transaction_Source_Code] AS [Transaction_Source_Code], 
        [Extent1].[Order_ID] AS [Order_ID], 
        [Extent1].[Allocation_ID] AS [Allocation_ID], 
        [Extent1].[Cashflow_ID] AS [Cashflow_ID], 
        [Extent1].[Dividend_Seq_Number] AS [Dividend_Seq_Number], 
        [Extent1].[External_ID] AS [External_ID], 
        [Extent1].[Transaction_Date] AS [Transaction_Date], 
        [Extent1].[Value_Date] AS [Value_Date], 
        [Extent1].[Cash_Transaction_Type] AS [Cash_Transaction_Type], 
        [Extent1].[Transaction_Amount] AS [Transaction_Amount], 
        [Extent1].[Transaction_Currency_Code] AS [Transaction_Currency_Code], 
        [Extent1].[BaseCur_Amount] AS [BaseCur_Amount], 
        [Extent1].[Create_User_Code] AS [Create_User_Code], 
        [Extent1].[Create_Date] AS [Create_Date], 
        [Extent1].[Last_Update_User] AS [Last_Update_User], 
        [Extent1].[Last_Update_Date] AS [Last_Update_Date], 
        [Extent2].[Security_ID] AS [Security_ID], 
        [Extent2].[Entity_ID] AS [Entity_ID1], 
        [Extent2].[Security_Name] AS [Security_Name], 
        [Extent2].[Short_Name] AS [Short_Name], 
        [Extent2].[Primary_Exch] AS [Primary_Exch], 
        [Extent2].[Secondary_Exch] AS [Secondary_Exch], 
        [Extent2].[Country_Of_Domicile] AS [Country_Of_Domicile], 
        [Extent2].[Country_Of_Risk] AS [Country_Of_Risk], 
        [Extent2].[Security_Type_Code] AS [Security_Type_Code], 
        [Extent2].[Price_Multiplier] AS [Price_Multiplier], 
        [Extent2].[Income_Frequency] AS [Income_Frequency], 
        [Extent2].[Issuer_Code] AS [Issuer_Code], 
        [Extent2].[Ultimate_Issuer_Code] AS [Ultimate_Issuer_Code], 
        [Extent2].[Asset_Currency] AS [Asset_Currency], 
        [Extent2].[Min_Lot_Size] AS [Min_Lot_Size], 
        [Extent2].[Decimal_Precision] AS [Decimal_Precision], 
        [Extent2].[AvePrice_Rounding] AS [AvePrice_Rounding], 
        [Extent2].[Issue_Date] AS [Issue_Date], 
        [Extent2].[Maturity_Date] AS [Maturity_Date], 
        [Extent2].[Coupon_Rate] AS [Coupon_Rate], 
        [Extent2].[Price_Exchange] AS [Price_Exchange], 
        [Extent2].[Trade_Currency] AS [Trade_Currency], 
        [Extent2].[Price_Curr] AS [Price_Curr], 
        [Extent2].[Currency_Pair_Code] AS [Currency_Pair_Code], 
        [Extent2].[Share_Class] AS [Share_Class], 
        [Extent2].[Current_Market_Price] AS [Current_Market_Price], 
        [Extent2].[Index_Type] AS [Index_Type], 
        [Extent2].[Clean_Price_Formula] AS [Clean_Price_Formula], 
        [Extent2].[Accrued_Income_Price_Formula] AS [Accrued_Income_Price_Formula], 
        [Extent2].[Odd_First_Coupon_Date] AS [Odd_First_Coupon_Date], 
        [Extent2].[Odd_Last_Coupon_Date] AS [Odd_Last_Coupon_Date], 
        [Extent2].[Coupon_Anniversary_Indicator] AS [Coupon_Anniversary_Indicator], 
        [Extent2].[Track_EOM_Flag] AS [Track_EOM_Flag], 
        [Extent2].[Next_Coupon_Date] AS [Next_Coupon_Date], 
        [Extent2].[Previous_Coupon_Date] AS [Previous_Coupon_Date], 
        [Extent2].[Payment_Frequency] AS [Payment_Frequency], 
        [Extent2].[Coupon_BusDay_Adjustment] AS [Coupon_BusDay_Adjustment], 
        [Extent2].[Next_Ex_Div_Date] AS [Next_Ex_Div_Date], 
        [Extent2].[Ex_Div_BusDay_Adjustment] AS [Ex_Div_BusDay_Adjustment], 
        [Extent2].[Ex_Div_Period] AS [Ex_Div_Period], 
        [Extent2].[Ticker] AS [Ticker], 
        [Extent2].[Inet_ID] AS [Inet_ID], 
        [Extent2].[Bloomberg_ID] AS [Bloomberg_ID], 
        [Extent2].[External_Sec_ID] AS [External_Sec_ID], 
        [Extent2].[Reuters_ID] AS [Reuters_ID], 
        [Extent2].[ISIN] AS [ISIN], 
        [Extent2].[Call_Account_Flag] AS [Call_Account_Flag], 
        [Extent2].[System_Locked] AS [System_Locked], 
        [Extent2].[Last_Update_User] AS [Last_Update_User1], 
        [Extent2].[Last_Update_Date] AS [Last_Update_Date1], 
        [Extent2].[Security_Status] AS [Security_Status], 
        [Extent2].[Benchmark_Portfolio] AS [Benchmark_Portfolio], 
        [Extent2].[Active_flag] AS [Active_flag], 
        [Extent2].[Dividend_FX_Security_ID] AS [Dividend_FX_Security_ID], 
        [Extent3].[Order_ID] AS [Order_ID1], 
        [Extent3].[Entity_ID] AS [Entity_ID2], 
        [Extent3].[Security_ID] AS [Security_ID1], 
        [Extent3].[Trade_Date] AS [Trade_Date], 
        [Extent3].[Settlement_Date] AS [Settlement_Date], 
        [Extent3].[Transaction_Type] AS [Transaction_Type], 
        [Extent3].[Order_Status] AS [Order_Status], 
        [Extent3].[Cancel_Reason_Code] AS [Cancel_Reason_Code], 
        [Extent3].[Manager] AS [Manager], 
        [Extent3].[Trader] AS [Trader], 
        [Extent3].[Operations_User] AS [Operations_User], 
        [Extent3].[Order_Instruction] AS [Order_Instruction], 
        [Extent3].[Order_Duration] AS [Order_Duration], 
        [Extent3].[Limit_Price] AS [Limit_Price], 
        [Extent3].[Limit_Yield] AS [Limit_Yield], 
        [Extent3].[Limit_Discount] AS [Limit_Discount], 
        [Extent3].[Order_Creator] AS [Order_Creator], 
        [Extent3].[Order_Create_Date] AS [Order_Create_Date], 
        [Extent3].[Last_Update_Date] AS [Last_Update_Date2], 
        [Extent3].[Last_Update_User] AS [Last_Update_User2], 
        [Extent3].[Sent_To_Trading_Date] AS [Sent_To_Trading_Date], 
        [Extent3].[Sent_To_Accounting_Date] AS [Sent_To_Accounting_Date], 
        [Extent3].[Value_Based_Indicator] AS [Value_Based_Indicator], 
        [Extent3].[Target_Clean_Price] AS [Target_Clean_Price], 
        [Extent3].[Target_Income_Price] AS [Target_Income_Price], 
        [Extent3].[Target_AllIn_Price] AS [Target_AllIn_Price], 
        [Extent3].[Target_Yield] AS [Target_Yield], 
        [Extent3].[Target_Discount] AS [Target_Discount], 
        [Extent3].[Target_Quantity] AS [Target_Quantity], 
        [Extent3].[Target_Clean_Amount_TradeCur] AS [Target_Clean_Amount_TradeCur], 
        [Extent3].[Target_Income_Amount_TradeCur] AS [Target_Income_Amount_TradeCur], 
        [Extent3].[Target_AllIn_Amount_TradeCur] AS [Target_AllIn_Amount_TradeCur], 
        [Extent3].[Place_Quantity] AS [Place_Quantity], 
        [Extent3].[Execution_Quantity] AS [Execution_Quantity], 
        [Extent3].[Execution_Clean_Amount_TradeCur] AS [Execution_Clean_Amount_TradeCur], 
        [Extent3].[Execution_Income_Amount_TradeCur] AS [Execution_Income_Amount_TradeCur], 
        [Extent3].[Execution_AllIn_Amount_TradeCur] AS [Execution_AllIn_Amount_TradeCur], 
        [Extent3].[Broker_Code] AS [Broker_Code], 
        [Extent3].[Execution_Clean_Price] AS [Execution_Clean_Price], 
        [Extent3].[Execution_Income_Price] AS [Execution_Income_Price], 
        [Extent3].[Execution_AllIn_Price] AS [Execution_AllIn_Price], 
        [Extent3].[Execution_Yield] AS [Execution_Yield], 
        [Extent3].[Execution_Discount] AS [Execution_Discount], 
        [Extent3].[Execution_Currency] AS [Execution_Currency], 
        [Extent3].[Execution_Exchange] AS [Execution_Exchange], 
        [Extent3].[Target_FX_Rate] AS [Target_FX_Rate], 
        [Extent3].[Limit_FX_Rate] AS [Limit_FX_Rate], 
        [Extent3].[Execution_FX_Rate] AS [Execution_FX_Rate], 
        [Extent3].[Buy_Currency_Code] AS [Buy_Currency_Code], 
        [Extent3].[Buy_Currency_Execution_Amount] AS [Buy_Currency_Execution_Amount], 
        [Extent3].[Buy_Currency_Target_Amount] AS [Buy_Currency_Target_Amount], 
        [Extent3].[Sell_Currency_Code] AS [Sell_Currency_Code], 
        [Extent3].[Sell_Currency_Execution_Amount] AS [Sell_Currency_Execution_Amount], 
        [Extent3].[Sell_Currency_Target_Amount] AS [Sell_Currency_Target_Amount], 
        [Extent3].[Commission_Amount_TradeCur] AS [Commission_Amount_TradeCur], 
        [Extent3].[Trade_Type_Indicator] AS [Trade_Type_Indicator], 
        [Extent3].[Commission_Rate] AS [Commission_Rate], 
        [Extent3].[Commission_Type] AS [Commission_Type], 
        [Extent3].[Fee_Code1] AS [Fee_Code1], 
        [Extent3].[Fee_Code2] AS [Fee_Code2], 
        [Extent3].[Fee_Code3] AS [Fee_Code3], 
        [Extent3].[Fee_Code4] AS [Fee_Code4], 
        [Extent3].[Fee_Code5] AS [Fee_Code5], 
        [Extent3].[Fee_Code6] AS [Fee_Code6], 
        [Extent3].[Fee_Amount1_TradeCur] AS [Fee_Amount1_TradeCur], 
        [Extent3].[Fee_Amount2_TradeCur] AS [Fee_Amount2_TradeCur], 
        [Extent3].[Fee_Amount3_TradeCur] AS [Fee_Amount3_TradeCur], 
        [Extent3].[Fee_Amount4_TradeCur] AS [Fee_Amount4_TradeCur], 
        [Extent3].[Fee_Amount5_TradeCur] AS [Fee_Amount5_TradeCur], 
        [Extent3].[Fee_Amount6_TradeCur] AS [Fee_Amount6_TradeCur], 
        [Extent3].[Tax_Amount_TradeCur] AS [Tax_Amount_TradeCur], 
        [Extent3].[Tax_Type] AS [Tax_Type], 
        [Extent3].[Tax_Charge_FeeNum] AS [Tax_Charge_FeeNum], 
        [Extent3].[Execution_Gross_Amount_TradeCur] AS [Execution_Gross_Amount_TradeCur], 
        [Extent3].[Execution_Net_Amount_TradeCur] AS [Execution_Net_Amount_TradeCur], 
        [Extent3].[Related_Order_ID] AS [Related_Order_ID], 
        [Extent3].[Previous_Order_ID] AS [Previous_Order_ID], 
        [Extent3].[Authorised_User1] AS [Authorised_User1], 
        [Extent3].[Authorised_User1_DateTime] AS [Authorised_User1_DateTime], 
        [Extent3].[Authorised_User2] AS [Authorised_User2], 
        [Extent3].[Authorised_User2_DateTime] AS [Authorised_User2_DateTime], 
        [Extent3].[Authorised_Number] AS [Authorised_Number], 
        [Extent3].[Security_Type_Code] AS [Security_Type_Code1], 
        [Extent3].[Export_Status] AS [Export_Status], 
        [Extent3].[Order_Ack_Nack_Status] AS [Order_Ack_Nack_Status], 
        [Extent3].[Operations_Status] AS [Operations_Status], 
        [Extent3].[Import_Trade_ID] AS [Import_Trade_ID], 
        1 AS [C1]
        FROM   [dbo].[Cash_Transactions] AS [Extent1]
        LEFT OUTER JOIN [dbo].[Security_Detail] AS [Extent2] ON [Extent1].[Transaction_Security_ID] = [Extent2].[Security_ID]
        LEFT OUTER JOIN [dbo].[Order_Detail] AS [Extent3] ON [Extent1].[Order_ID] = [Extent3].[Order_ID]
        WHERE ([Extent1].[Entity_ID] = @p__linq__0) AND ([Extent1].[Portfolio_Code] = @p__linq__1) AND ([Extent1].[Transaction_Date] <= @p__linq__2)
    )  AS [Project1]
    ORDER BY [Project1].[Transaction_Date] DESC
2018-06-05 17:01:11.5587|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: IF db_id(N'MetopeAzureDb') IS NOT NULL SELECT 1 ELSE SELECT Count(*) FROM sys.databases WHERE [name]=N'MetopeAzureDb'
2018-06-05 17:01:11.6397|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: IF db_id(N'MetopeAzureDb') IS NOT NULL SELECT 1 ELSE SELECT Count(*) FROM sys.databases WHERE [name]=N'MetopeAzureDb'
2018-06-05 17:01:11.6993|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: IF db_id(N'MetopeAzureDb') IS NOT NULL SELECT 1 ELSE SELECT Count(*) FROM sys.databases WHERE [name]=N'MetopeAzureDb'
2018-06-05 17:01:11.7143|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: IF db_id(N'MetopeAzureDb') IS NOT NULL SELECT 1 ELSE SELECT Count(*) FROM sys.databases WHERE [name]=N'MetopeAzureDb'
2018-06-05 20:06:15.5428|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: select cast(serverproperty('EngineEdition') as int)
2018-06-05 20:06:15.6223|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: select cast(serverproperty('EngineEdition') as int)
2018-06-05 20:06:16.0141|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: IF db_id(N'MetopeAzureDb') IS NOT NULL SELECT 1 ELSE SELECT Count(*) FROM sys.databases WHERE [name]=N'MetopeAzureDb'
2018-06-05 20:06:16.1107|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: IF db_id(N'MetopeAzureDb') IS NOT NULL SELECT 1 ELSE SELECT Count(*) FROM sys.databases WHERE [name]=N'MetopeAzureDb'
2018-06-05 20:06:16.2698|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: IF db_id(N'MetopeAzureDb') IS NOT NULL SELECT 1 ELSE SELECT Count(*) FROM sys.databases WHERE [name]=N'MetopeAzureDb'
2018-06-05 20:06:16.2963|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: IF db_id(N'MetopeAzureDb') IS NOT NULL SELECT 1 ELSE SELECT Count(*) FROM sys.databases WHERE [name]=N'MetopeAzureDb'
2018-06-05 20:06:16.3143|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: 
SELECT Count(*)
FROM INFORMATION_SCHEMA.TABLES AS t
WHERE t.TABLE_SCHEMA + '.' + t.TABLE_NAME IN ('dbo.AspNetRoles','dbo.AspNetUserRoles','dbo.AspNetUsers','dbo.AspNetUserClaims','dbo.AspNetUserLogins')
    OR t.TABLE_NAME = 'EdmMetadata'
2018-06-05 20:06:16.3959|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: 
SELECT Count(*)
FROM INFORMATION_SCHEMA.TABLES AS t
WHERE t.TABLE_SCHEMA + '.' + t.TABLE_NAME IN ('dbo.AspNetRoles','dbo.AspNetUserRoles','dbo.AspNetUsers','dbo.AspNetUserClaims','dbo.AspNetUserLogins')
    OR t.TABLE_NAME = 'EdmMetadata'
2018-06-05 20:06:16.7952|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: SELECT 
    [GroupBy1].[A1] AS [C1]
    FROM ( SELECT 
        COUNT(1) AS [A1]
        FROM [dbo].[__MigrationHistory] AS [Extent1]
        WHERE [Extent1].[ContextKey] = @p__linq__0
    )  AS [GroupBy1]
2018-06-05 20:06:16.8152|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: SELECT 
    [GroupBy1].[A1] AS [C1]
    FROM ( SELECT 
        COUNT(1) AS [A1]
        FROM [dbo].[__MigrationHistory] AS [Extent1]
        WHERE [Extent1].[ContextKey] = @p__linq__0
    )  AS [GroupBy1]
2018-06-05 20:06:16.8867|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: SELECT TOP (1) 
    [Project1].[C1] AS [C1], 
    [Project1].[MigrationId] AS [MigrationId], 
    [Project1].[Model] AS [Model], 
    [Project1].[ProductVersion] AS [ProductVersion]
    FROM ( SELECT 
        [Extent1].[MigrationId] AS [MigrationId], 
        [Extent1].[Model] AS [Model], 
        [Extent1].[ProductVersion] AS [ProductVersion], 
        1 AS [C1]
        FROM [dbo].[__MigrationHistory] AS [Extent1]
        WHERE [Extent1].[ContextKey] = @p__linq__0
    )  AS [Project1]
    ORDER BY [Project1].[MigrationId] DESC
2018-06-05 20:06:16.9182|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: SELECT TOP (1) 
    [Project1].[C1] AS [C1], 
    [Project1].[MigrationId] AS [MigrationId], 
    [Project1].[Model] AS [Model], 
    [Project1].[ProductVersion] AS [ProductVersion]
    FROM ( SELECT 
        [Extent1].[MigrationId] AS [MigrationId], 
        [Extent1].[Model] AS [Model], 
        [Extent1].[ProductVersion] AS [ProductVersion], 
        1 AS [C1]
        FROM [dbo].[__MigrationHistory] AS [Extent1]
        WHERE [Extent1].[ContextKey] = @p__linq__0
    )  AS [Project1]
    ORDER BY [Project1].[MigrationId] DESC
2018-06-05 20:06:17.2500|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: True, Command Text: SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[EntityIdScope] AS [EntityIdScope], 
    [Extent1].[Email] AS [Email], 
    [Extent1].[EmailConfirmed] AS [EmailConfirmed], 
    [Extent1].[PasswordHash] AS [PasswordHash], 
    [Extent1].[SecurityStamp] AS [SecurityStamp], 
    [Extent1].[PhoneNumber] AS [PhoneNumber], 
    [Extent1].[PhoneNumberConfirmed] AS [PhoneNumberConfirmed], 
    [Extent1].[TwoFactorEnabled] AS [TwoFactorEnabled], 
    [Extent1].[LockoutEndDateUtc] AS [LockoutEndDateUtc], 
    [Extent1].[LockoutEnabled] AS [LockoutEnabled], 
    [Extent1].[AccessFailedCount] AS [AccessFailedCount], 
    [Extent1].[UserName] AS [UserName]
    FROM [dbo].[AspNetUsers] AS [Extent1]
    WHERE [Extent1].[Id] = @p0
2018-06-05 20:06:17.2750|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: True, Command Text: SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[EntityIdScope] AS [EntityIdScope], 
    [Extent1].[Email] AS [Email], 
    [Extent1].[EmailConfirmed] AS [EmailConfirmed], 
    [Extent1].[PasswordHash] AS [PasswordHash], 
    [Extent1].[SecurityStamp] AS [SecurityStamp], 
    [Extent1].[PhoneNumber] AS [PhoneNumber], 
    [Extent1].[PhoneNumberConfirmed] AS [PhoneNumberConfirmed], 
    [Extent1].[TwoFactorEnabled] AS [TwoFactorEnabled], 
    [Extent1].[LockoutEndDateUtc] AS [LockoutEndDateUtc], 
    [Extent1].[LockoutEnabled] AS [LockoutEnabled], 
    [Extent1].[AccessFailedCount] AS [AccessFailedCount], 
    [Extent1].[UserName] AS [UserName]
    FROM [dbo].[AspNetUsers] AS [Extent1]
    WHERE [Extent1].[Id] = @p0
2018-06-05 20:06:17.3986|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: True, Command Text: SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[UserId] AS [UserId], 
    [Extent1].[ClaimType] AS [ClaimType], 
    [Extent1].[ClaimValue] AS [ClaimValue]
    FROM [dbo].[AspNetUserClaims] AS [Extent1]
    WHERE [Extent1].[UserId] = @p__linq__0
2018-06-05 20:06:17.4326|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: True, Command Text: SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[UserId] AS [UserId], 
    [Extent1].[ClaimType] AS [ClaimType], 
    [Extent1].[ClaimValue] AS [ClaimValue]
    FROM [dbo].[AspNetUserClaims] AS [Extent1]
    WHERE [Extent1].[UserId] = @p__linq__0
2018-06-05 20:06:17.4947|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: True, Command Text: SELECT 
    [Extent1].[LoginProvider] AS [LoginProvider], 
    [Extent1].[ProviderKey] AS [ProviderKey], 
    [Extent1].[UserId] AS [UserId]
    FROM [dbo].[AspNetUserLogins] AS [Extent1]
    WHERE [Extent1].[UserId] = @p__linq__0
2018-06-05 20:06:17.5127|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: True, Command Text: SELECT 
    [Extent1].[LoginProvider] AS [LoginProvider], 
    [Extent1].[ProviderKey] AS [ProviderKey], 
    [Extent1].[UserId] AS [UserId]
    FROM [dbo].[AspNetUserLogins] AS [Extent1]
    WHERE [Extent1].[UserId] = @p__linq__0
2018-06-05 20:06:17.5727|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: True, Command Text: SELECT 
    [Extent1].[UserId] AS [UserId], 
    [Extent1].[RoleId] AS [RoleId]
    FROM [dbo].[AspNetUserRoles] AS [Extent1]
    WHERE [Extent1].[UserId] = @p__linq__0
2018-06-05 20:06:17.5907|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: True, Command Text: SELECT 
    [Extent1].[UserId] AS [UserId], 
    [Extent1].[RoleId] AS [RoleId]
    FROM [dbo].[AspNetUserRoles] AS [Extent1]
    WHERE [Extent1].[UserId] = @p__linq__0
2018-06-05 20:06:18.4794|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: SELECT TOP (500) 
    [Project1].[C1] AS [C1], 
    [Project1].[C2] AS [C2], 
    [Project1].[Entity_ID] AS [Entity_ID], 
    [Project1].[Allocation_ID] AS [Allocation_ID], 
    [Project1].[Ticker] AS [Ticker], 
    [Project1].[Transaction_Type] AS [Transaction_Type], 
    [Project1].[Trade_Date] AS [Trade_Date], 
    [Project1].[Execution_AllIn_Price] AS [Execution_AllIn_Price], 
    [Project1].[Portfolio_Code] AS [Portfolio_Code], 
    [Project1].[Execution_Quantity] AS [Execution_Quantity], 
    [Project1].[Execution_Net_Amount_TradeCur] AS [Execution_Net_Amount_TradeCur]
    FROM ( SELECT 
        [Extent1].[Allocation_ID] AS [Allocation_ID], 
        [Extent1].[Entity_ID] AS [Entity_ID], 
        [Extent1].[Portfolio_Code] AS [Portfolio_Code], 
        [Extent1].[Execution_Quantity] AS [Execution_Quantity], 
        [Extent1].[Execution_Net_Amount_TradeCur] AS [Execution_Net_Amount_TradeCur], 
        [Extent2].[Trade_Date] AS [Trade_Date], 
        [Extent2].[Transaction_Type] AS [Transaction_Type], 
        [Extent2].[Execution_AllIn_Price] AS [Execution_AllIn_Price], 
        [Extent3].[Ticker] AS [Ticker], 
        1 AS [C1], 
        cast(1 as bit) AS [C2]
        FROM   [dbo].[Order_Allocation] AS [Extent1]
        INNER JOIN [dbo].[Order_Detail] AS [Extent2] ON [Extent1].[Order_ID] = [Extent2].[Order_ID]
        INNER JOIN [dbo].[Security_Detail] AS [Extent3] ON [Extent2].[Security_ID] = [Extent3].[Security_ID]
        WHERE [Extent1].[Entity_ID] = @p__linq__0
    )  AS [Project1]
    ORDER BY [Project1].[Trade_Date] DESC, [Project1].[Entity_ID] ASC, [Project1].[Portfolio_Code] ASC
2018-06-05 20:06:18.5329|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: SELECT TOP (500) 
    [Project1].[C1] AS [C1], 
    [Project1].[C2] AS [C2], 
    [Project1].[Entity_ID] AS [Entity_ID], 
    [Project1].[Allocation_ID] AS [Allocation_ID], 
    [Project1].[Ticker] AS [Ticker], 
    [Project1].[Transaction_Type] AS [Transaction_Type], 
    [Project1].[Trade_Date] AS [Trade_Date], 
    [Project1].[Execution_AllIn_Price] AS [Execution_AllIn_Price], 
    [Project1].[Portfolio_Code] AS [Portfolio_Code], 
    [Project1].[Execution_Quantity] AS [Execution_Quantity], 
    [Project1].[Execution_Net_Amount_TradeCur] AS [Execution_Net_Amount_TradeCur]
    FROM ( SELECT 
        [Extent1].[Allocation_ID] AS [Allocation_ID], 
        [Extent1].[Entity_ID] AS [Entity_ID], 
        [Extent1].[Portfolio_Code] AS [Portfolio_Code], 
        [Extent1].[Execution_Quantity] AS [Execution_Quantity], 
        [Extent1].[Execution_Net_Amount_TradeCur] AS [Execution_Net_Amount_TradeCur], 
        [Extent2].[Trade_Date] AS [Trade_Date], 
        [Extent2].[Transaction_Type] AS [Transaction_Type], 
        [Extent2].[Execution_AllIn_Price] AS [Execution_AllIn_Price], 
        [Extent3].[Ticker] AS [Ticker], 
        1 AS [C1], 
        cast(1 as bit) AS [C2]
        FROM   [dbo].[Order_Allocation] AS [Extent1]
        INNER JOIN [dbo].[Order_Detail] AS [Extent2] ON [Extent1].[Order_ID] = [Extent2].[Order_ID]
        INNER JOIN [dbo].[Security_Detail] AS [Extent3] ON [Extent2].[Security_ID] = [Extent3].[Security_ID]
        WHERE [Extent1].[Entity_ID] = @p__linq__0
    )  AS [Project1]
    ORDER BY [Project1].[Trade_Date] DESC, [Project1].[Entity_ID] ASC, [Project1].[Portfolio_Code] ASC
2018-06-05 20:06:34.0523|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: IF db_id(N'MetopeAzureDb') IS NOT NULL SELECT 1 ELSE SELECT Count(*) FROM sys.databases WHERE [name]=N'MetopeAzureDb'
2018-06-05 20:06:34.0938|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: IF db_id(N'MetopeAzureDb') IS NOT NULL SELECT 1 ELSE SELECT Count(*) FROM sys.databases WHERE [name]=N'MetopeAzureDb'
2018-06-05 20:06:34.2274|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: IF db_id(N'MetopeAzureDb') IS NOT NULL SELECT 1 ELSE SELECT Count(*) FROM sys.databases WHERE [name]=N'MetopeAzureDb'
2018-06-05 20:06:34.2654|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: IF db_id(N'MetopeAzureDb') IS NOT NULL SELECT 1 ELSE SELECT Count(*) FROM sys.databases WHERE [name]=N'MetopeAzureDb'
2018-06-05 20:06:34.3420|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: True, Command Text: SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[EntityIdScope] AS [EntityIdScope], 
    [Extent1].[Email] AS [Email], 
    [Extent1].[EmailConfirmed] AS [EmailConfirmed], 
    [Extent1].[PasswordHash] AS [PasswordHash], 
    [Extent1].[SecurityStamp] AS [SecurityStamp], 
    [Extent1].[PhoneNumber] AS [PhoneNumber], 
    [Extent1].[PhoneNumberConfirmed] AS [PhoneNumberConfirmed], 
    [Extent1].[TwoFactorEnabled] AS [TwoFactorEnabled], 
    [Extent1].[LockoutEndDateUtc] AS [LockoutEndDateUtc], 
    [Extent1].[LockoutEnabled] AS [LockoutEnabled], 
    [Extent1].[AccessFailedCount] AS [AccessFailedCount], 
    [Extent1].[UserName] AS [UserName]
    FROM [dbo].[AspNetUsers] AS [Extent1]
    WHERE [Extent1].[Id] = @p0
2018-06-05 20:06:34.4105|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: True, Command Text: SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[EntityIdScope] AS [EntityIdScope], 
    [Extent1].[Email] AS [Email], 
    [Extent1].[EmailConfirmed] AS [EmailConfirmed], 
    [Extent1].[PasswordHash] AS [PasswordHash], 
    [Extent1].[SecurityStamp] AS [SecurityStamp], 
    [Extent1].[PhoneNumber] AS [PhoneNumber], 
    [Extent1].[PhoneNumberConfirmed] AS [PhoneNumberConfirmed], 
    [Extent1].[TwoFactorEnabled] AS [TwoFactorEnabled], 
    [Extent1].[LockoutEndDateUtc] AS [LockoutEndDateUtc], 
    [Extent1].[LockoutEnabled] AS [LockoutEnabled], 
    [Extent1].[AccessFailedCount] AS [AccessFailedCount], 
    [Extent1].[UserName] AS [UserName]
    FROM [dbo].[AspNetUsers] AS [Extent1]
    WHERE [Extent1].[Id] = @p0
2018-06-05 20:06:34.4641|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: True, Command Text: SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[UserId] AS [UserId], 
    [Extent1].[ClaimType] AS [ClaimType], 
    [Extent1].[ClaimValue] AS [ClaimValue]
    FROM [dbo].[AspNetUserClaims] AS [Extent1]
    WHERE [Extent1].[UserId] = @p__linq__0
2018-06-05 20:06:34.5466|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: True, Command Text: SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[UserId] AS [UserId], 
    [Extent1].[ClaimType] AS [ClaimType], 
    [Extent1].[ClaimValue] AS [ClaimValue]
    FROM [dbo].[AspNetUserClaims] AS [Extent1]
    WHERE [Extent1].[UserId] = @p__linq__0
2018-06-05 20:06:34.6267|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: True, Command Text: SELECT 
    [Extent1].[LoginProvider] AS [LoginProvider], 
    [Extent1].[ProviderKey] AS [ProviderKey], 
    [Extent1].[UserId] AS [UserId]
    FROM [dbo].[AspNetUserLogins] AS [Extent1]
    WHERE [Extent1].[UserId] = @p__linq__0
2018-06-05 20:06:34.6872|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: True, Command Text: SELECT 
    [Extent1].[LoginProvider] AS [LoginProvider], 
    [Extent1].[ProviderKey] AS [ProviderKey], 
    [Extent1].[UserId] AS [UserId]
    FROM [dbo].[AspNetUserLogins] AS [Extent1]
    WHERE [Extent1].[UserId] = @p__linq__0
2018-06-05 20:06:34.8123|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: True, Command Text: SELECT 
    [Extent1].[UserId] AS [UserId], 
    [Extent1].[RoleId] AS [RoleId]
    FROM [dbo].[AspNetUserRoles] AS [Extent1]
    WHERE [Extent1].[UserId] = @p__linq__0
2018-06-05 20:06:34.8819|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: True, Command Text: SELECT 
    [Extent1].[UserId] AS [UserId], 
    [Extent1].[RoleId] AS [RoleId]
    FROM [dbo].[AspNetUserRoles] AS [Extent1]
    WHERE [Extent1].[UserId] = @p__linq__0
2018-06-05 20:06:35.3797|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: SELECT TOP (2) 
    [Extent1].[Entity_ID] AS [Entity_ID], 
    [Extent1].[Entity_Code] AS [Entity_Code], 
    [Extent1].[Entity_Name] AS [Entity_Name], 
    [Extent1].[Import_Folder] AS [Import_Folder], 
    [Extent1].[Export_Folder] AS [Export_Folder]
    FROM [dbo].[Entity] AS [Extent1]
    WHERE [Extent1].[Entity_ID] = @p0
2018-06-05 20:06:35.4963|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: SELECT TOP (2) 
    [Extent1].[Entity_ID] AS [Entity_ID], 
    [Extent1].[Entity_Code] AS [Entity_Code], 
    [Extent1].[Entity_Name] AS [Entity_Name], 
    [Extent1].[Import_Folder] AS [Import_Folder], 
    [Extent1].[Export_Folder] AS [Export_Folder]
    FROM [dbo].[Entity] AS [Extent1]
    WHERE [Extent1].[Entity_ID] = @p0
2018-06-05 20:09:16.2641|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: IF db_id(N'MetopeAzureDb') IS NOT NULL SELECT 1 ELSE SELECT Count(*) FROM sys.databases WHERE [name]=N'MetopeAzureDb'
2018-06-05 20:09:16.5933|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: IF db_id(N'MetopeAzureDb') IS NOT NULL SELECT 1 ELSE SELECT Count(*) FROM sys.databases WHERE [name]=N'MetopeAzureDb'
2018-06-05 20:09:17.4409|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: SELECT 
    [Extent1].[Allocation_ID] AS [Allocation_ID], 
    [Extent1].[Entity_ID] AS [Entity_ID], 
    [Extent1].[Order_ID] AS [Order_ID], 
    [Extent1].[Portfolio_Code] AS [Portfolio_Code], 
    [Extent1].[Target_Quantity] AS [Target_Quantity], 
    [Extent1].[Target_Clean_Amount_TradeCur] AS [Target_Clean_Amount_TradeCur], 
    [Extent1].[Target_Income_Amount_TradeCur] AS [Target_Income_Amount_TradeCur], 
    [Extent1].[Target_AllIn_Amount_TradeCur] AS [Target_AllIn_Amount_TradeCur], 
    [Extent1].[Target_Clean_Amount_BaseCur] AS [Target_Clean_Amount_BaseCur], 
    [Extent1].[Target_Income_Amount_BaseCur] AS [Target_Income_Amount_BaseCur], 
    [Extent1].[Target_AllIn_Amount_BaseCur] AS [Target_AllIn_Amount_BaseCur], 
    [Extent1].[Execution_Quantity] AS [Execution_Quantity], 
    [Extent1].[Place_Quantity] AS [Place_Quantity], 
    [Extent1].[Execution_Clean_Amount_TradeCur] AS [Execution_Clean_Amount_TradeCur], 
    [Extent1].[Execution_Income_Amount_TradeCur] AS [Execution_Income_Amount_TradeCur], 
    [Extent1].[Execution_AllIn_Amount_TradeCur] AS [Execution_AllIn_Amount_TradeCur], 
    [Extent1].[Execution_Clean_Amount_BaseCur] AS [Execution_Clean_Amount_BaseCur], 
    [Extent1].[Execution_Income_Amount_BaseCur] AS [Execution_Income_Amount_BaseCur], 
    [Extent1].[Execution_AllIn_Amount_BaseCur] AS [Execution_AllIn_Amount_BaseCur], 
    [Extent1].[Commission_Rate] AS [Commission_Rate], 
    [Extent1].[Commission_Type] AS [Commission_Type], 
    [Extent1].[Commission_Amount_TradeCur] AS [Commission_Amount_TradeCur], 
    [Extent1].[Commission_Amount_BaseCur] AS [Commission_Amount_BaseCur], 
    [Extent1].[Execution_Gross_Amount_TradeCur] AS [Execution_Gross_Amount_TradeCur], 
    [Extent1].[Execution_Gross_Amount_BaseCur] AS [Execution_Gross_Amount_BaseCur], 
    [Extent1].[Execution_Net_Amount_TradeCur] AS [Execution_Net_Amount_TradeCur], 
    [Extent1].[Execution_Net_Amount_BaseCur] AS [Execution_Net_Amount_BaseCur], 
    [Extent1].[Buy_Currency_Target_Amount_TradeCur] AS [Buy_Currency_Target_Amount_TradeCur], 
    [Extent1].[Sell_Currency_Target_Amount_TradeCur] AS [Sell_Currency_Target_Amount_TradeCur], 
    [Extent1].[Buy_Currency_Target_Amount_BaseCur] AS [Buy_Currency_Target_Amount_BaseCur], 
    [Extent1].[Sell_Currency_Target_Amount_BaseCur] AS [Sell_Currency_Target_Amount_BaseCur], 
    [Extent1].[Buy_Currency_Execution_Amount_TradeCur] AS [Buy_Currency_Execution_Amount_TradeCur], 
    [Extent1].[Sell_Currency_Execution_Amount_TradeCur] AS [Sell_Currency_Execution_Amount_TradeCur], 
    [Extent1].[Buy_Currency_Execution_Amount_BaseCur] AS [Buy_Currency_Execution_Amount_BaseCur], 
    [Extent1].[Sell_Currency_Execution_Amount_BaseCur] AS [Sell_Currency_Execution_Amount_BaseCur], 
    [Extent1].[Fee_Amount1_TradeCur] AS [Fee_Amount1_TradeCur], 
    [Extent1].[Fee_Amount2_TradeCur] AS [Fee_Amount2_TradeCur], 
    [Extent1].[Fee_Amount3_TradeCur] AS [Fee_Amount3_TradeCur], 
    [Extent1].[Fee_Amount4_TradeCur] AS [Fee_Amount4_TradeCur], 
    [Extent1].[Fee_Amount5_TradeCur] AS [Fee_Amount5_TradeCur], 
    [Extent1].[Fee_Amount6_TradeCur] AS [Fee_Amount6_TradeCur], 
    [Extent1].[Tax_Amount_TradeCur] AS [Tax_Amount_TradeCur], 
    [Extent1].[Fee_Amount1_BaseCur] AS [Fee_Amount1_BaseCur], 
    [Extent1].[Fee_Amount2_BaseCur] AS [Fee_Amount2_BaseCur], 
    [Extent1].[Fee_Amount3_BaseCur] AS [Fee_Amount3_BaseCur], 
    [Extent1].[Fee_Amount4_BaseCur] AS [Fee_Amount4_BaseCur], 
    [Extent1].[Fee_Amount5_BaseCur] AS [Fee_Amount5_BaseCur], 
    [Extent1].[Fee_Amount6_BaseCur] AS [Fee_Amount6_BaseCur], 
    [Extent1].[Tax_Amount_BaseCur] AS [Tax_Amount_BaseCur], 
    [Extent1].[Trade_Base_FX_Rate] AS [Trade_Base_FX_Rate], 
    [Extent1].[Export_Reference] AS [Export_Reference], 
    [Extent1].[Export_Status] AS [Export_Status], 
    [Extent1].[Allocation_Ack_Nack_Status] AS [Allocation_Ack_Nack_Status], 
    [Extent1].[Operations_Status] AS [Operations_Status], 
    [Extent1].[Last_Update_Date] AS [Last_Update_Date], 
    [Extent1].[Last_Update_User] AS [Last_Update_User]
    FROM [dbo].[Order_Allocation] AS [Extent1]
    WHERE [Extent1].[Allocation_ID] IN (cast(54 as decimal(18)))
2018-06-05 20:09:17.5129|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: SELECT 
    [Extent1].[Allocation_ID] AS [Allocation_ID], 
    [Extent1].[Entity_ID] AS [Entity_ID], 
    [Extent1].[Order_ID] AS [Order_ID], 
    [Extent1].[Portfolio_Code] AS [Portfolio_Code], 
    [Extent1].[Target_Quantity] AS [Target_Quantity], 
    [Extent1].[Target_Clean_Amount_TradeCur] AS [Target_Clean_Amount_TradeCur], 
    [Extent1].[Target_Income_Amount_TradeCur] AS [Target_Income_Amount_TradeCur], 
    [Extent1].[Target_AllIn_Amount_TradeCur] AS [Target_AllIn_Amount_TradeCur], 
    [Extent1].[Target_Clean_Amount_BaseCur] AS [Target_Clean_Amount_BaseCur], 
    [Extent1].[Target_Income_Amount_BaseCur] AS [Target_Income_Amount_BaseCur], 
    [Extent1].[Target_AllIn_Amount_BaseCur] AS [Target_AllIn_Amount_BaseCur], 
    [Extent1].[Execution_Quantity] AS [Execution_Quantity], 
    [Extent1].[Place_Quantity] AS [Place_Quantity], 
    [Extent1].[Execution_Clean_Amount_TradeCur] AS [Execution_Clean_Amount_TradeCur], 
    [Extent1].[Execution_Income_Amount_TradeCur] AS [Execution_Income_Amount_TradeCur], 
    [Extent1].[Execution_AllIn_Amount_TradeCur] AS [Execution_AllIn_Amount_TradeCur], 
    [Extent1].[Execution_Clean_Amount_BaseCur] AS [Execution_Clean_Amount_BaseCur], 
    [Extent1].[Execution_Income_Amount_BaseCur] AS [Execution_Income_Amount_BaseCur], 
    [Extent1].[Execution_AllIn_Amount_BaseCur] AS [Execution_AllIn_Amount_BaseCur], 
    [Extent1].[Commission_Rate] AS [Commission_Rate], 
    [Extent1].[Commission_Type] AS [Commission_Type], 
    [Extent1].[Commission_Amount_TradeCur] AS [Commission_Amount_TradeCur], 
    [Extent1].[Commission_Amount_BaseCur] AS [Commission_Amount_BaseCur], 
    [Extent1].[Execution_Gross_Amount_TradeCur] AS [Execution_Gross_Amount_TradeCur], 
    [Extent1].[Execution_Gross_Amount_BaseCur] AS [Execution_Gross_Amount_BaseCur], 
    [Extent1].[Execution_Net_Amount_TradeCur] AS [Execution_Net_Amount_TradeCur], 
    [Extent1].[Execution_Net_Amount_BaseCur] AS [Execution_Net_Amount_BaseCur], 
    [Extent1].[Buy_Currency_Target_Amount_TradeCur] AS [Buy_Currency_Target_Amount_TradeCur], 
    [Extent1].[Sell_Currency_Target_Amount_TradeCur] AS [Sell_Currency_Target_Amount_TradeCur], 
    [Extent1].[Buy_Currency_Target_Amount_BaseCur] AS [Buy_Currency_Target_Amount_BaseCur], 
    [Extent1].[Sell_Currency_Target_Amount_BaseCur] AS [Sell_Currency_Target_Amount_BaseCur], 
    [Extent1].[Buy_Currency_Execution_Amount_TradeCur] AS [Buy_Currency_Execution_Amount_TradeCur], 
    [Extent1].[Sell_Currency_Execution_Amount_TradeCur] AS [Sell_Currency_Execution_Amount_TradeCur], 
    [Extent1].[Buy_Currency_Execution_Amount_BaseCur] AS [Buy_Currency_Execution_Amount_BaseCur], 
    [Extent1].[Sell_Currency_Execution_Amount_BaseCur] AS [Sell_Currency_Execution_Amount_BaseCur], 
    [Extent1].[Fee_Amount1_TradeCur] AS [Fee_Amount1_TradeCur], 
    [Extent1].[Fee_Amount2_TradeCur] AS [Fee_Amount2_TradeCur], 
    [Extent1].[Fee_Amount3_TradeCur] AS [Fee_Amount3_TradeCur], 
    [Extent1].[Fee_Amount4_TradeCur] AS [Fee_Amount4_TradeCur], 
    [Extent1].[Fee_Amount5_TradeCur] AS [Fee_Amount5_TradeCur], 
    [Extent1].[Fee_Amount6_TradeCur] AS [Fee_Amount6_TradeCur], 
    [Extent1].[Tax_Amount_TradeCur] AS [Tax_Amount_TradeCur], 
    [Extent1].[Fee_Amount1_BaseCur] AS [Fee_Amount1_BaseCur], 
    [Extent1].[Fee_Amount2_BaseCur] AS [Fee_Amount2_BaseCur], 
    [Extent1].[Fee_Amount3_BaseCur] AS [Fee_Amount3_BaseCur], 
    [Extent1].[Fee_Amount4_BaseCur] AS [Fee_Amount4_BaseCur], 
    [Extent1].[Fee_Amount5_BaseCur] AS [Fee_Amount5_BaseCur], 
    [Extent1].[Fee_Amount6_BaseCur] AS [Fee_Amount6_BaseCur], 
    [Extent1].[Tax_Amount_BaseCur] AS [Tax_Amount_BaseCur], 
    [Extent1].[Trade_Base_FX_Rate] AS [Trade_Base_FX_Rate], 
    [Extent1].[Export_Reference] AS [Export_Reference], 
    [Extent1].[Export_Status] AS [Export_Status], 
    [Extent1].[Allocation_Ack_Nack_Status] AS [Allocation_Ack_Nack_Status], 
    [Extent1].[Operations_Status] AS [Operations_Status], 
    [Extent1].[Last_Update_Date] AS [Last_Update_Date], 
    [Extent1].[Last_Update_User] AS [Last_Update_User]
    FROM [dbo].[Order_Allocation] AS [Extent1]
    WHERE [Extent1].[Allocation_ID] IN (cast(54 as decimal(18)))
2018-06-05 20:09:17.7356|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: DELETE [dbo].[Order_Allocation]
WHERE ([Allocation_ID] = @0)
2018-06-05 20:09:17.9483|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: DELETE [dbo].[Order_Allocation]
WHERE ([Allocation_ID] = @0)
2018-06-05 20:09:18.1394|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: SELECT TOP (500) 
    [Project1].[C1] AS [C1], 
    [Project1].[C2] AS [C2], 
    [Project1].[Entity_ID] AS [Entity_ID], 
    [Project1].[Allocation_ID] AS [Allocation_ID], 
    [Project1].[Ticker] AS [Ticker], 
    [Project1].[Transaction_Type] AS [Transaction_Type], 
    [Project1].[Trade_Date] AS [Trade_Date], 
    [Project1].[Execution_AllIn_Price] AS [Execution_AllIn_Price], 
    [Project1].[Portfolio_Code] AS [Portfolio_Code], 
    [Project1].[Execution_Quantity] AS [Execution_Quantity], 
    [Project1].[Execution_Net_Amount_TradeCur] AS [Execution_Net_Amount_TradeCur]
    FROM ( SELECT 
        [Extent1].[Allocation_ID] AS [Allocation_ID], 
        [Extent1].[Entity_ID] AS [Entity_ID], 
        [Extent1].[Portfolio_Code] AS [Portfolio_Code], 
        [Extent1].[Execution_Quantity] AS [Execution_Quantity], 
        [Extent1].[Execution_Net_Amount_TradeCur] AS [Execution_Net_Amount_TradeCur], 
        [Extent2].[Trade_Date] AS [Trade_Date], 
        [Extent2].[Transaction_Type] AS [Transaction_Type], 
        [Extent2].[Execution_AllIn_Price] AS [Execution_AllIn_Price], 
        [Extent3].[Ticker] AS [Ticker], 
        1 AS [C1], 
        cast(1 as bit) AS [C2]
        FROM   [dbo].[Order_Allocation] AS [Extent1]
        INNER JOIN [dbo].[Order_Detail] AS [Extent2] ON [Extent1].[Order_ID] = [Extent2].[Order_ID]
        INNER JOIN [dbo].[Security_Detail] AS [Extent3] ON [Extent2].[Security_ID] = [Extent3].[Security_ID]
        WHERE [Extent1].[Entity_ID] = @p__linq__0
    )  AS [Project1]
    ORDER BY [Project1].[Trade_Date] DESC, [Project1].[Entity_ID] ASC, [Project1].[Portfolio_Code] ASC
2018-06-05 20:09:18.2920|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: SELECT TOP (500) 
    [Project1].[C1] AS [C1], 
    [Project1].[C2] AS [C2], 
    [Project1].[Entity_ID] AS [Entity_ID], 
    [Project1].[Allocation_ID] AS [Allocation_ID], 
    [Project1].[Ticker] AS [Ticker], 
    [Project1].[Transaction_Type] AS [Transaction_Type], 
    [Project1].[Trade_Date] AS [Trade_Date], 
    [Project1].[Execution_AllIn_Price] AS [Execution_AllIn_Price], 
    [Project1].[Portfolio_Code] AS [Portfolio_Code], 
    [Project1].[Execution_Quantity] AS [Execution_Quantity], 
    [Project1].[Execution_Net_Amount_TradeCur] AS [Execution_Net_Amount_TradeCur]
    FROM ( SELECT 
        [Extent1].[Allocation_ID] AS [Allocation_ID], 
        [Extent1].[Entity_ID] AS [Entity_ID], 
        [Extent1].[Portfolio_Code] AS [Portfolio_Code], 
        [Extent1].[Execution_Quantity] AS [Execution_Quantity], 
        [Extent1].[Execution_Net_Amount_TradeCur] AS [Execution_Net_Amount_TradeCur], 
        [Extent2].[Trade_Date] AS [Trade_Date], 
        [Extent2].[Transaction_Type] AS [Transaction_Type], 
        [Extent2].[Execution_AllIn_Price] AS [Execution_AllIn_Price], 
        [Extent3].[Ticker] AS [Ticker], 
        1 AS [C1], 
        cast(1 as bit) AS [C2]
        FROM   [dbo].[Order_Allocation] AS [Extent1]
        INNER JOIN [dbo].[Order_Detail] AS [Extent2] ON [Extent1].[Order_ID] = [Extent2].[Order_ID]
        INNER JOIN [dbo].[Security_Detail] AS [Extent3] ON [Extent2].[Security_ID] = [Extent3].[Security_ID]
        WHERE [Extent1].[Entity_ID] = @p__linq__0
    )  AS [Project1]
    ORDER BY [Project1].[Trade_Date] DESC, [Project1].[Entity_ID] ASC, [Project1].[Portfolio_Code] ASC
2018-06-05 20:09:18.4371|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: IF db_id(N'MetopeAzureDb') IS NOT NULL SELECT 1 ELSE SELECT Count(*) FROM sys.databases WHERE [name]=N'MetopeAzureDb'
2018-06-05 20:09:18.4796|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: IF db_id(N'MetopeAzureDb') IS NOT NULL SELECT 1 ELSE SELECT Count(*) FROM sys.databases WHERE [name]=N'MetopeAzureDb'
2018-06-05 20:09:18.5187|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: IF db_id(N'MetopeAzureDb') IS NOT NULL SELECT 1 ELSE SELECT Count(*) FROM sys.databases WHERE [name]=N'MetopeAzureDb'
2018-06-05 20:09:18.5972|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: IF db_id(N'MetopeAzureDb') IS NOT NULL SELECT 1 ELSE SELECT Count(*) FROM sys.databases WHERE [name]=N'MetopeAzureDb'
2018-06-05 20:11:37.4710|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: SELECT TOP (500) 
    [Project1].[C1] AS [C1], 
    [Project1].[C2] AS [C2], 
    [Project1].[Entity_ID] AS [Entity_ID], 
    [Project1].[Allocation_ID] AS [Allocation_ID], 
    [Project1].[Ticker] AS [Ticker], 
    [Project1].[Transaction_Type] AS [Transaction_Type], 
    [Project1].[Trade_Date] AS [Trade_Date], 
    [Project1].[Execution_AllIn_Price] AS [Execution_AllIn_Price], 
    [Project1].[Portfolio_Code] AS [Portfolio_Code], 
    [Project1].[Execution_Quantity] AS [Execution_Quantity], 
    [Project1].[Execution_Net_Amount_TradeCur] AS [Execution_Net_Amount_TradeCur]
    FROM ( SELECT 
        [Extent1].[Allocation_ID] AS [Allocation_ID], 
        [Extent1].[Entity_ID] AS [Entity_ID], 
        [Extent1].[Portfolio_Code] AS [Portfolio_Code], 
        [Extent1].[Execution_Quantity] AS [Execution_Quantity], 
        [Extent1].[Execution_Net_Amount_TradeCur] AS [Execution_Net_Amount_TradeCur], 
        [Extent2].[Trade_Date] AS [Trade_Date], 
        [Extent2].[Transaction_Type] AS [Transaction_Type], 
        [Extent2].[Execution_AllIn_Price] AS [Execution_AllIn_Price], 
        [Extent3].[Ticker] AS [Ticker], 
        1 AS [C1], 
        cast(1 as bit) AS [C2]
        FROM   [dbo].[Order_Allocation] AS [Extent1]
        INNER JOIN [dbo].[Order_Detail] AS [Extent2] ON [Extent1].[Order_ID] = [Extent2].[Order_ID]
        INNER JOIN [dbo].[Security_Detail] AS [Extent3] ON [Extent2].[Security_ID] = [Extent3].[Security_ID]
        WHERE [Extent1].[Entity_ID] = @p__linq__0
    )  AS [Project1]
    ORDER BY [Project1].[Trade_Date] DESC, [Project1].[Entity_ID] ASC, [Project1].[Portfolio_Code] ASC
2018-06-05 20:11:37.5611|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: SELECT TOP (500) 
    [Project1].[C1] AS [C1], 
    [Project1].[C2] AS [C2], 
    [Project1].[Entity_ID] AS [Entity_ID], 
    [Project1].[Allocation_ID] AS [Allocation_ID], 
    [Project1].[Ticker] AS [Ticker], 
    [Project1].[Transaction_Type] AS [Transaction_Type], 
    [Project1].[Trade_Date] AS [Trade_Date], 
    [Project1].[Execution_AllIn_Price] AS [Execution_AllIn_Price], 
    [Project1].[Portfolio_Code] AS [Portfolio_Code], 
    [Project1].[Execution_Quantity] AS [Execution_Quantity], 
    [Project1].[Execution_Net_Amount_TradeCur] AS [Execution_Net_Amount_TradeCur]
    FROM ( SELECT 
        [Extent1].[Allocation_ID] AS [Allocation_ID], 
        [Extent1].[Entity_ID] AS [Entity_ID], 
        [Extent1].[Portfolio_Code] AS [Portfolio_Code], 
        [Extent1].[Execution_Quantity] AS [Execution_Quantity], 
        [Extent1].[Execution_Net_Amount_TradeCur] AS [Execution_Net_Amount_TradeCur], 
        [Extent2].[Trade_Date] AS [Trade_Date], 
        [Extent2].[Transaction_Type] AS [Transaction_Type], 
        [Extent2].[Execution_AllIn_Price] AS [Execution_AllIn_Price], 
        [Extent3].[Ticker] AS [Ticker], 
        1 AS [C1], 
        cast(1 as bit) AS [C2]
        FROM   [dbo].[Order_Allocation] AS [Extent1]
        INNER JOIN [dbo].[Order_Detail] AS [Extent2] ON [Extent1].[Order_ID] = [Extent2].[Order_ID]
        INNER JOIN [dbo].[Security_Detail] AS [Extent3] ON [Extent2].[Security_ID] = [Extent3].[Security_ID]
        WHERE [Extent1].[Entity_ID] = @p__linq__0
    )  AS [Project1]
    ORDER BY [Project1].[Trade_Date] DESC, [Project1].[Entity_ID] ASC, [Project1].[Portfolio_Code] ASC
2018-06-05 20:11:43.7125|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: IF db_id(N'MetopeAzureDb') IS NOT NULL SELECT 1 ELSE SELECT Count(*) FROM sys.databases WHERE [name]=N'MetopeAzureDb'
2018-06-05 20:11:43.8872|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: IF db_id(N'MetopeAzureDb') IS NOT NULL SELECT 1 ELSE SELECT Count(*) FROM sys.databases WHERE [name]=N'MetopeAzureDb'
2018-06-05 20:11:44.0088|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: IF db_id(N'MetopeAzureDb') IS NOT NULL SELECT 1 ELSE SELECT Count(*) FROM sys.databases WHERE [name]=N'MetopeAzureDb'
2018-06-05 20:11:44.0358|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: IF db_id(N'MetopeAzureDb') IS NOT NULL SELECT 1 ELSE SELECT Count(*) FROM sys.databases WHERE [name]=N'MetopeAzureDb'
2018-06-05 20:14:35.7707|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: SELECT TOP (500) 
    [Project1].[C1] AS [C1], 
    [Project1].[C2] AS [C2], 
    [Project1].[Entity_ID] AS [Entity_ID], 
    [Project1].[Allocation_ID] AS [Allocation_ID], 
    [Project1].[Ticker] AS [Ticker], 
    [Project1].[Transaction_Type] AS [Transaction_Type], 
    [Project1].[Trade_Date] AS [Trade_Date], 
    [Project1].[Execution_AllIn_Price] AS [Execution_AllIn_Price], 
    [Project1].[Portfolio_Code] AS [Portfolio_Code], 
    [Project1].[Execution_Quantity] AS [Execution_Quantity], 
    [Project1].[Execution_Net_Amount_TradeCur] AS [Execution_Net_Amount_TradeCur]
    FROM ( SELECT 
        [Extent1].[Allocation_ID] AS [Allocation_ID], 
        [Extent1].[Entity_ID] AS [Entity_ID], 
        [Extent1].[Portfolio_Code] AS [Portfolio_Code], 
        [Extent1].[Execution_Quantity] AS [Execution_Quantity], 
        [Extent1].[Execution_Net_Amount_TradeCur] AS [Execution_Net_Amount_TradeCur], 
        [Extent2].[Trade_Date] AS [Trade_Date], 
        [Extent2].[Transaction_Type] AS [Transaction_Type], 
        [Extent2].[Execution_AllIn_Price] AS [Execution_AllIn_Price], 
        [Extent3].[Ticker] AS [Ticker], 
        1 AS [C1], 
        cast(1 as bit) AS [C2]
        FROM   [dbo].[Order_Allocation] AS [Extent1]
        INNER JOIN [dbo].[Order_Detail] AS [Extent2] ON [Extent1].[Order_ID] = [Extent2].[Order_ID]
        INNER JOIN [dbo].[Security_Detail] AS [Extent3] ON [Extent2].[Security_ID] = [Extent3].[Security_ID]
        WHERE [Extent1].[Entity_ID] = @p__linq__0
    )  AS [Project1]
    ORDER BY [Project1].[Trade_Date] DESC, [Project1].[Entity_ID] ASC, [Project1].[Portfolio_Code] ASC
2018-06-05 20:14:35.8778|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: SELECT TOP (500) 
    [Project1].[C1] AS [C1], 
    [Project1].[C2] AS [C2], 
    [Project1].[Entity_ID] AS [Entity_ID], 
    [Project1].[Allocation_ID] AS [Allocation_ID], 
    [Project1].[Ticker] AS [Ticker], 
    [Project1].[Transaction_Type] AS [Transaction_Type], 
    [Project1].[Trade_Date] AS [Trade_Date], 
    [Project1].[Execution_AllIn_Price] AS [Execution_AllIn_Price], 
    [Project1].[Portfolio_Code] AS [Portfolio_Code], 
    [Project1].[Execution_Quantity] AS [Execution_Quantity], 
    [Project1].[Execution_Net_Amount_TradeCur] AS [Execution_Net_Amount_TradeCur]
    FROM ( SELECT 
        [Extent1].[Allocation_ID] AS [Allocation_ID], 
        [Extent1].[Entity_ID] AS [Entity_ID], 
        [Extent1].[Portfolio_Code] AS [Portfolio_Code], 
        [Extent1].[Execution_Quantity] AS [Execution_Quantity], 
        [Extent1].[Execution_Net_Amount_TradeCur] AS [Execution_Net_Amount_TradeCur], 
        [Extent2].[Trade_Date] AS [Trade_Date], 
        [Extent2].[Transaction_Type] AS [Transaction_Type], 
        [Extent2].[Execution_AllIn_Price] AS [Execution_AllIn_Price], 
        [Extent3].[Ticker] AS [Ticker], 
        1 AS [C1], 
        cast(1 as bit) AS [C2]
        FROM   [dbo].[Order_Allocation] AS [Extent1]
        INNER JOIN [dbo].[Order_Detail] AS [Extent2] ON [Extent1].[Order_ID] = [Extent2].[Order_ID]
        INNER JOIN [dbo].[Security_Detail] AS [Extent3] ON [Extent2].[Security_ID] = [Extent3].[Security_ID]
        WHERE [Extent1].[Entity_ID] = @p__linq__0
    )  AS [Project1]
    ORDER BY [Project1].[Trade_Date] DESC, [Project1].[Entity_ID] ASC, [Project1].[Portfolio_Code] ASC
2018-06-05 20:14:42.0905|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: IF db_id(N'MetopeAzureDb') IS NOT NULL SELECT 1 ELSE SELECT Count(*) FROM sys.databases WHERE [name]=N'MetopeAzureDb'
2018-06-05 20:14:42.1676|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: IF db_id(N'MetopeAzureDb') IS NOT NULL SELECT 1 ELSE SELECT Count(*) FROM sys.databases WHERE [name]=N'MetopeAzureDb'
2018-06-05 20:14:42.2267|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: IF db_id(N'MetopeAzureDb') IS NOT NULL SELECT 1 ELSE SELECT Count(*) FROM sys.databases WHERE [name]=N'MetopeAzureDb'
2018-06-05 20:14:42.3012|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: IF db_id(N'MetopeAzureDb') IS NOT NULL SELECT 1 ELSE SELECT Count(*) FROM sys.databases WHERE [name]=N'MetopeAzureDb'
2018-06-05 20:15:21.1766|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: SELECT TOP (500) 
    [Project1].[C1] AS [C1], 
    [Project1].[C2] AS [C2], 
    [Project1].[Entity_ID] AS [Entity_ID], 
    [Project1].[Allocation_ID] AS [Allocation_ID], 
    [Project1].[Ticker] AS [Ticker], 
    [Project1].[Transaction_Type] AS [Transaction_Type], 
    [Project1].[Trade_Date] AS [Trade_Date], 
    [Project1].[Execution_AllIn_Price] AS [Execution_AllIn_Price], 
    [Project1].[Portfolio_Code] AS [Portfolio_Code], 
    [Project1].[Execution_Quantity] AS [Execution_Quantity], 
    [Project1].[Execution_Net_Amount_TradeCur] AS [Execution_Net_Amount_TradeCur]
    FROM ( SELECT 
        [Extent1].[Allocation_ID] AS [Allocation_ID], 
        [Extent1].[Entity_ID] AS [Entity_ID], 
        [Extent1].[Portfolio_Code] AS [Portfolio_Code], 
        [Extent1].[Execution_Quantity] AS [Execution_Quantity], 
        [Extent1].[Execution_Net_Amount_TradeCur] AS [Execution_Net_Amount_TradeCur], 
        [Extent2].[Trade_Date] AS [Trade_Date], 
        [Extent2].[Transaction_Type] AS [Transaction_Type], 
        [Extent2].[Execution_AllIn_Price] AS [Execution_AllIn_Price], 
        [Extent3].[Ticker] AS [Ticker], 
        1 AS [C1], 
        cast(1 as bit) AS [C2]
        FROM   [dbo].[Order_Allocation] AS [Extent1]
        INNER JOIN [dbo].[Order_Detail] AS [Extent2] ON [Extent1].[Order_ID] = [Extent2].[Order_ID]
        INNER JOIN [dbo].[Security_Detail] AS [Extent3] ON [Extent2].[Security_ID] = [Extent3].[Security_ID]
        WHERE [Extent1].[Entity_ID] = @p__linq__0
    )  AS [Project1]
    ORDER BY [Project1].[Trade_Date] DESC, [Project1].[Entity_ID] ASC, [Project1].[Portfolio_Code] ASC
2018-06-05 20:15:21.2612|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: SELECT TOP (500) 
    [Project1].[C1] AS [C1], 
    [Project1].[C2] AS [C2], 
    [Project1].[Entity_ID] AS [Entity_ID], 
    [Project1].[Allocation_ID] AS [Allocation_ID], 
    [Project1].[Ticker] AS [Ticker], 
    [Project1].[Transaction_Type] AS [Transaction_Type], 
    [Project1].[Trade_Date] AS [Trade_Date], 
    [Project1].[Execution_AllIn_Price] AS [Execution_AllIn_Price], 
    [Project1].[Portfolio_Code] AS [Portfolio_Code], 
    [Project1].[Execution_Quantity] AS [Execution_Quantity], 
    [Project1].[Execution_Net_Amount_TradeCur] AS [Execution_Net_Amount_TradeCur]
    FROM ( SELECT 
        [Extent1].[Allocation_ID] AS [Allocation_ID], 
        [Extent1].[Entity_ID] AS [Entity_ID], 
        [Extent1].[Portfolio_Code] AS [Portfolio_Code], 
        [Extent1].[Execution_Quantity] AS [Execution_Quantity], 
        [Extent1].[Execution_Net_Amount_TradeCur] AS [Execution_Net_Amount_TradeCur], 
        [Extent2].[Trade_Date] AS [Trade_Date], 
        [Extent2].[Transaction_Type] AS [Transaction_Type], 
        [Extent2].[Execution_AllIn_Price] AS [Execution_AllIn_Price], 
        [Extent3].[Ticker] AS [Ticker], 
        1 AS [C1], 
        cast(1 as bit) AS [C2]
        FROM   [dbo].[Order_Allocation] AS [Extent1]
        INNER JOIN [dbo].[Order_Detail] AS [Extent2] ON [Extent1].[Order_ID] = [Extent2].[Order_ID]
        INNER JOIN [dbo].[Security_Detail] AS [Extent3] ON [Extent2].[Security_ID] = [Extent3].[Security_ID]
        WHERE [Extent1].[Entity_ID] = @p__linq__0
    )  AS [Project1]
    ORDER BY [Project1].[Trade_Date] DESC, [Project1].[Entity_ID] ASC, [Project1].[Portfolio_Code] ASC
2018-06-05 20:15:25.9236|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: IF db_id(N'MetopeAzureDb') IS NOT NULL SELECT 1 ELSE SELECT Count(*) FROM sys.databases WHERE [name]=N'MetopeAzureDb'
2018-06-05 20:15:26.0397|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: IF db_id(N'MetopeAzureDb') IS NOT NULL SELECT 1 ELSE SELECT Count(*) FROM sys.databases WHERE [name]=N'MetopeAzureDb'
2018-06-05 20:15:26.1368|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: IF db_id(N'MetopeAzureDb') IS NOT NULL SELECT 1 ELSE SELECT Count(*) FROM sys.databases WHERE [name]=N'MetopeAzureDb'
2018-06-05 20:15:26.1628|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: IF db_id(N'MetopeAzureDb') IS NOT NULL SELECT 1 ELSE SELECT Count(*) FROM sys.databases WHERE [name]=N'MetopeAzureDb'
2018-06-05 20:19:00.0273|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: IF db_id(N'MetopeAzureDb') IS NOT NULL SELECT 1 ELSE SELECT Count(*) FROM sys.databases WHERE [name]=N'MetopeAzureDb'
2018-06-05 20:19:00.1704|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: IF db_id(N'MetopeAzureDb') IS NOT NULL SELECT 1 ELSE SELECT Count(*) FROM sys.databases WHERE [name]=N'MetopeAzureDb'
2018-06-05 20:19:00.5113|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: IF db_id(N'MetopeAzureDb') IS NOT NULL SELECT 1 ELSE SELECT Count(*) FROM sys.databases WHERE [name]=N'MetopeAzureDb'
2018-06-05 20:19:00.6093|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: IF db_id(N'MetopeAzureDb') IS NOT NULL SELECT 1 ELSE SELECT Count(*) FROM sys.databases WHERE [name]=N'MetopeAzureDb'
2018-06-05 20:19:00.7990|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: IF db_id(N'MetopeAzureDb') IS NOT NULL SELECT 1 ELSE SELECT Count(*) FROM sys.databases WHERE [name]=N'MetopeAzureDb'
2018-06-05 20:19:00.8425|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: IF db_id(N'MetopeAzureDb') IS NOT NULL SELECT 1 ELSE SELECT Count(*) FROM sys.databases WHERE [name]=N'MetopeAzureDb'
2018-06-05 20:19:26.0567|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: IF db_id(N'MetopeAzureDb') IS NOT NULL SELECT 1 ELSE SELECT Count(*) FROM sys.databases WHERE [name]=N'MetopeAzureDb'
2018-06-05 20:19:26.2144|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: IF db_id(N'MetopeAzureDb') IS NOT NULL SELECT 1 ELSE SELECT Count(*) FROM sys.databases WHERE [name]=N'MetopeAzureDb'
2018-06-05 20:19:26.6022|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: True, Command Text: SELECT TOP (1) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[EntityIdScope] AS [EntityIdScope], 
    [Extent1].[Email] AS [Email], 
    [Extent1].[EmailConfirmed] AS [EmailConfirmed], 
    [Extent1].[PasswordHash] AS [PasswordHash], 
    [Extent1].[SecurityStamp] AS [SecurityStamp], 
    [Extent1].[PhoneNumber] AS [PhoneNumber], 
    [Extent1].[PhoneNumberConfirmed] AS [PhoneNumberConfirmed], 
    [Extent1].[TwoFactorEnabled] AS [TwoFactorEnabled], 
    [Extent1].[LockoutEndDateUtc] AS [LockoutEndDateUtc], 
    [Extent1].[LockoutEnabled] AS [LockoutEnabled], 
    [Extent1].[AccessFailedCount] AS [AccessFailedCount], 
    [Extent1].[UserName] AS [UserName]
    FROM [dbo].[AspNetUsers] AS [Extent1]
    WHERE ((UPPER([Extent1].[UserName])) = (UPPER(@p__linq__0))) OR ((UPPER([Extent1].[UserName]) IS NULL) AND (UPPER(@p__linq__0) IS NULL))
2018-06-05 20:19:26.6822|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: True, Command Text: SELECT TOP (1) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[EntityIdScope] AS [EntityIdScope], 
    [Extent1].[Email] AS [Email], 
    [Extent1].[EmailConfirmed] AS [EmailConfirmed], 
    [Extent1].[PasswordHash] AS [PasswordHash], 
    [Extent1].[SecurityStamp] AS [SecurityStamp], 
    [Extent1].[PhoneNumber] AS [PhoneNumber], 
    [Extent1].[PhoneNumberConfirmed] AS [PhoneNumberConfirmed], 
    [Extent1].[TwoFactorEnabled] AS [TwoFactorEnabled], 
    [Extent1].[LockoutEndDateUtc] AS [LockoutEndDateUtc], 
    [Extent1].[LockoutEnabled] AS [LockoutEnabled], 
    [Extent1].[AccessFailedCount] AS [AccessFailedCount], 
    [Extent1].[UserName] AS [UserName]
    FROM [dbo].[AspNetUsers] AS [Extent1]
    WHERE ((UPPER([Extent1].[UserName])) = (UPPER(@p__linq__0))) OR ((UPPER([Extent1].[UserName]) IS NULL) AND (UPPER(@p__linq__0) IS NULL))
2018-06-05 20:19:26.7233|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: True, Command Text: SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[UserId] AS [UserId], 
    [Extent1].[ClaimType] AS [ClaimType], 
    [Extent1].[ClaimValue] AS [ClaimValue]
    FROM [dbo].[AspNetUserClaims] AS [Extent1]
    WHERE [Extent1].[UserId] = @p__linq__0
2018-06-05 20:19:26.7993|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: True, Command Text: SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[UserId] AS [UserId], 
    [Extent1].[ClaimType] AS [ClaimType], 
    [Extent1].[ClaimValue] AS [ClaimValue]
    FROM [dbo].[AspNetUserClaims] AS [Extent1]
    WHERE [Extent1].[UserId] = @p__linq__0
2018-06-05 20:19:26.8604|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: True, Command Text: SELECT 
    [Extent1].[LoginProvider] AS [LoginProvider], 
    [Extent1].[ProviderKey] AS [ProviderKey], 
    [Extent1].[UserId] AS [UserId]
    FROM [dbo].[AspNetUserLogins] AS [Extent1]
    WHERE [Extent1].[UserId] = @p__linq__0
2018-06-05 20:19:27.0110|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: True, Command Text: SELECT 
    [Extent1].[LoginProvider] AS [LoginProvider], 
    [Extent1].[ProviderKey] AS [ProviderKey], 
    [Extent1].[UserId] AS [UserId]
    FROM [dbo].[AspNetUserLogins] AS [Extent1]
    WHERE [Extent1].[UserId] = @p__linq__0
2018-06-05 20:19:27.0690|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: True, Command Text: SELECT 
    [Extent1].[UserId] AS [UserId], 
    [Extent1].[RoleId] AS [RoleId]
    FROM [dbo].[AspNetUserRoles] AS [Extent1]
    WHERE [Extent1].[UserId] = @p__linq__0
2018-06-05 20:19:27.2041|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: True, Command Text: SELECT 
    [Extent1].[UserId] AS [UserId], 
    [Extent1].[RoleId] AS [RoleId]
    FROM [dbo].[AspNetUserRoles] AS [Extent1]
    WHERE [Extent1].[UserId] = @p__linq__0
2018-06-05 20:19:27.7980|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: True, Command Text: SELECT 
    [Extent2].[Name] AS [Name]
    FROM  [dbo].[AspNetUserRoles] AS [Extent1]
    INNER JOIN [dbo].[AspNetRoles] AS [Extent2] ON [Extent1].[RoleId] = [Extent2].[Id]
    WHERE [Extent1].[UserId] = @p__linq__0
2018-06-05 20:19:27.8696|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: True, Command Text: SELECT 
    [Extent2].[Name] AS [Name]
    FROM  [dbo].[AspNetUserRoles] AS [Extent1]
    INNER JOIN [dbo].[AspNetRoles] AS [Extent2] ON [Extent1].[RoleId] = [Extent2].[Id]
    WHERE [Extent1].[UserId] = @p__linq__0
2018-06-05 20:19:28.1843|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: IF db_id(N'MetopeAzureDb') IS NOT NULL SELECT 1 ELSE SELECT Count(*) FROM sys.databases WHERE [name]=N'MetopeAzureDb'
2018-06-05 20:19:28.2614|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: IF db_id(N'MetopeAzureDb') IS NOT NULL SELECT 1 ELSE SELECT Count(*) FROM sys.databases WHERE [name]=N'MetopeAzureDb'
2018-06-05 20:19:28.3149|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: IF db_id(N'MetopeAzureDb') IS NOT NULL SELECT 1 ELSE SELECT Count(*) FROM sys.databases WHERE [name]=N'MetopeAzureDb'
2018-06-05 20:19:28.3559|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: IF db_id(N'MetopeAzureDb') IS NOT NULL SELECT 1 ELSE SELECT Count(*) FROM sys.databases WHERE [name]=N'MetopeAzureDb'
2018-06-05 20:19:28.4160|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: True, Command Text: SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[EntityIdScope] AS [EntityIdScope], 
    [Extent1].[Email] AS [Email], 
    [Extent1].[EmailConfirmed] AS [EmailConfirmed], 
    [Extent1].[PasswordHash] AS [PasswordHash], 
    [Extent1].[SecurityStamp] AS [SecurityStamp], 
    [Extent1].[PhoneNumber] AS [PhoneNumber], 
    [Extent1].[PhoneNumberConfirmed] AS [PhoneNumberConfirmed], 
    [Extent1].[TwoFactorEnabled] AS [TwoFactorEnabled], 
    [Extent1].[LockoutEndDateUtc] AS [LockoutEndDateUtc], 
    [Extent1].[LockoutEnabled] AS [LockoutEnabled], 
    [Extent1].[AccessFailedCount] AS [AccessFailedCount], 
    [Extent1].[UserName] AS [UserName]
    FROM [dbo].[AspNetUsers] AS [Extent1]
    WHERE [Extent1].[Id] = @p0
2018-06-05 20:19:28.4685|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: True, Command Text: SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[EntityIdScope] AS [EntityIdScope], 
    [Extent1].[Email] AS [Email], 
    [Extent1].[EmailConfirmed] AS [EmailConfirmed], 
    [Extent1].[PasswordHash] AS [PasswordHash], 
    [Extent1].[SecurityStamp] AS [SecurityStamp], 
    [Extent1].[PhoneNumber] AS [PhoneNumber], 
    [Extent1].[PhoneNumberConfirmed] AS [PhoneNumberConfirmed], 
    [Extent1].[TwoFactorEnabled] AS [TwoFactorEnabled], 
    [Extent1].[LockoutEndDateUtc] AS [LockoutEndDateUtc], 
    [Extent1].[LockoutEnabled] AS [LockoutEnabled], 
    [Extent1].[AccessFailedCount] AS [AccessFailedCount], 
    [Extent1].[UserName] AS [UserName]
    FROM [dbo].[AspNetUsers] AS [Extent1]
    WHERE [Extent1].[Id] = @p0
2018-06-05 20:19:28.5120|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: True, Command Text: SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[UserId] AS [UserId], 
    [Extent1].[ClaimType] AS [ClaimType], 
    [Extent1].[ClaimValue] AS [ClaimValue]
    FROM [dbo].[AspNetUserClaims] AS [Extent1]
    WHERE [Extent1].[UserId] = @p__linq__0
2018-06-05 20:19:28.5861|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: True, Command Text: SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[UserId] AS [UserId], 
    [Extent1].[ClaimType] AS [ClaimType], 
    [Extent1].[ClaimValue] AS [ClaimValue]
    FROM [dbo].[AspNetUserClaims] AS [Extent1]
    WHERE [Extent1].[UserId] = @p__linq__0
2018-06-05 20:19:28.6426|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: True, Command Text: SELECT 
    [Extent1].[LoginProvider] AS [LoginProvider], 
    [Extent1].[ProviderKey] AS [ProviderKey], 
    [Extent1].[UserId] AS [UserId]
    FROM [dbo].[AspNetUserLogins] AS [Extent1]
    WHERE [Extent1].[UserId] = @p__linq__0
2018-06-05 20:19:28.7507|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: True, Command Text: SELECT 
    [Extent1].[LoginProvider] AS [LoginProvider], 
    [Extent1].[ProviderKey] AS [ProviderKey], 
    [Extent1].[UserId] AS [UserId]
    FROM [dbo].[AspNetUserLogins] AS [Extent1]
    WHERE [Extent1].[UserId] = @p__linq__0
2018-06-05 20:19:28.7902|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: True, Command Text: SELECT 
    [Extent1].[UserId] AS [UserId], 
    [Extent1].[RoleId] AS [RoleId]
    FROM [dbo].[AspNetUserRoles] AS [Extent1]
    WHERE [Extent1].[UserId] = @p__linq__0
2018-06-05 20:19:28.8843|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: True, Command Text: SELECT 
    [Extent1].[UserId] AS [UserId], 
    [Extent1].[RoleId] AS [RoleId]
    FROM [dbo].[AspNetUserRoles] AS [Extent1]
    WHERE [Extent1].[UserId] = @p__linq__0
2018-06-05 20:19:28.9188|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: True, Command Text: SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[EntityIdScope] AS [EntityIdScope], 
    [Extent1].[Email] AS [Email], 
    [Extent1].[EmailConfirmed] AS [EmailConfirmed], 
    [Extent1].[PasswordHash] AS [PasswordHash], 
    [Extent1].[SecurityStamp] AS [SecurityStamp], 
    [Extent1].[PhoneNumber] AS [PhoneNumber], 
    [Extent1].[PhoneNumberConfirmed] AS [PhoneNumberConfirmed], 
    [Extent1].[TwoFactorEnabled] AS [TwoFactorEnabled], 
    [Extent1].[LockoutEndDateUtc] AS [LockoutEndDateUtc], 
    [Extent1].[LockoutEnabled] AS [LockoutEnabled], 
    [Extent1].[AccessFailedCount] AS [AccessFailedCount], 
    [Extent1].[UserName] AS [UserName]
    FROM [dbo].[AspNetUsers] AS [Extent1]
    WHERE [Extent1].[Id] = @p0
2018-06-05 20:19:28.9709|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: True, Command Text: SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[EntityIdScope] AS [EntityIdScope], 
    [Extent1].[Email] AS [Email], 
    [Extent1].[EmailConfirmed] AS [EmailConfirmed], 
    [Extent1].[PasswordHash] AS [PasswordHash], 
    [Extent1].[SecurityStamp] AS [SecurityStamp], 
    [Extent1].[PhoneNumber] AS [PhoneNumber], 
    [Extent1].[PhoneNumberConfirmed] AS [PhoneNumberConfirmed], 
    [Extent1].[TwoFactorEnabled] AS [TwoFactorEnabled], 
    [Extent1].[LockoutEndDateUtc] AS [LockoutEndDateUtc], 
    [Extent1].[LockoutEnabled] AS [LockoutEnabled], 
    [Extent1].[AccessFailedCount] AS [AccessFailedCount], 
    [Extent1].[UserName] AS [UserName]
    FROM [dbo].[AspNetUsers] AS [Extent1]
    WHERE [Extent1].[Id] = @p0
2018-06-05 20:19:29.0329|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: True, Command Text: SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[UserId] AS [UserId], 
    [Extent1].[ClaimType] AS [ClaimType], 
    [Extent1].[ClaimValue] AS [ClaimValue]
    FROM [dbo].[AspNetUserClaims] AS [Extent1]
    WHERE [Extent1].[UserId] = @p__linq__0
2018-06-05 20:19:29.1085|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: True, Command Text: SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[UserId] AS [UserId], 
    [Extent1].[ClaimType] AS [ClaimType], 
    [Extent1].[ClaimValue] AS [ClaimValue]
    FROM [dbo].[AspNetUserClaims] AS [Extent1]
    WHERE [Extent1].[UserId] = @p__linq__0
2018-06-05 20:19:29.1545|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: True, Command Text: SELECT 
    [Extent1].[LoginProvider] AS [LoginProvider], 
    [Extent1].[ProviderKey] AS [ProviderKey], 
    [Extent1].[UserId] AS [UserId]
    FROM [dbo].[AspNetUserLogins] AS [Extent1]
    WHERE [Extent1].[UserId] = @p__linq__0
2018-06-05 20:19:29.2401|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: True, Command Text: SELECT 
    [Extent1].[LoginProvider] AS [LoginProvider], 
    [Extent1].[ProviderKey] AS [ProviderKey], 
    [Extent1].[UserId] AS [UserId]
    FROM [dbo].[AspNetUserLogins] AS [Extent1]
    WHERE [Extent1].[UserId] = @p__linq__0
2018-06-05 20:19:29.2826|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: True, Command Text: SELECT 
    [Extent1].[UserId] AS [UserId], 
    [Extent1].[RoleId] AS [RoleId]
    FROM [dbo].[AspNetUserRoles] AS [Extent1]
    WHERE [Extent1].[UserId] = @p__linq__0
2018-06-05 20:19:29.3551|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: True, Command Text: SELECT 
    [Extent1].[UserId] AS [UserId], 
    [Extent1].[RoleId] AS [RoleId]
    FROM [dbo].[AspNetUserRoles] AS [Extent1]
    WHERE [Extent1].[UserId] = @p__linq__0
2018-06-05 20:19:29.3992|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: SELECT TOP (2) 
    [Extent1].[Entity_ID] AS [Entity_ID], 
    [Extent1].[Entity_Code] AS [Entity_Code], 
    [Extent1].[Entity_Name] AS [Entity_Name], 
    [Extent1].[Import_Folder] AS [Import_Folder], 
    [Extent1].[Export_Folder] AS [Export_Folder]
    FROM [dbo].[Entity] AS [Extent1]
    WHERE [Extent1].[Entity_ID] = @p0
2018-06-05 20:19:29.4422|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: SELECT TOP (2) 
    [Extent1].[Entity_ID] AS [Entity_ID], 
    [Extent1].[Entity_Code] AS [Entity_Code], 
    [Extent1].[Entity_Name] AS [Entity_Name], 
    [Extent1].[Import_Folder] AS [Import_Folder], 
    [Extent1].[Export_Folder] AS [Export_Folder]
    FROM [dbo].[Entity] AS [Extent1]
    WHERE [Extent1].[Entity_ID] = @p0
2018-06-05 20:19:35.4988|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: IF db_id(N'MetopeAzureDb') IS NOT NULL SELECT 1 ELSE SELECT Count(*) FROM sys.databases WHERE [name]=N'MetopeAzureDb'
2018-06-05 20:19:35.5708|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: IF db_id(N'MetopeAzureDb') IS NOT NULL SELECT 1 ELSE SELECT Count(*) FROM sys.databases WHERE [name]=N'MetopeAzureDb'
2018-06-05 20:19:35.6744|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: IF db_id(N'MetopeAzureDb') IS NOT NULL SELECT 1 ELSE SELECT Count(*) FROM sys.databases WHERE [name]=N'MetopeAzureDb'
2018-06-05 20:19:35.7139|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: IF db_id(N'MetopeAzureDb') IS NOT NULL SELECT 1 ELSE SELECT Count(*) FROM sys.databases WHERE [name]=N'MetopeAzureDb'
2018-06-05 20:19:45.1311|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: SELECT TOP (500) 
    [Project1].[C1] AS [C1], 
    [Project1].[C2] AS [C2], 
    [Project1].[Entity_ID] AS [Entity_ID], 
    [Project1].[Allocation_ID] AS [Allocation_ID], 
    [Project1].[Ticker] AS [Ticker], 
    [Project1].[Transaction_Type] AS [Transaction_Type], 
    [Project1].[Trade_Date] AS [Trade_Date], 
    [Project1].[Execution_AllIn_Price] AS [Execution_AllIn_Price], 
    [Project1].[Portfolio_Code] AS [Portfolio_Code], 
    [Project1].[Execution_Quantity] AS [Execution_Quantity], 
    [Project1].[Execution_Net_Amount_TradeCur] AS [Execution_Net_Amount_TradeCur]
    FROM ( SELECT 
        [Extent1].[Allocation_ID] AS [Allocation_ID], 
        [Extent1].[Entity_ID] AS [Entity_ID], 
        [Extent1].[Portfolio_Code] AS [Portfolio_Code], 
        [Extent1].[Execution_Quantity] AS [Execution_Quantity], 
        [Extent1].[Execution_Net_Amount_TradeCur] AS [Execution_Net_Amount_TradeCur], 
        [Extent2].[Trade_Date] AS [Trade_Date], 
        [Extent2].[Transaction_Type] AS [Transaction_Type], 
        [Extent2].[Execution_AllIn_Price] AS [Execution_AllIn_Price], 
        [Extent3].[Ticker] AS [Ticker], 
        1 AS [C1], 
        cast(1 as bit) AS [C2]
        FROM   [dbo].[Order_Allocation] AS [Extent1]
        INNER JOIN [dbo].[Order_Detail] AS [Extent2] ON [Extent1].[Order_ID] = [Extent2].[Order_ID]
        INNER JOIN [dbo].[Security_Detail] AS [Extent3] ON [Extent2].[Security_ID] = [Extent3].[Security_ID]
        WHERE [Extent1].[Entity_ID] = @p__linq__0
    )  AS [Project1]
    ORDER BY [Project1].[Trade_Date] DESC, [Project1].[Entity_ID] ASC, [Project1].[Portfolio_Code] ASC
2018-06-05 20:19:45.2272|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: SELECT TOP (500) 
    [Project1].[C1] AS [C1], 
    [Project1].[C2] AS [C2], 
    [Project1].[Entity_ID] AS [Entity_ID], 
    [Project1].[Allocation_ID] AS [Allocation_ID], 
    [Project1].[Ticker] AS [Ticker], 
    [Project1].[Transaction_Type] AS [Transaction_Type], 
    [Project1].[Trade_Date] AS [Trade_Date], 
    [Project1].[Execution_AllIn_Price] AS [Execution_AllIn_Price], 
    [Project1].[Portfolio_Code] AS [Portfolio_Code], 
    [Project1].[Execution_Quantity] AS [Execution_Quantity], 
    [Project1].[Execution_Net_Amount_TradeCur] AS [Execution_Net_Amount_TradeCur]
    FROM ( SELECT 
        [Extent1].[Allocation_ID] AS [Allocation_ID], 
        [Extent1].[Entity_ID] AS [Entity_ID], 
        [Extent1].[Portfolio_Code] AS [Portfolio_Code], 
        [Extent1].[Execution_Quantity] AS [Execution_Quantity], 
        [Extent1].[Execution_Net_Amount_TradeCur] AS [Execution_Net_Amount_TradeCur], 
        [Extent2].[Trade_Date] AS [Trade_Date], 
        [Extent2].[Transaction_Type] AS [Transaction_Type], 
        [Extent2].[Execution_AllIn_Price] AS [Execution_AllIn_Price], 
        [Extent3].[Ticker] AS [Ticker], 
        1 AS [C1], 
        cast(1 as bit) AS [C2]
        FROM   [dbo].[Order_Allocation] AS [Extent1]
        INNER JOIN [dbo].[Order_Detail] AS [Extent2] ON [Extent1].[Order_ID] = [Extent2].[Order_ID]
        INNER JOIN [dbo].[Security_Detail] AS [Extent3] ON [Extent2].[Security_ID] = [Extent3].[Security_ID]
        WHERE [Extent1].[Entity_ID] = @p__linq__0
    )  AS [Project1]
    ORDER BY [Project1].[Trade_Date] DESC, [Project1].[Entity_ID] ASC, [Project1].[Portfolio_Code] ASC
2018-06-05 20:19:50.3153|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: IF db_id(N'MetopeAzureDb') IS NOT NULL SELECT 1 ELSE SELECT Count(*) FROM sys.databases WHERE [name]=N'MetopeAzureDb'
2018-06-05 20:19:50.3683|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: IF db_id(N'MetopeAzureDb') IS NOT NULL SELECT 1 ELSE SELECT Count(*) FROM sys.databases WHERE [name]=N'MetopeAzureDb'
2018-06-05 20:19:50.4224|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: IF db_id(N'MetopeAzureDb') IS NOT NULL SELECT 1 ELSE SELECT Count(*) FROM sys.databases WHERE [name]=N'MetopeAzureDb'
2018-06-05 20:19:50.4544|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: IF db_id(N'MetopeAzureDb') IS NOT NULL SELECT 1 ELSE SELECT Count(*) FROM sys.databases WHERE [name]=N'MetopeAzureDb'
2018-06-05 20:20:02.8789|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: SELECT 
    [Extent1].[Allocation_ID] AS [Allocation_ID], 
    [Extent1].[Entity_ID] AS [Entity_ID], 
    [Extent1].[Order_ID] AS [Order_ID], 
    [Extent1].[Portfolio_Code] AS [Portfolio_Code], 
    [Extent1].[Target_Quantity] AS [Target_Quantity], 
    [Extent1].[Target_Clean_Amount_TradeCur] AS [Target_Clean_Amount_TradeCur], 
    [Extent1].[Target_Income_Amount_TradeCur] AS [Target_Income_Amount_TradeCur], 
    [Extent1].[Target_AllIn_Amount_TradeCur] AS [Target_AllIn_Amount_TradeCur], 
    [Extent1].[Target_Clean_Amount_BaseCur] AS [Target_Clean_Amount_BaseCur], 
    [Extent1].[Target_Income_Amount_BaseCur] AS [Target_Income_Amount_BaseCur], 
    [Extent1].[Target_AllIn_Amount_BaseCur] AS [Target_AllIn_Amount_BaseCur], 
    [Extent1].[Execution_Quantity] AS [Execution_Quantity], 
    [Extent1].[Place_Quantity] AS [Place_Quantity], 
    [Extent1].[Execution_Clean_Amount_TradeCur] AS [Execution_Clean_Amount_TradeCur], 
    [Extent1].[Execution_Income_Amount_TradeCur] AS [Execution_Income_Amount_TradeCur], 
    [Extent1].[Execution_AllIn_Amount_TradeCur] AS [Execution_AllIn_Amount_TradeCur], 
    [Extent1].[Execution_Clean_Amount_BaseCur] AS [Execution_Clean_Amount_BaseCur], 
    [Extent1].[Execution_Income_Amount_BaseCur] AS [Execution_Income_Amount_BaseCur], 
    [Extent1].[Execution_AllIn_Amount_BaseCur] AS [Execution_AllIn_Amount_BaseCur], 
    [Extent1].[Commission_Rate] AS [Commission_Rate], 
    [Extent1].[Commission_Type] AS [Commission_Type], 
    [Extent1].[Commission_Amount_TradeCur] AS [Commission_Amount_TradeCur], 
    [Extent1].[Commission_Amount_BaseCur] AS [Commission_Amount_BaseCur], 
    [Extent1].[Execution_Gross_Amount_TradeCur] AS [Execution_Gross_Amount_TradeCur], 
    [Extent1].[Execution_Gross_Amount_BaseCur] AS [Execution_Gross_Amount_BaseCur], 
    [Extent1].[Execution_Net_Amount_TradeCur] AS [Execution_Net_Amount_TradeCur], 
    [Extent1].[Execution_Net_Amount_BaseCur] AS [Execution_Net_Amount_BaseCur], 
    [Extent1].[Buy_Currency_Target_Amount_TradeCur] AS [Buy_Currency_Target_Amount_TradeCur], 
    [Extent1].[Sell_Currency_Target_Amount_TradeCur] AS [Sell_Currency_Target_Amount_TradeCur], 
    [Extent1].[Buy_Currency_Target_Amount_BaseCur] AS [Buy_Currency_Target_Amount_BaseCur], 
    [Extent1].[Sell_Currency_Target_Amount_BaseCur] AS [Sell_Currency_Target_Amount_BaseCur], 
    [Extent1].[Buy_Currency_Execution_Amount_TradeCur] AS [Buy_Currency_Execution_Amount_TradeCur], 
    [Extent1].[Sell_Currency_Execution_Amount_TradeCur] AS [Sell_Currency_Execution_Amount_TradeCur], 
    [Extent1].[Buy_Currency_Execution_Amount_BaseCur] AS [Buy_Currency_Execution_Amount_BaseCur], 
    [Extent1].[Sell_Currency_Execution_Amount_BaseCur] AS [Sell_Currency_Execution_Amount_BaseCur], 
    [Extent1].[Fee_Amount1_TradeCur] AS [Fee_Amount1_TradeCur], 
    [Extent1].[Fee_Amount2_TradeCur] AS [Fee_Amount2_TradeCur], 
    [Extent1].[Fee_Amount3_TradeCur] AS [Fee_Amount3_TradeCur], 
    [Extent1].[Fee_Amount4_TradeCur] AS [Fee_Amount4_TradeCur], 
    [Extent1].[Fee_Amount5_TradeCur] AS [Fee_Amount5_TradeCur], 
    [Extent1].[Fee_Amount6_TradeCur] AS [Fee_Amount6_TradeCur], 
    [Extent1].[Tax_Amount_TradeCur] AS [Tax_Amount_TradeCur], 
    [Extent1].[Fee_Amount1_BaseCur] AS [Fee_Amount1_BaseCur], 
    [Extent1].[Fee_Amount2_BaseCur] AS [Fee_Amount2_BaseCur], 
    [Extent1].[Fee_Amount3_BaseCur] AS [Fee_Amount3_BaseCur], 
    [Extent1].[Fee_Amount4_BaseCur] AS [Fee_Amount4_BaseCur], 
    [Extent1].[Fee_Amount5_BaseCur] AS [Fee_Amount5_BaseCur], 
    [Extent1].[Fee_Amount6_BaseCur] AS [Fee_Amount6_BaseCur], 
    [Extent1].[Tax_Amount_BaseCur] AS [Tax_Amount_BaseCur], 
    [Extent1].[Trade_Base_FX_Rate] AS [Trade_Base_FX_Rate], 
    [Extent1].[Export_Reference] AS [Export_Reference], 
    [Extent1].[Export_Status] AS [Export_Status], 
    [Extent1].[Allocation_Ack_Nack_Status] AS [Allocation_Ack_Nack_Status], 
    [Extent1].[Operations_Status] AS [Operations_Status], 
    [Extent1].[Last_Update_Date] AS [Last_Update_Date], 
    [Extent1].[Last_Update_User] AS [Last_Update_User]
    FROM [dbo].[Order_Allocation] AS [Extent1]
    WHERE [Extent1].[Allocation_ID] IN (cast(43 as decimal(18)))
2018-06-05 20:20:02.9379|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: SELECT 
    [Extent1].[Allocation_ID] AS [Allocation_ID], 
    [Extent1].[Entity_ID] AS [Entity_ID], 
    [Extent1].[Order_ID] AS [Order_ID], 
    [Extent1].[Portfolio_Code] AS [Portfolio_Code], 
    [Extent1].[Target_Quantity] AS [Target_Quantity], 
    [Extent1].[Target_Clean_Amount_TradeCur] AS [Target_Clean_Amount_TradeCur], 
    [Extent1].[Target_Income_Amount_TradeCur] AS [Target_Income_Amount_TradeCur], 
    [Extent1].[Target_AllIn_Amount_TradeCur] AS [Target_AllIn_Amount_TradeCur], 
    [Extent1].[Target_Clean_Amount_BaseCur] AS [Target_Clean_Amount_BaseCur], 
    [Extent1].[Target_Income_Amount_BaseCur] AS [Target_Income_Amount_BaseCur], 
    [Extent1].[Target_AllIn_Amount_BaseCur] AS [Target_AllIn_Amount_BaseCur], 
    [Extent1].[Execution_Quantity] AS [Execution_Quantity], 
    [Extent1].[Place_Quantity] AS [Place_Quantity], 
    [Extent1].[Execution_Clean_Amount_TradeCur] AS [Execution_Clean_Amount_TradeCur], 
    [Extent1].[Execution_Income_Amount_TradeCur] AS [Execution_Income_Amount_TradeCur], 
    [Extent1].[Execution_AllIn_Amount_TradeCur] AS [Execution_AllIn_Amount_TradeCur], 
    [Extent1].[Execution_Clean_Amount_BaseCur] AS [Execution_Clean_Amount_BaseCur], 
    [Extent1].[Execution_Income_Amount_BaseCur] AS [Execution_Income_Amount_BaseCur], 
    [Extent1].[Execution_AllIn_Amount_BaseCur] AS [Execution_AllIn_Amount_BaseCur], 
    [Extent1].[Commission_Rate] AS [Commission_Rate], 
    [Extent1].[Commission_Type] AS [Commission_Type], 
    [Extent1].[Commission_Amount_TradeCur] AS [Commission_Amount_TradeCur], 
    [Extent1].[Commission_Amount_BaseCur] AS [Commission_Amount_BaseCur], 
    [Extent1].[Execution_Gross_Amount_TradeCur] AS [Execution_Gross_Amount_TradeCur], 
    [Extent1].[Execution_Gross_Amount_BaseCur] AS [Execution_Gross_Amount_BaseCur], 
    [Extent1].[Execution_Net_Amount_TradeCur] AS [Execution_Net_Amount_TradeCur], 
    [Extent1].[Execution_Net_Amount_BaseCur] AS [Execution_Net_Amount_BaseCur], 
    [Extent1].[Buy_Currency_Target_Amount_TradeCur] AS [Buy_Currency_Target_Amount_TradeCur], 
    [Extent1].[Sell_Currency_Target_Amount_TradeCur] AS [Sell_Currency_Target_Amount_TradeCur], 
    [Extent1].[Buy_Currency_Target_Amount_BaseCur] AS [Buy_Currency_Target_Amount_BaseCur], 
    [Extent1].[Sell_Currency_Target_Amount_BaseCur] AS [Sell_Currency_Target_Amount_BaseCur], 
    [Extent1].[Buy_Currency_Execution_Amount_TradeCur] AS [Buy_Currency_Execution_Amount_TradeCur], 
    [Extent1].[Sell_Currency_Execution_Amount_TradeCur] AS [Sell_Currency_Execution_Amount_TradeCur], 
    [Extent1].[Buy_Currency_Execution_Amount_BaseCur] AS [Buy_Currency_Execution_Amount_BaseCur], 
    [Extent1].[Sell_Currency_Execution_Amount_BaseCur] AS [Sell_Currency_Execution_Amount_BaseCur], 
    [Extent1].[Fee_Amount1_TradeCur] AS [Fee_Amount1_TradeCur], 
    [Extent1].[Fee_Amount2_TradeCur] AS [Fee_Amount2_TradeCur], 
    [Extent1].[Fee_Amount3_TradeCur] AS [Fee_Amount3_TradeCur], 
    [Extent1].[Fee_Amount4_TradeCur] AS [Fee_Amount4_TradeCur], 
    [Extent1].[Fee_Amount5_TradeCur] AS [Fee_Amount5_TradeCur], 
    [Extent1].[Fee_Amount6_TradeCur] AS [Fee_Amount6_TradeCur], 
    [Extent1].[Tax_Amount_TradeCur] AS [Tax_Amount_TradeCur], 
    [Extent1].[Fee_Amount1_BaseCur] AS [Fee_Amount1_BaseCur], 
    [Extent1].[Fee_Amount2_BaseCur] AS [Fee_Amount2_BaseCur], 
    [Extent1].[Fee_Amount3_BaseCur] AS [Fee_Amount3_BaseCur], 
    [Extent1].[Fee_Amount4_BaseCur] AS [Fee_Amount4_BaseCur], 
    [Extent1].[Fee_Amount5_BaseCur] AS [Fee_Amount5_BaseCur], 
    [Extent1].[Fee_Amount6_BaseCur] AS [Fee_Amount6_BaseCur], 
    [Extent1].[Tax_Amount_BaseCur] AS [Tax_Amount_BaseCur], 
    [Extent1].[Trade_Base_FX_Rate] AS [Trade_Base_FX_Rate], 
    [Extent1].[Export_Reference] AS [Export_Reference], 
    [Extent1].[Export_Status] AS [Export_Status], 
    [Extent1].[Allocation_Ack_Nack_Status] AS [Allocation_Ack_Nack_Status], 
    [Extent1].[Operations_Status] AS [Operations_Status], 
    [Extent1].[Last_Update_Date] AS [Last_Update_Date], 
    [Extent1].[Last_Update_User] AS [Last_Update_User]
    FROM [dbo].[Order_Allocation] AS [Extent1]
    WHERE [Extent1].[Allocation_ID] IN (cast(43 as decimal(18)))
2018-06-05 20:20:02.9860|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: DELETE [dbo].[Order_Allocation]
WHERE ([Allocation_ID] = @0)
2018-06-05 20:20:03.1171|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: DELETE [dbo].[Order_Allocation]
WHERE ([Allocation_ID] = @0)
2018-06-05 20:20:03.3818|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: SELECT TOP (500) 
    [Project1].[C1] AS [C1], 
    [Project1].[C2] AS [C2], 
    [Project1].[Entity_ID] AS [Entity_ID], 
    [Project1].[Allocation_ID] AS [Allocation_ID], 
    [Project1].[Ticker] AS [Ticker], 
    [Project1].[Transaction_Type] AS [Transaction_Type], 
    [Project1].[Trade_Date] AS [Trade_Date], 
    [Project1].[Execution_AllIn_Price] AS [Execution_AllIn_Price], 
    [Project1].[Portfolio_Code] AS [Portfolio_Code], 
    [Project1].[Execution_Quantity] AS [Execution_Quantity], 
    [Project1].[Execution_Net_Amount_TradeCur] AS [Execution_Net_Amount_TradeCur]
    FROM ( SELECT 
        [Extent1].[Allocation_ID] AS [Allocation_ID], 
        [Extent1].[Entity_ID] AS [Entity_ID], 
        [Extent1].[Portfolio_Code] AS [Portfolio_Code], 
        [Extent1].[Execution_Quantity] AS [Execution_Quantity], 
        [Extent1].[Execution_Net_Amount_TradeCur] AS [Execution_Net_Amount_TradeCur], 
        [Extent2].[Trade_Date] AS [Trade_Date], 
        [Extent2].[Transaction_Type] AS [Transaction_Type], 
        [Extent2].[Execution_AllIn_Price] AS [Execution_AllIn_Price], 
        [Extent3].[Ticker] AS [Ticker], 
        1 AS [C1], 
        cast(1 as bit) AS [C2]
        FROM   [dbo].[Order_Allocation] AS [Extent1]
        INNER JOIN [dbo].[Order_Detail] AS [Extent2] ON [Extent1].[Order_ID] = [Extent2].[Order_ID]
        INNER JOIN [dbo].[Security_Detail] AS [Extent3] ON [Extent2].[Security_ID] = [Extent3].[Security_ID]
        WHERE [Extent1].[Entity_ID] = @p__linq__0
    )  AS [Project1]
    ORDER BY [Project1].[Trade_Date] DESC, [Project1].[Entity_ID] ASC, [Project1].[Portfolio_Code] ASC
2018-06-05 20:20:03.4309|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: SELECT TOP (500) 
    [Project1].[C1] AS [C1], 
    [Project1].[C2] AS [C2], 
    [Project1].[Entity_ID] AS [Entity_ID], 
    [Project1].[Allocation_ID] AS [Allocation_ID], 
    [Project1].[Ticker] AS [Ticker], 
    [Project1].[Transaction_Type] AS [Transaction_Type], 
    [Project1].[Trade_Date] AS [Trade_Date], 
    [Project1].[Execution_AllIn_Price] AS [Execution_AllIn_Price], 
    [Project1].[Portfolio_Code] AS [Portfolio_Code], 
    [Project1].[Execution_Quantity] AS [Execution_Quantity], 
    [Project1].[Execution_Net_Amount_TradeCur] AS [Execution_Net_Amount_TradeCur]
    FROM ( SELECT 
        [Extent1].[Allocation_ID] AS [Allocation_ID], 
        [Extent1].[Entity_ID] AS [Entity_ID], 
        [Extent1].[Portfolio_Code] AS [Portfolio_Code], 
        [Extent1].[Execution_Quantity] AS [Execution_Quantity], 
        [Extent1].[Execution_Net_Amount_TradeCur] AS [Execution_Net_Amount_TradeCur], 
        [Extent2].[Trade_Date] AS [Trade_Date], 
        [Extent2].[Transaction_Type] AS [Transaction_Type], 
        [Extent2].[Execution_AllIn_Price] AS [Execution_AllIn_Price], 
        [Extent3].[Ticker] AS [Ticker], 
        1 AS [C1], 
        cast(1 as bit) AS [C2]
        FROM   [dbo].[Order_Allocation] AS [Extent1]
        INNER JOIN [dbo].[Order_Detail] AS [Extent2] ON [Extent1].[Order_ID] = [Extent2].[Order_ID]
        INNER JOIN [dbo].[Security_Detail] AS [Extent3] ON [Extent2].[Security_ID] = [Extent3].[Security_ID]
        WHERE [Extent1].[Entity_ID] = @p__linq__0
    )  AS [Project1]
    ORDER BY [Project1].[Trade_Date] DESC, [Project1].[Entity_ID] ASC, [Project1].[Portfolio_Code] ASC
2018-06-05 20:20:03.5299|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: IF db_id(N'MetopeAzureDb') IS NOT NULL SELECT 1 ELSE SELECT Count(*) FROM sys.databases WHERE [name]=N'MetopeAzureDb'
2018-06-05 20:20:03.5740|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: IF db_id(N'MetopeAzureDb') IS NOT NULL SELECT 1 ELSE SELECT Count(*) FROM sys.databases WHERE [name]=N'MetopeAzureDb'
2018-06-05 20:20:03.6595|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: IF db_id(N'MetopeAzureDb') IS NOT NULL SELECT 1 ELSE SELECT Count(*) FROM sys.databases WHERE [name]=N'MetopeAzureDb'
2018-06-05 20:20:03.7001|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: IF db_id(N'MetopeAzureDb') IS NOT NULL SELECT 1 ELSE SELECT Count(*) FROM sys.databases WHERE [name]=N'MetopeAzureDb'
2018-06-05 20:20:39.2734|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: SELECT TOP (500) 
    [Project1].[C1] AS [C1], 
    [Project1].[C2] AS [C2], 
    [Project1].[Entity_ID] AS [Entity_ID], 
    [Project1].[Allocation_ID] AS [Allocation_ID], 
    [Project1].[Ticker] AS [Ticker], 
    [Project1].[Transaction_Type] AS [Transaction_Type], 
    [Project1].[Trade_Date] AS [Trade_Date], 
    [Project1].[Execution_AllIn_Price] AS [Execution_AllIn_Price], 
    [Project1].[Portfolio_Code] AS [Portfolio_Code], 
    [Project1].[Execution_Quantity] AS [Execution_Quantity], 
    [Project1].[Execution_Net_Amount_TradeCur] AS [Execution_Net_Amount_TradeCur]
    FROM ( SELECT 
        [Extent1].[Allocation_ID] AS [Allocation_ID], 
        [Extent1].[Entity_ID] AS [Entity_ID], 
        [Extent1].[Portfolio_Code] AS [Portfolio_Code], 
        [Extent1].[Execution_Quantity] AS [Execution_Quantity], 
        [Extent1].[Execution_Net_Amount_TradeCur] AS [Execution_Net_Amount_TradeCur], 
        [Extent2].[Trade_Date] AS [Trade_Date], 
        [Extent2].[Transaction_Type] AS [Transaction_Type], 
        [Extent2].[Execution_AllIn_Price] AS [Execution_AllIn_Price], 
        [Extent3].[Ticker] AS [Ticker], 
        1 AS [C1], 
        cast(1 as bit) AS [C2]
        FROM   [dbo].[Order_Allocation] AS [Extent1]
        INNER JOIN [dbo].[Order_Detail] AS [Extent2] ON [Extent1].[Order_ID] = [Extent2].[Order_ID]
        INNER JOIN [dbo].[Security_Detail] AS [Extent3] ON [Extent2].[Security_ID] = [Extent3].[Security_ID]
        WHERE [Extent1].[Entity_ID] = @p__linq__0
    )  AS [Project1]
    ORDER BY [Project1].[Trade_Date] DESC, [Project1].[Entity_ID] ASC, [Project1].[Portfolio_Code] ASC
2018-06-05 20:20:39.4356|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: SELECT TOP (500) 
    [Project1].[C1] AS [C1], 
    [Project1].[C2] AS [C2], 
    [Project1].[Entity_ID] AS [Entity_ID], 
    [Project1].[Allocation_ID] AS [Allocation_ID], 
    [Project1].[Ticker] AS [Ticker], 
    [Project1].[Transaction_Type] AS [Transaction_Type], 
    [Project1].[Trade_Date] AS [Trade_Date], 
    [Project1].[Execution_AllIn_Price] AS [Execution_AllIn_Price], 
    [Project1].[Portfolio_Code] AS [Portfolio_Code], 
    [Project1].[Execution_Quantity] AS [Execution_Quantity], 
    [Project1].[Execution_Net_Amount_TradeCur] AS [Execution_Net_Amount_TradeCur]
    FROM ( SELECT 
        [Extent1].[Allocation_ID] AS [Allocation_ID], 
        [Extent1].[Entity_ID] AS [Entity_ID], 
        [Extent1].[Portfolio_Code] AS [Portfolio_Code], 
        [Extent1].[Execution_Quantity] AS [Execution_Quantity], 
        [Extent1].[Execution_Net_Amount_TradeCur] AS [Execution_Net_Amount_TradeCur], 
        [Extent2].[Trade_Date] AS [Trade_Date], 
        [Extent2].[Transaction_Type] AS [Transaction_Type], 
        [Extent2].[Execution_AllIn_Price] AS [Execution_AllIn_Price], 
        [Extent3].[Ticker] AS [Ticker], 
        1 AS [C1], 
        cast(1 as bit) AS [C2]
        FROM   [dbo].[Order_Allocation] AS [Extent1]
        INNER JOIN [dbo].[Order_Detail] AS [Extent2] ON [Extent1].[Order_ID] = [Extent2].[Order_ID]
        INNER JOIN [dbo].[Security_Detail] AS [Extent3] ON [Extent2].[Security_ID] = [Extent3].[Security_ID]
        WHERE [Extent1].[Entity_ID] = @p__linq__0
    )  AS [Project1]
    ORDER BY [Project1].[Trade_Date] DESC, [Project1].[Entity_ID] ASC, [Project1].[Portfolio_Code] ASC
2018-06-05 20:20:39.6207|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: IF db_id(N'MetopeAzureDb') IS NOT NULL SELECT 1 ELSE SELECT Count(*) FROM sys.databases WHERE [name]=N'MetopeAzureDb'
2018-06-05 20:20:39.8343|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: IF db_id(N'MetopeAzureDb') IS NOT NULL SELECT 1 ELSE SELECT Count(*) FROM sys.databases WHERE [name]=N'MetopeAzureDb'
2018-06-05 20:20:40.0110|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: IF db_id(N'MetopeAzureDb') IS NOT NULL SELECT 1 ELSE SELECT Count(*) FROM sys.databases WHERE [name]=N'MetopeAzureDb'
2018-06-05 20:20:40.0620|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: IF db_id(N'MetopeAzureDb') IS NOT NULL SELECT 1 ELSE SELECT Count(*) FROM sys.databases WHERE [name]=N'MetopeAzureDb'
2018-06-05 20:23:16.0461|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: SELECT TOP (500) 
    [Project1].[C1] AS [C1], 
    [Project1].[C2] AS [C2], 
    [Project1].[Entity_ID] AS [Entity_ID], 
    [Project1].[Allocation_ID] AS [Allocation_ID], 
    [Project1].[Ticker] AS [Ticker], 
    [Project1].[Transaction_Type] AS [Transaction_Type], 
    [Project1].[Trade_Date] AS [Trade_Date], 
    [Project1].[Execution_AllIn_Price] AS [Execution_AllIn_Price], 
    [Project1].[Portfolio_Code] AS [Portfolio_Code], 
    [Project1].[Execution_Quantity] AS [Execution_Quantity], 
    [Project1].[Execution_Net_Amount_TradeCur] AS [Execution_Net_Amount_TradeCur]
    FROM ( SELECT 
        [Extent1].[Allocation_ID] AS [Allocation_ID], 
        [Extent1].[Entity_ID] AS [Entity_ID], 
        [Extent1].[Portfolio_Code] AS [Portfolio_Code], 
        [Extent1].[Execution_Quantity] AS [Execution_Quantity], 
        [Extent1].[Execution_Net_Amount_TradeCur] AS [Execution_Net_Amount_TradeCur], 
        [Extent2].[Trade_Date] AS [Trade_Date], 
        [Extent2].[Transaction_Type] AS [Transaction_Type], 
        [Extent2].[Execution_AllIn_Price] AS [Execution_AllIn_Price], 
        [Extent3].[Ticker] AS [Ticker], 
        1 AS [C1], 
        cast(1 as bit) AS [C2]
        FROM   [dbo].[Order_Allocation] AS [Extent1]
        INNER JOIN [dbo].[Order_Detail] AS [Extent2] ON [Extent1].[Order_ID] = [Extent2].[Order_ID]
        INNER JOIN [dbo].[Security_Detail] AS [Extent3] ON [Extent2].[Security_ID] = [Extent3].[Security_ID]
        WHERE [Extent1].[Entity_ID] = @p__linq__0
    )  AS [Project1]
    ORDER BY [Project1].[Trade_Date] DESC, [Project1].[Entity_ID] ASC, [Project1].[Portfolio_Code] ASC
2018-06-05 20:23:16.1322|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: SELECT TOP (500) 
    [Project1].[C1] AS [C1], 
    [Project1].[C2] AS [C2], 
    [Project1].[Entity_ID] AS [Entity_ID], 
    [Project1].[Allocation_ID] AS [Allocation_ID], 
    [Project1].[Ticker] AS [Ticker], 
    [Project1].[Transaction_Type] AS [Transaction_Type], 
    [Project1].[Trade_Date] AS [Trade_Date], 
    [Project1].[Execution_AllIn_Price] AS [Execution_AllIn_Price], 
    [Project1].[Portfolio_Code] AS [Portfolio_Code], 
    [Project1].[Execution_Quantity] AS [Execution_Quantity], 
    [Project1].[Execution_Net_Amount_TradeCur] AS [Execution_Net_Amount_TradeCur]
    FROM ( SELECT 
        [Extent1].[Allocation_ID] AS [Allocation_ID], 
        [Extent1].[Entity_ID] AS [Entity_ID], 
        [Extent1].[Portfolio_Code] AS [Portfolio_Code], 
        [Extent1].[Execution_Quantity] AS [Execution_Quantity], 
        [Extent1].[Execution_Net_Amount_TradeCur] AS [Execution_Net_Amount_TradeCur], 
        [Extent2].[Trade_Date] AS [Trade_Date], 
        [Extent2].[Transaction_Type] AS [Transaction_Type], 
        [Extent2].[Execution_AllIn_Price] AS [Execution_AllIn_Price], 
        [Extent3].[Ticker] AS [Ticker], 
        1 AS [C1], 
        cast(1 as bit) AS [C2]
        FROM   [dbo].[Order_Allocation] AS [Extent1]
        INNER JOIN [dbo].[Order_Detail] AS [Extent2] ON [Extent1].[Order_ID] = [Extent2].[Order_ID]
        INNER JOIN [dbo].[Security_Detail] AS [Extent3] ON [Extent2].[Security_ID] = [Extent3].[Security_ID]
        WHERE [Extent1].[Entity_ID] = @p__linq__0
    )  AS [Project1]
    ORDER BY [Project1].[Trade_Date] DESC, [Project1].[Entity_ID] ASC, [Project1].[Portfolio_Code] ASC
2018-06-05 20:23:21.2419|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: IF db_id(N'MetopeAzureDb') IS NOT NULL SELECT 1 ELSE SELECT Count(*) FROM sys.databases WHERE [name]=N'MetopeAzureDb'
2018-06-05 20:23:21.3950|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: IF db_id(N'MetopeAzureDb') IS NOT NULL SELECT 1 ELSE SELECT Count(*) FROM sys.databases WHERE [name]=N'MetopeAzureDb'
2018-06-05 20:23:21.5071|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: IF db_id(N'MetopeAzureDb') IS NOT NULL SELECT 1 ELSE SELECT Count(*) FROM sys.databases WHERE [name]=N'MetopeAzureDb'
2018-06-05 20:23:21.5357|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: IF db_id(N'MetopeAzureDb') IS NOT NULL SELECT 1 ELSE SELECT Count(*) FROM sys.databases WHERE [name]=N'MetopeAzureDb'
2018-06-05 20:24:17.6465|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: SELECT TOP (500) 
    [Project1].[C1] AS [C1], 
    [Project1].[C2] AS [C2], 
    [Project1].[Entity_ID] AS [Entity_ID], 
    [Project1].[Allocation_ID] AS [Allocation_ID], 
    [Project1].[Ticker] AS [Ticker], 
    [Project1].[Transaction_Type] AS [Transaction_Type], 
    [Project1].[Trade_Date] AS [Trade_Date], 
    [Project1].[Execution_AllIn_Price] AS [Execution_AllIn_Price], 
    [Project1].[Portfolio_Code] AS [Portfolio_Code], 
    [Project1].[Execution_Quantity] AS [Execution_Quantity], 
    [Project1].[Execution_Net_Amount_TradeCur] AS [Execution_Net_Amount_TradeCur]
    FROM ( SELECT 
        [Extent1].[Allocation_ID] AS [Allocation_ID], 
        [Extent1].[Entity_ID] AS [Entity_ID], 
        [Extent1].[Portfolio_Code] AS [Portfolio_Code], 
        [Extent1].[Execution_Quantity] AS [Execution_Quantity], 
        [Extent1].[Execution_Net_Amount_TradeCur] AS [Execution_Net_Amount_TradeCur], 
        [Extent2].[Trade_Date] AS [Trade_Date], 
        [Extent2].[Transaction_Type] AS [Transaction_Type], 
        [Extent2].[Execution_AllIn_Price] AS [Execution_AllIn_Price], 
        [Extent3].[Ticker] AS [Ticker], 
        1 AS [C1], 
        cast(1 as bit) AS [C2]
        FROM   [dbo].[Order_Allocation] AS [Extent1]
        INNER JOIN [dbo].[Order_Detail] AS [Extent2] ON [Extent1].[Order_ID] = [Extent2].[Order_ID]
        INNER JOIN [dbo].[Security_Detail] AS [Extent3] ON [Extent2].[Security_ID] = [Extent3].[Security_ID]
        WHERE [Extent1].[Entity_ID] = @p__linq__0
    )  AS [Project1]
    ORDER BY [Project1].[Trade_Date] DESC, [Project1].[Entity_ID] ASC, [Project1].[Portfolio_Code] ASC
2018-06-05 20:24:17.7381|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: SELECT TOP (500) 
    [Project1].[C1] AS [C1], 
    [Project1].[C2] AS [C2], 
    [Project1].[Entity_ID] AS [Entity_ID], 
    [Project1].[Allocation_ID] AS [Allocation_ID], 
    [Project1].[Ticker] AS [Ticker], 
    [Project1].[Transaction_Type] AS [Transaction_Type], 
    [Project1].[Trade_Date] AS [Trade_Date], 
    [Project1].[Execution_AllIn_Price] AS [Execution_AllIn_Price], 
    [Project1].[Portfolio_Code] AS [Portfolio_Code], 
    [Project1].[Execution_Quantity] AS [Execution_Quantity], 
    [Project1].[Execution_Net_Amount_TradeCur] AS [Execution_Net_Amount_TradeCur]
    FROM ( SELECT 
        [Extent1].[Allocation_ID] AS [Allocation_ID], 
        [Extent1].[Entity_ID] AS [Entity_ID], 
        [Extent1].[Portfolio_Code] AS [Portfolio_Code], 
        [Extent1].[Execution_Quantity] AS [Execution_Quantity], 
        [Extent1].[Execution_Net_Amount_TradeCur] AS [Execution_Net_Amount_TradeCur], 
        [Extent2].[Trade_Date] AS [Trade_Date], 
        [Extent2].[Transaction_Type] AS [Transaction_Type], 
        [Extent2].[Execution_AllIn_Price] AS [Execution_AllIn_Price], 
        [Extent3].[Ticker] AS [Ticker], 
        1 AS [C1], 
        cast(1 as bit) AS [C2]
        FROM   [dbo].[Order_Allocation] AS [Extent1]
        INNER JOIN [dbo].[Order_Detail] AS [Extent2] ON [Extent1].[Order_ID] = [Extent2].[Order_ID]
        INNER JOIN [dbo].[Security_Detail] AS [Extent3] ON [Extent2].[Security_ID] = [Extent3].[Security_ID]
        WHERE [Extent1].[Entity_ID] = @p__linq__0
    )  AS [Project1]
    ORDER BY [Project1].[Trade_Date] DESC, [Project1].[Entity_ID] ASC, [Project1].[Portfolio_Code] ASC
2018-06-05 20:24:23.4086|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: IF db_id(N'MetopeAzureDb') IS NOT NULL SELECT 1 ELSE SELECT Count(*) FROM sys.databases WHERE [name]=N'MetopeAzureDb'
2018-06-05 20:24:23.5148|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: IF db_id(N'MetopeAzureDb') IS NOT NULL SELECT 1 ELSE SELECT Count(*) FROM sys.databases WHERE [name]=N'MetopeAzureDb'
2018-06-05 20:24:23.5988|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: IF db_id(N'MetopeAzureDb') IS NOT NULL SELECT 1 ELSE SELECT Count(*) FROM sys.databases WHERE [name]=N'MetopeAzureDb'
2018-06-05 20:24:23.6449|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: IF db_id(N'MetopeAzureDb') IS NOT NULL SELECT 1 ELSE SELECT Count(*) FROM sys.databases WHERE [name]=N'MetopeAzureDb'
2018-06-05 20:25:13.8579|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: SELECT 
    [Extent1].[Allocation_ID] AS [Allocation_ID], 
    [Extent1].[Entity_ID] AS [Entity_ID], 
    [Extent1].[Order_ID] AS [Order_ID], 
    [Extent1].[Portfolio_Code] AS [Portfolio_Code], 
    [Extent1].[Target_Quantity] AS [Target_Quantity], 
    [Extent1].[Target_Clean_Amount_TradeCur] AS [Target_Clean_Amount_TradeCur], 
    [Extent1].[Target_Income_Amount_TradeCur] AS [Target_Income_Amount_TradeCur], 
    [Extent1].[Target_AllIn_Amount_TradeCur] AS [Target_AllIn_Amount_TradeCur], 
    [Extent1].[Target_Clean_Amount_BaseCur] AS [Target_Clean_Amount_BaseCur], 
    [Extent1].[Target_Income_Amount_BaseCur] AS [Target_Income_Amount_BaseCur], 
    [Extent1].[Target_AllIn_Amount_BaseCur] AS [Target_AllIn_Amount_BaseCur], 
    [Extent1].[Execution_Quantity] AS [Execution_Quantity], 
    [Extent1].[Place_Quantity] AS [Place_Quantity], 
    [Extent1].[Execution_Clean_Amount_TradeCur] AS [Execution_Clean_Amount_TradeCur], 
    [Extent1].[Execution_Income_Amount_TradeCur] AS [Execution_Income_Amount_TradeCur], 
    [Extent1].[Execution_AllIn_Amount_TradeCur] AS [Execution_AllIn_Amount_TradeCur], 
    [Extent1].[Execution_Clean_Amount_BaseCur] AS [Execution_Clean_Amount_BaseCur], 
    [Extent1].[Execution_Income_Amount_BaseCur] AS [Execution_Income_Amount_BaseCur], 
    [Extent1].[Execution_AllIn_Amount_BaseCur] AS [Execution_AllIn_Amount_BaseCur], 
    [Extent1].[Commission_Rate] AS [Commission_Rate], 
    [Extent1].[Commission_Type] AS [Commission_Type], 
    [Extent1].[Commission_Amount_TradeCur] AS [Commission_Amount_TradeCur], 
    [Extent1].[Commission_Amount_BaseCur] AS [Commission_Amount_BaseCur], 
    [Extent1].[Execution_Gross_Amount_TradeCur] AS [Execution_Gross_Amount_TradeCur], 
    [Extent1].[Execution_Gross_Amount_BaseCur] AS [Execution_Gross_Amount_BaseCur], 
    [Extent1].[Execution_Net_Amount_TradeCur] AS [Execution_Net_Amount_TradeCur], 
    [Extent1].[Execution_Net_Amount_BaseCur] AS [Execution_Net_Amount_BaseCur], 
    [Extent1].[Buy_Currency_Target_Amount_TradeCur] AS [Buy_Currency_Target_Amount_TradeCur], 
    [Extent1].[Sell_Currency_Target_Amount_TradeCur] AS [Sell_Currency_Target_Amount_TradeCur], 
    [Extent1].[Buy_Currency_Target_Amount_BaseCur] AS [Buy_Currency_Target_Amount_BaseCur], 
    [Extent1].[Sell_Currency_Target_Amount_BaseCur] AS [Sell_Currency_Target_Amount_BaseCur], 
    [Extent1].[Buy_Currency_Execution_Amount_TradeCur] AS [Buy_Currency_Execution_Amount_TradeCur], 
    [Extent1].[Sell_Currency_Execution_Amount_TradeCur] AS [Sell_Currency_Execution_Amount_TradeCur], 
    [Extent1].[Buy_Currency_Execution_Amount_BaseCur] AS [Buy_Currency_Execution_Amount_BaseCur], 
    [Extent1].[Sell_Currency_Execution_Amount_BaseCur] AS [Sell_Currency_Execution_Amount_BaseCur], 
    [Extent1].[Fee_Amount1_TradeCur] AS [Fee_Amount1_TradeCur], 
    [Extent1].[Fee_Amount2_TradeCur] AS [Fee_Amount2_TradeCur], 
    [Extent1].[Fee_Amount3_TradeCur] AS [Fee_Amount3_TradeCur], 
    [Extent1].[Fee_Amount4_TradeCur] AS [Fee_Amount4_TradeCur], 
    [Extent1].[Fee_Amount5_TradeCur] AS [Fee_Amount5_TradeCur], 
    [Extent1].[Fee_Amount6_TradeCur] AS [Fee_Amount6_TradeCur], 
    [Extent1].[Tax_Amount_TradeCur] AS [Tax_Amount_TradeCur], 
    [Extent1].[Fee_Amount1_BaseCur] AS [Fee_Amount1_BaseCur], 
    [Extent1].[Fee_Amount2_BaseCur] AS [Fee_Amount2_BaseCur], 
    [Extent1].[Fee_Amount3_BaseCur] AS [Fee_Amount3_BaseCur], 
    [Extent1].[Fee_Amount4_BaseCur] AS [Fee_Amount4_BaseCur], 
    [Extent1].[Fee_Amount5_BaseCur] AS [Fee_Amount5_BaseCur], 
    [Extent1].[Fee_Amount6_BaseCur] AS [Fee_Amount6_BaseCur], 
    [Extent1].[Tax_Amount_BaseCur] AS [Tax_Amount_BaseCur], 
    [Extent1].[Trade_Base_FX_Rate] AS [Trade_Base_FX_Rate], 
    [Extent1].[Export_Reference] AS [Export_Reference], 
    [Extent1].[Export_Status] AS [Export_Status], 
    [Extent1].[Allocation_Ack_Nack_Status] AS [Allocation_Ack_Nack_Status], 
    [Extent1].[Operations_Status] AS [Operations_Status], 
    [Extent1].[Last_Update_Date] AS [Last_Update_Date], 
    [Extent1].[Last_Update_User] AS [Last_Update_User]
    FROM [dbo].[Order_Allocation] AS [Extent1]
    WHERE [Extent1].[Allocation_ID] IN (cast(56 as decimal(18)))
2018-06-05 20:25:13.9240|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: SELECT 
    [Extent1].[Allocation_ID] AS [Allocation_ID], 
    [Extent1].[Entity_ID] AS [Entity_ID], 
    [Extent1].[Order_ID] AS [Order_ID], 
    [Extent1].[Portfolio_Code] AS [Portfolio_Code], 
    [Extent1].[Target_Quantity] AS [Target_Quantity], 
    [Extent1].[Target_Clean_Amount_TradeCur] AS [Target_Clean_Amount_TradeCur], 
    [Extent1].[Target_Income_Amount_TradeCur] AS [Target_Income_Amount_TradeCur], 
    [Extent1].[Target_AllIn_Amount_TradeCur] AS [Target_AllIn_Amount_TradeCur], 
    [Extent1].[Target_Clean_Amount_BaseCur] AS [Target_Clean_Amount_BaseCur], 
    [Extent1].[Target_Income_Amount_BaseCur] AS [Target_Income_Amount_BaseCur], 
    [Extent1].[Target_AllIn_Amount_BaseCur] AS [Target_AllIn_Amount_BaseCur], 
    [Extent1].[Execution_Quantity] AS [Execution_Quantity], 
    [Extent1].[Place_Quantity] AS [Place_Quantity], 
    [Extent1].[Execution_Clean_Amount_TradeCur] AS [Execution_Clean_Amount_TradeCur], 
    [Extent1].[Execution_Income_Amount_TradeCur] AS [Execution_Income_Amount_TradeCur], 
    [Extent1].[Execution_AllIn_Amount_TradeCur] AS [Execution_AllIn_Amount_TradeCur], 
    [Extent1].[Execution_Clean_Amount_BaseCur] AS [Execution_Clean_Amount_BaseCur], 
    [Extent1].[Execution_Income_Amount_BaseCur] AS [Execution_Income_Amount_BaseCur], 
    [Extent1].[Execution_AllIn_Amount_BaseCur] AS [Execution_AllIn_Amount_BaseCur], 
    [Extent1].[Commission_Rate] AS [Commission_Rate], 
    [Extent1].[Commission_Type] AS [Commission_Type], 
    [Extent1].[Commission_Amount_TradeCur] AS [Commission_Amount_TradeCur], 
    [Extent1].[Commission_Amount_BaseCur] AS [Commission_Amount_BaseCur], 
    [Extent1].[Execution_Gross_Amount_TradeCur] AS [Execution_Gross_Amount_TradeCur], 
    [Extent1].[Execution_Gross_Amount_BaseCur] AS [Execution_Gross_Amount_BaseCur], 
    [Extent1].[Execution_Net_Amount_TradeCur] AS [Execution_Net_Amount_TradeCur], 
    [Extent1].[Execution_Net_Amount_BaseCur] AS [Execution_Net_Amount_BaseCur], 
    [Extent1].[Buy_Currency_Target_Amount_TradeCur] AS [Buy_Currency_Target_Amount_TradeCur], 
    [Extent1].[Sell_Currency_Target_Amount_TradeCur] AS [Sell_Currency_Target_Amount_TradeCur], 
    [Extent1].[Buy_Currency_Target_Amount_BaseCur] AS [Buy_Currency_Target_Amount_BaseCur], 
    [Extent1].[Sell_Currency_Target_Amount_BaseCur] AS [Sell_Currency_Target_Amount_BaseCur], 
    [Extent1].[Buy_Currency_Execution_Amount_TradeCur] AS [Buy_Currency_Execution_Amount_TradeCur], 
    [Extent1].[Sell_Currency_Execution_Amount_TradeCur] AS [Sell_Currency_Execution_Amount_TradeCur], 
    [Extent1].[Buy_Currency_Execution_Amount_BaseCur] AS [Buy_Currency_Execution_Amount_BaseCur], 
    [Extent1].[Sell_Currency_Execution_Amount_BaseCur] AS [Sell_Currency_Execution_Amount_BaseCur], 
    [Extent1].[Fee_Amount1_TradeCur] AS [Fee_Amount1_TradeCur], 
    [Extent1].[Fee_Amount2_TradeCur] AS [Fee_Amount2_TradeCur], 
    [Extent1].[Fee_Amount3_TradeCur] AS [Fee_Amount3_TradeCur], 
    [Extent1].[Fee_Amount4_TradeCur] AS [Fee_Amount4_TradeCur], 
    [Extent1].[Fee_Amount5_TradeCur] AS [Fee_Amount5_TradeCur], 
    [Extent1].[Fee_Amount6_TradeCur] AS [Fee_Amount6_TradeCur], 
    [Extent1].[Tax_Amount_TradeCur] AS [Tax_Amount_TradeCur], 
    [Extent1].[Fee_Amount1_BaseCur] AS [Fee_Amount1_BaseCur], 
    [Extent1].[Fee_Amount2_BaseCur] AS [Fee_Amount2_BaseCur], 
    [Extent1].[Fee_Amount3_BaseCur] AS [Fee_Amount3_BaseCur], 
    [Extent1].[Fee_Amount4_BaseCur] AS [Fee_Amount4_BaseCur], 
    [Extent1].[Fee_Amount5_BaseCur] AS [Fee_Amount5_BaseCur], 
    [Extent1].[Fee_Amount6_BaseCur] AS [Fee_Amount6_BaseCur], 
    [Extent1].[Tax_Amount_BaseCur] AS [Tax_Amount_BaseCur], 
    [Extent1].[Trade_Base_FX_Rate] AS [Trade_Base_FX_Rate], 
    [Extent1].[Export_Reference] AS [Export_Reference], 
    [Extent1].[Export_Status] AS [Export_Status], 
    [Extent1].[Allocation_Ack_Nack_Status] AS [Allocation_Ack_Nack_Status], 
    [Extent1].[Operations_Status] AS [Operations_Status], 
    [Extent1].[Last_Update_Date] AS [Last_Update_Date], 
    [Extent1].[Last_Update_User] AS [Last_Update_User]
    FROM [dbo].[Order_Allocation] AS [Extent1]
    WHERE [Extent1].[Allocation_ID] IN (cast(56 as decimal(18)))
2018-06-05 20:25:14.1152|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: DELETE [dbo].[Order_Allocation]
WHERE ([Allocation_ID] = @0)
2018-06-05 20:25:14.2503|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: DELETE [dbo].[Order_Allocation]
WHERE ([Allocation_ID] = @0)
2018-06-05 20:25:14.4069|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: SELECT TOP (500) 
    [Project1].[C1] AS [C1], 
    [Project1].[C2] AS [C2], 
    [Project1].[Entity_ID] AS [Entity_ID], 
    [Project1].[Allocation_ID] AS [Allocation_ID], 
    [Project1].[Ticker] AS [Ticker], 
    [Project1].[Transaction_Type] AS [Transaction_Type], 
    [Project1].[Trade_Date] AS [Trade_Date], 
    [Project1].[Execution_AllIn_Price] AS [Execution_AllIn_Price], 
    [Project1].[Portfolio_Code] AS [Portfolio_Code], 
    [Project1].[Execution_Quantity] AS [Execution_Quantity], 
    [Project1].[Execution_Net_Amount_TradeCur] AS [Execution_Net_Amount_TradeCur]
    FROM ( SELECT 
        [Extent1].[Allocation_ID] AS [Allocation_ID], 
        [Extent1].[Entity_ID] AS [Entity_ID], 
        [Extent1].[Portfolio_Code] AS [Portfolio_Code], 
        [Extent1].[Execution_Quantity] AS [Execution_Quantity], 
        [Extent1].[Execution_Net_Amount_TradeCur] AS [Execution_Net_Amount_TradeCur], 
        [Extent2].[Trade_Date] AS [Trade_Date], 
        [Extent2].[Transaction_Type] AS [Transaction_Type], 
        [Extent2].[Execution_AllIn_Price] AS [Execution_AllIn_Price], 
        [Extent3].[Ticker] AS [Ticker], 
        1 AS [C1], 
        cast(1 as bit) AS [C2]
        FROM   [dbo].[Order_Allocation] AS [Extent1]
        INNER JOIN [dbo].[Order_Detail] AS [Extent2] ON [Extent1].[Order_ID] = [Extent2].[Order_ID]
        INNER JOIN [dbo].[Security_Detail] AS [Extent3] ON [Extent2].[Security_ID] = [Extent3].[Security_ID]
        WHERE [Extent1].[Entity_ID] = @p__linq__0
    )  AS [Project1]
    ORDER BY [Project1].[Trade_Date] DESC, [Project1].[Entity_ID] ASC, [Project1].[Portfolio_Code] ASC
2018-06-05 20:25:14.5265|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: SELECT TOP (500) 
    [Project1].[C1] AS [C1], 
    [Project1].[C2] AS [C2], 
    [Project1].[Entity_ID] AS [Entity_ID], 
    [Project1].[Allocation_ID] AS [Allocation_ID], 
    [Project1].[Ticker] AS [Ticker], 
    [Project1].[Transaction_Type] AS [Transaction_Type], 
    [Project1].[Trade_Date] AS [Trade_Date], 
    [Project1].[Execution_AllIn_Price] AS [Execution_AllIn_Price], 
    [Project1].[Portfolio_Code] AS [Portfolio_Code], 
    [Project1].[Execution_Quantity] AS [Execution_Quantity], 
    [Project1].[Execution_Net_Amount_TradeCur] AS [Execution_Net_Amount_TradeCur]
    FROM ( SELECT 
        [Extent1].[Allocation_ID] AS [Allocation_ID], 
        [Extent1].[Entity_ID] AS [Entity_ID], 
        [Extent1].[Portfolio_Code] AS [Portfolio_Code], 
        [Extent1].[Execution_Quantity] AS [Execution_Quantity], 
        [Extent1].[Execution_Net_Amount_TradeCur] AS [Execution_Net_Amount_TradeCur], 
        [Extent2].[Trade_Date] AS [Trade_Date], 
        [Extent2].[Transaction_Type] AS [Transaction_Type], 
        [Extent2].[Execution_AllIn_Price] AS [Execution_AllIn_Price], 
        [Extent3].[Ticker] AS [Ticker], 
        1 AS [C1], 
        cast(1 as bit) AS [C2]
        FROM   [dbo].[Order_Allocation] AS [Extent1]
        INNER JOIN [dbo].[Order_Detail] AS [Extent2] ON [Extent1].[Order_ID] = [Extent2].[Order_ID]
        INNER JOIN [dbo].[Security_Detail] AS [Extent3] ON [Extent2].[Security_ID] = [Extent3].[Security_ID]
        WHERE [Extent1].[Entity_ID] = @p__linq__0
    )  AS [Project1]
    ORDER BY [Project1].[Trade_Date] DESC, [Project1].[Entity_ID] ASC, [Project1].[Portfolio_Code] ASC
2018-06-05 20:25:14.6190|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: IF db_id(N'MetopeAzureDb') IS NOT NULL SELECT 1 ELSE SELECT Count(*) FROM sys.databases WHERE [name]=N'MetopeAzureDb'
2018-06-05 20:25:14.8602|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: IF db_id(N'MetopeAzureDb') IS NOT NULL SELECT 1 ELSE SELECT Count(*) FROM sys.databases WHERE [name]=N'MetopeAzureDb'
2018-06-05 20:25:15.0784|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: IF db_id(N'MetopeAzureDb') IS NOT NULL SELECT 1 ELSE SELECT Count(*) FROM sys.databases WHERE [name]=N'MetopeAzureDb'
2018-06-05 20:25:15.1354|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: IF db_id(N'MetopeAzureDb') IS NOT NULL SELECT 1 ELSE SELECT Count(*) FROM sys.databases WHERE [name]=N'MetopeAzureDb'
2018-06-05 20:26:47.6284|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: SELECT TOP (500) 
    [Project1].[C1] AS [C1], 
    [Project1].[C2] AS [C2], 
    [Project1].[Entity_ID] AS [Entity_ID], 
    [Project1].[Allocation_ID] AS [Allocation_ID], 
    [Project1].[Ticker] AS [Ticker], 
    [Project1].[Transaction_Type] AS [Transaction_Type], 
    [Project1].[Trade_Date] AS [Trade_Date], 
    [Project1].[Execution_AllIn_Price] AS [Execution_AllIn_Price], 
    [Project1].[Portfolio_Code] AS [Portfolio_Code], 
    [Project1].[Execution_Quantity] AS [Execution_Quantity], 
    [Project1].[Execution_Net_Amount_TradeCur] AS [Execution_Net_Amount_TradeCur]
    FROM ( SELECT 
        [Extent1].[Allocation_ID] AS [Allocation_ID], 
        [Extent1].[Entity_ID] AS [Entity_ID], 
        [Extent1].[Portfolio_Code] AS [Portfolio_Code], 
        [Extent1].[Execution_Quantity] AS [Execution_Quantity], 
        [Extent1].[Execution_Net_Amount_TradeCur] AS [Execution_Net_Amount_TradeCur], 
        [Extent2].[Trade_Date] AS [Trade_Date], 
        [Extent2].[Transaction_Type] AS [Transaction_Type], 
        [Extent2].[Execution_AllIn_Price] AS [Execution_AllIn_Price], 
        [Extent3].[Ticker] AS [Ticker], 
        1 AS [C1], 
        cast(1 as bit) AS [C2]
        FROM   [dbo].[Order_Allocation] AS [Extent1]
        INNER JOIN [dbo].[Order_Detail] AS [Extent2] ON [Extent1].[Order_ID] = [Extent2].[Order_ID]
        INNER JOIN [dbo].[Security_Detail] AS [Extent3] ON [Extent2].[Security_ID] = [Extent3].[Security_ID]
        WHERE [Extent1].[Entity_ID] = @p__linq__0
    )  AS [Project1]
    ORDER BY [Project1].[Trade_Date] DESC, [Project1].[Entity_ID] ASC, [Project1].[Portfolio_Code] ASC
2018-06-05 20:26:48.0262|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: SELECT TOP (500) 
    [Project1].[C1] AS [C1], 
    [Project1].[C2] AS [C2], 
    [Project1].[Entity_ID] AS [Entity_ID], 
    [Project1].[Allocation_ID] AS [Allocation_ID], 
    [Project1].[Ticker] AS [Ticker], 
    [Project1].[Transaction_Type] AS [Transaction_Type], 
    [Project1].[Trade_Date] AS [Trade_Date], 
    [Project1].[Execution_AllIn_Price] AS [Execution_AllIn_Price], 
    [Project1].[Portfolio_Code] AS [Portfolio_Code], 
    [Project1].[Execution_Quantity] AS [Execution_Quantity], 
    [Project1].[Execution_Net_Amount_TradeCur] AS [Execution_Net_Amount_TradeCur]
    FROM ( SELECT 
        [Extent1].[Allocation_ID] AS [Allocation_ID], 
        [Extent1].[Entity_ID] AS [Entity_ID], 
        [Extent1].[Portfolio_Code] AS [Portfolio_Code], 
        [Extent1].[Execution_Quantity] AS [Execution_Quantity], 
        [Extent1].[Execution_Net_Amount_TradeCur] AS [Execution_Net_Amount_TradeCur], 
        [Extent2].[Trade_Date] AS [Trade_Date], 
        [Extent2].[Transaction_Type] AS [Transaction_Type], 
        [Extent2].[Execution_AllIn_Price] AS [Execution_AllIn_Price], 
        [Extent3].[Ticker] AS [Ticker], 
        1 AS [C1], 
        cast(1 as bit) AS [C2]
        FROM   [dbo].[Order_Allocation] AS [Extent1]
        INNER JOIN [dbo].[Order_Detail] AS [Extent2] ON [Extent1].[Order_ID] = [Extent2].[Order_ID]
        INNER JOIN [dbo].[Security_Detail] AS [Extent3] ON [Extent2].[Security_ID] = [Extent3].[Security_ID]
        WHERE [Extent1].[Entity_ID] = @p__linq__0
    )  AS [Project1]
    ORDER BY [Project1].[Trade_Date] DESC, [Project1].[Entity_ID] ASC, [Project1].[Portfolio_Code] ASC
2018-06-05 20:26:54.0419|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: IF db_id(N'MetopeAzureDb') IS NOT NULL SELECT 1 ELSE SELECT Count(*) FROM sys.databases WHERE [name]=N'MetopeAzureDb'
2018-06-05 20:26:54.1850|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: IF db_id(N'MetopeAzureDb') IS NOT NULL SELECT 1 ELSE SELECT Count(*) FROM sys.databases WHERE [name]=N'MetopeAzureDb'
2018-06-05 20:26:54.3052|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: IF db_id(N'MetopeAzureDb') IS NOT NULL SELECT 1 ELSE SELECT Count(*) FROM sys.databases WHERE [name]=N'MetopeAzureDb'
2018-06-05 20:26:54.3312|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: IF db_id(N'MetopeAzureDb') IS NOT NULL SELECT 1 ELSE SELECT Count(*) FROM sys.databases WHERE [name]=N'MetopeAzureDb'
2018-06-05 20:27:07.6936|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: SELECT 
    [Extent1].[Allocation_ID] AS [Allocation_ID], 
    [Extent1].[Entity_ID] AS [Entity_ID], 
    [Extent1].[Order_ID] AS [Order_ID], 
    [Extent1].[Portfolio_Code] AS [Portfolio_Code], 
    [Extent1].[Target_Quantity] AS [Target_Quantity], 
    [Extent1].[Target_Clean_Amount_TradeCur] AS [Target_Clean_Amount_TradeCur], 
    [Extent1].[Target_Income_Amount_TradeCur] AS [Target_Income_Amount_TradeCur], 
    [Extent1].[Target_AllIn_Amount_TradeCur] AS [Target_AllIn_Amount_TradeCur], 
    [Extent1].[Target_Clean_Amount_BaseCur] AS [Target_Clean_Amount_BaseCur], 
    [Extent1].[Target_Income_Amount_BaseCur] AS [Target_Income_Amount_BaseCur], 
    [Extent1].[Target_AllIn_Amount_BaseCur] AS [Target_AllIn_Amount_BaseCur], 
    [Extent1].[Execution_Quantity] AS [Execution_Quantity], 
    [Extent1].[Place_Quantity] AS [Place_Quantity], 
    [Extent1].[Execution_Clean_Amount_TradeCur] AS [Execution_Clean_Amount_TradeCur], 
    [Extent1].[Execution_Income_Amount_TradeCur] AS [Execution_Income_Amount_TradeCur], 
    [Extent1].[Execution_AllIn_Amount_TradeCur] AS [Execution_AllIn_Amount_TradeCur], 
    [Extent1].[Execution_Clean_Amount_BaseCur] AS [Execution_Clean_Amount_BaseCur], 
    [Extent1].[Execution_Income_Amount_BaseCur] AS [Execution_Income_Amount_BaseCur], 
    [Extent1].[Execution_AllIn_Amount_BaseCur] AS [Execution_AllIn_Amount_BaseCur], 
    [Extent1].[Commission_Rate] AS [Commission_Rate], 
    [Extent1].[Commission_Type] AS [Commission_Type], 
    [Extent1].[Commission_Amount_TradeCur] AS [Commission_Amount_TradeCur], 
    [Extent1].[Commission_Amount_BaseCur] AS [Commission_Amount_BaseCur], 
    [Extent1].[Execution_Gross_Amount_TradeCur] AS [Execution_Gross_Amount_TradeCur], 
    [Extent1].[Execution_Gross_Amount_BaseCur] AS [Execution_Gross_Amount_BaseCur], 
    [Extent1].[Execution_Net_Amount_TradeCur] AS [Execution_Net_Amount_TradeCur], 
    [Extent1].[Execution_Net_Amount_BaseCur] AS [Execution_Net_Amount_BaseCur], 
    [Extent1].[Buy_Currency_Target_Amount_TradeCur] AS [Buy_Currency_Target_Amount_TradeCur], 
    [Extent1].[Sell_Currency_Target_Amount_TradeCur] AS [Sell_Currency_Target_Amount_TradeCur], 
    [Extent1].[Buy_Currency_Target_Amount_BaseCur] AS [Buy_Currency_Target_Amount_BaseCur], 
    [Extent1].[Sell_Currency_Target_Amount_BaseCur] AS [Sell_Currency_Target_Amount_BaseCur], 
    [Extent1].[Buy_Currency_Execution_Amount_TradeCur] AS [Buy_Currency_Execution_Amount_TradeCur], 
    [Extent1].[Sell_Currency_Execution_Amount_TradeCur] AS [Sell_Currency_Execution_Amount_TradeCur], 
    [Extent1].[Buy_Currency_Execution_Amount_BaseCur] AS [Buy_Currency_Execution_Amount_BaseCur], 
    [Extent1].[Sell_Currency_Execution_Amount_BaseCur] AS [Sell_Currency_Execution_Amount_BaseCur], 
    [Extent1].[Fee_Amount1_TradeCur] AS [Fee_Amount1_TradeCur], 
    [Extent1].[Fee_Amount2_TradeCur] AS [Fee_Amount2_TradeCur], 
    [Extent1].[Fee_Amount3_TradeCur] AS [Fee_Amount3_TradeCur], 
    [Extent1].[Fee_Amount4_TradeCur] AS [Fee_Amount4_TradeCur], 
    [Extent1].[Fee_Amount5_TradeCur] AS [Fee_Amount5_TradeCur], 
    [Extent1].[Fee_Amount6_TradeCur] AS [Fee_Amount6_TradeCur], 
    [Extent1].[Tax_Amount_TradeCur] AS [Tax_Amount_TradeCur], 
    [Extent1].[Fee_Amount1_BaseCur] AS [Fee_Amount1_BaseCur], 
    [Extent1].[Fee_Amount2_BaseCur] AS [Fee_Amount2_BaseCur], 
    [Extent1].[Fee_Amount3_BaseCur] AS [Fee_Amount3_BaseCur], 
    [Extent1].[Fee_Amount4_BaseCur] AS [Fee_Amount4_BaseCur], 
    [Extent1].[Fee_Amount5_BaseCur] AS [Fee_Amount5_BaseCur], 
    [Extent1].[Fee_Amount6_BaseCur] AS [Fee_Amount6_BaseCur], 
    [Extent1].[Tax_Amount_BaseCur] AS [Tax_Amount_BaseCur], 
    [Extent1].[Trade_Base_FX_Rate] AS [Trade_Base_FX_Rate], 
    [Extent1].[Export_Reference] AS [Export_Reference], 
    [Extent1].[Export_Status] AS [Export_Status], 
    [Extent1].[Allocation_Ack_Nack_Status] AS [Allocation_Ack_Nack_Status], 
    [Extent1].[Operations_Status] AS [Operations_Status], 
    [Extent1].[Last_Update_Date] AS [Last_Update_Date], 
    [Extent1].[Last_Update_User] AS [Last_Update_User]
    FROM [dbo].[Order_Allocation] AS [Extent1]
    WHERE [Extent1].[Allocation_ID] IN (cast(58 as decimal(18)))
2018-06-05 20:27:07.8272|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: SELECT 
    [Extent1].[Allocation_ID] AS [Allocation_ID], 
    [Extent1].[Entity_ID] AS [Entity_ID], 
    [Extent1].[Order_ID] AS [Order_ID], 
    [Extent1].[Portfolio_Code] AS [Portfolio_Code], 
    [Extent1].[Target_Quantity] AS [Target_Quantity], 
    [Extent1].[Target_Clean_Amount_TradeCur] AS [Target_Clean_Amount_TradeCur], 
    [Extent1].[Target_Income_Amount_TradeCur] AS [Target_Income_Amount_TradeCur], 
    [Extent1].[Target_AllIn_Amount_TradeCur] AS [Target_AllIn_Amount_TradeCur], 
    [Extent1].[Target_Clean_Amount_BaseCur] AS [Target_Clean_Amount_BaseCur], 
    [Extent1].[Target_Income_Amount_BaseCur] AS [Target_Income_Amount_BaseCur], 
    [Extent1].[Target_AllIn_Amount_BaseCur] AS [Target_AllIn_Amount_BaseCur], 
    [Extent1].[Execution_Quantity] AS [Execution_Quantity], 
    [Extent1].[Place_Quantity] AS [Place_Quantity], 
    [Extent1].[Execution_Clean_Amount_TradeCur] AS [Execution_Clean_Amount_TradeCur], 
    [Extent1].[Execution_Income_Amount_TradeCur] AS [Execution_Income_Amount_TradeCur], 
    [Extent1].[Execution_AllIn_Amount_TradeCur] AS [Execution_AllIn_Amount_TradeCur], 
    [Extent1].[Execution_Clean_Amount_BaseCur] AS [Execution_Clean_Amount_BaseCur], 
    [Extent1].[Execution_Income_Amount_BaseCur] AS [Execution_Income_Amount_BaseCur], 
    [Extent1].[Execution_AllIn_Amount_BaseCur] AS [Execution_AllIn_Amount_BaseCur], 
    [Extent1].[Commission_Rate] AS [Commission_Rate], 
    [Extent1].[Commission_Type] AS [Commission_Type], 
    [Extent1].[Commission_Amount_TradeCur] AS [Commission_Amount_TradeCur], 
    [Extent1].[Commission_Amount_BaseCur] AS [Commission_Amount_BaseCur], 
    [Extent1].[Execution_Gross_Amount_TradeCur] AS [Execution_Gross_Amount_TradeCur], 
    [Extent1].[Execution_Gross_Amount_BaseCur] AS [Execution_Gross_Amount_BaseCur], 
    [Extent1].[Execution_Net_Amount_TradeCur] AS [Execution_Net_Amount_TradeCur], 
    [Extent1].[Execution_Net_Amount_BaseCur] AS [Execution_Net_Amount_BaseCur], 
    [Extent1].[Buy_Currency_Target_Amount_TradeCur] AS [Buy_Currency_Target_Amount_TradeCur], 
    [Extent1].[Sell_Currency_Target_Amount_TradeCur] AS [Sell_Currency_Target_Amount_TradeCur], 
    [Extent1].[Buy_Currency_Target_Amount_BaseCur] AS [Buy_Currency_Target_Amount_BaseCur], 
    [Extent1].[Sell_Currency_Target_Amount_BaseCur] AS [Sell_Currency_Target_Amount_BaseCur], 
    [Extent1].[Buy_Currency_Execution_Amount_TradeCur] AS [Buy_Currency_Execution_Amount_TradeCur], 
    [Extent1].[Sell_Currency_Execution_Amount_TradeCur] AS [Sell_Currency_Execution_Amount_TradeCur], 
    [Extent1].[Buy_Currency_Execution_Amount_BaseCur] AS [Buy_Currency_Execution_Amount_BaseCur], 
    [Extent1].[Sell_Currency_Execution_Amount_BaseCur] AS [Sell_Currency_Execution_Amount_BaseCur], 
    [Extent1].[Fee_Amount1_TradeCur] AS [Fee_Amount1_TradeCur], 
    [Extent1].[Fee_Amount2_TradeCur] AS [Fee_Amount2_TradeCur], 
    [Extent1].[Fee_Amount3_TradeCur] AS [Fee_Amount3_TradeCur], 
    [Extent1].[Fee_Amount4_TradeCur] AS [Fee_Amount4_TradeCur], 
    [Extent1].[Fee_Amount5_TradeCur] AS [Fee_Amount5_TradeCur], 
    [Extent1].[Fee_Amount6_TradeCur] AS [Fee_Amount6_TradeCur], 
    [Extent1].[Tax_Amount_TradeCur] AS [Tax_Amount_TradeCur], 
    [Extent1].[Fee_Amount1_BaseCur] AS [Fee_Amount1_BaseCur], 
    [Extent1].[Fee_Amount2_BaseCur] AS [Fee_Amount2_BaseCur], 
    [Extent1].[Fee_Amount3_BaseCur] AS [Fee_Amount3_BaseCur], 
    [Extent1].[Fee_Amount4_BaseCur] AS [Fee_Amount4_BaseCur], 
    [Extent1].[Fee_Amount5_BaseCur] AS [Fee_Amount5_BaseCur], 
    [Extent1].[Fee_Amount6_BaseCur] AS [Fee_Amount6_BaseCur], 
    [Extent1].[Tax_Amount_BaseCur] AS [Tax_Amount_BaseCur], 
    [Extent1].[Trade_Base_FX_Rate] AS [Trade_Base_FX_Rate], 
    [Extent1].[Export_Reference] AS [Export_Reference], 
    [Extent1].[Export_Status] AS [Export_Status], 
    [Extent1].[Allocation_Ack_Nack_Status] AS [Allocation_Ack_Nack_Status], 
    [Extent1].[Operations_Status] AS [Operations_Status], 
    [Extent1].[Last_Update_Date] AS [Last_Update_Date], 
    [Extent1].[Last_Update_User] AS [Last_Update_User]
    FROM [dbo].[Order_Allocation] AS [Extent1]
    WHERE [Extent1].[Allocation_ID] IN (cast(58 as decimal(18)))
2018-06-05 20:27:07.9813|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: DELETE [dbo].[Order_Allocation]
WHERE ([Allocation_ID] = @0)
2018-06-05 20:27:08.1094|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: DELETE [dbo].[Order_Allocation]
WHERE ([Allocation_ID] = @0)
2018-06-05 20:27:08.3441|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: SELECT TOP (500) 
    [Project1].[C1] AS [C1], 
    [Project1].[C2] AS [C2], 
    [Project1].[Entity_ID] AS [Entity_ID], 
    [Project1].[Allocation_ID] AS [Allocation_ID], 
    [Project1].[Ticker] AS [Ticker], 
    [Project1].[Transaction_Type] AS [Transaction_Type], 
    [Project1].[Trade_Date] AS [Trade_Date], 
    [Project1].[Execution_AllIn_Price] AS [Execution_AllIn_Price], 
    [Project1].[Portfolio_Code] AS [Portfolio_Code], 
    [Project1].[Execution_Quantity] AS [Execution_Quantity], 
    [Project1].[Execution_Net_Amount_TradeCur] AS [Execution_Net_Amount_TradeCur]
    FROM ( SELECT 
        [Extent1].[Allocation_ID] AS [Allocation_ID], 
        [Extent1].[Entity_ID] AS [Entity_ID], 
        [Extent1].[Portfolio_Code] AS [Portfolio_Code], 
        [Extent1].[Execution_Quantity] AS [Execution_Quantity], 
        [Extent1].[Execution_Net_Amount_TradeCur] AS [Execution_Net_Amount_TradeCur], 
        [Extent2].[Trade_Date] AS [Trade_Date], 
        [Extent2].[Transaction_Type] AS [Transaction_Type], 
        [Extent2].[Execution_AllIn_Price] AS [Execution_AllIn_Price], 
        [Extent3].[Ticker] AS [Ticker], 
        1 AS [C1], 
        cast(1 as bit) AS [C2]
        FROM   [dbo].[Order_Allocation] AS [Extent1]
        INNER JOIN [dbo].[Order_Detail] AS [Extent2] ON [Extent1].[Order_ID] = [Extent2].[Order_ID]
        INNER JOIN [dbo].[Security_Detail] AS [Extent3] ON [Extent2].[Security_ID] = [Extent3].[Security_ID]
        WHERE [Extent1].[Entity_ID] = @p__linq__0
    )  AS [Project1]
    ORDER BY [Project1].[Trade_Date] DESC, [Project1].[Entity_ID] ASC, [Project1].[Portfolio_Code] ASC
2018-06-05 20:27:08.4626|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: SELECT TOP (500) 
    [Project1].[C1] AS [C1], 
    [Project1].[C2] AS [C2], 
    [Project1].[Entity_ID] AS [Entity_ID], 
    [Project1].[Allocation_ID] AS [Allocation_ID], 
    [Project1].[Ticker] AS [Ticker], 
    [Project1].[Transaction_Type] AS [Transaction_Type], 
    [Project1].[Trade_Date] AS [Trade_Date], 
    [Project1].[Execution_AllIn_Price] AS [Execution_AllIn_Price], 
    [Project1].[Portfolio_Code] AS [Portfolio_Code], 
    [Project1].[Execution_Quantity] AS [Execution_Quantity], 
    [Project1].[Execution_Net_Amount_TradeCur] AS [Execution_Net_Amount_TradeCur]
    FROM ( SELECT 
        [Extent1].[Allocation_ID] AS [Allocation_ID], 
        [Extent1].[Entity_ID] AS [Entity_ID], 
        [Extent1].[Portfolio_Code] AS [Portfolio_Code], 
        [Extent1].[Execution_Quantity] AS [Execution_Quantity], 
        [Extent1].[Execution_Net_Amount_TradeCur] AS [Execution_Net_Amount_TradeCur], 
        [Extent2].[Trade_Date] AS [Trade_Date], 
        [Extent2].[Transaction_Type] AS [Transaction_Type], 
        [Extent2].[Execution_AllIn_Price] AS [Execution_AllIn_Price], 
        [Extent3].[Ticker] AS [Ticker], 
        1 AS [C1], 
        cast(1 as bit) AS [C2]
        FROM   [dbo].[Order_Allocation] AS [Extent1]
        INNER JOIN [dbo].[Order_Detail] AS [Extent2] ON [Extent1].[Order_ID] = [Extent2].[Order_ID]
        INNER JOIN [dbo].[Security_Detail] AS [Extent3] ON [Extent2].[Security_ID] = [Extent3].[Security_ID]
        WHERE [Extent1].[Entity_ID] = @p__linq__0
    )  AS [Project1]
    ORDER BY [Project1].[Trade_Date] DESC, [Project1].[Entity_ID] ASC, [Project1].[Portfolio_Code] ASC
2018-06-05 20:27:08.6012|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: IF db_id(N'MetopeAzureDb') IS NOT NULL SELECT 1 ELSE SELECT Count(*) FROM sys.databases WHERE [name]=N'MetopeAzureDb'
2018-06-05 20:27:08.6623|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: IF db_id(N'MetopeAzureDb') IS NOT NULL SELECT 1 ELSE SELECT Count(*) FROM sys.databases WHERE [name]=N'MetopeAzureDb'
2018-06-05 20:27:08.7098|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: IF db_id(N'MetopeAzureDb') IS NOT NULL SELECT 1 ELSE SELECT Count(*) FROM sys.databases WHERE [name]=N'MetopeAzureDb'
2018-06-05 20:27:08.7834|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: IF db_id(N'MetopeAzureDb') IS NOT NULL SELECT 1 ELSE SELECT Count(*) FROM sys.databases WHERE [name]=N'MetopeAzureDb'
