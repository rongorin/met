2018-04-07 09:29:54.4662|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: IF db_id(N'MetopeAzureDb') IS NOT NULL SELECT 1 ELSE SELECT Count(*) FROM sys.databases WHERE [name]=N'MetopeAzureDb'
2018-04-07 09:29:54.7450|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: IF db_id(N'MetopeAzureDb') IS NOT NULL SELECT 1 ELSE SELECT Count(*) FROM sys.databases WHERE [name]=N'MetopeAzureDb'
2018-04-07 09:29:55.0877|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: IF db_id(N'MetopeAzureDb') IS NOT NULL SELECT 1 ELSE SELECT Count(*) FROM sys.databases WHERE [name]=N'MetopeAzureDb'
2018-04-07 09:29:55.1097|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: IF db_id(N'MetopeAzureDb') IS NOT NULL SELECT 1 ELSE SELECT Count(*) FROM sys.databases WHERE [name]=N'MetopeAzureDb'
2018-04-07 09:29:55.3384|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: SELECT TOP (1) 
    [Extent1].[Party_Code] AS [Party_Code], 
    [Extent1].[Entity_ID] AS [Entity_ID], 
    [Extent1].[Actual_Forecast_Indicator] AS [Actual_Forecast_Indicator], 
    [Extent1].[Security_ID] AS [Security_ID], 
    [Extent1].[Financials_Date] AS [Financials_Date], 
    [Extent1].[Full_Adjusted_Share_NAV] AS [Full_Adjusted_Share_NAV], 
    [Extent1].[Enterprise_Value] AS [Enterprise_Value], 
    [Extent1].[Dividend_Yield] AS [Dividend_Yield], 
    [Extent1].[Net_Present_Value] AS [Net_Present_Value], 
    [Extent1].[Net_Property_Income] AS [Net_Property_Income], 
    [Extent1].[Vacancies_Overall] AS [Vacancies_Overall], 
    [Extent1].[Portfolio_Leases_Expiring] AS [Portfolio_Leases_Expiring], 
    [Extent1].[Assumed_Ave_Escalation_Rate] AS [Assumed_Ave_Escalation_Rate], 
    [Extent1].[Cap_Rate_Movemt_Assump] AS [Cap_Rate_Movemt_Assump], 
    [Extent1].[Reversion_Exp_Rent_Reviews] AS [Reversion_Exp_Rent_Reviews], 
    [Extent1].[Ungeared_Yield] AS [Ungeared_Yield], 
    [Extent1].[Net_Operating_Profit] AS [Net_Operating_Profit], 
    [Extent1].[Revenue_Growth] AS [Revenue_Growth], 
    [Extent1].[Net_Property_Income_Growth] AS [Net_Property_Income_Growth], 
    [Extent1].[Net_Operating_Profit_Growth] AS [Net_Operating_Profit_Growth], 
    [Extent1].[Interest_Paid_Growth] AS [Interest_Paid_Growth], 
    [Extent1].[Loan_To_Value] AS [Loan_To_Value], 
    [Extent1].[Interest_Cover_Ratio] AS [Interest_Cover_Ratio], 
    [Extent1].[Revenue] AS [Revenue], 
    [Extent1].[Interest_Paid] AS [Interest_Paid], 
    [Extent1].[Property_Expenses] AS [Property_Expenses], 
    [Extent1].[Property_Expenses_Growth] AS [Property_Expenses_Growth], 
    [Extent1].[Investment_Income] AS [Investment_Income], 
    [Extent1].[Admin_Expenses] AS [Admin_Expenses], 
    [Extent1].[Admin_Expenses_Growth] AS [Admin_Expenses_Growth], 
    [Extent1].[Taxation] AS [Taxation], 
    [Extent1].[Other_Income] AS [Other_Income], 
    [Extent1].[Distributable_Earnings] AS [Distributable_Earnings], 
    [Extent1].[Distributions_Growth] AS [Distributions_Growth], 
    [Extent1].[Linked_Units_Issued] AS [Linked_Units_Issued], 
    [Extent1].[Borrowings] AS [Borrowings], 
    [Extent1].[Units_Issued] AS [Units_Issued], 
    [Extent1].[Purchases_And_Developments] AS [Purchases_And_Developments], 
    [Extent1].[Sales] AS [Sales], 
    [Extent1].[Total_Assets] AS [Total_Assets], 
    [Extent1].[Current_Liabilities] AS [Current_Liabilities], 
    [Extent1].[Interest_Bearing_Borrowings] AS [Interest_Bearing_Borrowings], 
    [Extent1].[Last_Update_Date] AS [Last_Update_Date], 
    [Extent1].[Last_Update_User] AS [Last_Update_User], 
    [Extent1].[Forecast_Distributions_Growth] AS [Forecast_Distributions_Growth], 
    [Extent1].[Property_Portfolio_Value] AS [Property_Portfolio_Value], 
    [Extent1].[OffshoreExposure_WesternEurope] AS [OffshoreExposure_WesternEurope], 
    [Extent1].[OffshoreExposure_CEE] AS [OffshoreExposure_CEE], 
    [Extent1].[OffshoreExposure_US] AS [OffshoreExposure_US], 
    [Extent1].[OffshoreExposure_UK] AS [OffshoreExposure_UK], 
    [Extent1].[OffshoreExposure_Australia] AS [OffshoreExposure_Australia], 
    [Extent1].[OffshoreExposure_Africa] AS [OffshoreExposure_Africa], 
    [Extent1].[OffshoreExposure_Other] AS [OffshoreExposure_Other], 
    [Extent1].[Sector_Retail] AS [Sector_Retail], 
    [Extent1].[Sector_Office] AS [Sector_Office], 
    [Extent1].[Sector_Industrial] AS [Sector_Industrial], 
    [Extent1].[Sector_Residential] AS [Sector_Residential], 
    [Extent1].[Sector_Other] AS [Sector_Other], 
    [Extent1].[Sector_Offshore] AS [Sector_Offshore]
    FROM [dbo].[Party_Financials] AS [Extent1]
    WHERE ([Extent1].[Entity_ID] = @p__linq__0) AND ([Extent1].[Party_Code] = @p__linq__1) AND ([Extent1].[Actual_Forecast_Indicator] = @p__linq__2)
2018-04-07 09:29:55.4390|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: SELECT TOP (1) 
    [Extent1].[Party_Code] AS [Party_Code], 
    [Extent1].[Entity_ID] AS [Entity_ID], 
    [Extent1].[Actual_Forecast_Indicator] AS [Actual_Forecast_Indicator], 
    [Extent1].[Security_ID] AS [Security_ID], 
    [Extent1].[Financials_Date] AS [Financials_Date], 
    [Extent1].[Full_Adjusted_Share_NAV] AS [Full_Adjusted_Share_NAV], 
    [Extent1].[Enterprise_Value] AS [Enterprise_Value], 
    [Extent1].[Dividend_Yield] AS [Dividend_Yield], 
    [Extent1].[Net_Present_Value] AS [Net_Present_Value], 
    [Extent1].[Net_Property_Income] AS [Net_Property_Income], 
    [Extent1].[Vacancies_Overall] AS [Vacancies_Overall], 
    [Extent1].[Portfolio_Leases_Expiring] AS [Portfolio_Leases_Expiring], 
    [Extent1].[Assumed_Ave_Escalation_Rate] AS [Assumed_Ave_Escalation_Rate], 
    [Extent1].[Cap_Rate_Movemt_Assump] AS [Cap_Rate_Movemt_Assump], 
    [Extent1].[Reversion_Exp_Rent_Reviews] AS [Reversion_Exp_Rent_Reviews], 
    [Extent1].[Ungeared_Yield] AS [Ungeared_Yield], 
    [Extent1].[Net_Operating_Profit] AS [Net_Operating_Profit], 
    [Extent1].[Revenue_Growth] AS [Revenue_Growth], 
    [Extent1].[Net_Property_Income_Growth] AS [Net_Property_Income_Growth], 
    [Extent1].[Net_Operating_Profit_Growth] AS [Net_Operating_Profit_Growth], 
    [Extent1].[Interest_Paid_Growth] AS [Interest_Paid_Growth], 
    [Extent1].[Loan_To_Value] AS [Loan_To_Value], 
    [Extent1].[Interest_Cover_Ratio] AS [Interest_Cover_Ratio], 
    [Extent1].[Revenue] AS [Revenue], 
    [Extent1].[Interest_Paid] AS [Interest_Paid], 
    [Extent1].[Property_Expenses] AS [Property_Expenses], 
    [Extent1].[Property_Expenses_Growth] AS [Property_Expenses_Growth], 
    [Extent1].[Investment_Income] AS [Investment_Income], 
    [Extent1].[Admin_Expenses] AS [Admin_Expenses], 
    [Extent1].[Admin_Expenses_Growth] AS [Admin_Expenses_Growth], 
    [Extent1].[Taxation] AS [Taxation], 
    [Extent1].[Other_Income] AS [Other_Income], 
    [Extent1].[Distributable_Earnings] AS [Distributable_Earnings], 
    [Extent1].[Distributions_Growth] AS [Distributions_Growth], 
    [Extent1].[Linked_Units_Issued] AS [Linked_Units_Issued], 
    [Extent1].[Borrowings] AS [Borrowings], 
    [Extent1].[Units_Issued] AS [Units_Issued], 
    [Extent1].[Purchases_And_Developments] AS [Purchases_And_Developments], 
    [Extent1].[Sales] AS [Sales], 
    [Extent1].[Total_Assets] AS [Total_Assets], 
    [Extent1].[Current_Liabilities] AS [Current_Liabilities], 
    [Extent1].[Interest_Bearing_Borrowings] AS [Interest_Bearing_Borrowings], 
    [Extent1].[Last_Update_Date] AS [Last_Update_Date], 
    [Extent1].[Last_Update_User] AS [Last_Update_User], 
    [Extent1].[Forecast_Distributions_Growth] AS [Forecast_Distributions_Growth], 
    [Extent1].[Property_Portfolio_Value] AS [Property_Portfolio_Value], 
    [Extent1].[OffshoreExposure_WesternEurope] AS [OffshoreExposure_WesternEurope], 
    [Extent1].[OffshoreExposure_CEE] AS [OffshoreExposure_CEE], 
    [Extent1].[OffshoreExposure_US] AS [OffshoreExposure_US], 
    [Extent1].[OffshoreExposure_UK] AS [OffshoreExposure_UK], 
    [Extent1].[OffshoreExposure_Australia] AS [OffshoreExposure_Australia], 
    [Extent1].[OffshoreExposure_Africa] AS [OffshoreExposure_Africa], 
    [Extent1].[OffshoreExposure_Other] AS [OffshoreExposure_Other], 
    [Extent1].[Sector_Retail] AS [Sector_Retail], 
    [Extent1].[Sector_Office] AS [Sector_Office], 
    [Extent1].[Sector_Industrial] AS [Sector_Industrial], 
    [Extent1].[Sector_Residential] AS [Sector_Residential], 
    [Extent1].[Sector_Other] AS [Sector_Other], 
    [Extent1].[Sector_Offshore] AS [Sector_Offshore]
    FROM [dbo].[Party_Financials] AS [Extent1]
    WHERE ([Extent1].[Entity_ID] = @p__linq__0) AND ([Extent1].[Party_Code] = @p__linq__1) AND ([Extent1].[Actual_Forecast_Indicator] = @p__linq__2)
2018-04-07 09:29:56.0054|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: SELECT 
    [Project1].[Security_ID] AS [Security_ID], 
    [Project1].[Entity_ID] AS [Entity_ID], 
    [Project1].[Security_Name] AS [Security_Name], 
    [Project1].[Short_Name] AS [Short_Name], 
    [Project1].[Primary_Exch] AS [Primary_Exch], 
    [Project1].[Secondary_Exch] AS [Secondary_Exch], 
    [Project1].[Country_Of_Domicile] AS [Country_Of_Domicile], 
    [Project1].[Country_Of_Risk] AS [Country_Of_Risk], 
    [Project1].[Security_Type_Code] AS [Security_Type_Code], 
    [Project1].[Price_Multiplier] AS [Price_Multiplier], 
    [Project1].[Income_Frequency] AS [Income_Frequency], 
    [Project1].[Issuer_Code] AS [Issuer_Code], 
    [Project1].[Ultimate_Issuer_Code] AS [Ultimate_Issuer_Code], 
    [Project1].[Asset_Currency] AS [Asset_Currency], 
    [Project1].[Min_Lot_Size] AS [Min_Lot_Size], 
    [Project1].[Decimal_Precision] AS [Decimal_Precision], 
    [Project1].[AvePrice_Rounding] AS [AvePrice_Rounding], 
    [Project1].[Issue_Date] AS [Issue_Date], 
    [Project1].[Maturity_Date] AS [Maturity_Date], 
    [Project1].[Coupon_Rate] AS [Coupon_Rate], 
    [Project1].[Price_Exchange] AS [Price_Exchange], 
    [Project1].[Trade_Currency] AS [Trade_Currency], 
    [Project1].[Price_Curr] AS [Price_Curr], 
    [Project1].[Currency_Pair_Code] AS [Currency_Pair_Code], 
    [Project1].[Share_Class] AS [Share_Class], 
    [Project1].[Current_Market_Price] AS [Current_Market_Price], 
    [Project1].[Index_Type] AS [Index_Type], 
    [Project1].[Clean_Price_Formula] AS [Clean_Price_Formula], 
    [Project1].[Accrued_Income_Price_Formula] AS [Accrued_Income_Price_Formula], 
    [Project1].[Odd_First_Coupon_Date] AS [Odd_First_Coupon_Date], 
    [Project1].[Odd_Last_Coupon_Date] AS [Odd_Last_Coupon_Date], 
    [Project1].[Coupon_Anniversary_Indicator] AS [Coupon_Anniversary_Indicator], 
    [Project1].[Track_EOM_Flag] AS [Track_EOM_Flag], 
    [Project1].[Next_Coupon_Date] AS [Next_Coupon_Date], 
    [Project1].[Previous_Coupon_Date] AS [Previous_Coupon_Date], 
    [Project1].[Payment_Frequency] AS [Payment_Frequency], 
    [Project1].[Coupon_BusDay_Adjustment] AS [Coupon_BusDay_Adjustment], 
    [Project1].[Next_Ex_Div_Date] AS [Next_Ex_Div_Date], 
    [Project1].[Ex_Div_BusDay_Adjustment] AS [Ex_Div_BusDay_Adjustment], 
    [Project1].[Ex_Div_Period] AS [Ex_Div_Period], 
    [Project1].[Ticker] AS [Ticker], 
    [Project1].[Inet_ID] AS [Inet_ID], 
    [Project1].[Bloomberg_ID] AS [Bloomberg_ID], 
    [Project1].[External_Sec_ID] AS [External_Sec_ID], 
    [Project1].[Reuters_ID] AS [Reuters_ID], 
    [Project1].[ISIN] AS [ISIN], 
    [Project1].[Call_Account_Flag] AS [Call_Account_Flag], 
    [Project1].[System_Locked] AS [System_Locked], 
    [Project1].[Last_Update_User] AS [Last_Update_User], 
    [Project1].[Last_Update_Date] AS [Last_Update_Date], 
    [Project1].[Security_Status] AS [Security_Status], 
    [Project1].[Benchmark_Portfolio] AS [Benchmark_Portfolio], 
    [Project1].[Active_flag] AS [Active_flag], 
    [Project1].[Dividend_FX_Security_ID] AS [Dividend_FX_Security_ID]
    FROM ( SELECT 
        [Extent1].[Security_ID] AS [Security_ID], 
        [Extent1].[Entity_ID] AS [Entity_ID], 
        [Extent1].[Security_Name] AS [Security_Name], 
        [Extent1].[Short_Name] AS [Short_Name], 
        [Extent1].[Primary_Exch] AS [Primary_Exch], 
        [Extent1].[Secondary_Exch] AS [Secondary_Exch], 
        [Extent1].[Country_Of_Domicile] AS [Country_Of_Domicile], 
        [Extent1].[Country_Of_Risk] AS [Country_Of_Risk], 
        [Extent1].[Security_Type_Code] AS [Security_Type_Code], 
        [Extent1].[Price_Multiplier] AS [Price_Multiplier], 
        [Extent1].[Income_Frequency] AS [Income_Frequency], 
        [Extent1].[Issuer_Code] AS [Issuer_Code], 
        [Extent1].[Ultimate_Issuer_Code] AS [Ultimate_Issuer_Code], 
        [Extent1].[Asset_Currency] AS [Asset_Currency], 
        [Extent1].[Min_Lot_Size] AS [Min_Lot_Size], 
        [Extent1].[Decimal_Precision] AS [Decimal_Precision], 
        [Extent1].[AvePrice_Rounding] AS [AvePrice_Rounding], 
        [Extent1].[Issue_Date] AS [Issue_Date], 
        [Extent1].[Maturity_Date] AS [Maturity_Date], 
        [Extent1].[Coupon_Rate] AS [Coupon_Rate], 
        [Extent1].[Price_Exchange] AS [Price_Exchange], 
        [Extent1].[Trade_Currency] AS [Trade_Currency], 
        [Extent1].[Price_Curr] AS [Price_Curr], 
        [Extent1].[Currency_Pair_Code] AS [Currency_Pair_Code], 
        [Extent1].[Share_Class] AS [Share_Class], 
        [Extent1].[Current_Market_Price] AS [Current_Market_Price], 
        [Extent1].[Index_Type] AS [Index_Type], 
        [Extent1].[Clean_Price_Formula] AS [Clean_Price_Formula], 
        [Extent1].[Accrued_Income_Price_Formula] AS [Accrued_Income_Price_Formula], 
        [Extent1].[Odd_First_Coupon_Date] AS [Odd_First_Coupon_Date], 
        [Extent1].[Odd_Last_Coupon_Date] AS [Odd_Last_Coupon_Date], 
        [Extent1].[Coupon_Anniversary_Indicator] AS [Coupon_Anniversary_Indicator], 
        [Extent1].[Track_EOM_Flag] AS [Track_EOM_Flag], 
        [Extent1].[Next_Coupon_Date] AS [Next_Coupon_Date], 
        [Extent1].[Previous_Coupon_Date] AS [Previous_Coupon_Date], 
        [Extent1].[Payment_Frequency] AS [Payment_Frequency], 
        [Extent1].[Coupon_BusDay_Adjustment] AS [Coupon_BusDay_Adjustment], 
        [Extent1].[Next_Ex_Div_Date] AS [Next_Ex_Div_Date], 
        [Extent1].[Ex_Div_BusDay_Adjustment] AS [Ex_Div_BusDay_Adjustment], 
        [Extent1].[Ex_Div_Period] AS [Ex_Div_Period], 
        [Extent1].[Ticker] AS [Ticker], 
        [Extent1].[Inet_ID] AS [Inet_ID], 
        [Extent1].[Bloomberg_ID] AS [Bloomberg_ID], 
        [Extent1].[External_Sec_ID] AS [External_Sec_ID], 
        [Extent1].[Reuters_ID] AS [Reuters_ID], 
        [Extent1].[ISIN] AS [ISIN], 
        [Extent1].[Call_Account_Flag] AS [Call_Account_Flag], 
        [Extent1].[System_Locked] AS [System_Locked], 
        [Extent1].[Last_Update_User] AS [Last_Update_User], 
        [Extent1].[Last_Update_Date] AS [Last_Update_Date], 
        [Extent1].[Security_Status] AS [Security_Status], 
        [Extent1].[Benchmark_Portfolio] AS [Benchmark_Portfolio], 
        [Extent1].[Active_flag] AS [Active_flag], 
        [Extent1].[Dividend_FX_Security_ID] AS [Dividend_FX_Security_ID]
        FROM [dbo].[Security_Detail] AS [Extent1]
        WHERE ([Extent1].[Entity_ID] IN (@p__linq__0,@p__linq__1)) AND ((CASE WHEN ( NOT ((N'' = @p__linq__2) AND (@p__linq__2 IS NOT NULL))) THEN CASE WHEN ([Extent1].[Security_Type_Code] = @p__linq__3) THEN cast(1 as bit) WHEN ( NOT (([Extent1].[Security_Type_Code] = @p__linq__3) AND (0 = (CASE WHEN (@p__linq__3 IS NULL) THEN cast(1 as bit) ELSE cast(0 as bit) END)))) THEN cast(0 as bit) END WHEN ('' <> [Extent1].[Security_Type_Code]) THEN cast(1 as bit) WHEN ('' = [Extent1].[Security_Type_Code]) THEN cast(0 as bit) END) = 1)
    )  AS [Project1]
    ORDER BY [Project1].[Security_Name] ASC
2018-04-07 09:29:56.1159|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: SELECT 
    [Project1].[Security_ID] AS [Security_ID], 
    [Project1].[Entity_ID] AS [Entity_ID], 
    [Project1].[Security_Name] AS [Security_Name], 
    [Project1].[Short_Name] AS [Short_Name], 
    [Project1].[Primary_Exch] AS [Primary_Exch], 
    [Project1].[Secondary_Exch] AS [Secondary_Exch], 
    [Project1].[Country_Of_Domicile] AS [Country_Of_Domicile], 
    [Project1].[Country_Of_Risk] AS [Country_Of_Risk], 
    [Project1].[Security_Type_Code] AS [Security_Type_Code], 
    [Project1].[Price_Multiplier] AS [Price_Multiplier], 
    [Project1].[Income_Frequency] AS [Income_Frequency], 
    [Project1].[Issuer_Code] AS [Issuer_Code], 
    [Project1].[Ultimate_Issuer_Code] AS [Ultimate_Issuer_Code], 
    [Project1].[Asset_Currency] AS [Asset_Currency], 
    [Project1].[Min_Lot_Size] AS [Min_Lot_Size], 
    [Project1].[Decimal_Precision] AS [Decimal_Precision], 
    [Project1].[AvePrice_Rounding] AS [AvePrice_Rounding], 
    [Project1].[Issue_Date] AS [Issue_Date], 
    [Project1].[Maturity_Date] AS [Maturity_Date], 
    [Project1].[Coupon_Rate] AS [Coupon_Rate], 
    [Project1].[Price_Exchange] AS [Price_Exchange], 
    [Project1].[Trade_Currency] AS [Trade_Currency], 
    [Project1].[Price_Curr] AS [Price_Curr], 
    [Project1].[Currency_Pair_Code] AS [Currency_Pair_Code], 
    [Project1].[Share_Class] AS [Share_Class], 
    [Project1].[Current_Market_Price] AS [Current_Market_Price], 
    [Project1].[Index_Type] AS [Index_Type], 
    [Project1].[Clean_Price_Formula] AS [Clean_Price_Formula], 
    [Project1].[Accrued_Income_Price_Formula] AS [Accrued_Income_Price_Formula], 
    [Project1].[Odd_First_Coupon_Date] AS [Odd_First_Coupon_Date], 
    [Project1].[Odd_Last_Coupon_Date] AS [Odd_Last_Coupon_Date], 
    [Project1].[Coupon_Anniversary_Indicator] AS [Coupon_Anniversary_Indicator], 
    [Project1].[Track_EOM_Flag] AS [Track_EOM_Flag], 
    [Project1].[Next_Coupon_Date] AS [Next_Coupon_Date], 
    [Project1].[Previous_Coupon_Date] AS [Previous_Coupon_Date], 
    [Project1].[Payment_Frequency] AS [Payment_Frequency], 
    [Project1].[Coupon_BusDay_Adjustment] AS [Coupon_BusDay_Adjustment], 
    [Project1].[Next_Ex_Div_Date] AS [Next_Ex_Div_Date], 
    [Project1].[Ex_Div_BusDay_Adjustment] AS [Ex_Div_BusDay_Adjustment], 
    [Project1].[Ex_Div_Period] AS [Ex_Div_Period], 
    [Project1].[Ticker] AS [Ticker], 
    [Project1].[Inet_ID] AS [Inet_ID], 
    [Project1].[Bloomberg_ID] AS [Bloomberg_ID], 
    [Project1].[External_Sec_ID] AS [External_Sec_ID], 
    [Project1].[Reuters_ID] AS [Reuters_ID], 
    [Project1].[ISIN] AS [ISIN], 
    [Project1].[Call_Account_Flag] AS [Call_Account_Flag], 
    [Project1].[System_Locked] AS [System_Locked], 
    [Project1].[Last_Update_User] AS [Last_Update_User], 
    [Project1].[Last_Update_Date] AS [Last_Update_Date], 
    [Project1].[Security_Status] AS [Security_Status], 
    [Project1].[Benchmark_Portfolio] AS [Benchmark_Portfolio], 
    [Project1].[Active_flag] AS [Active_flag], 
    [Project1].[Dividend_FX_Security_ID] AS [Dividend_FX_Security_ID]
    FROM ( SELECT 
        [Extent1].[Security_ID] AS [Security_ID], 
        [Extent1].[Entity_ID] AS [Entity_ID], 
        [Extent1].[Security_Name] AS [Security_Name], 
        [Extent1].[Short_Name] AS [Short_Name], 
        [Extent1].[Primary_Exch] AS [Primary_Exch], 
        [Extent1].[Secondary_Exch] AS [Secondary_Exch], 
        [Extent1].[Country_Of_Domicile] AS [Country_Of_Domicile], 
        [Extent1].[Country_Of_Risk] AS [Country_Of_Risk], 
        [Extent1].[Security_Type_Code] AS [Security_Type_Code], 
        [Extent1].[Price_Multiplier] AS [Price_Multiplier], 
        [Extent1].[Income_Frequency] AS [Income_Frequency], 
        [Extent1].[Issuer_Code] AS [Issuer_Code], 
        [Extent1].[Ultimate_Issuer_Code] AS [Ultimate_Issuer_Code], 
        [Extent1].[Asset_Currency] AS [Asset_Currency], 
        [Extent1].[Min_Lot_Size] AS [Min_Lot_Size], 
        [Extent1].[Decimal_Precision] AS [Decimal_Precision], 
        [Extent1].[AvePrice_Rounding] AS [AvePrice_Rounding], 
        [Extent1].[Issue_Date] AS [Issue_Date], 
        [Extent1].[Maturity_Date] AS [Maturity_Date], 
        [Extent1].[Coupon_Rate] AS [Coupon_Rate], 
        [Extent1].[Price_Exchange] AS [Price_Exchange], 
        [Extent1].[Trade_Currency] AS [Trade_Currency], 
        [Extent1].[Price_Curr] AS [Price_Curr], 
        [Extent1].[Currency_Pair_Code] AS [Currency_Pair_Code], 
        [Extent1].[Share_Class] AS [Share_Class], 
        [Extent1].[Current_Market_Price] AS [Current_Market_Price], 
        [Extent1].[Index_Type] AS [Index_Type], 
        [Extent1].[Clean_Price_Formula] AS [Clean_Price_Formula], 
        [Extent1].[Accrued_Income_Price_Formula] AS [Accrued_Income_Price_Formula], 
        [Extent1].[Odd_First_Coupon_Date] AS [Odd_First_Coupon_Date], 
        [Extent1].[Odd_Last_Coupon_Date] AS [Odd_Last_Coupon_Date], 
        [Extent1].[Coupon_Anniversary_Indicator] AS [Coupon_Anniversary_Indicator], 
        [Extent1].[Track_EOM_Flag] AS [Track_EOM_Flag], 
        [Extent1].[Next_Coupon_Date] AS [Next_Coupon_Date], 
        [Extent1].[Previous_Coupon_Date] AS [Previous_Coupon_Date], 
        [Extent1].[Payment_Frequency] AS [Payment_Frequency], 
        [Extent1].[Coupon_BusDay_Adjustment] AS [Coupon_BusDay_Adjustment], 
        [Extent1].[Next_Ex_Div_Date] AS [Next_Ex_Div_Date], 
        [Extent1].[Ex_Div_BusDay_Adjustment] AS [Ex_Div_BusDay_Adjustment], 
        [Extent1].[Ex_Div_Period] AS [Ex_Div_Period], 
        [Extent1].[Ticker] AS [Ticker], 
        [Extent1].[Inet_ID] AS [Inet_ID], 
        [Extent1].[Bloomberg_ID] AS [Bloomberg_ID], 
        [Extent1].[External_Sec_ID] AS [External_Sec_ID], 
        [Extent1].[Reuters_ID] AS [Reuters_ID], 
        [Extent1].[ISIN] AS [ISIN], 
        [Extent1].[Call_Account_Flag] AS [Call_Account_Flag], 
        [Extent1].[System_Locked] AS [System_Locked], 
        [Extent1].[Last_Update_User] AS [Last_Update_User], 
        [Extent1].[Last_Update_Date] AS [Last_Update_Date], 
        [Extent1].[Security_Status] AS [Security_Status], 
        [Extent1].[Benchmark_Portfolio] AS [Benchmark_Portfolio], 
        [Extent1].[Active_flag] AS [Active_flag], 
        [Extent1].[Dividend_FX_Security_ID] AS [Dividend_FX_Security_ID]
        FROM [dbo].[Security_Detail] AS [Extent1]
        WHERE ([Extent1].[Entity_ID] IN (@p__linq__0,@p__linq__1)) AND ((CASE WHEN ( NOT ((N'' = @p__linq__2) AND (@p__linq__2 IS NOT NULL))) THEN CASE WHEN ([Extent1].[Security_Type_Code] = @p__linq__3) THEN cast(1 as bit) WHEN ( NOT (([Extent1].[Security_Type_Code] = @p__linq__3) AND (0 = (CASE WHEN (@p__linq__3 IS NULL) THEN cast(1 as bit) ELSE cast(0 as bit) END)))) THEN cast(0 as bit) END WHEN ('' <> [Extent1].[Security_Type_Code]) THEN cast(1 as bit) WHEN ('' = [Extent1].[Security_Type_Code]) THEN cast(0 as bit) END) = 1)
    )  AS [Project1]
    ORDER BY [Project1].[Security_Name] ASC
2018-04-07 09:29:56.5217|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: IF db_id(N'MetopeAzureDb') IS NOT NULL SELECT 1 ELSE SELECT Count(*) FROM sys.databases WHERE [name]=N'MetopeAzureDb'
2018-04-07 09:29:56.5447|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: IF db_id(N'MetopeAzureDb') IS NOT NULL SELECT 1 ELSE SELECT Count(*) FROM sys.databases WHERE [name]=N'MetopeAzureDb'
2018-04-07 09:29:56.5853|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: IF db_id(N'MetopeAzureDb') IS NOT NULL SELECT 1 ELSE SELECT Count(*) FROM sys.databases WHERE [name]=N'MetopeAzureDb'
2018-04-07 09:29:56.6103|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: IF db_id(N'MetopeAzureDb') IS NOT NULL SELECT 1 ELSE SELECT Count(*) FROM sys.databases WHERE [name]=N'MetopeAzureDb'
2018-04-07 09:29:56.6408|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: True, Command Text: SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[EntityIdScope] AS [EntityIdScope], 
    [Extent1].[Email] AS [Email], 
    [Extent1].[EmailConfirmed] AS [EmailConfirmed], 
    [Extent1].[PasswordHash] AS [PasswordHash], 
    [Extent1].[SecurityStamp] AS [SecurityStamp], 
    [Extent1].[PhoneNumber] AS [PhoneNumber], 
    [Extent1].[PhoneNumberConfirmed] AS [PhoneNumberConfirmed], 
    [Extent1].[TwoFactorEnabled] AS [TwoFactorEnabled], 
    [Extent1].[LockoutEndDateUtc] AS [LockoutEndDateUtc], 
    [Extent1].[LockoutEnabled] AS [LockoutEnabled], 
    [Extent1].[AccessFailedCount] AS [AccessFailedCount], 
    [Extent1].[UserName] AS [UserName]
    FROM [dbo].[AspNetUsers] AS [Extent1]
    WHERE [Extent1].[Id] = @p0
2018-04-07 09:29:56.6783|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: True, Command Text: SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[EntityIdScope] AS [EntityIdScope], 
    [Extent1].[Email] AS [Email], 
    [Extent1].[EmailConfirmed] AS [EmailConfirmed], 
    [Extent1].[PasswordHash] AS [PasswordHash], 
    [Extent1].[SecurityStamp] AS [SecurityStamp], 
    [Extent1].[PhoneNumber] AS [PhoneNumber], 
    [Extent1].[PhoneNumberConfirmed] AS [PhoneNumberConfirmed], 
    [Extent1].[TwoFactorEnabled] AS [TwoFactorEnabled], 
    [Extent1].[LockoutEndDateUtc] AS [LockoutEndDateUtc], 
    [Extent1].[LockoutEnabled] AS [LockoutEnabled], 
    [Extent1].[AccessFailedCount] AS [AccessFailedCount], 
    [Extent1].[UserName] AS [UserName]
    FROM [dbo].[AspNetUsers] AS [Extent1]
    WHERE [Extent1].[Id] = @p0
2018-04-07 09:29:56.7094|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: True, Command Text: SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[UserId] AS [UserId], 
    [Extent1].[ClaimType] AS [ClaimType], 
    [Extent1].[ClaimValue] AS [ClaimValue]
    FROM [dbo].[AspNetUserClaims] AS [Extent1]
    WHERE [Extent1].[UserId] = @p__linq__0
2018-04-07 09:29:56.7564|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: True, Command Text: SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[UserId] AS [UserId], 
    [Extent1].[ClaimType] AS [ClaimType], 
    [Extent1].[ClaimValue] AS [ClaimValue]
    FROM [dbo].[AspNetUserClaims] AS [Extent1]
    WHERE [Extent1].[UserId] = @p__linq__0
2018-04-07 09:29:56.8034|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: True, Command Text: SELECT 
    [Extent1].[LoginProvider] AS [LoginProvider], 
    [Extent1].[ProviderKey] AS [ProviderKey], 
    [Extent1].[UserId] AS [UserId]
    FROM [dbo].[AspNetUserLogins] AS [Extent1]
    WHERE [Extent1].[UserId] = @p__linq__0
2018-04-07 09:29:56.8344|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: True, Command Text: SELECT 
    [Extent1].[LoginProvider] AS [LoginProvider], 
    [Extent1].[ProviderKey] AS [ProviderKey], 
    [Extent1].[UserId] AS [UserId]
    FROM [dbo].[AspNetUserLogins] AS [Extent1]
    WHERE [Extent1].[UserId] = @p__linq__0
2018-04-07 09:29:56.8680|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: True, Command Text: SELECT 
    [Extent1].[UserId] AS [UserId], 
    [Extent1].[RoleId] AS [RoleId]
    FROM [dbo].[AspNetUserRoles] AS [Extent1]
    WHERE [Extent1].[UserId] = @p__linq__0
2018-04-07 09:29:56.9125|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: True, Command Text: SELECT 
    [Extent1].[UserId] AS [UserId], 
    [Extent1].[RoleId] AS [RoleId]
    FROM [dbo].[AspNetUserRoles] AS [Extent1]
    WHERE [Extent1].[UserId] = @p__linq__0
2018-04-07 09:29:56.9450|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: SELECT TOP (2) 
    [Extent1].[Entity_ID] AS [Entity_ID], 
    [Extent1].[Entity_Code] AS [Entity_Code], 
    [Extent1].[Entity_Name] AS [Entity_Name], 
    [Extent1].[Import_Folder] AS [Import_Folder], 
    [Extent1].[Export_Folder] AS [Export_Folder]
    FROM [dbo].[Entity] AS [Extent1]
    WHERE [Extent1].[Entity_ID] = @p0
2018-04-07 09:29:56.9830|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: SELECT TOP (2) 
    [Extent1].[Entity_ID] AS [Entity_ID], 
    [Extent1].[Entity_Code] AS [Entity_Code], 
    [Extent1].[Entity_Name] AS [Entity_Name], 
    [Extent1].[Import_Folder] AS [Import_Folder], 
    [Extent1].[Export_Folder] AS [Export_Folder]
    FROM [dbo].[Entity] AS [Extent1]
    WHERE [Extent1].[Entity_ID] = @p0
2018-04-07 09:29:57.1116|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: IF db_id(N'MetopeAzureDb') IS NOT NULL SELECT 1 ELSE SELECT Count(*) FROM sys.databases WHERE [name]=N'MetopeAzureDb'
2018-04-07 09:29:57.1437|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: IF db_id(N'MetopeAzureDb') IS NOT NULL SELECT 1 ELSE SELECT Count(*) FROM sys.databases WHERE [name]=N'MetopeAzureDb'
2018-04-07 09:29:57.1847|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: SELECT TOP (1) 
    [Extent1].[Party_Code] AS [Party_Code], 
    [Extent1].[Entity_ID] AS [Entity_ID], 
    [Extent1].[Actual_Forecast_Indicator] AS [Actual_Forecast_Indicator], 
    [Extent1].[Security_ID] AS [Security_ID], 
    [Extent1].[Financials_Date] AS [Financials_Date], 
    [Extent1].[Full_Adjusted_Share_NAV] AS [Full_Adjusted_Share_NAV], 
    [Extent1].[Enterprise_Value] AS [Enterprise_Value], 
    [Extent1].[Dividend_Yield] AS [Dividend_Yield], 
    [Extent1].[Net_Present_Value] AS [Net_Present_Value], 
    [Extent1].[Net_Property_Income] AS [Net_Property_Income], 
    [Extent1].[Vacancies_Overall] AS [Vacancies_Overall], 
    [Extent1].[Portfolio_Leases_Expiring] AS [Portfolio_Leases_Expiring], 
    [Extent1].[Assumed_Ave_Escalation_Rate] AS [Assumed_Ave_Escalation_Rate], 
    [Extent1].[Cap_Rate_Movemt_Assump] AS [Cap_Rate_Movemt_Assump], 
    [Extent1].[Reversion_Exp_Rent_Reviews] AS [Reversion_Exp_Rent_Reviews], 
    [Extent1].[Ungeared_Yield] AS [Ungeared_Yield], 
    [Extent1].[Net_Operating_Profit] AS [Net_Operating_Profit], 
    [Extent1].[Revenue_Growth] AS [Revenue_Growth], 
    [Extent1].[Net_Property_Income_Growth] AS [Net_Property_Income_Growth], 
    [Extent1].[Net_Operating_Profit_Growth] AS [Net_Operating_Profit_Growth], 
    [Extent1].[Interest_Paid_Growth] AS [Interest_Paid_Growth], 
    [Extent1].[Loan_To_Value] AS [Loan_To_Value], 
    [Extent1].[Interest_Cover_Ratio] AS [Interest_Cover_Ratio], 
    [Extent1].[Revenue] AS [Revenue], 
    [Extent1].[Interest_Paid] AS [Interest_Paid], 
    [Extent1].[Property_Expenses] AS [Property_Expenses], 
    [Extent1].[Property_Expenses_Growth] AS [Property_Expenses_Growth], 
    [Extent1].[Investment_Income] AS [Investment_Income], 
    [Extent1].[Admin_Expenses] AS [Admin_Expenses], 
    [Extent1].[Admin_Expenses_Growth] AS [Admin_Expenses_Growth], 
    [Extent1].[Taxation] AS [Taxation], 
    [Extent1].[Other_Income] AS [Other_Income], 
    [Extent1].[Distributable_Earnings] AS [Distributable_Earnings], 
    [Extent1].[Distributions_Growth] AS [Distributions_Growth], 
    [Extent1].[Linked_Units_Issued] AS [Linked_Units_Issued], 
    [Extent1].[Borrowings] AS [Borrowings], 
    [Extent1].[Units_Issued] AS [Units_Issued], 
    [Extent1].[Purchases_And_Developments] AS [Purchases_And_Developments], 
    [Extent1].[Sales] AS [Sales], 
    [Extent1].[Total_Assets] AS [Total_Assets], 
    [Extent1].[Current_Liabilities] AS [Current_Liabilities], 
    [Extent1].[Interest_Bearing_Borrowings] AS [Interest_Bearing_Borrowings], 
    [Extent1].[Last_Update_Date] AS [Last_Update_Date], 
    [Extent1].[Last_Update_User] AS [Last_Update_User], 
    [Extent1].[Forecast_Distributions_Growth] AS [Forecast_Distributions_Growth], 
    [Extent1].[Property_Portfolio_Value] AS [Property_Portfolio_Value], 
    [Extent1].[OffshoreExposure_WesternEurope] AS [OffshoreExposure_WesternEurope], 
    [Extent1].[OffshoreExposure_CEE] AS [OffshoreExposure_CEE], 
    [Extent1].[OffshoreExposure_US] AS [OffshoreExposure_US], 
    [Extent1].[OffshoreExposure_UK] AS [OffshoreExposure_UK], 
    [Extent1].[OffshoreExposure_Australia] AS [OffshoreExposure_Australia], 
    [Extent1].[OffshoreExposure_Africa] AS [OffshoreExposure_Africa], 
    [Extent1].[OffshoreExposure_Other] AS [OffshoreExposure_Other], 
    [Extent1].[Sector_Retail] AS [Sector_Retail], 
    [Extent1].[Sector_Office] AS [Sector_Office], 
    [Extent1].[Sector_Industrial] AS [Sector_Industrial], 
    [Extent1].[Sector_Residential] AS [Sector_Residential], 
    [Extent1].[Sector_Other] AS [Sector_Other], 
    [Extent1].[Sector_Offshore] AS [Sector_Offshore]
    FROM [dbo].[Party_Financials] AS [Extent1]
    WHERE ([Extent1].[Entity_ID] = @p__linq__0) AND ([Extent1].[Party_Code] = @p__linq__1) AND ([Extent1].[Actual_Forecast_Indicator] = @p__linq__2)
2018-04-07 09:29:57.2242|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: SELECT TOP (1) 
    [Extent1].[Party_Code] AS [Party_Code], 
    [Extent1].[Entity_ID] AS [Entity_ID], 
    [Extent1].[Actual_Forecast_Indicator] AS [Actual_Forecast_Indicator], 
    [Extent1].[Security_ID] AS [Security_ID], 
    [Extent1].[Financials_Date] AS [Financials_Date], 
    [Extent1].[Full_Adjusted_Share_NAV] AS [Full_Adjusted_Share_NAV], 
    [Extent1].[Enterprise_Value] AS [Enterprise_Value], 
    [Extent1].[Dividend_Yield] AS [Dividend_Yield], 
    [Extent1].[Net_Present_Value] AS [Net_Present_Value], 
    [Extent1].[Net_Property_Income] AS [Net_Property_Income], 
    [Extent1].[Vacancies_Overall] AS [Vacancies_Overall], 
    [Extent1].[Portfolio_Leases_Expiring] AS [Portfolio_Leases_Expiring], 
    [Extent1].[Assumed_Ave_Escalation_Rate] AS [Assumed_Ave_Escalation_Rate], 
    [Extent1].[Cap_Rate_Movemt_Assump] AS [Cap_Rate_Movemt_Assump], 
    [Extent1].[Reversion_Exp_Rent_Reviews] AS [Reversion_Exp_Rent_Reviews], 
    [Extent1].[Ungeared_Yield] AS [Ungeared_Yield], 
    [Extent1].[Net_Operating_Profit] AS [Net_Operating_Profit], 
    [Extent1].[Revenue_Growth] AS [Revenue_Growth], 
    [Extent1].[Net_Property_Income_Growth] AS [Net_Property_Income_Growth], 
    [Extent1].[Net_Operating_Profit_Growth] AS [Net_Operating_Profit_Growth], 
    [Extent1].[Interest_Paid_Growth] AS [Interest_Paid_Growth], 
    [Extent1].[Loan_To_Value] AS [Loan_To_Value], 
    [Extent1].[Interest_Cover_Ratio] AS [Interest_Cover_Ratio], 
    [Extent1].[Revenue] AS [Revenue], 
    [Extent1].[Interest_Paid] AS [Interest_Paid], 
    [Extent1].[Property_Expenses] AS [Property_Expenses], 
    [Extent1].[Property_Expenses_Growth] AS [Property_Expenses_Growth], 
    [Extent1].[Investment_Income] AS [Investment_Income], 
    [Extent1].[Admin_Expenses] AS [Admin_Expenses], 
    [Extent1].[Admin_Expenses_Growth] AS [Admin_Expenses_Growth], 
    [Extent1].[Taxation] AS [Taxation], 
    [Extent1].[Other_Income] AS [Other_Income], 
    [Extent1].[Distributable_Earnings] AS [Distributable_Earnings], 
    [Extent1].[Distributions_Growth] AS [Distributions_Growth], 
    [Extent1].[Linked_Units_Issued] AS [Linked_Units_Issued], 
    [Extent1].[Borrowings] AS [Borrowings], 
    [Extent1].[Units_Issued] AS [Units_Issued], 
    [Extent1].[Purchases_And_Developments] AS [Purchases_And_Developments], 
    [Extent1].[Sales] AS [Sales], 
    [Extent1].[Total_Assets] AS [Total_Assets], 
    [Extent1].[Current_Liabilities] AS [Current_Liabilities], 
    [Extent1].[Interest_Bearing_Borrowings] AS [Interest_Bearing_Borrowings], 
    [Extent1].[Last_Update_Date] AS [Last_Update_Date], 
    [Extent1].[Last_Update_User] AS [Last_Update_User], 
    [Extent1].[Forecast_Distributions_Growth] AS [Forecast_Distributions_Growth], 
    [Extent1].[Property_Portfolio_Value] AS [Property_Portfolio_Value], 
    [Extent1].[OffshoreExposure_WesternEurope] AS [OffshoreExposure_WesternEurope], 
    [Extent1].[OffshoreExposure_CEE] AS [OffshoreExposure_CEE], 
    [Extent1].[OffshoreExposure_US] AS [OffshoreExposure_US], 
    [Extent1].[OffshoreExposure_UK] AS [OffshoreExposure_UK], 
    [Extent1].[OffshoreExposure_Australia] AS [OffshoreExposure_Australia], 
    [Extent1].[OffshoreExposure_Africa] AS [OffshoreExposure_Africa], 
    [Extent1].[OffshoreExposure_Other] AS [OffshoreExposure_Other], 
    [Extent1].[Sector_Retail] AS [Sector_Retail], 
    [Extent1].[Sector_Office] AS [Sector_Office], 
    [Extent1].[Sector_Industrial] AS [Sector_Industrial], 
    [Extent1].[Sector_Residential] AS [Sector_Residential], 
    [Extent1].[Sector_Other] AS [Sector_Other], 
    [Extent1].[Sector_Offshore] AS [Sector_Offshore]
    FROM [dbo].[Party_Financials] AS [Extent1]
    WHERE ([Extent1].[Entity_ID] = @p__linq__0) AND ([Extent1].[Party_Code] = @p__linq__1) AND ([Extent1].[Actual_Forecast_Indicator] = @p__linq__2)
2018-04-07 09:29:57.2587|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: SELECT 
    [Project1].[Security_ID] AS [Security_ID], 
    [Project1].[Entity_ID] AS [Entity_ID], 
    [Project1].[Security_Name] AS [Security_Name], 
    [Project1].[Short_Name] AS [Short_Name], 
    [Project1].[Primary_Exch] AS [Primary_Exch], 
    [Project1].[Secondary_Exch] AS [Secondary_Exch], 
    [Project1].[Country_Of_Domicile] AS [Country_Of_Domicile], 
    [Project1].[Country_Of_Risk] AS [Country_Of_Risk], 
    [Project1].[Security_Type_Code] AS [Security_Type_Code], 
    [Project1].[Price_Multiplier] AS [Price_Multiplier], 
    [Project1].[Income_Frequency] AS [Income_Frequency], 
    [Project1].[Issuer_Code] AS [Issuer_Code], 
    [Project1].[Ultimate_Issuer_Code] AS [Ultimate_Issuer_Code], 
    [Project1].[Asset_Currency] AS [Asset_Currency], 
    [Project1].[Min_Lot_Size] AS [Min_Lot_Size], 
    [Project1].[Decimal_Precision] AS [Decimal_Precision], 
    [Project1].[AvePrice_Rounding] AS [AvePrice_Rounding], 
    [Project1].[Issue_Date] AS [Issue_Date], 
    [Project1].[Maturity_Date] AS [Maturity_Date], 
    [Project1].[Coupon_Rate] AS [Coupon_Rate], 
    [Project1].[Price_Exchange] AS [Price_Exchange], 
    [Project1].[Trade_Currency] AS [Trade_Currency], 
    [Project1].[Price_Curr] AS [Price_Curr], 
    [Project1].[Currency_Pair_Code] AS [Currency_Pair_Code], 
    [Project1].[Share_Class] AS [Share_Class], 
    [Project1].[Current_Market_Price] AS [Current_Market_Price], 
    [Project1].[Index_Type] AS [Index_Type], 
    [Project1].[Clean_Price_Formula] AS [Clean_Price_Formula], 
    [Project1].[Accrued_Income_Price_Formula] AS [Accrued_Income_Price_Formula], 
    [Project1].[Odd_First_Coupon_Date] AS [Odd_First_Coupon_Date], 
    [Project1].[Odd_Last_Coupon_Date] AS [Odd_Last_Coupon_Date], 
    [Project1].[Coupon_Anniversary_Indicator] AS [Coupon_Anniversary_Indicator], 
    [Project1].[Track_EOM_Flag] AS [Track_EOM_Flag], 
    [Project1].[Next_Coupon_Date] AS [Next_Coupon_Date], 
    [Project1].[Previous_Coupon_Date] AS [Previous_Coupon_Date], 
    [Project1].[Payment_Frequency] AS [Payment_Frequency], 
    [Project1].[Coupon_BusDay_Adjustment] AS [Coupon_BusDay_Adjustment], 
    [Project1].[Next_Ex_Div_Date] AS [Next_Ex_Div_Date], 
    [Project1].[Ex_Div_BusDay_Adjustment] AS [Ex_Div_BusDay_Adjustment], 
    [Project1].[Ex_Div_Period] AS [Ex_Div_Period], 
    [Project1].[Ticker] AS [Ticker], 
    [Project1].[Inet_ID] AS [Inet_ID], 
    [Project1].[Bloomberg_ID] AS [Bloomberg_ID], 
    [Project1].[External_Sec_ID] AS [External_Sec_ID], 
    [Project1].[Reuters_ID] AS [Reuters_ID], 
    [Project1].[ISIN] AS [ISIN], 
    [Project1].[Call_Account_Flag] AS [Call_Account_Flag], 
    [Project1].[System_Locked] AS [System_Locked], 
    [Project1].[Last_Update_User] AS [Last_Update_User], 
    [Project1].[Last_Update_Date] AS [Last_Update_Date], 
    [Project1].[Security_Status] AS [Security_Status], 
    [Project1].[Benchmark_Portfolio] AS [Benchmark_Portfolio], 
    [Project1].[Active_flag] AS [Active_flag], 
    [Project1].[Dividend_FX_Security_ID] AS [Dividend_FX_Security_ID]
    FROM ( SELECT 
        [Extent1].[Security_ID] AS [Security_ID], 
        [Extent1].[Entity_ID] AS [Entity_ID], 
        [Extent1].[Security_Name] AS [Security_Name], 
        [Extent1].[Short_Name] AS [Short_Name], 
        [Extent1].[Primary_Exch] AS [Primary_Exch], 
        [Extent1].[Secondary_Exch] AS [Secondary_Exch], 
        [Extent1].[Country_Of_Domicile] AS [Country_Of_Domicile], 
        [Extent1].[Country_Of_Risk] AS [Country_Of_Risk], 
        [Extent1].[Security_Type_Code] AS [Security_Type_Code], 
        [Extent1].[Price_Multiplier] AS [Price_Multiplier], 
        [Extent1].[Income_Frequency] AS [Income_Frequency], 
        [Extent1].[Issuer_Code] AS [Issuer_Code], 
        [Extent1].[Ultimate_Issuer_Code] AS [Ultimate_Issuer_Code], 
        [Extent1].[Asset_Currency] AS [Asset_Currency], 
        [Extent1].[Min_Lot_Size] AS [Min_Lot_Size], 
        [Extent1].[Decimal_Precision] AS [Decimal_Precision], 
        [Extent1].[AvePrice_Rounding] AS [AvePrice_Rounding], 
        [Extent1].[Issue_Date] AS [Issue_Date], 
        [Extent1].[Maturity_Date] AS [Maturity_Date], 
        [Extent1].[Coupon_Rate] AS [Coupon_Rate], 
        [Extent1].[Price_Exchange] AS [Price_Exchange], 
        [Extent1].[Trade_Currency] AS [Trade_Currency], 
        [Extent1].[Price_Curr] AS [Price_Curr], 
        [Extent1].[Currency_Pair_Code] AS [Currency_Pair_Code], 
        [Extent1].[Share_Class] AS [Share_Class], 
        [Extent1].[Current_Market_Price] AS [Current_Market_Price], 
        [Extent1].[Index_Type] AS [Index_Type], 
        [Extent1].[Clean_Price_Formula] AS [Clean_Price_Formula], 
        [Extent1].[Accrued_Income_Price_Formula] AS [Accrued_Income_Price_Formula], 
        [Extent1].[Odd_First_Coupon_Date] AS [Odd_First_Coupon_Date], 
        [Extent1].[Odd_Last_Coupon_Date] AS [Odd_Last_Coupon_Date], 
        [Extent1].[Coupon_Anniversary_Indicator] AS [Coupon_Anniversary_Indicator], 
        [Extent1].[Track_EOM_Flag] AS [Track_EOM_Flag], 
        [Extent1].[Next_Coupon_Date] AS [Next_Coupon_Date], 
        [Extent1].[Previous_Coupon_Date] AS [Previous_Coupon_Date], 
        [Extent1].[Payment_Frequency] AS [Payment_Frequency], 
        [Extent1].[Coupon_BusDay_Adjustment] AS [Coupon_BusDay_Adjustment], 
        [Extent1].[Next_Ex_Div_Date] AS [Next_Ex_Div_Date], 
        [Extent1].[Ex_Div_BusDay_Adjustment] AS [Ex_Div_BusDay_Adjustment], 
        [Extent1].[Ex_Div_Period] AS [Ex_Div_Period], 
        [Extent1].[Ticker] AS [Ticker], 
        [Extent1].[Inet_ID] AS [Inet_ID], 
        [Extent1].[Bloomberg_ID] AS [Bloomberg_ID], 
        [Extent1].[External_Sec_ID] AS [External_Sec_ID], 
        [Extent1].[Reuters_ID] AS [Reuters_ID], 
        [Extent1].[ISIN] AS [ISIN], 
        [Extent1].[Call_Account_Flag] AS [Call_Account_Flag], 
        [Extent1].[System_Locked] AS [System_Locked], 
        [Extent1].[Last_Update_User] AS [Last_Update_User], 
        [Extent1].[Last_Update_Date] AS [Last_Update_Date], 
        [Extent1].[Security_Status] AS [Security_Status], 
        [Extent1].[Benchmark_Portfolio] AS [Benchmark_Portfolio], 
        [Extent1].[Active_flag] AS [Active_flag], 
        [Extent1].[Dividend_FX_Security_ID] AS [Dividend_FX_Security_ID]
        FROM [dbo].[Security_Detail] AS [Extent1]
        WHERE ([Extent1].[Entity_ID] IN (@p__linq__0,@p__linq__1)) AND ((CASE WHEN ( NOT ((N'' = @p__linq__2) AND (@p__linq__2 IS NOT NULL))) THEN CASE WHEN ([Extent1].[Security_Type_Code] = @p__linq__3) THEN cast(1 as bit) WHEN ( NOT (([Extent1].[Security_Type_Code] = @p__linq__3) AND (0 = (CASE WHEN (@p__linq__3 IS NULL) THEN cast(1 as bit) ELSE cast(0 as bit) END)))) THEN cast(0 as bit) END WHEN ('' <> [Extent1].[Security_Type_Code]) THEN cast(1 as bit) WHEN ('' = [Extent1].[Security_Type_Code]) THEN cast(0 as bit) END) = 1)
    )  AS [Project1]
    ORDER BY [Project1].[Security_Name] ASC
2018-04-07 09:29:57.2898|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: SELECT 
    [Project1].[Security_ID] AS [Security_ID], 
    [Project1].[Entity_ID] AS [Entity_ID], 
    [Project1].[Security_Name] AS [Security_Name], 
    [Project1].[Short_Name] AS [Short_Name], 
    [Project1].[Primary_Exch] AS [Primary_Exch], 
    [Project1].[Secondary_Exch] AS [Secondary_Exch], 
    [Project1].[Country_Of_Domicile] AS [Country_Of_Domicile], 
    [Project1].[Country_Of_Risk] AS [Country_Of_Risk], 
    [Project1].[Security_Type_Code] AS [Security_Type_Code], 
    [Project1].[Price_Multiplier] AS [Price_Multiplier], 
    [Project1].[Income_Frequency] AS [Income_Frequency], 
    [Project1].[Issuer_Code] AS [Issuer_Code], 
    [Project1].[Ultimate_Issuer_Code] AS [Ultimate_Issuer_Code], 
    [Project1].[Asset_Currency] AS [Asset_Currency], 
    [Project1].[Min_Lot_Size] AS [Min_Lot_Size], 
    [Project1].[Decimal_Precision] AS [Decimal_Precision], 
    [Project1].[AvePrice_Rounding] AS [AvePrice_Rounding], 
    [Project1].[Issue_Date] AS [Issue_Date], 
    [Project1].[Maturity_Date] AS [Maturity_Date], 
    [Project1].[Coupon_Rate] AS [Coupon_Rate], 
    [Project1].[Price_Exchange] AS [Price_Exchange], 
    [Project1].[Trade_Currency] AS [Trade_Currency], 
    [Project1].[Price_Curr] AS [Price_Curr], 
    [Project1].[Currency_Pair_Code] AS [Currency_Pair_Code], 
    [Project1].[Share_Class] AS [Share_Class], 
    [Project1].[Current_Market_Price] AS [Current_Market_Price], 
    [Project1].[Index_Type] AS [Index_Type], 
    [Project1].[Clean_Price_Formula] AS [Clean_Price_Formula], 
    [Project1].[Accrued_Income_Price_Formula] AS [Accrued_Income_Price_Formula], 
    [Project1].[Odd_First_Coupon_Date] AS [Odd_First_Coupon_Date], 
    [Project1].[Odd_Last_Coupon_Date] AS [Odd_Last_Coupon_Date], 
    [Project1].[Coupon_Anniversary_Indicator] AS [Coupon_Anniversary_Indicator], 
    [Project1].[Track_EOM_Flag] AS [Track_EOM_Flag], 
    [Project1].[Next_Coupon_Date] AS [Next_Coupon_Date], 
    [Project1].[Previous_Coupon_Date] AS [Previous_Coupon_Date], 
    [Project1].[Payment_Frequency] AS [Payment_Frequency], 
    [Project1].[Coupon_BusDay_Adjustment] AS [Coupon_BusDay_Adjustment], 
    [Project1].[Next_Ex_Div_Date] AS [Next_Ex_Div_Date], 
    [Project1].[Ex_Div_BusDay_Adjustment] AS [Ex_Div_BusDay_Adjustment], 
    [Project1].[Ex_Div_Period] AS [Ex_Div_Period], 
    [Project1].[Ticker] AS [Ticker], 
    [Project1].[Inet_ID] AS [Inet_ID], 
    [Project1].[Bloomberg_ID] AS [Bloomberg_ID], 
    [Project1].[External_Sec_ID] AS [External_Sec_ID], 
    [Project1].[Reuters_ID] AS [Reuters_ID], 
    [Project1].[ISIN] AS [ISIN], 
    [Project1].[Call_Account_Flag] AS [Call_Account_Flag], 
    [Project1].[System_Locked] AS [System_Locked], 
    [Project1].[Last_Update_User] AS [Last_Update_User], 
    [Project1].[Last_Update_Date] AS [Last_Update_Date], 
    [Project1].[Security_Status] AS [Security_Status], 
    [Project1].[Benchmark_Portfolio] AS [Benchmark_Portfolio], 
    [Project1].[Active_flag] AS [Active_flag], 
    [Project1].[Dividend_FX_Security_ID] AS [Dividend_FX_Security_ID]
    FROM ( SELECT 
        [Extent1].[Security_ID] AS [Security_ID], 
        [Extent1].[Entity_ID] AS [Entity_ID], 
        [Extent1].[Security_Name] AS [Security_Name], 
        [Extent1].[Short_Name] AS [Short_Name], 
        [Extent1].[Primary_Exch] AS [Primary_Exch], 
        [Extent1].[Secondary_Exch] AS [Secondary_Exch], 
        [Extent1].[Country_Of_Domicile] AS [Country_Of_Domicile], 
        [Extent1].[Country_Of_Risk] AS [Country_Of_Risk], 
        [Extent1].[Security_Type_Code] AS [Security_Type_Code], 
        [Extent1].[Price_Multiplier] AS [Price_Multiplier], 
        [Extent1].[Income_Frequency] AS [Income_Frequency], 
        [Extent1].[Issuer_Code] AS [Issuer_Code], 
        [Extent1].[Ultimate_Issuer_Code] AS [Ultimate_Issuer_Code], 
        [Extent1].[Asset_Currency] AS [Asset_Currency], 
        [Extent1].[Min_Lot_Size] AS [Min_Lot_Size], 
        [Extent1].[Decimal_Precision] AS [Decimal_Precision], 
        [Extent1].[AvePrice_Rounding] AS [AvePrice_Rounding], 
        [Extent1].[Issue_Date] AS [Issue_Date], 
        [Extent1].[Maturity_Date] AS [Maturity_Date], 
        [Extent1].[Coupon_Rate] AS [Coupon_Rate], 
        [Extent1].[Price_Exchange] AS [Price_Exchange], 
        [Extent1].[Trade_Currency] AS [Trade_Currency], 
        [Extent1].[Price_Curr] AS [Price_Curr], 
        [Extent1].[Currency_Pair_Code] AS [Currency_Pair_Code], 
        [Extent1].[Share_Class] AS [Share_Class], 
        [Extent1].[Current_Market_Price] AS [Current_Market_Price], 
        [Extent1].[Index_Type] AS [Index_Type], 
        [Extent1].[Clean_Price_Formula] AS [Clean_Price_Formula], 
        [Extent1].[Accrued_Income_Price_Formula] AS [Accrued_Income_Price_Formula], 
        [Extent1].[Odd_First_Coupon_Date] AS [Odd_First_Coupon_Date], 
        [Extent1].[Odd_Last_Coupon_Date] AS [Odd_Last_Coupon_Date], 
        [Extent1].[Coupon_Anniversary_Indicator] AS [Coupon_Anniversary_Indicator], 
        [Extent1].[Track_EOM_Flag] AS [Track_EOM_Flag], 
        [Extent1].[Next_Coupon_Date] AS [Next_Coupon_Date], 
        [Extent1].[Previous_Coupon_Date] AS [Previous_Coupon_Date], 
        [Extent1].[Payment_Frequency] AS [Payment_Frequency], 
        [Extent1].[Coupon_BusDay_Adjustment] AS [Coupon_BusDay_Adjustment], 
        [Extent1].[Next_Ex_Div_Date] AS [Next_Ex_Div_Date], 
        [Extent1].[Ex_Div_BusDay_Adjustment] AS [Ex_Div_BusDay_Adjustment], 
        [Extent1].[Ex_Div_Period] AS [Ex_Div_Period], 
        [Extent1].[Ticker] AS [Ticker], 
        [Extent1].[Inet_ID] AS [Inet_ID], 
        [Extent1].[Bloomberg_ID] AS [Bloomberg_ID], 
        [Extent1].[External_Sec_ID] AS [External_Sec_ID], 
        [Extent1].[Reuters_ID] AS [Reuters_ID], 
        [Extent1].[ISIN] AS [ISIN], 
        [Extent1].[Call_Account_Flag] AS [Call_Account_Flag], 
        [Extent1].[System_Locked] AS [System_Locked], 
        [Extent1].[Last_Update_User] AS [Last_Update_User], 
        [Extent1].[Last_Update_Date] AS [Last_Update_Date], 
        [Extent1].[Security_Status] AS [Security_Status], 
        [Extent1].[Benchmark_Portfolio] AS [Benchmark_Portfolio], 
        [Extent1].[Active_flag] AS [Active_flag], 
        [Extent1].[Dividend_FX_Security_ID] AS [Dividend_FX_Security_ID]
        FROM [dbo].[Security_Detail] AS [Extent1]
        WHERE ([Extent1].[Entity_ID] IN (@p__linq__0,@p__linq__1)) AND ((CASE WHEN ( NOT ((N'' = @p__linq__2) AND (@p__linq__2 IS NOT NULL))) THEN CASE WHEN ([Extent1].[Security_Type_Code] = @p__linq__3) THEN cast(1 as bit) WHEN ( NOT (([Extent1].[Security_Type_Code] = @p__linq__3) AND (0 = (CASE WHEN (@p__linq__3 IS NULL) THEN cast(1 as bit) ELSE cast(0 as bit) END)))) THEN cast(0 as bit) END WHEN ('' <> [Extent1].[Security_Type_Code]) THEN cast(1 as bit) WHEN ('' = [Extent1].[Security_Type_Code]) THEN cast(0 as bit) END) = 1)
    )  AS [Project1]
    ORDER BY [Project1].[Security_Name] ASC
2018-04-07 09:29:57.4399|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: IF db_id(N'MetopeAzureDb') IS NOT NULL SELECT 1 ELSE SELECT Count(*) FROM sys.databases WHERE [name]=N'MetopeAzureDb'
2018-04-07 09:29:57.4664|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: IF db_id(N'MetopeAzureDb') IS NOT NULL SELECT 1 ELSE SELECT Count(*) FROM sys.databases WHERE [name]=N'MetopeAzureDb'
2018-04-07 09:29:57.4934|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: IF db_id(N'MetopeAzureDb') IS NOT NULL SELECT 1 ELSE SELECT Count(*) FROM sys.databases WHERE [name]=N'MetopeAzureDb'
2018-04-07 09:29:57.5179|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: IF db_id(N'MetopeAzureDb') IS NOT NULL SELECT 1 ELSE SELECT Count(*) FROM sys.databases WHERE [name]=N'MetopeAzureDb'
2018-04-07 09:29:57.9457|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: IF db_id(N'MetopeAzureDb') IS NOT NULL SELECT 1 ELSE SELECT Count(*) FROM sys.databases WHERE [name]=N'MetopeAzureDb'
2018-04-07 09:29:58.0053|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: IF db_id(N'MetopeAzureDb') IS NOT NULL SELECT 1 ELSE SELECT Count(*) FROM sys.databases WHERE [name]=N'MetopeAzureDb'
2018-04-07 09:29:58.0553|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: SELECT TOP (1) 
    [Extent1].[Party_Code] AS [Party_Code], 
    [Extent1].[Entity_ID] AS [Entity_ID], 
    [Extent1].[Actual_Forecast_Indicator] AS [Actual_Forecast_Indicator], 
    [Extent1].[Security_ID] AS [Security_ID], 
    [Extent1].[Financials_Date] AS [Financials_Date], 
    [Extent1].[Full_Adjusted_Share_NAV] AS [Full_Adjusted_Share_NAV], 
    [Extent1].[Enterprise_Value] AS [Enterprise_Value], 
    [Extent1].[Dividend_Yield] AS [Dividend_Yield], 
    [Extent1].[Net_Present_Value] AS [Net_Present_Value], 
    [Extent1].[Net_Property_Income] AS [Net_Property_Income], 
    [Extent1].[Vacancies_Overall] AS [Vacancies_Overall], 
    [Extent1].[Portfolio_Leases_Expiring] AS [Portfolio_Leases_Expiring], 
    [Extent1].[Assumed_Ave_Escalation_Rate] AS [Assumed_Ave_Escalation_Rate], 
    [Extent1].[Cap_Rate_Movemt_Assump] AS [Cap_Rate_Movemt_Assump], 
    [Extent1].[Reversion_Exp_Rent_Reviews] AS [Reversion_Exp_Rent_Reviews], 
    [Extent1].[Ungeared_Yield] AS [Ungeared_Yield], 
    [Extent1].[Net_Operating_Profit] AS [Net_Operating_Profit], 
    [Extent1].[Revenue_Growth] AS [Revenue_Growth], 
    [Extent1].[Net_Property_Income_Growth] AS [Net_Property_Income_Growth], 
    [Extent1].[Net_Operating_Profit_Growth] AS [Net_Operating_Profit_Growth], 
    [Extent1].[Interest_Paid_Growth] AS [Interest_Paid_Growth], 
    [Extent1].[Loan_To_Value] AS [Loan_To_Value], 
    [Extent1].[Interest_Cover_Ratio] AS [Interest_Cover_Ratio], 
    [Extent1].[Revenue] AS [Revenue], 
    [Extent1].[Interest_Paid] AS [Interest_Paid], 
    [Extent1].[Property_Expenses] AS [Property_Expenses], 
    [Extent1].[Property_Expenses_Growth] AS [Property_Expenses_Growth], 
    [Extent1].[Investment_Income] AS [Investment_Income], 
    [Extent1].[Admin_Expenses] AS [Admin_Expenses], 
    [Extent1].[Admin_Expenses_Growth] AS [Admin_Expenses_Growth], 
    [Extent1].[Taxation] AS [Taxation], 
    [Extent1].[Other_Income] AS [Other_Income], 
    [Extent1].[Distributable_Earnings] AS [Distributable_Earnings], 
    [Extent1].[Distributions_Growth] AS [Distributions_Growth], 
    [Extent1].[Linked_Units_Issued] AS [Linked_Units_Issued], 
    [Extent1].[Borrowings] AS [Borrowings], 
    [Extent1].[Units_Issued] AS [Units_Issued], 
    [Extent1].[Purchases_And_Developments] AS [Purchases_And_Developments], 
    [Extent1].[Sales] AS [Sales], 
    [Extent1].[Total_Assets] AS [Total_Assets], 
    [Extent1].[Current_Liabilities] AS [Current_Liabilities], 
    [Extent1].[Interest_Bearing_Borrowings] AS [Interest_Bearing_Borrowings], 
    [Extent1].[Last_Update_Date] AS [Last_Update_Date], 
    [Extent1].[Last_Update_User] AS [Last_Update_User], 
    [Extent1].[Forecast_Distributions_Growth] AS [Forecast_Distributions_Growth], 
    [Extent1].[Property_Portfolio_Value] AS [Property_Portfolio_Value], 
    [Extent1].[OffshoreExposure_WesternEurope] AS [OffshoreExposure_WesternEurope], 
    [Extent1].[OffshoreExposure_CEE] AS [OffshoreExposure_CEE], 
    [Extent1].[OffshoreExposure_US] AS [OffshoreExposure_US], 
    [Extent1].[OffshoreExposure_UK] AS [OffshoreExposure_UK], 
    [Extent1].[OffshoreExposure_Australia] AS [OffshoreExposure_Australia], 
    [Extent1].[OffshoreExposure_Africa] AS [OffshoreExposure_Africa], 
    [Extent1].[OffshoreExposure_Other] AS [OffshoreExposure_Other], 
    [Extent1].[Sector_Retail] AS [Sector_Retail], 
    [Extent1].[Sector_Office] AS [Sector_Office], 
    [Extent1].[Sector_Industrial] AS [Sector_Industrial], 
    [Extent1].[Sector_Residential] AS [Sector_Residential], 
    [Extent1].[Sector_Other] AS [Sector_Other], 
    [Extent1].[Sector_Offshore] AS [Sector_Offshore]
    FROM [dbo].[Party_Financials] AS [Extent1]
    WHERE ([Extent1].[Entity_ID] = @p__linq__0) AND ([Extent1].[Party_Code] = @p__linq__1) AND ([Extent1].[Actual_Forecast_Indicator] = @p__linq__2)
2018-04-07 09:29:58.1043|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: SELECT TOP (1) 
    [Extent1].[Party_Code] AS [Party_Code], 
    [Extent1].[Entity_ID] AS [Entity_ID], 
    [Extent1].[Actual_Forecast_Indicator] AS [Actual_Forecast_Indicator], 
    [Extent1].[Security_ID] AS [Security_ID], 
    [Extent1].[Financials_Date] AS [Financials_Date], 
    [Extent1].[Full_Adjusted_Share_NAV] AS [Full_Adjusted_Share_NAV], 
    [Extent1].[Enterprise_Value] AS [Enterprise_Value], 
    [Extent1].[Dividend_Yield] AS [Dividend_Yield], 
    [Extent1].[Net_Present_Value] AS [Net_Present_Value], 
    [Extent1].[Net_Property_Income] AS [Net_Property_Income], 
    [Extent1].[Vacancies_Overall] AS [Vacancies_Overall], 
    [Extent1].[Portfolio_Leases_Expiring] AS [Portfolio_Leases_Expiring], 
    [Extent1].[Assumed_Ave_Escalation_Rate] AS [Assumed_Ave_Escalation_Rate], 
    [Extent1].[Cap_Rate_Movemt_Assump] AS [Cap_Rate_Movemt_Assump], 
    [Extent1].[Reversion_Exp_Rent_Reviews] AS [Reversion_Exp_Rent_Reviews], 
    [Extent1].[Ungeared_Yield] AS [Ungeared_Yield], 
    [Extent1].[Net_Operating_Profit] AS [Net_Operating_Profit], 
    [Extent1].[Revenue_Growth] AS [Revenue_Growth], 
    [Extent1].[Net_Property_Income_Growth] AS [Net_Property_Income_Growth], 
    [Extent1].[Net_Operating_Profit_Growth] AS [Net_Operating_Profit_Growth], 
    [Extent1].[Interest_Paid_Growth] AS [Interest_Paid_Growth], 
    [Extent1].[Loan_To_Value] AS [Loan_To_Value], 
    [Extent1].[Interest_Cover_Ratio] AS [Interest_Cover_Ratio], 
    [Extent1].[Revenue] AS [Revenue], 
    [Extent1].[Interest_Paid] AS [Interest_Paid], 
    [Extent1].[Property_Expenses] AS [Property_Expenses], 
    [Extent1].[Property_Expenses_Growth] AS [Property_Expenses_Growth], 
    [Extent1].[Investment_Income] AS [Investment_Income], 
    [Extent1].[Admin_Expenses] AS [Admin_Expenses], 
    [Extent1].[Admin_Expenses_Growth] AS [Admin_Expenses_Growth], 
    [Extent1].[Taxation] AS [Taxation], 
    [Extent1].[Other_Income] AS [Other_Income], 
    [Extent1].[Distributable_Earnings] AS [Distributable_Earnings], 
    [Extent1].[Distributions_Growth] AS [Distributions_Growth], 
    [Extent1].[Linked_Units_Issued] AS [Linked_Units_Issued], 
    [Extent1].[Borrowings] AS [Borrowings], 
    [Extent1].[Units_Issued] AS [Units_Issued], 
    [Extent1].[Purchases_And_Developments] AS [Purchases_And_Developments], 
    [Extent1].[Sales] AS [Sales], 
    [Extent1].[Total_Assets] AS [Total_Assets], 
    [Extent1].[Current_Liabilities] AS [Current_Liabilities], 
    [Extent1].[Interest_Bearing_Borrowings] AS [Interest_Bearing_Borrowings], 
    [Extent1].[Last_Update_Date] AS [Last_Update_Date], 
    [Extent1].[Last_Update_User] AS [Last_Update_User], 
    [Extent1].[Forecast_Distributions_Growth] AS [Forecast_Distributions_Growth], 
    [Extent1].[Property_Portfolio_Value] AS [Property_Portfolio_Value], 
    [Extent1].[OffshoreExposure_WesternEurope] AS [OffshoreExposure_WesternEurope], 
    [Extent1].[OffshoreExposure_CEE] AS [OffshoreExposure_CEE], 
    [Extent1].[OffshoreExposure_US] AS [OffshoreExposure_US], 
    [Extent1].[OffshoreExposure_UK] AS [OffshoreExposure_UK], 
    [Extent1].[OffshoreExposure_Australia] AS [OffshoreExposure_Australia], 
    [Extent1].[OffshoreExposure_Africa] AS [OffshoreExposure_Africa], 
    [Extent1].[OffshoreExposure_Other] AS [OffshoreExposure_Other], 
    [Extent1].[Sector_Retail] AS [Sector_Retail], 
    [Extent1].[Sector_Office] AS [Sector_Office], 
    [Extent1].[Sector_Industrial] AS [Sector_Industrial], 
    [Extent1].[Sector_Residential] AS [Sector_Residential], 
    [Extent1].[Sector_Other] AS [Sector_Other], 
    [Extent1].[Sector_Offshore] AS [Sector_Offshore]
    FROM [dbo].[Party_Financials] AS [Extent1]
    WHERE ([Extent1].[Entity_ID] = @p__linq__0) AND ([Extent1].[Party_Code] = @p__linq__1) AND ([Extent1].[Actual_Forecast_Indicator] = @p__linq__2)
2018-04-07 09:29:58.1384|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: SELECT 
    [Project1].[Security_ID] AS [Security_ID], 
    [Project1].[Entity_ID] AS [Entity_ID], 
    [Project1].[Security_Name] AS [Security_Name], 
    [Project1].[Short_Name] AS [Short_Name], 
    [Project1].[Primary_Exch] AS [Primary_Exch], 
    [Project1].[Secondary_Exch] AS [Secondary_Exch], 
    [Project1].[Country_Of_Domicile] AS [Country_Of_Domicile], 
    [Project1].[Country_Of_Risk] AS [Country_Of_Risk], 
    [Project1].[Security_Type_Code] AS [Security_Type_Code], 
    [Project1].[Price_Multiplier] AS [Price_Multiplier], 
    [Project1].[Income_Frequency] AS [Income_Frequency], 
    [Project1].[Issuer_Code] AS [Issuer_Code], 
    [Project1].[Ultimate_Issuer_Code] AS [Ultimate_Issuer_Code], 
    [Project1].[Asset_Currency] AS [Asset_Currency], 
    [Project1].[Min_Lot_Size] AS [Min_Lot_Size], 
    [Project1].[Decimal_Precision] AS [Decimal_Precision], 
    [Project1].[AvePrice_Rounding] AS [AvePrice_Rounding], 
    [Project1].[Issue_Date] AS [Issue_Date], 
    [Project1].[Maturity_Date] AS [Maturity_Date], 
    [Project1].[Coupon_Rate] AS [Coupon_Rate], 
    [Project1].[Price_Exchange] AS [Price_Exchange], 
    [Project1].[Trade_Currency] AS [Trade_Currency], 
    [Project1].[Price_Curr] AS [Price_Curr], 
    [Project1].[Currency_Pair_Code] AS [Currency_Pair_Code], 
    [Project1].[Share_Class] AS [Share_Class], 
    [Project1].[Current_Market_Price] AS [Current_Market_Price], 
    [Project1].[Index_Type] AS [Index_Type], 
    [Project1].[Clean_Price_Formula] AS [Clean_Price_Formula], 
    [Project1].[Accrued_Income_Price_Formula] AS [Accrued_Income_Price_Formula], 
    [Project1].[Odd_First_Coupon_Date] AS [Odd_First_Coupon_Date], 
    [Project1].[Odd_Last_Coupon_Date] AS [Odd_Last_Coupon_Date], 
    [Project1].[Coupon_Anniversary_Indicator] AS [Coupon_Anniversary_Indicator], 
    [Project1].[Track_EOM_Flag] AS [Track_EOM_Flag], 
    [Project1].[Next_Coupon_Date] AS [Next_Coupon_Date], 
    [Project1].[Previous_Coupon_Date] AS [Previous_Coupon_Date], 
    [Project1].[Payment_Frequency] AS [Payment_Frequency], 
    [Project1].[Coupon_BusDay_Adjustment] AS [Coupon_BusDay_Adjustment], 
    [Project1].[Next_Ex_Div_Date] AS [Next_Ex_Div_Date], 
    [Project1].[Ex_Div_BusDay_Adjustment] AS [Ex_Div_BusDay_Adjustment], 
    [Project1].[Ex_Div_Period] AS [Ex_Div_Period], 
    [Project1].[Ticker] AS [Ticker], 
    [Project1].[Inet_ID] AS [Inet_ID], 
    [Project1].[Bloomberg_ID] AS [Bloomberg_ID], 
    [Project1].[External_Sec_ID] AS [External_Sec_ID], 
    [Project1].[Reuters_ID] AS [Reuters_ID], 
    [Project1].[ISIN] AS [ISIN], 
    [Project1].[Call_Account_Flag] AS [Call_Account_Flag], 
    [Project1].[System_Locked] AS [System_Locked], 
    [Project1].[Last_Update_User] AS [Last_Update_User], 
    [Project1].[Last_Update_Date] AS [Last_Update_Date], 
    [Project1].[Security_Status] AS [Security_Status], 
    [Project1].[Benchmark_Portfolio] AS [Benchmark_Portfolio], 
    [Project1].[Active_flag] AS [Active_flag], 
    [Project1].[Dividend_FX_Security_ID] AS [Dividend_FX_Security_ID]
    FROM ( SELECT 
        [Extent1].[Security_ID] AS [Security_ID], 
        [Extent1].[Entity_ID] AS [Entity_ID], 
        [Extent1].[Security_Name] AS [Security_Name], 
        [Extent1].[Short_Name] AS [Short_Name], 
        [Extent1].[Primary_Exch] AS [Primary_Exch], 
        [Extent1].[Secondary_Exch] AS [Secondary_Exch], 
        [Extent1].[Country_Of_Domicile] AS [Country_Of_Domicile], 
        [Extent1].[Country_Of_Risk] AS [Country_Of_Risk], 
        [Extent1].[Security_Type_Code] AS [Security_Type_Code], 
        [Extent1].[Price_Multiplier] AS [Price_Multiplier], 
        [Extent1].[Income_Frequency] AS [Income_Frequency], 
        [Extent1].[Issuer_Code] AS [Issuer_Code], 
        [Extent1].[Ultimate_Issuer_Code] AS [Ultimate_Issuer_Code], 
        [Extent1].[Asset_Currency] AS [Asset_Currency], 
        [Extent1].[Min_Lot_Size] AS [Min_Lot_Size], 
        [Extent1].[Decimal_Precision] AS [Decimal_Precision], 
        [Extent1].[AvePrice_Rounding] AS [AvePrice_Rounding], 
        [Extent1].[Issue_Date] AS [Issue_Date], 
        [Extent1].[Maturity_Date] AS [Maturity_Date], 
        [Extent1].[Coupon_Rate] AS [Coupon_Rate], 
        [Extent1].[Price_Exchange] AS [Price_Exchange], 
        [Extent1].[Trade_Currency] AS [Trade_Currency], 
        [Extent1].[Price_Curr] AS [Price_Curr], 
        [Extent1].[Currency_Pair_Code] AS [Currency_Pair_Code], 
        [Extent1].[Share_Class] AS [Share_Class], 
        [Extent1].[Current_Market_Price] AS [Current_Market_Price], 
        [Extent1].[Index_Type] AS [Index_Type], 
        [Extent1].[Clean_Price_Formula] AS [Clean_Price_Formula], 
        [Extent1].[Accrued_Income_Price_Formula] AS [Accrued_Income_Price_Formula], 
        [Extent1].[Odd_First_Coupon_Date] AS [Odd_First_Coupon_Date], 
        [Extent1].[Odd_Last_Coupon_Date] AS [Odd_Last_Coupon_Date], 
        [Extent1].[Coupon_Anniversary_Indicator] AS [Coupon_Anniversary_Indicator], 
        [Extent1].[Track_EOM_Flag] AS [Track_EOM_Flag], 
        [Extent1].[Next_Coupon_Date] AS [Next_Coupon_Date], 
        [Extent1].[Previous_Coupon_Date] AS [Previous_Coupon_Date], 
        [Extent1].[Payment_Frequency] AS [Payment_Frequency], 
        [Extent1].[Coupon_BusDay_Adjustment] AS [Coupon_BusDay_Adjustment], 
        [Extent1].[Next_Ex_Div_Date] AS [Next_Ex_Div_Date], 
        [Extent1].[Ex_Div_BusDay_Adjustment] AS [Ex_Div_BusDay_Adjustment], 
        [Extent1].[Ex_Div_Period] AS [Ex_Div_Period], 
        [Extent1].[Ticker] AS [Ticker], 
        [Extent1].[Inet_ID] AS [Inet_ID], 
        [Extent1].[Bloomberg_ID] AS [Bloomberg_ID], 
        [Extent1].[External_Sec_ID] AS [External_Sec_ID], 
        [Extent1].[Reuters_ID] AS [Reuters_ID], 
        [Extent1].[ISIN] AS [ISIN], 
        [Extent1].[Call_Account_Flag] AS [Call_Account_Flag], 
        [Extent1].[System_Locked] AS [System_Locked], 
        [Extent1].[Last_Update_User] AS [Last_Update_User], 
        [Extent1].[Last_Update_Date] AS [Last_Update_Date], 
        [Extent1].[Security_Status] AS [Security_Status], 
        [Extent1].[Benchmark_Portfolio] AS [Benchmark_Portfolio], 
        [Extent1].[Active_flag] AS [Active_flag], 
        [Extent1].[Dividend_FX_Security_ID] AS [Dividend_FX_Security_ID]
        FROM [dbo].[Security_Detail] AS [Extent1]
        WHERE ([Extent1].[Entity_ID] IN (@p__linq__0,@p__linq__1)) AND ((CASE WHEN ( NOT ((N'' = @p__linq__2) AND (@p__linq__2 IS NOT NULL))) THEN CASE WHEN ([Extent1].[Security_Type_Code] = @p__linq__3) THEN cast(1 as bit) WHEN ( NOT (([Extent1].[Security_Type_Code] = @p__linq__3) AND (0 = (CASE WHEN (@p__linq__3 IS NULL) THEN cast(1 as bit) ELSE cast(0 as bit) END)))) THEN cast(0 as bit) END WHEN ('' <> [Extent1].[Security_Type_Code]) THEN cast(1 as bit) WHEN ('' = [Extent1].[Security_Type_Code]) THEN cast(0 as bit) END) = 1)
    )  AS [Project1]
    ORDER BY [Project1].[Security_Name] ASC
2018-04-07 09:29:58.1989|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: SELECT 
    [Project1].[Security_ID] AS [Security_ID], 
    [Project1].[Entity_ID] AS [Entity_ID], 
    [Project1].[Security_Name] AS [Security_Name], 
    [Project1].[Short_Name] AS [Short_Name], 
    [Project1].[Primary_Exch] AS [Primary_Exch], 
    [Project1].[Secondary_Exch] AS [Secondary_Exch], 
    [Project1].[Country_Of_Domicile] AS [Country_Of_Domicile], 
    [Project1].[Country_Of_Risk] AS [Country_Of_Risk], 
    [Project1].[Security_Type_Code] AS [Security_Type_Code], 
    [Project1].[Price_Multiplier] AS [Price_Multiplier], 
    [Project1].[Income_Frequency] AS [Income_Frequency], 
    [Project1].[Issuer_Code] AS [Issuer_Code], 
    [Project1].[Ultimate_Issuer_Code] AS [Ultimate_Issuer_Code], 
    [Project1].[Asset_Currency] AS [Asset_Currency], 
    [Project1].[Min_Lot_Size] AS [Min_Lot_Size], 
    [Project1].[Decimal_Precision] AS [Decimal_Precision], 
    [Project1].[AvePrice_Rounding] AS [AvePrice_Rounding], 
    [Project1].[Issue_Date] AS [Issue_Date], 
    [Project1].[Maturity_Date] AS [Maturity_Date], 
    [Project1].[Coupon_Rate] AS [Coupon_Rate], 
    [Project1].[Price_Exchange] AS [Price_Exchange], 
    [Project1].[Trade_Currency] AS [Trade_Currency], 
    [Project1].[Price_Curr] AS [Price_Curr], 
    [Project1].[Currency_Pair_Code] AS [Currency_Pair_Code], 
    [Project1].[Share_Class] AS [Share_Class], 
    [Project1].[Current_Market_Price] AS [Current_Market_Price], 
    [Project1].[Index_Type] AS [Index_Type], 
    [Project1].[Clean_Price_Formula] AS [Clean_Price_Formula], 
    [Project1].[Accrued_Income_Price_Formula] AS [Accrued_Income_Price_Formula], 
    [Project1].[Odd_First_Coupon_Date] AS [Odd_First_Coupon_Date], 
    [Project1].[Odd_Last_Coupon_Date] AS [Odd_Last_Coupon_Date], 
    [Project1].[Coupon_Anniversary_Indicator] AS [Coupon_Anniversary_Indicator], 
    [Project1].[Track_EOM_Flag] AS [Track_EOM_Flag], 
    [Project1].[Next_Coupon_Date] AS [Next_Coupon_Date], 
    [Project1].[Previous_Coupon_Date] AS [Previous_Coupon_Date], 
    [Project1].[Payment_Frequency] AS [Payment_Frequency], 
    [Project1].[Coupon_BusDay_Adjustment] AS [Coupon_BusDay_Adjustment], 
    [Project1].[Next_Ex_Div_Date] AS [Next_Ex_Div_Date], 
    [Project1].[Ex_Div_BusDay_Adjustment] AS [Ex_Div_BusDay_Adjustment], 
    [Project1].[Ex_Div_Period] AS [Ex_Div_Period], 
    [Project1].[Ticker] AS [Ticker], 
    [Project1].[Inet_ID] AS [Inet_ID], 
    [Project1].[Bloomberg_ID] AS [Bloomberg_ID], 
    [Project1].[External_Sec_ID] AS [External_Sec_ID], 
    [Project1].[Reuters_ID] AS [Reuters_ID], 
    [Project1].[ISIN] AS [ISIN], 
    [Project1].[Call_Account_Flag] AS [Call_Account_Flag], 
    [Project1].[System_Locked] AS [System_Locked], 
    [Project1].[Last_Update_User] AS [Last_Update_User], 
    [Project1].[Last_Update_Date] AS [Last_Update_Date], 
    [Project1].[Security_Status] AS [Security_Status], 
    [Project1].[Benchmark_Portfolio] AS [Benchmark_Portfolio], 
    [Project1].[Active_flag] AS [Active_flag], 
    [Project1].[Dividend_FX_Security_ID] AS [Dividend_FX_Security_ID]
    FROM ( SELECT 
        [Extent1].[Security_ID] AS [Security_ID], 
        [Extent1].[Entity_ID] AS [Entity_ID], 
        [Extent1].[Security_Name] AS [Security_Name], 
        [Extent1].[Short_Name] AS [Short_Name], 
        [Extent1].[Primary_Exch] AS [Primary_Exch], 
        [Extent1].[Secondary_Exch] AS [Secondary_Exch], 
        [Extent1].[Country_Of_Domicile] AS [Country_Of_Domicile], 
        [Extent1].[Country_Of_Risk] AS [Country_Of_Risk], 
        [Extent1].[Security_Type_Code] AS [Security_Type_Code], 
        [Extent1].[Price_Multiplier] AS [Price_Multiplier], 
        [Extent1].[Income_Frequency] AS [Income_Frequency], 
        [Extent1].[Issuer_Code] AS [Issuer_Code], 
        [Extent1].[Ultimate_Issuer_Code] AS [Ultimate_Issuer_Code], 
        [Extent1].[Asset_Currency] AS [Asset_Currency], 
        [Extent1].[Min_Lot_Size] AS [Min_Lot_Size], 
        [Extent1].[Decimal_Precision] AS [Decimal_Precision], 
        [Extent1].[AvePrice_Rounding] AS [AvePrice_Rounding], 
        [Extent1].[Issue_Date] AS [Issue_Date], 
        [Extent1].[Maturity_Date] AS [Maturity_Date], 
        [Extent1].[Coupon_Rate] AS [Coupon_Rate], 
        [Extent1].[Price_Exchange] AS [Price_Exchange], 
        [Extent1].[Trade_Currency] AS [Trade_Currency], 
        [Extent1].[Price_Curr] AS [Price_Curr], 
        [Extent1].[Currency_Pair_Code] AS [Currency_Pair_Code], 
        [Extent1].[Share_Class] AS [Share_Class], 
        [Extent1].[Current_Market_Price] AS [Current_Market_Price], 
        [Extent1].[Index_Type] AS [Index_Type], 
        [Extent1].[Clean_Price_Formula] AS [Clean_Price_Formula], 
        [Extent1].[Accrued_Income_Price_Formula] AS [Accrued_Income_Price_Formula], 
        [Extent1].[Odd_First_Coupon_Date] AS [Odd_First_Coupon_Date], 
        [Extent1].[Odd_Last_Coupon_Date] AS [Odd_Last_Coupon_Date], 
        [Extent1].[Coupon_Anniversary_Indicator] AS [Coupon_Anniversary_Indicator], 
        [Extent1].[Track_EOM_Flag] AS [Track_EOM_Flag], 
        [Extent1].[Next_Coupon_Date] AS [Next_Coupon_Date], 
        [Extent1].[Previous_Coupon_Date] AS [Previous_Coupon_Date], 
        [Extent1].[Payment_Frequency] AS [Payment_Frequency], 
        [Extent1].[Coupon_BusDay_Adjustment] AS [Coupon_BusDay_Adjustment], 
        [Extent1].[Next_Ex_Div_Date] AS [Next_Ex_Div_Date], 
        [Extent1].[Ex_Div_BusDay_Adjustment] AS [Ex_Div_BusDay_Adjustment], 
        [Extent1].[Ex_Div_Period] AS [Ex_Div_Period], 
        [Extent1].[Ticker] AS [Ticker], 
        [Extent1].[Inet_ID] AS [Inet_ID], 
        [Extent1].[Bloomberg_ID] AS [Bloomberg_ID], 
        [Extent1].[External_Sec_ID] AS [External_Sec_ID], 
        [Extent1].[Reuters_ID] AS [Reuters_ID], 
        [Extent1].[ISIN] AS [ISIN], 
        [Extent1].[Call_Account_Flag] AS [Call_Account_Flag], 
        [Extent1].[System_Locked] AS [System_Locked], 
        [Extent1].[Last_Update_User] AS [Last_Update_User], 
        [Extent1].[Last_Update_Date] AS [Last_Update_Date], 
        [Extent1].[Security_Status] AS [Security_Status], 
        [Extent1].[Benchmark_Portfolio] AS [Benchmark_Portfolio], 
        [Extent1].[Active_flag] AS [Active_flag], 
        [Extent1].[Dividend_FX_Security_ID] AS [Dividend_FX_Security_ID]
        FROM [dbo].[Security_Detail] AS [Extent1]
        WHERE ([Extent1].[Entity_ID] IN (@p__linq__0,@p__linq__1)) AND ((CASE WHEN ( NOT ((N'' = @p__linq__2) AND (@p__linq__2 IS NOT NULL))) THEN CASE WHEN ([Extent1].[Security_Type_Code] = @p__linq__3) THEN cast(1 as bit) WHEN ( NOT (([Extent1].[Security_Type_Code] = @p__linq__3) AND (0 = (CASE WHEN (@p__linq__3 IS NULL) THEN cast(1 as bit) ELSE cast(0 as bit) END)))) THEN cast(0 as bit) END WHEN ('' <> [Extent1].[Security_Type_Code]) THEN cast(1 as bit) WHEN ('' = [Extent1].[Security_Type_Code]) THEN cast(0 as bit) END) = 1)
    )  AS [Project1]
    ORDER BY [Project1].[Security_Name] ASC
2018-04-07 09:29:58.3515|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: IF db_id(N'MetopeAzureDb') IS NOT NULL SELECT 1 ELSE SELECT Count(*) FROM sys.databases WHERE [name]=N'MetopeAzureDb'
2018-04-07 09:29:58.3845|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: IF db_id(N'MetopeAzureDb') IS NOT NULL SELECT 1 ELSE SELECT Count(*) FROM sys.databases WHERE [name]=N'MetopeAzureDb'
2018-04-07 09:29:58.4246|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: IF db_id(N'MetopeAzureDb') IS NOT NULL SELECT 1 ELSE SELECT Count(*) FROM sys.databases WHERE [name]=N'MetopeAzureDb'
2018-04-07 09:29:58.4421|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: IF db_id(N'MetopeAzureDb') IS NOT NULL SELECT 1 ELSE SELECT Count(*) FROM sys.databases WHERE [name]=N'MetopeAzureDb'
2018-04-07 10:16:44.8188|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: IF db_id(N'MetopeAzureDb') IS NOT NULL SELECT 1 ELSE SELECT Count(*) FROM sys.databases WHERE [name]=N'MetopeAzureDb'
2018-04-07 10:16:45.0160|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: IF db_id(N'MetopeAzureDb') IS NOT NULL SELECT 1 ELSE SELECT Count(*) FROM sys.databases WHERE [name]=N'MetopeAzureDb'
2018-04-07 10:16:45.3202|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: SELECT TOP (1) 
    [Extent1].[Party_Code] AS [Party_Code], 
    [Extent1].[Entity_ID] AS [Entity_ID], 
    [Extent1].[Actual_Forecast_Indicator] AS [Actual_Forecast_Indicator], 
    [Extent1].[Security_ID] AS [Security_ID], 
    [Extent1].[Financials_Date] AS [Financials_Date], 
    [Extent1].[Full_Adjusted_Share_NAV] AS [Full_Adjusted_Share_NAV], 
    [Extent1].[Enterprise_Value] AS [Enterprise_Value], 
    [Extent1].[Dividend_Yield] AS [Dividend_Yield], 
    [Extent1].[Net_Present_Value] AS [Net_Present_Value], 
    [Extent1].[Net_Property_Income] AS [Net_Property_Income], 
    [Extent1].[Vacancies_Overall] AS [Vacancies_Overall], 
    [Extent1].[Portfolio_Leases_Expiring] AS [Portfolio_Leases_Expiring], 
    [Extent1].[Assumed_Ave_Escalation_Rate] AS [Assumed_Ave_Escalation_Rate], 
    [Extent1].[Cap_Rate_Movemt_Assump] AS [Cap_Rate_Movemt_Assump], 
    [Extent1].[Reversion_Exp_Rent_Reviews] AS [Reversion_Exp_Rent_Reviews], 
    [Extent1].[Ungeared_Yield] AS [Ungeared_Yield], 
    [Extent1].[Net_Operating_Profit] AS [Net_Operating_Profit], 
    [Extent1].[Revenue_Growth] AS [Revenue_Growth], 
    [Extent1].[Net_Property_Income_Growth] AS [Net_Property_Income_Growth], 
    [Extent1].[Net_Operating_Profit_Growth] AS [Net_Operating_Profit_Growth], 
    [Extent1].[Interest_Paid_Growth] AS [Interest_Paid_Growth], 
    [Extent1].[Loan_To_Value] AS [Loan_To_Value], 
    [Extent1].[Interest_Cover_Ratio] AS [Interest_Cover_Ratio], 
    [Extent1].[Revenue] AS [Revenue], 
    [Extent1].[Interest_Paid] AS [Interest_Paid], 
    [Extent1].[Property_Expenses] AS [Property_Expenses], 
    [Extent1].[Property_Expenses_Growth] AS [Property_Expenses_Growth], 
    [Extent1].[Investment_Income] AS [Investment_Income], 
    [Extent1].[Admin_Expenses] AS [Admin_Expenses], 
    [Extent1].[Admin_Expenses_Growth] AS [Admin_Expenses_Growth], 
    [Extent1].[Taxation] AS [Taxation], 
    [Extent1].[Other_Income] AS [Other_Income], 
    [Extent1].[Distributable_Earnings] AS [Distributable_Earnings], 
    [Extent1].[Distributions_Growth] AS [Distributions_Growth], 
    [Extent1].[Linked_Units_Issued] AS [Linked_Units_Issued], 
    [Extent1].[Borrowings] AS [Borrowings], 
    [Extent1].[Units_Issued] AS [Units_Issued], 
    [Extent1].[Purchases_And_Developments] AS [Purchases_And_Developments], 
    [Extent1].[Sales] AS [Sales], 
    [Extent1].[Total_Assets] AS [Total_Assets], 
    [Extent1].[Current_Liabilities] AS [Current_Liabilities], 
    [Extent1].[Interest_Bearing_Borrowings] AS [Interest_Bearing_Borrowings], 
    [Extent1].[Last_Update_Date] AS [Last_Update_Date], 
    [Extent1].[Last_Update_User] AS [Last_Update_User], 
    [Extent1].[Forecast_Distributions_Growth] AS [Forecast_Distributions_Growth], 
    [Extent1].[Property_Portfolio_Value] AS [Property_Portfolio_Value], 
    [Extent1].[OffshoreExposure_WesternEurope] AS [OffshoreExposure_WesternEurope], 
    [Extent1].[OffshoreExposure_CEE] AS [OffshoreExposure_CEE], 
    [Extent1].[OffshoreExposure_US] AS [OffshoreExposure_US], 
    [Extent1].[OffshoreExposure_UK] AS [OffshoreExposure_UK], 
    [Extent1].[OffshoreExposure_Australia] AS [OffshoreExposure_Australia], 
    [Extent1].[OffshoreExposure_Africa] AS [OffshoreExposure_Africa], 
    [Extent1].[OffshoreExposure_Other] AS [OffshoreExposure_Other], 
    [Extent1].[Sector_Retail] AS [Sector_Retail], 
    [Extent1].[Sector_Office] AS [Sector_Office], 
    [Extent1].[Sector_Industrial] AS [Sector_Industrial], 
    [Extent1].[Sector_Residential] AS [Sector_Residential], 
    [Extent1].[Sector_Other] AS [Sector_Other], 
    [Extent1].[Sector_Offshore] AS [Sector_Offshore]
    FROM [dbo].[Party_Financials] AS [Extent1]
    WHERE ([Extent1].[Entity_ID] = @p__linq__0) AND ([Extent1].[Party_Code] = @p__linq__1) AND ([Extent1].[Actual_Forecast_Indicator] = @p__linq__2)
2018-04-07 10:16:45.3788|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: SELECT TOP (1) 
    [Extent1].[Party_Code] AS [Party_Code], 
    [Extent1].[Entity_ID] AS [Entity_ID], 
    [Extent1].[Actual_Forecast_Indicator] AS [Actual_Forecast_Indicator], 
    [Extent1].[Security_ID] AS [Security_ID], 
    [Extent1].[Financials_Date] AS [Financials_Date], 
    [Extent1].[Full_Adjusted_Share_NAV] AS [Full_Adjusted_Share_NAV], 
    [Extent1].[Enterprise_Value] AS [Enterprise_Value], 
    [Extent1].[Dividend_Yield] AS [Dividend_Yield], 
    [Extent1].[Net_Present_Value] AS [Net_Present_Value], 
    [Extent1].[Net_Property_Income] AS [Net_Property_Income], 
    [Extent1].[Vacancies_Overall] AS [Vacancies_Overall], 
    [Extent1].[Portfolio_Leases_Expiring] AS [Portfolio_Leases_Expiring], 
    [Extent1].[Assumed_Ave_Escalation_Rate] AS [Assumed_Ave_Escalation_Rate], 
    [Extent1].[Cap_Rate_Movemt_Assump] AS [Cap_Rate_Movemt_Assump], 
    [Extent1].[Reversion_Exp_Rent_Reviews] AS [Reversion_Exp_Rent_Reviews], 
    [Extent1].[Ungeared_Yield] AS [Ungeared_Yield], 
    [Extent1].[Net_Operating_Profit] AS [Net_Operating_Profit], 
    [Extent1].[Revenue_Growth] AS [Revenue_Growth], 
    [Extent1].[Net_Property_Income_Growth] AS [Net_Property_Income_Growth], 
    [Extent1].[Net_Operating_Profit_Growth] AS [Net_Operating_Profit_Growth], 
    [Extent1].[Interest_Paid_Growth] AS [Interest_Paid_Growth], 
    [Extent1].[Loan_To_Value] AS [Loan_To_Value], 
    [Extent1].[Interest_Cover_Ratio] AS [Interest_Cover_Ratio], 
    [Extent1].[Revenue] AS [Revenue], 
    [Extent1].[Interest_Paid] AS [Interest_Paid], 
    [Extent1].[Property_Expenses] AS [Property_Expenses], 
    [Extent1].[Property_Expenses_Growth] AS [Property_Expenses_Growth], 
    [Extent1].[Investment_Income] AS [Investment_Income], 
    [Extent1].[Admin_Expenses] AS [Admin_Expenses], 
    [Extent1].[Admin_Expenses_Growth] AS [Admin_Expenses_Growth], 
    [Extent1].[Taxation] AS [Taxation], 
    [Extent1].[Other_Income] AS [Other_Income], 
    [Extent1].[Distributable_Earnings] AS [Distributable_Earnings], 
    [Extent1].[Distributions_Growth] AS [Distributions_Growth], 
    [Extent1].[Linked_Units_Issued] AS [Linked_Units_Issued], 
    [Extent1].[Borrowings] AS [Borrowings], 
    [Extent1].[Units_Issued] AS [Units_Issued], 
    [Extent1].[Purchases_And_Developments] AS [Purchases_And_Developments], 
    [Extent1].[Sales] AS [Sales], 
    [Extent1].[Total_Assets] AS [Total_Assets], 
    [Extent1].[Current_Liabilities] AS [Current_Liabilities], 
    [Extent1].[Interest_Bearing_Borrowings] AS [Interest_Bearing_Borrowings], 
    [Extent1].[Last_Update_Date] AS [Last_Update_Date], 
    [Extent1].[Last_Update_User] AS [Last_Update_User], 
    [Extent1].[Forecast_Distributions_Growth] AS [Forecast_Distributions_Growth], 
    [Extent1].[Property_Portfolio_Value] AS [Property_Portfolio_Value], 
    [Extent1].[OffshoreExposure_WesternEurope] AS [OffshoreExposure_WesternEurope], 
    [Extent1].[OffshoreExposure_CEE] AS [OffshoreExposure_CEE], 
    [Extent1].[OffshoreExposure_US] AS [OffshoreExposure_US], 
    [Extent1].[OffshoreExposure_UK] AS [OffshoreExposure_UK], 
    [Extent1].[OffshoreExposure_Australia] AS [OffshoreExposure_Australia], 
    [Extent1].[OffshoreExposure_Africa] AS [OffshoreExposure_Africa], 
    [Extent1].[OffshoreExposure_Other] AS [OffshoreExposure_Other], 
    [Extent1].[Sector_Retail] AS [Sector_Retail], 
    [Extent1].[Sector_Office] AS [Sector_Office], 
    [Extent1].[Sector_Industrial] AS [Sector_Industrial], 
    [Extent1].[Sector_Residential] AS [Sector_Residential], 
    [Extent1].[Sector_Other] AS [Sector_Other], 
    [Extent1].[Sector_Offshore] AS [Sector_Offshore]
    FROM [dbo].[Party_Financials] AS [Extent1]
    WHERE ([Extent1].[Entity_ID] = @p__linq__0) AND ([Extent1].[Party_Code] = @p__linq__1) AND ([Extent1].[Actual_Forecast_Indicator] = @p__linq__2)
2018-04-07 10:16:45.4713|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: SELECT 
    [Project1].[Security_ID] AS [Security_ID], 
    [Project1].[Entity_ID] AS [Entity_ID], 
    [Project1].[Security_Name] AS [Security_Name], 
    [Project1].[Short_Name] AS [Short_Name], 
    [Project1].[Primary_Exch] AS [Primary_Exch], 
    [Project1].[Secondary_Exch] AS [Secondary_Exch], 
    [Project1].[Country_Of_Domicile] AS [Country_Of_Domicile], 
    [Project1].[Country_Of_Risk] AS [Country_Of_Risk], 
    [Project1].[Security_Type_Code] AS [Security_Type_Code], 
    [Project1].[Price_Multiplier] AS [Price_Multiplier], 
    [Project1].[Income_Frequency] AS [Income_Frequency], 
    [Project1].[Issuer_Code] AS [Issuer_Code], 
    [Project1].[Ultimate_Issuer_Code] AS [Ultimate_Issuer_Code], 
    [Project1].[Asset_Currency] AS [Asset_Currency], 
    [Project1].[Min_Lot_Size] AS [Min_Lot_Size], 
    [Project1].[Decimal_Precision] AS [Decimal_Precision], 
    [Project1].[AvePrice_Rounding] AS [AvePrice_Rounding], 
    [Project1].[Issue_Date] AS [Issue_Date], 
    [Project1].[Maturity_Date] AS [Maturity_Date], 
    [Project1].[Coupon_Rate] AS [Coupon_Rate], 
    [Project1].[Price_Exchange] AS [Price_Exchange], 
    [Project1].[Trade_Currency] AS [Trade_Currency], 
    [Project1].[Price_Curr] AS [Price_Curr], 
    [Project1].[Currency_Pair_Code] AS [Currency_Pair_Code], 
    [Project1].[Share_Class] AS [Share_Class], 
    [Project1].[Current_Market_Price] AS [Current_Market_Price], 
    [Project1].[Index_Type] AS [Index_Type], 
    [Project1].[Clean_Price_Formula] AS [Clean_Price_Formula], 
    [Project1].[Accrued_Income_Price_Formula] AS [Accrued_Income_Price_Formula], 
    [Project1].[Odd_First_Coupon_Date] AS [Odd_First_Coupon_Date], 
    [Project1].[Odd_Last_Coupon_Date] AS [Odd_Last_Coupon_Date], 
    [Project1].[Coupon_Anniversary_Indicator] AS [Coupon_Anniversary_Indicator], 
    [Project1].[Track_EOM_Flag] AS [Track_EOM_Flag], 
    [Project1].[Next_Coupon_Date] AS [Next_Coupon_Date], 
    [Project1].[Previous_Coupon_Date] AS [Previous_Coupon_Date], 
    [Project1].[Payment_Frequency] AS [Payment_Frequency], 
    [Project1].[Coupon_BusDay_Adjustment] AS [Coupon_BusDay_Adjustment], 
    [Project1].[Next_Ex_Div_Date] AS [Next_Ex_Div_Date], 
    [Project1].[Ex_Div_BusDay_Adjustment] AS [Ex_Div_BusDay_Adjustment], 
    [Project1].[Ex_Div_Period] AS [Ex_Div_Period], 
    [Project1].[Ticker] AS [Ticker], 
    [Project1].[Inet_ID] AS [Inet_ID], 
    [Project1].[Bloomberg_ID] AS [Bloomberg_ID], 
    [Project1].[External_Sec_ID] AS [External_Sec_ID], 
    [Project1].[Reuters_ID] AS [Reuters_ID], 
    [Project1].[ISIN] AS [ISIN], 
    [Project1].[Call_Account_Flag] AS [Call_Account_Flag], 
    [Project1].[System_Locked] AS [System_Locked], 
    [Project1].[Last_Update_User] AS [Last_Update_User], 
    [Project1].[Last_Update_Date] AS [Last_Update_Date], 
    [Project1].[Security_Status] AS [Security_Status], 
    [Project1].[Benchmark_Portfolio] AS [Benchmark_Portfolio], 
    [Project1].[Active_flag] AS [Active_flag], 
    [Project1].[Dividend_FX_Security_ID] AS [Dividend_FX_Security_ID]
    FROM ( SELECT 
        [Extent1].[Security_ID] AS [Security_ID], 
        [Extent1].[Entity_ID] AS [Entity_ID], 
        [Extent1].[Security_Name] AS [Security_Name], 
        [Extent1].[Short_Name] AS [Short_Name], 
        [Extent1].[Primary_Exch] AS [Primary_Exch], 
        [Extent1].[Secondary_Exch] AS [Secondary_Exch], 
        [Extent1].[Country_Of_Domicile] AS [Country_Of_Domicile], 
        [Extent1].[Country_Of_Risk] AS [Country_Of_Risk], 
        [Extent1].[Security_Type_Code] AS [Security_Type_Code], 
        [Extent1].[Price_Multiplier] AS [Price_Multiplier], 
        [Extent1].[Income_Frequency] AS [Income_Frequency], 
        [Extent1].[Issuer_Code] AS [Issuer_Code], 
        [Extent1].[Ultimate_Issuer_Code] AS [Ultimate_Issuer_Code], 
        [Extent1].[Asset_Currency] AS [Asset_Currency], 
        [Extent1].[Min_Lot_Size] AS [Min_Lot_Size], 
        [Extent1].[Decimal_Precision] AS [Decimal_Precision], 
        [Extent1].[AvePrice_Rounding] AS [AvePrice_Rounding], 
        [Extent1].[Issue_Date] AS [Issue_Date], 
        [Extent1].[Maturity_Date] AS [Maturity_Date], 
        [Extent1].[Coupon_Rate] AS [Coupon_Rate], 
        [Extent1].[Price_Exchange] AS [Price_Exchange], 
        [Extent1].[Trade_Currency] AS [Trade_Currency], 
        [Extent1].[Price_Curr] AS [Price_Curr], 
        [Extent1].[Currency_Pair_Code] AS [Currency_Pair_Code], 
        [Extent1].[Share_Class] AS [Share_Class], 
        [Extent1].[Current_Market_Price] AS [Current_Market_Price], 
        [Extent1].[Index_Type] AS [Index_Type], 
        [Extent1].[Clean_Price_Formula] AS [Clean_Price_Formula], 
        [Extent1].[Accrued_Income_Price_Formula] AS [Accrued_Income_Price_Formula], 
        [Extent1].[Odd_First_Coupon_Date] AS [Odd_First_Coupon_Date], 
        [Extent1].[Odd_Last_Coupon_Date] AS [Odd_Last_Coupon_Date], 
        [Extent1].[Coupon_Anniversary_Indicator] AS [Coupon_Anniversary_Indicator], 
        [Extent1].[Track_EOM_Flag] AS [Track_EOM_Flag], 
        [Extent1].[Next_Coupon_Date] AS [Next_Coupon_Date], 
        [Extent1].[Previous_Coupon_Date] AS [Previous_Coupon_Date], 
        [Extent1].[Payment_Frequency] AS [Payment_Frequency], 
        [Extent1].[Coupon_BusDay_Adjustment] AS [Coupon_BusDay_Adjustment], 
        [Extent1].[Next_Ex_Div_Date] AS [Next_Ex_Div_Date], 
        [Extent1].[Ex_Div_BusDay_Adjustment] AS [Ex_Div_BusDay_Adjustment], 
        [Extent1].[Ex_Div_Period] AS [Ex_Div_Period], 
        [Extent1].[Ticker] AS [Ticker], 
        [Extent1].[Inet_ID] AS [Inet_ID], 
        [Extent1].[Bloomberg_ID] AS [Bloomberg_ID], 
        [Extent1].[External_Sec_ID] AS [External_Sec_ID], 
        [Extent1].[Reuters_ID] AS [Reuters_ID], 
        [Extent1].[ISIN] AS [ISIN], 
        [Extent1].[Call_Account_Flag] AS [Call_Account_Flag], 
        [Extent1].[System_Locked] AS [System_Locked], 
        [Extent1].[Last_Update_User] AS [Last_Update_User], 
        [Extent1].[Last_Update_Date] AS [Last_Update_Date], 
        [Extent1].[Security_Status] AS [Security_Status], 
        [Extent1].[Benchmark_Portfolio] AS [Benchmark_Portfolio], 
        [Extent1].[Active_flag] AS [Active_flag], 
        [Extent1].[Dividend_FX_Security_ID] AS [Dividend_FX_Security_ID]
        FROM [dbo].[Security_Detail] AS [Extent1]
        WHERE ([Extent1].[Entity_ID] IN (@p__linq__0,@p__linq__1)) AND ((CASE WHEN ( NOT ((N'' = @p__linq__2) AND (@p__linq__2 IS NOT NULL))) THEN CASE WHEN ([Extent1].[Security_Type_Code] = @p__linq__3) THEN cast(1 as bit) WHEN ( NOT (([Extent1].[Security_Type_Code] = @p__linq__3) AND (0 = (CASE WHEN (@p__linq__3 IS NULL) THEN cast(1 as bit) ELSE cast(0 as bit) END)))) THEN cast(0 as bit) END WHEN ('' <> [Extent1].[Security_Type_Code]) THEN cast(1 as bit) WHEN ('' = [Extent1].[Security_Type_Code]) THEN cast(0 as bit) END) = 1)
    )  AS [Project1]
    ORDER BY [Project1].[Security_Name] ASC
2018-04-07 10:16:45.5419|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: SELECT 
    [Project1].[Security_ID] AS [Security_ID], 
    [Project1].[Entity_ID] AS [Entity_ID], 
    [Project1].[Security_Name] AS [Security_Name], 
    [Project1].[Short_Name] AS [Short_Name], 
    [Project1].[Primary_Exch] AS [Primary_Exch], 
    [Project1].[Secondary_Exch] AS [Secondary_Exch], 
    [Project1].[Country_Of_Domicile] AS [Country_Of_Domicile], 
    [Project1].[Country_Of_Risk] AS [Country_Of_Risk], 
    [Project1].[Security_Type_Code] AS [Security_Type_Code], 
    [Project1].[Price_Multiplier] AS [Price_Multiplier], 
    [Project1].[Income_Frequency] AS [Income_Frequency], 
    [Project1].[Issuer_Code] AS [Issuer_Code], 
    [Project1].[Ultimate_Issuer_Code] AS [Ultimate_Issuer_Code], 
    [Project1].[Asset_Currency] AS [Asset_Currency], 
    [Project1].[Min_Lot_Size] AS [Min_Lot_Size], 
    [Project1].[Decimal_Precision] AS [Decimal_Precision], 
    [Project1].[AvePrice_Rounding] AS [AvePrice_Rounding], 
    [Project1].[Issue_Date] AS [Issue_Date], 
    [Project1].[Maturity_Date] AS [Maturity_Date], 
    [Project1].[Coupon_Rate] AS [Coupon_Rate], 
    [Project1].[Price_Exchange] AS [Price_Exchange], 
    [Project1].[Trade_Currency] AS [Trade_Currency], 
    [Project1].[Price_Curr] AS [Price_Curr], 
    [Project1].[Currency_Pair_Code] AS [Currency_Pair_Code], 
    [Project1].[Share_Class] AS [Share_Class], 
    [Project1].[Current_Market_Price] AS [Current_Market_Price], 
    [Project1].[Index_Type] AS [Index_Type], 
    [Project1].[Clean_Price_Formula] AS [Clean_Price_Formula], 
    [Project1].[Accrued_Income_Price_Formula] AS [Accrued_Income_Price_Formula], 
    [Project1].[Odd_First_Coupon_Date] AS [Odd_First_Coupon_Date], 
    [Project1].[Odd_Last_Coupon_Date] AS [Odd_Last_Coupon_Date], 
    [Project1].[Coupon_Anniversary_Indicator] AS [Coupon_Anniversary_Indicator], 
    [Project1].[Track_EOM_Flag] AS [Track_EOM_Flag], 
    [Project1].[Next_Coupon_Date] AS [Next_Coupon_Date], 
    [Project1].[Previous_Coupon_Date] AS [Previous_Coupon_Date], 
    [Project1].[Payment_Frequency] AS [Payment_Frequency], 
    [Project1].[Coupon_BusDay_Adjustment] AS [Coupon_BusDay_Adjustment], 
    [Project1].[Next_Ex_Div_Date] AS [Next_Ex_Div_Date], 
    [Project1].[Ex_Div_BusDay_Adjustment] AS [Ex_Div_BusDay_Adjustment], 
    [Project1].[Ex_Div_Period] AS [Ex_Div_Period], 
    [Project1].[Ticker] AS [Ticker], 
    [Project1].[Inet_ID] AS [Inet_ID], 
    [Project1].[Bloomberg_ID] AS [Bloomberg_ID], 
    [Project1].[External_Sec_ID] AS [External_Sec_ID], 
    [Project1].[Reuters_ID] AS [Reuters_ID], 
    [Project1].[ISIN] AS [ISIN], 
    [Project1].[Call_Account_Flag] AS [Call_Account_Flag], 
    [Project1].[System_Locked] AS [System_Locked], 
    [Project1].[Last_Update_User] AS [Last_Update_User], 
    [Project1].[Last_Update_Date] AS [Last_Update_Date], 
    [Project1].[Security_Status] AS [Security_Status], 
    [Project1].[Benchmark_Portfolio] AS [Benchmark_Portfolio], 
    [Project1].[Active_flag] AS [Active_flag], 
    [Project1].[Dividend_FX_Security_ID] AS [Dividend_FX_Security_ID]
    FROM ( SELECT 
        [Extent1].[Security_ID] AS [Security_ID], 
        [Extent1].[Entity_ID] AS [Entity_ID], 
        [Extent1].[Security_Name] AS [Security_Name], 
        [Extent1].[Short_Name] AS [Short_Name], 
        [Extent1].[Primary_Exch] AS [Primary_Exch], 
        [Extent1].[Secondary_Exch] AS [Secondary_Exch], 
        [Extent1].[Country_Of_Domicile] AS [Country_Of_Domicile], 
        [Extent1].[Country_Of_Risk] AS [Country_Of_Risk], 
        [Extent1].[Security_Type_Code] AS [Security_Type_Code], 
        [Extent1].[Price_Multiplier] AS [Price_Multiplier], 
        [Extent1].[Income_Frequency] AS [Income_Frequency], 
        [Extent1].[Issuer_Code] AS [Issuer_Code], 
        [Extent1].[Ultimate_Issuer_Code] AS [Ultimate_Issuer_Code], 
        [Extent1].[Asset_Currency] AS [Asset_Currency], 
        [Extent1].[Min_Lot_Size] AS [Min_Lot_Size], 
        [Extent1].[Decimal_Precision] AS [Decimal_Precision], 
        [Extent1].[AvePrice_Rounding] AS [AvePrice_Rounding], 
        [Extent1].[Issue_Date] AS [Issue_Date], 
        [Extent1].[Maturity_Date] AS [Maturity_Date], 
        [Extent1].[Coupon_Rate] AS [Coupon_Rate], 
        [Extent1].[Price_Exchange] AS [Price_Exchange], 
        [Extent1].[Trade_Currency] AS [Trade_Currency], 
        [Extent1].[Price_Curr] AS [Price_Curr], 
        [Extent1].[Currency_Pair_Code] AS [Currency_Pair_Code], 
        [Extent1].[Share_Class] AS [Share_Class], 
        [Extent1].[Current_Market_Price] AS [Current_Market_Price], 
        [Extent1].[Index_Type] AS [Index_Type], 
        [Extent1].[Clean_Price_Formula] AS [Clean_Price_Formula], 
        [Extent1].[Accrued_Income_Price_Formula] AS [Accrued_Income_Price_Formula], 
        [Extent1].[Odd_First_Coupon_Date] AS [Odd_First_Coupon_Date], 
        [Extent1].[Odd_Last_Coupon_Date] AS [Odd_Last_Coupon_Date], 
        [Extent1].[Coupon_Anniversary_Indicator] AS [Coupon_Anniversary_Indicator], 
        [Extent1].[Track_EOM_Flag] AS [Track_EOM_Flag], 
        [Extent1].[Next_Coupon_Date] AS [Next_Coupon_Date], 
        [Extent1].[Previous_Coupon_Date] AS [Previous_Coupon_Date], 
        [Extent1].[Payment_Frequency] AS [Payment_Frequency], 
        [Extent1].[Coupon_BusDay_Adjustment] AS [Coupon_BusDay_Adjustment], 
        [Extent1].[Next_Ex_Div_Date] AS [Next_Ex_Div_Date], 
        [Extent1].[Ex_Div_BusDay_Adjustment] AS [Ex_Div_BusDay_Adjustment], 
        [Extent1].[Ex_Div_Period] AS [Ex_Div_Period], 
        [Extent1].[Ticker] AS [Ticker], 
        [Extent1].[Inet_ID] AS [Inet_ID], 
        [Extent1].[Bloomberg_ID] AS [Bloomberg_ID], 
        [Extent1].[External_Sec_ID] AS [External_Sec_ID], 
        [Extent1].[Reuters_ID] AS [Reuters_ID], 
        [Extent1].[ISIN] AS [ISIN], 
        [Extent1].[Call_Account_Flag] AS [Call_Account_Flag], 
        [Extent1].[System_Locked] AS [System_Locked], 
        [Extent1].[Last_Update_User] AS [Last_Update_User], 
        [Extent1].[Last_Update_Date] AS [Last_Update_Date], 
        [Extent1].[Security_Status] AS [Security_Status], 
        [Extent1].[Benchmark_Portfolio] AS [Benchmark_Portfolio], 
        [Extent1].[Active_flag] AS [Active_flag], 
        [Extent1].[Dividend_FX_Security_ID] AS [Dividend_FX_Security_ID]
        FROM [dbo].[Security_Detail] AS [Extent1]
        WHERE ([Extent1].[Entity_ID] IN (@p__linq__0,@p__linq__1)) AND ((CASE WHEN ( NOT ((N'' = @p__linq__2) AND (@p__linq__2 IS NOT NULL))) THEN CASE WHEN ([Extent1].[Security_Type_Code] = @p__linq__3) THEN cast(1 as bit) WHEN ( NOT (([Extent1].[Security_Type_Code] = @p__linq__3) AND (0 = (CASE WHEN (@p__linq__3 IS NULL) THEN cast(1 as bit) ELSE cast(0 as bit) END)))) THEN cast(0 as bit) END WHEN ('' <> [Extent1].[Security_Type_Code]) THEN cast(1 as bit) WHEN ('' = [Extent1].[Security_Type_Code]) THEN cast(0 as bit) END) = 1)
    )  AS [Project1]
    ORDER BY [Project1].[Security_Name] ASC
2018-04-07 10:16:45.7150|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: IF db_id(N'MetopeAzureDb') IS NOT NULL SELECT 1 ELSE SELECT Count(*) FROM sys.databases WHERE [name]=N'MetopeAzureDb'
2018-04-07 10:16:45.7420|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: IF db_id(N'MetopeAzureDb') IS NOT NULL SELECT 1 ELSE SELECT Count(*) FROM sys.databases WHERE [name]=N'MetopeAzureDb'
2018-04-07 10:16:45.7720|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: IF db_id(N'MetopeAzureDb') IS NOT NULL SELECT 1 ELSE SELECT Count(*) FROM sys.databases WHERE [name]=N'MetopeAzureDb'
2018-04-07 10:16:45.8031|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: IF db_id(N'MetopeAzureDb') IS NOT NULL SELECT 1 ELSE SELECT Count(*) FROM sys.databases WHERE [name]=N'MetopeAzureDb'
2018-04-07 10:16:45.8316|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: True, Command Text: SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[EntityIdScope] AS [EntityIdScope], 
    [Extent1].[Email] AS [Email], 
    [Extent1].[EmailConfirmed] AS [EmailConfirmed], 
    [Extent1].[PasswordHash] AS [PasswordHash], 
    [Extent1].[SecurityStamp] AS [SecurityStamp], 
    [Extent1].[PhoneNumber] AS [PhoneNumber], 
    [Extent1].[PhoneNumberConfirmed] AS [PhoneNumberConfirmed], 
    [Extent1].[TwoFactorEnabled] AS [TwoFactorEnabled], 
    [Extent1].[LockoutEndDateUtc] AS [LockoutEndDateUtc], 
    [Extent1].[LockoutEnabled] AS [LockoutEnabled], 
    [Extent1].[AccessFailedCount] AS [AccessFailedCount], 
    [Extent1].[UserName] AS [UserName]
    FROM [dbo].[AspNetUsers] AS [Extent1]
    WHERE [Extent1].[Id] = @p0
2018-04-07 10:16:45.8771|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: True, Command Text: SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[EntityIdScope] AS [EntityIdScope], 
    [Extent1].[Email] AS [Email], 
    [Extent1].[EmailConfirmed] AS [EmailConfirmed], 
    [Extent1].[PasswordHash] AS [PasswordHash], 
    [Extent1].[SecurityStamp] AS [SecurityStamp], 
    [Extent1].[PhoneNumber] AS [PhoneNumber], 
    [Extent1].[PhoneNumberConfirmed] AS [PhoneNumberConfirmed], 
    [Extent1].[TwoFactorEnabled] AS [TwoFactorEnabled], 
    [Extent1].[LockoutEndDateUtc] AS [LockoutEndDateUtc], 
    [Extent1].[LockoutEnabled] AS [LockoutEnabled], 
    [Extent1].[AccessFailedCount] AS [AccessFailedCount], 
    [Extent1].[UserName] AS [UserName]
    FROM [dbo].[AspNetUsers] AS [Extent1]
    WHERE [Extent1].[Id] = @p0
2018-04-07 10:16:45.9167|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: True, Command Text: SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[UserId] AS [UserId], 
    [Extent1].[ClaimType] AS [ClaimType], 
    [Extent1].[ClaimValue] AS [ClaimValue]
    FROM [dbo].[AspNetUserClaims] AS [Extent1]
    WHERE [Extent1].[UserId] = @p__linq__0
2018-04-07 10:16:45.9507|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: True, Command Text: SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[UserId] AS [UserId], 
    [Extent1].[ClaimType] AS [ClaimType], 
    [Extent1].[ClaimValue] AS [ClaimValue]
    FROM [dbo].[AspNetUserClaims] AS [Extent1]
    WHERE [Extent1].[UserId] = @p__linq__0
2018-04-07 10:16:45.9827|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: True, Command Text: SELECT 
    [Extent1].[LoginProvider] AS [LoginProvider], 
    [Extent1].[ProviderKey] AS [ProviderKey], 
    [Extent1].[UserId] AS [UserId]
    FROM [dbo].[AspNetUserLogins] AS [Extent1]
    WHERE [Extent1].[UserId] = @p__linq__0
2018-04-07 10:16:46.0137|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: True, Command Text: SELECT 
    [Extent1].[LoginProvider] AS [LoginProvider], 
    [Extent1].[ProviderKey] AS [ProviderKey], 
    [Extent1].[UserId] AS [UserId]
    FROM [dbo].[AspNetUserLogins] AS [Extent1]
    WHERE [Extent1].[UserId] = @p__linq__0
2018-04-07 10:16:46.0417|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: True, Command Text: SELECT 
    [Extent1].[UserId] AS [UserId], 
    [Extent1].[RoleId] AS [RoleId]
    FROM [dbo].[AspNetUserRoles] AS [Extent1]
    WHERE [Extent1].[UserId] = @p__linq__0
2018-04-07 10:16:46.0723|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: True, Command Text: SELECT 
    [Extent1].[UserId] AS [UserId], 
    [Extent1].[RoleId] AS [RoleId]
    FROM [dbo].[AspNetUserRoles] AS [Extent1]
    WHERE [Extent1].[UserId] = @p__linq__0
2018-04-07 10:16:46.1038|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: SELECT TOP (2) 
    [Extent1].[Entity_ID] AS [Entity_ID], 
    [Extent1].[Entity_Code] AS [Entity_Code], 
    [Extent1].[Entity_Name] AS [Entity_Name], 
    [Extent1].[Import_Folder] AS [Import_Folder], 
    [Extent1].[Export_Folder] AS [Export_Folder]
    FROM [dbo].[Entity] AS [Extent1]
    WHERE [Extent1].[Entity_ID] = @p0
2018-04-07 10:16:46.1368|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: SELECT TOP (2) 
    [Extent1].[Entity_ID] AS [Entity_ID], 
    [Extent1].[Entity_Code] AS [Entity_Code], 
    [Extent1].[Entity_Name] AS [Entity_Name], 
    [Extent1].[Import_Folder] AS [Import_Folder], 
    [Extent1].[Export_Folder] AS [Export_Folder]
    FROM [dbo].[Entity] AS [Extent1]
    WHERE [Extent1].[Entity_ID] = @p0
2018-04-07 11:58:46.8289|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: select cast(serverproperty('EngineEdition') as int)
2018-04-07 11:58:46.9154|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: select cast(serverproperty('EngineEdition') as int)
2018-04-07 11:58:47.4313|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: IF db_id(N'MetopeAzureDb') IS NOT NULL SELECT 1 ELSE SELECT Count(*) FROM sys.databases WHERE [name]=N'MetopeAzureDb'
2018-04-07 11:58:47.6199|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: IF db_id(N'MetopeAzureDb') IS NOT NULL SELECT 1 ELSE SELECT Count(*) FROM sys.databases WHERE [name]=N'MetopeAzureDb'
2018-04-07 11:58:47.8671|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: IF db_id(N'MetopeAzureDb') IS NOT NULL SELECT 1 ELSE SELECT Count(*) FROM sys.databases WHERE [name]=N'MetopeAzureDb'
2018-04-07 11:58:47.8811|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: IF db_id(N'MetopeAzureDb') IS NOT NULL SELECT 1 ELSE SELECT Count(*) FROM sys.databases WHERE [name]=N'MetopeAzureDb'
2018-04-07 11:58:48.1648|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: IF db_id(N'MetopeAzureDb') IS NOT NULL SELECT 1 ELSE SELECT Count(*) FROM sys.databases WHERE [name]=N'MetopeAzureDb'
2018-04-07 11:58:48.2003|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: IF db_id(N'MetopeAzureDb') IS NOT NULL SELECT 1 ELSE SELECT Count(*) FROM sys.databases WHERE [name]=N'MetopeAzureDb'
2018-04-07 12:21:17.9933|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: IF db_id(N'MetopeAzureDb') IS NOT NULL SELECT 1 ELSE SELECT Count(*) FROM sys.databases WHERE [name]=N'MetopeAzureDb'
2018-04-07 12:21:18.1949|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: IF db_id(N'MetopeAzureDb') IS NOT NULL SELECT 1 ELSE SELECT Count(*) FROM sys.databases WHERE [name]=N'MetopeAzureDb'
2018-04-07 12:21:19.0220|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: IF db_id(N'MetopeAzureDb') IS NOT NULL SELECT 1 ELSE SELECT Count(*) FROM sys.databases WHERE [name]=N'MetopeAzureDb'
2018-04-07 12:21:19.0465|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: IF db_id(N'MetopeAzureDb') IS NOT NULL SELECT 1 ELSE SELECT Count(*) FROM sys.databases WHERE [name]=N'MetopeAzureDb'
2018-04-07 12:21:19.1056|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: 
SELECT Count(*)
FROM INFORMATION_SCHEMA.TABLES AS t
WHERE t.TABLE_SCHEMA + '.' + t.TABLE_NAME IN ('dbo.AspNetRoles','dbo.AspNetUserRoles','dbo.AspNetUsers','dbo.AspNetUserClaims','dbo.AspNetUserLogins')
    OR t.TABLE_NAME = 'EdmMetadata'
2018-04-07 12:21:19.2016|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: 
SELECT Count(*)
FROM INFORMATION_SCHEMA.TABLES AS t
WHERE t.TABLE_SCHEMA + '.' + t.TABLE_NAME IN ('dbo.AspNetRoles','dbo.AspNetUserRoles','dbo.AspNetUsers','dbo.AspNetUserClaims','dbo.AspNetUserLogins')
    OR t.TABLE_NAME = 'EdmMetadata'
2018-04-07 12:21:19.7810|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: SELECT 
    [GroupBy1].[A1] AS [C1]
    FROM ( SELECT 
        COUNT(1) AS [A1]
        FROM [dbo].[__MigrationHistory] AS [Extent1]
        WHERE [Extent1].[ContextKey] = @p__linq__0
    )  AS [GroupBy1]
2018-04-07 12:21:19.8520|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: SELECT 
    [GroupBy1].[A1] AS [C1]
    FROM ( SELECT 
        COUNT(1) AS [A1]
        FROM [dbo].[__MigrationHistory] AS [Extent1]
        WHERE [Extent1].[ContextKey] = @p__linq__0
    )  AS [GroupBy1]
2018-04-07 12:21:19.9401|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: SELECT TOP (1) 
    [Project1].[C1] AS [C1], 
    [Project1].[MigrationId] AS [MigrationId], 
    [Project1].[Model] AS [Model], 
    [Project1].[ProductVersion] AS [ProductVersion]
    FROM ( SELECT 
        [Extent1].[MigrationId] AS [MigrationId], 
        [Extent1].[Model] AS [Model], 
        [Extent1].[ProductVersion] AS [ProductVersion], 
        1 AS [C1]
        FROM [dbo].[__MigrationHistory] AS [Extent1]
        WHERE [Extent1].[ContextKey] = @p__linq__0
    )  AS [Project1]
    ORDER BY [Project1].[MigrationId] DESC
2018-04-07 12:21:19.9721|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: SELECT TOP (1) 
    [Project1].[C1] AS [C1], 
    [Project1].[MigrationId] AS [MigrationId], 
    [Project1].[Model] AS [Model], 
    [Project1].[ProductVersion] AS [ProductVersion]
    FROM ( SELECT 
        [Extent1].[MigrationId] AS [MigrationId], 
        [Extent1].[Model] AS [Model], 
        [Extent1].[ProductVersion] AS [ProductVersion], 
        1 AS [C1]
        FROM [dbo].[__MigrationHistory] AS [Extent1]
        WHERE [Extent1].[ContextKey] = @p__linq__0
    )  AS [Project1]
    ORDER BY [Project1].[MigrationId] DESC
2018-04-07 12:21:20.5415|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: True, Command Text: SELECT TOP (1) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[EntityIdScope] AS [EntityIdScope], 
    [Extent1].[Email] AS [Email], 
    [Extent1].[EmailConfirmed] AS [EmailConfirmed], 
    [Extent1].[PasswordHash] AS [PasswordHash], 
    [Extent1].[SecurityStamp] AS [SecurityStamp], 
    [Extent1].[PhoneNumber] AS [PhoneNumber], 
    [Extent1].[PhoneNumberConfirmed] AS [PhoneNumberConfirmed], 
    [Extent1].[TwoFactorEnabled] AS [TwoFactorEnabled], 
    [Extent1].[LockoutEndDateUtc] AS [LockoutEndDateUtc], 
    [Extent1].[LockoutEnabled] AS [LockoutEnabled], 
    [Extent1].[AccessFailedCount] AS [AccessFailedCount], 
    [Extent1].[UserName] AS [UserName]
    FROM [dbo].[AspNetUsers] AS [Extent1]
    WHERE ((UPPER([Extent1].[UserName])) = (UPPER(@p__linq__0))) OR ((UPPER([Extent1].[UserName]) IS NULL) AND (UPPER(@p__linq__0) IS NULL))
2018-04-07 12:21:20.5853|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: True, Command Text: SELECT TOP (1) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[EntityIdScope] AS [EntityIdScope], 
    [Extent1].[Email] AS [Email], 
    [Extent1].[EmailConfirmed] AS [EmailConfirmed], 
    [Extent1].[PasswordHash] AS [PasswordHash], 
    [Extent1].[SecurityStamp] AS [SecurityStamp], 
    [Extent1].[PhoneNumber] AS [PhoneNumber], 
    [Extent1].[PhoneNumberConfirmed] AS [PhoneNumberConfirmed], 
    [Extent1].[TwoFactorEnabled] AS [TwoFactorEnabled], 
    [Extent1].[LockoutEndDateUtc] AS [LockoutEndDateUtc], 
    [Extent1].[LockoutEnabled] AS [LockoutEnabled], 
    [Extent1].[AccessFailedCount] AS [AccessFailedCount], 
    [Extent1].[UserName] AS [UserName]
    FROM [dbo].[AspNetUsers] AS [Extent1]
    WHERE ((UPPER([Extent1].[UserName])) = (UPPER(@p__linq__0))) OR ((UPPER([Extent1].[UserName]) IS NULL) AND (UPPER(@p__linq__0) IS NULL))
2018-04-07 12:21:20.7630|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: True, Command Text: SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[UserId] AS [UserId], 
    [Extent1].[ClaimType] AS [ClaimType], 
    [Extent1].[ClaimValue] AS [ClaimValue]
    FROM [dbo].[AspNetUserClaims] AS [Extent1]
    WHERE [Extent1].[UserId] = @p__linq__0
2018-04-07 12:21:20.8035|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: True, Command Text: SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[UserId] AS [UserId], 
    [Extent1].[ClaimType] AS [ClaimType], 
    [Extent1].[ClaimValue] AS [ClaimValue]
    FROM [dbo].[AspNetUserClaims] AS [Extent1]
    WHERE [Extent1].[UserId] = @p__linq__0
2018-04-07 12:21:20.9306|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: True, Command Text: SELECT 
    [Extent1].[LoginProvider] AS [LoginProvider], 
    [Extent1].[ProviderKey] AS [ProviderKey], 
    [Extent1].[UserId] AS [UserId]
    FROM [dbo].[AspNetUserLogins] AS [Extent1]
    WHERE [Extent1].[UserId] = @p__linq__0
2018-04-07 12:21:20.9572|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: True, Command Text: SELECT 
    [Extent1].[LoginProvider] AS [LoginProvider], 
    [Extent1].[ProviderKey] AS [ProviderKey], 
    [Extent1].[UserId] AS [UserId]
    FROM [dbo].[AspNetUserLogins] AS [Extent1]
    WHERE [Extent1].[UserId] = @p__linq__0
2018-04-07 12:21:21.0542|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: True, Command Text: SELECT 
    [Extent1].[UserId] AS [UserId], 
    [Extent1].[RoleId] AS [RoleId]
    FROM [dbo].[AspNetUserRoles] AS [Extent1]
    WHERE [Extent1].[UserId] = @p__linq__0
2018-04-07 12:21:21.0847|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: True, Command Text: SELECT 
    [Extent1].[UserId] AS [UserId], 
    [Extent1].[RoleId] AS [RoleId]
    FROM [dbo].[AspNetUserRoles] AS [Extent1]
    WHERE [Extent1].[UserId] = @p__linq__0
2018-04-07 12:21:21.3139|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: True, Command Text: SELECT 
    [Extent2].[Name] AS [Name]
    FROM  [dbo].[AspNetUserRoles] AS [Extent1]
    INNER JOIN [dbo].[AspNetRoles] AS [Extent2] ON [Extent1].[RoleId] = [Extent2].[Id]
    WHERE [Extent1].[UserId] = @p__linq__0
2018-04-07 12:21:21.3429|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: True, Command Text: SELECT 
    [Extent2].[Name] AS [Name]
    FROM  [dbo].[AspNetUserRoles] AS [Extent1]
    INNER JOIN [dbo].[AspNetRoles] AS [Extent2] ON [Extent1].[RoleId] = [Extent2].[Id]
    WHERE [Extent1].[UserId] = @p__linq__0
2018-04-07 12:21:21.5181|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: IF db_id(N'MetopeAzureDb') IS NOT NULL SELECT 1 ELSE SELECT Count(*) FROM sys.databases WHERE [name]=N'MetopeAzureDb'
2018-04-07 12:21:21.5381|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: IF db_id(N'MetopeAzureDb') IS NOT NULL SELECT 1 ELSE SELECT Count(*) FROM sys.databases WHERE [name]=N'MetopeAzureDb'
2018-04-07 12:21:21.5822|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: IF db_id(N'MetopeAzureDb') IS NOT NULL SELECT 1 ELSE SELECT Count(*) FROM sys.databases WHERE [name]=N'MetopeAzureDb'
2018-04-07 12:21:21.6052|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: IF db_id(N'MetopeAzureDb') IS NOT NULL SELECT 1 ELSE SELECT Count(*) FROM sys.databases WHERE [name]=N'MetopeAzureDb'
2018-04-07 12:21:21.6552|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: True, Command Text: SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[EntityIdScope] AS [EntityIdScope], 
    [Extent1].[Email] AS [Email], 
    [Extent1].[EmailConfirmed] AS [EmailConfirmed], 
    [Extent1].[PasswordHash] AS [PasswordHash], 
    [Extent1].[SecurityStamp] AS [SecurityStamp], 
    [Extent1].[PhoneNumber] AS [PhoneNumber], 
    [Extent1].[PhoneNumberConfirmed] AS [PhoneNumberConfirmed], 
    [Extent1].[TwoFactorEnabled] AS [TwoFactorEnabled], 
    [Extent1].[LockoutEndDateUtc] AS [LockoutEndDateUtc], 
    [Extent1].[LockoutEnabled] AS [LockoutEnabled], 
    [Extent1].[AccessFailedCount] AS [AccessFailedCount], 
    [Extent1].[UserName] AS [UserName]
    FROM [dbo].[AspNetUsers] AS [Extent1]
    WHERE [Extent1].[Id] = @p0
2018-04-07 12:21:21.6792|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: True, Command Text: SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[EntityIdScope] AS [EntityIdScope], 
    [Extent1].[Email] AS [Email], 
    [Extent1].[EmailConfirmed] AS [EmailConfirmed], 
    [Extent1].[PasswordHash] AS [PasswordHash], 
    [Extent1].[SecurityStamp] AS [SecurityStamp], 
    [Extent1].[PhoneNumber] AS [PhoneNumber], 
    [Extent1].[PhoneNumberConfirmed] AS [PhoneNumberConfirmed], 
    [Extent1].[TwoFactorEnabled] AS [TwoFactorEnabled], 
    [Extent1].[LockoutEndDateUtc] AS [LockoutEndDateUtc], 
    [Extent1].[LockoutEnabled] AS [LockoutEnabled], 
    [Extent1].[AccessFailedCount] AS [AccessFailedCount], 
    [Extent1].[UserName] AS [UserName]
    FROM [dbo].[AspNetUsers] AS [Extent1]
    WHERE [Extent1].[Id] = @p0
2018-04-07 12:21:21.7022|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: True, Command Text: SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[UserId] AS [UserId], 
    [Extent1].[ClaimType] AS [ClaimType], 
    [Extent1].[ClaimValue] AS [ClaimValue]
    FROM [dbo].[AspNetUserClaims] AS [Extent1]
    WHERE [Extent1].[UserId] = @p__linq__0
2018-04-07 12:21:21.7223|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: True, Command Text: SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[UserId] AS [UserId], 
    [Extent1].[ClaimType] AS [ClaimType], 
    [Extent1].[ClaimValue] AS [ClaimValue]
    FROM [dbo].[AspNetUserClaims] AS [Extent1]
    WHERE [Extent1].[UserId] = @p__linq__0
2018-04-07 12:21:21.7448|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: True, Command Text: SELECT 
    [Extent1].[LoginProvider] AS [LoginProvider], 
    [Extent1].[ProviderKey] AS [ProviderKey], 
    [Extent1].[UserId] AS [UserId]
    FROM [dbo].[AspNetUserLogins] AS [Extent1]
    WHERE [Extent1].[UserId] = @p__linq__0
2018-04-07 12:21:21.7638|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: True, Command Text: SELECT 
    [Extent1].[LoginProvider] AS [LoginProvider], 
    [Extent1].[ProviderKey] AS [ProviderKey], 
    [Extent1].[UserId] AS [UserId]
    FROM [dbo].[AspNetUserLogins] AS [Extent1]
    WHERE [Extent1].[UserId] = @p__linq__0
2018-04-07 12:21:21.7843|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: True, Command Text: SELECT 
    [Extent1].[UserId] AS [UserId], 
    [Extent1].[RoleId] AS [RoleId]
    FROM [dbo].[AspNetUserRoles] AS [Extent1]
    WHERE [Extent1].[UserId] = @p__linq__0
2018-04-07 12:21:21.8038|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: True, Command Text: SELECT 
    [Extent1].[UserId] AS [UserId], 
    [Extent1].[RoleId] AS [RoleId]
    FROM [dbo].[AspNetUserRoles] AS [Extent1]
    WHERE [Extent1].[UserId] = @p__linq__0
2018-04-07 12:21:21.8338|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: True, Command Text: SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[EntityIdScope] AS [EntityIdScope], 
    [Extent1].[Email] AS [Email], 
    [Extent1].[EmailConfirmed] AS [EmailConfirmed], 
    [Extent1].[PasswordHash] AS [PasswordHash], 
    [Extent1].[SecurityStamp] AS [SecurityStamp], 
    [Extent1].[PhoneNumber] AS [PhoneNumber], 
    [Extent1].[PhoneNumberConfirmed] AS [PhoneNumberConfirmed], 
    [Extent1].[TwoFactorEnabled] AS [TwoFactorEnabled], 
    [Extent1].[LockoutEndDateUtc] AS [LockoutEndDateUtc], 
    [Extent1].[LockoutEnabled] AS [LockoutEnabled], 
    [Extent1].[AccessFailedCount] AS [AccessFailedCount], 
    [Extent1].[UserName] AS [UserName]
    FROM [dbo].[AspNetUsers] AS [Extent1]
    WHERE [Extent1].[Id] = @p0
2018-04-07 12:21:21.8538|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: True, Command Text: SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[EntityIdScope] AS [EntityIdScope], 
    [Extent1].[Email] AS [Email], 
    [Extent1].[EmailConfirmed] AS [EmailConfirmed], 
    [Extent1].[PasswordHash] AS [PasswordHash], 
    [Extent1].[SecurityStamp] AS [SecurityStamp], 
    [Extent1].[PhoneNumber] AS [PhoneNumber], 
    [Extent1].[PhoneNumberConfirmed] AS [PhoneNumberConfirmed], 
    [Extent1].[TwoFactorEnabled] AS [TwoFactorEnabled], 
    [Extent1].[LockoutEndDateUtc] AS [LockoutEndDateUtc], 
    [Extent1].[LockoutEnabled] AS [LockoutEnabled], 
    [Extent1].[AccessFailedCount] AS [AccessFailedCount], 
    [Extent1].[UserName] AS [UserName]
    FROM [dbo].[AspNetUsers] AS [Extent1]
    WHERE [Extent1].[Id] = @p0
2018-04-07 12:21:21.8744|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: True, Command Text: SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[UserId] AS [UserId], 
    [Extent1].[ClaimType] AS [ClaimType], 
    [Extent1].[ClaimValue] AS [ClaimValue]
    FROM [dbo].[AspNetUserClaims] AS [Extent1]
    WHERE [Extent1].[UserId] = @p__linq__0
2018-04-07 12:21:21.8934|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: True, Command Text: SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[UserId] AS [UserId], 
    [Extent1].[ClaimType] AS [ClaimType], 
    [Extent1].[ClaimValue] AS [ClaimValue]
    FROM [dbo].[AspNetUserClaims] AS [Extent1]
    WHERE [Extent1].[UserId] = @p__linq__0
2018-04-07 12:21:21.9149|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: True, Command Text: SELECT 
    [Extent1].[LoginProvider] AS [LoginProvider], 
    [Extent1].[ProviderKey] AS [ProviderKey], 
    [Extent1].[UserId] AS [UserId]
    FROM [dbo].[AspNetUserLogins] AS [Extent1]
    WHERE [Extent1].[UserId] = @p__linq__0
2018-04-07 12:21:21.9334|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: True, Command Text: SELECT 
    [Extent1].[LoginProvider] AS [LoginProvider], 
    [Extent1].[ProviderKey] AS [ProviderKey], 
    [Extent1].[UserId] AS [UserId]
    FROM [dbo].[AspNetUserLogins] AS [Extent1]
    WHERE [Extent1].[UserId] = @p__linq__0
2018-04-07 12:21:21.9549|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: True, Command Text: SELECT 
    [Extent1].[UserId] AS [UserId], 
    [Extent1].[RoleId] AS [RoleId]
    FROM [dbo].[AspNetUserRoles] AS [Extent1]
    WHERE [Extent1].[UserId] = @p__linq__0
2018-04-07 12:21:21.9749|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: True, Command Text: SELECT 
    [Extent1].[UserId] AS [UserId], 
    [Extent1].[RoleId] AS [RoleId]
    FROM [dbo].[AspNetUserRoles] AS [Extent1]
    WHERE [Extent1].[UserId] = @p__linq__0
2018-04-07 12:21:22.8330|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: SELECT TOP (2) 
    [Extent1].[Entity_ID] AS [Entity_ID], 
    [Extent1].[Entity_Code] AS [Entity_Code], 
    [Extent1].[Entity_Name] AS [Entity_Name], 
    [Extent1].[Import_Folder] AS [Import_Folder], 
    [Extent1].[Export_Folder] AS [Export_Folder]
    FROM [dbo].[Entity] AS [Extent1]
    WHERE [Extent1].[Entity_ID] = @p0
2018-04-07 12:21:22.8600|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: SELECT TOP (2) 
    [Extent1].[Entity_ID] AS [Entity_ID], 
    [Extent1].[Entity_Code] AS [Entity_Code], 
    [Extent1].[Entity_Name] AS [Entity_Name], 
    [Extent1].[Import_Folder] AS [Import_Folder], 
    [Extent1].[Export_Folder] AS [Export_Folder]
    FROM [dbo].[Entity] AS [Extent1]
    WHERE [Extent1].[Entity_ID] = @p0
2018-04-07 12:21:28.5396|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: IF db_id(N'MetopeAzureDb') IS NOT NULL SELECT 1 ELSE SELECT Count(*) FROM sys.databases WHERE [name]=N'MetopeAzureDb'
2018-04-07 12:21:28.5586|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: IF db_id(N'MetopeAzureDb') IS NOT NULL SELECT 1 ELSE SELECT Count(*) FROM sys.databases WHERE [name]=N'MetopeAzureDb'
2018-04-07 12:21:28.6017|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: IF db_id(N'MetopeAzureDb') IS NOT NULL SELECT 1 ELSE SELECT Count(*) FROM sys.databases WHERE [name]=N'MetopeAzureDb'
2018-04-07 12:21:28.6637|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: IF db_id(N'MetopeAzureDb') IS NOT NULL SELECT 1 ELSE SELECT Count(*) FROM sys.databases WHERE [name]=N'MetopeAzureDb'
2018-04-07 12:24:09.0020|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: SELECT 
    [Project1].[C1] AS [C1], 
    [Project1].[Classification_Code] AS [Classification_Code], 
    [Project1].[Description] AS [Description], 
    [Project1].[Entity_ID] AS [Entity_ID], 
    [Project1].[Last_Update_Date] AS [Last_Update_Date], 
    [Project1].[Last_Update_User] AS [Last_Update_User], 
    [Project1].[System_Locked] AS [System_Locked], 
    [Project1].[C2] AS [C2], 
    [Project1].[Classification_Code1] AS [Classification_Code1], 
    [Project1].[Description1] AS [Description1], 
    [Project1].[Industry_Code] AS [Industry_Code], 
    [Project1].[Entity_ID1] AS [Entity_ID1], 
    [Project1].[Last_Update_Date1] AS [Last_Update_Date1], 
    [Project1].[Last_Update_User1] AS [Last_Update_User1], 
    [Project1].[System_Locked1] AS [System_Locked1]
    FROM ( SELECT 
        [Extent1].[Classification_Code] AS [Classification_Code], 
        [Extent1].[Description] AS [Description], 
        [Extent1].[Entity_ID] AS [Entity_ID], 
        [Extent1].[Last_Update_Date] AS [Last_Update_Date], 
        [Extent1].[Last_Update_User] AS [Last_Update_User], 
        [Extent1].[System_Locked] AS [System_Locked], 
        1 AS [C1], 
        [Extent2].[Classification_Code] AS [Classification_Code1], 
        [Extent2].[Description] AS [Description1], 
        [Extent2].[Industry_Code] AS [Industry_Code], 
        [Extent2].[Entity_ID] AS [Entity_ID1], 
        [Extent2].[Last_Update_Date] AS [Last_Update_Date1], 
        [Extent2].[Last_Update_User] AS [Last_Update_User1], 
        [Extent2].[System_Locked] AS [System_Locked1], 
        CASE WHEN ([Extent2].[Classification_Code] IS NULL) THEN CAST(NULL AS int) ELSE 1 END AS [C2]
        FROM  [dbo].[Classification] AS [Extent1]
        LEFT OUTER JOIN [dbo].[Classification_Industry] AS [Extent2] ON ([Extent1].[Classification_Code] = [Extent2].[Classification_Code]) AND ([Extent1].[Entity_ID] = [Extent2].[Entity_ID])
        WHERE [Extent1].[Entity_ID] = @p__linq__0
    )  AS [Project1]
    ORDER BY [Project1].[Classification_Code] ASC, [Project1].[Entity_ID] ASC, [Project1].[C2] ASC
2018-04-07 12:24:09.0450|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: SELECT 
    [Project1].[C1] AS [C1], 
    [Project1].[Classification_Code] AS [Classification_Code], 
    [Project1].[Description] AS [Description], 
    [Project1].[Entity_ID] AS [Entity_ID], 
    [Project1].[Last_Update_Date] AS [Last_Update_Date], 
    [Project1].[Last_Update_User] AS [Last_Update_User], 
    [Project1].[System_Locked] AS [System_Locked], 
    [Project1].[C2] AS [C2], 
    [Project1].[Classification_Code1] AS [Classification_Code1], 
    [Project1].[Description1] AS [Description1], 
    [Project1].[Industry_Code] AS [Industry_Code], 
    [Project1].[Entity_ID1] AS [Entity_ID1], 
    [Project1].[Last_Update_Date1] AS [Last_Update_Date1], 
    [Project1].[Last_Update_User1] AS [Last_Update_User1], 
    [Project1].[System_Locked1] AS [System_Locked1]
    FROM ( SELECT 
        [Extent1].[Classification_Code] AS [Classification_Code], 
        [Extent1].[Description] AS [Description], 
        [Extent1].[Entity_ID] AS [Entity_ID], 
        [Extent1].[Last_Update_Date] AS [Last_Update_Date], 
        [Extent1].[Last_Update_User] AS [Last_Update_User], 
        [Extent1].[System_Locked] AS [System_Locked], 
        1 AS [C1], 
        [Extent2].[Classification_Code] AS [Classification_Code1], 
        [Extent2].[Description] AS [Description1], 
        [Extent2].[Industry_Code] AS [Industry_Code], 
        [Extent2].[Entity_ID] AS [Entity_ID1], 
        [Extent2].[Last_Update_Date] AS [Last_Update_Date1], 
        [Extent2].[Last_Update_User] AS [Last_Update_User1], 
        [Extent2].[System_Locked] AS [System_Locked1], 
        CASE WHEN ([Extent2].[Classification_Code] IS NULL) THEN CAST(NULL AS int) ELSE 1 END AS [C2]
        FROM  [dbo].[Classification] AS [Extent1]
        LEFT OUTER JOIN [dbo].[Classification_Industry] AS [Extent2] ON ([Extent1].[Classification_Code] = [Extent2].[Classification_Code]) AND ([Extent1].[Entity_ID] = [Extent2].[Entity_ID])
        WHERE [Extent1].[Entity_ID] = @p__linq__0
    )  AS [Project1]
    ORDER BY [Project1].[Classification_Code] ASC, [Project1].[Entity_ID] ASC, [Project1].[C2] ASC
2018-04-07 12:24:12.3101|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: IF db_id(N'MetopeAzureDb') IS NOT NULL SELECT 1 ELSE SELECT Count(*) FROM sys.databases WHERE [name]=N'MetopeAzureDb'
2018-04-07 12:24:12.4192|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: IF db_id(N'MetopeAzureDb') IS NOT NULL SELECT 1 ELSE SELECT Count(*) FROM sys.databases WHERE [name]=N'MetopeAzureDb'
2018-04-07 12:24:12.5348|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: IF db_id(N'MetopeAzureDb') IS NOT NULL SELECT 1 ELSE SELECT Count(*) FROM sys.databases WHERE [name]=N'MetopeAzureDb'
2018-04-07 12:24:12.5678|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: IF db_id(N'MetopeAzureDb') IS NOT NULL SELECT 1 ELSE SELECT Count(*) FROM sys.databases WHERE [name]=N'MetopeAzureDb'
2018-04-07 12:24:19.5057|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: IF db_id(N'MetopeAzureDb') IS NOT NULL SELECT 1 ELSE SELECT Count(*) FROM sys.databases WHERE [name]=N'MetopeAzureDb'
2018-04-07 12:24:19.5412|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: IF db_id(N'MetopeAzureDb') IS NOT NULL SELECT 1 ELSE SELECT Count(*) FROM sys.databases WHERE [name]=N'MetopeAzureDb'
2018-04-07 12:24:19.6798|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: SELECT TOP (1) 
    [Extent1].[Classification_Code] AS [Classification_Code], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[Entity_ID] AS [Entity_ID], 
    [Extent1].[Last_Update_Date] AS [Last_Update_Date], 
    [Extent1].[Last_Update_User] AS [Last_Update_User], 
    [Extent1].[System_Locked] AS [System_Locked]
    FROM [dbo].[Classification] AS [Extent1]
    WHERE ([Extent1].[Classification_Code] = @p__linq__0) AND ([Extent1].[Entity_ID] = @p__linq__1)
2018-04-07 12:24:19.7104|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: SELECT TOP (1) 
    [Extent1].[Classification_Code] AS [Classification_Code], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[Entity_ID] AS [Entity_ID], 
    [Extent1].[Last_Update_Date] AS [Last_Update_Date], 
    [Extent1].[Last_Update_User] AS [Last_Update_User], 
    [Extent1].[System_Locked] AS [System_Locked]
    FROM [dbo].[Classification] AS [Extent1]
    WHERE ([Extent1].[Classification_Code] = @p__linq__0) AND ([Extent1].[Entity_ID] = @p__linq__1)
2018-04-07 12:24:21.1968|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: SELECT 
    [Extent1].[Classification_Code] AS [Classification_Code], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[Industry_Code] AS [Industry_Code], 
    [Extent1].[Entity_ID] AS [Entity_ID], 
    [Extent1].[Last_Update_Date] AS [Last_Update_Date], 
    [Extent1].[Last_Update_User] AS [Last_Update_User], 
    [Extent1].[System_Locked] AS [System_Locked]
    FROM [dbo].[Classification_Industry] AS [Extent1]
    WHERE ([Extent1].[Classification_Code] = @EntityKeyValue1) AND ([Extent1].[Entity_ID] = @EntityKeyValue2)
2018-04-07 12:24:21.2188|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: SELECT 
    [Extent1].[Classification_Code] AS [Classification_Code], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[Industry_Code] AS [Industry_Code], 
    [Extent1].[Entity_ID] AS [Entity_ID], 
    [Extent1].[Last_Update_Date] AS [Last_Update_Date], 
    [Extent1].[Last_Update_User] AS [Last_Update_User], 
    [Extent1].[System_Locked] AS [System_Locked]
    FROM [dbo].[Classification_Industry] AS [Extent1]
    WHERE ([Extent1].[Classification_Code] = @EntityKeyValue1) AND ([Extent1].[Entity_ID] = @EntityKeyValue2)
2018-04-07 12:24:21.6452|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: IF db_id(N'MetopeAzureDb') IS NOT NULL SELECT 1 ELSE SELECT Count(*) FROM sys.databases WHERE [name]=N'MetopeAzureDb'
2018-04-07 12:24:21.6608|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: IF db_id(N'MetopeAzureDb') IS NOT NULL SELECT 1 ELSE SELECT Count(*) FROM sys.databases WHERE [name]=N'MetopeAzureDb'
2018-04-07 12:24:21.6953|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: IF db_id(N'MetopeAzureDb') IS NOT NULL SELECT 1 ELSE SELECT Count(*) FROM sys.databases WHERE [name]=N'MetopeAzureDb'
2018-04-07 12:24:21.7163|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: IF db_id(N'MetopeAzureDb') IS NOT NULL SELECT 1 ELSE SELECT Count(*) FROM sys.databases WHERE [name]=N'MetopeAzureDb'
2018-04-07 12:24:40.4384|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: SELECT 
    [Project1].[Classification_Code] AS [Classification_Code], 
    [Project1].[Description] AS [Description], 
    [Project1].[Entity_ID] AS [Entity_ID], 
    [Project1].[Last_Update_Date] AS [Last_Update_Date], 
    [Project1].[Last_Update_User] AS [Last_Update_User], 
    [Project1].[System_Locked] AS [System_Locked]
    FROM ( SELECT 
        [Extent1].[Classification_Code] AS [Classification_Code], 
        [Extent1].[Description] AS [Description], 
        [Extent1].[Entity_ID] AS [Entity_ID], 
        [Extent1].[Last_Update_Date] AS [Last_Update_Date], 
        [Extent1].[Last_Update_User] AS [Last_Update_User], 
        [Extent1].[System_Locked] AS [System_Locked]
        FROM [dbo].[Classification] AS [Extent1]
        WHERE [Extent1].[Entity_ID] = @p__linq__0
    )  AS [Project1]
    ORDER BY [Project1].[Classification_Code] ASC
2018-04-07 12:24:40.4624|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: SELECT 
    [Project1].[Classification_Code] AS [Classification_Code], 
    [Project1].[Description] AS [Description], 
    [Project1].[Entity_ID] AS [Entity_ID], 
    [Project1].[Last_Update_Date] AS [Last_Update_Date], 
    [Project1].[Last_Update_User] AS [Last_Update_User], 
    [Project1].[System_Locked] AS [System_Locked]
    FROM ( SELECT 
        [Extent1].[Classification_Code] AS [Classification_Code], 
        [Extent1].[Description] AS [Description], 
        [Extent1].[Entity_ID] AS [Entity_ID], 
        [Extent1].[Last_Update_Date] AS [Last_Update_Date], 
        [Extent1].[Last_Update_User] AS [Last_Update_User], 
        [Extent1].[System_Locked] AS [System_Locked]
        FROM [dbo].[Classification] AS [Extent1]
        WHERE [Extent1].[Entity_ID] = @p__linq__0
    )  AS [Project1]
    ORDER BY [Project1].[Classification_Code] ASC
2018-04-07 12:24:40.6114|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: IF db_id(N'MetopeAzureDb') IS NOT NULL SELECT 1 ELSE SELECT Count(*) FROM sys.databases WHERE [name]=N'MetopeAzureDb'
2018-04-07 12:24:40.6334|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: IF db_id(N'MetopeAzureDb') IS NOT NULL SELECT 1 ELSE SELECT Count(*) FROM sys.databases WHERE [name]=N'MetopeAzureDb'
2018-04-07 12:24:40.6534|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: IF db_id(N'MetopeAzureDb') IS NOT NULL SELECT 1 ELSE SELECT Count(*) FROM sys.databases WHERE [name]=N'MetopeAzureDb'
2018-04-07 12:24:40.6754|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: IF db_id(N'MetopeAzureDb') IS NOT NULL SELECT 1 ELSE SELECT Count(*) FROM sys.databases WHERE [name]=N'MetopeAzureDb'
2018-04-07 12:24:47.3569|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: SELECT TOP (1) 
    [Extent1].[Classification_Code] AS [Classification_Code], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[Entity_ID] AS [Entity_ID], 
    [Extent1].[Last_Update_Date] AS [Last_Update_Date], 
    [Extent1].[Last_Update_User] AS [Last_Update_User], 
    [Extent1].[System_Locked] AS [System_Locked]
    FROM [dbo].[Classification] AS [Extent1]
    WHERE ([Extent1].[Classification_Code] = @p__linq__0) AND ([Extent1].[Entity_ID] = @p__linq__1)
2018-04-07 12:24:47.4019|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: SELECT TOP (1) 
    [Extent1].[Classification_Code] AS [Classification_Code], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[Entity_ID] AS [Entity_ID], 
    [Extent1].[Last_Update_Date] AS [Last_Update_Date], 
    [Extent1].[Last_Update_User] AS [Last_Update_User], 
    [Extent1].[System_Locked] AS [System_Locked]
    FROM [dbo].[Classification] AS [Extent1]
    WHERE ([Extent1].[Classification_Code] = @p__linq__0) AND ([Extent1].[Entity_ID] = @p__linq__1)
2018-04-07 12:24:47.4554|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: SELECT 
    [Extent1].[Classification_Code] AS [Classification_Code], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[Industry_Code] AS [Industry_Code], 
    [Extent1].[Entity_ID] AS [Entity_ID], 
    [Extent1].[Last_Update_Date] AS [Last_Update_Date], 
    [Extent1].[Last_Update_User] AS [Last_Update_User], 
    [Extent1].[System_Locked] AS [System_Locked]
    FROM [dbo].[Classification_Industry] AS [Extent1]
    WHERE ([Extent1].[Classification_Code] = @EntityKeyValue1) AND ([Extent1].[Entity_ID] = @EntityKeyValue2)
2018-04-07 12:24:47.4895|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: SELECT 
    [Extent1].[Classification_Code] AS [Classification_Code], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[Industry_Code] AS [Industry_Code], 
    [Extent1].[Entity_ID] AS [Entity_ID], 
    [Extent1].[Last_Update_Date] AS [Last_Update_Date], 
    [Extent1].[Last_Update_User] AS [Last_Update_User], 
    [Extent1].[System_Locked] AS [System_Locked]
    FROM [dbo].[Classification_Industry] AS [Extent1]
    WHERE ([Extent1].[Classification_Code] = @EntityKeyValue1) AND ([Extent1].[Entity_ID] = @EntityKeyValue2)
2018-04-07 12:24:47.5320|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: IF db_id(N'MetopeAzureDb') IS NOT NULL SELECT 1 ELSE SELECT Count(*) FROM sys.databases WHERE [name]=N'MetopeAzureDb'
2018-04-07 12:24:47.5595|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: IF db_id(N'MetopeAzureDb') IS NOT NULL SELECT 1 ELSE SELECT Count(*) FROM sys.databases WHERE [name]=N'MetopeAzureDb'
2018-04-07 12:24:47.5870|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: IF db_id(N'MetopeAzureDb') IS NOT NULL SELECT 1 ELSE SELECT Count(*) FROM sys.databases WHERE [name]=N'MetopeAzureDb'
2018-04-07 12:24:47.6105|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: IF db_id(N'MetopeAzureDb') IS NOT NULL SELECT 1 ELSE SELECT Count(*) FROM sys.databases WHERE [name]=N'MetopeAzureDb'
2018-04-07 12:26:52.6807|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: IF db_id(N'MetopeAzureDb') IS NOT NULL SELECT 1 ELSE SELECT Count(*) FROM sys.databases WHERE [name]=N'MetopeAzureDb'
2018-04-07 12:26:52.8108|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: IF db_id(N'MetopeAzureDb') IS NOT NULL SELECT 1 ELSE SELECT Count(*) FROM sys.databases WHERE [name]=N'MetopeAzureDb'
2018-04-07 12:26:53.2041|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: SELECT TOP (1) 
    [Extent1].[Party_Code] AS [Party_Code], 
    [Extent1].[Entity_ID] AS [Entity_ID], 
    [Extent1].[Actual_Forecast_Indicator] AS [Actual_Forecast_Indicator], 
    [Extent1].[Security_ID] AS [Security_ID], 
    [Extent1].[Financials_Date] AS [Financials_Date], 
    [Extent1].[Full_Adjusted_Share_NAV] AS [Full_Adjusted_Share_NAV], 
    [Extent1].[Enterprise_Value] AS [Enterprise_Value], 
    [Extent1].[Dividend_Yield] AS [Dividend_Yield], 
    [Extent1].[Net_Present_Value] AS [Net_Present_Value], 
    [Extent1].[Net_Property_Income] AS [Net_Property_Income], 
    [Extent1].[Vacancies_Overall] AS [Vacancies_Overall], 
    [Extent1].[Portfolio_Leases_Expiring] AS [Portfolio_Leases_Expiring], 
    [Extent1].[Assumed_Ave_Escalation_Rate] AS [Assumed_Ave_Escalation_Rate], 
    [Extent1].[Cap_Rate_Movemt_Assump] AS [Cap_Rate_Movemt_Assump], 
    [Extent1].[Reversion_Exp_Rent_Reviews] AS [Reversion_Exp_Rent_Reviews], 
    [Extent1].[Ungeared_Yield] AS [Ungeared_Yield], 
    [Extent1].[Net_Operating_Profit] AS [Net_Operating_Profit], 
    [Extent1].[Revenue_Growth] AS [Revenue_Growth], 
    [Extent1].[Net_Property_Income_Growth] AS [Net_Property_Income_Growth], 
    [Extent1].[Net_Operating_Profit_Growth] AS [Net_Operating_Profit_Growth], 
    [Extent1].[Interest_Paid_Growth] AS [Interest_Paid_Growth], 
    [Extent1].[Loan_To_Value] AS [Loan_To_Value], 
    [Extent1].[Interest_Cover_Ratio] AS [Interest_Cover_Ratio], 
    [Extent1].[Revenue] AS [Revenue], 
    [Extent1].[Interest_Paid] AS [Interest_Paid], 
    [Extent1].[Property_Expenses] AS [Property_Expenses], 
    [Extent1].[Property_Expenses_Growth] AS [Property_Expenses_Growth], 
    [Extent1].[Investment_Income] AS [Investment_Income], 
    [Extent1].[Admin_Expenses] AS [Admin_Expenses], 
    [Extent1].[Admin_Expenses_Growth] AS [Admin_Expenses_Growth], 
    [Extent1].[Taxation] AS [Taxation], 
    [Extent1].[Other_Income] AS [Other_Income], 
    [Extent1].[Distributable_Earnings] AS [Distributable_Earnings], 
    [Extent1].[Distributions_Growth] AS [Distributions_Growth], 
    [Extent1].[Linked_Units_Issued] AS [Linked_Units_Issued], 
    [Extent1].[Borrowings] AS [Borrowings], 
    [Extent1].[Units_Issued] AS [Units_Issued], 
    [Extent1].[Purchases_And_Developments] AS [Purchases_And_Developments], 
    [Extent1].[Sales] AS [Sales], 
    [Extent1].[Total_Assets] AS [Total_Assets], 
    [Extent1].[Current_Liabilities] AS [Current_Liabilities], 
    [Extent1].[Interest_Bearing_Borrowings] AS [Interest_Bearing_Borrowings], 
    [Extent1].[Last_Update_Date] AS [Last_Update_Date], 
    [Extent1].[Last_Update_User] AS [Last_Update_User], 
    [Extent1].[Forecast_Distributions_Growth] AS [Forecast_Distributions_Growth], 
    [Extent1].[Property_Portfolio_Value] AS [Property_Portfolio_Value], 
    [Extent1].[OffshoreExposure_WesternEurope] AS [OffshoreExposure_WesternEurope], 
    [Extent1].[OffshoreExposure_CEE] AS [OffshoreExposure_CEE], 
    [Extent1].[OffshoreExposure_US] AS [OffshoreExposure_US], 
    [Extent1].[OffshoreExposure_UK] AS [OffshoreExposure_UK], 
    [Extent1].[OffshoreExposure_Australia] AS [OffshoreExposure_Australia], 
    [Extent1].[OffshoreExposure_Africa] AS [OffshoreExposure_Africa], 
    [Extent1].[OffshoreExposure_Other] AS [OffshoreExposure_Other], 
    [Extent1].[Sector_Retail] AS [Sector_Retail], 
    [Extent1].[Sector_Office] AS [Sector_Office], 
    [Extent1].[Sector_Industrial] AS [Sector_Industrial], 
    [Extent1].[Sector_Residential] AS [Sector_Residential], 
    [Extent1].[Sector_Other] AS [Sector_Other], 
    [Extent1].[Sector_Offshore] AS [Sector_Offshore]
    FROM [dbo].[Party_Financials] AS [Extent1]
    WHERE ([Extent1].[Entity_ID] = @p__linq__0) AND ([Extent1].[Party_Code] = @p__linq__1) AND ([Extent1].[Actual_Forecast_Indicator] = @p__linq__2)
2018-04-07 12:26:53.2421|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: SELECT TOP (1) 
    [Extent1].[Party_Code] AS [Party_Code], 
    [Extent1].[Entity_ID] AS [Entity_ID], 
    [Extent1].[Actual_Forecast_Indicator] AS [Actual_Forecast_Indicator], 
    [Extent1].[Security_ID] AS [Security_ID], 
    [Extent1].[Financials_Date] AS [Financials_Date], 
    [Extent1].[Full_Adjusted_Share_NAV] AS [Full_Adjusted_Share_NAV], 
    [Extent1].[Enterprise_Value] AS [Enterprise_Value], 
    [Extent1].[Dividend_Yield] AS [Dividend_Yield], 
    [Extent1].[Net_Present_Value] AS [Net_Present_Value], 
    [Extent1].[Net_Property_Income] AS [Net_Property_Income], 
    [Extent1].[Vacancies_Overall] AS [Vacancies_Overall], 
    [Extent1].[Portfolio_Leases_Expiring] AS [Portfolio_Leases_Expiring], 
    [Extent1].[Assumed_Ave_Escalation_Rate] AS [Assumed_Ave_Escalation_Rate], 
    [Extent1].[Cap_Rate_Movemt_Assump] AS [Cap_Rate_Movemt_Assump], 
    [Extent1].[Reversion_Exp_Rent_Reviews] AS [Reversion_Exp_Rent_Reviews], 
    [Extent1].[Ungeared_Yield] AS [Ungeared_Yield], 
    [Extent1].[Net_Operating_Profit] AS [Net_Operating_Profit], 
    [Extent1].[Revenue_Growth] AS [Revenue_Growth], 
    [Extent1].[Net_Property_Income_Growth] AS [Net_Property_Income_Growth], 
    [Extent1].[Net_Operating_Profit_Growth] AS [Net_Operating_Profit_Growth], 
    [Extent1].[Interest_Paid_Growth] AS [Interest_Paid_Growth], 
    [Extent1].[Loan_To_Value] AS [Loan_To_Value], 
    [Extent1].[Interest_Cover_Ratio] AS [Interest_Cover_Ratio], 
    [Extent1].[Revenue] AS [Revenue], 
    [Extent1].[Interest_Paid] AS [Interest_Paid], 
    [Extent1].[Property_Expenses] AS [Property_Expenses], 
    [Extent1].[Property_Expenses_Growth] AS [Property_Expenses_Growth], 
    [Extent1].[Investment_Income] AS [Investment_Income], 
    [Extent1].[Admin_Expenses] AS [Admin_Expenses], 
    [Extent1].[Admin_Expenses_Growth] AS [Admin_Expenses_Growth], 
    [Extent1].[Taxation] AS [Taxation], 
    [Extent1].[Other_Income] AS [Other_Income], 
    [Extent1].[Distributable_Earnings] AS [Distributable_Earnings], 
    [Extent1].[Distributions_Growth] AS [Distributions_Growth], 
    [Extent1].[Linked_Units_Issued] AS [Linked_Units_Issued], 
    [Extent1].[Borrowings] AS [Borrowings], 
    [Extent1].[Units_Issued] AS [Units_Issued], 
    [Extent1].[Purchases_And_Developments] AS [Purchases_And_Developments], 
    [Extent1].[Sales] AS [Sales], 
    [Extent1].[Total_Assets] AS [Total_Assets], 
    [Extent1].[Current_Liabilities] AS [Current_Liabilities], 
    [Extent1].[Interest_Bearing_Borrowings] AS [Interest_Bearing_Borrowings], 
    [Extent1].[Last_Update_Date] AS [Last_Update_Date], 
    [Extent1].[Last_Update_User] AS [Last_Update_User], 
    [Extent1].[Forecast_Distributions_Growth] AS [Forecast_Distributions_Growth], 
    [Extent1].[Property_Portfolio_Value] AS [Property_Portfolio_Value], 
    [Extent1].[OffshoreExposure_WesternEurope] AS [OffshoreExposure_WesternEurope], 
    [Extent1].[OffshoreExposure_CEE] AS [OffshoreExposure_CEE], 
    [Extent1].[OffshoreExposure_US] AS [OffshoreExposure_US], 
    [Extent1].[OffshoreExposure_UK] AS [OffshoreExposure_UK], 
    [Extent1].[OffshoreExposure_Australia] AS [OffshoreExposure_Australia], 
    [Extent1].[OffshoreExposure_Africa] AS [OffshoreExposure_Africa], 
    [Extent1].[OffshoreExposure_Other] AS [OffshoreExposure_Other], 
    [Extent1].[Sector_Retail] AS [Sector_Retail], 
    [Extent1].[Sector_Office] AS [Sector_Office], 
    [Extent1].[Sector_Industrial] AS [Sector_Industrial], 
    [Extent1].[Sector_Residential] AS [Sector_Residential], 
    [Extent1].[Sector_Other] AS [Sector_Other], 
    [Extent1].[Sector_Offshore] AS [Sector_Offshore]
    FROM [dbo].[Party_Financials] AS [Extent1]
    WHERE ([Extent1].[Entity_ID] = @p__linq__0) AND ([Extent1].[Party_Code] = @p__linq__1) AND ([Extent1].[Actual_Forecast_Indicator] = @p__linq__2)
2018-04-07 12:26:54.5951|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: SELECT 
    [Project1].[Security_ID] AS [Security_ID], 
    [Project1].[Entity_ID] AS [Entity_ID], 
    [Project1].[Security_Name] AS [Security_Name], 
    [Project1].[Short_Name] AS [Short_Name], 
    [Project1].[Primary_Exch] AS [Primary_Exch], 
    [Project1].[Secondary_Exch] AS [Secondary_Exch], 
    [Project1].[Country_Of_Domicile] AS [Country_Of_Domicile], 
    [Project1].[Country_Of_Risk] AS [Country_Of_Risk], 
    [Project1].[Security_Type_Code] AS [Security_Type_Code], 
    [Project1].[Price_Multiplier] AS [Price_Multiplier], 
    [Project1].[Income_Frequency] AS [Income_Frequency], 
    [Project1].[Issuer_Code] AS [Issuer_Code], 
    [Project1].[Ultimate_Issuer_Code] AS [Ultimate_Issuer_Code], 
    [Project1].[Asset_Currency] AS [Asset_Currency], 
    [Project1].[Min_Lot_Size] AS [Min_Lot_Size], 
    [Project1].[Decimal_Precision] AS [Decimal_Precision], 
    [Project1].[AvePrice_Rounding] AS [AvePrice_Rounding], 
    [Project1].[Issue_Date] AS [Issue_Date], 
    [Project1].[Maturity_Date] AS [Maturity_Date], 
    [Project1].[Coupon_Rate] AS [Coupon_Rate], 
    [Project1].[Price_Exchange] AS [Price_Exchange], 
    [Project1].[Trade_Currency] AS [Trade_Currency], 
    [Project1].[Price_Curr] AS [Price_Curr], 
    [Project1].[Currency_Pair_Code] AS [Currency_Pair_Code], 
    [Project1].[Share_Class] AS [Share_Class], 
    [Project1].[Current_Market_Price] AS [Current_Market_Price], 
    [Project1].[Index_Type] AS [Index_Type], 
    [Project1].[Clean_Price_Formula] AS [Clean_Price_Formula], 
    [Project1].[Accrued_Income_Price_Formula] AS [Accrued_Income_Price_Formula], 
    [Project1].[Odd_First_Coupon_Date] AS [Odd_First_Coupon_Date], 
    [Project1].[Odd_Last_Coupon_Date] AS [Odd_Last_Coupon_Date], 
    [Project1].[Coupon_Anniversary_Indicator] AS [Coupon_Anniversary_Indicator], 
    [Project1].[Track_EOM_Flag] AS [Track_EOM_Flag], 
    [Project1].[Next_Coupon_Date] AS [Next_Coupon_Date], 
    [Project1].[Previous_Coupon_Date] AS [Previous_Coupon_Date], 
    [Project1].[Payment_Frequency] AS [Payment_Frequency], 
    [Project1].[Coupon_BusDay_Adjustment] AS [Coupon_BusDay_Adjustment], 
    [Project1].[Next_Ex_Div_Date] AS [Next_Ex_Div_Date], 
    [Project1].[Ex_Div_BusDay_Adjustment] AS [Ex_Div_BusDay_Adjustment], 
    [Project1].[Ex_Div_Period] AS [Ex_Div_Period], 
    [Project1].[Ticker] AS [Ticker], 
    [Project1].[Inet_ID] AS [Inet_ID], 
    [Project1].[Bloomberg_ID] AS [Bloomberg_ID], 
    [Project1].[External_Sec_ID] AS [External_Sec_ID], 
    [Project1].[Reuters_ID] AS [Reuters_ID], 
    [Project1].[ISIN] AS [ISIN], 
    [Project1].[Call_Account_Flag] AS [Call_Account_Flag], 
    [Project1].[System_Locked] AS [System_Locked], 
    [Project1].[Last_Update_User] AS [Last_Update_User], 
    [Project1].[Last_Update_Date] AS [Last_Update_Date], 
    [Project1].[Security_Status] AS [Security_Status], 
    [Project1].[Benchmark_Portfolio] AS [Benchmark_Portfolio], 
    [Project1].[Active_flag] AS [Active_flag], 
    [Project1].[Dividend_FX_Security_ID] AS [Dividend_FX_Security_ID]
    FROM ( SELECT 
        [Extent1].[Security_ID] AS [Security_ID], 
        [Extent1].[Entity_ID] AS [Entity_ID], 
        [Extent1].[Security_Name] AS [Security_Name], 
        [Extent1].[Short_Name] AS [Short_Name], 
        [Extent1].[Primary_Exch] AS [Primary_Exch], 
        [Extent1].[Secondary_Exch] AS [Secondary_Exch], 
        [Extent1].[Country_Of_Domicile] AS [Country_Of_Domicile], 
        [Extent1].[Country_Of_Risk] AS [Country_Of_Risk], 
        [Extent1].[Security_Type_Code] AS [Security_Type_Code], 
        [Extent1].[Price_Multiplier] AS [Price_Multiplier], 
        [Extent1].[Income_Frequency] AS [Income_Frequency], 
        [Extent1].[Issuer_Code] AS [Issuer_Code], 
        [Extent1].[Ultimate_Issuer_Code] AS [Ultimate_Issuer_Code], 
        [Extent1].[Asset_Currency] AS [Asset_Currency], 
        [Extent1].[Min_Lot_Size] AS [Min_Lot_Size], 
        [Extent1].[Decimal_Precision] AS [Decimal_Precision], 
        [Extent1].[AvePrice_Rounding] AS [AvePrice_Rounding], 
        [Extent1].[Issue_Date] AS [Issue_Date], 
        [Extent1].[Maturity_Date] AS [Maturity_Date], 
        [Extent1].[Coupon_Rate] AS [Coupon_Rate], 
        [Extent1].[Price_Exchange] AS [Price_Exchange], 
        [Extent1].[Trade_Currency] AS [Trade_Currency], 
        [Extent1].[Price_Curr] AS [Price_Curr], 
        [Extent1].[Currency_Pair_Code] AS [Currency_Pair_Code], 
        [Extent1].[Share_Class] AS [Share_Class], 
        [Extent1].[Current_Market_Price] AS [Current_Market_Price], 
        [Extent1].[Index_Type] AS [Index_Type], 
        [Extent1].[Clean_Price_Formula] AS [Clean_Price_Formula], 
        [Extent1].[Accrued_Income_Price_Formula] AS [Accrued_Income_Price_Formula], 
        [Extent1].[Odd_First_Coupon_Date] AS [Odd_First_Coupon_Date], 
        [Extent1].[Odd_Last_Coupon_Date] AS [Odd_Last_Coupon_Date], 
        [Extent1].[Coupon_Anniversary_Indicator] AS [Coupon_Anniversary_Indicator], 
        [Extent1].[Track_EOM_Flag] AS [Track_EOM_Flag], 
        [Extent1].[Next_Coupon_Date] AS [Next_Coupon_Date], 
        [Extent1].[Previous_Coupon_Date] AS [Previous_Coupon_Date], 
        [Extent1].[Payment_Frequency] AS [Payment_Frequency], 
        [Extent1].[Coupon_BusDay_Adjustment] AS [Coupon_BusDay_Adjustment], 
        [Extent1].[Next_Ex_Div_Date] AS [Next_Ex_Div_Date], 
        [Extent1].[Ex_Div_BusDay_Adjustment] AS [Ex_Div_BusDay_Adjustment], 
        [Extent1].[Ex_Div_Period] AS [Ex_Div_Period], 
        [Extent1].[Ticker] AS [Ticker], 
        [Extent1].[Inet_ID] AS [Inet_ID], 
        [Extent1].[Bloomberg_ID] AS [Bloomberg_ID], 
        [Extent1].[External_Sec_ID] AS [External_Sec_ID], 
        [Extent1].[Reuters_ID] AS [Reuters_ID], 
        [Extent1].[ISIN] AS [ISIN], 
        [Extent1].[Call_Account_Flag] AS [Call_Account_Flag], 
        [Extent1].[System_Locked] AS [System_Locked], 
        [Extent1].[Last_Update_User] AS [Last_Update_User], 
        [Extent1].[Last_Update_Date] AS [Last_Update_Date], 
        [Extent1].[Security_Status] AS [Security_Status], 
        [Extent1].[Benchmark_Portfolio] AS [Benchmark_Portfolio], 
        [Extent1].[Active_flag] AS [Active_flag], 
        [Extent1].[Dividend_FX_Security_ID] AS [Dividend_FX_Security_ID]
        FROM [dbo].[Security_Detail] AS [Extent1]
        WHERE ([Extent1].[Entity_ID] IN (@p__linq__0,@p__linq__1)) AND ((CASE WHEN ( NOT ((N'' = @p__linq__2) AND (@p__linq__2 IS NOT NULL))) THEN CASE WHEN ([Extent1].[Security_Type_Code] = @p__linq__3) THEN cast(1 as bit) WHEN ( NOT (([Extent1].[Security_Type_Code] = @p__linq__3) AND (0 = (CASE WHEN (@p__linq__3 IS NULL) THEN cast(1 as bit) ELSE cast(0 as bit) END)))) THEN cast(0 as bit) END WHEN ('' <> [Extent1].[Security_Type_Code]) THEN cast(1 as bit) WHEN ('' = [Extent1].[Security_Type_Code]) THEN cast(0 as bit) END) = 1)
    )  AS [Project1]
    ORDER BY [Project1].[Security_Name] ASC
2018-04-07 12:26:54.8823|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: SELECT 
    [Project1].[Security_ID] AS [Security_ID], 
    [Project1].[Entity_ID] AS [Entity_ID], 
    [Project1].[Security_Name] AS [Security_Name], 
    [Project1].[Short_Name] AS [Short_Name], 
    [Project1].[Primary_Exch] AS [Primary_Exch], 
    [Project1].[Secondary_Exch] AS [Secondary_Exch], 
    [Project1].[Country_Of_Domicile] AS [Country_Of_Domicile], 
    [Project1].[Country_Of_Risk] AS [Country_Of_Risk], 
    [Project1].[Security_Type_Code] AS [Security_Type_Code], 
    [Project1].[Price_Multiplier] AS [Price_Multiplier], 
    [Project1].[Income_Frequency] AS [Income_Frequency], 
    [Project1].[Issuer_Code] AS [Issuer_Code], 
    [Project1].[Ultimate_Issuer_Code] AS [Ultimate_Issuer_Code], 
    [Project1].[Asset_Currency] AS [Asset_Currency], 
    [Project1].[Min_Lot_Size] AS [Min_Lot_Size], 
    [Project1].[Decimal_Precision] AS [Decimal_Precision], 
    [Project1].[AvePrice_Rounding] AS [AvePrice_Rounding], 
    [Project1].[Issue_Date] AS [Issue_Date], 
    [Project1].[Maturity_Date] AS [Maturity_Date], 
    [Project1].[Coupon_Rate] AS [Coupon_Rate], 
    [Project1].[Price_Exchange] AS [Price_Exchange], 
    [Project1].[Trade_Currency] AS [Trade_Currency], 
    [Project1].[Price_Curr] AS [Price_Curr], 
    [Project1].[Currency_Pair_Code] AS [Currency_Pair_Code], 
    [Project1].[Share_Class] AS [Share_Class], 
    [Project1].[Current_Market_Price] AS [Current_Market_Price], 
    [Project1].[Index_Type] AS [Index_Type], 
    [Project1].[Clean_Price_Formula] AS [Clean_Price_Formula], 
    [Project1].[Accrued_Income_Price_Formula] AS [Accrued_Income_Price_Formula], 
    [Project1].[Odd_First_Coupon_Date] AS [Odd_First_Coupon_Date], 
    [Project1].[Odd_Last_Coupon_Date] AS [Odd_Last_Coupon_Date], 
    [Project1].[Coupon_Anniversary_Indicator] AS [Coupon_Anniversary_Indicator], 
    [Project1].[Track_EOM_Flag] AS [Track_EOM_Flag], 
    [Project1].[Next_Coupon_Date] AS [Next_Coupon_Date], 
    [Project1].[Previous_Coupon_Date] AS [Previous_Coupon_Date], 
    [Project1].[Payment_Frequency] AS [Payment_Frequency], 
    [Project1].[Coupon_BusDay_Adjustment] AS [Coupon_BusDay_Adjustment], 
    [Project1].[Next_Ex_Div_Date] AS [Next_Ex_Div_Date], 
    [Project1].[Ex_Div_BusDay_Adjustment] AS [Ex_Div_BusDay_Adjustment], 
    [Project1].[Ex_Div_Period] AS [Ex_Div_Period], 
    [Project1].[Ticker] AS [Ticker], 
    [Project1].[Inet_ID] AS [Inet_ID], 
    [Project1].[Bloomberg_ID] AS [Bloomberg_ID], 
    [Project1].[External_Sec_ID] AS [External_Sec_ID], 
    [Project1].[Reuters_ID] AS [Reuters_ID], 
    [Project1].[ISIN] AS [ISIN], 
    [Project1].[Call_Account_Flag] AS [Call_Account_Flag], 
    [Project1].[System_Locked] AS [System_Locked], 
    [Project1].[Last_Update_User] AS [Last_Update_User], 
    [Project1].[Last_Update_Date] AS [Last_Update_Date], 
    [Project1].[Security_Status] AS [Security_Status], 
    [Project1].[Benchmark_Portfolio] AS [Benchmark_Portfolio], 
    [Project1].[Active_flag] AS [Active_flag], 
    [Project1].[Dividend_FX_Security_ID] AS [Dividend_FX_Security_ID]
    FROM ( SELECT 
        [Extent1].[Security_ID] AS [Security_ID], 
        [Extent1].[Entity_ID] AS [Entity_ID], 
        [Extent1].[Security_Name] AS [Security_Name], 
        [Extent1].[Short_Name] AS [Short_Name], 
        [Extent1].[Primary_Exch] AS [Primary_Exch], 
        [Extent1].[Secondary_Exch] AS [Secondary_Exch], 
        [Extent1].[Country_Of_Domicile] AS [Country_Of_Domicile], 
        [Extent1].[Country_Of_Risk] AS [Country_Of_Risk], 
        [Extent1].[Security_Type_Code] AS [Security_Type_Code], 
        [Extent1].[Price_Multiplier] AS [Price_Multiplier], 
        [Extent1].[Income_Frequency] AS [Income_Frequency], 
        [Extent1].[Issuer_Code] AS [Issuer_Code], 
        [Extent1].[Ultimate_Issuer_Code] AS [Ultimate_Issuer_Code], 
        [Extent1].[Asset_Currency] AS [Asset_Currency], 
        [Extent1].[Min_Lot_Size] AS [Min_Lot_Size], 
        [Extent1].[Decimal_Precision] AS [Decimal_Precision], 
        [Extent1].[AvePrice_Rounding] AS [AvePrice_Rounding], 
        [Extent1].[Issue_Date] AS [Issue_Date], 
        [Extent1].[Maturity_Date] AS [Maturity_Date], 
        [Extent1].[Coupon_Rate] AS [Coupon_Rate], 
        [Extent1].[Price_Exchange] AS [Price_Exchange], 
        [Extent1].[Trade_Currency] AS [Trade_Currency], 
        [Extent1].[Price_Curr] AS [Price_Curr], 
        [Extent1].[Currency_Pair_Code] AS [Currency_Pair_Code], 
        [Extent1].[Share_Class] AS [Share_Class], 
        [Extent1].[Current_Market_Price] AS [Current_Market_Price], 
        [Extent1].[Index_Type] AS [Index_Type], 
        [Extent1].[Clean_Price_Formula] AS [Clean_Price_Formula], 
        [Extent1].[Accrued_Income_Price_Formula] AS [Accrued_Income_Price_Formula], 
        [Extent1].[Odd_First_Coupon_Date] AS [Odd_First_Coupon_Date], 
        [Extent1].[Odd_Last_Coupon_Date] AS [Odd_Last_Coupon_Date], 
        [Extent1].[Coupon_Anniversary_Indicator] AS [Coupon_Anniversary_Indicator], 
        [Extent1].[Track_EOM_Flag] AS [Track_EOM_Flag], 
        [Extent1].[Next_Coupon_Date] AS [Next_Coupon_Date], 
        [Extent1].[Previous_Coupon_Date] AS [Previous_Coupon_Date], 
        [Extent1].[Payment_Frequency] AS [Payment_Frequency], 
        [Extent1].[Coupon_BusDay_Adjustment] AS [Coupon_BusDay_Adjustment], 
        [Extent1].[Next_Ex_Div_Date] AS [Next_Ex_Div_Date], 
        [Extent1].[Ex_Div_BusDay_Adjustment] AS [Ex_Div_BusDay_Adjustment], 
        [Extent1].[Ex_Div_Period] AS [Ex_Div_Period], 
        [Extent1].[Ticker] AS [Ticker], 
        [Extent1].[Inet_ID] AS [Inet_ID], 
        [Extent1].[Bloomberg_ID] AS [Bloomberg_ID], 
        [Extent1].[External_Sec_ID] AS [External_Sec_ID], 
        [Extent1].[Reuters_ID] AS [Reuters_ID], 
        [Extent1].[ISIN] AS [ISIN], 
        [Extent1].[Call_Account_Flag] AS [Call_Account_Flag], 
        [Extent1].[System_Locked] AS [System_Locked], 
        [Extent1].[Last_Update_User] AS [Last_Update_User], 
        [Extent1].[Last_Update_Date] AS [Last_Update_Date], 
        [Extent1].[Security_Status] AS [Security_Status], 
        [Extent1].[Benchmark_Portfolio] AS [Benchmark_Portfolio], 
        [Extent1].[Active_flag] AS [Active_flag], 
        [Extent1].[Dividend_FX_Security_ID] AS [Dividend_FX_Security_ID]
        FROM [dbo].[Security_Detail] AS [Extent1]
        WHERE ([Extent1].[Entity_ID] IN (@p__linq__0,@p__linq__1)) AND ((CASE WHEN ( NOT ((N'' = @p__linq__2) AND (@p__linq__2 IS NOT NULL))) THEN CASE WHEN ([Extent1].[Security_Type_Code] = @p__linq__3) THEN cast(1 as bit) WHEN ( NOT (([Extent1].[Security_Type_Code] = @p__linq__3) AND (0 = (CASE WHEN (@p__linq__3 IS NULL) THEN cast(1 as bit) ELSE cast(0 as bit) END)))) THEN cast(0 as bit) END WHEN ('' <> [Extent1].[Security_Type_Code]) THEN cast(1 as bit) WHEN ('' = [Extent1].[Security_Type_Code]) THEN cast(0 as bit) END) = 1)
    )  AS [Project1]
    ORDER BY [Project1].[Security_Name] ASC
2018-04-07 12:26:55.5708|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: IF db_id(N'MetopeAzureDb') IS NOT NULL SELECT 1 ELSE SELECT Count(*) FROM sys.databases WHERE [name]=N'MetopeAzureDb'
2018-04-07 12:26:55.5913|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: IF db_id(N'MetopeAzureDb') IS NOT NULL SELECT 1 ELSE SELECT Count(*) FROM sys.databases WHERE [name]=N'MetopeAzureDb'
2018-04-07 12:26:55.6298|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: IF db_id(N'MetopeAzureDb') IS NOT NULL SELECT 1 ELSE SELECT Count(*) FROM sys.databases WHERE [name]=N'MetopeAzureDb'
2018-04-07 12:26:55.6609|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: IF db_id(N'MetopeAzureDb') IS NOT NULL SELECT 1 ELSE SELECT Count(*) FROM sys.databases WHERE [name]=N'MetopeAzureDb'
2018-04-07 12:27:15.3729|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: IF db_id(N'MetopeAzureDb') IS NOT NULL SELECT 1 ELSE SELECT Count(*) FROM sys.databases WHERE [name]=N'MetopeAzureDb'
2018-04-07 12:27:15.5095|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: IF db_id(N'MetopeAzureDb') IS NOT NULL SELECT 1 ELSE SELECT Count(*) FROM sys.databases WHERE [name]=N'MetopeAzureDb'
2018-04-07 12:27:15.8152|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: UPDATE [dbo].[Party_Financials]
SET [Security_ID] = @0, [Financials_Date] = @1, [Full_Adjusted_Share_NAV] = @2, [Enterprise_Value] = NULL, [Dividend_Yield] = NULL, [Net_Present_Value] = NULL, [Net_Property_Income] = NULL, [Vacancies_Overall] = NULL, [Portfolio_Leases_Expiring] = NULL, [Assumed_Ave_Escalation_Rate] = NULL, [Cap_Rate_Movemt_Assump] = NULL, [Reversion_Exp_Rent_Reviews] = NULL, [Ungeared_Yield] = NULL, [Net_Operating_Profit] = NULL, [Revenue_Growth] = NULL, [Net_Property_Income_Growth] = NULL, [Net_Operating_Profit_Growth] = NULL, [Interest_Paid_Growth] = NULL, [Loan_To_Value] = NULL, [Interest_Cover_Ratio] = NULL, [Revenue] = NULL, [Interest_Paid] = NULL, [Property_Expenses] = NULL, [Property_Expenses_Growth] = NULL, [Investment_Income] = NULL, [Admin_Expenses] = NULL, [Admin_Expenses_Growth] = NULL, [Taxation] = NULL, [Other_Income] = NULL, [Distributable_Earnings] = NULL, [Distributions_Growth] = NULL, [Linked_Units_Issued] = NULL, [Borrowings] = NULL, [Units_Issued] = NULL, [Purchases_And_Developments] = NULL, [Sales] = NULL, [Total_Assets] = NULL, [Current_Liabilities] = NULL, [Interest_Bearing_Borrowings] = NULL, [Last_Update_Date] = @3, [Last_Update_User] = @4, [Forecast_Distributions_Growth] = NULL, [Property_Portfolio_Value] = @5, [OffshoreExposure_WesternEurope] = NULL, [OffshoreExposure_CEE] = NULL, [OffshoreExposure_US] = NULL, [OffshoreExposure_UK] = NULL, [OffshoreExposure_Australia] = NULL, [OffshoreExposure_Africa] = NULL, [OffshoreExposure_Other] = NULL, [Sector_Retail] = NULL, [Sector_Office] = NULL, [Sector_Industrial] = NULL, [Sector_Residential] = NULL, [Sector_Other] = NULL, [Sector_Offshore] = NULL
WHERE ((([Party_Code] = @6) AND ([Entity_ID] = @7)) AND ([Actual_Forecast_Indicator] = @8))

2018-04-07 12:27:15.9198|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: UPDATE [dbo].[Party_Financials]
SET [Security_ID] = @0, [Financials_Date] = @1, [Full_Adjusted_Share_NAV] = @2, [Enterprise_Value] = NULL, [Dividend_Yield] = NULL, [Net_Present_Value] = NULL, [Net_Property_Income] = NULL, [Vacancies_Overall] = NULL, [Portfolio_Leases_Expiring] = NULL, [Assumed_Ave_Escalation_Rate] = NULL, [Cap_Rate_Movemt_Assump] = NULL, [Reversion_Exp_Rent_Reviews] = NULL, [Ungeared_Yield] = NULL, [Net_Operating_Profit] = NULL, [Revenue_Growth] = NULL, [Net_Property_Income_Growth] = NULL, [Net_Operating_Profit_Growth] = NULL, [Interest_Paid_Growth] = NULL, [Loan_To_Value] = NULL, [Interest_Cover_Ratio] = NULL, [Revenue] = NULL, [Interest_Paid] = NULL, [Property_Expenses] = NULL, [Property_Expenses_Growth] = NULL, [Investment_Income] = NULL, [Admin_Expenses] = NULL, [Admin_Expenses_Growth] = NULL, [Taxation] = NULL, [Other_Income] = NULL, [Distributable_Earnings] = NULL, [Distributions_Growth] = NULL, [Linked_Units_Issued] = NULL, [Borrowings] = NULL, [Units_Issued] = NULL, [Purchases_And_Developments] = NULL, [Sales] = NULL, [Total_Assets] = NULL, [Current_Liabilities] = NULL, [Interest_Bearing_Borrowings] = NULL, [Last_Update_Date] = @3, [Last_Update_User] = @4, [Forecast_Distributions_Growth] = NULL, [Property_Portfolio_Value] = @5, [OffshoreExposure_WesternEurope] = NULL, [OffshoreExposure_CEE] = NULL, [OffshoreExposure_US] = NULL, [OffshoreExposure_UK] = NULL, [OffshoreExposure_Australia] = NULL, [OffshoreExposure_Africa] = NULL, [OffshoreExposure_Other] = NULL, [Sector_Retail] = NULL, [Sector_Office] = NULL, [Sector_Industrial] = NULL, [Sector_Residential] = NULL, [Sector_Other] = NULL, [Sector_Offshore] = NULL
WHERE ((([Party_Code] = @6) AND ([Entity_ID] = @7)) AND ([Actual_Forecast_Indicator] = @8))

2018-04-07 12:27:15.9943|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: IF db_id(N'MetopeAzureDb') IS NOT NULL SELECT 1 ELSE SELECT Count(*) FROM sys.databases WHERE [name]=N'MetopeAzureDb'
2018-04-07 12:27:16.0408|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: IF db_id(N'MetopeAzureDb') IS NOT NULL SELECT 1 ELSE SELECT Count(*) FROM sys.databases WHERE [name]=N'MetopeAzureDb'
2018-04-07 12:27:16.1179|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: SELECT 
    [Project1].[Party_Code] AS [Party_Code], 
    [Project1].[Entity_ID] AS [Entity_ID], 
    [Project1].[Actual_Forecast_Indicator] AS [Actual_Forecast_Indicator], 
    [Project1].[Security_ID] AS [Security_ID], 
    [Project1].[Financials_Date] AS [Financials_Date], 
    [Project1].[Full_Adjusted_Share_NAV] AS [Full_Adjusted_Share_NAV], 
    [Project1].[Enterprise_Value] AS [Enterprise_Value], 
    [Project1].[Dividend_Yield] AS [Dividend_Yield], 
    [Project1].[Net_Present_Value] AS [Net_Present_Value], 
    [Project1].[Net_Property_Income] AS [Net_Property_Income], 
    [Project1].[Vacancies_Overall] AS [Vacancies_Overall], 
    [Project1].[Portfolio_Leases_Expiring] AS [Portfolio_Leases_Expiring], 
    [Project1].[Assumed_Ave_Escalation_Rate] AS [Assumed_Ave_Escalation_Rate], 
    [Project1].[Cap_Rate_Movemt_Assump] AS [Cap_Rate_Movemt_Assump], 
    [Project1].[Reversion_Exp_Rent_Reviews] AS [Reversion_Exp_Rent_Reviews], 
    [Project1].[Ungeared_Yield] AS [Ungeared_Yield], 
    [Project1].[Net_Operating_Profit] AS [Net_Operating_Profit], 
    [Project1].[Revenue_Growth] AS [Revenue_Growth], 
    [Project1].[Net_Property_Income_Growth] AS [Net_Property_Income_Growth], 
    [Project1].[Net_Operating_Profit_Growth] AS [Net_Operating_Profit_Growth], 
    [Project1].[Interest_Paid_Growth] AS [Interest_Paid_Growth], 
    [Project1].[Loan_To_Value] AS [Loan_To_Value], 
    [Project1].[Interest_Cover_Ratio] AS [Interest_Cover_Ratio], 
    [Project1].[Revenue] AS [Revenue], 
    [Project1].[Interest_Paid] AS [Interest_Paid], 
    [Project1].[Property_Expenses] AS [Property_Expenses], 
    [Project1].[Property_Expenses_Growth] AS [Property_Expenses_Growth], 
    [Project1].[Investment_Income] AS [Investment_Income], 
    [Project1].[Admin_Expenses] AS [Admin_Expenses], 
    [Project1].[Admin_Expenses_Growth] AS [Admin_Expenses_Growth], 
    [Project1].[Taxation] AS [Taxation], 
    [Project1].[Other_Income] AS [Other_Income], 
    [Project1].[Distributable_Earnings] AS [Distributable_Earnings], 
    [Project1].[Distributions_Growth] AS [Distributions_Growth], 
    [Project1].[Linked_Units_Issued] AS [Linked_Units_Issued], 
    [Project1].[Borrowings] AS [Borrowings], 
    [Project1].[Units_Issued] AS [Units_Issued], 
    [Project1].[Purchases_And_Developments] AS [Purchases_And_Developments], 
    [Project1].[Sales] AS [Sales], 
    [Project1].[Total_Assets] AS [Total_Assets], 
    [Project1].[Current_Liabilities] AS [Current_Liabilities], 
    [Project1].[Interest_Bearing_Borrowings] AS [Interest_Bearing_Borrowings], 
    [Project1].[Last_Update_Date] AS [Last_Update_Date], 
    [Project1].[Last_Update_User] AS [Last_Update_User], 
    [Project1].[Forecast_Distributions_Growth] AS [Forecast_Distributions_Growth], 
    [Project1].[Property_Portfolio_Value] AS [Property_Portfolio_Value], 
    [Project1].[OffshoreExposure_WesternEurope] AS [OffshoreExposure_WesternEurope], 
    [Project1].[OffshoreExposure_CEE] AS [OffshoreExposure_CEE], 
    [Project1].[OffshoreExposure_US] AS [OffshoreExposure_US], 
    [Project1].[OffshoreExposure_UK] AS [OffshoreExposure_UK], 
    [Project1].[OffshoreExposure_Australia] AS [OffshoreExposure_Australia], 
    [Project1].[OffshoreExposure_Africa] AS [OffshoreExposure_Africa], 
    [Project1].[OffshoreExposure_Other] AS [OffshoreExposure_Other], 
    [Project1].[Sector_Retail] AS [Sector_Retail], 
    [Project1].[Sector_Office] AS [Sector_Office], 
    [Project1].[Sector_Industrial] AS [Sector_Industrial], 
    [Project1].[Sector_Residential] AS [Sector_Residential], 
    [Project1].[Sector_Other] AS [Sector_Other], 
    [Project1].[Sector_Offshore] AS [Sector_Offshore]
    FROM ( SELECT 
        [Extent1].[Party_Code] AS [Party_Code], 
        [Extent1].[Entity_ID] AS [Entity_ID], 
        [Extent1].[Actual_Forecast_Indicator] AS [Actual_Forecast_Indicator], 
        [Extent1].[Security_ID] AS [Security_ID], 
        [Extent1].[Financials_Date] AS [Financials_Date], 
        [Extent1].[Full_Adjusted_Share_NAV] AS [Full_Adjusted_Share_NAV], 
        [Extent1].[Enterprise_Value] AS [Enterprise_Value], 
        [Extent1].[Dividend_Yield] AS [Dividend_Yield], 
        [Extent1].[Net_Present_Value] AS [Net_Present_Value], 
        [Extent1].[Net_Property_Income] AS [Net_Property_Income], 
        [Extent1].[Vacancies_Overall] AS [Vacancies_Overall], 
        [Extent1].[Portfolio_Leases_Expiring] AS [Portfolio_Leases_Expiring], 
        [Extent1].[Assumed_Ave_Escalation_Rate] AS [Assumed_Ave_Escalation_Rate], 
        [Extent1].[Cap_Rate_Movemt_Assump] AS [Cap_Rate_Movemt_Assump], 
        [Extent1].[Reversion_Exp_Rent_Reviews] AS [Reversion_Exp_Rent_Reviews], 
        [Extent1].[Ungeared_Yield] AS [Ungeared_Yield], 
        [Extent1].[Net_Operating_Profit] AS [Net_Operating_Profit], 
        [Extent1].[Revenue_Growth] AS [Revenue_Growth], 
        [Extent1].[Net_Property_Income_Growth] AS [Net_Property_Income_Growth], 
        [Extent1].[Net_Operating_Profit_Growth] AS [Net_Operating_Profit_Growth], 
        [Extent1].[Interest_Paid_Growth] AS [Interest_Paid_Growth], 
        [Extent1].[Loan_To_Value] AS [Loan_To_Value], 
        [Extent1].[Interest_Cover_Ratio] AS [Interest_Cover_Ratio], 
        [Extent1].[Revenue] AS [Revenue], 
        [Extent1].[Interest_Paid] AS [Interest_Paid], 
        [Extent1].[Property_Expenses] AS [Property_Expenses], 
        [Extent1].[Property_Expenses_Growth] AS [Property_Expenses_Growth], 
        [Extent1].[Investment_Income] AS [Investment_Income], 
        [Extent1].[Admin_Expenses] AS [Admin_Expenses], 
        [Extent1].[Admin_Expenses_Growth] AS [Admin_Expenses_Growth], 
        [Extent1].[Taxation] AS [Taxation], 
        [Extent1].[Other_Income] AS [Other_Income], 
        [Extent1].[Distributable_Earnings] AS [Distributable_Earnings], 
        [Extent1].[Distributions_Growth] AS [Distributions_Growth], 
        [Extent1].[Linked_Units_Issued] AS [Linked_Units_Issued], 
        [Extent1].[Borrowings] AS [Borrowings], 
        [Extent1].[Units_Issued] AS [Units_Issued], 
        [Extent1].[Purchases_And_Developments] AS [Purchases_And_Developments], 
        [Extent1].[Sales] AS [Sales], 
        [Extent1].[Total_Assets] AS [Total_Assets], 
        [Extent1].[Current_Liabilities] AS [Current_Liabilities], 
        [Extent1].[Interest_Bearing_Borrowings] AS [Interest_Bearing_Borrowings], 
        [Extent1].[Last_Update_Date] AS [Last_Update_Date], 
        [Extent1].[Last_Update_User] AS [Last_Update_User], 
        [Extent1].[Forecast_Distributions_Growth] AS [Forecast_Distributions_Growth], 
        [Extent1].[Property_Portfolio_Value] AS [Property_Portfolio_Value], 
        [Extent1].[OffshoreExposure_WesternEurope] AS [OffshoreExposure_WesternEurope], 
        [Extent1].[OffshoreExposure_CEE] AS [OffshoreExposure_CEE], 
        [Extent1].[OffshoreExposure_US] AS [OffshoreExposure_US], 
        [Extent1].[OffshoreExposure_UK] AS [OffshoreExposure_UK], 
        [Extent1].[OffshoreExposure_Australia] AS [OffshoreExposure_Australia], 
        [Extent1].[OffshoreExposure_Africa] AS [OffshoreExposure_Africa], 
        [Extent1].[OffshoreExposure_Other] AS [OffshoreExposure_Other], 
        [Extent1].[Sector_Retail] AS [Sector_Retail], 
        [Extent1].[Sector_Office] AS [Sector_Office], 
        [Extent1].[Sector_Industrial] AS [Sector_Industrial], 
        [Extent1].[Sector_Residential] AS [Sector_Residential], 
        [Extent1].[Sector_Other] AS [Sector_Other], 
        [Extent1].[Sector_Offshore] AS [Sector_Offshore]
        FROM [dbo].[Party_Financials] AS [Extent1]
        WHERE ((CASE WHEN ( NOT ((N'' = @p__linq__0) AND (@p__linq__0 IS NOT NULL))) THEN CASE WHEN ([Extent1].[Party_Code] = @p__linq__1) THEN cast(1 as bit) WHEN ( NOT (([Extent1].[Party_Code] = @p__linq__1) AND (0 = (CASE WHEN (@p__linq__1 IS NULL) THEN cast(1 as bit) ELSE cast(0 as bit) END)))) THEN cast(0 as bit) END WHEN ('' <> [Extent1].[Party_Code]) THEN cast(1 as bit) WHEN ('' = [Extent1].[Party_Code]) THEN cast(0 as bit) END) = 1) AND ([Extent1].[Entity_ID] = @p__linq__2)
    )  AS [Project1]
    ORDER BY [Project1].[Party_Code] ASC, [Project1].[Actual_Forecast_Indicator] ASC
2018-04-07 12:27:16.1624|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: SELECT 
    [Project1].[Party_Code] AS [Party_Code], 
    [Project1].[Entity_ID] AS [Entity_ID], 
    [Project1].[Actual_Forecast_Indicator] AS [Actual_Forecast_Indicator], 
    [Project1].[Security_ID] AS [Security_ID], 
    [Project1].[Financials_Date] AS [Financials_Date], 
    [Project1].[Full_Adjusted_Share_NAV] AS [Full_Adjusted_Share_NAV], 
    [Project1].[Enterprise_Value] AS [Enterprise_Value], 
    [Project1].[Dividend_Yield] AS [Dividend_Yield], 
    [Project1].[Net_Present_Value] AS [Net_Present_Value], 
    [Project1].[Net_Property_Income] AS [Net_Property_Income], 
    [Project1].[Vacancies_Overall] AS [Vacancies_Overall], 
    [Project1].[Portfolio_Leases_Expiring] AS [Portfolio_Leases_Expiring], 
    [Project1].[Assumed_Ave_Escalation_Rate] AS [Assumed_Ave_Escalation_Rate], 
    [Project1].[Cap_Rate_Movemt_Assump] AS [Cap_Rate_Movemt_Assump], 
    [Project1].[Reversion_Exp_Rent_Reviews] AS [Reversion_Exp_Rent_Reviews], 
    [Project1].[Ungeared_Yield] AS [Ungeared_Yield], 
    [Project1].[Net_Operating_Profit] AS [Net_Operating_Profit], 
    [Project1].[Revenue_Growth] AS [Revenue_Growth], 
    [Project1].[Net_Property_Income_Growth] AS [Net_Property_Income_Growth], 
    [Project1].[Net_Operating_Profit_Growth] AS [Net_Operating_Profit_Growth], 
    [Project1].[Interest_Paid_Growth] AS [Interest_Paid_Growth], 
    [Project1].[Loan_To_Value] AS [Loan_To_Value], 
    [Project1].[Interest_Cover_Ratio] AS [Interest_Cover_Ratio], 
    [Project1].[Revenue] AS [Revenue], 
    [Project1].[Interest_Paid] AS [Interest_Paid], 
    [Project1].[Property_Expenses] AS [Property_Expenses], 
    [Project1].[Property_Expenses_Growth] AS [Property_Expenses_Growth], 
    [Project1].[Investment_Income] AS [Investment_Income], 
    [Project1].[Admin_Expenses] AS [Admin_Expenses], 
    [Project1].[Admin_Expenses_Growth] AS [Admin_Expenses_Growth], 
    [Project1].[Taxation] AS [Taxation], 
    [Project1].[Other_Income] AS [Other_Income], 
    [Project1].[Distributable_Earnings] AS [Distributable_Earnings], 
    [Project1].[Distributions_Growth] AS [Distributions_Growth], 
    [Project1].[Linked_Units_Issued] AS [Linked_Units_Issued], 
    [Project1].[Borrowings] AS [Borrowings], 
    [Project1].[Units_Issued] AS [Units_Issued], 
    [Project1].[Purchases_And_Developments] AS [Purchases_And_Developments], 
    [Project1].[Sales] AS [Sales], 
    [Project1].[Total_Assets] AS [Total_Assets], 
    [Project1].[Current_Liabilities] AS [Current_Liabilities], 
    [Project1].[Interest_Bearing_Borrowings] AS [Interest_Bearing_Borrowings], 
    [Project1].[Last_Update_Date] AS [Last_Update_Date], 
    [Project1].[Last_Update_User] AS [Last_Update_User], 
    [Project1].[Forecast_Distributions_Growth] AS [Forecast_Distributions_Growth], 
    [Project1].[Property_Portfolio_Value] AS [Property_Portfolio_Value], 
    [Project1].[OffshoreExposure_WesternEurope] AS [OffshoreExposure_WesternEurope], 
    [Project1].[OffshoreExposure_CEE] AS [OffshoreExposure_CEE], 
    [Project1].[OffshoreExposure_US] AS [OffshoreExposure_US], 
    [Project1].[OffshoreExposure_UK] AS [OffshoreExposure_UK], 
    [Project1].[OffshoreExposure_Australia] AS [OffshoreExposure_Australia], 
    [Project1].[OffshoreExposure_Africa] AS [OffshoreExposure_Africa], 
    [Project1].[OffshoreExposure_Other] AS [OffshoreExposure_Other], 
    [Project1].[Sector_Retail] AS [Sector_Retail], 
    [Project1].[Sector_Office] AS [Sector_Office], 
    [Project1].[Sector_Industrial] AS [Sector_Industrial], 
    [Project1].[Sector_Residential] AS [Sector_Residential], 
    [Project1].[Sector_Other] AS [Sector_Other], 
    [Project1].[Sector_Offshore] AS [Sector_Offshore]
    FROM ( SELECT 
        [Extent1].[Party_Code] AS [Party_Code], 
        [Extent1].[Entity_ID] AS [Entity_ID], 
        [Extent1].[Actual_Forecast_Indicator] AS [Actual_Forecast_Indicator], 
        [Extent1].[Security_ID] AS [Security_ID], 
        [Extent1].[Financials_Date] AS [Financials_Date], 
        [Extent1].[Full_Adjusted_Share_NAV] AS [Full_Adjusted_Share_NAV], 
        [Extent1].[Enterprise_Value] AS [Enterprise_Value], 
        [Extent1].[Dividend_Yield] AS [Dividend_Yield], 
        [Extent1].[Net_Present_Value] AS [Net_Present_Value], 
        [Extent1].[Net_Property_Income] AS [Net_Property_Income], 
        [Extent1].[Vacancies_Overall] AS [Vacancies_Overall], 
        [Extent1].[Portfolio_Leases_Expiring] AS [Portfolio_Leases_Expiring], 
        [Extent1].[Assumed_Ave_Escalation_Rate] AS [Assumed_Ave_Escalation_Rate], 
        [Extent1].[Cap_Rate_Movemt_Assump] AS [Cap_Rate_Movemt_Assump], 
        [Extent1].[Reversion_Exp_Rent_Reviews] AS [Reversion_Exp_Rent_Reviews], 
        [Extent1].[Ungeared_Yield] AS [Ungeared_Yield], 
        [Extent1].[Net_Operating_Profit] AS [Net_Operating_Profit], 
        [Extent1].[Revenue_Growth] AS [Revenue_Growth], 
        [Extent1].[Net_Property_Income_Growth] AS [Net_Property_Income_Growth], 
        [Extent1].[Net_Operating_Profit_Growth] AS [Net_Operating_Profit_Growth], 
        [Extent1].[Interest_Paid_Growth] AS [Interest_Paid_Growth], 
        [Extent1].[Loan_To_Value] AS [Loan_To_Value], 
        [Extent1].[Interest_Cover_Ratio] AS [Interest_Cover_Ratio], 
        [Extent1].[Revenue] AS [Revenue], 
        [Extent1].[Interest_Paid] AS [Interest_Paid], 
        [Extent1].[Property_Expenses] AS [Property_Expenses], 
        [Extent1].[Property_Expenses_Growth] AS [Property_Expenses_Growth], 
        [Extent1].[Investment_Income] AS [Investment_Income], 
        [Extent1].[Admin_Expenses] AS [Admin_Expenses], 
        [Extent1].[Admin_Expenses_Growth] AS [Admin_Expenses_Growth], 
        [Extent1].[Taxation] AS [Taxation], 
        [Extent1].[Other_Income] AS [Other_Income], 
        [Extent1].[Distributable_Earnings] AS [Distributable_Earnings], 
        [Extent1].[Distributions_Growth] AS [Distributions_Growth], 
        [Extent1].[Linked_Units_Issued] AS [Linked_Units_Issued], 
        [Extent1].[Borrowings] AS [Borrowings], 
        [Extent1].[Units_Issued] AS [Units_Issued], 
        [Extent1].[Purchases_And_Developments] AS [Purchases_And_Developments], 
        [Extent1].[Sales] AS [Sales], 
        [Extent1].[Total_Assets] AS [Total_Assets], 
        [Extent1].[Current_Liabilities] AS [Current_Liabilities], 
        [Extent1].[Interest_Bearing_Borrowings] AS [Interest_Bearing_Borrowings], 
        [Extent1].[Last_Update_Date] AS [Last_Update_Date], 
        [Extent1].[Last_Update_User] AS [Last_Update_User], 
        [Extent1].[Forecast_Distributions_Growth] AS [Forecast_Distributions_Growth], 
        [Extent1].[Property_Portfolio_Value] AS [Property_Portfolio_Value], 
        [Extent1].[OffshoreExposure_WesternEurope] AS [OffshoreExposure_WesternEurope], 
        [Extent1].[OffshoreExposure_CEE] AS [OffshoreExposure_CEE], 
        [Extent1].[OffshoreExposure_US] AS [OffshoreExposure_US], 
        [Extent1].[OffshoreExposure_UK] AS [OffshoreExposure_UK], 
        [Extent1].[OffshoreExposure_Australia] AS [OffshoreExposure_Australia], 
        [Extent1].[OffshoreExposure_Africa] AS [OffshoreExposure_Africa], 
        [Extent1].[OffshoreExposure_Other] AS [OffshoreExposure_Other], 
        [Extent1].[Sector_Retail] AS [Sector_Retail], 
        [Extent1].[Sector_Office] AS [Sector_Office], 
        [Extent1].[Sector_Industrial] AS [Sector_Industrial], 
        [Extent1].[Sector_Residential] AS [Sector_Residential], 
        [Extent1].[Sector_Other] AS [Sector_Other], 
        [Extent1].[Sector_Offshore] AS [Sector_Offshore]
        FROM [dbo].[Party_Financials] AS [Extent1]
        WHERE ((CASE WHEN ( NOT ((N'' = @p__linq__0) AND (@p__linq__0 IS NOT NULL))) THEN CASE WHEN ([Extent1].[Party_Code] = @p__linq__1) THEN cast(1 as bit) WHEN ( NOT (([Extent1].[Party_Code] = @p__linq__1) AND (0 = (CASE WHEN (@p__linq__1 IS NULL) THEN cast(1 as bit) ELSE cast(0 as bit) END)))) THEN cast(0 as bit) END WHEN ('' <> [Extent1].[Party_Code]) THEN cast(1 as bit) WHEN ('' = [Extent1].[Party_Code]) THEN cast(0 as bit) END) = 1) AND ([Extent1].[Entity_ID] = @p__linq__2)
    )  AS [Project1]
    ORDER BY [Project1].[Party_Code] ASC, [Project1].[Actual_Forecast_Indicator] ASC
2018-04-07 12:27:16.4531|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: IF db_id(N'MetopeAzureDb') IS NOT NULL SELECT 1 ELSE SELECT Count(*) FROM sys.databases WHERE [name]=N'MetopeAzureDb'
2018-04-07 12:27:16.5057|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: IF db_id(N'MetopeAzureDb') IS NOT NULL SELECT 1 ELSE SELECT Count(*) FROM sys.databases WHERE [name]=N'MetopeAzureDb'
2018-04-07 12:27:16.5372|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: IF db_id(N'MetopeAzureDb') IS NOT NULL SELECT 1 ELSE SELECT Count(*) FROM sys.databases WHERE [name]=N'MetopeAzureDb'
2018-04-07 12:27:16.5602|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: IF db_id(N'MetopeAzureDb') IS NOT NULL SELECT 1 ELSE SELECT Count(*) FROM sys.databases WHERE [name]=N'MetopeAzureDb'
2018-04-07 12:27:19.5316|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: IF db_id(N'MetopeAzureDb') IS NOT NULL SELECT 1 ELSE SELECT Count(*) FROM sys.databases WHERE [name]=N'MetopeAzureDb'
2018-04-07 12:27:19.5547|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: IF db_id(N'MetopeAzureDb') IS NOT NULL SELECT 1 ELSE SELECT Count(*) FROM sys.databases WHERE [name]=N'MetopeAzureDb'
2018-04-07 12:27:19.5972|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: IF db_id(N'MetopeAzureDb') IS NOT NULL SELECT 1 ELSE SELECT Count(*) FROM sys.databases WHERE [name]=N'MetopeAzureDb'
2018-04-07 12:27:19.6172|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: IF db_id(N'MetopeAzureDb') IS NOT NULL SELECT 1 ELSE SELECT Count(*) FROM sys.databases WHERE [name]=N'MetopeAzureDb'
2018-04-07 12:27:19.8874|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: SELECT 
    [Project1].[Party_Code] AS [Party_Code], 
    [Project1].[Entity_ID] AS [Entity_ID], 
    [Project1].[Actual_Forecast_Indicator] AS [Actual_Forecast_Indicator], 
    [Project1].[Security_ID] AS [Security_ID], 
    [Project1].[Financials_Date] AS [Financials_Date], 
    [Project1].[Full_Adjusted_Share_NAV] AS [Full_Adjusted_Share_NAV], 
    [Project1].[Enterprise_Value] AS [Enterprise_Value], 
    [Project1].[Dividend_Yield] AS [Dividend_Yield], 
    [Project1].[Net_Present_Value] AS [Net_Present_Value], 
    [Project1].[Net_Property_Income] AS [Net_Property_Income], 
    [Project1].[Vacancies_Overall] AS [Vacancies_Overall], 
    [Project1].[Portfolio_Leases_Expiring] AS [Portfolio_Leases_Expiring], 
    [Project1].[Assumed_Ave_Escalation_Rate] AS [Assumed_Ave_Escalation_Rate], 
    [Project1].[Cap_Rate_Movemt_Assump] AS [Cap_Rate_Movemt_Assump], 
    [Project1].[Reversion_Exp_Rent_Reviews] AS [Reversion_Exp_Rent_Reviews], 
    [Project1].[Ungeared_Yield] AS [Ungeared_Yield], 
    [Project1].[Net_Operating_Profit] AS [Net_Operating_Profit], 
    [Project1].[Revenue_Growth] AS [Revenue_Growth], 
    [Project1].[Net_Property_Income_Growth] AS [Net_Property_Income_Growth], 
    [Project1].[Net_Operating_Profit_Growth] AS [Net_Operating_Profit_Growth], 
    [Project1].[Interest_Paid_Growth] AS [Interest_Paid_Growth], 
    [Project1].[Loan_To_Value] AS [Loan_To_Value], 
    [Project1].[Interest_Cover_Ratio] AS [Interest_Cover_Ratio], 
    [Project1].[Revenue] AS [Revenue], 
    [Project1].[Interest_Paid] AS [Interest_Paid], 
    [Project1].[Property_Expenses] AS [Property_Expenses], 
    [Project1].[Property_Expenses_Growth] AS [Property_Expenses_Growth], 
    [Project1].[Investment_Income] AS [Investment_Income], 
    [Project1].[Admin_Expenses] AS [Admin_Expenses], 
    [Project1].[Admin_Expenses_Growth] AS [Admin_Expenses_Growth], 
    [Project1].[Taxation] AS [Taxation], 
    [Project1].[Other_Income] AS [Other_Income], 
    [Project1].[Distributable_Earnings] AS [Distributable_Earnings], 
    [Project1].[Distributions_Growth] AS [Distributions_Growth], 
    [Project1].[Linked_Units_Issued] AS [Linked_Units_Issued], 
    [Project1].[Borrowings] AS [Borrowings], 
    [Project1].[Units_Issued] AS [Units_Issued], 
    [Project1].[Purchases_And_Developments] AS [Purchases_And_Developments], 
    [Project1].[Sales] AS [Sales], 
    [Project1].[Total_Assets] AS [Total_Assets], 
    [Project1].[Current_Liabilities] AS [Current_Liabilities], 
    [Project1].[Interest_Bearing_Borrowings] AS [Interest_Bearing_Borrowings], 
    [Project1].[Last_Update_Date] AS [Last_Update_Date], 
    [Project1].[Last_Update_User] AS [Last_Update_User], 
    [Project1].[Forecast_Distributions_Growth] AS [Forecast_Distributions_Growth], 
    [Project1].[Record_Date] AS [Record_Date], 
    [Project1].[Session_ID] AS [Session_ID], 
    [Project1].[Hist_Last_Update_Date] AS [Hist_Last_Update_Date], 
    [Project1].[Hist_Last_Update_User] AS [Hist_Last_Update_User], 
    [Project1].[Property_Portfolio_Value] AS [Property_Portfolio_Value], 
    [Project1].[OffshoreExposure_WesternEurope] AS [OffshoreExposure_WesternEurope], 
    [Project1].[OffshoreExposure_CEE] AS [OffshoreExposure_CEE], 
    [Project1].[OffshoreExposure_US] AS [OffshoreExposure_US], 
    [Project1].[OffshoreExposure_UK] AS [OffshoreExposure_UK], 
    [Project1].[OffshoreExposure_Australia] AS [OffshoreExposure_Australia], 
    [Project1].[OffshoreExposure_Africa] AS [OffshoreExposure_Africa], 
    [Project1].[OffshoreExposure_Other] AS [OffshoreExposure_Other], 
    [Project1].[Sector_Retail] AS [Sector_Retail], 
    [Project1].[Sector_Office] AS [Sector_Office], 
    [Project1].[Sector_Industrial] AS [Sector_Industrial], 
    [Project1].[Sector_Residential] AS [Sector_Residential], 
    [Project1].[Sector_Other] AS [Sector_Other], 
    [Project1].[Sector_Offshore] AS [Sector_Offshore]
    FROM ( SELECT 
        [Extent1].[Party_Code] AS [Party_Code], 
        [Extent1].[Entity_ID] AS [Entity_ID], 
        [Extent1].[Actual_Forecast_Indicator] AS [Actual_Forecast_Indicator], 
        [Extent1].[Security_ID] AS [Security_ID], 
        [Extent1].[Financials_Date] AS [Financials_Date], 
        [Extent1].[Full_Adjusted_Share_NAV] AS [Full_Adjusted_Share_NAV], 
        [Extent1].[Enterprise_Value] AS [Enterprise_Value], 
        [Extent1].[Dividend_Yield] AS [Dividend_Yield], 
        [Extent1].[Net_Present_Value] AS [Net_Present_Value], 
        [Extent1].[Net_Property_Income] AS [Net_Property_Income], 
        [Extent1].[Vacancies_Overall] AS [Vacancies_Overall], 
        [Extent1].[Portfolio_Leases_Expiring] AS [Portfolio_Leases_Expiring], 
        [Extent1].[Assumed_Ave_Escalation_Rate] AS [Assumed_Ave_Escalation_Rate], 
        [Extent1].[Cap_Rate_Movemt_Assump] AS [Cap_Rate_Movemt_Assump], 
        [Extent1].[Reversion_Exp_Rent_Reviews] AS [Reversion_Exp_Rent_Reviews], 
        [Extent1].[Ungeared_Yield] AS [Ungeared_Yield], 
        [Extent1].[Net_Operating_Profit] AS [Net_Operating_Profit], 
        [Extent1].[Revenue_Growth] AS [Revenue_Growth], 
        [Extent1].[Net_Property_Income_Growth] AS [Net_Property_Income_Growth], 
        [Extent1].[Net_Operating_Profit_Growth] AS [Net_Operating_Profit_Growth], 
        [Extent1].[Interest_Paid_Growth] AS [Interest_Paid_Growth], 
        [Extent1].[Loan_To_Value] AS [Loan_To_Value], 
        [Extent1].[Interest_Cover_Ratio] AS [Interest_Cover_Ratio], 
        [Extent1].[Revenue] AS [Revenue], 
        [Extent1].[Interest_Paid] AS [Interest_Paid], 
        [Extent1].[Property_Expenses] AS [Property_Expenses], 
        [Extent1].[Property_Expenses_Growth] AS [Property_Expenses_Growth], 
        [Extent1].[Investment_Income] AS [Investment_Income], 
        [Extent1].[Admin_Expenses] AS [Admin_Expenses], 
        [Extent1].[Admin_Expenses_Growth] AS [Admin_Expenses_Growth], 
        [Extent1].[Taxation] AS [Taxation], 
        [Extent1].[Other_Income] AS [Other_Income], 
        [Extent1].[Distributable_Earnings] AS [Distributable_Earnings], 
        [Extent1].[Distributions_Growth] AS [Distributions_Growth], 
        [Extent1].[Linked_Units_Issued] AS [Linked_Units_Issued], 
        [Extent1].[Borrowings] AS [Borrowings], 
        [Extent1].[Units_Issued] AS [Units_Issued], 
        [Extent1].[Purchases_And_Developments] AS [Purchases_And_Developments], 
        [Extent1].[Sales] AS [Sales], 
        [Extent1].[Total_Assets] AS [Total_Assets], 
        [Extent1].[Current_Liabilities] AS [Current_Liabilities], 
        [Extent1].[Interest_Bearing_Borrowings] AS [Interest_Bearing_Borrowings], 
        [Extent1].[Last_Update_Date] AS [Last_Update_Date], 
        [Extent1].[Last_Update_User] AS [Last_Update_User], 
        [Extent1].[Forecast_Distributions_Growth] AS [Forecast_Distributions_Growth], 
        [Extent1].[Record_Date] AS [Record_Date], 
        [Extent1].[Session_ID] AS [Session_ID], 
        [Extent1].[Hist_Last_Update_Date] AS [Hist_Last_Update_Date], 
        [Extent1].[Hist_Last_Update_User] AS [Hist_Last_Update_User], 
        [Extent1].[Property_Portfolio_Value] AS [Property_Portfolio_Value], 
        [Extent1].[OffshoreExposure_WesternEurope] AS [OffshoreExposure_WesternEurope], 
        [Extent1].[OffshoreExposure_CEE] AS [OffshoreExposure_CEE], 
        [Extent1].[OffshoreExposure_US] AS [OffshoreExposure_US], 
        [Extent1].[OffshoreExposure_UK] AS [OffshoreExposure_UK], 
        [Extent1].[OffshoreExposure_Australia] AS [OffshoreExposure_Australia], 
        [Extent1].[OffshoreExposure_Africa] AS [OffshoreExposure_Africa], 
        [Extent1].[OffshoreExposure_Other] AS [OffshoreExposure_Other], 
        [Extent1].[Sector_Retail] AS [Sector_Retail], 
        [Extent1].[Sector_Office] AS [Sector_Office], 
        [Extent1].[Sector_Industrial] AS [Sector_Industrial], 
        [Extent1].[Sector_Residential] AS [Sector_Residential], 
        [Extent1].[Sector_Other] AS [Sector_Other], 
        [Extent1].[Sector_Offshore] AS [Sector_Offshore]
        FROM [dbo].[Party_Financials_History] AS [Extent1]
        WHERE ([Extent1].[Entity_ID] = @p__linq__0) AND ([Extent1].[Party_Code] = @p__linq__1) AND ([Extent1].[Actual_Forecast_Indicator] = @p__linq__2)
    )  AS [Project1]
    ORDER BY [Project1].[Record_Date] DESC
2018-04-07 12:27:19.9209|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: SELECT 
    [Project1].[Party_Code] AS [Party_Code], 
    [Project1].[Entity_ID] AS [Entity_ID], 
    [Project1].[Actual_Forecast_Indicator] AS [Actual_Forecast_Indicator], 
    [Project1].[Security_ID] AS [Security_ID], 
    [Project1].[Financials_Date] AS [Financials_Date], 
    [Project1].[Full_Adjusted_Share_NAV] AS [Full_Adjusted_Share_NAV], 
    [Project1].[Enterprise_Value] AS [Enterprise_Value], 
    [Project1].[Dividend_Yield] AS [Dividend_Yield], 
    [Project1].[Net_Present_Value] AS [Net_Present_Value], 
    [Project1].[Net_Property_Income] AS [Net_Property_Income], 
    [Project1].[Vacancies_Overall] AS [Vacancies_Overall], 
    [Project1].[Portfolio_Leases_Expiring] AS [Portfolio_Leases_Expiring], 
    [Project1].[Assumed_Ave_Escalation_Rate] AS [Assumed_Ave_Escalation_Rate], 
    [Project1].[Cap_Rate_Movemt_Assump] AS [Cap_Rate_Movemt_Assump], 
    [Project1].[Reversion_Exp_Rent_Reviews] AS [Reversion_Exp_Rent_Reviews], 
    [Project1].[Ungeared_Yield] AS [Ungeared_Yield], 
    [Project1].[Net_Operating_Profit] AS [Net_Operating_Profit], 
    [Project1].[Revenue_Growth] AS [Revenue_Growth], 
    [Project1].[Net_Property_Income_Growth] AS [Net_Property_Income_Growth], 
    [Project1].[Net_Operating_Profit_Growth] AS [Net_Operating_Profit_Growth], 
    [Project1].[Interest_Paid_Growth] AS [Interest_Paid_Growth], 
    [Project1].[Loan_To_Value] AS [Loan_To_Value], 
    [Project1].[Interest_Cover_Ratio] AS [Interest_Cover_Ratio], 
    [Project1].[Revenue] AS [Revenue], 
    [Project1].[Interest_Paid] AS [Interest_Paid], 
    [Project1].[Property_Expenses] AS [Property_Expenses], 
    [Project1].[Property_Expenses_Growth] AS [Property_Expenses_Growth], 
    [Project1].[Investment_Income] AS [Investment_Income], 
    [Project1].[Admin_Expenses] AS [Admin_Expenses], 
    [Project1].[Admin_Expenses_Growth] AS [Admin_Expenses_Growth], 
    [Project1].[Taxation] AS [Taxation], 
    [Project1].[Other_Income] AS [Other_Income], 
    [Project1].[Distributable_Earnings] AS [Distributable_Earnings], 
    [Project1].[Distributions_Growth] AS [Distributions_Growth], 
    [Project1].[Linked_Units_Issued] AS [Linked_Units_Issued], 
    [Project1].[Borrowings] AS [Borrowings], 
    [Project1].[Units_Issued] AS [Units_Issued], 
    [Project1].[Purchases_And_Developments] AS [Purchases_And_Developments], 
    [Project1].[Sales] AS [Sales], 
    [Project1].[Total_Assets] AS [Total_Assets], 
    [Project1].[Current_Liabilities] AS [Current_Liabilities], 
    [Project1].[Interest_Bearing_Borrowings] AS [Interest_Bearing_Borrowings], 
    [Project1].[Last_Update_Date] AS [Last_Update_Date], 
    [Project1].[Last_Update_User] AS [Last_Update_User], 
    [Project1].[Forecast_Distributions_Growth] AS [Forecast_Distributions_Growth], 
    [Project1].[Record_Date] AS [Record_Date], 
    [Project1].[Session_ID] AS [Session_ID], 
    [Project1].[Hist_Last_Update_Date] AS [Hist_Last_Update_Date], 
    [Project1].[Hist_Last_Update_User] AS [Hist_Last_Update_User], 
    [Project1].[Property_Portfolio_Value] AS [Property_Portfolio_Value], 
    [Project1].[OffshoreExposure_WesternEurope] AS [OffshoreExposure_WesternEurope], 
    [Project1].[OffshoreExposure_CEE] AS [OffshoreExposure_CEE], 
    [Project1].[OffshoreExposure_US] AS [OffshoreExposure_US], 
    [Project1].[OffshoreExposure_UK] AS [OffshoreExposure_UK], 
    [Project1].[OffshoreExposure_Australia] AS [OffshoreExposure_Australia], 
    [Project1].[OffshoreExposure_Africa] AS [OffshoreExposure_Africa], 
    [Project1].[OffshoreExposure_Other] AS [OffshoreExposure_Other], 
    [Project1].[Sector_Retail] AS [Sector_Retail], 
    [Project1].[Sector_Office] AS [Sector_Office], 
    [Project1].[Sector_Industrial] AS [Sector_Industrial], 
    [Project1].[Sector_Residential] AS [Sector_Residential], 
    [Project1].[Sector_Other] AS [Sector_Other], 
    [Project1].[Sector_Offshore] AS [Sector_Offshore]
    FROM ( SELECT 
        [Extent1].[Party_Code] AS [Party_Code], 
        [Extent1].[Entity_ID] AS [Entity_ID], 
        [Extent1].[Actual_Forecast_Indicator] AS [Actual_Forecast_Indicator], 
        [Extent1].[Security_ID] AS [Security_ID], 
        [Extent1].[Financials_Date] AS [Financials_Date], 
        [Extent1].[Full_Adjusted_Share_NAV] AS [Full_Adjusted_Share_NAV], 
        [Extent1].[Enterprise_Value] AS [Enterprise_Value], 
        [Extent1].[Dividend_Yield] AS [Dividend_Yield], 
        [Extent1].[Net_Present_Value] AS [Net_Present_Value], 
        [Extent1].[Net_Property_Income] AS [Net_Property_Income], 
        [Extent1].[Vacancies_Overall] AS [Vacancies_Overall], 
        [Extent1].[Portfolio_Leases_Expiring] AS [Portfolio_Leases_Expiring], 
        [Extent1].[Assumed_Ave_Escalation_Rate] AS [Assumed_Ave_Escalation_Rate], 
        [Extent1].[Cap_Rate_Movemt_Assump] AS [Cap_Rate_Movemt_Assump], 
        [Extent1].[Reversion_Exp_Rent_Reviews] AS [Reversion_Exp_Rent_Reviews], 
        [Extent1].[Ungeared_Yield] AS [Ungeared_Yield], 
        [Extent1].[Net_Operating_Profit] AS [Net_Operating_Profit], 
        [Extent1].[Revenue_Growth] AS [Revenue_Growth], 
        [Extent1].[Net_Property_Income_Growth] AS [Net_Property_Income_Growth], 
        [Extent1].[Net_Operating_Profit_Growth] AS [Net_Operating_Profit_Growth], 
        [Extent1].[Interest_Paid_Growth] AS [Interest_Paid_Growth], 
        [Extent1].[Loan_To_Value] AS [Loan_To_Value], 
        [Extent1].[Interest_Cover_Ratio] AS [Interest_Cover_Ratio], 
        [Extent1].[Revenue] AS [Revenue], 
        [Extent1].[Interest_Paid] AS [Interest_Paid], 
        [Extent1].[Property_Expenses] AS [Property_Expenses], 
        [Extent1].[Property_Expenses_Growth] AS [Property_Expenses_Growth], 
        [Extent1].[Investment_Income] AS [Investment_Income], 
        [Extent1].[Admin_Expenses] AS [Admin_Expenses], 
        [Extent1].[Admin_Expenses_Growth] AS [Admin_Expenses_Growth], 
        [Extent1].[Taxation] AS [Taxation], 
        [Extent1].[Other_Income] AS [Other_Income], 
        [Extent1].[Distributable_Earnings] AS [Distributable_Earnings], 
        [Extent1].[Distributions_Growth] AS [Distributions_Growth], 
        [Extent1].[Linked_Units_Issued] AS [Linked_Units_Issued], 
        [Extent1].[Borrowings] AS [Borrowings], 
        [Extent1].[Units_Issued] AS [Units_Issued], 
        [Extent1].[Purchases_And_Developments] AS [Purchases_And_Developments], 
        [Extent1].[Sales] AS [Sales], 
        [Extent1].[Total_Assets] AS [Total_Assets], 
        [Extent1].[Current_Liabilities] AS [Current_Liabilities], 
        [Extent1].[Interest_Bearing_Borrowings] AS [Interest_Bearing_Borrowings], 
        [Extent1].[Last_Update_Date] AS [Last_Update_Date], 
        [Extent1].[Last_Update_User] AS [Last_Update_User], 
        [Extent1].[Forecast_Distributions_Growth] AS [Forecast_Distributions_Growth], 
        [Extent1].[Record_Date] AS [Record_Date], 
        [Extent1].[Session_ID] AS [Session_ID], 
        [Extent1].[Hist_Last_Update_Date] AS [Hist_Last_Update_Date], 
        [Extent1].[Hist_Last_Update_User] AS [Hist_Last_Update_User], 
        [Extent1].[Property_Portfolio_Value] AS [Property_Portfolio_Value], 
        [Extent1].[OffshoreExposure_WesternEurope] AS [OffshoreExposure_WesternEurope], 
        [Extent1].[OffshoreExposure_CEE] AS [OffshoreExposure_CEE], 
        [Extent1].[OffshoreExposure_US] AS [OffshoreExposure_US], 
        [Extent1].[OffshoreExposure_UK] AS [OffshoreExposure_UK], 
        [Extent1].[OffshoreExposure_Australia] AS [OffshoreExposure_Australia], 
        [Extent1].[OffshoreExposure_Africa] AS [OffshoreExposure_Africa], 
        [Extent1].[OffshoreExposure_Other] AS [OffshoreExposure_Other], 
        [Extent1].[Sector_Retail] AS [Sector_Retail], 
        [Extent1].[Sector_Office] AS [Sector_Office], 
        [Extent1].[Sector_Industrial] AS [Sector_Industrial], 
        [Extent1].[Sector_Residential] AS [Sector_Residential], 
        [Extent1].[Sector_Other] AS [Sector_Other], 
        [Extent1].[Sector_Offshore] AS [Sector_Offshore]
        FROM [dbo].[Party_Financials_History] AS [Extent1]
        WHERE ([Extent1].[Entity_ID] = @p__linq__0) AND ([Extent1].[Party_Code] = @p__linq__1) AND ([Extent1].[Actual_Forecast_Indicator] = @p__linq__2)
    )  AS [Project1]
    ORDER BY [Project1].[Record_Date] DESC
2018-04-07 12:27:22.4558|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: IF db_id(N'MetopeAzureDb') IS NOT NULL SELECT 1 ELSE SELECT Count(*) FROM sys.databases WHERE [name]=N'MetopeAzureDb'
2018-04-07 12:27:22.4753|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: IF db_id(N'MetopeAzureDb') IS NOT NULL SELECT 1 ELSE SELECT Count(*) FROM sys.databases WHERE [name]=N'MetopeAzureDb'
2018-04-07 12:27:22.4978|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: IF db_id(N'MetopeAzureDb') IS NOT NULL SELECT 1 ELSE SELECT Count(*) FROM sys.databases WHERE [name]=N'MetopeAzureDb'
2018-04-07 12:27:22.5213|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: IF db_id(N'MetopeAzureDb') IS NOT NULL SELECT 1 ELSE SELECT Count(*) FROM sys.databases WHERE [name]=N'MetopeAzureDb'
2018-04-07 12:28:42.6684|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: SELECT 
    [Project1].[Decimal_Precision] AS [Decimal_Precision], 
    [Project1].[Security_ID] AS [Security_ID], 
    [Project1].[Portfolio_Code] AS [Portfolio_Code], 
    [Project1].[Entity_ID] AS [Entity_ID], 
    [Project1].[Excess_Weight_Quarterly] AS [Excess_Weight_Quarterly], 
    [Project1].[Relative_Contribution_Quarterly] AS [Relative_Contribution_Quarterly], 
    [Project1].[Allocation_Selection_Interaction_Quarterly] AS [Allocation_Selection_Interaction_Quarterly], 
    [Project1].[StockVs_TotBenchmarkReturn_Quarterly] AS [StockVs_TotBenchmarkReturn_Quarterly], 
    [Project1].[Selection_Interaction_Quarterly] AS [Selection_Interaction_Quarterly], 
    [Project1].[Asset_Allocation_Quarterly] AS [Asset_Allocation_Quarterly], 
    [Project1].[Excess_Weight_Monthly] AS [Excess_Weight_Monthly], 
    [Project1].[Relative_Contribution_Monthly] AS [Relative_Contribution_Monthly], 
    [Project1].[Allocation_Selection_Interaction_Monthly] AS [Allocation_Selection_Interaction_Monthly], 
    [Project1].[StockVs_TotBenchmarkReturn_Monthly] AS [StockVs_TotBenchmarkReturn_Monthly], 
    [Project1].[Selection_Interaction_Monthly] AS [Selection_Interaction_Monthly], 
    [Project1].[Asset_Allocation_Monthly] AS [Asset_Allocation_Monthly], 
    [Project1].[Excess_Weight_MonthToDate] AS [Excess_Weight_MonthToDate], 
    [Project1].[Relative_Contribution_MonthToDate] AS [Relative_Contribution_MonthToDate], 
    [Project1].[Allocation_Selection_Interaction_MonthToDate] AS [Allocation_Selection_Interaction_MonthToDate], 
    [Project1].[StockVs_TotBenchmarkReturn_MonthToDate] AS [StockVs_TotBenchmarkReturn_MonthToDate], 
    [Project1].[Selection_Interaction_MonthToDate] AS [Selection_Interaction_MonthToDate], 
    [Project1].[Asset_Allocation_MonthToDate] AS [Asset_Allocation_MonthToDate], 
    [Project1].[Last_Update_Date] AS [Last_Update_Date], 
    [Project1].[Last_Update_User] AS [Last_Update_User], 
    [Project1].[Security_Weight_Portfolio_Monthly] AS [Security_Weight_Portfolio_Monthly], 
    [Project1].[Security_Weight_Portfolio_MonthToDate] AS [Security_Weight_Portfolio_MonthToDate], 
    [Project1].[Security_Weight_Portfolio_Quarterly] AS [Security_Weight_Portfolio_Quarterly], 
    [Project1].[Security_Weight_Benchmark_Monthly] AS [Security_Weight_Benchmark_Monthly], 
    [Project1].[Security_Weight_Benchmark_MonthToDate] AS [Security_Weight_Benchmark_MonthToDate], 
    [Project1].[Security_Weight_Benchmark_Quarterly] AS [Security_Weight_Benchmark_Quarterly], 
    [Project1].[Total_Return_Security_Price_Monthly] AS [Total_Return_Security_Price_Monthly], 
    [Project1].[Total_Return_Security_Price_MonthToDate] AS [Total_Return_Security_Price_MonthToDate], 
    [Project1].[Total_Return_Security_Price_Quarterly] AS [Total_Return_Security_Price_Quarterly], 
    [Project1].[TW_Return_Portfolio_Monthly] AS [TW_Return_Portfolio_Monthly], 
    [Project1].[TW_Return_Portfolio_MonthToDate] AS [TW_Return_Portfolio_MonthToDate], 
    [Project1].[TW_Return_Portfolio_Quarterly] AS [TW_Return_Portfolio_Quarterly], 
    [Project1].[Record_Date] AS [Record_Date], 
    [Project1].[Session_ID] AS [Session_ID], 
    [Project1].[Hist_Last_Update_Date] AS [Hist_Last_Update_Date], 
    [Project1].[Hist_Last_Update_User] AS [Hist_Last_Update_User], 
    [Project1].[Benchmark_Price_Performance_Monthly] AS [Benchmark_Price_Performance_Monthly], 
    [Project1].[Benchmark_Price_Performance_MonthToDate] AS [Benchmark_Price_Performance_MonthToDate], 
    [Project1].[Benchmark_Price_Performance_Quarterly] AS [Benchmark_Price_Performance_Quarterly], 
    [Project1].[Security_ID1] AS [Security_ID1], 
    [Project1].[Entity_ID1] AS [Entity_ID1], 
    [Project1].[Security_Name] AS [Security_Name], 
    [Project1].[Short_Name] AS [Short_Name], 
    [Project1].[Primary_Exch] AS [Primary_Exch], 
    [Project1].[Secondary_Exch] AS [Secondary_Exch], 
    [Project1].[Country_Of_Domicile] AS [Country_Of_Domicile], 
    [Project1].[Country_Of_Risk] AS [Country_Of_Risk], 
    [Project1].[Security_Type_Code] AS [Security_Type_Code], 
    [Project1].[Price_Multiplier] AS [Price_Multiplier], 
    [Project1].[Income_Frequency] AS [Income_Frequency], 
    [Project1].[Issuer_Code] AS [Issuer_Code], 
    [Project1].[Ultimate_Issuer_Code] AS [Ultimate_Issuer_Code], 
    [Project1].[Asset_Currency] AS [Asset_Currency], 
    [Project1].[Min_Lot_Size] AS [Min_Lot_Size], 
    [Project1].[AvePrice_Rounding] AS [AvePrice_Rounding], 
    [Project1].[Issue_Date] AS [Issue_Date], 
    [Project1].[Maturity_Date] AS [Maturity_Date], 
    [Project1].[Coupon_Rate] AS [Coupon_Rate], 
    [Project1].[Price_Exchange] AS [Price_Exchange], 
    [Project1].[Trade_Currency] AS [Trade_Currency], 
    [Project1].[Price_Curr] AS [Price_Curr], 
    [Project1].[Currency_Pair_Code] AS [Currency_Pair_Code], 
    [Project1].[Share_Class] AS [Share_Class], 
    [Project1].[Current_Market_Price] AS [Current_Market_Price], 
    [Project1].[Index_Type] AS [Index_Type], 
    [Project1].[Clean_Price_Formula] AS [Clean_Price_Formula], 
    [Project1].[Accrued_Income_Price_Formula] AS [Accrued_Income_Price_Formula], 
    [Project1].[Odd_First_Coupon_Date] AS [Odd_First_Coupon_Date], 
    [Project1].[Odd_Last_Coupon_Date] AS [Odd_Last_Coupon_Date], 
    [Project1].[Coupon_Anniversary_Indicator] AS [Coupon_Anniversary_Indicator], 
    [Project1].[Track_EOM_Flag] AS [Track_EOM_Flag], 
    [Project1].[Next_Coupon_Date] AS [Next_Coupon_Date], 
    [Project1].[Previous_Coupon_Date] AS [Previous_Coupon_Date], 
    [Project1].[Payment_Frequency] AS [Payment_Frequency], 
    [Project1].[Coupon_BusDay_Adjustment] AS [Coupon_BusDay_Adjustment], 
    [Project1].[Next_Ex_Div_Date] AS [Next_Ex_Div_Date], 
    [Project1].[Ex_Div_BusDay_Adjustment] AS [Ex_Div_BusDay_Adjustment], 
    [Project1].[Ex_Div_Period] AS [Ex_Div_Period], 
    [Project1].[Ticker] AS [Ticker], 
    [Project1].[Inet_ID] AS [Inet_ID], 
    [Project1].[Bloomberg_ID] AS [Bloomberg_ID], 
    [Project1].[External_Sec_ID] AS [External_Sec_ID], 
    [Project1].[Reuters_ID] AS [Reuters_ID], 
    [Project1].[ISIN] AS [ISIN], 
    [Project1].[Call_Account_Flag] AS [Call_Account_Flag], 
    [Project1].[System_Locked] AS [System_Locked], 
    [Project1].[Last_Update_User1] AS [Last_Update_User1], 
    [Project1].[Last_Update_Date1] AS [Last_Update_Date1], 
    [Project1].[Security_Status] AS [Security_Status], 
    [Project1].[Benchmark_Portfolio] AS [Benchmark_Portfolio], 
    [Project1].[Active_flag] AS [Active_flag], 
    [Project1].[Dividend_FX_Security_ID] AS [Dividend_FX_Security_ID]
    FROM ( SELECT 
        [Extent1].[Security_ID] AS [Security_ID], 
        [Extent1].[Portfolio_Code] AS [Portfolio_Code], 
        [Extent1].[Entity_ID] AS [Entity_ID], 
        [Extent1].[Excess_Weight_Quarterly] AS [Excess_Weight_Quarterly], 
        [Extent1].[Relative_Contribution_Quarterly] AS [Relative_Contribution_Quarterly], 
        [Extent1].[Allocation_Selection_Interaction_Quarterly] AS [Allocation_Selection_Interaction_Quarterly], 
        [Extent1].[StockVs_TotBenchmarkReturn_Quarterly] AS [StockVs_TotBenchmarkReturn_Quarterly], 
        [Extent1].[Selection_Interaction_Quarterly] AS [Selection_Interaction_Quarterly], 
        [Extent1].[Asset_Allocation_Quarterly] AS [Asset_Allocation_Quarterly], 
        [Extent1].[Excess_Weight_Monthly] AS [Excess_Weight_Monthly], 
        [Extent1].[Relative_Contribution_Monthly] AS [Relative_Contribution_Monthly], 
        [Extent1].[Allocation_Selection_Interaction_Monthly] AS [Allocation_Selection_Interaction_Monthly], 
        [Extent1].[StockVs_TotBenchmarkReturn_Monthly] AS [StockVs_TotBenchmarkReturn_Monthly], 
        [Extent1].[Selection_Interaction_Monthly] AS [Selection_Interaction_Monthly], 
        [Extent1].[Asset_Allocation_Monthly] AS [Asset_Allocation_Monthly], 
        [Extent1].[Excess_Weight_MonthToDate] AS [Excess_Weight_MonthToDate], 
        [Extent1].[Relative_Contribution_MonthToDate] AS [Relative_Contribution_MonthToDate], 
        [Extent1].[Allocation_Selection_Interaction_MonthToDate] AS [Allocation_Selection_Interaction_MonthToDate], 
        [Extent1].[StockVs_TotBenchmarkReturn_MonthToDate] AS [StockVs_TotBenchmarkReturn_MonthToDate], 
        [Extent1].[Selection_Interaction_MonthToDate] AS [Selection_Interaction_MonthToDate], 
        [Extent1].[Asset_Allocation_MonthToDate] AS [Asset_Allocation_MonthToDate], 
        [Extent1].[Last_Update_Date] AS [Last_Update_Date], 
        [Extent1].[Last_Update_User] AS [Last_Update_User], 
        [Extent1].[Security_Weight_Portfolio_Monthly] AS [Security_Weight_Portfolio_Monthly], 
        [Extent1].[Security_Weight_Portfolio_MonthToDate] AS [Security_Weight_Portfolio_MonthToDate], 
        [Extent1].[Security_Weight_Portfolio_Quarterly] AS [Security_Weight_Portfolio_Quarterly], 
        [Extent1].[Security_Weight_Benchmark_Monthly] AS [Security_Weight_Benchmark_Monthly], 
        [Extent1].[Security_Weight_Benchmark_MonthToDate] AS [Security_Weight_Benchmark_MonthToDate], 
        [Extent1].[Security_Weight_Benchmark_Quarterly] AS [Security_Weight_Benchmark_Quarterly], 
        [Extent1].[Total_Return_Security_Price_Monthly] AS [Total_Return_Security_Price_Monthly], 
        [Extent1].[Total_Return_Security_Price_MonthToDate] AS [Total_Return_Security_Price_MonthToDate], 
        [Extent1].[Total_Return_Security_Price_Quarterly] AS [Total_Return_Security_Price_Quarterly], 
        [Extent1].[TW_Return_Portfolio_Monthly] AS [TW_Return_Portfolio_Monthly], 
        [Extent1].[TW_Return_Portfolio_MonthToDate] AS [TW_Return_Portfolio_MonthToDate], 
        [Extent1].[TW_Return_Portfolio_Quarterly] AS [TW_Return_Portfolio_Quarterly], 
        [Extent1].[Record_Date] AS [Record_Date], 
        [Extent1].[Session_ID] AS [Session_ID], 
        [Extent1].[Hist_Last_Update_Date] AS [Hist_Last_Update_Date], 
        [Extent1].[Hist_Last_Update_User] AS [Hist_Last_Update_User], 
        [Extent1].[Benchmark_Price_Performance_Monthly] AS [Benchmark_Price_Performance_Monthly], 
        [Extent1].[Benchmark_Price_Performance_MonthToDate] AS [Benchmark_Price_Performance_MonthToDate], 
        [Extent1].[Benchmark_Price_Performance_Quarterly] AS [Benchmark_Price_Performance_Quarterly], 
        [Extent2].[Security_ID] AS [Security_ID1], 
        [Extent2].[Entity_ID] AS [Entity_ID1], 
        [Extent2].[Security_Name] AS [Security_Name], 
        [Extent2].[Short_Name] AS [Short_Name], 
        [Extent2].[Primary_Exch] AS [Primary_Exch], 
        [Extent2].[Secondary_Exch] AS [Secondary_Exch], 
        [Extent2].[Country_Of_Domicile] AS [Country_Of_Domicile], 
        [Extent2].[Country_Of_Risk] AS [Country_Of_Risk], 
        [Extent2].[Security_Type_Code] AS [Security_Type_Code], 
        [Extent2].[Price_Multiplier] AS [Price_Multiplier], 
        [Extent2].[Income_Frequency] AS [Income_Frequency], 
        [Extent2].[Issuer_Code] AS [Issuer_Code], 
        [Extent2].[Ultimate_Issuer_Code] AS [Ultimate_Issuer_Code], 
        [Extent2].[Asset_Currency] AS [Asset_Currency], 
        [Extent2].[Min_Lot_Size] AS [Min_Lot_Size], 
        [Extent2].[Decimal_Precision] AS [Decimal_Precision], 
        [Extent2].[AvePrice_Rounding] AS [AvePrice_Rounding], 
        [Extent2].[Issue_Date] AS [Issue_Date], 
        [Extent2].[Maturity_Date] AS [Maturity_Date], 
        [Extent2].[Coupon_Rate] AS [Coupon_Rate], 
        [Extent2].[Price_Exchange] AS [Price_Exchange], 
        [Extent2].[Trade_Currency] AS [Trade_Currency], 
        [Extent2].[Price_Curr] AS [Price_Curr], 
        [Extent2].[Currency_Pair_Code] AS [Currency_Pair_Code], 
        [Extent2].[Share_Class] AS [Share_Class], 
        [Extent2].[Current_Market_Price] AS [Current_Market_Price], 
        [Extent2].[Index_Type] AS [Index_Type], 
        [Extent2].[Clean_Price_Formula] AS [Clean_Price_Formula], 
        [Extent2].[Accrued_Income_Price_Formula] AS [Accrued_Income_Price_Formula], 
        [Extent2].[Odd_First_Coupon_Date] AS [Odd_First_Coupon_Date], 
        [Extent2].[Odd_Last_Coupon_Date] AS [Odd_Last_Coupon_Date], 
        [Extent2].[Coupon_Anniversary_Indicator] AS [Coupon_Anniversary_Indicator], 
        [Extent2].[Track_EOM_Flag] AS [Track_EOM_Flag], 
        [Extent2].[Next_Coupon_Date] AS [Next_Coupon_Date], 
        [Extent2].[Previous_Coupon_Date] AS [Previous_Coupon_Date], 
        [Extent2].[Payment_Frequency] AS [Payment_Frequency], 
        [Extent2].[Coupon_BusDay_Adjustment] AS [Coupon_BusDay_Adjustment], 
        [Extent2].[Next_Ex_Div_Date] AS [Next_Ex_Div_Date], 
        [Extent2].[Ex_Div_BusDay_Adjustment] AS [Ex_Div_BusDay_Adjustment], 
        [Extent2].[Ex_Div_Period] AS [Ex_Div_Period], 
        [Extent2].[Ticker] AS [Ticker], 
        [Extent2].[Inet_ID] AS [Inet_ID], 
        [Extent2].[Bloomberg_ID] AS [Bloomberg_ID], 
        [Extent2].[External_Sec_ID] AS [External_Sec_ID], 
        [Extent2].[Reuters_ID] AS [Reuters_ID], 
        [Extent2].[ISIN] AS [ISIN], 
        [Extent2].[Call_Account_Flag] AS [Call_Account_Flag], 
        [Extent2].[System_Locked] AS [System_Locked], 
        [Extent2].[Last_Update_User] AS [Last_Update_User1], 
        [Extent2].[Last_Update_Date] AS [Last_Update_Date1], 
        [Extent2].[Security_Status] AS [Security_Status], 
        [Extent2].[Benchmark_Portfolio] AS [Benchmark_Portfolio], 
        [Extent2].[Active_flag] AS [Active_flag], 
        [Extent2].[Dividend_FX_Security_ID] AS [Dividend_FX_Security_ID]
        FROM  [dbo].[Security_Attribution_History] AS [Extent1]
        INNER JOIN [dbo].[Security_Detail] AS [Extent2] ON [Extent1].[Security_ID] = [Extent2].[Security_ID]
        WHERE ([Extent1].[Security_ID] = @p__linq__0) AND ([Extent1].[Portfolio_Code] = @p__linq__1)
    )  AS [Project1]
    ORDER BY [Project1].[Record_Date] DESC
2018-04-07 12:28:42.7169|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: SELECT 
    [Project1].[Decimal_Precision] AS [Decimal_Precision], 
    [Project1].[Security_ID] AS [Security_ID], 
    [Project1].[Portfolio_Code] AS [Portfolio_Code], 
    [Project1].[Entity_ID] AS [Entity_ID], 
    [Project1].[Excess_Weight_Quarterly] AS [Excess_Weight_Quarterly], 
    [Project1].[Relative_Contribution_Quarterly] AS [Relative_Contribution_Quarterly], 
    [Project1].[Allocation_Selection_Interaction_Quarterly] AS [Allocation_Selection_Interaction_Quarterly], 
    [Project1].[StockVs_TotBenchmarkReturn_Quarterly] AS [StockVs_TotBenchmarkReturn_Quarterly], 
    [Project1].[Selection_Interaction_Quarterly] AS [Selection_Interaction_Quarterly], 
    [Project1].[Asset_Allocation_Quarterly] AS [Asset_Allocation_Quarterly], 
    [Project1].[Excess_Weight_Monthly] AS [Excess_Weight_Monthly], 
    [Project1].[Relative_Contribution_Monthly] AS [Relative_Contribution_Monthly], 
    [Project1].[Allocation_Selection_Interaction_Monthly] AS [Allocation_Selection_Interaction_Monthly], 
    [Project1].[StockVs_TotBenchmarkReturn_Monthly] AS [StockVs_TotBenchmarkReturn_Monthly], 
    [Project1].[Selection_Interaction_Monthly] AS [Selection_Interaction_Monthly], 
    [Project1].[Asset_Allocation_Monthly] AS [Asset_Allocation_Monthly], 
    [Project1].[Excess_Weight_MonthToDate] AS [Excess_Weight_MonthToDate], 
    [Project1].[Relative_Contribution_MonthToDate] AS [Relative_Contribution_MonthToDate], 
    [Project1].[Allocation_Selection_Interaction_MonthToDate] AS [Allocation_Selection_Interaction_MonthToDate], 
    [Project1].[StockVs_TotBenchmarkReturn_MonthToDate] AS [StockVs_TotBenchmarkReturn_MonthToDate], 
    [Project1].[Selection_Interaction_MonthToDate] AS [Selection_Interaction_MonthToDate], 
    [Project1].[Asset_Allocation_MonthToDate] AS [Asset_Allocation_MonthToDate], 
    [Project1].[Last_Update_Date] AS [Last_Update_Date], 
    [Project1].[Last_Update_User] AS [Last_Update_User], 
    [Project1].[Security_Weight_Portfolio_Monthly] AS [Security_Weight_Portfolio_Monthly], 
    [Project1].[Security_Weight_Portfolio_MonthToDate] AS [Security_Weight_Portfolio_MonthToDate], 
    [Project1].[Security_Weight_Portfolio_Quarterly] AS [Security_Weight_Portfolio_Quarterly], 
    [Project1].[Security_Weight_Benchmark_Monthly] AS [Security_Weight_Benchmark_Monthly], 
    [Project1].[Security_Weight_Benchmark_MonthToDate] AS [Security_Weight_Benchmark_MonthToDate], 
    [Project1].[Security_Weight_Benchmark_Quarterly] AS [Security_Weight_Benchmark_Quarterly], 
    [Project1].[Total_Return_Security_Price_Monthly] AS [Total_Return_Security_Price_Monthly], 
    [Project1].[Total_Return_Security_Price_MonthToDate] AS [Total_Return_Security_Price_MonthToDate], 
    [Project1].[Total_Return_Security_Price_Quarterly] AS [Total_Return_Security_Price_Quarterly], 
    [Project1].[TW_Return_Portfolio_Monthly] AS [TW_Return_Portfolio_Monthly], 
    [Project1].[TW_Return_Portfolio_MonthToDate] AS [TW_Return_Portfolio_MonthToDate], 
    [Project1].[TW_Return_Portfolio_Quarterly] AS [TW_Return_Portfolio_Quarterly], 
    [Project1].[Record_Date] AS [Record_Date], 
    [Project1].[Session_ID] AS [Session_ID], 
    [Project1].[Hist_Last_Update_Date] AS [Hist_Last_Update_Date], 
    [Project1].[Hist_Last_Update_User] AS [Hist_Last_Update_User], 
    [Project1].[Benchmark_Price_Performance_Monthly] AS [Benchmark_Price_Performance_Monthly], 
    [Project1].[Benchmark_Price_Performance_MonthToDate] AS [Benchmark_Price_Performance_MonthToDate], 
    [Project1].[Benchmark_Price_Performance_Quarterly] AS [Benchmark_Price_Performance_Quarterly], 
    [Project1].[Security_ID1] AS [Security_ID1], 
    [Project1].[Entity_ID1] AS [Entity_ID1], 
    [Project1].[Security_Name] AS [Security_Name], 
    [Project1].[Short_Name] AS [Short_Name], 
    [Project1].[Primary_Exch] AS [Primary_Exch], 
    [Project1].[Secondary_Exch] AS [Secondary_Exch], 
    [Project1].[Country_Of_Domicile] AS [Country_Of_Domicile], 
    [Project1].[Country_Of_Risk] AS [Country_Of_Risk], 
    [Project1].[Security_Type_Code] AS [Security_Type_Code], 
    [Project1].[Price_Multiplier] AS [Price_Multiplier], 
    [Project1].[Income_Frequency] AS [Income_Frequency], 
    [Project1].[Issuer_Code] AS [Issuer_Code], 
    [Project1].[Ultimate_Issuer_Code] AS [Ultimate_Issuer_Code], 
    [Project1].[Asset_Currency] AS [Asset_Currency], 
    [Project1].[Min_Lot_Size] AS [Min_Lot_Size], 
    [Project1].[AvePrice_Rounding] AS [AvePrice_Rounding], 
    [Project1].[Issue_Date] AS [Issue_Date], 
    [Project1].[Maturity_Date] AS [Maturity_Date], 
    [Project1].[Coupon_Rate] AS [Coupon_Rate], 
    [Project1].[Price_Exchange] AS [Price_Exchange], 
    [Project1].[Trade_Currency] AS [Trade_Currency], 
    [Project1].[Price_Curr] AS [Price_Curr], 
    [Project1].[Currency_Pair_Code] AS [Currency_Pair_Code], 
    [Project1].[Share_Class] AS [Share_Class], 
    [Project1].[Current_Market_Price] AS [Current_Market_Price], 
    [Project1].[Index_Type] AS [Index_Type], 
    [Project1].[Clean_Price_Formula] AS [Clean_Price_Formula], 
    [Project1].[Accrued_Income_Price_Formula] AS [Accrued_Income_Price_Formula], 
    [Project1].[Odd_First_Coupon_Date] AS [Odd_First_Coupon_Date], 
    [Project1].[Odd_Last_Coupon_Date] AS [Odd_Last_Coupon_Date], 
    [Project1].[Coupon_Anniversary_Indicator] AS [Coupon_Anniversary_Indicator], 
    [Project1].[Track_EOM_Flag] AS [Track_EOM_Flag], 
    [Project1].[Next_Coupon_Date] AS [Next_Coupon_Date], 
    [Project1].[Previous_Coupon_Date] AS [Previous_Coupon_Date], 
    [Project1].[Payment_Frequency] AS [Payment_Frequency], 
    [Project1].[Coupon_BusDay_Adjustment] AS [Coupon_BusDay_Adjustment], 
    [Project1].[Next_Ex_Div_Date] AS [Next_Ex_Div_Date], 
    [Project1].[Ex_Div_BusDay_Adjustment] AS [Ex_Div_BusDay_Adjustment], 
    [Project1].[Ex_Div_Period] AS [Ex_Div_Period], 
    [Project1].[Ticker] AS [Ticker], 
    [Project1].[Inet_ID] AS [Inet_ID], 
    [Project1].[Bloomberg_ID] AS [Bloomberg_ID], 
    [Project1].[External_Sec_ID] AS [External_Sec_ID], 
    [Project1].[Reuters_ID] AS [Reuters_ID], 
    [Project1].[ISIN] AS [ISIN], 
    [Project1].[Call_Account_Flag] AS [Call_Account_Flag], 
    [Project1].[System_Locked] AS [System_Locked], 
    [Project1].[Last_Update_User1] AS [Last_Update_User1], 
    [Project1].[Last_Update_Date1] AS [Last_Update_Date1], 
    [Project1].[Security_Status] AS [Security_Status], 
    [Project1].[Benchmark_Portfolio] AS [Benchmark_Portfolio], 
    [Project1].[Active_flag] AS [Active_flag], 
    [Project1].[Dividend_FX_Security_ID] AS [Dividend_FX_Security_ID]
    FROM ( SELECT 
        [Extent1].[Security_ID] AS [Security_ID], 
        [Extent1].[Portfolio_Code] AS [Portfolio_Code], 
        [Extent1].[Entity_ID] AS [Entity_ID], 
        [Extent1].[Excess_Weight_Quarterly] AS [Excess_Weight_Quarterly], 
        [Extent1].[Relative_Contribution_Quarterly] AS [Relative_Contribution_Quarterly], 
        [Extent1].[Allocation_Selection_Interaction_Quarterly] AS [Allocation_Selection_Interaction_Quarterly], 
        [Extent1].[StockVs_TotBenchmarkReturn_Quarterly] AS [StockVs_TotBenchmarkReturn_Quarterly], 
        [Extent1].[Selection_Interaction_Quarterly] AS [Selection_Interaction_Quarterly], 
        [Extent1].[Asset_Allocation_Quarterly] AS [Asset_Allocation_Quarterly], 
        [Extent1].[Excess_Weight_Monthly] AS [Excess_Weight_Monthly], 
        [Extent1].[Relative_Contribution_Monthly] AS [Relative_Contribution_Monthly], 
        [Extent1].[Allocation_Selection_Interaction_Monthly] AS [Allocation_Selection_Interaction_Monthly], 
        [Extent1].[StockVs_TotBenchmarkReturn_Monthly] AS [StockVs_TotBenchmarkReturn_Monthly], 
        [Extent1].[Selection_Interaction_Monthly] AS [Selection_Interaction_Monthly], 
        [Extent1].[Asset_Allocation_Monthly] AS [Asset_Allocation_Monthly], 
        [Extent1].[Excess_Weight_MonthToDate] AS [Excess_Weight_MonthToDate], 
        [Extent1].[Relative_Contribution_MonthToDate] AS [Relative_Contribution_MonthToDate], 
        [Extent1].[Allocation_Selection_Interaction_MonthToDate] AS [Allocation_Selection_Interaction_MonthToDate], 
        [Extent1].[StockVs_TotBenchmarkReturn_MonthToDate] AS [StockVs_TotBenchmarkReturn_MonthToDate], 
        [Extent1].[Selection_Interaction_MonthToDate] AS [Selection_Interaction_MonthToDate], 
        [Extent1].[Asset_Allocation_MonthToDate] AS [Asset_Allocation_MonthToDate], 
        [Extent1].[Last_Update_Date] AS [Last_Update_Date], 
        [Extent1].[Last_Update_User] AS [Last_Update_User], 
        [Extent1].[Security_Weight_Portfolio_Monthly] AS [Security_Weight_Portfolio_Monthly], 
        [Extent1].[Security_Weight_Portfolio_MonthToDate] AS [Security_Weight_Portfolio_MonthToDate], 
        [Extent1].[Security_Weight_Portfolio_Quarterly] AS [Security_Weight_Portfolio_Quarterly], 
        [Extent1].[Security_Weight_Benchmark_Monthly] AS [Security_Weight_Benchmark_Monthly], 
        [Extent1].[Security_Weight_Benchmark_MonthToDate] AS [Security_Weight_Benchmark_MonthToDate], 
        [Extent1].[Security_Weight_Benchmark_Quarterly] AS [Security_Weight_Benchmark_Quarterly], 
        [Extent1].[Total_Return_Security_Price_Monthly] AS [Total_Return_Security_Price_Monthly], 
        [Extent1].[Total_Return_Security_Price_MonthToDate] AS [Total_Return_Security_Price_MonthToDate], 
        [Extent1].[Total_Return_Security_Price_Quarterly] AS [Total_Return_Security_Price_Quarterly], 
        [Extent1].[TW_Return_Portfolio_Monthly] AS [TW_Return_Portfolio_Monthly], 
        [Extent1].[TW_Return_Portfolio_MonthToDate] AS [TW_Return_Portfolio_MonthToDate], 
        [Extent1].[TW_Return_Portfolio_Quarterly] AS [TW_Return_Portfolio_Quarterly], 
        [Extent1].[Record_Date] AS [Record_Date], 
        [Extent1].[Session_ID] AS [Session_ID], 
        [Extent1].[Hist_Last_Update_Date] AS [Hist_Last_Update_Date], 
        [Extent1].[Hist_Last_Update_User] AS [Hist_Last_Update_User], 
        [Extent1].[Benchmark_Price_Performance_Monthly] AS [Benchmark_Price_Performance_Monthly], 
        [Extent1].[Benchmark_Price_Performance_MonthToDate] AS [Benchmark_Price_Performance_MonthToDate], 
        [Extent1].[Benchmark_Price_Performance_Quarterly] AS [Benchmark_Price_Performance_Quarterly], 
        [Extent2].[Security_ID] AS [Security_ID1], 
        [Extent2].[Entity_ID] AS [Entity_ID1], 
        [Extent2].[Security_Name] AS [Security_Name], 
        [Extent2].[Short_Name] AS [Short_Name], 
        [Extent2].[Primary_Exch] AS [Primary_Exch], 
        [Extent2].[Secondary_Exch] AS [Secondary_Exch], 
        [Extent2].[Country_Of_Domicile] AS [Country_Of_Domicile], 
        [Extent2].[Country_Of_Risk] AS [Country_Of_Risk], 
        [Extent2].[Security_Type_Code] AS [Security_Type_Code], 
        [Extent2].[Price_Multiplier] AS [Price_Multiplier], 
        [Extent2].[Income_Frequency] AS [Income_Frequency], 
        [Extent2].[Issuer_Code] AS [Issuer_Code], 
        [Extent2].[Ultimate_Issuer_Code] AS [Ultimate_Issuer_Code], 
        [Extent2].[Asset_Currency] AS [Asset_Currency], 
        [Extent2].[Min_Lot_Size] AS [Min_Lot_Size], 
        [Extent2].[Decimal_Precision] AS [Decimal_Precision], 
        [Extent2].[AvePrice_Rounding] AS [AvePrice_Rounding], 
        [Extent2].[Issue_Date] AS [Issue_Date], 
        [Extent2].[Maturity_Date] AS [Maturity_Date], 
        [Extent2].[Coupon_Rate] AS [Coupon_Rate], 
        [Extent2].[Price_Exchange] AS [Price_Exchange], 
        [Extent2].[Trade_Currency] AS [Trade_Currency], 
        [Extent2].[Price_Curr] AS [Price_Curr], 
        [Extent2].[Currency_Pair_Code] AS [Currency_Pair_Code], 
        [Extent2].[Share_Class] AS [Share_Class], 
        [Extent2].[Current_Market_Price] AS [Current_Market_Price], 
        [Extent2].[Index_Type] AS [Index_Type], 
        [Extent2].[Clean_Price_Formula] AS [Clean_Price_Formula], 
        [Extent2].[Accrued_Income_Price_Formula] AS [Accrued_Income_Price_Formula], 
        [Extent2].[Odd_First_Coupon_Date] AS [Odd_First_Coupon_Date], 
        [Extent2].[Odd_Last_Coupon_Date] AS [Odd_Last_Coupon_Date], 
        [Extent2].[Coupon_Anniversary_Indicator] AS [Coupon_Anniversary_Indicator], 
        [Extent2].[Track_EOM_Flag] AS [Track_EOM_Flag], 
        [Extent2].[Next_Coupon_Date] AS [Next_Coupon_Date], 
        [Extent2].[Previous_Coupon_Date] AS [Previous_Coupon_Date], 
        [Extent2].[Payment_Frequency] AS [Payment_Frequency], 
        [Extent2].[Coupon_BusDay_Adjustment] AS [Coupon_BusDay_Adjustment], 
        [Extent2].[Next_Ex_Div_Date] AS [Next_Ex_Div_Date], 
        [Extent2].[Ex_Div_BusDay_Adjustment] AS [Ex_Div_BusDay_Adjustment], 
        [Extent2].[Ex_Div_Period] AS [Ex_Div_Period], 
        [Extent2].[Ticker] AS [Ticker], 
        [Extent2].[Inet_ID] AS [Inet_ID], 
        [Extent2].[Bloomberg_ID] AS [Bloomberg_ID], 
        [Extent2].[External_Sec_ID] AS [External_Sec_ID], 
        [Extent2].[Reuters_ID] AS [Reuters_ID], 
        [Extent2].[ISIN] AS [ISIN], 
        [Extent2].[Call_Account_Flag] AS [Call_Account_Flag], 
        [Extent2].[System_Locked] AS [System_Locked], 
        [Extent2].[Last_Update_User] AS [Last_Update_User1], 
        [Extent2].[Last_Update_Date] AS [Last_Update_Date1], 
        [Extent2].[Security_Status] AS [Security_Status], 
        [Extent2].[Benchmark_Portfolio] AS [Benchmark_Portfolio], 
        [Extent2].[Active_flag] AS [Active_flag], 
        [Extent2].[Dividend_FX_Security_ID] AS [Dividend_FX_Security_ID]
        FROM  [dbo].[Security_Attribution_History] AS [Extent1]
        INNER JOIN [dbo].[Security_Detail] AS [Extent2] ON [Extent1].[Security_ID] = [Extent2].[Security_ID]
        WHERE ([Extent1].[Security_ID] = @p__linq__0) AND ([Extent1].[Portfolio_Code] = @p__linq__1)
    )  AS [Project1]
    ORDER BY [Project1].[Record_Date] DESC
2018-04-07 12:28:47.5496|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: IF db_id(N'MetopeAzureDb') IS NOT NULL SELECT 1 ELSE SELECT Count(*) FROM sys.databases WHERE [name]=N'MetopeAzureDb'
2018-04-07 12:28:47.6552|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: IF db_id(N'MetopeAzureDb') IS NOT NULL SELECT 1 ELSE SELECT Count(*) FROM sys.databases WHERE [name]=N'MetopeAzureDb'
2018-04-07 12:28:47.7327|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: IF db_id(N'MetopeAzureDb') IS NOT NULL SELECT 1 ELSE SELECT Count(*) FROM sys.databases WHERE [name]=N'MetopeAzureDb'
2018-04-07 12:28:47.7538|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: IF db_id(N'MetopeAzureDb') IS NOT NULL SELECT 1 ELSE SELECT Count(*) FROM sys.databases WHERE [name]=N'MetopeAzureDb'
2018-04-07 12:29:06.7020|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: SELECT 
    [Project1].[Decimal_Precision] AS [Decimal_Precision], 
    [Project1].[Security_ID] AS [Security_ID], 
    [Project1].[Portfolio_Code] AS [Portfolio_Code], 
    [Project1].[Entity_ID] AS [Entity_ID], 
    [Project1].[Excess_Weight_Quarterly] AS [Excess_Weight_Quarterly], 
    [Project1].[Relative_Contribution_Quarterly] AS [Relative_Contribution_Quarterly], 
    [Project1].[Allocation_Selection_Interaction_Quarterly] AS [Allocation_Selection_Interaction_Quarterly], 
    [Project1].[StockVs_TotBenchmarkReturn_Quarterly] AS [StockVs_TotBenchmarkReturn_Quarterly], 
    [Project1].[Selection_Interaction_Quarterly] AS [Selection_Interaction_Quarterly], 
    [Project1].[Asset_Allocation_Quarterly] AS [Asset_Allocation_Quarterly], 
    [Project1].[Excess_Weight_Monthly] AS [Excess_Weight_Monthly], 
    [Project1].[Relative_Contribution_Monthly] AS [Relative_Contribution_Monthly], 
    [Project1].[Allocation_Selection_Interaction_Monthly] AS [Allocation_Selection_Interaction_Monthly], 
    [Project1].[StockVs_TotBenchmarkReturn_Monthly] AS [StockVs_TotBenchmarkReturn_Monthly], 
    [Project1].[Selection_Interaction_Monthly] AS [Selection_Interaction_Monthly], 
    [Project1].[Asset_Allocation_Monthly] AS [Asset_Allocation_Monthly], 
    [Project1].[Excess_Weight_MonthToDate] AS [Excess_Weight_MonthToDate], 
    [Project1].[Relative_Contribution_MonthToDate] AS [Relative_Contribution_MonthToDate], 
    [Project1].[Allocation_Selection_Interaction_MonthToDate] AS [Allocation_Selection_Interaction_MonthToDate], 
    [Project1].[StockVs_TotBenchmarkReturn_MonthToDate] AS [StockVs_TotBenchmarkReturn_MonthToDate], 
    [Project1].[Selection_Interaction_MonthToDate] AS [Selection_Interaction_MonthToDate], 
    [Project1].[Asset_Allocation_MonthToDate] AS [Asset_Allocation_MonthToDate], 
    [Project1].[Last_Update_Date] AS [Last_Update_Date], 
    [Project1].[Last_Update_User] AS [Last_Update_User], 
    [Project1].[Security_Weight_Portfolio_Monthly] AS [Security_Weight_Portfolio_Monthly], 
    [Project1].[Security_Weight_Portfolio_MonthToDate] AS [Security_Weight_Portfolio_MonthToDate], 
    [Project1].[Security_Weight_Portfolio_Quarterly] AS [Security_Weight_Portfolio_Quarterly], 
    [Project1].[Security_Weight_Benchmark_Monthly] AS [Security_Weight_Benchmark_Monthly], 
    [Project1].[Security_Weight_Benchmark_MonthToDate] AS [Security_Weight_Benchmark_MonthToDate], 
    [Project1].[Security_Weight_Benchmark_Quarterly] AS [Security_Weight_Benchmark_Quarterly], 
    [Project1].[Total_Return_Security_Price_Monthly] AS [Total_Return_Security_Price_Monthly], 
    [Project1].[Total_Return_Security_Price_MonthToDate] AS [Total_Return_Security_Price_MonthToDate], 
    [Project1].[Total_Return_Security_Price_Quarterly] AS [Total_Return_Security_Price_Quarterly], 
    [Project1].[TW_Return_Portfolio_Monthly] AS [TW_Return_Portfolio_Monthly], 
    [Project1].[TW_Return_Portfolio_MonthToDate] AS [TW_Return_Portfolio_MonthToDate], 
    [Project1].[TW_Return_Portfolio_Quarterly] AS [TW_Return_Portfolio_Quarterly], 
    [Project1].[Record_Date] AS [Record_Date], 
    [Project1].[Session_ID] AS [Session_ID], 
    [Project1].[Hist_Last_Update_Date] AS [Hist_Last_Update_Date], 
    [Project1].[Hist_Last_Update_User] AS [Hist_Last_Update_User], 
    [Project1].[Benchmark_Price_Performance_Monthly] AS [Benchmark_Price_Performance_Monthly], 
    [Project1].[Benchmark_Price_Performance_MonthToDate] AS [Benchmark_Price_Performance_MonthToDate], 
    [Project1].[Benchmark_Price_Performance_Quarterly] AS [Benchmark_Price_Performance_Quarterly], 
    [Project1].[Security_ID1] AS [Security_ID1], 
    [Project1].[Entity_ID1] AS [Entity_ID1], 
    [Project1].[Security_Name] AS [Security_Name], 
    [Project1].[Short_Name] AS [Short_Name], 
    [Project1].[Primary_Exch] AS [Primary_Exch], 
    [Project1].[Secondary_Exch] AS [Secondary_Exch], 
    [Project1].[Country_Of_Domicile] AS [Country_Of_Domicile], 
    [Project1].[Country_Of_Risk] AS [Country_Of_Risk], 
    [Project1].[Security_Type_Code] AS [Security_Type_Code], 
    [Project1].[Price_Multiplier] AS [Price_Multiplier], 
    [Project1].[Income_Frequency] AS [Income_Frequency], 
    [Project1].[Issuer_Code] AS [Issuer_Code], 
    [Project1].[Ultimate_Issuer_Code] AS [Ultimate_Issuer_Code], 
    [Project1].[Asset_Currency] AS [Asset_Currency], 
    [Project1].[Min_Lot_Size] AS [Min_Lot_Size], 
    [Project1].[AvePrice_Rounding] AS [AvePrice_Rounding], 
    [Project1].[Issue_Date] AS [Issue_Date], 
    [Project1].[Maturity_Date] AS [Maturity_Date], 
    [Project1].[Coupon_Rate] AS [Coupon_Rate], 
    [Project1].[Price_Exchange] AS [Price_Exchange], 
    [Project1].[Trade_Currency] AS [Trade_Currency], 
    [Project1].[Price_Curr] AS [Price_Curr], 
    [Project1].[Currency_Pair_Code] AS [Currency_Pair_Code], 
    [Project1].[Share_Class] AS [Share_Class], 
    [Project1].[Current_Market_Price] AS [Current_Market_Price], 
    [Project1].[Index_Type] AS [Index_Type], 
    [Project1].[Clean_Price_Formula] AS [Clean_Price_Formula], 
    [Project1].[Accrued_Income_Price_Formula] AS [Accrued_Income_Price_Formula], 
    [Project1].[Odd_First_Coupon_Date] AS [Odd_First_Coupon_Date], 
    [Project1].[Odd_Last_Coupon_Date] AS [Odd_Last_Coupon_Date], 
    [Project1].[Coupon_Anniversary_Indicator] AS [Coupon_Anniversary_Indicator], 
    [Project1].[Track_EOM_Flag] AS [Track_EOM_Flag], 
    [Project1].[Next_Coupon_Date] AS [Next_Coupon_Date], 
    [Project1].[Previous_Coupon_Date] AS [Previous_Coupon_Date], 
    [Project1].[Payment_Frequency] AS [Payment_Frequency], 
    [Project1].[Coupon_BusDay_Adjustment] AS [Coupon_BusDay_Adjustment], 
    [Project1].[Next_Ex_Div_Date] AS [Next_Ex_Div_Date], 
    [Project1].[Ex_Div_BusDay_Adjustment] AS [Ex_Div_BusDay_Adjustment], 
    [Project1].[Ex_Div_Period] AS [Ex_Div_Period], 
    [Project1].[Ticker] AS [Ticker], 
    [Project1].[Inet_ID] AS [Inet_ID], 
    [Project1].[Bloomberg_ID] AS [Bloomberg_ID], 
    [Project1].[External_Sec_ID] AS [External_Sec_ID], 
    [Project1].[Reuters_ID] AS [Reuters_ID], 
    [Project1].[ISIN] AS [ISIN], 
    [Project1].[Call_Account_Flag] AS [Call_Account_Flag], 
    [Project1].[System_Locked] AS [System_Locked], 
    [Project1].[Last_Update_User1] AS [Last_Update_User1], 
    [Project1].[Last_Update_Date1] AS [Last_Update_Date1], 
    [Project1].[Security_Status] AS [Security_Status], 
    [Project1].[Benchmark_Portfolio] AS [Benchmark_Portfolio], 
    [Project1].[Active_flag] AS [Active_flag], 
    [Project1].[Dividend_FX_Security_ID] AS [Dividend_FX_Security_ID]
    FROM ( SELECT 
        [Extent1].[Security_ID] AS [Security_ID], 
        [Extent1].[Portfolio_Code] AS [Portfolio_Code], 
        [Extent1].[Entity_ID] AS [Entity_ID], 
        [Extent1].[Excess_Weight_Quarterly] AS [Excess_Weight_Quarterly], 
        [Extent1].[Relative_Contribution_Quarterly] AS [Relative_Contribution_Quarterly], 
        [Extent1].[Allocation_Selection_Interaction_Quarterly] AS [Allocation_Selection_Interaction_Quarterly], 
        [Extent1].[StockVs_TotBenchmarkReturn_Quarterly] AS [StockVs_TotBenchmarkReturn_Quarterly], 
        [Extent1].[Selection_Interaction_Quarterly] AS [Selection_Interaction_Quarterly], 
        [Extent1].[Asset_Allocation_Quarterly] AS [Asset_Allocation_Quarterly], 
        [Extent1].[Excess_Weight_Monthly] AS [Excess_Weight_Monthly], 
        [Extent1].[Relative_Contribution_Monthly] AS [Relative_Contribution_Monthly], 
        [Extent1].[Allocation_Selection_Interaction_Monthly] AS [Allocation_Selection_Interaction_Monthly], 
        [Extent1].[StockVs_TotBenchmarkReturn_Monthly] AS [StockVs_TotBenchmarkReturn_Monthly], 
        [Extent1].[Selection_Interaction_Monthly] AS [Selection_Interaction_Monthly], 
        [Extent1].[Asset_Allocation_Monthly] AS [Asset_Allocation_Monthly], 
        [Extent1].[Excess_Weight_MonthToDate] AS [Excess_Weight_MonthToDate], 
        [Extent1].[Relative_Contribution_MonthToDate] AS [Relative_Contribution_MonthToDate], 
        [Extent1].[Allocation_Selection_Interaction_MonthToDate] AS [Allocation_Selection_Interaction_MonthToDate], 
        [Extent1].[StockVs_TotBenchmarkReturn_MonthToDate] AS [StockVs_TotBenchmarkReturn_MonthToDate], 
        [Extent1].[Selection_Interaction_MonthToDate] AS [Selection_Interaction_MonthToDate], 
        [Extent1].[Asset_Allocation_MonthToDate] AS [Asset_Allocation_MonthToDate], 
        [Extent1].[Last_Update_Date] AS [Last_Update_Date], 
        [Extent1].[Last_Update_User] AS [Last_Update_User], 
        [Extent1].[Security_Weight_Portfolio_Monthly] AS [Security_Weight_Portfolio_Monthly], 
        [Extent1].[Security_Weight_Portfolio_MonthToDate] AS [Security_Weight_Portfolio_MonthToDate], 
        [Extent1].[Security_Weight_Portfolio_Quarterly] AS [Security_Weight_Portfolio_Quarterly], 
        [Extent1].[Security_Weight_Benchmark_Monthly] AS [Security_Weight_Benchmark_Monthly], 
        [Extent1].[Security_Weight_Benchmark_MonthToDate] AS [Security_Weight_Benchmark_MonthToDate], 
        [Extent1].[Security_Weight_Benchmark_Quarterly] AS [Security_Weight_Benchmark_Quarterly], 
        [Extent1].[Total_Return_Security_Price_Monthly] AS [Total_Return_Security_Price_Monthly], 
        [Extent1].[Total_Return_Security_Price_MonthToDate] AS [Total_Return_Security_Price_MonthToDate], 
        [Extent1].[Total_Return_Security_Price_Quarterly] AS [Total_Return_Security_Price_Quarterly], 
        [Extent1].[TW_Return_Portfolio_Monthly] AS [TW_Return_Portfolio_Monthly], 
        [Extent1].[TW_Return_Portfolio_MonthToDate] AS [TW_Return_Portfolio_MonthToDate], 
        [Extent1].[TW_Return_Portfolio_Quarterly] AS [TW_Return_Portfolio_Quarterly], 
        [Extent1].[Record_Date] AS [Record_Date], 
        [Extent1].[Session_ID] AS [Session_ID], 
        [Extent1].[Hist_Last_Update_Date] AS [Hist_Last_Update_Date], 
        [Extent1].[Hist_Last_Update_User] AS [Hist_Last_Update_User], 
        [Extent1].[Benchmark_Price_Performance_Monthly] AS [Benchmark_Price_Performance_Monthly], 
        [Extent1].[Benchmark_Price_Performance_MonthToDate] AS [Benchmark_Price_Performance_MonthToDate], 
        [Extent1].[Benchmark_Price_Performance_Quarterly] AS [Benchmark_Price_Performance_Quarterly], 
        [Extent2].[Security_ID] AS [Security_ID1], 
        [Extent2].[Entity_ID] AS [Entity_ID1], 
        [Extent2].[Security_Name] AS [Security_Name], 
        [Extent2].[Short_Name] AS [Short_Name], 
        [Extent2].[Primary_Exch] AS [Primary_Exch], 
        [Extent2].[Secondary_Exch] AS [Secondary_Exch], 
        [Extent2].[Country_Of_Domicile] AS [Country_Of_Domicile], 
        [Extent2].[Country_Of_Risk] AS [Country_Of_Risk], 
        [Extent2].[Security_Type_Code] AS [Security_Type_Code], 
        [Extent2].[Price_Multiplier] AS [Price_Multiplier], 
        [Extent2].[Income_Frequency] AS [Income_Frequency], 
        [Extent2].[Issuer_Code] AS [Issuer_Code], 
        [Extent2].[Ultimate_Issuer_Code] AS [Ultimate_Issuer_Code], 
        [Extent2].[Asset_Currency] AS [Asset_Currency], 
        [Extent2].[Min_Lot_Size] AS [Min_Lot_Size], 
        [Extent2].[Decimal_Precision] AS [Decimal_Precision], 
        [Extent2].[AvePrice_Rounding] AS [AvePrice_Rounding], 
        [Extent2].[Issue_Date] AS [Issue_Date], 
        [Extent2].[Maturity_Date] AS [Maturity_Date], 
        [Extent2].[Coupon_Rate] AS [Coupon_Rate], 
        [Extent2].[Price_Exchange] AS [Price_Exchange], 
        [Extent2].[Trade_Currency] AS [Trade_Currency], 
        [Extent2].[Price_Curr] AS [Price_Curr], 
        [Extent2].[Currency_Pair_Code] AS [Currency_Pair_Code], 
        [Extent2].[Share_Class] AS [Share_Class], 
        [Extent2].[Current_Market_Price] AS [Current_Market_Price], 
        [Extent2].[Index_Type] AS [Index_Type], 
        [Extent2].[Clean_Price_Formula] AS [Clean_Price_Formula], 
        [Extent2].[Accrued_Income_Price_Formula] AS [Accrued_Income_Price_Formula], 
        [Extent2].[Odd_First_Coupon_Date] AS [Odd_First_Coupon_Date], 
        [Extent2].[Odd_Last_Coupon_Date] AS [Odd_Last_Coupon_Date], 
        [Extent2].[Coupon_Anniversary_Indicator] AS [Coupon_Anniversary_Indicator], 
        [Extent2].[Track_EOM_Flag] AS [Track_EOM_Flag], 
        [Extent2].[Next_Coupon_Date] AS [Next_Coupon_Date], 
        [Extent2].[Previous_Coupon_Date] AS [Previous_Coupon_Date], 
        [Extent2].[Payment_Frequency] AS [Payment_Frequency], 
        [Extent2].[Coupon_BusDay_Adjustment] AS [Coupon_BusDay_Adjustment], 
        [Extent2].[Next_Ex_Div_Date] AS [Next_Ex_Div_Date], 
        [Extent2].[Ex_Div_BusDay_Adjustment] AS [Ex_Div_BusDay_Adjustment], 
        [Extent2].[Ex_Div_Period] AS [Ex_Div_Period], 
        [Extent2].[Ticker] AS [Ticker], 
        [Extent2].[Inet_ID] AS [Inet_ID], 
        [Extent2].[Bloomberg_ID] AS [Bloomberg_ID], 
        [Extent2].[External_Sec_ID] AS [External_Sec_ID], 
        [Extent2].[Reuters_ID] AS [Reuters_ID], 
        [Extent2].[ISIN] AS [ISIN], 
        [Extent2].[Call_Account_Flag] AS [Call_Account_Flag], 
        [Extent2].[System_Locked] AS [System_Locked], 
        [Extent2].[Last_Update_User] AS [Last_Update_User1], 
        [Extent2].[Last_Update_Date] AS [Last_Update_Date1], 
        [Extent2].[Security_Status] AS [Security_Status], 
        [Extent2].[Benchmark_Portfolio] AS [Benchmark_Portfolio], 
        [Extent2].[Active_flag] AS [Active_flag], 
        [Extent2].[Dividend_FX_Security_ID] AS [Dividend_FX_Security_ID]
        FROM  [dbo].[Security_Attribution_History] AS [Extent1]
        INNER JOIN [dbo].[Security_Detail] AS [Extent2] ON [Extent1].[Security_ID] = [Extent2].[Security_ID]
        WHERE ([Extent1].[Security_ID] = @p__linq__0) AND ([Extent1].[Portfolio_Code] = @p__linq__1)
    )  AS [Project1]
    ORDER BY [Project1].[Record_Date] DESC
2018-04-07 12:29:06.7341|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: SELECT 
    [Project1].[Decimal_Precision] AS [Decimal_Precision], 
    [Project1].[Security_ID] AS [Security_ID], 
    [Project1].[Portfolio_Code] AS [Portfolio_Code], 
    [Project1].[Entity_ID] AS [Entity_ID], 
    [Project1].[Excess_Weight_Quarterly] AS [Excess_Weight_Quarterly], 
    [Project1].[Relative_Contribution_Quarterly] AS [Relative_Contribution_Quarterly], 
    [Project1].[Allocation_Selection_Interaction_Quarterly] AS [Allocation_Selection_Interaction_Quarterly], 
    [Project1].[StockVs_TotBenchmarkReturn_Quarterly] AS [StockVs_TotBenchmarkReturn_Quarterly], 
    [Project1].[Selection_Interaction_Quarterly] AS [Selection_Interaction_Quarterly], 
    [Project1].[Asset_Allocation_Quarterly] AS [Asset_Allocation_Quarterly], 
    [Project1].[Excess_Weight_Monthly] AS [Excess_Weight_Monthly], 
    [Project1].[Relative_Contribution_Monthly] AS [Relative_Contribution_Monthly], 
    [Project1].[Allocation_Selection_Interaction_Monthly] AS [Allocation_Selection_Interaction_Monthly], 
    [Project1].[StockVs_TotBenchmarkReturn_Monthly] AS [StockVs_TotBenchmarkReturn_Monthly], 
    [Project1].[Selection_Interaction_Monthly] AS [Selection_Interaction_Monthly], 
    [Project1].[Asset_Allocation_Monthly] AS [Asset_Allocation_Monthly], 
    [Project1].[Excess_Weight_MonthToDate] AS [Excess_Weight_MonthToDate], 
    [Project1].[Relative_Contribution_MonthToDate] AS [Relative_Contribution_MonthToDate], 
    [Project1].[Allocation_Selection_Interaction_MonthToDate] AS [Allocation_Selection_Interaction_MonthToDate], 
    [Project1].[StockVs_TotBenchmarkReturn_MonthToDate] AS [StockVs_TotBenchmarkReturn_MonthToDate], 
    [Project1].[Selection_Interaction_MonthToDate] AS [Selection_Interaction_MonthToDate], 
    [Project1].[Asset_Allocation_MonthToDate] AS [Asset_Allocation_MonthToDate], 
    [Project1].[Last_Update_Date] AS [Last_Update_Date], 
    [Project1].[Last_Update_User] AS [Last_Update_User], 
    [Project1].[Security_Weight_Portfolio_Monthly] AS [Security_Weight_Portfolio_Monthly], 
    [Project1].[Security_Weight_Portfolio_MonthToDate] AS [Security_Weight_Portfolio_MonthToDate], 
    [Project1].[Security_Weight_Portfolio_Quarterly] AS [Security_Weight_Portfolio_Quarterly], 
    [Project1].[Security_Weight_Benchmark_Monthly] AS [Security_Weight_Benchmark_Monthly], 
    [Project1].[Security_Weight_Benchmark_MonthToDate] AS [Security_Weight_Benchmark_MonthToDate], 
    [Project1].[Security_Weight_Benchmark_Quarterly] AS [Security_Weight_Benchmark_Quarterly], 
    [Project1].[Total_Return_Security_Price_Monthly] AS [Total_Return_Security_Price_Monthly], 
    [Project1].[Total_Return_Security_Price_MonthToDate] AS [Total_Return_Security_Price_MonthToDate], 
    [Project1].[Total_Return_Security_Price_Quarterly] AS [Total_Return_Security_Price_Quarterly], 
    [Project1].[TW_Return_Portfolio_Monthly] AS [TW_Return_Portfolio_Monthly], 
    [Project1].[TW_Return_Portfolio_MonthToDate] AS [TW_Return_Portfolio_MonthToDate], 
    [Project1].[TW_Return_Portfolio_Quarterly] AS [TW_Return_Portfolio_Quarterly], 
    [Project1].[Record_Date] AS [Record_Date], 
    [Project1].[Session_ID] AS [Session_ID], 
    [Project1].[Hist_Last_Update_Date] AS [Hist_Last_Update_Date], 
    [Project1].[Hist_Last_Update_User] AS [Hist_Last_Update_User], 
    [Project1].[Benchmark_Price_Performance_Monthly] AS [Benchmark_Price_Performance_Monthly], 
    [Project1].[Benchmark_Price_Performance_MonthToDate] AS [Benchmark_Price_Performance_MonthToDate], 
    [Project1].[Benchmark_Price_Performance_Quarterly] AS [Benchmark_Price_Performance_Quarterly], 
    [Project1].[Security_ID1] AS [Security_ID1], 
    [Project1].[Entity_ID1] AS [Entity_ID1], 
    [Project1].[Security_Name] AS [Security_Name], 
    [Project1].[Short_Name] AS [Short_Name], 
    [Project1].[Primary_Exch] AS [Primary_Exch], 
    [Project1].[Secondary_Exch] AS [Secondary_Exch], 
    [Project1].[Country_Of_Domicile] AS [Country_Of_Domicile], 
    [Project1].[Country_Of_Risk] AS [Country_Of_Risk], 
    [Project1].[Security_Type_Code] AS [Security_Type_Code], 
    [Project1].[Price_Multiplier] AS [Price_Multiplier], 
    [Project1].[Income_Frequency] AS [Income_Frequency], 
    [Project1].[Issuer_Code] AS [Issuer_Code], 
    [Project1].[Ultimate_Issuer_Code] AS [Ultimate_Issuer_Code], 
    [Project1].[Asset_Currency] AS [Asset_Currency], 
    [Project1].[Min_Lot_Size] AS [Min_Lot_Size], 
    [Project1].[AvePrice_Rounding] AS [AvePrice_Rounding], 
    [Project1].[Issue_Date] AS [Issue_Date], 
    [Project1].[Maturity_Date] AS [Maturity_Date], 
    [Project1].[Coupon_Rate] AS [Coupon_Rate], 
    [Project1].[Price_Exchange] AS [Price_Exchange], 
    [Project1].[Trade_Currency] AS [Trade_Currency], 
    [Project1].[Price_Curr] AS [Price_Curr], 
    [Project1].[Currency_Pair_Code] AS [Currency_Pair_Code], 
    [Project1].[Share_Class] AS [Share_Class], 
    [Project1].[Current_Market_Price] AS [Current_Market_Price], 
    [Project1].[Index_Type] AS [Index_Type], 
    [Project1].[Clean_Price_Formula] AS [Clean_Price_Formula], 
    [Project1].[Accrued_Income_Price_Formula] AS [Accrued_Income_Price_Formula], 
    [Project1].[Odd_First_Coupon_Date] AS [Odd_First_Coupon_Date], 
    [Project1].[Odd_Last_Coupon_Date] AS [Odd_Last_Coupon_Date], 
    [Project1].[Coupon_Anniversary_Indicator] AS [Coupon_Anniversary_Indicator], 
    [Project1].[Track_EOM_Flag] AS [Track_EOM_Flag], 
    [Project1].[Next_Coupon_Date] AS [Next_Coupon_Date], 
    [Project1].[Previous_Coupon_Date] AS [Previous_Coupon_Date], 
    [Project1].[Payment_Frequency] AS [Payment_Frequency], 
    [Project1].[Coupon_BusDay_Adjustment] AS [Coupon_BusDay_Adjustment], 
    [Project1].[Next_Ex_Div_Date] AS [Next_Ex_Div_Date], 
    [Project1].[Ex_Div_BusDay_Adjustment] AS [Ex_Div_BusDay_Adjustment], 
    [Project1].[Ex_Div_Period] AS [Ex_Div_Period], 
    [Project1].[Ticker] AS [Ticker], 
    [Project1].[Inet_ID] AS [Inet_ID], 
    [Project1].[Bloomberg_ID] AS [Bloomberg_ID], 
    [Project1].[External_Sec_ID] AS [External_Sec_ID], 
    [Project1].[Reuters_ID] AS [Reuters_ID], 
    [Project1].[ISIN] AS [ISIN], 
    [Project1].[Call_Account_Flag] AS [Call_Account_Flag], 
    [Project1].[System_Locked] AS [System_Locked], 
    [Project1].[Last_Update_User1] AS [Last_Update_User1], 
    [Project1].[Last_Update_Date1] AS [Last_Update_Date1], 
    [Project1].[Security_Status] AS [Security_Status], 
    [Project1].[Benchmark_Portfolio] AS [Benchmark_Portfolio], 
    [Project1].[Active_flag] AS [Active_flag], 
    [Project1].[Dividend_FX_Security_ID] AS [Dividend_FX_Security_ID]
    FROM ( SELECT 
        [Extent1].[Security_ID] AS [Security_ID], 
        [Extent1].[Portfolio_Code] AS [Portfolio_Code], 
        [Extent1].[Entity_ID] AS [Entity_ID], 
        [Extent1].[Excess_Weight_Quarterly] AS [Excess_Weight_Quarterly], 
        [Extent1].[Relative_Contribution_Quarterly] AS [Relative_Contribution_Quarterly], 
        [Extent1].[Allocation_Selection_Interaction_Quarterly] AS [Allocation_Selection_Interaction_Quarterly], 
        [Extent1].[StockVs_TotBenchmarkReturn_Quarterly] AS [StockVs_TotBenchmarkReturn_Quarterly], 
        [Extent1].[Selection_Interaction_Quarterly] AS [Selection_Interaction_Quarterly], 
        [Extent1].[Asset_Allocation_Quarterly] AS [Asset_Allocation_Quarterly], 
        [Extent1].[Excess_Weight_Monthly] AS [Excess_Weight_Monthly], 
        [Extent1].[Relative_Contribution_Monthly] AS [Relative_Contribution_Monthly], 
        [Extent1].[Allocation_Selection_Interaction_Monthly] AS [Allocation_Selection_Interaction_Monthly], 
        [Extent1].[StockVs_TotBenchmarkReturn_Monthly] AS [StockVs_TotBenchmarkReturn_Monthly], 
        [Extent1].[Selection_Interaction_Monthly] AS [Selection_Interaction_Monthly], 
        [Extent1].[Asset_Allocation_Monthly] AS [Asset_Allocation_Monthly], 
        [Extent1].[Excess_Weight_MonthToDate] AS [Excess_Weight_MonthToDate], 
        [Extent1].[Relative_Contribution_MonthToDate] AS [Relative_Contribution_MonthToDate], 
        [Extent1].[Allocation_Selection_Interaction_MonthToDate] AS [Allocation_Selection_Interaction_MonthToDate], 
        [Extent1].[StockVs_TotBenchmarkReturn_MonthToDate] AS [StockVs_TotBenchmarkReturn_MonthToDate], 
        [Extent1].[Selection_Interaction_MonthToDate] AS [Selection_Interaction_MonthToDate], 
        [Extent1].[Asset_Allocation_MonthToDate] AS [Asset_Allocation_MonthToDate], 
        [Extent1].[Last_Update_Date] AS [Last_Update_Date], 
        [Extent1].[Last_Update_User] AS [Last_Update_User], 
        [Extent1].[Security_Weight_Portfolio_Monthly] AS [Security_Weight_Portfolio_Monthly], 
        [Extent1].[Security_Weight_Portfolio_MonthToDate] AS [Security_Weight_Portfolio_MonthToDate], 
        [Extent1].[Security_Weight_Portfolio_Quarterly] AS [Security_Weight_Portfolio_Quarterly], 
        [Extent1].[Security_Weight_Benchmark_Monthly] AS [Security_Weight_Benchmark_Monthly], 
        [Extent1].[Security_Weight_Benchmark_MonthToDate] AS [Security_Weight_Benchmark_MonthToDate], 
        [Extent1].[Security_Weight_Benchmark_Quarterly] AS [Security_Weight_Benchmark_Quarterly], 
        [Extent1].[Total_Return_Security_Price_Monthly] AS [Total_Return_Security_Price_Monthly], 
        [Extent1].[Total_Return_Security_Price_MonthToDate] AS [Total_Return_Security_Price_MonthToDate], 
        [Extent1].[Total_Return_Security_Price_Quarterly] AS [Total_Return_Security_Price_Quarterly], 
        [Extent1].[TW_Return_Portfolio_Monthly] AS [TW_Return_Portfolio_Monthly], 
        [Extent1].[TW_Return_Portfolio_MonthToDate] AS [TW_Return_Portfolio_MonthToDate], 
        [Extent1].[TW_Return_Portfolio_Quarterly] AS [TW_Return_Portfolio_Quarterly], 
        [Extent1].[Record_Date] AS [Record_Date], 
        [Extent1].[Session_ID] AS [Session_ID], 
        [Extent1].[Hist_Last_Update_Date] AS [Hist_Last_Update_Date], 
        [Extent1].[Hist_Last_Update_User] AS [Hist_Last_Update_User], 
        [Extent1].[Benchmark_Price_Performance_Monthly] AS [Benchmark_Price_Performance_Monthly], 
        [Extent1].[Benchmark_Price_Performance_MonthToDate] AS [Benchmark_Price_Performance_MonthToDate], 
        [Extent1].[Benchmark_Price_Performance_Quarterly] AS [Benchmark_Price_Performance_Quarterly], 
        [Extent2].[Security_ID] AS [Security_ID1], 
        [Extent2].[Entity_ID] AS [Entity_ID1], 
        [Extent2].[Security_Name] AS [Security_Name], 
        [Extent2].[Short_Name] AS [Short_Name], 
        [Extent2].[Primary_Exch] AS [Primary_Exch], 
        [Extent2].[Secondary_Exch] AS [Secondary_Exch], 
        [Extent2].[Country_Of_Domicile] AS [Country_Of_Domicile], 
        [Extent2].[Country_Of_Risk] AS [Country_Of_Risk], 
        [Extent2].[Security_Type_Code] AS [Security_Type_Code], 
        [Extent2].[Price_Multiplier] AS [Price_Multiplier], 
        [Extent2].[Income_Frequency] AS [Income_Frequency], 
        [Extent2].[Issuer_Code] AS [Issuer_Code], 
        [Extent2].[Ultimate_Issuer_Code] AS [Ultimate_Issuer_Code], 
        [Extent2].[Asset_Currency] AS [Asset_Currency], 
        [Extent2].[Min_Lot_Size] AS [Min_Lot_Size], 
        [Extent2].[Decimal_Precision] AS [Decimal_Precision], 
        [Extent2].[AvePrice_Rounding] AS [AvePrice_Rounding], 
        [Extent2].[Issue_Date] AS [Issue_Date], 
        [Extent2].[Maturity_Date] AS [Maturity_Date], 
        [Extent2].[Coupon_Rate] AS [Coupon_Rate], 
        [Extent2].[Price_Exchange] AS [Price_Exchange], 
        [Extent2].[Trade_Currency] AS [Trade_Currency], 
        [Extent2].[Price_Curr] AS [Price_Curr], 
        [Extent2].[Currency_Pair_Code] AS [Currency_Pair_Code], 
        [Extent2].[Share_Class] AS [Share_Class], 
        [Extent2].[Current_Market_Price] AS [Current_Market_Price], 
        [Extent2].[Index_Type] AS [Index_Type], 
        [Extent2].[Clean_Price_Formula] AS [Clean_Price_Formula], 
        [Extent2].[Accrued_Income_Price_Formula] AS [Accrued_Income_Price_Formula], 
        [Extent2].[Odd_First_Coupon_Date] AS [Odd_First_Coupon_Date], 
        [Extent2].[Odd_Last_Coupon_Date] AS [Odd_Last_Coupon_Date], 
        [Extent2].[Coupon_Anniversary_Indicator] AS [Coupon_Anniversary_Indicator], 
        [Extent2].[Track_EOM_Flag] AS [Track_EOM_Flag], 
        [Extent2].[Next_Coupon_Date] AS [Next_Coupon_Date], 
        [Extent2].[Previous_Coupon_Date] AS [Previous_Coupon_Date], 
        [Extent2].[Payment_Frequency] AS [Payment_Frequency], 
        [Extent2].[Coupon_BusDay_Adjustment] AS [Coupon_BusDay_Adjustment], 
        [Extent2].[Next_Ex_Div_Date] AS [Next_Ex_Div_Date], 
        [Extent2].[Ex_Div_BusDay_Adjustment] AS [Ex_Div_BusDay_Adjustment], 
        [Extent2].[Ex_Div_Period] AS [Ex_Div_Period], 
        [Extent2].[Ticker] AS [Ticker], 
        [Extent2].[Inet_ID] AS [Inet_ID], 
        [Extent2].[Bloomberg_ID] AS [Bloomberg_ID], 
        [Extent2].[External_Sec_ID] AS [External_Sec_ID], 
        [Extent2].[Reuters_ID] AS [Reuters_ID], 
        [Extent2].[ISIN] AS [ISIN], 
        [Extent2].[Call_Account_Flag] AS [Call_Account_Flag], 
        [Extent2].[System_Locked] AS [System_Locked], 
        [Extent2].[Last_Update_User] AS [Last_Update_User1], 
        [Extent2].[Last_Update_Date] AS [Last_Update_Date1], 
        [Extent2].[Security_Status] AS [Security_Status], 
        [Extent2].[Benchmark_Portfolio] AS [Benchmark_Portfolio], 
        [Extent2].[Active_flag] AS [Active_flag], 
        [Extent2].[Dividend_FX_Security_ID] AS [Dividend_FX_Security_ID]
        FROM  [dbo].[Security_Attribution_History] AS [Extent1]
        INNER JOIN [dbo].[Security_Detail] AS [Extent2] ON [Extent1].[Security_ID] = [Extent2].[Security_ID]
        WHERE ([Extent1].[Security_ID] = @p__linq__0) AND ([Extent1].[Portfolio_Code] = @p__linq__1)
    )  AS [Project1]
    ORDER BY [Project1].[Record_Date] DESC
2018-04-07 12:29:06.9287|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: IF db_id(N'MetopeAzureDb') IS NOT NULL SELECT 1 ELSE SELECT Count(*) FROM sys.databases WHERE [name]=N'MetopeAzureDb'
2018-04-07 12:29:06.9582|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: IF db_id(N'MetopeAzureDb') IS NOT NULL SELECT 1 ELSE SELECT Count(*) FROM sys.databases WHERE [name]=N'MetopeAzureDb'
2018-04-07 12:29:06.9892|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: IF db_id(N'MetopeAzureDb') IS NOT NULL SELECT 1 ELSE SELECT Count(*) FROM sys.databases WHERE [name]=N'MetopeAzureDb'
2018-04-07 12:29:07.0203|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: IF db_id(N'MetopeAzureDb') IS NOT NULL SELECT 1 ELSE SELECT Count(*) FROM sys.databases WHERE [name]=N'MetopeAzureDb'
2018-04-07 12:29:09.4050|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: SELECT 
    [Extent1].[Security_ID] AS [Security_ID], 
    [Extent1].[Portfolio_Code] AS [Portfolio_Code], 
    [Extent1].[Entity_ID] AS [Entity_ID], 
    [Extent1].[Excess_Weight_Quarterly] AS [Excess_Weight_Quarterly], 
    [Extent1].[Relative_Contribution_Quarterly] AS [Relative_Contribution_Quarterly], 
    [Extent1].[Allocation_Selection_Interaction_Quarterly] AS [Allocation_Selection_Interaction_Quarterly], 
    [Extent1].[StockVs_TotBenchmarkReturn_Quarterly] AS [StockVs_TotBenchmarkReturn_Quarterly], 
    [Extent1].[Selection_Interaction_Quarterly] AS [Selection_Interaction_Quarterly], 
    [Extent1].[Asset_Allocation_Quarterly] AS [Asset_Allocation_Quarterly], 
    [Extent1].[Excess_Weight_Monthly] AS [Excess_Weight_Monthly], 
    [Extent1].[Relative_Contribution_Monthly] AS [Relative_Contribution_Monthly], 
    [Extent1].[Allocation_Selection_Interaction_Monthly] AS [Allocation_Selection_Interaction_Monthly], 
    [Extent1].[StockVs_TotBenchmarkReturn_Monthly] AS [StockVs_TotBenchmarkReturn_Monthly], 
    [Extent1].[Selection_Interaction_Monthly] AS [Selection_Interaction_Monthly], 
    [Extent1].[Asset_Allocation_Monthly] AS [Asset_Allocation_Monthly], 
    [Extent1].[Excess_Weight_MonthToDate] AS [Excess_Weight_MonthToDate], 
    [Extent1].[Relative_Contribution_MonthToDate] AS [Relative_Contribution_MonthToDate], 
    [Extent1].[Allocation_Selection_Interaction_MonthToDate] AS [Allocation_Selection_Interaction_MonthToDate], 
    [Extent1].[StockVs_TotBenchmarkReturn_MonthToDate] AS [StockVs_TotBenchmarkReturn_MonthToDate], 
    [Extent1].[Selection_Interaction_MonthToDate] AS [Selection_Interaction_MonthToDate], 
    [Extent1].[Asset_Allocation_MonthToDate] AS [Asset_Allocation_MonthToDate], 
    [Extent1].[Last_Update_Date] AS [Last_Update_Date], 
    [Extent1].[Last_Update_User] AS [Last_Update_User], 
    [Extent1].[Security_Weight_Portfolio_Monthly] AS [Security_Weight_Portfolio_Monthly], 
    [Extent1].[Security_Weight_Portfolio_MonthToDate] AS [Security_Weight_Portfolio_MonthToDate], 
    [Extent1].[Security_Weight_Portfolio_Quarterly] AS [Security_Weight_Portfolio_Quarterly], 
    [Extent1].[Security_Weight_Benchmark_Monthly] AS [Security_Weight_Benchmark_Monthly], 
    [Extent1].[Security_Weight_Benchmark_MonthToDate] AS [Security_Weight_Benchmark_MonthToDate], 
    [Extent1].[Security_Weight_Benchmark_Quarterly] AS [Security_Weight_Benchmark_Quarterly], 
    [Extent1].[Total_Return_Security_Price_Monthly] AS [Total_Return_Security_Price_Monthly], 
    [Extent1].[Total_Return_Security_Price_MonthToDate] AS [Total_Return_Security_Price_MonthToDate], 
    [Extent1].[Total_Return_Security_Price_Quarterly] AS [Total_Return_Security_Price_Quarterly], 
    [Extent1].[TW_Return_Portfolio_Monthly] AS [TW_Return_Portfolio_Monthly], 
    [Extent1].[TW_Return_Portfolio_MonthToDate] AS [TW_Return_Portfolio_MonthToDate], 
    [Extent1].[TW_Return_Portfolio_Quarterly] AS [TW_Return_Portfolio_Quarterly], 
    [Extent1].[Record_Date] AS [Record_Date], 
    [Extent1].[Session_ID] AS [Session_ID], 
    [Extent1].[Hist_Last_Update_Date] AS [Hist_Last_Update_Date], 
    [Extent1].[Hist_Last_Update_User] AS [Hist_Last_Update_User], 
    [Extent1].[Benchmark_Price_Performance_Monthly] AS [Benchmark_Price_Performance_Monthly], 
    [Extent1].[Benchmark_Price_Performance_MonthToDate] AS [Benchmark_Price_Performance_MonthToDate], 
    [Extent1].[Benchmark_Price_Performance_Quarterly] AS [Benchmark_Price_Performance_Quarterly]
    FROM [dbo].[Security_Attribution_History] AS [Extent1]
    WHERE ([Extent1].[Security_ID] = @p__linq__0) AND ([Extent1].[Portfolio_Code] = @p__linq__1) AND ([Extent1].[Record_Date] = @p__linq__2) AND ([Extent1].[Entity_ID] = @p__linq__3)
2018-04-07 12:29:09.4585|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: SELECT 
    [Extent1].[Security_ID] AS [Security_ID], 
    [Extent1].[Portfolio_Code] AS [Portfolio_Code], 
    [Extent1].[Entity_ID] AS [Entity_ID], 
    [Extent1].[Excess_Weight_Quarterly] AS [Excess_Weight_Quarterly], 
    [Extent1].[Relative_Contribution_Quarterly] AS [Relative_Contribution_Quarterly], 
    [Extent1].[Allocation_Selection_Interaction_Quarterly] AS [Allocation_Selection_Interaction_Quarterly], 
    [Extent1].[StockVs_TotBenchmarkReturn_Quarterly] AS [StockVs_TotBenchmarkReturn_Quarterly], 
    [Extent1].[Selection_Interaction_Quarterly] AS [Selection_Interaction_Quarterly], 
    [Extent1].[Asset_Allocation_Quarterly] AS [Asset_Allocation_Quarterly], 
    [Extent1].[Excess_Weight_Monthly] AS [Excess_Weight_Monthly], 
    [Extent1].[Relative_Contribution_Monthly] AS [Relative_Contribution_Monthly], 
    [Extent1].[Allocation_Selection_Interaction_Monthly] AS [Allocation_Selection_Interaction_Monthly], 
    [Extent1].[StockVs_TotBenchmarkReturn_Monthly] AS [StockVs_TotBenchmarkReturn_Monthly], 
    [Extent1].[Selection_Interaction_Monthly] AS [Selection_Interaction_Monthly], 
    [Extent1].[Asset_Allocation_Monthly] AS [Asset_Allocation_Monthly], 
    [Extent1].[Excess_Weight_MonthToDate] AS [Excess_Weight_MonthToDate], 
    [Extent1].[Relative_Contribution_MonthToDate] AS [Relative_Contribution_MonthToDate], 
    [Extent1].[Allocation_Selection_Interaction_MonthToDate] AS [Allocation_Selection_Interaction_MonthToDate], 
    [Extent1].[StockVs_TotBenchmarkReturn_MonthToDate] AS [StockVs_TotBenchmarkReturn_MonthToDate], 
    [Extent1].[Selection_Interaction_MonthToDate] AS [Selection_Interaction_MonthToDate], 
    [Extent1].[Asset_Allocation_MonthToDate] AS [Asset_Allocation_MonthToDate], 
    [Extent1].[Last_Update_Date] AS [Last_Update_Date], 
    [Extent1].[Last_Update_User] AS [Last_Update_User], 
    [Extent1].[Security_Weight_Portfolio_Monthly] AS [Security_Weight_Portfolio_Monthly], 
    [Extent1].[Security_Weight_Portfolio_MonthToDate] AS [Security_Weight_Portfolio_MonthToDate], 
    [Extent1].[Security_Weight_Portfolio_Quarterly] AS [Security_Weight_Portfolio_Quarterly], 
    [Extent1].[Security_Weight_Benchmark_Monthly] AS [Security_Weight_Benchmark_Monthly], 
    [Extent1].[Security_Weight_Benchmark_MonthToDate] AS [Security_Weight_Benchmark_MonthToDate], 
    [Extent1].[Security_Weight_Benchmark_Quarterly] AS [Security_Weight_Benchmark_Quarterly], 
    [Extent1].[Total_Return_Security_Price_Monthly] AS [Total_Return_Security_Price_Monthly], 
    [Extent1].[Total_Return_Security_Price_MonthToDate] AS [Total_Return_Security_Price_MonthToDate], 
    [Extent1].[Total_Return_Security_Price_Quarterly] AS [Total_Return_Security_Price_Quarterly], 
    [Extent1].[TW_Return_Portfolio_Monthly] AS [TW_Return_Portfolio_Monthly], 
    [Extent1].[TW_Return_Portfolio_MonthToDate] AS [TW_Return_Portfolio_MonthToDate], 
    [Extent1].[TW_Return_Portfolio_Quarterly] AS [TW_Return_Portfolio_Quarterly], 
    [Extent1].[Record_Date] AS [Record_Date], 
    [Extent1].[Session_ID] AS [Session_ID], 
    [Extent1].[Hist_Last_Update_Date] AS [Hist_Last_Update_Date], 
    [Extent1].[Hist_Last_Update_User] AS [Hist_Last_Update_User], 
    [Extent1].[Benchmark_Price_Performance_Monthly] AS [Benchmark_Price_Performance_Monthly], 
    [Extent1].[Benchmark_Price_Performance_MonthToDate] AS [Benchmark_Price_Performance_MonthToDate], 
    [Extent1].[Benchmark_Price_Performance_Quarterly] AS [Benchmark_Price_Performance_Quarterly]
    FROM [dbo].[Security_Attribution_History] AS [Extent1]
    WHERE ([Extent1].[Security_ID] = @p__linq__0) AND ([Extent1].[Portfolio_Code] = @p__linq__1) AND ([Extent1].[Record_Date] = @p__linq__2) AND ([Extent1].[Entity_ID] = @p__linq__3)
2018-04-07 12:29:09.6681|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: SELECT 
    [Extent1].[Security_ID] AS [Security_ID], 
    [Extent1].[Entity_ID] AS [Entity_ID], 
    [Extent1].[Security_Name] AS [Security_Name], 
    [Extent1].[Short_Name] AS [Short_Name], 
    [Extent1].[Primary_Exch] AS [Primary_Exch], 
    [Extent1].[Secondary_Exch] AS [Secondary_Exch], 
    [Extent1].[Country_Of_Domicile] AS [Country_Of_Domicile], 
    [Extent1].[Country_Of_Risk] AS [Country_Of_Risk], 
    [Extent1].[Security_Type_Code] AS [Security_Type_Code], 
    [Extent1].[Price_Multiplier] AS [Price_Multiplier], 
    [Extent1].[Income_Frequency] AS [Income_Frequency], 
    [Extent1].[Issuer_Code] AS [Issuer_Code], 
    [Extent1].[Ultimate_Issuer_Code] AS [Ultimate_Issuer_Code], 
    [Extent1].[Asset_Currency] AS [Asset_Currency], 
    [Extent1].[Min_Lot_Size] AS [Min_Lot_Size], 
    [Extent1].[Decimal_Precision] AS [Decimal_Precision], 
    [Extent1].[AvePrice_Rounding] AS [AvePrice_Rounding], 
    [Extent1].[Issue_Date] AS [Issue_Date], 
    [Extent1].[Maturity_Date] AS [Maturity_Date], 
    [Extent1].[Coupon_Rate] AS [Coupon_Rate], 
    [Extent1].[Price_Exchange] AS [Price_Exchange], 
    [Extent1].[Trade_Currency] AS [Trade_Currency], 
    [Extent1].[Price_Curr] AS [Price_Curr], 
    [Extent1].[Currency_Pair_Code] AS [Currency_Pair_Code], 
    [Extent1].[Share_Class] AS [Share_Class], 
    [Extent1].[Current_Market_Price] AS [Current_Market_Price], 
    [Extent1].[Index_Type] AS [Index_Type], 
    [Extent1].[Clean_Price_Formula] AS [Clean_Price_Formula], 
    [Extent1].[Accrued_Income_Price_Formula] AS [Accrued_Income_Price_Formula], 
    [Extent1].[Odd_First_Coupon_Date] AS [Odd_First_Coupon_Date], 
    [Extent1].[Odd_Last_Coupon_Date] AS [Odd_Last_Coupon_Date], 
    [Extent1].[Coupon_Anniversary_Indicator] AS [Coupon_Anniversary_Indicator], 
    [Extent1].[Track_EOM_Flag] AS [Track_EOM_Flag], 
    [Extent1].[Next_Coupon_Date] AS [Next_Coupon_Date], 
    [Extent1].[Previous_Coupon_Date] AS [Previous_Coupon_Date], 
    [Extent1].[Payment_Frequency] AS [Payment_Frequency], 
    [Extent1].[Coupon_BusDay_Adjustment] AS [Coupon_BusDay_Adjustment], 
    [Extent1].[Next_Ex_Div_Date] AS [Next_Ex_Div_Date], 
    [Extent1].[Ex_Div_BusDay_Adjustment] AS [Ex_Div_BusDay_Adjustment], 
    [Extent1].[Ex_Div_Period] AS [Ex_Div_Period], 
    [Extent1].[Ticker] AS [Ticker], 
    [Extent1].[Inet_ID] AS [Inet_ID], 
    [Extent1].[Bloomberg_ID] AS [Bloomberg_ID], 
    [Extent1].[External_Sec_ID] AS [External_Sec_ID], 
    [Extent1].[Reuters_ID] AS [Reuters_ID], 
    [Extent1].[ISIN] AS [ISIN], 
    [Extent1].[Call_Account_Flag] AS [Call_Account_Flag], 
    [Extent1].[System_Locked] AS [System_Locked], 
    [Extent1].[Last_Update_User] AS [Last_Update_User], 
    [Extent1].[Last_Update_Date] AS [Last_Update_Date], 
    [Extent1].[Security_Status] AS [Security_Status], 
    [Extent1].[Benchmark_Portfolio] AS [Benchmark_Portfolio], 
    [Extent1].[Active_flag] AS [Active_flag], 
    [Extent1].[Dividend_FX_Security_ID] AS [Dividend_FX_Security_ID]
    FROM [dbo].[Security_Detail] AS [Extent1]
    WHERE [Extent1].[Security_ID] = @EntityKeyValue1
2018-04-07 12:29:09.7057|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: SELECT 
    [Extent1].[Security_ID] AS [Security_ID], 
    [Extent1].[Entity_ID] AS [Entity_ID], 
    [Extent1].[Security_Name] AS [Security_Name], 
    [Extent1].[Short_Name] AS [Short_Name], 
    [Extent1].[Primary_Exch] AS [Primary_Exch], 
    [Extent1].[Secondary_Exch] AS [Secondary_Exch], 
    [Extent1].[Country_Of_Domicile] AS [Country_Of_Domicile], 
    [Extent1].[Country_Of_Risk] AS [Country_Of_Risk], 
    [Extent1].[Security_Type_Code] AS [Security_Type_Code], 
    [Extent1].[Price_Multiplier] AS [Price_Multiplier], 
    [Extent1].[Income_Frequency] AS [Income_Frequency], 
    [Extent1].[Issuer_Code] AS [Issuer_Code], 
    [Extent1].[Ultimate_Issuer_Code] AS [Ultimate_Issuer_Code], 
    [Extent1].[Asset_Currency] AS [Asset_Currency], 
    [Extent1].[Min_Lot_Size] AS [Min_Lot_Size], 
    [Extent1].[Decimal_Precision] AS [Decimal_Precision], 
    [Extent1].[AvePrice_Rounding] AS [AvePrice_Rounding], 
    [Extent1].[Issue_Date] AS [Issue_Date], 
    [Extent1].[Maturity_Date] AS [Maturity_Date], 
    [Extent1].[Coupon_Rate] AS [Coupon_Rate], 
    [Extent1].[Price_Exchange] AS [Price_Exchange], 
    [Extent1].[Trade_Currency] AS [Trade_Currency], 
    [Extent1].[Price_Curr] AS [Price_Curr], 
    [Extent1].[Currency_Pair_Code] AS [Currency_Pair_Code], 
    [Extent1].[Share_Class] AS [Share_Class], 
    [Extent1].[Current_Market_Price] AS [Current_Market_Price], 
    [Extent1].[Index_Type] AS [Index_Type], 
    [Extent1].[Clean_Price_Formula] AS [Clean_Price_Formula], 
    [Extent1].[Accrued_Income_Price_Formula] AS [Accrued_Income_Price_Formula], 
    [Extent1].[Odd_First_Coupon_Date] AS [Odd_First_Coupon_Date], 
    [Extent1].[Odd_Last_Coupon_Date] AS [Odd_Last_Coupon_Date], 
    [Extent1].[Coupon_Anniversary_Indicator] AS [Coupon_Anniversary_Indicator], 
    [Extent1].[Track_EOM_Flag] AS [Track_EOM_Flag], 
    [Extent1].[Next_Coupon_Date] AS [Next_Coupon_Date], 
    [Extent1].[Previous_Coupon_Date] AS [Previous_Coupon_Date], 
    [Extent1].[Payment_Frequency] AS [Payment_Frequency], 
    [Extent1].[Coupon_BusDay_Adjustment] AS [Coupon_BusDay_Adjustment], 
    [Extent1].[Next_Ex_Div_Date] AS [Next_Ex_Div_Date], 
    [Extent1].[Ex_Div_BusDay_Adjustment] AS [Ex_Div_BusDay_Adjustment], 
    [Extent1].[Ex_Div_Period] AS [Ex_Div_Period], 
    [Extent1].[Ticker] AS [Ticker], 
    [Extent1].[Inet_ID] AS [Inet_ID], 
    [Extent1].[Bloomberg_ID] AS [Bloomberg_ID], 
    [Extent1].[External_Sec_ID] AS [External_Sec_ID], 
    [Extent1].[Reuters_ID] AS [Reuters_ID], 
    [Extent1].[ISIN] AS [ISIN], 
    [Extent1].[Call_Account_Flag] AS [Call_Account_Flag], 
    [Extent1].[System_Locked] AS [System_Locked], 
    [Extent1].[Last_Update_User] AS [Last_Update_User], 
    [Extent1].[Last_Update_Date] AS [Last_Update_Date], 
    [Extent1].[Security_Status] AS [Security_Status], 
    [Extent1].[Benchmark_Portfolio] AS [Benchmark_Portfolio], 
    [Extent1].[Active_flag] AS [Active_flag], 
    [Extent1].[Dividend_FX_Security_ID] AS [Dividend_FX_Security_ID]
    FROM [dbo].[Security_Detail] AS [Extent1]
    WHERE [Extent1].[Security_ID] = @EntityKeyValue1
2018-04-07 12:29:10.0629|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: SELECT 
    [Project1].[Security_ID] AS [Security_ID], 
    [Project1].[Entity_ID] AS [Entity_ID], 
    [Project1].[Security_Name] AS [Security_Name], 
    [Project1].[Short_Name] AS [Short_Name], 
    [Project1].[Primary_Exch] AS [Primary_Exch], 
    [Project1].[Secondary_Exch] AS [Secondary_Exch], 
    [Project1].[Country_Of_Domicile] AS [Country_Of_Domicile], 
    [Project1].[Country_Of_Risk] AS [Country_Of_Risk], 
    [Project1].[Security_Type_Code] AS [Security_Type_Code], 
    [Project1].[Price_Multiplier] AS [Price_Multiplier], 
    [Project1].[Income_Frequency] AS [Income_Frequency], 
    [Project1].[Issuer_Code] AS [Issuer_Code], 
    [Project1].[Ultimate_Issuer_Code] AS [Ultimate_Issuer_Code], 
    [Project1].[Asset_Currency] AS [Asset_Currency], 
    [Project1].[Min_Lot_Size] AS [Min_Lot_Size], 
    [Project1].[Decimal_Precision] AS [Decimal_Precision], 
    [Project1].[AvePrice_Rounding] AS [AvePrice_Rounding], 
    [Project1].[Issue_Date] AS [Issue_Date], 
    [Project1].[Maturity_Date] AS [Maturity_Date], 
    [Project1].[Coupon_Rate] AS [Coupon_Rate], 
    [Project1].[Price_Exchange] AS [Price_Exchange], 
    [Project1].[Trade_Currency] AS [Trade_Currency], 
    [Project1].[Price_Curr] AS [Price_Curr], 
    [Project1].[Currency_Pair_Code] AS [Currency_Pair_Code], 
    [Project1].[Share_Class] AS [Share_Class], 
    [Project1].[Current_Market_Price] AS [Current_Market_Price], 
    [Project1].[Index_Type] AS [Index_Type], 
    [Project1].[Clean_Price_Formula] AS [Clean_Price_Formula], 
    [Project1].[Accrued_Income_Price_Formula] AS [Accrued_Income_Price_Formula], 
    [Project1].[Odd_First_Coupon_Date] AS [Odd_First_Coupon_Date], 
    [Project1].[Odd_Last_Coupon_Date] AS [Odd_Last_Coupon_Date], 
    [Project1].[Coupon_Anniversary_Indicator] AS [Coupon_Anniversary_Indicator], 
    [Project1].[Track_EOM_Flag] AS [Track_EOM_Flag], 
    [Project1].[Next_Coupon_Date] AS [Next_Coupon_Date], 
    [Project1].[Previous_Coupon_Date] AS [Previous_Coupon_Date], 
    [Project1].[Payment_Frequency] AS [Payment_Frequency], 
    [Project1].[Coupon_BusDay_Adjustment] AS [Coupon_BusDay_Adjustment], 
    [Project1].[Next_Ex_Div_Date] AS [Next_Ex_Div_Date], 
    [Project1].[Ex_Div_BusDay_Adjustment] AS [Ex_Div_BusDay_Adjustment], 
    [Project1].[Ex_Div_Period] AS [Ex_Div_Period], 
    [Project1].[Ticker] AS [Ticker], 
    [Project1].[Inet_ID] AS [Inet_ID], 
    [Project1].[Bloomberg_ID] AS [Bloomberg_ID], 
    [Project1].[External_Sec_ID] AS [External_Sec_ID], 
    [Project1].[Reuters_ID] AS [Reuters_ID], 
    [Project1].[ISIN] AS [ISIN], 
    [Project1].[Call_Account_Flag] AS [Call_Account_Flag], 
    [Project1].[System_Locked] AS [System_Locked], 
    [Project1].[Last_Update_User] AS [Last_Update_User], 
    [Project1].[Last_Update_Date] AS [Last_Update_Date], 
    [Project1].[Security_Status] AS [Security_Status], 
    [Project1].[Benchmark_Portfolio] AS [Benchmark_Portfolio], 
    [Project1].[Active_flag] AS [Active_flag], 
    [Project1].[Dividend_FX_Security_ID] AS [Dividend_FX_Security_ID]
    FROM ( SELECT 
        [Extent1].[Security_ID] AS [Security_ID], 
        [Extent1].[Entity_ID] AS [Entity_ID], 
        [Extent1].[Security_Name] AS [Security_Name], 
        [Extent1].[Short_Name] AS [Short_Name], 
        [Extent1].[Primary_Exch] AS [Primary_Exch], 
        [Extent1].[Secondary_Exch] AS [Secondary_Exch], 
        [Extent1].[Country_Of_Domicile] AS [Country_Of_Domicile], 
        [Extent1].[Country_Of_Risk] AS [Country_Of_Risk], 
        [Extent1].[Security_Type_Code] AS [Security_Type_Code], 
        [Extent1].[Price_Multiplier] AS [Price_Multiplier], 
        [Extent1].[Income_Frequency] AS [Income_Frequency], 
        [Extent1].[Issuer_Code] AS [Issuer_Code], 
        [Extent1].[Ultimate_Issuer_Code] AS [Ultimate_Issuer_Code], 
        [Extent1].[Asset_Currency] AS [Asset_Currency], 
        [Extent1].[Min_Lot_Size] AS [Min_Lot_Size], 
        [Extent1].[Decimal_Precision] AS [Decimal_Precision], 
        [Extent1].[AvePrice_Rounding] AS [AvePrice_Rounding], 
        [Extent1].[Issue_Date] AS [Issue_Date], 
        [Extent1].[Maturity_Date] AS [Maturity_Date], 
        [Extent1].[Coupon_Rate] AS [Coupon_Rate], 
        [Extent1].[Price_Exchange] AS [Price_Exchange], 
        [Extent1].[Trade_Currency] AS [Trade_Currency], 
        [Extent1].[Price_Curr] AS [Price_Curr], 
        [Extent1].[Currency_Pair_Code] AS [Currency_Pair_Code], 
        [Extent1].[Share_Class] AS [Share_Class], 
        [Extent1].[Current_Market_Price] AS [Current_Market_Price], 
        [Extent1].[Index_Type] AS [Index_Type], 
        [Extent1].[Clean_Price_Formula] AS [Clean_Price_Formula], 
        [Extent1].[Accrued_Income_Price_Formula] AS [Accrued_Income_Price_Formula], 
        [Extent1].[Odd_First_Coupon_Date] AS [Odd_First_Coupon_Date], 
        [Extent1].[Odd_Last_Coupon_Date] AS [Odd_Last_Coupon_Date], 
        [Extent1].[Coupon_Anniversary_Indicator] AS [Coupon_Anniversary_Indicator], 
        [Extent1].[Track_EOM_Flag] AS [Track_EOM_Flag], 
        [Extent1].[Next_Coupon_Date] AS [Next_Coupon_Date], 
        [Extent1].[Previous_Coupon_Date] AS [Previous_Coupon_Date], 
        [Extent1].[Payment_Frequency] AS [Payment_Frequency], 
        [Extent1].[Coupon_BusDay_Adjustment] AS [Coupon_BusDay_Adjustment], 
        [Extent1].[Next_Ex_Div_Date] AS [Next_Ex_Div_Date], 
        [Extent1].[Ex_Div_BusDay_Adjustment] AS [Ex_Div_BusDay_Adjustment], 
        [Extent1].[Ex_Div_Period] AS [Ex_Div_Period], 
        [Extent1].[Ticker] AS [Ticker], 
        [Extent1].[Inet_ID] AS [Inet_ID], 
        [Extent1].[Bloomberg_ID] AS [Bloomberg_ID], 
        [Extent1].[External_Sec_ID] AS [External_Sec_ID], 
        [Extent1].[Reuters_ID] AS [Reuters_ID], 
        [Extent1].[ISIN] AS [ISIN], 
        [Extent1].[Call_Account_Flag] AS [Call_Account_Flag], 
        [Extent1].[System_Locked] AS [System_Locked], 
        [Extent1].[Last_Update_User] AS [Last_Update_User], 
        [Extent1].[Last_Update_Date] AS [Last_Update_Date], 
        [Extent1].[Security_Status] AS [Security_Status], 
        [Extent1].[Benchmark_Portfolio] AS [Benchmark_Portfolio], 
        [Extent1].[Active_flag] AS [Active_flag], 
        [Extent1].[Dividend_FX_Security_ID] AS [Dividend_FX_Security_ID]
        FROM [dbo].[Security_Detail] AS [Extent1]
        WHERE ([Extent1].[Entity_ID] IN (@p__linq__0,@p__linq__1)) AND ((CASE WHEN ( NOT ((N'' = @p__linq__2) AND (@p__linq__2 IS NOT NULL))) THEN CASE WHEN ([Extent1].[Security_Type_Code] = @p__linq__3) THEN cast(1 as bit) WHEN ( NOT (([Extent1].[Security_Type_Code] = @p__linq__3) AND (0 = (CASE WHEN (@p__linq__3 IS NULL) THEN cast(1 as bit) ELSE cast(0 as bit) END)))) THEN cast(0 as bit) END WHEN ('' <> [Extent1].[Security_Type_Code]) THEN cast(1 as bit) WHEN ('' = [Extent1].[Security_Type_Code]) THEN cast(0 as bit) END) = 1)
    )  AS [Project1]
    ORDER BY [Project1].[Security_Name] ASC
2018-04-07 12:29:10.1340|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: SELECT 
    [Project1].[Security_ID] AS [Security_ID], 
    [Project1].[Entity_ID] AS [Entity_ID], 
    [Project1].[Security_Name] AS [Security_Name], 
    [Project1].[Short_Name] AS [Short_Name], 
    [Project1].[Primary_Exch] AS [Primary_Exch], 
    [Project1].[Secondary_Exch] AS [Secondary_Exch], 
    [Project1].[Country_Of_Domicile] AS [Country_Of_Domicile], 
    [Project1].[Country_Of_Risk] AS [Country_Of_Risk], 
    [Project1].[Security_Type_Code] AS [Security_Type_Code], 
    [Project1].[Price_Multiplier] AS [Price_Multiplier], 
    [Project1].[Income_Frequency] AS [Income_Frequency], 
    [Project1].[Issuer_Code] AS [Issuer_Code], 
    [Project1].[Ultimate_Issuer_Code] AS [Ultimate_Issuer_Code], 
    [Project1].[Asset_Currency] AS [Asset_Currency], 
    [Project1].[Min_Lot_Size] AS [Min_Lot_Size], 
    [Project1].[Decimal_Precision] AS [Decimal_Precision], 
    [Project1].[AvePrice_Rounding] AS [AvePrice_Rounding], 
    [Project1].[Issue_Date] AS [Issue_Date], 
    [Project1].[Maturity_Date] AS [Maturity_Date], 
    [Project1].[Coupon_Rate] AS [Coupon_Rate], 
    [Project1].[Price_Exchange] AS [Price_Exchange], 
    [Project1].[Trade_Currency] AS [Trade_Currency], 
    [Project1].[Price_Curr] AS [Price_Curr], 
    [Project1].[Currency_Pair_Code] AS [Currency_Pair_Code], 
    [Project1].[Share_Class] AS [Share_Class], 
    [Project1].[Current_Market_Price] AS [Current_Market_Price], 
    [Project1].[Index_Type] AS [Index_Type], 
    [Project1].[Clean_Price_Formula] AS [Clean_Price_Formula], 
    [Project1].[Accrued_Income_Price_Formula] AS [Accrued_Income_Price_Formula], 
    [Project1].[Odd_First_Coupon_Date] AS [Odd_First_Coupon_Date], 
    [Project1].[Odd_Last_Coupon_Date] AS [Odd_Last_Coupon_Date], 
    [Project1].[Coupon_Anniversary_Indicator] AS [Coupon_Anniversary_Indicator], 
    [Project1].[Track_EOM_Flag] AS [Track_EOM_Flag], 
    [Project1].[Next_Coupon_Date] AS [Next_Coupon_Date], 
    [Project1].[Previous_Coupon_Date] AS [Previous_Coupon_Date], 
    [Project1].[Payment_Frequency] AS [Payment_Frequency], 
    [Project1].[Coupon_BusDay_Adjustment] AS [Coupon_BusDay_Adjustment], 
    [Project1].[Next_Ex_Div_Date] AS [Next_Ex_Div_Date], 
    [Project1].[Ex_Div_BusDay_Adjustment] AS [Ex_Div_BusDay_Adjustment], 
    [Project1].[Ex_Div_Period] AS [Ex_Div_Period], 
    [Project1].[Ticker] AS [Ticker], 
    [Project1].[Inet_ID] AS [Inet_ID], 
    [Project1].[Bloomberg_ID] AS [Bloomberg_ID], 
    [Project1].[External_Sec_ID] AS [External_Sec_ID], 
    [Project1].[Reuters_ID] AS [Reuters_ID], 
    [Project1].[ISIN] AS [ISIN], 
    [Project1].[Call_Account_Flag] AS [Call_Account_Flag], 
    [Project1].[System_Locked] AS [System_Locked], 
    [Project1].[Last_Update_User] AS [Last_Update_User], 
    [Project1].[Last_Update_Date] AS [Last_Update_Date], 
    [Project1].[Security_Status] AS [Security_Status], 
    [Project1].[Benchmark_Portfolio] AS [Benchmark_Portfolio], 
    [Project1].[Active_flag] AS [Active_flag], 
    [Project1].[Dividend_FX_Security_ID] AS [Dividend_FX_Security_ID]
    FROM ( SELECT 
        [Extent1].[Security_ID] AS [Security_ID], 
        [Extent1].[Entity_ID] AS [Entity_ID], 
        [Extent1].[Security_Name] AS [Security_Name], 
        [Extent1].[Short_Name] AS [Short_Name], 
        [Extent1].[Primary_Exch] AS [Primary_Exch], 
        [Extent1].[Secondary_Exch] AS [Secondary_Exch], 
        [Extent1].[Country_Of_Domicile] AS [Country_Of_Domicile], 
        [Extent1].[Country_Of_Risk] AS [Country_Of_Risk], 
        [Extent1].[Security_Type_Code] AS [Security_Type_Code], 
        [Extent1].[Price_Multiplier] AS [Price_Multiplier], 
        [Extent1].[Income_Frequency] AS [Income_Frequency], 
        [Extent1].[Issuer_Code] AS [Issuer_Code], 
        [Extent1].[Ultimate_Issuer_Code] AS [Ultimate_Issuer_Code], 
        [Extent1].[Asset_Currency] AS [Asset_Currency], 
        [Extent1].[Min_Lot_Size] AS [Min_Lot_Size], 
        [Extent1].[Decimal_Precision] AS [Decimal_Precision], 
        [Extent1].[AvePrice_Rounding] AS [AvePrice_Rounding], 
        [Extent1].[Issue_Date] AS [Issue_Date], 
        [Extent1].[Maturity_Date] AS [Maturity_Date], 
        [Extent1].[Coupon_Rate] AS [Coupon_Rate], 
        [Extent1].[Price_Exchange] AS [Price_Exchange], 
        [Extent1].[Trade_Currency] AS [Trade_Currency], 
        [Extent1].[Price_Curr] AS [Price_Curr], 
        [Extent1].[Currency_Pair_Code] AS [Currency_Pair_Code], 
        [Extent1].[Share_Class] AS [Share_Class], 
        [Extent1].[Current_Market_Price] AS [Current_Market_Price], 
        [Extent1].[Index_Type] AS [Index_Type], 
        [Extent1].[Clean_Price_Formula] AS [Clean_Price_Formula], 
        [Extent1].[Accrued_Income_Price_Formula] AS [Accrued_Income_Price_Formula], 
        [Extent1].[Odd_First_Coupon_Date] AS [Odd_First_Coupon_Date], 
        [Extent1].[Odd_Last_Coupon_Date] AS [Odd_Last_Coupon_Date], 
        [Extent1].[Coupon_Anniversary_Indicator] AS [Coupon_Anniversary_Indicator], 
        [Extent1].[Track_EOM_Flag] AS [Track_EOM_Flag], 
        [Extent1].[Next_Coupon_Date] AS [Next_Coupon_Date], 
        [Extent1].[Previous_Coupon_Date] AS [Previous_Coupon_Date], 
        [Extent1].[Payment_Frequency] AS [Payment_Frequency], 
        [Extent1].[Coupon_BusDay_Adjustment] AS [Coupon_BusDay_Adjustment], 
        [Extent1].[Next_Ex_Div_Date] AS [Next_Ex_Div_Date], 
        [Extent1].[Ex_Div_BusDay_Adjustment] AS [Ex_Div_BusDay_Adjustment], 
        [Extent1].[Ex_Div_Period] AS [Ex_Div_Period], 
        [Extent1].[Ticker] AS [Ticker], 
        [Extent1].[Inet_ID] AS [Inet_ID], 
        [Extent1].[Bloomberg_ID] AS [Bloomberg_ID], 
        [Extent1].[External_Sec_ID] AS [External_Sec_ID], 
        [Extent1].[Reuters_ID] AS [Reuters_ID], 
        [Extent1].[ISIN] AS [ISIN], 
        [Extent1].[Call_Account_Flag] AS [Call_Account_Flag], 
        [Extent1].[System_Locked] AS [System_Locked], 
        [Extent1].[Last_Update_User] AS [Last_Update_User], 
        [Extent1].[Last_Update_Date] AS [Last_Update_Date], 
        [Extent1].[Security_Status] AS [Security_Status], 
        [Extent1].[Benchmark_Portfolio] AS [Benchmark_Portfolio], 
        [Extent1].[Active_flag] AS [Active_flag], 
        [Extent1].[Dividend_FX_Security_ID] AS [Dividend_FX_Security_ID]
        FROM [dbo].[Security_Detail] AS [Extent1]
        WHERE ([Extent1].[Entity_ID] IN (@p__linq__0,@p__linq__1)) AND ((CASE WHEN ( NOT ((N'' = @p__linq__2) AND (@p__linq__2 IS NOT NULL))) THEN CASE WHEN ([Extent1].[Security_Type_Code] = @p__linq__3) THEN cast(1 as bit) WHEN ( NOT (([Extent1].[Security_Type_Code] = @p__linq__3) AND (0 = (CASE WHEN (@p__linq__3 IS NULL) THEN cast(1 as bit) ELSE cast(0 as bit) END)))) THEN cast(0 as bit) END WHEN ('' <> [Extent1].[Security_Type_Code]) THEN cast(1 as bit) WHEN ('' = [Extent1].[Security_Type_Code]) THEN cast(0 as bit) END) = 1)
    )  AS [Project1]
    ORDER BY [Project1].[Security_Name] ASC
2018-04-07 12:29:10.3446|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: IF db_id(N'MetopeAzureDb') IS NOT NULL SELECT 1 ELSE SELECT Count(*) FROM sys.databases WHERE [name]=N'MetopeAzureDb'
2018-04-07 12:29:10.3706|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: IF db_id(N'MetopeAzureDb') IS NOT NULL SELECT 1 ELSE SELECT Count(*) FROM sys.databases WHERE [name]=N'MetopeAzureDb'
2018-04-07 12:29:10.3982|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: IF db_id(N'MetopeAzureDb') IS NOT NULL SELECT 1 ELSE SELECT Count(*) FROM sys.databases WHERE [name]=N'MetopeAzureDb'
2018-04-07 12:29:10.4262|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: IF db_id(N'MetopeAzureDb') IS NOT NULL SELECT 1 ELSE SELECT Count(*) FROM sys.databases WHERE [name]=N'MetopeAzureDb'
2018-04-07 12:29:21.5856|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: SELECT 
    [Project1].[Decimal_Precision] AS [Decimal_Precision], 
    [Project1].[Security_ID] AS [Security_ID], 
    [Project1].[Portfolio_Code] AS [Portfolio_Code], 
    [Project1].[Entity_ID] AS [Entity_ID], 
    [Project1].[Excess_Weight_Quarterly] AS [Excess_Weight_Quarterly], 
    [Project1].[Relative_Contribution_Quarterly] AS [Relative_Contribution_Quarterly], 
    [Project1].[Allocation_Selection_Interaction_Quarterly] AS [Allocation_Selection_Interaction_Quarterly], 
    [Project1].[StockVs_TotBenchmarkReturn_Quarterly] AS [StockVs_TotBenchmarkReturn_Quarterly], 
    [Project1].[Selection_Interaction_Quarterly] AS [Selection_Interaction_Quarterly], 
    [Project1].[Asset_Allocation_Quarterly] AS [Asset_Allocation_Quarterly], 
    [Project1].[Excess_Weight_Monthly] AS [Excess_Weight_Monthly], 
    [Project1].[Relative_Contribution_Monthly] AS [Relative_Contribution_Monthly], 
    [Project1].[Allocation_Selection_Interaction_Monthly] AS [Allocation_Selection_Interaction_Monthly], 
    [Project1].[StockVs_TotBenchmarkReturn_Monthly] AS [StockVs_TotBenchmarkReturn_Monthly], 
    [Project1].[Selection_Interaction_Monthly] AS [Selection_Interaction_Monthly], 
    [Project1].[Asset_Allocation_Monthly] AS [Asset_Allocation_Monthly], 
    [Project1].[Excess_Weight_MonthToDate] AS [Excess_Weight_MonthToDate], 
    [Project1].[Relative_Contribution_MonthToDate] AS [Relative_Contribution_MonthToDate], 
    [Project1].[Allocation_Selection_Interaction_MonthToDate] AS [Allocation_Selection_Interaction_MonthToDate], 
    [Project1].[StockVs_TotBenchmarkReturn_MonthToDate] AS [StockVs_TotBenchmarkReturn_MonthToDate], 
    [Project1].[Selection_Interaction_MonthToDate] AS [Selection_Interaction_MonthToDate], 
    [Project1].[Asset_Allocation_MonthToDate] AS [Asset_Allocation_MonthToDate], 
    [Project1].[Last_Update_Date] AS [Last_Update_Date], 
    [Project1].[Last_Update_User] AS [Last_Update_User], 
    [Project1].[Security_Weight_Portfolio_Monthly] AS [Security_Weight_Portfolio_Monthly], 
    [Project1].[Security_Weight_Portfolio_MonthToDate] AS [Security_Weight_Portfolio_MonthToDate], 
    [Project1].[Security_Weight_Portfolio_Quarterly] AS [Security_Weight_Portfolio_Quarterly], 
    [Project1].[Security_Weight_Benchmark_Monthly] AS [Security_Weight_Benchmark_Monthly], 
    [Project1].[Security_Weight_Benchmark_MonthToDate] AS [Security_Weight_Benchmark_MonthToDate], 
    [Project1].[Security_Weight_Benchmark_Quarterly] AS [Security_Weight_Benchmark_Quarterly], 
    [Project1].[Total_Return_Security_Price_Monthly] AS [Total_Return_Security_Price_Monthly], 
    [Project1].[Total_Return_Security_Price_MonthToDate] AS [Total_Return_Security_Price_MonthToDate], 
    [Project1].[Total_Return_Security_Price_Quarterly] AS [Total_Return_Security_Price_Quarterly], 
    [Project1].[TW_Return_Portfolio_Monthly] AS [TW_Return_Portfolio_Monthly], 
    [Project1].[TW_Return_Portfolio_MonthToDate] AS [TW_Return_Portfolio_MonthToDate], 
    [Project1].[TW_Return_Portfolio_Quarterly] AS [TW_Return_Portfolio_Quarterly], 
    [Project1].[Record_Date] AS [Record_Date], 
    [Project1].[Session_ID] AS [Session_ID], 
    [Project1].[Hist_Last_Update_Date] AS [Hist_Last_Update_Date], 
    [Project1].[Hist_Last_Update_User] AS [Hist_Last_Update_User], 
    [Project1].[Benchmark_Price_Performance_Monthly] AS [Benchmark_Price_Performance_Monthly], 
    [Project1].[Benchmark_Price_Performance_MonthToDate] AS [Benchmark_Price_Performance_MonthToDate], 
    [Project1].[Benchmark_Price_Performance_Quarterly] AS [Benchmark_Price_Performance_Quarterly], 
    [Project1].[Security_ID1] AS [Security_ID1], 
    [Project1].[Entity_ID1] AS [Entity_ID1], 
    [Project1].[Security_Name] AS [Security_Name], 
    [Project1].[Short_Name] AS [Short_Name], 
    [Project1].[Primary_Exch] AS [Primary_Exch], 
    [Project1].[Secondary_Exch] AS [Secondary_Exch], 
    [Project1].[Country_Of_Domicile] AS [Country_Of_Domicile], 
    [Project1].[Country_Of_Risk] AS [Country_Of_Risk], 
    [Project1].[Security_Type_Code] AS [Security_Type_Code], 
    [Project1].[Price_Multiplier] AS [Price_Multiplier], 
    [Project1].[Income_Frequency] AS [Income_Frequency], 
    [Project1].[Issuer_Code] AS [Issuer_Code], 
    [Project1].[Ultimate_Issuer_Code] AS [Ultimate_Issuer_Code], 
    [Project1].[Asset_Currency] AS [Asset_Currency], 
    [Project1].[Min_Lot_Size] AS [Min_Lot_Size], 
    [Project1].[AvePrice_Rounding] AS [AvePrice_Rounding], 
    [Project1].[Issue_Date] AS [Issue_Date], 
    [Project1].[Maturity_Date] AS [Maturity_Date], 
    [Project1].[Coupon_Rate] AS [Coupon_Rate], 
    [Project1].[Price_Exchange] AS [Price_Exchange], 
    [Project1].[Trade_Currency] AS [Trade_Currency], 
    [Project1].[Price_Curr] AS [Price_Curr], 
    [Project1].[Currency_Pair_Code] AS [Currency_Pair_Code], 
    [Project1].[Share_Class] AS [Share_Class], 
    [Project1].[Current_Market_Price] AS [Current_Market_Price], 
    [Project1].[Index_Type] AS [Index_Type], 
    [Project1].[Clean_Price_Formula] AS [Clean_Price_Formula], 
    [Project1].[Accrued_Income_Price_Formula] AS [Accrued_Income_Price_Formula], 
    [Project1].[Odd_First_Coupon_Date] AS [Odd_First_Coupon_Date], 
    [Project1].[Odd_Last_Coupon_Date] AS [Odd_Last_Coupon_Date], 
    [Project1].[Coupon_Anniversary_Indicator] AS [Coupon_Anniversary_Indicator], 
    [Project1].[Track_EOM_Flag] AS [Track_EOM_Flag], 
    [Project1].[Next_Coupon_Date] AS [Next_Coupon_Date], 
    [Project1].[Previous_Coupon_Date] AS [Previous_Coupon_Date], 
    [Project1].[Payment_Frequency] AS [Payment_Frequency], 
    [Project1].[Coupon_BusDay_Adjustment] AS [Coupon_BusDay_Adjustment], 
    [Project1].[Next_Ex_Div_Date] AS [Next_Ex_Div_Date], 
    [Project1].[Ex_Div_BusDay_Adjustment] AS [Ex_Div_BusDay_Adjustment], 
    [Project1].[Ex_Div_Period] AS [Ex_Div_Period], 
    [Project1].[Ticker] AS [Ticker], 
    [Project1].[Inet_ID] AS [Inet_ID], 
    [Project1].[Bloomberg_ID] AS [Bloomberg_ID], 
    [Project1].[External_Sec_ID] AS [External_Sec_ID], 
    [Project1].[Reuters_ID] AS [Reuters_ID], 
    [Project1].[ISIN] AS [ISIN], 
    [Project1].[Call_Account_Flag] AS [Call_Account_Flag], 
    [Project1].[System_Locked] AS [System_Locked], 
    [Project1].[Last_Update_User1] AS [Last_Update_User1], 
    [Project1].[Last_Update_Date1] AS [Last_Update_Date1], 
    [Project1].[Security_Status] AS [Security_Status], 
    [Project1].[Benchmark_Portfolio] AS [Benchmark_Portfolio], 
    [Project1].[Active_flag] AS [Active_flag], 
    [Project1].[Dividend_FX_Security_ID] AS [Dividend_FX_Security_ID]
    FROM ( SELECT 
        [Extent1].[Security_ID] AS [Security_ID], 
        [Extent1].[Portfolio_Code] AS [Portfolio_Code], 
        [Extent1].[Entity_ID] AS [Entity_ID], 
        [Extent1].[Excess_Weight_Quarterly] AS [Excess_Weight_Quarterly], 
        [Extent1].[Relative_Contribution_Quarterly] AS [Relative_Contribution_Quarterly], 
        [Extent1].[Allocation_Selection_Interaction_Quarterly] AS [Allocation_Selection_Interaction_Quarterly], 
        [Extent1].[StockVs_TotBenchmarkReturn_Quarterly] AS [StockVs_TotBenchmarkReturn_Quarterly], 
        [Extent1].[Selection_Interaction_Quarterly] AS [Selection_Interaction_Quarterly], 
        [Extent1].[Asset_Allocation_Quarterly] AS [Asset_Allocation_Quarterly], 
        [Extent1].[Excess_Weight_Monthly] AS [Excess_Weight_Monthly], 
        [Extent1].[Relative_Contribution_Monthly] AS [Relative_Contribution_Monthly], 
        [Extent1].[Allocation_Selection_Interaction_Monthly] AS [Allocation_Selection_Interaction_Monthly], 
        [Extent1].[StockVs_TotBenchmarkReturn_Monthly] AS [StockVs_TotBenchmarkReturn_Monthly], 
        [Extent1].[Selection_Interaction_Monthly] AS [Selection_Interaction_Monthly], 
        [Extent1].[Asset_Allocation_Monthly] AS [Asset_Allocation_Monthly], 
        [Extent1].[Excess_Weight_MonthToDate] AS [Excess_Weight_MonthToDate], 
        [Extent1].[Relative_Contribution_MonthToDate] AS [Relative_Contribution_MonthToDate], 
        [Extent1].[Allocation_Selection_Interaction_MonthToDate] AS [Allocation_Selection_Interaction_MonthToDate], 
        [Extent1].[StockVs_TotBenchmarkReturn_MonthToDate] AS [StockVs_TotBenchmarkReturn_MonthToDate], 
        [Extent1].[Selection_Interaction_MonthToDate] AS [Selection_Interaction_MonthToDate], 
        [Extent1].[Asset_Allocation_MonthToDate] AS [Asset_Allocation_MonthToDate], 
        [Extent1].[Last_Update_Date] AS [Last_Update_Date], 
        [Extent1].[Last_Update_User] AS [Last_Update_User], 
        [Extent1].[Security_Weight_Portfolio_Monthly] AS [Security_Weight_Portfolio_Monthly], 
        [Extent1].[Security_Weight_Portfolio_MonthToDate] AS [Security_Weight_Portfolio_MonthToDate], 
        [Extent1].[Security_Weight_Portfolio_Quarterly] AS [Security_Weight_Portfolio_Quarterly], 
        [Extent1].[Security_Weight_Benchmark_Monthly] AS [Security_Weight_Benchmark_Monthly], 
        [Extent1].[Security_Weight_Benchmark_MonthToDate] AS [Security_Weight_Benchmark_MonthToDate], 
        [Extent1].[Security_Weight_Benchmark_Quarterly] AS [Security_Weight_Benchmark_Quarterly], 
        [Extent1].[Total_Return_Security_Price_Monthly] AS [Total_Return_Security_Price_Monthly], 
        [Extent1].[Total_Return_Security_Price_MonthToDate] AS [Total_Return_Security_Price_MonthToDate], 
        [Extent1].[Total_Return_Security_Price_Quarterly] AS [Total_Return_Security_Price_Quarterly], 
        [Extent1].[TW_Return_Portfolio_Monthly] AS [TW_Return_Portfolio_Monthly], 
        [Extent1].[TW_Return_Portfolio_MonthToDate] AS [TW_Return_Portfolio_MonthToDate], 
        [Extent1].[TW_Return_Portfolio_Quarterly] AS [TW_Return_Portfolio_Quarterly], 
        [Extent1].[Record_Date] AS [Record_Date], 
        [Extent1].[Session_ID] AS [Session_ID], 
        [Extent1].[Hist_Last_Update_Date] AS [Hist_Last_Update_Date], 
        [Extent1].[Hist_Last_Update_User] AS [Hist_Last_Update_User], 
        [Extent1].[Benchmark_Price_Performance_Monthly] AS [Benchmark_Price_Performance_Monthly], 
        [Extent1].[Benchmark_Price_Performance_MonthToDate] AS [Benchmark_Price_Performance_MonthToDate], 
        [Extent1].[Benchmark_Price_Performance_Quarterly] AS [Benchmark_Price_Performance_Quarterly], 
        [Extent2].[Security_ID] AS [Security_ID1], 
        [Extent2].[Entity_ID] AS [Entity_ID1], 
        [Extent2].[Security_Name] AS [Security_Name], 
        [Extent2].[Short_Name] AS [Short_Name], 
        [Extent2].[Primary_Exch] AS [Primary_Exch], 
        [Extent2].[Secondary_Exch] AS [Secondary_Exch], 
        [Extent2].[Country_Of_Domicile] AS [Country_Of_Domicile], 
        [Extent2].[Country_Of_Risk] AS [Country_Of_Risk], 
        [Extent2].[Security_Type_Code] AS [Security_Type_Code], 
        [Extent2].[Price_Multiplier] AS [Price_Multiplier], 
        [Extent2].[Income_Frequency] AS [Income_Frequency], 
        [Extent2].[Issuer_Code] AS [Issuer_Code], 
        [Extent2].[Ultimate_Issuer_Code] AS [Ultimate_Issuer_Code], 
        [Extent2].[Asset_Currency] AS [Asset_Currency], 
        [Extent2].[Min_Lot_Size] AS [Min_Lot_Size], 
        [Extent2].[Decimal_Precision] AS [Decimal_Precision], 
        [Extent2].[AvePrice_Rounding] AS [AvePrice_Rounding], 
        [Extent2].[Issue_Date] AS [Issue_Date], 
        [Extent2].[Maturity_Date] AS [Maturity_Date], 
        [Extent2].[Coupon_Rate] AS [Coupon_Rate], 
        [Extent2].[Price_Exchange] AS [Price_Exchange], 
        [Extent2].[Trade_Currency] AS [Trade_Currency], 
        [Extent2].[Price_Curr] AS [Price_Curr], 
        [Extent2].[Currency_Pair_Code] AS [Currency_Pair_Code], 
        [Extent2].[Share_Class] AS [Share_Class], 
        [Extent2].[Current_Market_Price] AS [Current_Market_Price], 
        [Extent2].[Index_Type] AS [Index_Type], 
        [Extent2].[Clean_Price_Formula] AS [Clean_Price_Formula], 
        [Extent2].[Accrued_Income_Price_Formula] AS [Accrued_Income_Price_Formula], 
        [Extent2].[Odd_First_Coupon_Date] AS [Odd_First_Coupon_Date], 
        [Extent2].[Odd_Last_Coupon_Date] AS [Odd_Last_Coupon_Date], 
        [Extent2].[Coupon_Anniversary_Indicator] AS [Coupon_Anniversary_Indicator], 
        [Extent2].[Track_EOM_Flag] AS [Track_EOM_Flag], 
        [Extent2].[Next_Coupon_Date] AS [Next_Coupon_Date], 
        [Extent2].[Previous_Coupon_Date] AS [Previous_Coupon_Date], 
        [Extent2].[Payment_Frequency] AS [Payment_Frequency], 
        [Extent2].[Coupon_BusDay_Adjustment] AS [Coupon_BusDay_Adjustment], 
        [Extent2].[Next_Ex_Div_Date] AS [Next_Ex_Div_Date], 
        [Extent2].[Ex_Div_BusDay_Adjustment] AS [Ex_Div_BusDay_Adjustment], 
        [Extent2].[Ex_Div_Period] AS [Ex_Div_Period], 
        [Extent2].[Ticker] AS [Ticker], 
        [Extent2].[Inet_ID] AS [Inet_ID], 
        [Extent2].[Bloomberg_ID] AS [Bloomberg_ID], 
        [Extent2].[External_Sec_ID] AS [External_Sec_ID], 
        [Extent2].[Reuters_ID] AS [Reuters_ID], 
        [Extent2].[ISIN] AS [ISIN], 
        [Extent2].[Call_Account_Flag] AS [Call_Account_Flag], 
        [Extent2].[System_Locked] AS [System_Locked], 
        [Extent2].[Last_Update_User] AS [Last_Update_User1], 
        [Extent2].[Last_Update_Date] AS [Last_Update_Date1], 
        [Extent2].[Security_Status] AS [Security_Status], 
        [Extent2].[Benchmark_Portfolio] AS [Benchmark_Portfolio], 
        [Extent2].[Active_flag] AS [Active_flag], 
        [Extent2].[Dividend_FX_Security_ID] AS [Dividend_FX_Security_ID]
        FROM  [dbo].[Security_Attribution_History] AS [Extent1]
        INNER JOIN [dbo].[Security_Detail] AS [Extent2] ON [Extent1].[Security_ID] = [Extent2].[Security_ID]
        WHERE ([Extent1].[Security_ID] = @p__linq__0) AND ([Extent1].[Portfolio_Code] = @p__linq__1)
    )  AS [Project1]
    ORDER BY [Project1].[Record_Date] DESC
2018-04-07 12:29:21.6552|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: SELECT 
    [Project1].[Decimal_Precision] AS [Decimal_Precision], 
    [Project1].[Security_ID] AS [Security_ID], 
    [Project1].[Portfolio_Code] AS [Portfolio_Code], 
    [Project1].[Entity_ID] AS [Entity_ID], 
    [Project1].[Excess_Weight_Quarterly] AS [Excess_Weight_Quarterly], 
    [Project1].[Relative_Contribution_Quarterly] AS [Relative_Contribution_Quarterly], 
    [Project1].[Allocation_Selection_Interaction_Quarterly] AS [Allocation_Selection_Interaction_Quarterly], 
    [Project1].[StockVs_TotBenchmarkReturn_Quarterly] AS [StockVs_TotBenchmarkReturn_Quarterly], 
    [Project1].[Selection_Interaction_Quarterly] AS [Selection_Interaction_Quarterly], 
    [Project1].[Asset_Allocation_Quarterly] AS [Asset_Allocation_Quarterly], 
    [Project1].[Excess_Weight_Monthly] AS [Excess_Weight_Monthly], 
    [Project1].[Relative_Contribution_Monthly] AS [Relative_Contribution_Monthly], 
    [Project1].[Allocation_Selection_Interaction_Monthly] AS [Allocation_Selection_Interaction_Monthly], 
    [Project1].[StockVs_TotBenchmarkReturn_Monthly] AS [StockVs_TotBenchmarkReturn_Monthly], 
    [Project1].[Selection_Interaction_Monthly] AS [Selection_Interaction_Monthly], 
    [Project1].[Asset_Allocation_Monthly] AS [Asset_Allocation_Monthly], 
    [Project1].[Excess_Weight_MonthToDate] AS [Excess_Weight_MonthToDate], 
    [Project1].[Relative_Contribution_MonthToDate] AS [Relative_Contribution_MonthToDate], 
    [Project1].[Allocation_Selection_Interaction_MonthToDate] AS [Allocation_Selection_Interaction_MonthToDate], 
    [Project1].[StockVs_TotBenchmarkReturn_MonthToDate] AS [StockVs_TotBenchmarkReturn_MonthToDate], 
    [Project1].[Selection_Interaction_MonthToDate] AS [Selection_Interaction_MonthToDate], 
    [Project1].[Asset_Allocation_MonthToDate] AS [Asset_Allocation_MonthToDate], 
    [Project1].[Last_Update_Date] AS [Last_Update_Date], 
    [Project1].[Last_Update_User] AS [Last_Update_User], 
    [Project1].[Security_Weight_Portfolio_Monthly] AS [Security_Weight_Portfolio_Monthly], 
    [Project1].[Security_Weight_Portfolio_MonthToDate] AS [Security_Weight_Portfolio_MonthToDate], 
    [Project1].[Security_Weight_Portfolio_Quarterly] AS [Security_Weight_Portfolio_Quarterly], 
    [Project1].[Security_Weight_Benchmark_Monthly] AS [Security_Weight_Benchmark_Monthly], 
    [Project1].[Security_Weight_Benchmark_MonthToDate] AS [Security_Weight_Benchmark_MonthToDate], 
    [Project1].[Security_Weight_Benchmark_Quarterly] AS [Security_Weight_Benchmark_Quarterly], 
    [Project1].[Total_Return_Security_Price_Monthly] AS [Total_Return_Security_Price_Monthly], 
    [Project1].[Total_Return_Security_Price_MonthToDate] AS [Total_Return_Security_Price_MonthToDate], 
    [Project1].[Total_Return_Security_Price_Quarterly] AS [Total_Return_Security_Price_Quarterly], 
    [Project1].[TW_Return_Portfolio_Monthly] AS [TW_Return_Portfolio_Monthly], 
    [Project1].[TW_Return_Portfolio_MonthToDate] AS [TW_Return_Portfolio_MonthToDate], 
    [Project1].[TW_Return_Portfolio_Quarterly] AS [TW_Return_Portfolio_Quarterly], 
    [Project1].[Record_Date] AS [Record_Date], 
    [Project1].[Session_ID] AS [Session_ID], 
    [Project1].[Hist_Last_Update_Date] AS [Hist_Last_Update_Date], 
    [Project1].[Hist_Last_Update_User] AS [Hist_Last_Update_User], 
    [Project1].[Benchmark_Price_Performance_Monthly] AS [Benchmark_Price_Performance_Monthly], 
    [Project1].[Benchmark_Price_Performance_MonthToDate] AS [Benchmark_Price_Performance_MonthToDate], 
    [Project1].[Benchmark_Price_Performance_Quarterly] AS [Benchmark_Price_Performance_Quarterly], 
    [Project1].[Security_ID1] AS [Security_ID1], 
    [Project1].[Entity_ID1] AS [Entity_ID1], 
    [Project1].[Security_Name] AS [Security_Name], 
    [Project1].[Short_Name] AS [Short_Name], 
    [Project1].[Primary_Exch] AS [Primary_Exch], 
    [Project1].[Secondary_Exch] AS [Secondary_Exch], 
    [Project1].[Country_Of_Domicile] AS [Country_Of_Domicile], 
    [Project1].[Country_Of_Risk] AS [Country_Of_Risk], 
    [Project1].[Security_Type_Code] AS [Security_Type_Code], 
    [Project1].[Price_Multiplier] AS [Price_Multiplier], 
    [Project1].[Income_Frequency] AS [Income_Frequency], 
    [Project1].[Issuer_Code] AS [Issuer_Code], 
    [Project1].[Ultimate_Issuer_Code] AS [Ultimate_Issuer_Code], 
    [Project1].[Asset_Currency] AS [Asset_Currency], 
    [Project1].[Min_Lot_Size] AS [Min_Lot_Size], 
    [Project1].[AvePrice_Rounding] AS [AvePrice_Rounding], 
    [Project1].[Issue_Date] AS [Issue_Date], 
    [Project1].[Maturity_Date] AS [Maturity_Date], 
    [Project1].[Coupon_Rate] AS [Coupon_Rate], 
    [Project1].[Price_Exchange] AS [Price_Exchange], 
    [Project1].[Trade_Currency] AS [Trade_Currency], 
    [Project1].[Price_Curr] AS [Price_Curr], 
    [Project1].[Currency_Pair_Code] AS [Currency_Pair_Code], 
    [Project1].[Share_Class] AS [Share_Class], 
    [Project1].[Current_Market_Price] AS [Current_Market_Price], 
    [Project1].[Index_Type] AS [Index_Type], 
    [Project1].[Clean_Price_Formula] AS [Clean_Price_Formula], 
    [Project1].[Accrued_Income_Price_Formula] AS [Accrued_Income_Price_Formula], 
    [Project1].[Odd_First_Coupon_Date] AS [Odd_First_Coupon_Date], 
    [Project1].[Odd_Last_Coupon_Date] AS [Odd_Last_Coupon_Date], 
    [Project1].[Coupon_Anniversary_Indicator] AS [Coupon_Anniversary_Indicator], 
    [Project1].[Track_EOM_Flag] AS [Track_EOM_Flag], 
    [Project1].[Next_Coupon_Date] AS [Next_Coupon_Date], 
    [Project1].[Previous_Coupon_Date] AS [Previous_Coupon_Date], 
    [Project1].[Payment_Frequency] AS [Payment_Frequency], 
    [Project1].[Coupon_BusDay_Adjustment] AS [Coupon_BusDay_Adjustment], 
    [Project1].[Next_Ex_Div_Date] AS [Next_Ex_Div_Date], 
    [Project1].[Ex_Div_BusDay_Adjustment] AS [Ex_Div_BusDay_Adjustment], 
    [Project1].[Ex_Div_Period] AS [Ex_Div_Period], 
    [Project1].[Ticker] AS [Ticker], 
    [Project1].[Inet_ID] AS [Inet_ID], 
    [Project1].[Bloomberg_ID] AS [Bloomberg_ID], 
    [Project1].[External_Sec_ID] AS [External_Sec_ID], 
    [Project1].[Reuters_ID] AS [Reuters_ID], 
    [Project1].[ISIN] AS [ISIN], 
    [Project1].[Call_Account_Flag] AS [Call_Account_Flag], 
    [Project1].[System_Locked] AS [System_Locked], 
    [Project1].[Last_Update_User1] AS [Last_Update_User1], 
    [Project1].[Last_Update_Date1] AS [Last_Update_Date1], 
    [Project1].[Security_Status] AS [Security_Status], 
    [Project1].[Benchmark_Portfolio] AS [Benchmark_Portfolio], 
    [Project1].[Active_flag] AS [Active_flag], 
    [Project1].[Dividend_FX_Security_ID] AS [Dividend_FX_Security_ID]
    FROM ( SELECT 
        [Extent1].[Security_ID] AS [Security_ID], 
        [Extent1].[Portfolio_Code] AS [Portfolio_Code], 
        [Extent1].[Entity_ID] AS [Entity_ID], 
        [Extent1].[Excess_Weight_Quarterly] AS [Excess_Weight_Quarterly], 
        [Extent1].[Relative_Contribution_Quarterly] AS [Relative_Contribution_Quarterly], 
        [Extent1].[Allocation_Selection_Interaction_Quarterly] AS [Allocation_Selection_Interaction_Quarterly], 
        [Extent1].[StockVs_TotBenchmarkReturn_Quarterly] AS [StockVs_TotBenchmarkReturn_Quarterly], 
        [Extent1].[Selection_Interaction_Quarterly] AS [Selection_Interaction_Quarterly], 
        [Extent1].[Asset_Allocation_Quarterly] AS [Asset_Allocation_Quarterly], 
        [Extent1].[Excess_Weight_Monthly] AS [Excess_Weight_Monthly], 
        [Extent1].[Relative_Contribution_Monthly] AS [Relative_Contribution_Monthly], 
        [Extent1].[Allocation_Selection_Interaction_Monthly] AS [Allocation_Selection_Interaction_Monthly], 
        [Extent1].[StockVs_TotBenchmarkReturn_Monthly] AS [StockVs_TotBenchmarkReturn_Monthly], 
        [Extent1].[Selection_Interaction_Monthly] AS [Selection_Interaction_Monthly], 
        [Extent1].[Asset_Allocation_Monthly] AS [Asset_Allocation_Monthly], 
        [Extent1].[Excess_Weight_MonthToDate] AS [Excess_Weight_MonthToDate], 
        [Extent1].[Relative_Contribution_MonthToDate] AS [Relative_Contribution_MonthToDate], 
        [Extent1].[Allocation_Selection_Interaction_MonthToDate] AS [Allocation_Selection_Interaction_MonthToDate], 
        [Extent1].[StockVs_TotBenchmarkReturn_MonthToDate] AS [StockVs_TotBenchmarkReturn_MonthToDate], 
        [Extent1].[Selection_Interaction_MonthToDate] AS [Selection_Interaction_MonthToDate], 
        [Extent1].[Asset_Allocation_MonthToDate] AS [Asset_Allocation_MonthToDate], 
        [Extent1].[Last_Update_Date] AS [Last_Update_Date], 
        [Extent1].[Last_Update_User] AS [Last_Update_User], 
        [Extent1].[Security_Weight_Portfolio_Monthly] AS [Security_Weight_Portfolio_Monthly], 
        [Extent1].[Security_Weight_Portfolio_MonthToDate] AS [Security_Weight_Portfolio_MonthToDate], 
        [Extent1].[Security_Weight_Portfolio_Quarterly] AS [Security_Weight_Portfolio_Quarterly], 
        [Extent1].[Security_Weight_Benchmark_Monthly] AS [Security_Weight_Benchmark_Monthly], 
        [Extent1].[Security_Weight_Benchmark_MonthToDate] AS [Security_Weight_Benchmark_MonthToDate], 
        [Extent1].[Security_Weight_Benchmark_Quarterly] AS [Security_Weight_Benchmark_Quarterly], 
        [Extent1].[Total_Return_Security_Price_Monthly] AS [Total_Return_Security_Price_Monthly], 
        [Extent1].[Total_Return_Security_Price_MonthToDate] AS [Total_Return_Security_Price_MonthToDate], 
        [Extent1].[Total_Return_Security_Price_Quarterly] AS [Total_Return_Security_Price_Quarterly], 
        [Extent1].[TW_Return_Portfolio_Monthly] AS [TW_Return_Portfolio_Monthly], 
        [Extent1].[TW_Return_Portfolio_MonthToDate] AS [TW_Return_Portfolio_MonthToDate], 
        [Extent1].[TW_Return_Portfolio_Quarterly] AS [TW_Return_Portfolio_Quarterly], 
        [Extent1].[Record_Date] AS [Record_Date], 
        [Extent1].[Session_ID] AS [Session_ID], 
        [Extent1].[Hist_Last_Update_Date] AS [Hist_Last_Update_Date], 
        [Extent1].[Hist_Last_Update_User] AS [Hist_Last_Update_User], 
        [Extent1].[Benchmark_Price_Performance_Monthly] AS [Benchmark_Price_Performance_Monthly], 
        [Extent1].[Benchmark_Price_Performance_MonthToDate] AS [Benchmark_Price_Performance_MonthToDate], 
        [Extent1].[Benchmark_Price_Performance_Quarterly] AS [Benchmark_Price_Performance_Quarterly], 
        [Extent2].[Security_ID] AS [Security_ID1], 
        [Extent2].[Entity_ID] AS [Entity_ID1], 
        [Extent2].[Security_Name] AS [Security_Name], 
        [Extent2].[Short_Name] AS [Short_Name], 
        [Extent2].[Primary_Exch] AS [Primary_Exch], 
        [Extent2].[Secondary_Exch] AS [Secondary_Exch], 
        [Extent2].[Country_Of_Domicile] AS [Country_Of_Domicile], 
        [Extent2].[Country_Of_Risk] AS [Country_Of_Risk], 
        [Extent2].[Security_Type_Code] AS [Security_Type_Code], 
        [Extent2].[Price_Multiplier] AS [Price_Multiplier], 
        [Extent2].[Income_Frequency] AS [Income_Frequency], 
        [Extent2].[Issuer_Code] AS [Issuer_Code], 
        [Extent2].[Ultimate_Issuer_Code] AS [Ultimate_Issuer_Code], 
        [Extent2].[Asset_Currency] AS [Asset_Currency], 
        [Extent2].[Min_Lot_Size] AS [Min_Lot_Size], 
        [Extent2].[Decimal_Precision] AS [Decimal_Precision], 
        [Extent2].[AvePrice_Rounding] AS [AvePrice_Rounding], 
        [Extent2].[Issue_Date] AS [Issue_Date], 
        [Extent2].[Maturity_Date] AS [Maturity_Date], 
        [Extent2].[Coupon_Rate] AS [Coupon_Rate], 
        [Extent2].[Price_Exchange] AS [Price_Exchange], 
        [Extent2].[Trade_Currency] AS [Trade_Currency], 
        [Extent2].[Price_Curr] AS [Price_Curr], 
        [Extent2].[Currency_Pair_Code] AS [Currency_Pair_Code], 
        [Extent2].[Share_Class] AS [Share_Class], 
        [Extent2].[Current_Market_Price] AS [Current_Market_Price], 
        [Extent2].[Index_Type] AS [Index_Type], 
        [Extent2].[Clean_Price_Formula] AS [Clean_Price_Formula], 
        [Extent2].[Accrued_Income_Price_Formula] AS [Accrued_Income_Price_Formula], 
        [Extent2].[Odd_First_Coupon_Date] AS [Odd_First_Coupon_Date], 
        [Extent2].[Odd_Last_Coupon_Date] AS [Odd_Last_Coupon_Date], 
        [Extent2].[Coupon_Anniversary_Indicator] AS [Coupon_Anniversary_Indicator], 
        [Extent2].[Track_EOM_Flag] AS [Track_EOM_Flag], 
        [Extent2].[Next_Coupon_Date] AS [Next_Coupon_Date], 
        [Extent2].[Previous_Coupon_Date] AS [Previous_Coupon_Date], 
        [Extent2].[Payment_Frequency] AS [Payment_Frequency], 
        [Extent2].[Coupon_BusDay_Adjustment] AS [Coupon_BusDay_Adjustment], 
        [Extent2].[Next_Ex_Div_Date] AS [Next_Ex_Div_Date], 
        [Extent2].[Ex_Div_BusDay_Adjustment] AS [Ex_Div_BusDay_Adjustment], 
        [Extent2].[Ex_Div_Period] AS [Ex_Div_Period], 
        [Extent2].[Ticker] AS [Ticker], 
        [Extent2].[Inet_ID] AS [Inet_ID], 
        [Extent2].[Bloomberg_ID] AS [Bloomberg_ID], 
        [Extent2].[External_Sec_ID] AS [External_Sec_ID], 
        [Extent2].[Reuters_ID] AS [Reuters_ID], 
        [Extent2].[ISIN] AS [ISIN], 
        [Extent2].[Call_Account_Flag] AS [Call_Account_Flag], 
        [Extent2].[System_Locked] AS [System_Locked], 
        [Extent2].[Last_Update_User] AS [Last_Update_User1], 
        [Extent2].[Last_Update_Date] AS [Last_Update_Date1], 
        [Extent2].[Security_Status] AS [Security_Status], 
        [Extent2].[Benchmark_Portfolio] AS [Benchmark_Portfolio], 
        [Extent2].[Active_flag] AS [Active_flag], 
        [Extent2].[Dividend_FX_Security_ID] AS [Dividend_FX_Security_ID]
        FROM  [dbo].[Security_Attribution_History] AS [Extent1]
        INNER JOIN [dbo].[Security_Detail] AS [Extent2] ON [Extent1].[Security_ID] = [Extent2].[Security_ID]
        WHERE ([Extent1].[Security_ID] = @p__linq__0) AND ([Extent1].[Portfolio_Code] = @p__linq__1)
    )  AS [Project1]
    ORDER BY [Project1].[Record_Date] DESC
2018-04-07 12:29:21.7167|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: IF db_id(N'MetopeAzureDb') IS NOT NULL SELECT 1 ELSE SELECT Count(*) FROM sys.databases WHERE [name]=N'MetopeAzureDb'
2018-04-07 12:29:21.8333|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: IF db_id(N'MetopeAzureDb') IS NOT NULL SELECT 1 ELSE SELECT Count(*) FROM sys.databases WHERE [name]=N'MetopeAzureDb'
2018-04-07 12:29:21.9279|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: IF db_id(N'MetopeAzureDb') IS NOT NULL SELECT 1 ELSE SELECT Count(*) FROM sys.databases WHERE [name]=N'MetopeAzureDb'
2018-04-07 12:29:21.9549|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: IF db_id(N'MetopeAzureDb') IS NOT NULL SELECT 1 ELSE SELECT Count(*) FROM sys.databases WHERE [name]=N'MetopeAzureDb'
2018-04-07 12:29:38.3182|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: SELECT 
    [Project1].[Decimal_Precision] AS [Decimal_Precision], 
    [Project1].[Entity_ID] AS [Entity_ID], 
    [Project1].[Security_ID] AS [Security_ID], 
    [Project1].[Issued_Amount] AS [Issued_Amount], 
    [Project1].[Market_Capitalisation] AS [Market_Capitalisation], 
    [Project1].[Risk_Premium] AS [Risk_Premium], 
    [Project1].[Exit_Price] AS [Exit_Price], 
    [Project1].[Total_Return_ME_1YR] AS [Total_Return_ME_1YR], 
    [Project1].[Total_Return_ME_2YR] AS [Total_Return_ME_2YR], 
    [Project1].[Total_Return_ME_3YR] AS [Total_Return_ME_3YR], 
    [Project1].[Historic_Distribution] AS [Historic_Distribution], 
    [Project1].[Distribution_Growth_Forecast_Yr1] AS [Distribution_Growth_Forecast_Yr1], 
    [Project1].[Distribution_Growth_Forecast_Yr2] AS [Distribution_Growth_Forecast_Yr2], 
    [Project1].[Distribution_Growth_Forecast_Yr3] AS [Distribution_Growth_Forecast_Yr3], 
    [Project1].[Forecast_Distribution_Yr1] AS [Forecast_Distribution_Yr1], 
    [Project1].[Forecast_Distribution_Yr2] AS [Forecast_Distribution_Yr2], 
    [Project1].[Forecast_Distribution_Yr3] AS [Forecast_Distribution_Yr3], 
    [Project1].[Earnings_Growth_Compounded] AS [Earnings_Growth_Compounded], 
    [Project1].[Earnings_Forecast_Yr3] AS [Earnings_Forecast_Yr3], 
    [Project1].[Historic_Dividend_Yield_FYE] AS [Historic_Dividend_Yield_FYE], 
    [Project1].[Forward_Dividend_Yield_FYE] AS [Forward_Dividend_Yield_FYE], 
    [Project1].[Yr3_Forward_Dividend_Yield] AS [Yr3_Forward_Dividend_Yield], 
    [Project1].[Rolling_12M_Forward_Yield] AS [Rolling_12M_Forward_Yield], 
    [Project1].[Historical_Earnings_FYE] AS [Historical_Earnings_FYE], 
    [Project1].[Earnings_Forecast_Yr1] AS [Earnings_Forecast_Yr1], 
    [Project1].[Earnings_Forecast_Yr2] AS [Earnings_Forecast_Yr2], 
    [Project1].[Historic_Dividend_Yield_Relative] AS [Historic_Dividend_Yield_Relative], 
    [Project1].[Rolling_12M_Historic_Distribution_PriceCurr] AS [Rolling_12M_Historic_Distribution_PriceCurr], 
    [Project1].[Short_Term_Market_Rerate] AS [Short_Term_Market_Rerate], 
    [Project1].[Forecast_12M_Total_Return] AS [Forecast_12M_Total_Return], 
    [Project1].[Clean_Price] AS [Clean_Price], 
    [Project1].[Rolling_Dividend_Yield_Historic] AS [Rolling_Dividend_Yield_Historic], 
    [Project1].[Last_Update_Date] AS [Last_Update_Date], 
    [Project1].[Last_Update_User] AS [Last_Update_User], 
    [Project1].[Discount_Security_ID] AS [Discount_Security_ID], 
    [Project1].[Net_Present_Value] AS [Net_Present_Value], 
    [Project1].[Forecast_Rolling_Custom_Income] AS [Forecast_Rolling_Custom_Income], 
    [Project1].[Custom_Period] AS [Custom_Period], 
    [Project1].[Rolling_12M_Historic_Distribution] AS [Rolling_12M_Historic_Distribution], 
    [Project1].[Record_Date] AS [Record_Date], 
    [Project1].[Session_ID] AS [Session_ID], 
    [Project1].[Hist_Last_Update_Date] AS [Hist_Last_Update_Date], 
    [Project1].[Hist_Last_Update_User] AS [Hist_Last_Update_User], 
    [Project1].[Rolling_12M_Forecast_Distribution] AS [Rolling_12M_Forecast_Distribution], 
    [Project1].[Yr2_Forward_Dividend_Yield] AS [Yr2_Forward_Dividend_Yield], 
    [Project1].[Exit_Yield] AS [Exit_Yield], 
    [Project1].[Discount_Rate] AS [Discount_Rate], 
    [Project1].[Distribution_Growth_Compounded] AS [Distribution_Growth_Compounded], 
    [Project1].[Forecast_12MRolling_Income_Accrual] AS [Forecast_12MRolling_Income_Accrual], 
    [Project1].[Rolling_12_to_24M_Forecast_Distribution] AS [Rolling_12_to_24M_Forecast_Distribution], 
    [Project1].[Rolling_24_to_36M_Forecast_Distribution] AS [Rolling_24_to_36M_Forecast_Distribution], 
    [Project1].[Forecast_Yr1_Dividend_Yield_Relative] AS [Forecast_Yr1_Dividend_Yield_Relative], 
    [Project1].[Market_Historic_Yield] AS [Market_Historic_Yield], 
    [Project1].[Market_Forward_Yield] AS [Market_Forward_Yield], 
    [Project1].[Historic_Distribution_PriceCurr] AS [Historic_Distribution_PriceCurr], 
    [Project1].[Forecast_Distribution_Yr1_PriceCurr] AS [Forecast_Distribution_Yr1_PriceCurr], 
    [Project1].[Forecast_Distribution_Yr2_PriceCurr] AS [Forecast_Distribution_Yr2_PriceCurr], 
    [Project1].[Forecast_Distribution_Yr3_PriceCurr] AS [Forecast_Distribution_Yr3_PriceCurr], 
    [Project1].[Rolling_12M_Forecast_Distribution_PriceCurr] AS [Rolling_12M_Forecast_Distribution_PriceCurr], 
    [Project1].[Rolling_12_24M_Forecast_Distribution_PriceCurr] AS [Rolling_12_24M_Forecast_Distribution_PriceCurr], 
    [Project1].[Rolling_24_36M_Forecast_Distribution_PriceCurr] AS [Rolling_24_36M_Forecast_Distribution_PriceCurr], 
    [Project1].[Distribution_Growth_Forecast_Yr4] AS [Distribution_Growth_Forecast_Yr4], 
    [Project1].[Earnings_Forecast_Yr4] AS [Earnings_Forecast_Yr4], 
    [Project1].[Forecast_Distribution_Yr4] AS [Forecast_Distribution_Yr4], 
    [Project1].[Forecast_Distribution_Yr4_PriceCurr] AS [Forecast_Distribution_Yr4_PriceCurr], 
    [Project1].[Security_ID1] AS [Security_ID1], 
    [Project1].[Entity_ID1] AS [Entity_ID1], 
    [Project1].[Security_Name] AS [Security_Name], 
    [Project1].[Short_Name] AS [Short_Name], 
    [Project1].[Primary_Exch] AS [Primary_Exch], 
    [Project1].[Secondary_Exch] AS [Secondary_Exch], 
    [Project1].[Country_Of_Domicile] AS [Country_Of_Domicile], 
    [Project1].[Country_Of_Risk] AS [Country_Of_Risk], 
    [Project1].[Security_Type_Code] AS [Security_Type_Code], 
    [Project1].[Price_Multiplier] AS [Price_Multiplier], 
    [Project1].[Income_Frequency] AS [Income_Frequency], 
    [Project1].[Issuer_Code] AS [Issuer_Code], 
    [Project1].[Ultimate_Issuer_Code] AS [Ultimate_Issuer_Code], 
    [Project1].[Asset_Currency] AS [Asset_Currency], 
    [Project1].[Min_Lot_Size] AS [Min_Lot_Size], 
    [Project1].[AvePrice_Rounding] AS [AvePrice_Rounding], 
    [Project1].[Issue_Date] AS [Issue_Date], 
    [Project1].[Maturity_Date] AS [Maturity_Date], 
    [Project1].[Coupon_Rate] AS [Coupon_Rate], 
    [Project1].[Price_Exchange] AS [Price_Exchange], 
    [Project1].[Trade_Currency] AS [Trade_Currency], 
    [Project1].[Price_Curr] AS [Price_Curr], 
    [Project1].[Currency_Pair_Code] AS [Currency_Pair_Code], 
    [Project1].[Share_Class] AS [Share_Class], 
    [Project1].[Current_Market_Price] AS [Current_Market_Price], 
    [Project1].[Index_Type] AS [Index_Type], 
    [Project1].[Clean_Price_Formula] AS [Clean_Price_Formula], 
    [Project1].[Accrued_Income_Price_Formula] AS [Accrued_Income_Price_Formula], 
    [Project1].[Odd_First_Coupon_Date] AS [Odd_First_Coupon_Date], 
    [Project1].[Odd_Last_Coupon_Date] AS [Odd_Last_Coupon_Date], 
    [Project1].[Coupon_Anniversary_Indicator] AS [Coupon_Anniversary_Indicator], 
    [Project1].[Track_EOM_Flag] AS [Track_EOM_Flag], 
    [Project1].[Next_Coupon_Date] AS [Next_Coupon_Date], 
    [Project1].[Previous_Coupon_Date] AS [Previous_Coupon_Date], 
    [Project1].[Payment_Frequency] AS [Payment_Frequency], 
    [Project1].[Coupon_BusDay_Adjustment] AS [Coupon_BusDay_Adjustment], 
    [Project1].[Next_Ex_Div_Date] AS [Next_Ex_Div_Date], 
    [Project1].[Ex_Div_BusDay_Adjustment] AS [Ex_Div_BusDay_Adjustment], 
    [Project1].[Ex_Div_Period] AS [Ex_Div_Period], 
    [Project1].[Ticker] AS [Ticker], 
    [Project1].[Inet_ID] AS [Inet_ID], 
    [Project1].[Bloomberg_ID] AS [Bloomberg_ID], 
    [Project1].[External_Sec_ID] AS [External_Sec_ID], 
    [Project1].[Reuters_ID] AS [Reuters_ID], 
    [Project1].[ISIN] AS [ISIN], 
    [Project1].[Call_Account_Flag] AS [Call_Account_Flag], 
    [Project1].[System_Locked] AS [System_Locked], 
    [Project1].[Last_Update_User1] AS [Last_Update_User1], 
    [Project1].[Last_Update_Date1] AS [Last_Update_Date1], 
    [Project1].[Security_Status] AS [Security_Status], 
    [Project1].[Benchmark_Portfolio] AS [Benchmark_Portfolio], 
    [Project1].[Active_flag] AS [Active_flag], 
    [Project1].[Dividend_FX_Security_ID] AS [Dividend_FX_Security_ID]
    FROM ( SELECT 
        [Extent1].[Entity_ID] AS [Entity_ID], 
        [Extent1].[Security_ID] AS [Security_ID], 
        [Extent1].[Issued_Amount] AS [Issued_Amount], 
        [Extent1].[Market_Capitalisation] AS [Market_Capitalisation], 
        [Extent1].[Risk_Premium] AS [Risk_Premium], 
        [Extent1].[Exit_Price] AS [Exit_Price], 
        [Extent1].[Total_Return_ME_1YR] AS [Total_Return_ME_1YR], 
        [Extent1].[Total_Return_ME_2YR] AS [Total_Return_ME_2YR], 
        [Extent1].[Total_Return_ME_3YR] AS [Total_Return_ME_3YR], 
        [Extent1].[Historic_Distribution] AS [Historic_Distribution], 
        [Extent1].[Distribution_Growth_Forecast_Yr1] AS [Distribution_Growth_Forecast_Yr1], 
        [Extent1].[Distribution_Growth_Forecast_Yr2] AS [Distribution_Growth_Forecast_Yr2], 
        [Extent1].[Distribution_Growth_Forecast_Yr3] AS [Distribution_Growth_Forecast_Yr3], 
        [Extent1].[Forecast_Distribution_Yr1] AS [Forecast_Distribution_Yr1], 
        [Extent1].[Forecast_Distribution_Yr2] AS [Forecast_Distribution_Yr2], 
        [Extent1].[Forecast_Distribution_Yr3] AS [Forecast_Distribution_Yr3], 
        [Extent1].[Earnings_Growth_Compounded] AS [Earnings_Growth_Compounded], 
        [Extent1].[Earnings_Forecast_Yr3] AS [Earnings_Forecast_Yr3], 
        [Extent1].[Historic_Dividend_Yield_FYE] AS [Historic_Dividend_Yield_FYE], 
        [Extent1].[Forward_Dividend_Yield_FYE] AS [Forward_Dividend_Yield_FYE], 
        [Extent1].[Yr3_Forward_Dividend_Yield] AS [Yr3_Forward_Dividend_Yield], 
        [Extent1].[Rolling_12M_Forward_Yield] AS [Rolling_12M_Forward_Yield], 
        [Extent1].[Historical_Earnings_FYE] AS [Historical_Earnings_FYE], 
        [Extent1].[Earnings_Forecast_Yr1] AS [Earnings_Forecast_Yr1], 
        [Extent1].[Earnings_Forecast_Yr2] AS [Earnings_Forecast_Yr2], 
        [Extent1].[Historic_Dividend_Yield_Relative] AS [Historic_Dividend_Yield_Relative], 
        [Extent1].[Rolling_12M_Historic_Distribution_PriceCurr] AS [Rolling_12M_Historic_Distribution_PriceCurr], 
        [Extent1].[Short_Term_Market_Rerate] AS [Short_Term_Market_Rerate], 
        [Extent1].[Forecast_12M_Total_Return] AS [Forecast_12M_Total_Return], 
        [Extent1].[Clean_Price] AS [Clean_Price], 
        [Extent1].[Rolling_Dividend_Yield_Historic] AS [Rolling_Dividend_Yield_Historic], 
        [Extent1].[Last_Update_Date] AS [Last_Update_Date], 
        [Extent1].[Last_Update_User] AS [Last_Update_User], 
        [Extent1].[Discount_Security_ID] AS [Discount_Security_ID], 
        [Extent1].[Net_Present_Value] AS [Net_Present_Value], 
        [Extent1].[Forecast_Rolling_Custom_Income] AS [Forecast_Rolling_Custom_Income], 
        [Extent1].[Custom_Period] AS [Custom_Period], 
        [Extent1].[Rolling_12M_Historic_Distribution] AS [Rolling_12M_Historic_Distribution], 
        [Extent1].[Record_Date] AS [Record_Date], 
        [Extent1].[Session_ID] AS [Session_ID], 
        [Extent1].[Hist_Last_Update_Date] AS [Hist_Last_Update_Date], 
        [Extent1].[Hist_Last_Update_User] AS [Hist_Last_Update_User], 
        [Extent1].[Rolling_12M_Forecast_Distribution] AS [Rolling_12M_Forecast_Distribution], 
        [Extent1].[Yr2_Forward_Dividend_Yield] AS [Yr2_Forward_Dividend_Yield], 
        [Extent1].[Exit_Yield] AS [Exit_Yield], 
        [Extent1].[Discount_Rate] AS [Discount_Rate], 
        [Extent1].[Distribution_Growth_Compounded] AS [Distribution_Growth_Compounded], 
        [Extent1].[Forecast_12MRolling_Income_Accrual] AS [Forecast_12MRolling_Income_Accrual], 
        [Extent1].[Rolling_12_to_24M_Forecast_Distribution] AS [Rolling_12_to_24M_Forecast_Distribution], 
        [Extent1].[Rolling_24_to_36M_Forecast_Distribution] AS [Rolling_24_to_36M_Forecast_Distribution], 
        [Extent1].[Forecast_Yr1_Dividend_Yield_Relative] AS [Forecast_Yr1_Dividend_Yield_Relative], 
        [Extent1].[Market_Historic_Yield] AS [Market_Historic_Yield], 
        [Extent1].[Market_Forward_Yield] AS [Market_Forward_Yield], 
        [Extent1].[Historic_Distribution_PriceCurr] AS [Historic_Distribution_PriceCurr], 
        [Extent1].[Forecast_Distribution_Yr1_PriceCurr] AS [Forecast_Distribution_Yr1_PriceCurr], 
        [Extent1].[Forecast_Distribution_Yr2_PriceCurr] AS [Forecast_Distribution_Yr2_PriceCurr], 
        [Extent1].[Forecast_Distribution_Yr3_PriceCurr] AS [Forecast_Distribution_Yr3_PriceCurr], 
        [Extent1].[Rolling_12M_Forecast_Distribution_PriceCurr] AS [Rolling_12M_Forecast_Distribution_PriceCurr], 
        [Extent1].[Rolling_12_24M_Forecast_Distribution_PriceCurr] AS [Rolling_12_24M_Forecast_Distribution_PriceCurr], 
        [Extent1].[Rolling_24_36M_Forecast_Distribution_PriceCurr] AS [Rolling_24_36M_Forecast_Distribution_PriceCurr], 
        [Extent1].[Distribution_Growth_Forecast_Yr4] AS [Distribution_Growth_Forecast_Yr4], 
        [Extent1].[Earnings_Forecast_Yr4] AS [Earnings_Forecast_Yr4], 
        [Extent1].[Forecast_Distribution_Yr4] AS [Forecast_Distribution_Yr4], 
        [Extent1].[Forecast_Distribution_Yr4_PriceCurr] AS [Forecast_Distribution_Yr4_PriceCurr], 
        [Extent2].[Security_ID] AS [Security_ID1], 
        [Extent2].[Entity_ID] AS [Entity_ID1], 
        [Extent2].[Security_Name] AS [Security_Name], 
        [Extent2].[Short_Name] AS [Short_Name], 
        [Extent2].[Primary_Exch] AS [Primary_Exch], 
        [Extent2].[Secondary_Exch] AS [Secondary_Exch], 
        [Extent2].[Country_Of_Domicile] AS [Country_Of_Domicile], 
        [Extent2].[Country_Of_Risk] AS [Country_Of_Risk], 
        [Extent2].[Security_Type_Code] AS [Security_Type_Code], 
        [Extent2].[Price_Multiplier] AS [Price_Multiplier], 
        [Extent2].[Income_Frequency] AS [Income_Frequency], 
        [Extent2].[Issuer_Code] AS [Issuer_Code], 
        [Extent2].[Ultimate_Issuer_Code] AS [Ultimate_Issuer_Code], 
        [Extent2].[Asset_Currency] AS [Asset_Currency], 
        [Extent2].[Min_Lot_Size] AS [Min_Lot_Size], 
        [Extent2].[Decimal_Precision] AS [Decimal_Precision], 
        [Extent2].[AvePrice_Rounding] AS [AvePrice_Rounding], 
        [Extent2].[Issue_Date] AS [Issue_Date], 
        [Extent2].[Maturity_Date] AS [Maturity_Date], 
        [Extent2].[Coupon_Rate] AS [Coupon_Rate], 
        [Extent2].[Price_Exchange] AS [Price_Exchange], 
        [Extent2].[Trade_Currency] AS [Trade_Currency], 
        [Extent2].[Price_Curr] AS [Price_Curr], 
        [Extent2].[Currency_Pair_Code] AS [Currency_Pair_Code], 
        [Extent2].[Share_Class] AS [Share_Class], 
        [Extent2].[Current_Market_Price] AS [Current_Market_Price], 
        [Extent2].[Index_Type] AS [Index_Type], 
        [Extent2].[Clean_Price_Formula] AS [Clean_Price_Formula], 
        [Extent2].[Accrued_Income_Price_Formula] AS [Accrued_Income_Price_Formula], 
        [Extent2].[Odd_First_Coupon_Date] AS [Odd_First_Coupon_Date], 
        [Extent2].[Odd_Last_Coupon_Date] AS [Odd_Last_Coupon_Date], 
        [Extent2].[Coupon_Anniversary_Indicator] AS [Coupon_Anniversary_Indicator], 
        [Extent2].[Track_EOM_Flag] AS [Track_EOM_Flag], 
        [Extent2].[Next_Coupon_Date] AS [Next_Coupon_Date], 
        [Extent2].[Previous_Coupon_Date] AS [Previous_Coupon_Date], 
        [Extent2].[Payment_Frequency] AS [Payment_Frequency], 
        [Extent2].[Coupon_BusDay_Adjustment] AS [Coupon_BusDay_Adjustment], 
        [Extent2].[Next_Ex_Div_Date] AS [Next_Ex_Div_Date], 
        [Extent2].[Ex_Div_BusDay_Adjustment] AS [Ex_Div_BusDay_Adjustment], 
        [Extent2].[Ex_Div_Period] AS [Ex_Div_Period], 
        [Extent2].[Ticker] AS [Ticker], 
        [Extent2].[Inet_ID] AS [Inet_ID], 
        [Extent2].[Bloomberg_ID] AS [Bloomberg_ID], 
        [Extent2].[External_Sec_ID] AS [External_Sec_ID], 
        [Extent2].[Reuters_ID] AS [Reuters_ID], 
        [Extent2].[ISIN] AS [ISIN], 
        [Extent2].[Call_Account_Flag] AS [Call_Account_Flag], 
        [Extent2].[System_Locked] AS [System_Locked], 
        [Extent2].[Last_Update_User] AS [Last_Update_User1], 
        [Extent2].[Last_Update_Date] AS [Last_Update_Date1], 
        [Extent2].[Security_Status] AS [Security_Status], 
        [Extent2].[Benchmark_Portfolio] AS [Benchmark_Portfolio], 
        [Extent2].[Active_flag] AS [Active_flag], 
        [Extent2].[Dividend_FX_Security_ID] AS [Dividend_FX_Security_ID]
        FROM  [dbo].[Security_Analytics_History] AS [Extent1]
        INNER JOIN [dbo].[Security_Detail] AS [Extent2] ON [Extent1].[Security_ID] = [Extent2].[Security_ID]
        WHERE [Extent1].[Security_ID] = @p__linq__0
    )  AS [Project1]
    ORDER BY [Project1].[Record_Date] DESC
2018-04-07 12:29:38.3783|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: SELECT 
    [Project1].[Decimal_Precision] AS [Decimal_Precision], 
    [Project1].[Entity_ID] AS [Entity_ID], 
    [Project1].[Security_ID] AS [Security_ID], 
    [Project1].[Issued_Amount] AS [Issued_Amount], 
    [Project1].[Market_Capitalisation] AS [Market_Capitalisation], 
    [Project1].[Risk_Premium] AS [Risk_Premium], 
    [Project1].[Exit_Price] AS [Exit_Price], 
    [Project1].[Total_Return_ME_1YR] AS [Total_Return_ME_1YR], 
    [Project1].[Total_Return_ME_2YR] AS [Total_Return_ME_2YR], 
    [Project1].[Total_Return_ME_3YR] AS [Total_Return_ME_3YR], 
    [Project1].[Historic_Distribution] AS [Historic_Distribution], 
    [Project1].[Distribution_Growth_Forecast_Yr1] AS [Distribution_Growth_Forecast_Yr1], 
    [Project1].[Distribution_Growth_Forecast_Yr2] AS [Distribution_Growth_Forecast_Yr2], 
    [Project1].[Distribution_Growth_Forecast_Yr3] AS [Distribution_Growth_Forecast_Yr3], 
    [Project1].[Forecast_Distribution_Yr1] AS [Forecast_Distribution_Yr1], 
    [Project1].[Forecast_Distribution_Yr2] AS [Forecast_Distribution_Yr2], 
    [Project1].[Forecast_Distribution_Yr3] AS [Forecast_Distribution_Yr3], 
    [Project1].[Earnings_Growth_Compounded] AS [Earnings_Growth_Compounded], 
    [Project1].[Earnings_Forecast_Yr3] AS [Earnings_Forecast_Yr3], 
    [Project1].[Historic_Dividend_Yield_FYE] AS [Historic_Dividend_Yield_FYE], 
    [Project1].[Forward_Dividend_Yield_FYE] AS [Forward_Dividend_Yield_FYE], 
    [Project1].[Yr3_Forward_Dividend_Yield] AS [Yr3_Forward_Dividend_Yield], 
    [Project1].[Rolling_12M_Forward_Yield] AS [Rolling_12M_Forward_Yield], 
    [Project1].[Historical_Earnings_FYE] AS [Historical_Earnings_FYE], 
    [Project1].[Earnings_Forecast_Yr1] AS [Earnings_Forecast_Yr1], 
    [Project1].[Earnings_Forecast_Yr2] AS [Earnings_Forecast_Yr2], 
    [Project1].[Historic_Dividend_Yield_Relative] AS [Historic_Dividend_Yield_Relative], 
    [Project1].[Rolling_12M_Historic_Distribution_PriceCurr] AS [Rolling_12M_Historic_Distribution_PriceCurr], 
    [Project1].[Short_Term_Market_Rerate] AS [Short_Term_Market_Rerate], 
    [Project1].[Forecast_12M_Total_Return] AS [Forecast_12M_Total_Return], 
    [Project1].[Clean_Price] AS [Clean_Price], 
    [Project1].[Rolling_Dividend_Yield_Historic] AS [Rolling_Dividend_Yield_Historic], 
    [Project1].[Last_Update_Date] AS [Last_Update_Date], 
    [Project1].[Last_Update_User] AS [Last_Update_User], 
    [Project1].[Discount_Security_ID] AS [Discount_Security_ID], 
    [Project1].[Net_Present_Value] AS [Net_Present_Value], 
    [Project1].[Forecast_Rolling_Custom_Income] AS [Forecast_Rolling_Custom_Income], 
    [Project1].[Custom_Period] AS [Custom_Period], 
    [Project1].[Rolling_12M_Historic_Distribution] AS [Rolling_12M_Historic_Distribution], 
    [Project1].[Record_Date] AS [Record_Date], 
    [Project1].[Session_ID] AS [Session_ID], 
    [Project1].[Hist_Last_Update_Date] AS [Hist_Last_Update_Date], 
    [Project1].[Hist_Last_Update_User] AS [Hist_Last_Update_User], 
    [Project1].[Rolling_12M_Forecast_Distribution] AS [Rolling_12M_Forecast_Distribution], 
    [Project1].[Yr2_Forward_Dividend_Yield] AS [Yr2_Forward_Dividend_Yield], 
    [Project1].[Exit_Yield] AS [Exit_Yield], 
    [Project1].[Discount_Rate] AS [Discount_Rate], 
    [Project1].[Distribution_Growth_Compounded] AS [Distribution_Growth_Compounded], 
    [Project1].[Forecast_12MRolling_Income_Accrual] AS [Forecast_12MRolling_Income_Accrual], 
    [Project1].[Rolling_12_to_24M_Forecast_Distribution] AS [Rolling_12_to_24M_Forecast_Distribution], 
    [Project1].[Rolling_24_to_36M_Forecast_Distribution] AS [Rolling_24_to_36M_Forecast_Distribution], 
    [Project1].[Forecast_Yr1_Dividend_Yield_Relative] AS [Forecast_Yr1_Dividend_Yield_Relative], 
    [Project1].[Market_Historic_Yield] AS [Market_Historic_Yield], 
    [Project1].[Market_Forward_Yield] AS [Market_Forward_Yield], 
    [Project1].[Historic_Distribution_PriceCurr] AS [Historic_Distribution_PriceCurr], 
    [Project1].[Forecast_Distribution_Yr1_PriceCurr] AS [Forecast_Distribution_Yr1_PriceCurr], 
    [Project1].[Forecast_Distribution_Yr2_PriceCurr] AS [Forecast_Distribution_Yr2_PriceCurr], 
    [Project1].[Forecast_Distribution_Yr3_PriceCurr] AS [Forecast_Distribution_Yr3_PriceCurr], 
    [Project1].[Rolling_12M_Forecast_Distribution_PriceCurr] AS [Rolling_12M_Forecast_Distribution_PriceCurr], 
    [Project1].[Rolling_12_24M_Forecast_Distribution_PriceCurr] AS [Rolling_12_24M_Forecast_Distribution_PriceCurr], 
    [Project1].[Rolling_24_36M_Forecast_Distribution_PriceCurr] AS [Rolling_24_36M_Forecast_Distribution_PriceCurr], 
    [Project1].[Distribution_Growth_Forecast_Yr4] AS [Distribution_Growth_Forecast_Yr4], 
    [Project1].[Earnings_Forecast_Yr4] AS [Earnings_Forecast_Yr4], 
    [Project1].[Forecast_Distribution_Yr4] AS [Forecast_Distribution_Yr4], 
    [Project1].[Forecast_Distribution_Yr4_PriceCurr] AS [Forecast_Distribution_Yr4_PriceCurr], 
    [Project1].[Security_ID1] AS [Security_ID1], 
    [Project1].[Entity_ID1] AS [Entity_ID1], 
    [Project1].[Security_Name] AS [Security_Name], 
    [Project1].[Short_Name] AS [Short_Name], 
    [Project1].[Primary_Exch] AS [Primary_Exch], 
    [Project1].[Secondary_Exch] AS [Secondary_Exch], 
    [Project1].[Country_Of_Domicile] AS [Country_Of_Domicile], 
    [Project1].[Country_Of_Risk] AS [Country_Of_Risk], 
    [Project1].[Security_Type_Code] AS [Security_Type_Code], 
    [Project1].[Price_Multiplier] AS [Price_Multiplier], 
    [Project1].[Income_Frequency] AS [Income_Frequency], 
    [Project1].[Issuer_Code] AS [Issuer_Code], 
    [Project1].[Ultimate_Issuer_Code] AS [Ultimate_Issuer_Code], 
    [Project1].[Asset_Currency] AS [Asset_Currency], 
    [Project1].[Min_Lot_Size] AS [Min_Lot_Size], 
    [Project1].[AvePrice_Rounding] AS [AvePrice_Rounding], 
    [Project1].[Issue_Date] AS [Issue_Date], 
    [Project1].[Maturity_Date] AS [Maturity_Date], 
    [Project1].[Coupon_Rate] AS [Coupon_Rate], 
    [Project1].[Price_Exchange] AS [Price_Exchange], 
    [Project1].[Trade_Currency] AS [Trade_Currency], 
    [Project1].[Price_Curr] AS [Price_Curr], 
    [Project1].[Currency_Pair_Code] AS [Currency_Pair_Code], 
    [Project1].[Share_Class] AS [Share_Class], 
    [Project1].[Current_Market_Price] AS [Current_Market_Price], 
    [Project1].[Index_Type] AS [Index_Type], 
    [Project1].[Clean_Price_Formula] AS [Clean_Price_Formula], 
    [Project1].[Accrued_Income_Price_Formula] AS [Accrued_Income_Price_Formula], 
    [Project1].[Odd_First_Coupon_Date] AS [Odd_First_Coupon_Date], 
    [Project1].[Odd_Last_Coupon_Date] AS [Odd_Last_Coupon_Date], 
    [Project1].[Coupon_Anniversary_Indicator] AS [Coupon_Anniversary_Indicator], 
    [Project1].[Track_EOM_Flag] AS [Track_EOM_Flag], 
    [Project1].[Next_Coupon_Date] AS [Next_Coupon_Date], 
    [Project1].[Previous_Coupon_Date] AS [Previous_Coupon_Date], 
    [Project1].[Payment_Frequency] AS [Payment_Frequency], 
    [Project1].[Coupon_BusDay_Adjustment] AS [Coupon_BusDay_Adjustment], 
    [Project1].[Next_Ex_Div_Date] AS [Next_Ex_Div_Date], 
    [Project1].[Ex_Div_BusDay_Adjustment] AS [Ex_Div_BusDay_Adjustment], 
    [Project1].[Ex_Div_Period] AS [Ex_Div_Period], 
    [Project1].[Ticker] AS [Ticker], 
    [Project1].[Inet_ID] AS [Inet_ID], 
    [Project1].[Bloomberg_ID] AS [Bloomberg_ID], 
    [Project1].[External_Sec_ID] AS [External_Sec_ID], 
    [Project1].[Reuters_ID] AS [Reuters_ID], 
    [Project1].[ISIN] AS [ISIN], 
    [Project1].[Call_Account_Flag] AS [Call_Account_Flag], 
    [Project1].[System_Locked] AS [System_Locked], 
    [Project1].[Last_Update_User1] AS [Last_Update_User1], 
    [Project1].[Last_Update_Date1] AS [Last_Update_Date1], 
    [Project1].[Security_Status] AS [Security_Status], 
    [Project1].[Benchmark_Portfolio] AS [Benchmark_Portfolio], 
    [Project1].[Active_flag] AS [Active_flag], 
    [Project1].[Dividend_FX_Security_ID] AS [Dividend_FX_Security_ID]
    FROM ( SELECT 
        [Extent1].[Entity_ID] AS [Entity_ID], 
        [Extent1].[Security_ID] AS [Security_ID], 
        [Extent1].[Issued_Amount] AS [Issued_Amount], 
        [Extent1].[Market_Capitalisation] AS [Market_Capitalisation], 
        [Extent1].[Risk_Premium] AS [Risk_Premium], 
        [Extent1].[Exit_Price] AS [Exit_Price], 
        [Extent1].[Total_Return_ME_1YR] AS [Total_Return_ME_1YR], 
        [Extent1].[Total_Return_ME_2YR] AS [Total_Return_ME_2YR], 
        [Extent1].[Total_Return_ME_3YR] AS [Total_Return_ME_3YR], 
        [Extent1].[Historic_Distribution] AS [Historic_Distribution], 
        [Extent1].[Distribution_Growth_Forecast_Yr1] AS [Distribution_Growth_Forecast_Yr1], 
        [Extent1].[Distribution_Growth_Forecast_Yr2] AS [Distribution_Growth_Forecast_Yr2], 
        [Extent1].[Distribution_Growth_Forecast_Yr3] AS [Distribution_Growth_Forecast_Yr3], 
        [Extent1].[Forecast_Distribution_Yr1] AS [Forecast_Distribution_Yr1], 
        [Extent1].[Forecast_Distribution_Yr2] AS [Forecast_Distribution_Yr2], 
        [Extent1].[Forecast_Distribution_Yr3] AS [Forecast_Distribution_Yr3], 
        [Extent1].[Earnings_Growth_Compounded] AS [Earnings_Growth_Compounded], 
        [Extent1].[Earnings_Forecast_Yr3] AS [Earnings_Forecast_Yr3], 
        [Extent1].[Historic_Dividend_Yield_FYE] AS [Historic_Dividend_Yield_FYE], 
        [Extent1].[Forward_Dividend_Yield_FYE] AS [Forward_Dividend_Yield_FYE], 
        [Extent1].[Yr3_Forward_Dividend_Yield] AS [Yr3_Forward_Dividend_Yield], 
        [Extent1].[Rolling_12M_Forward_Yield] AS [Rolling_12M_Forward_Yield], 
        [Extent1].[Historical_Earnings_FYE] AS [Historical_Earnings_FYE], 
        [Extent1].[Earnings_Forecast_Yr1] AS [Earnings_Forecast_Yr1], 
        [Extent1].[Earnings_Forecast_Yr2] AS [Earnings_Forecast_Yr2], 
        [Extent1].[Historic_Dividend_Yield_Relative] AS [Historic_Dividend_Yield_Relative], 
        [Extent1].[Rolling_12M_Historic_Distribution_PriceCurr] AS [Rolling_12M_Historic_Distribution_PriceCurr], 
        [Extent1].[Short_Term_Market_Rerate] AS [Short_Term_Market_Rerate], 
        [Extent1].[Forecast_12M_Total_Return] AS [Forecast_12M_Total_Return], 
        [Extent1].[Clean_Price] AS [Clean_Price], 
        [Extent1].[Rolling_Dividend_Yield_Historic] AS [Rolling_Dividend_Yield_Historic], 
        [Extent1].[Last_Update_Date] AS [Last_Update_Date], 
        [Extent1].[Last_Update_User] AS [Last_Update_User], 
        [Extent1].[Discount_Security_ID] AS [Discount_Security_ID], 
        [Extent1].[Net_Present_Value] AS [Net_Present_Value], 
        [Extent1].[Forecast_Rolling_Custom_Income] AS [Forecast_Rolling_Custom_Income], 
        [Extent1].[Custom_Period] AS [Custom_Period], 
        [Extent1].[Rolling_12M_Historic_Distribution] AS [Rolling_12M_Historic_Distribution], 
        [Extent1].[Record_Date] AS [Record_Date], 
        [Extent1].[Session_ID] AS [Session_ID], 
        [Extent1].[Hist_Last_Update_Date] AS [Hist_Last_Update_Date], 
        [Extent1].[Hist_Last_Update_User] AS [Hist_Last_Update_User], 
        [Extent1].[Rolling_12M_Forecast_Distribution] AS [Rolling_12M_Forecast_Distribution], 
        [Extent1].[Yr2_Forward_Dividend_Yield] AS [Yr2_Forward_Dividend_Yield], 
        [Extent1].[Exit_Yield] AS [Exit_Yield], 
        [Extent1].[Discount_Rate] AS [Discount_Rate], 
        [Extent1].[Distribution_Growth_Compounded] AS [Distribution_Growth_Compounded], 
        [Extent1].[Forecast_12MRolling_Income_Accrual] AS [Forecast_12MRolling_Income_Accrual], 
        [Extent1].[Rolling_12_to_24M_Forecast_Distribution] AS [Rolling_12_to_24M_Forecast_Distribution], 
        [Extent1].[Rolling_24_to_36M_Forecast_Distribution] AS [Rolling_24_to_36M_Forecast_Distribution], 
        [Extent1].[Forecast_Yr1_Dividend_Yield_Relative] AS [Forecast_Yr1_Dividend_Yield_Relative], 
        [Extent1].[Market_Historic_Yield] AS [Market_Historic_Yield], 
        [Extent1].[Market_Forward_Yield] AS [Market_Forward_Yield], 
        [Extent1].[Historic_Distribution_PriceCurr] AS [Historic_Distribution_PriceCurr], 
        [Extent1].[Forecast_Distribution_Yr1_PriceCurr] AS [Forecast_Distribution_Yr1_PriceCurr], 
        [Extent1].[Forecast_Distribution_Yr2_PriceCurr] AS [Forecast_Distribution_Yr2_PriceCurr], 
        [Extent1].[Forecast_Distribution_Yr3_PriceCurr] AS [Forecast_Distribution_Yr3_PriceCurr], 
        [Extent1].[Rolling_12M_Forecast_Distribution_PriceCurr] AS [Rolling_12M_Forecast_Distribution_PriceCurr], 
        [Extent1].[Rolling_12_24M_Forecast_Distribution_PriceCurr] AS [Rolling_12_24M_Forecast_Distribution_PriceCurr], 
        [Extent1].[Rolling_24_36M_Forecast_Distribution_PriceCurr] AS [Rolling_24_36M_Forecast_Distribution_PriceCurr], 
        [Extent1].[Distribution_Growth_Forecast_Yr4] AS [Distribution_Growth_Forecast_Yr4], 
        [Extent1].[Earnings_Forecast_Yr4] AS [Earnings_Forecast_Yr4], 
        [Extent1].[Forecast_Distribution_Yr4] AS [Forecast_Distribution_Yr4], 
        [Extent1].[Forecast_Distribution_Yr4_PriceCurr] AS [Forecast_Distribution_Yr4_PriceCurr], 
        [Extent2].[Security_ID] AS [Security_ID1], 
        [Extent2].[Entity_ID] AS [Entity_ID1], 
        [Extent2].[Security_Name] AS [Security_Name], 
        [Extent2].[Short_Name] AS [Short_Name], 
        [Extent2].[Primary_Exch] AS [Primary_Exch], 
        [Extent2].[Secondary_Exch] AS [Secondary_Exch], 
        [Extent2].[Country_Of_Domicile] AS [Country_Of_Domicile], 
        [Extent2].[Country_Of_Risk] AS [Country_Of_Risk], 
        [Extent2].[Security_Type_Code] AS [Security_Type_Code], 
        [Extent2].[Price_Multiplier] AS [Price_Multiplier], 
        [Extent2].[Income_Frequency] AS [Income_Frequency], 
        [Extent2].[Issuer_Code] AS [Issuer_Code], 
        [Extent2].[Ultimate_Issuer_Code] AS [Ultimate_Issuer_Code], 
        [Extent2].[Asset_Currency] AS [Asset_Currency], 
        [Extent2].[Min_Lot_Size] AS [Min_Lot_Size], 
        [Extent2].[Decimal_Precision] AS [Decimal_Precision], 
        [Extent2].[AvePrice_Rounding] AS [AvePrice_Rounding], 
        [Extent2].[Issue_Date] AS [Issue_Date], 
        [Extent2].[Maturity_Date] AS [Maturity_Date], 
        [Extent2].[Coupon_Rate] AS [Coupon_Rate], 
        [Extent2].[Price_Exchange] AS [Price_Exchange], 
        [Extent2].[Trade_Currency] AS [Trade_Currency], 
        [Extent2].[Price_Curr] AS [Price_Curr], 
        [Extent2].[Currency_Pair_Code] AS [Currency_Pair_Code], 
        [Extent2].[Share_Class] AS [Share_Class], 
        [Extent2].[Current_Market_Price] AS [Current_Market_Price], 
        [Extent2].[Index_Type] AS [Index_Type], 
        [Extent2].[Clean_Price_Formula] AS [Clean_Price_Formula], 
        [Extent2].[Accrued_Income_Price_Formula] AS [Accrued_Income_Price_Formula], 
        [Extent2].[Odd_First_Coupon_Date] AS [Odd_First_Coupon_Date], 
        [Extent2].[Odd_Last_Coupon_Date] AS [Odd_Last_Coupon_Date], 
        [Extent2].[Coupon_Anniversary_Indicator] AS [Coupon_Anniversary_Indicator], 
        [Extent2].[Track_EOM_Flag] AS [Track_EOM_Flag], 
        [Extent2].[Next_Coupon_Date] AS [Next_Coupon_Date], 
        [Extent2].[Previous_Coupon_Date] AS [Previous_Coupon_Date], 
        [Extent2].[Payment_Frequency] AS [Payment_Frequency], 
        [Extent2].[Coupon_BusDay_Adjustment] AS [Coupon_BusDay_Adjustment], 
        [Extent2].[Next_Ex_Div_Date] AS [Next_Ex_Div_Date], 
        [Extent2].[Ex_Div_BusDay_Adjustment] AS [Ex_Div_BusDay_Adjustment], 
        [Extent2].[Ex_Div_Period] AS [Ex_Div_Period], 
        [Extent2].[Ticker] AS [Ticker], 
        [Extent2].[Inet_ID] AS [Inet_ID], 
        [Extent2].[Bloomberg_ID] AS [Bloomberg_ID], 
        [Extent2].[External_Sec_ID] AS [External_Sec_ID], 
        [Extent2].[Reuters_ID] AS [Reuters_ID], 
        [Extent2].[ISIN] AS [ISIN], 
        [Extent2].[Call_Account_Flag] AS [Call_Account_Flag], 
        [Extent2].[System_Locked] AS [System_Locked], 
        [Extent2].[Last_Update_User] AS [Last_Update_User1], 
        [Extent2].[Last_Update_Date] AS [Last_Update_Date1], 
        [Extent2].[Security_Status] AS [Security_Status], 
        [Extent2].[Benchmark_Portfolio] AS [Benchmark_Portfolio], 
        [Extent2].[Active_flag] AS [Active_flag], 
        [Extent2].[Dividend_FX_Security_ID] AS [Dividend_FX_Security_ID]
        FROM  [dbo].[Security_Analytics_History] AS [Extent1]
        INNER JOIN [dbo].[Security_Detail] AS [Extent2] ON [Extent1].[Security_ID] = [Extent2].[Security_ID]
        WHERE [Extent1].[Security_ID] = @p__linq__0
    )  AS [Project1]
    ORDER BY [Project1].[Record_Date] DESC
2018-04-07 12:29:43.4363|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: IF db_id(N'MetopeAzureDb') IS NOT NULL SELECT 1 ELSE SELECT Count(*) FROM sys.databases WHERE [name]=N'MetopeAzureDb'
2018-04-07 12:29:43.4578|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: IF db_id(N'MetopeAzureDb') IS NOT NULL SELECT 1 ELSE SELECT Count(*) FROM sys.databases WHERE [name]=N'MetopeAzureDb'
2018-04-07 12:29:43.4888|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: IF db_id(N'MetopeAzureDb') IS NOT NULL SELECT 1 ELSE SELECT Count(*) FROM sys.databases WHERE [name]=N'MetopeAzureDb'
2018-04-07 12:29:43.5154|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: IF db_id(N'MetopeAzureDb') IS NOT NULL SELECT 1 ELSE SELECT Count(*) FROM sys.databases WHERE [name]=N'MetopeAzureDb'
2018-04-07 12:31:28.8416|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: IF db_id(N'MetopeAzureDb') IS NOT NULL SELECT 1 ELSE SELECT Count(*) FROM sys.databases WHERE [name]=N'MetopeAzureDb'
2018-04-07 12:31:28.9881|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: IF db_id(N'MetopeAzureDb') IS NOT NULL SELECT 1 ELSE SELECT Count(*) FROM sys.databases WHERE [name]=N'MetopeAzureDb'
2018-04-07 12:31:29.2028|ERROR|ASP.MetopeNspace.MvcApplication|Error caught in Application_Error event
, http://localhost:53133/SecurityAnalyticsHistory/Edit?SecurityId=undefined&EntityId=1 
 Error in: The parameters dictionary contains a null entry for parameter 'SecurityId' of non-nullable type 'System.Decimal' for method 'System.Web.Mvc.ActionResult Edit(System.Decimal, System.Decimal, System.DateTime)' in 'MetopeMVCApp.Controllers.HistoryControllers.SecurityAnalyticsHistoryController'. An optional parameter must be a reference type, a nullable type, or be declared as an optional parameter.
Parameter name: parameters, 
Stack Trace:   at System.Web.Mvc.ActionDescriptor.ExtractParameterFromDictionary(ParameterInfo parameterInfo, IDictionary`2 parameters, MethodInfo methodInfo)
   at System.Web.Mvc.ReflectedActionDescriptor.Execute(ControllerContext controllerContext, IDictionary`2 parameters)
   at System.Web.Mvc.ControllerActionInvoker.InvokeActionMethod(ControllerContext controllerContext, ActionDescriptor actionDescriptor, IDictionary`2 parameters)
   at System.Web.Mvc.Async.AsyncControllerActionInvoker.<BeginInvokeSynchronousActionMethod>b__39(IAsyncResult asyncResult, ActionInvocation innerInvokeState)
   at System.Web.Mvc.Async.AsyncResultWrapper.WrappedAsyncResult`2.CallEndDelegate(IAsyncResult asyncResult)
   at System.Web.Mvc.Async.AsyncResultWrapper.WrappedAsyncResultBase`1.End()
   at System.Web.Mvc.Async.AsyncControllerActionInvoker.EndInvokeActionMethod(IAsyncResult asyncResult)
   at System.Web.Mvc.Async.AsyncControllerActionInvoker.AsyncInvocationWithFilters.<InvokeActionMethodFilterAsynchronouslyRecursive>b__3d()
   at System.Web.Mvc.Async.AsyncControllerActionInvoker.AsyncInvocationWithFilters.<>c__DisplayClass46.<InvokeActionMethodFilterAsynchronouslyRecursive>b__3f()
   at System.Web.Mvc.Async.AsyncControllerActionInvoker.AsyncInvocationWithFilters.<>c__DisplayClass46.<InvokeActionMethodFilterAsynchronouslyRecursive>b__3f()
   at System.Web.Mvc.Async.AsyncControllerActionInvoker.AsyncInvocationWithFilters.<>c__DisplayClass46.<InvokeActionMethodFilterAsynchronouslyRecursive>b__3f()
   at System.Web.Mvc.Async.AsyncControllerActionInvoker.AsyncInvocationWithFilters.<>c__DisplayClass46.<InvokeActionMethodFilterAsynchronouslyRecursive>b__3f()
   at System.Web.Mvc.Async.AsyncControllerActionInvoker.AsyncInvocationWithFilters.<>c__DisplayClass46.<InvokeActionMethodFilterAsynchronouslyRecursive>b__3f()
   at System.Web.Mvc.Async.AsyncControllerActionInvoker.<>c__DisplayClass33.<BeginInvokeActionMethodWithFilters>b__32(IAsyncResult asyncResult)
   at System.Web.Mvc.Async.AsyncResultWrapper.WrappedAsyncResult`1.CallEndDelegate(IAsyncResult asyncResult)
   at System.Web.Mvc.Async.AsyncResultWrapper.WrappedAsyncResultBase`1.End()
   at System.Web.Mvc.Async.AsyncControllerActionInvoker.EndInvokeActionMethodWithFilters(IAsyncResult asyncResult)
   at System.Web.Mvc.Async.AsyncControllerActionInvoker.<>c__DisplayClass21.<>c__DisplayClass2b.<BeginInvokeAction>b__1c()
   at System.Web.Mvc.Async.AsyncControllerActionInvoker.<>c__DisplayClass21.<BeginInvokeAction>b__1e(IAsyncResult asyncResult)
   at System.Web.Mvc.Async.AsyncResultWrapper.WrappedAsyncResult`1.CallEndDelegate(IAsyncResult asyncResult)
   at System.Web.Mvc.Async.AsyncResultWrapper.WrappedAsyncResultBase`1.End()
   at System.Web.Mvc.Async.AsyncControllerActionInvoker.EndInvokeAction(IAsyncResult asyncResult)
   at System.Web.Mvc.Controller.<BeginExecuteCore>b__1d(IAsyncResult asyncResult, ExecuteCoreState innerState)
   at System.Web.Mvc.Async.AsyncResultWrapper.WrappedAsyncVoid`1.CallEndDelegate(IAsyncResult asyncResult)
   at System.Web.Mvc.Async.AsyncResultWrapper.WrappedAsyncResultBase`1.End()
   at System.Web.Mvc.Controller.EndExecuteCore(IAsyncResult asyncResult)
   at System.Web.Mvc.Controller.<BeginExecute>b__15(IAsyncResult asyncResult, Controller controller)
   at System.Web.Mvc.Async.AsyncResultWrapper.WrappedAsyncVoid`1.CallEndDelegate(IAsyncResult asyncResult)
   at System.Web.Mvc.Async.AsyncResultWrapper.WrappedAsyncResultBase`1.End()
   at System.Web.Mvc.Controller.EndExecute(IAsyncResult asyncResult)
   at System.Web.Mvc.Controller.System.Web.Mvc.Async.IAsyncController.EndExecute(IAsyncResult asyncResult)
   at System.Web.Mvc.MvcHandler.<BeginProcessRequest>b__5(IAsyncResult asyncResult, ProcessRequestState innerState)
   at System.Web.Mvc.Async.AsyncResultWrapper.WrappedAsyncVoid`1.CallEndDelegate(IAsyncResult asyncResult)
   at System.Web.Mvc.Async.AsyncResultWrapper.WrappedAsyncResultBase`1.End()
   at System.Web.Mvc.MvcHandler.EndProcessRequest(IAsyncResult asyncResult)
   at System.Web.Mvc.MvcHandler.System.Web.IHttpAsyncHandler.EndProcessRequest(IAsyncResult result)
   at System.Web.HttpApplication.CallHandlerExecutionStep.System.Web.HttpApplication.IExecutionStep.Execute()
   at System.Web.HttpApplication.ExecuteStepImpl(IExecutionStep step)
   at System.Web.HttpApplication.ExecuteStep(IExecutionStep step, Boolean& completedSynchronously)
Session: Identity name:aaaaaa IsAuthenticated:True 
2018-04-07 12:31:29.3669|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: IF db_id(N'MetopeAzureDb') IS NOT NULL SELECT 1 ELSE SELECT Count(*) FROM sys.databases WHERE [name]=N'MetopeAzureDb'
2018-04-07 12:31:29.4014|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: IF db_id(N'MetopeAzureDb') IS NOT NULL SELECT 1 ELSE SELECT Count(*) FROM sys.databases WHERE [name]=N'MetopeAzureDb'
2018-04-07 12:31:29.4405|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: IF db_id(N'MetopeAzureDb') IS NOT NULL SELECT 1 ELSE SELECT Count(*) FROM sys.databases WHERE [name]=N'MetopeAzureDb'
2018-04-07 12:31:29.4775|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: IF db_id(N'MetopeAzureDb') IS NOT NULL SELECT 1 ELSE SELECT Count(*) FROM sys.databases WHERE [name]=N'MetopeAzureDb'
2018-04-07 12:31:36.2095|ERROR|ASP.MetopeNspace.MvcApplication|Error caught in Application_Error event
, http://localhost:53133/SecurityAnalyticsHistory/Edit?SecurityId=undefined&EntityId=1 
 Error in: The parameters dictionary contains a null entry for parameter 'SecurityId' of non-nullable type 'System.Decimal' for method 'System.Web.Mvc.ActionResult Edit(System.Decimal, System.Decimal, System.DateTime)' in 'MetopeMVCApp.Controllers.HistoryControllers.SecurityAnalyticsHistoryController'. An optional parameter must be a reference type, a nullable type, or be declared as an optional parameter.
Parameter name: parameters, 
Stack Trace:   at System.Web.Mvc.ActionDescriptor.ExtractParameterFromDictionary(ParameterInfo parameterInfo, IDictionary`2 parameters, MethodInfo methodInfo)
   at System.Web.Mvc.ReflectedActionDescriptor.Execute(ControllerContext controllerContext, IDictionary`2 parameters)
   at System.Web.Mvc.ControllerActionInvoker.InvokeActionMethod(ControllerContext controllerContext, ActionDescriptor actionDescriptor, IDictionary`2 parameters)
   at System.Web.Mvc.Async.AsyncControllerActionInvoker.<BeginInvokeSynchronousActionMethod>b__39(IAsyncResult asyncResult, ActionInvocation innerInvokeState)
   at System.Web.Mvc.Async.AsyncResultWrapper.WrappedAsyncResult`2.CallEndDelegate(IAsyncResult asyncResult)
   at System.Web.Mvc.Async.AsyncResultWrapper.WrappedAsyncResultBase`1.End()
   at System.Web.Mvc.Async.AsyncControllerActionInvoker.EndInvokeActionMethod(IAsyncResult asyncResult)
   at System.Web.Mvc.Async.AsyncControllerActionInvoker.AsyncInvocationWithFilters.<InvokeActionMethodFilterAsynchronouslyRecursive>b__3d()
   at System.Web.Mvc.Async.AsyncControllerActionInvoker.AsyncInvocationWithFilters.<>c__DisplayClass46.<InvokeActionMethodFilterAsynchronouslyRecursive>b__3f()
   at System.Web.Mvc.Async.AsyncControllerActionInvoker.AsyncInvocationWithFilters.<>c__DisplayClass46.<InvokeActionMethodFilterAsynchronouslyRecursive>b__3f()
   at System.Web.Mvc.Async.AsyncControllerActionInvoker.AsyncInvocationWithFilters.<>c__DisplayClass46.<InvokeActionMethodFilterAsynchronouslyRecursive>b__3f()
   at System.Web.Mvc.Async.AsyncControllerActionInvoker.AsyncInvocationWithFilters.<>c__DisplayClass46.<InvokeActionMethodFilterAsynchronouslyRecursive>b__3f()
   at System.Web.Mvc.Async.AsyncControllerActionInvoker.AsyncInvocationWithFilters.<>c__DisplayClass46.<InvokeActionMethodFilterAsynchronouslyRecursive>b__3f()
   at System.Web.Mvc.Async.AsyncControllerActionInvoker.<>c__DisplayClass33.<BeginInvokeActionMethodWithFilters>b__32(IAsyncResult asyncResult)
   at System.Web.Mvc.Async.AsyncResultWrapper.WrappedAsyncResult`1.CallEndDelegate(IAsyncResult asyncResult)
   at System.Web.Mvc.Async.AsyncResultWrapper.WrappedAsyncResultBase`1.End()
   at System.Web.Mvc.Async.AsyncControllerActionInvoker.EndInvokeActionMethodWithFilters(IAsyncResult asyncResult)
   at System.Web.Mvc.Async.AsyncControllerActionInvoker.<>c__DisplayClass21.<>c__DisplayClass2b.<BeginInvokeAction>b__1c()
   at System.Web.Mvc.Async.AsyncControllerActionInvoker.<>c__DisplayClass21.<BeginInvokeAction>b__1e(IAsyncResult asyncResult)
   at System.Web.Mvc.Async.AsyncResultWrapper.WrappedAsyncResult`1.CallEndDelegate(IAsyncResult asyncResult)
   at System.Web.Mvc.Async.AsyncResultWrapper.WrappedAsyncResultBase`1.End()
   at System.Web.Mvc.Async.AsyncControllerActionInvoker.EndInvokeAction(IAsyncResult asyncResult)
   at System.Web.Mvc.Controller.<BeginExecuteCore>b__1d(IAsyncResult asyncResult, ExecuteCoreState innerState)
   at System.Web.Mvc.Async.AsyncResultWrapper.WrappedAsyncVoid`1.CallEndDelegate(IAsyncResult asyncResult)
   at System.Web.Mvc.Async.AsyncResultWrapper.WrappedAsyncResultBase`1.End()
   at System.Web.Mvc.Controller.EndExecuteCore(IAsyncResult asyncResult)
   at System.Web.Mvc.Controller.<BeginExecute>b__15(IAsyncResult asyncResult, Controller controller)
   at System.Web.Mvc.Async.AsyncResultWrapper.WrappedAsyncVoid`1.CallEndDelegate(IAsyncResult asyncResult)
   at System.Web.Mvc.Async.AsyncResultWrapper.WrappedAsyncResultBase`1.End()
   at System.Web.Mvc.Controller.EndExecute(IAsyncResult asyncResult)
   at System.Web.Mvc.Controller.System.Web.Mvc.Async.IAsyncController.EndExecute(IAsyncResult asyncResult)
   at System.Web.Mvc.MvcHandler.<BeginProcessRequest>b__5(IAsyncResult asyncResult, ProcessRequestState innerState)
   at System.Web.Mvc.Async.AsyncResultWrapper.WrappedAsyncVoid`1.CallEndDelegate(IAsyncResult asyncResult)
   at System.Web.Mvc.Async.AsyncResultWrapper.WrappedAsyncResultBase`1.End()
   at System.Web.Mvc.MvcHandler.EndProcessRequest(IAsyncResult asyncResult)
   at System.Web.Mvc.MvcHandler.System.Web.IHttpAsyncHandler.EndProcessRequest(IAsyncResult result)
   at System.Web.HttpApplication.CallHandlerExecutionStep.System.Web.HttpApplication.IExecutionStep.Execute()
   at System.Web.HttpApplication.ExecuteStepImpl(IExecutionStep step)
   at System.Web.HttpApplication.ExecuteStep(IExecutionStep step, Boolean& completedSynchronously)
Session: Identity name:aaaaaa IsAuthenticated:True 
2018-04-07 12:31:36.2636|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: IF db_id(N'MetopeAzureDb') IS NOT NULL SELECT 1 ELSE SELECT Count(*) FROM sys.databases WHERE [name]=N'MetopeAzureDb'
2018-04-07 12:31:36.2871|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: IF db_id(N'MetopeAzureDb') IS NOT NULL SELECT 1 ELSE SELECT Count(*) FROM sys.databases WHERE [name]=N'MetopeAzureDb'
2018-04-07 12:31:36.3141|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: IF db_id(N'MetopeAzureDb') IS NOT NULL SELECT 1 ELSE SELECT Count(*) FROM sys.databases WHERE [name]=N'MetopeAzureDb'
2018-04-07 12:31:36.3431|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: IF db_id(N'MetopeAzureDb') IS NOT NULL SELECT 1 ELSE SELECT Count(*) FROM sys.databases WHERE [name]=N'MetopeAzureDb'
2018-04-07 12:32:48.7034|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: SELECT 
    [Project1].[Decimal_Precision] AS [Decimal_Precision], 
    [Project1].[Entity_ID] AS [Entity_ID], 
    [Project1].[Security_ID] AS [Security_ID], 
    [Project1].[Issued_Amount] AS [Issued_Amount], 
    [Project1].[Market_Capitalisation] AS [Market_Capitalisation], 
    [Project1].[Risk_Premium] AS [Risk_Premium], 
    [Project1].[Exit_Price] AS [Exit_Price], 
    [Project1].[Total_Return_ME_1YR] AS [Total_Return_ME_1YR], 
    [Project1].[Total_Return_ME_2YR] AS [Total_Return_ME_2YR], 
    [Project1].[Total_Return_ME_3YR] AS [Total_Return_ME_3YR], 
    [Project1].[Historic_Distribution] AS [Historic_Distribution], 
    [Project1].[Distribution_Growth_Forecast_Yr1] AS [Distribution_Growth_Forecast_Yr1], 
    [Project1].[Distribution_Growth_Forecast_Yr2] AS [Distribution_Growth_Forecast_Yr2], 
    [Project1].[Distribution_Growth_Forecast_Yr3] AS [Distribution_Growth_Forecast_Yr3], 
    [Project1].[Forecast_Distribution_Yr1] AS [Forecast_Distribution_Yr1], 
    [Project1].[Forecast_Distribution_Yr2] AS [Forecast_Distribution_Yr2], 
    [Project1].[Forecast_Distribution_Yr3] AS [Forecast_Distribution_Yr3], 
    [Project1].[Earnings_Growth_Compounded] AS [Earnings_Growth_Compounded], 
    [Project1].[Earnings_Forecast_Yr3] AS [Earnings_Forecast_Yr3], 
    [Project1].[Historic_Dividend_Yield_FYE] AS [Historic_Dividend_Yield_FYE], 
    [Project1].[Forward_Dividend_Yield_FYE] AS [Forward_Dividend_Yield_FYE], 
    [Project1].[Yr3_Forward_Dividend_Yield] AS [Yr3_Forward_Dividend_Yield], 
    [Project1].[Rolling_12M_Forward_Yield] AS [Rolling_12M_Forward_Yield], 
    [Project1].[Historical_Earnings_FYE] AS [Historical_Earnings_FYE], 
    [Project1].[Earnings_Forecast_Yr1] AS [Earnings_Forecast_Yr1], 
    [Project1].[Earnings_Forecast_Yr2] AS [Earnings_Forecast_Yr2], 
    [Project1].[Historic_Dividend_Yield_Relative] AS [Historic_Dividend_Yield_Relative], 
    [Project1].[Rolling_12M_Historic_Distribution_PriceCurr] AS [Rolling_12M_Historic_Distribution_PriceCurr], 
    [Project1].[Short_Term_Market_Rerate] AS [Short_Term_Market_Rerate], 
    [Project1].[Forecast_12M_Total_Return] AS [Forecast_12M_Total_Return], 
    [Project1].[Clean_Price] AS [Clean_Price], 
    [Project1].[Rolling_Dividend_Yield_Historic] AS [Rolling_Dividend_Yield_Historic], 
    [Project1].[Last_Update_Date] AS [Last_Update_Date], 
    [Project1].[Last_Update_User] AS [Last_Update_User], 
    [Project1].[Discount_Security_ID] AS [Discount_Security_ID], 
    [Project1].[Net_Present_Value] AS [Net_Present_Value], 
    [Project1].[Forecast_Rolling_Custom_Income] AS [Forecast_Rolling_Custom_Income], 
    [Project1].[Custom_Period] AS [Custom_Period], 
    [Project1].[Rolling_12M_Historic_Distribution] AS [Rolling_12M_Historic_Distribution], 
    [Project1].[Record_Date] AS [Record_Date], 
    [Project1].[Session_ID] AS [Session_ID], 
    [Project1].[Hist_Last_Update_Date] AS [Hist_Last_Update_Date], 
    [Project1].[Hist_Last_Update_User] AS [Hist_Last_Update_User], 
    [Project1].[Rolling_12M_Forecast_Distribution] AS [Rolling_12M_Forecast_Distribution], 
    [Project1].[Yr2_Forward_Dividend_Yield] AS [Yr2_Forward_Dividend_Yield], 
    [Project1].[Exit_Yield] AS [Exit_Yield], 
    [Project1].[Discount_Rate] AS [Discount_Rate], 
    [Project1].[Distribution_Growth_Compounded] AS [Distribution_Growth_Compounded], 
    [Project1].[Forecast_12MRolling_Income_Accrual] AS [Forecast_12MRolling_Income_Accrual], 
    [Project1].[Rolling_12_to_24M_Forecast_Distribution] AS [Rolling_12_to_24M_Forecast_Distribution], 
    [Project1].[Rolling_24_to_36M_Forecast_Distribution] AS [Rolling_24_to_36M_Forecast_Distribution], 
    [Project1].[Forecast_Yr1_Dividend_Yield_Relative] AS [Forecast_Yr1_Dividend_Yield_Relative], 
    [Project1].[Market_Historic_Yield] AS [Market_Historic_Yield], 
    [Project1].[Market_Forward_Yield] AS [Market_Forward_Yield], 
    [Project1].[Historic_Distribution_PriceCurr] AS [Historic_Distribution_PriceCurr], 
    [Project1].[Forecast_Distribution_Yr1_PriceCurr] AS [Forecast_Distribution_Yr1_PriceCurr], 
    [Project1].[Forecast_Distribution_Yr2_PriceCurr] AS [Forecast_Distribution_Yr2_PriceCurr], 
    [Project1].[Forecast_Distribution_Yr3_PriceCurr] AS [Forecast_Distribution_Yr3_PriceCurr], 
    [Project1].[Rolling_12M_Forecast_Distribution_PriceCurr] AS [Rolling_12M_Forecast_Distribution_PriceCurr], 
    [Project1].[Rolling_12_24M_Forecast_Distribution_PriceCurr] AS [Rolling_12_24M_Forecast_Distribution_PriceCurr], 
    [Project1].[Rolling_24_36M_Forecast_Distribution_PriceCurr] AS [Rolling_24_36M_Forecast_Distribution_PriceCurr], 
    [Project1].[Distribution_Growth_Forecast_Yr4] AS [Distribution_Growth_Forecast_Yr4], 
    [Project1].[Earnings_Forecast_Yr4] AS [Earnings_Forecast_Yr4], 
    [Project1].[Forecast_Distribution_Yr4] AS [Forecast_Distribution_Yr4], 
    [Project1].[Forecast_Distribution_Yr4_PriceCurr] AS [Forecast_Distribution_Yr4_PriceCurr], 
    [Project1].[Security_ID1] AS [Security_ID1], 
    [Project1].[Entity_ID1] AS [Entity_ID1], 
    [Project1].[Security_Name] AS [Security_Name], 
    [Project1].[Short_Name] AS [Short_Name], 
    [Project1].[Primary_Exch] AS [Primary_Exch], 
    [Project1].[Secondary_Exch] AS [Secondary_Exch], 
    [Project1].[Country_Of_Domicile] AS [Country_Of_Domicile], 
    [Project1].[Country_Of_Risk] AS [Country_Of_Risk], 
    [Project1].[Security_Type_Code] AS [Security_Type_Code], 
    [Project1].[Price_Multiplier] AS [Price_Multiplier], 
    [Project1].[Income_Frequency] AS [Income_Frequency], 
    [Project1].[Issuer_Code] AS [Issuer_Code], 
    [Project1].[Ultimate_Issuer_Code] AS [Ultimate_Issuer_Code], 
    [Project1].[Asset_Currency] AS [Asset_Currency], 
    [Project1].[Min_Lot_Size] AS [Min_Lot_Size], 
    [Project1].[AvePrice_Rounding] AS [AvePrice_Rounding], 
    [Project1].[Issue_Date] AS [Issue_Date], 
    [Project1].[Maturity_Date] AS [Maturity_Date], 
    [Project1].[Coupon_Rate] AS [Coupon_Rate], 
    [Project1].[Price_Exchange] AS [Price_Exchange], 
    [Project1].[Trade_Currency] AS [Trade_Currency], 
    [Project1].[Price_Curr] AS [Price_Curr], 
    [Project1].[Currency_Pair_Code] AS [Currency_Pair_Code], 
    [Project1].[Share_Class] AS [Share_Class], 
    [Project1].[Current_Market_Price] AS [Current_Market_Price], 
    [Project1].[Index_Type] AS [Index_Type], 
    [Project1].[Clean_Price_Formula] AS [Clean_Price_Formula], 
    [Project1].[Accrued_Income_Price_Formula] AS [Accrued_Income_Price_Formula], 
    [Project1].[Odd_First_Coupon_Date] AS [Odd_First_Coupon_Date], 
    [Project1].[Odd_Last_Coupon_Date] AS [Odd_Last_Coupon_Date], 
    [Project1].[Coupon_Anniversary_Indicator] AS [Coupon_Anniversary_Indicator], 
    [Project1].[Track_EOM_Flag] AS [Track_EOM_Flag], 
    [Project1].[Next_Coupon_Date] AS [Next_Coupon_Date], 
    [Project1].[Previous_Coupon_Date] AS [Previous_Coupon_Date], 
    [Project1].[Payment_Frequency] AS [Payment_Frequency], 
    [Project1].[Coupon_BusDay_Adjustment] AS [Coupon_BusDay_Adjustment], 
    [Project1].[Next_Ex_Div_Date] AS [Next_Ex_Div_Date], 
    [Project1].[Ex_Div_BusDay_Adjustment] AS [Ex_Div_BusDay_Adjustment], 
    [Project1].[Ex_Div_Period] AS [Ex_Div_Period], 
    [Project1].[Ticker] AS [Ticker], 
    [Project1].[Inet_ID] AS [Inet_ID], 
    [Project1].[Bloomberg_ID] AS [Bloomberg_ID], 
    [Project1].[External_Sec_ID] AS [External_Sec_ID], 
    [Project1].[Reuters_ID] AS [Reuters_ID], 
    [Project1].[ISIN] AS [ISIN], 
    [Project1].[Call_Account_Flag] AS [Call_Account_Flag], 
    [Project1].[System_Locked] AS [System_Locked], 
    [Project1].[Last_Update_User1] AS [Last_Update_User1], 
    [Project1].[Last_Update_Date1] AS [Last_Update_Date1], 
    [Project1].[Security_Status] AS [Security_Status], 
    [Project1].[Benchmark_Portfolio] AS [Benchmark_Portfolio], 
    [Project1].[Active_flag] AS [Active_flag], 
    [Project1].[Dividend_FX_Security_ID] AS [Dividend_FX_Security_ID]
    FROM ( SELECT 
        [Extent1].[Entity_ID] AS [Entity_ID], 
        [Extent1].[Security_ID] AS [Security_ID], 
        [Extent1].[Issued_Amount] AS [Issued_Amount], 
        [Extent1].[Market_Capitalisation] AS [Market_Capitalisation], 
        [Extent1].[Risk_Premium] AS [Risk_Premium], 
        [Extent1].[Exit_Price] AS [Exit_Price], 
        [Extent1].[Total_Return_ME_1YR] AS [Total_Return_ME_1YR], 
        [Extent1].[Total_Return_ME_2YR] AS [Total_Return_ME_2YR], 
        [Extent1].[Total_Return_ME_3YR] AS [Total_Return_ME_3YR], 
        [Extent1].[Historic_Distribution] AS [Historic_Distribution], 
        [Extent1].[Distribution_Growth_Forecast_Yr1] AS [Distribution_Growth_Forecast_Yr1], 
        [Extent1].[Distribution_Growth_Forecast_Yr2] AS [Distribution_Growth_Forecast_Yr2], 
        [Extent1].[Distribution_Growth_Forecast_Yr3] AS [Distribution_Growth_Forecast_Yr3], 
        [Extent1].[Forecast_Distribution_Yr1] AS [Forecast_Distribution_Yr1], 
        [Extent1].[Forecast_Distribution_Yr2] AS [Forecast_Distribution_Yr2], 
        [Extent1].[Forecast_Distribution_Yr3] AS [Forecast_Distribution_Yr3], 
        [Extent1].[Earnings_Growth_Compounded] AS [Earnings_Growth_Compounded], 
        [Extent1].[Earnings_Forecast_Yr3] AS [Earnings_Forecast_Yr3], 
        [Extent1].[Historic_Dividend_Yield_FYE] AS [Historic_Dividend_Yield_FYE], 
        [Extent1].[Forward_Dividend_Yield_FYE] AS [Forward_Dividend_Yield_FYE], 
        [Extent1].[Yr3_Forward_Dividend_Yield] AS [Yr3_Forward_Dividend_Yield], 
        [Extent1].[Rolling_12M_Forward_Yield] AS [Rolling_12M_Forward_Yield], 
        [Extent1].[Historical_Earnings_FYE] AS [Historical_Earnings_FYE], 
        [Extent1].[Earnings_Forecast_Yr1] AS [Earnings_Forecast_Yr1], 
        [Extent1].[Earnings_Forecast_Yr2] AS [Earnings_Forecast_Yr2], 
        [Extent1].[Historic_Dividend_Yield_Relative] AS [Historic_Dividend_Yield_Relative], 
        [Extent1].[Rolling_12M_Historic_Distribution_PriceCurr] AS [Rolling_12M_Historic_Distribution_PriceCurr], 
        [Extent1].[Short_Term_Market_Rerate] AS [Short_Term_Market_Rerate], 
        [Extent1].[Forecast_12M_Total_Return] AS [Forecast_12M_Total_Return], 
        [Extent1].[Clean_Price] AS [Clean_Price], 
        [Extent1].[Rolling_Dividend_Yield_Historic] AS [Rolling_Dividend_Yield_Historic], 
        [Extent1].[Last_Update_Date] AS [Last_Update_Date], 
        [Extent1].[Last_Update_User] AS [Last_Update_User], 
        [Extent1].[Discount_Security_ID] AS [Discount_Security_ID], 
        [Extent1].[Net_Present_Value] AS [Net_Present_Value], 
        [Extent1].[Forecast_Rolling_Custom_Income] AS [Forecast_Rolling_Custom_Income], 
        [Extent1].[Custom_Period] AS [Custom_Period], 
        [Extent1].[Rolling_12M_Historic_Distribution] AS [Rolling_12M_Historic_Distribution], 
        [Extent1].[Record_Date] AS [Record_Date], 
        [Extent1].[Session_ID] AS [Session_ID], 
        [Extent1].[Hist_Last_Update_Date] AS [Hist_Last_Update_Date], 
        [Extent1].[Hist_Last_Update_User] AS [Hist_Last_Update_User], 
        [Extent1].[Rolling_12M_Forecast_Distribution] AS [Rolling_12M_Forecast_Distribution], 
        [Extent1].[Yr2_Forward_Dividend_Yield] AS [Yr2_Forward_Dividend_Yield], 
        [Extent1].[Exit_Yield] AS [Exit_Yield], 
        [Extent1].[Discount_Rate] AS [Discount_Rate], 
        [Extent1].[Distribution_Growth_Compounded] AS [Distribution_Growth_Compounded], 
        [Extent1].[Forecast_12MRolling_Income_Accrual] AS [Forecast_12MRolling_Income_Accrual], 
        [Extent1].[Rolling_12_to_24M_Forecast_Distribution] AS [Rolling_12_to_24M_Forecast_Distribution], 
        [Extent1].[Rolling_24_to_36M_Forecast_Distribution] AS [Rolling_24_to_36M_Forecast_Distribution], 
        [Extent1].[Forecast_Yr1_Dividend_Yield_Relative] AS [Forecast_Yr1_Dividend_Yield_Relative], 
        [Extent1].[Market_Historic_Yield] AS [Market_Historic_Yield], 
        [Extent1].[Market_Forward_Yield] AS [Market_Forward_Yield], 
        [Extent1].[Historic_Distribution_PriceCurr] AS [Historic_Distribution_PriceCurr], 
        [Extent1].[Forecast_Distribution_Yr1_PriceCurr] AS [Forecast_Distribution_Yr1_PriceCurr], 
        [Extent1].[Forecast_Distribution_Yr2_PriceCurr] AS [Forecast_Distribution_Yr2_PriceCurr], 
        [Extent1].[Forecast_Distribution_Yr3_PriceCurr] AS [Forecast_Distribution_Yr3_PriceCurr], 
        [Extent1].[Rolling_12M_Forecast_Distribution_PriceCurr] AS [Rolling_12M_Forecast_Distribution_PriceCurr], 
        [Extent1].[Rolling_12_24M_Forecast_Distribution_PriceCurr] AS [Rolling_12_24M_Forecast_Distribution_PriceCurr], 
        [Extent1].[Rolling_24_36M_Forecast_Distribution_PriceCurr] AS [Rolling_24_36M_Forecast_Distribution_PriceCurr], 
        [Extent1].[Distribution_Growth_Forecast_Yr4] AS [Distribution_Growth_Forecast_Yr4], 
        [Extent1].[Earnings_Forecast_Yr4] AS [Earnings_Forecast_Yr4], 
        [Extent1].[Forecast_Distribution_Yr4] AS [Forecast_Distribution_Yr4], 
        [Extent1].[Forecast_Distribution_Yr4_PriceCurr] AS [Forecast_Distribution_Yr4_PriceCurr], 
        [Extent2].[Security_ID] AS [Security_ID1], 
        [Extent2].[Entity_ID] AS [Entity_ID1], 
        [Extent2].[Security_Name] AS [Security_Name], 
        [Extent2].[Short_Name] AS [Short_Name], 
        [Extent2].[Primary_Exch] AS [Primary_Exch], 
        [Extent2].[Secondary_Exch] AS [Secondary_Exch], 
        [Extent2].[Country_Of_Domicile] AS [Country_Of_Domicile], 
        [Extent2].[Country_Of_Risk] AS [Country_Of_Risk], 
        [Extent2].[Security_Type_Code] AS [Security_Type_Code], 
        [Extent2].[Price_Multiplier] AS [Price_Multiplier], 
        [Extent2].[Income_Frequency] AS [Income_Frequency], 
        [Extent2].[Issuer_Code] AS [Issuer_Code], 
        [Extent2].[Ultimate_Issuer_Code] AS [Ultimate_Issuer_Code], 
        [Extent2].[Asset_Currency] AS [Asset_Currency], 
        [Extent2].[Min_Lot_Size] AS [Min_Lot_Size], 
        [Extent2].[Decimal_Precision] AS [Decimal_Precision], 
        [Extent2].[AvePrice_Rounding] AS [AvePrice_Rounding], 
        [Extent2].[Issue_Date] AS [Issue_Date], 
        [Extent2].[Maturity_Date] AS [Maturity_Date], 
        [Extent2].[Coupon_Rate] AS [Coupon_Rate], 
        [Extent2].[Price_Exchange] AS [Price_Exchange], 
        [Extent2].[Trade_Currency] AS [Trade_Currency], 
        [Extent2].[Price_Curr] AS [Price_Curr], 
        [Extent2].[Currency_Pair_Code] AS [Currency_Pair_Code], 
        [Extent2].[Share_Class] AS [Share_Class], 
        [Extent2].[Current_Market_Price] AS [Current_Market_Price], 
        [Extent2].[Index_Type] AS [Index_Type], 
        [Extent2].[Clean_Price_Formula] AS [Clean_Price_Formula], 
        [Extent2].[Accrued_Income_Price_Formula] AS [Accrued_Income_Price_Formula], 
        [Extent2].[Odd_First_Coupon_Date] AS [Odd_First_Coupon_Date], 
        [Extent2].[Odd_Last_Coupon_Date] AS [Odd_Last_Coupon_Date], 
        [Extent2].[Coupon_Anniversary_Indicator] AS [Coupon_Anniversary_Indicator], 
        [Extent2].[Track_EOM_Flag] AS [Track_EOM_Flag], 
        [Extent2].[Next_Coupon_Date] AS [Next_Coupon_Date], 
        [Extent2].[Previous_Coupon_Date] AS [Previous_Coupon_Date], 
        [Extent2].[Payment_Frequency] AS [Payment_Frequency], 
        [Extent2].[Coupon_BusDay_Adjustment] AS [Coupon_BusDay_Adjustment], 
        [Extent2].[Next_Ex_Div_Date] AS [Next_Ex_Div_Date], 
        [Extent2].[Ex_Div_BusDay_Adjustment] AS [Ex_Div_BusDay_Adjustment], 
        [Extent2].[Ex_Div_Period] AS [Ex_Div_Period], 
        [Extent2].[Ticker] AS [Ticker], 
        [Extent2].[Inet_ID] AS [Inet_ID], 
        [Extent2].[Bloomberg_ID] AS [Bloomberg_ID], 
        [Extent2].[External_Sec_ID] AS [External_Sec_ID], 
        [Extent2].[Reuters_ID] AS [Reuters_ID], 
        [Extent2].[ISIN] AS [ISIN], 
        [Extent2].[Call_Account_Flag] AS [Call_Account_Flag], 
        [Extent2].[System_Locked] AS [System_Locked], 
        [Extent2].[Last_Update_User] AS [Last_Update_User1], 
        [Extent2].[Last_Update_Date] AS [Last_Update_Date1], 
        [Extent2].[Security_Status] AS [Security_Status], 
        [Extent2].[Benchmark_Portfolio] AS [Benchmark_Portfolio], 
        [Extent2].[Active_flag] AS [Active_flag], 
        [Extent2].[Dividend_FX_Security_ID] AS [Dividend_FX_Security_ID]
        FROM  [dbo].[Security_Analytics_History] AS [Extent1]
        INNER JOIN [dbo].[Security_Detail] AS [Extent2] ON [Extent1].[Security_ID] = [Extent2].[Security_ID]
        WHERE [Extent1].[Security_ID] = @p__linq__0
    )  AS [Project1]
    ORDER BY [Project1].[Record_Date] DESC
2018-04-07 12:32:48.7995|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: SELECT 
    [Project1].[Decimal_Precision] AS [Decimal_Precision], 
    [Project1].[Entity_ID] AS [Entity_ID], 
    [Project1].[Security_ID] AS [Security_ID], 
    [Project1].[Issued_Amount] AS [Issued_Amount], 
    [Project1].[Market_Capitalisation] AS [Market_Capitalisation], 
    [Project1].[Risk_Premium] AS [Risk_Premium], 
    [Project1].[Exit_Price] AS [Exit_Price], 
    [Project1].[Total_Return_ME_1YR] AS [Total_Return_ME_1YR], 
    [Project1].[Total_Return_ME_2YR] AS [Total_Return_ME_2YR], 
    [Project1].[Total_Return_ME_3YR] AS [Total_Return_ME_3YR], 
    [Project1].[Historic_Distribution] AS [Historic_Distribution], 
    [Project1].[Distribution_Growth_Forecast_Yr1] AS [Distribution_Growth_Forecast_Yr1], 
    [Project1].[Distribution_Growth_Forecast_Yr2] AS [Distribution_Growth_Forecast_Yr2], 
    [Project1].[Distribution_Growth_Forecast_Yr3] AS [Distribution_Growth_Forecast_Yr3], 
    [Project1].[Forecast_Distribution_Yr1] AS [Forecast_Distribution_Yr1], 
    [Project1].[Forecast_Distribution_Yr2] AS [Forecast_Distribution_Yr2], 
    [Project1].[Forecast_Distribution_Yr3] AS [Forecast_Distribution_Yr3], 
    [Project1].[Earnings_Growth_Compounded] AS [Earnings_Growth_Compounded], 
    [Project1].[Earnings_Forecast_Yr3] AS [Earnings_Forecast_Yr3], 
    [Project1].[Historic_Dividend_Yield_FYE] AS [Historic_Dividend_Yield_FYE], 
    [Project1].[Forward_Dividend_Yield_FYE] AS [Forward_Dividend_Yield_FYE], 
    [Project1].[Yr3_Forward_Dividend_Yield] AS [Yr3_Forward_Dividend_Yield], 
    [Project1].[Rolling_12M_Forward_Yield] AS [Rolling_12M_Forward_Yield], 
    [Project1].[Historical_Earnings_FYE] AS [Historical_Earnings_FYE], 
    [Project1].[Earnings_Forecast_Yr1] AS [Earnings_Forecast_Yr1], 
    [Project1].[Earnings_Forecast_Yr2] AS [Earnings_Forecast_Yr2], 
    [Project1].[Historic_Dividend_Yield_Relative] AS [Historic_Dividend_Yield_Relative], 
    [Project1].[Rolling_12M_Historic_Distribution_PriceCurr] AS [Rolling_12M_Historic_Distribution_PriceCurr], 
    [Project1].[Short_Term_Market_Rerate] AS [Short_Term_Market_Rerate], 
    [Project1].[Forecast_12M_Total_Return] AS [Forecast_12M_Total_Return], 
    [Project1].[Clean_Price] AS [Clean_Price], 
    [Project1].[Rolling_Dividend_Yield_Historic] AS [Rolling_Dividend_Yield_Historic], 
    [Project1].[Last_Update_Date] AS [Last_Update_Date], 
    [Project1].[Last_Update_User] AS [Last_Update_User], 
    [Project1].[Discount_Security_ID] AS [Discount_Security_ID], 
    [Project1].[Net_Present_Value] AS [Net_Present_Value], 
    [Project1].[Forecast_Rolling_Custom_Income] AS [Forecast_Rolling_Custom_Income], 
    [Project1].[Custom_Period] AS [Custom_Period], 
    [Project1].[Rolling_12M_Historic_Distribution] AS [Rolling_12M_Historic_Distribution], 
    [Project1].[Record_Date] AS [Record_Date], 
    [Project1].[Session_ID] AS [Session_ID], 
    [Project1].[Hist_Last_Update_Date] AS [Hist_Last_Update_Date], 
    [Project1].[Hist_Last_Update_User] AS [Hist_Last_Update_User], 
    [Project1].[Rolling_12M_Forecast_Distribution] AS [Rolling_12M_Forecast_Distribution], 
    [Project1].[Yr2_Forward_Dividend_Yield] AS [Yr2_Forward_Dividend_Yield], 
    [Project1].[Exit_Yield] AS [Exit_Yield], 
    [Project1].[Discount_Rate] AS [Discount_Rate], 
    [Project1].[Distribution_Growth_Compounded] AS [Distribution_Growth_Compounded], 
    [Project1].[Forecast_12MRolling_Income_Accrual] AS [Forecast_12MRolling_Income_Accrual], 
    [Project1].[Rolling_12_to_24M_Forecast_Distribution] AS [Rolling_12_to_24M_Forecast_Distribution], 
    [Project1].[Rolling_24_to_36M_Forecast_Distribution] AS [Rolling_24_to_36M_Forecast_Distribution], 
    [Project1].[Forecast_Yr1_Dividend_Yield_Relative] AS [Forecast_Yr1_Dividend_Yield_Relative], 
    [Project1].[Market_Historic_Yield] AS [Market_Historic_Yield], 
    [Project1].[Market_Forward_Yield] AS [Market_Forward_Yield], 
    [Project1].[Historic_Distribution_PriceCurr] AS [Historic_Distribution_PriceCurr], 
    [Project1].[Forecast_Distribution_Yr1_PriceCurr] AS [Forecast_Distribution_Yr1_PriceCurr], 
    [Project1].[Forecast_Distribution_Yr2_PriceCurr] AS [Forecast_Distribution_Yr2_PriceCurr], 
    [Project1].[Forecast_Distribution_Yr3_PriceCurr] AS [Forecast_Distribution_Yr3_PriceCurr], 
    [Project1].[Rolling_12M_Forecast_Distribution_PriceCurr] AS [Rolling_12M_Forecast_Distribution_PriceCurr], 
    [Project1].[Rolling_12_24M_Forecast_Distribution_PriceCurr] AS [Rolling_12_24M_Forecast_Distribution_PriceCurr], 
    [Project1].[Rolling_24_36M_Forecast_Distribution_PriceCurr] AS [Rolling_24_36M_Forecast_Distribution_PriceCurr], 
    [Project1].[Distribution_Growth_Forecast_Yr4] AS [Distribution_Growth_Forecast_Yr4], 
    [Project1].[Earnings_Forecast_Yr4] AS [Earnings_Forecast_Yr4], 
    [Project1].[Forecast_Distribution_Yr4] AS [Forecast_Distribution_Yr4], 
    [Project1].[Forecast_Distribution_Yr4_PriceCurr] AS [Forecast_Distribution_Yr4_PriceCurr], 
    [Project1].[Security_ID1] AS [Security_ID1], 
    [Project1].[Entity_ID1] AS [Entity_ID1], 
    [Project1].[Security_Name] AS [Security_Name], 
    [Project1].[Short_Name] AS [Short_Name], 
    [Project1].[Primary_Exch] AS [Primary_Exch], 
    [Project1].[Secondary_Exch] AS [Secondary_Exch], 
    [Project1].[Country_Of_Domicile] AS [Country_Of_Domicile], 
    [Project1].[Country_Of_Risk] AS [Country_Of_Risk], 
    [Project1].[Security_Type_Code] AS [Security_Type_Code], 
    [Project1].[Price_Multiplier] AS [Price_Multiplier], 
    [Project1].[Income_Frequency] AS [Income_Frequency], 
    [Project1].[Issuer_Code] AS [Issuer_Code], 
    [Project1].[Ultimate_Issuer_Code] AS [Ultimate_Issuer_Code], 
    [Project1].[Asset_Currency] AS [Asset_Currency], 
    [Project1].[Min_Lot_Size] AS [Min_Lot_Size], 
    [Project1].[AvePrice_Rounding] AS [AvePrice_Rounding], 
    [Project1].[Issue_Date] AS [Issue_Date], 
    [Project1].[Maturity_Date] AS [Maturity_Date], 
    [Project1].[Coupon_Rate] AS [Coupon_Rate], 
    [Project1].[Price_Exchange] AS [Price_Exchange], 
    [Project1].[Trade_Currency] AS [Trade_Currency], 
    [Project1].[Price_Curr] AS [Price_Curr], 
    [Project1].[Currency_Pair_Code] AS [Currency_Pair_Code], 
    [Project1].[Share_Class] AS [Share_Class], 
    [Project1].[Current_Market_Price] AS [Current_Market_Price], 
    [Project1].[Index_Type] AS [Index_Type], 
    [Project1].[Clean_Price_Formula] AS [Clean_Price_Formula], 
    [Project1].[Accrued_Income_Price_Formula] AS [Accrued_Income_Price_Formula], 
    [Project1].[Odd_First_Coupon_Date] AS [Odd_First_Coupon_Date], 
    [Project1].[Odd_Last_Coupon_Date] AS [Odd_Last_Coupon_Date], 
    [Project1].[Coupon_Anniversary_Indicator] AS [Coupon_Anniversary_Indicator], 
    [Project1].[Track_EOM_Flag] AS [Track_EOM_Flag], 
    [Project1].[Next_Coupon_Date] AS [Next_Coupon_Date], 
    [Project1].[Previous_Coupon_Date] AS [Previous_Coupon_Date], 
    [Project1].[Payment_Frequency] AS [Payment_Frequency], 
    [Project1].[Coupon_BusDay_Adjustment] AS [Coupon_BusDay_Adjustment], 
    [Project1].[Next_Ex_Div_Date] AS [Next_Ex_Div_Date], 
    [Project1].[Ex_Div_BusDay_Adjustment] AS [Ex_Div_BusDay_Adjustment], 
    [Project1].[Ex_Div_Period] AS [Ex_Div_Period], 
    [Project1].[Ticker] AS [Ticker], 
    [Project1].[Inet_ID] AS [Inet_ID], 
    [Project1].[Bloomberg_ID] AS [Bloomberg_ID], 
    [Project1].[External_Sec_ID] AS [External_Sec_ID], 
    [Project1].[Reuters_ID] AS [Reuters_ID], 
    [Project1].[ISIN] AS [ISIN], 
    [Project1].[Call_Account_Flag] AS [Call_Account_Flag], 
    [Project1].[System_Locked] AS [System_Locked], 
    [Project1].[Last_Update_User1] AS [Last_Update_User1], 
    [Project1].[Last_Update_Date1] AS [Last_Update_Date1], 
    [Project1].[Security_Status] AS [Security_Status], 
    [Project1].[Benchmark_Portfolio] AS [Benchmark_Portfolio], 
    [Project1].[Active_flag] AS [Active_flag], 
    [Project1].[Dividend_FX_Security_ID] AS [Dividend_FX_Security_ID]
    FROM ( SELECT 
        [Extent1].[Entity_ID] AS [Entity_ID], 
        [Extent1].[Security_ID] AS [Security_ID], 
        [Extent1].[Issued_Amount] AS [Issued_Amount], 
        [Extent1].[Market_Capitalisation] AS [Market_Capitalisation], 
        [Extent1].[Risk_Premium] AS [Risk_Premium], 
        [Extent1].[Exit_Price] AS [Exit_Price], 
        [Extent1].[Total_Return_ME_1YR] AS [Total_Return_ME_1YR], 
        [Extent1].[Total_Return_ME_2YR] AS [Total_Return_ME_2YR], 
        [Extent1].[Total_Return_ME_3YR] AS [Total_Return_ME_3YR], 
        [Extent1].[Historic_Distribution] AS [Historic_Distribution], 
        [Extent1].[Distribution_Growth_Forecast_Yr1] AS [Distribution_Growth_Forecast_Yr1], 
        [Extent1].[Distribution_Growth_Forecast_Yr2] AS [Distribution_Growth_Forecast_Yr2], 
        [Extent1].[Distribution_Growth_Forecast_Yr3] AS [Distribution_Growth_Forecast_Yr3], 
        [Extent1].[Forecast_Distribution_Yr1] AS [Forecast_Distribution_Yr1], 
        [Extent1].[Forecast_Distribution_Yr2] AS [Forecast_Distribution_Yr2], 
        [Extent1].[Forecast_Distribution_Yr3] AS [Forecast_Distribution_Yr3], 
        [Extent1].[Earnings_Growth_Compounded] AS [Earnings_Growth_Compounded], 
        [Extent1].[Earnings_Forecast_Yr3] AS [Earnings_Forecast_Yr3], 
        [Extent1].[Historic_Dividend_Yield_FYE] AS [Historic_Dividend_Yield_FYE], 
        [Extent1].[Forward_Dividend_Yield_FYE] AS [Forward_Dividend_Yield_FYE], 
        [Extent1].[Yr3_Forward_Dividend_Yield] AS [Yr3_Forward_Dividend_Yield], 
        [Extent1].[Rolling_12M_Forward_Yield] AS [Rolling_12M_Forward_Yield], 
        [Extent1].[Historical_Earnings_FYE] AS [Historical_Earnings_FYE], 
        [Extent1].[Earnings_Forecast_Yr1] AS [Earnings_Forecast_Yr1], 
        [Extent1].[Earnings_Forecast_Yr2] AS [Earnings_Forecast_Yr2], 
        [Extent1].[Historic_Dividend_Yield_Relative] AS [Historic_Dividend_Yield_Relative], 
        [Extent1].[Rolling_12M_Historic_Distribution_PriceCurr] AS [Rolling_12M_Historic_Distribution_PriceCurr], 
        [Extent1].[Short_Term_Market_Rerate] AS [Short_Term_Market_Rerate], 
        [Extent1].[Forecast_12M_Total_Return] AS [Forecast_12M_Total_Return], 
        [Extent1].[Clean_Price] AS [Clean_Price], 
        [Extent1].[Rolling_Dividend_Yield_Historic] AS [Rolling_Dividend_Yield_Historic], 
        [Extent1].[Last_Update_Date] AS [Last_Update_Date], 
        [Extent1].[Last_Update_User] AS [Last_Update_User], 
        [Extent1].[Discount_Security_ID] AS [Discount_Security_ID], 
        [Extent1].[Net_Present_Value] AS [Net_Present_Value], 
        [Extent1].[Forecast_Rolling_Custom_Income] AS [Forecast_Rolling_Custom_Income], 
        [Extent1].[Custom_Period] AS [Custom_Period], 
        [Extent1].[Rolling_12M_Historic_Distribution] AS [Rolling_12M_Historic_Distribution], 
        [Extent1].[Record_Date] AS [Record_Date], 
        [Extent1].[Session_ID] AS [Session_ID], 
        [Extent1].[Hist_Last_Update_Date] AS [Hist_Last_Update_Date], 
        [Extent1].[Hist_Last_Update_User] AS [Hist_Last_Update_User], 
        [Extent1].[Rolling_12M_Forecast_Distribution] AS [Rolling_12M_Forecast_Distribution], 
        [Extent1].[Yr2_Forward_Dividend_Yield] AS [Yr2_Forward_Dividend_Yield], 
        [Extent1].[Exit_Yield] AS [Exit_Yield], 
        [Extent1].[Discount_Rate] AS [Discount_Rate], 
        [Extent1].[Distribution_Growth_Compounded] AS [Distribution_Growth_Compounded], 
        [Extent1].[Forecast_12MRolling_Income_Accrual] AS [Forecast_12MRolling_Income_Accrual], 
        [Extent1].[Rolling_12_to_24M_Forecast_Distribution] AS [Rolling_12_to_24M_Forecast_Distribution], 
        [Extent1].[Rolling_24_to_36M_Forecast_Distribution] AS [Rolling_24_to_36M_Forecast_Distribution], 
        [Extent1].[Forecast_Yr1_Dividend_Yield_Relative] AS [Forecast_Yr1_Dividend_Yield_Relative], 
        [Extent1].[Market_Historic_Yield] AS [Market_Historic_Yield], 
        [Extent1].[Market_Forward_Yield] AS [Market_Forward_Yield], 
        [Extent1].[Historic_Distribution_PriceCurr] AS [Historic_Distribution_PriceCurr], 
        [Extent1].[Forecast_Distribution_Yr1_PriceCurr] AS [Forecast_Distribution_Yr1_PriceCurr], 
        [Extent1].[Forecast_Distribution_Yr2_PriceCurr] AS [Forecast_Distribution_Yr2_PriceCurr], 
        [Extent1].[Forecast_Distribution_Yr3_PriceCurr] AS [Forecast_Distribution_Yr3_PriceCurr], 
        [Extent1].[Rolling_12M_Forecast_Distribution_PriceCurr] AS [Rolling_12M_Forecast_Distribution_PriceCurr], 
        [Extent1].[Rolling_12_24M_Forecast_Distribution_PriceCurr] AS [Rolling_12_24M_Forecast_Distribution_PriceCurr], 
        [Extent1].[Rolling_24_36M_Forecast_Distribution_PriceCurr] AS [Rolling_24_36M_Forecast_Distribution_PriceCurr], 
        [Extent1].[Distribution_Growth_Forecast_Yr4] AS [Distribution_Growth_Forecast_Yr4], 
        [Extent1].[Earnings_Forecast_Yr4] AS [Earnings_Forecast_Yr4], 
        [Extent1].[Forecast_Distribution_Yr4] AS [Forecast_Distribution_Yr4], 
        [Extent1].[Forecast_Distribution_Yr4_PriceCurr] AS [Forecast_Distribution_Yr4_PriceCurr], 
        [Extent2].[Security_ID] AS [Security_ID1], 
        [Extent2].[Entity_ID] AS [Entity_ID1], 
        [Extent2].[Security_Name] AS [Security_Name], 
        [Extent2].[Short_Name] AS [Short_Name], 
        [Extent2].[Primary_Exch] AS [Primary_Exch], 
        [Extent2].[Secondary_Exch] AS [Secondary_Exch], 
        [Extent2].[Country_Of_Domicile] AS [Country_Of_Domicile], 
        [Extent2].[Country_Of_Risk] AS [Country_Of_Risk], 
        [Extent2].[Security_Type_Code] AS [Security_Type_Code], 
        [Extent2].[Price_Multiplier] AS [Price_Multiplier], 
        [Extent2].[Income_Frequency] AS [Income_Frequency], 
        [Extent2].[Issuer_Code] AS [Issuer_Code], 
        [Extent2].[Ultimate_Issuer_Code] AS [Ultimate_Issuer_Code], 
        [Extent2].[Asset_Currency] AS [Asset_Currency], 
        [Extent2].[Min_Lot_Size] AS [Min_Lot_Size], 
        [Extent2].[Decimal_Precision] AS [Decimal_Precision], 
        [Extent2].[AvePrice_Rounding] AS [AvePrice_Rounding], 
        [Extent2].[Issue_Date] AS [Issue_Date], 
        [Extent2].[Maturity_Date] AS [Maturity_Date], 
        [Extent2].[Coupon_Rate] AS [Coupon_Rate], 
        [Extent2].[Price_Exchange] AS [Price_Exchange], 
        [Extent2].[Trade_Currency] AS [Trade_Currency], 
        [Extent2].[Price_Curr] AS [Price_Curr], 
        [Extent2].[Currency_Pair_Code] AS [Currency_Pair_Code], 
        [Extent2].[Share_Class] AS [Share_Class], 
        [Extent2].[Current_Market_Price] AS [Current_Market_Price], 
        [Extent2].[Index_Type] AS [Index_Type], 
        [Extent2].[Clean_Price_Formula] AS [Clean_Price_Formula], 
        [Extent2].[Accrued_Income_Price_Formula] AS [Accrued_Income_Price_Formula], 
        [Extent2].[Odd_First_Coupon_Date] AS [Odd_First_Coupon_Date], 
        [Extent2].[Odd_Last_Coupon_Date] AS [Odd_Last_Coupon_Date], 
        [Extent2].[Coupon_Anniversary_Indicator] AS [Coupon_Anniversary_Indicator], 
        [Extent2].[Track_EOM_Flag] AS [Track_EOM_Flag], 
        [Extent2].[Next_Coupon_Date] AS [Next_Coupon_Date], 
        [Extent2].[Previous_Coupon_Date] AS [Previous_Coupon_Date], 
        [Extent2].[Payment_Frequency] AS [Payment_Frequency], 
        [Extent2].[Coupon_BusDay_Adjustment] AS [Coupon_BusDay_Adjustment], 
        [Extent2].[Next_Ex_Div_Date] AS [Next_Ex_Div_Date], 
        [Extent2].[Ex_Div_BusDay_Adjustment] AS [Ex_Div_BusDay_Adjustment], 
        [Extent2].[Ex_Div_Period] AS [Ex_Div_Period], 
        [Extent2].[Ticker] AS [Ticker], 
        [Extent2].[Inet_ID] AS [Inet_ID], 
        [Extent2].[Bloomberg_ID] AS [Bloomberg_ID], 
        [Extent2].[External_Sec_ID] AS [External_Sec_ID], 
        [Extent2].[Reuters_ID] AS [Reuters_ID], 
        [Extent2].[ISIN] AS [ISIN], 
        [Extent2].[Call_Account_Flag] AS [Call_Account_Flag], 
        [Extent2].[System_Locked] AS [System_Locked], 
        [Extent2].[Last_Update_User] AS [Last_Update_User1], 
        [Extent2].[Last_Update_Date] AS [Last_Update_Date1], 
        [Extent2].[Security_Status] AS [Security_Status], 
        [Extent2].[Benchmark_Portfolio] AS [Benchmark_Portfolio], 
        [Extent2].[Active_flag] AS [Active_flag], 
        [Extent2].[Dividend_FX_Security_ID] AS [Dividend_FX_Security_ID]
        FROM  [dbo].[Security_Analytics_History] AS [Extent1]
        INNER JOIN [dbo].[Security_Detail] AS [Extent2] ON [Extent1].[Security_ID] = [Extent2].[Security_ID]
        WHERE [Extent1].[Security_ID] = @p__linq__0
    )  AS [Project1]
    ORDER BY [Project1].[Record_Date] DESC
2018-04-07 12:32:53.9722|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: IF db_id(N'MetopeAzureDb') IS NOT NULL SELECT 1 ELSE SELECT Count(*) FROM sys.databases WHERE [name]=N'MetopeAzureDb'
2018-04-07 12:32:54.0898|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: IF db_id(N'MetopeAzureDb') IS NOT NULL SELECT 1 ELSE SELECT Count(*) FROM sys.databases WHERE [name]=N'MetopeAzureDb'
2018-04-07 12:32:54.1844|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: IF db_id(N'MetopeAzureDb') IS NOT NULL SELECT 1 ELSE SELECT Count(*) FROM sys.databases WHERE [name]=N'MetopeAzureDb'
2018-04-07 12:32:54.2114|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: IF db_id(N'MetopeAzureDb') IS NOT NULL SELECT 1 ELSE SELECT Count(*) FROM sys.databases WHERE [name]=N'MetopeAzureDb'
2018-04-07 12:32:54.5981|ERROR|ASP.MetopeNspace.MvcApplication|Error caught in Application_Error event
, http://localhost:53133/SecurityAnalyticsHistory/Edit?SecurityId=undefined&EntityId=1 
 Error in: The parameters dictionary contains a null entry for parameter 'SecurityId' of non-nullable type 'System.Decimal' for method 'System.Web.Mvc.ActionResult Edit(System.Decimal, System.Decimal, System.DateTime)' in 'MetopeMVCApp.Controllers.HistoryControllers.SecurityAnalyticsHistoryController'. An optional parameter must be a reference type, a nullable type, or be declared as an optional parameter.
Parameter name: parameters, 
Stack Trace:   at System.Web.Mvc.ActionDescriptor.ExtractParameterFromDictionary(ParameterInfo parameterInfo, IDictionary`2 parameters, MethodInfo methodInfo)
   at System.Web.Mvc.ReflectedActionDescriptor.Execute(ControllerContext controllerContext, IDictionary`2 parameters)
   at System.Web.Mvc.ControllerActionInvoker.InvokeActionMethod(ControllerContext controllerContext, ActionDescriptor actionDescriptor, IDictionary`2 parameters)
   at System.Web.Mvc.Async.AsyncControllerActionInvoker.<BeginInvokeSynchronousActionMethod>b__39(IAsyncResult asyncResult, ActionInvocation innerInvokeState)
   at System.Web.Mvc.Async.AsyncResultWrapper.WrappedAsyncResult`2.CallEndDelegate(IAsyncResult asyncResult)
   at System.Web.Mvc.Async.AsyncResultWrapper.WrappedAsyncResultBase`1.End()
   at System.Web.Mvc.Async.AsyncControllerActionInvoker.EndInvokeActionMethod(IAsyncResult asyncResult)
   at System.Web.Mvc.Async.AsyncControllerActionInvoker.AsyncInvocationWithFilters.<InvokeActionMethodFilterAsynchronouslyRecursive>b__3d()
   at System.Web.Mvc.Async.AsyncControllerActionInvoker.AsyncInvocationWithFilters.<>c__DisplayClass46.<InvokeActionMethodFilterAsynchronouslyRecursive>b__3f()
   at System.Web.Mvc.Async.AsyncControllerActionInvoker.AsyncInvocationWithFilters.<>c__DisplayClass46.<InvokeActionMethodFilterAsynchronouslyRecursive>b__3f()
   at System.Web.Mvc.Async.AsyncControllerActionInvoker.AsyncInvocationWithFilters.<>c__DisplayClass46.<InvokeActionMethodFilterAsynchronouslyRecursive>b__3f()
   at System.Web.Mvc.Async.AsyncControllerActionInvoker.AsyncInvocationWithFilters.<>c__DisplayClass46.<InvokeActionMethodFilterAsynchronouslyRecursive>b__3f()
   at System.Web.Mvc.Async.AsyncControllerActionInvoker.AsyncInvocationWithFilters.<>c__DisplayClass46.<InvokeActionMethodFilterAsynchronouslyRecursive>b__3f()
   at System.Web.Mvc.Async.AsyncControllerActionInvoker.<>c__DisplayClass33.<BeginInvokeActionMethodWithFilters>b__32(IAsyncResult asyncResult)
   at System.Web.Mvc.Async.AsyncResultWrapper.WrappedAsyncResult`1.CallEndDelegate(IAsyncResult asyncResult)
   at System.Web.Mvc.Async.AsyncResultWrapper.WrappedAsyncResultBase`1.End()
   at System.Web.Mvc.Async.AsyncControllerActionInvoker.EndInvokeActionMethodWithFilters(IAsyncResult asyncResult)
   at System.Web.Mvc.Async.AsyncControllerActionInvoker.<>c__DisplayClass21.<>c__DisplayClass2b.<BeginInvokeAction>b__1c()
   at System.Web.Mvc.Async.AsyncControllerActionInvoker.<>c__DisplayClass21.<BeginInvokeAction>b__1e(IAsyncResult asyncResult)
   at System.Web.Mvc.Async.AsyncResultWrapper.WrappedAsyncResult`1.CallEndDelegate(IAsyncResult asyncResult)
   at System.Web.Mvc.Async.AsyncResultWrapper.WrappedAsyncResultBase`1.End()
   at System.Web.Mvc.Async.AsyncControllerActionInvoker.EndInvokeAction(IAsyncResult asyncResult)
   at System.Web.Mvc.Controller.<BeginExecuteCore>b__1d(IAsyncResult asyncResult, ExecuteCoreState innerState)
   at System.Web.Mvc.Async.AsyncResultWrapper.WrappedAsyncVoid`1.CallEndDelegate(IAsyncResult asyncResult)
   at System.Web.Mvc.Async.AsyncResultWrapper.WrappedAsyncResultBase`1.End()
   at System.Web.Mvc.Controller.EndExecuteCore(IAsyncResult asyncResult)
   at System.Web.Mvc.Controller.<BeginExecute>b__15(IAsyncResult asyncResult, Controller controller)
   at System.Web.Mvc.Async.AsyncResultWrapper.WrappedAsyncVoid`1.CallEndDelegate(IAsyncResult asyncResult)
   at System.Web.Mvc.Async.AsyncResultWrapper.WrappedAsyncResultBase`1.End()
   at System.Web.Mvc.Controller.EndExecute(IAsyncResult asyncResult)
   at System.Web.Mvc.Controller.System.Web.Mvc.Async.IAsyncController.EndExecute(IAsyncResult asyncResult)
   at System.Web.Mvc.MvcHandler.<BeginProcessRequest>b__5(IAsyncResult asyncResult, ProcessRequestState innerState)
   at System.Web.Mvc.Async.AsyncResultWrapper.WrappedAsyncVoid`1.CallEndDelegate(IAsyncResult asyncResult)
   at System.Web.Mvc.Async.AsyncResultWrapper.WrappedAsyncResultBase`1.End()
   at System.Web.Mvc.MvcHandler.EndProcessRequest(IAsyncResult asyncResult)
   at System.Web.Mvc.MvcHandler.System.Web.IHttpAsyncHandler.EndProcessRequest(IAsyncResult result)
   at System.Web.HttpApplication.CallHandlerExecutionStep.System.Web.HttpApplication.IExecutionStep.Execute()
   at System.Web.HttpApplication.ExecuteStepImpl(IExecutionStep step)
   at System.Web.HttpApplication.ExecuteStep(IExecutionStep step, Boolean& completedSynchronously)
Session: Identity name:aaaaaa IsAuthenticated:True 
2018-04-07 12:32:54.6627|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: IF db_id(N'MetopeAzureDb') IS NOT NULL SELECT 1 ELSE SELECT Count(*) FROM sys.databases WHERE [name]=N'MetopeAzureDb'
2018-04-07 12:32:54.6967|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: IF db_id(N'MetopeAzureDb') IS NOT NULL SELECT 1 ELSE SELECT Count(*) FROM sys.databases WHERE [name]=N'MetopeAzureDb'
2018-04-07 12:32:54.7367|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: IF db_id(N'MetopeAzureDb') IS NOT NULL SELECT 1 ELSE SELECT Count(*) FROM sys.databases WHERE [name]=N'MetopeAzureDb'
2018-04-07 12:32:54.7713|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: IF db_id(N'MetopeAzureDb') IS NOT NULL SELECT 1 ELSE SELECT Count(*) FROM sys.databases WHERE [name]=N'MetopeAzureDb'
2018-04-07 12:33:56.3096|ERROR|ASP.MetopeNspace.MvcApplication|Error caught in Application_Error event
, http://localhost:53133/SecurityAnalyticsHistory/Edit?SecurityId=undefined&EntityId=1 
 Error in: The parameters dictionary contains a null entry for parameter 'SecurityId' of non-nullable type 'System.Decimal' for method 'System.Web.Mvc.ActionResult Edit(System.Decimal, System.Decimal, System.DateTime)' in 'MetopeMVCApp.Controllers.HistoryControllers.SecurityAnalyticsHistoryController'. An optional parameter must be a reference type, a nullable type, or be declared as an optional parameter.
Parameter name: parameters, 
Stack Trace:   at System.Web.Mvc.ActionDescriptor.ExtractParameterFromDictionary(ParameterInfo parameterInfo, IDictionary`2 parameters, MethodInfo methodInfo)
   at System.Web.Mvc.ReflectedActionDescriptor.Execute(ControllerContext controllerContext, IDictionary`2 parameters)
   at System.Web.Mvc.ControllerActionInvoker.InvokeActionMethod(ControllerContext controllerContext, ActionDescriptor actionDescriptor, IDictionary`2 parameters)
   at System.Web.Mvc.Async.AsyncControllerActionInvoker.<BeginInvokeSynchronousActionMethod>b__39(IAsyncResult asyncResult, ActionInvocation innerInvokeState)
   at System.Web.Mvc.Async.AsyncResultWrapper.WrappedAsyncResult`2.CallEndDelegate(IAsyncResult asyncResult)
   at System.Web.Mvc.Async.AsyncResultWrapper.WrappedAsyncResultBase`1.End()
   at System.Web.Mvc.Async.AsyncControllerActionInvoker.EndInvokeActionMethod(IAsyncResult asyncResult)
   at System.Web.Mvc.Async.AsyncControllerActionInvoker.AsyncInvocationWithFilters.<InvokeActionMethodFilterAsynchronouslyRecursive>b__3d()
   at System.Web.Mvc.Async.AsyncControllerActionInvoker.AsyncInvocationWithFilters.<>c__DisplayClass46.<InvokeActionMethodFilterAsynchronouslyRecursive>b__3f()
   at System.Web.Mvc.Async.AsyncControllerActionInvoker.AsyncInvocationWithFilters.<>c__DisplayClass46.<InvokeActionMethodFilterAsynchronouslyRecursive>b__3f()
   at System.Web.Mvc.Async.AsyncControllerActionInvoker.AsyncInvocationWithFilters.<>c__DisplayClass46.<InvokeActionMethodFilterAsynchronouslyRecursive>b__3f()
   at System.Web.Mvc.Async.AsyncControllerActionInvoker.AsyncInvocationWithFilters.<>c__DisplayClass46.<InvokeActionMethodFilterAsynchronouslyRecursive>b__3f()
   at System.Web.Mvc.Async.AsyncControllerActionInvoker.AsyncInvocationWithFilters.<>c__DisplayClass46.<InvokeActionMethodFilterAsynchronouslyRecursive>b__3f()
   at System.Web.Mvc.Async.AsyncControllerActionInvoker.<>c__DisplayClass33.<BeginInvokeActionMethodWithFilters>b__32(IAsyncResult asyncResult)
   at System.Web.Mvc.Async.AsyncResultWrapper.WrappedAsyncResult`1.CallEndDelegate(IAsyncResult asyncResult)
   at System.Web.Mvc.Async.AsyncResultWrapper.WrappedAsyncResultBase`1.End()
   at System.Web.Mvc.Async.AsyncControllerActionInvoker.EndInvokeActionMethodWithFilters(IAsyncResult asyncResult)
   at System.Web.Mvc.Async.AsyncControllerActionInvoker.<>c__DisplayClass21.<>c__DisplayClass2b.<BeginInvokeAction>b__1c()
   at System.Web.Mvc.Async.AsyncControllerActionInvoker.<>c__DisplayClass21.<BeginInvokeAction>b__1e(IAsyncResult asyncResult)
   at System.Web.Mvc.Async.AsyncResultWrapper.WrappedAsyncResult`1.CallEndDelegate(IAsyncResult asyncResult)
   at System.Web.Mvc.Async.AsyncResultWrapper.WrappedAsyncResultBase`1.End()
   at System.Web.Mvc.Async.AsyncControllerActionInvoker.EndInvokeAction(IAsyncResult asyncResult)
   at System.Web.Mvc.Controller.<BeginExecuteCore>b__1d(IAsyncResult asyncResult, ExecuteCoreState innerState)
   at System.Web.Mvc.Async.AsyncResultWrapper.WrappedAsyncVoid`1.CallEndDelegate(IAsyncResult asyncResult)
   at System.Web.Mvc.Async.AsyncResultWrapper.WrappedAsyncResultBase`1.End()
   at System.Web.Mvc.Controller.EndExecuteCore(IAsyncResult asyncResult)
   at System.Web.Mvc.Controller.<BeginExecute>b__15(IAsyncResult asyncResult, Controller controller)
   at System.Web.Mvc.Async.AsyncResultWrapper.WrappedAsyncVoid`1.CallEndDelegate(IAsyncResult asyncResult)
   at System.Web.Mvc.Async.AsyncResultWrapper.WrappedAsyncResultBase`1.End()
   at System.Web.Mvc.Controller.EndExecute(IAsyncResult asyncResult)
   at System.Web.Mvc.Controller.System.Web.Mvc.Async.IAsyncController.EndExecute(IAsyncResult asyncResult)
   at System.Web.Mvc.MvcHandler.<BeginProcessRequest>b__5(IAsyncResult asyncResult, ProcessRequestState innerState)
   at System.Web.Mvc.Async.AsyncResultWrapper.WrappedAsyncVoid`1.CallEndDelegate(IAsyncResult asyncResult)
   at System.Web.Mvc.Async.AsyncResultWrapper.WrappedAsyncResultBase`1.End()
   at System.Web.Mvc.MvcHandler.EndProcessRequest(IAsyncResult asyncResult)
   at System.Web.Mvc.MvcHandler.System.Web.IHttpAsyncHandler.EndProcessRequest(IAsyncResult result)
   at System.Web.HttpApplication.CallHandlerExecutionStep.System.Web.HttpApplication.IExecutionStep.Execute()
   at System.Web.HttpApplication.ExecuteStepImpl(IExecutionStep step)
   at System.Web.HttpApplication.ExecuteStep(IExecutionStep step, Boolean& completedSynchronously)
Session: Identity name:aaaaaa IsAuthenticated:True 
2018-04-07 12:33:56.3927|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: IF db_id(N'MetopeAzureDb') IS NOT NULL SELECT 1 ELSE SELECT Count(*) FROM sys.databases WHERE [name]=N'MetopeAzureDb'
2018-04-07 12:33:56.5177|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: IF db_id(N'MetopeAzureDb') IS NOT NULL SELECT 1 ELSE SELECT Count(*) FROM sys.databases WHERE [name]=N'MetopeAzureDb'
2018-04-07 12:33:56.6218|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: IF db_id(N'MetopeAzureDb') IS NOT NULL SELECT 1 ELSE SELECT Count(*) FROM sys.databases WHERE [name]=N'MetopeAzureDb'
2018-04-07 12:33:56.6553|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: IF db_id(N'MetopeAzureDb') IS NOT NULL SELECT 1 ELSE SELECT Count(*) FROM sys.databases WHERE [name]=N'MetopeAzureDb'
2018-04-07 12:33:57.1532|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: SELECT 
    [Project1].[Decimal_Precision] AS [Decimal_Precision], 
    [Project1].[Entity_ID] AS [Entity_ID], 
    [Project1].[Security_ID] AS [Security_ID], 
    [Project1].[Issued_Amount] AS [Issued_Amount], 
    [Project1].[Market_Capitalisation] AS [Market_Capitalisation], 
    [Project1].[Risk_Premium] AS [Risk_Premium], 
    [Project1].[Exit_Price] AS [Exit_Price], 
    [Project1].[Total_Return_ME_1YR] AS [Total_Return_ME_1YR], 
    [Project1].[Total_Return_ME_2YR] AS [Total_Return_ME_2YR], 
    [Project1].[Total_Return_ME_3YR] AS [Total_Return_ME_3YR], 
    [Project1].[Historic_Distribution] AS [Historic_Distribution], 
    [Project1].[Distribution_Growth_Forecast_Yr1] AS [Distribution_Growth_Forecast_Yr1], 
    [Project1].[Distribution_Growth_Forecast_Yr2] AS [Distribution_Growth_Forecast_Yr2], 
    [Project1].[Distribution_Growth_Forecast_Yr3] AS [Distribution_Growth_Forecast_Yr3], 
    [Project1].[Forecast_Distribution_Yr1] AS [Forecast_Distribution_Yr1], 
    [Project1].[Forecast_Distribution_Yr2] AS [Forecast_Distribution_Yr2], 
    [Project1].[Forecast_Distribution_Yr3] AS [Forecast_Distribution_Yr3], 
    [Project1].[Earnings_Growth_Compounded] AS [Earnings_Growth_Compounded], 
    [Project1].[Earnings_Forecast_Yr3] AS [Earnings_Forecast_Yr3], 
    [Project1].[Historic_Dividend_Yield_FYE] AS [Historic_Dividend_Yield_FYE], 
    [Project1].[Forward_Dividend_Yield_FYE] AS [Forward_Dividend_Yield_FYE], 
    [Project1].[Yr3_Forward_Dividend_Yield] AS [Yr3_Forward_Dividend_Yield], 
    [Project1].[Rolling_12M_Forward_Yield] AS [Rolling_12M_Forward_Yield], 
    [Project1].[Historical_Earnings_FYE] AS [Historical_Earnings_FYE], 
    [Project1].[Earnings_Forecast_Yr1] AS [Earnings_Forecast_Yr1], 
    [Project1].[Earnings_Forecast_Yr2] AS [Earnings_Forecast_Yr2], 
    [Project1].[Historic_Dividend_Yield_Relative] AS [Historic_Dividend_Yield_Relative], 
    [Project1].[Rolling_12M_Historic_Distribution_PriceCurr] AS [Rolling_12M_Historic_Distribution_PriceCurr], 
    [Project1].[Short_Term_Market_Rerate] AS [Short_Term_Market_Rerate], 
    [Project1].[Forecast_12M_Total_Return] AS [Forecast_12M_Total_Return], 
    [Project1].[Clean_Price] AS [Clean_Price], 
    [Project1].[Rolling_Dividend_Yield_Historic] AS [Rolling_Dividend_Yield_Historic], 
    [Project1].[Last_Update_Date] AS [Last_Update_Date], 
    [Project1].[Last_Update_User] AS [Last_Update_User], 
    [Project1].[Discount_Security_ID] AS [Discount_Security_ID], 
    [Project1].[Net_Present_Value] AS [Net_Present_Value], 
    [Project1].[Forecast_Rolling_Custom_Income] AS [Forecast_Rolling_Custom_Income], 
    [Project1].[Custom_Period] AS [Custom_Period], 
    [Project1].[Rolling_12M_Historic_Distribution] AS [Rolling_12M_Historic_Distribution], 
    [Project1].[Record_Date] AS [Record_Date], 
    [Project1].[Session_ID] AS [Session_ID], 
    [Project1].[Hist_Last_Update_Date] AS [Hist_Last_Update_Date], 
    [Project1].[Hist_Last_Update_User] AS [Hist_Last_Update_User], 
    [Project1].[Rolling_12M_Forecast_Distribution] AS [Rolling_12M_Forecast_Distribution], 
    [Project1].[Yr2_Forward_Dividend_Yield] AS [Yr2_Forward_Dividend_Yield], 
    [Project1].[Exit_Yield] AS [Exit_Yield], 
    [Project1].[Discount_Rate] AS [Discount_Rate], 
    [Project1].[Distribution_Growth_Compounded] AS [Distribution_Growth_Compounded], 
    [Project1].[Forecast_12MRolling_Income_Accrual] AS [Forecast_12MRolling_Income_Accrual], 
    [Project1].[Rolling_12_to_24M_Forecast_Distribution] AS [Rolling_12_to_24M_Forecast_Distribution], 
    [Project1].[Rolling_24_to_36M_Forecast_Distribution] AS [Rolling_24_to_36M_Forecast_Distribution], 
    [Project1].[Forecast_Yr1_Dividend_Yield_Relative] AS [Forecast_Yr1_Dividend_Yield_Relative], 
    [Project1].[Market_Historic_Yield] AS [Market_Historic_Yield], 
    [Project1].[Market_Forward_Yield] AS [Market_Forward_Yield], 
    [Project1].[Historic_Distribution_PriceCurr] AS [Historic_Distribution_PriceCurr], 
    [Project1].[Forecast_Distribution_Yr1_PriceCurr] AS [Forecast_Distribution_Yr1_PriceCurr], 
    [Project1].[Forecast_Distribution_Yr2_PriceCurr] AS [Forecast_Distribution_Yr2_PriceCurr], 
    [Project1].[Forecast_Distribution_Yr3_PriceCurr] AS [Forecast_Distribution_Yr3_PriceCurr], 
    [Project1].[Rolling_12M_Forecast_Distribution_PriceCurr] AS [Rolling_12M_Forecast_Distribution_PriceCurr], 
    [Project1].[Rolling_12_24M_Forecast_Distribution_PriceCurr] AS [Rolling_12_24M_Forecast_Distribution_PriceCurr], 
    [Project1].[Rolling_24_36M_Forecast_Distribution_PriceCurr] AS [Rolling_24_36M_Forecast_Distribution_PriceCurr], 
    [Project1].[Distribution_Growth_Forecast_Yr4] AS [Distribution_Growth_Forecast_Yr4], 
    [Project1].[Earnings_Forecast_Yr4] AS [Earnings_Forecast_Yr4], 
    [Project1].[Forecast_Distribution_Yr4] AS [Forecast_Distribution_Yr4], 
    [Project1].[Forecast_Distribution_Yr4_PriceCurr] AS [Forecast_Distribution_Yr4_PriceCurr], 
    [Project1].[Security_ID1] AS [Security_ID1], 
    [Project1].[Entity_ID1] AS [Entity_ID1], 
    [Project1].[Security_Name] AS [Security_Name], 
    [Project1].[Short_Name] AS [Short_Name], 
    [Project1].[Primary_Exch] AS [Primary_Exch], 
    [Project1].[Secondary_Exch] AS [Secondary_Exch], 
    [Project1].[Country_Of_Domicile] AS [Country_Of_Domicile], 
    [Project1].[Country_Of_Risk] AS [Country_Of_Risk], 
    [Project1].[Security_Type_Code] AS [Security_Type_Code], 
    [Project1].[Price_Multiplier] AS [Price_Multiplier], 
    [Project1].[Income_Frequency] AS [Income_Frequency], 
    [Project1].[Issuer_Code] AS [Issuer_Code], 
    [Project1].[Ultimate_Issuer_Code] AS [Ultimate_Issuer_Code], 
    [Project1].[Asset_Currency] AS [Asset_Currency], 
    [Project1].[Min_Lot_Size] AS [Min_Lot_Size], 
    [Project1].[AvePrice_Rounding] AS [AvePrice_Rounding], 
    [Project1].[Issue_Date] AS [Issue_Date], 
    [Project1].[Maturity_Date] AS [Maturity_Date], 
    [Project1].[Coupon_Rate] AS [Coupon_Rate], 
    [Project1].[Price_Exchange] AS [Price_Exchange], 
    [Project1].[Trade_Currency] AS [Trade_Currency], 
    [Project1].[Price_Curr] AS [Price_Curr], 
    [Project1].[Currency_Pair_Code] AS [Currency_Pair_Code], 
    [Project1].[Share_Class] AS [Share_Class], 
    [Project1].[Current_Market_Price] AS [Current_Market_Price], 
    [Project1].[Index_Type] AS [Index_Type], 
    [Project1].[Clean_Price_Formula] AS [Clean_Price_Formula], 
    [Project1].[Accrued_Income_Price_Formula] AS [Accrued_Income_Price_Formula], 
    [Project1].[Odd_First_Coupon_Date] AS [Odd_First_Coupon_Date], 
    [Project1].[Odd_Last_Coupon_Date] AS [Odd_Last_Coupon_Date], 
    [Project1].[Coupon_Anniversary_Indicator] AS [Coupon_Anniversary_Indicator], 
    [Project1].[Track_EOM_Flag] AS [Track_EOM_Flag], 
    [Project1].[Next_Coupon_Date] AS [Next_Coupon_Date], 
    [Project1].[Previous_Coupon_Date] AS [Previous_Coupon_Date], 
    [Project1].[Payment_Frequency] AS [Payment_Frequency], 
    [Project1].[Coupon_BusDay_Adjustment] AS [Coupon_BusDay_Adjustment], 
    [Project1].[Next_Ex_Div_Date] AS [Next_Ex_Div_Date], 
    [Project1].[Ex_Div_BusDay_Adjustment] AS [Ex_Div_BusDay_Adjustment], 
    [Project1].[Ex_Div_Period] AS [Ex_Div_Period], 
    [Project1].[Ticker] AS [Ticker], 
    [Project1].[Inet_ID] AS [Inet_ID], 
    [Project1].[Bloomberg_ID] AS [Bloomberg_ID], 
    [Project1].[External_Sec_ID] AS [External_Sec_ID], 
    [Project1].[Reuters_ID] AS [Reuters_ID], 
    [Project1].[ISIN] AS [ISIN], 
    [Project1].[Call_Account_Flag] AS [Call_Account_Flag], 
    [Project1].[System_Locked] AS [System_Locked], 
    [Project1].[Last_Update_User1] AS [Last_Update_User1], 
    [Project1].[Last_Update_Date1] AS [Last_Update_Date1], 
    [Project1].[Security_Status] AS [Security_Status], 
    [Project1].[Benchmark_Portfolio] AS [Benchmark_Portfolio], 
    [Project1].[Active_flag] AS [Active_flag], 
    [Project1].[Dividend_FX_Security_ID] AS [Dividend_FX_Security_ID]
    FROM ( SELECT 
        [Extent1].[Entity_ID] AS [Entity_ID], 
        [Extent1].[Security_ID] AS [Security_ID], 
        [Extent1].[Issued_Amount] AS [Issued_Amount], 
        [Extent1].[Market_Capitalisation] AS [Market_Capitalisation], 
        [Extent1].[Risk_Premium] AS [Risk_Premium], 
        [Extent1].[Exit_Price] AS [Exit_Price], 
        [Extent1].[Total_Return_ME_1YR] AS [Total_Return_ME_1YR], 
        [Extent1].[Total_Return_ME_2YR] AS [Total_Return_ME_2YR], 
        [Extent1].[Total_Return_ME_3YR] AS [Total_Return_ME_3YR], 
        [Extent1].[Historic_Distribution] AS [Historic_Distribution], 
        [Extent1].[Distribution_Growth_Forecast_Yr1] AS [Distribution_Growth_Forecast_Yr1], 
        [Extent1].[Distribution_Growth_Forecast_Yr2] AS [Distribution_Growth_Forecast_Yr2], 
        [Extent1].[Distribution_Growth_Forecast_Yr3] AS [Distribution_Growth_Forecast_Yr3], 
        [Extent1].[Forecast_Distribution_Yr1] AS [Forecast_Distribution_Yr1], 
        [Extent1].[Forecast_Distribution_Yr2] AS [Forecast_Distribution_Yr2], 
        [Extent1].[Forecast_Distribution_Yr3] AS [Forecast_Distribution_Yr3], 
        [Extent1].[Earnings_Growth_Compounded] AS [Earnings_Growth_Compounded], 
        [Extent1].[Earnings_Forecast_Yr3] AS [Earnings_Forecast_Yr3], 
        [Extent1].[Historic_Dividend_Yield_FYE] AS [Historic_Dividend_Yield_FYE], 
        [Extent1].[Forward_Dividend_Yield_FYE] AS [Forward_Dividend_Yield_FYE], 
        [Extent1].[Yr3_Forward_Dividend_Yield] AS [Yr3_Forward_Dividend_Yield], 
        [Extent1].[Rolling_12M_Forward_Yield] AS [Rolling_12M_Forward_Yield], 
        [Extent1].[Historical_Earnings_FYE] AS [Historical_Earnings_FYE], 
        [Extent1].[Earnings_Forecast_Yr1] AS [Earnings_Forecast_Yr1], 
        [Extent1].[Earnings_Forecast_Yr2] AS [Earnings_Forecast_Yr2], 
        [Extent1].[Historic_Dividend_Yield_Relative] AS [Historic_Dividend_Yield_Relative], 
        [Extent1].[Rolling_12M_Historic_Distribution_PriceCurr] AS [Rolling_12M_Historic_Distribution_PriceCurr], 
        [Extent1].[Short_Term_Market_Rerate] AS [Short_Term_Market_Rerate], 
        [Extent1].[Forecast_12M_Total_Return] AS [Forecast_12M_Total_Return], 
        [Extent1].[Clean_Price] AS [Clean_Price], 
        [Extent1].[Rolling_Dividend_Yield_Historic] AS [Rolling_Dividend_Yield_Historic], 
        [Extent1].[Last_Update_Date] AS [Last_Update_Date], 
        [Extent1].[Last_Update_User] AS [Last_Update_User], 
        [Extent1].[Discount_Security_ID] AS [Discount_Security_ID], 
        [Extent1].[Net_Present_Value] AS [Net_Present_Value], 
        [Extent1].[Forecast_Rolling_Custom_Income] AS [Forecast_Rolling_Custom_Income], 
        [Extent1].[Custom_Period] AS [Custom_Period], 
        [Extent1].[Rolling_12M_Historic_Distribution] AS [Rolling_12M_Historic_Distribution], 
        [Extent1].[Record_Date] AS [Record_Date], 
        [Extent1].[Session_ID] AS [Session_ID], 
        [Extent1].[Hist_Last_Update_Date] AS [Hist_Last_Update_Date], 
        [Extent1].[Hist_Last_Update_User] AS [Hist_Last_Update_User], 
        [Extent1].[Rolling_12M_Forecast_Distribution] AS [Rolling_12M_Forecast_Distribution], 
        [Extent1].[Yr2_Forward_Dividend_Yield] AS [Yr2_Forward_Dividend_Yield], 
        [Extent1].[Exit_Yield] AS [Exit_Yield], 
        [Extent1].[Discount_Rate] AS [Discount_Rate], 
        [Extent1].[Distribution_Growth_Compounded] AS [Distribution_Growth_Compounded], 
        [Extent1].[Forecast_12MRolling_Income_Accrual] AS [Forecast_12MRolling_Income_Accrual], 
        [Extent1].[Rolling_12_to_24M_Forecast_Distribution] AS [Rolling_12_to_24M_Forecast_Distribution], 
        [Extent1].[Rolling_24_to_36M_Forecast_Distribution] AS [Rolling_24_to_36M_Forecast_Distribution], 
        [Extent1].[Forecast_Yr1_Dividend_Yield_Relative] AS [Forecast_Yr1_Dividend_Yield_Relative], 
        [Extent1].[Market_Historic_Yield] AS [Market_Historic_Yield], 
        [Extent1].[Market_Forward_Yield] AS [Market_Forward_Yield], 
        [Extent1].[Historic_Distribution_PriceCurr] AS [Historic_Distribution_PriceCurr], 
        [Extent1].[Forecast_Distribution_Yr1_PriceCurr] AS [Forecast_Distribution_Yr1_PriceCurr], 
        [Extent1].[Forecast_Distribution_Yr2_PriceCurr] AS [Forecast_Distribution_Yr2_PriceCurr], 
        [Extent1].[Forecast_Distribution_Yr3_PriceCurr] AS [Forecast_Distribution_Yr3_PriceCurr], 
        [Extent1].[Rolling_12M_Forecast_Distribution_PriceCurr] AS [Rolling_12M_Forecast_Distribution_PriceCurr], 
        [Extent1].[Rolling_12_24M_Forecast_Distribution_PriceCurr] AS [Rolling_12_24M_Forecast_Distribution_PriceCurr], 
        [Extent1].[Rolling_24_36M_Forecast_Distribution_PriceCurr] AS [Rolling_24_36M_Forecast_Distribution_PriceCurr], 
        [Extent1].[Distribution_Growth_Forecast_Yr4] AS [Distribution_Growth_Forecast_Yr4], 
        [Extent1].[Earnings_Forecast_Yr4] AS [Earnings_Forecast_Yr4], 
        [Extent1].[Forecast_Distribution_Yr4] AS [Forecast_Distribution_Yr4], 
        [Extent1].[Forecast_Distribution_Yr4_PriceCurr] AS [Forecast_Distribution_Yr4_PriceCurr], 
        [Extent2].[Security_ID] AS [Security_ID1], 
        [Extent2].[Entity_ID] AS [Entity_ID1], 
        [Extent2].[Security_Name] AS [Security_Name], 
        [Extent2].[Short_Name] AS [Short_Name], 
        [Extent2].[Primary_Exch] AS [Primary_Exch], 
        [Extent2].[Secondary_Exch] AS [Secondary_Exch], 
        [Extent2].[Country_Of_Domicile] AS [Country_Of_Domicile], 
        [Extent2].[Country_Of_Risk] AS [Country_Of_Risk], 
        [Extent2].[Security_Type_Code] AS [Security_Type_Code], 
        [Extent2].[Price_Multiplier] AS [Price_Multiplier], 
        [Extent2].[Income_Frequency] AS [Income_Frequency], 
        [Extent2].[Issuer_Code] AS [Issuer_Code], 
        [Extent2].[Ultimate_Issuer_Code] AS [Ultimate_Issuer_Code], 
        [Extent2].[Asset_Currency] AS [Asset_Currency], 
        [Extent2].[Min_Lot_Size] AS [Min_Lot_Size], 
        [Extent2].[Decimal_Precision] AS [Decimal_Precision], 
        [Extent2].[AvePrice_Rounding] AS [AvePrice_Rounding], 
        [Extent2].[Issue_Date] AS [Issue_Date], 
        [Extent2].[Maturity_Date] AS [Maturity_Date], 
        [Extent2].[Coupon_Rate] AS [Coupon_Rate], 
        [Extent2].[Price_Exchange] AS [Price_Exchange], 
        [Extent2].[Trade_Currency] AS [Trade_Currency], 
        [Extent2].[Price_Curr] AS [Price_Curr], 
        [Extent2].[Currency_Pair_Code] AS [Currency_Pair_Code], 
        [Extent2].[Share_Class] AS [Share_Class], 
        [Extent2].[Current_Market_Price] AS [Current_Market_Price], 
        [Extent2].[Index_Type] AS [Index_Type], 
        [Extent2].[Clean_Price_Formula] AS [Clean_Price_Formula], 
        [Extent2].[Accrued_Income_Price_Formula] AS [Accrued_Income_Price_Formula], 
        [Extent2].[Odd_First_Coupon_Date] AS [Odd_First_Coupon_Date], 
        [Extent2].[Odd_Last_Coupon_Date] AS [Odd_Last_Coupon_Date], 
        [Extent2].[Coupon_Anniversary_Indicator] AS [Coupon_Anniversary_Indicator], 
        [Extent2].[Track_EOM_Flag] AS [Track_EOM_Flag], 
        [Extent2].[Next_Coupon_Date] AS [Next_Coupon_Date], 
        [Extent2].[Previous_Coupon_Date] AS [Previous_Coupon_Date], 
        [Extent2].[Payment_Frequency] AS [Payment_Frequency], 
        [Extent2].[Coupon_BusDay_Adjustment] AS [Coupon_BusDay_Adjustment], 
        [Extent2].[Next_Ex_Div_Date] AS [Next_Ex_Div_Date], 
        [Extent2].[Ex_Div_BusDay_Adjustment] AS [Ex_Div_BusDay_Adjustment], 
        [Extent2].[Ex_Div_Period] AS [Ex_Div_Period], 
        [Extent2].[Ticker] AS [Ticker], 
        [Extent2].[Inet_ID] AS [Inet_ID], 
        [Extent2].[Bloomberg_ID] AS [Bloomberg_ID], 
        [Extent2].[External_Sec_ID] AS [External_Sec_ID], 
        [Extent2].[Reuters_ID] AS [Reuters_ID], 
        [Extent2].[ISIN] AS [ISIN], 
        [Extent2].[Call_Account_Flag] AS [Call_Account_Flag], 
        [Extent2].[System_Locked] AS [System_Locked], 
        [Extent2].[Last_Update_User] AS [Last_Update_User1], 
        [Extent2].[Last_Update_Date] AS [Last_Update_Date1], 
        [Extent2].[Security_Status] AS [Security_Status], 
        [Extent2].[Benchmark_Portfolio] AS [Benchmark_Portfolio], 
        [Extent2].[Active_flag] AS [Active_flag], 
        [Extent2].[Dividend_FX_Security_ID] AS [Dividend_FX_Security_ID]
        FROM  [dbo].[Security_Analytics_History] AS [Extent1]
        INNER JOIN [dbo].[Security_Detail] AS [Extent2] ON [Extent1].[Security_ID] = [Extent2].[Security_ID]
        WHERE [Extent1].[Security_ID] = @p__linq__0
    )  AS [Project1]
    ORDER BY [Project1].[Record_Date] DESC
2018-04-07 12:33:57.2308|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: SELECT 
    [Project1].[Decimal_Precision] AS [Decimal_Precision], 
    [Project1].[Entity_ID] AS [Entity_ID], 
    [Project1].[Security_ID] AS [Security_ID], 
    [Project1].[Issued_Amount] AS [Issued_Amount], 
    [Project1].[Market_Capitalisation] AS [Market_Capitalisation], 
    [Project1].[Risk_Premium] AS [Risk_Premium], 
    [Project1].[Exit_Price] AS [Exit_Price], 
    [Project1].[Total_Return_ME_1YR] AS [Total_Return_ME_1YR], 
    [Project1].[Total_Return_ME_2YR] AS [Total_Return_ME_2YR], 
    [Project1].[Total_Return_ME_3YR] AS [Total_Return_ME_3YR], 
    [Project1].[Historic_Distribution] AS [Historic_Distribution], 
    [Project1].[Distribution_Growth_Forecast_Yr1] AS [Distribution_Growth_Forecast_Yr1], 
    [Project1].[Distribution_Growth_Forecast_Yr2] AS [Distribution_Growth_Forecast_Yr2], 
    [Project1].[Distribution_Growth_Forecast_Yr3] AS [Distribution_Growth_Forecast_Yr3], 
    [Project1].[Forecast_Distribution_Yr1] AS [Forecast_Distribution_Yr1], 
    [Project1].[Forecast_Distribution_Yr2] AS [Forecast_Distribution_Yr2], 
    [Project1].[Forecast_Distribution_Yr3] AS [Forecast_Distribution_Yr3], 
    [Project1].[Earnings_Growth_Compounded] AS [Earnings_Growth_Compounded], 
    [Project1].[Earnings_Forecast_Yr3] AS [Earnings_Forecast_Yr3], 
    [Project1].[Historic_Dividend_Yield_FYE] AS [Historic_Dividend_Yield_FYE], 
    [Project1].[Forward_Dividend_Yield_FYE] AS [Forward_Dividend_Yield_FYE], 
    [Project1].[Yr3_Forward_Dividend_Yield] AS [Yr3_Forward_Dividend_Yield], 
    [Project1].[Rolling_12M_Forward_Yield] AS [Rolling_12M_Forward_Yield], 
    [Project1].[Historical_Earnings_FYE] AS [Historical_Earnings_FYE], 
    [Project1].[Earnings_Forecast_Yr1] AS [Earnings_Forecast_Yr1], 
    [Project1].[Earnings_Forecast_Yr2] AS [Earnings_Forecast_Yr2], 
    [Project1].[Historic_Dividend_Yield_Relative] AS [Historic_Dividend_Yield_Relative], 
    [Project1].[Rolling_12M_Historic_Distribution_PriceCurr] AS [Rolling_12M_Historic_Distribution_PriceCurr], 
    [Project1].[Short_Term_Market_Rerate] AS [Short_Term_Market_Rerate], 
    [Project1].[Forecast_12M_Total_Return] AS [Forecast_12M_Total_Return], 
    [Project1].[Clean_Price] AS [Clean_Price], 
    [Project1].[Rolling_Dividend_Yield_Historic] AS [Rolling_Dividend_Yield_Historic], 
    [Project1].[Last_Update_Date] AS [Last_Update_Date], 
    [Project1].[Last_Update_User] AS [Last_Update_User], 
    [Project1].[Discount_Security_ID] AS [Discount_Security_ID], 
    [Project1].[Net_Present_Value] AS [Net_Present_Value], 
    [Project1].[Forecast_Rolling_Custom_Income] AS [Forecast_Rolling_Custom_Income], 
    [Project1].[Custom_Period] AS [Custom_Period], 
    [Project1].[Rolling_12M_Historic_Distribution] AS [Rolling_12M_Historic_Distribution], 
    [Project1].[Record_Date] AS [Record_Date], 
    [Project1].[Session_ID] AS [Session_ID], 
    [Project1].[Hist_Last_Update_Date] AS [Hist_Last_Update_Date], 
    [Project1].[Hist_Last_Update_User] AS [Hist_Last_Update_User], 
    [Project1].[Rolling_12M_Forecast_Distribution] AS [Rolling_12M_Forecast_Distribution], 
    [Project1].[Yr2_Forward_Dividend_Yield] AS [Yr2_Forward_Dividend_Yield], 
    [Project1].[Exit_Yield] AS [Exit_Yield], 
    [Project1].[Discount_Rate] AS [Discount_Rate], 
    [Project1].[Distribution_Growth_Compounded] AS [Distribution_Growth_Compounded], 
    [Project1].[Forecast_12MRolling_Income_Accrual] AS [Forecast_12MRolling_Income_Accrual], 
    [Project1].[Rolling_12_to_24M_Forecast_Distribution] AS [Rolling_12_to_24M_Forecast_Distribution], 
    [Project1].[Rolling_24_to_36M_Forecast_Distribution] AS [Rolling_24_to_36M_Forecast_Distribution], 
    [Project1].[Forecast_Yr1_Dividend_Yield_Relative] AS [Forecast_Yr1_Dividend_Yield_Relative], 
    [Project1].[Market_Historic_Yield] AS [Market_Historic_Yield], 
    [Project1].[Market_Forward_Yield] AS [Market_Forward_Yield], 
    [Project1].[Historic_Distribution_PriceCurr] AS [Historic_Distribution_PriceCurr], 
    [Project1].[Forecast_Distribution_Yr1_PriceCurr] AS [Forecast_Distribution_Yr1_PriceCurr], 
    [Project1].[Forecast_Distribution_Yr2_PriceCurr] AS [Forecast_Distribution_Yr2_PriceCurr], 
    [Project1].[Forecast_Distribution_Yr3_PriceCurr] AS [Forecast_Distribution_Yr3_PriceCurr], 
    [Project1].[Rolling_12M_Forecast_Distribution_PriceCurr] AS [Rolling_12M_Forecast_Distribution_PriceCurr], 
    [Project1].[Rolling_12_24M_Forecast_Distribution_PriceCurr] AS [Rolling_12_24M_Forecast_Distribution_PriceCurr], 
    [Project1].[Rolling_24_36M_Forecast_Distribution_PriceCurr] AS [Rolling_24_36M_Forecast_Distribution_PriceCurr], 
    [Project1].[Distribution_Growth_Forecast_Yr4] AS [Distribution_Growth_Forecast_Yr4], 
    [Project1].[Earnings_Forecast_Yr4] AS [Earnings_Forecast_Yr4], 
    [Project1].[Forecast_Distribution_Yr4] AS [Forecast_Distribution_Yr4], 
    [Project1].[Forecast_Distribution_Yr4_PriceCurr] AS [Forecast_Distribution_Yr4_PriceCurr], 
    [Project1].[Security_ID1] AS [Security_ID1], 
    [Project1].[Entity_ID1] AS [Entity_ID1], 
    [Project1].[Security_Name] AS [Security_Name], 
    [Project1].[Short_Name] AS [Short_Name], 
    [Project1].[Primary_Exch] AS [Primary_Exch], 
    [Project1].[Secondary_Exch] AS [Secondary_Exch], 
    [Project1].[Country_Of_Domicile] AS [Country_Of_Domicile], 
    [Project1].[Country_Of_Risk] AS [Country_Of_Risk], 
    [Project1].[Security_Type_Code] AS [Security_Type_Code], 
    [Project1].[Price_Multiplier] AS [Price_Multiplier], 
    [Project1].[Income_Frequency] AS [Income_Frequency], 
    [Project1].[Issuer_Code] AS [Issuer_Code], 
    [Project1].[Ultimate_Issuer_Code] AS [Ultimate_Issuer_Code], 
    [Project1].[Asset_Currency] AS [Asset_Currency], 
    [Project1].[Min_Lot_Size] AS [Min_Lot_Size], 
    [Project1].[AvePrice_Rounding] AS [AvePrice_Rounding], 
    [Project1].[Issue_Date] AS [Issue_Date], 
    [Project1].[Maturity_Date] AS [Maturity_Date], 
    [Project1].[Coupon_Rate] AS [Coupon_Rate], 
    [Project1].[Price_Exchange] AS [Price_Exchange], 
    [Project1].[Trade_Currency] AS [Trade_Currency], 
    [Project1].[Price_Curr] AS [Price_Curr], 
    [Project1].[Currency_Pair_Code] AS [Currency_Pair_Code], 
    [Project1].[Share_Class] AS [Share_Class], 
    [Project1].[Current_Market_Price] AS [Current_Market_Price], 
    [Project1].[Index_Type] AS [Index_Type], 
    [Project1].[Clean_Price_Formula] AS [Clean_Price_Formula], 
    [Project1].[Accrued_Income_Price_Formula] AS [Accrued_Income_Price_Formula], 
    [Project1].[Odd_First_Coupon_Date] AS [Odd_First_Coupon_Date], 
    [Project1].[Odd_Last_Coupon_Date] AS [Odd_Last_Coupon_Date], 
    [Project1].[Coupon_Anniversary_Indicator] AS [Coupon_Anniversary_Indicator], 
    [Project1].[Track_EOM_Flag] AS [Track_EOM_Flag], 
    [Project1].[Next_Coupon_Date] AS [Next_Coupon_Date], 
    [Project1].[Previous_Coupon_Date] AS [Previous_Coupon_Date], 
    [Project1].[Payment_Frequency] AS [Payment_Frequency], 
    [Project1].[Coupon_BusDay_Adjustment] AS [Coupon_BusDay_Adjustment], 
    [Project1].[Next_Ex_Div_Date] AS [Next_Ex_Div_Date], 
    [Project1].[Ex_Div_BusDay_Adjustment] AS [Ex_Div_BusDay_Adjustment], 
    [Project1].[Ex_Div_Period] AS [Ex_Div_Period], 
    [Project1].[Ticker] AS [Ticker], 
    [Project1].[Inet_ID] AS [Inet_ID], 
    [Project1].[Bloomberg_ID] AS [Bloomberg_ID], 
    [Project1].[External_Sec_ID] AS [External_Sec_ID], 
    [Project1].[Reuters_ID] AS [Reuters_ID], 
    [Project1].[ISIN] AS [ISIN], 
    [Project1].[Call_Account_Flag] AS [Call_Account_Flag], 
    [Project1].[System_Locked] AS [System_Locked], 
    [Project1].[Last_Update_User1] AS [Last_Update_User1], 
    [Project1].[Last_Update_Date1] AS [Last_Update_Date1], 
    [Project1].[Security_Status] AS [Security_Status], 
    [Project1].[Benchmark_Portfolio] AS [Benchmark_Portfolio], 
    [Project1].[Active_flag] AS [Active_flag], 
    [Project1].[Dividend_FX_Security_ID] AS [Dividend_FX_Security_ID]
    FROM ( SELECT 
        [Extent1].[Entity_ID] AS [Entity_ID], 
        [Extent1].[Security_ID] AS [Security_ID], 
        [Extent1].[Issued_Amount] AS [Issued_Amount], 
        [Extent1].[Market_Capitalisation] AS [Market_Capitalisation], 
        [Extent1].[Risk_Premium] AS [Risk_Premium], 
        [Extent1].[Exit_Price] AS [Exit_Price], 
        [Extent1].[Total_Return_ME_1YR] AS [Total_Return_ME_1YR], 
        [Extent1].[Total_Return_ME_2YR] AS [Total_Return_ME_2YR], 
        [Extent1].[Total_Return_ME_3YR] AS [Total_Return_ME_3YR], 
        [Extent1].[Historic_Distribution] AS [Historic_Distribution], 
        [Extent1].[Distribution_Growth_Forecast_Yr1] AS [Distribution_Growth_Forecast_Yr1], 
        [Extent1].[Distribution_Growth_Forecast_Yr2] AS [Distribution_Growth_Forecast_Yr2], 
        [Extent1].[Distribution_Growth_Forecast_Yr3] AS [Distribution_Growth_Forecast_Yr3], 
        [Extent1].[Forecast_Distribution_Yr1] AS [Forecast_Distribution_Yr1], 
        [Extent1].[Forecast_Distribution_Yr2] AS [Forecast_Distribution_Yr2], 
        [Extent1].[Forecast_Distribution_Yr3] AS [Forecast_Distribution_Yr3], 
        [Extent1].[Earnings_Growth_Compounded] AS [Earnings_Growth_Compounded], 
        [Extent1].[Earnings_Forecast_Yr3] AS [Earnings_Forecast_Yr3], 
        [Extent1].[Historic_Dividend_Yield_FYE] AS [Historic_Dividend_Yield_FYE], 
        [Extent1].[Forward_Dividend_Yield_FYE] AS [Forward_Dividend_Yield_FYE], 
        [Extent1].[Yr3_Forward_Dividend_Yield] AS [Yr3_Forward_Dividend_Yield], 
        [Extent1].[Rolling_12M_Forward_Yield] AS [Rolling_12M_Forward_Yield], 
        [Extent1].[Historical_Earnings_FYE] AS [Historical_Earnings_FYE], 
        [Extent1].[Earnings_Forecast_Yr1] AS [Earnings_Forecast_Yr1], 
        [Extent1].[Earnings_Forecast_Yr2] AS [Earnings_Forecast_Yr2], 
        [Extent1].[Historic_Dividend_Yield_Relative] AS [Historic_Dividend_Yield_Relative], 
        [Extent1].[Rolling_12M_Historic_Distribution_PriceCurr] AS [Rolling_12M_Historic_Distribution_PriceCurr], 
        [Extent1].[Short_Term_Market_Rerate] AS [Short_Term_Market_Rerate], 
        [Extent1].[Forecast_12M_Total_Return] AS [Forecast_12M_Total_Return], 
        [Extent1].[Clean_Price] AS [Clean_Price], 
        [Extent1].[Rolling_Dividend_Yield_Historic] AS [Rolling_Dividend_Yield_Historic], 
        [Extent1].[Last_Update_Date] AS [Last_Update_Date], 
        [Extent1].[Last_Update_User] AS [Last_Update_User], 
        [Extent1].[Discount_Security_ID] AS [Discount_Security_ID], 
        [Extent1].[Net_Present_Value] AS [Net_Present_Value], 
        [Extent1].[Forecast_Rolling_Custom_Income] AS [Forecast_Rolling_Custom_Income], 
        [Extent1].[Custom_Period] AS [Custom_Period], 
        [Extent1].[Rolling_12M_Historic_Distribution] AS [Rolling_12M_Historic_Distribution], 
        [Extent1].[Record_Date] AS [Record_Date], 
        [Extent1].[Session_ID] AS [Session_ID], 
        [Extent1].[Hist_Last_Update_Date] AS [Hist_Last_Update_Date], 
        [Extent1].[Hist_Last_Update_User] AS [Hist_Last_Update_User], 
        [Extent1].[Rolling_12M_Forecast_Distribution] AS [Rolling_12M_Forecast_Distribution], 
        [Extent1].[Yr2_Forward_Dividend_Yield] AS [Yr2_Forward_Dividend_Yield], 
        [Extent1].[Exit_Yield] AS [Exit_Yield], 
        [Extent1].[Discount_Rate] AS [Discount_Rate], 
        [Extent1].[Distribution_Growth_Compounded] AS [Distribution_Growth_Compounded], 
        [Extent1].[Forecast_12MRolling_Income_Accrual] AS [Forecast_12MRolling_Income_Accrual], 
        [Extent1].[Rolling_12_to_24M_Forecast_Distribution] AS [Rolling_12_to_24M_Forecast_Distribution], 
        [Extent1].[Rolling_24_to_36M_Forecast_Distribution] AS [Rolling_24_to_36M_Forecast_Distribution], 
        [Extent1].[Forecast_Yr1_Dividend_Yield_Relative] AS [Forecast_Yr1_Dividend_Yield_Relative], 
        [Extent1].[Market_Historic_Yield] AS [Market_Historic_Yield], 
        [Extent1].[Market_Forward_Yield] AS [Market_Forward_Yield], 
        [Extent1].[Historic_Distribution_PriceCurr] AS [Historic_Distribution_PriceCurr], 
        [Extent1].[Forecast_Distribution_Yr1_PriceCurr] AS [Forecast_Distribution_Yr1_PriceCurr], 
        [Extent1].[Forecast_Distribution_Yr2_PriceCurr] AS [Forecast_Distribution_Yr2_PriceCurr], 
        [Extent1].[Forecast_Distribution_Yr3_PriceCurr] AS [Forecast_Distribution_Yr3_PriceCurr], 
        [Extent1].[Rolling_12M_Forecast_Distribution_PriceCurr] AS [Rolling_12M_Forecast_Distribution_PriceCurr], 
        [Extent1].[Rolling_12_24M_Forecast_Distribution_PriceCurr] AS [Rolling_12_24M_Forecast_Distribution_PriceCurr], 
        [Extent1].[Rolling_24_36M_Forecast_Distribution_PriceCurr] AS [Rolling_24_36M_Forecast_Distribution_PriceCurr], 
        [Extent1].[Distribution_Growth_Forecast_Yr4] AS [Distribution_Growth_Forecast_Yr4], 
        [Extent1].[Earnings_Forecast_Yr4] AS [Earnings_Forecast_Yr4], 
        [Extent1].[Forecast_Distribution_Yr4] AS [Forecast_Distribution_Yr4], 
        [Extent1].[Forecast_Distribution_Yr4_PriceCurr] AS [Forecast_Distribution_Yr4_PriceCurr], 
        [Extent2].[Security_ID] AS [Security_ID1], 
        [Extent2].[Entity_ID] AS [Entity_ID1], 
        [Extent2].[Security_Name] AS [Security_Name], 
        [Extent2].[Short_Name] AS [Short_Name], 
        [Extent2].[Primary_Exch] AS [Primary_Exch], 
        [Extent2].[Secondary_Exch] AS [Secondary_Exch], 
        [Extent2].[Country_Of_Domicile] AS [Country_Of_Domicile], 
        [Extent2].[Country_Of_Risk] AS [Country_Of_Risk], 
        [Extent2].[Security_Type_Code] AS [Security_Type_Code], 
        [Extent2].[Price_Multiplier] AS [Price_Multiplier], 
        [Extent2].[Income_Frequency] AS [Income_Frequency], 
        [Extent2].[Issuer_Code] AS [Issuer_Code], 
        [Extent2].[Ultimate_Issuer_Code] AS [Ultimate_Issuer_Code], 
        [Extent2].[Asset_Currency] AS [Asset_Currency], 
        [Extent2].[Min_Lot_Size] AS [Min_Lot_Size], 
        [Extent2].[Decimal_Precision] AS [Decimal_Precision], 
        [Extent2].[AvePrice_Rounding] AS [AvePrice_Rounding], 
        [Extent2].[Issue_Date] AS [Issue_Date], 
        [Extent2].[Maturity_Date] AS [Maturity_Date], 
        [Extent2].[Coupon_Rate] AS [Coupon_Rate], 
        [Extent2].[Price_Exchange] AS [Price_Exchange], 
        [Extent2].[Trade_Currency] AS [Trade_Currency], 
        [Extent2].[Price_Curr] AS [Price_Curr], 
        [Extent2].[Currency_Pair_Code] AS [Currency_Pair_Code], 
        [Extent2].[Share_Class] AS [Share_Class], 
        [Extent2].[Current_Market_Price] AS [Current_Market_Price], 
        [Extent2].[Index_Type] AS [Index_Type], 
        [Extent2].[Clean_Price_Formula] AS [Clean_Price_Formula], 
        [Extent2].[Accrued_Income_Price_Formula] AS [Accrued_Income_Price_Formula], 
        [Extent2].[Odd_First_Coupon_Date] AS [Odd_First_Coupon_Date], 
        [Extent2].[Odd_Last_Coupon_Date] AS [Odd_Last_Coupon_Date], 
        [Extent2].[Coupon_Anniversary_Indicator] AS [Coupon_Anniversary_Indicator], 
        [Extent2].[Track_EOM_Flag] AS [Track_EOM_Flag], 
        [Extent2].[Next_Coupon_Date] AS [Next_Coupon_Date], 
        [Extent2].[Previous_Coupon_Date] AS [Previous_Coupon_Date], 
        [Extent2].[Payment_Frequency] AS [Payment_Frequency], 
        [Extent2].[Coupon_BusDay_Adjustment] AS [Coupon_BusDay_Adjustment], 
        [Extent2].[Next_Ex_Div_Date] AS [Next_Ex_Div_Date], 
        [Extent2].[Ex_Div_BusDay_Adjustment] AS [Ex_Div_BusDay_Adjustment], 
        [Extent2].[Ex_Div_Period] AS [Ex_Div_Period], 
        [Extent2].[Ticker] AS [Ticker], 
        [Extent2].[Inet_ID] AS [Inet_ID], 
        [Extent2].[Bloomberg_ID] AS [Bloomberg_ID], 
        [Extent2].[External_Sec_ID] AS [External_Sec_ID], 
        [Extent2].[Reuters_ID] AS [Reuters_ID], 
        [Extent2].[ISIN] AS [ISIN], 
        [Extent2].[Call_Account_Flag] AS [Call_Account_Flag], 
        [Extent2].[System_Locked] AS [System_Locked], 
        [Extent2].[Last_Update_User] AS [Last_Update_User1], 
        [Extent2].[Last_Update_Date] AS [Last_Update_Date1], 
        [Extent2].[Security_Status] AS [Security_Status], 
        [Extent2].[Benchmark_Portfolio] AS [Benchmark_Portfolio], 
        [Extent2].[Active_flag] AS [Active_flag], 
        [Extent2].[Dividend_FX_Security_ID] AS [Dividend_FX_Security_ID]
        FROM  [dbo].[Security_Analytics_History] AS [Extent1]
        INNER JOIN [dbo].[Security_Detail] AS [Extent2] ON [Extent1].[Security_ID] = [Extent2].[Security_ID]
        WHERE [Extent1].[Security_ID] = @p__linq__0
    )  AS [Project1]
    ORDER BY [Project1].[Record_Date] DESC
2018-04-07 12:34:02.2271|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: IF db_id(N'MetopeAzureDb') IS NOT NULL SELECT 1 ELSE SELECT Count(*) FROM sys.databases WHERE [name]=N'MetopeAzureDb'
2018-04-07 12:34:02.2416|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: IF db_id(N'MetopeAzureDb') IS NOT NULL SELECT 1 ELSE SELECT Count(*) FROM sys.databases WHERE [name]=N'MetopeAzureDb'
2018-04-07 12:34:02.2626|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: IF db_id(N'MetopeAzureDb') IS NOT NULL SELECT 1 ELSE SELECT Count(*) FROM sys.databases WHERE [name]=N'MetopeAzureDb'
2018-04-07 12:34:02.2796|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: IF db_id(N'MetopeAzureDb') IS NOT NULL SELECT 1 ELSE SELECT Count(*) FROM sys.databases WHERE [name]=N'MetopeAzureDb'
2018-04-07 12:34:02.5143|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: SELECT 
    [Project1].[Decimal_Precision] AS [Decimal_Precision], 
    [Project1].[Entity_ID] AS [Entity_ID], 
    [Project1].[Security_ID] AS [Security_ID], 
    [Project1].[Issued_Amount] AS [Issued_Amount], 
    [Project1].[Market_Capitalisation] AS [Market_Capitalisation], 
    [Project1].[Risk_Premium] AS [Risk_Premium], 
    [Project1].[Exit_Price] AS [Exit_Price], 
    [Project1].[Total_Return_ME_1YR] AS [Total_Return_ME_1YR], 
    [Project1].[Total_Return_ME_2YR] AS [Total_Return_ME_2YR], 
    [Project1].[Total_Return_ME_3YR] AS [Total_Return_ME_3YR], 
    [Project1].[Historic_Distribution] AS [Historic_Distribution], 
    [Project1].[Distribution_Growth_Forecast_Yr1] AS [Distribution_Growth_Forecast_Yr1], 
    [Project1].[Distribution_Growth_Forecast_Yr2] AS [Distribution_Growth_Forecast_Yr2], 
    [Project1].[Distribution_Growth_Forecast_Yr3] AS [Distribution_Growth_Forecast_Yr3], 
    [Project1].[Forecast_Distribution_Yr1] AS [Forecast_Distribution_Yr1], 
    [Project1].[Forecast_Distribution_Yr2] AS [Forecast_Distribution_Yr2], 
    [Project1].[Forecast_Distribution_Yr3] AS [Forecast_Distribution_Yr3], 
    [Project1].[Earnings_Growth_Compounded] AS [Earnings_Growth_Compounded], 
    [Project1].[Earnings_Forecast_Yr3] AS [Earnings_Forecast_Yr3], 
    [Project1].[Historic_Dividend_Yield_FYE] AS [Historic_Dividend_Yield_FYE], 
    [Project1].[Forward_Dividend_Yield_FYE] AS [Forward_Dividend_Yield_FYE], 
    [Project1].[Yr3_Forward_Dividend_Yield] AS [Yr3_Forward_Dividend_Yield], 
    [Project1].[Rolling_12M_Forward_Yield] AS [Rolling_12M_Forward_Yield], 
    [Project1].[Historical_Earnings_FYE] AS [Historical_Earnings_FYE], 
    [Project1].[Earnings_Forecast_Yr1] AS [Earnings_Forecast_Yr1], 
    [Project1].[Earnings_Forecast_Yr2] AS [Earnings_Forecast_Yr2], 
    [Project1].[Historic_Dividend_Yield_Relative] AS [Historic_Dividend_Yield_Relative], 
    [Project1].[Rolling_12M_Historic_Distribution_PriceCurr] AS [Rolling_12M_Historic_Distribution_PriceCurr], 
    [Project1].[Short_Term_Market_Rerate] AS [Short_Term_Market_Rerate], 
    [Project1].[Forecast_12M_Total_Return] AS [Forecast_12M_Total_Return], 
    [Project1].[Clean_Price] AS [Clean_Price], 
    [Project1].[Rolling_Dividend_Yield_Historic] AS [Rolling_Dividend_Yield_Historic], 
    [Project1].[Last_Update_Date] AS [Last_Update_Date], 
    [Project1].[Last_Update_User] AS [Last_Update_User], 
    [Project1].[Discount_Security_ID] AS [Discount_Security_ID], 
    [Project1].[Net_Present_Value] AS [Net_Present_Value], 
    [Project1].[Forecast_Rolling_Custom_Income] AS [Forecast_Rolling_Custom_Income], 
    [Project1].[Custom_Period] AS [Custom_Period], 
    [Project1].[Rolling_12M_Historic_Distribution] AS [Rolling_12M_Historic_Distribution], 
    [Project1].[Record_Date] AS [Record_Date], 
    [Project1].[Session_ID] AS [Session_ID], 
    [Project1].[Hist_Last_Update_Date] AS [Hist_Last_Update_Date], 
    [Project1].[Hist_Last_Update_User] AS [Hist_Last_Update_User], 
    [Project1].[Rolling_12M_Forecast_Distribution] AS [Rolling_12M_Forecast_Distribution], 
    [Project1].[Yr2_Forward_Dividend_Yield] AS [Yr2_Forward_Dividend_Yield], 
    [Project1].[Exit_Yield] AS [Exit_Yield], 
    [Project1].[Discount_Rate] AS [Discount_Rate], 
    [Project1].[Distribution_Growth_Compounded] AS [Distribution_Growth_Compounded], 
    [Project1].[Forecast_12MRolling_Income_Accrual] AS [Forecast_12MRolling_Income_Accrual], 
    [Project1].[Rolling_12_to_24M_Forecast_Distribution] AS [Rolling_12_to_24M_Forecast_Distribution], 
    [Project1].[Rolling_24_to_36M_Forecast_Distribution] AS [Rolling_24_to_36M_Forecast_Distribution], 
    [Project1].[Forecast_Yr1_Dividend_Yield_Relative] AS [Forecast_Yr1_Dividend_Yield_Relative], 
    [Project1].[Market_Historic_Yield] AS [Market_Historic_Yield], 
    [Project1].[Market_Forward_Yield] AS [Market_Forward_Yield], 
    [Project1].[Historic_Distribution_PriceCurr] AS [Historic_Distribution_PriceCurr], 
    [Project1].[Forecast_Distribution_Yr1_PriceCurr] AS [Forecast_Distribution_Yr1_PriceCurr], 
    [Project1].[Forecast_Distribution_Yr2_PriceCurr] AS [Forecast_Distribution_Yr2_PriceCurr], 
    [Project1].[Forecast_Distribution_Yr3_PriceCurr] AS [Forecast_Distribution_Yr3_PriceCurr], 
    [Project1].[Rolling_12M_Forecast_Distribution_PriceCurr] AS [Rolling_12M_Forecast_Distribution_PriceCurr], 
    [Project1].[Rolling_12_24M_Forecast_Distribution_PriceCurr] AS [Rolling_12_24M_Forecast_Distribution_PriceCurr], 
    [Project1].[Rolling_24_36M_Forecast_Distribution_PriceCurr] AS [Rolling_24_36M_Forecast_Distribution_PriceCurr], 
    [Project1].[Distribution_Growth_Forecast_Yr4] AS [Distribution_Growth_Forecast_Yr4], 
    [Project1].[Earnings_Forecast_Yr4] AS [Earnings_Forecast_Yr4], 
    [Project1].[Forecast_Distribution_Yr4] AS [Forecast_Distribution_Yr4], 
    [Project1].[Forecast_Distribution_Yr4_PriceCurr] AS [Forecast_Distribution_Yr4_PriceCurr], 
    [Project1].[Security_ID1] AS [Security_ID1], 
    [Project1].[Entity_ID1] AS [Entity_ID1], 
    [Project1].[Security_Name] AS [Security_Name], 
    [Project1].[Short_Name] AS [Short_Name], 
    [Project1].[Primary_Exch] AS [Primary_Exch], 
    [Project1].[Secondary_Exch] AS [Secondary_Exch], 
    [Project1].[Country_Of_Domicile] AS [Country_Of_Domicile], 
    [Project1].[Country_Of_Risk] AS [Country_Of_Risk], 
    [Project1].[Security_Type_Code] AS [Security_Type_Code], 
    [Project1].[Price_Multiplier] AS [Price_Multiplier], 
    [Project1].[Income_Frequency] AS [Income_Frequency], 
    [Project1].[Issuer_Code] AS [Issuer_Code], 
    [Project1].[Ultimate_Issuer_Code] AS [Ultimate_Issuer_Code], 
    [Project1].[Asset_Currency] AS [Asset_Currency], 
    [Project1].[Min_Lot_Size] AS [Min_Lot_Size], 
    [Project1].[AvePrice_Rounding] AS [AvePrice_Rounding], 
    [Project1].[Issue_Date] AS [Issue_Date], 
    [Project1].[Maturity_Date] AS [Maturity_Date], 
    [Project1].[Coupon_Rate] AS [Coupon_Rate], 
    [Project1].[Price_Exchange] AS [Price_Exchange], 
    [Project1].[Trade_Currency] AS [Trade_Currency], 
    [Project1].[Price_Curr] AS [Price_Curr], 
    [Project1].[Currency_Pair_Code] AS [Currency_Pair_Code], 
    [Project1].[Share_Class] AS [Share_Class], 
    [Project1].[Current_Market_Price] AS [Current_Market_Price], 
    [Project1].[Index_Type] AS [Index_Type], 
    [Project1].[Clean_Price_Formula] AS [Clean_Price_Formula], 
    [Project1].[Accrued_Income_Price_Formula] AS [Accrued_Income_Price_Formula], 
    [Project1].[Odd_First_Coupon_Date] AS [Odd_First_Coupon_Date], 
    [Project1].[Odd_Last_Coupon_Date] AS [Odd_Last_Coupon_Date], 
    [Project1].[Coupon_Anniversary_Indicator] AS [Coupon_Anniversary_Indicator], 
    [Project1].[Track_EOM_Flag] AS [Track_EOM_Flag], 
    [Project1].[Next_Coupon_Date] AS [Next_Coupon_Date], 
    [Project1].[Previous_Coupon_Date] AS [Previous_Coupon_Date], 
    [Project1].[Payment_Frequency] AS [Payment_Frequency], 
    [Project1].[Coupon_BusDay_Adjustment] AS [Coupon_BusDay_Adjustment], 
    [Project1].[Next_Ex_Div_Date] AS [Next_Ex_Div_Date], 
    [Project1].[Ex_Div_BusDay_Adjustment] AS [Ex_Div_BusDay_Adjustment], 
    [Project1].[Ex_Div_Period] AS [Ex_Div_Period], 
    [Project1].[Ticker] AS [Ticker], 
    [Project1].[Inet_ID] AS [Inet_ID], 
    [Project1].[Bloomberg_ID] AS [Bloomberg_ID], 
    [Project1].[External_Sec_ID] AS [External_Sec_ID], 
    [Project1].[Reuters_ID] AS [Reuters_ID], 
    [Project1].[ISIN] AS [ISIN], 
    [Project1].[Call_Account_Flag] AS [Call_Account_Flag], 
    [Project1].[System_Locked] AS [System_Locked], 
    [Project1].[Last_Update_User1] AS [Last_Update_User1], 
    [Project1].[Last_Update_Date1] AS [Last_Update_Date1], 
    [Project1].[Security_Status] AS [Security_Status], 
    [Project1].[Benchmark_Portfolio] AS [Benchmark_Portfolio], 
    [Project1].[Active_flag] AS [Active_flag], 
    [Project1].[Dividend_FX_Security_ID] AS [Dividend_FX_Security_ID]
    FROM ( SELECT 
        [Extent1].[Entity_ID] AS [Entity_ID], 
        [Extent1].[Security_ID] AS [Security_ID], 
        [Extent1].[Issued_Amount] AS [Issued_Amount], 
        [Extent1].[Market_Capitalisation] AS [Market_Capitalisation], 
        [Extent1].[Risk_Premium] AS [Risk_Premium], 
        [Extent1].[Exit_Price] AS [Exit_Price], 
        [Extent1].[Total_Return_ME_1YR] AS [Total_Return_ME_1YR], 
        [Extent1].[Total_Return_ME_2YR] AS [Total_Return_ME_2YR], 
        [Extent1].[Total_Return_ME_3YR] AS [Total_Return_ME_3YR], 
        [Extent1].[Historic_Distribution] AS [Historic_Distribution], 
        [Extent1].[Distribution_Growth_Forecast_Yr1] AS [Distribution_Growth_Forecast_Yr1], 
        [Extent1].[Distribution_Growth_Forecast_Yr2] AS [Distribution_Growth_Forecast_Yr2], 
        [Extent1].[Distribution_Growth_Forecast_Yr3] AS [Distribution_Growth_Forecast_Yr3], 
        [Extent1].[Forecast_Distribution_Yr1] AS [Forecast_Distribution_Yr1], 
        [Extent1].[Forecast_Distribution_Yr2] AS [Forecast_Distribution_Yr2], 
        [Extent1].[Forecast_Distribution_Yr3] AS [Forecast_Distribution_Yr3], 
        [Extent1].[Earnings_Growth_Compounded] AS [Earnings_Growth_Compounded], 
        [Extent1].[Earnings_Forecast_Yr3] AS [Earnings_Forecast_Yr3], 
        [Extent1].[Historic_Dividend_Yield_FYE] AS [Historic_Dividend_Yield_FYE], 
        [Extent1].[Forward_Dividend_Yield_FYE] AS [Forward_Dividend_Yield_FYE], 
        [Extent1].[Yr3_Forward_Dividend_Yield] AS [Yr3_Forward_Dividend_Yield], 
        [Extent1].[Rolling_12M_Forward_Yield] AS [Rolling_12M_Forward_Yield], 
        [Extent1].[Historical_Earnings_FYE] AS [Historical_Earnings_FYE], 
        [Extent1].[Earnings_Forecast_Yr1] AS [Earnings_Forecast_Yr1], 
        [Extent1].[Earnings_Forecast_Yr2] AS [Earnings_Forecast_Yr2], 
        [Extent1].[Historic_Dividend_Yield_Relative] AS [Historic_Dividend_Yield_Relative], 
        [Extent1].[Rolling_12M_Historic_Distribution_PriceCurr] AS [Rolling_12M_Historic_Distribution_PriceCurr], 
        [Extent1].[Short_Term_Market_Rerate] AS [Short_Term_Market_Rerate], 
        [Extent1].[Forecast_12M_Total_Return] AS [Forecast_12M_Total_Return], 
        [Extent1].[Clean_Price] AS [Clean_Price], 
        [Extent1].[Rolling_Dividend_Yield_Historic] AS [Rolling_Dividend_Yield_Historic], 
        [Extent1].[Last_Update_Date] AS [Last_Update_Date], 
        [Extent1].[Last_Update_User] AS [Last_Update_User], 
        [Extent1].[Discount_Security_ID] AS [Discount_Security_ID], 
        [Extent1].[Net_Present_Value] AS [Net_Present_Value], 
        [Extent1].[Forecast_Rolling_Custom_Income] AS [Forecast_Rolling_Custom_Income], 
        [Extent1].[Custom_Period] AS [Custom_Period], 
        [Extent1].[Rolling_12M_Historic_Distribution] AS [Rolling_12M_Historic_Distribution], 
        [Extent1].[Record_Date] AS [Record_Date], 
        [Extent1].[Session_ID] AS [Session_ID], 
        [Extent1].[Hist_Last_Update_Date] AS [Hist_Last_Update_Date], 
        [Extent1].[Hist_Last_Update_User] AS [Hist_Last_Update_User], 
        [Extent1].[Rolling_12M_Forecast_Distribution] AS [Rolling_12M_Forecast_Distribution], 
        [Extent1].[Yr2_Forward_Dividend_Yield] AS [Yr2_Forward_Dividend_Yield], 
        [Extent1].[Exit_Yield] AS [Exit_Yield], 
        [Extent1].[Discount_Rate] AS [Discount_Rate], 
        [Extent1].[Distribution_Growth_Compounded] AS [Distribution_Growth_Compounded], 
        [Extent1].[Forecast_12MRolling_Income_Accrual] AS [Forecast_12MRolling_Income_Accrual], 
        [Extent1].[Rolling_12_to_24M_Forecast_Distribution] AS [Rolling_12_to_24M_Forecast_Distribution], 
        [Extent1].[Rolling_24_to_36M_Forecast_Distribution] AS [Rolling_24_to_36M_Forecast_Distribution], 
        [Extent1].[Forecast_Yr1_Dividend_Yield_Relative] AS [Forecast_Yr1_Dividend_Yield_Relative], 
        [Extent1].[Market_Historic_Yield] AS [Market_Historic_Yield], 
        [Extent1].[Market_Forward_Yield] AS [Market_Forward_Yield], 
        [Extent1].[Historic_Distribution_PriceCurr] AS [Historic_Distribution_PriceCurr], 
        [Extent1].[Forecast_Distribution_Yr1_PriceCurr] AS [Forecast_Distribution_Yr1_PriceCurr], 
        [Extent1].[Forecast_Distribution_Yr2_PriceCurr] AS [Forecast_Distribution_Yr2_PriceCurr], 
        [Extent1].[Forecast_Distribution_Yr3_PriceCurr] AS [Forecast_Distribution_Yr3_PriceCurr], 
        [Extent1].[Rolling_12M_Forecast_Distribution_PriceCurr] AS [Rolling_12M_Forecast_Distribution_PriceCurr], 
        [Extent1].[Rolling_12_24M_Forecast_Distribution_PriceCurr] AS [Rolling_12_24M_Forecast_Distribution_PriceCurr], 
        [Extent1].[Rolling_24_36M_Forecast_Distribution_PriceCurr] AS [Rolling_24_36M_Forecast_Distribution_PriceCurr], 
        [Extent1].[Distribution_Growth_Forecast_Yr4] AS [Distribution_Growth_Forecast_Yr4], 
        [Extent1].[Earnings_Forecast_Yr4] AS [Earnings_Forecast_Yr4], 
        [Extent1].[Forecast_Distribution_Yr4] AS [Forecast_Distribution_Yr4], 
        [Extent1].[Forecast_Distribution_Yr4_PriceCurr] AS [Forecast_Distribution_Yr4_PriceCurr], 
        [Extent2].[Security_ID] AS [Security_ID1], 
        [Extent2].[Entity_ID] AS [Entity_ID1], 
        [Extent2].[Security_Name] AS [Security_Name], 
        [Extent2].[Short_Name] AS [Short_Name], 
        [Extent2].[Primary_Exch] AS [Primary_Exch], 
        [Extent2].[Secondary_Exch] AS [Secondary_Exch], 
        [Extent2].[Country_Of_Domicile] AS [Country_Of_Domicile], 
        [Extent2].[Country_Of_Risk] AS [Country_Of_Risk], 
        [Extent2].[Security_Type_Code] AS [Security_Type_Code], 
        [Extent2].[Price_Multiplier] AS [Price_Multiplier], 
        [Extent2].[Income_Frequency] AS [Income_Frequency], 
        [Extent2].[Issuer_Code] AS [Issuer_Code], 
        [Extent2].[Ultimate_Issuer_Code] AS [Ultimate_Issuer_Code], 
        [Extent2].[Asset_Currency] AS [Asset_Currency], 
        [Extent2].[Min_Lot_Size] AS [Min_Lot_Size], 
        [Extent2].[Decimal_Precision] AS [Decimal_Precision], 
        [Extent2].[AvePrice_Rounding] AS [AvePrice_Rounding], 
        [Extent2].[Issue_Date] AS [Issue_Date], 
        [Extent2].[Maturity_Date] AS [Maturity_Date], 
        [Extent2].[Coupon_Rate] AS [Coupon_Rate], 
        [Extent2].[Price_Exchange] AS [Price_Exchange], 
        [Extent2].[Trade_Currency] AS [Trade_Currency], 
        [Extent2].[Price_Curr] AS [Price_Curr], 
        [Extent2].[Currency_Pair_Code] AS [Currency_Pair_Code], 
        [Extent2].[Share_Class] AS [Share_Class], 
        [Extent2].[Current_Market_Price] AS [Current_Market_Price], 
        [Extent2].[Index_Type] AS [Index_Type], 
        [Extent2].[Clean_Price_Formula] AS [Clean_Price_Formula], 
        [Extent2].[Accrued_Income_Price_Formula] AS [Accrued_Income_Price_Formula], 
        [Extent2].[Odd_First_Coupon_Date] AS [Odd_First_Coupon_Date], 
        [Extent2].[Odd_Last_Coupon_Date] AS [Odd_Last_Coupon_Date], 
        [Extent2].[Coupon_Anniversary_Indicator] AS [Coupon_Anniversary_Indicator], 
        [Extent2].[Track_EOM_Flag] AS [Track_EOM_Flag], 
        [Extent2].[Next_Coupon_Date] AS [Next_Coupon_Date], 
        [Extent2].[Previous_Coupon_Date] AS [Previous_Coupon_Date], 
        [Extent2].[Payment_Frequency] AS [Payment_Frequency], 
        [Extent2].[Coupon_BusDay_Adjustment] AS [Coupon_BusDay_Adjustment], 
        [Extent2].[Next_Ex_Div_Date] AS [Next_Ex_Div_Date], 
        [Extent2].[Ex_Div_BusDay_Adjustment] AS [Ex_Div_BusDay_Adjustment], 
        [Extent2].[Ex_Div_Period] AS [Ex_Div_Period], 
        [Extent2].[Ticker] AS [Ticker], 
        [Extent2].[Inet_ID] AS [Inet_ID], 
        [Extent2].[Bloomberg_ID] AS [Bloomberg_ID], 
        [Extent2].[External_Sec_ID] AS [External_Sec_ID], 
        [Extent2].[Reuters_ID] AS [Reuters_ID], 
        [Extent2].[ISIN] AS [ISIN], 
        [Extent2].[Call_Account_Flag] AS [Call_Account_Flag], 
        [Extent2].[System_Locked] AS [System_Locked], 
        [Extent2].[Last_Update_User] AS [Last_Update_User1], 
        [Extent2].[Last_Update_Date] AS [Last_Update_Date1], 
        [Extent2].[Security_Status] AS [Security_Status], 
        [Extent2].[Benchmark_Portfolio] AS [Benchmark_Portfolio], 
        [Extent2].[Active_flag] AS [Active_flag], 
        [Extent2].[Dividend_FX_Security_ID] AS [Dividend_FX_Security_ID]
        FROM  [dbo].[Security_Analytics_History] AS [Extent1]
        INNER JOIN [dbo].[Security_Detail] AS [Extent2] ON [Extent1].[Security_ID] = [Extent2].[Security_ID]
        WHERE [Extent1].[Security_ID] = @p__linq__0
    )  AS [Project1]
    ORDER BY [Project1].[Record_Date] DESC
2018-04-07 12:34:02.5423|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: SELECT 
    [Project1].[Decimal_Precision] AS [Decimal_Precision], 
    [Project1].[Entity_ID] AS [Entity_ID], 
    [Project1].[Security_ID] AS [Security_ID], 
    [Project1].[Issued_Amount] AS [Issued_Amount], 
    [Project1].[Market_Capitalisation] AS [Market_Capitalisation], 
    [Project1].[Risk_Premium] AS [Risk_Premium], 
    [Project1].[Exit_Price] AS [Exit_Price], 
    [Project1].[Total_Return_ME_1YR] AS [Total_Return_ME_1YR], 
    [Project1].[Total_Return_ME_2YR] AS [Total_Return_ME_2YR], 
    [Project1].[Total_Return_ME_3YR] AS [Total_Return_ME_3YR], 
    [Project1].[Historic_Distribution] AS [Historic_Distribution], 
    [Project1].[Distribution_Growth_Forecast_Yr1] AS [Distribution_Growth_Forecast_Yr1], 
    [Project1].[Distribution_Growth_Forecast_Yr2] AS [Distribution_Growth_Forecast_Yr2], 
    [Project1].[Distribution_Growth_Forecast_Yr3] AS [Distribution_Growth_Forecast_Yr3], 
    [Project1].[Forecast_Distribution_Yr1] AS [Forecast_Distribution_Yr1], 
    [Project1].[Forecast_Distribution_Yr2] AS [Forecast_Distribution_Yr2], 
    [Project1].[Forecast_Distribution_Yr3] AS [Forecast_Distribution_Yr3], 
    [Project1].[Earnings_Growth_Compounded] AS [Earnings_Growth_Compounded], 
    [Project1].[Earnings_Forecast_Yr3] AS [Earnings_Forecast_Yr3], 
    [Project1].[Historic_Dividend_Yield_FYE] AS [Historic_Dividend_Yield_FYE], 
    [Project1].[Forward_Dividend_Yield_FYE] AS [Forward_Dividend_Yield_FYE], 
    [Project1].[Yr3_Forward_Dividend_Yield] AS [Yr3_Forward_Dividend_Yield], 
    [Project1].[Rolling_12M_Forward_Yield] AS [Rolling_12M_Forward_Yield], 
    [Project1].[Historical_Earnings_FYE] AS [Historical_Earnings_FYE], 
    [Project1].[Earnings_Forecast_Yr1] AS [Earnings_Forecast_Yr1], 
    [Project1].[Earnings_Forecast_Yr2] AS [Earnings_Forecast_Yr2], 
    [Project1].[Historic_Dividend_Yield_Relative] AS [Historic_Dividend_Yield_Relative], 
    [Project1].[Rolling_12M_Historic_Distribution_PriceCurr] AS [Rolling_12M_Historic_Distribution_PriceCurr], 
    [Project1].[Short_Term_Market_Rerate] AS [Short_Term_Market_Rerate], 
    [Project1].[Forecast_12M_Total_Return] AS [Forecast_12M_Total_Return], 
    [Project1].[Clean_Price] AS [Clean_Price], 
    [Project1].[Rolling_Dividend_Yield_Historic] AS [Rolling_Dividend_Yield_Historic], 
    [Project1].[Last_Update_Date] AS [Last_Update_Date], 
    [Project1].[Last_Update_User] AS [Last_Update_User], 
    [Project1].[Discount_Security_ID] AS [Discount_Security_ID], 
    [Project1].[Net_Present_Value] AS [Net_Present_Value], 
    [Project1].[Forecast_Rolling_Custom_Income] AS [Forecast_Rolling_Custom_Income], 
    [Project1].[Custom_Period] AS [Custom_Period], 
    [Project1].[Rolling_12M_Historic_Distribution] AS [Rolling_12M_Historic_Distribution], 
    [Project1].[Record_Date] AS [Record_Date], 
    [Project1].[Session_ID] AS [Session_ID], 
    [Project1].[Hist_Last_Update_Date] AS [Hist_Last_Update_Date], 
    [Project1].[Hist_Last_Update_User] AS [Hist_Last_Update_User], 
    [Project1].[Rolling_12M_Forecast_Distribution] AS [Rolling_12M_Forecast_Distribution], 
    [Project1].[Yr2_Forward_Dividend_Yield] AS [Yr2_Forward_Dividend_Yield], 
    [Project1].[Exit_Yield] AS [Exit_Yield], 
    [Project1].[Discount_Rate] AS [Discount_Rate], 
    [Project1].[Distribution_Growth_Compounded] AS [Distribution_Growth_Compounded], 
    [Project1].[Forecast_12MRolling_Income_Accrual] AS [Forecast_12MRolling_Income_Accrual], 
    [Project1].[Rolling_12_to_24M_Forecast_Distribution] AS [Rolling_12_to_24M_Forecast_Distribution], 
    [Project1].[Rolling_24_to_36M_Forecast_Distribution] AS [Rolling_24_to_36M_Forecast_Distribution], 
    [Project1].[Forecast_Yr1_Dividend_Yield_Relative] AS [Forecast_Yr1_Dividend_Yield_Relative], 
    [Project1].[Market_Historic_Yield] AS [Market_Historic_Yield], 
    [Project1].[Market_Forward_Yield] AS [Market_Forward_Yield], 
    [Project1].[Historic_Distribution_PriceCurr] AS [Historic_Distribution_PriceCurr], 
    [Project1].[Forecast_Distribution_Yr1_PriceCurr] AS [Forecast_Distribution_Yr1_PriceCurr], 
    [Project1].[Forecast_Distribution_Yr2_PriceCurr] AS [Forecast_Distribution_Yr2_PriceCurr], 
    [Project1].[Forecast_Distribution_Yr3_PriceCurr] AS [Forecast_Distribution_Yr3_PriceCurr], 
    [Project1].[Rolling_12M_Forecast_Distribution_PriceCurr] AS [Rolling_12M_Forecast_Distribution_PriceCurr], 
    [Project1].[Rolling_12_24M_Forecast_Distribution_PriceCurr] AS [Rolling_12_24M_Forecast_Distribution_PriceCurr], 
    [Project1].[Rolling_24_36M_Forecast_Distribution_PriceCurr] AS [Rolling_24_36M_Forecast_Distribution_PriceCurr], 
    [Project1].[Distribution_Growth_Forecast_Yr4] AS [Distribution_Growth_Forecast_Yr4], 
    [Project1].[Earnings_Forecast_Yr4] AS [Earnings_Forecast_Yr4], 
    [Project1].[Forecast_Distribution_Yr4] AS [Forecast_Distribution_Yr4], 
    [Project1].[Forecast_Distribution_Yr4_PriceCurr] AS [Forecast_Distribution_Yr4_PriceCurr], 
    [Project1].[Security_ID1] AS [Security_ID1], 
    [Project1].[Entity_ID1] AS [Entity_ID1], 
    [Project1].[Security_Name] AS [Security_Name], 
    [Project1].[Short_Name] AS [Short_Name], 
    [Project1].[Primary_Exch] AS [Primary_Exch], 
    [Project1].[Secondary_Exch] AS [Secondary_Exch], 
    [Project1].[Country_Of_Domicile] AS [Country_Of_Domicile], 
    [Project1].[Country_Of_Risk] AS [Country_Of_Risk], 
    [Project1].[Security_Type_Code] AS [Security_Type_Code], 
    [Project1].[Price_Multiplier] AS [Price_Multiplier], 
    [Project1].[Income_Frequency] AS [Income_Frequency], 
    [Project1].[Issuer_Code] AS [Issuer_Code], 
    [Project1].[Ultimate_Issuer_Code] AS [Ultimate_Issuer_Code], 
    [Project1].[Asset_Currency] AS [Asset_Currency], 
    [Project1].[Min_Lot_Size] AS [Min_Lot_Size], 
    [Project1].[AvePrice_Rounding] AS [AvePrice_Rounding], 
    [Project1].[Issue_Date] AS [Issue_Date], 
    [Project1].[Maturity_Date] AS [Maturity_Date], 
    [Project1].[Coupon_Rate] AS [Coupon_Rate], 
    [Project1].[Price_Exchange] AS [Price_Exchange], 
    [Project1].[Trade_Currency] AS [Trade_Currency], 
    [Project1].[Price_Curr] AS [Price_Curr], 
    [Project1].[Currency_Pair_Code] AS [Currency_Pair_Code], 
    [Project1].[Share_Class] AS [Share_Class], 
    [Project1].[Current_Market_Price] AS [Current_Market_Price], 
    [Project1].[Index_Type] AS [Index_Type], 
    [Project1].[Clean_Price_Formula] AS [Clean_Price_Formula], 
    [Project1].[Accrued_Income_Price_Formula] AS [Accrued_Income_Price_Formula], 
    [Project1].[Odd_First_Coupon_Date] AS [Odd_First_Coupon_Date], 
    [Project1].[Odd_Last_Coupon_Date] AS [Odd_Last_Coupon_Date], 
    [Project1].[Coupon_Anniversary_Indicator] AS [Coupon_Anniversary_Indicator], 
    [Project1].[Track_EOM_Flag] AS [Track_EOM_Flag], 
    [Project1].[Next_Coupon_Date] AS [Next_Coupon_Date], 
    [Project1].[Previous_Coupon_Date] AS [Previous_Coupon_Date], 
    [Project1].[Payment_Frequency] AS [Payment_Frequency], 
    [Project1].[Coupon_BusDay_Adjustment] AS [Coupon_BusDay_Adjustment], 
    [Project1].[Next_Ex_Div_Date] AS [Next_Ex_Div_Date], 
    [Project1].[Ex_Div_BusDay_Adjustment] AS [Ex_Div_BusDay_Adjustment], 
    [Project1].[Ex_Div_Period] AS [Ex_Div_Period], 
    [Project1].[Ticker] AS [Ticker], 
    [Project1].[Inet_ID] AS [Inet_ID], 
    [Project1].[Bloomberg_ID] AS [Bloomberg_ID], 
    [Project1].[External_Sec_ID] AS [External_Sec_ID], 
    [Project1].[Reuters_ID] AS [Reuters_ID], 
    [Project1].[ISIN] AS [ISIN], 
    [Project1].[Call_Account_Flag] AS [Call_Account_Flag], 
    [Project1].[System_Locked] AS [System_Locked], 
    [Project1].[Last_Update_User1] AS [Last_Update_User1], 
    [Project1].[Last_Update_Date1] AS [Last_Update_Date1], 
    [Project1].[Security_Status] AS [Security_Status], 
    [Project1].[Benchmark_Portfolio] AS [Benchmark_Portfolio], 
    [Project1].[Active_flag] AS [Active_flag], 
    [Project1].[Dividend_FX_Security_ID] AS [Dividend_FX_Security_ID]
    FROM ( SELECT 
        [Extent1].[Entity_ID] AS [Entity_ID], 
        [Extent1].[Security_ID] AS [Security_ID], 
        [Extent1].[Issued_Amount] AS [Issued_Amount], 
        [Extent1].[Market_Capitalisation] AS [Market_Capitalisation], 
        [Extent1].[Risk_Premium] AS [Risk_Premium], 
        [Extent1].[Exit_Price] AS [Exit_Price], 
        [Extent1].[Total_Return_ME_1YR] AS [Total_Return_ME_1YR], 
        [Extent1].[Total_Return_ME_2YR] AS [Total_Return_ME_2YR], 
        [Extent1].[Total_Return_ME_3YR] AS [Total_Return_ME_3YR], 
        [Extent1].[Historic_Distribution] AS [Historic_Distribution], 
        [Extent1].[Distribution_Growth_Forecast_Yr1] AS [Distribution_Growth_Forecast_Yr1], 
        [Extent1].[Distribution_Growth_Forecast_Yr2] AS [Distribution_Growth_Forecast_Yr2], 
        [Extent1].[Distribution_Growth_Forecast_Yr3] AS [Distribution_Growth_Forecast_Yr3], 
        [Extent1].[Forecast_Distribution_Yr1] AS [Forecast_Distribution_Yr1], 
        [Extent1].[Forecast_Distribution_Yr2] AS [Forecast_Distribution_Yr2], 
        [Extent1].[Forecast_Distribution_Yr3] AS [Forecast_Distribution_Yr3], 
        [Extent1].[Earnings_Growth_Compounded] AS [Earnings_Growth_Compounded], 
        [Extent1].[Earnings_Forecast_Yr3] AS [Earnings_Forecast_Yr3], 
        [Extent1].[Historic_Dividend_Yield_FYE] AS [Historic_Dividend_Yield_FYE], 
        [Extent1].[Forward_Dividend_Yield_FYE] AS [Forward_Dividend_Yield_FYE], 
        [Extent1].[Yr3_Forward_Dividend_Yield] AS [Yr3_Forward_Dividend_Yield], 
        [Extent1].[Rolling_12M_Forward_Yield] AS [Rolling_12M_Forward_Yield], 
        [Extent1].[Historical_Earnings_FYE] AS [Historical_Earnings_FYE], 
        [Extent1].[Earnings_Forecast_Yr1] AS [Earnings_Forecast_Yr1], 
        [Extent1].[Earnings_Forecast_Yr2] AS [Earnings_Forecast_Yr2], 
        [Extent1].[Historic_Dividend_Yield_Relative] AS [Historic_Dividend_Yield_Relative], 
        [Extent1].[Rolling_12M_Historic_Distribution_PriceCurr] AS [Rolling_12M_Historic_Distribution_PriceCurr], 
        [Extent1].[Short_Term_Market_Rerate] AS [Short_Term_Market_Rerate], 
        [Extent1].[Forecast_12M_Total_Return] AS [Forecast_12M_Total_Return], 
        [Extent1].[Clean_Price] AS [Clean_Price], 
        [Extent1].[Rolling_Dividend_Yield_Historic] AS [Rolling_Dividend_Yield_Historic], 
        [Extent1].[Last_Update_Date] AS [Last_Update_Date], 
        [Extent1].[Last_Update_User] AS [Last_Update_User], 
        [Extent1].[Discount_Security_ID] AS [Discount_Security_ID], 
        [Extent1].[Net_Present_Value] AS [Net_Present_Value], 
        [Extent1].[Forecast_Rolling_Custom_Income] AS [Forecast_Rolling_Custom_Income], 
        [Extent1].[Custom_Period] AS [Custom_Period], 
        [Extent1].[Rolling_12M_Historic_Distribution] AS [Rolling_12M_Historic_Distribution], 
        [Extent1].[Record_Date] AS [Record_Date], 
        [Extent1].[Session_ID] AS [Session_ID], 
        [Extent1].[Hist_Last_Update_Date] AS [Hist_Last_Update_Date], 
        [Extent1].[Hist_Last_Update_User] AS [Hist_Last_Update_User], 
        [Extent1].[Rolling_12M_Forecast_Distribution] AS [Rolling_12M_Forecast_Distribution], 
        [Extent1].[Yr2_Forward_Dividend_Yield] AS [Yr2_Forward_Dividend_Yield], 
        [Extent1].[Exit_Yield] AS [Exit_Yield], 
        [Extent1].[Discount_Rate] AS [Discount_Rate], 
        [Extent1].[Distribution_Growth_Compounded] AS [Distribution_Growth_Compounded], 
        [Extent1].[Forecast_12MRolling_Income_Accrual] AS [Forecast_12MRolling_Income_Accrual], 
        [Extent1].[Rolling_12_to_24M_Forecast_Distribution] AS [Rolling_12_to_24M_Forecast_Distribution], 
        [Extent1].[Rolling_24_to_36M_Forecast_Distribution] AS [Rolling_24_to_36M_Forecast_Distribution], 
        [Extent1].[Forecast_Yr1_Dividend_Yield_Relative] AS [Forecast_Yr1_Dividend_Yield_Relative], 
        [Extent1].[Market_Historic_Yield] AS [Market_Historic_Yield], 
        [Extent1].[Market_Forward_Yield] AS [Market_Forward_Yield], 
        [Extent1].[Historic_Distribution_PriceCurr] AS [Historic_Distribution_PriceCurr], 
        [Extent1].[Forecast_Distribution_Yr1_PriceCurr] AS [Forecast_Distribution_Yr1_PriceCurr], 
        [Extent1].[Forecast_Distribution_Yr2_PriceCurr] AS [Forecast_Distribution_Yr2_PriceCurr], 
        [Extent1].[Forecast_Distribution_Yr3_PriceCurr] AS [Forecast_Distribution_Yr3_PriceCurr], 
        [Extent1].[Rolling_12M_Forecast_Distribution_PriceCurr] AS [Rolling_12M_Forecast_Distribution_PriceCurr], 
        [Extent1].[Rolling_12_24M_Forecast_Distribution_PriceCurr] AS [Rolling_12_24M_Forecast_Distribution_PriceCurr], 
        [Extent1].[Rolling_24_36M_Forecast_Distribution_PriceCurr] AS [Rolling_24_36M_Forecast_Distribution_PriceCurr], 
        [Extent1].[Distribution_Growth_Forecast_Yr4] AS [Distribution_Growth_Forecast_Yr4], 
        [Extent1].[Earnings_Forecast_Yr4] AS [Earnings_Forecast_Yr4], 
        [Extent1].[Forecast_Distribution_Yr4] AS [Forecast_Distribution_Yr4], 
        [Extent1].[Forecast_Distribution_Yr4_PriceCurr] AS [Forecast_Distribution_Yr4_PriceCurr], 
        [Extent2].[Security_ID] AS [Security_ID1], 
        [Extent2].[Entity_ID] AS [Entity_ID1], 
        [Extent2].[Security_Name] AS [Security_Name], 
        [Extent2].[Short_Name] AS [Short_Name], 
        [Extent2].[Primary_Exch] AS [Primary_Exch], 
        [Extent2].[Secondary_Exch] AS [Secondary_Exch], 
        [Extent2].[Country_Of_Domicile] AS [Country_Of_Domicile], 
        [Extent2].[Country_Of_Risk] AS [Country_Of_Risk], 
        [Extent2].[Security_Type_Code] AS [Security_Type_Code], 
        [Extent2].[Price_Multiplier] AS [Price_Multiplier], 
        [Extent2].[Income_Frequency] AS [Income_Frequency], 
        [Extent2].[Issuer_Code] AS [Issuer_Code], 
        [Extent2].[Ultimate_Issuer_Code] AS [Ultimate_Issuer_Code], 
        [Extent2].[Asset_Currency] AS [Asset_Currency], 
        [Extent2].[Min_Lot_Size] AS [Min_Lot_Size], 
        [Extent2].[Decimal_Precision] AS [Decimal_Precision], 
        [Extent2].[AvePrice_Rounding] AS [AvePrice_Rounding], 
        [Extent2].[Issue_Date] AS [Issue_Date], 
        [Extent2].[Maturity_Date] AS [Maturity_Date], 
        [Extent2].[Coupon_Rate] AS [Coupon_Rate], 
        [Extent2].[Price_Exchange] AS [Price_Exchange], 
        [Extent2].[Trade_Currency] AS [Trade_Currency], 
        [Extent2].[Price_Curr] AS [Price_Curr], 
        [Extent2].[Currency_Pair_Code] AS [Currency_Pair_Code], 
        [Extent2].[Share_Class] AS [Share_Class], 
        [Extent2].[Current_Market_Price] AS [Current_Market_Price], 
        [Extent2].[Index_Type] AS [Index_Type], 
        [Extent2].[Clean_Price_Formula] AS [Clean_Price_Formula], 
        [Extent2].[Accrued_Income_Price_Formula] AS [Accrued_Income_Price_Formula], 
        [Extent2].[Odd_First_Coupon_Date] AS [Odd_First_Coupon_Date], 
        [Extent2].[Odd_Last_Coupon_Date] AS [Odd_Last_Coupon_Date], 
        [Extent2].[Coupon_Anniversary_Indicator] AS [Coupon_Anniversary_Indicator], 
        [Extent2].[Track_EOM_Flag] AS [Track_EOM_Flag], 
        [Extent2].[Next_Coupon_Date] AS [Next_Coupon_Date], 
        [Extent2].[Previous_Coupon_Date] AS [Previous_Coupon_Date], 
        [Extent2].[Payment_Frequency] AS [Payment_Frequency], 
        [Extent2].[Coupon_BusDay_Adjustment] AS [Coupon_BusDay_Adjustment], 
        [Extent2].[Next_Ex_Div_Date] AS [Next_Ex_Div_Date], 
        [Extent2].[Ex_Div_BusDay_Adjustment] AS [Ex_Div_BusDay_Adjustment], 
        [Extent2].[Ex_Div_Period] AS [Ex_Div_Period], 
        [Extent2].[Ticker] AS [Ticker], 
        [Extent2].[Inet_ID] AS [Inet_ID], 
        [Extent2].[Bloomberg_ID] AS [Bloomberg_ID], 
        [Extent2].[External_Sec_ID] AS [External_Sec_ID], 
        [Extent2].[Reuters_ID] AS [Reuters_ID], 
        [Extent2].[ISIN] AS [ISIN], 
        [Extent2].[Call_Account_Flag] AS [Call_Account_Flag], 
        [Extent2].[System_Locked] AS [System_Locked], 
        [Extent2].[Last_Update_User] AS [Last_Update_User1], 
        [Extent2].[Last_Update_Date] AS [Last_Update_Date1], 
        [Extent2].[Security_Status] AS [Security_Status], 
        [Extent2].[Benchmark_Portfolio] AS [Benchmark_Portfolio], 
        [Extent2].[Active_flag] AS [Active_flag], 
        [Extent2].[Dividend_FX_Security_ID] AS [Dividend_FX_Security_ID]
        FROM  [dbo].[Security_Analytics_History] AS [Extent1]
        INNER JOIN [dbo].[Security_Detail] AS [Extent2] ON [Extent1].[Security_ID] = [Extent2].[Security_ID]
        WHERE [Extent1].[Security_ID] = @p__linq__0
    )  AS [Project1]
    ORDER BY [Project1].[Record_Date] DESC
2018-04-07 12:34:02.6004|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: IF db_id(N'MetopeAzureDb') IS NOT NULL SELECT 1 ELSE SELECT Count(*) FROM sys.databases WHERE [name]=N'MetopeAzureDb'
2018-04-07 12:34:02.6214|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: IF db_id(N'MetopeAzureDb') IS NOT NULL SELECT 1 ELSE SELECT Count(*) FROM sys.databases WHERE [name]=N'MetopeAzureDb'
2018-04-07 12:34:02.6509|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: IF db_id(N'MetopeAzureDb') IS NOT NULL SELECT 1 ELSE SELECT Count(*) FROM sys.databases WHERE [name]=N'MetopeAzureDb'
2018-04-07 12:34:02.6754|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: IF db_id(N'MetopeAzureDb') IS NOT NULL SELECT 1 ELSE SELECT Count(*) FROM sys.databases WHERE [name]=N'MetopeAzureDb'
2018-04-07 12:34:05.2305|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: SELECT 
    [Project1].[Decimal_Precision] AS [Decimal_Precision], 
    [Project1].[Entity_ID] AS [Entity_ID], 
    [Project1].[Security_ID] AS [Security_ID], 
    [Project1].[Issued_Amount] AS [Issued_Amount], 
    [Project1].[Market_Capitalisation] AS [Market_Capitalisation], 
    [Project1].[Risk_Premium] AS [Risk_Premium], 
    [Project1].[Exit_Price] AS [Exit_Price], 
    [Project1].[Total_Return_ME_1YR] AS [Total_Return_ME_1YR], 
    [Project1].[Total_Return_ME_2YR] AS [Total_Return_ME_2YR], 
    [Project1].[Total_Return_ME_3YR] AS [Total_Return_ME_3YR], 
    [Project1].[Historic_Distribution] AS [Historic_Distribution], 
    [Project1].[Distribution_Growth_Forecast_Yr1] AS [Distribution_Growth_Forecast_Yr1], 
    [Project1].[Distribution_Growth_Forecast_Yr2] AS [Distribution_Growth_Forecast_Yr2], 
    [Project1].[Distribution_Growth_Forecast_Yr3] AS [Distribution_Growth_Forecast_Yr3], 
    [Project1].[Forecast_Distribution_Yr1] AS [Forecast_Distribution_Yr1], 
    [Project1].[Forecast_Distribution_Yr2] AS [Forecast_Distribution_Yr2], 
    [Project1].[Forecast_Distribution_Yr3] AS [Forecast_Distribution_Yr3], 
    [Project1].[Earnings_Growth_Compounded] AS [Earnings_Growth_Compounded], 
    [Project1].[Earnings_Forecast_Yr3] AS [Earnings_Forecast_Yr3], 
    [Project1].[Historic_Dividend_Yield_FYE] AS [Historic_Dividend_Yield_FYE], 
    [Project1].[Forward_Dividend_Yield_FYE] AS [Forward_Dividend_Yield_FYE], 
    [Project1].[Yr3_Forward_Dividend_Yield] AS [Yr3_Forward_Dividend_Yield], 
    [Project1].[Rolling_12M_Forward_Yield] AS [Rolling_12M_Forward_Yield], 
    [Project1].[Historical_Earnings_FYE] AS [Historical_Earnings_FYE], 
    [Project1].[Earnings_Forecast_Yr1] AS [Earnings_Forecast_Yr1], 
    [Project1].[Earnings_Forecast_Yr2] AS [Earnings_Forecast_Yr2], 
    [Project1].[Historic_Dividend_Yield_Relative] AS [Historic_Dividend_Yield_Relative], 
    [Project1].[Rolling_12M_Historic_Distribution_PriceCurr] AS [Rolling_12M_Historic_Distribution_PriceCurr], 
    [Project1].[Short_Term_Market_Rerate] AS [Short_Term_Market_Rerate], 
    [Project1].[Forecast_12M_Total_Return] AS [Forecast_12M_Total_Return], 
    [Project1].[Clean_Price] AS [Clean_Price], 
    [Project1].[Rolling_Dividend_Yield_Historic] AS [Rolling_Dividend_Yield_Historic], 
    [Project1].[Last_Update_Date] AS [Last_Update_Date], 
    [Project1].[Last_Update_User] AS [Last_Update_User], 
    [Project1].[Discount_Security_ID] AS [Discount_Security_ID], 
    [Project1].[Net_Present_Value] AS [Net_Present_Value], 
    [Project1].[Forecast_Rolling_Custom_Income] AS [Forecast_Rolling_Custom_Income], 
    [Project1].[Custom_Period] AS [Custom_Period], 
    [Project1].[Rolling_12M_Historic_Distribution] AS [Rolling_12M_Historic_Distribution], 
    [Project1].[Record_Date] AS [Record_Date], 
    [Project1].[Session_ID] AS [Session_ID], 
    [Project1].[Hist_Last_Update_Date] AS [Hist_Last_Update_Date], 
    [Project1].[Hist_Last_Update_User] AS [Hist_Last_Update_User], 
    [Project1].[Rolling_12M_Forecast_Distribution] AS [Rolling_12M_Forecast_Distribution], 
    [Project1].[Yr2_Forward_Dividend_Yield] AS [Yr2_Forward_Dividend_Yield], 
    [Project1].[Exit_Yield] AS [Exit_Yield], 
    [Project1].[Discount_Rate] AS [Discount_Rate], 
    [Project1].[Distribution_Growth_Compounded] AS [Distribution_Growth_Compounded], 
    [Project1].[Forecast_12MRolling_Income_Accrual] AS [Forecast_12MRolling_Income_Accrual], 
    [Project1].[Rolling_12_to_24M_Forecast_Distribution] AS [Rolling_12_to_24M_Forecast_Distribution], 
    [Project1].[Rolling_24_to_36M_Forecast_Distribution] AS [Rolling_24_to_36M_Forecast_Distribution], 
    [Project1].[Forecast_Yr1_Dividend_Yield_Relative] AS [Forecast_Yr1_Dividend_Yield_Relative], 
    [Project1].[Market_Historic_Yield] AS [Market_Historic_Yield], 
    [Project1].[Market_Forward_Yield] AS [Market_Forward_Yield], 
    [Project1].[Historic_Distribution_PriceCurr] AS [Historic_Distribution_PriceCurr], 
    [Project1].[Forecast_Distribution_Yr1_PriceCurr] AS [Forecast_Distribution_Yr1_PriceCurr], 
    [Project1].[Forecast_Distribution_Yr2_PriceCurr] AS [Forecast_Distribution_Yr2_PriceCurr], 
    [Project1].[Forecast_Distribution_Yr3_PriceCurr] AS [Forecast_Distribution_Yr3_PriceCurr], 
    [Project1].[Rolling_12M_Forecast_Distribution_PriceCurr] AS [Rolling_12M_Forecast_Distribution_PriceCurr], 
    [Project1].[Rolling_12_24M_Forecast_Distribution_PriceCurr] AS [Rolling_12_24M_Forecast_Distribution_PriceCurr], 
    [Project1].[Rolling_24_36M_Forecast_Distribution_PriceCurr] AS [Rolling_24_36M_Forecast_Distribution_PriceCurr], 
    [Project1].[Distribution_Growth_Forecast_Yr4] AS [Distribution_Growth_Forecast_Yr4], 
    [Project1].[Earnings_Forecast_Yr4] AS [Earnings_Forecast_Yr4], 
    [Project1].[Forecast_Distribution_Yr4] AS [Forecast_Distribution_Yr4], 
    [Project1].[Forecast_Distribution_Yr4_PriceCurr] AS [Forecast_Distribution_Yr4_PriceCurr], 
    [Project1].[Security_ID1] AS [Security_ID1], 
    [Project1].[Entity_ID1] AS [Entity_ID1], 
    [Project1].[Security_Name] AS [Security_Name], 
    [Project1].[Short_Name] AS [Short_Name], 
    [Project1].[Primary_Exch] AS [Primary_Exch], 
    [Project1].[Secondary_Exch] AS [Secondary_Exch], 
    [Project1].[Country_Of_Domicile] AS [Country_Of_Domicile], 
    [Project1].[Country_Of_Risk] AS [Country_Of_Risk], 
    [Project1].[Security_Type_Code] AS [Security_Type_Code], 
    [Project1].[Price_Multiplier] AS [Price_Multiplier], 
    [Project1].[Income_Frequency] AS [Income_Frequency], 
    [Project1].[Issuer_Code] AS [Issuer_Code], 
    [Project1].[Ultimate_Issuer_Code] AS [Ultimate_Issuer_Code], 
    [Project1].[Asset_Currency] AS [Asset_Currency], 
    [Project1].[Min_Lot_Size] AS [Min_Lot_Size], 
    [Project1].[AvePrice_Rounding] AS [AvePrice_Rounding], 
    [Project1].[Issue_Date] AS [Issue_Date], 
    [Project1].[Maturity_Date] AS [Maturity_Date], 
    [Project1].[Coupon_Rate] AS [Coupon_Rate], 
    [Project1].[Price_Exchange] AS [Price_Exchange], 
    [Project1].[Trade_Currency] AS [Trade_Currency], 
    [Project1].[Price_Curr] AS [Price_Curr], 
    [Project1].[Currency_Pair_Code] AS [Currency_Pair_Code], 
    [Project1].[Share_Class] AS [Share_Class], 
    [Project1].[Current_Market_Price] AS [Current_Market_Price], 
    [Project1].[Index_Type] AS [Index_Type], 
    [Project1].[Clean_Price_Formula] AS [Clean_Price_Formula], 
    [Project1].[Accrued_Income_Price_Formula] AS [Accrued_Income_Price_Formula], 
    [Project1].[Odd_First_Coupon_Date] AS [Odd_First_Coupon_Date], 
    [Project1].[Odd_Last_Coupon_Date] AS [Odd_Last_Coupon_Date], 
    [Project1].[Coupon_Anniversary_Indicator] AS [Coupon_Anniversary_Indicator], 
    [Project1].[Track_EOM_Flag] AS [Track_EOM_Flag], 
    [Project1].[Next_Coupon_Date] AS [Next_Coupon_Date], 
    [Project1].[Previous_Coupon_Date] AS [Previous_Coupon_Date], 
    [Project1].[Payment_Frequency] AS [Payment_Frequency], 
    [Project1].[Coupon_BusDay_Adjustment] AS [Coupon_BusDay_Adjustment], 
    [Project1].[Next_Ex_Div_Date] AS [Next_Ex_Div_Date], 
    [Project1].[Ex_Div_BusDay_Adjustment] AS [Ex_Div_BusDay_Adjustment], 
    [Project1].[Ex_Div_Period] AS [Ex_Div_Period], 
    [Project1].[Ticker] AS [Ticker], 
    [Project1].[Inet_ID] AS [Inet_ID], 
    [Project1].[Bloomberg_ID] AS [Bloomberg_ID], 
    [Project1].[External_Sec_ID] AS [External_Sec_ID], 
    [Project1].[Reuters_ID] AS [Reuters_ID], 
    [Project1].[ISIN] AS [ISIN], 
    [Project1].[Call_Account_Flag] AS [Call_Account_Flag], 
    [Project1].[System_Locked] AS [System_Locked], 
    [Project1].[Last_Update_User1] AS [Last_Update_User1], 
    [Project1].[Last_Update_Date1] AS [Last_Update_Date1], 
    [Project1].[Security_Status] AS [Security_Status], 
    [Project1].[Benchmark_Portfolio] AS [Benchmark_Portfolio], 
    [Project1].[Active_flag] AS [Active_flag], 
    [Project1].[Dividend_FX_Security_ID] AS [Dividend_FX_Security_ID]
    FROM ( SELECT 
        [Extent1].[Entity_ID] AS [Entity_ID], 
        [Extent1].[Security_ID] AS [Security_ID], 
        [Extent1].[Issued_Amount] AS [Issued_Amount], 
        [Extent1].[Market_Capitalisation] AS [Market_Capitalisation], 
        [Extent1].[Risk_Premium] AS [Risk_Premium], 
        [Extent1].[Exit_Price] AS [Exit_Price], 
        [Extent1].[Total_Return_ME_1YR] AS [Total_Return_ME_1YR], 
        [Extent1].[Total_Return_ME_2YR] AS [Total_Return_ME_2YR], 
        [Extent1].[Total_Return_ME_3YR] AS [Total_Return_ME_3YR], 
        [Extent1].[Historic_Distribution] AS [Historic_Distribution], 
        [Extent1].[Distribution_Growth_Forecast_Yr1] AS [Distribution_Growth_Forecast_Yr1], 
        [Extent1].[Distribution_Growth_Forecast_Yr2] AS [Distribution_Growth_Forecast_Yr2], 
        [Extent1].[Distribution_Growth_Forecast_Yr3] AS [Distribution_Growth_Forecast_Yr3], 
        [Extent1].[Forecast_Distribution_Yr1] AS [Forecast_Distribution_Yr1], 
        [Extent1].[Forecast_Distribution_Yr2] AS [Forecast_Distribution_Yr2], 
        [Extent1].[Forecast_Distribution_Yr3] AS [Forecast_Distribution_Yr3], 
        [Extent1].[Earnings_Growth_Compounded] AS [Earnings_Growth_Compounded], 
        [Extent1].[Earnings_Forecast_Yr3] AS [Earnings_Forecast_Yr3], 
        [Extent1].[Historic_Dividend_Yield_FYE] AS [Historic_Dividend_Yield_FYE], 
        [Extent1].[Forward_Dividend_Yield_FYE] AS [Forward_Dividend_Yield_FYE], 
        [Extent1].[Yr3_Forward_Dividend_Yield] AS [Yr3_Forward_Dividend_Yield], 
        [Extent1].[Rolling_12M_Forward_Yield] AS [Rolling_12M_Forward_Yield], 
        [Extent1].[Historical_Earnings_FYE] AS [Historical_Earnings_FYE], 
        [Extent1].[Earnings_Forecast_Yr1] AS [Earnings_Forecast_Yr1], 
        [Extent1].[Earnings_Forecast_Yr2] AS [Earnings_Forecast_Yr2], 
        [Extent1].[Historic_Dividend_Yield_Relative] AS [Historic_Dividend_Yield_Relative], 
        [Extent1].[Rolling_12M_Historic_Distribution_PriceCurr] AS [Rolling_12M_Historic_Distribution_PriceCurr], 
        [Extent1].[Short_Term_Market_Rerate] AS [Short_Term_Market_Rerate], 
        [Extent1].[Forecast_12M_Total_Return] AS [Forecast_12M_Total_Return], 
        [Extent1].[Clean_Price] AS [Clean_Price], 
        [Extent1].[Rolling_Dividend_Yield_Historic] AS [Rolling_Dividend_Yield_Historic], 
        [Extent1].[Last_Update_Date] AS [Last_Update_Date], 
        [Extent1].[Last_Update_User] AS [Last_Update_User], 
        [Extent1].[Discount_Security_ID] AS [Discount_Security_ID], 
        [Extent1].[Net_Present_Value] AS [Net_Present_Value], 
        [Extent1].[Forecast_Rolling_Custom_Income] AS [Forecast_Rolling_Custom_Income], 
        [Extent1].[Custom_Period] AS [Custom_Period], 
        [Extent1].[Rolling_12M_Historic_Distribution] AS [Rolling_12M_Historic_Distribution], 
        [Extent1].[Record_Date] AS [Record_Date], 
        [Extent1].[Session_ID] AS [Session_ID], 
        [Extent1].[Hist_Last_Update_Date] AS [Hist_Last_Update_Date], 
        [Extent1].[Hist_Last_Update_User] AS [Hist_Last_Update_User], 
        [Extent1].[Rolling_12M_Forecast_Distribution] AS [Rolling_12M_Forecast_Distribution], 
        [Extent1].[Yr2_Forward_Dividend_Yield] AS [Yr2_Forward_Dividend_Yield], 
        [Extent1].[Exit_Yield] AS [Exit_Yield], 
        [Extent1].[Discount_Rate] AS [Discount_Rate], 
        [Extent1].[Distribution_Growth_Compounded] AS [Distribution_Growth_Compounded], 
        [Extent1].[Forecast_12MRolling_Income_Accrual] AS [Forecast_12MRolling_Income_Accrual], 
        [Extent1].[Rolling_12_to_24M_Forecast_Distribution] AS [Rolling_12_to_24M_Forecast_Distribution], 
        [Extent1].[Rolling_24_to_36M_Forecast_Distribution] AS [Rolling_24_to_36M_Forecast_Distribution], 
        [Extent1].[Forecast_Yr1_Dividend_Yield_Relative] AS [Forecast_Yr1_Dividend_Yield_Relative], 
        [Extent1].[Market_Historic_Yield] AS [Market_Historic_Yield], 
        [Extent1].[Market_Forward_Yield] AS [Market_Forward_Yield], 
        [Extent1].[Historic_Distribution_PriceCurr] AS [Historic_Distribution_PriceCurr], 
        [Extent1].[Forecast_Distribution_Yr1_PriceCurr] AS [Forecast_Distribution_Yr1_PriceCurr], 
        [Extent1].[Forecast_Distribution_Yr2_PriceCurr] AS [Forecast_Distribution_Yr2_PriceCurr], 
        [Extent1].[Forecast_Distribution_Yr3_PriceCurr] AS [Forecast_Distribution_Yr3_PriceCurr], 
        [Extent1].[Rolling_12M_Forecast_Distribution_PriceCurr] AS [Rolling_12M_Forecast_Distribution_PriceCurr], 
        [Extent1].[Rolling_12_24M_Forecast_Distribution_PriceCurr] AS [Rolling_12_24M_Forecast_Distribution_PriceCurr], 
        [Extent1].[Rolling_24_36M_Forecast_Distribution_PriceCurr] AS [Rolling_24_36M_Forecast_Distribution_PriceCurr], 
        [Extent1].[Distribution_Growth_Forecast_Yr4] AS [Distribution_Growth_Forecast_Yr4], 
        [Extent1].[Earnings_Forecast_Yr4] AS [Earnings_Forecast_Yr4], 
        [Extent1].[Forecast_Distribution_Yr4] AS [Forecast_Distribution_Yr4], 
        [Extent1].[Forecast_Distribution_Yr4_PriceCurr] AS [Forecast_Distribution_Yr4_PriceCurr], 
        [Extent2].[Security_ID] AS [Security_ID1], 
        [Extent2].[Entity_ID] AS [Entity_ID1], 
        [Extent2].[Security_Name] AS [Security_Name], 
        [Extent2].[Short_Name] AS [Short_Name], 
        [Extent2].[Primary_Exch] AS [Primary_Exch], 
        [Extent2].[Secondary_Exch] AS [Secondary_Exch], 
        [Extent2].[Country_Of_Domicile] AS [Country_Of_Domicile], 
        [Extent2].[Country_Of_Risk] AS [Country_Of_Risk], 
        [Extent2].[Security_Type_Code] AS [Security_Type_Code], 
        [Extent2].[Price_Multiplier] AS [Price_Multiplier], 
        [Extent2].[Income_Frequency] AS [Income_Frequency], 
        [Extent2].[Issuer_Code] AS [Issuer_Code], 
        [Extent2].[Ultimate_Issuer_Code] AS [Ultimate_Issuer_Code], 
        [Extent2].[Asset_Currency] AS [Asset_Currency], 
        [Extent2].[Min_Lot_Size] AS [Min_Lot_Size], 
        [Extent2].[Decimal_Precision] AS [Decimal_Precision], 
        [Extent2].[AvePrice_Rounding] AS [AvePrice_Rounding], 
        [Extent2].[Issue_Date] AS [Issue_Date], 
        [Extent2].[Maturity_Date] AS [Maturity_Date], 
        [Extent2].[Coupon_Rate] AS [Coupon_Rate], 
        [Extent2].[Price_Exchange] AS [Price_Exchange], 
        [Extent2].[Trade_Currency] AS [Trade_Currency], 
        [Extent2].[Price_Curr] AS [Price_Curr], 
        [Extent2].[Currency_Pair_Code] AS [Currency_Pair_Code], 
        [Extent2].[Share_Class] AS [Share_Class], 
        [Extent2].[Current_Market_Price] AS [Current_Market_Price], 
        [Extent2].[Index_Type] AS [Index_Type], 
        [Extent2].[Clean_Price_Formula] AS [Clean_Price_Formula], 
        [Extent2].[Accrued_Income_Price_Formula] AS [Accrued_Income_Price_Formula], 
        [Extent2].[Odd_First_Coupon_Date] AS [Odd_First_Coupon_Date], 
        [Extent2].[Odd_Last_Coupon_Date] AS [Odd_Last_Coupon_Date], 
        [Extent2].[Coupon_Anniversary_Indicator] AS [Coupon_Anniversary_Indicator], 
        [Extent2].[Track_EOM_Flag] AS [Track_EOM_Flag], 
        [Extent2].[Next_Coupon_Date] AS [Next_Coupon_Date], 
        [Extent2].[Previous_Coupon_Date] AS [Previous_Coupon_Date], 
        [Extent2].[Payment_Frequency] AS [Payment_Frequency], 
        [Extent2].[Coupon_BusDay_Adjustment] AS [Coupon_BusDay_Adjustment], 
        [Extent2].[Next_Ex_Div_Date] AS [Next_Ex_Div_Date], 
        [Extent2].[Ex_Div_BusDay_Adjustment] AS [Ex_Div_BusDay_Adjustment], 
        [Extent2].[Ex_Div_Period] AS [Ex_Div_Period], 
        [Extent2].[Ticker] AS [Ticker], 
        [Extent2].[Inet_ID] AS [Inet_ID], 
        [Extent2].[Bloomberg_ID] AS [Bloomberg_ID], 
        [Extent2].[External_Sec_ID] AS [External_Sec_ID], 
        [Extent2].[Reuters_ID] AS [Reuters_ID], 
        [Extent2].[ISIN] AS [ISIN], 
        [Extent2].[Call_Account_Flag] AS [Call_Account_Flag], 
        [Extent2].[System_Locked] AS [System_Locked], 
        [Extent2].[Last_Update_User] AS [Last_Update_User1], 
        [Extent2].[Last_Update_Date] AS [Last_Update_Date1], 
        [Extent2].[Security_Status] AS [Security_Status], 
        [Extent2].[Benchmark_Portfolio] AS [Benchmark_Portfolio], 
        [Extent2].[Active_flag] AS [Active_flag], 
        [Extent2].[Dividend_FX_Security_ID] AS [Dividend_FX_Security_ID]
        FROM  [dbo].[Security_Analytics_History] AS [Extent1]
        INNER JOIN [dbo].[Security_Detail] AS [Extent2] ON [Extent1].[Security_ID] = [Extent2].[Security_ID]
        WHERE [Extent1].[Security_ID] = @p__linq__0
    )  AS [Project1]
    ORDER BY [Project1].[Record_Date] DESC
2018-04-07 12:34:05.2680|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: SELECT 
    [Project1].[Decimal_Precision] AS [Decimal_Precision], 
    [Project1].[Entity_ID] AS [Entity_ID], 
    [Project1].[Security_ID] AS [Security_ID], 
    [Project1].[Issued_Amount] AS [Issued_Amount], 
    [Project1].[Market_Capitalisation] AS [Market_Capitalisation], 
    [Project1].[Risk_Premium] AS [Risk_Premium], 
    [Project1].[Exit_Price] AS [Exit_Price], 
    [Project1].[Total_Return_ME_1YR] AS [Total_Return_ME_1YR], 
    [Project1].[Total_Return_ME_2YR] AS [Total_Return_ME_2YR], 
    [Project1].[Total_Return_ME_3YR] AS [Total_Return_ME_3YR], 
    [Project1].[Historic_Distribution] AS [Historic_Distribution], 
    [Project1].[Distribution_Growth_Forecast_Yr1] AS [Distribution_Growth_Forecast_Yr1], 
    [Project1].[Distribution_Growth_Forecast_Yr2] AS [Distribution_Growth_Forecast_Yr2], 
    [Project1].[Distribution_Growth_Forecast_Yr3] AS [Distribution_Growth_Forecast_Yr3], 
    [Project1].[Forecast_Distribution_Yr1] AS [Forecast_Distribution_Yr1], 
    [Project1].[Forecast_Distribution_Yr2] AS [Forecast_Distribution_Yr2], 
    [Project1].[Forecast_Distribution_Yr3] AS [Forecast_Distribution_Yr3], 
    [Project1].[Earnings_Growth_Compounded] AS [Earnings_Growth_Compounded], 
    [Project1].[Earnings_Forecast_Yr3] AS [Earnings_Forecast_Yr3], 
    [Project1].[Historic_Dividend_Yield_FYE] AS [Historic_Dividend_Yield_FYE], 
    [Project1].[Forward_Dividend_Yield_FYE] AS [Forward_Dividend_Yield_FYE], 
    [Project1].[Yr3_Forward_Dividend_Yield] AS [Yr3_Forward_Dividend_Yield], 
    [Project1].[Rolling_12M_Forward_Yield] AS [Rolling_12M_Forward_Yield], 
    [Project1].[Historical_Earnings_FYE] AS [Historical_Earnings_FYE], 
    [Project1].[Earnings_Forecast_Yr1] AS [Earnings_Forecast_Yr1], 
    [Project1].[Earnings_Forecast_Yr2] AS [Earnings_Forecast_Yr2], 
    [Project1].[Historic_Dividend_Yield_Relative] AS [Historic_Dividend_Yield_Relative], 
    [Project1].[Rolling_12M_Historic_Distribution_PriceCurr] AS [Rolling_12M_Historic_Distribution_PriceCurr], 
    [Project1].[Short_Term_Market_Rerate] AS [Short_Term_Market_Rerate], 
    [Project1].[Forecast_12M_Total_Return] AS [Forecast_12M_Total_Return], 
    [Project1].[Clean_Price] AS [Clean_Price], 
    [Project1].[Rolling_Dividend_Yield_Historic] AS [Rolling_Dividend_Yield_Historic], 
    [Project1].[Last_Update_Date] AS [Last_Update_Date], 
    [Project1].[Last_Update_User] AS [Last_Update_User], 
    [Project1].[Discount_Security_ID] AS [Discount_Security_ID], 
    [Project1].[Net_Present_Value] AS [Net_Present_Value], 
    [Project1].[Forecast_Rolling_Custom_Income] AS [Forecast_Rolling_Custom_Income], 
    [Project1].[Custom_Period] AS [Custom_Period], 
    [Project1].[Rolling_12M_Historic_Distribution] AS [Rolling_12M_Historic_Distribution], 
    [Project1].[Record_Date] AS [Record_Date], 
    [Project1].[Session_ID] AS [Session_ID], 
    [Project1].[Hist_Last_Update_Date] AS [Hist_Last_Update_Date], 
    [Project1].[Hist_Last_Update_User] AS [Hist_Last_Update_User], 
    [Project1].[Rolling_12M_Forecast_Distribution] AS [Rolling_12M_Forecast_Distribution], 
    [Project1].[Yr2_Forward_Dividend_Yield] AS [Yr2_Forward_Dividend_Yield], 
    [Project1].[Exit_Yield] AS [Exit_Yield], 
    [Project1].[Discount_Rate] AS [Discount_Rate], 
    [Project1].[Distribution_Growth_Compounded] AS [Distribution_Growth_Compounded], 
    [Project1].[Forecast_12MRolling_Income_Accrual] AS [Forecast_12MRolling_Income_Accrual], 
    [Project1].[Rolling_12_to_24M_Forecast_Distribution] AS [Rolling_12_to_24M_Forecast_Distribution], 
    [Project1].[Rolling_24_to_36M_Forecast_Distribution] AS [Rolling_24_to_36M_Forecast_Distribution], 
    [Project1].[Forecast_Yr1_Dividend_Yield_Relative] AS [Forecast_Yr1_Dividend_Yield_Relative], 
    [Project1].[Market_Historic_Yield] AS [Market_Historic_Yield], 
    [Project1].[Market_Forward_Yield] AS [Market_Forward_Yield], 
    [Project1].[Historic_Distribution_PriceCurr] AS [Historic_Distribution_PriceCurr], 
    [Project1].[Forecast_Distribution_Yr1_PriceCurr] AS [Forecast_Distribution_Yr1_PriceCurr], 
    [Project1].[Forecast_Distribution_Yr2_PriceCurr] AS [Forecast_Distribution_Yr2_PriceCurr], 
    [Project1].[Forecast_Distribution_Yr3_PriceCurr] AS [Forecast_Distribution_Yr3_PriceCurr], 
    [Project1].[Rolling_12M_Forecast_Distribution_PriceCurr] AS [Rolling_12M_Forecast_Distribution_PriceCurr], 
    [Project1].[Rolling_12_24M_Forecast_Distribution_PriceCurr] AS [Rolling_12_24M_Forecast_Distribution_PriceCurr], 
    [Project1].[Rolling_24_36M_Forecast_Distribution_PriceCurr] AS [Rolling_24_36M_Forecast_Distribution_PriceCurr], 
    [Project1].[Distribution_Growth_Forecast_Yr4] AS [Distribution_Growth_Forecast_Yr4], 
    [Project1].[Earnings_Forecast_Yr4] AS [Earnings_Forecast_Yr4], 
    [Project1].[Forecast_Distribution_Yr4] AS [Forecast_Distribution_Yr4], 
    [Project1].[Forecast_Distribution_Yr4_PriceCurr] AS [Forecast_Distribution_Yr4_PriceCurr], 
    [Project1].[Security_ID1] AS [Security_ID1], 
    [Project1].[Entity_ID1] AS [Entity_ID1], 
    [Project1].[Security_Name] AS [Security_Name], 
    [Project1].[Short_Name] AS [Short_Name], 
    [Project1].[Primary_Exch] AS [Primary_Exch], 
    [Project1].[Secondary_Exch] AS [Secondary_Exch], 
    [Project1].[Country_Of_Domicile] AS [Country_Of_Domicile], 
    [Project1].[Country_Of_Risk] AS [Country_Of_Risk], 
    [Project1].[Security_Type_Code] AS [Security_Type_Code], 
    [Project1].[Price_Multiplier] AS [Price_Multiplier], 
    [Project1].[Income_Frequency] AS [Income_Frequency], 
    [Project1].[Issuer_Code] AS [Issuer_Code], 
    [Project1].[Ultimate_Issuer_Code] AS [Ultimate_Issuer_Code], 
    [Project1].[Asset_Currency] AS [Asset_Currency], 
    [Project1].[Min_Lot_Size] AS [Min_Lot_Size], 
    [Project1].[AvePrice_Rounding] AS [AvePrice_Rounding], 
    [Project1].[Issue_Date] AS [Issue_Date], 
    [Project1].[Maturity_Date] AS [Maturity_Date], 
    [Project1].[Coupon_Rate] AS [Coupon_Rate], 
    [Project1].[Price_Exchange] AS [Price_Exchange], 
    [Project1].[Trade_Currency] AS [Trade_Currency], 
    [Project1].[Price_Curr] AS [Price_Curr], 
    [Project1].[Currency_Pair_Code] AS [Currency_Pair_Code], 
    [Project1].[Share_Class] AS [Share_Class], 
    [Project1].[Current_Market_Price] AS [Current_Market_Price], 
    [Project1].[Index_Type] AS [Index_Type], 
    [Project1].[Clean_Price_Formula] AS [Clean_Price_Formula], 
    [Project1].[Accrued_Income_Price_Formula] AS [Accrued_Income_Price_Formula], 
    [Project1].[Odd_First_Coupon_Date] AS [Odd_First_Coupon_Date], 
    [Project1].[Odd_Last_Coupon_Date] AS [Odd_Last_Coupon_Date], 
    [Project1].[Coupon_Anniversary_Indicator] AS [Coupon_Anniversary_Indicator], 
    [Project1].[Track_EOM_Flag] AS [Track_EOM_Flag], 
    [Project1].[Next_Coupon_Date] AS [Next_Coupon_Date], 
    [Project1].[Previous_Coupon_Date] AS [Previous_Coupon_Date], 
    [Project1].[Payment_Frequency] AS [Payment_Frequency], 
    [Project1].[Coupon_BusDay_Adjustment] AS [Coupon_BusDay_Adjustment], 
    [Project1].[Next_Ex_Div_Date] AS [Next_Ex_Div_Date], 
    [Project1].[Ex_Div_BusDay_Adjustment] AS [Ex_Div_BusDay_Adjustment], 
    [Project1].[Ex_Div_Period] AS [Ex_Div_Period], 
    [Project1].[Ticker] AS [Ticker], 
    [Project1].[Inet_ID] AS [Inet_ID], 
    [Project1].[Bloomberg_ID] AS [Bloomberg_ID], 
    [Project1].[External_Sec_ID] AS [External_Sec_ID], 
    [Project1].[Reuters_ID] AS [Reuters_ID], 
    [Project1].[ISIN] AS [ISIN], 
    [Project1].[Call_Account_Flag] AS [Call_Account_Flag], 
    [Project1].[System_Locked] AS [System_Locked], 
    [Project1].[Last_Update_User1] AS [Last_Update_User1], 
    [Project1].[Last_Update_Date1] AS [Last_Update_Date1], 
    [Project1].[Security_Status] AS [Security_Status], 
    [Project1].[Benchmark_Portfolio] AS [Benchmark_Portfolio], 
    [Project1].[Active_flag] AS [Active_flag], 
    [Project1].[Dividend_FX_Security_ID] AS [Dividend_FX_Security_ID]
    FROM ( SELECT 
        [Extent1].[Entity_ID] AS [Entity_ID], 
        [Extent1].[Security_ID] AS [Security_ID], 
        [Extent1].[Issued_Amount] AS [Issued_Amount], 
        [Extent1].[Market_Capitalisation] AS [Market_Capitalisation], 
        [Extent1].[Risk_Premium] AS [Risk_Premium], 
        [Extent1].[Exit_Price] AS [Exit_Price], 
        [Extent1].[Total_Return_ME_1YR] AS [Total_Return_ME_1YR], 
        [Extent1].[Total_Return_ME_2YR] AS [Total_Return_ME_2YR], 
        [Extent1].[Total_Return_ME_3YR] AS [Total_Return_ME_3YR], 
        [Extent1].[Historic_Distribution] AS [Historic_Distribution], 
        [Extent1].[Distribution_Growth_Forecast_Yr1] AS [Distribution_Growth_Forecast_Yr1], 
        [Extent1].[Distribution_Growth_Forecast_Yr2] AS [Distribution_Growth_Forecast_Yr2], 
        [Extent1].[Distribution_Growth_Forecast_Yr3] AS [Distribution_Growth_Forecast_Yr3], 
        [Extent1].[Forecast_Distribution_Yr1] AS [Forecast_Distribution_Yr1], 
        [Extent1].[Forecast_Distribution_Yr2] AS [Forecast_Distribution_Yr2], 
        [Extent1].[Forecast_Distribution_Yr3] AS [Forecast_Distribution_Yr3], 
        [Extent1].[Earnings_Growth_Compounded] AS [Earnings_Growth_Compounded], 
        [Extent1].[Earnings_Forecast_Yr3] AS [Earnings_Forecast_Yr3], 
        [Extent1].[Historic_Dividend_Yield_FYE] AS [Historic_Dividend_Yield_FYE], 
        [Extent1].[Forward_Dividend_Yield_FYE] AS [Forward_Dividend_Yield_FYE], 
        [Extent1].[Yr3_Forward_Dividend_Yield] AS [Yr3_Forward_Dividend_Yield], 
        [Extent1].[Rolling_12M_Forward_Yield] AS [Rolling_12M_Forward_Yield], 
        [Extent1].[Historical_Earnings_FYE] AS [Historical_Earnings_FYE], 
        [Extent1].[Earnings_Forecast_Yr1] AS [Earnings_Forecast_Yr1], 
        [Extent1].[Earnings_Forecast_Yr2] AS [Earnings_Forecast_Yr2], 
        [Extent1].[Historic_Dividend_Yield_Relative] AS [Historic_Dividend_Yield_Relative], 
        [Extent1].[Rolling_12M_Historic_Distribution_PriceCurr] AS [Rolling_12M_Historic_Distribution_PriceCurr], 
        [Extent1].[Short_Term_Market_Rerate] AS [Short_Term_Market_Rerate], 
        [Extent1].[Forecast_12M_Total_Return] AS [Forecast_12M_Total_Return], 
        [Extent1].[Clean_Price] AS [Clean_Price], 
        [Extent1].[Rolling_Dividend_Yield_Historic] AS [Rolling_Dividend_Yield_Historic], 
        [Extent1].[Last_Update_Date] AS [Last_Update_Date], 
        [Extent1].[Last_Update_User] AS [Last_Update_User], 
        [Extent1].[Discount_Security_ID] AS [Discount_Security_ID], 
        [Extent1].[Net_Present_Value] AS [Net_Present_Value], 
        [Extent1].[Forecast_Rolling_Custom_Income] AS [Forecast_Rolling_Custom_Income], 
        [Extent1].[Custom_Period] AS [Custom_Period], 
        [Extent1].[Rolling_12M_Historic_Distribution] AS [Rolling_12M_Historic_Distribution], 
        [Extent1].[Record_Date] AS [Record_Date], 
        [Extent1].[Session_ID] AS [Session_ID], 
        [Extent1].[Hist_Last_Update_Date] AS [Hist_Last_Update_Date], 
        [Extent1].[Hist_Last_Update_User] AS [Hist_Last_Update_User], 
        [Extent1].[Rolling_12M_Forecast_Distribution] AS [Rolling_12M_Forecast_Distribution], 
        [Extent1].[Yr2_Forward_Dividend_Yield] AS [Yr2_Forward_Dividend_Yield], 
        [Extent1].[Exit_Yield] AS [Exit_Yield], 
        [Extent1].[Discount_Rate] AS [Discount_Rate], 
        [Extent1].[Distribution_Growth_Compounded] AS [Distribution_Growth_Compounded], 
        [Extent1].[Forecast_12MRolling_Income_Accrual] AS [Forecast_12MRolling_Income_Accrual], 
        [Extent1].[Rolling_12_to_24M_Forecast_Distribution] AS [Rolling_12_to_24M_Forecast_Distribution], 
        [Extent1].[Rolling_24_to_36M_Forecast_Distribution] AS [Rolling_24_to_36M_Forecast_Distribution], 
        [Extent1].[Forecast_Yr1_Dividend_Yield_Relative] AS [Forecast_Yr1_Dividend_Yield_Relative], 
        [Extent1].[Market_Historic_Yield] AS [Market_Historic_Yield], 
        [Extent1].[Market_Forward_Yield] AS [Market_Forward_Yield], 
        [Extent1].[Historic_Distribution_PriceCurr] AS [Historic_Distribution_PriceCurr], 
        [Extent1].[Forecast_Distribution_Yr1_PriceCurr] AS [Forecast_Distribution_Yr1_PriceCurr], 
        [Extent1].[Forecast_Distribution_Yr2_PriceCurr] AS [Forecast_Distribution_Yr2_PriceCurr], 
        [Extent1].[Forecast_Distribution_Yr3_PriceCurr] AS [Forecast_Distribution_Yr3_PriceCurr], 
        [Extent1].[Rolling_12M_Forecast_Distribution_PriceCurr] AS [Rolling_12M_Forecast_Distribution_PriceCurr], 
        [Extent1].[Rolling_12_24M_Forecast_Distribution_PriceCurr] AS [Rolling_12_24M_Forecast_Distribution_PriceCurr], 
        [Extent1].[Rolling_24_36M_Forecast_Distribution_PriceCurr] AS [Rolling_24_36M_Forecast_Distribution_PriceCurr], 
        [Extent1].[Distribution_Growth_Forecast_Yr4] AS [Distribution_Growth_Forecast_Yr4], 
        [Extent1].[Earnings_Forecast_Yr4] AS [Earnings_Forecast_Yr4], 
        [Extent1].[Forecast_Distribution_Yr4] AS [Forecast_Distribution_Yr4], 
        [Extent1].[Forecast_Distribution_Yr4_PriceCurr] AS [Forecast_Distribution_Yr4_PriceCurr], 
        [Extent2].[Security_ID] AS [Security_ID1], 
        [Extent2].[Entity_ID] AS [Entity_ID1], 
        [Extent2].[Security_Name] AS [Security_Name], 
        [Extent2].[Short_Name] AS [Short_Name], 
        [Extent2].[Primary_Exch] AS [Primary_Exch], 
        [Extent2].[Secondary_Exch] AS [Secondary_Exch], 
        [Extent2].[Country_Of_Domicile] AS [Country_Of_Domicile], 
        [Extent2].[Country_Of_Risk] AS [Country_Of_Risk], 
        [Extent2].[Security_Type_Code] AS [Security_Type_Code], 
        [Extent2].[Price_Multiplier] AS [Price_Multiplier], 
        [Extent2].[Income_Frequency] AS [Income_Frequency], 
        [Extent2].[Issuer_Code] AS [Issuer_Code], 
        [Extent2].[Ultimate_Issuer_Code] AS [Ultimate_Issuer_Code], 
        [Extent2].[Asset_Currency] AS [Asset_Currency], 
        [Extent2].[Min_Lot_Size] AS [Min_Lot_Size], 
        [Extent2].[Decimal_Precision] AS [Decimal_Precision], 
        [Extent2].[AvePrice_Rounding] AS [AvePrice_Rounding], 
        [Extent2].[Issue_Date] AS [Issue_Date], 
        [Extent2].[Maturity_Date] AS [Maturity_Date], 
        [Extent2].[Coupon_Rate] AS [Coupon_Rate], 
        [Extent2].[Price_Exchange] AS [Price_Exchange], 
        [Extent2].[Trade_Currency] AS [Trade_Currency], 
        [Extent2].[Price_Curr] AS [Price_Curr], 
        [Extent2].[Currency_Pair_Code] AS [Currency_Pair_Code], 
        [Extent2].[Share_Class] AS [Share_Class], 
        [Extent2].[Current_Market_Price] AS [Current_Market_Price], 
        [Extent2].[Index_Type] AS [Index_Type], 
        [Extent2].[Clean_Price_Formula] AS [Clean_Price_Formula], 
        [Extent2].[Accrued_Income_Price_Formula] AS [Accrued_Income_Price_Formula], 
        [Extent2].[Odd_First_Coupon_Date] AS [Odd_First_Coupon_Date], 
        [Extent2].[Odd_Last_Coupon_Date] AS [Odd_Last_Coupon_Date], 
        [Extent2].[Coupon_Anniversary_Indicator] AS [Coupon_Anniversary_Indicator], 
        [Extent2].[Track_EOM_Flag] AS [Track_EOM_Flag], 
        [Extent2].[Next_Coupon_Date] AS [Next_Coupon_Date], 
        [Extent2].[Previous_Coupon_Date] AS [Previous_Coupon_Date], 
        [Extent2].[Payment_Frequency] AS [Payment_Frequency], 
        [Extent2].[Coupon_BusDay_Adjustment] AS [Coupon_BusDay_Adjustment], 
        [Extent2].[Next_Ex_Div_Date] AS [Next_Ex_Div_Date], 
        [Extent2].[Ex_Div_BusDay_Adjustment] AS [Ex_Div_BusDay_Adjustment], 
        [Extent2].[Ex_Div_Period] AS [Ex_Div_Period], 
        [Extent2].[Ticker] AS [Ticker], 
        [Extent2].[Inet_ID] AS [Inet_ID], 
        [Extent2].[Bloomberg_ID] AS [Bloomberg_ID], 
        [Extent2].[External_Sec_ID] AS [External_Sec_ID], 
        [Extent2].[Reuters_ID] AS [Reuters_ID], 
        [Extent2].[ISIN] AS [ISIN], 
        [Extent2].[Call_Account_Flag] AS [Call_Account_Flag], 
        [Extent2].[System_Locked] AS [System_Locked], 
        [Extent2].[Last_Update_User] AS [Last_Update_User1], 
        [Extent2].[Last_Update_Date] AS [Last_Update_Date1], 
        [Extent2].[Security_Status] AS [Security_Status], 
        [Extent2].[Benchmark_Portfolio] AS [Benchmark_Portfolio], 
        [Extent2].[Active_flag] AS [Active_flag], 
        [Extent2].[Dividend_FX_Security_ID] AS [Dividend_FX_Security_ID]
        FROM  [dbo].[Security_Analytics_History] AS [Extent1]
        INNER JOIN [dbo].[Security_Detail] AS [Extent2] ON [Extent1].[Security_ID] = [Extent2].[Security_ID]
        WHERE [Extent1].[Security_ID] = @p__linq__0
    )  AS [Project1]
    ORDER BY [Project1].[Record_Date] DESC
2018-04-07 12:34:05.3395|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: IF db_id(N'MetopeAzureDb') IS NOT NULL SELECT 1 ELSE SELECT Count(*) FROM sys.databases WHERE [name]=N'MetopeAzureDb'
2018-04-07 12:34:05.3615|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: IF db_id(N'MetopeAzureDb') IS NOT NULL SELECT 1 ELSE SELECT Count(*) FROM sys.databases WHERE [name]=N'MetopeAzureDb'
2018-04-07 12:34:05.3871|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: IF db_id(N'MetopeAzureDb') IS NOT NULL SELECT 1 ELSE SELECT Count(*) FROM sys.databases WHERE [name]=N'MetopeAzureDb'
2018-04-07 12:34:05.4086|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: IF db_id(N'MetopeAzureDb') IS NOT NULL SELECT 1 ELSE SELECT Count(*) FROM sys.databases WHERE [name]=N'MetopeAzureDb'
2018-04-07 12:34:10.7498|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: SELECT 
    [Extent1].[Entity_ID] AS [Entity_ID], 
    [Extent1].[Security_ID] AS [Security_ID], 
    [Extent1].[Issued_Amount] AS [Issued_Amount], 
    [Extent1].[Market_Capitalisation] AS [Market_Capitalisation], 
    [Extent1].[Risk_Premium] AS [Risk_Premium], 
    [Extent1].[Exit_Price] AS [Exit_Price], 
    [Extent1].[Total_Return_ME_1YR] AS [Total_Return_ME_1YR], 
    [Extent1].[Total_Return_ME_2YR] AS [Total_Return_ME_2YR], 
    [Extent1].[Total_Return_ME_3YR] AS [Total_Return_ME_3YR], 
    [Extent1].[Historic_Distribution] AS [Historic_Distribution], 
    [Extent1].[Distribution_Growth_Forecast_Yr1] AS [Distribution_Growth_Forecast_Yr1], 
    [Extent1].[Distribution_Growth_Forecast_Yr2] AS [Distribution_Growth_Forecast_Yr2], 
    [Extent1].[Distribution_Growth_Forecast_Yr3] AS [Distribution_Growth_Forecast_Yr3], 
    [Extent1].[Forecast_Distribution_Yr1] AS [Forecast_Distribution_Yr1], 
    [Extent1].[Forecast_Distribution_Yr2] AS [Forecast_Distribution_Yr2], 
    [Extent1].[Forecast_Distribution_Yr3] AS [Forecast_Distribution_Yr3], 
    [Extent1].[Earnings_Growth_Compounded] AS [Earnings_Growth_Compounded], 
    [Extent1].[Earnings_Forecast_Yr3] AS [Earnings_Forecast_Yr3], 
    [Extent1].[Historic_Dividend_Yield_FYE] AS [Historic_Dividend_Yield_FYE], 
    [Extent1].[Forward_Dividend_Yield_FYE] AS [Forward_Dividend_Yield_FYE], 
    [Extent1].[Yr3_Forward_Dividend_Yield] AS [Yr3_Forward_Dividend_Yield], 
    [Extent1].[Rolling_12M_Forward_Yield] AS [Rolling_12M_Forward_Yield], 
    [Extent1].[Historical_Earnings_FYE] AS [Historical_Earnings_FYE], 
    [Extent1].[Earnings_Forecast_Yr1] AS [Earnings_Forecast_Yr1], 
    [Extent1].[Earnings_Forecast_Yr2] AS [Earnings_Forecast_Yr2], 
    [Extent1].[Historic_Dividend_Yield_Relative] AS [Historic_Dividend_Yield_Relative], 
    [Extent1].[Rolling_12M_Historic_Distribution_PriceCurr] AS [Rolling_12M_Historic_Distribution_PriceCurr], 
    [Extent1].[Short_Term_Market_Rerate] AS [Short_Term_Market_Rerate], 
    [Extent1].[Forecast_12M_Total_Return] AS [Forecast_12M_Total_Return], 
    [Extent1].[Clean_Price] AS [Clean_Price], 
    [Extent1].[Rolling_Dividend_Yield_Historic] AS [Rolling_Dividend_Yield_Historic], 
    [Extent1].[Last_Update_Date] AS [Last_Update_Date], 
    [Extent1].[Last_Update_User] AS [Last_Update_User], 
    [Extent1].[Discount_Security_ID] AS [Discount_Security_ID], 
    [Extent1].[Net_Present_Value] AS [Net_Present_Value], 
    [Extent1].[Forecast_Rolling_Custom_Income] AS [Forecast_Rolling_Custom_Income], 
    [Extent1].[Custom_Period] AS [Custom_Period], 
    [Extent1].[Rolling_12M_Historic_Distribution] AS [Rolling_12M_Historic_Distribution], 
    [Extent1].[Record_Date] AS [Record_Date], 
    [Extent1].[Session_ID] AS [Session_ID], 
    [Extent1].[Hist_Last_Update_Date] AS [Hist_Last_Update_Date], 
    [Extent1].[Hist_Last_Update_User] AS [Hist_Last_Update_User], 
    [Extent1].[Rolling_12M_Forecast_Distribution] AS [Rolling_12M_Forecast_Distribution], 
    [Extent1].[Yr2_Forward_Dividend_Yield] AS [Yr2_Forward_Dividend_Yield], 
    [Extent1].[Exit_Yield] AS [Exit_Yield], 
    [Extent1].[Discount_Rate] AS [Discount_Rate], 
    [Extent1].[Distribution_Growth_Compounded] AS [Distribution_Growth_Compounded], 
    [Extent1].[Forecast_12MRolling_Income_Accrual] AS [Forecast_12MRolling_Income_Accrual], 
    [Extent1].[Rolling_12_to_24M_Forecast_Distribution] AS [Rolling_12_to_24M_Forecast_Distribution], 
    [Extent1].[Rolling_24_to_36M_Forecast_Distribution] AS [Rolling_24_to_36M_Forecast_Distribution], 
    [Extent1].[Forecast_Yr1_Dividend_Yield_Relative] AS [Forecast_Yr1_Dividend_Yield_Relative], 
    [Extent1].[Market_Historic_Yield] AS [Market_Historic_Yield], 
    [Extent1].[Market_Forward_Yield] AS [Market_Forward_Yield], 
    [Extent1].[Historic_Distribution_PriceCurr] AS [Historic_Distribution_PriceCurr], 
    [Extent1].[Forecast_Distribution_Yr1_PriceCurr] AS [Forecast_Distribution_Yr1_PriceCurr], 
    [Extent1].[Forecast_Distribution_Yr2_PriceCurr] AS [Forecast_Distribution_Yr2_PriceCurr], 
    [Extent1].[Forecast_Distribution_Yr3_PriceCurr] AS [Forecast_Distribution_Yr3_PriceCurr], 
    [Extent1].[Rolling_12M_Forecast_Distribution_PriceCurr] AS [Rolling_12M_Forecast_Distribution_PriceCurr], 
    [Extent1].[Rolling_12_24M_Forecast_Distribution_PriceCurr] AS [Rolling_12_24M_Forecast_Distribution_PriceCurr], 
    [Extent1].[Rolling_24_36M_Forecast_Distribution_PriceCurr] AS [Rolling_24_36M_Forecast_Distribution_PriceCurr], 
    [Extent1].[Distribution_Growth_Forecast_Yr4] AS [Distribution_Growth_Forecast_Yr4], 
    [Extent1].[Earnings_Forecast_Yr4] AS [Earnings_Forecast_Yr4], 
    [Extent1].[Forecast_Distribution_Yr4] AS [Forecast_Distribution_Yr4], 
    [Extent1].[Forecast_Distribution_Yr4_PriceCurr] AS [Forecast_Distribution_Yr4_PriceCurr]
    FROM [dbo].[Security_Analytics_History] AS [Extent1]
    WHERE ([Extent1].[Security_ID] = @p__linq__0) AND ([Extent1].[Record_Date] = @p__linq__1) AND ([Extent1].[Entity_ID] = @p__linq__2)
2018-04-07 12:34:10.7793|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: SELECT 
    [Extent1].[Entity_ID] AS [Entity_ID], 
    [Extent1].[Security_ID] AS [Security_ID], 
    [Extent1].[Issued_Amount] AS [Issued_Amount], 
    [Extent1].[Market_Capitalisation] AS [Market_Capitalisation], 
    [Extent1].[Risk_Premium] AS [Risk_Premium], 
    [Extent1].[Exit_Price] AS [Exit_Price], 
    [Extent1].[Total_Return_ME_1YR] AS [Total_Return_ME_1YR], 
    [Extent1].[Total_Return_ME_2YR] AS [Total_Return_ME_2YR], 
    [Extent1].[Total_Return_ME_3YR] AS [Total_Return_ME_3YR], 
    [Extent1].[Historic_Distribution] AS [Historic_Distribution], 
    [Extent1].[Distribution_Growth_Forecast_Yr1] AS [Distribution_Growth_Forecast_Yr1], 
    [Extent1].[Distribution_Growth_Forecast_Yr2] AS [Distribution_Growth_Forecast_Yr2], 
    [Extent1].[Distribution_Growth_Forecast_Yr3] AS [Distribution_Growth_Forecast_Yr3], 
    [Extent1].[Forecast_Distribution_Yr1] AS [Forecast_Distribution_Yr1], 
    [Extent1].[Forecast_Distribution_Yr2] AS [Forecast_Distribution_Yr2], 
    [Extent1].[Forecast_Distribution_Yr3] AS [Forecast_Distribution_Yr3], 
    [Extent1].[Earnings_Growth_Compounded] AS [Earnings_Growth_Compounded], 
    [Extent1].[Earnings_Forecast_Yr3] AS [Earnings_Forecast_Yr3], 
    [Extent1].[Historic_Dividend_Yield_FYE] AS [Historic_Dividend_Yield_FYE], 
    [Extent1].[Forward_Dividend_Yield_FYE] AS [Forward_Dividend_Yield_FYE], 
    [Extent1].[Yr3_Forward_Dividend_Yield] AS [Yr3_Forward_Dividend_Yield], 
    [Extent1].[Rolling_12M_Forward_Yield] AS [Rolling_12M_Forward_Yield], 
    [Extent1].[Historical_Earnings_FYE] AS [Historical_Earnings_FYE], 
    [Extent1].[Earnings_Forecast_Yr1] AS [Earnings_Forecast_Yr1], 
    [Extent1].[Earnings_Forecast_Yr2] AS [Earnings_Forecast_Yr2], 
    [Extent1].[Historic_Dividend_Yield_Relative] AS [Historic_Dividend_Yield_Relative], 
    [Extent1].[Rolling_12M_Historic_Distribution_PriceCurr] AS [Rolling_12M_Historic_Distribution_PriceCurr], 
    [Extent1].[Short_Term_Market_Rerate] AS [Short_Term_Market_Rerate], 
    [Extent1].[Forecast_12M_Total_Return] AS [Forecast_12M_Total_Return], 
    [Extent1].[Clean_Price] AS [Clean_Price], 
    [Extent1].[Rolling_Dividend_Yield_Historic] AS [Rolling_Dividend_Yield_Historic], 
    [Extent1].[Last_Update_Date] AS [Last_Update_Date], 
    [Extent1].[Last_Update_User] AS [Last_Update_User], 
    [Extent1].[Discount_Security_ID] AS [Discount_Security_ID], 
    [Extent1].[Net_Present_Value] AS [Net_Present_Value], 
    [Extent1].[Forecast_Rolling_Custom_Income] AS [Forecast_Rolling_Custom_Income], 
    [Extent1].[Custom_Period] AS [Custom_Period], 
    [Extent1].[Rolling_12M_Historic_Distribution] AS [Rolling_12M_Historic_Distribution], 
    [Extent1].[Record_Date] AS [Record_Date], 
    [Extent1].[Session_ID] AS [Session_ID], 
    [Extent1].[Hist_Last_Update_Date] AS [Hist_Last_Update_Date], 
    [Extent1].[Hist_Last_Update_User] AS [Hist_Last_Update_User], 
    [Extent1].[Rolling_12M_Forecast_Distribution] AS [Rolling_12M_Forecast_Distribution], 
    [Extent1].[Yr2_Forward_Dividend_Yield] AS [Yr2_Forward_Dividend_Yield], 
    [Extent1].[Exit_Yield] AS [Exit_Yield], 
    [Extent1].[Discount_Rate] AS [Discount_Rate], 
    [Extent1].[Distribution_Growth_Compounded] AS [Distribution_Growth_Compounded], 
    [Extent1].[Forecast_12MRolling_Income_Accrual] AS [Forecast_12MRolling_Income_Accrual], 
    [Extent1].[Rolling_12_to_24M_Forecast_Distribution] AS [Rolling_12_to_24M_Forecast_Distribution], 
    [Extent1].[Rolling_24_to_36M_Forecast_Distribution] AS [Rolling_24_to_36M_Forecast_Distribution], 
    [Extent1].[Forecast_Yr1_Dividend_Yield_Relative] AS [Forecast_Yr1_Dividend_Yield_Relative], 
    [Extent1].[Market_Historic_Yield] AS [Market_Historic_Yield], 
    [Extent1].[Market_Forward_Yield] AS [Market_Forward_Yield], 
    [Extent1].[Historic_Distribution_PriceCurr] AS [Historic_Distribution_PriceCurr], 
    [Extent1].[Forecast_Distribution_Yr1_PriceCurr] AS [Forecast_Distribution_Yr1_PriceCurr], 
    [Extent1].[Forecast_Distribution_Yr2_PriceCurr] AS [Forecast_Distribution_Yr2_PriceCurr], 
    [Extent1].[Forecast_Distribution_Yr3_PriceCurr] AS [Forecast_Distribution_Yr3_PriceCurr], 
    [Extent1].[Rolling_12M_Forecast_Distribution_PriceCurr] AS [Rolling_12M_Forecast_Distribution_PriceCurr], 
    [Extent1].[Rolling_12_24M_Forecast_Distribution_PriceCurr] AS [Rolling_12_24M_Forecast_Distribution_PriceCurr], 
    [Extent1].[Rolling_24_36M_Forecast_Distribution_PriceCurr] AS [Rolling_24_36M_Forecast_Distribution_PriceCurr], 
    [Extent1].[Distribution_Growth_Forecast_Yr4] AS [Distribution_Growth_Forecast_Yr4], 
    [Extent1].[Earnings_Forecast_Yr4] AS [Earnings_Forecast_Yr4], 
    [Extent1].[Forecast_Distribution_Yr4] AS [Forecast_Distribution_Yr4], 
    [Extent1].[Forecast_Distribution_Yr4_PriceCurr] AS [Forecast_Distribution_Yr4_PriceCurr]
    FROM [dbo].[Security_Analytics_History] AS [Extent1]
    WHERE ([Extent1].[Security_ID] = @p__linq__0) AND ([Extent1].[Record_Date] = @p__linq__1) AND ([Extent1].[Entity_ID] = @p__linq__2)
2018-04-07 12:34:10.8679|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: SELECT 
    [Extent1].[Security_ID] AS [Security_ID], 
    [Extent1].[Entity_ID] AS [Entity_ID], 
    [Extent1].[Security_Name] AS [Security_Name], 
    [Extent1].[Short_Name] AS [Short_Name], 
    [Extent1].[Primary_Exch] AS [Primary_Exch], 
    [Extent1].[Secondary_Exch] AS [Secondary_Exch], 
    [Extent1].[Country_Of_Domicile] AS [Country_Of_Domicile], 
    [Extent1].[Country_Of_Risk] AS [Country_Of_Risk], 
    [Extent1].[Security_Type_Code] AS [Security_Type_Code], 
    [Extent1].[Price_Multiplier] AS [Price_Multiplier], 
    [Extent1].[Income_Frequency] AS [Income_Frequency], 
    [Extent1].[Issuer_Code] AS [Issuer_Code], 
    [Extent1].[Ultimate_Issuer_Code] AS [Ultimate_Issuer_Code], 
    [Extent1].[Asset_Currency] AS [Asset_Currency], 
    [Extent1].[Min_Lot_Size] AS [Min_Lot_Size], 
    [Extent1].[Decimal_Precision] AS [Decimal_Precision], 
    [Extent1].[AvePrice_Rounding] AS [AvePrice_Rounding], 
    [Extent1].[Issue_Date] AS [Issue_Date], 
    [Extent1].[Maturity_Date] AS [Maturity_Date], 
    [Extent1].[Coupon_Rate] AS [Coupon_Rate], 
    [Extent1].[Price_Exchange] AS [Price_Exchange], 
    [Extent1].[Trade_Currency] AS [Trade_Currency], 
    [Extent1].[Price_Curr] AS [Price_Curr], 
    [Extent1].[Currency_Pair_Code] AS [Currency_Pair_Code], 
    [Extent1].[Share_Class] AS [Share_Class], 
    [Extent1].[Current_Market_Price] AS [Current_Market_Price], 
    [Extent1].[Index_Type] AS [Index_Type], 
    [Extent1].[Clean_Price_Formula] AS [Clean_Price_Formula], 
    [Extent1].[Accrued_Income_Price_Formula] AS [Accrued_Income_Price_Formula], 
    [Extent1].[Odd_First_Coupon_Date] AS [Odd_First_Coupon_Date], 
    [Extent1].[Odd_Last_Coupon_Date] AS [Odd_Last_Coupon_Date], 
    [Extent1].[Coupon_Anniversary_Indicator] AS [Coupon_Anniversary_Indicator], 
    [Extent1].[Track_EOM_Flag] AS [Track_EOM_Flag], 
    [Extent1].[Next_Coupon_Date] AS [Next_Coupon_Date], 
    [Extent1].[Previous_Coupon_Date] AS [Previous_Coupon_Date], 
    [Extent1].[Payment_Frequency] AS [Payment_Frequency], 
    [Extent1].[Coupon_BusDay_Adjustment] AS [Coupon_BusDay_Adjustment], 
    [Extent1].[Next_Ex_Div_Date] AS [Next_Ex_Div_Date], 
    [Extent1].[Ex_Div_BusDay_Adjustment] AS [Ex_Div_BusDay_Adjustment], 
    [Extent1].[Ex_Div_Period] AS [Ex_Div_Period], 
    [Extent1].[Ticker] AS [Ticker], 
    [Extent1].[Inet_ID] AS [Inet_ID], 
    [Extent1].[Bloomberg_ID] AS [Bloomberg_ID], 
    [Extent1].[External_Sec_ID] AS [External_Sec_ID], 
    [Extent1].[Reuters_ID] AS [Reuters_ID], 
    [Extent1].[ISIN] AS [ISIN], 
    [Extent1].[Call_Account_Flag] AS [Call_Account_Flag], 
    [Extent1].[System_Locked] AS [System_Locked], 
    [Extent1].[Last_Update_User] AS [Last_Update_User], 
    [Extent1].[Last_Update_Date] AS [Last_Update_Date], 
    [Extent1].[Security_Status] AS [Security_Status], 
    [Extent1].[Benchmark_Portfolio] AS [Benchmark_Portfolio], 
    [Extent1].[Active_flag] AS [Active_flag], 
    [Extent1].[Dividend_FX_Security_ID] AS [Dividend_FX_Security_ID]
    FROM [dbo].[Security_Detail] AS [Extent1]
    WHERE [Extent1].[Security_ID] = @EntityKeyValue1
2018-04-07 12:34:10.8949|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: SELECT 
    [Extent1].[Security_ID] AS [Security_ID], 
    [Extent1].[Entity_ID] AS [Entity_ID], 
    [Extent1].[Security_Name] AS [Security_Name], 
    [Extent1].[Short_Name] AS [Short_Name], 
    [Extent1].[Primary_Exch] AS [Primary_Exch], 
    [Extent1].[Secondary_Exch] AS [Secondary_Exch], 
    [Extent1].[Country_Of_Domicile] AS [Country_Of_Domicile], 
    [Extent1].[Country_Of_Risk] AS [Country_Of_Risk], 
    [Extent1].[Security_Type_Code] AS [Security_Type_Code], 
    [Extent1].[Price_Multiplier] AS [Price_Multiplier], 
    [Extent1].[Income_Frequency] AS [Income_Frequency], 
    [Extent1].[Issuer_Code] AS [Issuer_Code], 
    [Extent1].[Ultimate_Issuer_Code] AS [Ultimate_Issuer_Code], 
    [Extent1].[Asset_Currency] AS [Asset_Currency], 
    [Extent1].[Min_Lot_Size] AS [Min_Lot_Size], 
    [Extent1].[Decimal_Precision] AS [Decimal_Precision], 
    [Extent1].[AvePrice_Rounding] AS [AvePrice_Rounding], 
    [Extent1].[Issue_Date] AS [Issue_Date], 
    [Extent1].[Maturity_Date] AS [Maturity_Date], 
    [Extent1].[Coupon_Rate] AS [Coupon_Rate], 
    [Extent1].[Price_Exchange] AS [Price_Exchange], 
    [Extent1].[Trade_Currency] AS [Trade_Currency], 
    [Extent1].[Price_Curr] AS [Price_Curr], 
    [Extent1].[Currency_Pair_Code] AS [Currency_Pair_Code], 
    [Extent1].[Share_Class] AS [Share_Class], 
    [Extent1].[Current_Market_Price] AS [Current_Market_Price], 
    [Extent1].[Index_Type] AS [Index_Type], 
    [Extent1].[Clean_Price_Formula] AS [Clean_Price_Formula], 
    [Extent1].[Accrued_Income_Price_Formula] AS [Accrued_Income_Price_Formula], 
    [Extent1].[Odd_First_Coupon_Date] AS [Odd_First_Coupon_Date], 
    [Extent1].[Odd_Last_Coupon_Date] AS [Odd_Last_Coupon_Date], 
    [Extent1].[Coupon_Anniversary_Indicator] AS [Coupon_Anniversary_Indicator], 
    [Extent1].[Track_EOM_Flag] AS [Track_EOM_Flag], 
    [Extent1].[Next_Coupon_Date] AS [Next_Coupon_Date], 
    [Extent1].[Previous_Coupon_Date] AS [Previous_Coupon_Date], 
    [Extent1].[Payment_Frequency] AS [Payment_Frequency], 
    [Extent1].[Coupon_BusDay_Adjustment] AS [Coupon_BusDay_Adjustment], 
    [Extent1].[Next_Ex_Div_Date] AS [Next_Ex_Div_Date], 
    [Extent1].[Ex_Div_BusDay_Adjustment] AS [Ex_Div_BusDay_Adjustment], 
    [Extent1].[Ex_Div_Period] AS [Ex_Div_Period], 
    [Extent1].[Ticker] AS [Ticker], 
    [Extent1].[Inet_ID] AS [Inet_ID], 
    [Extent1].[Bloomberg_ID] AS [Bloomberg_ID], 
    [Extent1].[External_Sec_ID] AS [External_Sec_ID], 
    [Extent1].[Reuters_ID] AS [Reuters_ID], 
    [Extent1].[ISIN] AS [ISIN], 
    [Extent1].[Call_Account_Flag] AS [Call_Account_Flag], 
    [Extent1].[System_Locked] AS [System_Locked], 
    [Extent1].[Last_Update_User] AS [Last_Update_User], 
    [Extent1].[Last_Update_Date] AS [Last_Update_Date], 
    [Extent1].[Security_Status] AS [Security_Status], 
    [Extent1].[Benchmark_Portfolio] AS [Benchmark_Portfolio], 
    [Extent1].[Active_flag] AS [Active_flag], 
    [Extent1].[Dividend_FX_Security_ID] AS [Dividend_FX_Security_ID]
    FROM [dbo].[Security_Detail] AS [Extent1]
    WHERE [Extent1].[Security_ID] = @EntityKeyValue1
2018-04-07 12:34:11.2076|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: SELECT 
    [Project1].[Security_ID] AS [Security_ID], 
    [Project1].[Entity_ID] AS [Entity_ID], 
    [Project1].[Security_Name] AS [Security_Name], 
    [Project1].[Short_Name] AS [Short_Name], 
    [Project1].[Primary_Exch] AS [Primary_Exch], 
    [Project1].[Secondary_Exch] AS [Secondary_Exch], 
    [Project1].[Country_Of_Domicile] AS [Country_Of_Domicile], 
    [Project1].[Country_Of_Risk] AS [Country_Of_Risk], 
    [Project1].[Security_Type_Code] AS [Security_Type_Code], 
    [Project1].[Price_Multiplier] AS [Price_Multiplier], 
    [Project1].[Income_Frequency] AS [Income_Frequency], 
    [Project1].[Issuer_Code] AS [Issuer_Code], 
    [Project1].[Ultimate_Issuer_Code] AS [Ultimate_Issuer_Code], 
    [Project1].[Asset_Currency] AS [Asset_Currency], 
    [Project1].[Min_Lot_Size] AS [Min_Lot_Size], 
    [Project1].[Decimal_Precision] AS [Decimal_Precision], 
    [Project1].[AvePrice_Rounding] AS [AvePrice_Rounding], 
    [Project1].[Issue_Date] AS [Issue_Date], 
    [Project1].[Maturity_Date] AS [Maturity_Date], 
    [Project1].[Coupon_Rate] AS [Coupon_Rate], 
    [Project1].[Price_Exchange] AS [Price_Exchange], 
    [Project1].[Trade_Currency] AS [Trade_Currency], 
    [Project1].[Price_Curr] AS [Price_Curr], 
    [Project1].[Currency_Pair_Code] AS [Currency_Pair_Code], 
    [Project1].[Share_Class] AS [Share_Class], 
    [Project1].[Current_Market_Price] AS [Current_Market_Price], 
    [Project1].[Index_Type] AS [Index_Type], 
    [Project1].[Clean_Price_Formula] AS [Clean_Price_Formula], 
    [Project1].[Accrued_Income_Price_Formula] AS [Accrued_Income_Price_Formula], 
    [Project1].[Odd_First_Coupon_Date] AS [Odd_First_Coupon_Date], 
    [Project1].[Odd_Last_Coupon_Date] AS [Odd_Last_Coupon_Date], 
    [Project1].[Coupon_Anniversary_Indicator] AS [Coupon_Anniversary_Indicator], 
    [Project1].[Track_EOM_Flag] AS [Track_EOM_Flag], 
    [Project1].[Next_Coupon_Date] AS [Next_Coupon_Date], 
    [Project1].[Previous_Coupon_Date] AS [Previous_Coupon_Date], 
    [Project1].[Payment_Frequency] AS [Payment_Frequency], 
    [Project1].[Coupon_BusDay_Adjustment] AS [Coupon_BusDay_Adjustment], 
    [Project1].[Next_Ex_Div_Date] AS [Next_Ex_Div_Date], 
    [Project1].[Ex_Div_BusDay_Adjustment] AS [Ex_Div_BusDay_Adjustment], 
    [Project1].[Ex_Div_Period] AS [Ex_Div_Period], 
    [Project1].[Ticker] AS [Ticker], 
    [Project1].[Inet_ID] AS [Inet_ID], 
    [Project1].[Bloomberg_ID] AS [Bloomberg_ID], 
    [Project1].[External_Sec_ID] AS [External_Sec_ID], 
    [Project1].[Reuters_ID] AS [Reuters_ID], 
    [Project1].[ISIN] AS [ISIN], 
    [Project1].[Call_Account_Flag] AS [Call_Account_Flag], 
    [Project1].[System_Locked] AS [System_Locked], 
    [Project1].[Last_Update_User] AS [Last_Update_User], 
    [Project1].[Last_Update_Date] AS [Last_Update_Date], 
    [Project1].[Security_Status] AS [Security_Status], 
    [Project1].[Benchmark_Portfolio] AS [Benchmark_Portfolio], 
    [Project1].[Active_flag] AS [Active_flag], 
    [Project1].[Dividend_FX_Security_ID] AS [Dividend_FX_Security_ID]
    FROM ( SELECT 
        [Extent1].[Security_ID] AS [Security_ID], 
        [Extent1].[Entity_ID] AS [Entity_ID], 
        [Extent1].[Security_Name] AS [Security_Name], 
        [Extent1].[Short_Name] AS [Short_Name], 
        [Extent1].[Primary_Exch] AS [Primary_Exch], 
        [Extent1].[Secondary_Exch] AS [Secondary_Exch], 
        [Extent1].[Country_Of_Domicile] AS [Country_Of_Domicile], 
        [Extent1].[Country_Of_Risk] AS [Country_Of_Risk], 
        [Extent1].[Security_Type_Code] AS [Security_Type_Code], 
        [Extent1].[Price_Multiplier] AS [Price_Multiplier], 
        [Extent1].[Income_Frequency] AS [Income_Frequency], 
        [Extent1].[Issuer_Code] AS [Issuer_Code], 
        [Extent1].[Ultimate_Issuer_Code] AS [Ultimate_Issuer_Code], 
        [Extent1].[Asset_Currency] AS [Asset_Currency], 
        [Extent1].[Min_Lot_Size] AS [Min_Lot_Size], 
        [Extent1].[Decimal_Precision] AS [Decimal_Precision], 
        [Extent1].[AvePrice_Rounding] AS [AvePrice_Rounding], 
        [Extent1].[Issue_Date] AS [Issue_Date], 
        [Extent1].[Maturity_Date] AS [Maturity_Date], 
        [Extent1].[Coupon_Rate] AS [Coupon_Rate], 
        [Extent1].[Price_Exchange] AS [Price_Exchange], 
        [Extent1].[Trade_Currency] AS [Trade_Currency], 
        [Extent1].[Price_Curr] AS [Price_Curr], 
        [Extent1].[Currency_Pair_Code] AS [Currency_Pair_Code], 
        [Extent1].[Share_Class] AS [Share_Class], 
        [Extent1].[Current_Market_Price] AS [Current_Market_Price], 
        [Extent1].[Index_Type] AS [Index_Type], 
        [Extent1].[Clean_Price_Formula] AS [Clean_Price_Formula], 
        [Extent1].[Accrued_Income_Price_Formula] AS [Accrued_Income_Price_Formula], 
        [Extent1].[Odd_First_Coupon_Date] AS [Odd_First_Coupon_Date], 
        [Extent1].[Odd_Last_Coupon_Date] AS [Odd_Last_Coupon_Date], 
        [Extent1].[Coupon_Anniversary_Indicator] AS [Coupon_Anniversary_Indicator], 
        [Extent1].[Track_EOM_Flag] AS [Track_EOM_Flag], 
        [Extent1].[Next_Coupon_Date] AS [Next_Coupon_Date], 
        [Extent1].[Previous_Coupon_Date] AS [Previous_Coupon_Date], 
        [Extent1].[Payment_Frequency] AS [Payment_Frequency], 
        [Extent1].[Coupon_BusDay_Adjustment] AS [Coupon_BusDay_Adjustment], 
        [Extent1].[Next_Ex_Div_Date] AS [Next_Ex_Div_Date], 
        [Extent1].[Ex_Div_BusDay_Adjustment] AS [Ex_Div_BusDay_Adjustment], 
        [Extent1].[Ex_Div_Period] AS [Ex_Div_Period], 
        [Extent1].[Ticker] AS [Ticker], 
        [Extent1].[Inet_ID] AS [Inet_ID], 
        [Extent1].[Bloomberg_ID] AS [Bloomberg_ID], 
        [Extent1].[External_Sec_ID] AS [External_Sec_ID], 
        [Extent1].[Reuters_ID] AS [Reuters_ID], 
        [Extent1].[ISIN] AS [ISIN], 
        [Extent1].[Call_Account_Flag] AS [Call_Account_Flag], 
        [Extent1].[System_Locked] AS [System_Locked], 
        [Extent1].[Last_Update_User] AS [Last_Update_User], 
        [Extent1].[Last_Update_Date] AS [Last_Update_Date], 
        [Extent1].[Security_Status] AS [Security_Status], 
        [Extent1].[Benchmark_Portfolio] AS [Benchmark_Portfolio], 
        [Extent1].[Active_flag] AS [Active_flag], 
        [Extent1].[Dividend_FX_Security_ID] AS [Dividend_FX_Security_ID]
        FROM [dbo].[Security_Detail] AS [Extent1]
        WHERE ([Extent1].[Entity_ID] IN (@p__linq__0,@p__linq__1)) AND ((CASE WHEN ( NOT ((N'' = @p__linq__2) AND (@p__linq__2 IS NOT NULL))) THEN CASE WHEN ([Extent1].[Security_Type_Code] = @p__linq__3) THEN cast(1 as bit) WHEN ( NOT (([Extent1].[Security_Type_Code] = @p__linq__3) AND (0 = (CASE WHEN (@p__linq__3 IS NULL) THEN cast(1 as bit) ELSE cast(0 as bit) END)))) THEN cast(0 as bit) END WHEN ('' <> [Extent1].[Security_Type_Code]) THEN cast(1 as bit) WHEN ('' = [Extent1].[Security_Type_Code]) THEN cast(0 as bit) END) = 1)
    )  AS [Project1]
    ORDER BY [Project1].[Security_Name] ASC
2018-04-07 12:34:11.2471|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: SELECT 
    [Project1].[Security_ID] AS [Security_ID], 
    [Project1].[Entity_ID] AS [Entity_ID], 
    [Project1].[Security_Name] AS [Security_Name], 
    [Project1].[Short_Name] AS [Short_Name], 
    [Project1].[Primary_Exch] AS [Primary_Exch], 
    [Project1].[Secondary_Exch] AS [Secondary_Exch], 
    [Project1].[Country_Of_Domicile] AS [Country_Of_Domicile], 
    [Project1].[Country_Of_Risk] AS [Country_Of_Risk], 
    [Project1].[Security_Type_Code] AS [Security_Type_Code], 
    [Project1].[Price_Multiplier] AS [Price_Multiplier], 
    [Project1].[Income_Frequency] AS [Income_Frequency], 
    [Project1].[Issuer_Code] AS [Issuer_Code], 
    [Project1].[Ultimate_Issuer_Code] AS [Ultimate_Issuer_Code], 
    [Project1].[Asset_Currency] AS [Asset_Currency], 
    [Project1].[Min_Lot_Size] AS [Min_Lot_Size], 
    [Project1].[Decimal_Precision] AS [Decimal_Precision], 
    [Project1].[AvePrice_Rounding] AS [AvePrice_Rounding], 
    [Project1].[Issue_Date] AS [Issue_Date], 
    [Project1].[Maturity_Date] AS [Maturity_Date], 
    [Project1].[Coupon_Rate] AS [Coupon_Rate], 
    [Project1].[Price_Exchange] AS [Price_Exchange], 
    [Project1].[Trade_Currency] AS [Trade_Currency], 
    [Project1].[Price_Curr] AS [Price_Curr], 
    [Project1].[Currency_Pair_Code] AS [Currency_Pair_Code], 
    [Project1].[Share_Class] AS [Share_Class], 
    [Project1].[Current_Market_Price] AS [Current_Market_Price], 
    [Project1].[Index_Type] AS [Index_Type], 
    [Project1].[Clean_Price_Formula] AS [Clean_Price_Formula], 
    [Project1].[Accrued_Income_Price_Formula] AS [Accrued_Income_Price_Formula], 
    [Project1].[Odd_First_Coupon_Date] AS [Odd_First_Coupon_Date], 
    [Project1].[Odd_Last_Coupon_Date] AS [Odd_Last_Coupon_Date], 
    [Project1].[Coupon_Anniversary_Indicator] AS [Coupon_Anniversary_Indicator], 
    [Project1].[Track_EOM_Flag] AS [Track_EOM_Flag], 
    [Project1].[Next_Coupon_Date] AS [Next_Coupon_Date], 
    [Project1].[Previous_Coupon_Date] AS [Previous_Coupon_Date], 
    [Project1].[Payment_Frequency] AS [Payment_Frequency], 
    [Project1].[Coupon_BusDay_Adjustment] AS [Coupon_BusDay_Adjustment], 
    [Project1].[Next_Ex_Div_Date] AS [Next_Ex_Div_Date], 
    [Project1].[Ex_Div_BusDay_Adjustment] AS [Ex_Div_BusDay_Adjustment], 
    [Project1].[Ex_Div_Period] AS [Ex_Div_Period], 
    [Project1].[Ticker] AS [Ticker], 
    [Project1].[Inet_ID] AS [Inet_ID], 
    [Project1].[Bloomberg_ID] AS [Bloomberg_ID], 
    [Project1].[External_Sec_ID] AS [External_Sec_ID], 
    [Project1].[Reuters_ID] AS [Reuters_ID], 
    [Project1].[ISIN] AS [ISIN], 
    [Project1].[Call_Account_Flag] AS [Call_Account_Flag], 
    [Project1].[System_Locked] AS [System_Locked], 
    [Project1].[Last_Update_User] AS [Last_Update_User], 
    [Project1].[Last_Update_Date] AS [Last_Update_Date], 
    [Project1].[Security_Status] AS [Security_Status], 
    [Project1].[Benchmark_Portfolio] AS [Benchmark_Portfolio], 
    [Project1].[Active_flag] AS [Active_flag], 
    [Project1].[Dividend_FX_Security_ID] AS [Dividend_FX_Security_ID]
    FROM ( SELECT 
        [Extent1].[Security_ID] AS [Security_ID], 
        [Extent1].[Entity_ID] AS [Entity_ID], 
        [Extent1].[Security_Name] AS [Security_Name], 
        [Extent1].[Short_Name] AS [Short_Name], 
        [Extent1].[Primary_Exch] AS [Primary_Exch], 
        [Extent1].[Secondary_Exch] AS [Secondary_Exch], 
        [Extent1].[Country_Of_Domicile] AS [Country_Of_Domicile], 
        [Extent1].[Country_Of_Risk] AS [Country_Of_Risk], 
        [Extent1].[Security_Type_Code] AS [Security_Type_Code], 
        [Extent1].[Price_Multiplier] AS [Price_Multiplier], 
        [Extent1].[Income_Frequency] AS [Income_Frequency], 
        [Extent1].[Issuer_Code] AS [Issuer_Code], 
        [Extent1].[Ultimate_Issuer_Code] AS [Ultimate_Issuer_Code], 
        [Extent1].[Asset_Currency] AS [Asset_Currency], 
        [Extent1].[Min_Lot_Size] AS [Min_Lot_Size], 
        [Extent1].[Decimal_Precision] AS [Decimal_Precision], 
        [Extent1].[AvePrice_Rounding] AS [AvePrice_Rounding], 
        [Extent1].[Issue_Date] AS [Issue_Date], 
        [Extent1].[Maturity_Date] AS [Maturity_Date], 
        [Extent1].[Coupon_Rate] AS [Coupon_Rate], 
        [Extent1].[Price_Exchange] AS [Price_Exchange], 
        [Extent1].[Trade_Currency] AS [Trade_Currency], 
        [Extent1].[Price_Curr] AS [Price_Curr], 
        [Extent1].[Currency_Pair_Code] AS [Currency_Pair_Code], 
        [Extent1].[Share_Class] AS [Share_Class], 
        [Extent1].[Current_Market_Price] AS [Current_Market_Price], 
        [Extent1].[Index_Type] AS [Index_Type], 
        [Extent1].[Clean_Price_Formula] AS [Clean_Price_Formula], 
        [Extent1].[Accrued_Income_Price_Formula] AS [Accrued_Income_Price_Formula], 
        [Extent1].[Odd_First_Coupon_Date] AS [Odd_First_Coupon_Date], 
        [Extent1].[Odd_Last_Coupon_Date] AS [Odd_Last_Coupon_Date], 
        [Extent1].[Coupon_Anniversary_Indicator] AS [Coupon_Anniversary_Indicator], 
        [Extent1].[Track_EOM_Flag] AS [Track_EOM_Flag], 
        [Extent1].[Next_Coupon_Date] AS [Next_Coupon_Date], 
        [Extent1].[Previous_Coupon_Date] AS [Previous_Coupon_Date], 
        [Extent1].[Payment_Frequency] AS [Payment_Frequency], 
        [Extent1].[Coupon_BusDay_Adjustment] AS [Coupon_BusDay_Adjustment], 
        [Extent1].[Next_Ex_Div_Date] AS [Next_Ex_Div_Date], 
        [Extent1].[Ex_Div_BusDay_Adjustment] AS [Ex_Div_BusDay_Adjustment], 
        [Extent1].[Ex_Div_Period] AS [Ex_Div_Period], 
        [Extent1].[Ticker] AS [Ticker], 
        [Extent1].[Inet_ID] AS [Inet_ID], 
        [Extent1].[Bloomberg_ID] AS [Bloomberg_ID], 
        [Extent1].[External_Sec_ID] AS [External_Sec_ID], 
        [Extent1].[Reuters_ID] AS [Reuters_ID], 
        [Extent1].[ISIN] AS [ISIN], 
        [Extent1].[Call_Account_Flag] AS [Call_Account_Flag], 
        [Extent1].[System_Locked] AS [System_Locked], 
        [Extent1].[Last_Update_User] AS [Last_Update_User], 
        [Extent1].[Last_Update_Date] AS [Last_Update_Date], 
        [Extent1].[Security_Status] AS [Security_Status], 
        [Extent1].[Benchmark_Portfolio] AS [Benchmark_Portfolio], 
        [Extent1].[Active_flag] AS [Active_flag], 
        [Extent1].[Dividend_FX_Security_ID] AS [Dividend_FX_Security_ID]
        FROM [dbo].[Security_Detail] AS [Extent1]
        WHERE ([Extent1].[Entity_ID] IN (@p__linq__0,@p__linq__1)) AND ((CASE WHEN ( NOT ((N'' = @p__linq__2) AND (@p__linq__2 IS NOT NULL))) THEN CASE WHEN ([Extent1].[Security_Type_Code] = @p__linq__3) THEN cast(1 as bit) WHEN ( NOT (([Extent1].[Security_Type_Code] = @p__linq__3) AND (0 = (CASE WHEN (@p__linq__3 IS NULL) THEN cast(1 as bit) ELSE cast(0 as bit) END)))) THEN cast(0 as bit) END WHEN ('' <> [Extent1].[Security_Type_Code]) THEN cast(1 as bit) WHEN ('' = [Extent1].[Security_Type_Code]) THEN cast(0 as bit) END) = 1)
    )  AS [Project1]
    ORDER BY [Project1].[Security_Name] ASC
2018-04-07 12:34:11.4243|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: IF db_id(N'MetopeAzureDb') IS NOT NULL SELECT 1 ELSE SELECT Count(*) FROM sys.databases WHERE [name]=N'MetopeAzureDb'
2018-04-07 12:34:11.4443|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: IF db_id(N'MetopeAzureDb') IS NOT NULL SELECT 1 ELSE SELECT Count(*) FROM sys.databases WHERE [name]=N'MetopeAzureDb'
2018-04-07 12:34:11.4688|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: IF db_id(N'MetopeAzureDb') IS NOT NULL SELECT 1 ELSE SELECT Count(*) FROM sys.databases WHERE [name]=N'MetopeAzureDb'
2018-04-07 12:34:11.4883|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: IF db_id(N'MetopeAzureDb') IS NOT NULL SELECT 1 ELSE SELECT Count(*) FROM sys.databases WHERE [name]=N'MetopeAzureDb'
2018-04-07 12:34:17.7206|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: SELECT 
    [Project1].[Decimal_Precision] AS [Decimal_Precision], 
    [Project1].[Entity_ID] AS [Entity_ID], 
    [Project1].[Security_ID] AS [Security_ID], 
    [Project1].[Issued_Amount] AS [Issued_Amount], 
    [Project1].[Market_Capitalisation] AS [Market_Capitalisation], 
    [Project1].[Risk_Premium] AS [Risk_Premium], 
    [Project1].[Exit_Price] AS [Exit_Price], 
    [Project1].[Total_Return_ME_1YR] AS [Total_Return_ME_1YR], 
    [Project1].[Total_Return_ME_2YR] AS [Total_Return_ME_2YR], 
    [Project1].[Total_Return_ME_3YR] AS [Total_Return_ME_3YR], 
    [Project1].[Historic_Distribution] AS [Historic_Distribution], 
    [Project1].[Distribution_Growth_Forecast_Yr1] AS [Distribution_Growth_Forecast_Yr1], 
    [Project1].[Distribution_Growth_Forecast_Yr2] AS [Distribution_Growth_Forecast_Yr2], 
    [Project1].[Distribution_Growth_Forecast_Yr3] AS [Distribution_Growth_Forecast_Yr3], 
    [Project1].[Forecast_Distribution_Yr1] AS [Forecast_Distribution_Yr1], 
    [Project1].[Forecast_Distribution_Yr2] AS [Forecast_Distribution_Yr2], 
    [Project1].[Forecast_Distribution_Yr3] AS [Forecast_Distribution_Yr3], 
    [Project1].[Earnings_Growth_Compounded] AS [Earnings_Growth_Compounded], 
    [Project1].[Earnings_Forecast_Yr3] AS [Earnings_Forecast_Yr3], 
    [Project1].[Historic_Dividend_Yield_FYE] AS [Historic_Dividend_Yield_FYE], 
    [Project1].[Forward_Dividend_Yield_FYE] AS [Forward_Dividend_Yield_FYE], 
    [Project1].[Yr3_Forward_Dividend_Yield] AS [Yr3_Forward_Dividend_Yield], 
    [Project1].[Rolling_12M_Forward_Yield] AS [Rolling_12M_Forward_Yield], 
    [Project1].[Historical_Earnings_FYE] AS [Historical_Earnings_FYE], 
    [Project1].[Earnings_Forecast_Yr1] AS [Earnings_Forecast_Yr1], 
    [Project1].[Earnings_Forecast_Yr2] AS [Earnings_Forecast_Yr2], 
    [Project1].[Historic_Dividend_Yield_Relative] AS [Historic_Dividend_Yield_Relative], 
    [Project1].[Rolling_12M_Historic_Distribution_PriceCurr] AS [Rolling_12M_Historic_Distribution_PriceCurr], 
    [Project1].[Short_Term_Market_Rerate] AS [Short_Term_Market_Rerate], 
    [Project1].[Forecast_12M_Total_Return] AS [Forecast_12M_Total_Return], 
    [Project1].[Clean_Price] AS [Clean_Price], 
    [Project1].[Rolling_Dividend_Yield_Historic] AS [Rolling_Dividend_Yield_Historic], 
    [Project1].[Last_Update_Date] AS [Last_Update_Date], 
    [Project1].[Last_Update_User] AS [Last_Update_User], 
    [Project1].[Discount_Security_ID] AS [Discount_Security_ID], 
    [Project1].[Net_Present_Value] AS [Net_Present_Value], 
    [Project1].[Forecast_Rolling_Custom_Income] AS [Forecast_Rolling_Custom_Income], 
    [Project1].[Custom_Period] AS [Custom_Period], 
    [Project1].[Rolling_12M_Historic_Distribution] AS [Rolling_12M_Historic_Distribution], 
    [Project1].[Record_Date] AS [Record_Date], 
    [Project1].[Session_ID] AS [Session_ID], 
    [Project1].[Hist_Last_Update_Date] AS [Hist_Last_Update_Date], 
    [Project1].[Hist_Last_Update_User] AS [Hist_Last_Update_User], 
    [Project1].[Rolling_12M_Forecast_Distribution] AS [Rolling_12M_Forecast_Distribution], 
    [Project1].[Yr2_Forward_Dividend_Yield] AS [Yr2_Forward_Dividend_Yield], 
    [Project1].[Exit_Yield] AS [Exit_Yield], 
    [Project1].[Discount_Rate] AS [Discount_Rate], 
    [Project1].[Distribution_Growth_Compounded] AS [Distribution_Growth_Compounded], 
    [Project1].[Forecast_12MRolling_Income_Accrual] AS [Forecast_12MRolling_Income_Accrual], 
    [Project1].[Rolling_12_to_24M_Forecast_Distribution] AS [Rolling_12_to_24M_Forecast_Distribution], 
    [Project1].[Rolling_24_to_36M_Forecast_Distribution] AS [Rolling_24_to_36M_Forecast_Distribution], 
    [Project1].[Forecast_Yr1_Dividend_Yield_Relative] AS [Forecast_Yr1_Dividend_Yield_Relative], 
    [Project1].[Market_Historic_Yield] AS [Market_Historic_Yield], 
    [Project1].[Market_Forward_Yield] AS [Market_Forward_Yield], 
    [Project1].[Historic_Distribution_PriceCurr] AS [Historic_Distribution_PriceCurr], 
    [Project1].[Forecast_Distribution_Yr1_PriceCurr] AS [Forecast_Distribution_Yr1_PriceCurr], 
    [Project1].[Forecast_Distribution_Yr2_PriceCurr] AS [Forecast_Distribution_Yr2_PriceCurr], 
    [Project1].[Forecast_Distribution_Yr3_PriceCurr] AS [Forecast_Distribution_Yr3_PriceCurr], 
    [Project1].[Rolling_12M_Forecast_Distribution_PriceCurr] AS [Rolling_12M_Forecast_Distribution_PriceCurr], 
    [Project1].[Rolling_12_24M_Forecast_Distribution_PriceCurr] AS [Rolling_12_24M_Forecast_Distribution_PriceCurr], 
    [Project1].[Rolling_24_36M_Forecast_Distribution_PriceCurr] AS [Rolling_24_36M_Forecast_Distribution_PriceCurr], 
    [Project1].[Distribution_Growth_Forecast_Yr4] AS [Distribution_Growth_Forecast_Yr4], 
    [Project1].[Earnings_Forecast_Yr4] AS [Earnings_Forecast_Yr4], 
    [Project1].[Forecast_Distribution_Yr4] AS [Forecast_Distribution_Yr4], 
    [Project1].[Forecast_Distribution_Yr4_PriceCurr] AS [Forecast_Distribution_Yr4_PriceCurr], 
    [Project1].[Security_ID1] AS [Security_ID1], 
    [Project1].[Entity_ID1] AS [Entity_ID1], 
    [Project1].[Security_Name] AS [Security_Name], 
    [Project1].[Short_Name] AS [Short_Name], 
    [Project1].[Primary_Exch] AS [Primary_Exch], 
    [Project1].[Secondary_Exch] AS [Secondary_Exch], 
    [Project1].[Country_Of_Domicile] AS [Country_Of_Domicile], 
    [Project1].[Country_Of_Risk] AS [Country_Of_Risk], 
    [Project1].[Security_Type_Code] AS [Security_Type_Code], 
    [Project1].[Price_Multiplier] AS [Price_Multiplier], 
    [Project1].[Income_Frequency] AS [Income_Frequency], 
    [Project1].[Issuer_Code] AS [Issuer_Code], 
    [Project1].[Ultimate_Issuer_Code] AS [Ultimate_Issuer_Code], 
    [Project1].[Asset_Currency] AS [Asset_Currency], 
    [Project1].[Min_Lot_Size] AS [Min_Lot_Size], 
    [Project1].[AvePrice_Rounding] AS [AvePrice_Rounding], 
    [Project1].[Issue_Date] AS [Issue_Date], 
    [Project1].[Maturity_Date] AS [Maturity_Date], 
    [Project1].[Coupon_Rate] AS [Coupon_Rate], 
    [Project1].[Price_Exchange] AS [Price_Exchange], 
    [Project1].[Trade_Currency] AS [Trade_Currency], 
    [Project1].[Price_Curr] AS [Price_Curr], 
    [Project1].[Currency_Pair_Code] AS [Currency_Pair_Code], 
    [Project1].[Share_Class] AS [Share_Class], 
    [Project1].[Current_Market_Price] AS [Current_Market_Price], 
    [Project1].[Index_Type] AS [Index_Type], 
    [Project1].[Clean_Price_Formula] AS [Clean_Price_Formula], 
    [Project1].[Accrued_Income_Price_Formula] AS [Accrued_Income_Price_Formula], 
    [Project1].[Odd_First_Coupon_Date] AS [Odd_First_Coupon_Date], 
    [Project1].[Odd_Last_Coupon_Date] AS [Odd_Last_Coupon_Date], 
    [Project1].[Coupon_Anniversary_Indicator] AS [Coupon_Anniversary_Indicator], 
    [Project1].[Track_EOM_Flag] AS [Track_EOM_Flag], 
    [Project1].[Next_Coupon_Date] AS [Next_Coupon_Date], 
    [Project1].[Previous_Coupon_Date] AS [Previous_Coupon_Date], 
    [Project1].[Payment_Frequency] AS [Payment_Frequency], 
    [Project1].[Coupon_BusDay_Adjustment] AS [Coupon_BusDay_Adjustment], 
    [Project1].[Next_Ex_Div_Date] AS [Next_Ex_Div_Date], 
    [Project1].[Ex_Div_BusDay_Adjustment] AS [Ex_Div_BusDay_Adjustment], 
    [Project1].[Ex_Div_Period] AS [Ex_Div_Period], 
    [Project1].[Ticker] AS [Ticker], 
    [Project1].[Inet_ID] AS [Inet_ID], 
    [Project1].[Bloomberg_ID] AS [Bloomberg_ID], 
    [Project1].[External_Sec_ID] AS [External_Sec_ID], 
    [Project1].[Reuters_ID] AS [Reuters_ID], 
    [Project1].[ISIN] AS [ISIN], 
    [Project1].[Call_Account_Flag] AS [Call_Account_Flag], 
    [Project1].[System_Locked] AS [System_Locked], 
    [Project1].[Last_Update_User1] AS [Last_Update_User1], 
    [Project1].[Last_Update_Date1] AS [Last_Update_Date1], 
    [Project1].[Security_Status] AS [Security_Status], 
    [Project1].[Benchmark_Portfolio] AS [Benchmark_Portfolio], 
    [Project1].[Active_flag] AS [Active_flag], 
    [Project1].[Dividend_FX_Security_ID] AS [Dividend_FX_Security_ID]
    FROM ( SELECT 
        [Extent1].[Entity_ID] AS [Entity_ID], 
        [Extent1].[Security_ID] AS [Security_ID], 
        [Extent1].[Issued_Amount] AS [Issued_Amount], 
        [Extent1].[Market_Capitalisation] AS [Market_Capitalisation], 
        [Extent1].[Risk_Premium] AS [Risk_Premium], 
        [Extent1].[Exit_Price] AS [Exit_Price], 
        [Extent1].[Total_Return_ME_1YR] AS [Total_Return_ME_1YR], 
        [Extent1].[Total_Return_ME_2YR] AS [Total_Return_ME_2YR], 
        [Extent1].[Total_Return_ME_3YR] AS [Total_Return_ME_3YR], 
        [Extent1].[Historic_Distribution] AS [Historic_Distribution], 
        [Extent1].[Distribution_Growth_Forecast_Yr1] AS [Distribution_Growth_Forecast_Yr1], 
        [Extent1].[Distribution_Growth_Forecast_Yr2] AS [Distribution_Growth_Forecast_Yr2], 
        [Extent1].[Distribution_Growth_Forecast_Yr3] AS [Distribution_Growth_Forecast_Yr3], 
        [Extent1].[Forecast_Distribution_Yr1] AS [Forecast_Distribution_Yr1], 
        [Extent1].[Forecast_Distribution_Yr2] AS [Forecast_Distribution_Yr2], 
        [Extent1].[Forecast_Distribution_Yr3] AS [Forecast_Distribution_Yr3], 
        [Extent1].[Earnings_Growth_Compounded] AS [Earnings_Growth_Compounded], 
        [Extent1].[Earnings_Forecast_Yr3] AS [Earnings_Forecast_Yr3], 
        [Extent1].[Historic_Dividend_Yield_FYE] AS [Historic_Dividend_Yield_FYE], 
        [Extent1].[Forward_Dividend_Yield_FYE] AS [Forward_Dividend_Yield_FYE], 
        [Extent1].[Yr3_Forward_Dividend_Yield] AS [Yr3_Forward_Dividend_Yield], 
        [Extent1].[Rolling_12M_Forward_Yield] AS [Rolling_12M_Forward_Yield], 
        [Extent1].[Historical_Earnings_FYE] AS [Historical_Earnings_FYE], 
        [Extent1].[Earnings_Forecast_Yr1] AS [Earnings_Forecast_Yr1], 
        [Extent1].[Earnings_Forecast_Yr2] AS [Earnings_Forecast_Yr2], 
        [Extent1].[Historic_Dividend_Yield_Relative] AS [Historic_Dividend_Yield_Relative], 
        [Extent1].[Rolling_12M_Historic_Distribution_PriceCurr] AS [Rolling_12M_Historic_Distribution_PriceCurr], 
        [Extent1].[Short_Term_Market_Rerate] AS [Short_Term_Market_Rerate], 
        [Extent1].[Forecast_12M_Total_Return] AS [Forecast_12M_Total_Return], 
        [Extent1].[Clean_Price] AS [Clean_Price], 
        [Extent1].[Rolling_Dividend_Yield_Historic] AS [Rolling_Dividend_Yield_Historic], 
        [Extent1].[Last_Update_Date] AS [Last_Update_Date], 
        [Extent1].[Last_Update_User] AS [Last_Update_User], 
        [Extent1].[Discount_Security_ID] AS [Discount_Security_ID], 
        [Extent1].[Net_Present_Value] AS [Net_Present_Value], 
        [Extent1].[Forecast_Rolling_Custom_Income] AS [Forecast_Rolling_Custom_Income], 
        [Extent1].[Custom_Period] AS [Custom_Period], 
        [Extent1].[Rolling_12M_Historic_Distribution] AS [Rolling_12M_Historic_Distribution], 
        [Extent1].[Record_Date] AS [Record_Date], 
        [Extent1].[Session_ID] AS [Session_ID], 
        [Extent1].[Hist_Last_Update_Date] AS [Hist_Last_Update_Date], 
        [Extent1].[Hist_Last_Update_User] AS [Hist_Last_Update_User], 
        [Extent1].[Rolling_12M_Forecast_Distribution] AS [Rolling_12M_Forecast_Distribution], 
        [Extent1].[Yr2_Forward_Dividend_Yield] AS [Yr2_Forward_Dividend_Yield], 
        [Extent1].[Exit_Yield] AS [Exit_Yield], 
        [Extent1].[Discount_Rate] AS [Discount_Rate], 
        [Extent1].[Distribution_Growth_Compounded] AS [Distribution_Growth_Compounded], 
        [Extent1].[Forecast_12MRolling_Income_Accrual] AS [Forecast_12MRolling_Income_Accrual], 
        [Extent1].[Rolling_12_to_24M_Forecast_Distribution] AS [Rolling_12_to_24M_Forecast_Distribution], 
        [Extent1].[Rolling_24_to_36M_Forecast_Distribution] AS [Rolling_24_to_36M_Forecast_Distribution], 
        [Extent1].[Forecast_Yr1_Dividend_Yield_Relative] AS [Forecast_Yr1_Dividend_Yield_Relative], 
        [Extent1].[Market_Historic_Yield] AS [Market_Historic_Yield], 
        [Extent1].[Market_Forward_Yield] AS [Market_Forward_Yield], 
        [Extent1].[Historic_Distribution_PriceCurr] AS [Historic_Distribution_PriceCurr], 
        [Extent1].[Forecast_Distribution_Yr1_PriceCurr] AS [Forecast_Distribution_Yr1_PriceCurr], 
        [Extent1].[Forecast_Distribution_Yr2_PriceCurr] AS [Forecast_Distribution_Yr2_PriceCurr], 
        [Extent1].[Forecast_Distribution_Yr3_PriceCurr] AS [Forecast_Distribution_Yr3_PriceCurr], 
        [Extent1].[Rolling_12M_Forecast_Distribution_PriceCurr] AS [Rolling_12M_Forecast_Distribution_PriceCurr], 
        [Extent1].[Rolling_12_24M_Forecast_Distribution_PriceCurr] AS [Rolling_12_24M_Forecast_Distribution_PriceCurr], 
        [Extent1].[Rolling_24_36M_Forecast_Distribution_PriceCurr] AS [Rolling_24_36M_Forecast_Distribution_PriceCurr], 
        [Extent1].[Distribution_Growth_Forecast_Yr4] AS [Distribution_Growth_Forecast_Yr4], 
        [Extent1].[Earnings_Forecast_Yr4] AS [Earnings_Forecast_Yr4], 
        [Extent1].[Forecast_Distribution_Yr4] AS [Forecast_Distribution_Yr4], 
        [Extent1].[Forecast_Distribution_Yr4_PriceCurr] AS [Forecast_Distribution_Yr4_PriceCurr], 
        [Extent2].[Security_ID] AS [Security_ID1], 
        [Extent2].[Entity_ID] AS [Entity_ID1], 
        [Extent2].[Security_Name] AS [Security_Name], 
        [Extent2].[Short_Name] AS [Short_Name], 
        [Extent2].[Primary_Exch] AS [Primary_Exch], 
        [Extent2].[Secondary_Exch] AS [Secondary_Exch], 
        [Extent2].[Country_Of_Domicile] AS [Country_Of_Domicile], 
        [Extent2].[Country_Of_Risk] AS [Country_Of_Risk], 
        [Extent2].[Security_Type_Code] AS [Security_Type_Code], 
        [Extent2].[Price_Multiplier] AS [Price_Multiplier], 
        [Extent2].[Income_Frequency] AS [Income_Frequency], 
        [Extent2].[Issuer_Code] AS [Issuer_Code], 
        [Extent2].[Ultimate_Issuer_Code] AS [Ultimate_Issuer_Code], 
        [Extent2].[Asset_Currency] AS [Asset_Currency], 
        [Extent2].[Min_Lot_Size] AS [Min_Lot_Size], 
        [Extent2].[Decimal_Precision] AS [Decimal_Precision], 
        [Extent2].[AvePrice_Rounding] AS [AvePrice_Rounding], 
        [Extent2].[Issue_Date] AS [Issue_Date], 
        [Extent2].[Maturity_Date] AS [Maturity_Date], 
        [Extent2].[Coupon_Rate] AS [Coupon_Rate], 
        [Extent2].[Price_Exchange] AS [Price_Exchange], 
        [Extent2].[Trade_Currency] AS [Trade_Currency], 
        [Extent2].[Price_Curr] AS [Price_Curr], 
        [Extent2].[Currency_Pair_Code] AS [Currency_Pair_Code], 
        [Extent2].[Share_Class] AS [Share_Class], 
        [Extent2].[Current_Market_Price] AS [Current_Market_Price], 
        [Extent2].[Index_Type] AS [Index_Type], 
        [Extent2].[Clean_Price_Formula] AS [Clean_Price_Formula], 
        [Extent2].[Accrued_Income_Price_Formula] AS [Accrued_Income_Price_Formula], 
        [Extent2].[Odd_First_Coupon_Date] AS [Odd_First_Coupon_Date], 
        [Extent2].[Odd_Last_Coupon_Date] AS [Odd_Last_Coupon_Date], 
        [Extent2].[Coupon_Anniversary_Indicator] AS [Coupon_Anniversary_Indicator], 
        [Extent2].[Track_EOM_Flag] AS [Track_EOM_Flag], 
        [Extent2].[Next_Coupon_Date] AS [Next_Coupon_Date], 
        [Extent2].[Previous_Coupon_Date] AS [Previous_Coupon_Date], 
        [Extent2].[Payment_Frequency] AS [Payment_Frequency], 
        [Extent2].[Coupon_BusDay_Adjustment] AS [Coupon_BusDay_Adjustment], 
        [Extent2].[Next_Ex_Div_Date] AS [Next_Ex_Div_Date], 
        [Extent2].[Ex_Div_BusDay_Adjustment] AS [Ex_Div_BusDay_Adjustment], 
        [Extent2].[Ex_Div_Period] AS [Ex_Div_Period], 
        [Extent2].[Ticker] AS [Ticker], 
        [Extent2].[Inet_ID] AS [Inet_ID], 
        [Extent2].[Bloomberg_ID] AS [Bloomberg_ID], 
        [Extent2].[External_Sec_ID] AS [External_Sec_ID], 
        [Extent2].[Reuters_ID] AS [Reuters_ID], 
        [Extent2].[ISIN] AS [ISIN], 
        [Extent2].[Call_Account_Flag] AS [Call_Account_Flag], 
        [Extent2].[System_Locked] AS [System_Locked], 
        [Extent2].[Last_Update_User] AS [Last_Update_User1], 
        [Extent2].[Last_Update_Date] AS [Last_Update_Date1], 
        [Extent2].[Security_Status] AS [Security_Status], 
        [Extent2].[Benchmark_Portfolio] AS [Benchmark_Portfolio], 
        [Extent2].[Active_flag] AS [Active_flag], 
        [Extent2].[Dividend_FX_Security_ID] AS [Dividend_FX_Security_ID]
        FROM  [dbo].[Security_Analytics_History] AS [Extent1]
        INNER JOIN [dbo].[Security_Detail] AS [Extent2] ON [Extent1].[Security_ID] = [Extent2].[Security_ID]
        WHERE [Extent1].[Security_ID] = @p__linq__0
    )  AS [Project1]
    ORDER BY [Project1].[Record_Date] DESC
2018-04-07 12:34:17.7571|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: SELECT 
    [Project1].[Decimal_Precision] AS [Decimal_Precision], 
    [Project1].[Entity_ID] AS [Entity_ID], 
    [Project1].[Security_ID] AS [Security_ID], 
    [Project1].[Issued_Amount] AS [Issued_Amount], 
    [Project1].[Market_Capitalisation] AS [Market_Capitalisation], 
    [Project1].[Risk_Premium] AS [Risk_Premium], 
    [Project1].[Exit_Price] AS [Exit_Price], 
    [Project1].[Total_Return_ME_1YR] AS [Total_Return_ME_1YR], 
    [Project1].[Total_Return_ME_2YR] AS [Total_Return_ME_2YR], 
    [Project1].[Total_Return_ME_3YR] AS [Total_Return_ME_3YR], 
    [Project1].[Historic_Distribution] AS [Historic_Distribution], 
    [Project1].[Distribution_Growth_Forecast_Yr1] AS [Distribution_Growth_Forecast_Yr1], 
    [Project1].[Distribution_Growth_Forecast_Yr2] AS [Distribution_Growth_Forecast_Yr2], 
    [Project1].[Distribution_Growth_Forecast_Yr3] AS [Distribution_Growth_Forecast_Yr3], 
    [Project1].[Forecast_Distribution_Yr1] AS [Forecast_Distribution_Yr1], 
    [Project1].[Forecast_Distribution_Yr2] AS [Forecast_Distribution_Yr2], 
    [Project1].[Forecast_Distribution_Yr3] AS [Forecast_Distribution_Yr3], 
    [Project1].[Earnings_Growth_Compounded] AS [Earnings_Growth_Compounded], 
    [Project1].[Earnings_Forecast_Yr3] AS [Earnings_Forecast_Yr3], 
    [Project1].[Historic_Dividend_Yield_FYE] AS [Historic_Dividend_Yield_FYE], 
    [Project1].[Forward_Dividend_Yield_FYE] AS [Forward_Dividend_Yield_FYE], 
    [Project1].[Yr3_Forward_Dividend_Yield] AS [Yr3_Forward_Dividend_Yield], 
    [Project1].[Rolling_12M_Forward_Yield] AS [Rolling_12M_Forward_Yield], 
    [Project1].[Historical_Earnings_FYE] AS [Historical_Earnings_FYE], 
    [Project1].[Earnings_Forecast_Yr1] AS [Earnings_Forecast_Yr1], 
    [Project1].[Earnings_Forecast_Yr2] AS [Earnings_Forecast_Yr2], 
    [Project1].[Historic_Dividend_Yield_Relative] AS [Historic_Dividend_Yield_Relative], 
    [Project1].[Rolling_12M_Historic_Distribution_PriceCurr] AS [Rolling_12M_Historic_Distribution_PriceCurr], 
    [Project1].[Short_Term_Market_Rerate] AS [Short_Term_Market_Rerate], 
    [Project1].[Forecast_12M_Total_Return] AS [Forecast_12M_Total_Return], 
    [Project1].[Clean_Price] AS [Clean_Price], 
    [Project1].[Rolling_Dividend_Yield_Historic] AS [Rolling_Dividend_Yield_Historic], 
    [Project1].[Last_Update_Date] AS [Last_Update_Date], 
    [Project1].[Last_Update_User] AS [Last_Update_User], 
    [Project1].[Discount_Security_ID] AS [Discount_Security_ID], 
    [Project1].[Net_Present_Value] AS [Net_Present_Value], 
    [Project1].[Forecast_Rolling_Custom_Income] AS [Forecast_Rolling_Custom_Income], 
    [Project1].[Custom_Period] AS [Custom_Period], 
    [Project1].[Rolling_12M_Historic_Distribution] AS [Rolling_12M_Historic_Distribution], 
    [Project1].[Record_Date] AS [Record_Date], 
    [Project1].[Session_ID] AS [Session_ID], 
    [Project1].[Hist_Last_Update_Date] AS [Hist_Last_Update_Date], 
    [Project1].[Hist_Last_Update_User] AS [Hist_Last_Update_User], 
    [Project1].[Rolling_12M_Forecast_Distribution] AS [Rolling_12M_Forecast_Distribution], 
    [Project1].[Yr2_Forward_Dividend_Yield] AS [Yr2_Forward_Dividend_Yield], 
    [Project1].[Exit_Yield] AS [Exit_Yield], 
    [Project1].[Discount_Rate] AS [Discount_Rate], 
    [Project1].[Distribution_Growth_Compounded] AS [Distribution_Growth_Compounded], 
    [Project1].[Forecast_12MRolling_Income_Accrual] AS [Forecast_12MRolling_Income_Accrual], 
    [Project1].[Rolling_12_to_24M_Forecast_Distribution] AS [Rolling_12_to_24M_Forecast_Distribution], 
    [Project1].[Rolling_24_to_36M_Forecast_Distribution] AS [Rolling_24_to_36M_Forecast_Distribution], 
    [Project1].[Forecast_Yr1_Dividend_Yield_Relative] AS [Forecast_Yr1_Dividend_Yield_Relative], 
    [Project1].[Market_Historic_Yield] AS [Market_Historic_Yield], 
    [Project1].[Market_Forward_Yield] AS [Market_Forward_Yield], 
    [Project1].[Historic_Distribution_PriceCurr] AS [Historic_Distribution_PriceCurr], 
    [Project1].[Forecast_Distribution_Yr1_PriceCurr] AS [Forecast_Distribution_Yr1_PriceCurr], 
    [Project1].[Forecast_Distribution_Yr2_PriceCurr] AS [Forecast_Distribution_Yr2_PriceCurr], 
    [Project1].[Forecast_Distribution_Yr3_PriceCurr] AS [Forecast_Distribution_Yr3_PriceCurr], 
    [Project1].[Rolling_12M_Forecast_Distribution_PriceCurr] AS [Rolling_12M_Forecast_Distribution_PriceCurr], 
    [Project1].[Rolling_12_24M_Forecast_Distribution_PriceCurr] AS [Rolling_12_24M_Forecast_Distribution_PriceCurr], 
    [Project1].[Rolling_24_36M_Forecast_Distribution_PriceCurr] AS [Rolling_24_36M_Forecast_Distribution_PriceCurr], 
    [Project1].[Distribution_Growth_Forecast_Yr4] AS [Distribution_Growth_Forecast_Yr4], 
    [Project1].[Earnings_Forecast_Yr4] AS [Earnings_Forecast_Yr4], 
    [Project1].[Forecast_Distribution_Yr4] AS [Forecast_Distribution_Yr4], 
    [Project1].[Forecast_Distribution_Yr4_PriceCurr] AS [Forecast_Distribution_Yr4_PriceCurr], 
    [Project1].[Security_ID1] AS [Security_ID1], 
    [Project1].[Entity_ID1] AS [Entity_ID1], 
    [Project1].[Security_Name] AS [Security_Name], 
    [Project1].[Short_Name] AS [Short_Name], 
    [Project1].[Primary_Exch] AS [Primary_Exch], 
    [Project1].[Secondary_Exch] AS [Secondary_Exch], 
    [Project1].[Country_Of_Domicile] AS [Country_Of_Domicile], 
    [Project1].[Country_Of_Risk] AS [Country_Of_Risk], 
    [Project1].[Security_Type_Code] AS [Security_Type_Code], 
    [Project1].[Price_Multiplier] AS [Price_Multiplier], 
    [Project1].[Income_Frequency] AS [Income_Frequency], 
    [Project1].[Issuer_Code] AS [Issuer_Code], 
    [Project1].[Ultimate_Issuer_Code] AS [Ultimate_Issuer_Code], 
    [Project1].[Asset_Currency] AS [Asset_Currency], 
    [Project1].[Min_Lot_Size] AS [Min_Lot_Size], 
    [Project1].[AvePrice_Rounding] AS [AvePrice_Rounding], 
    [Project1].[Issue_Date] AS [Issue_Date], 
    [Project1].[Maturity_Date] AS [Maturity_Date], 
    [Project1].[Coupon_Rate] AS [Coupon_Rate], 
    [Project1].[Price_Exchange] AS [Price_Exchange], 
    [Project1].[Trade_Currency] AS [Trade_Currency], 
    [Project1].[Price_Curr] AS [Price_Curr], 
    [Project1].[Currency_Pair_Code] AS [Currency_Pair_Code], 
    [Project1].[Share_Class] AS [Share_Class], 
    [Project1].[Current_Market_Price] AS [Current_Market_Price], 
    [Project1].[Index_Type] AS [Index_Type], 
    [Project1].[Clean_Price_Formula] AS [Clean_Price_Formula], 
    [Project1].[Accrued_Income_Price_Formula] AS [Accrued_Income_Price_Formula], 
    [Project1].[Odd_First_Coupon_Date] AS [Odd_First_Coupon_Date], 
    [Project1].[Odd_Last_Coupon_Date] AS [Odd_Last_Coupon_Date], 
    [Project1].[Coupon_Anniversary_Indicator] AS [Coupon_Anniversary_Indicator], 
    [Project1].[Track_EOM_Flag] AS [Track_EOM_Flag], 
    [Project1].[Next_Coupon_Date] AS [Next_Coupon_Date], 
    [Project1].[Previous_Coupon_Date] AS [Previous_Coupon_Date], 
    [Project1].[Payment_Frequency] AS [Payment_Frequency], 
    [Project1].[Coupon_BusDay_Adjustment] AS [Coupon_BusDay_Adjustment], 
    [Project1].[Next_Ex_Div_Date] AS [Next_Ex_Div_Date], 
    [Project1].[Ex_Div_BusDay_Adjustment] AS [Ex_Div_BusDay_Adjustment], 
    [Project1].[Ex_Div_Period] AS [Ex_Div_Period], 
    [Project1].[Ticker] AS [Ticker], 
    [Project1].[Inet_ID] AS [Inet_ID], 
    [Project1].[Bloomberg_ID] AS [Bloomberg_ID], 
    [Project1].[External_Sec_ID] AS [External_Sec_ID], 
    [Project1].[Reuters_ID] AS [Reuters_ID], 
    [Project1].[ISIN] AS [ISIN], 
    [Project1].[Call_Account_Flag] AS [Call_Account_Flag], 
    [Project1].[System_Locked] AS [System_Locked], 
    [Project1].[Last_Update_User1] AS [Last_Update_User1], 
    [Project1].[Last_Update_Date1] AS [Last_Update_Date1], 
    [Project1].[Security_Status] AS [Security_Status], 
    [Project1].[Benchmark_Portfolio] AS [Benchmark_Portfolio], 
    [Project1].[Active_flag] AS [Active_flag], 
    [Project1].[Dividend_FX_Security_ID] AS [Dividend_FX_Security_ID]
    FROM ( SELECT 
        [Extent1].[Entity_ID] AS [Entity_ID], 
        [Extent1].[Security_ID] AS [Security_ID], 
        [Extent1].[Issued_Amount] AS [Issued_Amount], 
        [Extent1].[Market_Capitalisation] AS [Market_Capitalisation], 
        [Extent1].[Risk_Premium] AS [Risk_Premium], 
        [Extent1].[Exit_Price] AS [Exit_Price], 
        [Extent1].[Total_Return_ME_1YR] AS [Total_Return_ME_1YR], 
        [Extent1].[Total_Return_ME_2YR] AS [Total_Return_ME_2YR], 
        [Extent1].[Total_Return_ME_3YR] AS [Total_Return_ME_3YR], 
        [Extent1].[Historic_Distribution] AS [Historic_Distribution], 
        [Extent1].[Distribution_Growth_Forecast_Yr1] AS [Distribution_Growth_Forecast_Yr1], 
        [Extent1].[Distribution_Growth_Forecast_Yr2] AS [Distribution_Growth_Forecast_Yr2], 
        [Extent1].[Distribution_Growth_Forecast_Yr3] AS [Distribution_Growth_Forecast_Yr3], 
        [Extent1].[Forecast_Distribution_Yr1] AS [Forecast_Distribution_Yr1], 
        [Extent1].[Forecast_Distribution_Yr2] AS [Forecast_Distribution_Yr2], 
        [Extent1].[Forecast_Distribution_Yr3] AS [Forecast_Distribution_Yr3], 
        [Extent1].[Earnings_Growth_Compounded] AS [Earnings_Growth_Compounded], 
        [Extent1].[Earnings_Forecast_Yr3] AS [Earnings_Forecast_Yr3], 
        [Extent1].[Historic_Dividend_Yield_FYE] AS [Historic_Dividend_Yield_FYE], 
        [Extent1].[Forward_Dividend_Yield_FYE] AS [Forward_Dividend_Yield_FYE], 
        [Extent1].[Yr3_Forward_Dividend_Yield] AS [Yr3_Forward_Dividend_Yield], 
        [Extent1].[Rolling_12M_Forward_Yield] AS [Rolling_12M_Forward_Yield], 
        [Extent1].[Historical_Earnings_FYE] AS [Historical_Earnings_FYE], 
        [Extent1].[Earnings_Forecast_Yr1] AS [Earnings_Forecast_Yr1], 
        [Extent1].[Earnings_Forecast_Yr2] AS [Earnings_Forecast_Yr2], 
        [Extent1].[Historic_Dividend_Yield_Relative] AS [Historic_Dividend_Yield_Relative], 
        [Extent1].[Rolling_12M_Historic_Distribution_PriceCurr] AS [Rolling_12M_Historic_Distribution_PriceCurr], 
        [Extent1].[Short_Term_Market_Rerate] AS [Short_Term_Market_Rerate], 
        [Extent1].[Forecast_12M_Total_Return] AS [Forecast_12M_Total_Return], 
        [Extent1].[Clean_Price] AS [Clean_Price], 
        [Extent1].[Rolling_Dividend_Yield_Historic] AS [Rolling_Dividend_Yield_Historic], 
        [Extent1].[Last_Update_Date] AS [Last_Update_Date], 
        [Extent1].[Last_Update_User] AS [Last_Update_User], 
        [Extent1].[Discount_Security_ID] AS [Discount_Security_ID], 
        [Extent1].[Net_Present_Value] AS [Net_Present_Value], 
        [Extent1].[Forecast_Rolling_Custom_Income] AS [Forecast_Rolling_Custom_Income], 
        [Extent1].[Custom_Period] AS [Custom_Period], 
        [Extent1].[Rolling_12M_Historic_Distribution] AS [Rolling_12M_Historic_Distribution], 
        [Extent1].[Record_Date] AS [Record_Date], 
        [Extent1].[Session_ID] AS [Session_ID], 
        [Extent1].[Hist_Last_Update_Date] AS [Hist_Last_Update_Date], 
        [Extent1].[Hist_Last_Update_User] AS [Hist_Last_Update_User], 
        [Extent1].[Rolling_12M_Forecast_Distribution] AS [Rolling_12M_Forecast_Distribution], 
        [Extent1].[Yr2_Forward_Dividend_Yield] AS [Yr2_Forward_Dividend_Yield], 
        [Extent1].[Exit_Yield] AS [Exit_Yield], 
        [Extent1].[Discount_Rate] AS [Discount_Rate], 
        [Extent1].[Distribution_Growth_Compounded] AS [Distribution_Growth_Compounded], 
        [Extent1].[Forecast_12MRolling_Income_Accrual] AS [Forecast_12MRolling_Income_Accrual], 
        [Extent1].[Rolling_12_to_24M_Forecast_Distribution] AS [Rolling_12_to_24M_Forecast_Distribution], 
        [Extent1].[Rolling_24_to_36M_Forecast_Distribution] AS [Rolling_24_to_36M_Forecast_Distribution], 
        [Extent1].[Forecast_Yr1_Dividend_Yield_Relative] AS [Forecast_Yr1_Dividend_Yield_Relative], 
        [Extent1].[Market_Historic_Yield] AS [Market_Historic_Yield], 
        [Extent1].[Market_Forward_Yield] AS [Market_Forward_Yield], 
        [Extent1].[Historic_Distribution_PriceCurr] AS [Historic_Distribution_PriceCurr], 
        [Extent1].[Forecast_Distribution_Yr1_PriceCurr] AS [Forecast_Distribution_Yr1_PriceCurr], 
        [Extent1].[Forecast_Distribution_Yr2_PriceCurr] AS [Forecast_Distribution_Yr2_PriceCurr], 
        [Extent1].[Forecast_Distribution_Yr3_PriceCurr] AS [Forecast_Distribution_Yr3_PriceCurr], 
        [Extent1].[Rolling_12M_Forecast_Distribution_PriceCurr] AS [Rolling_12M_Forecast_Distribution_PriceCurr], 
        [Extent1].[Rolling_12_24M_Forecast_Distribution_PriceCurr] AS [Rolling_12_24M_Forecast_Distribution_PriceCurr], 
        [Extent1].[Rolling_24_36M_Forecast_Distribution_PriceCurr] AS [Rolling_24_36M_Forecast_Distribution_PriceCurr], 
        [Extent1].[Distribution_Growth_Forecast_Yr4] AS [Distribution_Growth_Forecast_Yr4], 
        [Extent1].[Earnings_Forecast_Yr4] AS [Earnings_Forecast_Yr4], 
        [Extent1].[Forecast_Distribution_Yr4] AS [Forecast_Distribution_Yr4], 
        [Extent1].[Forecast_Distribution_Yr4_PriceCurr] AS [Forecast_Distribution_Yr4_PriceCurr], 
        [Extent2].[Security_ID] AS [Security_ID1], 
        [Extent2].[Entity_ID] AS [Entity_ID1], 
        [Extent2].[Security_Name] AS [Security_Name], 
        [Extent2].[Short_Name] AS [Short_Name], 
        [Extent2].[Primary_Exch] AS [Primary_Exch], 
        [Extent2].[Secondary_Exch] AS [Secondary_Exch], 
        [Extent2].[Country_Of_Domicile] AS [Country_Of_Domicile], 
        [Extent2].[Country_Of_Risk] AS [Country_Of_Risk], 
        [Extent2].[Security_Type_Code] AS [Security_Type_Code], 
        [Extent2].[Price_Multiplier] AS [Price_Multiplier], 
        [Extent2].[Income_Frequency] AS [Income_Frequency], 
        [Extent2].[Issuer_Code] AS [Issuer_Code], 
        [Extent2].[Ultimate_Issuer_Code] AS [Ultimate_Issuer_Code], 
        [Extent2].[Asset_Currency] AS [Asset_Currency], 
        [Extent2].[Min_Lot_Size] AS [Min_Lot_Size], 
        [Extent2].[Decimal_Precision] AS [Decimal_Precision], 
        [Extent2].[AvePrice_Rounding] AS [AvePrice_Rounding], 
        [Extent2].[Issue_Date] AS [Issue_Date], 
        [Extent2].[Maturity_Date] AS [Maturity_Date], 
        [Extent2].[Coupon_Rate] AS [Coupon_Rate], 
        [Extent2].[Price_Exchange] AS [Price_Exchange], 
        [Extent2].[Trade_Currency] AS [Trade_Currency], 
        [Extent2].[Price_Curr] AS [Price_Curr], 
        [Extent2].[Currency_Pair_Code] AS [Currency_Pair_Code], 
        [Extent2].[Share_Class] AS [Share_Class], 
        [Extent2].[Current_Market_Price] AS [Current_Market_Price], 
        [Extent2].[Index_Type] AS [Index_Type], 
        [Extent2].[Clean_Price_Formula] AS [Clean_Price_Formula], 
        [Extent2].[Accrued_Income_Price_Formula] AS [Accrued_Income_Price_Formula], 
        [Extent2].[Odd_First_Coupon_Date] AS [Odd_First_Coupon_Date], 
        [Extent2].[Odd_Last_Coupon_Date] AS [Odd_Last_Coupon_Date], 
        [Extent2].[Coupon_Anniversary_Indicator] AS [Coupon_Anniversary_Indicator], 
        [Extent2].[Track_EOM_Flag] AS [Track_EOM_Flag], 
        [Extent2].[Next_Coupon_Date] AS [Next_Coupon_Date], 
        [Extent2].[Previous_Coupon_Date] AS [Previous_Coupon_Date], 
        [Extent2].[Payment_Frequency] AS [Payment_Frequency], 
        [Extent2].[Coupon_BusDay_Adjustment] AS [Coupon_BusDay_Adjustment], 
        [Extent2].[Next_Ex_Div_Date] AS [Next_Ex_Div_Date], 
        [Extent2].[Ex_Div_BusDay_Adjustment] AS [Ex_Div_BusDay_Adjustment], 
        [Extent2].[Ex_Div_Period] AS [Ex_Div_Period], 
        [Extent2].[Ticker] AS [Ticker], 
        [Extent2].[Inet_ID] AS [Inet_ID], 
        [Extent2].[Bloomberg_ID] AS [Bloomberg_ID], 
        [Extent2].[External_Sec_ID] AS [External_Sec_ID], 
        [Extent2].[Reuters_ID] AS [Reuters_ID], 
        [Extent2].[ISIN] AS [ISIN], 
        [Extent2].[Call_Account_Flag] AS [Call_Account_Flag], 
        [Extent2].[System_Locked] AS [System_Locked], 
        [Extent2].[Last_Update_User] AS [Last_Update_User1], 
        [Extent2].[Last_Update_Date] AS [Last_Update_Date1], 
        [Extent2].[Security_Status] AS [Security_Status], 
        [Extent2].[Benchmark_Portfolio] AS [Benchmark_Portfolio], 
        [Extent2].[Active_flag] AS [Active_flag], 
        [Extent2].[Dividend_FX_Security_ID] AS [Dividend_FX_Security_ID]
        FROM  [dbo].[Security_Analytics_History] AS [Extent1]
        INNER JOIN [dbo].[Security_Detail] AS [Extent2] ON [Extent1].[Security_ID] = [Extent2].[Security_ID]
        WHERE [Extent1].[Security_ID] = @p__linq__0
    )  AS [Project1]
    ORDER BY [Project1].[Record_Date] DESC
2018-04-07 12:34:17.8062|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: IF db_id(N'MetopeAzureDb') IS NOT NULL SELECT 1 ELSE SELECT Count(*) FROM sys.databases WHERE [name]=N'MetopeAzureDb'
2018-04-07 12:34:17.8247|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: IF db_id(N'MetopeAzureDb') IS NOT NULL SELECT 1 ELSE SELECT Count(*) FROM sys.databases WHERE [name]=N'MetopeAzureDb'
2018-04-07 12:34:17.8487|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: IF db_id(N'MetopeAzureDb') IS NOT NULL SELECT 1 ELSE SELECT Count(*) FROM sys.databases WHERE [name]=N'MetopeAzureDb'
2018-04-07 12:34:17.8677|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: IF db_id(N'MetopeAzureDb') IS NOT NULL SELECT 1 ELSE SELECT Count(*) FROM sys.databases WHERE [name]=N'MetopeAzureDb'
2018-04-07 12:34:21.0085|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: SELECT 
    [Extent1].[Entity_ID] AS [Entity_ID], 
    [Extent1].[Security_ID] AS [Security_ID], 
    [Extent1].[Issued_Amount] AS [Issued_Amount], 
    [Extent1].[Market_Capitalisation] AS [Market_Capitalisation], 
    [Extent1].[Risk_Premium] AS [Risk_Premium], 
    [Extent1].[Exit_Price] AS [Exit_Price], 
    [Extent1].[Total_Return_ME_1YR] AS [Total_Return_ME_1YR], 
    [Extent1].[Total_Return_ME_2YR] AS [Total_Return_ME_2YR], 
    [Extent1].[Total_Return_ME_3YR] AS [Total_Return_ME_3YR], 
    [Extent1].[Historic_Distribution] AS [Historic_Distribution], 
    [Extent1].[Distribution_Growth_Forecast_Yr1] AS [Distribution_Growth_Forecast_Yr1], 
    [Extent1].[Distribution_Growth_Forecast_Yr2] AS [Distribution_Growth_Forecast_Yr2], 
    [Extent1].[Distribution_Growth_Forecast_Yr3] AS [Distribution_Growth_Forecast_Yr3], 
    [Extent1].[Forecast_Distribution_Yr1] AS [Forecast_Distribution_Yr1], 
    [Extent1].[Forecast_Distribution_Yr2] AS [Forecast_Distribution_Yr2], 
    [Extent1].[Forecast_Distribution_Yr3] AS [Forecast_Distribution_Yr3], 
    [Extent1].[Earnings_Growth_Compounded] AS [Earnings_Growth_Compounded], 
    [Extent1].[Earnings_Forecast_Yr3] AS [Earnings_Forecast_Yr3], 
    [Extent1].[Historic_Dividend_Yield_FYE] AS [Historic_Dividend_Yield_FYE], 
    [Extent1].[Forward_Dividend_Yield_FYE] AS [Forward_Dividend_Yield_FYE], 
    [Extent1].[Yr3_Forward_Dividend_Yield] AS [Yr3_Forward_Dividend_Yield], 
    [Extent1].[Rolling_12M_Forward_Yield] AS [Rolling_12M_Forward_Yield], 
    [Extent1].[Historical_Earnings_FYE] AS [Historical_Earnings_FYE], 
    [Extent1].[Earnings_Forecast_Yr1] AS [Earnings_Forecast_Yr1], 
    [Extent1].[Earnings_Forecast_Yr2] AS [Earnings_Forecast_Yr2], 
    [Extent1].[Historic_Dividend_Yield_Relative] AS [Historic_Dividend_Yield_Relative], 
    [Extent1].[Rolling_12M_Historic_Distribution_PriceCurr] AS [Rolling_12M_Historic_Distribution_PriceCurr], 
    [Extent1].[Short_Term_Market_Rerate] AS [Short_Term_Market_Rerate], 
    [Extent1].[Forecast_12M_Total_Return] AS [Forecast_12M_Total_Return], 
    [Extent1].[Clean_Price] AS [Clean_Price], 
    [Extent1].[Rolling_Dividend_Yield_Historic] AS [Rolling_Dividend_Yield_Historic], 
    [Extent1].[Last_Update_Date] AS [Last_Update_Date], 
    [Extent1].[Last_Update_User] AS [Last_Update_User], 
    [Extent1].[Discount_Security_ID] AS [Discount_Security_ID], 
    [Extent1].[Net_Present_Value] AS [Net_Present_Value], 
    [Extent1].[Forecast_Rolling_Custom_Income] AS [Forecast_Rolling_Custom_Income], 
    [Extent1].[Custom_Period] AS [Custom_Period], 
    [Extent1].[Rolling_12M_Historic_Distribution] AS [Rolling_12M_Historic_Distribution], 
    [Extent1].[Record_Date] AS [Record_Date], 
    [Extent1].[Session_ID] AS [Session_ID], 
    [Extent1].[Hist_Last_Update_Date] AS [Hist_Last_Update_Date], 
    [Extent1].[Hist_Last_Update_User] AS [Hist_Last_Update_User], 
    [Extent1].[Rolling_12M_Forecast_Distribution] AS [Rolling_12M_Forecast_Distribution], 
    [Extent1].[Yr2_Forward_Dividend_Yield] AS [Yr2_Forward_Dividend_Yield], 
    [Extent1].[Exit_Yield] AS [Exit_Yield], 
    [Extent1].[Discount_Rate] AS [Discount_Rate], 
    [Extent1].[Distribution_Growth_Compounded] AS [Distribution_Growth_Compounded], 
    [Extent1].[Forecast_12MRolling_Income_Accrual] AS [Forecast_12MRolling_Income_Accrual], 
    [Extent1].[Rolling_12_to_24M_Forecast_Distribution] AS [Rolling_12_to_24M_Forecast_Distribution], 
    [Extent1].[Rolling_24_to_36M_Forecast_Distribution] AS [Rolling_24_to_36M_Forecast_Distribution], 
    [Extent1].[Forecast_Yr1_Dividend_Yield_Relative] AS [Forecast_Yr1_Dividend_Yield_Relative], 
    [Extent1].[Market_Historic_Yield] AS [Market_Historic_Yield], 
    [Extent1].[Market_Forward_Yield] AS [Market_Forward_Yield], 
    [Extent1].[Historic_Distribution_PriceCurr] AS [Historic_Distribution_PriceCurr], 
    [Extent1].[Forecast_Distribution_Yr1_PriceCurr] AS [Forecast_Distribution_Yr1_PriceCurr], 
    [Extent1].[Forecast_Distribution_Yr2_PriceCurr] AS [Forecast_Distribution_Yr2_PriceCurr], 
    [Extent1].[Forecast_Distribution_Yr3_PriceCurr] AS [Forecast_Distribution_Yr3_PriceCurr], 
    [Extent1].[Rolling_12M_Forecast_Distribution_PriceCurr] AS [Rolling_12M_Forecast_Distribution_PriceCurr], 
    [Extent1].[Rolling_12_24M_Forecast_Distribution_PriceCurr] AS [Rolling_12_24M_Forecast_Distribution_PriceCurr], 
    [Extent1].[Rolling_24_36M_Forecast_Distribution_PriceCurr] AS [Rolling_24_36M_Forecast_Distribution_PriceCurr], 
    [Extent1].[Distribution_Growth_Forecast_Yr4] AS [Distribution_Growth_Forecast_Yr4], 
    [Extent1].[Earnings_Forecast_Yr4] AS [Earnings_Forecast_Yr4], 
    [Extent1].[Forecast_Distribution_Yr4] AS [Forecast_Distribution_Yr4], 
    [Extent1].[Forecast_Distribution_Yr4_PriceCurr] AS [Forecast_Distribution_Yr4_PriceCurr]
    FROM [dbo].[Security_Analytics_History] AS [Extent1]
    WHERE ([Extent1].[Security_ID] = @p__linq__0) AND ([Extent1].[Record_Date] = @p__linq__1) AND ([Extent1].[Entity_ID] = @p__linq__2)
2018-04-07 12:34:21.0446|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: SELECT 
    [Extent1].[Entity_ID] AS [Entity_ID], 
    [Extent1].[Security_ID] AS [Security_ID], 
    [Extent1].[Issued_Amount] AS [Issued_Amount], 
    [Extent1].[Market_Capitalisation] AS [Market_Capitalisation], 
    [Extent1].[Risk_Premium] AS [Risk_Premium], 
    [Extent1].[Exit_Price] AS [Exit_Price], 
    [Extent1].[Total_Return_ME_1YR] AS [Total_Return_ME_1YR], 
    [Extent1].[Total_Return_ME_2YR] AS [Total_Return_ME_2YR], 
    [Extent1].[Total_Return_ME_3YR] AS [Total_Return_ME_3YR], 
    [Extent1].[Historic_Distribution] AS [Historic_Distribution], 
    [Extent1].[Distribution_Growth_Forecast_Yr1] AS [Distribution_Growth_Forecast_Yr1], 
    [Extent1].[Distribution_Growth_Forecast_Yr2] AS [Distribution_Growth_Forecast_Yr2], 
    [Extent1].[Distribution_Growth_Forecast_Yr3] AS [Distribution_Growth_Forecast_Yr3], 
    [Extent1].[Forecast_Distribution_Yr1] AS [Forecast_Distribution_Yr1], 
    [Extent1].[Forecast_Distribution_Yr2] AS [Forecast_Distribution_Yr2], 
    [Extent1].[Forecast_Distribution_Yr3] AS [Forecast_Distribution_Yr3], 
    [Extent1].[Earnings_Growth_Compounded] AS [Earnings_Growth_Compounded], 
    [Extent1].[Earnings_Forecast_Yr3] AS [Earnings_Forecast_Yr3], 
    [Extent1].[Historic_Dividend_Yield_FYE] AS [Historic_Dividend_Yield_FYE], 
    [Extent1].[Forward_Dividend_Yield_FYE] AS [Forward_Dividend_Yield_FYE], 
    [Extent1].[Yr3_Forward_Dividend_Yield] AS [Yr3_Forward_Dividend_Yield], 
    [Extent1].[Rolling_12M_Forward_Yield] AS [Rolling_12M_Forward_Yield], 
    [Extent1].[Historical_Earnings_FYE] AS [Historical_Earnings_FYE], 
    [Extent1].[Earnings_Forecast_Yr1] AS [Earnings_Forecast_Yr1], 
    [Extent1].[Earnings_Forecast_Yr2] AS [Earnings_Forecast_Yr2], 
    [Extent1].[Historic_Dividend_Yield_Relative] AS [Historic_Dividend_Yield_Relative], 
    [Extent1].[Rolling_12M_Historic_Distribution_PriceCurr] AS [Rolling_12M_Historic_Distribution_PriceCurr], 
    [Extent1].[Short_Term_Market_Rerate] AS [Short_Term_Market_Rerate], 
    [Extent1].[Forecast_12M_Total_Return] AS [Forecast_12M_Total_Return], 
    [Extent1].[Clean_Price] AS [Clean_Price], 
    [Extent1].[Rolling_Dividend_Yield_Historic] AS [Rolling_Dividend_Yield_Historic], 
    [Extent1].[Last_Update_Date] AS [Last_Update_Date], 
    [Extent1].[Last_Update_User] AS [Last_Update_User], 
    [Extent1].[Discount_Security_ID] AS [Discount_Security_ID], 
    [Extent1].[Net_Present_Value] AS [Net_Present_Value], 
    [Extent1].[Forecast_Rolling_Custom_Income] AS [Forecast_Rolling_Custom_Income], 
    [Extent1].[Custom_Period] AS [Custom_Period], 
    [Extent1].[Rolling_12M_Historic_Distribution] AS [Rolling_12M_Historic_Distribution], 
    [Extent1].[Record_Date] AS [Record_Date], 
    [Extent1].[Session_ID] AS [Session_ID], 
    [Extent1].[Hist_Last_Update_Date] AS [Hist_Last_Update_Date], 
    [Extent1].[Hist_Last_Update_User] AS [Hist_Last_Update_User], 
    [Extent1].[Rolling_12M_Forecast_Distribution] AS [Rolling_12M_Forecast_Distribution], 
    [Extent1].[Yr2_Forward_Dividend_Yield] AS [Yr2_Forward_Dividend_Yield], 
    [Extent1].[Exit_Yield] AS [Exit_Yield], 
    [Extent1].[Discount_Rate] AS [Discount_Rate], 
    [Extent1].[Distribution_Growth_Compounded] AS [Distribution_Growth_Compounded], 
    [Extent1].[Forecast_12MRolling_Income_Accrual] AS [Forecast_12MRolling_Income_Accrual], 
    [Extent1].[Rolling_12_to_24M_Forecast_Distribution] AS [Rolling_12_to_24M_Forecast_Distribution], 
    [Extent1].[Rolling_24_to_36M_Forecast_Distribution] AS [Rolling_24_to_36M_Forecast_Distribution], 
    [Extent1].[Forecast_Yr1_Dividend_Yield_Relative] AS [Forecast_Yr1_Dividend_Yield_Relative], 
    [Extent1].[Market_Historic_Yield] AS [Market_Historic_Yield], 
    [Extent1].[Market_Forward_Yield] AS [Market_Forward_Yield], 
    [Extent1].[Historic_Distribution_PriceCurr] AS [Historic_Distribution_PriceCurr], 
    [Extent1].[Forecast_Distribution_Yr1_PriceCurr] AS [Forecast_Distribution_Yr1_PriceCurr], 
    [Extent1].[Forecast_Distribution_Yr2_PriceCurr] AS [Forecast_Distribution_Yr2_PriceCurr], 
    [Extent1].[Forecast_Distribution_Yr3_PriceCurr] AS [Forecast_Distribution_Yr3_PriceCurr], 
    [Extent1].[Rolling_12M_Forecast_Distribution_PriceCurr] AS [Rolling_12M_Forecast_Distribution_PriceCurr], 
    [Extent1].[Rolling_12_24M_Forecast_Distribution_PriceCurr] AS [Rolling_12_24M_Forecast_Distribution_PriceCurr], 
    [Extent1].[Rolling_24_36M_Forecast_Distribution_PriceCurr] AS [Rolling_24_36M_Forecast_Distribution_PriceCurr], 
    [Extent1].[Distribution_Growth_Forecast_Yr4] AS [Distribution_Growth_Forecast_Yr4], 
    [Extent1].[Earnings_Forecast_Yr4] AS [Earnings_Forecast_Yr4], 
    [Extent1].[Forecast_Distribution_Yr4] AS [Forecast_Distribution_Yr4], 
    [Extent1].[Forecast_Distribution_Yr4_PriceCurr] AS [Forecast_Distribution_Yr4_PriceCurr]
    FROM [dbo].[Security_Analytics_History] AS [Extent1]
    WHERE ([Extent1].[Security_ID] = @p__linq__0) AND ([Extent1].[Record_Date] = @p__linq__1) AND ([Extent1].[Entity_ID] = @p__linq__2)
2018-04-07 12:34:21.1116|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: SELECT 
    [Extent1].[Security_ID] AS [Security_ID], 
    [Extent1].[Entity_ID] AS [Entity_ID], 
    [Extent1].[Security_Name] AS [Security_Name], 
    [Extent1].[Short_Name] AS [Short_Name], 
    [Extent1].[Primary_Exch] AS [Primary_Exch], 
    [Extent1].[Secondary_Exch] AS [Secondary_Exch], 
    [Extent1].[Country_Of_Domicile] AS [Country_Of_Domicile], 
    [Extent1].[Country_Of_Risk] AS [Country_Of_Risk], 
    [Extent1].[Security_Type_Code] AS [Security_Type_Code], 
    [Extent1].[Price_Multiplier] AS [Price_Multiplier], 
    [Extent1].[Income_Frequency] AS [Income_Frequency], 
    [Extent1].[Issuer_Code] AS [Issuer_Code], 
    [Extent1].[Ultimate_Issuer_Code] AS [Ultimate_Issuer_Code], 
    [Extent1].[Asset_Currency] AS [Asset_Currency], 
    [Extent1].[Min_Lot_Size] AS [Min_Lot_Size], 
    [Extent1].[Decimal_Precision] AS [Decimal_Precision], 
    [Extent1].[AvePrice_Rounding] AS [AvePrice_Rounding], 
    [Extent1].[Issue_Date] AS [Issue_Date], 
    [Extent1].[Maturity_Date] AS [Maturity_Date], 
    [Extent1].[Coupon_Rate] AS [Coupon_Rate], 
    [Extent1].[Price_Exchange] AS [Price_Exchange], 
    [Extent1].[Trade_Currency] AS [Trade_Currency], 
    [Extent1].[Price_Curr] AS [Price_Curr], 
    [Extent1].[Currency_Pair_Code] AS [Currency_Pair_Code], 
    [Extent1].[Share_Class] AS [Share_Class], 
    [Extent1].[Current_Market_Price] AS [Current_Market_Price], 
    [Extent1].[Index_Type] AS [Index_Type], 
    [Extent1].[Clean_Price_Formula] AS [Clean_Price_Formula], 
    [Extent1].[Accrued_Income_Price_Formula] AS [Accrued_Income_Price_Formula], 
    [Extent1].[Odd_First_Coupon_Date] AS [Odd_First_Coupon_Date], 
    [Extent1].[Odd_Last_Coupon_Date] AS [Odd_Last_Coupon_Date], 
    [Extent1].[Coupon_Anniversary_Indicator] AS [Coupon_Anniversary_Indicator], 
    [Extent1].[Track_EOM_Flag] AS [Track_EOM_Flag], 
    [Extent1].[Next_Coupon_Date] AS [Next_Coupon_Date], 
    [Extent1].[Previous_Coupon_Date] AS [Previous_Coupon_Date], 
    [Extent1].[Payment_Frequency] AS [Payment_Frequency], 
    [Extent1].[Coupon_BusDay_Adjustment] AS [Coupon_BusDay_Adjustment], 
    [Extent1].[Next_Ex_Div_Date] AS [Next_Ex_Div_Date], 
    [Extent1].[Ex_Div_BusDay_Adjustment] AS [Ex_Div_BusDay_Adjustment], 
    [Extent1].[Ex_Div_Period] AS [Ex_Div_Period], 
    [Extent1].[Ticker] AS [Ticker], 
    [Extent1].[Inet_ID] AS [Inet_ID], 
    [Extent1].[Bloomberg_ID] AS [Bloomberg_ID], 
    [Extent1].[External_Sec_ID] AS [External_Sec_ID], 
    [Extent1].[Reuters_ID] AS [Reuters_ID], 
    [Extent1].[ISIN] AS [ISIN], 
    [Extent1].[Call_Account_Flag] AS [Call_Account_Flag], 
    [Extent1].[System_Locked] AS [System_Locked], 
    [Extent1].[Last_Update_User] AS [Last_Update_User], 
    [Extent1].[Last_Update_Date] AS [Last_Update_Date], 
    [Extent1].[Security_Status] AS [Security_Status], 
    [Extent1].[Benchmark_Portfolio] AS [Benchmark_Portfolio], 
    [Extent1].[Active_flag] AS [Active_flag], 
    [Extent1].[Dividend_FX_Security_ID] AS [Dividend_FX_Security_ID]
    FROM [dbo].[Security_Detail] AS [Extent1]
    WHERE [Extent1].[Security_ID] = @EntityKeyValue1
2018-04-07 12:34:21.1446|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: SELECT 
    [Extent1].[Security_ID] AS [Security_ID], 
    [Extent1].[Entity_ID] AS [Entity_ID], 
    [Extent1].[Security_Name] AS [Security_Name], 
    [Extent1].[Short_Name] AS [Short_Name], 
    [Extent1].[Primary_Exch] AS [Primary_Exch], 
    [Extent1].[Secondary_Exch] AS [Secondary_Exch], 
    [Extent1].[Country_Of_Domicile] AS [Country_Of_Domicile], 
    [Extent1].[Country_Of_Risk] AS [Country_Of_Risk], 
    [Extent1].[Security_Type_Code] AS [Security_Type_Code], 
    [Extent1].[Price_Multiplier] AS [Price_Multiplier], 
    [Extent1].[Income_Frequency] AS [Income_Frequency], 
    [Extent1].[Issuer_Code] AS [Issuer_Code], 
    [Extent1].[Ultimate_Issuer_Code] AS [Ultimate_Issuer_Code], 
    [Extent1].[Asset_Currency] AS [Asset_Currency], 
    [Extent1].[Min_Lot_Size] AS [Min_Lot_Size], 
    [Extent1].[Decimal_Precision] AS [Decimal_Precision], 
    [Extent1].[AvePrice_Rounding] AS [AvePrice_Rounding], 
    [Extent1].[Issue_Date] AS [Issue_Date], 
    [Extent1].[Maturity_Date] AS [Maturity_Date], 
    [Extent1].[Coupon_Rate] AS [Coupon_Rate], 
    [Extent1].[Price_Exchange] AS [Price_Exchange], 
    [Extent1].[Trade_Currency] AS [Trade_Currency], 
    [Extent1].[Price_Curr] AS [Price_Curr], 
    [Extent1].[Currency_Pair_Code] AS [Currency_Pair_Code], 
    [Extent1].[Share_Class] AS [Share_Class], 
    [Extent1].[Current_Market_Price] AS [Current_Market_Price], 
    [Extent1].[Index_Type] AS [Index_Type], 
    [Extent1].[Clean_Price_Formula] AS [Clean_Price_Formula], 
    [Extent1].[Accrued_Income_Price_Formula] AS [Accrued_Income_Price_Formula], 
    [Extent1].[Odd_First_Coupon_Date] AS [Odd_First_Coupon_Date], 
    [Extent1].[Odd_Last_Coupon_Date] AS [Odd_Last_Coupon_Date], 
    [Extent1].[Coupon_Anniversary_Indicator] AS [Coupon_Anniversary_Indicator], 
    [Extent1].[Track_EOM_Flag] AS [Track_EOM_Flag], 
    [Extent1].[Next_Coupon_Date] AS [Next_Coupon_Date], 
    [Extent1].[Previous_Coupon_Date] AS [Previous_Coupon_Date], 
    [Extent1].[Payment_Frequency] AS [Payment_Frequency], 
    [Extent1].[Coupon_BusDay_Adjustment] AS [Coupon_BusDay_Adjustment], 
    [Extent1].[Next_Ex_Div_Date] AS [Next_Ex_Div_Date], 
    [Extent1].[Ex_Div_BusDay_Adjustment] AS [Ex_Div_BusDay_Adjustment], 
    [Extent1].[Ex_Div_Period] AS [Ex_Div_Period], 
    [Extent1].[Ticker] AS [Ticker], 
    [Extent1].[Inet_ID] AS [Inet_ID], 
    [Extent1].[Bloomberg_ID] AS [Bloomberg_ID], 
    [Extent1].[External_Sec_ID] AS [External_Sec_ID], 
    [Extent1].[Reuters_ID] AS [Reuters_ID], 
    [Extent1].[ISIN] AS [ISIN], 
    [Extent1].[Call_Account_Flag] AS [Call_Account_Flag], 
    [Extent1].[System_Locked] AS [System_Locked], 
    [Extent1].[Last_Update_User] AS [Last_Update_User], 
    [Extent1].[Last_Update_Date] AS [Last_Update_Date], 
    [Extent1].[Security_Status] AS [Security_Status], 
    [Extent1].[Benchmark_Portfolio] AS [Benchmark_Portfolio], 
    [Extent1].[Active_flag] AS [Active_flag], 
    [Extent1].[Dividend_FX_Security_ID] AS [Dividend_FX_Security_ID]
    FROM [dbo].[Security_Detail] AS [Extent1]
    WHERE [Extent1].[Security_ID] = @EntityKeyValue1
2018-04-07 12:34:21.2087|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: SELECT 
    [Project1].[Security_ID] AS [Security_ID], 
    [Project1].[Entity_ID] AS [Entity_ID], 
    [Project1].[Security_Name] AS [Security_Name], 
    [Project1].[Short_Name] AS [Short_Name], 
    [Project1].[Primary_Exch] AS [Primary_Exch], 
    [Project1].[Secondary_Exch] AS [Secondary_Exch], 
    [Project1].[Country_Of_Domicile] AS [Country_Of_Domicile], 
    [Project1].[Country_Of_Risk] AS [Country_Of_Risk], 
    [Project1].[Security_Type_Code] AS [Security_Type_Code], 
    [Project1].[Price_Multiplier] AS [Price_Multiplier], 
    [Project1].[Income_Frequency] AS [Income_Frequency], 
    [Project1].[Issuer_Code] AS [Issuer_Code], 
    [Project1].[Ultimate_Issuer_Code] AS [Ultimate_Issuer_Code], 
    [Project1].[Asset_Currency] AS [Asset_Currency], 
    [Project1].[Min_Lot_Size] AS [Min_Lot_Size], 
    [Project1].[Decimal_Precision] AS [Decimal_Precision], 
    [Project1].[AvePrice_Rounding] AS [AvePrice_Rounding], 
    [Project1].[Issue_Date] AS [Issue_Date], 
    [Project1].[Maturity_Date] AS [Maturity_Date], 
    [Project1].[Coupon_Rate] AS [Coupon_Rate], 
    [Project1].[Price_Exchange] AS [Price_Exchange], 
    [Project1].[Trade_Currency] AS [Trade_Currency], 
    [Project1].[Price_Curr] AS [Price_Curr], 
    [Project1].[Currency_Pair_Code] AS [Currency_Pair_Code], 
    [Project1].[Share_Class] AS [Share_Class], 
    [Project1].[Current_Market_Price] AS [Current_Market_Price], 
    [Project1].[Index_Type] AS [Index_Type], 
    [Project1].[Clean_Price_Formula] AS [Clean_Price_Formula], 
    [Project1].[Accrued_Income_Price_Formula] AS [Accrued_Income_Price_Formula], 
    [Project1].[Odd_First_Coupon_Date] AS [Odd_First_Coupon_Date], 
    [Project1].[Odd_Last_Coupon_Date] AS [Odd_Last_Coupon_Date], 
    [Project1].[Coupon_Anniversary_Indicator] AS [Coupon_Anniversary_Indicator], 
    [Project1].[Track_EOM_Flag] AS [Track_EOM_Flag], 
    [Project1].[Next_Coupon_Date] AS [Next_Coupon_Date], 
    [Project1].[Previous_Coupon_Date] AS [Previous_Coupon_Date], 
    [Project1].[Payment_Frequency] AS [Payment_Frequency], 
    [Project1].[Coupon_BusDay_Adjustment] AS [Coupon_BusDay_Adjustment], 
    [Project1].[Next_Ex_Div_Date] AS [Next_Ex_Div_Date], 
    [Project1].[Ex_Div_BusDay_Adjustment] AS [Ex_Div_BusDay_Adjustment], 
    [Project1].[Ex_Div_Period] AS [Ex_Div_Period], 
    [Project1].[Ticker] AS [Ticker], 
    [Project1].[Inet_ID] AS [Inet_ID], 
    [Project1].[Bloomberg_ID] AS [Bloomberg_ID], 
    [Project1].[External_Sec_ID] AS [External_Sec_ID], 
    [Project1].[Reuters_ID] AS [Reuters_ID], 
    [Project1].[ISIN] AS [ISIN], 
    [Project1].[Call_Account_Flag] AS [Call_Account_Flag], 
    [Project1].[System_Locked] AS [System_Locked], 
    [Project1].[Last_Update_User] AS [Last_Update_User], 
    [Project1].[Last_Update_Date] AS [Last_Update_Date], 
    [Project1].[Security_Status] AS [Security_Status], 
    [Project1].[Benchmark_Portfolio] AS [Benchmark_Portfolio], 
    [Project1].[Active_flag] AS [Active_flag], 
    [Project1].[Dividend_FX_Security_ID] AS [Dividend_FX_Security_ID]
    FROM ( SELECT 
        [Extent1].[Security_ID] AS [Security_ID], 
        [Extent1].[Entity_ID] AS [Entity_ID], 
        [Extent1].[Security_Name] AS [Security_Name], 
        [Extent1].[Short_Name] AS [Short_Name], 
        [Extent1].[Primary_Exch] AS [Primary_Exch], 
        [Extent1].[Secondary_Exch] AS [Secondary_Exch], 
        [Extent1].[Country_Of_Domicile] AS [Country_Of_Domicile], 
        [Extent1].[Country_Of_Risk] AS [Country_Of_Risk], 
        [Extent1].[Security_Type_Code] AS [Security_Type_Code], 
        [Extent1].[Price_Multiplier] AS [Price_Multiplier], 
        [Extent1].[Income_Frequency] AS [Income_Frequency], 
        [Extent1].[Issuer_Code] AS [Issuer_Code], 
        [Extent1].[Ultimate_Issuer_Code] AS [Ultimate_Issuer_Code], 
        [Extent1].[Asset_Currency] AS [Asset_Currency], 
        [Extent1].[Min_Lot_Size] AS [Min_Lot_Size], 
        [Extent1].[Decimal_Precision] AS [Decimal_Precision], 
        [Extent1].[AvePrice_Rounding] AS [AvePrice_Rounding], 
        [Extent1].[Issue_Date] AS [Issue_Date], 
        [Extent1].[Maturity_Date] AS [Maturity_Date], 
        [Extent1].[Coupon_Rate] AS [Coupon_Rate], 
        [Extent1].[Price_Exchange] AS [Price_Exchange], 
        [Extent1].[Trade_Currency] AS [Trade_Currency], 
        [Extent1].[Price_Curr] AS [Price_Curr], 
        [Extent1].[Currency_Pair_Code] AS [Currency_Pair_Code], 
        [Extent1].[Share_Class] AS [Share_Class], 
        [Extent1].[Current_Market_Price] AS [Current_Market_Price], 
        [Extent1].[Index_Type] AS [Index_Type], 
        [Extent1].[Clean_Price_Formula] AS [Clean_Price_Formula], 
        [Extent1].[Accrued_Income_Price_Formula] AS [Accrued_Income_Price_Formula], 
        [Extent1].[Odd_First_Coupon_Date] AS [Odd_First_Coupon_Date], 
        [Extent1].[Odd_Last_Coupon_Date] AS [Odd_Last_Coupon_Date], 
        [Extent1].[Coupon_Anniversary_Indicator] AS [Coupon_Anniversary_Indicator], 
        [Extent1].[Track_EOM_Flag] AS [Track_EOM_Flag], 
        [Extent1].[Next_Coupon_Date] AS [Next_Coupon_Date], 
        [Extent1].[Previous_Coupon_Date] AS [Previous_Coupon_Date], 
        [Extent1].[Payment_Frequency] AS [Payment_Frequency], 
        [Extent1].[Coupon_BusDay_Adjustment] AS [Coupon_BusDay_Adjustment], 
        [Extent1].[Next_Ex_Div_Date] AS [Next_Ex_Div_Date], 
        [Extent1].[Ex_Div_BusDay_Adjustment] AS [Ex_Div_BusDay_Adjustment], 
        [Extent1].[Ex_Div_Period] AS [Ex_Div_Period], 
        [Extent1].[Ticker] AS [Ticker], 
        [Extent1].[Inet_ID] AS [Inet_ID], 
        [Extent1].[Bloomberg_ID] AS [Bloomberg_ID], 
        [Extent1].[External_Sec_ID] AS [External_Sec_ID], 
        [Extent1].[Reuters_ID] AS [Reuters_ID], 
        [Extent1].[ISIN] AS [ISIN], 
        [Extent1].[Call_Account_Flag] AS [Call_Account_Flag], 
        [Extent1].[System_Locked] AS [System_Locked], 
        [Extent1].[Last_Update_User] AS [Last_Update_User], 
        [Extent1].[Last_Update_Date] AS [Last_Update_Date], 
        [Extent1].[Security_Status] AS [Security_Status], 
        [Extent1].[Benchmark_Portfolio] AS [Benchmark_Portfolio], 
        [Extent1].[Active_flag] AS [Active_flag], 
        [Extent1].[Dividend_FX_Security_ID] AS [Dividend_FX_Security_ID]
        FROM [dbo].[Security_Detail] AS [Extent1]
        WHERE ([Extent1].[Entity_ID] IN (@p__linq__0,@p__linq__1)) AND ((CASE WHEN ( NOT ((N'' = @p__linq__2) AND (@p__linq__2 IS NOT NULL))) THEN CASE WHEN ([Extent1].[Security_Type_Code] = @p__linq__3) THEN cast(1 as bit) WHEN ( NOT (([Extent1].[Security_Type_Code] = @p__linq__3) AND (0 = (CASE WHEN (@p__linq__3 IS NULL) THEN cast(1 as bit) ELSE cast(0 as bit) END)))) THEN cast(0 as bit) END WHEN ('' <> [Extent1].[Security_Type_Code]) THEN cast(1 as bit) WHEN ('' = [Extent1].[Security_Type_Code]) THEN cast(0 as bit) END) = 1)
    )  AS [Project1]
    ORDER BY [Project1].[Security_Name] ASC
2018-04-07 12:34:21.2462|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: SELECT 
    [Project1].[Security_ID] AS [Security_ID], 
    [Project1].[Entity_ID] AS [Entity_ID], 
    [Project1].[Security_Name] AS [Security_Name], 
    [Project1].[Short_Name] AS [Short_Name], 
    [Project1].[Primary_Exch] AS [Primary_Exch], 
    [Project1].[Secondary_Exch] AS [Secondary_Exch], 
    [Project1].[Country_Of_Domicile] AS [Country_Of_Domicile], 
    [Project1].[Country_Of_Risk] AS [Country_Of_Risk], 
    [Project1].[Security_Type_Code] AS [Security_Type_Code], 
    [Project1].[Price_Multiplier] AS [Price_Multiplier], 
    [Project1].[Income_Frequency] AS [Income_Frequency], 
    [Project1].[Issuer_Code] AS [Issuer_Code], 
    [Project1].[Ultimate_Issuer_Code] AS [Ultimate_Issuer_Code], 
    [Project1].[Asset_Currency] AS [Asset_Currency], 
    [Project1].[Min_Lot_Size] AS [Min_Lot_Size], 
    [Project1].[Decimal_Precision] AS [Decimal_Precision], 
    [Project1].[AvePrice_Rounding] AS [AvePrice_Rounding], 
    [Project1].[Issue_Date] AS [Issue_Date], 
    [Project1].[Maturity_Date] AS [Maturity_Date], 
    [Project1].[Coupon_Rate] AS [Coupon_Rate], 
    [Project1].[Price_Exchange] AS [Price_Exchange], 
    [Project1].[Trade_Currency] AS [Trade_Currency], 
    [Project1].[Price_Curr] AS [Price_Curr], 
    [Project1].[Currency_Pair_Code] AS [Currency_Pair_Code], 
    [Project1].[Share_Class] AS [Share_Class], 
    [Project1].[Current_Market_Price] AS [Current_Market_Price], 
    [Project1].[Index_Type] AS [Index_Type], 
    [Project1].[Clean_Price_Formula] AS [Clean_Price_Formula], 
    [Project1].[Accrued_Income_Price_Formula] AS [Accrued_Income_Price_Formula], 
    [Project1].[Odd_First_Coupon_Date] AS [Odd_First_Coupon_Date], 
    [Project1].[Odd_Last_Coupon_Date] AS [Odd_Last_Coupon_Date], 
    [Project1].[Coupon_Anniversary_Indicator] AS [Coupon_Anniversary_Indicator], 
    [Project1].[Track_EOM_Flag] AS [Track_EOM_Flag], 
    [Project1].[Next_Coupon_Date] AS [Next_Coupon_Date], 
    [Project1].[Previous_Coupon_Date] AS [Previous_Coupon_Date], 
    [Project1].[Payment_Frequency] AS [Payment_Frequency], 
    [Project1].[Coupon_BusDay_Adjustment] AS [Coupon_BusDay_Adjustment], 
    [Project1].[Next_Ex_Div_Date] AS [Next_Ex_Div_Date], 
    [Project1].[Ex_Div_BusDay_Adjustment] AS [Ex_Div_BusDay_Adjustment], 
    [Project1].[Ex_Div_Period] AS [Ex_Div_Period], 
    [Project1].[Ticker] AS [Ticker], 
    [Project1].[Inet_ID] AS [Inet_ID], 
    [Project1].[Bloomberg_ID] AS [Bloomberg_ID], 
    [Project1].[External_Sec_ID] AS [External_Sec_ID], 
    [Project1].[Reuters_ID] AS [Reuters_ID], 
    [Project1].[ISIN] AS [ISIN], 
    [Project1].[Call_Account_Flag] AS [Call_Account_Flag], 
    [Project1].[System_Locked] AS [System_Locked], 
    [Project1].[Last_Update_User] AS [Last_Update_User], 
    [Project1].[Last_Update_Date] AS [Last_Update_Date], 
    [Project1].[Security_Status] AS [Security_Status], 
    [Project1].[Benchmark_Portfolio] AS [Benchmark_Portfolio], 
    [Project1].[Active_flag] AS [Active_flag], 
    [Project1].[Dividend_FX_Security_ID] AS [Dividend_FX_Security_ID]
    FROM ( SELECT 
        [Extent1].[Security_ID] AS [Security_ID], 
        [Extent1].[Entity_ID] AS [Entity_ID], 
        [Extent1].[Security_Name] AS [Security_Name], 
        [Extent1].[Short_Name] AS [Short_Name], 
        [Extent1].[Primary_Exch] AS [Primary_Exch], 
        [Extent1].[Secondary_Exch] AS [Secondary_Exch], 
        [Extent1].[Country_Of_Domicile] AS [Country_Of_Domicile], 
        [Extent1].[Country_Of_Risk] AS [Country_Of_Risk], 
        [Extent1].[Security_Type_Code] AS [Security_Type_Code], 
        [Extent1].[Price_Multiplier] AS [Price_Multiplier], 
        [Extent1].[Income_Frequency] AS [Income_Frequency], 
        [Extent1].[Issuer_Code] AS [Issuer_Code], 
        [Extent1].[Ultimate_Issuer_Code] AS [Ultimate_Issuer_Code], 
        [Extent1].[Asset_Currency] AS [Asset_Currency], 
        [Extent1].[Min_Lot_Size] AS [Min_Lot_Size], 
        [Extent1].[Decimal_Precision] AS [Decimal_Precision], 
        [Extent1].[AvePrice_Rounding] AS [AvePrice_Rounding], 
        [Extent1].[Issue_Date] AS [Issue_Date], 
        [Extent1].[Maturity_Date] AS [Maturity_Date], 
        [Extent1].[Coupon_Rate] AS [Coupon_Rate], 
        [Extent1].[Price_Exchange] AS [Price_Exchange], 
        [Extent1].[Trade_Currency] AS [Trade_Currency], 
        [Extent1].[Price_Curr] AS [Price_Curr], 
        [Extent1].[Currency_Pair_Code] AS [Currency_Pair_Code], 
        [Extent1].[Share_Class] AS [Share_Class], 
        [Extent1].[Current_Market_Price] AS [Current_Market_Price], 
        [Extent1].[Index_Type] AS [Index_Type], 
        [Extent1].[Clean_Price_Formula] AS [Clean_Price_Formula], 
        [Extent1].[Accrued_Income_Price_Formula] AS [Accrued_Income_Price_Formula], 
        [Extent1].[Odd_First_Coupon_Date] AS [Odd_First_Coupon_Date], 
        [Extent1].[Odd_Last_Coupon_Date] AS [Odd_Last_Coupon_Date], 
        [Extent1].[Coupon_Anniversary_Indicator] AS [Coupon_Anniversary_Indicator], 
        [Extent1].[Track_EOM_Flag] AS [Track_EOM_Flag], 
        [Extent1].[Next_Coupon_Date] AS [Next_Coupon_Date], 
        [Extent1].[Previous_Coupon_Date] AS [Previous_Coupon_Date], 
        [Extent1].[Payment_Frequency] AS [Payment_Frequency], 
        [Extent1].[Coupon_BusDay_Adjustment] AS [Coupon_BusDay_Adjustment], 
        [Extent1].[Next_Ex_Div_Date] AS [Next_Ex_Div_Date], 
        [Extent1].[Ex_Div_BusDay_Adjustment] AS [Ex_Div_BusDay_Adjustment], 
        [Extent1].[Ex_Div_Period] AS [Ex_Div_Period], 
        [Extent1].[Ticker] AS [Ticker], 
        [Extent1].[Inet_ID] AS [Inet_ID], 
        [Extent1].[Bloomberg_ID] AS [Bloomberg_ID], 
        [Extent1].[External_Sec_ID] AS [External_Sec_ID], 
        [Extent1].[Reuters_ID] AS [Reuters_ID], 
        [Extent1].[ISIN] AS [ISIN], 
        [Extent1].[Call_Account_Flag] AS [Call_Account_Flag], 
        [Extent1].[System_Locked] AS [System_Locked], 
        [Extent1].[Last_Update_User] AS [Last_Update_User], 
        [Extent1].[Last_Update_Date] AS [Last_Update_Date], 
        [Extent1].[Security_Status] AS [Security_Status], 
        [Extent1].[Benchmark_Portfolio] AS [Benchmark_Portfolio], 
        [Extent1].[Active_flag] AS [Active_flag], 
        [Extent1].[Dividend_FX_Security_ID] AS [Dividend_FX_Security_ID]
        FROM [dbo].[Security_Detail] AS [Extent1]
        WHERE ([Extent1].[Entity_ID] IN (@p__linq__0,@p__linq__1)) AND ((CASE WHEN ( NOT ((N'' = @p__linq__2) AND (@p__linq__2 IS NOT NULL))) THEN CASE WHEN ([Extent1].[Security_Type_Code] = @p__linq__3) THEN cast(1 as bit) WHEN ( NOT (([Extent1].[Security_Type_Code] = @p__linq__3) AND (0 = (CASE WHEN (@p__linq__3 IS NULL) THEN cast(1 as bit) ELSE cast(0 as bit) END)))) THEN cast(0 as bit) END WHEN ('' <> [Extent1].[Security_Type_Code]) THEN cast(1 as bit) WHEN ('' = [Extent1].[Security_Type_Code]) THEN cast(0 as bit) END) = 1)
    )  AS [Project1]
    ORDER BY [Project1].[Security_Name] ASC
2018-04-07 12:34:21.2947|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: IF db_id(N'MetopeAzureDb') IS NOT NULL SELECT 1 ELSE SELECT Count(*) FROM sys.databases WHERE [name]=N'MetopeAzureDb'
2018-04-07 12:34:21.3183|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: IF db_id(N'MetopeAzureDb') IS NOT NULL SELECT 1 ELSE SELECT Count(*) FROM sys.databases WHERE [name]=N'MetopeAzureDb'
2018-04-07 12:34:21.3418|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: IF db_id(N'MetopeAzureDb') IS NOT NULL SELECT 1 ELSE SELECT Count(*) FROM sys.databases WHERE [name]=N'MetopeAzureDb'
2018-04-07 12:34:21.3628|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: IF db_id(N'MetopeAzureDb') IS NOT NULL SELECT 1 ELSE SELECT Count(*) FROM sys.databases WHERE [name]=N'MetopeAzureDb'
2018-04-07 12:34:39.6161|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: SELECT TOP (1) 
    [Extent1].[Entity_ID] AS [Entity_ID], 
    [Extent1].[Security_ID] AS [Security_ID], 
    [Extent1].[Issued_Amount] AS [Issued_Amount], 
    [Extent1].[Market_Capitalisation] AS [Market_Capitalisation], 
    [Extent1].[Risk_Premium] AS [Risk_Premium], 
    [Extent1].[Exit_Price] AS [Exit_Price], 
    [Extent1].[Total_Return_ME_1YR] AS [Total_Return_ME_1YR], 
    [Extent1].[Total_Return_ME_2YR] AS [Total_Return_ME_2YR], 
    [Extent1].[Total_Return_ME_3YR] AS [Total_Return_ME_3YR], 
    [Extent1].[Historic_Distribution] AS [Historic_Distribution], 
    [Extent1].[Distribution_Growth_Forecast_Yr1] AS [Distribution_Growth_Forecast_Yr1], 
    [Extent1].[Distribution_Growth_Forecast_Yr2] AS [Distribution_Growth_Forecast_Yr2], 
    [Extent1].[Distribution_Growth_Forecast_Yr3] AS [Distribution_Growth_Forecast_Yr3], 
    [Extent1].[Forecast_Distribution_Yr1] AS [Forecast_Distribution_Yr1], 
    [Extent1].[Forecast_Distribution_Yr2] AS [Forecast_Distribution_Yr2], 
    [Extent1].[Forecast_Distribution_Yr3] AS [Forecast_Distribution_Yr3], 
    [Extent1].[Earnings_Growth_Compounded] AS [Earnings_Growth_Compounded], 
    [Extent1].[Earnings_Forecast_Yr3] AS [Earnings_Forecast_Yr3], 
    [Extent1].[Historic_Dividend_Yield_FYE] AS [Historic_Dividend_Yield_FYE], 
    [Extent1].[Forward_Dividend_Yield_FYE] AS [Forward_Dividend_Yield_FYE], 
    [Extent1].[Yr3_Forward_Dividend_Yield] AS [Yr3_Forward_Dividend_Yield], 
    [Extent1].[Rolling_12M_Forward_Yield] AS [Rolling_12M_Forward_Yield], 
    [Extent1].[Historical_Earnings_FYE] AS [Historical_Earnings_FYE], 
    [Extent1].[Earnings_Forecast_Yr1] AS [Earnings_Forecast_Yr1], 
    [Extent1].[Earnings_Forecast_Yr2] AS [Earnings_Forecast_Yr2], 
    [Extent1].[Historic_Dividend_Yield_Relative] AS [Historic_Dividend_Yield_Relative], 
    [Extent1].[Rolling_12M_Historic_Distribution_PriceCurr] AS [Rolling_12M_Historic_Distribution_PriceCurr], 
    [Extent1].[Short_Term_Market_Rerate] AS [Short_Term_Market_Rerate], 
    [Extent1].[Forecast_12M_Total_Return] AS [Forecast_12M_Total_Return], 
    [Extent1].[Clean_Price] AS [Clean_Price], 
    [Extent1].[Rolling_Dividend_Yield_Historic] AS [Rolling_Dividend_Yield_Historic], 
    [Extent1].[Last_Update_Date] AS [Last_Update_Date], 
    [Extent1].[Last_Update_User] AS [Last_Update_User], 
    [Extent1].[Discount_Security_ID] AS [Discount_Security_ID], 
    [Extent1].[Net_Present_Value] AS [Net_Present_Value], 
    [Extent1].[Forecast_Rolling_Custom_Income] AS [Forecast_Rolling_Custom_Income], 
    [Extent1].[Custom_Period] AS [Custom_Period], 
    [Extent1].[Rolling_12M_Historic_Distribution] AS [Rolling_12M_Historic_Distribution], 
    [Extent1].[Rolling_12M_Forecast_Distribution] AS [Rolling_12M_Forecast_Distribution], 
    [Extent1].[Yr2_Forward_Dividend_Yield] AS [Yr2_Forward_Dividend_Yield], 
    [Extent1].[Exit_Yield] AS [Exit_Yield], 
    [Extent1].[Discount_Rate] AS [Discount_Rate], 
    [Extent1].[Distribution_Growth_Compounded] AS [Distribution_Growth_Compounded], 
    [Extent1].[Forecast_12MRolling_Income_Accrual] AS [Forecast_12MRolling_Income_Accrual], 
    [Extent1].[Rolling_12_to_24M_Forecast_Distribution] AS [Rolling_12_to_24M_Forecast_Distribution], 
    [Extent1].[Rolling_24_to_36M_Forecast_Distribution] AS [Rolling_24_to_36M_Forecast_Distribution], 
    [Extent1].[Forecast_Yr1_Dividend_Yield_Relative] AS [Forecast_Yr1_Dividend_Yield_Relative], 
    [Extent1].[Market_Historic_Yield] AS [Market_Historic_Yield], 
    [Extent1].[Market_Forward_Yield] AS [Market_Forward_Yield], 
    [Extent1].[Historic_Distribution_PriceCurr] AS [Historic_Distribution_PriceCurr], 
    [Extent1].[Forecast_Distribution_Yr1_PriceCurr] AS [Forecast_Distribution_Yr1_PriceCurr], 
    [Extent1].[Forecast_Distribution_Yr2_PriceCurr] AS [Forecast_Distribution_Yr2_PriceCurr], 
    [Extent1].[Forecast_Distribution_Yr3_PriceCurr] AS [Forecast_Distribution_Yr3_PriceCurr], 
    [Extent1].[Rolling_12M_Forecast_Distribution_PriceCurr] AS [Rolling_12M_Forecast_Distribution_PriceCurr], 
    [Extent1].[Rolling_12_24M_Forecast_Distribution_PriceCurr] AS [Rolling_12_24M_Forecast_Distribution_PriceCurr], 
    [Extent1].[Rolling_24_36M_Forecast_Distribution_PriceCurr] AS [Rolling_24_36M_Forecast_Distribution_PriceCurr], 
    [Extent1].[Distribution_Growth_Forecast_Yr4] AS [Distribution_Growth_Forecast_Yr4], 
    [Extent1].[Earnings_Forecast_Yr4] AS [Earnings_Forecast_Yr4], 
    [Extent1].[Forecast_Distribution_Yr4] AS [Forecast_Distribution_Yr4], 
    [Extent1].[Forecast_Distribution_Yr4_PriceCurr] AS [Forecast_Distribution_Yr4_PriceCurr]
    FROM [dbo].[Security_Analytics] AS [Extent1]
    WHERE ([Extent1].[Security_ID] = @p__linq__0) AND ([Extent1].[Entity_ID] = @p__linq__1)
2018-04-07 12:34:39.6531|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: SELECT TOP (1) 
    [Extent1].[Entity_ID] AS [Entity_ID], 
    [Extent1].[Security_ID] AS [Security_ID], 
    [Extent1].[Issued_Amount] AS [Issued_Amount], 
    [Extent1].[Market_Capitalisation] AS [Market_Capitalisation], 
    [Extent1].[Risk_Premium] AS [Risk_Premium], 
    [Extent1].[Exit_Price] AS [Exit_Price], 
    [Extent1].[Total_Return_ME_1YR] AS [Total_Return_ME_1YR], 
    [Extent1].[Total_Return_ME_2YR] AS [Total_Return_ME_2YR], 
    [Extent1].[Total_Return_ME_3YR] AS [Total_Return_ME_3YR], 
    [Extent1].[Historic_Distribution] AS [Historic_Distribution], 
    [Extent1].[Distribution_Growth_Forecast_Yr1] AS [Distribution_Growth_Forecast_Yr1], 
    [Extent1].[Distribution_Growth_Forecast_Yr2] AS [Distribution_Growth_Forecast_Yr2], 
    [Extent1].[Distribution_Growth_Forecast_Yr3] AS [Distribution_Growth_Forecast_Yr3], 
    [Extent1].[Forecast_Distribution_Yr1] AS [Forecast_Distribution_Yr1], 
    [Extent1].[Forecast_Distribution_Yr2] AS [Forecast_Distribution_Yr2], 
    [Extent1].[Forecast_Distribution_Yr3] AS [Forecast_Distribution_Yr3], 
    [Extent1].[Earnings_Growth_Compounded] AS [Earnings_Growth_Compounded], 
    [Extent1].[Earnings_Forecast_Yr3] AS [Earnings_Forecast_Yr3], 
    [Extent1].[Historic_Dividend_Yield_FYE] AS [Historic_Dividend_Yield_FYE], 
    [Extent1].[Forward_Dividend_Yield_FYE] AS [Forward_Dividend_Yield_FYE], 
    [Extent1].[Yr3_Forward_Dividend_Yield] AS [Yr3_Forward_Dividend_Yield], 
    [Extent1].[Rolling_12M_Forward_Yield] AS [Rolling_12M_Forward_Yield], 
    [Extent1].[Historical_Earnings_FYE] AS [Historical_Earnings_FYE], 
    [Extent1].[Earnings_Forecast_Yr1] AS [Earnings_Forecast_Yr1], 
    [Extent1].[Earnings_Forecast_Yr2] AS [Earnings_Forecast_Yr2], 
    [Extent1].[Historic_Dividend_Yield_Relative] AS [Historic_Dividend_Yield_Relative], 
    [Extent1].[Rolling_12M_Historic_Distribution_PriceCurr] AS [Rolling_12M_Historic_Distribution_PriceCurr], 
    [Extent1].[Short_Term_Market_Rerate] AS [Short_Term_Market_Rerate], 
    [Extent1].[Forecast_12M_Total_Return] AS [Forecast_12M_Total_Return], 
    [Extent1].[Clean_Price] AS [Clean_Price], 
    [Extent1].[Rolling_Dividend_Yield_Historic] AS [Rolling_Dividend_Yield_Historic], 
    [Extent1].[Last_Update_Date] AS [Last_Update_Date], 
    [Extent1].[Last_Update_User] AS [Last_Update_User], 
    [Extent1].[Discount_Security_ID] AS [Discount_Security_ID], 
    [Extent1].[Net_Present_Value] AS [Net_Present_Value], 
    [Extent1].[Forecast_Rolling_Custom_Income] AS [Forecast_Rolling_Custom_Income], 
    [Extent1].[Custom_Period] AS [Custom_Period], 
    [Extent1].[Rolling_12M_Historic_Distribution] AS [Rolling_12M_Historic_Distribution], 
    [Extent1].[Rolling_12M_Forecast_Distribution] AS [Rolling_12M_Forecast_Distribution], 
    [Extent1].[Yr2_Forward_Dividend_Yield] AS [Yr2_Forward_Dividend_Yield], 
    [Extent1].[Exit_Yield] AS [Exit_Yield], 
    [Extent1].[Discount_Rate] AS [Discount_Rate], 
    [Extent1].[Distribution_Growth_Compounded] AS [Distribution_Growth_Compounded], 
    [Extent1].[Forecast_12MRolling_Income_Accrual] AS [Forecast_12MRolling_Income_Accrual], 
    [Extent1].[Rolling_12_to_24M_Forecast_Distribution] AS [Rolling_12_to_24M_Forecast_Distribution], 
    [Extent1].[Rolling_24_to_36M_Forecast_Distribution] AS [Rolling_24_to_36M_Forecast_Distribution], 
    [Extent1].[Forecast_Yr1_Dividend_Yield_Relative] AS [Forecast_Yr1_Dividend_Yield_Relative], 
    [Extent1].[Market_Historic_Yield] AS [Market_Historic_Yield], 
    [Extent1].[Market_Forward_Yield] AS [Market_Forward_Yield], 
    [Extent1].[Historic_Distribution_PriceCurr] AS [Historic_Distribution_PriceCurr], 
    [Extent1].[Forecast_Distribution_Yr1_PriceCurr] AS [Forecast_Distribution_Yr1_PriceCurr], 
    [Extent1].[Forecast_Distribution_Yr2_PriceCurr] AS [Forecast_Distribution_Yr2_PriceCurr], 
    [Extent1].[Forecast_Distribution_Yr3_PriceCurr] AS [Forecast_Distribution_Yr3_PriceCurr], 
    [Extent1].[Rolling_12M_Forecast_Distribution_PriceCurr] AS [Rolling_12M_Forecast_Distribution_PriceCurr], 
    [Extent1].[Rolling_12_24M_Forecast_Distribution_PriceCurr] AS [Rolling_12_24M_Forecast_Distribution_PriceCurr], 
    [Extent1].[Rolling_24_36M_Forecast_Distribution_PriceCurr] AS [Rolling_24_36M_Forecast_Distribution_PriceCurr], 
    [Extent1].[Distribution_Growth_Forecast_Yr4] AS [Distribution_Growth_Forecast_Yr4], 
    [Extent1].[Earnings_Forecast_Yr4] AS [Earnings_Forecast_Yr4], 
    [Extent1].[Forecast_Distribution_Yr4] AS [Forecast_Distribution_Yr4], 
    [Extent1].[Forecast_Distribution_Yr4_PriceCurr] AS [Forecast_Distribution_Yr4_PriceCurr]
    FROM [dbo].[Security_Analytics] AS [Extent1]
    WHERE ([Extent1].[Security_ID] = @p__linq__0) AND ([Extent1].[Entity_ID] = @p__linq__1)
2018-04-07 12:34:44.3019|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: SELECT 
    [Extent1].[Security_ID] AS [Security_ID], 
    [Extent1].[Entity_ID] AS [Entity_ID], 
    [Extent1].[Security_Name] AS [Security_Name], 
    [Extent1].[Short_Name] AS [Short_Name], 
    [Extent1].[Primary_Exch] AS [Primary_Exch], 
    [Extent1].[Secondary_Exch] AS [Secondary_Exch], 
    [Extent1].[Country_Of_Domicile] AS [Country_Of_Domicile], 
    [Extent1].[Country_Of_Risk] AS [Country_Of_Risk], 
    [Extent1].[Security_Type_Code] AS [Security_Type_Code], 
    [Extent1].[Price_Multiplier] AS [Price_Multiplier], 
    [Extent1].[Income_Frequency] AS [Income_Frequency], 
    [Extent1].[Issuer_Code] AS [Issuer_Code], 
    [Extent1].[Ultimate_Issuer_Code] AS [Ultimate_Issuer_Code], 
    [Extent1].[Asset_Currency] AS [Asset_Currency], 
    [Extent1].[Min_Lot_Size] AS [Min_Lot_Size], 
    [Extent1].[Decimal_Precision] AS [Decimal_Precision], 
    [Extent1].[AvePrice_Rounding] AS [AvePrice_Rounding], 
    [Extent1].[Issue_Date] AS [Issue_Date], 
    [Extent1].[Maturity_Date] AS [Maturity_Date], 
    [Extent1].[Coupon_Rate] AS [Coupon_Rate], 
    [Extent1].[Price_Exchange] AS [Price_Exchange], 
    [Extent1].[Trade_Currency] AS [Trade_Currency], 
    [Extent1].[Price_Curr] AS [Price_Curr], 
    [Extent1].[Currency_Pair_Code] AS [Currency_Pair_Code], 
    [Extent1].[Share_Class] AS [Share_Class], 
    [Extent1].[Current_Market_Price] AS [Current_Market_Price], 
    [Extent1].[Index_Type] AS [Index_Type], 
    [Extent1].[Clean_Price_Formula] AS [Clean_Price_Formula], 
    [Extent1].[Accrued_Income_Price_Formula] AS [Accrued_Income_Price_Formula], 
    [Extent1].[Odd_First_Coupon_Date] AS [Odd_First_Coupon_Date], 
    [Extent1].[Odd_Last_Coupon_Date] AS [Odd_Last_Coupon_Date], 
    [Extent1].[Coupon_Anniversary_Indicator] AS [Coupon_Anniversary_Indicator], 
    [Extent1].[Track_EOM_Flag] AS [Track_EOM_Flag], 
    [Extent1].[Next_Coupon_Date] AS [Next_Coupon_Date], 
    [Extent1].[Previous_Coupon_Date] AS [Previous_Coupon_Date], 
    [Extent1].[Payment_Frequency] AS [Payment_Frequency], 
    [Extent1].[Coupon_BusDay_Adjustment] AS [Coupon_BusDay_Adjustment], 
    [Extent1].[Next_Ex_Div_Date] AS [Next_Ex_Div_Date], 
    [Extent1].[Ex_Div_BusDay_Adjustment] AS [Ex_Div_BusDay_Adjustment], 
    [Extent1].[Ex_Div_Period] AS [Ex_Div_Period], 
    [Extent1].[Ticker] AS [Ticker], 
    [Extent1].[Inet_ID] AS [Inet_ID], 
    [Extent1].[Bloomberg_ID] AS [Bloomberg_ID], 
    [Extent1].[External_Sec_ID] AS [External_Sec_ID], 
    [Extent1].[Reuters_ID] AS [Reuters_ID], 
    [Extent1].[ISIN] AS [ISIN], 
    [Extent1].[Call_Account_Flag] AS [Call_Account_Flag], 
    [Extent1].[System_Locked] AS [System_Locked], 
    [Extent1].[Last_Update_User] AS [Last_Update_User], 
    [Extent1].[Last_Update_Date] AS [Last_Update_Date], 
    [Extent1].[Security_Status] AS [Security_Status], 
    [Extent1].[Benchmark_Portfolio] AS [Benchmark_Portfolio], 
    [Extent1].[Active_flag] AS [Active_flag], 
    [Extent1].[Dividend_FX_Security_ID] AS [Dividend_FX_Security_ID]
    FROM [dbo].[Security_Detail] AS [Extent1]
    WHERE [Extent1].[Security_ID] = @EntityKeyValue1
2018-04-07 12:34:44.3479|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: SELECT 
    [Extent1].[Security_ID] AS [Security_ID], 
    [Extent1].[Entity_ID] AS [Entity_ID], 
    [Extent1].[Security_Name] AS [Security_Name], 
    [Extent1].[Short_Name] AS [Short_Name], 
    [Extent1].[Primary_Exch] AS [Primary_Exch], 
    [Extent1].[Secondary_Exch] AS [Secondary_Exch], 
    [Extent1].[Country_Of_Domicile] AS [Country_Of_Domicile], 
    [Extent1].[Country_Of_Risk] AS [Country_Of_Risk], 
    [Extent1].[Security_Type_Code] AS [Security_Type_Code], 
    [Extent1].[Price_Multiplier] AS [Price_Multiplier], 
    [Extent1].[Income_Frequency] AS [Income_Frequency], 
    [Extent1].[Issuer_Code] AS [Issuer_Code], 
    [Extent1].[Ultimate_Issuer_Code] AS [Ultimate_Issuer_Code], 
    [Extent1].[Asset_Currency] AS [Asset_Currency], 
    [Extent1].[Min_Lot_Size] AS [Min_Lot_Size], 
    [Extent1].[Decimal_Precision] AS [Decimal_Precision], 
    [Extent1].[AvePrice_Rounding] AS [AvePrice_Rounding], 
    [Extent1].[Issue_Date] AS [Issue_Date], 
    [Extent1].[Maturity_Date] AS [Maturity_Date], 
    [Extent1].[Coupon_Rate] AS [Coupon_Rate], 
    [Extent1].[Price_Exchange] AS [Price_Exchange], 
    [Extent1].[Trade_Currency] AS [Trade_Currency], 
    [Extent1].[Price_Curr] AS [Price_Curr], 
    [Extent1].[Currency_Pair_Code] AS [Currency_Pair_Code], 
    [Extent1].[Share_Class] AS [Share_Class], 
    [Extent1].[Current_Market_Price] AS [Current_Market_Price], 
    [Extent1].[Index_Type] AS [Index_Type], 
    [Extent1].[Clean_Price_Formula] AS [Clean_Price_Formula], 
    [Extent1].[Accrued_Income_Price_Formula] AS [Accrued_Income_Price_Formula], 
    [Extent1].[Odd_First_Coupon_Date] AS [Odd_First_Coupon_Date], 
    [Extent1].[Odd_Last_Coupon_Date] AS [Odd_Last_Coupon_Date], 
    [Extent1].[Coupon_Anniversary_Indicator] AS [Coupon_Anniversary_Indicator], 
    [Extent1].[Track_EOM_Flag] AS [Track_EOM_Flag], 
    [Extent1].[Next_Coupon_Date] AS [Next_Coupon_Date], 
    [Extent1].[Previous_Coupon_Date] AS [Previous_Coupon_Date], 
    [Extent1].[Payment_Frequency] AS [Payment_Frequency], 
    [Extent1].[Coupon_BusDay_Adjustment] AS [Coupon_BusDay_Adjustment], 
    [Extent1].[Next_Ex_Div_Date] AS [Next_Ex_Div_Date], 
    [Extent1].[Ex_Div_BusDay_Adjustment] AS [Ex_Div_BusDay_Adjustment], 
    [Extent1].[Ex_Div_Period] AS [Ex_Div_Period], 
    [Extent1].[Ticker] AS [Ticker], 
    [Extent1].[Inet_ID] AS [Inet_ID], 
    [Extent1].[Bloomberg_ID] AS [Bloomberg_ID], 
    [Extent1].[External_Sec_ID] AS [External_Sec_ID], 
    [Extent1].[Reuters_ID] AS [Reuters_ID], 
    [Extent1].[ISIN] AS [ISIN], 
    [Extent1].[Call_Account_Flag] AS [Call_Account_Flag], 
    [Extent1].[System_Locked] AS [System_Locked], 
    [Extent1].[Last_Update_User] AS [Last_Update_User], 
    [Extent1].[Last_Update_Date] AS [Last_Update_Date], 
    [Extent1].[Security_Status] AS [Security_Status], 
    [Extent1].[Benchmark_Portfolio] AS [Benchmark_Portfolio], 
    [Extent1].[Active_flag] AS [Active_flag], 
    [Extent1].[Dividend_FX_Security_ID] AS [Dividend_FX_Security_ID]
    FROM [dbo].[Security_Detail] AS [Extent1]
    WHERE [Extent1].[Security_ID] = @EntityKeyValue1
2018-04-07 12:34:44.4035|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: IF db_id(N'MetopeAzureDb') IS NOT NULL SELECT 1 ELSE SELECT Count(*) FROM sys.databases WHERE [name]=N'MetopeAzureDb'
2018-04-07 12:34:44.5160|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: IF db_id(N'MetopeAzureDb') IS NOT NULL SELECT 1 ELSE SELECT Count(*) FROM sys.databases WHERE [name]=N'MetopeAzureDb'
2018-04-07 12:34:44.5881|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: IF db_id(N'MetopeAzureDb') IS NOT NULL SELECT 1 ELSE SELECT Count(*) FROM sys.databases WHERE [name]=N'MetopeAzureDb'
2018-04-07 12:34:44.6081|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: IF db_id(N'MetopeAzureDb') IS NOT NULL SELECT 1 ELSE SELECT Count(*) FROM sys.databases WHERE [name]=N'MetopeAzureDb'
2018-04-07 12:34:52.4528|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: SELECT 
    [Extent2].[Decimal_Precision] AS [Decimal_Precision], 
    [Extent1].[Entity_ID] AS [Entity_ID], 
    [Extent1].[Security_ID] AS [Security_ID], 
    [Extent1].[Issued_Amount] AS [Issued_Amount], 
    [Extent1].[Market_Capitalisation] AS [Market_Capitalisation], 
    [Extent1].[Risk_Premium] AS [Risk_Premium], 
    [Extent1].[Exit_Price] AS [Exit_Price], 
    [Extent1].[Total_Return_ME_1YR] AS [Total_Return_ME_1YR], 
    [Extent1].[Total_Return_ME_2YR] AS [Total_Return_ME_2YR], 
    [Extent1].[Total_Return_ME_3YR] AS [Total_Return_ME_3YR], 
    [Extent1].[Historic_Distribution] AS [Historic_Distribution], 
    [Extent1].[Distribution_Growth_Forecast_Yr1] AS [Distribution_Growth_Forecast_Yr1], 
    [Extent1].[Distribution_Growth_Forecast_Yr2] AS [Distribution_Growth_Forecast_Yr2], 
    [Extent1].[Distribution_Growth_Forecast_Yr3] AS [Distribution_Growth_Forecast_Yr3], 
    [Extent1].[Forecast_Distribution_Yr1] AS [Forecast_Distribution_Yr1], 
    [Extent1].[Forecast_Distribution_Yr2] AS [Forecast_Distribution_Yr2], 
    [Extent1].[Forecast_Distribution_Yr3] AS [Forecast_Distribution_Yr3], 
    [Extent1].[Earnings_Growth_Compounded] AS [Earnings_Growth_Compounded], 
    [Extent1].[Earnings_Forecast_Yr3] AS [Earnings_Forecast_Yr3], 
    [Extent1].[Historic_Dividend_Yield_FYE] AS [Historic_Dividend_Yield_FYE], 
    [Extent1].[Forward_Dividend_Yield_FYE] AS [Forward_Dividend_Yield_FYE], 
    [Extent1].[Yr3_Forward_Dividend_Yield] AS [Yr3_Forward_Dividend_Yield], 
    [Extent1].[Rolling_12M_Forward_Yield] AS [Rolling_12M_Forward_Yield], 
    [Extent1].[Historical_Earnings_FYE] AS [Historical_Earnings_FYE], 
    [Extent1].[Earnings_Forecast_Yr1] AS [Earnings_Forecast_Yr1], 
    [Extent1].[Earnings_Forecast_Yr2] AS [Earnings_Forecast_Yr2], 
    [Extent1].[Historic_Dividend_Yield_Relative] AS [Historic_Dividend_Yield_Relative], 
    [Extent1].[Rolling_12M_Historic_Distribution_PriceCurr] AS [Rolling_12M_Historic_Distribution_PriceCurr], 
    [Extent1].[Short_Term_Market_Rerate] AS [Short_Term_Market_Rerate], 
    [Extent1].[Forecast_12M_Total_Return] AS [Forecast_12M_Total_Return], 
    [Extent1].[Clean_Price] AS [Clean_Price], 
    [Extent1].[Rolling_Dividend_Yield_Historic] AS [Rolling_Dividend_Yield_Historic], 
    [Extent1].[Last_Update_Date] AS [Last_Update_Date], 
    [Extent1].[Last_Update_User] AS [Last_Update_User], 
    [Extent1].[Discount_Security_ID] AS [Discount_Security_ID], 
    [Extent1].[Net_Present_Value] AS [Net_Present_Value], 
    [Extent1].[Forecast_Rolling_Custom_Income] AS [Forecast_Rolling_Custom_Income], 
    [Extent1].[Custom_Period] AS [Custom_Period], 
    [Extent1].[Rolling_12M_Historic_Distribution] AS [Rolling_12M_Historic_Distribution], 
    [Extent1].[Rolling_12M_Forecast_Distribution] AS [Rolling_12M_Forecast_Distribution], 
    [Extent1].[Yr2_Forward_Dividend_Yield] AS [Yr2_Forward_Dividend_Yield], 
    [Extent1].[Exit_Yield] AS [Exit_Yield], 
    [Extent1].[Discount_Rate] AS [Discount_Rate], 
    [Extent1].[Distribution_Growth_Compounded] AS [Distribution_Growth_Compounded], 
    [Extent1].[Forecast_12MRolling_Income_Accrual] AS [Forecast_12MRolling_Income_Accrual], 
    [Extent1].[Rolling_12_to_24M_Forecast_Distribution] AS [Rolling_12_to_24M_Forecast_Distribution], 
    [Extent1].[Rolling_24_to_36M_Forecast_Distribution] AS [Rolling_24_to_36M_Forecast_Distribution], 
    [Extent1].[Forecast_Yr1_Dividend_Yield_Relative] AS [Forecast_Yr1_Dividend_Yield_Relative], 
    [Extent1].[Market_Historic_Yield] AS [Market_Historic_Yield], 
    [Extent1].[Market_Forward_Yield] AS [Market_Forward_Yield], 
    [Extent1].[Historic_Distribution_PriceCurr] AS [Historic_Distribution_PriceCurr], 
    [Extent1].[Forecast_Distribution_Yr1_PriceCurr] AS [Forecast_Distribution_Yr1_PriceCurr], 
    [Extent1].[Forecast_Distribution_Yr2_PriceCurr] AS [Forecast_Distribution_Yr2_PriceCurr], 
    [Extent1].[Forecast_Distribution_Yr3_PriceCurr] AS [Forecast_Distribution_Yr3_PriceCurr], 
    [Extent1].[Rolling_12M_Forecast_Distribution_PriceCurr] AS [Rolling_12M_Forecast_Distribution_PriceCurr], 
    [Extent1].[Rolling_12_24M_Forecast_Distribution_PriceCurr] AS [Rolling_12_24M_Forecast_Distribution_PriceCurr], 
    [Extent1].[Rolling_24_36M_Forecast_Distribution_PriceCurr] AS [Rolling_24_36M_Forecast_Distribution_PriceCurr], 
    [Extent1].[Distribution_Growth_Forecast_Yr4] AS [Distribution_Growth_Forecast_Yr4], 
    [Extent1].[Earnings_Forecast_Yr4] AS [Earnings_Forecast_Yr4], 
    [Extent1].[Forecast_Distribution_Yr4] AS [Forecast_Distribution_Yr4], 
    [Extent1].[Forecast_Distribution_Yr4_PriceCurr] AS [Forecast_Distribution_Yr4_PriceCurr], 
    [Extent2].[Security_ID] AS [Security_ID1], 
    [Extent2].[Entity_ID] AS [Entity_ID1], 
    [Extent2].[Security_Name] AS [Security_Name], 
    [Extent2].[Short_Name] AS [Short_Name], 
    [Extent2].[Primary_Exch] AS [Primary_Exch], 
    [Extent2].[Secondary_Exch] AS [Secondary_Exch], 
    [Extent2].[Country_Of_Domicile] AS [Country_Of_Domicile], 
    [Extent2].[Country_Of_Risk] AS [Country_Of_Risk], 
    [Extent2].[Security_Type_Code] AS [Security_Type_Code], 
    [Extent2].[Price_Multiplier] AS [Price_Multiplier], 
    [Extent2].[Income_Frequency] AS [Income_Frequency], 
    [Extent2].[Issuer_Code] AS [Issuer_Code], 
    [Extent2].[Ultimate_Issuer_Code] AS [Ultimate_Issuer_Code], 
    [Extent2].[Asset_Currency] AS [Asset_Currency], 
    [Extent2].[Min_Lot_Size] AS [Min_Lot_Size], 
    [Extent2].[AvePrice_Rounding] AS [AvePrice_Rounding], 
    [Extent2].[Issue_Date] AS [Issue_Date], 
    [Extent2].[Maturity_Date] AS [Maturity_Date], 
    [Extent2].[Coupon_Rate] AS [Coupon_Rate], 
    [Extent2].[Price_Exchange] AS [Price_Exchange], 
    [Extent2].[Trade_Currency] AS [Trade_Currency], 
    [Extent2].[Price_Curr] AS [Price_Curr], 
    [Extent2].[Currency_Pair_Code] AS [Currency_Pair_Code], 
    [Extent2].[Share_Class] AS [Share_Class], 
    [Extent2].[Current_Market_Price] AS [Current_Market_Price], 
    [Extent2].[Index_Type] AS [Index_Type], 
    [Extent2].[Clean_Price_Formula] AS [Clean_Price_Formula], 
    [Extent2].[Accrued_Income_Price_Formula] AS [Accrued_Income_Price_Formula], 
    [Extent2].[Odd_First_Coupon_Date] AS [Odd_First_Coupon_Date], 
    [Extent2].[Odd_Last_Coupon_Date] AS [Odd_Last_Coupon_Date], 
    [Extent2].[Coupon_Anniversary_Indicator] AS [Coupon_Anniversary_Indicator], 
    [Extent2].[Track_EOM_Flag] AS [Track_EOM_Flag], 
    [Extent2].[Next_Coupon_Date] AS [Next_Coupon_Date], 
    [Extent2].[Previous_Coupon_Date] AS [Previous_Coupon_Date], 
    [Extent2].[Payment_Frequency] AS [Payment_Frequency], 
    [Extent2].[Coupon_BusDay_Adjustment] AS [Coupon_BusDay_Adjustment], 
    [Extent2].[Next_Ex_Div_Date] AS [Next_Ex_Div_Date], 
    [Extent2].[Ex_Div_BusDay_Adjustment] AS [Ex_Div_BusDay_Adjustment], 
    [Extent2].[Ex_Div_Period] AS [Ex_Div_Period], 
    [Extent2].[Ticker] AS [Ticker], 
    [Extent2].[Inet_ID] AS [Inet_ID], 
    [Extent2].[Bloomberg_ID] AS [Bloomberg_ID], 
    [Extent2].[External_Sec_ID] AS [External_Sec_ID], 
    [Extent2].[Reuters_ID] AS [Reuters_ID], 
    [Extent2].[ISIN] AS [ISIN], 
    [Extent2].[Call_Account_Flag] AS [Call_Account_Flag], 
    [Extent2].[System_Locked] AS [System_Locked], 
    [Extent2].[Last_Update_User] AS [Last_Update_User1], 
    [Extent2].[Last_Update_Date] AS [Last_Update_Date1], 
    [Extent2].[Security_Status] AS [Security_Status], 
    [Extent2].[Benchmark_Portfolio] AS [Benchmark_Portfolio], 
    [Extent2].[Active_flag] AS [Active_flag], 
    [Extent2].[Dividend_FX_Security_ID] AS [Dividend_FX_Security_ID]
    FROM  [dbo].[Security_Analytics] AS [Extent1]
    INNER JOIN [dbo].[Security_Detail] AS [Extent2] ON [Extent1].[Security_ID] = [Extent2].[Security_ID]
2018-04-07 12:34:52.4999|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: SELECT 
    [Extent2].[Decimal_Precision] AS [Decimal_Precision], 
    [Extent1].[Entity_ID] AS [Entity_ID], 
    [Extent1].[Security_ID] AS [Security_ID], 
    [Extent1].[Issued_Amount] AS [Issued_Amount], 
    [Extent1].[Market_Capitalisation] AS [Market_Capitalisation], 
    [Extent1].[Risk_Premium] AS [Risk_Premium], 
    [Extent1].[Exit_Price] AS [Exit_Price], 
    [Extent1].[Total_Return_ME_1YR] AS [Total_Return_ME_1YR], 
    [Extent1].[Total_Return_ME_2YR] AS [Total_Return_ME_2YR], 
    [Extent1].[Total_Return_ME_3YR] AS [Total_Return_ME_3YR], 
    [Extent1].[Historic_Distribution] AS [Historic_Distribution], 
    [Extent1].[Distribution_Growth_Forecast_Yr1] AS [Distribution_Growth_Forecast_Yr1], 
    [Extent1].[Distribution_Growth_Forecast_Yr2] AS [Distribution_Growth_Forecast_Yr2], 
    [Extent1].[Distribution_Growth_Forecast_Yr3] AS [Distribution_Growth_Forecast_Yr3], 
    [Extent1].[Forecast_Distribution_Yr1] AS [Forecast_Distribution_Yr1], 
    [Extent1].[Forecast_Distribution_Yr2] AS [Forecast_Distribution_Yr2], 
    [Extent1].[Forecast_Distribution_Yr3] AS [Forecast_Distribution_Yr3], 
    [Extent1].[Earnings_Growth_Compounded] AS [Earnings_Growth_Compounded], 
    [Extent1].[Earnings_Forecast_Yr3] AS [Earnings_Forecast_Yr3], 
    [Extent1].[Historic_Dividend_Yield_FYE] AS [Historic_Dividend_Yield_FYE], 
    [Extent1].[Forward_Dividend_Yield_FYE] AS [Forward_Dividend_Yield_FYE], 
    [Extent1].[Yr3_Forward_Dividend_Yield] AS [Yr3_Forward_Dividend_Yield], 
    [Extent1].[Rolling_12M_Forward_Yield] AS [Rolling_12M_Forward_Yield], 
    [Extent1].[Historical_Earnings_FYE] AS [Historical_Earnings_FYE], 
    [Extent1].[Earnings_Forecast_Yr1] AS [Earnings_Forecast_Yr1], 
    [Extent1].[Earnings_Forecast_Yr2] AS [Earnings_Forecast_Yr2], 
    [Extent1].[Historic_Dividend_Yield_Relative] AS [Historic_Dividend_Yield_Relative], 
    [Extent1].[Rolling_12M_Historic_Distribution_PriceCurr] AS [Rolling_12M_Historic_Distribution_PriceCurr], 
    [Extent1].[Short_Term_Market_Rerate] AS [Short_Term_Market_Rerate], 
    [Extent1].[Forecast_12M_Total_Return] AS [Forecast_12M_Total_Return], 
    [Extent1].[Clean_Price] AS [Clean_Price], 
    [Extent1].[Rolling_Dividend_Yield_Historic] AS [Rolling_Dividend_Yield_Historic], 
    [Extent1].[Last_Update_Date] AS [Last_Update_Date], 
    [Extent1].[Last_Update_User] AS [Last_Update_User], 
    [Extent1].[Discount_Security_ID] AS [Discount_Security_ID], 
    [Extent1].[Net_Present_Value] AS [Net_Present_Value], 
    [Extent1].[Forecast_Rolling_Custom_Income] AS [Forecast_Rolling_Custom_Income], 
    [Extent1].[Custom_Period] AS [Custom_Period], 
    [Extent1].[Rolling_12M_Historic_Distribution] AS [Rolling_12M_Historic_Distribution], 
    [Extent1].[Rolling_12M_Forecast_Distribution] AS [Rolling_12M_Forecast_Distribution], 
    [Extent1].[Yr2_Forward_Dividend_Yield] AS [Yr2_Forward_Dividend_Yield], 
    [Extent1].[Exit_Yield] AS [Exit_Yield], 
    [Extent1].[Discount_Rate] AS [Discount_Rate], 
    [Extent1].[Distribution_Growth_Compounded] AS [Distribution_Growth_Compounded], 
    [Extent1].[Forecast_12MRolling_Income_Accrual] AS [Forecast_12MRolling_Income_Accrual], 
    [Extent1].[Rolling_12_to_24M_Forecast_Distribution] AS [Rolling_12_to_24M_Forecast_Distribution], 
    [Extent1].[Rolling_24_to_36M_Forecast_Distribution] AS [Rolling_24_to_36M_Forecast_Distribution], 
    [Extent1].[Forecast_Yr1_Dividend_Yield_Relative] AS [Forecast_Yr1_Dividend_Yield_Relative], 
    [Extent1].[Market_Historic_Yield] AS [Market_Historic_Yield], 
    [Extent1].[Market_Forward_Yield] AS [Market_Forward_Yield], 
    [Extent1].[Historic_Distribution_PriceCurr] AS [Historic_Distribution_PriceCurr], 
    [Extent1].[Forecast_Distribution_Yr1_PriceCurr] AS [Forecast_Distribution_Yr1_PriceCurr], 
    [Extent1].[Forecast_Distribution_Yr2_PriceCurr] AS [Forecast_Distribution_Yr2_PriceCurr], 
    [Extent1].[Forecast_Distribution_Yr3_PriceCurr] AS [Forecast_Distribution_Yr3_PriceCurr], 
    [Extent1].[Rolling_12M_Forecast_Distribution_PriceCurr] AS [Rolling_12M_Forecast_Distribution_PriceCurr], 
    [Extent1].[Rolling_12_24M_Forecast_Distribution_PriceCurr] AS [Rolling_12_24M_Forecast_Distribution_PriceCurr], 
    [Extent1].[Rolling_24_36M_Forecast_Distribution_PriceCurr] AS [Rolling_24_36M_Forecast_Distribution_PriceCurr], 
    [Extent1].[Distribution_Growth_Forecast_Yr4] AS [Distribution_Growth_Forecast_Yr4], 
    [Extent1].[Earnings_Forecast_Yr4] AS [Earnings_Forecast_Yr4], 
    [Extent1].[Forecast_Distribution_Yr4] AS [Forecast_Distribution_Yr4], 
    [Extent1].[Forecast_Distribution_Yr4_PriceCurr] AS [Forecast_Distribution_Yr4_PriceCurr], 
    [Extent2].[Security_ID] AS [Security_ID1], 
    [Extent2].[Entity_ID] AS [Entity_ID1], 
    [Extent2].[Security_Name] AS [Security_Name], 
    [Extent2].[Short_Name] AS [Short_Name], 
    [Extent2].[Primary_Exch] AS [Primary_Exch], 
    [Extent2].[Secondary_Exch] AS [Secondary_Exch], 
    [Extent2].[Country_Of_Domicile] AS [Country_Of_Domicile], 
    [Extent2].[Country_Of_Risk] AS [Country_Of_Risk], 
    [Extent2].[Security_Type_Code] AS [Security_Type_Code], 
    [Extent2].[Price_Multiplier] AS [Price_Multiplier], 
    [Extent2].[Income_Frequency] AS [Income_Frequency], 
    [Extent2].[Issuer_Code] AS [Issuer_Code], 
    [Extent2].[Ultimate_Issuer_Code] AS [Ultimate_Issuer_Code], 
    [Extent2].[Asset_Currency] AS [Asset_Currency], 
    [Extent2].[Min_Lot_Size] AS [Min_Lot_Size], 
    [Extent2].[AvePrice_Rounding] AS [AvePrice_Rounding], 
    [Extent2].[Issue_Date] AS [Issue_Date], 
    [Extent2].[Maturity_Date] AS [Maturity_Date], 
    [Extent2].[Coupon_Rate] AS [Coupon_Rate], 
    [Extent2].[Price_Exchange] AS [Price_Exchange], 
    [Extent2].[Trade_Currency] AS [Trade_Currency], 
    [Extent2].[Price_Curr] AS [Price_Curr], 
    [Extent2].[Currency_Pair_Code] AS [Currency_Pair_Code], 
    [Extent2].[Share_Class] AS [Share_Class], 
    [Extent2].[Current_Market_Price] AS [Current_Market_Price], 
    [Extent2].[Index_Type] AS [Index_Type], 
    [Extent2].[Clean_Price_Formula] AS [Clean_Price_Formula], 
    [Extent2].[Accrued_Income_Price_Formula] AS [Accrued_Income_Price_Formula], 
    [Extent2].[Odd_First_Coupon_Date] AS [Odd_First_Coupon_Date], 
    [Extent2].[Odd_Last_Coupon_Date] AS [Odd_Last_Coupon_Date], 
    [Extent2].[Coupon_Anniversary_Indicator] AS [Coupon_Anniversary_Indicator], 
    [Extent2].[Track_EOM_Flag] AS [Track_EOM_Flag], 
    [Extent2].[Next_Coupon_Date] AS [Next_Coupon_Date], 
    [Extent2].[Previous_Coupon_Date] AS [Previous_Coupon_Date], 
    [Extent2].[Payment_Frequency] AS [Payment_Frequency], 
    [Extent2].[Coupon_BusDay_Adjustment] AS [Coupon_BusDay_Adjustment], 
    [Extent2].[Next_Ex_Div_Date] AS [Next_Ex_Div_Date], 
    [Extent2].[Ex_Div_BusDay_Adjustment] AS [Ex_Div_BusDay_Adjustment], 
    [Extent2].[Ex_Div_Period] AS [Ex_Div_Period], 
    [Extent2].[Ticker] AS [Ticker], 
    [Extent2].[Inet_ID] AS [Inet_ID], 
    [Extent2].[Bloomberg_ID] AS [Bloomberg_ID], 
    [Extent2].[External_Sec_ID] AS [External_Sec_ID], 
    [Extent2].[Reuters_ID] AS [Reuters_ID], 
    [Extent2].[ISIN] AS [ISIN], 
    [Extent2].[Call_Account_Flag] AS [Call_Account_Flag], 
    [Extent2].[System_Locked] AS [System_Locked], 
    [Extent2].[Last_Update_User] AS [Last_Update_User1], 
    [Extent2].[Last_Update_Date] AS [Last_Update_Date1], 
    [Extent2].[Security_Status] AS [Security_Status], 
    [Extent2].[Benchmark_Portfolio] AS [Benchmark_Portfolio], 
    [Extent2].[Active_flag] AS [Active_flag], 
    [Extent2].[Dividend_FX_Security_ID] AS [Dividend_FX_Security_ID]
    FROM  [dbo].[Security_Analytics] AS [Extent1]
    INNER JOIN [dbo].[Security_Detail] AS [Extent2] ON [Extent1].[Security_ID] = [Extent2].[Security_ID]
2018-04-07 12:34:57.3153|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: IF db_id(N'MetopeAzureDb') IS NOT NULL SELECT 1 ELSE SELECT Count(*) FROM sys.databases WHERE [name]=N'MetopeAzureDb'
2018-04-07 12:34:57.4089|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: IF db_id(N'MetopeAzureDb') IS NOT NULL SELECT 1 ELSE SELECT Count(*) FROM sys.databases WHERE [name]=N'MetopeAzureDb'
2018-04-07 12:34:57.4824|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: IF db_id(N'MetopeAzureDb') IS NOT NULL SELECT 1 ELSE SELECT Count(*) FROM sys.databases WHERE [name]=N'MetopeAzureDb'
2018-04-07 12:34:57.4984|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: IF db_id(N'MetopeAzureDb') IS NOT NULL SELECT 1 ELSE SELECT Count(*) FROM sys.databases WHERE [name]=N'MetopeAzureDb'
2018-04-07 12:34:57.7821|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: SELECT 
    [Extent2].[Decimal_Precision] AS [Decimal_Precision], 
    [Extent1].[Entity_ID] AS [Entity_ID], 
    [Extent1].[Security_ID] AS [Security_ID], 
    [Extent1].[Issued_Amount] AS [Issued_Amount], 
    [Extent1].[Market_Capitalisation] AS [Market_Capitalisation], 
    [Extent1].[Risk_Premium] AS [Risk_Premium], 
    [Extent1].[Exit_Price] AS [Exit_Price], 
    [Extent1].[Total_Return_ME_1YR] AS [Total_Return_ME_1YR], 
    [Extent1].[Total_Return_ME_2YR] AS [Total_Return_ME_2YR], 
    [Extent1].[Total_Return_ME_3YR] AS [Total_Return_ME_3YR], 
    [Extent1].[Historic_Distribution] AS [Historic_Distribution], 
    [Extent1].[Distribution_Growth_Forecast_Yr1] AS [Distribution_Growth_Forecast_Yr1], 
    [Extent1].[Distribution_Growth_Forecast_Yr2] AS [Distribution_Growth_Forecast_Yr2], 
    [Extent1].[Distribution_Growth_Forecast_Yr3] AS [Distribution_Growth_Forecast_Yr3], 
    [Extent1].[Forecast_Distribution_Yr1] AS [Forecast_Distribution_Yr1], 
    [Extent1].[Forecast_Distribution_Yr2] AS [Forecast_Distribution_Yr2], 
    [Extent1].[Forecast_Distribution_Yr3] AS [Forecast_Distribution_Yr3], 
    [Extent1].[Earnings_Growth_Compounded] AS [Earnings_Growth_Compounded], 
    [Extent1].[Earnings_Forecast_Yr3] AS [Earnings_Forecast_Yr3], 
    [Extent1].[Historic_Dividend_Yield_FYE] AS [Historic_Dividend_Yield_FYE], 
    [Extent1].[Forward_Dividend_Yield_FYE] AS [Forward_Dividend_Yield_FYE], 
    [Extent1].[Yr3_Forward_Dividend_Yield] AS [Yr3_Forward_Dividend_Yield], 
    [Extent1].[Rolling_12M_Forward_Yield] AS [Rolling_12M_Forward_Yield], 
    [Extent1].[Historical_Earnings_FYE] AS [Historical_Earnings_FYE], 
    [Extent1].[Earnings_Forecast_Yr1] AS [Earnings_Forecast_Yr1], 
    [Extent1].[Earnings_Forecast_Yr2] AS [Earnings_Forecast_Yr2], 
    [Extent1].[Historic_Dividend_Yield_Relative] AS [Historic_Dividend_Yield_Relative], 
    [Extent1].[Rolling_12M_Historic_Distribution_PriceCurr] AS [Rolling_12M_Historic_Distribution_PriceCurr], 
    [Extent1].[Short_Term_Market_Rerate] AS [Short_Term_Market_Rerate], 
    [Extent1].[Forecast_12M_Total_Return] AS [Forecast_12M_Total_Return], 
    [Extent1].[Clean_Price] AS [Clean_Price], 
    [Extent1].[Rolling_Dividend_Yield_Historic] AS [Rolling_Dividend_Yield_Historic], 
    [Extent1].[Last_Update_Date] AS [Last_Update_Date], 
    [Extent1].[Last_Update_User] AS [Last_Update_User], 
    [Extent1].[Discount_Security_ID] AS [Discount_Security_ID], 
    [Extent1].[Net_Present_Value] AS [Net_Present_Value], 
    [Extent1].[Forecast_Rolling_Custom_Income] AS [Forecast_Rolling_Custom_Income], 
    [Extent1].[Custom_Period] AS [Custom_Period], 
    [Extent1].[Rolling_12M_Historic_Distribution] AS [Rolling_12M_Historic_Distribution], 
    [Extent1].[Rolling_12M_Forecast_Distribution] AS [Rolling_12M_Forecast_Distribution], 
    [Extent1].[Yr2_Forward_Dividend_Yield] AS [Yr2_Forward_Dividend_Yield], 
    [Extent1].[Exit_Yield] AS [Exit_Yield], 
    [Extent1].[Discount_Rate] AS [Discount_Rate], 
    [Extent1].[Distribution_Growth_Compounded] AS [Distribution_Growth_Compounded], 
    [Extent1].[Forecast_12MRolling_Income_Accrual] AS [Forecast_12MRolling_Income_Accrual], 
    [Extent1].[Rolling_12_to_24M_Forecast_Distribution] AS [Rolling_12_to_24M_Forecast_Distribution], 
    [Extent1].[Rolling_24_to_36M_Forecast_Distribution] AS [Rolling_24_to_36M_Forecast_Distribution], 
    [Extent1].[Forecast_Yr1_Dividend_Yield_Relative] AS [Forecast_Yr1_Dividend_Yield_Relative], 
    [Extent1].[Market_Historic_Yield] AS [Market_Historic_Yield], 
    [Extent1].[Market_Forward_Yield] AS [Market_Forward_Yield], 
    [Extent1].[Historic_Distribution_PriceCurr] AS [Historic_Distribution_PriceCurr], 
    [Extent1].[Forecast_Distribution_Yr1_PriceCurr] AS [Forecast_Distribution_Yr1_PriceCurr], 
    [Extent1].[Forecast_Distribution_Yr2_PriceCurr] AS [Forecast_Distribution_Yr2_PriceCurr], 
    [Extent1].[Forecast_Distribution_Yr3_PriceCurr] AS [Forecast_Distribution_Yr3_PriceCurr], 
    [Extent1].[Rolling_12M_Forecast_Distribution_PriceCurr] AS [Rolling_12M_Forecast_Distribution_PriceCurr], 
    [Extent1].[Rolling_12_24M_Forecast_Distribution_PriceCurr] AS [Rolling_12_24M_Forecast_Distribution_PriceCurr], 
    [Extent1].[Rolling_24_36M_Forecast_Distribution_PriceCurr] AS [Rolling_24_36M_Forecast_Distribution_PriceCurr], 
    [Extent1].[Distribution_Growth_Forecast_Yr4] AS [Distribution_Growth_Forecast_Yr4], 
    [Extent1].[Earnings_Forecast_Yr4] AS [Earnings_Forecast_Yr4], 
    [Extent1].[Forecast_Distribution_Yr4] AS [Forecast_Distribution_Yr4], 
    [Extent1].[Forecast_Distribution_Yr4_PriceCurr] AS [Forecast_Distribution_Yr4_PriceCurr], 
    [Extent2].[Security_ID] AS [Security_ID1], 
    [Extent2].[Entity_ID] AS [Entity_ID1], 
    [Extent2].[Security_Name] AS [Security_Name], 
    [Extent2].[Short_Name] AS [Short_Name], 
    [Extent2].[Primary_Exch] AS [Primary_Exch], 
    [Extent2].[Secondary_Exch] AS [Secondary_Exch], 
    [Extent2].[Country_Of_Domicile] AS [Country_Of_Domicile], 
    [Extent2].[Country_Of_Risk] AS [Country_Of_Risk], 
    [Extent2].[Security_Type_Code] AS [Security_Type_Code], 
    [Extent2].[Price_Multiplier] AS [Price_Multiplier], 
    [Extent2].[Income_Frequency] AS [Income_Frequency], 
    [Extent2].[Issuer_Code] AS [Issuer_Code], 
    [Extent2].[Ultimate_Issuer_Code] AS [Ultimate_Issuer_Code], 
    [Extent2].[Asset_Currency] AS [Asset_Currency], 
    [Extent2].[Min_Lot_Size] AS [Min_Lot_Size], 
    [Extent2].[AvePrice_Rounding] AS [AvePrice_Rounding], 
    [Extent2].[Issue_Date] AS [Issue_Date], 
    [Extent2].[Maturity_Date] AS [Maturity_Date], 
    [Extent2].[Coupon_Rate] AS [Coupon_Rate], 
    [Extent2].[Price_Exchange] AS [Price_Exchange], 
    [Extent2].[Trade_Currency] AS [Trade_Currency], 
    [Extent2].[Price_Curr] AS [Price_Curr], 
    [Extent2].[Currency_Pair_Code] AS [Currency_Pair_Code], 
    [Extent2].[Share_Class] AS [Share_Class], 
    [Extent2].[Current_Market_Price] AS [Current_Market_Price], 
    [Extent2].[Index_Type] AS [Index_Type], 
    [Extent2].[Clean_Price_Formula] AS [Clean_Price_Formula], 
    [Extent2].[Accrued_Income_Price_Formula] AS [Accrued_Income_Price_Formula], 
    [Extent2].[Odd_First_Coupon_Date] AS [Odd_First_Coupon_Date], 
    [Extent2].[Odd_Last_Coupon_Date] AS [Odd_Last_Coupon_Date], 
    [Extent2].[Coupon_Anniversary_Indicator] AS [Coupon_Anniversary_Indicator], 
    [Extent2].[Track_EOM_Flag] AS [Track_EOM_Flag], 
    [Extent2].[Next_Coupon_Date] AS [Next_Coupon_Date], 
    [Extent2].[Previous_Coupon_Date] AS [Previous_Coupon_Date], 
    [Extent2].[Payment_Frequency] AS [Payment_Frequency], 
    [Extent2].[Coupon_BusDay_Adjustment] AS [Coupon_BusDay_Adjustment], 
    [Extent2].[Next_Ex_Div_Date] AS [Next_Ex_Div_Date], 
    [Extent2].[Ex_Div_BusDay_Adjustment] AS [Ex_Div_BusDay_Adjustment], 
    [Extent2].[Ex_Div_Period] AS [Ex_Div_Period], 
    [Extent2].[Ticker] AS [Ticker], 
    [Extent2].[Inet_ID] AS [Inet_ID], 
    [Extent2].[Bloomberg_ID] AS [Bloomberg_ID], 
    [Extent2].[External_Sec_ID] AS [External_Sec_ID], 
    [Extent2].[Reuters_ID] AS [Reuters_ID], 
    [Extent2].[ISIN] AS [ISIN], 
    [Extent2].[Call_Account_Flag] AS [Call_Account_Flag], 
    [Extent2].[System_Locked] AS [System_Locked], 
    [Extent2].[Last_Update_User] AS [Last_Update_User1], 
    [Extent2].[Last_Update_Date] AS [Last_Update_Date1], 
    [Extent2].[Security_Status] AS [Security_Status], 
    [Extent2].[Benchmark_Portfolio] AS [Benchmark_Portfolio], 
    [Extent2].[Active_flag] AS [Active_flag], 
    [Extent2].[Dividend_FX_Security_ID] AS [Dividend_FX_Security_ID]
    FROM  [dbo].[Security_Analytics] AS [Extent1]
    INNER JOIN [dbo].[Security_Detail] AS [Extent2] ON [Extent1].[Security_ID] = [Extent2].[Security_ID]
2018-04-07 12:34:57.7971|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: SELECT 
    [Extent2].[Decimal_Precision] AS [Decimal_Precision], 
    [Extent1].[Entity_ID] AS [Entity_ID], 
    [Extent1].[Security_ID] AS [Security_ID], 
    [Extent1].[Issued_Amount] AS [Issued_Amount], 
    [Extent1].[Market_Capitalisation] AS [Market_Capitalisation], 
    [Extent1].[Risk_Premium] AS [Risk_Premium], 
    [Extent1].[Exit_Price] AS [Exit_Price], 
    [Extent1].[Total_Return_ME_1YR] AS [Total_Return_ME_1YR], 
    [Extent1].[Total_Return_ME_2YR] AS [Total_Return_ME_2YR], 
    [Extent1].[Total_Return_ME_3YR] AS [Total_Return_ME_3YR], 
    [Extent1].[Historic_Distribution] AS [Historic_Distribution], 
    [Extent1].[Distribution_Growth_Forecast_Yr1] AS [Distribution_Growth_Forecast_Yr1], 
    [Extent1].[Distribution_Growth_Forecast_Yr2] AS [Distribution_Growth_Forecast_Yr2], 
    [Extent1].[Distribution_Growth_Forecast_Yr3] AS [Distribution_Growth_Forecast_Yr3], 
    [Extent1].[Forecast_Distribution_Yr1] AS [Forecast_Distribution_Yr1], 
    [Extent1].[Forecast_Distribution_Yr2] AS [Forecast_Distribution_Yr2], 
    [Extent1].[Forecast_Distribution_Yr3] AS [Forecast_Distribution_Yr3], 
    [Extent1].[Earnings_Growth_Compounded] AS [Earnings_Growth_Compounded], 
    [Extent1].[Earnings_Forecast_Yr3] AS [Earnings_Forecast_Yr3], 
    [Extent1].[Historic_Dividend_Yield_FYE] AS [Historic_Dividend_Yield_FYE], 
    [Extent1].[Forward_Dividend_Yield_FYE] AS [Forward_Dividend_Yield_FYE], 
    [Extent1].[Yr3_Forward_Dividend_Yield] AS [Yr3_Forward_Dividend_Yield], 
    [Extent1].[Rolling_12M_Forward_Yield] AS [Rolling_12M_Forward_Yield], 
    [Extent1].[Historical_Earnings_FYE] AS [Historical_Earnings_FYE], 
    [Extent1].[Earnings_Forecast_Yr1] AS [Earnings_Forecast_Yr1], 
    [Extent1].[Earnings_Forecast_Yr2] AS [Earnings_Forecast_Yr2], 
    [Extent1].[Historic_Dividend_Yield_Relative] AS [Historic_Dividend_Yield_Relative], 
    [Extent1].[Rolling_12M_Historic_Distribution_PriceCurr] AS [Rolling_12M_Historic_Distribution_PriceCurr], 
    [Extent1].[Short_Term_Market_Rerate] AS [Short_Term_Market_Rerate], 
    [Extent1].[Forecast_12M_Total_Return] AS [Forecast_12M_Total_Return], 
    [Extent1].[Clean_Price] AS [Clean_Price], 
    [Extent1].[Rolling_Dividend_Yield_Historic] AS [Rolling_Dividend_Yield_Historic], 
    [Extent1].[Last_Update_Date] AS [Last_Update_Date], 
    [Extent1].[Last_Update_User] AS [Last_Update_User], 
    [Extent1].[Discount_Security_ID] AS [Discount_Security_ID], 
    [Extent1].[Net_Present_Value] AS [Net_Present_Value], 
    [Extent1].[Forecast_Rolling_Custom_Income] AS [Forecast_Rolling_Custom_Income], 
    [Extent1].[Custom_Period] AS [Custom_Period], 
    [Extent1].[Rolling_12M_Historic_Distribution] AS [Rolling_12M_Historic_Distribution], 
    [Extent1].[Rolling_12M_Forecast_Distribution] AS [Rolling_12M_Forecast_Distribution], 
    [Extent1].[Yr2_Forward_Dividend_Yield] AS [Yr2_Forward_Dividend_Yield], 
    [Extent1].[Exit_Yield] AS [Exit_Yield], 
    [Extent1].[Discount_Rate] AS [Discount_Rate], 
    [Extent1].[Distribution_Growth_Compounded] AS [Distribution_Growth_Compounded], 
    [Extent1].[Forecast_12MRolling_Income_Accrual] AS [Forecast_12MRolling_Income_Accrual], 
    [Extent1].[Rolling_12_to_24M_Forecast_Distribution] AS [Rolling_12_to_24M_Forecast_Distribution], 
    [Extent1].[Rolling_24_to_36M_Forecast_Distribution] AS [Rolling_24_to_36M_Forecast_Distribution], 
    [Extent1].[Forecast_Yr1_Dividend_Yield_Relative] AS [Forecast_Yr1_Dividend_Yield_Relative], 
    [Extent1].[Market_Historic_Yield] AS [Market_Historic_Yield], 
    [Extent1].[Market_Forward_Yield] AS [Market_Forward_Yield], 
    [Extent1].[Historic_Distribution_PriceCurr] AS [Historic_Distribution_PriceCurr], 
    [Extent1].[Forecast_Distribution_Yr1_PriceCurr] AS [Forecast_Distribution_Yr1_PriceCurr], 
    [Extent1].[Forecast_Distribution_Yr2_PriceCurr] AS [Forecast_Distribution_Yr2_PriceCurr], 
    [Extent1].[Forecast_Distribution_Yr3_PriceCurr] AS [Forecast_Distribution_Yr3_PriceCurr], 
    [Extent1].[Rolling_12M_Forecast_Distribution_PriceCurr] AS [Rolling_12M_Forecast_Distribution_PriceCurr], 
    [Extent1].[Rolling_12_24M_Forecast_Distribution_PriceCurr] AS [Rolling_12_24M_Forecast_Distribution_PriceCurr], 
    [Extent1].[Rolling_24_36M_Forecast_Distribution_PriceCurr] AS [Rolling_24_36M_Forecast_Distribution_PriceCurr], 
    [Extent1].[Distribution_Growth_Forecast_Yr4] AS [Distribution_Growth_Forecast_Yr4], 
    [Extent1].[Earnings_Forecast_Yr4] AS [Earnings_Forecast_Yr4], 
    [Extent1].[Forecast_Distribution_Yr4] AS [Forecast_Distribution_Yr4], 
    [Extent1].[Forecast_Distribution_Yr4_PriceCurr] AS [Forecast_Distribution_Yr4_PriceCurr], 
    [Extent2].[Security_ID] AS [Security_ID1], 
    [Extent2].[Entity_ID] AS [Entity_ID1], 
    [Extent2].[Security_Name] AS [Security_Name], 
    [Extent2].[Short_Name] AS [Short_Name], 
    [Extent2].[Primary_Exch] AS [Primary_Exch], 
    [Extent2].[Secondary_Exch] AS [Secondary_Exch], 
    [Extent2].[Country_Of_Domicile] AS [Country_Of_Domicile], 
    [Extent2].[Country_Of_Risk] AS [Country_Of_Risk], 
    [Extent2].[Security_Type_Code] AS [Security_Type_Code], 
    [Extent2].[Price_Multiplier] AS [Price_Multiplier], 
    [Extent2].[Income_Frequency] AS [Income_Frequency], 
    [Extent2].[Issuer_Code] AS [Issuer_Code], 
    [Extent2].[Ultimate_Issuer_Code] AS [Ultimate_Issuer_Code], 
    [Extent2].[Asset_Currency] AS [Asset_Currency], 
    [Extent2].[Min_Lot_Size] AS [Min_Lot_Size], 
    [Extent2].[AvePrice_Rounding] AS [AvePrice_Rounding], 
    [Extent2].[Issue_Date] AS [Issue_Date], 
    [Extent2].[Maturity_Date] AS [Maturity_Date], 
    [Extent2].[Coupon_Rate] AS [Coupon_Rate], 
    [Extent2].[Price_Exchange] AS [Price_Exchange], 
    [Extent2].[Trade_Currency] AS [Trade_Currency], 
    [Extent2].[Price_Curr] AS [Price_Curr], 
    [Extent2].[Currency_Pair_Code] AS [Currency_Pair_Code], 
    [Extent2].[Share_Class] AS [Share_Class], 
    [Extent2].[Current_Market_Price] AS [Current_Market_Price], 
    [Extent2].[Index_Type] AS [Index_Type], 
    [Extent2].[Clean_Price_Formula] AS [Clean_Price_Formula], 
    [Extent2].[Accrued_Income_Price_Formula] AS [Accrued_Income_Price_Formula], 
    [Extent2].[Odd_First_Coupon_Date] AS [Odd_First_Coupon_Date], 
    [Extent2].[Odd_Last_Coupon_Date] AS [Odd_Last_Coupon_Date], 
    [Extent2].[Coupon_Anniversary_Indicator] AS [Coupon_Anniversary_Indicator], 
    [Extent2].[Track_EOM_Flag] AS [Track_EOM_Flag], 
    [Extent2].[Next_Coupon_Date] AS [Next_Coupon_Date], 
    [Extent2].[Previous_Coupon_Date] AS [Previous_Coupon_Date], 
    [Extent2].[Payment_Frequency] AS [Payment_Frequency], 
    [Extent2].[Coupon_BusDay_Adjustment] AS [Coupon_BusDay_Adjustment], 
    [Extent2].[Next_Ex_Div_Date] AS [Next_Ex_Div_Date], 
    [Extent2].[Ex_Div_BusDay_Adjustment] AS [Ex_Div_BusDay_Adjustment], 
    [Extent2].[Ex_Div_Period] AS [Ex_Div_Period], 
    [Extent2].[Ticker] AS [Ticker], 
    [Extent2].[Inet_ID] AS [Inet_ID], 
    [Extent2].[Bloomberg_ID] AS [Bloomberg_ID], 
    [Extent2].[External_Sec_ID] AS [External_Sec_ID], 
    [Extent2].[Reuters_ID] AS [Reuters_ID], 
    [Extent2].[ISIN] AS [ISIN], 
    [Extent2].[Call_Account_Flag] AS [Call_Account_Flag], 
    [Extent2].[System_Locked] AS [System_Locked], 
    [Extent2].[Last_Update_User] AS [Last_Update_User1], 
    [Extent2].[Last_Update_Date] AS [Last_Update_Date1], 
    [Extent2].[Security_Status] AS [Security_Status], 
    [Extent2].[Benchmark_Portfolio] AS [Benchmark_Portfolio], 
    [Extent2].[Active_flag] AS [Active_flag], 
    [Extent2].[Dividend_FX_Security_ID] AS [Dividend_FX_Security_ID]
    FROM  [dbo].[Security_Analytics] AS [Extent1]
    INNER JOIN [dbo].[Security_Detail] AS [Extent2] ON [Extent1].[Security_ID] = [Extent2].[Security_ID]
2018-04-07 12:34:57.8492|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: IF db_id(N'MetopeAzureDb') IS NOT NULL SELECT 1 ELSE SELECT Count(*) FROM sys.databases WHERE [name]=N'MetopeAzureDb'
2018-04-07 12:34:57.8627|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: IF db_id(N'MetopeAzureDb') IS NOT NULL SELECT 1 ELSE SELECT Count(*) FROM sys.databases WHERE [name]=N'MetopeAzureDb'
2018-04-07 12:34:57.8832|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: IF db_id(N'MetopeAzureDb') IS NOT NULL SELECT 1 ELSE SELECT Count(*) FROM sys.databases WHERE [name]=N'MetopeAzureDb'
2018-04-07 12:34:57.8957|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: IF db_id(N'MetopeAzureDb') IS NOT NULL SELECT 1 ELSE SELECT Count(*) FROM sys.databases WHERE [name]=N'MetopeAzureDb'
2018-04-07 12:35:05.9900|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: SELECT 
    [Project1].[Decimal_Precision] AS [Decimal_Precision], 
    [Project1].[Entity_ID] AS [Entity_ID], 
    [Project1].[Security_ID] AS [Security_ID], 
    [Project1].[Issued_Amount] AS [Issued_Amount], 
    [Project1].[Market_Capitalisation] AS [Market_Capitalisation], 
    [Project1].[Risk_Premium] AS [Risk_Premium], 
    [Project1].[Exit_Price] AS [Exit_Price], 
    [Project1].[Total_Return_ME_1YR] AS [Total_Return_ME_1YR], 
    [Project1].[Total_Return_ME_2YR] AS [Total_Return_ME_2YR], 
    [Project1].[Total_Return_ME_3YR] AS [Total_Return_ME_3YR], 
    [Project1].[Historic_Distribution] AS [Historic_Distribution], 
    [Project1].[Distribution_Growth_Forecast_Yr1] AS [Distribution_Growth_Forecast_Yr1], 
    [Project1].[Distribution_Growth_Forecast_Yr2] AS [Distribution_Growth_Forecast_Yr2], 
    [Project1].[Distribution_Growth_Forecast_Yr3] AS [Distribution_Growth_Forecast_Yr3], 
    [Project1].[Forecast_Distribution_Yr1] AS [Forecast_Distribution_Yr1], 
    [Project1].[Forecast_Distribution_Yr2] AS [Forecast_Distribution_Yr2], 
    [Project1].[Forecast_Distribution_Yr3] AS [Forecast_Distribution_Yr3], 
    [Project1].[Earnings_Growth_Compounded] AS [Earnings_Growth_Compounded], 
    [Project1].[Earnings_Forecast_Yr3] AS [Earnings_Forecast_Yr3], 
    [Project1].[Historic_Dividend_Yield_FYE] AS [Historic_Dividend_Yield_FYE], 
    [Project1].[Forward_Dividend_Yield_FYE] AS [Forward_Dividend_Yield_FYE], 
    [Project1].[Yr3_Forward_Dividend_Yield] AS [Yr3_Forward_Dividend_Yield], 
    [Project1].[Rolling_12M_Forward_Yield] AS [Rolling_12M_Forward_Yield], 
    [Project1].[Historical_Earnings_FYE] AS [Historical_Earnings_FYE], 
    [Project1].[Earnings_Forecast_Yr1] AS [Earnings_Forecast_Yr1], 
    [Project1].[Earnings_Forecast_Yr2] AS [Earnings_Forecast_Yr2], 
    [Project1].[Historic_Dividend_Yield_Relative] AS [Historic_Dividend_Yield_Relative], 
    [Project1].[Rolling_12M_Historic_Distribution_PriceCurr] AS [Rolling_12M_Historic_Distribution_PriceCurr], 
    [Project1].[Short_Term_Market_Rerate] AS [Short_Term_Market_Rerate], 
    [Project1].[Forecast_12M_Total_Return] AS [Forecast_12M_Total_Return], 
    [Project1].[Clean_Price] AS [Clean_Price], 
    [Project1].[Rolling_Dividend_Yield_Historic] AS [Rolling_Dividend_Yield_Historic], 
    [Project1].[Last_Update_Date] AS [Last_Update_Date], 
    [Project1].[Last_Update_User] AS [Last_Update_User], 
    [Project1].[Discount_Security_ID] AS [Discount_Security_ID], 
    [Project1].[Net_Present_Value] AS [Net_Present_Value], 
    [Project1].[Forecast_Rolling_Custom_Income] AS [Forecast_Rolling_Custom_Income], 
    [Project1].[Custom_Period] AS [Custom_Period], 
    [Project1].[Rolling_12M_Historic_Distribution] AS [Rolling_12M_Historic_Distribution], 
    [Project1].[Record_Date] AS [Record_Date], 
    [Project1].[Session_ID] AS [Session_ID], 
    [Project1].[Hist_Last_Update_Date] AS [Hist_Last_Update_Date], 
    [Project1].[Hist_Last_Update_User] AS [Hist_Last_Update_User], 
    [Project1].[Rolling_12M_Forecast_Distribution] AS [Rolling_12M_Forecast_Distribution], 
    [Project1].[Yr2_Forward_Dividend_Yield] AS [Yr2_Forward_Dividend_Yield], 
    [Project1].[Exit_Yield] AS [Exit_Yield], 
    [Project1].[Discount_Rate] AS [Discount_Rate], 
    [Project1].[Distribution_Growth_Compounded] AS [Distribution_Growth_Compounded], 
    [Project1].[Forecast_12MRolling_Income_Accrual] AS [Forecast_12MRolling_Income_Accrual], 
    [Project1].[Rolling_12_to_24M_Forecast_Distribution] AS [Rolling_12_to_24M_Forecast_Distribution], 
    [Project1].[Rolling_24_to_36M_Forecast_Distribution] AS [Rolling_24_to_36M_Forecast_Distribution], 
    [Project1].[Forecast_Yr1_Dividend_Yield_Relative] AS [Forecast_Yr1_Dividend_Yield_Relative], 
    [Project1].[Market_Historic_Yield] AS [Market_Historic_Yield], 
    [Project1].[Market_Forward_Yield] AS [Market_Forward_Yield], 
    [Project1].[Historic_Distribution_PriceCurr] AS [Historic_Distribution_PriceCurr], 
    [Project1].[Forecast_Distribution_Yr1_PriceCurr] AS [Forecast_Distribution_Yr1_PriceCurr], 
    [Project1].[Forecast_Distribution_Yr2_PriceCurr] AS [Forecast_Distribution_Yr2_PriceCurr], 
    [Project1].[Forecast_Distribution_Yr3_PriceCurr] AS [Forecast_Distribution_Yr3_PriceCurr], 
    [Project1].[Rolling_12M_Forecast_Distribution_PriceCurr] AS [Rolling_12M_Forecast_Distribution_PriceCurr], 
    [Project1].[Rolling_12_24M_Forecast_Distribution_PriceCurr] AS [Rolling_12_24M_Forecast_Distribution_PriceCurr], 
    [Project1].[Rolling_24_36M_Forecast_Distribution_PriceCurr] AS [Rolling_24_36M_Forecast_Distribution_PriceCurr], 
    [Project1].[Distribution_Growth_Forecast_Yr4] AS [Distribution_Growth_Forecast_Yr4], 
    [Project1].[Earnings_Forecast_Yr4] AS [Earnings_Forecast_Yr4], 
    [Project1].[Forecast_Distribution_Yr4] AS [Forecast_Distribution_Yr4], 
    [Project1].[Forecast_Distribution_Yr4_PriceCurr] AS [Forecast_Distribution_Yr4_PriceCurr], 
    [Project1].[Security_ID1] AS [Security_ID1], 
    [Project1].[Entity_ID1] AS [Entity_ID1], 
    [Project1].[Security_Name] AS [Security_Name], 
    [Project1].[Short_Name] AS [Short_Name], 
    [Project1].[Primary_Exch] AS [Primary_Exch], 
    [Project1].[Secondary_Exch] AS [Secondary_Exch], 
    [Project1].[Country_Of_Domicile] AS [Country_Of_Domicile], 
    [Project1].[Country_Of_Risk] AS [Country_Of_Risk], 
    [Project1].[Security_Type_Code] AS [Security_Type_Code], 
    [Project1].[Price_Multiplier] AS [Price_Multiplier], 
    [Project1].[Income_Frequency] AS [Income_Frequency], 
    [Project1].[Issuer_Code] AS [Issuer_Code], 
    [Project1].[Ultimate_Issuer_Code] AS [Ultimate_Issuer_Code], 
    [Project1].[Asset_Currency] AS [Asset_Currency], 
    [Project1].[Min_Lot_Size] AS [Min_Lot_Size], 
    [Project1].[AvePrice_Rounding] AS [AvePrice_Rounding], 
    [Project1].[Issue_Date] AS [Issue_Date], 
    [Project1].[Maturity_Date] AS [Maturity_Date], 
    [Project1].[Coupon_Rate] AS [Coupon_Rate], 
    [Project1].[Price_Exchange] AS [Price_Exchange], 
    [Project1].[Trade_Currency] AS [Trade_Currency], 
    [Project1].[Price_Curr] AS [Price_Curr], 
    [Project1].[Currency_Pair_Code] AS [Currency_Pair_Code], 
    [Project1].[Share_Class] AS [Share_Class], 
    [Project1].[Current_Market_Price] AS [Current_Market_Price], 
    [Project1].[Index_Type] AS [Index_Type], 
    [Project1].[Clean_Price_Formula] AS [Clean_Price_Formula], 
    [Project1].[Accrued_Income_Price_Formula] AS [Accrued_Income_Price_Formula], 
    [Project1].[Odd_First_Coupon_Date] AS [Odd_First_Coupon_Date], 
    [Project1].[Odd_Last_Coupon_Date] AS [Odd_Last_Coupon_Date], 
    [Project1].[Coupon_Anniversary_Indicator] AS [Coupon_Anniversary_Indicator], 
    [Project1].[Track_EOM_Flag] AS [Track_EOM_Flag], 
    [Project1].[Next_Coupon_Date] AS [Next_Coupon_Date], 
    [Project1].[Previous_Coupon_Date] AS [Previous_Coupon_Date], 
    [Project1].[Payment_Frequency] AS [Payment_Frequency], 
    [Project1].[Coupon_BusDay_Adjustment] AS [Coupon_BusDay_Adjustment], 
    [Project1].[Next_Ex_Div_Date] AS [Next_Ex_Div_Date], 
    [Project1].[Ex_Div_BusDay_Adjustment] AS [Ex_Div_BusDay_Adjustment], 
    [Project1].[Ex_Div_Period] AS [Ex_Div_Period], 
    [Project1].[Ticker] AS [Ticker], 
    [Project1].[Inet_ID] AS [Inet_ID], 
    [Project1].[Bloomberg_ID] AS [Bloomberg_ID], 
    [Project1].[External_Sec_ID] AS [External_Sec_ID], 
    [Project1].[Reuters_ID] AS [Reuters_ID], 
    [Project1].[ISIN] AS [ISIN], 
    [Project1].[Call_Account_Flag] AS [Call_Account_Flag], 
    [Project1].[System_Locked] AS [System_Locked], 
    [Project1].[Last_Update_User1] AS [Last_Update_User1], 
    [Project1].[Last_Update_Date1] AS [Last_Update_Date1], 
    [Project1].[Security_Status] AS [Security_Status], 
    [Project1].[Benchmark_Portfolio] AS [Benchmark_Portfolio], 
    [Project1].[Active_flag] AS [Active_flag], 
    [Project1].[Dividend_FX_Security_ID] AS [Dividend_FX_Security_ID]
    FROM ( SELECT 
        [Extent1].[Entity_ID] AS [Entity_ID], 
        [Extent1].[Security_ID] AS [Security_ID], 
        [Extent1].[Issued_Amount] AS [Issued_Amount], 
        [Extent1].[Market_Capitalisation] AS [Market_Capitalisation], 
        [Extent1].[Risk_Premium] AS [Risk_Premium], 
        [Extent1].[Exit_Price] AS [Exit_Price], 
        [Extent1].[Total_Return_ME_1YR] AS [Total_Return_ME_1YR], 
        [Extent1].[Total_Return_ME_2YR] AS [Total_Return_ME_2YR], 
        [Extent1].[Total_Return_ME_3YR] AS [Total_Return_ME_3YR], 
        [Extent1].[Historic_Distribution] AS [Historic_Distribution], 
        [Extent1].[Distribution_Growth_Forecast_Yr1] AS [Distribution_Growth_Forecast_Yr1], 
        [Extent1].[Distribution_Growth_Forecast_Yr2] AS [Distribution_Growth_Forecast_Yr2], 
        [Extent1].[Distribution_Growth_Forecast_Yr3] AS [Distribution_Growth_Forecast_Yr3], 
        [Extent1].[Forecast_Distribution_Yr1] AS [Forecast_Distribution_Yr1], 
        [Extent1].[Forecast_Distribution_Yr2] AS [Forecast_Distribution_Yr2], 
        [Extent1].[Forecast_Distribution_Yr3] AS [Forecast_Distribution_Yr3], 
        [Extent1].[Earnings_Growth_Compounded] AS [Earnings_Growth_Compounded], 
        [Extent1].[Earnings_Forecast_Yr3] AS [Earnings_Forecast_Yr3], 
        [Extent1].[Historic_Dividend_Yield_FYE] AS [Historic_Dividend_Yield_FYE], 
        [Extent1].[Forward_Dividend_Yield_FYE] AS [Forward_Dividend_Yield_FYE], 
        [Extent1].[Yr3_Forward_Dividend_Yield] AS [Yr3_Forward_Dividend_Yield], 
        [Extent1].[Rolling_12M_Forward_Yield] AS [Rolling_12M_Forward_Yield], 
        [Extent1].[Historical_Earnings_FYE] AS [Historical_Earnings_FYE], 
        [Extent1].[Earnings_Forecast_Yr1] AS [Earnings_Forecast_Yr1], 
        [Extent1].[Earnings_Forecast_Yr2] AS [Earnings_Forecast_Yr2], 
        [Extent1].[Historic_Dividend_Yield_Relative] AS [Historic_Dividend_Yield_Relative], 
        [Extent1].[Rolling_12M_Historic_Distribution_PriceCurr] AS [Rolling_12M_Historic_Distribution_PriceCurr], 
        [Extent1].[Short_Term_Market_Rerate] AS [Short_Term_Market_Rerate], 
        [Extent1].[Forecast_12M_Total_Return] AS [Forecast_12M_Total_Return], 
        [Extent1].[Clean_Price] AS [Clean_Price], 
        [Extent1].[Rolling_Dividend_Yield_Historic] AS [Rolling_Dividend_Yield_Historic], 
        [Extent1].[Last_Update_Date] AS [Last_Update_Date], 
        [Extent1].[Last_Update_User] AS [Last_Update_User], 
        [Extent1].[Discount_Security_ID] AS [Discount_Security_ID], 
        [Extent1].[Net_Present_Value] AS [Net_Present_Value], 
        [Extent1].[Forecast_Rolling_Custom_Income] AS [Forecast_Rolling_Custom_Income], 
        [Extent1].[Custom_Period] AS [Custom_Period], 
        [Extent1].[Rolling_12M_Historic_Distribution] AS [Rolling_12M_Historic_Distribution], 
        [Extent1].[Record_Date] AS [Record_Date], 
        [Extent1].[Session_ID] AS [Session_ID], 
        [Extent1].[Hist_Last_Update_Date] AS [Hist_Last_Update_Date], 
        [Extent1].[Hist_Last_Update_User] AS [Hist_Last_Update_User], 
        [Extent1].[Rolling_12M_Forecast_Distribution] AS [Rolling_12M_Forecast_Distribution], 
        [Extent1].[Yr2_Forward_Dividend_Yield] AS [Yr2_Forward_Dividend_Yield], 
        [Extent1].[Exit_Yield] AS [Exit_Yield], 
        [Extent1].[Discount_Rate] AS [Discount_Rate], 
        [Extent1].[Distribution_Growth_Compounded] AS [Distribution_Growth_Compounded], 
        [Extent1].[Forecast_12MRolling_Income_Accrual] AS [Forecast_12MRolling_Income_Accrual], 
        [Extent1].[Rolling_12_to_24M_Forecast_Distribution] AS [Rolling_12_to_24M_Forecast_Distribution], 
        [Extent1].[Rolling_24_to_36M_Forecast_Distribution] AS [Rolling_24_to_36M_Forecast_Distribution], 
        [Extent1].[Forecast_Yr1_Dividend_Yield_Relative] AS [Forecast_Yr1_Dividend_Yield_Relative], 
        [Extent1].[Market_Historic_Yield] AS [Market_Historic_Yield], 
        [Extent1].[Market_Forward_Yield] AS [Market_Forward_Yield], 
        [Extent1].[Historic_Distribution_PriceCurr] AS [Historic_Distribution_PriceCurr], 
        [Extent1].[Forecast_Distribution_Yr1_PriceCurr] AS [Forecast_Distribution_Yr1_PriceCurr], 
        [Extent1].[Forecast_Distribution_Yr2_PriceCurr] AS [Forecast_Distribution_Yr2_PriceCurr], 
        [Extent1].[Forecast_Distribution_Yr3_PriceCurr] AS [Forecast_Distribution_Yr3_PriceCurr], 
        [Extent1].[Rolling_12M_Forecast_Distribution_PriceCurr] AS [Rolling_12M_Forecast_Distribution_PriceCurr], 
        [Extent1].[Rolling_12_24M_Forecast_Distribution_PriceCurr] AS [Rolling_12_24M_Forecast_Distribution_PriceCurr], 
        [Extent1].[Rolling_24_36M_Forecast_Distribution_PriceCurr] AS [Rolling_24_36M_Forecast_Distribution_PriceCurr], 
        [Extent1].[Distribution_Growth_Forecast_Yr4] AS [Distribution_Growth_Forecast_Yr4], 
        [Extent1].[Earnings_Forecast_Yr4] AS [Earnings_Forecast_Yr4], 
        [Extent1].[Forecast_Distribution_Yr4] AS [Forecast_Distribution_Yr4], 
        [Extent1].[Forecast_Distribution_Yr4_PriceCurr] AS [Forecast_Distribution_Yr4_PriceCurr], 
        [Extent2].[Security_ID] AS [Security_ID1], 
        [Extent2].[Entity_ID] AS [Entity_ID1], 
        [Extent2].[Security_Name] AS [Security_Name], 
        [Extent2].[Short_Name] AS [Short_Name], 
        [Extent2].[Primary_Exch] AS [Primary_Exch], 
        [Extent2].[Secondary_Exch] AS [Secondary_Exch], 
        [Extent2].[Country_Of_Domicile] AS [Country_Of_Domicile], 
        [Extent2].[Country_Of_Risk] AS [Country_Of_Risk], 
        [Extent2].[Security_Type_Code] AS [Security_Type_Code], 
        [Extent2].[Price_Multiplier] AS [Price_Multiplier], 
        [Extent2].[Income_Frequency] AS [Income_Frequency], 
        [Extent2].[Issuer_Code] AS [Issuer_Code], 
        [Extent2].[Ultimate_Issuer_Code] AS [Ultimate_Issuer_Code], 
        [Extent2].[Asset_Currency] AS [Asset_Currency], 
        [Extent2].[Min_Lot_Size] AS [Min_Lot_Size], 
        [Extent2].[Decimal_Precision] AS [Decimal_Precision], 
        [Extent2].[AvePrice_Rounding] AS [AvePrice_Rounding], 
        [Extent2].[Issue_Date] AS [Issue_Date], 
        [Extent2].[Maturity_Date] AS [Maturity_Date], 
        [Extent2].[Coupon_Rate] AS [Coupon_Rate], 
        [Extent2].[Price_Exchange] AS [Price_Exchange], 
        [Extent2].[Trade_Currency] AS [Trade_Currency], 
        [Extent2].[Price_Curr] AS [Price_Curr], 
        [Extent2].[Currency_Pair_Code] AS [Currency_Pair_Code], 
        [Extent2].[Share_Class] AS [Share_Class], 
        [Extent2].[Current_Market_Price] AS [Current_Market_Price], 
        [Extent2].[Index_Type] AS [Index_Type], 
        [Extent2].[Clean_Price_Formula] AS [Clean_Price_Formula], 
        [Extent2].[Accrued_Income_Price_Formula] AS [Accrued_Income_Price_Formula], 
        [Extent2].[Odd_First_Coupon_Date] AS [Odd_First_Coupon_Date], 
        [Extent2].[Odd_Last_Coupon_Date] AS [Odd_Last_Coupon_Date], 
        [Extent2].[Coupon_Anniversary_Indicator] AS [Coupon_Anniversary_Indicator], 
        [Extent2].[Track_EOM_Flag] AS [Track_EOM_Flag], 
        [Extent2].[Next_Coupon_Date] AS [Next_Coupon_Date], 
        [Extent2].[Previous_Coupon_Date] AS [Previous_Coupon_Date], 
        [Extent2].[Payment_Frequency] AS [Payment_Frequency], 
        [Extent2].[Coupon_BusDay_Adjustment] AS [Coupon_BusDay_Adjustment], 
        [Extent2].[Next_Ex_Div_Date] AS [Next_Ex_Div_Date], 
        [Extent2].[Ex_Div_BusDay_Adjustment] AS [Ex_Div_BusDay_Adjustment], 
        [Extent2].[Ex_Div_Period] AS [Ex_Div_Period], 
        [Extent2].[Ticker] AS [Ticker], 
        [Extent2].[Inet_ID] AS [Inet_ID], 
        [Extent2].[Bloomberg_ID] AS [Bloomberg_ID], 
        [Extent2].[External_Sec_ID] AS [External_Sec_ID], 
        [Extent2].[Reuters_ID] AS [Reuters_ID], 
        [Extent2].[ISIN] AS [ISIN], 
        [Extent2].[Call_Account_Flag] AS [Call_Account_Flag], 
        [Extent2].[System_Locked] AS [System_Locked], 
        [Extent2].[Last_Update_User] AS [Last_Update_User1], 
        [Extent2].[Last_Update_Date] AS [Last_Update_Date1], 
        [Extent2].[Security_Status] AS [Security_Status], 
        [Extent2].[Benchmark_Portfolio] AS [Benchmark_Portfolio], 
        [Extent2].[Active_flag] AS [Active_flag], 
        [Extent2].[Dividend_FX_Security_ID] AS [Dividend_FX_Security_ID]
        FROM  [dbo].[Security_Analytics_History] AS [Extent1]
        INNER JOIN [dbo].[Security_Detail] AS [Extent2] ON [Extent1].[Security_ID] = [Extent2].[Security_ID]
        WHERE [Extent1].[Security_ID] = @p__linq__0
    )  AS [Project1]
    ORDER BY [Project1].[Record_Date] DESC
2018-04-07 12:35:06.0555|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: SELECT 
    [Project1].[Decimal_Precision] AS [Decimal_Precision], 
    [Project1].[Entity_ID] AS [Entity_ID], 
    [Project1].[Security_ID] AS [Security_ID], 
    [Project1].[Issued_Amount] AS [Issued_Amount], 
    [Project1].[Market_Capitalisation] AS [Market_Capitalisation], 
    [Project1].[Risk_Premium] AS [Risk_Premium], 
    [Project1].[Exit_Price] AS [Exit_Price], 
    [Project1].[Total_Return_ME_1YR] AS [Total_Return_ME_1YR], 
    [Project1].[Total_Return_ME_2YR] AS [Total_Return_ME_2YR], 
    [Project1].[Total_Return_ME_3YR] AS [Total_Return_ME_3YR], 
    [Project1].[Historic_Distribution] AS [Historic_Distribution], 
    [Project1].[Distribution_Growth_Forecast_Yr1] AS [Distribution_Growth_Forecast_Yr1], 
    [Project1].[Distribution_Growth_Forecast_Yr2] AS [Distribution_Growth_Forecast_Yr2], 
    [Project1].[Distribution_Growth_Forecast_Yr3] AS [Distribution_Growth_Forecast_Yr3], 
    [Project1].[Forecast_Distribution_Yr1] AS [Forecast_Distribution_Yr1], 
    [Project1].[Forecast_Distribution_Yr2] AS [Forecast_Distribution_Yr2], 
    [Project1].[Forecast_Distribution_Yr3] AS [Forecast_Distribution_Yr3], 
    [Project1].[Earnings_Growth_Compounded] AS [Earnings_Growth_Compounded], 
    [Project1].[Earnings_Forecast_Yr3] AS [Earnings_Forecast_Yr3], 
    [Project1].[Historic_Dividend_Yield_FYE] AS [Historic_Dividend_Yield_FYE], 
    [Project1].[Forward_Dividend_Yield_FYE] AS [Forward_Dividend_Yield_FYE], 
    [Project1].[Yr3_Forward_Dividend_Yield] AS [Yr3_Forward_Dividend_Yield], 
    [Project1].[Rolling_12M_Forward_Yield] AS [Rolling_12M_Forward_Yield], 
    [Project1].[Historical_Earnings_FYE] AS [Historical_Earnings_FYE], 
    [Project1].[Earnings_Forecast_Yr1] AS [Earnings_Forecast_Yr1], 
    [Project1].[Earnings_Forecast_Yr2] AS [Earnings_Forecast_Yr2], 
    [Project1].[Historic_Dividend_Yield_Relative] AS [Historic_Dividend_Yield_Relative], 
    [Project1].[Rolling_12M_Historic_Distribution_PriceCurr] AS [Rolling_12M_Historic_Distribution_PriceCurr], 
    [Project1].[Short_Term_Market_Rerate] AS [Short_Term_Market_Rerate], 
    [Project1].[Forecast_12M_Total_Return] AS [Forecast_12M_Total_Return], 
    [Project1].[Clean_Price] AS [Clean_Price], 
    [Project1].[Rolling_Dividend_Yield_Historic] AS [Rolling_Dividend_Yield_Historic], 
    [Project1].[Last_Update_Date] AS [Last_Update_Date], 
    [Project1].[Last_Update_User] AS [Last_Update_User], 
    [Project1].[Discount_Security_ID] AS [Discount_Security_ID], 
    [Project1].[Net_Present_Value] AS [Net_Present_Value], 
    [Project1].[Forecast_Rolling_Custom_Income] AS [Forecast_Rolling_Custom_Income], 
    [Project1].[Custom_Period] AS [Custom_Period], 
    [Project1].[Rolling_12M_Historic_Distribution] AS [Rolling_12M_Historic_Distribution], 
    [Project1].[Record_Date] AS [Record_Date], 
    [Project1].[Session_ID] AS [Session_ID], 
    [Project1].[Hist_Last_Update_Date] AS [Hist_Last_Update_Date], 
    [Project1].[Hist_Last_Update_User] AS [Hist_Last_Update_User], 
    [Project1].[Rolling_12M_Forecast_Distribution] AS [Rolling_12M_Forecast_Distribution], 
    [Project1].[Yr2_Forward_Dividend_Yield] AS [Yr2_Forward_Dividend_Yield], 
    [Project1].[Exit_Yield] AS [Exit_Yield], 
    [Project1].[Discount_Rate] AS [Discount_Rate], 
    [Project1].[Distribution_Growth_Compounded] AS [Distribution_Growth_Compounded], 
    [Project1].[Forecast_12MRolling_Income_Accrual] AS [Forecast_12MRolling_Income_Accrual], 
    [Project1].[Rolling_12_to_24M_Forecast_Distribution] AS [Rolling_12_to_24M_Forecast_Distribution], 
    [Project1].[Rolling_24_to_36M_Forecast_Distribution] AS [Rolling_24_to_36M_Forecast_Distribution], 
    [Project1].[Forecast_Yr1_Dividend_Yield_Relative] AS [Forecast_Yr1_Dividend_Yield_Relative], 
    [Project1].[Market_Historic_Yield] AS [Market_Historic_Yield], 
    [Project1].[Market_Forward_Yield] AS [Market_Forward_Yield], 
    [Project1].[Historic_Distribution_PriceCurr] AS [Historic_Distribution_PriceCurr], 
    [Project1].[Forecast_Distribution_Yr1_PriceCurr] AS [Forecast_Distribution_Yr1_PriceCurr], 
    [Project1].[Forecast_Distribution_Yr2_PriceCurr] AS [Forecast_Distribution_Yr2_PriceCurr], 
    [Project1].[Forecast_Distribution_Yr3_PriceCurr] AS [Forecast_Distribution_Yr3_PriceCurr], 
    [Project1].[Rolling_12M_Forecast_Distribution_PriceCurr] AS [Rolling_12M_Forecast_Distribution_PriceCurr], 
    [Project1].[Rolling_12_24M_Forecast_Distribution_PriceCurr] AS [Rolling_12_24M_Forecast_Distribution_PriceCurr], 
    [Project1].[Rolling_24_36M_Forecast_Distribution_PriceCurr] AS [Rolling_24_36M_Forecast_Distribution_PriceCurr], 
    [Project1].[Distribution_Growth_Forecast_Yr4] AS [Distribution_Growth_Forecast_Yr4], 
    [Project1].[Earnings_Forecast_Yr4] AS [Earnings_Forecast_Yr4], 
    [Project1].[Forecast_Distribution_Yr4] AS [Forecast_Distribution_Yr4], 
    [Project1].[Forecast_Distribution_Yr4_PriceCurr] AS [Forecast_Distribution_Yr4_PriceCurr], 
    [Project1].[Security_ID1] AS [Security_ID1], 
    [Project1].[Entity_ID1] AS [Entity_ID1], 
    [Project1].[Security_Name] AS [Security_Name], 
    [Project1].[Short_Name] AS [Short_Name], 
    [Project1].[Primary_Exch] AS [Primary_Exch], 
    [Project1].[Secondary_Exch] AS [Secondary_Exch], 
    [Project1].[Country_Of_Domicile] AS [Country_Of_Domicile], 
    [Project1].[Country_Of_Risk] AS [Country_Of_Risk], 
    [Project1].[Security_Type_Code] AS [Security_Type_Code], 
    [Project1].[Price_Multiplier] AS [Price_Multiplier], 
    [Project1].[Income_Frequency] AS [Income_Frequency], 
    [Project1].[Issuer_Code] AS [Issuer_Code], 
    [Project1].[Ultimate_Issuer_Code] AS [Ultimate_Issuer_Code], 
    [Project1].[Asset_Currency] AS [Asset_Currency], 
    [Project1].[Min_Lot_Size] AS [Min_Lot_Size], 
    [Project1].[AvePrice_Rounding] AS [AvePrice_Rounding], 
    [Project1].[Issue_Date] AS [Issue_Date], 
    [Project1].[Maturity_Date] AS [Maturity_Date], 
    [Project1].[Coupon_Rate] AS [Coupon_Rate], 
    [Project1].[Price_Exchange] AS [Price_Exchange], 
    [Project1].[Trade_Currency] AS [Trade_Currency], 
    [Project1].[Price_Curr] AS [Price_Curr], 
    [Project1].[Currency_Pair_Code] AS [Currency_Pair_Code], 
    [Project1].[Share_Class] AS [Share_Class], 
    [Project1].[Current_Market_Price] AS [Current_Market_Price], 
    [Project1].[Index_Type] AS [Index_Type], 
    [Project1].[Clean_Price_Formula] AS [Clean_Price_Formula], 
    [Project1].[Accrued_Income_Price_Formula] AS [Accrued_Income_Price_Formula], 
    [Project1].[Odd_First_Coupon_Date] AS [Odd_First_Coupon_Date], 
    [Project1].[Odd_Last_Coupon_Date] AS [Odd_Last_Coupon_Date], 
    [Project1].[Coupon_Anniversary_Indicator] AS [Coupon_Anniversary_Indicator], 
    [Project1].[Track_EOM_Flag] AS [Track_EOM_Flag], 
    [Project1].[Next_Coupon_Date] AS [Next_Coupon_Date], 
    [Project1].[Previous_Coupon_Date] AS [Previous_Coupon_Date], 
    [Project1].[Payment_Frequency] AS [Payment_Frequency], 
    [Project1].[Coupon_BusDay_Adjustment] AS [Coupon_BusDay_Adjustment], 
    [Project1].[Next_Ex_Div_Date] AS [Next_Ex_Div_Date], 
    [Project1].[Ex_Div_BusDay_Adjustment] AS [Ex_Div_BusDay_Adjustment], 
    [Project1].[Ex_Div_Period] AS [Ex_Div_Period], 
    [Project1].[Ticker] AS [Ticker], 
    [Project1].[Inet_ID] AS [Inet_ID], 
    [Project1].[Bloomberg_ID] AS [Bloomberg_ID], 
    [Project1].[External_Sec_ID] AS [External_Sec_ID], 
    [Project1].[Reuters_ID] AS [Reuters_ID], 
    [Project1].[ISIN] AS [ISIN], 
    [Project1].[Call_Account_Flag] AS [Call_Account_Flag], 
    [Project1].[System_Locked] AS [System_Locked], 
    [Project1].[Last_Update_User1] AS [Last_Update_User1], 
    [Project1].[Last_Update_Date1] AS [Last_Update_Date1], 
    [Project1].[Security_Status] AS [Security_Status], 
    [Project1].[Benchmark_Portfolio] AS [Benchmark_Portfolio], 
    [Project1].[Active_flag] AS [Active_flag], 
    [Project1].[Dividend_FX_Security_ID] AS [Dividend_FX_Security_ID]
    FROM ( SELECT 
        [Extent1].[Entity_ID] AS [Entity_ID], 
        [Extent1].[Security_ID] AS [Security_ID], 
        [Extent1].[Issued_Amount] AS [Issued_Amount], 
        [Extent1].[Market_Capitalisation] AS [Market_Capitalisation], 
        [Extent1].[Risk_Premium] AS [Risk_Premium], 
        [Extent1].[Exit_Price] AS [Exit_Price], 
        [Extent1].[Total_Return_ME_1YR] AS [Total_Return_ME_1YR], 
        [Extent1].[Total_Return_ME_2YR] AS [Total_Return_ME_2YR], 
        [Extent1].[Total_Return_ME_3YR] AS [Total_Return_ME_3YR], 
        [Extent1].[Historic_Distribution] AS [Historic_Distribution], 
        [Extent1].[Distribution_Growth_Forecast_Yr1] AS [Distribution_Growth_Forecast_Yr1], 
        [Extent1].[Distribution_Growth_Forecast_Yr2] AS [Distribution_Growth_Forecast_Yr2], 
        [Extent1].[Distribution_Growth_Forecast_Yr3] AS [Distribution_Growth_Forecast_Yr3], 
        [Extent1].[Forecast_Distribution_Yr1] AS [Forecast_Distribution_Yr1], 
        [Extent1].[Forecast_Distribution_Yr2] AS [Forecast_Distribution_Yr2], 
        [Extent1].[Forecast_Distribution_Yr3] AS [Forecast_Distribution_Yr3], 
        [Extent1].[Earnings_Growth_Compounded] AS [Earnings_Growth_Compounded], 
        [Extent1].[Earnings_Forecast_Yr3] AS [Earnings_Forecast_Yr3], 
        [Extent1].[Historic_Dividend_Yield_FYE] AS [Historic_Dividend_Yield_FYE], 
        [Extent1].[Forward_Dividend_Yield_FYE] AS [Forward_Dividend_Yield_FYE], 
        [Extent1].[Yr3_Forward_Dividend_Yield] AS [Yr3_Forward_Dividend_Yield], 
        [Extent1].[Rolling_12M_Forward_Yield] AS [Rolling_12M_Forward_Yield], 
        [Extent1].[Historical_Earnings_FYE] AS [Historical_Earnings_FYE], 
        [Extent1].[Earnings_Forecast_Yr1] AS [Earnings_Forecast_Yr1], 
        [Extent1].[Earnings_Forecast_Yr2] AS [Earnings_Forecast_Yr2], 
        [Extent1].[Historic_Dividend_Yield_Relative] AS [Historic_Dividend_Yield_Relative], 
        [Extent1].[Rolling_12M_Historic_Distribution_PriceCurr] AS [Rolling_12M_Historic_Distribution_PriceCurr], 
        [Extent1].[Short_Term_Market_Rerate] AS [Short_Term_Market_Rerate], 
        [Extent1].[Forecast_12M_Total_Return] AS [Forecast_12M_Total_Return], 
        [Extent1].[Clean_Price] AS [Clean_Price], 
        [Extent1].[Rolling_Dividend_Yield_Historic] AS [Rolling_Dividend_Yield_Historic], 
        [Extent1].[Last_Update_Date] AS [Last_Update_Date], 
        [Extent1].[Last_Update_User] AS [Last_Update_User], 
        [Extent1].[Discount_Security_ID] AS [Discount_Security_ID], 
        [Extent1].[Net_Present_Value] AS [Net_Present_Value], 
        [Extent1].[Forecast_Rolling_Custom_Income] AS [Forecast_Rolling_Custom_Income], 
        [Extent1].[Custom_Period] AS [Custom_Period], 
        [Extent1].[Rolling_12M_Historic_Distribution] AS [Rolling_12M_Historic_Distribution], 
        [Extent1].[Record_Date] AS [Record_Date], 
        [Extent1].[Session_ID] AS [Session_ID], 
        [Extent1].[Hist_Last_Update_Date] AS [Hist_Last_Update_Date], 
        [Extent1].[Hist_Last_Update_User] AS [Hist_Last_Update_User], 
        [Extent1].[Rolling_12M_Forecast_Distribution] AS [Rolling_12M_Forecast_Distribution], 
        [Extent1].[Yr2_Forward_Dividend_Yield] AS [Yr2_Forward_Dividend_Yield], 
        [Extent1].[Exit_Yield] AS [Exit_Yield], 
        [Extent1].[Discount_Rate] AS [Discount_Rate], 
        [Extent1].[Distribution_Growth_Compounded] AS [Distribution_Growth_Compounded], 
        [Extent1].[Forecast_12MRolling_Income_Accrual] AS [Forecast_12MRolling_Income_Accrual], 
        [Extent1].[Rolling_12_to_24M_Forecast_Distribution] AS [Rolling_12_to_24M_Forecast_Distribution], 
        [Extent1].[Rolling_24_to_36M_Forecast_Distribution] AS [Rolling_24_to_36M_Forecast_Distribution], 
        [Extent1].[Forecast_Yr1_Dividend_Yield_Relative] AS [Forecast_Yr1_Dividend_Yield_Relative], 
        [Extent1].[Market_Historic_Yield] AS [Market_Historic_Yield], 
        [Extent1].[Market_Forward_Yield] AS [Market_Forward_Yield], 
        [Extent1].[Historic_Distribution_PriceCurr] AS [Historic_Distribution_PriceCurr], 
        [Extent1].[Forecast_Distribution_Yr1_PriceCurr] AS [Forecast_Distribution_Yr1_PriceCurr], 
        [Extent1].[Forecast_Distribution_Yr2_PriceCurr] AS [Forecast_Distribution_Yr2_PriceCurr], 
        [Extent1].[Forecast_Distribution_Yr3_PriceCurr] AS [Forecast_Distribution_Yr3_PriceCurr], 
        [Extent1].[Rolling_12M_Forecast_Distribution_PriceCurr] AS [Rolling_12M_Forecast_Distribution_PriceCurr], 
        [Extent1].[Rolling_12_24M_Forecast_Distribution_PriceCurr] AS [Rolling_12_24M_Forecast_Distribution_PriceCurr], 
        [Extent1].[Rolling_24_36M_Forecast_Distribution_PriceCurr] AS [Rolling_24_36M_Forecast_Distribution_PriceCurr], 
        [Extent1].[Distribution_Growth_Forecast_Yr4] AS [Distribution_Growth_Forecast_Yr4], 
        [Extent1].[Earnings_Forecast_Yr4] AS [Earnings_Forecast_Yr4], 
        [Extent1].[Forecast_Distribution_Yr4] AS [Forecast_Distribution_Yr4], 
        [Extent1].[Forecast_Distribution_Yr4_PriceCurr] AS [Forecast_Distribution_Yr4_PriceCurr], 
        [Extent2].[Security_ID] AS [Security_ID1], 
        [Extent2].[Entity_ID] AS [Entity_ID1], 
        [Extent2].[Security_Name] AS [Security_Name], 
        [Extent2].[Short_Name] AS [Short_Name], 
        [Extent2].[Primary_Exch] AS [Primary_Exch], 
        [Extent2].[Secondary_Exch] AS [Secondary_Exch], 
        [Extent2].[Country_Of_Domicile] AS [Country_Of_Domicile], 
        [Extent2].[Country_Of_Risk] AS [Country_Of_Risk], 
        [Extent2].[Security_Type_Code] AS [Security_Type_Code], 
        [Extent2].[Price_Multiplier] AS [Price_Multiplier], 
        [Extent2].[Income_Frequency] AS [Income_Frequency], 
        [Extent2].[Issuer_Code] AS [Issuer_Code], 
        [Extent2].[Ultimate_Issuer_Code] AS [Ultimate_Issuer_Code], 
        [Extent2].[Asset_Currency] AS [Asset_Currency], 
        [Extent2].[Min_Lot_Size] AS [Min_Lot_Size], 
        [Extent2].[Decimal_Precision] AS [Decimal_Precision], 
        [Extent2].[AvePrice_Rounding] AS [AvePrice_Rounding], 
        [Extent2].[Issue_Date] AS [Issue_Date], 
        [Extent2].[Maturity_Date] AS [Maturity_Date], 
        [Extent2].[Coupon_Rate] AS [Coupon_Rate], 
        [Extent2].[Price_Exchange] AS [Price_Exchange], 
        [Extent2].[Trade_Currency] AS [Trade_Currency], 
        [Extent2].[Price_Curr] AS [Price_Curr], 
        [Extent2].[Currency_Pair_Code] AS [Currency_Pair_Code], 
        [Extent2].[Share_Class] AS [Share_Class], 
        [Extent2].[Current_Market_Price] AS [Current_Market_Price], 
        [Extent2].[Index_Type] AS [Index_Type], 
        [Extent2].[Clean_Price_Formula] AS [Clean_Price_Formula], 
        [Extent2].[Accrued_Income_Price_Formula] AS [Accrued_Income_Price_Formula], 
        [Extent2].[Odd_First_Coupon_Date] AS [Odd_First_Coupon_Date], 
        [Extent2].[Odd_Last_Coupon_Date] AS [Odd_Last_Coupon_Date], 
        [Extent2].[Coupon_Anniversary_Indicator] AS [Coupon_Anniversary_Indicator], 
        [Extent2].[Track_EOM_Flag] AS [Track_EOM_Flag], 
        [Extent2].[Next_Coupon_Date] AS [Next_Coupon_Date], 
        [Extent2].[Previous_Coupon_Date] AS [Previous_Coupon_Date], 
        [Extent2].[Payment_Frequency] AS [Payment_Frequency], 
        [Extent2].[Coupon_BusDay_Adjustment] AS [Coupon_BusDay_Adjustment], 
        [Extent2].[Next_Ex_Div_Date] AS [Next_Ex_Div_Date], 
        [Extent2].[Ex_Div_BusDay_Adjustment] AS [Ex_Div_BusDay_Adjustment], 
        [Extent2].[Ex_Div_Period] AS [Ex_Div_Period], 
        [Extent2].[Ticker] AS [Ticker], 
        [Extent2].[Inet_ID] AS [Inet_ID], 
        [Extent2].[Bloomberg_ID] AS [Bloomberg_ID], 
        [Extent2].[External_Sec_ID] AS [External_Sec_ID], 
        [Extent2].[Reuters_ID] AS [Reuters_ID], 
        [Extent2].[ISIN] AS [ISIN], 
        [Extent2].[Call_Account_Flag] AS [Call_Account_Flag], 
        [Extent2].[System_Locked] AS [System_Locked], 
        [Extent2].[Last_Update_User] AS [Last_Update_User1], 
        [Extent2].[Last_Update_Date] AS [Last_Update_Date1], 
        [Extent2].[Security_Status] AS [Security_Status], 
        [Extent2].[Benchmark_Portfolio] AS [Benchmark_Portfolio], 
        [Extent2].[Active_flag] AS [Active_flag], 
        [Extent2].[Dividend_FX_Security_ID] AS [Dividend_FX_Security_ID]
        FROM  [dbo].[Security_Analytics_History] AS [Extent1]
        INNER JOIN [dbo].[Security_Detail] AS [Extent2] ON [Extent1].[Security_ID] = [Extent2].[Security_ID]
        WHERE [Extent1].[Security_ID] = @p__linq__0
    )  AS [Project1]
    ORDER BY [Project1].[Record_Date] DESC
2018-04-07 12:35:06.1371|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: IF db_id(N'MetopeAzureDb') IS NOT NULL SELECT 1 ELSE SELECT Count(*) FROM sys.databases WHERE [name]=N'MetopeAzureDb'
2018-04-07 12:35:06.1631|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: IF db_id(N'MetopeAzureDb') IS NOT NULL SELECT 1 ELSE SELECT Count(*) FROM sys.databases WHERE [name]=N'MetopeAzureDb'
2018-04-07 12:35:06.1861|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: IF db_id(N'MetopeAzureDb') IS NOT NULL SELECT 1 ELSE SELECT Count(*) FROM sys.databases WHERE [name]=N'MetopeAzureDb'
2018-04-07 12:35:06.2111|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: IF db_id(N'MetopeAzureDb') IS NOT NULL SELECT 1 ELSE SELECT Count(*) FROM sys.databases WHERE [name]=N'MetopeAzureDb'
2018-04-07 12:36:16.4528|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: IF db_id(N'MetopeAzureDb') IS NOT NULL SELECT 1 ELSE SELECT Count(*) FROM sys.databases WHERE [name]=N'MetopeAzureDb'
2018-04-07 12:36:16.6154|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: IF db_id(N'MetopeAzureDb') IS NOT NULL SELECT 1 ELSE SELECT Count(*) FROM sys.databases WHERE [name]=N'MetopeAzureDb'
2018-04-07 12:36:16.8101|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: SELECT TOP (1) 
    [Project1].[C1] AS [C1], 
    [Project1].[Entity_ID] AS [Entity_ID], 
    [Project1].[Security_ID] AS [Security_ID], 
    [Project1].[Portfolio_Code] AS [Portfolio_Code], 
    [Project1].[ModDietz_Performance_Quarterly] AS [ModDietz_Performance_Quarterly], 
    [Project1].[ModDietz_Performance_Monthly] AS [ModDietz_Performance_Monthly], 
    [Project1].[ModDietz_Performance_MonthToDate] AS [ModDietz_Performance_MonthToDate], 
    [Project1].[Ticker] AS [Ticker]
    FROM ( SELECT 
        [Extent1].[Security_ID] AS [Security_ID], 
        [Extent1].[Portfolio_Code] AS [Portfolio_Code], 
        [Extent1].[Entity_ID] AS [Entity_ID], 
        [Extent1].[ModDietz_Performance_Quarterly] AS [ModDietz_Performance_Quarterly], 
        [Extent1].[ModDietz_Performance_Monthly] AS [ModDietz_Performance_Monthly], 
        [Extent1].[ModDietz_Performance_MonthToDate] AS [ModDietz_Performance_MonthToDate], 
        [Extent2].[Ticker] AS [Ticker], 
        1 AS [C1]
        FROM  [dbo].[Security_Performance] AS [Extent1]
        INNER JOIN [dbo].[Security_Detail] AS [Extent2] ON [Extent1].[Security_ID] = [Extent2].[Security_ID]
        WHERE ([Extent1].[Entity_ID] = @p__linq__0) AND ([Extent1].[Portfolio_Code] = @p__linq__1) AND ([Extent1].[Entity_ID] = @p__linq__2)
    )  AS [Project1]
    ORDER BY [Project1].[Security_ID] ASC
2018-04-07 12:36:16.8786|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: SELECT TOP (1) 
    [Project1].[C1] AS [C1], 
    [Project1].[Entity_ID] AS [Entity_ID], 
    [Project1].[Security_ID] AS [Security_ID], 
    [Project1].[Portfolio_Code] AS [Portfolio_Code], 
    [Project1].[ModDietz_Performance_Quarterly] AS [ModDietz_Performance_Quarterly], 
    [Project1].[ModDietz_Performance_Monthly] AS [ModDietz_Performance_Monthly], 
    [Project1].[ModDietz_Performance_MonthToDate] AS [ModDietz_Performance_MonthToDate], 
    [Project1].[Ticker] AS [Ticker]
    FROM ( SELECT 
        [Extent1].[Security_ID] AS [Security_ID], 
        [Extent1].[Portfolio_Code] AS [Portfolio_Code], 
        [Extent1].[Entity_ID] AS [Entity_ID], 
        [Extent1].[ModDietz_Performance_Quarterly] AS [ModDietz_Performance_Quarterly], 
        [Extent1].[ModDietz_Performance_Monthly] AS [ModDietz_Performance_Monthly], 
        [Extent1].[ModDietz_Performance_MonthToDate] AS [ModDietz_Performance_MonthToDate], 
        [Extent2].[Ticker] AS [Ticker], 
        1 AS [C1]
        FROM  [dbo].[Security_Performance] AS [Extent1]
        INNER JOIN [dbo].[Security_Detail] AS [Extent2] ON [Extent1].[Security_ID] = [Extent2].[Security_ID]
        WHERE ([Extent1].[Entity_ID] = @p__linq__0) AND ([Extent1].[Portfolio_Code] = @p__linq__1) AND ([Extent1].[Entity_ID] = @p__linq__2)
    )  AS [Project1]
    ORDER BY [Project1].[Security_ID] ASC
2018-04-07 12:36:16.9477|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: SELECT 
    [Project1].[C1] AS [C1], 
    [Project1].[Entity_ID] AS [Entity_ID], 
    [Project1].[Security_ID] AS [Security_ID], 
    [Project1].[Portfolio_Code] AS [Portfolio_Code], 
    [Project1].[ModDietz_Performance_Quarterly] AS [ModDietz_Performance_Quarterly], 
    [Project1].[ModDietz_Performance_Monthly] AS [ModDietz_Performance_Monthly], 
    [Project1].[ModDietz_Performance_MonthToDate] AS [ModDietz_Performance_MonthToDate], 
    [Project1].[Ticker] AS [Ticker]
    FROM ( SELECT 
        [Extent1].[Security_ID] AS [Security_ID], 
        [Extent1].[Portfolio_Code] AS [Portfolio_Code], 
        [Extent1].[Entity_ID] AS [Entity_ID], 
        [Extent1].[ModDietz_Performance_Quarterly] AS [ModDietz_Performance_Quarterly], 
        [Extent1].[ModDietz_Performance_Monthly] AS [ModDietz_Performance_Monthly], 
        [Extent1].[ModDietz_Performance_MonthToDate] AS [ModDietz_Performance_MonthToDate], 
        [Extent2].[Ticker] AS [Ticker], 
        1 AS [C1]
        FROM  [dbo].[Security_Performance] AS [Extent1]
        INNER JOIN [dbo].[Security_Detail] AS [Extent2] ON [Extent1].[Security_ID] = [Extent2].[Security_ID]
        WHERE ([Extent1].[Entity_ID] = @p__linq__0) AND ([Extent1].[Portfolio_Code] = @p__linq__1) AND ([Extent1].[Entity_ID] = @p__linq__2)
    )  AS [Project1]
    ORDER BY [Project1].[Security_ID] ASC
2018-04-07 12:36:17.0077|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: SELECT 
    [Project1].[C1] AS [C1], 
    [Project1].[Entity_ID] AS [Entity_ID], 
    [Project1].[Security_ID] AS [Security_ID], 
    [Project1].[Portfolio_Code] AS [Portfolio_Code], 
    [Project1].[ModDietz_Performance_Quarterly] AS [ModDietz_Performance_Quarterly], 
    [Project1].[ModDietz_Performance_Monthly] AS [ModDietz_Performance_Monthly], 
    [Project1].[ModDietz_Performance_MonthToDate] AS [ModDietz_Performance_MonthToDate], 
    [Project1].[Ticker] AS [Ticker]
    FROM ( SELECT 
        [Extent1].[Security_ID] AS [Security_ID], 
        [Extent1].[Portfolio_Code] AS [Portfolio_Code], 
        [Extent1].[Entity_ID] AS [Entity_ID], 
        [Extent1].[ModDietz_Performance_Quarterly] AS [ModDietz_Performance_Quarterly], 
        [Extent1].[ModDietz_Performance_Monthly] AS [ModDietz_Performance_Monthly], 
        [Extent1].[ModDietz_Performance_MonthToDate] AS [ModDietz_Performance_MonthToDate], 
        [Extent2].[Ticker] AS [Ticker], 
        1 AS [C1]
        FROM  [dbo].[Security_Performance] AS [Extent1]
        INNER JOIN [dbo].[Security_Detail] AS [Extent2] ON [Extent1].[Security_ID] = [Extent2].[Security_ID]
        WHERE ([Extent1].[Entity_ID] = @p__linq__0) AND ([Extent1].[Portfolio_Code] = @p__linq__1) AND ([Extent1].[Entity_ID] = @p__linq__2)
    )  AS [Project1]
    ORDER BY [Project1].[Security_ID] ASC
2018-04-07 12:36:20.4708|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: IF db_id(N'MetopeAzureDb') IS NOT NULL SELECT 1 ELSE SELECT Count(*) FROM sys.databases WHERE [name]=N'MetopeAzureDb'
2018-04-07 12:36:20.4874|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: IF db_id(N'MetopeAzureDb') IS NOT NULL SELECT 1 ELSE SELECT Count(*) FROM sys.databases WHERE [name]=N'MetopeAzureDb'
2018-04-07 12:36:20.5114|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: IF db_id(N'MetopeAzureDb') IS NOT NULL SELECT 1 ELSE SELECT Count(*) FROM sys.databases WHERE [name]=N'MetopeAzureDb'
2018-04-07 12:36:20.5339|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: IF db_id(N'MetopeAzureDb') IS NOT NULL SELECT 1 ELSE SELECT Count(*) FROM sys.databases WHERE [name]=N'MetopeAzureDb'
2018-04-07 12:36:27.1662|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: SELECT TOP (1) 
    [Project1].[C1] AS [C1], 
    [Project1].[Entity_ID] AS [Entity_ID], 
    [Project1].[Security_ID] AS [Security_ID], 
    [Project1].[Portfolio_Code] AS [Portfolio_Code], 
    [Project1].[ModDietz_Performance_Quarterly] AS [ModDietz_Performance_Quarterly], 
    [Project1].[ModDietz_Performance_Monthly] AS [ModDietz_Performance_Monthly], 
    [Project1].[ModDietz_Performance_MonthToDate] AS [ModDietz_Performance_MonthToDate], 
    [Project1].[Ticker] AS [Ticker]
    FROM ( SELECT 
        [Extent1].[Security_ID] AS [Security_ID], 
        [Extent1].[Portfolio_Code] AS [Portfolio_Code], 
        [Extent1].[Entity_ID] AS [Entity_ID], 
        [Extent1].[ModDietz_Performance_Quarterly] AS [ModDietz_Performance_Quarterly], 
        [Extent1].[ModDietz_Performance_Monthly] AS [ModDietz_Performance_Monthly], 
        [Extent1].[ModDietz_Performance_MonthToDate] AS [ModDietz_Performance_MonthToDate], 
        [Extent2].[Ticker] AS [Ticker], 
        1 AS [C1]
        FROM  [dbo].[Security_Performance] AS [Extent1]
        INNER JOIN [dbo].[Security_Detail] AS [Extent2] ON [Extent1].[Security_ID] = [Extent2].[Security_ID]
        WHERE ([Extent1].[Entity_ID] = @p__linq__0) AND ([Extent1].[Portfolio_Code] = @p__linq__1) AND ([Extent1].[Entity_ID] = @p__linq__2)
    )  AS [Project1]
    ORDER BY [Project1].[Security_ID] ASC
2018-04-07 12:36:27.1952|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: SELECT TOP (1) 
    [Project1].[C1] AS [C1], 
    [Project1].[Entity_ID] AS [Entity_ID], 
    [Project1].[Security_ID] AS [Security_ID], 
    [Project1].[Portfolio_Code] AS [Portfolio_Code], 
    [Project1].[ModDietz_Performance_Quarterly] AS [ModDietz_Performance_Quarterly], 
    [Project1].[ModDietz_Performance_Monthly] AS [ModDietz_Performance_Monthly], 
    [Project1].[ModDietz_Performance_MonthToDate] AS [ModDietz_Performance_MonthToDate], 
    [Project1].[Ticker] AS [Ticker]
    FROM ( SELECT 
        [Extent1].[Security_ID] AS [Security_ID], 
        [Extent1].[Portfolio_Code] AS [Portfolio_Code], 
        [Extent1].[Entity_ID] AS [Entity_ID], 
        [Extent1].[ModDietz_Performance_Quarterly] AS [ModDietz_Performance_Quarterly], 
        [Extent1].[ModDietz_Performance_Monthly] AS [ModDietz_Performance_Monthly], 
        [Extent1].[ModDietz_Performance_MonthToDate] AS [ModDietz_Performance_MonthToDate], 
        [Extent2].[Ticker] AS [Ticker], 
        1 AS [C1]
        FROM  [dbo].[Security_Performance] AS [Extent1]
        INNER JOIN [dbo].[Security_Detail] AS [Extent2] ON [Extent1].[Security_ID] = [Extent2].[Security_ID]
        WHERE ([Extent1].[Entity_ID] = @p__linq__0) AND ([Extent1].[Portfolio_Code] = @p__linq__1) AND ([Extent1].[Entity_ID] = @p__linq__2)
    )  AS [Project1]
    ORDER BY [Project1].[Security_ID] ASC
2018-04-07 12:36:27.2372|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: SELECT 
    [Project1].[C1] AS [C1], 
    [Project1].[Entity_ID] AS [Entity_ID], 
    [Project1].[Security_ID] AS [Security_ID], 
    [Project1].[Portfolio_Code] AS [Portfolio_Code], 
    [Project1].[ModDietz_Performance_Quarterly] AS [ModDietz_Performance_Quarterly], 
    [Project1].[ModDietz_Performance_Monthly] AS [ModDietz_Performance_Monthly], 
    [Project1].[ModDietz_Performance_MonthToDate] AS [ModDietz_Performance_MonthToDate], 
    [Project1].[Ticker] AS [Ticker]
    FROM ( SELECT 
        [Extent1].[Security_ID] AS [Security_ID], 
        [Extent1].[Portfolio_Code] AS [Portfolio_Code], 
        [Extent1].[Entity_ID] AS [Entity_ID], 
        [Extent1].[ModDietz_Performance_Quarterly] AS [ModDietz_Performance_Quarterly], 
        [Extent1].[ModDietz_Performance_Monthly] AS [ModDietz_Performance_Monthly], 
        [Extent1].[ModDietz_Performance_MonthToDate] AS [ModDietz_Performance_MonthToDate], 
        [Extent2].[Ticker] AS [Ticker], 
        1 AS [C1]
        FROM  [dbo].[Security_Performance] AS [Extent1]
        INNER JOIN [dbo].[Security_Detail] AS [Extent2] ON [Extent1].[Security_ID] = [Extent2].[Security_ID]
        WHERE ([Extent1].[Entity_ID] = @p__linq__0) AND ([Extent1].[Portfolio_Code] = @p__linq__1) AND ([Extent1].[Entity_ID] = @p__linq__2)
    )  AS [Project1]
    ORDER BY [Project1].[Security_ID] ASC
2018-04-07 12:36:27.2682|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: SELECT 
    [Project1].[C1] AS [C1], 
    [Project1].[Entity_ID] AS [Entity_ID], 
    [Project1].[Security_ID] AS [Security_ID], 
    [Project1].[Portfolio_Code] AS [Portfolio_Code], 
    [Project1].[ModDietz_Performance_Quarterly] AS [ModDietz_Performance_Quarterly], 
    [Project1].[ModDietz_Performance_Monthly] AS [ModDietz_Performance_Monthly], 
    [Project1].[ModDietz_Performance_MonthToDate] AS [ModDietz_Performance_MonthToDate], 
    [Project1].[Ticker] AS [Ticker]
    FROM ( SELECT 
        [Extent1].[Security_ID] AS [Security_ID], 
        [Extent1].[Portfolio_Code] AS [Portfolio_Code], 
        [Extent1].[Entity_ID] AS [Entity_ID], 
        [Extent1].[ModDietz_Performance_Quarterly] AS [ModDietz_Performance_Quarterly], 
        [Extent1].[ModDietz_Performance_Monthly] AS [ModDietz_Performance_Monthly], 
        [Extent1].[ModDietz_Performance_MonthToDate] AS [ModDietz_Performance_MonthToDate], 
        [Extent2].[Ticker] AS [Ticker], 
        1 AS [C1]
        FROM  [dbo].[Security_Performance] AS [Extent1]
        INNER JOIN [dbo].[Security_Detail] AS [Extent2] ON [Extent1].[Security_ID] = [Extent2].[Security_ID]
        WHERE ([Extent1].[Entity_ID] = @p__linq__0) AND ([Extent1].[Portfolio_Code] = @p__linq__1) AND ([Extent1].[Entity_ID] = @p__linq__2)
    )  AS [Project1]
    ORDER BY [Project1].[Security_ID] ASC
2018-04-07 12:36:27.3463|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: IF db_id(N'MetopeAzureDb') IS NOT NULL SELECT 1 ELSE SELECT Count(*) FROM sys.databases WHERE [name]=N'MetopeAzureDb'
2018-04-07 12:36:27.3728|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: IF db_id(N'MetopeAzureDb') IS NOT NULL SELECT 1 ELSE SELECT Count(*) FROM sys.databases WHERE [name]=N'MetopeAzureDb'
2018-04-07 12:36:27.4078|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: IF db_id(N'MetopeAzureDb') IS NOT NULL SELECT 1 ELSE SELECT Count(*) FROM sys.databases WHERE [name]=N'MetopeAzureDb'
2018-04-07 12:36:27.4359|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: IF db_id(N'MetopeAzureDb') IS NOT NULL SELECT 1 ELSE SELECT Count(*) FROM sys.databases WHERE [name]=N'MetopeAzureDb'
2018-04-07 12:36:30.7232|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: SELECT 
    [Project1].[Decimal_Precision] AS [Decimal_Precision], 
    [Project1].[Security_ID] AS [Security_ID], 
    [Project1].[Portfolio_Code] AS [Portfolio_Code], 
    [Project1].[Entity_ID] AS [Entity_ID], 
    [Project1].[ModDietz_Performance_Quarterly] AS [ModDietz_Performance_Quarterly], 
    [Project1].[ModDietz_Performance_Monthly] AS [ModDietz_Performance_Monthly], 
    [Project1].[ModDietz_Performance_MonthToDate] AS [ModDietz_Performance_MonthToDate], 
    [Project1].[Dietz_Performance_Quarterly] AS [Dietz_Performance_Quarterly], 
    [Project1].[Dietz_Performance_Monthly] AS [Dietz_Performance_Monthly], 
    [Project1].[Dietz_Performance_MonthToDate] AS [Dietz_Performance_MonthToDate], 
    [Project1].[Last_Update_Date] AS [Last_Update_Date], 
    [Project1].[Last_Update_User] AS [Last_Update_User], 
    [Project1].[Record_Date] AS [Record_Date], 
    [Project1].[Session_ID] AS [Session_ID], 
    [Project1].[Hist_Last_Update_Date] AS [Hist_Last_Update_Date], 
    [Project1].[Hist_Last_Update_User] AS [Hist_Last_Update_User], 
    [Project1].[Security_ID1] AS [Security_ID1], 
    [Project1].[Entity_ID1] AS [Entity_ID1], 
    [Project1].[Security_Name] AS [Security_Name], 
    [Project1].[Short_Name] AS [Short_Name], 
    [Project1].[Primary_Exch] AS [Primary_Exch], 
    [Project1].[Secondary_Exch] AS [Secondary_Exch], 
    [Project1].[Country_Of_Domicile] AS [Country_Of_Domicile], 
    [Project1].[Country_Of_Risk] AS [Country_Of_Risk], 
    [Project1].[Security_Type_Code] AS [Security_Type_Code], 
    [Project1].[Price_Multiplier] AS [Price_Multiplier], 
    [Project1].[Income_Frequency] AS [Income_Frequency], 
    [Project1].[Issuer_Code] AS [Issuer_Code], 
    [Project1].[Ultimate_Issuer_Code] AS [Ultimate_Issuer_Code], 
    [Project1].[Asset_Currency] AS [Asset_Currency], 
    [Project1].[Min_Lot_Size] AS [Min_Lot_Size], 
    [Project1].[AvePrice_Rounding] AS [AvePrice_Rounding], 
    [Project1].[Issue_Date] AS [Issue_Date], 
    [Project1].[Maturity_Date] AS [Maturity_Date], 
    [Project1].[Coupon_Rate] AS [Coupon_Rate], 
    [Project1].[Price_Exchange] AS [Price_Exchange], 
    [Project1].[Trade_Currency] AS [Trade_Currency], 
    [Project1].[Price_Curr] AS [Price_Curr], 
    [Project1].[Currency_Pair_Code] AS [Currency_Pair_Code], 
    [Project1].[Share_Class] AS [Share_Class], 
    [Project1].[Current_Market_Price] AS [Current_Market_Price], 
    [Project1].[Index_Type] AS [Index_Type], 
    [Project1].[Clean_Price_Formula] AS [Clean_Price_Formula], 
    [Project1].[Accrued_Income_Price_Formula] AS [Accrued_Income_Price_Formula], 
    [Project1].[Odd_First_Coupon_Date] AS [Odd_First_Coupon_Date], 
    [Project1].[Odd_Last_Coupon_Date] AS [Odd_Last_Coupon_Date], 
    [Project1].[Coupon_Anniversary_Indicator] AS [Coupon_Anniversary_Indicator], 
    [Project1].[Track_EOM_Flag] AS [Track_EOM_Flag], 
    [Project1].[Next_Coupon_Date] AS [Next_Coupon_Date], 
    [Project1].[Previous_Coupon_Date] AS [Previous_Coupon_Date], 
    [Project1].[Payment_Frequency] AS [Payment_Frequency], 
    [Project1].[Coupon_BusDay_Adjustment] AS [Coupon_BusDay_Adjustment], 
    [Project1].[Next_Ex_Div_Date] AS [Next_Ex_Div_Date], 
    [Project1].[Ex_Div_BusDay_Adjustment] AS [Ex_Div_BusDay_Adjustment], 
    [Project1].[Ex_Div_Period] AS [Ex_Div_Period], 
    [Project1].[Ticker] AS [Ticker], 
    [Project1].[Inet_ID] AS [Inet_ID], 
    [Project1].[Bloomberg_ID] AS [Bloomberg_ID], 
    [Project1].[External_Sec_ID] AS [External_Sec_ID], 
    [Project1].[Reuters_ID] AS [Reuters_ID], 
    [Project1].[ISIN] AS [ISIN], 
    [Project1].[Call_Account_Flag] AS [Call_Account_Flag], 
    [Project1].[System_Locked] AS [System_Locked], 
    [Project1].[Last_Update_User1] AS [Last_Update_User1], 
    [Project1].[Last_Update_Date1] AS [Last_Update_Date1], 
    [Project1].[Security_Status] AS [Security_Status], 
    [Project1].[Benchmark_Portfolio] AS [Benchmark_Portfolio], 
    [Project1].[Active_flag] AS [Active_flag], 
    [Project1].[Dividend_FX_Security_ID] AS [Dividend_FX_Security_ID]
    FROM ( SELECT 
        [Extent1].[Security_ID] AS [Security_ID], 
        [Extent1].[Portfolio_Code] AS [Portfolio_Code], 
        [Extent1].[Entity_ID] AS [Entity_ID], 
        [Extent1].[ModDietz_Performance_Quarterly] AS [ModDietz_Performance_Quarterly], 
        [Extent1].[ModDietz_Performance_Monthly] AS [ModDietz_Performance_Monthly], 
        [Extent1].[ModDietz_Performance_MonthToDate] AS [ModDietz_Performance_MonthToDate], 
        [Extent1].[Dietz_Performance_Quarterly] AS [Dietz_Performance_Quarterly], 
        [Extent1].[Dietz_Performance_Monthly] AS [Dietz_Performance_Monthly], 
        [Extent1].[Dietz_Performance_MonthToDate] AS [Dietz_Performance_MonthToDate], 
        [Extent1].[Last_Update_Date] AS [Last_Update_Date], 
        [Extent1].[Last_Update_User] AS [Last_Update_User], 
        [Extent1].[Record_Date] AS [Record_Date], 
        [Extent1].[Session_ID] AS [Session_ID], 
        [Extent1].[Hist_Last_Update_Date] AS [Hist_Last_Update_Date], 
        [Extent1].[Hist_Last_Update_User] AS [Hist_Last_Update_User], 
        [Extent2].[Security_ID] AS [Security_ID1], 
        [Extent2].[Entity_ID] AS [Entity_ID1], 
        [Extent2].[Security_Name] AS [Security_Name], 
        [Extent2].[Short_Name] AS [Short_Name], 
        [Extent2].[Primary_Exch] AS [Primary_Exch], 
        [Extent2].[Secondary_Exch] AS [Secondary_Exch], 
        [Extent2].[Country_Of_Domicile] AS [Country_Of_Domicile], 
        [Extent2].[Country_Of_Risk] AS [Country_Of_Risk], 
        [Extent2].[Security_Type_Code] AS [Security_Type_Code], 
        [Extent2].[Price_Multiplier] AS [Price_Multiplier], 
        [Extent2].[Income_Frequency] AS [Income_Frequency], 
        [Extent2].[Issuer_Code] AS [Issuer_Code], 
        [Extent2].[Ultimate_Issuer_Code] AS [Ultimate_Issuer_Code], 
        [Extent2].[Asset_Currency] AS [Asset_Currency], 
        [Extent2].[Min_Lot_Size] AS [Min_Lot_Size], 
        [Extent2].[Decimal_Precision] AS [Decimal_Precision], 
        [Extent2].[AvePrice_Rounding] AS [AvePrice_Rounding], 
        [Extent2].[Issue_Date] AS [Issue_Date], 
        [Extent2].[Maturity_Date] AS [Maturity_Date], 
        [Extent2].[Coupon_Rate] AS [Coupon_Rate], 
        [Extent2].[Price_Exchange] AS [Price_Exchange], 
        [Extent2].[Trade_Currency] AS [Trade_Currency], 
        [Extent2].[Price_Curr] AS [Price_Curr], 
        [Extent2].[Currency_Pair_Code] AS [Currency_Pair_Code], 
        [Extent2].[Share_Class] AS [Share_Class], 
        [Extent2].[Current_Market_Price] AS [Current_Market_Price], 
        [Extent2].[Index_Type] AS [Index_Type], 
        [Extent2].[Clean_Price_Formula] AS [Clean_Price_Formula], 
        [Extent2].[Accrued_Income_Price_Formula] AS [Accrued_Income_Price_Formula], 
        [Extent2].[Odd_First_Coupon_Date] AS [Odd_First_Coupon_Date], 
        [Extent2].[Odd_Last_Coupon_Date] AS [Odd_Last_Coupon_Date], 
        [Extent2].[Coupon_Anniversary_Indicator] AS [Coupon_Anniversary_Indicator], 
        [Extent2].[Track_EOM_Flag] AS [Track_EOM_Flag], 
        [Extent2].[Next_Coupon_Date] AS [Next_Coupon_Date], 
        [Extent2].[Previous_Coupon_Date] AS [Previous_Coupon_Date], 
        [Extent2].[Payment_Frequency] AS [Payment_Frequency], 
        [Extent2].[Coupon_BusDay_Adjustment] AS [Coupon_BusDay_Adjustment], 
        [Extent2].[Next_Ex_Div_Date] AS [Next_Ex_Div_Date], 
        [Extent2].[Ex_Div_BusDay_Adjustment] AS [Ex_Div_BusDay_Adjustment], 
        [Extent2].[Ex_Div_Period] AS [Ex_Div_Period], 
        [Extent2].[Ticker] AS [Ticker], 
        [Extent2].[Inet_ID] AS [Inet_ID], 
        [Extent2].[Bloomberg_ID] AS [Bloomberg_ID], 
        [Extent2].[External_Sec_ID] AS [External_Sec_ID], 
        [Extent2].[Reuters_ID] AS [Reuters_ID], 
        [Extent2].[ISIN] AS [ISIN], 
        [Extent2].[Call_Account_Flag] AS [Call_Account_Flag], 
        [Extent2].[System_Locked] AS [System_Locked], 
        [Extent2].[Last_Update_User] AS [Last_Update_User1], 
        [Extent2].[Last_Update_Date] AS [Last_Update_Date1], 
        [Extent2].[Security_Status] AS [Security_Status], 
        [Extent2].[Benchmark_Portfolio] AS [Benchmark_Portfolio], 
        [Extent2].[Active_flag] AS [Active_flag], 
        [Extent2].[Dividend_FX_Security_ID] AS [Dividend_FX_Security_ID]
        FROM  [dbo].[Security_Performance_History] AS [Extent1]
        INNER JOIN [dbo].[Security_Detail] AS [Extent2] ON [Extent1].[Security_ID] = [Extent2].[Security_ID]
        WHERE ([Extent1].[Security_ID] = @p__linq__0) AND ([Extent1].[Portfolio_Code] = @p__linq__1)
    )  AS [Project1]
    ORDER BY [Project1].[Record_Date] DESC
2018-04-07 12:36:30.7557|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: SELECT 
    [Project1].[Decimal_Precision] AS [Decimal_Precision], 
    [Project1].[Security_ID] AS [Security_ID], 
    [Project1].[Portfolio_Code] AS [Portfolio_Code], 
    [Project1].[Entity_ID] AS [Entity_ID], 
    [Project1].[ModDietz_Performance_Quarterly] AS [ModDietz_Performance_Quarterly], 
    [Project1].[ModDietz_Performance_Monthly] AS [ModDietz_Performance_Monthly], 
    [Project1].[ModDietz_Performance_MonthToDate] AS [ModDietz_Performance_MonthToDate], 
    [Project1].[Dietz_Performance_Quarterly] AS [Dietz_Performance_Quarterly], 
    [Project1].[Dietz_Performance_Monthly] AS [Dietz_Performance_Monthly], 
    [Project1].[Dietz_Performance_MonthToDate] AS [Dietz_Performance_MonthToDate], 
    [Project1].[Last_Update_Date] AS [Last_Update_Date], 
    [Project1].[Last_Update_User] AS [Last_Update_User], 
    [Project1].[Record_Date] AS [Record_Date], 
    [Project1].[Session_ID] AS [Session_ID], 
    [Project1].[Hist_Last_Update_Date] AS [Hist_Last_Update_Date], 
    [Project1].[Hist_Last_Update_User] AS [Hist_Last_Update_User], 
    [Project1].[Security_ID1] AS [Security_ID1], 
    [Project1].[Entity_ID1] AS [Entity_ID1], 
    [Project1].[Security_Name] AS [Security_Name], 
    [Project1].[Short_Name] AS [Short_Name], 
    [Project1].[Primary_Exch] AS [Primary_Exch], 
    [Project1].[Secondary_Exch] AS [Secondary_Exch], 
    [Project1].[Country_Of_Domicile] AS [Country_Of_Domicile], 
    [Project1].[Country_Of_Risk] AS [Country_Of_Risk], 
    [Project1].[Security_Type_Code] AS [Security_Type_Code], 
    [Project1].[Price_Multiplier] AS [Price_Multiplier], 
    [Project1].[Income_Frequency] AS [Income_Frequency], 
    [Project1].[Issuer_Code] AS [Issuer_Code], 
    [Project1].[Ultimate_Issuer_Code] AS [Ultimate_Issuer_Code], 
    [Project1].[Asset_Currency] AS [Asset_Currency], 
    [Project1].[Min_Lot_Size] AS [Min_Lot_Size], 
    [Project1].[AvePrice_Rounding] AS [AvePrice_Rounding], 
    [Project1].[Issue_Date] AS [Issue_Date], 
    [Project1].[Maturity_Date] AS [Maturity_Date], 
    [Project1].[Coupon_Rate] AS [Coupon_Rate], 
    [Project1].[Price_Exchange] AS [Price_Exchange], 
    [Project1].[Trade_Currency] AS [Trade_Currency], 
    [Project1].[Price_Curr] AS [Price_Curr], 
    [Project1].[Currency_Pair_Code] AS [Currency_Pair_Code], 
    [Project1].[Share_Class] AS [Share_Class], 
    [Project1].[Current_Market_Price] AS [Current_Market_Price], 
    [Project1].[Index_Type] AS [Index_Type], 
    [Project1].[Clean_Price_Formula] AS [Clean_Price_Formula], 
    [Project1].[Accrued_Income_Price_Formula] AS [Accrued_Income_Price_Formula], 
    [Project1].[Odd_First_Coupon_Date] AS [Odd_First_Coupon_Date], 
    [Project1].[Odd_Last_Coupon_Date] AS [Odd_Last_Coupon_Date], 
    [Project1].[Coupon_Anniversary_Indicator] AS [Coupon_Anniversary_Indicator], 
    [Project1].[Track_EOM_Flag] AS [Track_EOM_Flag], 
    [Project1].[Next_Coupon_Date] AS [Next_Coupon_Date], 
    [Project1].[Previous_Coupon_Date] AS [Previous_Coupon_Date], 
    [Project1].[Payment_Frequency] AS [Payment_Frequency], 
    [Project1].[Coupon_BusDay_Adjustment] AS [Coupon_BusDay_Adjustment], 
    [Project1].[Next_Ex_Div_Date] AS [Next_Ex_Div_Date], 
    [Project1].[Ex_Div_BusDay_Adjustment] AS [Ex_Div_BusDay_Adjustment], 
    [Project1].[Ex_Div_Period] AS [Ex_Div_Period], 
    [Project1].[Ticker] AS [Ticker], 
    [Project1].[Inet_ID] AS [Inet_ID], 
    [Project1].[Bloomberg_ID] AS [Bloomberg_ID], 
    [Project1].[External_Sec_ID] AS [External_Sec_ID], 
    [Project1].[Reuters_ID] AS [Reuters_ID], 
    [Project1].[ISIN] AS [ISIN], 
    [Project1].[Call_Account_Flag] AS [Call_Account_Flag], 
    [Project1].[System_Locked] AS [System_Locked], 
    [Project1].[Last_Update_User1] AS [Last_Update_User1], 
    [Project1].[Last_Update_Date1] AS [Last_Update_Date1], 
    [Project1].[Security_Status] AS [Security_Status], 
    [Project1].[Benchmark_Portfolio] AS [Benchmark_Portfolio], 
    [Project1].[Active_flag] AS [Active_flag], 
    [Project1].[Dividend_FX_Security_ID] AS [Dividend_FX_Security_ID]
    FROM ( SELECT 
        [Extent1].[Security_ID] AS [Security_ID], 
        [Extent1].[Portfolio_Code] AS [Portfolio_Code], 
        [Extent1].[Entity_ID] AS [Entity_ID], 
        [Extent1].[ModDietz_Performance_Quarterly] AS [ModDietz_Performance_Quarterly], 
        [Extent1].[ModDietz_Performance_Monthly] AS [ModDietz_Performance_Monthly], 
        [Extent1].[ModDietz_Performance_MonthToDate] AS [ModDietz_Performance_MonthToDate], 
        [Extent1].[Dietz_Performance_Quarterly] AS [Dietz_Performance_Quarterly], 
        [Extent1].[Dietz_Performance_Monthly] AS [Dietz_Performance_Monthly], 
        [Extent1].[Dietz_Performance_MonthToDate] AS [Dietz_Performance_MonthToDate], 
        [Extent1].[Last_Update_Date] AS [Last_Update_Date], 
        [Extent1].[Last_Update_User] AS [Last_Update_User], 
        [Extent1].[Record_Date] AS [Record_Date], 
        [Extent1].[Session_ID] AS [Session_ID], 
        [Extent1].[Hist_Last_Update_Date] AS [Hist_Last_Update_Date], 
        [Extent1].[Hist_Last_Update_User] AS [Hist_Last_Update_User], 
        [Extent2].[Security_ID] AS [Security_ID1], 
        [Extent2].[Entity_ID] AS [Entity_ID1], 
        [Extent2].[Security_Name] AS [Security_Name], 
        [Extent2].[Short_Name] AS [Short_Name], 
        [Extent2].[Primary_Exch] AS [Primary_Exch], 
        [Extent2].[Secondary_Exch] AS [Secondary_Exch], 
        [Extent2].[Country_Of_Domicile] AS [Country_Of_Domicile], 
        [Extent2].[Country_Of_Risk] AS [Country_Of_Risk], 
        [Extent2].[Security_Type_Code] AS [Security_Type_Code], 
        [Extent2].[Price_Multiplier] AS [Price_Multiplier], 
        [Extent2].[Income_Frequency] AS [Income_Frequency], 
        [Extent2].[Issuer_Code] AS [Issuer_Code], 
        [Extent2].[Ultimate_Issuer_Code] AS [Ultimate_Issuer_Code], 
        [Extent2].[Asset_Currency] AS [Asset_Currency], 
        [Extent2].[Min_Lot_Size] AS [Min_Lot_Size], 
        [Extent2].[Decimal_Precision] AS [Decimal_Precision], 
        [Extent2].[AvePrice_Rounding] AS [AvePrice_Rounding], 
        [Extent2].[Issue_Date] AS [Issue_Date], 
        [Extent2].[Maturity_Date] AS [Maturity_Date], 
        [Extent2].[Coupon_Rate] AS [Coupon_Rate], 
        [Extent2].[Price_Exchange] AS [Price_Exchange], 
        [Extent2].[Trade_Currency] AS [Trade_Currency], 
        [Extent2].[Price_Curr] AS [Price_Curr], 
        [Extent2].[Currency_Pair_Code] AS [Currency_Pair_Code], 
        [Extent2].[Share_Class] AS [Share_Class], 
        [Extent2].[Current_Market_Price] AS [Current_Market_Price], 
        [Extent2].[Index_Type] AS [Index_Type], 
        [Extent2].[Clean_Price_Formula] AS [Clean_Price_Formula], 
        [Extent2].[Accrued_Income_Price_Formula] AS [Accrued_Income_Price_Formula], 
        [Extent2].[Odd_First_Coupon_Date] AS [Odd_First_Coupon_Date], 
        [Extent2].[Odd_Last_Coupon_Date] AS [Odd_Last_Coupon_Date], 
        [Extent2].[Coupon_Anniversary_Indicator] AS [Coupon_Anniversary_Indicator], 
        [Extent2].[Track_EOM_Flag] AS [Track_EOM_Flag], 
        [Extent2].[Next_Coupon_Date] AS [Next_Coupon_Date], 
        [Extent2].[Previous_Coupon_Date] AS [Previous_Coupon_Date], 
        [Extent2].[Payment_Frequency] AS [Payment_Frequency], 
        [Extent2].[Coupon_BusDay_Adjustment] AS [Coupon_BusDay_Adjustment], 
        [Extent2].[Next_Ex_Div_Date] AS [Next_Ex_Div_Date], 
        [Extent2].[Ex_Div_BusDay_Adjustment] AS [Ex_Div_BusDay_Adjustment], 
        [Extent2].[Ex_Div_Period] AS [Ex_Div_Period], 
        [Extent2].[Ticker] AS [Ticker], 
        [Extent2].[Inet_ID] AS [Inet_ID], 
        [Extent2].[Bloomberg_ID] AS [Bloomberg_ID], 
        [Extent2].[External_Sec_ID] AS [External_Sec_ID], 
        [Extent2].[Reuters_ID] AS [Reuters_ID], 
        [Extent2].[ISIN] AS [ISIN], 
        [Extent2].[Call_Account_Flag] AS [Call_Account_Flag], 
        [Extent2].[System_Locked] AS [System_Locked], 
        [Extent2].[Last_Update_User] AS [Last_Update_User1], 
        [Extent2].[Last_Update_Date] AS [Last_Update_Date1], 
        [Extent2].[Security_Status] AS [Security_Status], 
        [Extent2].[Benchmark_Portfolio] AS [Benchmark_Portfolio], 
        [Extent2].[Active_flag] AS [Active_flag], 
        [Extent2].[Dividend_FX_Security_ID] AS [Dividend_FX_Security_ID]
        FROM  [dbo].[Security_Performance_History] AS [Extent1]
        INNER JOIN [dbo].[Security_Detail] AS [Extent2] ON [Extent1].[Security_ID] = [Extent2].[Security_ID]
        WHERE ([Extent1].[Security_ID] = @p__linq__0) AND ([Extent1].[Portfolio_Code] = @p__linq__1)
    )  AS [Project1]
    ORDER BY [Project1].[Record_Date] DESC
2018-04-07 12:36:34.2042|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: IF db_id(N'MetopeAzureDb') IS NOT NULL SELECT 1 ELSE SELECT Count(*) FROM sys.databases WHERE [name]=N'MetopeAzureDb'
2018-04-07 12:36:34.2237|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: IF db_id(N'MetopeAzureDb') IS NOT NULL SELECT 1 ELSE SELECT Count(*) FROM sys.databases WHERE [name]=N'MetopeAzureDb'
2018-04-07 12:36:34.2537|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: IF db_id(N'MetopeAzureDb') IS NOT NULL SELECT 1 ELSE SELECT Count(*) FROM sys.databases WHERE [name]=N'MetopeAzureDb'
2018-04-07 12:36:34.2842|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: IF db_id(N'MetopeAzureDb') IS NOT NULL SELECT 1 ELSE SELECT Count(*) FROM sys.databases WHERE [name]=N'MetopeAzureDb'
2018-04-07 12:36:34.7791|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: SELECT 
    [Project1].[Decimal_Precision] AS [Decimal_Precision], 
    [Project1].[Security_ID] AS [Security_ID], 
    [Project1].[Portfolio_Code] AS [Portfolio_Code], 
    [Project1].[Entity_ID] AS [Entity_ID], 
    [Project1].[ModDietz_Performance_Quarterly] AS [ModDietz_Performance_Quarterly], 
    [Project1].[ModDietz_Performance_Monthly] AS [ModDietz_Performance_Monthly], 
    [Project1].[ModDietz_Performance_MonthToDate] AS [ModDietz_Performance_MonthToDate], 
    [Project1].[Dietz_Performance_Quarterly] AS [Dietz_Performance_Quarterly], 
    [Project1].[Dietz_Performance_Monthly] AS [Dietz_Performance_Monthly], 
    [Project1].[Dietz_Performance_MonthToDate] AS [Dietz_Performance_MonthToDate], 
    [Project1].[Last_Update_Date] AS [Last_Update_Date], 
    [Project1].[Last_Update_User] AS [Last_Update_User], 
    [Project1].[Record_Date] AS [Record_Date], 
    [Project1].[Session_ID] AS [Session_ID], 
    [Project1].[Hist_Last_Update_Date] AS [Hist_Last_Update_Date], 
    [Project1].[Hist_Last_Update_User] AS [Hist_Last_Update_User], 
    [Project1].[Security_ID1] AS [Security_ID1], 
    [Project1].[Entity_ID1] AS [Entity_ID1], 
    [Project1].[Security_Name] AS [Security_Name], 
    [Project1].[Short_Name] AS [Short_Name], 
    [Project1].[Primary_Exch] AS [Primary_Exch], 
    [Project1].[Secondary_Exch] AS [Secondary_Exch], 
    [Project1].[Country_Of_Domicile] AS [Country_Of_Domicile], 
    [Project1].[Country_Of_Risk] AS [Country_Of_Risk], 
    [Project1].[Security_Type_Code] AS [Security_Type_Code], 
    [Project1].[Price_Multiplier] AS [Price_Multiplier], 
    [Project1].[Income_Frequency] AS [Income_Frequency], 
    [Project1].[Issuer_Code] AS [Issuer_Code], 
    [Project1].[Ultimate_Issuer_Code] AS [Ultimate_Issuer_Code], 
    [Project1].[Asset_Currency] AS [Asset_Currency], 
    [Project1].[Min_Lot_Size] AS [Min_Lot_Size], 
    [Project1].[AvePrice_Rounding] AS [AvePrice_Rounding], 
    [Project1].[Issue_Date] AS [Issue_Date], 
    [Project1].[Maturity_Date] AS [Maturity_Date], 
    [Project1].[Coupon_Rate] AS [Coupon_Rate], 
    [Project1].[Price_Exchange] AS [Price_Exchange], 
    [Project1].[Trade_Currency] AS [Trade_Currency], 
    [Project1].[Price_Curr] AS [Price_Curr], 
    [Project1].[Currency_Pair_Code] AS [Currency_Pair_Code], 
    [Project1].[Share_Class] AS [Share_Class], 
    [Project1].[Current_Market_Price] AS [Current_Market_Price], 
    [Project1].[Index_Type] AS [Index_Type], 
    [Project1].[Clean_Price_Formula] AS [Clean_Price_Formula], 
    [Project1].[Accrued_Income_Price_Formula] AS [Accrued_Income_Price_Formula], 
    [Project1].[Odd_First_Coupon_Date] AS [Odd_First_Coupon_Date], 
    [Project1].[Odd_Last_Coupon_Date] AS [Odd_Last_Coupon_Date], 
    [Project1].[Coupon_Anniversary_Indicator] AS [Coupon_Anniversary_Indicator], 
    [Project1].[Track_EOM_Flag] AS [Track_EOM_Flag], 
    [Project1].[Next_Coupon_Date] AS [Next_Coupon_Date], 
    [Project1].[Previous_Coupon_Date] AS [Previous_Coupon_Date], 
    [Project1].[Payment_Frequency] AS [Payment_Frequency], 
    [Project1].[Coupon_BusDay_Adjustment] AS [Coupon_BusDay_Adjustment], 
    [Project1].[Next_Ex_Div_Date] AS [Next_Ex_Div_Date], 
    [Project1].[Ex_Div_BusDay_Adjustment] AS [Ex_Div_BusDay_Adjustment], 
    [Project1].[Ex_Div_Period] AS [Ex_Div_Period], 
    [Project1].[Ticker] AS [Ticker], 
    [Project1].[Inet_ID] AS [Inet_ID], 
    [Project1].[Bloomberg_ID] AS [Bloomberg_ID], 
    [Project1].[External_Sec_ID] AS [External_Sec_ID], 
    [Project1].[Reuters_ID] AS [Reuters_ID], 
    [Project1].[ISIN] AS [ISIN], 
    [Project1].[Call_Account_Flag] AS [Call_Account_Flag], 
    [Project1].[System_Locked] AS [System_Locked], 
    [Project1].[Last_Update_User1] AS [Last_Update_User1], 
    [Project1].[Last_Update_Date1] AS [Last_Update_Date1], 
    [Project1].[Security_Status] AS [Security_Status], 
    [Project1].[Benchmark_Portfolio] AS [Benchmark_Portfolio], 
    [Project1].[Active_flag] AS [Active_flag], 
    [Project1].[Dividend_FX_Security_ID] AS [Dividend_FX_Security_ID]
    FROM ( SELECT 
        [Extent1].[Security_ID] AS [Security_ID], 
        [Extent1].[Portfolio_Code] AS [Portfolio_Code], 
        [Extent1].[Entity_ID] AS [Entity_ID], 
        [Extent1].[ModDietz_Performance_Quarterly] AS [ModDietz_Performance_Quarterly], 
        [Extent1].[ModDietz_Performance_Monthly] AS [ModDietz_Performance_Monthly], 
        [Extent1].[ModDietz_Performance_MonthToDate] AS [ModDietz_Performance_MonthToDate], 
        [Extent1].[Dietz_Performance_Quarterly] AS [Dietz_Performance_Quarterly], 
        [Extent1].[Dietz_Performance_Monthly] AS [Dietz_Performance_Monthly], 
        [Extent1].[Dietz_Performance_MonthToDate] AS [Dietz_Performance_MonthToDate], 
        [Extent1].[Last_Update_Date] AS [Last_Update_Date], 
        [Extent1].[Last_Update_User] AS [Last_Update_User], 
        [Extent1].[Record_Date] AS [Record_Date], 
        [Extent1].[Session_ID] AS [Session_ID], 
        [Extent1].[Hist_Last_Update_Date] AS [Hist_Last_Update_Date], 
        [Extent1].[Hist_Last_Update_User] AS [Hist_Last_Update_User], 
        [Extent2].[Security_ID] AS [Security_ID1], 
        [Extent2].[Entity_ID] AS [Entity_ID1], 
        [Extent2].[Security_Name] AS [Security_Name], 
        [Extent2].[Short_Name] AS [Short_Name], 
        [Extent2].[Primary_Exch] AS [Primary_Exch], 
        [Extent2].[Secondary_Exch] AS [Secondary_Exch], 
        [Extent2].[Country_Of_Domicile] AS [Country_Of_Domicile], 
        [Extent2].[Country_Of_Risk] AS [Country_Of_Risk], 
        [Extent2].[Security_Type_Code] AS [Security_Type_Code], 
        [Extent2].[Price_Multiplier] AS [Price_Multiplier], 
        [Extent2].[Income_Frequency] AS [Income_Frequency], 
        [Extent2].[Issuer_Code] AS [Issuer_Code], 
        [Extent2].[Ultimate_Issuer_Code] AS [Ultimate_Issuer_Code], 
        [Extent2].[Asset_Currency] AS [Asset_Currency], 
        [Extent2].[Min_Lot_Size] AS [Min_Lot_Size], 
        [Extent2].[Decimal_Precision] AS [Decimal_Precision], 
        [Extent2].[AvePrice_Rounding] AS [AvePrice_Rounding], 
        [Extent2].[Issue_Date] AS [Issue_Date], 
        [Extent2].[Maturity_Date] AS [Maturity_Date], 
        [Extent2].[Coupon_Rate] AS [Coupon_Rate], 
        [Extent2].[Price_Exchange] AS [Price_Exchange], 
        [Extent2].[Trade_Currency] AS [Trade_Currency], 
        [Extent2].[Price_Curr] AS [Price_Curr], 
        [Extent2].[Currency_Pair_Code] AS [Currency_Pair_Code], 
        [Extent2].[Share_Class] AS [Share_Class], 
        [Extent2].[Current_Market_Price] AS [Current_Market_Price], 
        [Extent2].[Index_Type] AS [Index_Type], 
        [Extent2].[Clean_Price_Formula] AS [Clean_Price_Formula], 
        [Extent2].[Accrued_Income_Price_Formula] AS [Accrued_Income_Price_Formula], 
        [Extent2].[Odd_First_Coupon_Date] AS [Odd_First_Coupon_Date], 
        [Extent2].[Odd_Last_Coupon_Date] AS [Odd_Last_Coupon_Date], 
        [Extent2].[Coupon_Anniversary_Indicator] AS [Coupon_Anniversary_Indicator], 
        [Extent2].[Track_EOM_Flag] AS [Track_EOM_Flag], 
        [Extent2].[Next_Coupon_Date] AS [Next_Coupon_Date], 
        [Extent2].[Previous_Coupon_Date] AS [Previous_Coupon_Date], 
        [Extent2].[Payment_Frequency] AS [Payment_Frequency], 
        [Extent2].[Coupon_BusDay_Adjustment] AS [Coupon_BusDay_Adjustment], 
        [Extent2].[Next_Ex_Div_Date] AS [Next_Ex_Div_Date], 
        [Extent2].[Ex_Div_BusDay_Adjustment] AS [Ex_Div_BusDay_Adjustment], 
        [Extent2].[Ex_Div_Period] AS [Ex_Div_Period], 
        [Extent2].[Ticker] AS [Ticker], 
        [Extent2].[Inet_ID] AS [Inet_ID], 
        [Extent2].[Bloomberg_ID] AS [Bloomberg_ID], 
        [Extent2].[External_Sec_ID] AS [External_Sec_ID], 
        [Extent2].[Reuters_ID] AS [Reuters_ID], 
        [Extent2].[ISIN] AS [ISIN], 
        [Extent2].[Call_Account_Flag] AS [Call_Account_Flag], 
        [Extent2].[System_Locked] AS [System_Locked], 
        [Extent2].[Last_Update_User] AS [Last_Update_User1], 
        [Extent2].[Last_Update_Date] AS [Last_Update_Date1], 
        [Extent2].[Security_Status] AS [Security_Status], 
        [Extent2].[Benchmark_Portfolio] AS [Benchmark_Portfolio], 
        [Extent2].[Active_flag] AS [Active_flag], 
        [Extent2].[Dividend_FX_Security_ID] AS [Dividend_FX_Security_ID]
        FROM  [dbo].[Security_Performance_History] AS [Extent1]
        INNER JOIN [dbo].[Security_Detail] AS [Extent2] ON [Extent1].[Security_ID] = [Extent2].[Security_ID]
        WHERE ([Extent1].[Security_ID] = @p__linq__0) AND ([Extent1].[Portfolio_Code] = @p__linq__1)
    )  AS [Project1]
    ORDER BY [Project1].[Record_Date] DESC
2018-04-07 12:36:34.8141|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: SELECT 
    [Project1].[Decimal_Precision] AS [Decimal_Precision], 
    [Project1].[Security_ID] AS [Security_ID], 
    [Project1].[Portfolio_Code] AS [Portfolio_Code], 
    [Project1].[Entity_ID] AS [Entity_ID], 
    [Project1].[ModDietz_Performance_Quarterly] AS [ModDietz_Performance_Quarterly], 
    [Project1].[ModDietz_Performance_Monthly] AS [ModDietz_Performance_Monthly], 
    [Project1].[ModDietz_Performance_MonthToDate] AS [ModDietz_Performance_MonthToDate], 
    [Project1].[Dietz_Performance_Quarterly] AS [Dietz_Performance_Quarterly], 
    [Project1].[Dietz_Performance_Monthly] AS [Dietz_Performance_Monthly], 
    [Project1].[Dietz_Performance_MonthToDate] AS [Dietz_Performance_MonthToDate], 
    [Project1].[Last_Update_Date] AS [Last_Update_Date], 
    [Project1].[Last_Update_User] AS [Last_Update_User], 
    [Project1].[Record_Date] AS [Record_Date], 
    [Project1].[Session_ID] AS [Session_ID], 
    [Project1].[Hist_Last_Update_Date] AS [Hist_Last_Update_Date], 
    [Project1].[Hist_Last_Update_User] AS [Hist_Last_Update_User], 
    [Project1].[Security_ID1] AS [Security_ID1], 
    [Project1].[Entity_ID1] AS [Entity_ID1], 
    [Project1].[Security_Name] AS [Security_Name], 
    [Project1].[Short_Name] AS [Short_Name], 
    [Project1].[Primary_Exch] AS [Primary_Exch], 
    [Project1].[Secondary_Exch] AS [Secondary_Exch], 
    [Project1].[Country_Of_Domicile] AS [Country_Of_Domicile], 
    [Project1].[Country_Of_Risk] AS [Country_Of_Risk], 
    [Project1].[Security_Type_Code] AS [Security_Type_Code], 
    [Project1].[Price_Multiplier] AS [Price_Multiplier], 
    [Project1].[Income_Frequency] AS [Income_Frequency], 
    [Project1].[Issuer_Code] AS [Issuer_Code], 
    [Project1].[Ultimate_Issuer_Code] AS [Ultimate_Issuer_Code], 
    [Project1].[Asset_Currency] AS [Asset_Currency], 
    [Project1].[Min_Lot_Size] AS [Min_Lot_Size], 
    [Project1].[AvePrice_Rounding] AS [AvePrice_Rounding], 
    [Project1].[Issue_Date] AS [Issue_Date], 
    [Project1].[Maturity_Date] AS [Maturity_Date], 
    [Project1].[Coupon_Rate] AS [Coupon_Rate], 
    [Project1].[Price_Exchange] AS [Price_Exchange], 
    [Project1].[Trade_Currency] AS [Trade_Currency], 
    [Project1].[Price_Curr] AS [Price_Curr], 
    [Project1].[Currency_Pair_Code] AS [Currency_Pair_Code], 
    [Project1].[Share_Class] AS [Share_Class], 
    [Project1].[Current_Market_Price] AS [Current_Market_Price], 
    [Project1].[Index_Type] AS [Index_Type], 
    [Project1].[Clean_Price_Formula] AS [Clean_Price_Formula], 
    [Project1].[Accrued_Income_Price_Formula] AS [Accrued_Income_Price_Formula], 
    [Project1].[Odd_First_Coupon_Date] AS [Odd_First_Coupon_Date], 
    [Project1].[Odd_Last_Coupon_Date] AS [Odd_Last_Coupon_Date], 
    [Project1].[Coupon_Anniversary_Indicator] AS [Coupon_Anniversary_Indicator], 
    [Project1].[Track_EOM_Flag] AS [Track_EOM_Flag], 
    [Project1].[Next_Coupon_Date] AS [Next_Coupon_Date], 
    [Project1].[Previous_Coupon_Date] AS [Previous_Coupon_Date], 
    [Project1].[Payment_Frequency] AS [Payment_Frequency], 
    [Project1].[Coupon_BusDay_Adjustment] AS [Coupon_BusDay_Adjustment], 
    [Project1].[Next_Ex_Div_Date] AS [Next_Ex_Div_Date], 
    [Project1].[Ex_Div_BusDay_Adjustment] AS [Ex_Div_BusDay_Adjustment], 
    [Project1].[Ex_Div_Period] AS [Ex_Div_Period], 
    [Project1].[Ticker] AS [Ticker], 
    [Project1].[Inet_ID] AS [Inet_ID], 
    [Project1].[Bloomberg_ID] AS [Bloomberg_ID], 
    [Project1].[External_Sec_ID] AS [External_Sec_ID], 
    [Project1].[Reuters_ID] AS [Reuters_ID], 
    [Project1].[ISIN] AS [ISIN], 
    [Project1].[Call_Account_Flag] AS [Call_Account_Flag], 
    [Project1].[System_Locked] AS [System_Locked], 
    [Project1].[Last_Update_User1] AS [Last_Update_User1], 
    [Project1].[Last_Update_Date1] AS [Last_Update_Date1], 
    [Project1].[Security_Status] AS [Security_Status], 
    [Project1].[Benchmark_Portfolio] AS [Benchmark_Portfolio], 
    [Project1].[Active_flag] AS [Active_flag], 
    [Project1].[Dividend_FX_Security_ID] AS [Dividend_FX_Security_ID]
    FROM ( SELECT 
        [Extent1].[Security_ID] AS [Security_ID], 
        [Extent1].[Portfolio_Code] AS [Portfolio_Code], 
        [Extent1].[Entity_ID] AS [Entity_ID], 
        [Extent1].[ModDietz_Performance_Quarterly] AS [ModDietz_Performance_Quarterly], 
        [Extent1].[ModDietz_Performance_Monthly] AS [ModDietz_Performance_Monthly], 
        [Extent1].[ModDietz_Performance_MonthToDate] AS [ModDietz_Performance_MonthToDate], 
        [Extent1].[Dietz_Performance_Quarterly] AS [Dietz_Performance_Quarterly], 
        [Extent1].[Dietz_Performance_Monthly] AS [Dietz_Performance_Monthly], 
        [Extent1].[Dietz_Performance_MonthToDate] AS [Dietz_Performance_MonthToDate], 
        [Extent1].[Last_Update_Date] AS [Last_Update_Date], 
        [Extent1].[Last_Update_User] AS [Last_Update_User], 
        [Extent1].[Record_Date] AS [Record_Date], 
        [Extent1].[Session_ID] AS [Session_ID], 
        [Extent1].[Hist_Last_Update_Date] AS [Hist_Last_Update_Date], 
        [Extent1].[Hist_Last_Update_User] AS [Hist_Last_Update_User], 
        [Extent2].[Security_ID] AS [Security_ID1], 
        [Extent2].[Entity_ID] AS [Entity_ID1], 
        [Extent2].[Security_Name] AS [Security_Name], 
        [Extent2].[Short_Name] AS [Short_Name], 
        [Extent2].[Primary_Exch] AS [Primary_Exch], 
        [Extent2].[Secondary_Exch] AS [Secondary_Exch], 
        [Extent2].[Country_Of_Domicile] AS [Country_Of_Domicile], 
        [Extent2].[Country_Of_Risk] AS [Country_Of_Risk], 
        [Extent2].[Security_Type_Code] AS [Security_Type_Code], 
        [Extent2].[Price_Multiplier] AS [Price_Multiplier], 
        [Extent2].[Income_Frequency] AS [Income_Frequency], 
        [Extent2].[Issuer_Code] AS [Issuer_Code], 
        [Extent2].[Ultimate_Issuer_Code] AS [Ultimate_Issuer_Code], 
        [Extent2].[Asset_Currency] AS [Asset_Currency], 
        [Extent2].[Min_Lot_Size] AS [Min_Lot_Size], 
        [Extent2].[Decimal_Precision] AS [Decimal_Precision], 
        [Extent2].[AvePrice_Rounding] AS [AvePrice_Rounding], 
        [Extent2].[Issue_Date] AS [Issue_Date], 
        [Extent2].[Maturity_Date] AS [Maturity_Date], 
        [Extent2].[Coupon_Rate] AS [Coupon_Rate], 
        [Extent2].[Price_Exchange] AS [Price_Exchange], 
        [Extent2].[Trade_Currency] AS [Trade_Currency], 
        [Extent2].[Price_Curr] AS [Price_Curr], 
        [Extent2].[Currency_Pair_Code] AS [Currency_Pair_Code], 
        [Extent2].[Share_Class] AS [Share_Class], 
        [Extent2].[Current_Market_Price] AS [Current_Market_Price], 
        [Extent2].[Index_Type] AS [Index_Type], 
        [Extent2].[Clean_Price_Formula] AS [Clean_Price_Formula], 
        [Extent2].[Accrued_Income_Price_Formula] AS [Accrued_Income_Price_Formula], 
        [Extent2].[Odd_First_Coupon_Date] AS [Odd_First_Coupon_Date], 
        [Extent2].[Odd_Last_Coupon_Date] AS [Odd_Last_Coupon_Date], 
        [Extent2].[Coupon_Anniversary_Indicator] AS [Coupon_Anniversary_Indicator], 
        [Extent2].[Track_EOM_Flag] AS [Track_EOM_Flag], 
        [Extent2].[Next_Coupon_Date] AS [Next_Coupon_Date], 
        [Extent2].[Previous_Coupon_Date] AS [Previous_Coupon_Date], 
        [Extent2].[Payment_Frequency] AS [Payment_Frequency], 
        [Extent2].[Coupon_BusDay_Adjustment] AS [Coupon_BusDay_Adjustment], 
        [Extent2].[Next_Ex_Div_Date] AS [Next_Ex_Div_Date], 
        [Extent2].[Ex_Div_BusDay_Adjustment] AS [Ex_Div_BusDay_Adjustment], 
        [Extent2].[Ex_Div_Period] AS [Ex_Div_Period], 
        [Extent2].[Ticker] AS [Ticker], 
        [Extent2].[Inet_ID] AS [Inet_ID], 
        [Extent2].[Bloomberg_ID] AS [Bloomberg_ID], 
        [Extent2].[External_Sec_ID] AS [External_Sec_ID], 
        [Extent2].[Reuters_ID] AS [Reuters_ID], 
        [Extent2].[ISIN] AS [ISIN], 
        [Extent2].[Call_Account_Flag] AS [Call_Account_Flag], 
        [Extent2].[System_Locked] AS [System_Locked], 
        [Extent2].[Last_Update_User] AS [Last_Update_User1], 
        [Extent2].[Last_Update_Date] AS [Last_Update_Date1], 
        [Extent2].[Security_Status] AS [Security_Status], 
        [Extent2].[Benchmark_Portfolio] AS [Benchmark_Portfolio], 
        [Extent2].[Active_flag] AS [Active_flag], 
        [Extent2].[Dividend_FX_Security_ID] AS [Dividend_FX_Security_ID]
        FROM  [dbo].[Security_Performance_History] AS [Extent1]
        INNER JOIN [dbo].[Security_Detail] AS [Extent2] ON [Extent1].[Security_ID] = [Extent2].[Security_ID]
        WHERE ([Extent1].[Security_ID] = @p__linq__0) AND ([Extent1].[Portfolio_Code] = @p__linq__1)
    )  AS [Project1]
    ORDER BY [Project1].[Record_Date] DESC
2018-04-07 12:36:34.8811|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: IF db_id(N'MetopeAzureDb') IS NOT NULL SELECT 1 ELSE SELECT Count(*) FROM sys.databases WHERE [name]=N'MetopeAzureDb'
2018-04-07 12:36:34.9127|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: IF db_id(N'MetopeAzureDb') IS NOT NULL SELECT 1 ELSE SELECT Count(*) FROM sys.databases WHERE [name]=N'MetopeAzureDb'
2018-04-07 12:36:34.9482|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: IF db_id(N'MetopeAzureDb') IS NOT NULL SELECT 1 ELSE SELECT Count(*) FROM sys.databases WHERE [name]=N'MetopeAzureDb'
2018-04-07 12:36:34.9807|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: IF db_id(N'MetopeAzureDb') IS NOT NULL SELECT 1 ELSE SELECT Count(*) FROM sys.databases WHERE [name]=N'MetopeAzureDb'
2018-04-07 12:37:49.8979|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: SELECT 
    [Extent1].[Security_ID] AS [Security_ID], 
    [Extent1].[Portfolio_Code] AS [Portfolio_Code], 
    [Extent1].[Entity_ID] AS [Entity_ID], 
    [Extent1].[ModDietz_Performance_Quarterly] AS [ModDietz_Performance_Quarterly], 
    [Extent1].[ModDietz_Performance_Monthly] AS [ModDietz_Performance_Monthly], 
    [Extent1].[ModDietz_Performance_MonthToDate] AS [ModDietz_Performance_MonthToDate], 
    [Extent1].[Dietz_Performance_Quarterly] AS [Dietz_Performance_Quarterly], 
    [Extent1].[Dietz_Performance_Monthly] AS [Dietz_Performance_Monthly], 
    [Extent1].[Dietz_Performance_MonthToDate] AS [Dietz_Performance_MonthToDate], 
    [Extent1].[Last_Update_Date] AS [Last_Update_Date], 
    [Extent1].[Last_Update_User] AS [Last_Update_User], 
    [Extent1].[Record_Date] AS [Record_Date], 
    [Extent1].[Session_ID] AS [Session_ID], 
    [Extent1].[Hist_Last_Update_Date] AS [Hist_Last_Update_Date], 
    [Extent1].[Hist_Last_Update_User] AS [Hist_Last_Update_User]
    FROM [dbo].[Security_Performance_History] AS [Extent1]
    WHERE ([Extent1].[Security_ID] = @p__linq__0) AND ([Extent1].[Portfolio_Code] = @p__linq__1) AND ([Extent1].[Record_Date] = @p__linq__2) AND ([Extent1].[Entity_ID] = @p__linq__3)
2018-04-07 12:37:49.9324|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: SELECT 
    [Extent1].[Security_ID] AS [Security_ID], 
    [Extent1].[Portfolio_Code] AS [Portfolio_Code], 
    [Extent1].[Entity_ID] AS [Entity_ID], 
    [Extent1].[ModDietz_Performance_Quarterly] AS [ModDietz_Performance_Quarterly], 
    [Extent1].[ModDietz_Performance_Monthly] AS [ModDietz_Performance_Monthly], 
    [Extent1].[ModDietz_Performance_MonthToDate] AS [ModDietz_Performance_MonthToDate], 
    [Extent1].[Dietz_Performance_Quarterly] AS [Dietz_Performance_Quarterly], 
    [Extent1].[Dietz_Performance_Monthly] AS [Dietz_Performance_Monthly], 
    [Extent1].[Dietz_Performance_MonthToDate] AS [Dietz_Performance_MonthToDate], 
    [Extent1].[Last_Update_Date] AS [Last_Update_Date], 
    [Extent1].[Last_Update_User] AS [Last_Update_User], 
    [Extent1].[Record_Date] AS [Record_Date], 
    [Extent1].[Session_ID] AS [Session_ID], 
    [Extent1].[Hist_Last_Update_Date] AS [Hist_Last_Update_Date], 
    [Extent1].[Hist_Last_Update_User] AS [Hist_Last_Update_User]
    FROM [dbo].[Security_Performance_History] AS [Extent1]
    WHERE ([Extent1].[Security_ID] = @p__linq__0) AND ([Extent1].[Portfolio_Code] = @p__linq__1) AND ([Extent1].[Record_Date] = @p__linq__2) AND ([Extent1].[Entity_ID] = @p__linq__3)
2018-04-07 12:37:49.9940|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: SELECT 
    [Extent1].[Security_ID] AS [Security_ID], 
    [Extent1].[Entity_ID] AS [Entity_ID], 
    [Extent1].[Security_Name] AS [Security_Name], 
    [Extent1].[Short_Name] AS [Short_Name], 
    [Extent1].[Primary_Exch] AS [Primary_Exch], 
    [Extent1].[Secondary_Exch] AS [Secondary_Exch], 
    [Extent1].[Country_Of_Domicile] AS [Country_Of_Domicile], 
    [Extent1].[Country_Of_Risk] AS [Country_Of_Risk], 
    [Extent1].[Security_Type_Code] AS [Security_Type_Code], 
    [Extent1].[Price_Multiplier] AS [Price_Multiplier], 
    [Extent1].[Income_Frequency] AS [Income_Frequency], 
    [Extent1].[Issuer_Code] AS [Issuer_Code], 
    [Extent1].[Ultimate_Issuer_Code] AS [Ultimate_Issuer_Code], 
    [Extent1].[Asset_Currency] AS [Asset_Currency], 
    [Extent1].[Min_Lot_Size] AS [Min_Lot_Size], 
    [Extent1].[Decimal_Precision] AS [Decimal_Precision], 
    [Extent1].[AvePrice_Rounding] AS [AvePrice_Rounding], 
    [Extent1].[Issue_Date] AS [Issue_Date], 
    [Extent1].[Maturity_Date] AS [Maturity_Date], 
    [Extent1].[Coupon_Rate] AS [Coupon_Rate], 
    [Extent1].[Price_Exchange] AS [Price_Exchange], 
    [Extent1].[Trade_Currency] AS [Trade_Currency], 
    [Extent1].[Price_Curr] AS [Price_Curr], 
    [Extent1].[Currency_Pair_Code] AS [Currency_Pair_Code], 
    [Extent1].[Share_Class] AS [Share_Class], 
    [Extent1].[Current_Market_Price] AS [Current_Market_Price], 
    [Extent1].[Index_Type] AS [Index_Type], 
    [Extent1].[Clean_Price_Formula] AS [Clean_Price_Formula], 
    [Extent1].[Accrued_Income_Price_Formula] AS [Accrued_Income_Price_Formula], 
    [Extent1].[Odd_First_Coupon_Date] AS [Odd_First_Coupon_Date], 
    [Extent1].[Odd_Last_Coupon_Date] AS [Odd_Last_Coupon_Date], 
    [Extent1].[Coupon_Anniversary_Indicator] AS [Coupon_Anniversary_Indicator], 
    [Extent1].[Track_EOM_Flag] AS [Track_EOM_Flag], 
    [Extent1].[Next_Coupon_Date] AS [Next_Coupon_Date], 
    [Extent1].[Previous_Coupon_Date] AS [Previous_Coupon_Date], 
    [Extent1].[Payment_Frequency] AS [Payment_Frequency], 
    [Extent1].[Coupon_BusDay_Adjustment] AS [Coupon_BusDay_Adjustment], 
    [Extent1].[Next_Ex_Div_Date] AS [Next_Ex_Div_Date], 
    [Extent1].[Ex_Div_BusDay_Adjustment] AS [Ex_Div_BusDay_Adjustment], 
    [Extent1].[Ex_Div_Period] AS [Ex_Div_Period], 
    [Extent1].[Ticker] AS [Ticker], 
    [Extent1].[Inet_ID] AS [Inet_ID], 
    [Extent1].[Bloomberg_ID] AS [Bloomberg_ID], 
    [Extent1].[External_Sec_ID] AS [External_Sec_ID], 
    [Extent1].[Reuters_ID] AS [Reuters_ID], 
    [Extent1].[ISIN] AS [ISIN], 
    [Extent1].[Call_Account_Flag] AS [Call_Account_Flag], 
    [Extent1].[System_Locked] AS [System_Locked], 
    [Extent1].[Last_Update_User] AS [Last_Update_User], 
    [Extent1].[Last_Update_Date] AS [Last_Update_Date], 
    [Extent1].[Security_Status] AS [Security_Status], 
    [Extent1].[Benchmark_Portfolio] AS [Benchmark_Portfolio], 
    [Extent1].[Active_flag] AS [Active_flag], 
    [Extent1].[Dividend_FX_Security_ID] AS [Dividend_FX_Security_ID]
    FROM [dbo].[Security_Detail] AS [Extent1]
    WHERE [Extent1].[Security_ID] = @EntityKeyValue1
2018-04-07 12:37:50.0255|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: SELECT 
    [Extent1].[Security_ID] AS [Security_ID], 
    [Extent1].[Entity_ID] AS [Entity_ID], 
    [Extent1].[Security_Name] AS [Security_Name], 
    [Extent1].[Short_Name] AS [Short_Name], 
    [Extent1].[Primary_Exch] AS [Primary_Exch], 
    [Extent1].[Secondary_Exch] AS [Secondary_Exch], 
    [Extent1].[Country_Of_Domicile] AS [Country_Of_Domicile], 
    [Extent1].[Country_Of_Risk] AS [Country_Of_Risk], 
    [Extent1].[Security_Type_Code] AS [Security_Type_Code], 
    [Extent1].[Price_Multiplier] AS [Price_Multiplier], 
    [Extent1].[Income_Frequency] AS [Income_Frequency], 
    [Extent1].[Issuer_Code] AS [Issuer_Code], 
    [Extent1].[Ultimate_Issuer_Code] AS [Ultimate_Issuer_Code], 
    [Extent1].[Asset_Currency] AS [Asset_Currency], 
    [Extent1].[Min_Lot_Size] AS [Min_Lot_Size], 
    [Extent1].[Decimal_Precision] AS [Decimal_Precision], 
    [Extent1].[AvePrice_Rounding] AS [AvePrice_Rounding], 
    [Extent1].[Issue_Date] AS [Issue_Date], 
    [Extent1].[Maturity_Date] AS [Maturity_Date], 
    [Extent1].[Coupon_Rate] AS [Coupon_Rate], 
    [Extent1].[Price_Exchange] AS [Price_Exchange], 
    [Extent1].[Trade_Currency] AS [Trade_Currency], 
    [Extent1].[Price_Curr] AS [Price_Curr], 
    [Extent1].[Currency_Pair_Code] AS [Currency_Pair_Code], 
    [Extent1].[Share_Class] AS [Share_Class], 
    [Extent1].[Current_Market_Price] AS [Current_Market_Price], 
    [Extent1].[Index_Type] AS [Index_Type], 
    [Extent1].[Clean_Price_Formula] AS [Clean_Price_Formula], 
    [Extent1].[Accrued_Income_Price_Formula] AS [Accrued_Income_Price_Formula], 
    [Extent1].[Odd_First_Coupon_Date] AS [Odd_First_Coupon_Date], 
    [Extent1].[Odd_Last_Coupon_Date] AS [Odd_Last_Coupon_Date], 
    [Extent1].[Coupon_Anniversary_Indicator] AS [Coupon_Anniversary_Indicator], 
    [Extent1].[Track_EOM_Flag] AS [Track_EOM_Flag], 
    [Extent1].[Next_Coupon_Date] AS [Next_Coupon_Date], 
    [Extent1].[Previous_Coupon_Date] AS [Previous_Coupon_Date], 
    [Extent1].[Payment_Frequency] AS [Payment_Frequency], 
    [Extent1].[Coupon_BusDay_Adjustment] AS [Coupon_BusDay_Adjustment], 
    [Extent1].[Next_Ex_Div_Date] AS [Next_Ex_Div_Date], 
    [Extent1].[Ex_Div_BusDay_Adjustment] AS [Ex_Div_BusDay_Adjustment], 
    [Extent1].[Ex_Div_Period] AS [Ex_Div_Period], 
    [Extent1].[Ticker] AS [Ticker], 
    [Extent1].[Inet_ID] AS [Inet_ID], 
    [Extent1].[Bloomberg_ID] AS [Bloomberg_ID], 
    [Extent1].[External_Sec_ID] AS [External_Sec_ID], 
    [Extent1].[Reuters_ID] AS [Reuters_ID], 
    [Extent1].[ISIN] AS [ISIN], 
    [Extent1].[Call_Account_Flag] AS [Call_Account_Flag], 
    [Extent1].[System_Locked] AS [System_Locked], 
    [Extent1].[Last_Update_User] AS [Last_Update_User], 
    [Extent1].[Last_Update_Date] AS [Last_Update_Date], 
    [Extent1].[Security_Status] AS [Security_Status], 
    [Extent1].[Benchmark_Portfolio] AS [Benchmark_Portfolio], 
    [Extent1].[Active_flag] AS [Active_flag], 
    [Extent1].[Dividend_FX_Security_ID] AS [Dividend_FX_Security_ID]
    FROM [dbo].[Security_Detail] AS [Extent1]
    WHERE [Extent1].[Security_ID] = @EntityKeyValue1
2018-04-07 12:37:50.1776|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: SELECT 
    [Project1].[Security_ID] AS [Security_ID], 
    [Project1].[Entity_ID] AS [Entity_ID], 
    [Project1].[Security_Name] AS [Security_Name], 
    [Project1].[Short_Name] AS [Short_Name], 
    [Project1].[Primary_Exch] AS [Primary_Exch], 
    [Project1].[Secondary_Exch] AS [Secondary_Exch], 
    [Project1].[Country_Of_Domicile] AS [Country_Of_Domicile], 
    [Project1].[Country_Of_Risk] AS [Country_Of_Risk], 
    [Project1].[Security_Type_Code] AS [Security_Type_Code], 
    [Project1].[Price_Multiplier] AS [Price_Multiplier], 
    [Project1].[Income_Frequency] AS [Income_Frequency], 
    [Project1].[Issuer_Code] AS [Issuer_Code], 
    [Project1].[Ultimate_Issuer_Code] AS [Ultimate_Issuer_Code], 
    [Project1].[Asset_Currency] AS [Asset_Currency], 
    [Project1].[Min_Lot_Size] AS [Min_Lot_Size], 
    [Project1].[Decimal_Precision] AS [Decimal_Precision], 
    [Project1].[AvePrice_Rounding] AS [AvePrice_Rounding], 
    [Project1].[Issue_Date] AS [Issue_Date], 
    [Project1].[Maturity_Date] AS [Maturity_Date], 
    [Project1].[Coupon_Rate] AS [Coupon_Rate], 
    [Project1].[Price_Exchange] AS [Price_Exchange], 
    [Project1].[Trade_Currency] AS [Trade_Currency], 
    [Project1].[Price_Curr] AS [Price_Curr], 
    [Project1].[Currency_Pair_Code] AS [Currency_Pair_Code], 
    [Project1].[Share_Class] AS [Share_Class], 
    [Project1].[Current_Market_Price] AS [Current_Market_Price], 
    [Project1].[Index_Type] AS [Index_Type], 
    [Project1].[Clean_Price_Formula] AS [Clean_Price_Formula], 
    [Project1].[Accrued_Income_Price_Formula] AS [Accrued_Income_Price_Formula], 
    [Project1].[Odd_First_Coupon_Date] AS [Odd_First_Coupon_Date], 
    [Project1].[Odd_Last_Coupon_Date] AS [Odd_Last_Coupon_Date], 
    [Project1].[Coupon_Anniversary_Indicator] AS [Coupon_Anniversary_Indicator], 
    [Project1].[Track_EOM_Flag] AS [Track_EOM_Flag], 
    [Project1].[Next_Coupon_Date] AS [Next_Coupon_Date], 
    [Project1].[Previous_Coupon_Date] AS [Previous_Coupon_Date], 
    [Project1].[Payment_Frequency] AS [Payment_Frequency], 
    [Project1].[Coupon_BusDay_Adjustment] AS [Coupon_BusDay_Adjustment], 
    [Project1].[Next_Ex_Div_Date] AS [Next_Ex_Div_Date], 
    [Project1].[Ex_Div_BusDay_Adjustment] AS [Ex_Div_BusDay_Adjustment], 
    [Project1].[Ex_Div_Period] AS [Ex_Div_Period], 
    [Project1].[Ticker] AS [Ticker], 
    [Project1].[Inet_ID] AS [Inet_ID], 
    [Project1].[Bloomberg_ID] AS [Bloomberg_ID], 
    [Project1].[External_Sec_ID] AS [External_Sec_ID], 
    [Project1].[Reuters_ID] AS [Reuters_ID], 
    [Project1].[ISIN] AS [ISIN], 
    [Project1].[Call_Account_Flag] AS [Call_Account_Flag], 
    [Project1].[System_Locked] AS [System_Locked], 
    [Project1].[Last_Update_User] AS [Last_Update_User], 
    [Project1].[Last_Update_Date] AS [Last_Update_Date], 
    [Project1].[Security_Status] AS [Security_Status], 
    [Project1].[Benchmark_Portfolio] AS [Benchmark_Portfolio], 
    [Project1].[Active_flag] AS [Active_flag], 
    [Project1].[Dividend_FX_Security_ID] AS [Dividend_FX_Security_ID]
    FROM ( SELECT 
        [Extent1].[Security_ID] AS [Security_ID], 
        [Extent1].[Entity_ID] AS [Entity_ID], 
        [Extent1].[Security_Name] AS [Security_Name], 
        [Extent1].[Short_Name] AS [Short_Name], 
        [Extent1].[Primary_Exch] AS [Primary_Exch], 
        [Extent1].[Secondary_Exch] AS [Secondary_Exch], 
        [Extent1].[Country_Of_Domicile] AS [Country_Of_Domicile], 
        [Extent1].[Country_Of_Risk] AS [Country_Of_Risk], 
        [Extent1].[Security_Type_Code] AS [Security_Type_Code], 
        [Extent1].[Price_Multiplier] AS [Price_Multiplier], 
        [Extent1].[Income_Frequency] AS [Income_Frequency], 
        [Extent1].[Issuer_Code] AS [Issuer_Code], 
        [Extent1].[Ultimate_Issuer_Code] AS [Ultimate_Issuer_Code], 
        [Extent1].[Asset_Currency] AS [Asset_Currency], 
        [Extent1].[Min_Lot_Size] AS [Min_Lot_Size], 
        [Extent1].[Decimal_Precision] AS [Decimal_Precision], 
        [Extent1].[AvePrice_Rounding] AS [AvePrice_Rounding], 
        [Extent1].[Issue_Date] AS [Issue_Date], 
        [Extent1].[Maturity_Date] AS [Maturity_Date], 
        [Extent1].[Coupon_Rate] AS [Coupon_Rate], 
        [Extent1].[Price_Exchange] AS [Price_Exchange], 
        [Extent1].[Trade_Currency] AS [Trade_Currency], 
        [Extent1].[Price_Curr] AS [Price_Curr], 
        [Extent1].[Currency_Pair_Code] AS [Currency_Pair_Code], 
        [Extent1].[Share_Class] AS [Share_Class], 
        [Extent1].[Current_Market_Price] AS [Current_Market_Price], 
        [Extent1].[Index_Type] AS [Index_Type], 
        [Extent1].[Clean_Price_Formula] AS [Clean_Price_Formula], 
        [Extent1].[Accrued_Income_Price_Formula] AS [Accrued_Income_Price_Formula], 
        [Extent1].[Odd_First_Coupon_Date] AS [Odd_First_Coupon_Date], 
        [Extent1].[Odd_Last_Coupon_Date] AS [Odd_Last_Coupon_Date], 
        [Extent1].[Coupon_Anniversary_Indicator] AS [Coupon_Anniversary_Indicator], 
        [Extent1].[Track_EOM_Flag] AS [Track_EOM_Flag], 
        [Extent1].[Next_Coupon_Date] AS [Next_Coupon_Date], 
        [Extent1].[Previous_Coupon_Date] AS [Previous_Coupon_Date], 
        [Extent1].[Payment_Frequency] AS [Payment_Frequency], 
        [Extent1].[Coupon_BusDay_Adjustment] AS [Coupon_BusDay_Adjustment], 
        [Extent1].[Next_Ex_Div_Date] AS [Next_Ex_Div_Date], 
        [Extent1].[Ex_Div_BusDay_Adjustment] AS [Ex_Div_BusDay_Adjustment], 
        [Extent1].[Ex_Div_Period] AS [Ex_Div_Period], 
        [Extent1].[Ticker] AS [Ticker], 
        [Extent1].[Inet_ID] AS [Inet_ID], 
        [Extent1].[Bloomberg_ID] AS [Bloomberg_ID], 
        [Extent1].[External_Sec_ID] AS [External_Sec_ID], 
        [Extent1].[Reuters_ID] AS [Reuters_ID], 
        [Extent1].[ISIN] AS [ISIN], 
        [Extent1].[Call_Account_Flag] AS [Call_Account_Flag], 
        [Extent1].[System_Locked] AS [System_Locked], 
        [Extent1].[Last_Update_User] AS [Last_Update_User], 
        [Extent1].[Last_Update_Date] AS [Last_Update_Date], 
        [Extent1].[Security_Status] AS [Security_Status], 
        [Extent1].[Benchmark_Portfolio] AS [Benchmark_Portfolio], 
        [Extent1].[Active_flag] AS [Active_flag], 
        [Extent1].[Dividend_FX_Security_ID] AS [Dividend_FX_Security_ID]
        FROM [dbo].[Security_Detail] AS [Extent1]
        WHERE ([Extent1].[Entity_ID] IN (@p__linq__0,@p__linq__1)) AND ((CASE WHEN ( NOT ((N'' = @p__linq__2) AND (@p__linq__2 IS NOT NULL))) THEN CASE WHEN ([Extent1].[Security_Type_Code] = @p__linq__3) THEN cast(1 as bit) WHEN ( NOT (([Extent1].[Security_Type_Code] = @p__linq__3) AND (0 = (CASE WHEN (@p__linq__3 IS NULL) THEN cast(1 as bit) ELSE cast(0 as bit) END)))) THEN cast(0 as bit) END WHEN ('' <> [Extent1].[Security_Type_Code]) THEN cast(1 as bit) WHEN ('' = [Extent1].[Security_Type_Code]) THEN cast(0 as bit) END) = 1)
    )  AS [Project1]
    ORDER BY [Project1].[Security_Name] ASC
2018-04-07 12:37:50.2131|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: SELECT 
    [Project1].[Security_ID] AS [Security_ID], 
    [Project1].[Entity_ID] AS [Entity_ID], 
    [Project1].[Security_Name] AS [Security_Name], 
    [Project1].[Short_Name] AS [Short_Name], 
    [Project1].[Primary_Exch] AS [Primary_Exch], 
    [Project1].[Secondary_Exch] AS [Secondary_Exch], 
    [Project1].[Country_Of_Domicile] AS [Country_Of_Domicile], 
    [Project1].[Country_Of_Risk] AS [Country_Of_Risk], 
    [Project1].[Security_Type_Code] AS [Security_Type_Code], 
    [Project1].[Price_Multiplier] AS [Price_Multiplier], 
    [Project1].[Income_Frequency] AS [Income_Frequency], 
    [Project1].[Issuer_Code] AS [Issuer_Code], 
    [Project1].[Ultimate_Issuer_Code] AS [Ultimate_Issuer_Code], 
    [Project1].[Asset_Currency] AS [Asset_Currency], 
    [Project1].[Min_Lot_Size] AS [Min_Lot_Size], 
    [Project1].[Decimal_Precision] AS [Decimal_Precision], 
    [Project1].[AvePrice_Rounding] AS [AvePrice_Rounding], 
    [Project1].[Issue_Date] AS [Issue_Date], 
    [Project1].[Maturity_Date] AS [Maturity_Date], 
    [Project1].[Coupon_Rate] AS [Coupon_Rate], 
    [Project1].[Price_Exchange] AS [Price_Exchange], 
    [Project1].[Trade_Currency] AS [Trade_Currency], 
    [Project1].[Price_Curr] AS [Price_Curr], 
    [Project1].[Currency_Pair_Code] AS [Currency_Pair_Code], 
    [Project1].[Share_Class] AS [Share_Class], 
    [Project1].[Current_Market_Price] AS [Current_Market_Price], 
    [Project1].[Index_Type] AS [Index_Type], 
    [Project1].[Clean_Price_Formula] AS [Clean_Price_Formula], 
    [Project1].[Accrued_Income_Price_Formula] AS [Accrued_Income_Price_Formula], 
    [Project1].[Odd_First_Coupon_Date] AS [Odd_First_Coupon_Date], 
    [Project1].[Odd_Last_Coupon_Date] AS [Odd_Last_Coupon_Date], 
    [Project1].[Coupon_Anniversary_Indicator] AS [Coupon_Anniversary_Indicator], 
    [Project1].[Track_EOM_Flag] AS [Track_EOM_Flag], 
    [Project1].[Next_Coupon_Date] AS [Next_Coupon_Date], 
    [Project1].[Previous_Coupon_Date] AS [Previous_Coupon_Date], 
    [Project1].[Payment_Frequency] AS [Payment_Frequency], 
    [Project1].[Coupon_BusDay_Adjustment] AS [Coupon_BusDay_Adjustment], 
    [Project1].[Next_Ex_Div_Date] AS [Next_Ex_Div_Date], 
    [Project1].[Ex_Div_BusDay_Adjustment] AS [Ex_Div_BusDay_Adjustment], 
    [Project1].[Ex_Div_Period] AS [Ex_Div_Period], 
    [Project1].[Ticker] AS [Ticker], 
    [Project1].[Inet_ID] AS [Inet_ID], 
    [Project1].[Bloomberg_ID] AS [Bloomberg_ID], 
    [Project1].[External_Sec_ID] AS [External_Sec_ID], 
    [Project1].[Reuters_ID] AS [Reuters_ID], 
    [Project1].[ISIN] AS [ISIN], 
    [Project1].[Call_Account_Flag] AS [Call_Account_Flag], 
    [Project1].[System_Locked] AS [System_Locked], 
    [Project1].[Last_Update_User] AS [Last_Update_User], 
    [Project1].[Last_Update_Date] AS [Last_Update_Date], 
    [Project1].[Security_Status] AS [Security_Status], 
    [Project1].[Benchmark_Portfolio] AS [Benchmark_Portfolio], 
    [Project1].[Active_flag] AS [Active_flag], 
    [Project1].[Dividend_FX_Security_ID] AS [Dividend_FX_Security_ID]
    FROM ( SELECT 
        [Extent1].[Security_ID] AS [Security_ID], 
        [Extent1].[Entity_ID] AS [Entity_ID], 
        [Extent1].[Security_Name] AS [Security_Name], 
        [Extent1].[Short_Name] AS [Short_Name], 
        [Extent1].[Primary_Exch] AS [Primary_Exch], 
        [Extent1].[Secondary_Exch] AS [Secondary_Exch], 
        [Extent1].[Country_Of_Domicile] AS [Country_Of_Domicile], 
        [Extent1].[Country_Of_Risk] AS [Country_Of_Risk], 
        [Extent1].[Security_Type_Code] AS [Security_Type_Code], 
        [Extent1].[Price_Multiplier] AS [Price_Multiplier], 
        [Extent1].[Income_Frequency] AS [Income_Frequency], 
        [Extent1].[Issuer_Code] AS [Issuer_Code], 
        [Extent1].[Ultimate_Issuer_Code] AS [Ultimate_Issuer_Code], 
        [Extent1].[Asset_Currency] AS [Asset_Currency], 
        [Extent1].[Min_Lot_Size] AS [Min_Lot_Size], 
        [Extent1].[Decimal_Precision] AS [Decimal_Precision], 
        [Extent1].[AvePrice_Rounding] AS [AvePrice_Rounding], 
        [Extent1].[Issue_Date] AS [Issue_Date], 
        [Extent1].[Maturity_Date] AS [Maturity_Date], 
        [Extent1].[Coupon_Rate] AS [Coupon_Rate], 
        [Extent1].[Price_Exchange] AS [Price_Exchange], 
        [Extent1].[Trade_Currency] AS [Trade_Currency], 
        [Extent1].[Price_Curr] AS [Price_Curr], 
        [Extent1].[Currency_Pair_Code] AS [Currency_Pair_Code], 
        [Extent1].[Share_Class] AS [Share_Class], 
        [Extent1].[Current_Market_Price] AS [Current_Market_Price], 
        [Extent1].[Index_Type] AS [Index_Type], 
        [Extent1].[Clean_Price_Formula] AS [Clean_Price_Formula], 
        [Extent1].[Accrued_Income_Price_Formula] AS [Accrued_Income_Price_Formula], 
        [Extent1].[Odd_First_Coupon_Date] AS [Odd_First_Coupon_Date], 
        [Extent1].[Odd_Last_Coupon_Date] AS [Odd_Last_Coupon_Date], 
        [Extent1].[Coupon_Anniversary_Indicator] AS [Coupon_Anniversary_Indicator], 
        [Extent1].[Track_EOM_Flag] AS [Track_EOM_Flag], 
        [Extent1].[Next_Coupon_Date] AS [Next_Coupon_Date], 
        [Extent1].[Previous_Coupon_Date] AS [Previous_Coupon_Date], 
        [Extent1].[Payment_Frequency] AS [Payment_Frequency], 
        [Extent1].[Coupon_BusDay_Adjustment] AS [Coupon_BusDay_Adjustment], 
        [Extent1].[Next_Ex_Div_Date] AS [Next_Ex_Div_Date], 
        [Extent1].[Ex_Div_BusDay_Adjustment] AS [Ex_Div_BusDay_Adjustment], 
        [Extent1].[Ex_Div_Period] AS [Ex_Div_Period], 
        [Extent1].[Ticker] AS [Ticker], 
        [Extent1].[Inet_ID] AS [Inet_ID], 
        [Extent1].[Bloomberg_ID] AS [Bloomberg_ID], 
        [Extent1].[External_Sec_ID] AS [External_Sec_ID], 
        [Extent1].[Reuters_ID] AS [Reuters_ID], 
        [Extent1].[ISIN] AS [ISIN], 
        [Extent1].[Call_Account_Flag] AS [Call_Account_Flag], 
        [Extent1].[System_Locked] AS [System_Locked], 
        [Extent1].[Last_Update_User] AS [Last_Update_User], 
        [Extent1].[Last_Update_Date] AS [Last_Update_Date], 
        [Extent1].[Security_Status] AS [Security_Status], 
        [Extent1].[Benchmark_Portfolio] AS [Benchmark_Portfolio], 
        [Extent1].[Active_flag] AS [Active_flag], 
        [Extent1].[Dividend_FX_Security_ID] AS [Dividend_FX_Security_ID]
        FROM [dbo].[Security_Detail] AS [Extent1]
        WHERE ([Extent1].[Entity_ID] IN (@p__linq__0,@p__linq__1)) AND ((CASE WHEN ( NOT ((N'' = @p__linq__2) AND (@p__linq__2 IS NOT NULL))) THEN CASE WHEN ([Extent1].[Security_Type_Code] = @p__linq__3) THEN cast(1 as bit) WHEN ( NOT (([Extent1].[Security_Type_Code] = @p__linq__3) AND (0 = (CASE WHEN (@p__linq__3 IS NULL) THEN cast(1 as bit) ELSE cast(0 as bit) END)))) THEN cast(0 as bit) END WHEN ('' <> [Extent1].[Security_Type_Code]) THEN cast(1 as bit) WHEN ('' = [Extent1].[Security_Type_Code]) THEN cast(0 as bit) END) = 1)
    )  AS [Project1]
    ORDER BY [Project1].[Security_Name] ASC
2018-04-07 12:37:50.2827|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: IF db_id(N'MetopeAzureDb') IS NOT NULL SELECT 1 ELSE SELECT Count(*) FROM sys.databases WHERE [name]=N'MetopeAzureDb'
2018-04-07 12:37:50.3713|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: IF db_id(N'MetopeAzureDb') IS NOT NULL SELECT 1 ELSE SELECT Count(*) FROM sys.databases WHERE [name]=N'MetopeAzureDb'
2018-04-07 12:37:50.4528|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: IF db_id(N'MetopeAzureDb') IS NOT NULL SELECT 1 ELSE SELECT Count(*) FROM sys.databases WHERE [name]=N'MetopeAzureDb'
2018-04-07 12:37:50.4733|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: IF db_id(N'MetopeAzureDb') IS NOT NULL SELECT 1 ELSE SELECT Count(*) FROM sys.databases WHERE [name]=N'MetopeAzureDb'
2018-04-07 12:37:53.6293|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: SELECT 
    [Project1].[Decimal_Precision] AS [Decimal_Precision], 
    [Project1].[Security_ID] AS [Security_ID], 
    [Project1].[Portfolio_Code] AS [Portfolio_Code], 
    [Project1].[Entity_ID] AS [Entity_ID], 
    [Project1].[ModDietz_Performance_Quarterly] AS [ModDietz_Performance_Quarterly], 
    [Project1].[ModDietz_Performance_Monthly] AS [ModDietz_Performance_Monthly], 
    [Project1].[ModDietz_Performance_MonthToDate] AS [ModDietz_Performance_MonthToDate], 
    [Project1].[Dietz_Performance_Quarterly] AS [Dietz_Performance_Quarterly], 
    [Project1].[Dietz_Performance_Monthly] AS [Dietz_Performance_Monthly], 
    [Project1].[Dietz_Performance_MonthToDate] AS [Dietz_Performance_MonthToDate], 
    [Project1].[Last_Update_Date] AS [Last_Update_Date], 
    [Project1].[Last_Update_User] AS [Last_Update_User], 
    [Project1].[Record_Date] AS [Record_Date], 
    [Project1].[Session_ID] AS [Session_ID], 
    [Project1].[Hist_Last_Update_Date] AS [Hist_Last_Update_Date], 
    [Project1].[Hist_Last_Update_User] AS [Hist_Last_Update_User], 
    [Project1].[Security_ID1] AS [Security_ID1], 
    [Project1].[Entity_ID1] AS [Entity_ID1], 
    [Project1].[Security_Name] AS [Security_Name], 
    [Project1].[Short_Name] AS [Short_Name], 
    [Project1].[Primary_Exch] AS [Primary_Exch], 
    [Project1].[Secondary_Exch] AS [Secondary_Exch], 
    [Project1].[Country_Of_Domicile] AS [Country_Of_Domicile], 
    [Project1].[Country_Of_Risk] AS [Country_Of_Risk], 
    [Project1].[Security_Type_Code] AS [Security_Type_Code], 
    [Project1].[Price_Multiplier] AS [Price_Multiplier], 
    [Project1].[Income_Frequency] AS [Income_Frequency], 
    [Project1].[Issuer_Code] AS [Issuer_Code], 
    [Project1].[Ultimate_Issuer_Code] AS [Ultimate_Issuer_Code], 
    [Project1].[Asset_Currency] AS [Asset_Currency], 
    [Project1].[Min_Lot_Size] AS [Min_Lot_Size], 
    [Project1].[AvePrice_Rounding] AS [AvePrice_Rounding], 
    [Project1].[Issue_Date] AS [Issue_Date], 
    [Project1].[Maturity_Date] AS [Maturity_Date], 
    [Project1].[Coupon_Rate] AS [Coupon_Rate], 
    [Project1].[Price_Exchange] AS [Price_Exchange], 
    [Project1].[Trade_Currency] AS [Trade_Currency], 
    [Project1].[Price_Curr] AS [Price_Curr], 
    [Project1].[Currency_Pair_Code] AS [Currency_Pair_Code], 
    [Project1].[Share_Class] AS [Share_Class], 
    [Project1].[Current_Market_Price] AS [Current_Market_Price], 
    [Project1].[Index_Type] AS [Index_Type], 
    [Project1].[Clean_Price_Formula] AS [Clean_Price_Formula], 
    [Project1].[Accrued_Income_Price_Formula] AS [Accrued_Income_Price_Formula], 
    [Project1].[Odd_First_Coupon_Date] AS [Odd_First_Coupon_Date], 
    [Project1].[Odd_Last_Coupon_Date] AS [Odd_Last_Coupon_Date], 
    [Project1].[Coupon_Anniversary_Indicator] AS [Coupon_Anniversary_Indicator], 
    [Project1].[Track_EOM_Flag] AS [Track_EOM_Flag], 
    [Project1].[Next_Coupon_Date] AS [Next_Coupon_Date], 
    [Project1].[Previous_Coupon_Date] AS [Previous_Coupon_Date], 
    [Project1].[Payment_Frequency] AS [Payment_Frequency], 
    [Project1].[Coupon_BusDay_Adjustment] AS [Coupon_BusDay_Adjustment], 
    [Project1].[Next_Ex_Div_Date] AS [Next_Ex_Div_Date], 
    [Project1].[Ex_Div_BusDay_Adjustment] AS [Ex_Div_BusDay_Adjustment], 
    [Project1].[Ex_Div_Period] AS [Ex_Div_Period], 
    [Project1].[Ticker] AS [Ticker], 
    [Project1].[Inet_ID] AS [Inet_ID], 
    [Project1].[Bloomberg_ID] AS [Bloomberg_ID], 
    [Project1].[External_Sec_ID] AS [External_Sec_ID], 
    [Project1].[Reuters_ID] AS [Reuters_ID], 
    [Project1].[ISIN] AS [ISIN], 
    [Project1].[Call_Account_Flag] AS [Call_Account_Flag], 
    [Project1].[System_Locked] AS [System_Locked], 
    [Project1].[Last_Update_User1] AS [Last_Update_User1], 
    [Project1].[Last_Update_Date1] AS [Last_Update_Date1], 
    [Project1].[Security_Status] AS [Security_Status], 
    [Project1].[Benchmark_Portfolio] AS [Benchmark_Portfolio], 
    [Project1].[Active_flag] AS [Active_flag], 
    [Project1].[Dividend_FX_Security_ID] AS [Dividend_FX_Security_ID]
    FROM ( SELECT 
        [Extent1].[Security_ID] AS [Security_ID], 
        [Extent1].[Portfolio_Code] AS [Portfolio_Code], 
        [Extent1].[Entity_ID] AS [Entity_ID], 
        [Extent1].[ModDietz_Performance_Quarterly] AS [ModDietz_Performance_Quarterly], 
        [Extent1].[ModDietz_Performance_Monthly] AS [ModDietz_Performance_Monthly], 
        [Extent1].[ModDietz_Performance_MonthToDate] AS [ModDietz_Performance_MonthToDate], 
        [Extent1].[Dietz_Performance_Quarterly] AS [Dietz_Performance_Quarterly], 
        [Extent1].[Dietz_Performance_Monthly] AS [Dietz_Performance_Monthly], 
        [Extent1].[Dietz_Performance_MonthToDate] AS [Dietz_Performance_MonthToDate], 
        [Extent1].[Last_Update_Date] AS [Last_Update_Date], 
        [Extent1].[Last_Update_User] AS [Last_Update_User], 
        [Extent1].[Record_Date] AS [Record_Date], 
        [Extent1].[Session_ID] AS [Session_ID], 
        [Extent1].[Hist_Last_Update_Date] AS [Hist_Last_Update_Date], 
        [Extent1].[Hist_Last_Update_User] AS [Hist_Last_Update_User], 
        [Extent2].[Security_ID] AS [Security_ID1], 
        [Extent2].[Entity_ID] AS [Entity_ID1], 
        [Extent2].[Security_Name] AS [Security_Name], 
        [Extent2].[Short_Name] AS [Short_Name], 
        [Extent2].[Primary_Exch] AS [Primary_Exch], 
        [Extent2].[Secondary_Exch] AS [Secondary_Exch], 
        [Extent2].[Country_Of_Domicile] AS [Country_Of_Domicile], 
        [Extent2].[Country_Of_Risk] AS [Country_Of_Risk], 
        [Extent2].[Security_Type_Code] AS [Security_Type_Code], 
        [Extent2].[Price_Multiplier] AS [Price_Multiplier], 
        [Extent2].[Income_Frequency] AS [Income_Frequency], 
        [Extent2].[Issuer_Code] AS [Issuer_Code], 
        [Extent2].[Ultimate_Issuer_Code] AS [Ultimate_Issuer_Code], 
        [Extent2].[Asset_Currency] AS [Asset_Currency], 
        [Extent2].[Min_Lot_Size] AS [Min_Lot_Size], 
        [Extent2].[Decimal_Precision] AS [Decimal_Precision], 
        [Extent2].[AvePrice_Rounding] AS [AvePrice_Rounding], 
        [Extent2].[Issue_Date] AS [Issue_Date], 
        [Extent2].[Maturity_Date] AS [Maturity_Date], 
        [Extent2].[Coupon_Rate] AS [Coupon_Rate], 
        [Extent2].[Price_Exchange] AS [Price_Exchange], 
        [Extent2].[Trade_Currency] AS [Trade_Currency], 
        [Extent2].[Price_Curr] AS [Price_Curr], 
        [Extent2].[Currency_Pair_Code] AS [Currency_Pair_Code], 
        [Extent2].[Share_Class] AS [Share_Class], 
        [Extent2].[Current_Market_Price] AS [Current_Market_Price], 
        [Extent2].[Index_Type] AS [Index_Type], 
        [Extent2].[Clean_Price_Formula] AS [Clean_Price_Formula], 
        [Extent2].[Accrued_Income_Price_Formula] AS [Accrued_Income_Price_Formula], 
        [Extent2].[Odd_First_Coupon_Date] AS [Odd_First_Coupon_Date], 
        [Extent2].[Odd_Last_Coupon_Date] AS [Odd_Last_Coupon_Date], 
        [Extent2].[Coupon_Anniversary_Indicator] AS [Coupon_Anniversary_Indicator], 
        [Extent2].[Track_EOM_Flag] AS [Track_EOM_Flag], 
        [Extent2].[Next_Coupon_Date] AS [Next_Coupon_Date], 
        [Extent2].[Previous_Coupon_Date] AS [Previous_Coupon_Date], 
        [Extent2].[Payment_Frequency] AS [Payment_Frequency], 
        [Extent2].[Coupon_BusDay_Adjustment] AS [Coupon_BusDay_Adjustment], 
        [Extent2].[Next_Ex_Div_Date] AS [Next_Ex_Div_Date], 
        [Extent2].[Ex_Div_BusDay_Adjustment] AS [Ex_Div_BusDay_Adjustment], 
        [Extent2].[Ex_Div_Period] AS [Ex_Div_Period], 
        [Extent2].[Ticker] AS [Ticker], 
        [Extent2].[Inet_ID] AS [Inet_ID], 
        [Extent2].[Bloomberg_ID] AS [Bloomberg_ID], 
        [Extent2].[External_Sec_ID] AS [External_Sec_ID], 
        [Extent2].[Reuters_ID] AS [Reuters_ID], 
        [Extent2].[ISIN] AS [ISIN], 
        [Extent2].[Call_Account_Flag] AS [Call_Account_Flag], 
        [Extent2].[System_Locked] AS [System_Locked], 
        [Extent2].[Last_Update_User] AS [Last_Update_User1], 
        [Extent2].[Last_Update_Date] AS [Last_Update_Date1], 
        [Extent2].[Security_Status] AS [Security_Status], 
        [Extent2].[Benchmark_Portfolio] AS [Benchmark_Portfolio], 
        [Extent2].[Active_flag] AS [Active_flag], 
        [Extent2].[Dividend_FX_Security_ID] AS [Dividend_FX_Security_ID]
        FROM  [dbo].[Security_Performance_History] AS [Extent1]
        INNER JOIN [dbo].[Security_Detail] AS [Extent2] ON [Extent1].[Security_ID] = [Extent2].[Security_ID]
        WHERE ([Extent1].[Security_ID] = @p__linq__0) AND ([Extent1].[Portfolio_Code] = @p__linq__1)
    )  AS [Project1]
    ORDER BY [Project1].[Record_Date] DESC
2018-04-07 12:37:53.6809|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: SELECT 
    [Project1].[Decimal_Precision] AS [Decimal_Precision], 
    [Project1].[Security_ID] AS [Security_ID], 
    [Project1].[Portfolio_Code] AS [Portfolio_Code], 
    [Project1].[Entity_ID] AS [Entity_ID], 
    [Project1].[ModDietz_Performance_Quarterly] AS [ModDietz_Performance_Quarterly], 
    [Project1].[ModDietz_Performance_Monthly] AS [ModDietz_Performance_Monthly], 
    [Project1].[ModDietz_Performance_MonthToDate] AS [ModDietz_Performance_MonthToDate], 
    [Project1].[Dietz_Performance_Quarterly] AS [Dietz_Performance_Quarterly], 
    [Project1].[Dietz_Performance_Monthly] AS [Dietz_Performance_Monthly], 
    [Project1].[Dietz_Performance_MonthToDate] AS [Dietz_Performance_MonthToDate], 
    [Project1].[Last_Update_Date] AS [Last_Update_Date], 
    [Project1].[Last_Update_User] AS [Last_Update_User], 
    [Project1].[Record_Date] AS [Record_Date], 
    [Project1].[Session_ID] AS [Session_ID], 
    [Project1].[Hist_Last_Update_Date] AS [Hist_Last_Update_Date], 
    [Project1].[Hist_Last_Update_User] AS [Hist_Last_Update_User], 
    [Project1].[Security_ID1] AS [Security_ID1], 
    [Project1].[Entity_ID1] AS [Entity_ID1], 
    [Project1].[Security_Name] AS [Security_Name], 
    [Project1].[Short_Name] AS [Short_Name], 
    [Project1].[Primary_Exch] AS [Primary_Exch], 
    [Project1].[Secondary_Exch] AS [Secondary_Exch], 
    [Project1].[Country_Of_Domicile] AS [Country_Of_Domicile], 
    [Project1].[Country_Of_Risk] AS [Country_Of_Risk], 
    [Project1].[Security_Type_Code] AS [Security_Type_Code], 
    [Project1].[Price_Multiplier] AS [Price_Multiplier], 
    [Project1].[Income_Frequency] AS [Income_Frequency], 
    [Project1].[Issuer_Code] AS [Issuer_Code], 
    [Project1].[Ultimate_Issuer_Code] AS [Ultimate_Issuer_Code], 
    [Project1].[Asset_Currency] AS [Asset_Currency], 
    [Project1].[Min_Lot_Size] AS [Min_Lot_Size], 
    [Project1].[AvePrice_Rounding] AS [AvePrice_Rounding], 
    [Project1].[Issue_Date] AS [Issue_Date], 
    [Project1].[Maturity_Date] AS [Maturity_Date], 
    [Project1].[Coupon_Rate] AS [Coupon_Rate], 
    [Project1].[Price_Exchange] AS [Price_Exchange], 
    [Project1].[Trade_Currency] AS [Trade_Currency], 
    [Project1].[Price_Curr] AS [Price_Curr], 
    [Project1].[Currency_Pair_Code] AS [Currency_Pair_Code], 
    [Project1].[Share_Class] AS [Share_Class], 
    [Project1].[Current_Market_Price] AS [Current_Market_Price], 
    [Project1].[Index_Type] AS [Index_Type], 
    [Project1].[Clean_Price_Formula] AS [Clean_Price_Formula], 
    [Project1].[Accrued_Income_Price_Formula] AS [Accrued_Income_Price_Formula], 
    [Project1].[Odd_First_Coupon_Date] AS [Odd_First_Coupon_Date], 
    [Project1].[Odd_Last_Coupon_Date] AS [Odd_Last_Coupon_Date], 
    [Project1].[Coupon_Anniversary_Indicator] AS [Coupon_Anniversary_Indicator], 
    [Project1].[Track_EOM_Flag] AS [Track_EOM_Flag], 
    [Project1].[Next_Coupon_Date] AS [Next_Coupon_Date], 
    [Project1].[Previous_Coupon_Date] AS [Previous_Coupon_Date], 
    [Project1].[Payment_Frequency] AS [Payment_Frequency], 
    [Project1].[Coupon_BusDay_Adjustment] AS [Coupon_BusDay_Adjustment], 
    [Project1].[Next_Ex_Div_Date] AS [Next_Ex_Div_Date], 
    [Project1].[Ex_Div_BusDay_Adjustment] AS [Ex_Div_BusDay_Adjustment], 
    [Project1].[Ex_Div_Period] AS [Ex_Div_Period], 
    [Project1].[Ticker] AS [Ticker], 
    [Project1].[Inet_ID] AS [Inet_ID], 
    [Project1].[Bloomberg_ID] AS [Bloomberg_ID], 
    [Project1].[External_Sec_ID] AS [External_Sec_ID], 
    [Project1].[Reuters_ID] AS [Reuters_ID], 
    [Project1].[ISIN] AS [ISIN], 
    [Project1].[Call_Account_Flag] AS [Call_Account_Flag], 
    [Project1].[System_Locked] AS [System_Locked], 
    [Project1].[Last_Update_User1] AS [Last_Update_User1], 
    [Project1].[Last_Update_Date1] AS [Last_Update_Date1], 
    [Project1].[Security_Status] AS [Security_Status], 
    [Project1].[Benchmark_Portfolio] AS [Benchmark_Portfolio], 
    [Project1].[Active_flag] AS [Active_flag], 
    [Project1].[Dividend_FX_Security_ID] AS [Dividend_FX_Security_ID]
    FROM ( SELECT 
        [Extent1].[Security_ID] AS [Security_ID], 
        [Extent1].[Portfolio_Code] AS [Portfolio_Code], 
        [Extent1].[Entity_ID] AS [Entity_ID], 
        [Extent1].[ModDietz_Performance_Quarterly] AS [ModDietz_Performance_Quarterly], 
        [Extent1].[ModDietz_Performance_Monthly] AS [ModDietz_Performance_Monthly], 
        [Extent1].[ModDietz_Performance_MonthToDate] AS [ModDietz_Performance_MonthToDate], 
        [Extent1].[Dietz_Performance_Quarterly] AS [Dietz_Performance_Quarterly], 
        [Extent1].[Dietz_Performance_Monthly] AS [Dietz_Performance_Monthly], 
        [Extent1].[Dietz_Performance_MonthToDate] AS [Dietz_Performance_MonthToDate], 
        [Extent1].[Last_Update_Date] AS [Last_Update_Date], 
        [Extent1].[Last_Update_User] AS [Last_Update_User], 
        [Extent1].[Record_Date] AS [Record_Date], 
        [Extent1].[Session_ID] AS [Session_ID], 
        [Extent1].[Hist_Last_Update_Date] AS [Hist_Last_Update_Date], 
        [Extent1].[Hist_Last_Update_User] AS [Hist_Last_Update_User], 
        [Extent2].[Security_ID] AS [Security_ID1], 
        [Extent2].[Entity_ID] AS [Entity_ID1], 
        [Extent2].[Security_Name] AS [Security_Name], 
        [Extent2].[Short_Name] AS [Short_Name], 
        [Extent2].[Primary_Exch] AS [Primary_Exch], 
        [Extent2].[Secondary_Exch] AS [Secondary_Exch], 
        [Extent2].[Country_Of_Domicile] AS [Country_Of_Domicile], 
        [Extent2].[Country_Of_Risk] AS [Country_Of_Risk], 
        [Extent2].[Security_Type_Code] AS [Security_Type_Code], 
        [Extent2].[Price_Multiplier] AS [Price_Multiplier], 
        [Extent2].[Income_Frequency] AS [Income_Frequency], 
        [Extent2].[Issuer_Code] AS [Issuer_Code], 
        [Extent2].[Ultimate_Issuer_Code] AS [Ultimate_Issuer_Code], 
        [Extent2].[Asset_Currency] AS [Asset_Currency], 
        [Extent2].[Min_Lot_Size] AS [Min_Lot_Size], 
        [Extent2].[Decimal_Precision] AS [Decimal_Precision], 
        [Extent2].[AvePrice_Rounding] AS [AvePrice_Rounding], 
        [Extent2].[Issue_Date] AS [Issue_Date], 
        [Extent2].[Maturity_Date] AS [Maturity_Date], 
        [Extent2].[Coupon_Rate] AS [Coupon_Rate], 
        [Extent2].[Price_Exchange] AS [Price_Exchange], 
        [Extent2].[Trade_Currency] AS [Trade_Currency], 
        [Extent2].[Price_Curr] AS [Price_Curr], 
        [Extent2].[Currency_Pair_Code] AS [Currency_Pair_Code], 
        [Extent2].[Share_Class] AS [Share_Class], 
        [Extent2].[Current_Market_Price] AS [Current_Market_Price], 
        [Extent2].[Index_Type] AS [Index_Type], 
        [Extent2].[Clean_Price_Formula] AS [Clean_Price_Formula], 
        [Extent2].[Accrued_Income_Price_Formula] AS [Accrued_Income_Price_Formula], 
        [Extent2].[Odd_First_Coupon_Date] AS [Odd_First_Coupon_Date], 
        [Extent2].[Odd_Last_Coupon_Date] AS [Odd_Last_Coupon_Date], 
        [Extent2].[Coupon_Anniversary_Indicator] AS [Coupon_Anniversary_Indicator], 
        [Extent2].[Track_EOM_Flag] AS [Track_EOM_Flag], 
        [Extent2].[Next_Coupon_Date] AS [Next_Coupon_Date], 
        [Extent2].[Previous_Coupon_Date] AS [Previous_Coupon_Date], 
        [Extent2].[Payment_Frequency] AS [Payment_Frequency], 
        [Extent2].[Coupon_BusDay_Adjustment] AS [Coupon_BusDay_Adjustment], 
        [Extent2].[Next_Ex_Div_Date] AS [Next_Ex_Div_Date], 
        [Extent2].[Ex_Div_BusDay_Adjustment] AS [Ex_Div_BusDay_Adjustment], 
        [Extent2].[Ex_Div_Period] AS [Ex_Div_Period], 
        [Extent2].[Ticker] AS [Ticker], 
        [Extent2].[Inet_ID] AS [Inet_ID], 
        [Extent2].[Bloomberg_ID] AS [Bloomberg_ID], 
        [Extent2].[External_Sec_ID] AS [External_Sec_ID], 
        [Extent2].[Reuters_ID] AS [Reuters_ID], 
        [Extent2].[ISIN] AS [ISIN], 
        [Extent2].[Call_Account_Flag] AS [Call_Account_Flag], 
        [Extent2].[System_Locked] AS [System_Locked], 
        [Extent2].[Last_Update_User] AS [Last_Update_User1], 
        [Extent2].[Last_Update_Date] AS [Last_Update_Date1], 
        [Extent2].[Security_Status] AS [Security_Status], 
        [Extent2].[Benchmark_Portfolio] AS [Benchmark_Portfolio], 
        [Extent2].[Active_flag] AS [Active_flag], 
        [Extent2].[Dividend_FX_Security_ID] AS [Dividend_FX_Security_ID]
        FROM  [dbo].[Security_Performance_History] AS [Extent1]
        INNER JOIN [dbo].[Security_Detail] AS [Extent2] ON [Extent1].[Security_ID] = [Extent2].[Security_ID]
        WHERE ([Extent1].[Security_ID] = @p__linq__0) AND ([Extent1].[Portfolio_Code] = @p__linq__1)
    )  AS [Project1]
    ORDER BY [Project1].[Record_Date] DESC
2018-04-07 12:37:53.7509|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: IF db_id(N'MetopeAzureDb') IS NOT NULL SELECT 1 ELSE SELECT Count(*) FROM sys.databases WHERE [name]=N'MetopeAzureDb'
2018-04-07 12:37:53.7759|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: IF db_id(N'MetopeAzureDb') IS NOT NULL SELECT 1 ELSE SELECT Count(*) FROM sys.databases WHERE [name]=N'MetopeAzureDb'
2018-04-07 12:37:53.8025|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: IF db_id(N'MetopeAzureDb') IS NOT NULL SELECT 1 ELSE SELECT Count(*) FROM sys.databases WHERE [name]=N'MetopeAzureDb'
2018-04-07 12:37:53.8255|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: IF db_id(N'MetopeAzureDb') IS NOT NULL SELECT 1 ELSE SELECT Count(*) FROM sys.databases WHERE [name]=N'MetopeAzureDb'
2018-04-07 12:37:57.7791|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: SELECT 
    [Extent1].[Security_ID] AS [Security_ID], 
    [Extent1].[Portfolio_Code] AS [Portfolio_Code], 
    [Extent1].[Entity_ID] AS [Entity_ID], 
    [Extent1].[ModDietz_Performance_Quarterly] AS [ModDietz_Performance_Quarterly], 
    [Extent1].[ModDietz_Performance_Monthly] AS [ModDietz_Performance_Monthly], 
    [Extent1].[ModDietz_Performance_MonthToDate] AS [ModDietz_Performance_MonthToDate], 
    [Extent1].[Dietz_Performance_Quarterly] AS [Dietz_Performance_Quarterly], 
    [Extent1].[Dietz_Performance_Monthly] AS [Dietz_Performance_Monthly], 
    [Extent1].[Dietz_Performance_MonthToDate] AS [Dietz_Performance_MonthToDate], 
    [Extent1].[Last_Update_Date] AS [Last_Update_Date], 
    [Extent1].[Last_Update_User] AS [Last_Update_User], 
    [Extent1].[Record_Date] AS [Record_Date], 
    [Extent1].[Session_ID] AS [Session_ID], 
    [Extent1].[Hist_Last_Update_Date] AS [Hist_Last_Update_Date], 
    [Extent1].[Hist_Last_Update_User] AS [Hist_Last_Update_User]
    FROM [dbo].[Security_Performance_History] AS [Extent1]
    WHERE ([Extent1].[Security_ID] = @p__linq__0) AND ([Extent1].[Portfolio_Code] = @p__linq__1) AND ([Extent1].[Record_Date] = @p__linq__2) AND ([Extent1].[Entity_ID] = @p__linq__3)
2018-04-07 12:37:57.8331|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: SELECT 
    [Extent1].[Security_ID] AS [Security_ID], 
    [Extent1].[Portfolio_Code] AS [Portfolio_Code], 
    [Extent1].[Entity_ID] AS [Entity_ID], 
    [Extent1].[ModDietz_Performance_Quarterly] AS [ModDietz_Performance_Quarterly], 
    [Extent1].[ModDietz_Performance_Monthly] AS [ModDietz_Performance_Monthly], 
    [Extent1].[ModDietz_Performance_MonthToDate] AS [ModDietz_Performance_MonthToDate], 
    [Extent1].[Dietz_Performance_Quarterly] AS [Dietz_Performance_Quarterly], 
    [Extent1].[Dietz_Performance_Monthly] AS [Dietz_Performance_Monthly], 
    [Extent1].[Dietz_Performance_MonthToDate] AS [Dietz_Performance_MonthToDate], 
    [Extent1].[Last_Update_Date] AS [Last_Update_Date], 
    [Extent1].[Last_Update_User] AS [Last_Update_User], 
    [Extent1].[Record_Date] AS [Record_Date], 
    [Extent1].[Session_ID] AS [Session_ID], 
    [Extent1].[Hist_Last_Update_Date] AS [Hist_Last_Update_Date], 
    [Extent1].[Hist_Last_Update_User] AS [Hist_Last_Update_User]
    FROM [dbo].[Security_Performance_History] AS [Extent1]
    WHERE ([Extent1].[Security_ID] = @p__linq__0) AND ([Extent1].[Portfolio_Code] = @p__linq__1) AND ([Extent1].[Record_Date] = @p__linq__2) AND ([Extent1].[Entity_ID] = @p__linq__3)
2018-04-07 12:37:57.8667|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: SELECT 
    [Extent1].[Security_ID] AS [Security_ID], 
    [Extent1].[Entity_ID] AS [Entity_ID], 
    [Extent1].[Security_Name] AS [Security_Name], 
    [Extent1].[Short_Name] AS [Short_Name], 
    [Extent1].[Primary_Exch] AS [Primary_Exch], 
    [Extent1].[Secondary_Exch] AS [Secondary_Exch], 
    [Extent1].[Country_Of_Domicile] AS [Country_Of_Domicile], 
    [Extent1].[Country_Of_Risk] AS [Country_Of_Risk], 
    [Extent1].[Security_Type_Code] AS [Security_Type_Code], 
    [Extent1].[Price_Multiplier] AS [Price_Multiplier], 
    [Extent1].[Income_Frequency] AS [Income_Frequency], 
    [Extent1].[Issuer_Code] AS [Issuer_Code], 
    [Extent1].[Ultimate_Issuer_Code] AS [Ultimate_Issuer_Code], 
    [Extent1].[Asset_Currency] AS [Asset_Currency], 
    [Extent1].[Min_Lot_Size] AS [Min_Lot_Size], 
    [Extent1].[Decimal_Precision] AS [Decimal_Precision], 
    [Extent1].[AvePrice_Rounding] AS [AvePrice_Rounding], 
    [Extent1].[Issue_Date] AS [Issue_Date], 
    [Extent1].[Maturity_Date] AS [Maturity_Date], 
    [Extent1].[Coupon_Rate] AS [Coupon_Rate], 
    [Extent1].[Price_Exchange] AS [Price_Exchange], 
    [Extent1].[Trade_Currency] AS [Trade_Currency], 
    [Extent1].[Price_Curr] AS [Price_Curr], 
    [Extent1].[Currency_Pair_Code] AS [Currency_Pair_Code], 
    [Extent1].[Share_Class] AS [Share_Class], 
    [Extent1].[Current_Market_Price] AS [Current_Market_Price], 
    [Extent1].[Index_Type] AS [Index_Type], 
    [Extent1].[Clean_Price_Formula] AS [Clean_Price_Formula], 
    [Extent1].[Accrued_Income_Price_Formula] AS [Accrued_Income_Price_Formula], 
    [Extent1].[Odd_First_Coupon_Date] AS [Odd_First_Coupon_Date], 
    [Extent1].[Odd_Last_Coupon_Date] AS [Odd_Last_Coupon_Date], 
    [Extent1].[Coupon_Anniversary_Indicator] AS [Coupon_Anniversary_Indicator], 
    [Extent1].[Track_EOM_Flag] AS [Track_EOM_Flag], 
    [Extent1].[Next_Coupon_Date] AS [Next_Coupon_Date], 
    [Extent1].[Previous_Coupon_Date] AS [Previous_Coupon_Date], 
    [Extent1].[Payment_Frequency] AS [Payment_Frequency], 
    [Extent1].[Coupon_BusDay_Adjustment] AS [Coupon_BusDay_Adjustment], 
    [Extent1].[Next_Ex_Div_Date] AS [Next_Ex_Div_Date], 
    [Extent1].[Ex_Div_BusDay_Adjustment] AS [Ex_Div_BusDay_Adjustment], 
    [Extent1].[Ex_Div_Period] AS [Ex_Div_Period], 
    [Extent1].[Ticker] AS [Ticker], 
    [Extent1].[Inet_ID] AS [Inet_ID], 
    [Extent1].[Bloomberg_ID] AS [Bloomberg_ID], 
    [Extent1].[External_Sec_ID] AS [External_Sec_ID], 
    [Extent1].[Reuters_ID] AS [Reuters_ID], 
    [Extent1].[ISIN] AS [ISIN], 
    [Extent1].[Call_Account_Flag] AS [Call_Account_Flag], 
    [Extent1].[System_Locked] AS [System_Locked], 
    [Extent1].[Last_Update_User] AS [Last_Update_User], 
    [Extent1].[Last_Update_Date] AS [Last_Update_Date], 
    [Extent1].[Security_Status] AS [Security_Status], 
    [Extent1].[Benchmark_Portfolio] AS [Benchmark_Portfolio], 
    [Extent1].[Active_flag] AS [Active_flag], 
    [Extent1].[Dividend_FX_Security_ID] AS [Dividend_FX_Security_ID]
    FROM [dbo].[Security_Detail] AS [Extent1]
    WHERE [Extent1].[Security_ID] = @EntityKeyValue1
2018-04-07 12:37:57.9147|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: SELECT 
    [Extent1].[Security_ID] AS [Security_ID], 
    [Extent1].[Entity_ID] AS [Entity_ID], 
    [Extent1].[Security_Name] AS [Security_Name], 
    [Extent1].[Short_Name] AS [Short_Name], 
    [Extent1].[Primary_Exch] AS [Primary_Exch], 
    [Extent1].[Secondary_Exch] AS [Secondary_Exch], 
    [Extent1].[Country_Of_Domicile] AS [Country_Of_Domicile], 
    [Extent1].[Country_Of_Risk] AS [Country_Of_Risk], 
    [Extent1].[Security_Type_Code] AS [Security_Type_Code], 
    [Extent1].[Price_Multiplier] AS [Price_Multiplier], 
    [Extent1].[Income_Frequency] AS [Income_Frequency], 
    [Extent1].[Issuer_Code] AS [Issuer_Code], 
    [Extent1].[Ultimate_Issuer_Code] AS [Ultimate_Issuer_Code], 
    [Extent1].[Asset_Currency] AS [Asset_Currency], 
    [Extent1].[Min_Lot_Size] AS [Min_Lot_Size], 
    [Extent1].[Decimal_Precision] AS [Decimal_Precision], 
    [Extent1].[AvePrice_Rounding] AS [AvePrice_Rounding], 
    [Extent1].[Issue_Date] AS [Issue_Date], 
    [Extent1].[Maturity_Date] AS [Maturity_Date], 
    [Extent1].[Coupon_Rate] AS [Coupon_Rate], 
    [Extent1].[Price_Exchange] AS [Price_Exchange], 
    [Extent1].[Trade_Currency] AS [Trade_Currency], 
    [Extent1].[Price_Curr] AS [Price_Curr], 
    [Extent1].[Currency_Pair_Code] AS [Currency_Pair_Code], 
    [Extent1].[Share_Class] AS [Share_Class], 
    [Extent1].[Current_Market_Price] AS [Current_Market_Price], 
    [Extent1].[Index_Type] AS [Index_Type], 
    [Extent1].[Clean_Price_Formula] AS [Clean_Price_Formula], 
    [Extent1].[Accrued_Income_Price_Formula] AS [Accrued_Income_Price_Formula], 
    [Extent1].[Odd_First_Coupon_Date] AS [Odd_First_Coupon_Date], 
    [Extent1].[Odd_Last_Coupon_Date] AS [Odd_Last_Coupon_Date], 
    [Extent1].[Coupon_Anniversary_Indicator] AS [Coupon_Anniversary_Indicator], 
    [Extent1].[Track_EOM_Flag] AS [Track_EOM_Flag], 
    [Extent1].[Next_Coupon_Date] AS [Next_Coupon_Date], 
    [Extent1].[Previous_Coupon_Date] AS [Previous_Coupon_Date], 
    [Extent1].[Payment_Frequency] AS [Payment_Frequency], 
    [Extent1].[Coupon_BusDay_Adjustment] AS [Coupon_BusDay_Adjustment], 
    [Extent1].[Next_Ex_Div_Date] AS [Next_Ex_Div_Date], 
    [Extent1].[Ex_Div_BusDay_Adjustment] AS [Ex_Div_BusDay_Adjustment], 
    [Extent1].[Ex_Div_Period] AS [Ex_Div_Period], 
    [Extent1].[Ticker] AS [Ticker], 
    [Extent1].[Inet_ID] AS [Inet_ID], 
    [Extent1].[Bloomberg_ID] AS [Bloomberg_ID], 
    [Extent1].[External_Sec_ID] AS [External_Sec_ID], 
    [Extent1].[Reuters_ID] AS [Reuters_ID], 
    [Extent1].[ISIN] AS [ISIN], 
    [Extent1].[Call_Account_Flag] AS [Call_Account_Flag], 
    [Extent1].[System_Locked] AS [System_Locked], 
    [Extent1].[Last_Update_User] AS [Last_Update_User], 
    [Extent1].[Last_Update_Date] AS [Last_Update_Date], 
    [Extent1].[Security_Status] AS [Security_Status], 
    [Extent1].[Benchmark_Portfolio] AS [Benchmark_Portfolio], 
    [Extent1].[Active_flag] AS [Active_flag], 
    [Extent1].[Dividend_FX_Security_ID] AS [Dividend_FX_Security_ID]
    FROM [dbo].[Security_Detail] AS [Extent1]
    WHERE [Extent1].[Security_ID] = @EntityKeyValue1
2018-04-07 12:37:57.9507|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: SELECT 
    [Project1].[Security_ID] AS [Security_ID], 
    [Project1].[Entity_ID] AS [Entity_ID], 
    [Project1].[Security_Name] AS [Security_Name], 
    [Project1].[Short_Name] AS [Short_Name], 
    [Project1].[Primary_Exch] AS [Primary_Exch], 
    [Project1].[Secondary_Exch] AS [Secondary_Exch], 
    [Project1].[Country_Of_Domicile] AS [Country_Of_Domicile], 
    [Project1].[Country_Of_Risk] AS [Country_Of_Risk], 
    [Project1].[Security_Type_Code] AS [Security_Type_Code], 
    [Project1].[Price_Multiplier] AS [Price_Multiplier], 
    [Project1].[Income_Frequency] AS [Income_Frequency], 
    [Project1].[Issuer_Code] AS [Issuer_Code], 
    [Project1].[Ultimate_Issuer_Code] AS [Ultimate_Issuer_Code], 
    [Project1].[Asset_Currency] AS [Asset_Currency], 
    [Project1].[Min_Lot_Size] AS [Min_Lot_Size], 
    [Project1].[Decimal_Precision] AS [Decimal_Precision], 
    [Project1].[AvePrice_Rounding] AS [AvePrice_Rounding], 
    [Project1].[Issue_Date] AS [Issue_Date], 
    [Project1].[Maturity_Date] AS [Maturity_Date], 
    [Project1].[Coupon_Rate] AS [Coupon_Rate], 
    [Project1].[Price_Exchange] AS [Price_Exchange], 
    [Project1].[Trade_Currency] AS [Trade_Currency], 
    [Project1].[Price_Curr] AS [Price_Curr], 
    [Project1].[Currency_Pair_Code] AS [Currency_Pair_Code], 
    [Project1].[Share_Class] AS [Share_Class], 
    [Project1].[Current_Market_Price] AS [Current_Market_Price], 
    [Project1].[Index_Type] AS [Index_Type], 
    [Project1].[Clean_Price_Formula] AS [Clean_Price_Formula], 
    [Project1].[Accrued_Income_Price_Formula] AS [Accrued_Income_Price_Formula], 
    [Project1].[Odd_First_Coupon_Date] AS [Odd_First_Coupon_Date], 
    [Project1].[Odd_Last_Coupon_Date] AS [Odd_Last_Coupon_Date], 
    [Project1].[Coupon_Anniversary_Indicator] AS [Coupon_Anniversary_Indicator], 
    [Project1].[Track_EOM_Flag] AS [Track_EOM_Flag], 
    [Project1].[Next_Coupon_Date] AS [Next_Coupon_Date], 
    [Project1].[Previous_Coupon_Date] AS [Previous_Coupon_Date], 
    [Project1].[Payment_Frequency] AS [Payment_Frequency], 
    [Project1].[Coupon_BusDay_Adjustment] AS [Coupon_BusDay_Adjustment], 
    [Project1].[Next_Ex_Div_Date] AS [Next_Ex_Div_Date], 
    [Project1].[Ex_Div_BusDay_Adjustment] AS [Ex_Div_BusDay_Adjustment], 
    [Project1].[Ex_Div_Period] AS [Ex_Div_Period], 
    [Project1].[Ticker] AS [Ticker], 
    [Project1].[Inet_ID] AS [Inet_ID], 
    [Project1].[Bloomberg_ID] AS [Bloomberg_ID], 
    [Project1].[External_Sec_ID] AS [External_Sec_ID], 
    [Project1].[Reuters_ID] AS [Reuters_ID], 
    [Project1].[ISIN] AS [ISIN], 
    [Project1].[Call_Account_Flag] AS [Call_Account_Flag], 
    [Project1].[System_Locked] AS [System_Locked], 
    [Project1].[Last_Update_User] AS [Last_Update_User], 
    [Project1].[Last_Update_Date] AS [Last_Update_Date], 
    [Project1].[Security_Status] AS [Security_Status], 
    [Project1].[Benchmark_Portfolio] AS [Benchmark_Portfolio], 
    [Project1].[Active_flag] AS [Active_flag], 
    [Project1].[Dividend_FX_Security_ID] AS [Dividend_FX_Security_ID]
    FROM ( SELECT 
        [Extent1].[Security_ID] AS [Security_ID], 
        [Extent1].[Entity_ID] AS [Entity_ID], 
        [Extent1].[Security_Name] AS [Security_Name], 
        [Extent1].[Short_Name] AS [Short_Name], 
        [Extent1].[Primary_Exch] AS [Primary_Exch], 
        [Extent1].[Secondary_Exch] AS [Secondary_Exch], 
        [Extent1].[Country_Of_Domicile] AS [Country_Of_Domicile], 
        [Extent1].[Country_Of_Risk] AS [Country_Of_Risk], 
        [Extent1].[Security_Type_Code] AS [Security_Type_Code], 
        [Extent1].[Price_Multiplier] AS [Price_Multiplier], 
        [Extent1].[Income_Frequency] AS [Income_Frequency], 
        [Extent1].[Issuer_Code] AS [Issuer_Code], 
        [Extent1].[Ultimate_Issuer_Code] AS [Ultimate_Issuer_Code], 
        [Extent1].[Asset_Currency] AS [Asset_Currency], 
        [Extent1].[Min_Lot_Size] AS [Min_Lot_Size], 
        [Extent1].[Decimal_Precision] AS [Decimal_Precision], 
        [Extent1].[AvePrice_Rounding] AS [AvePrice_Rounding], 
        [Extent1].[Issue_Date] AS [Issue_Date], 
        [Extent1].[Maturity_Date] AS [Maturity_Date], 
        [Extent1].[Coupon_Rate] AS [Coupon_Rate], 
        [Extent1].[Price_Exchange] AS [Price_Exchange], 
        [Extent1].[Trade_Currency] AS [Trade_Currency], 
        [Extent1].[Price_Curr] AS [Price_Curr], 
        [Extent1].[Currency_Pair_Code] AS [Currency_Pair_Code], 
        [Extent1].[Share_Class] AS [Share_Class], 
        [Extent1].[Current_Market_Price] AS [Current_Market_Price], 
        [Extent1].[Index_Type] AS [Index_Type], 
        [Extent1].[Clean_Price_Formula] AS [Clean_Price_Formula], 
        [Extent1].[Accrued_Income_Price_Formula] AS [Accrued_Income_Price_Formula], 
        [Extent1].[Odd_First_Coupon_Date] AS [Odd_First_Coupon_Date], 
        [Extent1].[Odd_Last_Coupon_Date] AS [Odd_Last_Coupon_Date], 
        [Extent1].[Coupon_Anniversary_Indicator] AS [Coupon_Anniversary_Indicator], 
        [Extent1].[Track_EOM_Flag] AS [Track_EOM_Flag], 
        [Extent1].[Next_Coupon_Date] AS [Next_Coupon_Date], 
        [Extent1].[Previous_Coupon_Date] AS [Previous_Coupon_Date], 
        [Extent1].[Payment_Frequency] AS [Payment_Frequency], 
        [Extent1].[Coupon_BusDay_Adjustment] AS [Coupon_BusDay_Adjustment], 
        [Extent1].[Next_Ex_Div_Date] AS [Next_Ex_Div_Date], 
        [Extent1].[Ex_Div_BusDay_Adjustment] AS [Ex_Div_BusDay_Adjustment], 
        [Extent1].[Ex_Div_Period] AS [Ex_Div_Period], 
        [Extent1].[Ticker] AS [Ticker], 
        [Extent1].[Inet_ID] AS [Inet_ID], 
        [Extent1].[Bloomberg_ID] AS [Bloomberg_ID], 
        [Extent1].[External_Sec_ID] AS [External_Sec_ID], 
        [Extent1].[Reuters_ID] AS [Reuters_ID], 
        [Extent1].[ISIN] AS [ISIN], 
        [Extent1].[Call_Account_Flag] AS [Call_Account_Flag], 
        [Extent1].[System_Locked] AS [System_Locked], 
        [Extent1].[Last_Update_User] AS [Last_Update_User], 
        [Extent1].[Last_Update_Date] AS [Last_Update_Date], 
        [Extent1].[Security_Status] AS [Security_Status], 
        [Extent1].[Benchmark_Portfolio] AS [Benchmark_Portfolio], 
        [Extent1].[Active_flag] AS [Active_flag], 
        [Extent1].[Dividend_FX_Security_ID] AS [Dividend_FX_Security_ID]
        FROM [dbo].[Security_Detail] AS [Extent1]
        WHERE ([Extent1].[Entity_ID] IN (@p__linq__0,@p__linq__1)) AND ((CASE WHEN ( NOT ((N'' = @p__linq__2) AND (@p__linq__2 IS NOT NULL))) THEN CASE WHEN ([Extent1].[Security_Type_Code] = @p__linq__3) THEN cast(1 as bit) WHEN ( NOT (([Extent1].[Security_Type_Code] = @p__linq__3) AND (0 = (CASE WHEN (@p__linq__3 IS NULL) THEN cast(1 as bit) ELSE cast(0 as bit) END)))) THEN cast(0 as bit) END WHEN ('' <> [Extent1].[Security_Type_Code]) THEN cast(1 as bit) WHEN ('' = [Extent1].[Security_Type_Code]) THEN cast(0 as bit) END) = 1)
    )  AS [Project1]
    ORDER BY [Project1].[Security_Name] ASC
2018-04-07 12:37:58.0383|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: SELECT 
    [Project1].[Security_ID] AS [Security_ID], 
    [Project1].[Entity_ID] AS [Entity_ID], 
    [Project1].[Security_Name] AS [Security_Name], 
    [Project1].[Short_Name] AS [Short_Name], 
    [Project1].[Primary_Exch] AS [Primary_Exch], 
    [Project1].[Secondary_Exch] AS [Secondary_Exch], 
    [Project1].[Country_Of_Domicile] AS [Country_Of_Domicile], 
    [Project1].[Country_Of_Risk] AS [Country_Of_Risk], 
    [Project1].[Security_Type_Code] AS [Security_Type_Code], 
    [Project1].[Price_Multiplier] AS [Price_Multiplier], 
    [Project1].[Income_Frequency] AS [Income_Frequency], 
    [Project1].[Issuer_Code] AS [Issuer_Code], 
    [Project1].[Ultimate_Issuer_Code] AS [Ultimate_Issuer_Code], 
    [Project1].[Asset_Currency] AS [Asset_Currency], 
    [Project1].[Min_Lot_Size] AS [Min_Lot_Size], 
    [Project1].[Decimal_Precision] AS [Decimal_Precision], 
    [Project1].[AvePrice_Rounding] AS [AvePrice_Rounding], 
    [Project1].[Issue_Date] AS [Issue_Date], 
    [Project1].[Maturity_Date] AS [Maturity_Date], 
    [Project1].[Coupon_Rate] AS [Coupon_Rate], 
    [Project1].[Price_Exchange] AS [Price_Exchange], 
    [Project1].[Trade_Currency] AS [Trade_Currency], 
    [Project1].[Price_Curr] AS [Price_Curr], 
    [Project1].[Currency_Pair_Code] AS [Currency_Pair_Code], 
    [Project1].[Share_Class] AS [Share_Class], 
    [Project1].[Current_Market_Price] AS [Current_Market_Price], 
    [Project1].[Index_Type] AS [Index_Type], 
    [Project1].[Clean_Price_Formula] AS [Clean_Price_Formula], 
    [Project1].[Accrued_Income_Price_Formula] AS [Accrued_Income_Price_Formula], 
    [Project1].[Odd_First_Coupon_Date] AS [Odd_First_Coupon_Date], 
    [Project1].[Odd_Last_Coupon_Date] AS [Odd_Last_Coupon_Date], 
    [Project1].[Coupon_Anniversary_Indicator] AS [Coupon_Anniversary_Indicator], 
    [Project1].[Track_EOM_Flag] AS [Track_EOM_Flag], 
    [Project1].[Next_Coupon_Date] AS [Next_Coupon_Date], 
    [Project1].[Previous_Coupon_Date] AS [Previous_Coupon_Date], 
    [Project1].[Payment_Frequency] AS [Payment_Frequency], 
    [Project1].[Coupon_BusDay_Adjustment] AS [Coupon_BusDay_Adjustment], 
    [Project1].[Next_Ex_Div_Date] AS [Next_Ex_Div_Date], 
    [Project1].[Ex_Div_BusDay_Adjustment] AS [Ex_Div_BusDay_Adjustment], 
    [Project1].[Ex_Div_Period] AS [Ex_Div_Period], 
    [Project1].[Ticker] AS [Ticker], 
    [Project1].[Inet_ID] AS [Inet_ID], 
    [Project1].[Bloomberg_ID] AS [Bloomberg_ID], 
    [Project1].[External_Sec_ID] AS [External_Sec_ID], 
    [Project1].[Reuters_ID] AS [Reuters_ID], 
    [Project1].[ISIN] AS [ISIN], 
    [Project1].[Call_Account_Flag] AS [Call_Account_Flag], 
    [Project1].[System_Locked] AS [System_Locked], 
    [Project1].[Last_Update_User] AS [Last_Update_User], 
    [Project1].[Last_Update_Date] AS [Last_Update_Date], 
    [Project1].[Security_Status] AS [Security_Status], 
    [Project1].[Benchmark_Portfolio] AS [Benchmark_Portfolio], 
    [Project1].[Active_flag] AS [Active_flag], 
    [Project1].[Dividend_FX_Security_ID] AS [Dividend_FX_Security_ID]
    FROM ( SELECT 
        [Extent1].[Security_ID] AS [Security_ID], 
        [Extent1].[Entity_ID] AS [Entity_ID], 
        [Extent1].[Security_Name] AS [Security_Name], 
        [Extent1].[Short_Name] AS [Short_Name], 
        [Extent1].[Primary_Exch] AS [Primary_Exch], 
        [Extent1].[Secondary_Exch] AS [Secondary_Exch], 
        [Extent1].[Country_Of_Domicile] AS [Country_Of_Domicile], 
        [Extent1].[Country_Of_Risk] AS [Country_Of_Risk], 
        [Extent1].[Security_Type_Code] AS [Security_Type_Code], 
        [Extent1].[Price_Multiplier] AS [Price_Multiplier], 
        [Extent1].[Income_Frequency] AS [Income_Frequency], 
        [Extent1].[Issuer_Code] AS [Issuer_Code], 
        [Extent1].[Ultimate_Issuer_Code] AS [Ultimate_Issuer_Code], 
        [Extent1].[Asset_Currency] AS [Asset_Currency], 
        [Extent1].[Min_Lot_Size] AS [Min_Lot_Size], 
        [Extent1].[Decimal_Precision] AS [Decimal_Precision], 
        [Extent1].[AvePrice_Rounding] AS [AvePrice_Rounding], 
        [Extent1].[Issue_Date] AS [Issue_Date], 
        [Extent1].[Maturity_Date] AS [Maturity_Date], 
        [Extent1].[Coupon_Rate] AS [Coupon_Rate], 
        [Extent1].[Price_Exchange] AS [Price_Exchange], 
        [Extent1].[Trade_Currency] AS [Trade_Currency], 
        [Extent1].[Price_Curr] AS [Price_Curr], 
        [Extent1].[Currency_Pair_Code] AS [Currency_Pair_Code], 
        [Extent1].[Share_Class] AS [Share_Class], 
        [Extent1].[Current_Market_Price] AS [Current_Market_Price], 
        [Extent1].[Index_Type] AS [Index_Type], 
        [Extent1].[Clean_Price_Formula] AS [Clean_Price_Formula], 
        [Extent1].[Accrued_Income_Price_Formula] AS [Accrued_Income_Price_Formula], 
        [Extent1].[Odd_First_Coupon_Date] AS [Odd_First_Coupon_Date], 
        [Extent1].[Odd_Last_Coupon_Date] AS [Odd_Last_Coupon_Date], 
        [Extent1].[Coupon_Anniversary_Indicator] AS [Coupon_Anniversary_Indicator], 
        [Extent1].[Track_EOM_Flag] AS [Track_EOM_Flag], 
        [Extent1].[Next_Coupon_Date] AS [Next_Coupon_Date], 
        [Extent1].[Previous_Coupon_Date] AS [Previous_Coupon_Date], 
        [Extent1].[Payment_Frequency] AS [Payment_Frequency], 
        [Extent1].[Coupon_BusDay_Adjustment] AS [Coupon_BusDay_Adjustment], 
        [Extent1].[Next_Ex_Div_Date] AS [Next_Ex_Div_Date], 
        [Extent1].[Ex_Div_BusDay_Adjustment] AS [Ex_Div_BusDay_Adjustment], 
        [Extent1].[Ex_Div_Period] AS [Ex_Div_Period], 
        [Extent1].[Ticker] AS [Ticker], 
        [Extent1].[Inet_ID] AS [Inet_ID], 
        [Extent1].[Bloomberg_ID] AS [Bloomberg_ID], 
        [Extent1].[External_Sec_ID] AS [External_Sec_ID], 
        [Extent1].[Reuters_ID] AS [Reuters_ID], 
        [Extent1].[ISIN] AS [ISIN], 
        [Extent1].[Call_Account_Flag] AS [Call_Account_Flag], 
        [Extent1].[System_Locked] AS [System_Locked], 
        [Extent1].[Last_Update_User] AS [Last_Update_User], 
        [Extent1].[Last_Update_Date] AS [Last_Update_Date], 
        [Extent1].[Security_Status] AS [Security_Status], 
        [Extent1].[Benchmark_Portfolio] AS [Benchmark_Portfolio], 
        [Extent1].[Active_flag] AS [Active_flag], 
        [Extent1].[Dividend_FX_Security_ID] AS [Dividend_FX_Security_ID]
        FROM [dbo].[Security_Detail] AS [Extent1]
        WHERE ([Extent1].[Entity_ID] IN (@p__linq__0,@p__linq__1)) AND ((CASE WHEN ( NOT ((N'' = @p__linq__2) AND (@p__linq__2 IS NOT NULL))) THEN CASE WHEN ([Extent1].[Security_Type_Code] = @p__linq__3) THEN cast(1 as bit) WHEN ( NOT (([Extent1].[Security_Type_Code] = @p__linq__3) AND (0 = (CASE WHEN (@p__linq__3 IS NULL) THEN cast(1 as bit) ELSE cast(0 as bit) END)))) THEN cast(0 as bit) END WHEN ('' <> [Extent1].[Security_Type_Code]) THEN cast(1 as bit) WHEN ('' = [Extent1].[Security_Type_Code]) THEN cast(0 as bit) END) = 1)
    )  AS [Project1]
    ORDER BY [Project1].[Security_Name] ASC
2018-04-07 12:37:58.0753|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: IF db_id(N'MetopeAzureDb') IS NOT NULL SELECT 1 ELSE SELECT Count(*) FROM sys.databases WHERE [name]=N'MetopeAzureDb'
2018-04-07 12:37:58.2389|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: IF db_id(N'MetopeAzureDb') IS NOT NULL SELECT 1 ELSE SELECT Count(*) FROM sys.databases WHERE [name]=N'MetopeAzureDb'
2018-04-07 12:37:58.3866|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: IF db_id(N'MetopeAzureDb') IS NOT NULL SELECT 1 ELSE SELECT Count(*) FROM sys.databases WHERE [name]=N'MetopeAzureDb'
2018-04-07 12:37:58.5261|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: IF db_id(N'MetopeAzureDb') IS NOT NULL SELECT 1 ELSE SELECT Count(*) FROM sys.databases WHERE [name]=N'MetopeAzureDb'
2018-04-07 12:38:04.9542|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: SELECT 
    [Project1].[Decimal_Precision] AS [Decimal_Precision], 
    [Project1].[Security_ID] AS [Security_ID], 
    [Project1].[Portfolio_Code] AS [Portfolio_Code], 
    [Project1].[Entity_ID] AS [Entity_ID], 
    [Project1].[ModDietz_Performance_Quarterly] AS [ModDietz_Performance_Quarterly], 
    [Project1].[ModDietz_Performance_Monthly] AS [ModDietz_Performance_Monthly], 
    [Project1].[ModDietz_Performance_MonthToDate] AS [ModDietz_Performance_MonthToDate], 
    [Project1].[Dietz_Performance_Quarterly] AS [Dietz_Performance_Quarterly], 
    [Project1].[Dietz_Performance_Monthly] AS [Dietz_Performance_Monthly], 
    [Project1].[Dietz_Performance_MonthToDate] AS [Dietz_Performance_MonthToDate], 
    [Project1].[Last_Update_Date] AS [Last_Update_Date], 
    [Project1].[Last_Update_User] AS [Last_Update_User], 
    [Project1].[Record_Date] AS [Record_Date], 
    [Project1].[Session_ID] AS [Session_ID], 
    [Project1].[Hist_Last_Update_Date] AS [Hist_Last_Update_Date], 
    [Project1].[Hist_Last_Update_User] AS [Hist_Last_Update_User], 
    [Project1].[Security_ID1] AS [Security_ID1], 
    [Project1].[Entity_ID1] AS [Entity_ID1], 
    [Project1].[Security_Name] AS [Security_Name], 
    [Project1].[Short_Name] AS [Short_Name], 
    [Project1].[Primary_Exch] AS [Primary_Exch], 
    [Project1].[Secondary_Exch] AS [Secondary_Exch], 
    [Project1].[Country_Of_Domicile] AS [Country_Of_Domicile], 
    [Project1].[Country_Of_Risk] AS [Country_Of_Risk], 
    [Project1].[Security_Type_Code] AS [Security_Type_Code], 
    [Project1].[Price_Multiplier] AS [Price_Multiplier], 
    [Project1].[Income_Frequency] AS [Income_Frequency], 
    [Project1].[Issuer_Code] AS [Issuer_Code], 
    [Project1].[Ultimate_Issuer_Code] AS [Ultimate_Issuer_Code], 
    [Project1].[Asset_Currency] AS [Asset_Currency], 
    [Project1].[Min_Lot_Size] AS [Min_Lot_Size], 
    [Project1].[AvePrice_Rounding] AS [AvePrice_Rounding], 
    [Project1].[Issue_Date] AS [Issue_Date], 
    [Project1].[Maturity_Date] AS [Maturity_Date], 
    [Project1].[Coupon_Rate] AS [Coupon_Rate], 
    [Project1].[Price_Exchange] AS [Price_Exchange], 
    [Project1].[Trade_Currency] AS [Trade_Currency], 
    [Project1].[Price_Curr] AS [Price_Curr], 
    [Project1].[Currency_Pair_Code] AS [Currency_Pair_Code], 
    [Project1].[Share_Class] AS [Share_Class], 
    [Project1].[Current_Market_Price] AS [Current_Market_Price], 
    [Project1].[Index_Type] AS [Index_Type], 
    [Project1].[Clean_Price_Formula] AS [Clean_Price_Formula], 
    [Project1].[Accrued_Income_Price_Formula] AS [Accrued_Income_Price_Formula], 
    [Project1].[Odd_First_Coupon_Date] AS [Odd_First_Coupon_Date], 
    [Project1].[Odd_Last_Coupon_Date] AS [Odd_Last_Coupon_Date], 
    [Project1].[Coupon_Anniversary_Indicator] AS [Coupon_Anniversary_Indicator], 
    [Project1].[Track_EOM_Flag] AS [Track_EOM_Flag], 
    [Project1].[Next_Coupon_Date] AS [Next_Coupon_Date], 
    [Project1].[Previous_Coupon_Date] AS [Previous_Coupon_Date], 
    [Project1].[Payment_Frequency] AS [Payment_Frequency], 
    [Project1].[Coupon_BusDay_Adjustment] AS [Coupon_BusDay_Adjustment], 
    [Project1].[Next_Ex_Div_Date] AS [Next_Ex_Div_Date], 
    [Project1].[Ex_Div_BusDay_Adjustment] AS [Ex_Div_BusDay_Adjustment], 
    [Project1].[Ex_Div_Period] AS [Ex_Div_Period], 
    [Project1].[Ticker] AS [Ticker], 
    [Project1].[Inet_ID] AS [Inet_ID], 
    [Project1].[Bloomberg_ID] AS [Bloomberg_ID], 
    [Project1].[External_Sec_ID] AS [External_Sec_ID], 
    [Project1].[Reuters_ID] AS [Reuters_ID], 
    [Project1].[ISIN] AS [ISIN], 
    [Project1].[Call_Account_Flag] AS [Call_Account_Flag], 
    [Project1].[System_Locked] AS [System_Locked], 
    [Project1].[Last_Update_User1] AS [Last_Update_User1], 
    [Project1].[Last_Update_Date1] AS [Last_Update_Date1], 
    [Project1].[Security_Status] AS [Security_Status], 
    [Project1].[Benchmark_Portfolio] AS [Benchmark_Portfolio], 
    [Project1].[Active_flag] AS [Active_flag], 
    [Project1].[Dividend_FX_Security_ID] AS [Dividend_FX_Security_ID]
    FROM ( SELECT 
        [Extent1].[Security_ID] AS [Security_ID], 
        [Extent1].[Portfolio_Code] AS [Portfolio_Code], 
        [Extent1].[Entity_ID] AS [Entity_ID], 
        [Extent1].[ModDietz_Performance_Quarterly] AS [ModDietz_Performance_Quarterly], 
        [Extent1].[ModDietz_Performance_Monthly] AS [ModDietz_Performance_Monthly], 
        [Extent1].[ModDietz_Performance_MonthToDate] AS [ModDietz_Performance_MonthToDate], 
        [Extent1].[Dietz_Performance_Quarterly] AS [Dietz_Performance_Quarterly], 
        [Extent1].[Dietz_Performance_Monthly] AS [Dietz_Performance_Monthly], 
        [Extent1].[Dietz_Performance_MonthToDate] AS [Dietz_Performance_MonthToDate], 
        [Extent1].[Last_Update_Date] AS [Last_Update_Date], 
        [Extent1].[Last_Update_User] AS [Last_Update_User], 
        [Extent1].[Record_Date] AS [Record_Date], 
        [Extent1].[Session_ID] AS [Session_ID], 
        [Extent1].[Hist_Last_Update_Date] AS [Hist_Last_Update_Date], 
        [Extent1].[Hist_Last_Update_User] AS [Hist_Last_Update_User], 
        [Extent2].[Security_ID] AS [Security_ID1], 
        [Extent2].[Entity_ID] AS [Entity_ID1], 
        [Extent2].[Security_Name] AS [Security_Name], 
        [Extent2].[Short_Name] AS [Short_Name], 
        [Extent2].[Primary_Exch] AS [Primary_Exch], 
        [Extent2].[Secondary_Exch] AS [Secondary_Exch], 
        [Extent2].[Country_Of_Domicile] AS [Country_Of_Domicile], 
        [Extent2].[Country_Of_Risk] AS [Country_Of_Risk], 
        [Extent2].[Security_Type_Code] AS [Security_Type_Code], 
        [Extent2].[Price_Multiplier] AS [Price_Multiplier], 
        [Extent2].[Income_Frequency] AS [Income_Frequency], 
        [Extent2].[Issuer_Code] AS [Issuer_Code], 
        [Extent2].[Ultimate_Issuer_Code] AS [Ultimate_Issuer_Code], 
        [Extent2].[Asset_Currency] AS [Asset_Currency], 
        [Extent2].[Min_Lot_Size] AS [Min_Lot_Size], 
        [Extent2].[Decimal_Precision] AS [Decimal_Precision], 
        [Extent2].[AvePrice_Rounding] AS [AvePrice_Rounding], 
        [Extent2].[Issue_Date] AS [Issue_Date], 
        [Extent2].[Maturity_Date] AS [Maturity_Date], 
        [Extent2].[Coupon_Rate] AS [Coupon_Rate], 
        [Extent2].[Price_Exchange] AS [Price_Exchange], 
        [Extent2].[Trade_Currency] AS [Trade_Currency], 
        [Extent2].[Price_Curr] AS [Price_Curr], 
        [Extent2].[Currency_Pair_Code] AS [Currency_Pair_Code], 
        [Extent2].[Share_Class] AS [Share_Class], 
        [Extent2].[Current_Market_Price] AS [Current_Market_Price], 
        [Extent2].[Index_Type] AS [Index_Type], 
        [Extent2].[Clean_Price_Formula] AS [Clean_Price_Formula], 
        [Extent2].[Accrued_Income_Price_Formula] AS [Accrued_Income_Price_Formula], 
        [Extent2].[Odd_First_Coupon_Date] AS [Odd_First_Coupon_Date], 
        [Extent2].[Odd_Last_Coupon_Date] AS [Odd_Last_Coupon_Date], 
        [Extent2].[Coupon_Anniversary_Indicator] AS [Coupon_Anniversary_Indicator], 
        [Extent2].[Track_EOM_Flag] AS [Track_EOM_Flag], 
        [Extent2].[Next_Coupon_Date] AS [Next_Coupon_Date], 
        [Extent2].[Previous_Coupon_Date] AS [Previous_Coupon_Date], 
        [Extent2].[Payment_Frequency] AS [Payment_Frequency], 
        [Extent2].[Coupon_BusDay_Adjustment] AS [Coupon_BusDay_Adjustment], 
        [Extent2].[Next_Ex_Div_Date] AS [Next_Ex_Div_Date], 
        [Extent2].[Ex_Div_BusDay_Adjustment] AS [Ex_Div_BusDay_Adjustment], 
        [Extent2].[Ex_Div_Period] AS [Ex_Div_Period], 
        [Extent2].[Ticker] AS [Ticker], 
        [Extent2].[Inet_ID] AS [Inet_ID], 
        [Extent2].[Bloomberg_ID] AS [Bloomberg_ID], 
        [Extent2].[External_Sec_ID] AS [External_Sec_ID], 
        [Extent2].[Reuters_ID] AS [Reuters_ID], 
        [Extent2].[ISIN] AS [ISIN], 
        [Extent2].[Call_Account_Flag] AS [Call_Account_Flag], 
        [Extent2].[System_Locked] AS [System_Locked], 
        [Extent2].[Last_Update_User] AS [Last_Update_User1], 
        [Extent2].[Last_Update_Date] AS [Last_Update_Date1], 
        [Extent2].[Security_Status] AS [Security_Status], 
        [Extent2].[Benchmark_Portfolio] AS [Benchmark_Portfolio], 
        [Extent2].[Active_flag] AS [Active_flag], 
        [Extent2].[Dividend_FX_Security_ID] AS [Dividend_FX_Security_ID]
        FROM  [dbo].[Security_Performance_History] AS [Extent1]
        INNER JOIN [dbo].[Security_Detail] AS [Extent2] ON [Extent1].[Security_ID] = [Extent2].[Security_ID]
        WHERE ([Extent1].[Security_ID] = @p__linq__0) AND ([Extent1].[Portfolio_Code] = @p__linq__1)
    )  AS [Project1]
    ORDER BY [Project1].[Record_Date] DESC
2018-04-07 12:38:05.0198|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: SELECT 
    [Project1].[Decimal_Precision] AS [Decimal_Precision], 
    [Project1].[Security_ID] AS [Security_ID], 
    [Project1].[Portfolio_Code] AS [Portfolio_Code], 
    [Project1].[Entity_ID] AS [Entity_ID], 
    [Project1].[ModDietz_Performance_Quarterly] AS [ModDietz_Performance_Quarterly], 
    [Project1].[ModDietz_Performance_Monthly] AS [ModDietz_Performance_Monthly], 
    [Project1].[ModDietz_Performance_MonthToDate] AS [ModDietz_Performance_MonthToDate], 
    [Project1].[Dietz_Performance_Quarterly] AS [Dietz_Performance_Quarterly], 
    [Project1].[Dietz_Performance_Monthly] AS [Dietz_Performance_Monthly], 
    [Project1].[Dietz_Performance_MonthToDate] AS [Dietz_Performance_MonthToDate], 
    [Project1].[Last_Update_Date] AS [Last_Update_Date], 
    [Project1].[Last_Update_User] AS [Last_Update_User], 
    [Project1].[Record_Date] AS [Record_Date], 
    [Project1].[Session_ID] AS [Session_ID], 
    [Project1].[Hist_Last_Update_Date] AS [Hist_Last_Update_Date], 
    [Project1].[Hist_Last_Update_User] AS [Hist_Last_Update_User], 
    [Project1].[Security_ID1] AS [Security_ID1], 
    [Project1].[Entity_ID1] AS [Entity_ID1], 
    [Project1].[Security_Name] AS [Security_Name], 
    [Project1].[Short_Name] AS [Short_Name], 
    [Project1].[Primary_Exch] AS [Primary_Exch], 
    [Project1].[Secondary_Exch] AS [Secondary_Exch], 
    [Project1].[Country_Of_Domicile] AS [Country_Of_Domicile], 
    [Project1].[Country_Of_Risk] AS [Country_Of_Risk], 
    [Project1].[Security_Type_Code] AS [Security_Type_Code], 
    [Project1].[Price_Multiplier] AS [Price_Multiplier], 
    [Project1].[Income_Frequency] AS [Income_Frequency], 
    [Project1].[Issuer_Code] AS [Issuer_Code], 
    [Project1].[Ultimate_Issuer_Code] AS [Ultimate_Issuer_Code], 
    [Project1].[Asset_Currency] AS [Asset_Currency], 
    [Project1].[Min_Lot_Size] AS [Min_Lot_Size], 
    [Project1].[AvePrice_Rounding] AS [AvePrice_Rounding], 
    [Project1].[Issue_Date] AS [Issue_Date], 
    [Project1].[Maturity_Date] AS [Maturity_Date], 
    [Project1].[Coupon_Rate] AS [Coupon_Rate], 
    [Project1].[Price_Exchange] AS [Price_Exchange], 
    [Project1].[Trade_Currency] AS [Trade_Currency], 
    [Project1].[Price_Curr] AS [Price_Curr], 
    [Project1].[Currency_Pair_Code] AS [Currency_Pair_Code], 
    [Project1].[Share_Class] AS [Share_Class], 
    [Project1].[Current_Market_Price] AS [Current_Market_Price], 
    [Project1].[Index_Type] AS [Index_Type], 
    [Project1].[Clean_Price_Formula] AS [Clean_Price_Formula], 
    [Project1].[Accrued_Income_Price_Formula] AS [Accrued_Income_Price_Formula], 
    [Project1].[Odd_First_Coupon_Date] AS [Odd_First_Coupon_Date], 
    [Project1].[Odd_Last_Coupon_Date] AS [Odd_Last_Coupon_Date], 
    [Project1].[Coupon_Anniversary_Indicator] AS [Coupon_Anniversary_Indicator], 
    [Project1].[Track_EOM_Flag] AS [Track_EOM_Flag], 
    [Project1].[Next_Coupon_Date] AS [Next_Coupon_Date], 
    [Project1].[Previous_Coupon_Date] AS [Previous_Coupon_Date], 
    [Project1].[Payment_Frequency] AS [Payment_Frequency], 
    [Project1].[Coupon_BusDay_Adjustment] AS [Coupon_BusDay_Adjustment], 
    [Project1].[Next_Ex_Div_Date] AS [Next_Ex_Div_Date], 
    [Project1].[Ex_Div_BusDay_Adjustment] AS [Ex_Div_BusDay_Adjustment], 
    [Project1].[Ex_Div_Period] AS [Ex_Div_Period], 
    [Project1].[Ticker] AS [Ticker], 
    [Project1].[Inet_ID] AS [Inet_ID], 
    [Project1].[Bloomberg_ID] AS [Bloomberg_ID], 
    [Project1].[External_Sec_ID] AS [External_Sec_ID], 
    [Project1].[Reuters_ID] AS [Reuters_ID], 
    [Project1].[ISIN] AS [ISIN], 
    [Project1].[Call_Account_Flag] AS [Call_Account_Flag], 
    [Project1].[System_Locked] AS [System_Locked], 
    [Project1].[Last_Update_User1] AS [Last_Update_User1], 
    [Project1].[Last_Update_Date1] AS [Last_Update_Date1], 
    [Project1].[Security_Status] AS [Security_Status], 
    [Project1].[Benchmark_Portfolio] AS [Benchmark_Portfolio], 
    [Project1].[Active_flag] AS [Active_flag], 
    [Project1].[Dividend_FX_Security_ID] AS [Dividend_FX_Security_ID]
    FROM ( SELECT 
        [Extent1].[Security_ID] AS [Security_ID], 
        [Extent1].[Portfolio_Code] AS [Portfolio_Code], 
        [Extent1].[Entity_ID] AS [Entity_ID], 
        [Extent1].[ModDietz_Performance_Quarterly] AS [ModDietz_Performance_Quarterly], 
        [Extent1].[ModDietz_Performance_Monthly] AS [ModDietz_Performance_Monthly], 
        [Extent1].[ModDietz_Performance_MonthToDate] AS [ModDietz_Performance_MonthToDate], 
        [Extent1].[Dietz_Performance_Quarterly] AS [Dietz_Performance_Quarterly], 
        [Extent1].[Dietz_Performance_Monthly] AS [Dietz_Performance_Monthly], 
        [Extent1].[Dietz_Performance_MonthToDate] AS [Dietz_Performance_MonthToDate], 
        [Extent1].[Last_Update_Date] AS [Last_Update_Date], 
        [Extent1].[Last_Update_User] AS [Last_Update_User], 
        [Extent1].[Record_Date] AS [Record_Date], 
        [Extent1].[Session_ID] AS [Session_ID], 
        [Extent1].[Hist_Last_Update_Date] AS [Hist_Last_Update_Date], 
        [Extent1].[Hist_Last_Update_User] AS [Hist_Last_Update_User], 
        [Extent2].[Security_ID] AS [Security_ID1], 
        [Extent2].[Entity_ID] AS [Entity_ID1], 
        [Extent2].[Security_Name] AS [Security_Name], 
        [Extent2].[Short_Name] AS [Short_Name], 
        [Extent2].[Primary_Exch] AS [Primary_Exch], 
        [Extent2].[Secondary_Exch] AS [Secondary_Exch], 
        [Extent2].[Country_Of_Domicile] AS [Country_Of_Domicile], 
        [Extent2].[Country_Of_Risk] AS [Country_Of_Risk], 
        [Extent2].[Security_Type_Code] AS [Security_Type_Code], 
        [Extent2].[Price_Multiplier] AS [Price_Multiplier], 
        [Extent2].[Income_Frequency] AS [Income_Frequency], 
        [Extent2].[Issuer_Code] AS [Issuer_Code], 
        [Extent2].[Ultimate_Issuer_Code] AS [Ultimate_Issuer_Code], 
        [Extent2].[Asset_Currency] AS [Asset_Currency], 
        [Extent2].[Min_Lot_Size] AS [Min_Lot_Size], 
        [Extent2].[Decimal_Precision] AS [Decimal_Precision], 
        [Extent2].[AvePrice_Rounding] AS [AvePrice_Rounding], 
        [Extent2].[Issue_Date] AS [Issue_Date], 
        [Extent2].[Maturity_Date] AS [Maturity_Date], 
        [Extent2].[Coupon_Rate] AS [Coupon_Rate], 
        [Extent2].[Price_Exchange] AS [Price_Exchange], 
        [Extent2].[Trade_Currency] AS [Trade_Currency], 
        [Extent2].[Price_Curr] AS [Price_Curr], 
        [Extent2].[Currency_Pair_Code] AS [Currency_Pair_Code], 
        [Extent2].[Share_Class] AS [Share_Class], 
        [Extent2].[Current_Market_Price] AS [Current_Market_Price], 
        [Extent2].[Index_Type] AS [Index_Type], 
        [Extent2].[Clean_Price_Formula] AS [Clean_Price_Formula], 
        [Extent2].[Accrued_Income_Price_Formula] AS [Accrued_Income_Price_Formula], 
        [Extent2].[Odd_First_Coupon_Date] AS [Odd_First_Coupon_Date], 
        [Extent2].[Odd_Last_Coupon_Date] AS [Odd_Last_Coupon_Date], 
        [Extent2].[Coupon_Anniversary_Indicator] AS [Coupon_Anniversary_Indicator], 
        [Extent2].[Track_EOM_Flag] AS [Track_EOM_Flag], 
        [Extent2].[Next_Coupon_Date] AS [Next_Coupon_Date], 
        [Extent2].[Previous_Coupon_Date] AS [Previous_Coupon_Date], 
        [Extent2].[Payment_Frequency] AS [Payment_Frequency], 
        [Extent2].[Coupon_BusDay_Adjustment] AS [Coupon_BusDay_Adjustment], 
        [Extent2].[Next_Ex_Div_Date] AS [Next_Ex_Div_Date], 
        [Extent2].[Ex_Div_BusDay_Adjustment] AS [Ex_Div_BusDay_Adjustment], 
        [Extent2].[Ex_Div_Period] AS [Ex_Div_Period], 
        [Extent2].[Ticker] AS [Ticker], 
        [Extent2].[Inet_ID] AS [Inet_ID], 
        [Extent2].[Bloomberg_ID] AS [Bloomberg_ID], 
        [Extent2].[External_Sec_ID] AS [External_Sec_ID], 
        [Extent2].[Reuters_ID] AS [Reuters_ID], 
        [Extent2].[ISIN] AS [ISIN], 
        [Extent2].[Call_Account_Flag] AS [Call_Account_Flag], 
        [Extent2].[System_Locked] AS [System_Locked], 
        [Extent2].[Last_Update_User] AS [Last_Update_User1], 
        [Extent2].[Last_Update_Date] AS [Last_Update_Date1], 
        [Extent2].[Security_Status] AS [Security_Status], 
        [Extent2].[Benchmark_Portfolio] AS [Benchmark_Portfolio], 
        [Extent2].[Active_flag] AS [Active_flag], 
        [Extent2].[Dividend_FX_Security_ID] AS [Dividend_FX_Security_ID]
        FROM  [dbo].[Security_Performance_History] AS [Extent1]
        INNER JOIN [dbo].[Security_Detail] AS [Extent2] ON [Extent1].[Security_ID] = [Extent2].[Security_ID]
        WHERE ([Extent1].[Security_ID] = @p__linq__0) AND ([Extent1].[Portfolio_Code] = @p__linq__1)
    )  AS [Project1]
    ORDER BY [Project1].[Record_Date] DESC
2018-04-07 12:38:05.0848|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: IF db_id(N'MetopeAzureDb') IS NOT NULL SELECT 1 ELSE SELECT Count(*) FROM sys.databases WHERE [name]=N'MetopeAzureDb'
2018-04-07 12:38:05.1919|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: IF db_id(N'MetopeAzureDb') IS NOT NULL SELECT 1 ELSE SELECT Count(*) FROM sys.databases WHERE [name]=N'MetopeAzureDb'
2018-04-07 12:38:05.2744|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: IF db_id(N'MetopeAzureDb') IS NOT NULL SELECT 1 ELSE SELECT Count(*) FROM sys.databases WHERE [name]=N'MetopeAzureDb'
2018-04-07 12:38:05.2955|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: IF db_id(N'MetopeAzureDb') IS NOT NULL SELECT 1 ELSE SELECT Count(*) FROM sys.databases WHERE [name]=N'MetopeAzureDb'
2018-04-07 12:42:08.6914|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: SELECT 
    [Project1].[Decimal_Precision] AS [Decimal_Precision], 
    [Project1].[Security_ID] AS [Security_ID], 
    [Project1].[Portfolio_Code] AS [Portfolio_Code], 
    [Project1].[Entity_ID] AS [Entity_ID], 
    [Project1].[ModDietz_Performance_Quarterly] AS [ModDietz_Performance_Quarterly], 
    [Project1].[ModDietz_Performance_Monthly] AS [ModDietz_Performance_Monthly], 
    [Project1].[ModDietz_Performance_MonthToDate] AS [ModDietz_Performance_MonthToDate], 
    [Project1].[Dietz_Performance_Quarterly] AS [Dietz_Performance_Quarterly], 
    [Project1].[Dietz_Performance_Monthly] AS [Dietz_Performance_Monthly], 
    [Project1].[Dietz_Performance_MonthToDate] AS [Dietz_Performance_MonthToDate], 
    [Project1].[Last_Update_Date] AS [Last_Update_Date], 
    [Project1].[Last_Update_User] AS [Last_Update_User], 
    [Project1].[Record_Date] AS [Record_Date], 
    [Project1].[Session_ID] AS [Session_ID], 
    [Project1].[Hist_Last_Update_Date] AS [Hist_Last_Update_Date], 
    [Project1].[Hist_Last_Update_User] AS [Hist_Last_Update_User], 
    [Project1].[Security_ID1] AS [Security_ID1], 
    [Project1].[Entity_ID1] AS [Entity_ID1], 
    [Project1].[Security_Name] AS [Security_Name], 
    [Project1].[Short_Name] AS [Short_Name], 
    [Project1].[Primary_Exch] AS [Primary_Exch], 
    [Project1].[Secondary_Exch] AS [Secondary_Exch], 
    [Project1].[Country_Of_Domicile] AS [Country_Of_Domicile], 
    [Project1].[Country_Of_Risk] AS [Country_Of_Risk], 
    [Project1].[Security_Type_Code] AS [Security_Type_Code], 
    [Project1].[Price_Multiplier] AS [Price_Multiplier], 
    [Project1].[Income_Frequency] AS [Income_Frequency], 
    [Project1].[Issuer_Code] AS [Issuer_Code], 
    [Project1].[Ultimate_Issuer_Code] AS [Ultimate_Issuer_Code], 
    [Project1].[Asset_Currency] AS [Asset_Currency], 
    [Project1].[Min_Lot_Size] AS [Min_Lot_Size], 
    [Project1].[AvePrice_Rounding] AS [AvePrice_Rounding], 
    [Project1].[Issue_Date] AS [Issue_Date], 
    [Project1].[Maturity_Date] AS [Maturity_Date], 
    [Project1].[Coupon_Rate] AS [Coupon_Rate], 
    [Project1].[Price_Exchange] AS [Price_Exchange], 
    [Project1].[Trade_Currency] AS [Trade_Currency], 
    [Project1].[Price_Curr] AS [Price_Curr], 
    [Project1].[Currency_Pair_Code] AS [Currency_Pair_Code], 
    [Project1].[Share_Class] AS [Share_Class], 
    [Project1].[Current_Market_Price] AS [Current_Market_Price], 
    [Project1].[Index_Type] AS [Index_Type], 
    [Project1].[Clean_Price_Formula] AS [Clean_Price_Formula], 
    [Project1].[Accrued_Income_Price_Formula] AS [Accrued_Income_Price_Formula], 
    [Project1].[Odd_First_Coupon_Date] AS [Odd_First_Coupon_Date], 
    [Project1].[Odd_Last_Coupon_Date] AS [Odd_Last_Coupon_Date], 
    [Project1].[Coupon_Anniversary_Indicator] AS [Coupon_Anniversary_Indicator], 
    [Project1].[Track_EOM_Flag] AS [Track_EOM_Flag], 
    [Project1].[Next_Coupon_Date] AS [Next_Coupon_Date], 
    [Project1].[Previous_Coupon_Date] AS [Previous_Coupon_Date], 
    [Project1].[Payment_Frequency] AS [Payment_Frequency], 
    [Project1].[Coupon_BusDay_Adjustment] AS [Coupon_BusDay_Adjustment], 
    [Project1].[Next_Ex_Div_Date] AS [Next_Ex_Div_Date], 
    [Project1].[Ex_Div_BusDay_Adjustment] AS [Ex_Div_BusDay_Adjustment], 
    [Project1].[Ex_Div_Period] AS [Ex_Div_Period], 
    [Project1].[Ticker] AS [Ticker], 
    [Project1].[Inet_ID] AS [Inet_ID], 
    [Project1].[Bloomberg_ID] AS [Bloomberg_ID], 
    [Project1].[External_Sec_ID] AS [External_Sec_ID], 
    [Project1].[Reuters_ID] AS [Reuters_ID], 
    [Project1].[ISIN] AS [ISIN], 
    [Project1].[Call_Account_Flag] AS [Call_Account_Flag], 
    [Project1].[System_Locked] AS [System_Locked], 
    [Project1].[Last_Update_User1] AS [Last_Update_User1], 
    [Project1].[Last_Update_Date1] AS [Last_Update_Date1], 
    [Project1].[Security_Status] AS [Security_Status], 
    [Project1].[Benchmark_Portfolio] AS [Benchmark_Portfolio], 
    [Project1].[Active_flag] AS [Active_flag], 
    [Project1].[Dividend_FX_Security_ID] AS [Dividend_FX_Security_ID]
    FROM ( SELECT 
        [Extent1].[Security_ID] AS [Security_ID], 
        [Extent1].[Portfolio_Code] AS [Portfolio_Code], 
        [Extent1].[Entity_ID] AS [Entity_ID], 
        [Extent1].[ModDietz_Performance_Quarterly] AS [ModDietz_Performance_Quarterly], 
        [Extent1].[ModDietz_Performance_Monthly] AS [ModDietz_Performance_Monthly], 
        [Extent1].[ModDietz_Performance_MonthToDate] AS [ModDietz_Performance_MonthToDate], 
        [Extent1].[Dietz_Performance_Quarterly] AS [Dietz_Performance_Quarterly], 
        [Extent1].[Dietz_Performance_Monthly] AS [Dietz_Performance_Monthly], 
        [Extent1].[Dietz_Performance_MonthToDate] AS [Dietz_Performance_MonthToDate], 
        [Extent1].[Last_Update_Date] AS [Last_Update_Date], 
        [Extent1].[Last_Update_User] AS [Last_Update_User], 
        [Extent1].[Record_Date] AS [Record_Date], 
        [Extent1].[Session_ID] AS [Session_ID], 
        [Extent1].[Hist_Last_Update_Date] AS [Hist_Last_Update_Date], 
        [Extent1].[Hist_Last_Update_User] AS [Hist_Last_Update_User], 
        [Extent2].[Security_ID] AS [Security_ID1], 
        [Extent2].[Entity_ID] AS [Entity_ID1], 
        [Extent2].[Security_Name] AS [Security_Name], 
        [Extent2].[Short_Name] AS [Short_Name], 
        [Extent2].[Primary_Exch] AS [Primary_Exch], 
        [Extent2].[Secondary_Exch] AS [Secondary_Exch], 
        [Extent2].[Country_Of_Domicile] AS [Country_Of_Domicile], 
        [Extent2].[Country_Of_Risk] AS [Country_Of_Risk], 
        [Extent2].[Security_Type_Code] AS [Security_Type_Code], 
        [Extent2].[Price_Multiplier] AS [Price_Multiplier], 
        [Extent2].[Income_Frequency] AS [Income_Frequency], 
        [Extent2].[Issuer_Code] AS [Issuer_Code], 
        [Extent2].[Ultimate_Issuer_Code] AS [Ultimate_Issuer_Code], 
        [Extent2].[Asset_Currency] AS [Asset_Currency], 
        [Extent2].[Min_Lot_Size] AS [Min_Lot_Size], 
        [Extent2].[Decimal_Precision] AS [Decimal_Precision], 
        [Extent2].[AvePrice_Rounding] AS [AvePrice_Rounding], 
        [Extent2].[Issue_Date] AS [Issue_Date], 
        [Extent2].[Maturity_Date] AS [Maturity_Date], 
        [Extent2].[Coupon_Rate] AS [Coupon_Rate], 
        [Extent2].[Price_Exchange] AS [Price_Exchange], 
        [Extent2].[Trade_Currency] AS [Trade_Currency], 
        [Extent2].[Price_Curr] AS [Price_Curr], 
        [Extent2].[Currency_Pair_Code] AS [Currency_Pair_Code], 
        [Extent2].[Share_Class] AS [Share_Class], 
        [Extent2].[Current_Market_Price] AS [Current_Market_Price], 
        [Extent2].[Index_Type] AS [Index_Type], 
        [Extent2].[Clean_Price_Formula] AS [Clean_Price_Formula], 
        [Extent2].[Accrued_Income_Price_Formula] AS [Accrued_Income_Price_Formula], 
        [Extent2].[Odd_First_Coupon_Date] AS [Odd_First_Coupon_Date], 
        [Extent2].[Odd_Last_Coupon_Date] AS [Odd_Last_Coupon_Date], 
        [Extent2].[Coupon_Anniversary_Indicator] AS [Coupon_Anniversary_Indicator], 
        [Extent2].[Track_EOM_Flag] AS [Track_EOM_Flag], 
        [Extent2].[Next_Coupon_Date] AS [Next_Coupon_Date], 
        [Extent2].[Previous_Coupon_Date] AS [Previous_Coupon_Date], 
        [Extent2].[Payment_Frequency] AS [Payment_Frequency], 
        [Extent2].[Coupon_BusDay_Adjustment] AS [Coupon_BusDay_Adjustment], 
        [Extent2].[Next_Ex_Div_Date] AS [Next_Ex_Div_Date], 
        [Extent2].[Ex_Div_BusDay_Adjustment] AS [Ex_Div_BusDay_Adjustment], 
        [Extent2].[Ex_Div_Period] AS [Ex_Div_Period], 
        [Extent2].[Ticker] AS [Ticker], 
        [Extent2].[Inet_ID] AS [Inet_ID], 
        [Extent2].[Bloomberg_ID] AS [Bloomberg_ID], 
        [Extent2].[External_Sec_ID] AS [External_Sec_ID], 
        [Extent2].[Reuters_ID] AS [Reuters_ID], 
        [Extent2].[ISIN] AS [ISIN], 
        [Extent2].[Call_Account_Flag] AS [Call_Account_Flag], 
        [Extent2].[System_Locked] AS [System_Locked], 
        [Extent2].[Last_Update_User] AS [Last_Update_User1], 
        [Extent2].[Last_Update_Date] AS [Last_Update_Date1], 
        [Extent2].[Security_Status] AS [Security_Status], 
        [Extent2].[Benchmark_Portfolio] AS [Benchmark_Portfolio], 
        [Extent2].[Active_flag] AS [Active_flag], 
        [Extent2].[Dividend_FX_Security_ID] AS [Dividend_FX_Security_ID]
        FROM  [dbo].[Security_Performance_History] AS [Extent1]
        INNER JOIN [dbo].[Security_Detail] AS [Extent2] ON [Extent1].[Security_ID] = [Extent2].[Security_ID]
        WHERE ([Extent1].[Security_ID] = @p__linq__0) AND ([Extent1].[Portfolio_Code] = @p__linq__1)
    )  AS [Project1]
    ORDER BY [Project1].[Record_Date] DESC
2018-04-07 12:42:08.8085|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: SELECT 
    [Project1].[Decimal_Precision] AS [Decimal_Precision], 
    [Project1].[Security_ID] AS [Security_ID], 
    [Project1].[Portfolio_Code] AS [Portfolio_Code], 
    [Project1].[Entity_ID] AS [Entity_ID], 
    [Project1].[ModDietz_Performance_Quarterly] AS [ModDietz_Performance_Quarterly], 
    [Project1].[ModDietz_Performance_Monthly] AS [ModDietz_Performance_Monthly], 
    [Project1].[ModDietz_Performance_MonthToDate] AS [ModDietz_Performance_MonthToDate], 
    [Project1].[Dietz_Performance_Quarterly] AS [Dietz_Performance_Quarterly], 
    [Project1].[Dietz_Performance_Monthly] AS [Dietz_Performance_Monthly], 
    [Project1].[Dietz_Performance_MonthToDate] AS [Dietz_Performance_MonthToDate], 
    [Project1].[Last_Update_Date] AS [Last_Update_Date], 
    [Project1].[Last_Update_User] AS [Last_Update_User], 
    [Project1].[Record_Date] AS [Record_Date], 
    [Project1].[Session_ID] AS [Session_ID], 
    [Project1].[Hist_Last_Update_Date] AS [Hist_Last_Update_Date], 
    [Project1].[Hist_Last_Update_User] AS [Hist_Last_Update_User], 
    [Project1].[Security_ID1] AS [Security_ID1], 
    [Project1].[Entity_ID1] AS [Entity_ID1], 
    [Project1].[Security_Name] AS [Security_Name], 
    [Project1].[Short_Name] AS [Short_Name], 
    [Project1].[Primary_Exch] AS [Primary_Exch], 
    [Project1].[Secondary_Exch] AS [Secondary_Exch], 
    [Project1].[Country_Of_Domicile] AS [Country_Of_Domicile], 
    [Project1].[Country_Of_Risk] AS [Country_Of_Risk], 
    [Project1].[Security_Type_Code] AS [Security_Type_Code], 
    [Project1].[Price_Multiplier] AS [Price_Multiplier], 
    [Project1].[Income_Frequency] AS [Income_Frequency], 
    [Project1].[Issuer_Code] AS [Issuer_Code], 
    [Project1].[Ultimate_Issuer_Code] AS [Ultimate_Issuer_Code], 
    [Project1].[Asset_Currency] AS [Asset_Currency], 
    [Project1].[Min_Lot_Size] AS [Min_Lot_Size], 
    [Project1].[AvePrice_Rounding] AS [AvePrice_Rounding], 
    [Project1].[Issue_Date] AS [Issue_Date], 
    [Project1].[Maturity_Date] AS [Maturity_Date], 
    [Project1].[Coupon_Rate] AS [Coupon_Rate], 
    [Project1].[Price_Exchange] AS [Price_Exchange], 
    [Project1].[Trade_Currency] AS [Trade_Currency], 
    [Project1].[Price_Curr] AS [Price_Curr], 
    [Project1].[Currency_Pair_Code] AS [Currency_Pair_Code], 
    [Project1].[Share_Class] AS [Share_Class], 
    [Project1].[Current_Market_Price] AS [Current_Market_Price], 
    [Project1].[Index_Type] AS [Index_Type], 
    [Project1].[Clean_Price_Formula] AS [Clean_Price_Formula], 
    [Project1].[Accrued_Income_Price_Formula] AS [Accrued_Income_Price_Formula], 
    [Project1].[Odd_First_Coupon_Date] AS [Odd_First_Coupon_Date], 
    [Project1].[Odd_Last_Coupon_Date] AS [Odd_Last_Coupon_Date], 
    [Project1].[Coupon_Anniversary_Indicator] AS [Coupon_Anniversary_Indicator], 
    [Project1].[Track_EOM_Flag] AS [Track_EOM_Flag], 
    [Project1].[Next_Coupon_Date] AS [Next_Coupon_Date], 
    [Project1].[Previous_Coupon_Date] AS [Previous_Coupon_Date], 
    [Project1].[Payment_Frequency] AS [Payment_Frequency], 
    [Project1].[Coupon_BusDay_Adjustment] AS [Coupon_BusDay_Adjustment], 
    [Project1].[Next_Ex_Div_Date] AS [Next_Ex_Div_Date], 
    [Project1].[Ex_Div_BusDay_Adjustment] AS [Ex_Div_BusDay_Adjustment], 
    [Project1].[Ex_Div_Period] AS [Ex_Div_Period], 
    [Project1].[Ticker] AS [Ticker], 
    [Project1].[Inet_ID] AS [Inet_ID], 
    [Project1].[Bloomberg_ID] AS [Bloomberg_ID], 
    [Project1].[External_Sec_ID] AS [External_Sec_ID], 
    [Project1].[Reuters_ID] AS [Reuters_ID], 
    [Project1].[ISIN] AS [ISIN], 
    [Project1].[Call_Account_Flag] AS [Call_Account_Flag], 
    [Project1].[System_Locked] AS [System_Locked], 
    [Project1].[Last_Update_User1] AS [Last_Update_User1], 
    [Project1].[Last_Update_Date1] AS [Last_Update_Date1], 
    [Project1].[Security_Status] AS [Security_Status], 
    [Project1].[Benchmark_Portfolio] AS [Benchmark_Portfolio], 
    [Project1].[Active_flag] AS [Active_flag], 
    [Project1].[Dividend_FX_Security_ID] AS [Dividend_FX_Security_ID]
    FROM ( SELECT 
        [Extent1].[Security_ID] AS [Security_ID], 
        [Extent1].[Portfolio_Code] AS [Portfolio_Code], 
        [Extent1].[Entity_ID] AS [Entity_ID], 
        [Extent1].[ModDietz_Performance_Quarterly] AS [ModDietz_Performance_Quarterly], 
        [Extent1].[ModDietz_Performance_Monthly] AS [ModDietz_Performance_Monthly], 
        [Extent1].[ModDietz_Performance_MonthToDate] AS [ModDietz_Performance_MonthToDate], 
        [Extent1].[Dietz_Performance_Quarterly] AS [Dietz_Performance_Quarterly], 
        [Extent1].[Dietz_Performance_Monthly] AS [Dietz_Performance_Monthly], 
        [Extent1].[Dietz_Performance_MonthToDate] AS [Dietz_Performance_MonthToDate], 
        [Extent1].[Last_Update_Date] AS [Last_Update_Date], 
        [Extent1].[Last_Update_User] AS [Last_Update_User], 
        [Extent1].[Record_Date] AS [Record_Date], 
        [Extent1].[Session_ID] AS [Session_ID], 
        [Extent1].[Hist_Last_Update_Date] AS [Hist_Last_Update_Date], 
        [Extent1].[Hist_Last_Update_User] AS [Hist_Last_Update_User], 
        [Extent2].[Security_ID] AS [Security_ID1], 
        [Extent2].[Entity_ID] AS [Entity_ID1], 
        [Extent2].[Security_Name] AS [Security_Name], 
        [Extent2].[Short_Name] AS [Short_Name], 
        [Extent2].[Primary_Exch] AS [Primary_Exch], 
        [Extent2].[Secondary_Exch] AS [Secondary_Exch], 
        [Extent2].[Country_Of_Domicile] AS [Country_Of_Domicile], 
        [Extent2].[Country_Of_Risk] AS [Country_Of_Risk], 
        [Extent2].[Security_Type_Code] AS [Security_Type_Code], 
        [Extent2].[Price_Multiplier] AS [Price_Multiplier], 
        [Extent2].[Income_Frequency] AS [Income_Frequency], 
        [Extent2].[Issuer_Code] AS [Issuer_Code], 
        [Extent2].[Ultimate_Issuer_Code] AS [Ultimate_Issuer_Code], 
        [Extent2].[Asset_Currency] AS [Asset_Currency], 
        [Extent2].[Min_Lot_Size] AS [Min_Lot_Size], 
        [Extent2].[Decimal_Precision] AS [Decimal_Precision], 
        [Extent2].[AvePrice_Rounding] AS [AvePrice_Rounding], 
        [Extent2].[Issue_Date] AS [Issue_Date], 
        [Extent2].[Maturity_Date] AS [Maturity_Date], 
        [Extent2].[Coupon_Rate] AS [Coupon_Rate], 
        [Extent2].[Price_Exchange] AS [Price_Exchange], 
        [Extent2].[Trade_Currency] AS [Trade_Currency], 
        [Extent2].[Price_Curr] AS [Price_Curr], 
        [Extent2].[Currency_Pair_Code] AS [Currency_Pair_Code], 
        [Extent2].[Share_Class] AS [Share_Class], 
        [Extent2].[Current_Market_Price] AS [Current_Market_Price], 
        [Extent2].[Index_Type] AS [Index_Type], 
        [Extent2].[Clean_Price_Formula] AS [Clean_Price_Formula], 
        [Extent2].[Accrued_Income_Price_Formula] AS [Accrued_Income_Price_Formula], 
        [Extent2].[Odd_First_Coupon_Date] AS [Odd_First_Coupon_Date], 
        [Extent2].[Odd_Last_Coupon_Date] AS [Odd_Last_Coupon_Date], 
        [Extent2].[Coupon_Anniversary_Indicator] AS [Coupon_Anniversary_Indicator], 
        [Extent2].[Track_EOM_Flag] AS [Track_EOM_Flag], 
        [Extent2].[Next_Coupon_Date] AS [Next_Coupon_Date], 
        [Extent2].[Previous_Coupon_Date] AS [Previous_Coupon_Date], 
        [Extent2].[Payment_Frequency] AS [Payment_Frequency], 
        [Extent2].[Coupon_BusDay_Adjustment] AS [Coupon_BusDay_Adjustment], 
        [Extent2].[Next_Ex_Div_Date] AS [Next_Ex_Div_Date], 
        [Extent2].[Ex_Div_BusDay_Adjustment] AS [Ex_Div_BusDay_Adjustment], 
        [Extent2].[Ex_Div_Period] AS [Ex_Div_Period], 
        [Extent2].[Ticker] AS [Ticker], 
        [Extent2].[Inet_ID] AS [Inet_ID], 
        [Extent2].[Bloomberg_ID] AS [Bloomberg_ID], 
        [Extent2].[External_Sec_ID] AS [External_Sec_ID], 
        [Extent2].[Reuters_ID] AS [Reuters_ID], 
        [Extent2].[ISIN] AS [ISIN], 
        [Extent2].[Call_Account_Flag] AS [Call_Account_Flag], 
        [Extent2].[System_Locked] AS [System_Locked], 
        [Extent2].[Last_Update_User] AS [Last_Update_User1], 
        [Extent2].[Last_Update_Date] AS [Last_Update_Date1], 
        [Extent2].[Security_Status] AS [Security_Status], 
        [Extent2].[Benchmark_Portfolio] AS [Benchmark_Portfolio], 
        [Extent2].[Active_flag] AS [Active_flag], 
        [Extent2].[Dividend_FX_Security_ID] AS [Dividend_FX_Security_ID]
        FROM  [dbo].[Security_Performance_History] AS [Extent1]
        INNER JOIN [dbo].[Security_Detail] AS [Extent2] ON [Extent1].[Security_ID] = [Extent2].[Security_ID]
        WHERE ([Extent1].[Security_ID] = @p__linq__0) AND ([Extent1].[Portfolio_Code] = @p__linq__1)
    )  AS [Project1]
    ORDER BY [Project1].[Record_Date] DESC
2018-04-07 12:42:12.6787|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: IF db_id(N'MetopeAzureDb') IS NOT NULL SELECT 1 ELSE SELECT Count(*) FROM sys.databases WHERE [name]=N'MetopeAzureDb'
2018-04-07 12:42:12.7553|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: IF db_id(N'MetopeAzureDb') IS NOT NULL SELECT 1 ELSE SELECT Count(*) FROM sys.databases WHERE [name]=N'MetopeAzureDb'
2018-04-07 12:42:12.8459|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: IF db_id(N'MetopeAzureDb') IS NOT NULL SELECT 1 ELSE SELECT Count(*) FROM sys.databases WHERE [name]=N'MetopeAzureDb'
2018-04-07 12:42:12.8634|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: IF db_id(N'MetopeAzureDb') IS NOT NULL SELECT 1 ELSE SELECT Count(*) FROM sys.databases WHERE [name]=N'MetopeAzureDb'
2018-04-07 12:42:47.0686|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: SELECT 
    [Project1].[Decimal_Precision] AS [Decimal_Precision], 
    [Project1].[Security_ID] AS [Security_ID], 
    [Project1].[Portfolio_Code] AS [Portfolio_Code], 
    [Project1].[Entity_ID] AS [Entity_ID], 
    [Project1].[ModDietz_Performance_Quarterly] AS [ModDietz_Performance_Quarterly], 
    [Project1].[ModDietz_Performance_Monthly] AS [ModDietz_Performance_Monthly], 
    [Project1].[ModDietz_Performance_MonthToDate] AS [ModDietz_Performance_MonthToDate], 
    [Project1].[Dietz_Performance_Quarterly] AS [Dietz_Performance_Quarterly], 
    [Project1].[Dietz_Performance_Monthly] AS [Dietz_Performance_Monthly], 
    [Project1].[Dietz_Performance_MonthToDate] AS [Dietz_Performance_MonthToDate], 
    [Project1].[Last_Update_Date] AS [Last_Update_Date], 
    [Project1].[Last_Update_User] AS [Last_Update_User], 
    [Project1].[Record_Date] AS [Record_Date], 
    [Project1].[Session_ID] AS [Session_ID], 
    [Project1].[Hist_Last_Update_Date] AS [Hist_Last_Update_Date], 
    [Project1].[Hist_Last_Update_User] AS [Hist_Last_Update_User], 
    [Project1].[Security_ID1] AS [Security_ID1], 
    [Project1].[Entity_ID1] AS [Entity_ID1], 
    [Project1].[Security_Name] AS [Security_Name], 
    [Project1].[Short_Name] AS [Short_Name], 
    [Project1].[Primary_Exch] AS [Primary_Exch], 
    [Project1].[Secondary_Exch] AS [Secondary_Exch], 
    [Project1].[Country_Of_Domicile] AS [Country_Of_Domicile], 
    [Project1].[Country_Of_Risk] AS [Country_Of_Risk], 
    [Project1].[Security_Type_Code] AS [Security_Type_Code], 
    [Project1].[Price_Multiplier] AS [Price_Multiplier], 
    [Project1].[Income_Frequency] AS [Income_Frequency], 
    [Project1].[Issuer_Code] AS [Issuer_Code], 
    [Project1].[Ultimate_Issuer_Code] AS [Ultimate_Issuer_Code], 
    [Project1].[Asset_Currency] AS [Asset_Currency], 
    [Project1].[Min_Lot_Size] AS [Min_Lot_Size], 
    [Project1].[AvePrice_Rounding] AS [AvePrice_Rounding], 
    [Project1].[Issue_Date] AS [Issue_Date], 
    [Project1].[Maturity_Date] AS [Maturity_Date], 
    [Project1].[Coupon_Rate] AS [Coupon_Rate], 
    [Project1].[Price_Exchange] AS [Price_Exchange], 
    [Project1].[Trade_Currency] AS [Trade_Currency], 
    [Project1].[Price_Curr] AS [Price_Curr], 
    [Project1].[Currency_Pair_Code] AS [Currency_Pair_Code], 
    [Project1].[Share_Class] AS [Share_Class], 
    [Project1].[Current_Market_Price] AS [Current_Market_Price], 
    [Project1].[Index_Type] AS [Index_Type], 
    [Project1].[Clean_Price_Formula] AS [Clean_Price_Formula], 
    [Project1].[Accrued_Income_Price_Formula] AS [Accrued_Income_Price_Formula], 
    [Project1].[Odd_First_Coupon_Date] AS [Odd_First_Coupon_Date], 
    [Project1].[Odd_Last_Coupon_Date] AS [Odd_Last_Coupon_Date], 
    [Project1].[Coupon_Anniversary_Indicator] AS [Coupon_Anniversary_Indicator], 
    [Project1].[Track_EOM_Flag] AS [Track_EOM_Flag], 
    [Project1].[Next_Coupon_Date] AS [Next_Coupon_Date], 
    [Project1].[Previous_Coupon_Date] AS [Previous_Coupon_Date], 
    [Project1].[Payment_Frequency] AS [Payment_Frequency], 
    [Project1].[Coupon_BusDay_Adjustment] AS [Coupon_BusDay_Adjustment], 
    [Project1].[Next_Ex_Div_Date] AS [Next_Ex_Div_Date], 
    [Project1].[Ex_Div_BusDay_Adjustment] AS [Ex_Div_BusDay_Adjustment], 
    [Project1].[Ex_Div_Period] AS [Ex_Div_Period], 
    [Project1].[Ticker] AS [Ticker], 
    [Project1].[Inet_ID] AS [Inet_ID], 
    [Project1].[Bloomberg_ID] AS [Bloomberg_ID], 
    [Project1].[External_Sec_ID] AS [External_Sec_ID], 
    [Project1].[Reuters_ID] AS [Reuters_ID], 
    [Project1].[ISIN] AS [ISIN], 
    [Project1].[Call_Account_Flag] AS [Call_Account_Flag], 
    [Project1].[System_Locked] AS [System_Locked], 
    [Project1].[Last_Update_User1] AS [Last_Update_User1], 
    [Project1].[Last_Update_Date1] AS [Last_Update_Date1], 
    [Project1].[Security_Status] AS [Security_Status], 
    [Project1].[Benchmark_Portfolio] AS [Benchmark_Portfolio], 
    [Project1].[Active_flag] AS [Active_flag], 
    [Project1].[Dividend_FX_Security_ID] AS [Dividend_FX_Security_ID]
    FROM ( SELECT 
        [Extent1].[Security_ID] AS [Security_ID], 
        [Extent1].[Portfolio_Code] AS [Portfolio_Code], 
        [Extent1].[Entity_ID] AS [Entity_ID], 
        [Extent1].[ModDietz_Performance_Quarterly] AS [ModDietz_Performance_Quarterly], 
        [Extent1].[ModDietz_Performance_Monthly] AS [ModDietz_Performance_Monthly], 
        [Extent1].[ModDietz_Performance_MonthToDate] AS [ModDietz_Performance_MonthToDate], 
        [Extent1].[Dietz_Performance_Quarterly] AS [Dietz_Performance_Quarterly], 
        [Extent1].[Dietz_Performance_Monthly] AS [Dietz_Performance_Monthly], 
        [Extent1].[Dietz_Performance_MonthToDate] AS [Dietz_Performance_MonthToDate], 
        [Extent1].[Last_Update_Date] AS [Last_Update_Date], 
        [Extent1].[Last_Update_User] AS [Last_Update_User], 
        [Extent1].[Record_Date] AS [Record_Date], 
        [Extent1].[Session_ID] AS [Session_ID], 
        [Extent1].[Hist_Last_Update_Date] AS [Hist_Last_Update_Date], 
        [Extent1].[Hist_Last_Update_User] AS [Hist_Last_Update_User], 
        [Extent2].[Security_ID] AS [Security_ID1], 
        [Extent2].[Entity_ID] AS [Entity_ID1], 
        [Extent2].[Security_Name] AS [Security_Name], 
        [Extent2].[Short_Name] AS [Short_Name], 
        [Extent2].[Primary_Exch] AS [Primary_Exch], 
        [Extent2].[Secondary_Exch] AS [Secondary_Exch], 
        [Extent2].[Country_Of_Domicile] AS [Country_Of_Domicile], 
        [Extent2].[Country_Of_Risk] AS [Country_Of_Risk], 
        [Extent2].[Security_Type_Code] AS [Security_Type_Code], 
        [Extent2].[Price_Multiplier] AS [Price_Multiplier], 
        [Extent2].[Income_Frequency] AS [Income_Frequency], 
        [Extent2].[Issuer_Code] AS [Issuer_Code], 
        [Extent2].[Ultimate_Issuer_Code] AS [Ultimate_Issuer_Code], 
        [Extent2].[Asset_Currency] AS [Asset_Currency], 
        [Extent2].[Min_Lot_Size] AS [Min_Lot_Size], 
        [Extent2].[Decimal_Precision] AS [Decimal_Precision], 
        [Extent2].[AvePrice_Rounding] AS [AvePrice_Rounding], 
        [Extent2].[Issue_Date] AS [Issue_Date], 
        [Extent2].[Maturity_Date] AS [Maturity_Date], 
        [Extent2].[Coupon_Rate] AS [Coupon_Rate], 
        [Extent2].[Price_Exchange] AS [Price_Exchange], 
        [Extent2].[Trade_Currency] AS [Trade_Currency], 
        [Extent2].[Price_Curr] AS [Price_Curr], 
        [Extent2].[Currency_Pair_Code] AS [Currency_Pair_Code], 
        [Extent2].[Share_Class] AS [Share_Class], 
        [Extent2].[Current_Market_Price] AS [Current_Market_Price], 
        [Extent2].[Index_Type] AS [Index_Type], 
        [Extent2].[Clean_Price_Formula] AS [Clean_Price_Formula], 
        [Extent2].[Accrued_Income_Price_Formula] AS [Accrued_Income_Price_Formula], 
        [Extent2].[Odd_First_Coupon_Date] AS [Odd_First_Coupon_Date], 
        [Extent2].[Odd_Last_Coupon_Date] AS [Odd_Last_Coupon_Date], 
        [Extent2].[Coupon_Anniversary_Indicator] AS [Coupon_Anniversary_Indicator], 
        [Extent2].[Track_EOM_Flag] AS [Track_EOM_Flag], 
        [Extent2].[Next_Coupon_Date] AS [Next_Coupon_Date], 
        [Extent2].[Previous_Coupon_Date] AS [Previous_Coupon_Date], 
        [Extent2].[Payment_Frequency] AS [Payment_Frequency], 
        [Extent2].[Coupon_BusDay_Adjustment] AS [Coupon_BusDay_Adjustment], 
        [Extent2].[Next_Ex_Div_Date] AS [Next_Ex_Div_Date], 
        [Extent2].[Ex_Div_BusDay_Adjustment] AS [Ex_Div_BusDay_Adjustment], 
        [Extent2].[Ex_Div_Period] AS [Ex_Div_Period], 
        [Extent2].[Ticker] AS [Ticker], 
        [Extent2].[Inet_ID] AS [Inet_ID], 
        [Extent2].[Bloomberg_ID] AS [Bloomberg_ID], 
        [Extent2].[External_Sec_ID] AS [External_Sec_ID], 
        [Extent2].[Reuters_ID] AS [Reuters_ID], 
        [Extent2].[ISIN] AS [ISIN], 
        [Extent2].[Call_Account_Flag] AS [Call_Account_Flag], 
        [Extent2].[System_Locked] AS [System_Locked], 
        [Extent2].[Last_Update_User] AS [Last_Update_User1], 
        [Extent2].[Last_Update_Date] AS [Last_Update_Date1], 
        [Extent2].[Security_Status] AS [Security_Status], 
        [Extent2].[Benchmark_Portfolio] AS [Benchmark_Portfolio], 
        [Extent2].[Active_flag] AS [Active_flag], 
        [Extent2].[Dividend_FX_Security_ID] AS [Dividend_FX_Security_ID]
        FROM  [dbo].[Security_Performance_History] AS [Extent1]
        INNER JOIN [dbo].[Security_Detail] AS [Extent2] ON [Extent1].[Security_ID] = [Extent2].[Security_ID]
        WHERE ([Extent1].[Security_ID] = @p__linq__0) AND ([Extent1].[Portfolio_Code] = @p__linq__1)
    )  AS [Project1]
    ORDER BY [Project1].[Record_Date] DESC
2018-04-07 12:42:47.1161|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: SELECT 
    [Project1].[Decimal_Precision] AS [Decimal_Precision], 
    [Project1].[Security_ID] AS [Security_ID], 
    [Project1].[Portfolio_Code] AS [Portfolio_Code], 
    [Project1].[Entity_ID] AS [Entity_ID], 
    [Project1].[ModDietz_Performance_Quarterly] AS [ModDietz_Performance_Quarterly], 
    [Project1].[ModDietz_Performance_Monthly] AS [ModDietz_Performance_Monthly], 
    [Project1].[ModDietz_Performance_MonthToDate] AS [ModDietz_Performance_MonthToDate], 
    [Project1].[Dietz_Performance_Quarterly] AS [Dietz_Performance_Quarterly], 
    [Project1].[Dietz_Performance_Monthly] AS [Dietz_Performance_Monthly], 
    [Project1].[Dietz_Performance_MonthToDate] AS [Dietz_Performance_MonthToDate], 
    [Project1].[Last_Update_Date] AS [Last_Update_Date], 
    [Project1].[Last_Update_User] AS [Last_Update_User], 
    [Project1].[Record_Date] AS [Record_Date], 
    [Project1].[Session_ID] AS [Session_ID], 
    [Project1].[Hist_Last_Update_Date] AS [Hist_Last_Update_Date], 
    [Project1].[Hist_Last_Update_User] AS [Hist_Last_Update_User], 
    [Project1].[Security_ID1] AS [Security_ID1], 
    [Project1].[Entity_ID1] AS [Entity_ID1], 
    [Project1].[Security_Name] AS [Security_Name], 
    [Project1].[Short_Name] AS [Short_Name], 
    [Project1].[Primary_Exch] AS [Primary_Exch], 
    [Project1].[Secondary_Exch] AS [Secondary_Exch], 
    [Project1].[Country_Of_Domicile] AS [Country_Of_Domicile], 
    [Project1].[Country_Of_Risk] AS [Country_Of_Risk], 
    [Project1].[Security_Type_Code] AS [Security_Type_Code], 
    [Project1].[Price_Multiplier] AS [Price_Multiplier], 
    [Project1].[Income_Frequency] AS [Income_Frequency], 
    [Project1].[Issuer_Code] AS [Issuer_Code], 
    [Project1].[Ultimate_Issuer_Code] AS [Ultimate_Issuer_Code], 
    [Project1].[Asset_Currency] AS [Asset_Currency], 
    [Project1].[Min_Lot_Size] AS [Min_Lot_Size], 
    [Project1].[AvePrice_Rounding] AS [AvePrice_Rounding], 
    [Project1].[Issue_Date] AS [Issue_Date], 
    [Project1].[Maturity_Date] AS [Maturity_Date], 
    [Project1].[Coupon_Rate] AS [Coupon_Rate], 
    [Project1].[Price_Exchange] AS [Price_Exchange], 
    [Project1].[Trade_Currency] AS [Trade_Currency], 
    [Project1].[Price_Curr] AS [Price_Curr], 
    [Project1].[Currency_Pair_Code] AS [Currency_Pair_Code], 
    [Project1].[Share_Class] AS [Share_Class], 
    [Project1].[Current_Market_Price] AS [Current_Market_Price], 
    [Project1].[Index_Type] AS [Index_Type], 
    [Project1].[Clean_Price_Formula] AS [Clean_Price_Formula], 
    [Project1].[Accrued_Income_Price_Formula] AS [Accrued_Income_Price_Formula], 
    [Project1].[Odd_First_Coupon_Date] AS [Odd_First_Coupon_Date], 
    [Project1].[Odd_Last_Coupon_Date] AS [Odd_Last_Coupon_Date], 
    [Project1].[Coupon_Anniversary_Indicator] AS [Coupon_Anniversary_Indicator], 
    [Project1].[Track_EOM_Flag] AS [Track_EOM_Flag], 
    [Project1].[Next_Coupon_Date] AS [Next_Coupon_Date], 
    [Project1].[Previous_Coupon_Date] AS [Previous_Coupon_Date], 
    [Project1].[Payment_Frequency] AS [Payment_Frequency], 
    [Project1].[Coupon_BusDay_Adjustment] AS [Coupon_BusDay_Adjustment], 
    [Project1].[Next_Ex_Div_Date] AS [Next_Ex_Div_Date], 
    [Project1].[Ex_Div_BusDay_Adjustment] AS [Ex_Div_BusDay_Adjustment], 
    [Project1].[Ex_Div_Period] AS [Ex_Div_Period], 
    [Project1].[Ticker] AS [Ticker], 
    [Project1].[Inet_ID] AS [Inet_ID], 
    [Project1].[Bloomberg_ID] AS [Bloomberg_ID], 
    [Project1].[External_Sec_ID] AS [External_Sec_ID], 
    [Project1].[Reuters_ID] AS [Reuters_ID], 
    [Project1].[ISIN] AS [ISIN], 
    [Project1].[Call_Account_Flag] AS [Call_Account_Flag], 
    [Project1].[System_Locked] AS [System_Locked], 
    [Project1].[Last_Update_User1] AS [Last_Update_User1], 
    [Project1].[Last_Update_Date1] AS [Last_Update_Date1], 
    [Project1].[Security_Status] AS [Security_Status], 
    [Project1].[Benchmark_Portfolio] AS [Benchmark_Portfolio], 
    [Project1].[Active_flag] AS [Active_flag], 
    [Project1].[Dividend_FX_Security_ID] AS [Dividend_FX_Security_ID]
    FROM ( SELECT 
        [Extent1].[Security_ID] AS [Security_ID], 
        [Extent1].[Portfolio_Code] AS [Portfolio_Code], 
        [Extent1].[Entity_ID] AS [Entity_ID], 
        [Extent1].[ModDietz_Performance_Quarterly] AS [ModDietz_Performance_Quarterly], 
        [Extent1].[ModDietz_Performance_Monthly] AS [ModDietz_Performance_Monthly], 
        [Extent1].[ModDietz_Performance_MonthToDate] AS [ModDietz_Performance_MonthToDate], 
        [Extent1].[Dietz_Performance_Quarterly] AS [Dietz_Performance_Quarterly], 
        [Extent1].[Dietz_Performance_Monthly] AS [Dietz_Performance_Monthly], 
        [Extent1].[Dietz_Performance_MonthToDate] AS [Dietz_Performance_MonthToDate], 
        [Extent1].[Last_Update_Date] AS [Last_Update_Date], 
        [Extent1].[Last_Update_User] AS [Last_Update_User], 
        [Extent1].[Record_Date] AS [Record_Date], 
        [Extent1].[Session_ID] AS [Session_ID], 
        [Extent1].[Hist_Last_Update_Date] AS [Hist_Last_Update_Date], 
        [Extent1].[Hist_Last_Update_User] AS [Hist_Last_Update_User], 
        [Extent2].[Security_ID] AS [Security_ID1], 
        [Extent2].[Entity_ID] AS [Entity_ID1], 
        [Extent2].[Security_Name] AS [Security_Name], 
        [Extent2].[Short_Name] AS [Short_Name], 
        [Extent2].[Primary_Exch] AS [Primary_Exch], 
        [Extent2].[Secondary_Exch] AS [Secondary_Exch], 
        [Extent2].[Country_Of_Domicile] AS [Country_Of_Domicile], 
        [Extent2].[Country_Of_Risk] AS [Country_Of_Risk], 
        [Extent2].[Security_Type_Code] AS [Security_Type_Code], 
        [Extent2].[Price_Multiplier] AS [Price_Multiplier], 
        [Extent2].[Income_Frequency] AS [Income_Frequency], 
        [Extent2].[Issuer_Code] AS [Issuer_Code], 
        [Extent2].[Ultimate_Issuer_Code] AS [Ultimate_Issuer_Code], 
        [Extent2].[Asset_Currency] AS [Asset_Currency], 
        [Extent2].[Min_Lot_Size] AS [Min_Lot_Size], 
        [Extent2].[Decimal_Precision] AS [Decimal_Precision], 
        [Extent2].[AvePrice_Rounding] AS [AvePrice_Rounding], 
        [Extent2].[Issue_Date] AS [Issue_Date], 
        [Extent2].[Maturity_Date] AS [Maturity_Date], 
        [Extent2].[Coupon_Rate] AS [Coupon_Rate], 
        [Extent2].[Price_Exchange] AS [Price_Exchange], 
        [Extent2].[Trade_Currency] AS [Trade_Currency], 
        [Extent2].[Price_Curr] AS [Price_Curr], 
        [Extent2].[Currency_Pair_Code] AS [Currency_Pair_Code], 
        [Extent2].[Share_Class] AS [Share_Class], 
        [Extent2].[Current_Market_Price] AS [Current_Market_Price], 
        [Extent2].[Index_Type] AS [Index_Type], 
        [Extent2].[Clean_Price_Formula] AS [Clean_Price_Formula], 
        [Extent2].[Accrued_Income_Price_Formula] AS [Accrued_Income_Price_Formula], 
        [Extent2].[Odd_First_Coupon_Date] AS [Odd_First_Coupon_Date], 
        [Extent2].[Odd_Last_Coupon_Date] AS [Odd_Last_Coupon_Date], 
        [Extent2].[Coupon_Anniversary_Indicator] AS [Coupon_Anniversary_Indicator], 
        [Extent2].[Track_EOM_Flag] AS [Track_EOM_Flag], 
        [Extent2].[Next_Coupon_Date] AS [Next_Coupon_Date], 
        [Extent2].[Previous_Coupon_Date] AS [Previous_Coupon_Date], 
        [Extent2].[Payment_Frequency] AS [Payment_Frequency], 
        [Extent2].[Coupon_BusDay_Adjustment] AS [Coupon_BusDay_Adjustment], 
        [Extent2].[Next_Ex_Div_Date] AS [Next_Ex_Div_Date], 
        [Extent2].[Ex_Div_BusDay_Adjustment] AS [Ex_Div_BusDay_Adjustment], 
        [Extent2].[Ex_Div_Period] AS [Ex_Div_Period], 
        [Extent2].[Ticker] AS [Ticker], 
        [Extent2].[Inet_ID] AS [Inet_ID], 
        [Extent2].[Bloomberg_ID] AS [Bloomberg_ID], 
        [Extent2].[External_Sec_ID] AS [External_Sec_ID], 
        [Extent2].[Reuters_ID] AS [Reuters_ID], 
        [Extent2].[ISIN] AS [ISIN], 
        [Extent2].[Call_Account_Flag] AS [Call_Account_Flag], 
        [Extent2].[System_Locked] AS [System_Locked], 
        [Extent2].[Last_Update_User] AS [Last_Update_User1], 
        [Extent2].[Last_Update_Date] AS [Last_Update_Date1], 
        [Extent2].[Security_Status] AS [Security_Status], 
        [Extent2].[Benchmark_Portfolio] AS [Benchmark_Portfolio], 
        [Extent2].[Active_flag] AS [Active_flag], 
        [Extent2].[Dividend_FX_Security_ID] AS [Dividend_FX_Security_ID]
        FROM  [dbo].[Security_Performance_History] AS [Extent1]
        INNER JOIN [dbo].[Security_Detail] AS [Extent2] ON [Extent1].[Security_ID] = [Extent2].[Security_ID]
        WHERE ([Extent1].[Security_ID] = @p__linq__0) AND ([Extent1].[Portfolio_Code] = @p__linq__1)
    )  AS [Project1]
    ORDER BY [Project1].[Record_Date] DESC
2018-04-07 12:42:50.7151|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: IF db_id(N'MetopeAzureDb') IS NOT NULL SELECT 1 ELSE SELECT Count(*) FROM sys.databases WHERE [name]=N'MetopeAzureDb'
2018-04-07 12:42:50.8322|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: IF db_id(N'MetopeAzureDb') IS NOT NULL SELECT 1 ELSE SELECT Count(*) FROM sys.databases WHERE [name]=N'MetopeAzureDb'
2018-04-07 12:42:50.9262|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: IF db_id(N'MetopeAzureDb') IS NOT NULL SELECT 1 ELSE SELECT Count(*) FROM sys.databases WHERE [name]=N'MetopeAzureDb'
2018-04-07 12:42:50.9603|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: IF db_id(N'MetopeAzureDb') IS NOT NULL SELECT 1 ELSE SELECT Count(*) FROM sys.databases WHERE [name]=N'MetopeAzureDb'
2018-04-07 12:42:52.2299|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: SELECT 
    [Extent1].[Security_ID] AS [Security_ID], 
    [Extent1].[Portfolio_Code] AS [Portfolio_Code], 
    [Extent1].[Entity_ID] AS [Entity_ID], 
    [Extent1].[ModDietz_Performance_Quarterly] AS [ModDietz_Performance_Quarterly], 
    [Extent1].[ModDietz_Performance_Monthly] AS [ModDietz_Performance_Monthly], 
    [Extent1].[ModDietz_Performance_MonthToDate] AS [ModDietz_Performance_MonthToDate], 
    [Extent1].[Dietz_Performance_Quarterly] AS [Dietz_Performance_Quarterly], 
    [Extent1].[Dietz_Performance_Monthly] AS [Dietz_Performance_Monthly], 
    [Extent1].[Dietz_Performance_MonthToDate] AS [Dietz_Performance_MonthToDate], 
    [Extent1].[Last_Update_Date] AS [Last_Update_Date], 
    [Extent1].[Last_Update_User] AS [Last_Update_User], 
    [Extent1].[Record_Date] AS [Record_Date], 
    [Extent1].[Session_ID] AS [Session_ID], 
    [Extent1].[Hist_Last_Update_Date] AS [Hist_Last_Update_Date], 
    [Extent1].[Hist_Last_Update_User] AS [Hist_Last_Update_User]
    FROM [dbo].[Security_Performance_History] AS [Extent1]
    WHERE ([Extent1].[Security_ID] = @p__linq__0) AND ([Extent1].[Portfolio_Code] = @p__linq__1) AND ([Extent1].[Record_Date] = @p__linq__2) AND ([Extent1].[Entity_ID] = @p__linq__3)
2018-04-07 12:42:52.2570|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: SELECT 
    [Extent1].[Security_ID] AS [Security_ID], 
    [Extent1].[Portfolio_Code] AS [Portfolio_Code], 
    [Extent1].[Entity_ID] AS [Entity_ID], 
    [Extent1].[ModDietz_Performance_Quarterly] AS [ModDietz_Performance_Quarterly], 
    [Extent1].[ModDietz_Performance_Monthly] AS [ModDietz_Performance_Monthly], 
    [Extent1].[ModDietz_Performance_MonthToDate] AS [ModDietz_Performance_MonthToDate], 
    [Extent1].[Dietz_Performance_Quarterly] AS [Dietz_Performance_Quarterly], 
    [Extent1].[Dietz_Performance_Monthly] AS [Dietz_Performance_Monthly], 
    [Extent1].[Dietz_Performance_MonthToDate] AS [Dietz_Performance_MonthToDate], 
    [Extent1].[Last_Update_Date] AS [Last_Update_Date], 
    [Extent1].[Last_Update_User] AS [Last_Update_User], 
    [Extent1].[Record_Date] AS [Record_Date], 
    [Extent1].[Session_ID] AS [Session_ID], 
    [Extent1].[Hist_Last_Update_Date] AS [Hist_Last_Update_Date], 
    [Extent1].[Hist_Last_Update_User] AS [Hist_Last_Update_User]
    FROM [dbo].[Security_Performance_History] AS [Extent1]
    WHERE ([Extent1].[Security_ID] = @p__linq__0) AND ([Extent1].[Portfolio_Code] = @p__linq__1) AND ([Extent1].[Record_Date] = @p__linq__2) AND ([Extent1].[Entity_ID] = @p__linq__3)
2018-04-07 12:43:36.8940|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: SELECT 
    [Project1].[Decimal_Precision] AS [Decimal_Precision], 
    [Project1].[Security_ID] AS [Security_ID], 
    [Project1].[Portfolio_Code] AS [Portfolio_Code], 
    [Project1].[Entity_ID] AS [Entity_ID], 
    [Project1].[ModDietz_Performance_Quarterly] AS [ModDietz_Performance_Quarterly], 
    [Project1].[ModDietz_Performance_Monthly] AS [ModDietz_Performance_Monthly], 
    [Project1].[ModDietz_Performance_MonthToDate] AS [ModDietz_Performance_MonthToDate], 
    [Project1].[Dietz_Performance_Quarterly] AS [Dietz_Performance_Quarterly], 
    [Project1].[Dietz_Performance_Monthly] AS [Dietz_Performance_Monthly], 
    [Project1].[Dietz_Performance_MonthToDate] AS [Dietz_Performance_MonthToDate], 
    [Project1].[Last_Update_Date] AS [Last_Update_Date], 
    [Project1].[Last_Update_User] AS [Last_Update_User], 
    [Project1].[Record_Date] AS [Record_Date], 
    [Project1].[Session_ID] AS [Session_ID], 
    [Project1].[Hist_Last_Update_Date] AS [Hist_Last_Update_Date], 
    [Project1].[Hist_Last_Update_User] AS [Hist_Last_Update_User], 
    [Project1].[Security_ID1] AS [Security_ID1], 
    [Project1].[Entity_ID1] AS [Entity_ID1], 
    [Project1].[Security_Name] AS [Security_Name], 
    [Project1].[Short_Name] AS [Short_Name], 
    [Project1].[Primary_Exch] AS [Primary_Exch], 
    [Project1].[Secondary_Exch] AS [Secondary_Exch], 
    [Project1].[Country_Of_Domicile] AS [Country_Of_Domicile], 
    [Project1].[Country_Of_Risk] AS [Country_Of_Risk], 
    [Project1].[Security_Type_Code] AS [Security_Type_Code], 
    [Project1].[Price_Multiplier] AS [Price_Multiplier], 
    [Project1].[Income_Frequency] AS [Income_Frequency], 
    [Project1].[Issuer_Code] AS [Issuer_Code], 
    [Project1].[Ultimate_Issuer_Code] AS [Ultimate_Issuer_Code], 
    [Project1].[Asset_Currency] AS [Asset_Currency], 
    [Project1].[Min_Lot_Size] AS [Min_Lot_Size], 
    [Project1].[AvePrice_Rounding] AS [AvePrice_Rounding], 
    [Project1].[Issue_Date] AS [Issue_Date], 
    [Project1].[Maturity_Date] AS [Maturity_Date], 
    [Project1].[Coupon_Rate] AS [Coupon_Rate], 
    [Project1].[Price_Exchange] AS [Price_Exchange], 
    [Project1].[Trade_Currency] AS [Trade_Currency], 
    [Project1].[Price_Curr] AS [Price_Curr], 
    [Project1].[Currency_Pair_Code] AS [Currency_Pair_Code], 
    [Project1].[Share_Class] AS [Share_Class], 
    [Project1].[Current_Market_Price] AS [Current_Market_Price], 
    [Project1].[Index_Type] AS [Index_Type], 
    [Project1].[Clean_Price_Formula] AS [Clean_Price_Formula], 
    [Project1].[Accrued_Income_Price_Formula] AS [Accrued_Income_Price_Formula], 
    [Project1].[Odd_First_Coupon_Date] AS [Odd_First_Coupon_Date], 
    [Project1].[Odd_Last_Coupon_Date] AS [Odd_Last_Coupon_Date], 
    [Project1].[Coupon_Anniversary_Indicator] AS [Coupon_Anniversary_Indicator], 
    [Project1].[Track_EOM_Flag] AS [Track_EOM_Flag], 
    [Project1].[Next_Coupon_Date] AS [Next_Coupon_Date], 
    [Project1].[Previous_Coupon_Date] AS [Previous_Coupon_Date], 
    [Project1].[Payment_Frequency] AS [Payment_Frequency], 
    [Project1].[Coupon_BusDay_Adjustment] AS [Coupon_BusDay_Adjustment], 
    [Project1].[Next_Ex_Div_Date] AS [Next_Ex_Div_Date], 
    [Project1].[Ex_Div_BusDay_Adjustment] AS [Ex_Div_BusDay_Adjustment], 
    [Project1].[Ex_Div_Period] AS [Ex_Div_Period], 
    [Project1].[Ticker] AS [Ticker], 
    [Project1].[Inet_ID] AS [Inet_ID], 
    [Project1].[Bloomberg_ID] AS [Bloomberg_ID], 
    [Project1].[External_Sec_ID] AS [External_Sec_ID], 
    [Project1].[Reuters_ID] AS [Reuters_ID], 
    [Project1].[ISIN] AS [ISIN], 
    [Project1].[Call_Account_Flag] AS [Call_Account_Flag], 
    [Project1].[System_Locked] AS [System_Locked], 
    [Project1].[Last_Update_User1] AS [Last_Update_User1], 
    [Project1].[Last_Update_Date1] AS [Last_Update_Date1], 
    [Project1].[Security_Status] AS [Security_Status], 
    [Project1].[Benchmark_Portfolio] AS [Benchmark_Portfolio], 
    [Project1].[Active_flag] AS [Active_flag], 
    [Project1].[Dividend_FX_Security_ID] AS [Dividend_FX_Security_ID]
    FROM ( SELECT 
        [Extent1].[Security_ID] AS [Security_ID], 
        [Extent1].[Portfolio_Code] AS [Portfolio_Code], 
        [Extent1].[Entity_ID] AS [Entity_ID], 
        [Extent1].[ModDietz_Performance_Quarterly] AS [ModDietz_Performance_Quarterly], 
        [Extent1].[ModDietz_Performance_Monthly] AS [ModDietz_Performance_Monthly], 
        [Extent1].[ModDietz_Performance_MonthToDate] AS [ModDietz_Performance_MonthToDate], 
        [Extent1].[Dietz_Performance_Quarterly] AS [Dietz_Performance_Quarterly], 
        [Extent1].[Dietz_Performance_Monthly] AS [Dietz_Performance_Monthly], 
        [Extent1].[Dietz_Performance_MonthToDate] AS [Dietz_Performance_MonthToDate], 
        [Extent1].[Last_Update_Date] AS [Last_Update_Date], 
        [Extent1].[Last_Update_User] AS [Last_Update_User], 
        [Extent1].[Record_Date] AS [Record_Date], 
        [Extent1].[Session_ID] AS [Session_ID], 
        [Extent1].[Hist_Last_Update_Date] AS [Hist_Last_Update_Date], 
        [Extent1].[Hist_Last_Update_User] AS [Hist_Last_Update_User], 
        [Extent2].[Security_ID] AS [Security_ID1], 
        [Extent2].[Entity_ID] AS [Entity_ID1], 
        [Extent2].[Security_Name] AS [Security_Name], 
        [Extent2].[Short_Name] AS [Short_Name], 
        [Extent2].[Primary_Exch] AS [Primary_Exch], 
        [Extent2].[Secondary_Exch] AS [Secondary_Exch], 
        [Extent2].[Country_Of_Domicile] AS [Country_Of_Domicile], 
        [Extent2].[Country_Of_Risk] AS [Country_Of_Risk], 
        [Extent2].[Security_Type_Code] AS [Security_Type_Code], 
        [Extent2].[Price_Multiplier] AS [Price_Multiplier], 
        [Extent2].[Income_Frequency] AS [Income_Frequency], 
        [Extent2].[Issuer_Code] AS [Issuer_Code], 
        [Extent2].[Ultimate_Issuer_Code] AS [Ultimate_Issuer_Code], 
        [Extent2].[Asset_Currency] AS [Asset_Currency], 
        [Extent2].[Min_Lot_Size] AS [Min_Lot_Size], 
        [Extent2].[Decimal_Precision] AS [Decimal_Precision], 
        [Extent2].[AvePrice_Rounding] AS [AvePrice_Rounding], 
        [Extent2].[Issue_Date] AS [Issue_Date], 
        [Extent2].[Maturity_Date] AS [Maturity_Date], 
        [Extent2].[Coupon_Rate] AS [Coupon_Rate], 
        [Extent2].[Price_Exchange] AS [Price_Exchange], 
        [Extent2].[Trade_Currency] AS [Trade_Currency], 
        [Extent2].[Price_Curr] AS [Price_Curr], 
        [Extent2].[Currency_Pair_Code] AS [Currency_Pair_Code], 
        [Extent2].[Share_Class] AS [Share_Class], 
        [Extent2].[Current_Market_Price] AS [Current_Market_Price], 
        [Extent2].[Index_Type] AS [Index_Type], 
        [Extent2].[Clean_Price_Formula] AS [Clean_Price_Formula], 
        [Extent2].[Accrued_Income_Price_Formula] AS [Accrued_Income_Price_Formula], 
        [Extent2].[Odd_First_Coupon_Date] AS [Odd_First_Coupon_Date], 
        [Extent2].[Odd_Last_Coupon_Date] AS [Odd_Last_Coupon_Date], 
        [Extent2].[Coupon_Anniversary_Indicator] AS [Coupon_Anniversary_Indicator], 
        [Extent2].[Track_EOM_Flag] AS [Track_EOM_Flag], 
        [Extent2].[Next_Coupon_Date] AS [Next_Coupon_Date], 
        [Extent2].[Previous_Coupon_Date] AS [Previous_Coupon_Date], 
        [Extent2].[Payment_Frequency] AS [Payment_Frequency], 
        [Extent2].[Coupon_BusDay_Adjustment] AS [Coupon_BusDay_Adjustment], 
        [Extent2].[Next_Ex_Div_Date] AS [Next_Ex_Div_Date], 
        [Extent2].[Ex_Div_BusDay_Adjustment] AS [Ex_Div_BusDay_Adjustment], 
        [Extent2].[Ex_Div_Period] AS [Ex_Div_Period], 
        [Extent2].[Ticker] AS [Ticker], 
        [Extent2].[Inet_ID] AS [Inet_ID], 
        [Extent2].[Bloomberg_ID] AS [Bloomberg_ID], 
        [Extent2].[External_Sec_ID] AS [External_Sec_ID], 
        [Extent2].[Reuters_ID] AS [Reuters_ID], 
        [Extent2].[ISIN] AS [ISIN], 
        [Extent2].[Call_Account_Flag] AS [Call_Account_Flag], 
        [Extent2].[System_Locked] AS [System_Locked], 
        [Extent2].[Last_Update_User] AS [Last_Update_User1], 
        [Extent2].[Last_Update_Date] AS [Last_Update_Date1], 
        [Extent2].[Security_Status] AS [Security_Status], 
        [Extent2].[Benchmark_Portfolio] AS [Benchmark_Portfolio], 
        [Extent2].[Active_flag] AS [Active_flag], 
        [Extent2].[Dividend_FX_Security_ID] AS [Dividend_FX_Security_ID]
        FROM  [dbo].[Security_Performance_History] AS [Extent1]
        INNER JOIN [dbo].[Security_Detail] AS [Extent2] ON [Extent1].[Security_ID] = [Extent2].[Security_ID]
        WHERE ([Extent1].[Security_ID] = @p__linq__0) AND ([Extent1].[Portfolio_Code] = @p__linq__1)
    )  AS [Project1]
    ORDER BY [Project1].[Record_Date] DESC
2018-04-07 12:43:36.9461|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: SELECT 
    [Project1].[Decimal_Precision] AS [Decimal_Precision], 
    [Project1].[Security_ID] AS [Security_ID], 
    [Project1].[Portfolio_Code] AS [Portfolio_Code], 
    [Project1].[Entity_ID] AS [Entity_ID], 
    [Project1].[ModDietz_Performance_Quarterly] AS [ModDietz_Performance_Quarterly], 
    [Project1].[ModDietz_Performance_Monthly] AS [ModDietz_Performance_Monthly], 
    [Project1].[ModDietz_Performance_MonthToDate] AS [ModDietz_Performance_MonthToDate], 
    [Project1].[Dietz_Performance_Quarterly] AS [Dietz_Performance_Quarterly], 
    [Project1].[Dietz_Performance_Monthly] AS [Dietz_Performance_Monthly], 
    [Project1].[Dietz_Performance_MonthToDate] AS [Dietz_Performance_MonthToDate], 
    [Project1].[Last_Update_Date] AS [Last_Update_Date], 
    [Project1].[Last_Update_User] AS [Last_Update_User], 
    [Project1].[Record_Date] AS [Record_Date], 
    [Project1].[Session_ID] AS [Session_ID], 
    [Project1].[Hist_Last_Update_Date] AS [Hist_Last_Update_Date], 
    [Project1].[Hist_Last_Update_User] AS [Hist_Last_Update_User], 
    [Project1].[Security_ID1] AS [Security_ID1], 
    [Project1].[Entity_ID1] AS [Entity_ID1], 
    [Project1].[Security_Name] AS [Security_Name], 
    [Project1].[Short_Name] AS [Short_Name], 
    [Project1].[Primary_Exch] AS [Primary_Exch], 
    [Project1].[Secondary_Exch] AS [Secondary_Exch], 
    [Project1].[Country_Of_Domicile] AS [Country_Of_Domicile], 
    [Project1].[Country_Of_Risk] AS [Country_Of_Risk], 
    [Project1].[Security_Type_Code] AS [Security_Type_Code], 
    [Project1].[Price_Multiplier] AS [Price_Multiplier], 
    [Project1].[Income_Frequency] AS [Income_Frequency], 
    [Project1].[Issuer_Code] AS [Issuer_Code], 
    [Project1].[Ultimate_Issuer_Code] AS [Ultimate_Issuer_Code], 
    [Project1].[Asset_Currency] AS [Asset_Currency], 
    [Project1].[Min_Lot_Size] AS [Min_Lot_Size], 
    [Project1].[AvePrice_Rounding] AS [AvePrice_Rounding], 
    [Project1].[Issue_Date] AS [Issue_Date], 
    [Project1].[Maturity_Date] AS [Maturity_Date], 
    [Project1].[Coupon_Rate] AS [Coupon_Rate], 
    [Project1].[Price_Exchange] AS [Price_Exchange], 
    [Project1].[Trade_Currency] AS [Trade_Currency], 
    [Project1].[Price_Curr] AS [Price_Curr], 
    [Project1].[Currency_Pair_Code] AS [Currency_Pair_Code], 
    [Project1].[Share_Class] AS [Share_Class], 
    [Project1].[Current_Market_Price] AS [Current_Market_Price], 
    [Project1].[Index_Type] AS [Index_Type], 
    [Project1].[Clean_Price_Formula] AS [Clean_Price_Formula], 
    [Project1].[Accrued_Income_Price_Formula] AS [Accrued_Income_Price_Formula], 
    [Project1].[Odd_First_Coupon_Date] AS [Odd_First_Coupon_Date], 
    [Project1].[Odd_Last_Coupon_Date] AS [Odd_Last_Coupon_Date], 
    [Project1].[Coupon_Anniversary_Indicator] AS [Coupon_Anniversary_Indicator], 
    [Project1].[Track_EOM_Flag] AS [Track_EOM_Flag], 
    [Project1].[Next_Coupon_Date] AS [Next_Coupon_Date], 
    [Project1].[Previous_Coupon_Date] AS [Previous_Coupon_Date], 
    [Project1].[Payment_Frequency] AS [Payment_Frequency], 
    [Project1].[Coupon_BusDay_Adjustment] AS [Coupon_BusDay_Adjustment], 
    [Project1].[Next_Ex_Div_Date] AS [Next_Ex_Div_Date], 
    [Project1].[Ex_Div_BusDay_Adjustment] AS [Ex_Div_BusDay_Adjustment], 
    [Project1].[Ex_Div_Period] AS [Ex_Div_Period], 
    [Project1].[Ticker] AS [Ticker], 
    [Project1].[Inet_ID] AS [Inet_ID], 
    [Project1].[Bloomberg_ID] AS [Bloomberg_ID], 
    [Project1].[External_Sec_ID] AS [External_Sec_ID], 
    [Project1].[Reuters_ID] AS [Reuters_ID], 
    [Project1].[ISIN] AS [ISIN], 
    [Project1].[Call_Account_Flag] AS [Call_Account_Flag], 
    [Project1].[System_Locked] AS [System_Locked], 
    [Project1].[Last_Update_User1] AS [Last_Update_User1], 
    [Project1].[Last_Update_Date1] AS [Last_Update_Date1], 
    [Project1].[Security_Status] AS [Security_Status], 
    [Project1].[Benchmark_Portfolio] AS [Benchmark_Portfolio], 
    [Project1].[Active_flag] AS [Active_flag], 
    [Project1].[Dividend_FX_Security_ID] AS [Dividend_FX_Security_ID]
    FROM ( SELECT 
        [Extent1].[Security_ID] AS [Security_ID], 
        [Extent1].[Portfolio_Code] AS [Portfolio_Code], 
        [Extent1].[Entity_ID] AS [Entity_ID], 
        [Extent1].[ModDietz_Performance_Quarterly] AS [ModDietz_Performance_Quarterly], 
        [Extent1].[ModDietz_Performance_Monthly] AS [ModDietz_Performance_Monthly], 
        [Extent1].[ModDietz_Performance_MonthToDate] AS [ModDietz_Performance_MonthToDate], 
        [Extent1].[Dietz_Performance_Quarterly] AS [Dietz_Performance_Quarterly], 
        [Extent1].[Dietz_Performance_Monthly] AS [Dietz_Performance_Monthly], 
        [Extent1].[Dietz_Performance_MonthToDate] AS [Dietz_Performance_MonthToDate], 
        [Extent1].[Last_Update_Date] AS [Last_Update_Date], 
        [Extent1].[Last_Update_User] AS [Last_Update_User], 
        [Extent1].[Record_Date] AS [Record_Date], 
        [Extent1].[Session_ID] AS [Session_ID], 
        [Extent1].[Hist_Last_Update_Date] AS [Hist_Last_Update_Date], 
        [Extent1].[Hist_Last_Update_User] AS [Hist_Last_Update_User], 
        [Extent2].[Security_ID] AS [Security_ID1], 
        [Extent2].[Entity_ID] AS [Entity_ID1], 
        [Extent2].[Security_Name] AS [Security_Name], 
        [Extent2].[Short_Name] AS [Short_Name], 
        [Extent2].[Primary_Exch] AS [Primary_Exch], 
        [Extent2].[Secondary_Exch] AS [Secondary_Exch], 
        [Extent2].[Country_Of_Domicile] AS [Country_Of_Domicile], 
        [Extent2].[Country_Of_Risk] AS [Country_Of_Risk], 
        [Extent2].[Security_Type_Code] AS [Security_Type_Code], 
        [Extent2].[Price_Multiplier] AS [Price_Multiplier], 
        [Extent2].[Income_Frequency] AS [Income_Frequency], 
        [Extent2].[Issuer_Code] AS [Issuer_Code], 
        [Extent2].[Ultimate_Issuer_Code] AS [Ultimate_Issuer_Code], 
        [Extent2].[Asset_Currency] AS [Asset_Currency], 
        [Extent2].[Min_Lot_Size] AS [Min_Lot_Size], 
        [Extent2].[Decimal_Precision] AS [Decimal_Precision], 
        [Extent2].[AvePrice_Rounding] AS [AvePrice_Rounding], 
        [Extent2].[Issue_Date] AS [Issue_Date], 
        [Extent2].[Maturity_Date] AS [Maturity_Date], 
        [Extent2].[Coupon_Rate] AS [Coupon_Rate], 
        [Extent2].[Price_Exchange] AS [Price_Exchange], 
        [Extent2].[Trade_Currency] AS [Trade_Currency], 
        [Extent2].[Price_Curr] AS [Price_Curr], 
        [Extent2].[Currency_Pair_Code] AS [Currency_Pair_Code], 
        [Extent2].[Share_Class] AS [Share_Class], 
        [Extent2].[Current_Market_Price] AS [Current_Market_Price], 
        [Extent2].[Index_Type] AS [Index_Type], 
        [Extent2].[Clean_Price_Formula] AS [Clean_Price_Formula], 
        [Extent2].[Accrued_Income_Price_Formula] AS [Accrued_Income_Price_Formula], 
        [Extent2].[Odd_First_Coupon_Date] AS [Odd_First_Coupon_Date], 
        [Extent2].[Odd_Last_Coupon_Date] AS [Odd_Last_Coupon_Date], 
        [Extent2].[Coupon_Anniversary_Indicator] AS [Coupon_Anniversary_Indicator], 
        [Extent2].[Track_EOM_Flag] AS [Track_EOM_Flag], 
        [Extent2].[Next_Coupon_Date] AS [Next_Coupon_Date], 
        [Extent2].[Previous_Coupon_Date] AS [Previous_Coupon_Date], 
        [Extent2].[Payment_Frequency] AS [Payment_Frequency], 
        [Extent2].[Coupon_BusDay_Adjustment] AS [Coupon_BusDay_Adjustment], 
        [Extent2].[Next_Ex_Div_Date] AS [Next_Ex_Div_Date], 
        [Extent2].[Ex_Div_BusDay_Adjustment] AS [Ex_Div_BusDay_Adjustment], 
        [Extent2].[Ex_Div_Period] AS [Ex_Div_Period], 
        [Extent2].[Ticker] AS [Ticker], 
        [Extent2].[Inet_ID] AS [Inet_ID], 
        [Extent2].[Bloomberg_ID] AS [Bloomberg_ID], 
        [Extent2].[External_Sec_ID] AS [External_Sec_ID], 
        [Extent2].[Reuters_ID] AS [Reuters_ID], 
        [Extent2].[ISIN] AS [ISIN], 
        [Extent2].[Call_Account_Flag] AS [Call_Account_Flag], 
        [Extent2].[System_Locked] AS [System_Locked], 
        [Extent2].[Last_Update_User] AS [Last_Update_User1], 
        [Extent2].[Last_Update_Date] AS [Last_Update_Date1], 
        [Extent2].[Security_Status] AS [Security_Status], 
        [Extent2].[Benchmark_Portfolio] AS [Benchmark_Portfolio], 
        [Extent2].[Active_flag] AS [Active_flag], 
        [Extent2].[Dividend_FX_Security_ID] AS [Dividend_FX_Security_ID]
        FROM  [dbo].[Security_Performance_History] AS [Extent1]
        INNER JOIN [dbo].[Security_Detail] AS [Extent2] ON [Extent1].[Security_ID] = [Extent2].[Security_ID]
        WHERE ([Extent1].[Security_ID] = @p__linq__0) AND ([Extent1].[Portfolio_Code] = @p__linq__1)
    )  AS [Project1]
    ORDER BY [Project1].[Record_Date] DESC
2018-04-07 12:43:40.5267|ERROR|ASP.MetopeNspace.MvcApplication|Error caught in Application_Error event
, http://localhost:53133/SecurityPerformanceHistory?PortfolioCode=0808&SecurityId=54 
 Error in: Column 'Security_ID' already exist in the grid, 
Stack Trace:   at GridMvc.Columns.GridColumnCollection`1.Add(IGridColumn`1 column)
   at GridMvc.Columns.GridColumnCollection`1.Add[TKey](Expression`1 constraint, Boolean hidden)
   at ASP._Page_Views_SecurityPerformanceHistory_Index_cshtml.<Execute>b__d(IGridColumnCollection`1 columns) in c:\BlueStream\Development\Metope\WebSite\MetopeMVCApp\MetopeMVCApp\Views\SecurityPerformanceHistory\Index.cshtml:line 38
   at GridMvc.Html.GridHtmlOptions`1.Columns(Action`1 columnBuilder)
   at ASP._Page_Views_SecurityPerformanceHistory_Index_cshtml.Execute() in c:\BlueStream\Development\Metope\WebSite\MetopeMVCApp\MetopeMVCApp\Views\SecurityPerformanceHistory\Index.cshtml:line 27
   at System.Web.WebPages.WebPageBase.ExecutePageHierarchy()
   at System.Web.Mvc.WebViewPage.ExecutePageHierarchy()
   at System.Web.WebPages.StartPage.RunPage()
   at System.Web.WebPages.StartPage.ExecutePageHierarchy()
   at System.Web.WebPages.WebPageBase.ExecutePageHierarchy(WebPageContext pageContext, TextWriter writer, WebPageRenderingBase startPage)
   at System.Web.Mvc.RazorView.RenderView(ViewContext viewContext, TextWriter writer, Object instance)
   at System.Web.Mvc.BuildManagerCompiledView.Render(ViewContext viewContext, TextWriter writer)
   at System.Web.Mvc.ViewResultBase.ExecuteResult(ControllerContext context)
   at System.Web.Mvc.ControllerActionInvoker.InvokeActionResult(ControllerContext controllerContext, ActionResult actionResult)
   at System.Web.Mvc.ControllerActionInvoker.InvokeActionResultFilterRecursive(IList`1 filters, Int32 filterIndex, ResultExecutingContext preContext, ControllerContext controllerContext, ActionResult actionResult)
   at System.Web.Mvc.ControllerActionInvoker.InvokeActionResultFilterRecursive(IList`1 filters, Int32 filterIndex, ResultExecutingContext preContext, ControllerContext controllerContext, ActionResult actionResult)
   at System.Web.Mvc.ControllerActionInvoker.InvokeActionResultFilterRecursive(IList`1 filters, Int32 filterIndex, ResultExecutingContext preContext, ControllerContext controllerContext, ActionResult actionResult)
   at System.Web.Mvc.ControllerActionInvoker.InvokeActionResultFilterRecursive(IList`1 filters, Int32 filterIndex, ResultExecutingContext preContext, ControllerContext controllerContext, ActionResult actionResult)
   at System.Web.Mvc.ControllerActionInvoker.InvokeActionResultWithFilters(ControllerContext controllerContext, IList`1 filters, ActionResult actionResult)
   at System.Web.Mvc.Async.AsyncControllerActionInvoker.<>c__DisplayClass21.<>c__DisplayClass2b.<BeginInvokeAction>b__1c()
   at System.Web.Mvc.Async.AsyncControllerActionInvoker.<>c__DisplayClass21.<BeginInvokeAction>b__1e(IAsyncResult asyncResult)
   at System.Web.Mvc.Async.AsyncResultWrapper.WrappedAsyncResult`1.CallEndDelegate(IAsyncResult asyncResult)
   at System.Web.Mvc.Async.AsyncResultWrapper.WrappedAsyncResultBase`1.End()
   at System.Web.Mvc.Async.AsyncControllerActionInvoker.EndInvokeAction(IAsyncResult asyncResult)
   at System.Web.Mvc.Controller.<BeginExecuteCore>b__1d(IAsyncResult asyncResult, ExecuteCoreState innerState)
   at System.Web.Mvc.Async.AsyncResultWrapper.WrappedAsyncVoid`1.CallEndDelegate(IAsyncResult asyncResult)
   at System.Web.Mvc.Async.AsyncResultWrapper.WrappedAsyncResultBase`1.End()
   at System.Web.Mvc.Controller.EndExecuteCore(IAsyncResult asyncResult)
   at System.Web.Mvc.Controller.<BeginExecute>b__15(IAsyncResult asyncResult, Controller controller)
   at System.Web.Mvc.Async.AsyncResultWrapper.WrappedAsyncVoid`1.CallEndDelegate(IAsyncResult asyncResult)
   at System.Web.Mvc.Async.AsyncResultWrapper.WrappedAsyncResultBase`1.End()
   at System.Web.Mvc.Controller.EndExecute(IAsyncResult asyncResult)
   at System.Web.Mvc.Controller.System.Web.Mvc.Async.IAsyncController.EndExecute(IAsyncResult asyncResult)
   at System.Web.Mvc.MvcHandler.<BeginProcessRequest>b__5(IAsyncResult asyncResult, ProcessRequestState innerState)
   at System.Web.Mvc.Async.AsyncResultWrapper.WrappedAsyncVoid`1.CallEndDelegate(IAsyncResult asyncResult)
   at System.Web.Mvc.Async.AsyncResultWrapper.WrappedAsyncResultBase`1.End()
   at System.Web.Mvc.MvcHandler.EndProcessRequest(IAsyncResult asyncResult)
   at System.Web.Mvc.MvcHandler.System.Web.IHttpAsyncHandler.EndProcessRequest(IAsyncResult result)
   at System.Web.HttpApplication.CallHandlerExecutionStep.System.Web.HttpApplication.IExecutionStep.Execute()
   at System.Web.HttpApplication.ExecuteStepImpl(IExecutionStep step)
   at System.Web.HttpApplication.ExecuteStep(IExecutionStep step, Boolean& completedSynchronously)
Session: Identity name:aaaaaa IsAuthenticated:True 
2018-04-07 12:43:40.5902|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: IF db_id(N'MetopeAzureDb') IS NOT NULL SELECT 1 ELSE SELECT Count(*) FROM sys.databases WHERE [name]=N'MetopeAzureDb'
2018-04-07 12:43:40.7133|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: IF db_id(N'MetopeAzureDb') IS NOT NULL SELECT 1 ELSE SELECT Count(*) FROM sys.databases WHERE [name]=N'MetopeAzureDb'
2018-04-07 12:43:40.8399|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: IF db_id(N'MetopeAzureDb') IS NOT NULL SELECT 1 ELSE SELECT Count(*) FROM sys.databases WHERE [name]=N'MetopeAzureDb'
2018-04-07 12:43:40.8799|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: IF db_id(N'MetopeAzureDb') IS NOT NULL SELECT 1 ELSE SELECT Count(*) FROM sys.databases WHERE [name]=N'MetopeAzureDb'
2018-04-07 12:44:47.8815|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: SELECT 
    [Extent1].[Security_ID] AS [Security_ID], 
    [Extent1].[Portfolio_Code] AS [Portfolio_Code], 
    [Extent1].[Entity_ID] AS [Entity_ID], 
    [Extent1].[ModDietz_Performance_Quarterly] AS [ModDietz_Performance_Quarterly], 
    [Extent1].[ModDietz_Performance_Monthly] AS [ModDietz_Performance_Monthly], 
    [Extent1].[ModDietz_Performance_MonthToDate] AS [ModDietz_Performance_MonthToDate], 
    [Extent1].[Dietz_Performance_Quarterly] AS [Dietz_Performance_Quarterly], 
    [Extent1].[Dietz_Performance_Monthly] AS [Dietz_Performance_Monthly], 
    [Extent1].[Dietz_Performance_MonthToDate] AS [Dietz_Performance_MonthToDate], 
    [Extent1].[Last_Update_Date] AS [Last_Update_Date], 
    [Extent1].[Last_Update_User] AS [Last_Update_User], 
    [Extent1].[Record_Date] AS [Record_Date], 
    [Extent1].[Session_ID] AS [Session_ID], 
    [Extent1].[Hist_Last_Update_Date] AS [Hist_Last_Update_Date], 
    [Extent1].[Hist_Last_Update_User] AS [Hist_Last_Update_User]
    FROM [dbo].[Security_Performance_History] AS [Extent1]
    WHERE ([Extent1].[Security_ID] = @p__linq__0) AND ([Extent1].[Portfolio_Code] = @p__linq__1) AND ([Extent1].[Record_Date] = @p__linq__2) AND ([Extent1].[Entity_ID] = @p__linq__3)
2018-04-07 12:44:47.9250|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: SELECT 
    [Extent1].[Security_ID] AS [Security_ID], 
    [Extent1].[Portfolio_Code] AS [Portfolio_Code], 
    [Extent1].[Entity_ID] AS [Entity_ID], 
    [Extent1].[ModDietz_Performance_Quarterly] AS [ModDietz_Performance_Quarterly], 
    [Extent1].[ModDietz_Performance_Monthly] AS [ModDietz_Performance_Monthly], 
    [Extent1].[ModDietz_Performance_MonthToDate] AS [ModDietz_Performance_MonthToDate], 
    [Extent1].[Dietz_Performance_Quarterly] AS [Dietz_Performance_Quarterly], 
    [Extent1].[Dietz_Performance_Monthly] AS [Dietz_Performance_Monthly], 
    [Extent1].[Dietz_Performance_MonthToDate] AS [Dietz_Performance_MonthToDate], 
    [Extent1].[Last_Update_Date] AS [Last_Update_Date], 
    [Extent1].[Last_Update_User] AS [Last_Update_User], 
    [Extent1].[Record_Date] AS [Record_Date], 
    [Extent1].[Session_ID] AS [Session_ID], 
    [Extent1].[Hist_Last_Update_Date] AS [Hist_Last_Update_Date], 
    [Extent1].[Hist_Last_Update_User] AS [Hist_Last_Update_User]
    FROM [dbo].[Security_Performance_History] AS [Extent1]
    WHERE ([Extent1].[Security_ID] = @p__linq__0) AND ([Extent1].[Portfolio_Code] = @p__linq__1) AND ([Extent1].[Record_Date] = @p__linq__2) AND ([Extent1].[Entity_ID] = @p__linq__3)
2018-04-07 12:44:51.2584|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: SELECT 
    [Extent1].[Security_ID] AS [Security_ID], 
    [Extent1].[Entity_ID] AS [Entity_ID], 
    [Extent1].[Security_Name] AS [Security_Name], 
    [Extent1].[Short_Name] AS [Short_Name], 
    [Extent1].[Primary_Exch] AS [Primary_Exch], 
    [Extent1].[Secondary_Exch] AS [Secondary_Exch], 
    [Extent1].[Country_Of_Domicile] AS [Country_Of_Domicile], 
    [Extent1].[Country_Of_Risk] AS [Country_Of_Risk], 
    [Extent1].[Security_Type_Code] AS [Security_Type_Code], 
    [Extent1].[Price_Multiplier] AS [Price_Multiplier], 
    [Extent1].[Income_Frequency] AS [Income_Frequency], 
    [Extent1].[Issuer_Code] AS [Issuer_Code], 
    [Extent1].[Ultimate_Issuer_Code] AS [Ultimate_Issuer_Code], 
    [Extent1].[Asset_Currency] AS [Asset_Currency], 
    [Extent1].[Min_Lot_Size] AS [Min_Lot_Size], 
    [Extent1].[Decimal_Precision] AS [Decimal_Precision], 
    [Extent1].[AvePrice_Rounding] AS [AvePrice_Rounding], 
    [Extent1].[Issue_Date] AS [Issue_Date], 
    [Extent1].[Maturity_Date] AS [Maturity_Date], 
    [Extent1].[Coupon_Rate] AS [Coupon_Rate], 
    [Extent1].[Price_Exchange] AS [Price_Exchange], 
    [Extent1].[Trade_Currency] AS [Trade_Currency], 
    [Extent1].[Price_Curr] AS [Price_Curr], 
    [Extent1].[Currency_Pair_Code] AS [Currency_Pair_Code], 
    [Extent1].[Share_Class] AS [Share_Class], 
    [Extent1].[Current_Market_Price] AS [Current_Market_Price], 
    [Extent1].[Index_Type] AS [Index_Type], 
    [Extent1].[Clean_Price_Formula] AS [Clean_Price_Formula], 
    [Extent1].[Accrued_Income_Price_Formula] AS [Accrued_Income_Price_Formula], 
    [Extent1].[Odd_First_Coupon_Date] AS [Odd_First_Coupon_Date], 
    [Extent1].[Odd_Last_Coupon_Date] AS [Odd_Last_Coupon_Date], 
    [Extent1].[Coupon_Anniversary_Indicator] AS [Coupon_Anniversary_Indicator], 
    [Extent1].[Track_EOM_Flag] AS [Track_EOM_Flag], 
    [Extent1].[Next_Coupon_Date] AS [Next_Coupon_Date], 
    [Extent1].[Previous_Coupon_Date] AS [Previous_Coupon_Date], 
    [Extent1].[Payment_Frequency] AS [Payment_Frequency], 
    [Extent1].[Coupon_BusDay_Adjustment] AS [Coupon_BusDay_Adjustment], 
    [Extent1].[Next_Ex_Div_Date] AS [Next_Ex_Div_Date], 
    [Extent1].[Ex_Div_BusDay_Adjustment] AS [Ex_Div_BusDay_Adjustment], 
    [Extent1].[Ex_Div_Period] AS [Ex_Div_Period], 
    [Extent1].[Ticker] AS [Ticker], 
    [Extent1].[Inet_ID] AS [Inet_ID], 
    [Extent1].[Bloomberg_ID] AS [Bloomberg_ID], 
    [Extent1].[External_Sec_ID] AS [External_Sec_ID], 
    [Extent1].[Reuters_ID] AS [Reuters_ID], 
    [Extent1].[ISIN] AS [ISIN], 
    [Extent1].[Call_Account_Flag] AS [Call_Account_Flag], 
    [Extent1].[System_Locked] AS [System_Locked], 
    [Extent1].[Last_Update_User] AS [Last_Update_User], 
    [Extent1].[Last_Update_Date] AS [Last_Update_Date], 
    [Extent1].[Security_Status] AS [Security_Status], 
    [Extent1].[Benchmark_Portfolio] AS [Benchmark_Portfolio], 
    [Extent1].[Active_flag] AS [Active_flag], 
    [Extent1].[Dividend_FX_Security_ID] AS [Dividend_FX_Security_ID]
    FROM [dbo].[Security_Detail] AS [Extent1]
    WHERE [Extent1].[Security_ID] = @EntityKeyValue1
2018-04-07 12:44:51.2829|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: SELECT 
    [Extent1].[Security_ID] AS [Security_ID], 
    [Extent1].[Entity_ID] AS [Entity_ID], 
    [Extent1].[Security_Name] AS [Security_Name], 
    [Extent1].[Short_Name] AS [Short_Name], 
    [Extent1].[Primary_Exch] AS [Primary_Exch], 
    [Extent1].[Secondary_Exch] AS [Secondary_Exch], 
    [Extent1].[Country_Of_Domicile] AS [Country_Of_Domicile], 
    [Extent1].[Country_Of_Risk] AS [Country_Of_Risk], 
    [Extent1].[Security_Type_Code] AS [Security_Type_Code], 
    [Extent1].[Price_Multiplier] AS [Price_Multiplier], 
    [Extent1].[Income_Frequency] AS [Income_Frequency], 
    [Extent1].[Issuer_Code] AS [Issuer_Code], 
    [Extent1].[Ultimate_Issuer_Code] AS [Ultimate_Issuer_Code], 
    [Extent1].[Asset_Currency] AS [Asset_Currency], 
    [Extent1].[Min_Lot_Size] AS [Min_Lot_Size], 
    [Extent1].[Decimal_Precision] AS [Decimal_Precision], 
    [Extent1].[AvePrice_Rounding] AS [AvePrice_Rounding], 
    [Extent1].[Issue_Date] AS [Issue_Date], 
    [Extent1].[Maturity_Date] AS [Maturity_Date], 
    [Extent1].[Coupon_Rate] AS [Coupon_Rate], 
    [Extent1].[Price_Exchange] AS [Price_Exchange], 
    [Extent1].[Trade_Currency] AS [Trade_Currency], 
    [Extent1].[Price_Curr] AS [Price_Curr], 
    [Extent1].[Currency_Pair_Code] AS [Currency_Pair_Code], 
    [Extent1].[Share_Class] AS [Share_Class], 
    [Extent1].[Current_Market_Price] AS [Current_Market_Price], 
    [Extent1].[Index_Type] AS [Index_Type], 
    [Extent1].[Clean_Price_Formula] AS [Clean_Price_Formula], 
    [Extent1].[Accrued_Income_Price_Formula] AS [Accrued_Income_Price_Formula], 
    [Extent1].[Odd_First_Coupon_Date] AS [Odd_First_Coupon_Date], 
    [Extent1].[Odd_Last_Coupon_Date] AS [Odd_Last_Coupon_Date], 
    [Extent1].[Coupon_Anniversary_Indicator] AS [Coupon_Anniversary_Indicator], 
    [Extent1].[Track_EOM_Flag] AS [Track_EOM_Flag], 
    [Extent1].[Next_Coupon_Date] AS [Next_Coupon_Date], 
    [Extent1].[Previous_Coupon_Date] AS [Previous_Coupon_Date], 
    [Extent1].[Payment_Frequency] AS [Payment_Frequency], 
    [Extent1].[Coupon_BusDay_Adjustment] AS [Coupon_BusDay_Adjustment], 
    [Extent1].[Next_Ex_Div_Date] AS [Next_Ex_Div_Date], 
    [Extent1].[Ex_Div_BusDay_Adjustment] AS [Ex_Div_BusDay_Adjustment], 
    [Extent1].[Ex_Div_Period] AS [Ex_Div_Period], 
    [Extent1].[Ticker] AS [Ticker], 
    [Extent1].[Inet_ID] AS [Inet_ID], 
    [Extent1].[Bloomberg_ID] AS [Bloomberg_ID], 
    [Extent1].[External_Sec_ID] AS [External_Sec_ID], 
    [Extent1].[Reuters_ID] AS [Reuters_ID], 
    [Extent1].[ISIN] AS [ISIN], 
    [Extent1].[Call_Account_Flag] AS [Call_Account_Flag], 
    [Extent1].[System_Locked] AS [System_Locked], 
    [Extent1].[Last_Update_User] AS [Last_Update_User], 
    [Extent1].[Last_Update_Date] AS [Last_Update_Date], 
    [Extent1].[Security_Status] AS [Security_Status], 
    [Extent1].[Benchmark_Portfolio] AS [Benchmark_Portfolio], 
    [Extent1].[Active_flag] AS [Active_flag], 
    [Extent1].[Dividend_FX_Security_ID] AS [Dividend_FX_Security_ID]
    FROM [dbo].[Security_Detail] AS [Extent1]
    WHERE [Extent1].[Security_ID] = @EntityKeyValue1
2018-04-07 12:44:51.3249|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: SELECT 
    [Project1].[Security_ID] AS [Security_ID], 
    [Project1].[Entity_ID] AS [Entity_ID], 
    [Project1].[Security_Name] AS [Security_Name], 
    [Project1].[Short_Name] AS [Short_Name], 
    [Project1].[Primary_Exch] AS [Primary_Exch], 
    [Project1].[Secondary_Exch] AS [Secondary_Exch], 
    [Project1].[Country_Of_Domicile] AS [Country_Of_Domicile], 
    [Project1].[Country_Of_Risk] AS [Country_Of_Risk], 
    [Project1].[Security_Type_Code] AS [Security_Type_Code], 
    [Project1].[Price_Multiplier] AS [Price_Multiplier], 
    [Project1].[Income_Frequency] AS [Income_Frequency], 
    [Project1].[Issuer_Code] AS [Issuer_Code], 
    [Project1].[Ultimate_Issuer_Code] AS [Ultimate_Issuer_Code], 
    [Project1].[Asset_Currency] AS [Asset_Currency], 
    [Project1].[Min_Lot_Size] AS [Min_Lot_Size], 
    [Project1].[Decimal_Precision] AS [Decimal_Precision], 
    [Project1].[AvePrice_Rounding] AS [AvePrice_Rounding], 
    [Project1].[Issue_Date] AS [Issue_Date], 
    [Project1].[Maturity_Date] AS [Maturity_Date], 
    [Project1].[Coupon_Rate] AS [Coupon_Rate], 
    [Project1].[Price_Exchange] AS [Price_Exchange], 
    [Project1].[Trade_Currency] AS [Trade_Currency], 
    [Project1].[Price_Curr] AS [Price_Curr], 
    [Project1].[Currency_Pair_Code] AS [Currency_Pair_Code], 
    [Project1].[Share_Class] AS [Share_Class], 
    [Project1].[Current_Market_Price] AS [Current_Market_Price], 
    [Project1].[Index_Type] AS [Index_Type], 
    [Project1].[Clean_Price_Formula] AS [Clean_Price_Formula], 
    [Project1].[Accrued_Income_Price_Formula] AS [Accrued_Income_Price_Formula], 
    [Project1].[Odd_First_Coupon_Date] AS [Odd_First_Coupon_Date], 
    [Project1].[Odd_Last_Coupon_Date] AS [Odd_Last_Coupon_Date], 
    [Project1].[Coupon_Anniversary_Indicator] AS [Coupon_Anniversary_Indicator], 
    [Project1].[Track_EOM_Flag] AS [Track_EOM_Flag], 
    [Project1].[Next_Coupon_Date] AS [Next_Coupon_Date], 
    [Project1].[Previous_Coupon_Date] AS [Previous_Coupon_Date], 
    [Project1].[Payment_Frequency] AS [Payment_Frequency], 
    [Project1].[Coupon_BusDay_Adjustment] AS [Coupon_BusDay_Adjustment], 
    [Project1].[Next_Ex_Div_Date] AS [Next_Ex_Div_Date], 
    [Project1].[Ex_Div_BusDay_Adjustment] AS [Ex_Div_BusDay_Adjustment], 
    [Project1].[Ex_Div_Period] AS [Ex_Div_Period], 
    [Project1].[Ticker] AS [Ticker], 
    [Project1].[Inet_ID] AS [Inet_ID], 
    [Project1].[Bloomberg_ID] AS [Bloomberg_ID], 
    [Project1].[External_Sec_ID] AS [External_Sec_ID], 
    [Project1].[Reuters_ID] AS [Reuters_ID], 
    [Project1].[ISIN] AS [ISIN], 
    [Project1].[Call_Account_Flag] AS [Call_Account_Flag], 
    [Project1].[System_Locked] AS [System_Locked], 
    [Project1].[Last_Update_User] AS [Last_Update_User], 
    [Project1].[Last_Update_Date] AS [Last_Update_Date], 
    [Project1].[Security_Status] AS [Security_Status], 
    [Project1].[Benchmark_Portfolio] AS [Benchmark_Portfolio], 
    [Project1].[Active_flag] AS [Active_flag], 
    [Project1].[Dividend_FX_Security_ID] AS [Dividend_FX_Security_ID]
    FROM ( SELECT 
        [Extent1].[Security_ID] AS [Security_ID], 
        [Extent1].[Entity_ID] AS [Entity_ID], 
        [Extent1].[Security_Name] AS [Security_Name], 
        [Extent1].[Short_Name] AS [Short_Name], 
        [Extent1].[Primary_Exch] AS [Primary_Exch], 
        [Extent1].[Secondary_Exch] AS [Secondary_Exch], 
        [Extent1].[Country_Of_Domicile] AS [Country_Of_Domicile], 
        [Extent1].[Country_Of_Risk] AS [Country_Of_Risk], 
        [Extent1].[Security_Type_Code] AS [Security_Type_Code], 
        [Extent1].[Price_Multiplier] AS [Price_Multiplier], 
        [Extent1].[Income_Frequency] AS [Income_Frequency], 
        [Extent1].[Issuer_Code] AS [Issuer_Code], 
        [Extent1].[Ultimate_Issuer_Code] AS [Ultimate_Issuer_Code], 
        [Extent1].[Asset_Currency] AS [Asset_Currency], 
        [Extent1].[Min_Lot_Size] AS [Min_Lot_Size], 
        [Extent1].[Decimal_Precision] AS [Decimal_Precision], 
        [Extent1].[AvePrice_Rounding] AS [AvePrice_Rounding], 
        [Extent1].[Issue_Date] AS [Issue_Date], 
        [Extent1].[Maturity_Date] AS [Maturity_Date], 
        [Extent1].[Coupon_Rate] AS [Coupon_Rate], 
        [Extent1].[Price_Exchange] AS [Price_Exchange], 
        [Extent1].[Trade_Currency] AS [Trade_Currency], 
        [Extent1].[Price_Curr] AS [Price_Curr], 
        [Extent1].[Currency_Pair_Code] AS [Currency_Pair_Code], 
        [Extent1].[Share_Class] AS [Share_Class], 
        [Extent1].[Current_Market_Price] AS [Current_Market_Price], 
        [Extent1].[Index_Type] AS [Index_Type], 
        [Extent1].[Clean_Price_Formula] AS [Clean_Price_Formula], 
        [Extent1].[Accrued_Income_Price_Formula] AS [Accrued_Income_Price_Formula], 
        [Extent1].[Odd_First_Coupon_Date] AS [Odd_First_Coupon_Date], 
        [Extent1].[Odd_Last_Coupon_Date] AS [Odd_Last_Coupon_Date], 
        [Extent1].[Coupon_Anniversary_Indicator] AS [Coupon_Anniversary_Indicator], 
        [Extent1].[Track_EOM_Flag] AS [Track_EOM_Flag], 
        [Extent1].[Next_Coupon_Date] AS [Next_Coupon_Date], 
        [Extent1].[Previous_Coupon_Date] AS [Previous_Coupon_Date], 
        [Extent1].[Payment_Frequency] AS [Payment_Frequency], 
        [Extent1].[Coupon_BusDay_Adjustment] AS [Coupon_BusDay_Adjustment], 
        [Extent1].[Next_Ex_Div_Date] AS [Next_Ex_Div_Date], 
        [Extent1].[Ex_Div_BusDay_Adjustment] AS [Ex_Div_BusDay_Adjustment], 
        [Extent1].[Ex_Div_Period] AS [Ex_Div_Period], 
        [Extent1].[Ticker] AS [Ticker], 
        [Extent1].[Inet_ID] AS [Inet_ID], 
        [Extent1].[Bloomberg_ID] AS [Bloomberg_ID], 
        [Extent1].[External_Sec_ID] AS [External_Sec_ID], 
        [Extent1].[Reuters_ID] AS [Reuters_ID], 
        [Extent1].[ISIN] AS [ISIN], 
        [Extent1].[Call_Account_Flag] AS [Call_Account_Flag], 
        [Extent1].[System_Locked] AS [System_Locked], 
        [Extent1].[Last_Update_User] AS [Last_Update_User], 
        [Extent1].[Last_Update_Date] AS [Last_Update_Date], 
        [Extent1].[Security_Status] AS [Security_Status], 
        [Extent1].[Benchmark_Portfolio] AS [Benchmark_Portfolio], 
        [Extent1].[Active_flag] AS [Active_flag], 
        [Extent1].[Dividend_FX_Security_ID] AS [Dividend_FX_Security_ID]
        FROM [dbo].[Security_Detail] AS [Extent1]
        WHERE ([Extent1].[Entity_ID] IN (@p__linq__0,@p__linq__1)) AND ((CASE WHEN ( NOT ((N'' = @p__linq__2) AND (@p__linq__2 IS NOT NULL))) THEN CASE WHEN ([Extent1].[Security_Type_Code] = @p__linq__3) THEN cast(1 as bit) WHEN ( NOT (([Extent1].[Security_Type_Code] = @p__linq__3) AND (0 = (CASE WHEN (@p__linq__3 IS NULL) THEN cast(1 as bit) ELSE cast(0 as bit) END)))) THEN cast(0 as bit) END WHEN ('' <> [Extent1].[Security_Type_Code]) THEN cast(1 as bit) WHEN ('' = [Extent1].[Security_Type_Code]) THEN cast(0 as bit) END) = 1)
    )  AS [Project1]
    ORDER BY [Project1].[Security_Name] ASC
2018-04-07 12:44:51.3615|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: SELECT 
    [Project1].[Security_ID] AS [Security_ID], 
    [Project1].[Entity_ID] AS [Entity_ID], 
    [Project1].[Security_Name] AS [Security_Name], 
    [Project1].[Short_Name] AS [Short_Name], 
    [Project1].[Primary_Exch] AS [Primary_Exch], 
    [Project1].[Secondary_Exch] AS [Secondary_Exch], 
    [Project1].[Country_Of_Domicile] AS [Country_Of_Domicile], 
    [Project1].[Country_Of_Risk] AS [Country_Of_Risk], 
    [Project1].[Security_Type_Code] AS [Security_Type_Code], 
    [Project1].[Price_Multiplier] AS [Price_Multiplier], 
    [Project1].[Income_Frequency] AS [Income_Frequency], 
    [Project1].[Issuer_Code] AS [Issuer_Code], 
    [Project1].[Ultimate_Issuer_Code] AS [Ultimate_Issuer_Code], 
    [Project1].[Asset_Currency] AS [Asset_Currency], 
    [Project1].[Min_Lot_Size] AS [Min_Lot_Size], 
    [Project1].[Decimal_Precision] AS [Decimal_Precision], 
    [Project1].[AvePrice_Rounding] AS [AvePrice_Rounding], 
    [Project1].[Issue_Date] AS [Issue_Date], 
    [Project1].[Maturity_Date] AS [Maturity_Date], 
    [Project1].[Coupon_Rate] AS [Coupon_Rate], 
    [Project1].[Price_Exchange] AS [Price_Exchange], 
    [Project1].[Trade_Currency] AS [Trade_Currency], 
    [Project1].[Price_Curr] AS [Price_Curr], 
    [Project1].[Currency_Pair_Code] AS [Currency_Pair_Code], 
    [Project1].[Share_Class] AS [Share_Class], 
    [Project1].[Current_Market_Price] AS [Current_Market_Price], 
    [Project1].[Index_Type] AS [Index_Type], 
    [Project1].[Clean_Price_Formula] AS [Clean_Price_Formula], 
    [Project1].[Accrued_Income_Price_Formula] AS [Accrued_Income_Price_Formula], 
    [Project1].[Odd_First_Coupon_Date] AS [Odd_First_Coupon_Date], 
    [Project1].[Odd_Last_Coupon_Date] AS [Odd_Last_Coupon_Date], 
    [Project1].[Coupon_Anniversary_Indicator] AS [Coupon_Anniversary_Indicator], 
    [Project1].[Track_EOM_Flag] AS [Track_EOM_Flag], 
    [Project1].[Next_Coupon_Date] AS [Next_Coupon_Date], 
    [Project1].[Previous_Coupon_Date] AS [Previous_Coupon_Date], 
    [Project1].[Payment_Frequency] AS [Payment_Frequency], 
    [Project1].[Coupon_BusDay_Adjustment] AS [Coupon_BusDay_Adjustment], 
    [Project1].[Next_Ex_Div_Date] AS [Next_Ex_Div_Date], 
    [Project1].[Ex_Div_BusDay_Adjustment] AS [Ex_Div_BusDay_Adjustment], 
    [Project1].[Ex_Div_Period] AS [Ex_Div_Period], 
    [Project1].[Ticker] AS [Ticker], 
    [Project1].[Inet_ID] AS [Inet_ID], 
    [Project1].[Bloomberg_ID] AS [Bloomberg_ID], 
    [Project1].[External_Sec_ID] AS [External_Sec_ID], 
    [Project1].[Reuters_ID] AS [Reuters_ID], 
    [Project1].[ISIN] AS [ISIN], 
    [Project1].[Call_Account_Flag] AS [Call_Account_Flag], 
    [Project1].[System_Locked] AS [System_Locked], 
    [Project1].[Last_Update_User] AS [Last_Update_User], 
    [Project1].[Last_Update_Date] AS [Last_Update_Date], 
    [Project1].[Security_Status] AS [Security_Status], 
    [Project1].[Benchmark_Portfolio] AS [Benchmark_Portfolio], 
    [Project1].[Active_flag] AS [Active_flag], 
    [Project1].[Dividend_FX_Security_ID] AS [Dividend_FX_Security_ID]
    FROM ( SELECT 
        [Extent1].[Security_ID] AS [Security_ID], 
        [Extent1].[Entity_ID] AS [Entity_ID], 
        [Extent1].[Security_Name] AS [Security_Name], 
        [Extent1].[Short_Name] AS [Short_Name], 
        [Extent1].[Primary_Exch] AS [Primary_Exch], 
        [Extent1].[Secondary_Exch] AS [Secondary_Exch], 
        [Extent1].[Country_Of_Domicile] AS [Country_Of_Domicile], 
        [Extent1].[Country_Of_Risk] AS [Country_Of_Risk], 
        [Extent1].[Security_Type_Code] AS [Security_Type_Code], 
        [Extent1].[Price_Multiplier] AS [Price_Multiplier], 
        [Extent1].[Income_Frequency] AS [Income_Frequency], 
        [Extent1].[Issuer_Code] AS [Issuer_Code], 
        [Extent1].[Ultimate_Issuer_Code] AS [Ultimate_Issuer_Code], 
        [Extent1].[Asset_Currency] AS [Asset_Currency], 
        [Extent1].[Min_Lot_Size] AS [Min_Lot_Size], 
        [Extent1].[Decimal_Precision] AS [Decimal_Precision], 
        [Extent1].[AvePrice_Rounding] AS [AvePrice_Rounding], 
        [Extent1].[Issue_Date] AS [Issue_Date], 
        [Extent1].[Maturity_Date] AS [Maturity_Date], 
        [Extent1].[Coupon_Rate] AS [Coupon_Rate], 
        [Extent1].[Price_Exchange] AS [Price_Exchange], 
        [Extent1].[Trade_Currency] AS [Trade_Currency], 
        [Extent1].[Price_Curr] AS [Price_Curr], 
        [Extent1].[Currency_Pair_Code] AS [Currency_Pair_Code], 
        [Extent1].[Share_Class] AS [Share_Class], 
        [Extent1].[Current_Market_Price] AS [Current_Market_Price], 
        [Extent1].[Index_Type] AS [Index_Type], 
        [Extent1].[Clean_Price_Formula] AS [Clean_Price_Formula], 
        [Extent1].[Accrued_Income_Price_Formula] AS [Accrued_Income_Price_Formula], 
        [Extent1].[Odd_First_Coupon_Date] AS [Odd_First_Coupon_Date], 
        [Extent1].[Odd_Last_Coupon_Date] AS [Odd_Last_Coupon_Date], 
        [Extent1].[Coupon_Anniversary_Indicator] AS [Coupon_Anniversary_Indicator], 
        [Extent1].[Track_EOM_Flag] AS [Track_EOM_Flag], 
        [Extent1].[Next_Coupon_Date] AS [Next_Coupon_Date], 
        [Extent1].[Previous_Coupon_Date] AS [Previous_Coupon_Date], 
        [Extent1].[Payment_Frequency] AS [Payment_Frequency], 
        [Extent1].[Coupon_BusDay_Adjustment] AS [Coupon_BusDay_Adjustment], 
        [Extent1].[Next_Ex_Div_Date] AS [Next_Ex_Div_Date], 
        [Extent1].[Ex_Div_BusDay_Adjustment] AS [Ex_Div_BusDay_Adjustment], 
        [Extent1].[Ex_Div_Period] AS [Ex_Div_Period], 
        [Extent1].[Ticker] AS [Ticker], 
        [Extent1].[Inet_ID] AS [Inet_ID], 
        [Extent1].[Bloomberg_ID] AS [Bloomberg_ID], 
        [Extent1].[External_Sec_ID] AS [External_Sec_ID], 
        [Extent1].[Reuters_ID] AS [Reuters_ID], 
        [Extent1].[ISIN] AS [ISIN], 
        [Extent1].[Call_Account_Flag] AS [Call_Account_Flag], 
        [Extent1].[System_Locked] AS [System_Locked], 
        [Extent1].[Last_Update_User] AS [Last_Update_User], 
        [Extent1].[Last_Update_Date] AS [Last_Update_Date], 
        [Extent1].[Security_Status] AS [Security_Status], 
        [Extent1].[Benchmark_Portfolio] AS [Benchmark_Portfolio], 
        [Extent1].[Active_flag] AS [Active_flag], 
        [Extent1].[Dividend_FX_Security_ID] AS [Dividend_FX_Security_ID]
        FROM [dbo].[Security_Detail] AS [Extent1]
        WHERE ([Extent1].[Entity_ID] IN (@p__linq__0,@p__linq__1)) AND ((CASE WHEN ( NOT ((N'' = @p__linq__2) AND (@p__linq__2 IS NOT NULL))) THEN CASE WHEN ([Extent1].[Security_Type_Code] = @p__linq__3) THEN cast(1 as bit) WHEN ( NOT (([Extent1].[Security_Type_Code] = @p__linq__3) AND (0 = (CASE WHEN (@p__linq__3 IS NULL) THEN cast(1 as bit) ELSE cast(0 as bit) END)))) THEN cast(0 as bit) END WHEN ('' <> [Extent1].[Security_Type_Code]) THEN cast(1 as bit) WHEN ('' = [Extent1].[Security_Type_Code]) THEN cast(0 as bit) END) = 1)
    )  AS [Project1]
    ORDER BY [Project1].[Security_Name] ASC
2018-04-07 12:44:51.4165|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: IF db_id(N'MetopeAzureDb') IS NOT NULL SELECT 1 ELSE SELECT Count(*) FROM sys.databases WHERE [name]=N'MetopeAzureDb'
2018-04-07 12:44:51.5111|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: IF db_id(N'MetopeAzureDb') IS NOT NULL SELECT 1 ELSE SELECT Count(*) FROM sys.databases WHERE [name]=N'MetopeAzureDb'
2018-04-07 12:44:51.5891|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: IF db_id(N'MetopeAzureDb') IS NOT NULL SELECT 1 ELSE SELECT Count(*) FROM sys.databases WHERE [name]=N'MetopeAzureDb'
2018-04-07 12:44:51.6071|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: IF db_id(N'MetopeAzureDb') IS NOT NULL SELECT 1 ELSE SELECT Count(*) FROM sys.databases WHERE [name]=N'MetopeAzureDb'
2018-04-07 12:44:51.9360|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: SELECT 
    [Extent1].[Security_ID] AS [Security_ID], 
    [Extent1].[Portfolio_Code] AS [Portfolio_Code], 
    [Extent1].[Entity_ID] AS [Entity_ID], 
    [Extent1].[ModDietz_Performance_Quarterly] AS [ModDietz_Performance_Quarterly], 
    [Extent1].[ModDietz_Performance_Monthly] AS [ModDietz_Performance_Monthly], 
    [Extent1].[ModDietz_Performance_MonthToDate] AS [ModDietz_Performance_MonthToDate], 
    [Extent1].[Dietz_Performance_Quarterly] AS [Dietz_Performance_Quarterly], 
    [Extent1].[Dietz_Performance_Monthly] AS [Dietz_Performance_Monthly], 
    [Extent1].[Dietz_Performance_MonthToDate] AS [Dietz_Performance_MonthToDate], 
    [Extent1].[Last_Update_Date] AS [Last_Update_Date], 
    [Extent1].[Last_Update_User] AS [Last_Update_User], 
    [Extent1].[Record_Date] AS [Record_Date], 
    [Extent1].[Session_ID] AS [Session_ID], 
    [Extent1].[Hist_Last_Update_Date] AS [Hist_Last_Update_Date], 
    [Extent1].[Hist_Last_Update_User] AS [Hist_Last_Update_User]
    FROM [dbo].[Security_Performance_History] AS [Extent1]
    WHERE ([Extent1].[Security_ID] = @p__linq__0) AND ([Extent1].[Portfolio_Code] = @p__linq__1) AND ([Extent1].[Record_Date] = @p__linq__2) AND ([Extent1].[Entity_ID] = @p__linq__3)
2018-04-07 12:44:51.9600|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: SELECT 
    [Extent1].[Security_ID] AS [Security_ID], 
    [Extent1].[Portfolio_Code] AS [Portfolio_Code], 
    [Extent1].[Entity_ID] AS [Entity_ID], 
    [Extent1].[ModDietz_Performance_Quarterly] AS [ModDietz_Performance_Quarterly], 
    [Extent1].[ModDietz_Performance_Monthly] AS [ModDietz_Performance_Monthly], 
    [Extent1].[ModDietz_Performance_MonthToDate] AS [ModDietz_Performance_MonthToDate], 
    [Extent1].[Dietz_Performance_Quarterly] AS [Dietz_Performance_Quarterly], 
    [Extent1].[Dietz_Performance_Monthly] AS [Dietz_Performance_Monthly], 
    [Extent1].[Dietz_Performance_MonthToDate] AS [Dietz_Performance_MonthToDate], 
    [Extent1].[Last_Update_Date] AS [Last_Update_Date], 
    [Extent1].[Last_Update_User] AS [Last_Update_User], 
    [Extent1].[Record_Date] AS [Record_Date], 
    [Extent1].[Session_ID] AS [Session_ID], 
    [Extent1].[Hist_Last_Update_Date] AS [Hist_Last_Update_Date], 
    [Extent1].[Hist_Last_Update_User] AS [Hist_Last_Update_User]
    FROM [dbo].[Security_Performance_History] AS [Extent1]
    WHERE ([Extent1].[Security_ID] = @p__linq__0) AND ([Extent1].[Portfolio_Code] = @p__linq__1) AND ([Extent1].[Record_Date] = @p__linq__2) AND ([Extent1].[Entity_ID] = @p__linq__3)
2018-04-07 12:44:51.9930|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: SELECT 
    [Extent1].[Security_ID] AS [Security_ID], 
    [Extent1].[Entity_ID] AS [Entity_ID], 
    [Extent1].[Security_Name] AS [Security_Name], 
    [Extent1].[Short_Name] AS [Short_Name], 
    [Extent1].[Primary_Exch] AS [Primary_Exch], 
    [Extent1].[Secondary_Exch] AS [Secondary_Exch], 
    [Extent1].[Country_Of_Domicile] AS [Country_Of_Domicile], 
    [Extent1].[Country_Of_Risk] AS [Country_Of_Risk], 
    [Extent1].[Security_Type_Code] AS [Security_Type_Code], 
    [Extent1].[Price_Multiplier] AS [Price_Multiplier], 
    [Extent1].[Income_Frequency] AS [Income_Frequency], 
    [Extent1].[Issuer_Code] AS [Issuer_Code], 
    [Extent1].[Ultimate_Issuer_Code] AS [Ultimate_Issuer_Code], 
    [Extent1].[Asset_Currency] AS [Asset_Currency], 
    [Extent1].[Min_Lot_Size] AS [Min_Lot_Size], 
    [Extent1].[Decimal_Precision] AS [Decimal_Precision], 
    [Extent1].[AvePrice_Rounding] AS [AvePrice_Rounding], 
    [Extent1].[Issue_Date] AS [Issue_Date], 
    [Extent1].[Maturity_Date] AS [Maturity_Date], 
    [Extent1].[Coupon_Rate] AS [Coupon_Rate], 
    [Extent1].[Price_Exchange] AS [Price_Exchange], 
    [Extent1].[Trade_Currency] AS [Trade_Currency], 
    [Extent1].[Price_Curr] AS [Price_Curr], 
    [Extent1].[Currency_Pair_Code] AS [Currency_Pair_Code], 
    [Extent1].[Share_Class] AS [Share_Class], 
    [Extent1].[Current_Market_Price] AS [Current_Market_Price], 
    [Extent1].[Index_Type] AS [Index_Type], 
    [Extent1].[Clean_Price_Formula] AS [Clean_Price_Formula], 
    [Extent1].[Accrued_Income_Price_Formula] AS [Accrued_Income_Price_Formula], 
    [Extent1].[Odd_First_Coupon_Date] AS [Odd_First_Coupon_Date], 
    [Extent1].[Odd_Last_Coupon_Date] AS [Odd_Last_Coupon_Date], 
    [Extent1].[Coupon_Anniversary_Indicator] AS [Coupon_Anniversary_Indicator], 
    [Extent1].[Track_EOM_Flag] AS [Track_EOM_Flag], 
    [Extent1].[Next_Coupon_Date] AS [Next_Coupon_Date], 
    [Extent1].[Previous_Coupon_Date] AS [Previous_Coupon_Date], 
    [Extent1].[Payment_Frequency] AS [Payment_Frequency], 
    [Extent1].[Coupon_BusDay_Adjustment] AS [Coupon_BusDay_Adjustment], 
    [Extent1].[Next_Ex_Div_Date] AS [Next_Ex_Div_Date], 
    [Extent1].[Ex_Div_BusDay_Adjustment] AS [Ex_Div_BusDay_Adjustment], 
    [Extent1].[Ex_Div_Period] AS [Ex_Div_Period], 
    [Extent1].[Ticker] AS [Ticker], 
    [Extent1].[Inet_ID] AS [Inet_ID], 
    [Extent1].[Bloomberg_ID] AS [Bloomberg_ID], 
    [Extent1].[External_Sec_ID] AS [External_Sec_ID], 
    [Extent1].[Reuters_ID] AS [Reuters_ID], 
    [Extent1].[ISIN] AS [ISIN], 
    [Extent1].[Call_Account_Flag] AS [Call_Account_Flag], 
    [Extent1].[System_Locked] AS [System_Locked], 
    [Extent1].[Last_Update_User] AS [Last_Update_User], 
    [Extent1].[Last_Update_Date] AS [Last_Update_Date], 
    [Extent1].[Security_Status] AS [Security_Status], 
    [Extent1].[Benchmark_Portfolio] AS [Benchmark_Portfolio], 
    [Extent1].[Active_flag] AS [Active_flag], 
    [Extent1].[Dividend_FX_Security_ID] AS [Dividend_FX_Security_ID]
    FROM [dbo].[Security_Detail] AS [Extent1]
    WHERE [Extent1].[Security_ID] = @EntityKeyValue1
2018-04-07 12:44:52.0185|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: SELECT 
    [Extent1].[Security_ID] AS [Security_ID], 
    [Extent1].[Entity_ID] AS [Entity_ID], 
    [Extent1].[Security_Name] AS [Security_Name], 
    [Extent1].[Short_Name] AS [Short_Name], 
    [Extent1].[Primary_Exch] AS [Primary_Exch], 
    [Extent1].[Secondary_Exch] AS [Secondary_Exch], 
    [Extent1].[Country_Of_Domicile] AS [Country_Of_Domicile], 
    [Extent1].[Country_Of_Risk] AS [Country_Of_Risk], 
    [Extent1].[Security_Type_Code] AS [Security_Type_Code], 
    [Extent1].[Price_Multiplier] AS [Price_Multiplier], 
    [Extent1].[Income_Frequency] AS [Income_Frequency], 
    [Extent1].[Issuer_Code] AS [Issuer_Code], 
    [Extent1].[Ultimate_Issuer_Code] AS [Ultimate_Issuer_Code], 
    [Extent1].[Asset_Currency] AS [Asset_Currency], 
    [Extent1].[Min_Lot_Size] AS [Min_Lot_Size], 
    [Extent1].[Decimal_Precision] AS [Decimal_Precision], 
    [Extent1].[AvePrice_Rounding] AS [AvePrice_Rounding], 
    [Extent1].[Issue_Date] AS [Issue_Date], 
    [Extent1].[Maturity_Date] AS [Maturity_Date], 
    [Extent1].[Coupon_Rate] AS [Coupon_Rate], 
    [Extent1].[Price_Exchange] AS [Price_Exchange], 
    [Extent1].[Trade_Currency] AS [Trade_Currency], 
    [Extent1].[Price_Curr] AS [Price_Curr], 
    [Extent1].[Currency_Pair_Code] AS [Currency_Pair_Code], 
    [Extent1].[Share_Class] AS [Share_Class], 
    [Extent1].[Current_Market_Price] AS [Current_Market_Price], 
    [Extent1].[Index_Type] AS [Index_Type], 
    [Extent1].[Clean_Price_Formula] AS [Clean_Price_Formula], 
    [Extent1].[Accrued_Income_Price_Formula] AS [Accrued_Income_Price_Formula], 
    [Extent1].[Odd_First_Coupon_Date] AS [Odd_First_Coupon_Date], 
    [Extent1].[Odd_Last_Coupon_Date] AS [Odd_Last_Coupon_Date], 
    [Extent1].[Coupon_Anniversary_Indicator] AS [Coupon_Anniversary_Indicator], 
    [Extent1].[Track_EOM_Flag] AS [Track_EOM_Flag], 
    [Extent1].[Next_Coupon_Date] AS [Next_Coupon_Date], 
    [Extent1].[Previous_Coupon_Date] AS [Previous_Coupon_Date], 
    [Extent1].[Payment_Frequency] AS [Payment_Frequency], 
    [Extent1].[Coupon_BusDay_Adjustment] AS [Coupon_BusDay_Adjustment], 
    [Extent1].[Next_Ex_Div_Date] AS [Next_Ex_Div_Date], 
    [Extent1].[Ex_Div_BusDay_Adjustment] AS [Ex_Div_BusDay_Adjustment], 
    [Extent1].[Ex_Div_Period] AS [Ex_Div_Period], 
    [Extent1].[Ticker] AS [Ticker], 
    [Extent1].[Inet_ID] AS [Inet_ID], 
    [Extent1].[Bloomberg_ID] AS [Bloomberg_ID], 
    [Extent1].[External_Sec_ID] AS [External_Sec_ID], 
    [Extent1].[Reuters_ID] AS [Reuters_ID], 
    [Extent1].[ISIN] AS [ISIN], 
    [Extent1].[Call_Account_Flag] AS [Call_Account_Flag], 
    [Extent1].[System_Locked] AS [System_Locked], 
    [Extent1].[Last_Update_User] AS [Last_Update_User], 
    [Extent1].[Last_Update_Date] AS [Last_Update_Date], 
    [Extent1].[Security_Status] AS [Security_Status], 
    [Extent1].[Benchmark_Portfolio] AS [Benchmark_Portfolio], 
    [Extent1].[Active_flag] AS [Active_flag], 
    [Extent1].[Dividend_FX_Security_ID] AS [Dividend_FX_Security_ID]
    FROM [dbo].[Security_Detail] AS [Extent1]
    WHERE [Extent1].[Security_ID] = @EntityKeyValue1
2018-04-07 12:44:52.0461|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: SELECT 
    [Project1].[Security_ID] AS [Security_ID], 
    [Project1].[Entity_ID] AS [Entity_ID], 
    [Project1].[Security_Name] AS [Security_Name], 
    [Project1].[Short_Name] AS [Short_Name], 
    [Project1].[Primary_Exch] AS [Primary_Exch], 
    [Project1].[Secondary_Exch] AS [Secondary_Exch], 
    [Project1].[Country_Of_Domicile] AS [Country_Of_Domicile], 
    [Project1].[Country_Of_Risk] AS [Country_Of_Risk], 
    [Project1].[Security_Type_Code] AS [Security_Type_Code], 
    [Project1].[Price_Multiplier] AS [Price_Multiplier], 
    [Project1].[Income_Frequency] AS [Income_Frequency], 
    [Project1].[Issuer_Code] AS [Issuer_Code], 
    [Project1].[Ultimate_Issuer_Code] AS [Ultimate_Issuer_Code], 
    [Project1].[Asset_Currency] AS [Asset_Currency], 
    [Project1].[Min_Lot_Size] AS [Min_Lot_Size], 
    [Project1].[Decimal_Precision] AS [Decimal_Precision], 
    [Project1].[AvePrice_Rounding] AS [AvePrice_Rounding], 
    [Project1].[Issue_Date] AS [Issue_Date], 
    [Project1].[Maturity_Date] AS [Maturity_Date], 
    [Project1].[Coupon_Rate] AS [Coupon_Rate], 
    [Project1].[Price_Exchange] AS [Price_Exchange], 
    [Project1].[Trade_Currency] AS [Trade_Currency], 
    [Project1].[Price_Curr] AS [Price_Curr], 
    [Project1].[Currency_Pair_Code] AS [Currency_Pair_Code], 
    [Project1].[Share_Class] AS [Share_Class], 
    [Project1].[Current_Market_Price] AS [Current_Market_Price], 
    [Project1].[Index_Type] AS [Index_Type], 
    [Project1].[Clean_Price_Formula] AS [Clean_Price_Formula], 
    [Project1].[Accrued_Income_Price_Formula] AS [Accrued_Income_Price_Formula], 
    [Project1].[Odd_First_Coupon_Date] AS [Odd_First_Coupon_Date], 
    [Project1].[Odd_Last_Coupon_Date] AS [Odd_Last_Coupon_Date], 
    [Project1].[Coupon_Anniversary_Indicator] AS [Coupon_Anniversary_Indicator], 
    [Project1].[Track_EOM_Flag] AS [Track_EOM_Flag], 
    [Project1].[Next_Coupon_Date] AS [Next_Coupon_Date], 
    [Project1].[Previous_Coupon_Date] AS [Previous_Coupon_Date], 
    [Project1].[Payment_Frequency] AS [Payment_Frequency], 
    [Project1].[Coupon_BusDay_Adjustment] AS [Coupon_BusDay_Adjustment], 
    [Project1].[Next_Ex_Div_Date] AS [Next_Ex_Div_Date], 
    [Project1].[Ex_Div_BusDay_Adjustment] AS [Ex_Div_BusDay_Adjustment], 
    [Project1].[Ex_Div_Period] AS [Ex_Div_Period], 
    [Project1].[Ticker] AS [Ticker], 
    [Project1].[Inet_ID] AS [Inet_ID], 
    [Project1].[Bloomberg_ID] AS [Bloomberg_ID], 
    [Project1].[External_Sec_ID] AS [External_Sec_ID], 
    [Project1].[Reuters_ID] AS [Reuters_ID], 
    [Project1].[ISIN] AS [ISIN], 
    [Project1].[Call_Account_Flag] AS [Call_Account_Flag], 
    [Project1].[System_Locked] AS [System_Locked], 
    [Project1].[Last_Update_User] AS [Last_Update_User], 
    [Project1].[Last_Update_Date] AS [Last_Update_Date], 
    [Project1].[Security_Status] AS [Security_Status], 
    [Project1].[Benchmark_Portfolio] AS [Benchmark_Portfolio], 
    [Project1].[Active_flag] AS [Active_flag], 
    [Project1].[Dividend_FX_Security_ID] AS [Dividend_FX_Security_ID]
    FROM ( SELECT 
        [Extent1].[Security_ID] AS [Security_ID], 
        [Extent1].[Entity_ID] AS [Entity_ID], 
        [Extent1].[Security_Name] AS [Security_Name], 
        [Extent1].[Short_Name] AS [Short_Name], 
        [Extent1].[Primary_Exch] AS [Primary_Exch], 
        [Extent1].[Secondary_Exch] AS [Secondary_Exch], 
        [Extent1].[Country_Of_Domicile] AS [Country_Of_Domicile], 
        [Extent1].[Country_Of_Risk] AS [Country_Of_Risk], 
        [Extent1].[Security_Type_Code] AS [Security_Type_Code], 
        [Extent1].[Price_Multiplier] AS [Price_Multiplier], 
        [Extent1].[Income_Frequency] AS [Income_Frequency], 
        [Extent1].[Issuer_Code] AS [Issuer_Code], 
        [Extent1].[Ultimate_Issuer_Code] AS [Ultimate_Issuer_Code], 
        [Extent1].[Asset_Currency] AS [Asset_Currency], 
        [Extent1].[Min_Lot_Size] AS [Min_Lot_Size], 
        [Extent1].[Decimal_Precision] AS [Decimal_Precision], 
        [Extent1].[AvePrice_Rounding] AS [AvePrice_Rounding], 
        [Extent1].[Issue_Date] AS [Issue_Date], 
        [Extent1].[Maturity_Date] AS [Maturity_Date], 
        [Extent1].[Coupon_Rate] AS [Coupon_Rate], 
        [Extent1].[Price_Exchange] AS [Price_Exchange], 
        [Extent1].[Trade_Currency] AS [Trade_Currency], 
        [Extent1].[Price_Curr] AS [Price_Curr], 
        [Extent1].[Currency_Pair_Code] AS [Currency_Pair_Code], 
        [Extent1].[Share_Class] AS [Share_Class], 
        [Extent1].[Current_Market_Price] AS [Current_Market_Price], 
        [Extent1].[Index_Type] AS [Index_Type], 
        [Extent1].[Clean_Price_Formula] AS [Clean_Price_Formula], 
        [Extent1].[Accrued_Income_Price_Formula] AS [Accrued_Income_Price_Formula], 
        [Extent1].[Odd_First_Coupon_Date] AS [Odd_First_Coupon_Date], 
        [Extent1].[Odd_Last_Coupon_Date] AS [Odd_Last_Coupon_Date], 
        [Extent1].[Coupon_Anniversary_Indicator] AS [Coupon_Anniversary_Indicator], 
        [Extent1].[Track_EOM_Flag] AS [Track_EOM_Flag], 
        [Extent1].[Next_Coupon_Date] AS [Next_Coupon_Date], 
        [Extent1].[Previous_Coupon_Date] AS [Previous_Coupon_Date], 
        [Extent1].[Payment_Frequency] AS [Payment_Frequency], 
        [Extent1].[Coupon_BusDay_Adjustment] AS [Coupon_BusDay_Adjustment], 
        [Extent1].[Next_Ex_Div_Date] AS [Next_Ex_Div_Date], 
        [Extent1].[Ex_Div_BusDay_Adjustment] AS [Ex_Div_BusDay_Adjustment], 
        [Extent1].[Ex_Div_Period] AS [Ex_Div_Period], 
        [Extent1].[Ticker] AS [Ticker], 
        [Extent1].[Inet_ID] AS [Inet_ID], 
        [Extent1].[Bloomberg_ID] AS [Bloomberg_ID], 
        [Extent1].[External_Sec_ID] AS [External_Sec_ID], 
        [Extent1].[Reuters_ID] AS [Reuters_ID], 
        [Extent1].[ISIN] AS [ISIN], 
        [Extent1].[Call_Account_Flag] AS [Call_Account_Flag], 
        [Extent1].[System_Locked] AS [System_Locked], 
        [Extent1].[Last_Update_User] AS [Last_Update_User], 
        [Extent1].[Last_Update_Date] AS [Last_Update_Date], 
        [Extent1].[Security_Status] AS [Security_Status], 
        [Extent1].[Benchmark_Portfolio] AS [Benchmark_Portfolio], 
        [Extent1].[Active_flag] AS [Active_flag], 
        [Extent1].[Dividend_FX_Security_ID] AS [Dividend_FX_Security_ID]
        FROM [dbo].[Security_Detail] AS [Extent1]
        WHERE ([Extent1].[Entity_ID] IN (@p__linq__0,@p__linq__1)) AND ((CASE WHEN ( NOT ((N'' = @p__linq__2) AND (@p__linq__2 IS NOT NULL))) THEN CASE WHEN ([Extent1].[Security_Type_Code] = @p__linq__3) THEN cast(1 as bit) WHEN ( NOT (([Extent1].[Security_Type_Code] = @p__linq__3) AND (0 = (CASE WHEN (@p__linq__3 IS NULL) THEN cast(1 as bit) ELSE cast(0 as bit) END)))) THEN cast(0 as bit) END WHEN ('' <> [Extent1].[Security_Type_Code]) THEN cast(1 as bit) WHEN ('' = [Extent1].[Security_Type_Code]) THEN cast(0 as bit) END) = 1)
    )  AS [Project1]
    ORDER BY [Project1].[Security_Name] ASC
2018-04-07 12:44:52.0746|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: SELECT 
    [Project1].[Security_ID] AS [Security_ID], 
    [Project1].[Entity_ID] AS [Entity_ID], 
    [Project1].[Security_Name] AS [Security_Name], 
    [Project1].[Short_Name] AS [Short_Name], 
    [Project1].[Primary_Exch] AS [Primary_Exch], 
    [Project1].[Secondary_Exch] AS [Secondary_Exch], 
    [Project1].[Country_Of_Domicile] AS [Country_Of_Domicile], 
    [Project1].[Country_Of_Risk] AS [Country_Of_Risk], 
    [Project1].[Security_Type_Code] AS [Security_Type_Code], 
    [Project1].[Price_Multiplier] AS [Price_Multiplier], 
    [Project1].[Income_Frequency] AS [Income_Frequency], 
    [Project1].[Issuer_Code] AS [Issuer_Code], 
    [Project1].[Ultimate_Issuer_Code] AS [Ultimate_Issuer_Code], 
    [Project1].[Asset_Currency] AS [Asset_Currency], 
    [Project1].[Min_Lot_Size] AS [Min_Lot_Size], 
    [Project1].[Decimal_Precision] AS [Decimal_Precision], 
    [Project1].[AvePrice_Rounding] AS [AvePrice_Rounding], 
    [Project1].[Issue_Date] AS [Issue_Date], 
    [Project1].[Maturity_Date] AS [Maturity_Date], 
    [Project1].[Coupon_Rate] AS [Coupon_Rate], 
    [Project1].[Price_Exchange] AS [Price_Exchange], 
    [Project1].[Trade_Currency] AS [Trade_Currency], 
    [Project1].[Price_Curr] AS [Price_Curr], 
    [Project1].[Currency_Pair_Code] AS [Currency_Pair_Code], 
    [Project1].[Share_Class] AS [Share_Class], 
    [Project1].[Current_Market_Price] AS [Current_Market_Price], 
    [Project1].[Index_Type] AS [Index_Type], 
    [Project1].[Clean_Price_Formula] AS [Clean_Price_Formula], 
    [Project1].[Accrued_Income_Price_Formula] AS [Accrued_Income_Price_Formula], 
    [Project1].[Odd_First_Coupon_Date] AS [Odd_First_Coupon_Date], 
    [Project1].[Odd_Last_Coupon_Date] AS [Odd_Last_Coupon_Date], 
    [Project1].[Coupon_Anniversary_Indicator] AS [Coupon_Anniversary_Indicator], 
    [Project1].[Track_EOM_Flag] AS [Track_EOM_Flag], 
    [Project1].[Next_Coupon_Date] AS [Next_Coupon_Date], 
    [Project1].[Previous_Coupon_Date] AS [Previous_Coupon_Date], 
    [Project1].[Payment_Frequency] AS [Payment_Frequency], 
    [Project1].[Coupon_BusDay_Adjustment] AS [Coupon_BusDay_Adjustment], 
    [Project1].[Next_Ex_Div_Date] AS [Next_Ex_Div_Date], 
    [Project1].[Ex_Div_BusDay_Adjustment] AS [Ex_Div_BusDay_Adjustment], 
    [Project1].[Ex_Div_Period] AS [Ex_Div_Period], 
    [Project1].[Ticker] AS [Ticker], 
    [Project1].[Inet_ID] AS [Inet_ID], 
    [Project1].[Bloomberg_ID] AS [Bloomberg_ID], 
    [Project1].[External_Sec_ID] AS [External_Sec_ID], 
    [Project1].[Reuters_ID] AS [Reuters_ID], 
    [Project1].[ISIN] AS [ISIN], 
    [Project1].[Call_Account_Flag] AS [Call_Account_Flag], 
    [Project1].[System_Locked] AS [System_Locked], 
    [Project1].[Last_Update_User] AS [Last_Update_User], 
    [Project1].[Last_Update_Date] AS [Last_Update_Date], 
    [Project1].[Security_Status] AS [Security_Status], 
    [Project1].[Benchmark_Portfolio] AS [Benchmark_Portfolio], 
    [Project1].[Active_flag] AS [Active_flag], 
    [Project1].[Dividend_FX_Security_ID] AS [Dividend_FX_Security_ID]
    FROM ( SELECT 
        [Extent1].[Security_ID] AS [Security_ID], 
        [Extent1].[Entity_ID] AS [Entity_ID], 
        [Extent1].[Security_Name] AS [Security_Name], 
        [Extent1].[Short_Name] AS [Short_Name], 
        [Extent1].[Primary_Exch] AS [Primary_Exch], 
        [Extent1].[Secondary_Exch] AS [Secondary_Exch], 
        [Extent1].[Country_Of_Domicile] AS [Country_Of_Domicile], 
        [Extent1].[Country_Of_Risk] AS [Country_Of_Risk], 
        [Extent1].[Security_Type_Code] AS [Security_Type_Code], 
        [Extent1].[Price_Multiplier] AS [Price_Multiplier], 
        [Extent1].[Income_Frequency] AS [Income_Frequency], 
        [Extent1].[Issuer_Code] AS [Issuer_Code], 
        [Extent1].[Ultimate_Issuer_Code] AS [Ultimate_Issuer_Code], 
        [Extent1].[Asset_Currency] AS [Asset_Currency], 
        [Extent1].[Min_Lot_Size] AS [Min_Lot_Size], 
        [Extent1].[Decimal_Precision] AS [Decimal_Precision], 
        [Extent1].[AvePrice_Rounding] AS [AvePrice_Rounding], 
        [Extent1].[Issue_Date] AS [Issue_Date], 
        [Extent1].[Maturity_Date] AS [Maturity_Date], 
        [Extent1].[Coupon_Rate] AS [Coupon_Rate], 
        [Extent1].[Price_Exchange] AS [Price_Exchange], 
        [Extent1].[Trade_Currency] AS [Trade_Currency], 
        [Extent1].[Price_Curr] AS [Price_Curr], 
        [Extent1].[Currency_Pair_Code] AS [Currency_Pair_Code], 
        [Extent1].[Share_Class] AS [Share_Class], 
        [Extent1].[Current_Market_Price] AS [Current_Market_Price], 
        [Extent1].[Index_Type] AS [Index_Type], 
        [Extent1].[Clean_Price_Formula] AS [Clean_Price_Formula], 
        [Extent1].[Accrued_Income_Price_Formula] AS [Accrued_Income_Price_Formula], 
        [Extent1].[Odd_First_Coupon_Date] AS [Odd_First_Coupon_Date], 
        [Extent1].[Odd_Last_Coupon_Date] AS [Odd_Last_Coupon_Date], 
        [Extent1].[Coupon_Anniversary_Indicator] AS [Coupon_Anniversary_Indicator], 
        [Extent1].[Track_EOM_Flag] AS [Track_EOM_Flag], 
        [Extent1].[Next_Coupon_Date] AS [Next_Coupon_Date], 
        [Extent1].[Previous_Coupon_Date] AS [Previous_Coupon_Date], 
        [Extent1].[Payment_Frequency] AS [Payment_Frequency], 
        [Extent1].[Coupon_BusDay_Adjustment] AS [Coupon_BusDay_Adjustment], 
        [Extent1].[Next_Ex_Div_Date] AS [Next_Ex_Div_Date], 
        [Extent1].[Ex_Div_BusDay_Adjustment] AS [Ex_Div_BusDay_Adjustment], 
        [Extent1].[Ex_Div_Period] AS [Ex_Div_Period], 
        [Extent1].[Ticker] AS [Ticker], 
        [Extent1].[Inet_ID] AS [Inet_ID], 
        [Extent1].[Bloomberg_ID] AS [Bloomberg_ID], 
        [Extent1].[External_Sec_ID] AS [External_Sec_ID], 
        [Extent1].[Reuters_ID] AS [Reuters_ID], 
        [Extent1].[ISIN] AS [ISIN], 
        [Extent1].[Call_Account_Flag] AS [Call_Account_Flag], 
        [Extent1].[System_Locked] AS [System_Locked], 
        [Extent1].[Last_Update_User] AS [Last_Update_User], 
        [Extent1].[Last_Update_Date] AS [Last_Update_Date], 
        [Extent1].[Security_Status] AS [Security_Status], 
        [Extent1].[Benchmark_Portfolio] AS [Benchmark_Portfolio], 
        [Extent1].[Active_flag] AS [Active_flag], 
        [Extent1].[Dividend_FX_Security_ID] AS [Dividend_FX_Security_ID]
        FROM [dbo].[Security_Detail] AS [Extent1]
        WHERE ([Extent1].[Entity_ID] IN (@p__linq__0,@p__linq__1)) AND ((CASE WHEN ( NOT ((N'' = @p__linq__2) AND (@p__linq__2 IS NOT NULL))) THEN CASE WHEN ([Extent1].[Security_Type_Code] = @p__linq__3) THEN cast(1 as bit) WHEN ( NOT (([Extent1].[Security_Type_Code] = @p__linq__3) AND (0 = (CASE WHEN (@p__linq__3 IS NULL) THEN cast(1 as bit) ELSE cast(0 as bit) END)))) THEN cast(0 as bit) END WHEN ('' <> [Extent1].[Security_Type_Code]) THEN cast(1 as bit) WHEN ('' = [Extent1].[Security_Type_Code]) THEN cast(0 as bit) END) = 1)
    )  AS [Project1]
    ORDER BY [Project1].[Security_Name] ASC
2018-04-07 12:44:52.1126|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: IF db_id(N'MetopeAzureDb') IS NOT NULL SELECT 1 ELSE SELECT Count(*) FROM sys.databases WHERE [name]=N'MetopeAzureDb'
2018-04-07 12:44:52.1346|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: IF db_id(N'MetopeAzureDb') IS NOT NULL SELECT 1 ELSE SELECT Count(*) FROM sys.databases WHERE [name]=N'MetopeAzureDb'
2018-04-07 12:44:52.1652|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: IF db_id(N'MetopeAzureDb') IS NOT NULL SELECT 1 ELSE SELECT Count(*) FROM sys.databases WHERE [name]=N'MetopeAzureDb'
2018-04-07 12:44:52.1917|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: IF db_id(N'MetopeAzureDb') IS NOT NULL SELECT 1 ELSE SELECT Count(*) FROM sys.databases WHERE [name]=N'MetopeAzureDb'
2018-04-07 12:44:53.7762|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: SELECT 
    [Extent1].[Security_ID] AS [Security_ID], 
    [Extent1].[Portfolio_Code] AS [Portfolio_Code], 
    [Extent1].[Entity_ID] AS [Entity_ID], 
    [Extent1].[ModDietz_Performance_Quarterly] AS [ModDietz_Performance_Quarterly], 
    [Extent1].[ModDietz_Performance_Monthly] AS [ModDietz_Performance_Monthly], 
    [Extent1].[ModDietz_Performance_MonthToDate] AS [ModDietz_Performance_MonthToDate], 
    [Extent1].[Dietz_Performance_Quarterly] AS [Dietz_Performance_Quarterly], 
    [Extent1].[Dietz_Performance_Monthly] AS [Dietz_Performance_Monthly], 
    [Extent1].[Dietz_Performance_MonthToDate] AS [Dietz_Performance_MonthToDate], 
    [Extent1].[Last_Update_Date] AS [Last_Update_Date], 
    [Extent1].[Last_Update_User] AS [Last_Update_User], 
    [Extent1].[Record_Date] AS [Record_Date], 
    [Extent1].[Session_ID] AS [Session_ID], 
    [Extent1].[Hist_Last_Update_Date] AS [Hist_Last_Update_Date], 
    [Extent1].[Hist_Last_Update_User] AS [Hist_Last_Update_User]
    FROM [dbo].[Security_Performance_History] AS [Extent1]
    WHERE ([Extent1].[Security_ID] = @p__linq__0) AND ([Extent1].[Portfolio_Code] = @p__linq__1) AND ([Extent1].[Record_Date] = @p__linq__2) AND ([Extent1].[Entity_ID] = @p__linq__3)
2018-04-07 12:44:53.8082|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: SELECT 
    [Extent1].[Security_ID] AS [Security_ID], 
    [Extent1].[Portfolio_Code] AS [Portfolio_Code], 
    [Extent1].[Entity_ID] AS [Entity_ID], 
    [Extent1].[ModDietz_Performance_Quarterly] AS [ModDietz_Performance_Quarterly], 
    [Extent1].[ModDietz_Performance_Monthly] AS [ModDietz_Performance_Monthly], 
    [Extent1].[ModDietz_Performance_MonthToDate] AS [ModDietz_Performance_MonthToDate], 
    [Extent1].[Dietz_Performance_Quarterly] AS [Dietz_Performance_Quarterly], 
    [Extent1].[Dietz_Performance_Monthly] AS [Dietz_Performance_Monthly], 
    [Extent1].[Dietz_Performance_MonthToDate] AS [Dietz_Performance_MonthToDate], 
    [Extent1].[Last_Update_Date] AS [Last_Update_Date], 
    [Extent1].[Last_Update_User] AS [Last_Update_User], 
    [Extent1].[Record_Date] AS [Record_Date], 
    [Extent1].[Session_ID] AS [Session_ID], 
    [Extent1].[Hist_Last_Update_Date] AS [Hist_Last_Update_Date], 
    [Extent1].[Hist_Last_Update_User] AS [Hist_Last_Update_User]
    FROM [dbo].[Security_Performance_History] AS [Extent1]
    WHERE ([Extent1].[Security_ID] = @p__linq__0) AND ([Extent1].[Portfolio_Code] = @p__linq__1) AND ([Extent1].[Record_Date] = @p__linq__2) AND ([Extent1].[Entity_ID] = @p__linq__3)
2018-04-07 12:44:53.8467|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: SELECT 
    [Extent1].[Security_ID] AS [Security_ID], 
    [Extent1].[Entity_ID] AS [Entity_ID], 
    [Extent1].[Security_Name] AS [Security_Name], 
    [Extent1].[Short_Name] AS [Short_Name], 
    [Extent1].[Primary_Exch] AS [Primary_Exch], 
    [Extent1].[Secondary_Exch] AS [Secondary_Exch], 
    [Extent1].[Country_Of_Domicile] AS [Country_Of_Domicile], 
    [Extent1].[Country_Of_Risk] AS [Country_Of_Risk], 
    [Extent1].[Security_Type_Code] AS [Security_Type_Code], 
    [Extent1].[Price_Multiplier] AS [Price_Multiplier], 
    [Extent1].[Income_Frequency] AS [Income_Frequency], 
    [Extent1].[Issuer_Code] AS [Issuer_Code], 
    [Extent1].[Ultimate_Issuer_Code] AS [Ultimate_Issuer_Code], 
    [Extent1].[Asset_Currency] AS [Asset_Currency], 
    [Extent1].[Min_Lot_Size] AS [Min_Lot_Size], 
    [Extent1].[Decimal_Precision] AS [Decimal_Precision], 
    [Extent1].[AvePrice_Rounding] AS [AvePrice_Rounding], 
    [Extent1].[Issue_Date] AS [Issue_Date], 
    [Extent1].[Maturity_Date] AS [Maturity_Date], 
    [Extent1].[Coupon_Rate] AS [Coupon_Rate], 
    [Extent1].[Price_Exchange] AS [Price_Exchange], 
    [Extent1].[Trade_Currency] AS [Trade_Currency], 
    [Extent1].[Price_Curr] AS [Price_Curr], 
    [Extent1].[Currency_Pair_Code] AS [Currency_Pair_Code], 
    [Extent1].[Share_Class] AS [Share_Class], 
    [Extent1].[Current_Market_Price] AS [Current_Market_Price], 
    [Extent1].[Index_Type] AS [Index_Type], 
    [Extent1].[Clean_Price_Formula] AS [Clean_Price_Formula], 
    [Extent1].[Accrued_Income_Price_Formula] AS [Accrued_Income_Price_Formula], 
    [Extent1].[Odd_First_Coupon_Date] AS [Odd_First_Coupon_Date], 
    [Extent1].[Odd_Last_Coupon_Date] AS [Odd_Last_Coupon_Date], 
    [Extent1].[Coupon_Anniversary_Indicator] AS [Coupon_Anniversary_Indicator], 
    [Extent1].[Track_EOM_Flag] AS [Track_EOM_Flag], 
    [Extent1].[Next_Coupon_Date] AS [Next_Coupon_Date], 
    [Extent1].[Previous_Coupon_Date] AS [Previous_Coupon_Date], 
    [Extent1].[Payment_Frequency] AS [Payment_Frequency], 
    [Extent1].[Coupon_BusDay_Adjustment] AS [Coupon_BusDay_Adjustment], 
    [Extent1].[Next_Ex_Div_Date] AS [Next_Ex_Div_Date], 
    [Extent1].[Ex_Div_BusDay_Adjustment] AS [Ex_Div_BusDay_Adjustment], 
    [Extent1].[Ex_Div_Period] AS [Ex_Div_Period], 
    [Extent1].[Ticker] AS [Ticker], 
    [Extent1].[Inet_ID] AS [Inet_ID], 
    [Extent1].[Bloomberg_ID] AS [Bloomberg_ID], 
    [Extent1].[External_Sec_ID] AS [External_Sec_ID], 
    [Extent1].[Reuters_ID] AS [Reuters_ID], 
    [Extent1].[ISIN] AS [ISIN], 
    [Extent1].[Call_Account_Flag] AS [Call_Account_Flag], 
    [Extent1].[System_Locked] AS [System_Locked], 
    [Extent1].[Last_Update_User] AS [Last_Update_User], 
    [Extent1].[Last_Update_Date] AS [Last_Update_Date], 
    [Extent1].[Security_Status] AS [Security_Status], 
    [Extent1].[Benchmark_Portfolio] AS [Benchmark_Portfolio], 
    [Extent1].[Active_flag] AS [Active_flag], 
    [Extent1].[Dividend_FX_Security_ID] AS [Dividend_FX_Security_ID]
    FROM [dbo].[Security_Detail] AS [Extent1]
    WHERE [Extent1].[Security_ID] = @EntityKeyValue1
2018-04-07 12:44:53.8783|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: SELECT 
    [Extent1].[Security_ID] AS [Security_ID], 
    [Extent1].[Entity_ID] AS [Entity_ID], 
    [Extent1].[Security_Name] AS [Security_Name], 
    [Extent1].[Short_Name] AS [Short_Name], 
    [Extent1].[Primary_Exch] AS [Primary_Exch], 
    [Extent1].[Secondary_Exch] AS [Secondary_Exch], 
    [Extent1].[Country_Of_Domicile] AS [Country_Of_Domicile], 
    [Extent1].[Country_Of_Risk] AS [Country_Of_Risk], 
    [Extent1].[Security_Type_Code] AS [Security_Type_Code], 
    [Extent1].[Price_Multiplier] AS [Price_Multiplier], 
    [Extent1].[Income_Frequency] AS [Income_Frequency], 
    [Extent1].[Issuer_Code] AS [Issuer_Code], 
    [Extent1].[Ultimate_Issuer_Code] AS [Ultimate_Issuer_Code], 
    [Extent1].[Asset_Currency] AS [Asset_Currency], 
    [Extent1].[Min_Lot_Size] AS [Min_Lot_Size], 
    [Extent1].[Decimal_Precision] AS [Decimal_Precision], 
    [Extent1].[AvePrice_Rounding] AS [AvePrice_Rounding], 
    [Extent1].[Issue_Date] AS [Issue_Date], 
    [Extent1].[Maturity_Date] AS [Maturity_Date], 
    [Extent1].[Coupon_Rate] AS [Coupon_Rate], 
    [Extent1].[Price_Exchange] AS [Price_Exchange], 
    [Extent1].[Trade_Currency] AS [Trade_Currency], 
    [Extent1].[Price_Curr] AS [Price_Curr], 
    [Extent1].[Currency_Pair_Code] AS [Currency_Pair_Code], 
    [Extent1].[Share_Class] AS [Share_Class], 
    [Extent1].[Current_Market_Price] AS [Current_Market_Price], 
    [Extent1].[Index_Type] AS [Index_Type], 
    [Extent1].[Clean_Price_Formula] AS [Clean_Price_Formula], 
    [Extent1].[Accrued_Income_Price_Formula] AS [Accrued_Income_Price_Formula], 
    [Extent1].[Odd_First_Coupon_Date] AS [Odd_First_Coupon_Date], 
    [Extent1].[Odd_Last_Coupon_Date] AS [Odd_Last_Coupon_Date], 
    [Extent1].[Coupon_Anniversary_Indicator] AS [Coupon_Anniversary_Indicator], 
    [Extent1].[Track_EOM_Flag] AS [Track_EOM_Flag], 
    [Extent1].[Next_Coupon_Date] AS [Next_Coupon_Date], 
    [Extent1].[Previous_Coupon_Date] AS [Previous_Coupon_Date], 
    [Extent1].[Payment_Frequency] AS [Payment_Frequency], 
    [Extent1].[Coupon_BusDay_Adjustment] AS [Coupon_BusDay_Adjustment], 
    [Extent1].[Next_Ex_Div_Date] AS [Next_Ex_Div_Date], 
    [Extent1].[Ex_Div_BusDay_Adjustment] AS [Ex_Div_BusDay_Adjustment], 
    [Extent1].[Ex_Div_Period] AS [Ex_Div_Period], 
    [Extent1].[Ticker] AS [Ticker], 
    [Extent1].[Inet_ID] AS [Inet_ID], 
    [Extent1].[Bloomberg_ID] AS [Bloomberg_ID], 
    [Extent1].[External_Sec_ID] AS [External_Sec_ID], 
    [Extent1].[Reuters_ID] AS [Reuters_ID], 
    [Extent1].[ISIN] AS [ISIN], 
    [Extent1].[Call_Account_Flag] AS [Call_Account_Flag], 
    [Extent1].[System_Locked] AS [System_Locked], 
    [Extent1].[Last_Update_User] AS [Last_Update_User], 
    [Extent1].[Last_Update_Date] AS [Last_Update_Date], 
    [Extent1].[Security_Status] AS [Security_Status], 
    [Extent1].[Benchmark_Portfolio] AS [Benchmark_Portfolio], 
    [Extent1].[Active_flag] AS [Active_flag], 
    [Extent1].[Dividend_FX_Security_ID] AS [Dividend_FX_Security_ID]
    FROM [dbo].[Security_Detail] AS [Extent1]
    WHERE [Extent1].[Security_ID] = @EntityKeyValue1
2018-04-07 12:44:53.9208|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: SELECT 
    [Project1].[Security_ID] AS [Security_ID], 
    [Project1].[Entity_ID] AS [Entity_ID], 
    [Project1].[Security_Name] AS [Security_Name], 
    [Project1].[Short_Name] AS [Short_Name], 
    [Project1].[Primary_Exch] AS [Primary_Exch], 
    [Project1].[Secondary_Exch] AS [Secondary_Exch], 
    [Project1].[Country_Of_Domicile] AS [Country_Of_Domicile], 
    [Project1].[Country_Of_Risk] AS [Country_Of_Risk], 
    [Project1].[Security_Type_Code] AS [Security_Type_Code], 
    [Project1].[Price_Multiplier] AS [Price_Multiplier], 
    [Project1].[Income_Frequency] AS [Income_Frequency], 
    [Project1].[Issuer_Code] AS [Issuer_Code], 
    [Project1].[Ultimate_Issuer_Code] AS [Ultimate_Issuer_Code], 
    [Project1].[Asset_Currency] AS [Asset_Currency], 
    [Project1].[Min_Lot_Size] AS [Min_Lot_Size], 
    [Project1].[Decimal_Precision] AS [Decimal_Precision], 
    [Project1].[AvePrice_Rounding] AS [AvePrice_Rounding], 
    [Project1].[Issue_Date] AS [Issue_Date], 
    [Project1].[Maturity_Date] AS [Maturity_Date], 
    [Project1].[Coupon_Rate] AS [Coupon_Rate], 
    [Project1].[Price_Exchange] AS [Price_Exchange], 
    [Project1].[Trade_Currency] AS [Trade_Currency], 
    [Project1].[Price_Curr] AS [Price_Curr], 
    [Project1].[Currency_Pair_Code] AS [Currency_Pair_Code], 
    [Project1].[Share_Class] AS [Share_Class], 
    [Project1].[Current_Market_Price] AS [Current_Market_Price], 
    [Project1].[Index_Type] AS [Index_Type], 
    [Project1].[Clean_Price_Formula] AS [Clean_Price_Formula], 
    [Project1].[Accrued_Income_Price_Formula] AS [Accrued_Income_Price_Formula], 
    [Project1].[Odd_First_Coupon_Date] AS [Odd_First_Coupon_Date], 
    [Project1].[Odd_Last_Coupon_Date] AS [Odd_Last_Coupon_Date], 
    [Project1].[Coupon_Anniversary_Indicator] AS [Coupon_Anniversary_Indicator], 
    [Project1].[Track_EOM_Flag] AS [Track_EOM_Flag], 
    [Project1].[Next_Coupon_Date] AS [Next_Coupon_Date], 
    [Project1].[Previous_Coupon_Date] AS [Previous_Coupon_Date], 
    [Project1].[Payment_Frequency] AS [Payment_Frequency], 
    [Project1].[Coupon_BusDay_Adjustment] AS [Coupon_BusDay_Adjustment], 
    [Project1].[Next_Ex_Div_Date] AS [Next_Ex_Div_Date], 
    [Project1].[Ex_Div_BusDay_Adjustment] AS [Ex_Div_BusDay_Adjustment], 
    [Project1].[Ex_Div_Period] AS [Ex_Div_Period], 
    [Project1].[Ticker] AS [Ticker], 
    [Project1].[Inet_ID] AS [Inet_ID], 
    [Project1].[Bloomberg_ID] AS [Bloomberg_ID], 
    [Project1].[External_Sec_ID] AS [External_Sec_ID], 
    [Project1].[Reuters_ID] AS [Reuters_ID], 
    [Project1].[ISIN] AS [ISIN], 
    [Project1].[Call_Account_Flag] AS [Call_Account_Flag], 
    [Project1].[System_Locked] AS [System_Locked], 
    [Project1].[Last_Update_User] AS [Last_Update_User], 
    [Project1].[Last_Update_Date] AS [Last_Update_Date], 
    [Project1].[Security_Status] AS [Security_Status], 
    [Project1].[Benchmark_Portfolio] AS [Benchmark_Portfolio], 
    [Project1].[Active_flag] AS [Active_flag], 
    [Project1].[Dividend_FX_Security_ID] AS [Dividend_FX_Security_ID]
    FROM ( SELECT 
        [Extent1].[Security_ID] AS [Security_ID], 
        [Extent1].[Entity_ID] AS [Entity_ID], 
        [Extent1].[Security_Name] AS [Security_Name], 
        [Extent1].[Short_Name] AS [Short_Name], 
        [Extent1].[Primary_Exch] AS [Primary_Exch], 
        [Extent1].[Secondary_Exch] AS [Secondary_Exch], 
        [Extent1].[Country_Of_Domicile] AS [Country_Of_Domicile], 
        [Extent1].[Country_Of_Risk] AS [Country_Of_Risk], 
        [Extent1].[Security_Type_Code] AS [Security_Type_Code], 
        [Extent1].[Price_Multiplier] AS [Price_Multiplier], 
        [Extent1].[Income_Frequency] AS [Income_Frequency], 
        [Extent1].[Issuer_Code] AS [Issuer_Code], 
        [Extent1].[Ultimate_Issuer_Code] AS [Ultimate_Issuer_Code], 
        [Extent1].[Asset_Currency] AS [Asset_Currency], 
        [Extent1].[Min_Lot_Size] AS [Min_Lot_Size], 
        [Extent1].[Decimal_Precision] AS [Decimal_Precision], 
        [Extent1].[AvePrice_Rounding] AS [AvePrice_Rounding], 
        [Extent1].[Issue_Date] AS [Issue_Date], 
        [Extent1].[Maturity_Date] AS [Maturity_Date], 
        [Extent1].[Coupon_Rate] AS [Coupon_Rate], 
        [Extent1].[Price_Exchange] AS [Price_Exchange], 
        [Extent1].[Trade_Currency] AS [Trade_Currency], 
        [Extent1].[Price_Curr] AS [Price_Curr], 
        [Extent1].[Currency_Pair_Code] AS [Currency_Pair_Code], 
        [Extent1].[Share_Class] AS [Share_Class], 
        [Extent1].[Current_Market_Price] AS [Current_Market_Price], 
        [Extent1].[Index_Type] AS [Index_Type], 
        [Extent1].[Clean_Price_Formula] AS [Clean_Price_Formula], 
        [Extent1].[Accrued_Income_Price_Formula] AS [Accrued_Income_Price_Formula], 
        [Extent1].[Odd_First_Coupon_Date] AS [Odd_First_Coupon_Date], 
        [Extent1].[Odd_Last_Coupon_Date] AS [Odd_Last_Coupon_Date], 
        [Extent1].[Coupon_Anniversary_Indicator] AS [Coupon_Anniversary_Indicator], 
        [Extent1].[Track_EOM_Flag] AS [Track_EOM_Flag], 
        [Extent1].[Next_Coupon_Date] AS [Next_Coupon_Date], 
        [Extent1].[Previous_Coupon_Date] AS [Previous_Coupon_Date], 
        [Extent1].[Payment_Frequency] AS [Payment_Frequency], 
        [Extent1].[Coupon_BusDay_Adjustment] AS [Coupon_BusDay_Adjustment], 
        [Extent1].[Next_Ex_Div_Date] AS [Next_Ex_Div_Date], 
        [Extent1].[Ex_Div_BusDay_Adjustment] AS [Ex_Div_BusDay_Adjustment], 
        [Extent1].[Ex_Div_Period] AS [Ex_Div_Period], 
        [Extent1].[Ticker] AS [Ticker], 
        [Extent1].[Inet_ID] AS [Inet_ID], 
        [Extent1].[Bloomberg_ID] AS [Bloomberg_ID], 
        [Extent1].[External_Sec_ID] AS [External_Sec_ID], 
        [Extent1].[Reuters_ID] AS [Reuters_ID], 
        [Extent1].[ISIN] AS [ISIN], 
        [Extent1].[Call_Account_Flag] AS [Call_Account_Flag], 
        [Extent1].[System_Locked] AS [System_Locked], 
        [Extent1].[Last_Update_User] AS [Last_Update_User], 
        [Extent1].[Last_Update_Date] AS [Last_Update_Date], 
        [Extent1].[Security_Status] AS [Security_Status], 
        [Extent1].[Benchmark_Portfolio] AS [Benchmark_Portfolio], 
        [Extent1].[Active_flag] AS [Active_flag], 
        [Extent1].[Dividend_FX_Security_ID] AS [Dividend_FX_Security_ID]
        FROM [dbo].[Security_Detail] AS [Extent1]
        WHERE ([Extent1].[Entity_ID] IN (@p__linq__0,@p__linq__1)) AND ((CASE WHEN ( NOT ((N'' = @p__linq__2) AND (@p__linq__2 IS NOT NULL))) THEN CASE WHEN ([Extent1].[Security_Type_Code] = @p__linq__3) THEN cast(1 as bit) WHEN ( NOT (([Extent1].[Security_Type_Code] = @p__linq__3) AND (0 = (CASE WHEN (@p__linq__3 IS NULL) THEN cast(1 as bit) ELSE cast(0 as bit) END)))) THEN cast(0 as bit) END WHEN ('' <> [Extent1].[Security_Type_Code]) THEN cast(1 as bit) WHEN ('' = [Extent1].[Security_Type_Code]) THEN cast(0 as bit) END) = 1)
    )  AS [Project1]
    ORDER BY [Project1].[Security_Name] ASC
2018-04-07 12:44:53.9578|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: SELECT 
    [Project1].[Security_ID] AS [Security_ID], 
    [Project1].[Entity_ID] AS [Entity_ID], 
    [Project1].[Security_Name] AS [Security_Name], 
    [Project1].[Short_Name] AS [Short_Name], 
    [Project1].[Primary_Exch] AS [Primary_Exch], 
    [Project1].[Secondary_Exch] AS [Secondary_Exch], 
    [Project1].[Country_Of_Domicile] AS [Country_Of_Domicile], 
    [Project1].[Country_Of_Risk] AS [Country_Of_Risk], 
    [Project1].[Security_Type_Code] AS [Security_Type_Code], 
    [Project1].[Price_Multiplier] AS [Price_Multiplier], 
    [Project1].[Income_Frequency] AS [Income_Frequency], 
    [Project1].[Issuer_Code] AS [Issuer_Code], 
    [Project1].[Ultimate_Issuer_Code] AS [Ultimate_Issuer_Code], 
    [Project1].[Asset_Currency] AS [Asset_Currency], 
    [Project1].[Min_Lot_Size] AS [Min_Lot_Size], 
    [Project1].[Decimal_Precision] AS [Decimal_Precision], 
    [Project1].[AvePrice_Rounding] AS [AvePrice_Rounding], 
    [Project1].[Issue_Date] AS [Issue_Date], 
    [Project1].[Maturity_Date] AS [Maturity_Date], 
    [Project1].[Coupon_Rate] AS [Coupon_Rate], 
    [Project1].[Price_Exchange] AS [Price_Exchange], 
    [Project1].[Trade_Currency] AS [Trade_Currency], 
    [Project1].[Price_Curr] AS [Price_Curr], 
    [Project1].[Currency_Pair_Code] AS [Currency_Pair_Code], 
    [Project1].[Share_Class] AS [Share_Class], 
    [Project1].[Current_Market_Price] AS [Current_Market_Price], 
    [Project1].[Index_Type] AS [Index_Type], 
    [Project1].[Clean_Price_Formula] AS [Clean_Price_Formula], 
    [Project1].[Accrued_Income_Price_Formula] AS [Accrued_Income_Price_Formula], 
    [Project1].[Odd_First_Coupon_Date] AS [Odd_First_Coupon_Date], 
    [Project1].[Odd_Last_Coupon_Date] AS [Odd_Last_Coupon_Date], 
    [Project1].[Coupon_Anniversary_Indicator] AS [Coupon_Anniversary_Indicator], 
    [Project1].[Track_EOM_Flag] AS [Track_EOM_Flag], 
    [Project1].[Next_Coupon_Date] AS [Next_Coupon_Date], 
    [Project1].[Previous_Coupon_Date] AS [Previous_Coupon_Date], 
    [Project1].[Payment_Frequency] AS [Payment_Frequency], 
    [Project1].[Coupon_BusDay_Adjustment] AS [Coupon_BusDay_Adjustment], 
    [Project1].[Next_Ex_Div_Date] AS [Next_Ex_Div_Date], 
    [Project1].[Ex_Div_BusDay_Adjustment] AS [Ex_Div_BusDay_Adjustment], 
    [Project1].[Ex_Div_Period] AS [Ex_Div_Period], 
    [Project1].[Ticker] AS [Ticker], 
    [Project1].[Inet_ID] AS [Inet_ID], 
    [Project1].[Bloomberg_ID] AS [Bloomberg_ID], 
    [Project1].[External_Sec_ID] AS [External_Sec_ID], 
    [Project1].[Reuters_ID] AS [Reuters_ID], 
    [Project1].[ISIN] AS [ISIN], 
    [Project1].[Call_Account_Flag] AS [Call_Account_Flag], 
    [Project1].[System_Locked] AS [System_Locked], 
    [Project1].[Last_Update_User] AS [Last_Update_User], 
    [Project1].[Last_Update_Date] AS [Last_Update_Date], 
    [Project1].[Security_Status] AS [Security_Status], 
    [Project1].[Benchmark_Portfolio] AS [Benchmark_Portfolio], 
    [Project1].[Active_flag] AS [Active_flag], 
    [Project1].[Dividend_FX_Security_ID] AS [Dividend_FX_Security_ID]
    FROM ( SELECT 
        [Extent1].[Security_ID] AS [Security_ID], 
        [Extent1].[Entity_ID] AS [Entity_ID], 
        [Extent1].[Security_Name] AS [Security_Name], 
        [Extent1].[Short_Name] AS [Short_Name], 
        [Extent1].[Primary_Exch] AS [Primary_Exch], 
        [Extent1].[Secondary_Exch] AS [Secondary_Exch], 
        [Extent1].[Country_Of_Domicile] AS [Country_Of_Domicile], 
        [Extent1].[Country_Of_Risk] AS [Country_Of_Risk], 
        [Extent1].[Security_Type_Code] AS [Security_Type_Code], 
        [Extent1].[Price_Multiplier] AS [Price_Multiplier], 
        [Extent1].[Income_Frequency] AS [Income_Frequency], 
        [Extent1].[Issuer_Code] AS [Issuer_Code], 
        [Extent1].[Ultimate_Issuer_Code] AS [Ultimate_Issuer_Code], 
        [Extent1].[Asset_Currency] AS [Asset_Currency], 
        [Extent1].[Min_Lot_Size] AS [Min_Lot_Size], 
        [Extent1].[Decimal_Precision] AS [Decimal_Precision], 
        [Extent1].[AvePrice_Rounding] AS [AvePrice_Rounding], 
        [Extent1].[Issue_Date] AS [Issue_Date], 
        [Extent1].[Maturity_Date] AS [Maturity_Date], 
        [Extent1].[Coupon_Rate] AS [Coupon_Rate], 
        [Extent1].[Price_Exchange] AS [Price_Exchange], 
        [Extent1].[Trade_Currency] AS [Trade_Currency], 
        [Extent1].[Price_Curr] AS [Price_Curr], 
        [Extent1].[Currency_Pair_Code] AS [Currency_Pair_Code], 
        [Extent1].[Share_Class] AS [Share_Class], 
        [Extent1].[Current_Market_Price] AS [Current_Market_Price], 
        [Extent1].[Index_Type] AS [Index_Type], 
        [Extent1].[Clean_Price_Formula] AS [Clean_Price_Formula], 
        [Extent1].[Accrued_Income_Price_Formula] AS [Accrued_Income_Price_Formula], 
        [Extent1].[Odd_First_Coupon_Date] AS [Odd_First_Coupon_Date], 
        [Extent1].[Odd_Last_Coupon_Date] AS [Odd_Last_Coupon_Date], 
        [Extent1].[Coupon_Anniversary_Indicator] AS [Coupon_Anniversary_Indicator], 
        [Extent1].[Track_EOM_Flag] AS [Track_EOM_Flag], 
        [Extent1].[Next_Coupon_Date] AS [Next_Coupon_Date], 
        [Extent1].[Previous_Coupon_Date] AS [Previous_Coupon_Date], 
        [Extent1].[Payment_Frequency] AS [Payment_Frequency], 
        [Extent1].[Coupon_BusDay_Adjustment] AS [Coupon_BusDay_Adjustment], 
        [Extent1].[Next_Ex_Div_Date] AS [Next_Ex_Div_Date], 
        [Extent1].[Ex_Div_BusDay_Adjustment] AS [Ex_Div_BusDay_Adjustment], 
        [Extent1].[Ex_Div_Period] AS [Ex_Div_Period], 
        [Extent1].[Ticker] AS [Ticker], 
        [Extent1].[Inet_ID] AS [Inet_ID], 
        [Extent1].[Bloomberg_ID] AS [Bloomberg_ID], 
        [Extent1].[External_Sec_ID] AS [External_Sec_ID], 
        [Extent1].[Reuters_ID] AS [Reuters_ID], 
        [Extent1].[ISIN] AS [ISIN], 
        [Extent1].[Call_Account_Flag] AS [Call_Account_Flag], 
        [Extent1].[System_Locked] AS [System_Locked], 
        [Extent1].[Last_Update_User] AS [Last_Update_User], 
        [Extent1].[Last_Update_Date] AS [Last_Update_Date], 
        [Extent1].[Security_Status] AS [Security_Status], 
        [Extent1].[Benchmark_Portfolio] AS [Benchmark_Portfolio], 
        [Extent1].[Active_flag] AS [Active_flag], 
        [Extent1].[Dividend_FX_Security_ID] AS [Dividend_FX_Security_ID]
        FROM [dbo].[Security_Detail] AS [Extent1]
        WHERE ([Extent1].[Entity_ID] IN (@p__linq__0,@p__linq__1)) AND ((CASE WHEN ( NOT ((N'' = @p__linq__2) AND (@p__linq__2 IS NOT NULL))) THEN CASE WHEN ([Extent1].[Security_Type_Code] = @p__linq__3) THEN cast(1 as bit) WHEN ( NOT (([Extent1].[Security_Type_Code] = @p__linq__3) AND (0 = (CASE WHEN (@p__linq__3 IS NULL) THEN cast(1 as bit) ELSE cast(0 as bit) END)))) THEN cast(0 as bit) END WHEN ('' <> [Extent1].[Security_Type_Code]) THEN cast(1 as bit) WHEN ('' = [Extent1].[Security_Type_Code]) THEN cast(0 as bit) END) = 1)
    )  AS [Project1]
    ORDER BY [Project1].[Security_Name] ASC
2018-04-07 12:44:54.0068|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: IF db_id(N'MetopeAzureDb') IS NOT NULL SELECT 1 ELSE SELECT Count(*) FROM sys.databases WHERE [name]=N'MetopeAzureDb'
2018-04-07 12:44:54.0309|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: IF db_id(N'MetopeAzureDb') IS NOT NULL SELECT 1 ELSE SELECT Count(*) FROM sys.databases WHERE [name]=N'MetopeAzureDb'
2018-04-07 12:44:54.0644|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: IF db_id(N'MetopeAzureDb') IS NOT NULL SELECT 1 ELSE SELECT Count(*) FROM sys.databases WHERE [name]=N'MetopeAzureDb'
2018-04-07 12:44:54.0939|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: IF db_id(N'MetopeAzureDb') IS NOT NULL SELECT 1 ELSE SELECT Count(*) FROM sys.databases WHERE [name]=N'MetopeAzureDb'
2018-04-07 12:44:59.8718|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: SELECT 
    [Project1].[Decimal_Precision] AS [Decimal_Precision], 
    [Project1].[Security_ID] AS [Security_ID], 
    [Project1].[Portfolio_Code] AS [Portfolio_Code], 
    [Project1].[Entity_ID] AS [Entity_ID], 
    [Project1].[ModDietz_Performance_Quarterly] AS [ModDietz_Performance_Quarterly], 
    [Project1].[ModDietz_Performance_Monthly] AS [ModDietz_Performance_Monthly], 
    [Project1].[ModDietz_Performance_MonthToDate] AS [ModDietz_Performance_MonthToDate], 
    [Project1].[Dietz_Performance_Quarterly] AS [Dietz_Performance_Quarterly], 
    [Project1].[Dietz_Performance_Monthly] AS [Dietz_Performance_Monthly], 
    [Project1].[Dietz_Performance_MonthToDate] AS [Dietz_Performance_MonthToDate], 
    [Project1].[Last_Update_Date] AS [Last_Update_Date], 
    [Project1].[Last_Update_User] AS [Last_Update_User], 
    [Project1].[Record_Date] AS [Record_Date], 
    [Project1].[Session_ID] AS [Session_ID], 
    [Project1].[Hist_Last_Update_Date] AS [Hist_Last_Update_Date], 
    [Project1].[Hist_Last_Update_User] AS [Hist_Last_Update_User], 
    [Project1].[Security_ID1] AS [Security_ID1], 
    [Project1].[Entity_ID1] AS [Entity_ID1], 
    [Project1].[Security_Name] AS [Security_Name], 
    [Project1].[Short_Name] AS [Short_Name], 
    [Project1].[Primary_Exch] AS [Primary_Exch], 
    [Project1].[Secondary_Exch] AS [Secondary_Exch], 
    [Project1].[Country_Of_Domicile] AS [Country_Of_Domicile], 
    [Project1].[Country_Of_Risk] AS [Country_Of_Risk], 
    [Project1].[Security_Type_Code] AS [Security_Type_Code], 
    [Project1].[Price_Multiplier] AS [Price_Multiplier], 
    [Project1].[Income_Frequency] AS [Income_Frequency], 
    [Project1].[Issuer_Code] AS [Issuer_Code], 
    [Project1].[Ultimate_Issuer_Code] AS [Ultimate_Issuer_Code], 
    [Project1].[Asset_Currency] AS [Asset_Currency], 
    [Project1].[Min_Lot_Size] AS [Min_Lot_Size], 
    [Project1].[AvePrice_Rounding] AS [AvePrice_Rounding], 
    [Project1].[Issue_Date] AS [Issue_Date], 
    [Project1].[Maturity_Date] AS [Maturity_Date], 
    [Project1].[Coupon_Rate] AS [Coupon_Rate], 
    [Project1].[Price_Exchange] AS [Price_Exchange], 
    [Project1].[Trade_Currency] AS [Trade_Currency], 
    [Project1].[Price_Curr] AS [Price_Curr], 
    [Project1].[Currency_Pair_Code] AS [Currency_Pair_Code], 
    [Project1].[Share_Class] AS [Share_Class], 
    [Project1].[Current_Market_Price] AS [Current_Market_Price], 
    [Project1].[Index_Type] AS [Index_Type], 
    [Project1].[Clean_Price_Formula] AS [Clean_Price_Formula], 
    [Project1].[Accrued_Income_Price_Formula] AS [Accrued_Income_Price_Formula], 
    [Project1].[Odd_First_Coupon_Date] AS [Odd_First_Coupon_Date], 
    [Project1].[Odd_Last_Coupon_Date] AS [Odd_Last_Coupon_Date], 
    [Project1].[Coupon_Anniversary_Indicator] AS [Coupon_Anniversary_Indicator], 
    [Project1].[Track_EOM_Flag] AS [Track_EOM_Flag], 
    [Project1].[Next_Coupon_Date] AS [Next_Coupon_Date], 
    [Project1].[Previous_Coupon_Date] AS [Previous_Coupon_Date], 
    [Project1].[Payment_Frequency] AS [Payment_Frequency], 
    [Project1].[Coupon_BusDay_Adjustment] AS [Coupon_BusDay_Adjustment], 
    [Project1].[Next_Ex_Div_Date] AS [Next_Ex_Div_Date], 
    [Project1].[Ex_Div_BusDay_Adjustment] AS [Ex_Div_BusDay_Adjustment], 
    [Project1].[Ex_Div_Period] AS [Ex_Div_Period], 
    [Project1].[Ticker] AS [Ticker], 
    [Project1].[Inet_ID] AS [Inet_ID], 
    [Project1].[Bloomberg_ID] AS [Bloomberg_ID], 
    [Project1].[External_Sec_ID] AS [External_Sec_ID], 
    [Project1].[Reuters_ID] AS [Reuters_ID], 
    [Project1].[ISIN] AS [ISIN], 
    [Project1].[Call_Account_Flag] AS [Call_Account_Flag], 
    [Project1].[System_Locked] AS [System_Locked], 
    [Project1].[Last_Update_User1] AS [Last_Update_User1], 
    [Project1].[Last_Update_Date1] AS [Last_Update_Date1], 
    [Project1].[Security_Status] AS [Security_Status], 
    [Project1].[Benchmark_Portfolio] AS [Benchmark_Portfolio], 
    [Project1].[Active_flag] AS [Active_flag], 
    [Project1].[Dividend_FX_Security_ID] AS [Dividend_FX_Security_ID]
    FROM ( SELECT 
        [Extent1].[Security_ID] AS [Security_ID], 
        [Extent1].[Portfolio_Code] AS [Portfolio_Code], 
        [Extent1].[Entity_ID] AS [Entity_ID], 
        [Extent1].[ModDietz_Performance_Quarterly] AS [ModDietz_Performance_Quarterly], 
        [Extent1].[ModDietz_Performance_Monthly] AS [ModDietz_Performance_Monthly], 
        [Extent1].[ModDietz_Performance_MonthToDate] AS [ModDietz_Performance_MonthToDate], 
        [Extent1].[Dietz_Performance_Quarterly] AS [Dietz_Performance_Quarterly], 
        [Extent1].[Dietz_Performance_Monthly] AS [Dietz_Performance_Monthly], 
        [Extent1].[Dietz_Performance_MonthToDate] AS [Dietz_Performance_MonthToDate], 
        [Extent1].[Last_Update_Date] AS [Last_Update_Date], 
        [Extent1].[Last_Update_User] AS [Last_Update_User], 
        [Extent1].[Record_Date] AS [Record_Date], 
        [Extent1].[Session_ID] AS [Session_ID], 
        [Extent1].[Hist_Last_Update_Date] AS [Hist_Last_Update_Date], 
        [Extent1].[Hist_Last_Update_User] AS [Hist_Last_Update_User], 
        [Extent2].[Security_ID] AS [Security_ID1], 
        [Extent2].[Entity_ID] AS [Entity_ID1], 
        [Extent2].[Security_Name] AS [Security_Name], 
        [Extent2].[Short_Name] AS [Short_Name], 
        [Extent2].[Primary_Exch] AS [Primary_Exch], 
        [Extent2].[Secondary_Exch] AS [Secondary_Exch], 
        [Extent2].[Country_Of_Domicile] AS [Country_Of_Domicile], 
        [Extent2].[Country_Of_Risk] AS [Country_Of_Risk], 
        [Extent2].[Security_Type_Code] AS [Security_Type_Code], 
        [Extent2].[Price_Multiplier] AS [Price_Multiplier], 
        [Extent2].[Income_Frequency] AS [Income_Frequency], 
        [Extent2].[Issuer_Code] AS [Issuer_Code], 
        [Extent2].[Ultimate_Issuer_Code] AS [Ultimate_Issuer_Code], 
        [Extent2].[Asset_Currency] AS [Asset_Currency], 
        [Extent2].[Min_Lot_Size] AS [Min_Lot_Size], 
        [Extent2].[Decimal_Precision] AS [Decimal_Precision], 
        [Extent2].[AvePrice_Rounding] AS [AvePrice_Rounding], 
        [Extent2].[Issue_Date] AS [Issue_Date], 
        [Extent2].[Maturity_Date] AS [Maturity_Date], 
        [Extent2].[Coupon_Rate] AS [Coupon_Rate], 
        [Extent2].[Price_Exchange] AS [Price_Exchange], 
        [Extent2].[Trade_Currency] AS [Trade_Currency], 
        [Extent2].[Price_Curr] AS [Price_Curr], 
        [Extent2].[Currency_Pair_Code] AS [Currency_Pair_Code], 
        [Extent2].[Share_Class] AS [Share_Class], 
        [Extent2].[Current_Market_Price] AS [Current_Market_Price], 
        [Extent2].[Index_Type] AS [Index_Type], 
        [Extent2].[Clean_Price_Formula] AS [Clean_Price_Formula], 
        [Extent2].[Accrued_Income_Price_Formula] AS [Accrued_Income_Price_Formula], 
        [Extent2].[Odd_First_Coupon_Date] AS [Odd_First_Coupon_Date], 
        [Extent2].[Odd_Last_Coupon_Date] AS [Odd_Last_Coupon_Date], 
        [Extent2].[Coupon_Anniversary_Indicator] AS [Coupon_Anniversary_Indicator], 
        [Extent2].[Track_EOM_Flag] AS [Track_EOM_Flag], 
        [Extent2].[Next_Coupon_Date] AS [Next_Coupon_Date], 
        [Extent2].[Previous_Coupon_Date] AS [Previous_Coupon_Date], 
        [Extent2].[Payment_Frequency] AS [Payment_Frequency], 
        [Extent2].[Coupon_BusDay_Adjustment] AS [Coupon_BusDay_Adjustment], 
        [Extent2].[Next_Ex_Div_Date] AS [Next_Ex_Div_Date], 
        [Extent2].[Ex_Div_BusDay_Adjustment] AS [Ex_Div_BusDay_Adjustment], 
        [Extent2].[Ex_Div_Period] AS [Ex_Div_Period], 
        [Extent2].[Ticker] AS [Ticker], 
        [Extent2].[Inet_ID] AS [Inet_ID], 
        [Extent2].[Bloomberg_ID] AS [Bloomberg_ID], 
        [Extent2].[External_Sec_ID] AS [External_Sec_ID], 
        [Extent2].[Reuters_ID] AS [Reuters_ID], 
        [Extent2].[ISIN] AS [ISIN], 
        [Extent2].[Call_Account_Flag] AS [Call_Account_Flag], 
        [Extent2].[System_Locked] AS [System_Locked], 
        [Extent2].[Last_Update_User] AS [Last_Update_User1], 
        [Extent2].[Last_Update_Date] AS [Last_Update_Date1], 
        [Extent2].[Security_Status] AS [Security_Status], 
        [Extent2].[Benchmark_Portfolio] AS [Benchmark_Portfolio], 
        [Extent2].[Active_flag] AS [Active_flag], 
        [Extent2].[Dividend_FX_Security_ID] AS [Dividend_FX_Security_ID]
        FROM  [dbo].[Security_Performance_History] AS [Extent1]
        INNER JOIN [dbo].[Security_Detail] AS [Extent2] ON [Extent1].[Security_ID] = [Extent2].[Security_ID]
        WHERE ([Extent1].[Security_ID] = @p__linq__0) AND ([Extent1].[Portfolio_Code] = @p__linq__1)
    )  AS [Project1]
    ORDER BY [Project1].[Record_Date] DESC
2018-04-07 12:44:59.9203|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: SELECT 
    [Project1].[Decimal_Precision] AS [Decimal_Precision], 
    [Project1].[Security_ID] AS [Security_ID], 
    [Project1].[Portfolio_Code] AS [Portfolio_Code], 
    [Project1].[Entity_ID] AS [Entity_ID], 
    [Project1].[ModDietz_Performance_Quarterly] AS [ModDietz_Performance_Quarterly], 
    [Project1].[ModDietz_Performance_Monthly] AS [ModDietz_Performance_Monthly], 
    [Project1].[ModDietz_Performance_MonthToDate] AS [ModDietz_Performance_MonthToDate], 
    [Project1].[Dietz_Performance_Quarterly] AS [Dietz_Performance_Quarterly], 
    [Project1].[Dietz_Performance_Monthly] AS [Dietz_Performance_Monthly], 
    [Project1].[Dietz_Performance_MonthToDate] AS [Dietz_Performance_MonthToDate], 
    [Project1].[Last_Update_Date] AS [Last_Update_Date], 
    [Project1].[Last_Update_User] AS [Last_Update_User], 
    [Project1].[Record_Date] AS [Record_Date], 
    [Project1].[Session_ID] AS [Session_ID], 
    [Project1].[Hist_Last_Update_Date] AS [Hist_Last_Update_Date], 
    [Project1].[Hist_Last_Update_User] AS [Hist_Last_Update_User], 
    [Project1].[Security_ID1] AS [Security_ID1], 
    [Project1].[Entity_ID1] AS [Entity_ID1], 
    [Project1].[Security_Name] AS [Security_Name], 
    [Project1].[Short_Name] AS [Short_Name], 
    [Project1].[Primary_Exch] AS [Primary_Exch], 
    [Project1].[Secondary_Exch] AS [Secondary_Exch], 
    [Project1].[Country_Of_Domicile] AS [Country_Of_Domicile], 
    [Project1].[Country_Of_Risk] AS [Country_Of_Risk], 
    [Project1].[Security_Type_Code] AS [Security_Type_Code], 
    [Project1].[Price_Multiplier] AS [Price_Multiplier], 
    [Project1].[Income_Frequency] AS [Income_Frequency], 
    [Project1].[Issuer_Code] AS [Issuer_Code], 
    [Project1].[Ultimate_Issuer_Code] AS [Ultimate_Issuer_Code], 
    [Project1].[Asset_Currency] AS [Asset_Currency], 
    [Project1].[Min_Lot_Size] AS [Min_Lot_Size], 
    [Project1].[AvePrice_Rounding] AS [AvePrice_Rounding], 
    [Project1].[Issue_Date] AS [Issue_Date], 
    [Project1].[Maturity_Date] AS [Maturity_Date], 
    [Project1].[Coupon_Rate] AS [Coupon_Rate], 
    [Project1].[Price_Exchange] AS [Price_Exchange], 
    [Project1].[Trade_Currency] AS [Trade_Currency], 
    [Project1].[Price_Curr] AS [Price_Curr], 
    [Project1].[Currency_Pair_Code] AS [Currency_Pair_Code], 
    [Project1].[Share_Class] AS [Share_Class], 
    [Project1].[Current_Market_Price] AS [Current_Market_Price], 
    [Project1].[Index_Type] AS [Index_Type], 
    [Project1].[Clean_Price_Formula] AS [Clean_Price_Formula], 
    [Project1].[Accrued_Income_Price_Formula] AS [Accrued_Income_Price_Formula], 
    [Project1].[Odd_First_Coupon_Date] AS [Odd_First_Coupon_Date], 
    [Project1].[Odd_Last_Coupon_Date] AS [Odd_Last_Coupon_Date], 
    [Project1].[Coupon_Anniversary_Indicator] AS [Coupon_Anniversary_Indicator], 
    [Project1].[Track_EOM_Flag] AS [Track_EOM_Flag], 
    [Project1].[Next_Coupon_Date] AS [Next_Coupon_Date], 
    [Project1].[Previous_Coupon_Date] AS [Previous_Coupon_Date], 
    [Project1].[Payment_Frequency] AS [Payment_Frequency], 
    [Project1].[Coupon_BusDay_Adjustment] AS [Coupon_BusDay_Adjustment], 
    [Project1].[Next_Ex_Div_Date] AS [Next_Ex_Div_Date], 
    [Project1].[Ex_Div_BusDay_Adjustment] AS [Ex_Div_BusDay_Adjustment], 
    [Project1].[Ex_Div_Period] AS [Ex_Div_Period], 
    [Project1].[Ticker] AS [Ticker], 
    [Project1].[Inet_ID] AS [Inet_ID], 
    [Project1].[Bloomberg_ID] AS [Bloomberg_ID], 
    [Project1].[External_Sec_ID] AS [External_Sec_ID], 
    [Project1].[Reuters_ID] AS [Reuters_ID], 
    [Project1].[ISIN] AS [ISIN], 
    [Project1].[Call_Account_Flag] AS [Call_Account_Flag], 
    [Project1].[System_Locked] AS [System_Locked], 
    [Project1].[Last_Update_User1] AS [Last_Update_User1], 
    [Project1].[Last_Update_Date1] AS [Last_Update_Date1], 
    [Project1].[Security_Status] AS [Security_Status], 
    [Project1].[Benchmark_Portfolio] AS [Benchmark_Portfolio], 
    [Project1].[Active_flag] AS [Active_flag], 
    [Project1].[Dividend_FX_Security_ID] AS [Dividend_FX_Security_ID]
    FROM ( SELECT 
        [Extent1].[Security_ID] AS [Security_ID], 
        [Extent1].[Portfolio_Code] AS [Portfolio_Code], 
        [Extent1].[Entity_ID] AS [Entity_ID], 
        [Extent1].[ModDietz_Performance_Quarterly] AS [ModDietz_Performance_Quarterly], 
        [Extent1].[ModDietz_Performance_Monthly] AS [ModDietz_Performance_Monthly], 
        [Extent1].[ModDietz_Performance_MonthToDate] AS [ModDietz_Performance_MonthToDate], 
        [Extent1].[Dietz_Performance_Quarterly] AS [Dietz_Performance_Quarterly], 
        [Extent1].[Dietz_Performance_Monthly] AS [Dietz_Performance_Monthly], 
        [Extent1].[Dietz_Performance_MonthToDate] AS [Dietz_Performance_MonthToDate], 
        [Extent1].[Last_Update_Date] AS [Last_Update_Date], 
        [Extent1].[Last_Update_User] AS [Last_Update_User], 
        [Extent1].[Record_Date] AS [Record_Date], 
        [Extent1].[Session_ID] AS [Session_ID], 
        [Extent1].[Hist_Last_Update_Date] AS [Hist_Last_Update_Date], 
        [Extent1].[Hist_Last_Update_User] AS [Hist_Last_Update_User], 
        [Extent2].[Security_ID] AS [Security_ID1], 
        [Extent2].[Entity_ID] AS [Entity_ID1], 
        [Extent2].[Security_Name] AS [Security_Name], 
        [Extent2].[Short_Name] AS [Short_Name], 
        [Extent2].[Primary_Exch] AS [Primary_Exch], 
        [Extent2].[Secondary_Exch] AS [Secondary_Exch], 
        [Extent2].[Country_Of_Domicile] AS [Country_Of_Domicile], 
        [Extent2].[Country_Of_Risk] AS [Country_Of_Risk], 
        [Extent2].[Security_Type_Code] AS [Security_Type_Code], 
        [Extent2].[Price_Multiplier] AS [Price_Multiplier], 
        [Extent2].[Income_Frequency] AS [Income_Frequency], 
        [Extent2].[Issuer_Code] AS [Issuer_Code], 
        [Extent2].[Ultimate_Issuer_Code] AS [Ultimate_Issuer_Code], 
        [Extent2].[Asset_Currency] AS [Asset_Currency], 
        [Extent2].[Min_Lot_Size] AS [Min_Lot_Size], 
        [Extent2].[Decimal_Precision] AS [Decimal_Precision], 
        [Extent2].[AvePrice_Rounding] AS [AvePrice_Rounding], 
        [Extent2].[Issue_Date] AS [Issue_Date], 
        [Extent2].[Maturity_Date] AS [Maturity_Date], 
        [Extent2].[Coupon_Rate] AS [Coupon_Rate], 
        [Extent2].[Price_Exchange] AS [Price_Exchange], 
        [Extent2].[Trade_Currency] AS [Trade_Currency], 
        [Extent2].[Price_Curr] AS [Price_Curr], 
        [Extent2].[Currency_Pair_Code] AS [Currency_Pair_Code], 
        [Extent2].[Share_Class] AS [Share_Class], 
        [Extent2].[Current_Market_Price] AS [Current_Market_Price], 
        [Extent2].[Index_Type] AS [Index_Type], 
        [Extent2].[Clean_Price_Formula] AS [Clean_Price_Formula], 
        [Extent2].[Accrued_Income_Price_Formula] AS [Accrued_Income_Price_Formula], 
        [Extent2].[Odd_First_Coupon_Date] AS [Odd_First_Coupon_Date], 
        [Extent2].[Odd_Last_Coupon_Date] AS [Odd_Last_Coupon_Date], 
        [Extent2].[Coupon_Anniversary_Indicator] AS [Coupon_Anniversary_Indicator], 
        [Extent2].[Track_EOM_Flag] AS [Track_EOM_Flag], 
        [Extent2].[Next_Coupon_Date] AS [Next_Coupon_Date], 
        [Extent2].[Previous_Coupon_Date] AS [Previous_Coupon_Date], 
        [Extent2].[Payment_Frequency] AS [Payment_Frequency], 
        [Extent2].[Coupon_BusDay_Adjustment] AS [Coupon_BusDay_Adjustment], 
        [Extent2].[Next_Ex_Div_Date] AS [Next_Ex_Div_Date], 
        [Extent2].[Ex_Div_BusDay_Adjustment] AS [Ex_Div_BusDay_Adjustment], 
        [Extent2].[Ex_Div_Period] AS [Ex_Div_Period], 
        [Extent2].[Ticker] AS [Ticker], 
        [Extent2].[Inet_ID] AS [Inet_ID], 
        [Extent2].[Bloomberg_ID] AS [Bloomberg_ID], 
        [Extent2].[External_Sec_ID] AS [External_Sec_ID], 
        [Extent2].[Reuters_ID] AS [Reuters_ID], 
        [Extent2].[ISIN] AS [ISIN], 
        [Extent2].[Call_Account_Flag] AS [Call_Account_Flag], 
        [Extent2].[System_Locked] AS [System_Locked], 
        [Extent2].[Last_Update_User] AS [Last_Update_User1], 
        [Extent2].[Last_Update_Date] AS [Last_Update_Date1], 
        [Extent2].[Security_Status] AS [Security_Status], 
        [Extent2].[Benchmark_Portfolio] AS [Benchmark_Portfolio], 
        [Extent2].[Active_flag] AS [Active_flag], 
        [Extent2].[Dividend_FX_Security_ID] AS [Dividend_FX_Security_ID]
        FROM  [dbo].[Security_Performance_History] AS [Extent1]
        INNER JOIN [dbo].[Security_Detail] AS [Extent2] ON [Extent1].[Security_ID] = [Extent2].[Security_ID]
        WHERE ([Extent1].[Security_ID] = @p__linq__0) AND ([Extent1].[Portfolio_Code] = @p__linq__1)
    )  AS [Project1]
    ORDER BY [Project1].[Record_Date] DESC
2018-04-07 12:45:00.0969|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: IF db_id(N'MetopeAzureDb') IS NOT NULL SELECT 1 ELSE SELECT Count(*) FROM sys.databases WHERE [name]=N'MetopeAzureDb'
2018-04-07 12:45:00.1204|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: IF db_id(N'MetopeAzureDb') IS NOT NULL SELECT 1 ELSE SELECT Count(*) FROM sys.databases WHERE [name]=N'MetopeAzureDb'
2018-04-07 12:45:00.1445|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: IF db_id(N'MetopeAzureDb') IS NOT NULL SELECT 1 ELSE SELECT Count(*) FROM sys.databases WHERE [name]=N'MetopeAzureDb'
2018-04-07 12:45:00.1640|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: IF db_id(N'MetopeAzureDb') IS NOT NULL SELECT 1 ELSE SELECT Count(*) FROM sys.databases WHERE [name]=N'MetopeAzureDb'
2018-04-07 12:45:02.9346|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: SELECT 
    [Extent1].[Security_ID] AS [Security_ID], 
    [Extent1].[Portfolio_Code] AS [Portfolio_Code], 
    [Extent1].[Entity_ID] AS [Entity_ID], 
    [Extent1].[ModDietz_Performance_Quarterly] AS [ModDietz_Performance_Quarterly], 
    [Extent1].[ModDietz_Performance_Monthly] AS [ModDietz_Performance_Monthly], 
    [Extent1].[ModDietz_Performance_MonthToDate] AS [ModDietz_Performance_MonthToDate], 
    [Extent1].[Dietz_Performance_Quarterly] AS [Dietz_Performance_Quarterly], 
    [Extent1].[Dietz_Performance_Monthly] AS [Dietz_Performance_Monthly], 
    [Extent1].[Dietz_Performance_MonthToDate] AS [Dietz_Performance_MonthToDate], 
    [Extent1].[Last_Update_Date] AS [Last_Update_Date], 
    [Extent1].[Last_Update_User] AS [Last_Update_User], 
    [Extent1].[Record_Date] AS [Record_Date], 
    [Extent1].[Session_ID] AS [Session_ID], 
    [Extent1].[Hist_Last_Update_Date] AS [Hist_Last_Update_Date], 
    [Extent1].[Hist_Last_Update_User] AS [Hist_Last_Update_User]
    FROM [dbo].[Security_Performance_History] AS [Extent1]
    WHERE ([Extent1].[Security_ID] = @p__linq__0) AND ([Extent1].[Portfolio_Code] = @p__linq__1) AND ([Extent1].[Record_Date] = @p__linq__2) AND ([Extent1].[Entity_ID] = @p__linq__3)
2018-04-07 12:45:02.9617|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: SELECT 
    [Extent1].[Security_ID] AS [Security_ID], 
    [Extent1].[Portfolio_Code] AS [Portfolio_Code], 
    [Extent1].[Entity_ID] AS [Entity_ID], 
    [Extent1].[ModDietz_Performance_Quarterly] AS [ModDietz_Performance_Quarterly], 
    [Extent1].[ModDietz_Performance_Monthly] AS [ModDietz_Performance_Monthly], 
    [Extent1].[ModDietz_Performance_MonthToDate] AS [ModDietz_Performance_MonthToDate], 
    [Extent1].[Dietz_Performance_Quarterly] AS [Dietz_Performance_Quarterly], 
    [Extent1].[Dietz_Performance_Monthly] AS [Dietz_Performance_Monthly], 
    [Extent1].[Dietz_Performance_MonthToDate] AS [Dietz_Performance_MonthToDate], 
    [Extent1].[Last_Update_Date] AS [Last_Update_Date], 
    [Extent1].[Last_Update_User] AS [Last_Update_User], 
    [Extent1].[Record_Date] AS [Record_Date], 
    [Extent1].[Session_ID] AS [Session_ID], 
    [Extent1].[Hist_Last_Update_Date] AS [Hist_Last_Update_Date], 
    [Extent1].[Hist_Last_Update_User] AS [Hist_Last_Update_User]
    FROM [dbo].[Security_Performance_History] AS [Extent1]
    WHERE ([Extent1].[Security_ID] = @p__linq__0) AND ([Extent1].[Portfolio_Code] = @p__linq__1) AND ([Extent1].[Record_Date] = @p__linq__2) AND ([Extent1].[Entity_ID] = @p__linq__3)
2018-04-07 12:45:13.9195|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: SELECT 
    [Extent1].[Security_ID] AS [Security_ID], 
    [Extent1].[Portfolio_Code] AS [Portfolio_Code], 
    [Extent1].[Entity_ID] AS [Entity_ID], 
    [Extent1].[ModDietz_Performance_Quarterly] AS [ModDietz_Performance_Quarterly], 
    [Extent1].[ModDietz_Performance_Monthly] AS [ModDietz_Performance_Monthly], 
    [Extent1].[ModDietz_Performance_MonthToDate] AS [ModDietz_Performance_MonthToDate], 
    [Extent1].[Dietz_Performance_Quarterly] AS [Dietz_Performance_Quarterly], 
    [Extent1].[Dietz_Performance_Monthly] AS [Dietz_Performance_Monthly], 
    [Extent1].[Dietz_Performance_MonthToDate] AS [Dietz_Performance_MonthToDate], 
    [Extent1].[Last_Update_Date] AS [Last_Update_Date], 
    [Extent1].[Last_Update_User] AS [Last_Update_User], 
    [Extent1].[Record_Date] AS [Record_Date], 
    [Extent1].[Session_ID] AS [Session_ID], 
    [Extent1].[Hist_Last_Update_Date] AS [Hist_Last_Update_Date], 
    [Extent1].[Hist_Last_Update_User] AS [Hist_Last_Update_User]
    FROM [dbo].[Security_Performance_History] AS [Extent1]
    WHERE ([Extent1].[Security_ID] = @p__linq__0) AND ([Extent1].[Portfolio_Code] = @p__linq__1) AND ([Extent1].[Record_Date] = @p__linq__2) AND ([Extent1].[Entity_ID] = @p__linq__3)
2018-04-07 12:45:13.9435|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: SELECT 
    [Extent1].[Security_ID] AS [Security_ID], 
    [Extent1].[Portfolio_Code] AS [Portfolio_Code], 
    [Extent1].[Entity_ID] AS [Entity_ID], 
    [Extent1].[ModDietz_Performance_Quarterly] AS [ModDietz_Performance_Quarterly], 
    [Extent1].[ModDietz_Performance_Monthly] AS [ModDietz_Performance_Monthly], 
    [Extent1].[ModDietz_Performance_MonthToDate] AS [ModDietz_Performance_MonthToDate], 
    [Extent1].[Dietz_Performance_Quarterly] AS [Dietz_Performance_Quarterly], 
    [Extent1].[Dietz_Performance_Monthly] AS [Dietz_Performance_Monthly], 
    [Extent1].[Dietz_Performance_MonthToDate] AS [Dietz_Performance_MonthToDate], 
    [Extent1].[Last_Update_Date] AS [Last_Update_Date], 
    [Extent1].[Last_Update_User] AS [Last_Update_User], 
    [Extent1].[Record_Date] AS [Record_Date], 
    [Extent1].[Session_ID] AS [Session_ID], 
    [Extent1].[Hist_Last_Update_Date] AS [Hist_Last_Update_Date], 
    [Extent1].[Hist_Last_Update_User] AS [Hist_Last_Update_User]
    FROM [dbo].[Security_Performance_History] AS [Extent1]
    WHERE ([Extent1].[Security_ID] = @p__linq__0) AND ([Extent1].[Portfolio_Code] = @p__linq__1) AND ([Extent1].[Record_Date] = @p__linq__2) AND ([Extent1].[Entity_ID] = @p__linq__3)
2018-04-07 12:45:20.6301|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: SELECT 
    [Extent1].[Security_ID] AS [Security_ID], 
    [Extent1].[Portfolio_Code] AS [Portfolio_Code], 
    [Extent1].[Entity_ID] AS [Entity_ID], 
    [Extent1].[ModDietz_Performance_Quarterly] AS [ModDietz_Performance_Quarterly], 
    [Extent1].[ModDietz_Performance_Monthly] AS [ModDietz_Performance_Monthly], 
    [Extent1].[ModDietz_Performance_MonthToDate] AS [ModDietz_Performance_MonthToDate], 
    [Extent1].[Dietz_Performance_Quarterly] AS [Dietz_Performance_Quarterly], 
    [Extent1].[Dietz_Performance_Monthly] AS [Dietz_Performance_Monthly], 
    [Extent1].[Dietz_Performance_MonthToDate] AS [Dietz_Performance_MonthToDate], 
    [Extent1].[Last_Update_Date] AS [Last_Update_Date], 
    [Extent1].[Last_Update_User] AS [Last_Update_User], 
    [Extent1].[Record_Date] AS [Record_Date], 
    [Extent1].[Session_ID] AS [Session_ID], 
    [Extent1].[Hist_Last_Update_Date] AS [Hist_Last_Update_Date], 
    [Extent1].[Hist_Last_Update_User] AS [Hist_Last_Update_User]
    FROM [dbo].[Security_Performance_History] AS [Extent1]
    WHERE ([Extent1].[Security_ID] = @p__linq__0) AND ([Extent1].[Portfolio_Code] = @p__linq__1) AND ([Extent1].[Record_Date] = @p__linq__2) AND ([Extent1].[Entity_ID] = @p__linq__3)
2018-04-07 12:45:20.6626|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: SELECT 
    [Extent1].[Security_ID] AS [Security_ID], 
    [Extent1].[Portfolio_Code] AS [Portfolio_Code], 
    [Extent1].[Entity_ID] AS [Entity_ID], 
    [Extent1].[ModDietz_Performance_Quarterly] AS [ModDietz_Performance_Quarterly], 
    [Extent1].[ModDietz_Performance_Monthly] AS [ModDietz_Performance_Monthly], 
    [Extent1].[ModDietz_Performance_MonthToDate] AS [ModDietz_Performance_MonthToDate], 
    [Extent1].[Dietz_Performance_Quarterly] AS [Dietz_Performance_Quarterly], 
    [Extent1].[Dietz_Performance_Monthly] AS [Dietz_Performance_Monthly], 
    [Extent1].[Dietz_Performance_MonthToDate] AS [Dietz_Performance_MonthToDate], 
    [Extent1].[Last_Update_Date] AS [Last_Update_Date], 
    [Extent1].[Last_Update_User] AS [Last_Update_User], 
    [Extent1].[Record_Date] AS [Record_Date], 
    [Extent1].[Session_ID] AS [Session_ID], 
    [Extent1].[Hist_Last_Update_Date] AS [Hist_Last_Update_Date], 
    [Extent1].[Hist_Last_Update_User] AS [Hist_Last_Update_User]
    FROM [dbo].[Security_Performance_History] AS [Extent1]
    WHERE ([Extent1].[Security_ID] = @p__linq__0) AND ([Extent1].[Portfolio_Code] = @p__linq__1) AND ([Extent1].[Record_Date] = @p__linq__2) AND ([Extent1].[Entity_ID] = @p__linq__3)
2018-04-07 12:46:37.0214|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: SELECT 
    [Extent1].[Security_ID] AS [Security_ID], 
    [Extent1].[Portfolio_Code] AS [Portfolio_Code], 
    [Extent1].[Entity_ID] AS [Entity_ID], 
    [Extent1].[ModDietz_Performance_Quarterly] AS [ModDietz_Performance_Quarterly], 
    [Extent1].[ModDietz_Performance_Monthly] AS [ModDietz_Performance_Monthly], 
    [Extent1].[ModDietz_Performance_MonthToDate] AS [ModDietz_Performance_MonthToDate], 
    [Extent1].[Dietz_Performance_Quarterly] AS [Dietz_Performance_Quarterly], 
    [Extent1].[Dietz_Performance_Monthly] AS [Dietz_Performance_Monthly], 
    [Extent1].[Dietz_Performance_MonthToDate] AS [Dietz_Performance_MonthToDate], 
    [Extent1].[Last_Update_Date] AS [Last_Update_Date], 
    [Extent1].[Last_Update_User] AS [Last_Update_User], 
    [Extent1].[Record_Date] AS [Record_Date], 
    [Extent1].[Session_ID] AS [Session_ID], 
    [Extent1].[Hist_Last_Update_Date] AS [Hist_Last_Update_Date], 
    [Extent1].[Hist_Last_Update_User] AS [Hist_Last_Update_User]
    FROM [dbo].[Security_Performance_History] AS [Extent1]
    WHERE ([Extent1].[Security_ID] = @p__linq__0) AND ([Extent1].[Portfolio_Code] = @p__linq__1) AND ([Extent1].[Record_Date] = @p__linq__2) AND ([Extent1].[Entity_ID] = @p__linq__3)
2018-04-07 12:46:37.0635|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: SELECT 
    [Extent1].[Security_ID] AS [Security_ID], 
    [Extent1].[Portfolio_Code] AS [Portfolio_Code], 
    [Extent1].[Entity_ID] AS [Entity_ID], 
    [Extent1].[ModDietz_Performance_Quarterly] AS [ModDietz_Performance_Quarterly], 
    [Extent1].[ModDietz_Performance_Monthly] AS [ModDietz_Performance_Monthly], 
    [Extent1].[ModDietz_Performance_MonthToDate] AS [ModDietz_Performance_MonthToDate], 
    [Extent1].[Dietz_Performance_Quarterly] AS [Dietz_Performance_Quarterly], 
    [Extent1].[Dietz_Performance_Monthly] AS [Dietz_Performance_Monthly], 
    [Extent1].[Dietz_Performance_MonthToDate] AS [Dietz_Performance_MonthToDate], 
    [Extent1].[Last_Update_Date] AS [Last_Update_Date], 
    [Extent1].[Last_Update_User] AS [Last_Update_User], 
    [Extent1].[Record_Date] AS [Record_Date], 
    [Extent1].[Session_ID] AS [Session_ID], 
    [Extent1].[Hist_Last_Update_Date] AS [Hist_Last_Update_Date], 
    [Extent1].[Hist_Last_Update_User] AS [Hist_Last_Update_User]
    FROM [dbo].[Security_Performance_History] AS [Extent1]
    WHERE ([Extent1].[Security_ID] = @p__linq__0) AND ([Extent1].[Portfolio_Code] = @p__linq__1) AND ([Extent1].[Record_Date] = @p__linq__2) AND ([Extent1].[Entity_ID] = @p__linq__3)
2018-04-07 12:46:43.4971|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: SELECT 
    [Project1].[Decimal_Precision] AS [Decimal_Precision], 
    [Project1].[Security_ID] AS [Security_ID], 
    [Project1].[Portfolio_Code] AS [Portfolio_Code], 
    [Project1].[Entity_ID] AS [Entity_ID], 
    [Project1].[ModDietz_Performance_Quarterly] AS [ModDietz_Performance_Quarterly], 
    [Project1].[ModDietz_Performance_Monthly] AS [ModDietz_Performance_Monthly], 
    [Project1].[ModDietz_Performance_MonthToDate] AS [ModDietz_Performance_MonthToDate], 
    [Project1].[Dietz_Performance_Quarterly] AS [Dietz_Performance_Quarterly], 
    [Project1].[Dietz_Performance_Monthly] AS [Dietz_Performance_Monthly], 
    [Project1].[Dietz_Performance_MonthToDate] AS [Dietz_Performance_MonthToDate], 
    [Project1].[Last_Update_Date] AS [Last_Update_Date], 
    [Project1].[Last_Update_User] AS [Last_Update_User], 
    [Project1].[Record_Date] AS [Record_Date], 
    [Project1].[Session_ID] AS [Session_ID], 
    [Project1].[Hist_Last_Update_Date] AS [Hist_Last_Update_Date], 
    [Project1].[Hist_Last_Update_User] AS [Hist_Last_Update_User], 
    [Project1].[Security_ID1] AS [Security_ID1], 
    [Project1].[Entity_ID1] AS [Entity_ID1], 
    [Project1].[Security_Name] AS [Security_Name], 
    [Project1].[Short_Name] AS [Short_Name], 
    [Project1].[Primary_Exch] AS [Primary_Exch], 
    [Project1].[Secondary_Exch] AS [Secondary_Exch], 
    [Project1].[Country_Of_Domicile] AS [Country_Of_Domicile], 
    [Project1].[Country_Of_Risk] AS [Country_Of_Risk], 
    [Project1].[Security_Type_Code] AS [Security_Type_Code], 
    [Project1].[Price_Multiplier] AS [Price_Multiplier], 
    [Project1].[Income_Frequency] AS [Income_Frequency], 
    [Project1].[Issuer_Code] AS [Issuer_Code], 
    [Project1].[Ultimate_Issuer_Code] AS [Ultimate_Issuer_Code], 
    [Project1].[Asset_Currency] AS [Asset_Currency], 
    [Project1].[Min_Lot_Size] AS [Min_Lot_Size], 
    [Project1].[AvePrice_Rounding] AS [AvePrice_Rounding], 
    [Project1].[Issue_Date] AS [Issue_Date], 
    [Project1].[Maturity_Date] AS [Maturity_Date], 
    [Project1].[Coupon_Rate] AS [Coupon_Rate], 
    [Project1].[Price_Exchange] AS [Price_Exchange], 
    [Project1].[Trade_Currency] AS [Trade_Currency], 
    [Project1].[Price_Curr] AS [Price_Curr], 
    [Project1].[Currency_Pair_Code] AS [Currency_Pair_Code], 
    [Project1].[Share_Class] AS [Share_Class], 
    [Project1].[Current_Market_Price] AS [Current_Market_Price], 
    [Project1].[Index_Type] AS [Index_Type], 
    [Project1].[Clean_Price_Formula] AS [Clean_Price_Formula], 
    [Project1].[Accrued_Income_Price_Formula] AS [Accrued_Income_Price_Formula], 
    [Project1].[Odd_First_Coupon_Date] AS [Odd_First_Coupon_Date], 
    [Project1].[Odd_Last_Coupon_Date] AS [Odd_Last_Coupon_Date], 
    [Project1].[Coupon_Anniversary_Indicator] AS [Coupon_Anniversary_Indicator], 
    [Project1].[Track_EOM_Flag] AS [Track_EOM_Flag], 
    [Project1].[Next_Coupon_Date] AS [Next_Coupon_Date], 
    [Project1].[Previous_Coupon_Date] AS [Previous_Coupon_Date], 
    [Project1].[Payment_Frequency] AS [Payment_Frequency], 
    [Project1].[Coupon_BusDay_Adjustment] AS [Coupon_BusDay_Adjustment], 
    [Project1].[Next_Ex_Div_Date] AS [Next_Ex_Div_Date], 
    [Project1].[Ex_Div_BusDay_Adjustment] AS [Ex_Div_BusDay_Adjustment], 
    [Project1].[Ex_Div_Period] AS [Ex_Div_Period], 
    [Project1].[Ticker] AS [Ticker], 
    [Project1].[Inet_ID] AS [Inet_ID], 
    [Project1].[Bloomberg_ID] AS [Bloomberg_ID], 
    [Project1].[External_Sec_ID] AS [External_Sec_ID], 
    [Project1].[Reuters_ID] AS [Reuters_ID], 
    [Project1].[ISIN] AS [ISIN], 
    [Project1].[Call_Account_Flag] AS [Call_Account_Flag], 
    [Project1].[System_Locked] AS [System_Locked], 
    [Project1].[Last_Update_User1] AS [Last_Update_User1], 
    [Project1].[Last_Update_Date1] AS [Last_Update_Date1], 
    [Project1].[Security_Status] AS [Security_Status], 
    [Project1].[Benchmark_Portfolio] AS [Benchmark_Portfolio], 
    [Project1].[Active_flag] AS [Active_flag], 
    [Project1].[Dividend_FX_Security_ID] AS [Dividend_FX_Security_ID]
    FROM ( SELECT 
        [Extent1].[Security_ID] AS [Security_ID], 
        [Extent1].[Portfolio_Code] AS [Portfolio_Code], 
        [Extent1].[Entity_ID] AS [Entity_ID], 
        [Extent1].[ModDietz_Performance_Quarterly] AS [ModDietz_Performance_Quarterly], 
        [Extent1].[ModDietz_Performance_Monthly] AS [ModDietz_Performance_Monthly], 
        [Extent1].[ModDietz_Performance_MonthToDate] AS [ModDietz_Performance_MonthToDate], 
        [Extent1].[Dietz_Performance_Quarterly] AS [Dietz_Performance_Quarterly], 
        [Extent1].[Dietz_Performance_Monthly] AS [Dietz_Performance_Monthly], 
        [Extent1].[Dietz_Performance_MonthToDate] AS [Dietz_Performance_MonthToDate], 
        [Extent1].[Last_Update_Date] AS [Last_Update_Date], 
        [Extent1].[Last_Update_User] AS [Last_Update_User], 
        [Extent1].[Record_Date] AS [Record_Date], 
        [Extent1].[Session_ID] AS [Session_ID], 
        [Extent1].[Hist_Last_Update_Date] AS [Hist_Last_Update_Date], 
        [Extent1].[Hist_Last_Update_User] AS [Hist_Last_Update_User], 
        [Extent2].[Security_ID] AS [Security_ID1], 
        [Extent2].[Entity_ID] AS [Entity_ID1], 
        [Extent2].[Security_Name] AS [Security_Name], 
        [Extent2].[Short_Name] AS [Short_Name], 
        [Extent2].[Primary_Exch] AS [Primary_Exch], 
        [Extent2].[Secondary_Exch] AS [Secondary_Exch], 
        [Extent2].[Country_Of_Domicile] AS [Country_Of_Domicile], 
        [Extent2].[Country_Of_Risk] AS [Country_Of_Risk], 
        [Extent2].[Security_Type_Code] AS [Security_Type_Code], 
        [Extent2].[Price_Multiplier] AS [Price_Multiplier], 
        [Extent2].[Income_Frequency] AS [Income_Frequency], 
        [Extent2].[Issuer_Code] AS [Issuer_Code], 
        [Extent2].[Ultimate_Issuer_Code] AS [Ultimate_Issuer_Code], 
        [Extent2].[Asset_Currency] AS [Asset_Currency], 
        [Extent2].[Min_Lot_Size] AS [Min_Lot_Size], 
        [Extent2].[Decimal_Precision] AS [Decimal_Precision], 
        [Extent2].[AvePrice_Rounding] AS [AvePrice_Rounding], 
        [Extent2].[Issue_Date] AS [Issue_Date], 
        [Extent2].[Maturity_Date] AS [Maturity_Date], 
        [Extent2].[Coupon_Rate] AS [Coupon_Rate], 
        [Extent2].[Price_Exchange] AS [Price_Exchange], 
        [Extent2].[Trade_Currency] AS [Trade_Currency], 
        [Extent2].[Price_Curr] AS [Price_Curr], 
        [Extent2].[Currency_Pair_Code] AS [Currency_Pair_Code], 
        [Extent2].[Share_Class] AS [Share_Class], 
        [Extent2].[Current_Market_Price] AS [Current_Market_Price], 
        [Extent2].[Index_Type] AS [Index_Type], 
        [Extent2].[Clean_Price_Formula] AS [Clean_Price_Formula], 
        [Extent2].[Accrued_Income_Price_Formula] AS [Accrued_Income_Price_Formula], 
        [Extent2].[Odd_First_Coupon_Date] AS [Odd_First_Coupon_Date], 
        [Extent2].[Odd_Last_Coupon_Date] AS [Odd_Last_Coupon_Date], 
        [Extent2].[Coupon_Anniversary_Indicator] AS [Coupon_Anniversary_Indicator], 
        [Extent2].[Track_EOM_Flag] AS [Track_EOM_Flag], 
        [Extent2].[Next_Coupon_Date] AS [Next_Coupon_Date], 
        [Extent2].[Previous_Coupon_Date] AS [Previous_Coupon_Date], 
        [Extent2].[Payment_Frequency] AS [Payment_Frequency], 
        [Extent2].[Coupon_BusDay_Adjustment] AS [Coupon_BusDay_Adjustment], 
        [Extent2].[Next_Ex_Div_Date] AS [Next_Ex_Div_Date], 
        [Extent2].[Ex_Div_BusDay_Adjustment] AS [Ex_Div_BusDay_Adjustment], 
        [Extent2].[Ex_Div_Period] AS [Ex_Div_Period], 
        [Extent2].[Ticker] AS [Ticker], 
        [Extent2].[Inet_ID] AS [Inet_ID], 
        [Extent2].[Bloomberg_ID] AS [Bloomberg_ID], 
        [Extent2].[External_Sec_ID] AS [External_Sec_ID], 
        [Extent2].[Reuters_ID] AS [Reuters_ID], 
        [Extent2].[ISIN] AS [ISIN], 
        [Extent2].[Call_Account_Flag] AS [Call_Account_Flag], 
        [Extent2].[System_Locked] AS [System_Locked], 
        [Extent2].[Last_Update_User] AS [Last_Update_User1], 
        [Extent2].[Last_Update_Date] AS [Last_Update_Date1], 
        [Extent2].[Security_Status] AS [Security_Status], 
        [Extent2].[Benchmark_Portfolio] AS [Benchmark_Portfolio], 
        [Extent2].[Active_flag] AS [Active_flag], 
        [Extent2].[Dividend_FX_Security_ID] AS [Dividend_FX_Security_ID]
        FROM  [dbo].[Security_Performance_History] AS [Extent1]
        INNER JOIN [dbo].[Security_Detail] AS [Extent2] ON [Extent1].[Security_ID] = [Extent2].[Security_ID]
        WHERE ([Extent1].[Security_ID] = @p__linq__0) AND ([Extent1].[Portfolio_Code] = @p__linq__1)
    )  AS [Project1]
    ORDER BY [Project1].[Record_Date] DESC
2018-04-07 12:46:43.5691|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: SELECT 
    [Project1].[Decimal_Precision] AS [Decimal_Precision], 
    [Project1].[Security_ID] AS [Security_ID], 
    [Project1].[Portfolio_Code] AS [Portfolio_Code], 
    [Project1].[Entity_ID] AS [Entity_ID], 
    [Project1].[ModDietz_Performance_Quarterly] AS [ModDietz_Performance_Quarterly], 
    [Project1].[ModDietz_Performance_Monthly] AS [ModDietz_Performance_Monthly], 
    [Project1].[ModDietz_Performance_MonthToDate] AS [ModDietz_Performance_MonthToDate], 
    [Project1].[Dietz_Performance_Quarterly] AS [Dietz_Performance_Quarterly], 
    [Project1].[Dietz_Performance_Monthly] AS [Dietz_Performance_Monthly], 
    [Project1].[Dietz_Performance_MonthToDate] AS [Dietz_Performance_MonthToDate], 
    [Project1].[Last_Update_Date] AS [Last_Update_Date], 
    [Project1].[Last_Update_User] AS [Last_Update_User], 
    [Project1].[Record_Date] AS [Record_Date], 
    [Project1].[Session_ID] AS [Session_ID], 
    [Project1].[Hist_Last_Update_Date] AS [Hist_Last_Update_Date], 
    [Project1].[Hist_Last_Update_User] AS [Hist_Last_Update_User], 
    [Project1].[Security_ID1] AS [Security_ID1], 
    [Project1].[Entity_ID1] AS [Entity_ID1], 
    [Project1].[Security_Name] AS [Security_Name], 
    [Project1].[Short_Name] AS [Short_Name], 
    [Project1].[Primary_Exch] AS [Primary_Exch], 
    [Project1].[Secondary_Exch] AS [Secondary_Exch], 
    [Project1].[Country_Of_Domicile] AS [Country_Of_Domicile], 
    [Project1].[Country_Of_Risk] AS [Country_Of_Risk], 
    [Project1].[Security_Type_Code] AS [Security_Type_Code], 
    [Project1].[Price_Multiplier] AS [Price_Multiplier], 
    [Project1].[Income_Frequency] AS [Income_Frequency], 
    [Project1].[Issuer_Code] AS [Issuer_Code], 
    [Project1].[Ultimate_Issuer_Code] AS [Ultimate_Issuer_Code], 
    [Project1].[Asset_Currency] AS [Asset_Currency], 
    [Project1].[Min_Lot_Size] AS [Min_Lot_Size], 
    [Project1].[AvePrice_Rounding] AS [AvePrice_Rounding], 
    [Project1].[Issue_Date] AS [Issue_Date], 
    [Project1].[Maturity_Date] AS [Maturity_Date], 
    [Project1].[Coupon_Rate] AS [Coupon_Rate], 
    [Project1].[Price_Exchange] AS [Price_Exchange], 
    [Project1].[Trade_Currency] AS [Trade_Currency], 
    [Project1].[Price_Curr] AS [Price_Curr], 
    [Project1].[Currency_Pair_Code] AS [Currency_Pair_Code], 
    [Project1].[Share_Class] AS [Share_Class], 
    [Project1].[Current_Market_Price] AS [Current_Market_Price], 
    [Project1].[Index_Type] AS [Index_Type], 
    [Project1].[Clean_Price_Formula] AS [Clean_Price_Formula], 
    [Project1].[Accrued_Income_Price_Formula] AS [Accrued_Income_Price_Formula], 
    [Project1].[Odd_First_Coupon_Date] AS [Odd_First_Coupon_Date], 
    [Project1].[Odd_Last_Coupon_Date] AS [Odd_Last_Coupon_Date], 
    [Project1].[Coupon_Anniversary_Indicator] AS [Coupon_Anniversary_Indicator], 
    [Project1].[Track_EOM_Flag] AS [Track_EOM_Flag], 
    [Project1].[Next_Coupon_Date] AS [Next_Coupon_Date], 
    [Project1].[Previous_Coupon_Date] AS [Previous_Coupon_Date], 
    [Project1].[Payment_Frequency] AS [Payment_Frequency], 
    [Project1].[Coupon_BusDay_Adjustment] AS [Coupon_BusDay_Adjustment], 
    [Project1].[Next_Ex_Div_Date] AS [Next_Ex_Div_Date], 
    [Project1].[Ex_Div_BusDay_Adjustment] AS [Ex_Div_BusDay_Adjustment], 
    [Project1].[Ex_Div_Period] AS [Ex_Div_Period], 
    [Project1].[Ticker] AS [Ticker], 
    [Project1].[Inet_ID] AS [Inet_ID], 
    [Project1].[Bloomberg_ID] AS [Bloomberg_ID], 
    [Project1].[External_Sec_ID] AS [External_Sec_ID], 
    [Project1].[Reuters_ID] AS [Reuters_ID], 
    [Project1].[ISIN] AS [ISIN], 
    [Project1].[Call_Account_Flag] AS [Call_Account_Flag], 
    [Project1].[System_Locked] AS [System_Locked], 
    [Project1].[Last_Update_User1] AS [Last_Update_User1], 
    [Project1].[Last_Update_Date1] AS [Last_Update_Date1], 
    [Project1].[Security_Status] AS [Security_Status], 
    [Project1].[Benchmark_Portfolio] AS [Benchmark_Portfolio], 
    [Project1].[Active_flag] AS [Active_flag], 
    [Project1].[Dividend_FX_Security_ID] AS [Dividend_FX_Security_ID]
    FROM ( SELECT 
        [Extent1].[Security_ID] AS [Security_ID], 
        [Extent1].[Portfolio_Code] AS [Portfolio_Code], 
        [Extent1].[Entity_ID] AS [Entity_ID], 
        [Extent1].[ModDietz_Performance_Quarterly] AS [ModDietz_Performance_Quarterly], 
        [Extent1].[ModDietz_Performance_Monthly] AS [ModDietz_Performance_Monthly], 
        [Extent1].[ModDietz_Performance_MonthToDate] AS [ModDietz_Performance_MonthToDate], 
        [Extent1].[Dietz_Performance_Quarterly] AS [Dietz_Performance_Quarterly], 
        [Extent1].[Dietz_Performance_Monthly] AS [Dietz_Performance_Monthly], 
        [Extent1].[Dietz_Performance_MonthToDate] AS [Dietz_Performance_MonthToDate], 
        [Extent1].[Last_Update_Date] AS [Last_Update_Date], 
        [Extent1].[Last_Update_User] AS [Last_Update_User], 
        [Extent1].[Record_Date] AS [Record_Date], 
        [Extent1].[Session_ID] AS [Session_ID], 
        [Extent1].[Hist_Last_Update_Date] AS [Hist_Last_Update_Date], 
        [Extent1].[Hist_Last_Update_User] AS [Hist_Last_Update_User], 
        [Extent2].[Security_ID] AS [Security_ID1], 
        [Extent2].[Entity_ID] AS [Entity_ID1], 
        [Extent2].[Security_Name] AS [Security_Name], 
        [Extent2].[Short_Name] AS [Short_Name], 
        [Extent2].[Primary_Exch] AS [Primary_Exch], 
        [Extent2].[Secondary_Exch] AS [Secondary_Exch], 
        [Extent2].[Country_Of_Domicile] AS [Country_Of_Domicile], 
        [Extent2].[Country_Of_Risk] AS [Country_Of_Risk], 
        [Extent2].[Security_Type_Code] AS [Security_Type_Code], 
        [Extent2].[Price_Multiplier] AS [Price_Multiplier], 
        [Extent2].[Income_Frequency] AS [Income_Frequency], 
        [Extent2].[Issuer_Code] AS [Issuer_Code], 
        [Extent2].[Ultimate_Issuer_Code] AS [Ultimate_Issuer_Code], 
        [Extent2].[Asset_Currency] AS [Asset_Currency], 
        [Extent2].[Min_Lot_Size] AS [Min_Lot_Size], 
        [Extent2].[Decimal_Precision] AS [Decimal_Precision], 
        [Extent2].[AvePrice_Rounding] AS [AvePrice_Rounding], 
        [Extent2].[Issue_Date] AS [Issue_Date], 
        [Extent2].[Maturity_Date] AS [Maturity_Date], 
        [Extent2].[Coupon_Rate] AS [Coupon_Rate], 
        [Extent2].[Price_Exchange] AS [Price_Exchange], 
        [Extent2].[Trade_Currency] AS [Trade_Currency], 
        [Extent2].[Price_Curr] AS [Price_Curr], 
        [Extent2].[Currency_Pair_Code] AS [Currency_Pair_Code], 
        [Extent2].[Share_Class] AS [Share_Class], 
        [Extent2].[Current_Market_Price] AS [Current_Market_Price], 
        [Extent2].[Index_Type] AS [Index_Type], 
        [Extent2].[Clean_Price_Formula] AS [Clean_Price_Formula], 
        [Extent2].[Accrued_Income_Price_Formula] AS [Accrued_Income_Price_Formula], 
        [Extent2].[Odd_First_Coupon_Date] AS [Odd_First_Coupon_Date], 
        [Extent2].[Odd_Last_Coupon_Date] AS [Odd_Last_Coupon_Date], 
        [Extent2].[Coupon_Anniversary_Indicator] AS [Coupon_Anniversary_Indicator], 
        [Extent2].[Track_EOM_Flag] AS [Track_EOM_Flag], 
        [Extent2].[Next_Coupon_Date] AS [Next_Coupon_Date], 
        [Extent2].[Previous_Coupon_Date] AS [Previous_Coupon_Date], 
        [Extent2].[Payment_Frequency] AS [Payment_Frequency], 
        [Extent2].[Coupon_BusDay_Adjustment] AS [Coupon_BusDay_Adjustment], 
        [Extent2].[Next_Ex_Div_Date] AS [Next_Ex_Div_Date], 
        [Extent2].[Ex_Div_BusDay_Adjustment] AS [Ex_Div_BusDay_Adjustment], 
        [Extent2].[Ex_Div_Period] AS [Ex_Div_Period], 
        [Extent2].[Ticker] AS [Ticker], 
        [Extent2].[Inet_ID] AS [Inet_ID], 
        [Extent2].[Bloomberg_ID] AS [Bloomberg_ID], 
        [Extent2].[External_Sec_ID] AS [External_Sec_ID], 
        [Extent2].[Reuters_ID] AS [Reuters_ID], 
        [Extent2].[ISIN] AS [ISIN], 
        [Extent2].[Call_Account_Flag] AS [Call_Account_Flag], 
        [Extent2].[System_Locked] AS [System_Locked], 
        [Extent2].[Last_Update_User] AS [Last_Update_User1], 
        [Extent2].[Last_Update_Date] AS [Last_Update_Date1], 
        [Extent2].[Security_Status] AS [Security_Status], 
        [Extent2].[Benchmark_Portfolio] AS [Benchmark_Portfolio], 
        [Extent2].[Active_flag] AS [Active_flag], 
        [Extent2].[Dividend_FX_Security_ID] AS [Dividend_FX_Security_ID]
        FROM  [dbo].[Security_Performance_History] AS [Extent1]
        INNER JOIN [dbo].[Security_Detail] AS [Extent2] ON [Extent1].[Security_ID] = [Extent2].[Security_ID]
        WHERE ([Extent1].[Security_ID] = @p__linq__0) AND ([Extent1].[Portfolio_Code] = @p__linq__1)
    )  AS [Project1]
    ORDER BY [Project1].[Record_Date] DESC
2018-04-07 12:46:47.1462|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: IF db_id(N'MetopeAzureDb') IS NOT NULL SELECT 1 ELSE SELECT Count(*) FROM sys.databases WHERE [name]=N'MetopeAzureDb'
2018-04-07 12:46:47.2643|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: IF db_id(N'MetopeAzureDb') IS NOT NULL SELECT 1 ELSE SELECT Count(*) FROM sys.databases WHERE [name]=N'MetopeAzureDb'
2018-04-07 12:46:47.3604|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: IF db_id(N'MetopeAzureDb') IS NOT NULL SELECT 1 ELSE SELECT Count(*) FROM sys.databases WHERE [name]=N'MetopeAzureDb'
2018-04-07 12:46:47.4965|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: IF db_id(N'MetopeAzureDb') IS NOT NULL SELECT 1 ELSE SELECT Count(*) FROM sys.databases WHERE [name]=N'MetopeAzureDb'
2018-04-07 12:46:48.0039|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: SELECT 
    [Extent1].[Security_ID] AS [Security_ID], 
    [Extent1].[Portfolio_Code] AS [Portfolio_Code], 
    [Extent1].[Entity_ID] AS [Entity_ID], 
    [Extent1].[ModDietz_Performance_Quarterly] AS [ModDietz_Performance_Quarterly], 
    [Extent1].[ModDietz_Performance_Monthly] AS [ModDietz_Performance_Monthly], 
    [Extent1].[ModDietz_Performance_MonthToDate] AS [ModDietz_Performance_MonthToDate], 
    [Extent1].[Dietz_Performance_Quarterly] AS [Dietz_Performance_Quarterly], 
    [Extent1].[Dietz_Performance_Monthly] AS [Dietz_Performance_Monthly], 
    [Extent1].[Dietz_Performance_MonthToDate] AS [Dietz_Performance_MonthToDate], 
    [Extent1].[Last_Update_Date] AS [Last_Update_Date], 
    [Extent1].[Last_Update_User] AS [Last_Update_User], 
    [Extent1].[Record_Date] AS [Record_Date], 
    [Extent1].[Session_ID] AS [Session_ID], 
    [Extent1].[Hist_Last_Update_Date] AS [Hist_Last_Update_Date], 
    [Extent1].[Hist_Last_Update_User] AS [Hist_Last_Update_User]
    FROM [dbo].[Security_Performance_History] AS [Extent1]
    WHERE ([Extent1].[Security_ID] = @p__linq__0) AND ([Extent1].[Portfolio_Code] = @p__linq__1) AND ([Extent1].[Record_Date] = @p__linq__2) AND ([Extent1].[Entity_ID] = @p__linq__3)
2018-04-07 12:46:48.0394|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: SELECT 
    [Extent1].[Security_ID] AS [Security_ID], 
    [Extent1].[Portfolio_Code] AS [Portfolio_Code], 
    [Extent1].[Entity_ID] AS [Entity_ID], 
    [Extent1].[ModDietz_Performance_Quarterly] AS [ModDietz_Performance_Quarterly], 
    [Extent1].[ModDietz_Performance_Monthly] AS [ModDietz_Performance_Monthly], 
    [Extent1].[ModDietz_Performance_MonthToDate] AS [ModDietz_Performance_MonthToDate], 
    [Extent1].[Dietz_Performance_Quarterly] AS [Dietz_Performance_Quarterly], 
    [Extent1].[Dietz_Performance_Monthly] AS [Dietz_Performance_Monthly], 
    [Extent1].[Dietz_Performance_MonthToDate] AS [Dietz_Performance_MonthToDate], 
    [Extent1].[Last_Update_Date] AS [Last_Update_Date], 
    [Extent1].[Last_Update_User] AS [Last_Update_User], 
    [Extent1].[Record_Date] AS [Record_Date], 
    [Extent1].[Session_ID] AS [Session_ID], 
    [Extent1].[Hist_Last_Update_Date] AS [Hist_Last_Update_Date], 
    [Extent1].[Hist_Last_Update_User] AS [Hist_Last_Update_User]
    FROM [dbo].[Security_Performance_History] AS [Extent1]
    WHERE ([Extent1].[Security_ID] = @p__linq__0) AND ([Extent1].[Portfolio_Code] = @p__linq__1) AND ([Extent1].[Record_Date] = @p__linq__2) AND ([Extent1].[Entity_ID] = @p__linq__3)
2018-04-07 12:47:17.8540|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: SELECT 
    [Project1].[Decimal_Precision] AS [Decimal_Precision], 
    [Project1].[Security_ID] AS [Security_ID], 
    [Project1].[Portfolio_Code] AS [Portfolio_Code], 
    [Project1].[Entity_ID] AS [Entity_ID], 
    [Project1].[ModDietz_Performance_Quarterly] AS [ModDietz_Performance_Quarterly], 
    [Project1].[ModDietz_Performance_Monthly] AS [ModDietz_Performance_Monthly], 
    [Project1].[ModDietz_Performance_MonthToDate] AS [ModDietz_Performance_MonthToDate], 
    [Project1].[Dietz_Performance_Quarterly] AS [Dietz_Performance_Quarterly], 
    [Project1].[Dietz_Performance_Monthly] AS [Dietz_Performance_Monthly], 
    [Project1].[Dietz_Performance_MonthToDate] AS [Dietz_Performance_MonthToDate], 
    [Project1].[Last_Update_Date] AS [Last_Update_Date], 
    [Project1].[Last_Update_User] AS [Last_Update_User], 
    [Project1].[Record_Date] AS [Record_Date], 
    [Project1].[Session_ID] AS [Session_ID], 
    [Project1].[Hist_Last_Update_Date] AS [Hist_Last_Update_Date], 
    [Project1].[Hist_Last_Update_User] AS [Hist_Last_Update_User], 
    [Project1].[Security_ID1] AS [Security_ID1], 
    [Project1].[Entity_ID1] AS [Entity_ID1], 
    [Project1].[Security_Name] AS [Security_Name], 
    [Project1].[Short_Name] AS [Short_Name], 
    [Project1].[Primary_Exch] AS [Primary_Exch], 
    [Project1].[Secondary_Exch] AS [Secondary_Exch], 
    [Project1].[Country_Of_Domicile] AS [Country_Of_Domicile], 
    [Project1].[Country_Of_Risk] AS [Country_Of_Risk], 
    [Project1].[Security_Type_Code] AS [Security_Type_Code], 
    [Project1].[Price_Multiplier] AS [Price_Multiplier], 
    [Project1].[Income_Frequency] AS [Income_Frequency], 
    [Project1].[Issuer_Code] AS [Issuer_Code], 
    [Project1].[Ultimate_Issuer_Code] AS [Ultimate_Issuer_Code], 
    [Project1].[Asset_Currency] AS [Asset_Currency], 
    [Project1].[Min_Lot_Size] AS [Min_Lot_Size], 
    [Project1].[AvePrice_Rounding] AS [AvePrice_Rounding], 
    [Project1].[Issue_Date] AS [Issue_Date], 
    [Project1].[Maturity_Date] AS [Maturity_Date], 
    [Project1].[Coupon_Rate] AS [Coupon_Rate], 
    [Project1].[Price_Exchange] AS [Price_Exchange], 
    [Project1].[Trade_Currency] AS [Trade_Currency], 
    [Project1].[Price_Curr] AS [Price_Curr], 
    [Project1].[Currency_Pair_Code] AS [Currency_Pair_Code], 
    [Project1].[Share_Class] AS [Share_Class], 
    [Project1].[Current_Market_Price] AS [Current_Market_Price], 
    [Project1].[Index_Type] AS [Index_Type], 
    [Project1].[Clean_Price_Formula] AS [Clean_Price_Formula], 
    [Project1].[Accrued_Income_Price_Formula] AS [Accrued_Income_Price_Formula], 
    [Project1].[Odd_First_Coupon_Date] AS [Odd_First_Coupon_Date], 
    [Project1].[Odd_Last_Coupon_Date] AS [Odd_Last_Coupon_Date], 
    [Project1].[Coupon_Anniversary_Indicator] AS [Coupon_Anniversary_Indicator], 
    [Project1].[Track_EOM_Flag] AS [Track_EOM_Flag], 
    [Project1].[Next_Coupon_Date] AS [Next_Coupon_Date], 
    [Project1].[Previous_Coupon_Date] AS [Previous_Coupon_Date], 
    [Project1].[Payment_Frequency] AS [Payment_Frequency], 
    [Project1].[Coupon_BusDay_Adjustment] AS [Coupon_BusDay_Adjustment], 
    [Project1].[Next_Ex_Div_Date] AS [Next_Ex_Div_Date], 
    [Project1].[Ex_Div_BusDay_Adjustment] AS [Ex_Div_BusDay_Adjustment], 
    [Project1].[Ex_Div_Period] AS [Ex_Div_Period], 
    [Project1].[Ticker] AS [Ticker], 
    [Project1].[Inet_ID] AS [Inet_ID], 
    [Project1].[Bloomberg_ID] AS [Bloomberg_ID], 
    [Project1].[External_Sec_ID] AS [External_Sec_ID], 
    [Project1].[Reuters_ID] AS [Reuters_ID], 
    [Project1].[ISIN] AS [ISIN], 
    [Project1].[Call_Account_Flag] AS [Call_Account_Flag], 
    [Project1].[System_Locked] AS [System_Locked], 
    [Project1].[Last_Update_User1] AS [Last_Update_User1], 
    [Project1].[Last_Update_Date1] AS [Last_Update_Date1], 
    [Project1].[Security_Status] AS [Security_Status], 
    [Project1].[Benchmark_Portfolio] AS [Benchmark_Portfolio], 
    [Project1].[Active_flag] AS [Active_flag], 
    [Project1].[Dividend_FX_Security_ID] AS [Dividend_FX_Security_ID]
    FROM ( SELECT 
        [Extent1].[Security_ID] AS [Security_ID], 
        [Extent1].[Portfolio_Code] AS [Portfolio_Code], 
        [Extent1].[Entity_ID] AS [Entity_ID], 
        [Extent1].[ModDietz_Performance_Quarterly] AS [ModDietz_Performance_Quarterly], 
        [Extent1].[ModDietz_Performance_Monthly] AS [ModDietz_Performance_Monthly], 
        [Extent1].[ModDietz_Performance_MonthToDate] AS [ModDietz_Performance_MonthToDate], 
        [Extent1].[Dietz_Performance_Quarterly] AS [Dietz_Performance_Quarterly], 
        [Extent1].[Dietz_Performance_Monthly] AS [Dietz_Performance_Monthly], 
        [Extent1].[Dietz_Performance_MonthToDate] AS [Dietz_Performance_MonthToDate], 
        [Extent1].[Last_Update_Date] AS [Last_Update_Date], 
        [Extent1].[Last_Update_User] AS [Last_Update_User], 
        [Extent1].[Record_Date] AS [Record_Date], 
        [Extent1].[Session_ID] AS [Session_ID], 
        [Extent1].[Hist_Last_Update_Date] AS [Hist_Last_Update_Date], 
        [Extent1].[Hist_Last_Update_User] AS [Hist_Last_Update_User], 
        [Extent2].[Security_ID] AS [Security_ID1], 
        [Extent2].[Entity_ID] AS [Entity_ID1], 
        [Extent2].[Security_Name] AS [Security_Name], 
        [Extent2].[Short_Name] AS [Short_Name], 
        [Extent2].[Primary_Exch] AS [Primary_Exch], 
        [Extent2].[Secondary_Exch] AS [Secondary_Exch], 
        [Extent2].[Country_Of_Domicile] AS [Country_Of_Domicile], 
        [Extent2].[Country_Of_Risk] AS [Country_Of_Risk], 
        [Extent2].[Security_Type_Code] AS [Security_Type_Code], 
        [Extent2].[Price_Multiplier] AS [Price_Multiplier], 
        [Extent2].[Income_Frequency] AS [Income_Frequency], 
        [Extent2].[Issuer_Code] AS [Issuer_Code], 
        [Extent2].[Ultimate_Issuer_Code] AS [Ultimate_Issuer_Code], 
        [Extent2].[Asset_Currency] AS [Asset_Currency], 
        [Extent2].[Min_Lot_Size] AS [Min_Lot_Size], 
        [Extent2].[Decimal_Precision] AS [Decimal_Precision], 
        [Extent2].[AvePrice_Rounding] AS [AvePrice_Rounding], 
        [Extent2].[Issue_Date] AS [Issue_Date], 
        [Extent2].[Maturity_Date] AS [Maturity_Date], 
        [Extent2].[Coupon_Rate] AS [Coupon_Rate], 
        [Extent2].[Price_Exchange] AS [Price_Exchange], 
        [Extent2].[Trade_Currency] AS [Trade_Currency], 
        [Extent2].[Price_Curr] AS [Price_Curr], 
        [Extent2].[Currency_Pair_Code] AS [Currency_Pair_Code], 
        [Extent2].[Share_Class] AS [Share_Class], 
        [Extent2].[Current_Market_Price] AS [Current_Market_Price], 
        [Extent2].[Index_Type] AS [Index_Type], 
        [Extent2].[Clean_Price_Formula] AS [Clean_Price_Formula], 
        [Extent2].[Accrued_Income_Price_Formula] AS [Accrued_Income_Price_Formula], 
        [Extent2].[Odd_First_Coupon_Date] AS [Odd_First_Coupon_Date], 
        [Extent2].[Odd_Last_Coupon_Date] AS [Odd_Last_Coupon_Date], 
        [Extent2].[Coupon_Anniversary_Indicator] AS [Coupon_Anniversary_Indicator], 
        [Extent2].[Track_EOM_Flag] AS [Track_EOM_Flag], 
        [Extent2].[Next_Coupon_Date] AS [Next_Coupon_Date], 
        [Extent2].[Previous_Coupon_Date] AS [Previous_Coupon_Date], 
        [Extent2].[Payment_Frequency] AS [Payment_Frequency], 
        [Extent2].[Coupon_BusDay_Adjustment] AS [Coupon_BusDay_Adjustment], 
        [Extent2].[Next_Ex_Div_Date] AS [Next_Ex_Div_Date], 
        [Extent2].[Ex_Div_BusDay_Adjustment] AS [Ex_Div_BusDay_Adjustment], 
        [Extent2].[Ex_Div_Period] AS [Ex_Div_Period], 
        [Extent2].[Ticker] AS [Ticker], 
        [Extent2].[Inet_ID] AS [Inet_ID], 
        [Extent2].[Bloomberg_ID] AS [Bloomberg_ID], 
        [Extent2].[External_Sec_ID] AS [External_Sec_ID], 
        [Extent2].[Reuters_ID] AS [Reuters_ID], 
        [Extent2].[ISIN] AS [ISIN], 
        [Extent2].[Call_Account_Flag] AS [Call_Account_Flag], 
        [Extent2].[System_Locked] AS [System_Locked], 
        [Extent2].[Last_Update_User] AS [Last_Update_User1], 
        [Extent2].[Last_Update_Date] AS [Last_Update_Date1], 
        [Extent2].[Security_Status] AS [Security_Status], 
        [Extent2].[Benchmark_Portfolio] AS [Benchmark_Portfolio], 
        [Extent2].[Active_flag] AS [Active_flag], 
        [Extent2].[Dividend_FX_Security_ID] AS [Dividend_FX_Security_ID]
        FROM  [dbo].[Security_Performance_History] AS [Extent1]
        INNER JOIN [dbo].[Security_Detail] AS [Extent2] ON [Extent1].[Security_ID] = [Extent2].[Security_ID]
        WHERE ([Extent1].[Security_ID] = @p__linq__0) AND ([Extent1].[Portfolio_Code] = @p__linq__1)
    )  AS [Project1]
    ORDER BY [Project1].[Record_Date] DESC
2018-04-07 12:47:17.9040|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: SELECT 
    [Project1].[Decimal_Precision] AS [Decimal_Precision], 
    [Project1].[Security_ID] AS [Security_ID], 
    [Project1].[Portfolio_Code] AS [Portfolio_Code], 
    [Project1].[Entity_ID] AS [Entity_ID], 
    [Project1].[ModDietz_Performance_Quarterly] AS [ModDietz_Performance_Quarterly], 
    [Project1].[ModDietz_Performance_Monthly] AS [ModDietz_Performance_Monthly], 
    [Project1].[ModDietz_Performance_MonthToDate] AS [ModDietz_Performance_MonthToDate], 
    [Project1].[Dietz_Performance_Quarterly] AS [Dietz_Performance_Quarterly], 
    [Project1].[Dietz_Performance_Monthly] AS [Dietz_Performance_Monthly], 
    [Project1].[Dietz_Performance_MonthToDate] AS [Dietz_Performance_MonthToDate], 
    [Project1].[Last_Update_Date] AS [Last_Update_Date], 
    [Project1].[Last_Update_User] AS [Last_Update_User], 
    [Project1].[Record_Date] AS [Record_Date], 
    [Project1].[Session_ID] AS [Session_ID], 
    [Project1].[Hist_Last_Update_Date] AS [Hist_Last_Update_Date], 
    [Project1].[Hist_Last_Update_User] AS [Hist_Last_Update_User], 
    [Project1].[Security_ID1] AS [Security_ID1], 
    [Project1].[Entity_ID1] AS [Entity_ID1], 
    [Project1].[Security_Name] AS [Security_Name], 
    [Project1].[Short_Name] AS [Short_Name], 
    [Project1].[Primary_Exch] AS [Primary_Exch], 
    [Project1].[Secondary_Exch] AS [Secondary_Exch], 
    [Project1].[Country_Of_Domicile] AS [Country_Of_Domicile], 
    [Project1].[Country_Of_Risk] AS [Country_Of_Risk], 
    [Project1].[Security_Type_Code] AS [Security_Type_Code], 
    [Project1].[Price_Multiplier] AS [Price_Multiplier], 
    [Project1].[Income_Frequency] AS [Income_Frequency], 
    [Project1].[Issuer_Code] AS [Issuer_Code], 
    [Project1].[Ultimate_Issuer_Code] AS [Ultimate_Issuer_Code], 
    [Project1].[Asset_Currency] AS [Asset_Currency], 
    [Project1].[Min_Lot_Size] AS [Min_Lot_Size], 
    [Project1].[AvePrice_Rounding] AS [AvePrice_Rounding], 
    [Project1].[Issue_Date] AS [Issue_Date], 
    [Project1].[Maturity_Date] AS [Maturity_Date], 
    [Project1].[Coupon_Rate] AS [Coupon_Rate], 
    [Project1].[Price_Exchange] AS [Price_Exchange], 
    [Project1].[Trade_Currency] AS [Trade_Currency], 
    [Project1].[Price_Curr] AS [Price_Curr], 
    [Project1].[Currency_Pair_Code] AS [Currency_Pair_Code], 
    [Project1].[Share_Class] AS [Share_Class], 
    [Project1].[Current_Market_Price] AS [Current_Market_Price], 
    [Project1].[Index_Type] AS [Index_Type], 
    [Project1].[Clean_Price_Formula] AS [Clean_Price_Formula], 
    [Project1].[Accrued_Income_Price_Formula] AS [Accrued_Income_Price_Formula], 
    [Project1].[Odd_First_Coupon_Date] AS [Odd_First_Coupon_Date], 
    [Project1].[Odd_Last_Coupon_Date] AS [Odd_Last_Coupon_Date], 
    [Project1].[Coupon_Anniversary_Indicator] AS [Coupon_Anniversary_Indicator], 
    [Project1].[Track_EOM_Flag] AS [Track_EOM_Flag], 
    [Project1].[Next_Coupon_Date] AS [Next_Coupon_Date], 
    [Project1].[Previous_Coupon_Date] AS [Previous_Coupon_Date], 
    [Project1].[Payment_Frequency] AS [Payment_Frequency], 
    [Project1].[Coupon_BusDay_Adjustment] AS [Coupon_BusDay_Adjustment], 
    [Project1].[Next_Ex_Div_Date] AS [Next_Ex_Div_Date], 
    [Project1].[Ex_Div_BusDay_Adjustment] AS [Ex_Div_BusDay_Adjustment], 
    [Project1].[Ex_Div_Period] AS [Ex_Div_Period], 
    [Project1].[Ticker] AS [Ticker], 
    [Project1].[Inet_ID] AS [Inet_ID], 
    [Project1].[Bloomberg_ID] AS [Bloomberg_ID], 
    [Project1].[External_Sec_ID] AS [External_Sec_ID], 
    [Project1].[Reuters_ID] AS [Reuters_ID], 
    [Project1].[ISIN] AS [ISIN], 
    [Project1].[Call_Account_Flag] AS [Call_Account_Flag], 
    [Project1].[System_Locked] AS [System_Locked], 
    [Project1].[Last_Update_User1] AS [Last_Update_User1], 
    [Project1].[Last_Update_Date1] AS [Last_Update_Date1], 
    [Project1].[Security_Status] AS [Security_Status], 
    [Project1].[Benchmark_Portfolio] AS [Benchmark_Portfolio], 
    [Project1].[Active_flag] AS [Active_flag], 
    [Project1].[Dividend_FX_Security_ID] AS [Dividend_FX_Security_ID]
    FROM ( SELECT 
        [Extent1].[Security_ID] AS [Security_ID], 
        [Extent1].[Portfolio_Code] AS [Portfolio_Code], 
        [Extent1].[Entity_ID] AS [Entity_ID], 
        [Extent1].[ModDietz_Performance_Quarterly] AS [ModDietz_Performance_Quarterly], 
        [Extent1].[ModDietz_Performance_Monthly] AS [ModDietz_Performance_Monthly], 
        [Extent1].[ModDietz_Performance_MonthToDate] AS [ModDietz_Performance_MonthToDate], 
        [Extent1].[Dietz_Performance_Quarterly] AS [Dietz_Performance_Quarterly], 
        [Extent1].[Dietz_Performance_Monthly] AS [Dietz_Performance_Monthly], 
        [Extent1].[Dietz_Performance_MonthToDate] AS [Dietz_Performance_MonthToDate], 
        [Extent1].[Last_Update_Date] AS [Last_Update_Date], 
        [Extent1].[Last_Update_User] AS [Last_Update_User], 
        [Extent1].[Record_Date] AS [Record_Date], 
        [Extent1].[Session_ID] AS [Session_ID], 
        [Extent1].[Hist_Last_Update_Date] AS [Hist_Last_Update_Date], 
        [Extent1].[Hist_Last_Update_User] AS [Hist_Last_Update_User], 
        [Extent2].[Security_ID] AS [Security_ID1], 
        [Extent2].[Entity_ID] AS [Entity_ID1], 
        [Extent2].[Security_Name] AS [Security_Name], 
        [Extent2].[Short_Name] AS [Short_Name], 
        [Extent2].[Primary_Exch] AS [Primary_Exch], 
        [Extent2].[Secondary_Exch] AS [Secondary_Exch], 
        [Extent2].[Country_Of_Domicile] AS [Country_Of_Domicile], 
        [Extent2].[Country_Of_Risk] AS [Country_Of_Risk], 
        [Extent2].[Security_Type_Code] AS [Security_Type_Code], 
        [Extent2].[Price_Multiplier] AS [Price_Multiplier], 
        [Extent2].[Income_Frequency] AS [Income_Frequency], 
        [Extent2].[Issuer_Code] AS [Issuer_Code], 
        [Extent2].[Ultimate_Issuer_Code] AS [Ultimate_Issuer_Code], 
        [Extent2].[Asset_Currency] AS [Asset_Currency], 
        [Extent2].[Min_Lot_Size] AS [Min_Lot_Size], 
        [Extent2].[Decimal_Precision] AS [Decimal_Precision], 
        [Extent2].[AvePrice_Rounding] AS [AvePrice_Rounding], 
        [Extent2].[Issue_Date] AS [Issue_Date], 
        [Extent2].[Maturity_Date] AS [Maturity_Date], 
        [Extent2].[Coupon_Rate] AS [Coupon_Rate], 
        [Extent2].[Price_Exchange] AS [Price_Exchange], 
        [Extent2].[Trade_Currency] AS [Trade_Currency], 
        [Extent2].[Price_Curr] AS [Price_Curr], 
        [Extent2].[Currency_Pair_Code] AS [Currency_Pair_Code], 
        [Extent2].[Share_Class] AS [Share_Class], 
        [Extent2].[Current_Market_Price] AS [Current_Market_Price], 
        [Extent2].[Index_Type] AS [Index_Type], 
        [Extent2].[Clean_Price_Formula] AS [Clean_Price_Formula], 
        [Extent2].[Accrued_Income_Price_Formula] AS [Accrued_Income_Price_Formula], 
        [Extent2].[Odd_First_Coupon_Date] AS [Odd_First_Coupon_Date], 
        [Extent2].[Odd_Last_Coupon_Date] AS [Odd_Last_Coupon_Date], 
        [Extent2].[Coupon_Anniversary_Indicator] AS [Coupon_Anniversary_Indicator], 
        [Extent2].[Track_EOM_Flag] AS [Track_EOM_Flag], 
        [Extent2].[Next_Coupon_Date] AS [Next_Coupon_Date], 
        [Extent2].[Previous_Coupon_Date] AS [Previous_Coupon_Date], 
        [Extent2].[Payment_Frequency] AS [Payment_Frequency], 
        [Extent2].[Coupon_BusDay_Adjustment] AS [Coupon_BusDay_Adjustment], 
        [Extent2].[Next_Ex_Div_Date] AS [Next_Ex_Div_Date], 
        [Extent2].[Ex_Div_BusDay_Adjustment] AS [Ex_Div_BusDay_Adjustment], 
        [Extent2].[Ex_Div_Period] AS [Ex_Div_Period], 
        [Extent2].[Ticker] AS [Ticker], 
        [Extent2].[Inet_ID] AS [Inet_ID], 
        [Extent2].[Bloomberg_ID] AS [Bloomberg_ID], 
        [Extent2].[External_Sec_ID] AS [External_Sec_ID], 
        [Extent2].[Reuters_ID] AS [Reuters_ID], 
        [Extent2].[ISIN] AS [ISIN], 
        [Extent2].[Call_Account_Flag] AS [Call_Account_Flag], 
        [Extent2].[System_Locked] AS [System_Locked], 
        [Extent2].[Last_Update_User] AS [Last_Update_User1], 
        [Extent2].[Last_Update_Date] AS [Last_Update_Date1], 
        [Extent2].[Security_Status] AS [Security_Status], 
        [Extent2].[Benchmark_Portfolio] AS [Benchmark_Portfolio], 
        [Extent2].[Active_flag] AS [Active_flag], 
        [Extent2].[Dividend_FX_Security_ID] AS [Dividend_FX_Security_ID]
        FROM  [dbo].[Security_Performance_History] AS [Extent1]
        INNER JOIN [dbo].[Security_Detail] AS [Extent2] ON [Extent1].[Security_ID] = [Extent2].[Security_ID]
        WHERE ([Extent1].[Security_ID] = @p__linq__0) AND ([Extent1].[Portfolio_Code] = @p__linq__1)
    )  AS [Project1]
    ORDER BY [Project1].[Record_Date] DESC
2018-04-07 12:47:17.9516|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: IF db_id(N'MetopeAzureDb') IS NOT NULL SELECT 1 ELSE SELECT Count(*) FROM sys.databases WHERE [name]=N'MetopeAzureDb'
2018-04-07 12:47:18.0727|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: IF db_id(N'MetopeAzureDb') IS NOT NULL SELECT 1 ELSE SELECT Count(*) FROM sys.databases WHERE [name]=N'MetopeAzureDb'
2018-04-07 12:47:18.1627|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: IF db_id(N'MetopeAzureDb') IS NOT NULL SELECT 1 ELSE SELECT Count(*) FROM sys.databases WHERE [name]=N'MetopeAzureDb'
2018-04-07 12:47:18.1882|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: IF db_id(N'MetopeAzureDb') IS NOT NULL SELECT 1 ELSE SELECT Count(*) FROM sys.databases WHERE [name]=N'MetopeAzureDb'
2018-04-07 12:47:21.6979|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: SELECT 
    [Project1].[Decimal_Precision] AS [Decimal_Precision], 
    [Project1].[Security_ID] AS [Security_ID], 
    [Project1].[Portfolio_Code] AS [Portfolio_Code], 
    [Project1].[Entity_ID] AS [Entity_ID], 
    [Project1].[ModDietz_Performance_Quarterly] AS [ModDietz_Performance_Quarterly], 
    [Project1].[ModDietz_Performance_Monthly] AS [ModDietz_Performance_Monthly], 
    [Project1].[ModDietz_Performance_MonthToDate] AS [ModDietz_Performance_MonthToDate], 
    [Project1].[Dietz_Performance_Quarterly] AS [Dietz_Performance_Quarterly], 
    [Project1].[Dietz_Performance_Monthly] AS [Dietz_Performance_Monthly], 
    [Project1].[Dietz_Performance_MonthToDate] AS [Dietz_Performance_MonthToDate], 
    [Project1].[Last_Update_Date] AS [Last_Update_Date], 
    [Project1].[Last_Update_User] AS [Last_Update_User], 
    [Project1].[Record_Date] AS [Record_Date], 
    [Project1].[Session_ID] AS [Session_ID], 
    [Project1].[Hist_Last_Update_Date] AS [Hist_Last_Update_Date], 
    [Project1].[Hist_Last_Update_User] AS [Hist_Last_Update_User], 
    [Project1].[Security_ID1] AS [Security_ID1], 
    [Project1].[Entity_ID1] AS [Entity_ID1], 
    [Project1].[Security_Name] AS [Security_Name], 
    [Project1].[Short_Name] AS [Short_Name], 
    [Project1].[Primary_Exch] AS [Primary_Exch], 
    [Project1].[Secondary_Exch] AS [Secondary_Exch], 
    [Project1].[Country_Of_Domicile] AS [Country_Of_Domicile], 
    [Project1].[Country_Of_Risk] AS [Country_Of_Risk], 
    [Project1].[Security_Type_Code] AS [Security_Type_Code], 
    [Project1].[Price_Multiplier] AS [Price_Multiplier], 
    [Project1].[Income_Frequency] AS [Income_Frequency], 
    [Project1].[Issuer_Code] AS [Issuer_Code], 
    [Project1].[Ultimate_Issuer_Code] AS [Ultimate_Issuer_Code], 
    [Project1].[Asset_Currency] AS [Asset_Currency], 
    [Project1].[Min_Lot_Size] AS [Min_Lot_Size], 
    [Project1].[AvePrice_Rounding] AS [AvePrice_Rounding], 
    [Project1].[Issue_Date] AS [Issue_Date], 
    [Project1].[Maturity_Date] AS [Maturity_Date], 
    [Project1].[Coupon_Rate] AS [Coupon_Rate], 
    [Project1].[Price_Exchange] AS [Price_Exchange], 
    [Project1].[Trade_Currency] AS [Trade_Currency], 
    [Project1].[Price_Curr] AS [Price_Curr], 
    [Project1].[Currency_Pair_Code] AS [Currency_Pair_Code], 
    [Project1].[Share_Class] AS [Share_Class], 
    [Project1].[Current_Market_Price] AS [Current_Market_Price], 
    [Project1].[Index_Type] AS [Index_Type], 
    [Project1].[Clean_Price_Formula] AS [Clean_Price_Formula], 
    [Project1].[Accrued_Income_Price_Formula] AS [Accrued_Income_Price_Formula], 
    [Project1].[Odd_First_Coupon_Date] AS [Odd_First_Coupon_Date], 
    [Project1].[Odd_Last_Coupon_Date] AS [Odd_Last_Coupon_Date], 
    [Project1].[Coupon_Anniversary_Indicator] AS [Coupon_Anniversary_Indicator], 
    [Project1].[Track_EOM_Flag] AS [Track_EOM_Flag], 
    [Project1].[Next_Coupon_Date] AS [Next_Coupon_Date], 
    [Project1].[Previous_Coupon_Date] AS [Previous_Coupon_Date], 
    [Project1].[Payment_Frequency] AS [Payment_Frequency], 
    [Project1].[Coupon_BusDay_Adjustment] AS [Coupon_BusDay_Adjustment], 
    [Project1].[Next_Ex_Div_Date] AS [Next_Ex_Div_Date], 
    [Project1].[Ex_Div_BusDay_Adjustment] AS [Ex_Div_BusDay_Adjustment], 
    [Project1].[Ex_Div_Period] AS [Ex_Div_Period], 
    [Project1].[Ticker] AS [Ticker], 
    [Project1].[Inet_ID] AS [Inet_ID], 
    [Project1].[Bloomberg_ID] AS [Bloomberg_ID], 
    [Project1].[External_Sec_ID] AS [External_Sec_ID], 
    [Project1].[Reuters_ID] AS [Reuters_ID], 
    [Project1].[ISIN] AS [ISIN], 
    [Project1].[Call_Account_Flag] AS [Call_Account_Flag], 
    [Project1].[System_Locked] AS [System_Locked], 
    [Project1].[Last_Update_User1] AS [Last_Update_User1], 
    [Project1].[Last_Update_Date1] AS [Last_Update_Date1], 
    [Project1].[Security_Status] AS [Security_Status], 
    [Project1].[Benchmark_Portfolio] AS [Benchmark_Portfolio], 
    [Project1].[Active_flag] AS [Active_flag], 
    [Project1].[Dividend_FX_Security_ID] AS [Dividend_FX_Security_ID]
    FROM ( SELECT 
        [Extent1].[Security_ID] AS [Security_ID], 
        [Extent1].[Portfolio_Code] AS [Portfolio_Code], 
        [Extent1].[Entity_ID] AS [Entity_ID], 
        [Extent1].[ModDietz_Performance_Quarterly] AS [ModDietz_Performance_Quarterly], 
        [Extent1].[ModDietz_Performance_Monthly] AS [ModDietz_Performance_Monthly], 
        [Extent1].[ModDietz_Performance_MonthToDate] AS [ModDietz_Performance_MonthToDate], 
        [Extent1].[Dietz_Performance_Quarterly] AS [Dietz_Performance_Quarterly], 
        [Extent1].[Dietz_Performance_Monthly] AS [Dietz_Performance_Monthly], 
        [Extent1].[Dietz_Performance_MonthToDate] AS [Dietz_Performance_MonthToDate], 
        [Extent1].[Last_Update_Date] AS [Last_Update_Date], 
        [Extent1].[Last_Update_User] AS [Last_Update_User], 
        [Extent1].[Record_Date] AS [Record_Date], 
        [Extent1].[Session_ID] AS [Session_ID], 
        [Extent1].[Hist_Last_Update_Date] AS [Hist_Last_Update_Date], 
        [Extent1].[Hist_Last_Update_User] AS [Hist_Last_Update_User], 
        [Extent2].[Security_ID] AS [Security_ID1], 
        [Extent2].[Entity_ID] AS [Entity_ID1], 
        [Extent2].[Security_Name] AS [Security_Name], 
        [Extent2].[Short_Name] AS [Short_Name], 
        [Extent2].[Primary_Exch] AS [Primary_Exch], 
        [Extent2].[Secondary_Exch] AS [Secondary_Exch], 
        [Extent2].[Country_Of_Domicile] AS [Country_Of_Domicile], 
        [Extent2].[Country_Of_Risk] AS [Country_Of_Risk], 
        [Extent2].[Security_Type_Code] AS [Security_Type_Code], 
        [Extent2].[Price_Multiplier] AS [Price_Multiplier], 
        [Extent2].[Income_Frequency] AS [Income_Frequency], 
        [Extent2].[Issuer_Code] AS [Issuer_Code], 
        [Extent2].[Ultimate_Issuer_Code] AS [Ultimate_Issuer_Code], 
        [Extent2].[Asset_Currency] AS [Asset_Currency], 
        [Extent2].[Min_Lot_Size] AS [Min_Lot_Size], 
        [Extent2].[Decimal_Precision] AS [Decimal_Precision], 
        [Extent2].[AvePrice_Rounding] AS [AvePrice_Rounding], 
        [Extent2].[Issue_Date] AS [Issue_Date], 
        [Extent2].[Maturity_Date] AS [Maturity_Date], 
        [Extent2].[Coupon_Rate] AS [Coupon_Rate], 
        [Extent2].[Price_Exchange] AS [Price_Exchange], 
        [Extent2].[Trade_Currency] AS [Trade_Currency], 
        [Extent2].[Price_Curr] AS [Price_Curr], 
        [Extent2].[Currency_Pair_Code] AS [Currency_Pair_Code], 
        [Extent2].[Share_Class] AS [Share_Class], 
        [Extent2].[Current_Market_Price] AS [Current_Market_Price], 
        [Extent2].[Index_Type] AS [Index_Type], 
        [Extent2].[Clean_Price_Formula] AS [Clean_Price_Formula], 
        [Extent2].[Accrued_Income_Price_Formula] AS [Accrued_Income_Price_Formula], 
        [Extent2].[Odd_First_Coupon_Date] AS [Odd_First_Coupon_Date], 
        [Extent2].[Odd_Last_Coupon_Date] AS [Odd_Last_Coupon_Date], 
        [Extent2].[Coupon_Anniversary_Indicator] AS [Coupon_Anniversary_Indicator], 
        [Extent2].[Track_EOM_Flag] AS [Track_EOM_Flag], 
        [Extent2].[Next_Coupon_Date] AS [Next_Coupon_Date], 
        [Extent2].[Previous_Coupon_Date] AS [Previous_Coupon_Date], 
        [Extent2].[Payment_Frequency] AS [Payment_Frequency], 
        [Extent2].[Coupon_BusDay_Adjustment] AS [Coupon_BusDay_Adjustment], 
        [Extent2].[Next_Ex_Div_Date] AS [Next_Ex_Div_Date], 
        [Extent2].[Ex_Div_BusDay_Adjustment] AS [Ex_Div_BusDay_Adjustment], 
        [Extent2].[Ex_Div_Period] AS [Ex_Div_Period], 
        [Extent2].[Ticker] AS [Ticker], 
        [Extent2].[Inet_ID] AS [Inet_ID], 
        [Extent2].[Bloomberg_ID] AS [Bloomberg_ID], 
        [Extent2].[External_Sec_ID] AS [External_Sec_ID], 
        [Extent2].[Reuters_ID] AS [Reuters_ID], 
        [Extent2].[ISIN] AS [ISIN], 
        [Extent2].[Call_Account_Flag] AS [Call_Account_Flag], 
        [Extent2].[System_Locked] AS [System_Locked], 
        [Extent2].[Last_Update_User] AS [Last_Update_User1], 
        [Extent2].[Last_Update_Date] AS [Last_Update_Date1], 
        [Extent2].[Security_Status] AS [Security_Status], 
        [Extent2].[Benchmark_Portfolio] AS [Benchmark_Portfolio], 
        [Extent2].[Active_flag] AS [Active_flag], 
        [Extent2].[Dividend_FX_Security_ID] AS [Dividend_FX_Security_ID]
        FROM  [dbo].[Security_Performance_History] AS [Extent1]
        INNER JOIN [dbo].[Security_Detail] AS [Extent2] ON [Extent1].[Security_ID] = [Extent2].[Security_ID]
        WHERE ([Extent1].[Security_ID] = @p__linq__0) AND ([Extent1].[Portfolio_Code] = @p__linq__1)
    )  AS [Project1]
    ORDER BY [Project1].[Record_Date] DESC
2018-04-07 12:47:21.7270|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: SELECT 
    [Project1].[Decimal_Precision] AS [Decimal_Precision], 
    [Project1].[Security_ID] AS [Security_ID], 
    [Project1].[Portfolio_Code] AS [Portfolio_Code], 
    [Project1].[Entity_ID] AS [Entity_ID], 
    [Project1].[ModDietz_Performance_Quarterly] AS [ModDietz_Performance_Quarterly], 
    [Project1].[ModDietz_Performance_Monthly] AS [ModDietz_Performance_Monthly], 
    [Project1].[ModDietz_Performance_MonthToDate] AS [ModDietz_Performance_MonthToDate], 
    [Project1].[Dietz_Performance_Quarterly] AS [Dietz_Performance_Quarterly], 
    [Project1].[Dietz_Performance_Monthly] AS [Dietz_Performance_Monthly], 
    [Project1].[Dietz_Performance_MonthToDate] AS [Dietz_Performance_MonthToDate], 
    [Project1].[Last_Update_Date] AS [Last_Update_Date], 
    [Project1].[Last_Update_User] AS [Last_Update_User], 
    [Project1].[Record_Date] AS [Record_Date], 
    [Project1].[Session_ID] AS [Session_ID], 
    [Project1].[Hist_Last_Update_Date] AS [Hist_Last_Update_Date], 
    [Project1].[Hist_Last_Update_User] AS [Hist_Last_Update_User], 
    [Project1].[Security_ID1] AS [Security_ID1], 
    [Project1].[Entity_ID1] AS [Entity_ID1], 
    [Project1].[Security_Name] AS [Security_Name], 
    [Project1].[Short_Name] AS [Short_Name], 
    [Project1].[Primary_Exch] AS [Primary_Exch], 
    [Project1].[Secondary_Exch] AS [Secondary_Exch], 
    [Project1].[Country_Of_Domicile] AS [Country_Of_Domicile], 
    [Project1].[Country_Of_Risk] AS [Country_Of_Risk], 
    [Project1].[Security_Type_Code] AS [Security_Type_Code], 
    [Project1].[Price_Multiplier] AS [Price_Multiplier], 
    [Project1].[Income_Frequency] AS [Income_Frequency], 
    [Project1].[Issuer_Code] AS [Issuer_Code], 
    [Project1].[Ultimate_Issuer_Code] AS [Ultimate_Issuer_Code], 
    [Project1].[Asset_Currency] AS [Asset_Currency], 
    [Project1].[Min_Lot_Size] AS [Min_Lot_Size], 
    [Project1].[AvePrice_Rounding] AS [AvePrice_Rounding], 
    [Project1].[Issue_Date] AS [Issue_Date], 
    [Project1].[Maturity_Date] AS [Maturity_Date], 
    [Project1].[Coupon_Rate] AS [Coupon_Rate], 
    [Project1].[Price_Exchange] AS [Price_Exchange], 
    [Project1].[Trade_Currency] AS [Trade_Currency], 
    [Project1].[Price_Curr] AS [Price_Curr], 
    [Project1].[Currency_Pair_Code] AS [Currency_Pair_Code], 
    [Project1].[Share_Class] AS [Share_Class], 
    [Project1].[Current_Market_Price] AS [Current_Market_Price], 
    [Project1].[Index_Type] AS [Index_Type], 
    [Project1].[Clean_Price_Formula] AS [Clean_Price_Formula], 
    [Project1].[Accrued_Income_Price_Formula] AS [Accrued_Income_Price_Formula], 
    [Project1].[Odd_First_Coupon_Date] AS [Odd_First_Coupon_Date], 
    [Project1].[Odd_Last_Coupon_Date] AS [Odd_Last_Coupon_Date], 
    [Project1].[Coupon_Anniversary_Indicator] AS [Coupon_Anniversary_Indicator], 
    [Project1].[Track_EOM_Flag] AS [Track_EOM_Flag], 
    [Project1].[Next_Coupon_Date] AS [Next_Coupon_Date], 
    [Project1].[Previous_Coupon_Date] AS [Previous_Coupon_Date], 
    [Project1].[Payment_Frequency] AS [Payment_Frequency], 
    [Project1].[Coupon_BusDay_Adjustment] AS [Coupon_BusDay_Adjustment], 
    [Project1].[Next_Ex_Div_Date] AS [Next_Ex_Div_Date], 
    [Project1].[Ex_Div_BusDay_Adjustment] AS [Ex_Div_BusDay_Adjustment], 
    [Project1].[Ex_Div_Period] AS [Ex_Div_Period], 
    [Project1].[Ticker] AS [Ticker], 
    [Project1].[Inet_ID] AS [Inet_ID], 
    [Project1].[Bloomberg_ID] AS [Bloomberg_ID], 
    [Project1].[External_Sec_ID] AS [External_Sec_ID], 
    [Project1].[Reuters_ID] AS [Reuters_ID], 
    [Project1].[ISIN] AS [ISIN], 
    [Project1].[Call_Account_Flag] AS [Call_Account_Flag], 
    [Project1].[System_Locked] AS [System_Locked], 
    [Project1].[Last_Update_User1] AS [Last_Update_User1], 
    [Project1].[Last_Update_Date1] AS [Last_Update_Date1], 
    [Project1].[Security_Status] AS [Security_Status], 
    [Project1].[Benchmark_Portfolio] AS [Benchmark_Portfolio], 
    [Project1].[Active_flag] AS [Active_flag], 
    [Project1].[Dividend_FX_Security_ID] AS [Dividend_FX_Security_ID]
    FROM ( SELECT 
        [Extent1].[Security_ID] AS [Security_ID], 
        [Extent1].[Portfolio_Code] AS [Portfolio_Code], 
        [Extent1].[Entity_ID] AS [Entity_ID], 
        [Extent1].[ModDietz_Performance_Quarterly] AS [ModDietz_Performance_Quarterly], 
        [Extent1].[ModDietz_Performance_Monthly] AS [ModDietz_Performance_Monthly], 
        [Extent1].[ModDietz_Performance_MonthToDate] AS [ModDietz_Performance_MonthToDate], 
        [Extent1].[Dietz_Performance_Quarterly] AS [Dietz_Performance_Quarterly], 
        [Extent1].[Dietz_Performance_Monthly] AS [Dietz_Performance_Monthly], 
        [Extent1].[Dietz_Performance_MonthToDate] AS [Dietz_Performance_MonthToDate], 
        [Extent1].[Last_Update_Date] AS [Last_Update_Date], 
        [Extent1].[Last_Update_User] AS [Last_Update_User], 
        [Extent1].[Record_Date] AS [Record_Date], 
        [Extent1].[Session_ID] AS [Session_ID], 
        [Extent1].[Hist_Last_Update_Date] AS [Hist_Last_Update_Date], 
        [Extent1].[Hist_Last_Update_User] AS [Hist_Last_Update_User], 
        [Extent2].[Security_ID] AS [Security_ID1], 
        [Extent2].[Entity_ID] AS [Entity_ID1], 
        [Extent2].[Security_Name] AS [Security_Name], 
        [Extent2].[Short_Name] AS [Short_Name], 
        [Extent2].[Primary_Exch] AS [Primary_Exch], 
        [Extent2].[Secondary_Exch] AS [Secondary_Exch], 
        [Extent2].[Country_Of_Domicile] AS [Country_Of_Domicile], 
        [Extent2].[Country_Of_Risk] AS [Country_Of_Risk], 
        [Extent2].[Security_Type_Code] AS [Security_Type_Code], 
        [Extent2].[Price_Multiplier] AS [Price_Multiplier], 
        [Extent2].[Income_Frequency] AS [Income_Frequency], 
        [Extent2].[Issuer_Code] AS [Issuer_Code], 
        [Extent2].[Ultimate_Issuer_Code] AS [Ultimate_Issuer_Code], 
        [Extent2].[Asset_Currency] AS [Asset_Currency], 
        [Extent2].[Min_Lot_Size] AS [Min_Lot_Size], 
        [Extent2].[Decimal_Precision] AS [Decimal_Precision], 
        [Extent2].[AvePrice_Rounding] AS [AvePrice_Rounding], 
        [Extent2].[Issue_Date] AS [Issue_Date], 
        [Extent2].[Maturity_Date] AS [Maturity_Date], 
        [Extent2].[Coupon_Rate] AS [Coupon_Rate], 
        [Extent2].[Price_Exchange] AS [Price_Exchange], 
        [Extent2].[Trade_Currency] AS [Trade_Currency], 
        [Extent2].[Price_Curr] AS [Price_Curr], 
        [Extent2].[Currency_Pair_Code] AS [Currency_Pair_Code], 
        [Extent2].[Share_Class] AS [Share_Class], 
        [Extent2].[Current_Market_Price] AS [Current_Market_Price], 
        [Extent2].[Index_Type] AS [Index_Type], 
        [Extent2].[Clean_Price_Formula] AS [Clean_Price_Formula], 
        [Extent2].[Accrued_Income_Price_Formula] AS [Accrued_Income_Price_Formula], 
        [Extent2].[Odd_First_Coupon_Date] AS [Odd_First_Coupon_Date], 
        [Extent2].[Odd_Last_Coupon_Date] AS [Odd_Last_Coupon_Date], 
        [Extent2].[Coupon_Anniversary_Indicator] AS [Coupon_Anniversary_Indicator], 
        [Extent2].[Track_EOM_Flag] AS [Track_EOM_Flag], 
        [Extent2].[Next_Coupon_Date] AS [Next_Coupon_Date], 
        [Extent2].[Previous_Coupon_Date] AS [Previous_Coupon_Date], 
        [Extent2].[Payment_Frequency] AS [Payment_Frequency], 
        [Extent2].[Coupon_BusDay_Adjustment] AS [Coupon_BusDay_Adjustment], 
        [Extent2].[Next_Ex_Div_Date] AS [Next_Ex_Div_Date], 
        [Extent2].[Ex_Div_BusDay_Adjustment] AS [Ex_Div_BusDay_Adjustment], 
        [Extent2].[Ex_Div_Period] AS [Ex_Div_Period], 
        [Extent2].[Ticker] AS [Ticker], 
        [Extent2].[Inet_ID] AS [Inet_ID], 
        [Extent2].[Bloomberg_ID] AS [Bloomberg_ID], 
        [Extent2].[External_Sec_ID] AS [External_Sec_ID], 
        [Extent2].[Reuters_ID] AS [Reuters_ID], 
        [Extent2].[ISIN] AS [ISIN], 
        [Extent2].[Call_Account_Flag] AS [Call_Account_Flag], 
        [Extent2].[System_Locked] AS [System_Locked], 
        [Extent2].[Last_Update_User] AS [Last_Update_User1], 
        [Extent2].[Last_Update_Date] AS [Last_Update_Date1], 
        [Extent2].[Security_Status] AS [Security_Status], 
        [Extent2].[Benchmark_Portfolio] AS [Benchmark_Portfolio], 
        [Extent2].[Active_flag] AS [Active_flag], 
        [Extent2].[Dividend_FX_Security_ID] AS [Dividend_FX_Security_ID]
        FROM  [dbo].[Security_Performance_History] AS [Extent1]
        INNER JOIN [dbo].[Security_Detail] AS [Extent2] ON [Extent1].[Security_ID] = [Extent2].[Security_ID]
        WHERE ([Extent1].[Security_ID] = @p__linq__0) AND ([Extent1].[Portfolio_Code] = @p__linq__1)
    )  AS [Project1]
    ORDER BY [Project1].[Record_Date] DESC
2018-04-07 12:47:21.7855|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: IF db_id(N'MetopeAzureDb') IS NOT NULL SELECT 1 ELSE SELECT Count(*) FROM sys.databases WHERE [name]=N'MetopeAzureDb'
2018-04-07 12:47:21.8080|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: IF db_id(N'MetopeAzureDb') IS NOT NULL SELECT 1 ELSE SELECT Count(*) FROM sys.databases WHERE [name]=N'MetopeAzureDb'
2018-04-07 12:47:21.8351|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: IF db_id(N'MetopeAzureDb') IS NOT NULL SELECT 1 ELSE SELECT Count(*) FROM sys.databases WHERE [name]=N'MetopeAzureDb'
2018-04-07 12:47:21.8596|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: IF db_id(N'MetopeAzureDb') IS NOT NULL SELECT 1 ELSE SELECT Count(*) FROM sys.databases WHERE [name]=N'MetopeAzureDb'
2018-04-07 12:47:27.2156|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: SELECT 
    [Extent1].[Security_ID] AS [Security_ID], 
    [Extent1].[Portfolio_Code] AS [Portfolio_Code], 
    [Extent1].[Entity_ID] AS [Entity_ID], 
    [Extent1].[ModDietz_Performance_Quarterly] AS [ModDietz_Performance_Quarterly], 
    [Extent1].[ModDietz_Performance_Monthly] AS [ModDietz_Performance_Monthly], 
    [Extent1].[ModDietz_Performance_MonthToDate] AS [ModDietz_Performance_MonthToDate], 
    [Extent1].[Dietz_Performance_Quarterly] AS [Dietz_Performance_Quarterly], 
    [Extent1].[Dietz_Performance_Monthly] AS [Dietz_Performance_Monthly], 
    [Extent1].[Dietz_Performance_MonthToDate] AS [Dietz_Performance_MonthToDate], 
    [Extent1].[Last_Update_Date] AS [Last_Update_Date], 
    [Extent1].[Last_Update_User] AS [Last_Update_User], 
    [Extent1].[Record_Date] AS [Record_Date], 
    [Extent1].[Session_ID] AS [Session_ID], 
    [Extent1].[Hist_Last_Update_Date] AS [Hist_Last_Update_Date], 
    [Extent1].[Hist_Last_Update_User] AS [Hist_Last_Update_User]
    FROM [dbo].[Security_Performance_History] AS [Extent1]
    WHERE ([Extent1].[Security_ID] = @p__linq__0) AND ([Extent1].[Portfolio_Code] = @p__linq__1) AND ([Extent1].[Record_Date] = @p__linq__2) AND ([Extent1].[Entity_ID] = @p__linq__3)
2018-04-07 12:47:27.2497|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: SELECT 
    [Extent1].[Security_ID] AS [Security_ID], 
    [Extent1].[Portfolio_Code] AS [Portfolio_Code], 
    [Extent1].[Entity_ID] AS [Entity_ID], 
    [Extent1].[ModDietz_Performance_Quarterly] AS [ModDietz_Performance_Quarterly], 
    [Extent1].[ModDietz_Performance_Monthly] AS [ModDietz_Performance_Monthly], 
    [Extent1].[ModDietz_Performance_MonthToDate] AS [ModDietz_Performance_MonthToDate], 
    [Extent1].[Dietz_Performance_Quarterly] AS [Dietz_Performance_Quarterly], 
    [Extent1].[Dietz_Performance_Monthly] AS [Dietz_Performance_Monthly], 
    [Extent1].[Dietz_Performance_MonthToDate] AS [Dietz_Performance_MonthToDate], 
    [Extent1].[Last_Update_Date] AS [Last_Update_Date], 
    [Extent1].[Last_Update_User] AS [Last_Update_User], 
    [Extent1].[Record_Date] AS [Record_Date], 
    [Extent1].[Session_ID] AS [Session_ID], 
    [Extent1].[Hist_Last_Update_Date] AS [Hist_Last_Update_Date], 
    [Extent1].[Hist_Last_Update_User] AS [Hist_Last_Update_User]
    FROM [dbo].[Security_Performance_History] AS [Extent1]
    WHERE ([Extent1].[Security_ID] = @p__linq__0) AND ([Extent1].[Portfolio_Code] = @p__linq__1) AND ([Extent1].[Record_Date] = @p__linq__2) AND ([Extent1].[Entity_ID] = @p__linq__3)
2018-04-07 12:47:32.1336|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: SELECT 
    [Extent1].[Security_ID] AS [Security_ID], 
    [Extent1].[Portfolio_Code] AS [Portfolio_Code], 
    [Extent1].[Entity_ID] AS [Entity_ID], 
    [Extent1].[ModDietz_Performance_Quarterly] AS [ModDietz_Performance_Quarterly], 
    [Extent1].[ModDietz_Performance_Monthly] AS [ModDietz_Performance_Monthly], 
    [Extent1].[ModDietz_Performance_MonthToDate] AS [ModDietz_Performance_MonthToDate], 
    [Extent1].[Dietz_Performance_Quarterly] AS [Dietz_Performance_Quarterly], 
    [Extent1].[Dietz_Performance_Monthly] AS [Dietz_Performance_Monthly], 
    [Extent1].[Dietz_Performance_MonthToDate] AS [Dietz_Performance_MonthToDate], 
    [Extent1].[Last_Update_Date] AS [Last_Update_Date], 
    [Extent1].[Last_Update_User] AS [Last_Update_User], 
    [Extent1].[Record_Date] AS [Record_Date], 
    [Extent1].[Session_ID] AS [Session_ID], 
    [Extent1].[Hist_Last_Update_Date] AS [Hist_Last_Update_Date], 
    [Extent1].[Hist_Last_Update_User] AS [Hist_Last_Update_User]
    FROM [dbo].[Security_Performance_History] AS [Extent1]
    WHERE ([Extent1].[Security_ID] = @p__linq__0) AND ([Extent1].[Portfolio_Code] = @p__linq__1) AND ([Extent1].[Record_Date] = @p__linq__2) AND ([Extent1].[Entity_ID] = @p__linq__3)
2018-04-07 12:47:32.1726|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: SELECT 
    [Extent1].[Security_ID] AS [Security_ID], 
    [Extent1].[Portfolio_Code] AS [Portfolio_Code], 
    [Extent1].[Entity_ID] AS [Entity_ID], 
    [Extent1].[ModDietz_Performance_Quarterly] AS [ModDietz_Performance_Quarterly], 
    [Extent1].[ModDietz_Performance_Monthly] AS [ModDietz_Performance_Monthly], 
    [Extent1].[ModDietz_Performance_MonthToDate] AS [ModDietz_Performance_MonthToDate], 
    [Extent1].[Dietz_Performance_Quarterly] AS [Dietz_Performance_Quarterly], 
    [Extent1].[Dietz_Performance_Monthly] AS [Dietz_Performance_Monthly], 
    [Extent1].[Dietz_Performance_MonthToDate] AS [Dietz_Performance_MonthToDate], 
    [Extent1].[Last_Update_Date] AS [Last_Update_Date], 
    [Extent1].[Last_Update_User] AS [Last_Update_User], 
    [Extent1].[Record_Date] AS [Record_Date], 
    [Extent1].[Session_ID] AS [Session_ID], 
    [Extent1].[Hist_Last_Update_Date] AS [Hist_Last_Update_Date], 
    [Extent1].[Hist_Last_Update_User] AS [Hist_Last_Update_User]
    FROM [dbo].[Security_Performance_History] AS [Extent1]
    WHERE ([Extent1].[Security_ID] = @p__linq__0) AND ([Extent1].[Portfolio_Code] = @p__linq__1) AND ([Extent1].[Record_Date] = @p__linq__2) AND ([Extent1].[Entity_ID] = @p__linq__3)
2018-04-07 12:47:47.4564|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: SELECT 
    [Extent1].[Security_ID] AS [Security_ID], 
    [Extent1].[Portfolio_Code] AS [Portfolio_Code], 
    [Extent1].[Entity_ID] AS [Entity_ID], 
    [Extent1].[ModDietz_Performance_Quarterly] AS [ModDietz_Performance_Quarterly], 
    [Extent1].[ModDietz_Performance_Monthly] AS [ModDietz_Performance_Monthly], 
    [Extent1].[ModDietz_Performance_MonthToDate] AS [ModDietz_Performance_MonthToDate], 
    [Extent1].[Dietz_Performance_Quarterly] AS [Dietz_Performance_Quarterly], 
    [Extent1].[Dietz_Performance_Monthly] AS [Dietz_Performance_Monthly], 
    [Extent1].[Dietz_Performance_MonthToDate] AS [Dietz_Performance_MonthToDate], 
    [Extent1].[Last_Update_Date] AS [Last_Update_Date], 
    [Extent1].[Last_Update_User] AS [Last_Update_User], 
    [Extent1].[Record_Date] AS [Record_Date], 
    [Extent1].[Session_ID] AS [Session_ID], 
    [Extent1].[Hist_Last_Update_Date] AS [Hist_Last_Update_Date], 
    [Extent1].[Hist_Last_Update_User] AS [Hist_Last_Update_User]
    FROM [dbo].[Security_Performance_History] AS [Extent1]
    WHERE ([Extent1].[Security_ID] = @p__linq__0) AND ([Extent1].[Portfolio_Code] = @p__linq__1) AND ([Extent1].[Record_Date] = @p__linq__2) AND ([Extent1].[Entity_ID] = @p__linq__3)
2018-04-07 12:47:47.4789|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: SELECT 
    [Extent1].[Security_ID] AS [Security_ID], 
    [Extent1].[Portfolio_Code] AS [Portfolio_Code], 
    [Extent1].[Entity_ID] AS [Entity_ID], 
    [Extent1].[ModDietz_Performance_Quarterly] AS [ModDietz_Performance_Quarterly], 
    [Extent1].[ModDietz_Performance_Monthly] AS [ModDietz_Performance_Monthly], 
    [Extent1].[ModDietz_Performance_MonthToDate] AS [ModDietz_Performance_MonthToDate], 
    [Extent1].[Dietz_Performance_Quarterly] AS [Dietz_Performance_Quarterly], 
    [Extent1].[Dietz_Performance_Monthly] AS [Dietz_Performance_Monthly], 
    [Extent1].[Dietz_Performance_MonthToDate] AS [Dietz_Performance_MonthToDate], 
    [Extent1].[Last_Update_Date] AS [Last_Update_Date], 
    [Extent1].[Last_Update_User] AS [Last_Update_User], 
    [Extent1].[Record_Date] AS [Record_Date], 
    [Extent1].[Session_ID] AS [Session_ID], 
    [Extent1].[Hist_Last_Update_Date] AS [Hist_Last_Update_Date], 
    [Extent1].[Hist_Last_Update_User] AS [Hist_Last_Update_User]
    FROM [dbo].[Security_Performance_History] AS [Extent1]
    WHERE ([Extent1].[Security_ID] = @p__linq__0) AND ([Extent1].[Portfolio_Code] = @p__linq__1) AND ([Extent1].[Record_Date] = @p__linq__2) AND ([Extent1].[Entity_ID] = @p__linq__3)
2018-04-07 12:47:47.5434|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: SELECT 
    [Extent1].[Security_ID] AS [Security_ID], 
    [Extent1].[Entity_ID] AS [Entity_ID], 
    [Extent1].[Security_Name] AS [Security_Name], 
    [Extent1].[Short_Name] AS [Short_Name], 
    [Extent1].[Primary_Exch] AS [Primary_Exch], 
    [Extent1].[Secondary_Exch] AS [Secondary_Exch], 
    [Extent1].[Country_Of_Domicile] AS [Country_Of_Domicile], 
    [Extent1].[Country_Of_Risk] AS [Country_Of_Risk], 
    [Extent1].[Security_Type_Code] AS [Security_Type_Code], 
    [Extent1].[Price_Multiplier] AS [Price_Multiplier], 
    [Extent1].[Income_Frequency] AS [Income_Frequency], 
    [Extent1].[Issuer_Code] AS [Issuer_Code], 
    [Extent1].[Ultimate_Issuer_Code] AS [Ultimate_Issuer_Code], 
    [Extent1].[Asset_Currency] AS [Asset_Currency], 
    [Extent1].[Min_Lot_Size] AS [Min_Lot_Size], 
    [Extent1].[Decimal_Precision] AS [Decimal_Precision], 
    [Extent1].[AvePrice_Rounding] AS [AvePrice_Rounding], 
    [Extent1].[Issue_Date] AS [Issue_Date], 
    [Extent1].[Maturity_Date] AS [Maturity_Date], 
    [Extent1].[Coupon_Rate] AS [Coupon_Rate], 
    [Extent1].[Price_Exchange] AS [Price_Exchange], 
    [Extent1].[Trade_Currency] AS [Trade_Currency], 
    [Extent1].[Price_Curr] AS [Price_Curr], 
    [Extent1].[Currency_Pair_Code] AS [Currency_Pair_Code], 
    [Extent1].[Share_Class] AS [Share_Class], 
    [Extent1].[Current_Market_Price] AS [Current_Market_Price], 
    [Extent1].[Index_Type] AS [Index_Type], 
    [Extent1].[Clean_Price_Formula] AS [Clean_Price_Formula], 
    [Extent1].[Accrued_Income_Price_Formula] AS [Accrued_Income_Price_Formula], 
    [Extent1].[Odd_First_Coupon_Date] AS [Odd_First_Coupon_Date], 
    [Extent1].[Odd_Last_Coupon_Date] AS [Odd_Last_Coupon_Date], 
    [Extent1].[Coupon_Anniversary_Indicator] AS [Coupon_Anniversary_Indicator], 
    [Extent1].[Track_EOM_Flag] AS [Track_EOM_Flag], 
    [Extent1].[Next_Coupon_Date] AS [Next_Coupon_Date], 
    [Extent1].[Previous_Coupon_Date] AS [Previous_Coupon_Date], 
    [Extent1].[Payment_Frequency] AS [Payment_Frequency], 
    [Extent1].[Coupon_BusDay_Adjustment] AS [Coupon_BusDay_Adjustment], 
    [Extent1].[Next_Ex_Div_Date] AS [Next_Ex_Div_Date], 
    [Extent1].[Ex_Div_BusDay_Adjustment] AS [Ex_Div_BusDay_Adjustment], 
    [Extent1].[Ex_Div_Period] AS [Ex_Div_Period], 
    [Extent1].[Ticker] AS [Ticker], 
    [Extent1].[Inet_ID] AS [Inet_ID], 
    [Extent1].[Bloomberg_ID] AS [Bloomberg_ID], 
    [Extent1].[External_Sec_ID] AS [External_Sec_ID], 
    [Extent1].[Reuters_ID] AS [Reuters_ID], 
    [Extent1].[ISIN] AS [ISIN], 
    [Extent1].[Call_Account_Flag] AS [Call_Account_Flag], 
    [Extent1].[System_Locked] AS [System_Locked], 
    [Extent1].[Last_Update_User] AS [Last_Update_User], 
    [Extent1].[Last_Update_Date] AS [Last_Update_Date], 
    [Extent1].[Security_Status] AS [Security_Status], 
    [Extent1].[Benchmark_Portfolio] AS [Benchmark_Portfolio], 
    [Extent1].[Active_flag] AS [Active_flag], 
    [Extent1].[Dividend_FX_Security_ID] AS [Dividend_FX_Security_ID]
    FROM [dbo].[Security_Detail] AS [Extent1]
    WHERE [Extent1].[Security_ID] = @EntityKeyValue1
2018-04-07 12:47:47.5735|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: SELECT 
    [Extent1].[Security_ID] AS [Security_ID], 
    [Extent1].[Entity_ID] AS [Entity_ID], 
    [Extent1].[Security_Name] AS [Security_Name], 
    [Extent1].[Short_Name] AS [Short_Name], 
    [Extent1].[Primary_Exch] AS [Primary_Exch], 
    [Extent1].[Secondary_Exch] AS [Secondary_Exch], 
    [Extent1].[Country_Of_Domicile] AS [Country_Of_Domicile], 
    [Extent1].[Country_Of_Risk] AS [Country_Of_Risk], 
    [Extent1].[Security_Type_Code] AS [Security_Type_Code], 
    [Extent1].[Price_Multiplier] AS [Price_Multiplier], 
    [Extent1].[Income_Frequency] AS [Income_Frequency], 
    [Extent1].[Issuer_Code] AS [Issuer_Code], 
    [Extent1].[Ultimate_Issuer_Code] AS [Ultimate_Issuer_Code], 
    [Extent1].[Asset_Currency] AS [Asset_Currency], 
    [Extent1].[Min_Lot_Size] AS [Min_Lot_Size], 
    [Extent1].[Decimal_Precision] AS [Decimal_Precision], 
    [Extent1].[AvePrice_Rounding] AS [AvePrice_Rounding], 
    [Extent1].[Issue_Date] AS [Issue_Date], 
    [Extent1].[Maturity_Date] AS [Maturity_Date], 
    [Extent1].[Coupon_Rate] AS [Coupon_Rate], 
    [Extent1].[Price_Exchange] AS [Price_Exchange], 
    [Extent1].[Trade_Currency] AS [Trade_Currency], 
    [Extent1].[Price_Curr] AS [Price_Curr], 
    [Extent1].[Currency_Pair_Code] AS [Currency_Pair_Code], 
    [Extent1].[Share_Class] AS [Share_Class], 
    [Extent1].[Current_Market_Price] AS [Current_Market_Price], 
    [Extent1].[Index_Type] AS [Index_Type], 
    [Extent1].[Clean_Price_Formula] AS [Clean_Price_Formula], 
    [Extent1].[Accrued_Income_Price_Formula] AS [Accrued_Income_Price_Formula], 
    [Extent1].[Odd_First_Coupon_Date] AS [Odd_First_Coupon_Date], 
    [Extent1].[Odd_Last_Coupon_Date] AS [Odd_Last_Coupon_Date], 
    [Extent1].[Coupon_Anniversary_Indicator] AS [Coupon_Anniversary_Indicator], 
    [Extent1].[Track_EOM_Flag] AS [Track_EOM_Flag], 
    [Extent1].[Next_Coupon_Date] AS [Next_Coupon_Date], 
    [Extent1].[Previous_Coupon_Date] AS [Previous_Coupon_Date], 
    [Extent1].[Payment_Frequency] AS [Payment_Frequency], 
    [Extent1].[Coupon_BusDay_Adjustment] AS [Coupon_BusDay_Adjustment], 
    [Extent1].[Next_Ex_Div_Date] AS [Next_Ex_Div_Date], 
    [Extent1].[Ex_Div_BusDay_Adjustment] AS [Ex_Div_BusDay_Adjustment], 
    [Extent1].[Ex_Div_Period] AS [Ex_Div_Period], 
    [Extent1].[Ticker] AS [Ticker], 
    [Extent1].[Inet_ID] AS [Inet_ID], 
    [Extent1].[Bloomberg_ID] AS [Bloomberg_ID], 
    [Extent1].[External_Sec_ID] AS [External_Sec_ID], 
    [Extent1].[Reuters_ID] AS [Reuters_ID], 
    [Extent1].[ISIN] AS [ISIN], 
    [Extent1].[Call_Account_Flag] AS [Call_Account_Flag], 
    [Extent1].[System_Locked] AS [System_Locked], 
    [Extent1].[Last_Update_User] AS [Last_Update_User], 
    [Extent1].[Last_Update_Date] AS [Last_Update_Date], 
    [Extent1].[Security_Status] AS [Security_Status], 
    [Extent1].[Benchmark_Portfolio] AS [Benchmark_Portfolio], 
    [Extent1].[Active_flag] AS [Active_flag], 
    [Extent1].[Dividend_FX_Security_ID] AS [Dividend_FX_Security_ID]
    FROM [dbo].[Security_Detail] AS [Extent1]
    WHERE [Extent1].[Security_ID] = @EntityKeyValue1
2018-04-07 12:47:47.6190|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: SELECT 
    [Project1].[Security_ID] AS [Security_ID], 
    [Project1].[Entity_ID] AS [Entity_ID], 
    [Project1].[Security_Name] AS [Security_Name], 
    [Project1].[Short_Name] AS [Short_Name], 
    [Project1].[Primary_Exch] AS [Primary_Exch], 
    [Project1].[Secondary_Exch] AS [Secondary_Exch], 
    [Project1].[Country_Of_Domicile] AS [Country_Of_Domicile], 
    [Project1].[Country_Of_Risk] AS [Country_Of_Risk], 
    [Project1].[Security_Type_Code] AS [Security_Type_Code], 
    [Project1].[Price_Multiplier] AS [Price_Multiplier], 
    [Project1].[Income_Frequency] AS [Income_Frequency], 
    [Project1].[Issuer_Code] AS [Issuer_Code], 
    [Project1].[Ultimate_Issuer_Code] AS [Ultimate_Issuer_Code], 
    [Project1].[Asset_Currency] AS [Asset_Currency], 
    [Project1].[Min_Lot_Size] AS [Min_Lot_Size], 
    [Project1].[Decimal_Precision] AS [Decimal_Precision], 
    [Project1].[AvePrice_Rounding] AS [AvePrice_Rounding], 
    [Project1].[Issue_Date] AS [Issue_Date], 
    [Project1].[Maturity_Date] AS [Maturity_Date], 
    [Project1].[Coupon_Rate] AS [Coupon_Rate], 
    [Project1].[Price_Exchange] AS [Price_Exchange], 
    [Project1].[Trade_Currency] AS [Trade_Currency], 
    [Project1].[Price_Curr] AS [Price_Curr], 
    [Project1].[Currency_Pair_Code] AS [Currency_Pair_Code], 
    [Project1].[Share_Class] AS [Share_Class], 
    [Project1].[Current_Market_Price] AS [Current_Market_Price], 
    [Project1].[Index_Type] AS [Index_Type], 
    [Project1].[Clean_Price_Formula] AS [Clean_Price_Formula], 
    [Project1].[Accrued_Income_Price_Formula] AS [Accrued_Income_Price_Formula], 
    [Project1].[Odd_First_Coupon_Date] AS [Odd_First_Coupon_Date], 
    [Project1].[Odd_Last_Coupon_Date] AS [Odd_Last_Coupon_Date], 
    [Project1].[Coupon_Anniversary_Indicator] AS [Coupon_Anniversary_Indicator], 
    [Project1].[Track_EOM_Flag] AS [Track_EOM_Flag], 
    [Project1].[Next_Coupon_Date] AS [Next_Coupon_Date], 
    [Project1].[Previous_Coupon_Date] AS [Previous_Coupon_Date], 
    [Project1].[Payment_Frequency] AS [Payment_Frequency], 
    [Project1].[Coupon_BusDay_Adjustment] AS [Coupon_BusDay_Adjustment], 
    [Project1].[Next_Ex_Div_Date] AS [Next_Ex_Div_Date], 
    [Project1].[Ex_Div_BusDay_Adjustment] AS [Ex_Div_BusDay_Adjustment], 
    [Project1].[Ex_Div_Period] AS [Ex_Div_Period], 
    [Project1].[Ticker] AS [Ticker], 
    [Project1].[Inet_ID] AS [Inet_ID], 
    [Project1].[Bloomberg_ID] AS [Bloomberg_ID], 
    [Project1].[External_Sec_ID] AS [External_Sec_ID], 
    [Project1].[Reuters_ID] AS [Reuters_ID], 
    [Project1].[ISIN] AS [ISIN], 
    [Project1].[Call_Account_Flag] AS [Call_Account_Flag], 
    [Project1].[System_Locked] AS [System_Locked], 
    [Project1].[Last_Update_User] AS [Last_Update_User], 
    [Project1].[Last_Update_Date] AS [Last_Update_Date], 
    [Project1].[Security_Status] AS [Security_Status], 
    [Project1].[Benchmark_Portfolio] AS [Benchmark_Portfolio], 
    [Project1].[Active_flag] AS [Active_flag], 
    [Project1].[Dividend_FX_Security_ID] AS [Dividend_FX_Security_ID]
    FROM ( SELECT 
        [Extent1].[Security_ID] AS [Security_ID], 
        [Extent1].[Entity_ID] AS [Entity_ID], 
        [Extent1].[Security_Name] AS [Security_Name], 
        [Extent1].[Short_Name] AS [Short_Name], 
        [Extent1].[Primary_Exch] AS [Primary_Exch], 
        [Extent1].[Secondary_Exch] AS [Secondary_Exch], 
        [Extent1].[Country_Of_Domicile] AS [Country_Of_Domicile], 
        [Extent1].[Country_Of_Risk] AS [Country_Of_Risk], 
        [Extent1].[Security_Type_Code] AS [Security_Type_Code], 
        [Extent1].[Price_Multiplier] AS [Price_Multiplier], 
        [Extent1].[Income_Frequency] AS [Income_Frequency], 
        [Extent1].[Issuer_Code] AS [Issuer_Code], 
        [Extent1].[Ultimate_Issuer_Code] AS [Ultimate_Issuer_Code], 
        [Extent1].[Asset_Currency] AS [Asset_Currency], 
        [Extent1].[Min_Lot_Size] AS [Min_Lot_Size], 
        [Extent1].[Decimal_Precision] AS [Decimal_Precision], 
        [Extent1].[AvePrice_Rounding] AS [AvePrice_Rounding], 
        [Extent1].[Issue_Date] AS [Issue_Date], 
        [Extent1].[Maturity_Date] AS [Maturity_Date], 
        [Extent1].[Coupon_Rate] AS [Coupon_Rate], 
        [Extent1].[Price_Exchange] AS [Price_Exchange], 
        [Extent1].[Trade_Currency] AS [Trade_Currency], 
        [Extent1].[Price_Curr] AS [Price_Curr], 
        [Extent1].[Currency_Pair_Code] AS [Currency_Pair_Code], 
        [Extent1].[Share_Class] AS [Share_Class], 
        [Extent1].[Current_Market_Price] AS [Current_Market_Price], 
        [Extent1].[Index_Type] AS [Index_Type], 
        [Extent1].[Clean_Price_Formula] AS [Clean_Price_Formula], 
        [Extent1].[Accrued_Income_Price_Formula] AS [Accrued_Income_Price_Formula], 
        [Extent1].[Odd_First_Coupon_Date] AS [Odd_First_Coupon_Date], 
        [Extent1].[Odd_Last_Coupon_Date] AS [Odd_Last_Coupon_Date], 
        [Extent1].[Coupon_Anniversary_Indicator] AS [Coupon_Anniversary_Indicator], 
        [Extent1].[Track_EOM_Flag] AS [Track_EOM_Flag], 
        [Extent1].[Next_Coupon_Date] AS [Next_Coupon_Date], 
        [Extent1].[Previous_Coupon_Date] AS [Previous_Coupon_Date], 
        [Extent1].[Payment_Frequency] AS [Payment_Frequency], 
        [Extent1].[Coupon_BusDay_Adjustment] AS [Coupon_BusDay_Adjustment], 
        [Extent1].[Next_Ex_Div_Date] AS [Next_Ex_Div_Date], 
        [Extent1].[Ex_Div_BusDay_Adjustment] AS [Ex_Div_BusDay_Adjustment], 
        [Extent1].[Ex_Div_Period] AS [Ex_Div_Period], 
        [Extent1].[Ticker] AS [Ticker], 
        [Extent1].[Inet_ID] AS [Inet_ID], 
        [Extent1].[Bloomberg_ID] AS [Bloomberg_ID], 
        [Extent1].[External_Sec_ID] AS [External_Sec_ID], 
        [Extent1].[Reuters_ID] AS [Reuters_ID], 
        [Extent1].[ISIN] AS [ISIN], 
        [Extent1].[Call_Account_Flag] AS [Call_Account_Flag], 
        [Extent1].[System_Locked] AS [System_Locked], 
        [Extent1].[Last_Update_User] AS [Last_Update_User], 
        [Extent1].[Last_Update_Date] AS [Last_Update_Date], 
        [Extent1].[Security_Status] AS [Security_Status], 
        [Extent1].[Benchmark_Portfolio] AS [Benchmark_Portfolio], 
        [Extent1].[Active_flag] AS [Active_flag], 
        [Extent1].[Dividend_FX_Security_ID] AS [Dividend_FX_Security_ID]
        FROM [dbo].[Security_Detail] AS [Extent1]
        WHERE ([Extent1].[Entity_ID] IN (@p__linq__0,@p__linq__1)) AND ((CASE WHEN ( NOT ((N'' = @p__linq__2) AND (@p__linq__2 IS NOT NULL))) THEN CASE WHEN ([Extent1].[Security_Type_Code] = @p__linq__3) THEN cast(1 as bit) WHEN ( NOT (([Extent1].[Security_Type_Code] = @p__linq__3) AND (0 = (CASE WHEN (@p__linq__3 IS NULL) THEN cast(1 as bit) ELSE cast(0 as bit) END)))) THEN cast(0 as bit) END WHEN ('' <> [Extent1].[Security_Type_Code]) THEN cast(1 as bit) WHEN ('' = [Extent1].[Security_Type_Code]) THEN cast(0 as bit) END) = 1)
    )  AS [Project1]
    ORDER BY [Project1].[Security_Name] ASC
2018-04-07 12:47:47.6595|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: SELECT 
    [Project1].[Security_ID] AS [Security_ID], 
    [Project1].[Entity_ID] AS [Entity_ID], 
    [Project1].[Security_Name] AS [Security_Name], 
    [Project1].[Short_Name] AS [Short_Name], 
    [Project1].[Primary_Exch] AS [Primary_Exch], 
    [Project1].[Secondary_Exch] AS [Secondary_Exch], 
    [Project1].[Country_Of_Domicile] AS [Country_Of_Domicile], 
    [Project1].[Country_Of_Risk] AS [Country_Of_Risk], 
    [Project1].[Security_Type_Code] AS [Security_Type_Code], 
    [Project1].[Price_Multiplier] AS [Price_Multiplier], 
    [Project1].[Income_Frequency] AS [Income_Frequency], 
    [Project1].[Issuer_Code] AS [Issuer_Code], 
    [Project1].[Ultimate_Issuer_Code] AS [Ultimate_Issuer_Code], 
    [Project1].[Asset_Currency] AS [Asset_Currency], 
    [Project1].[Min_Lot_Size] AS [Min_Lot_Size], 
    [Project1].[Decimal_Precision] AS [Decimal_Precision], 
    [Project1].[AvePrice_Rounding] AS [AvePrice_Rounding], 
    [Project1].[Issue_Date] AS [Issue_Date], 
    [Project1].[Maturity_Date] AS [Maturity_Date], 
    [Project1].[Coupon_Rate] AS [Coupon_Rate], 
    [Project1].[Price_Exchange] AS [Price_Exchange], 
    [Project1].[Trade_Currency] AS [Trade_Currency], 
    [Project1].[Price_Curr] AS [Price_Curr], 
    [Project1].[Currency_Pair_Code] AS [Currency_Pair_Code], 
    [Project1].[Share_Class] AS [Share_Class], 
    [Project1].[Current_Market_Price] AS [Current_Market_Price], 
    [Project1].[Index_Type] AS [Index_Type], 
    [Project1].[Clean_Price_Formula] AS [Clean_Price_Formula], 
    [Project1].[Accrued_Income_Price_Formula] AS [Accrued_Income_Price_Formula], 
    [Project1].[Odd_First_Coupon_Date] AS [Odd_First_Coupon_Date], 
    [Project1].[Odd_Last_Coupon_Date] AS [Odd_Last_Coupon_Date], 
    [Project1].[Coupon_Anniversary_Indicator] AS [Coupon_Anniversary_Indicator], 
    [Project1].[Track_EOM_Flag] AS [Track_EOM_Flag], 
    [Project1].[Next_Coupon_Date] AS [Next_Coupon_Date], 
    [Project1].[Previous_Coupon_Date] AS [Previous_Coupon_Date], 
    [Project1].[Payment_Frequency] AS [Payment_Frequency], 
    [Project1].[Coupon_BusDay_Adjustment] AS [Coupon_BusDay_Adjustment], 
    [Project1].[Next_Ex_Div_Date] AS [Next_Ex_Div_Date], 
    [Project1].[Ex_Div_BusDay_Adjustment] AS [Ex_Div_BusDay_Adjustment], 
    [Project1].[Ex_Div_Period] AS [Ex_Div_Period], 
    [Project1].[Ticker] AS [Ticker], 
    [Project1].[Inet_ID] AS [Inet_ID], 
    [Project1].[Bloomberg_ID] AS [Bloomberg_ID], 
    [Project1].[External_Sec_ID] AS [External_Sec_ID], 
    [Project1].[Reuters_ID] AS [Reuters_ID], 
    [Project1].[ISIN] AS [ISIN], 
    [Project1].[Call_Account_Flag] AS [Call_Account_Flag], 
    [Project1].[System_Locked] AS [System_Locked], 
    [Project1].[Last_Update_User] AS [Last_Update_User], 
    [Project1].[Last_Update_Date] AS [Last_Update_Date], 
    [Project1].[Security_Status] AS [Security_Status], 
    [Project1].[Benchmark_Portfolio] AS [Benchmark_Portfolio], 
    [Project1].[Active_flag] AS [Active_flag], 
    [Project1].[Dividend_FX_Security_ID] AS [Dividend_FX_Security_ID]
    FROM ( SELECT 
        [Extent1].[Security_ID] AS [Security_ID], 
        [Extent1].[Entity_ID] AS [Entity_ID], 
        [Extent1].[Security_Name] AS [Security_Name], 
        [Extent1].[Short_Name] AS [Short_Name], 
        [Extent1].[Primary_Exch] AS [Primary_Exch], 
        [Extent1].[Secondary_Exch] AS [Secondary_Exch], 
        [Extent1].[Country_Of_Domicile] AS [Country_Of_Domicile], 
        [Extent1].[Country_Of_Risk] AS [Country_Of_Risk], 
        [Extent1].[Security_Type_Code] AS [Security_Type_Code], 
        [Extent1].[Price_Multiplier] AS [Price_Multiplier], 
        [Extent1].[Income_Frequency] AS [Income_Frequency], 
        [Extent1].[Issuer_Code] AS [Issuer_Code], 
        [Extent1].[Ultimate_Issuer_Code] AS [Ultimate_Issuer_Code], 
        [Extent1].[Asset_Currency] AS [Asset_Currency], 
        [Extent1].[Min_Lot_Size] AS [Min_Lot_Size], 
        [Extent1].[Decimal_Precision] AS [Decimal_Precision], 
        [Extent1].[AvePrice_Rounding] AS [AvePrice_Rounding], 
        [Extent1].[Issue_Date] AS [Issue_Date], 
        [Extent1].[Maturity_Date] AS [Maturity_Date], 
        [Extent1].[Coupon_Rate] AS [Coupon_Rate], 
        [Extent1].[Price_Exchange] AS [Price_Exchange], 
        [Extent1].[Trade_Currency] AS [Trade_Currency], 
        [Extent1].[Price_Curr] AS [Price_Curr], 
        [Extent1].[Currency_Pair_Code] AS [Currency_Pair_Code], 
        [Extent1].[Share_Class] AS [Share_Class], 
        [Extent1].[Current_Market_Price] AS [Current_Market_Price], 
        [Extent1].[Index_Type] AS [Index_Type], 
        [Extent1].[Clean_Price_Formula] AS [Clean_Price_Formula], 
        [Extent1].[Accrued_Income_Price_Formula] AS [Accrued_Income_Price_Formula], 
        [Extent1].[Odd_First_Coupon_Date] AS [Odd_First_Coupon_Date], 
        [Extent1].[Odd_Last_Coupon_Date] AS [Odd_Last_Coupon_Date], 
        [Extent1].[Coupon_Anniversary_Indicator] AS [Coupon_Anniversary_Indicator], 
        [Extent1].[Track_EOM_Flag] AS [Track_EOM_Flag], 
        [Extent1].[Next_Coupon_Date] AS [Next_Coupon_Date], 
        [Extent1].[Previous_Coupon_Date] AS [Previous_Coupon_Date], 
        [Extent1].[Payment_Frequency] AS [Payment_Frequency], 
        [Extent1].[Coupon_BusDay_Adjustment] AS [Coupon_BusDay_Adjustment], 
        [Extent1].[Next_Ex_Div_Date] AS [Next_Ex_Div_Date], 
        [Extent1].[Ex_Div_BusDay_Adjustment] AS [Ex_Div_BusDay_Adjustment], 
        [Extent1].[Ex_Div_Period] AS [Ex_Div_Period], 
        [Extent1].[Ticker] AS [Ticker], 
        [Extent1].[Inet_ID] AS [Inet_ID], 
        [Extent1].[Bloomberg_ID] AS [Bloomberg_ID], 
        [Extent1].[External_Sec_ID] AS [External_Sec_ID], 
        [Extent1].[Reuters_ID] AS [Reuters_ID], 
        [Extent1].[ISIN] AS [ISIN], 
        [Extent1].[Call_Account_Flag] AS [Call_Account_Flag], 
        [Extent1].[System_Locked] AS [System_Locked], 
        [Extent1].[Last_Update_User] AS [Last_Update_User], 
        [Extent1].[Last_Update_Date] AS [Last_Update_Date], 
        [Extent1].[Security_Status] AS [Security_Status], 
        [Extent1].[Benchmark_Portfolio] AS [Benchmark_Portfolio], 
        [Extent1].[Active_flag] AS [Active_flag], 
        [Extent1].[Dividend_FX_Security_ID] AS [Dividend_FX_Security_ID]
        FROM [dbo].[Security_Detail] AS [Extent1]
        WHERE ([Extent1].[Entity_ID] IN (@p__linq__0,@p__linq__1)) AND ((CASE WHEN ( NOT ((N'' = @p__linq__2) AND (@p__linq__2 IS NOT NULL))) THEN CASE WHEN ([Extent1].[Security_Type_Code] = @p__linq__3) THEN cast(1 as bit) WHEN ( NOT (([Extent1].[Security_Type_Code] = @p__linq__3) AND (0 = (CASE WHEN (@p__linq__3 IS NULL) THEN cast(1 as bit) ELSE cast(0 as bit) END)))) THEN cast(0 as bit) END WHEN ('' <> [Extent1].[Security_Type_Code]) THEN cast(1 as bit) WHEN ('' = [Extent1].[Security_Type_Code]) THEN cast(0 as bit) END) = 1)
    )  AS [Project1]
    ORDER BY [Project1].[Security_Name] ASC
2018-04-07 12:47:47.7031|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: IF db_id(N'MetopeAzureDb') IS NOT NULL SELECT 1 ELSE SELECT Count(*) FROM sys.databases WHERE [name]=N'MetopeAzureDb'
2018-04-07 12:47:47.7231|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: IF db_id(N'MetopeAzureDb') IS NOT NULL SELECT 1 ELSE SELECT Count(*) FROM sys.databases WHERE [name]=N'MetopeAzureDb'
2018-04-07 12:47:47.7401|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: IF db_id(N'MetopeAzureDb') IS NOT NULL SELECT 1 ELSE SELECT Count(*) FROM sys.databases WHERE [name]=N'MetopeAzureDb'
2018-04-07 12:47:47.7661|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: IF db_id(N'MetopeAzureDb') IS NOT NULL SELECT 1 ELSE SELECT Count(*) FROM sys.databases WHERE [name]=N'MetopeAzureDb'
2018-04-07 12:48:51.1309|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: SELECT 
    [Project1].[Decimal_Precision] AS [Decimal_Precision], 
    [Project1].[Security_ID] AS [Security_ID], 
    [Project1].[Portfolio_Code] AS [Portfolio_Code], 
    [Project1].[Entity_ID] AS [Entity_ID], 
    [Project1].[ModDietz_Performance_Quarterly] AS [ModDietz_Performance_Quarterly], 
    [Project1].[ModDietz_Performance_Monthly] AS [ModDietz_Performance_Monthly], 
    [Project1].[ModDietz_Performance_MonthToDate] AS [ModDietz_Performance_MonthToDate], 
    [Project1].[Dietz_Performance_Quarterly] AS [Dietz_Performance_Quarterly], 
    [Project1].[Dietz_Performance_Monthly] AS [Dietz_Performance_Monthly], 
    [Project1].[Dietz_Performance_MonthToDate] AS [Dietz_Performance_MonthToDate], 
    [Project1].[Last_Update_Date] AS [Last_Update_Date], 
    [Project1].[Last_Update_User] AS [Last_Update_User], 
    [Project1].[Record_Date] AS [Record_Date], 
    [Project1].[Session_ID] AS [Session_ID], 
    [Project1].[Hist_Last_Update_Date] AS [Hist_Last_Update_Date], 
    [Project1].[Hist_Last_Update_User] AS [Hist_Last_Update_User], 
    [Project1].[Security_ID1] AS [Security_ID1], 
    [Project1].[Entity_ID1] AS [Entity_ID1], 
    [Project1].[Security_Name] AS [Security_Name], 
    [Project1].[Short_Name] AS [Short_Name], 
    [Project1].[Primary_Exch] AS [Primary_Exch], 
    [Project1].[Secondary_Exch] AS [Secondary_Exch], 
    [Project1].[Country_Of_Domicile] AS [Country_Of_Domicile], 
    [Project1].[Country_Of_Risk] AS [Country_Of_Risk], 
    [Project1].[Security_Type_Code] AS [Security_Type_Code], 
    [Project1].[Price_Multiplier] AS [Price_Multiplier], 
    [Project1].[Income_Frequency] AS [Income_Frequency], 
    [Project1].[Issuer_Code] AS [Issuer_Code], 
    [Project1].[Ultimate_Issuer_Code] AS [Ultimate_Issuer_Code], 
    [Project1].[Asset_Currency] AS [Asset_Currency], 
    [Project1].[Min_Lot_Size] AS [Min_Lot_Size], 
    [Project1].[AvePrice_Rounding] AS [AvePrice_Rounding], 
    [Project1].[Issue_Date] AS [Issue_Date], 
    [Project1].[Maturity_Date] AS [Maturity_Date], 
    [Project1].[Coupon_Rate] AS [Coupon_Rate], 
    [Project1].[Price_Exchange] AS [Price_Exchange], 
    [Project1].[Trade_Currency] AS [Trade_Currency], 
    [Project1].[Price_Curr] AS [Price_Curr], 
    [Project1].[Currency_Pair_Code] AS [Currency_Pair_Code], 
    [Project1].[Share_Class] AS [Share_Class], 
    [Project1].[Current_Market_Price] AS [Current_Market_Price], 
    [Project1].[Index_Type] AS [Index_Type], 
    [Project1].[Clean_Price_Formula] AS [Clean_Price_Formula], 
    [Project1].[Accrued_Income_Price_Formula] AS [Accrued_Income_Price_Formula], 
    [Project1].[Odd_First_Coupon_Date] AS [Odd_First_Coupon_Date], 
    [Project1].[Odd_Last_Coupon_Date] AS [Odd_Last_Coupon_Date], 
    [Project1].[Coupon_Anniversary_Indicator] AS [Coupon_Anniversary_Indicator], 
    [Project1].[Track_EOM_Flag] AS [Track_EOM_Flag], 
    [Project1].[Next_Coupon_Date] AS [Next_Coupon_Date], 
    [Project1].[Previous_Coupon_Date] AS [Previous_Coupon_Date], 
    [Project1].[Payment_Frequency] AS [Payment_Frequency], 
    [Project1].[Coupon_BusDay_Adjustment] AS [Coupon_BusDay_Adjustment], 
    [Project1].[Next_Ex_Div_Date] AS [Next_Ex_Div_Date], 
    [Project1].[Ex_Div_BusDay_Adjustment] AS [Ex_Div_BusDay_Adjustment], 
    [Project1].[Ex_Div_Period] AS [Ex_Div_Period], 
    [Project1].[Ticker] AS [Ticker], 
    [Project1].[Inet_ID] AS [Inet_ID], 
    [Project1].[Bloomberg_ID] AS [Bloomberg_ID], 
    [Project1].[External_Sec_ID] AS [External_Sec_ID], 
    [Project1].[Reuters_ID] AS [Reuters_ID], 
    [Project1].[ISIN] AS [ISIN], 
    [Project1].[Call_Account_Flag] AS [Call_Account_Flag], 
    [Project1].[System_Locked] AS [System_Locked], 
    [Project1].[Last_Update_User1] AS [Last_Update_User1], 
    [Project1].[Last_Update_Date1] AS [Last_Update_Date1], 
    [Project1].[Security_Status] AS [Security_Status], 
    [Project1].[Benchmark_Portfolio] AS [Benchmark_Portfolio], 
    [Project1].[Active_flag] AS [Active_flag], 
    [Project1].[Dividend_FX_Security_ID] AS [Dividend_FX_Security_ID]
    FROM ( SELECT 
        [Extent1].[Security_ID] AS [Security_ID], 
        [Extent1].[Portfolio_Code] AS [Portfolio_Code], 
        [Extent1].[Entity_ID] AS [Entity_ID], 
        [Extent1].[ModDietz_Performance_Quarterly] AS [ModDietz_Performance_Quarterly], 
        [Extent1].[ModDietz_Performance_Monthly] AS [ModDietz_Performance_Monthly], 
        [Extent1].[ModDietz_Performance_MonthToDate] AS [ModDietz_Performance_MonthToDate], 
        [Extent1].[Dietz_Performance_Quarterly] AS [Dietz_Performance_Quarterly], 
        [Extent1].[Dietz_Performance_Monthly] AS [Dietz_Performance_Monthly], 
        [Extent1].[Dietz_Performance_MonthToDate] AS [Dietz_Performance_MonthToDate], 
        [Extent1].[Last_Update_Date] AS [Last_Update_Date], 
        [Extent1].[Last_Update_User] AS [Last_Update_User], 
        [Extent1].[Record_Date] AS [Record_Date], 
        [Extent1].[Session_ID] AS [Session_ID], 
        [Extent1].[Hist_Last_Update_Date] AS [Hist_Last_Update_Date], 
        [Extent1].[Hist_Last_Update_User] AS [Hist_Last_Update_User], 
        [Extent2].[Security_ID] AS [Security_ID1], 
        [Extent2].[Entity_ID] AS [Entity_ID1], 
        [Extent2].[Security_Name] AS [Security_Name], 
        [Extent2].[Short_Name] AS [Short_Name], 
        [Extent2].[Primary_Exch] AS [Primary_Exch], 
        [Extent2].[Secondary_Exch] AS [Secondary_Exch], 
        [Extent2].[Country_Of_Domicile] AS [Country_Of_Domicile], 
        [Extent2].[Country_Of_Risk] AS [Country_Of_Risk], 
        [Extent2].[Security_Type_Code] AS [Security_Type_Code], 
        [Extent2].[Price_Multiplier] AS [Price_Multiplier], 
        [Extent2].[Income_Frequency] AS [Income_Frequency], 
        [Extent2].[Issuer_Code] AS [Issuer_Code], 
        [Extent2].[Ultimate_Issuer_Code] AS [Ultimate_Issuer_Code], 
        [Extent2].[Asset_Currency] AS [Asset_Currency], 
        [Extent2].[Min_Lot_Size] AS [Min_Lot_Size], 
        [Extent2].[Decimal_Precision] AS [Decimal_Precision], 
        [Extent2].[AvePrice_Rounding] AS [AvePrice_Rounding], 
        [Extent2].[Issue_Date] AS [Issue_Date], 
        [Extent2].[Maturity_Date] AS [Maturity_Date], 
        [Extent2].[Coupon_Rate] AS [Coupon_Rate], 
        [Extent2].[Price_Exchange] AS [Price_Exchange], 
        [Extent2].[Trade_Currency] AS [Trade_Currency], 
        [Extent2].[Price_Curr] AS [Price_Curr], 
        [Extent2].[Currency_Pair_Code] AS [Currency_Pair_Code], 
        [Extent2].[Share_Class] AS [Share_Class], 
        [Extent2].[Current_Market_Price] AS [Current_Market_Price], 
        [Extent2].[Index_Type] AS [Index_Type], 
        [Extent2].[Clean_Price_Formula] AS [Clean_Price_Formula], 
        [Extent2].[Accrued_Income_Price_Formula] AS [Accrued_Income_Price_Formula], 
        [Extent2].[Odd_First_Coupon_Date] AS [Odd_First_Coupon_Date], 
        [Extent2].[Odd_Last_Coupon_Date] AS [Odd_Last_Coupon_Date], 
        [Extent2].[Coupon_Anniversary_Indicator] AS [Coupon_Anniversary_Indicator], 
        [Extent2].[Track_EOM_Flag] AS [Track_EOM_Flag], 
        [Extent2].[Next_Coupon_Date] AS [Next_Coupon_Date], 
        [Extent2].[Previous_Coupon_Date] AS [Previous_Coupon_Date], 
        [Extent2].[Payment_Frequency] AS [Payment_Frequency], 
        [Extent2].[Coupon_BusDay_Adjustment] AS [Coupon_BusDay_Adjustment], 
        [Extent2].[Next_Ex_Div_Date] AS [Next_Ex_Div_Date], 
        [Extent2].[Ex_Div_BusDay_Adjustment] AS [Ex_Div_BusDay_Adjustment], 
        [Extent2].[Ex_Div_Period] AS [Ex_Div_Period], 
        [Extent2].[Ticker] AS [Ticker], 
        [Extent2].[Inet_ID] AS [Inet_ID], 
        [Extent2].[Bloomberg_ID] AS [Bloomberg_ID], 
        [Extent2].[External_Sec_ID] AS [External_Sec_ID], 
        [Extent2].[Reuters_ID] AS [Reuters_ID], 
        [Extent2].[ISIN] AS [ISIN], 
        [Extent2].[Call_Account_Flag] AS [Call_Account_Flag], 
        [Extent2].[System_Locked] AS [System_Locked], 
        [Extent2].[Last_Update_User] AS [Last_Update_User1], 
        [Extent2].[Last_Update_Date] AS [Last_Update_Date1], 
        [Extent2].[Security_Status] AS [Security_Status], 
        [Extent2].[Benchmark_Portfolio] AS [Benchmark_Portfolio], 
        [Extent2].[Active_flag] AS [Active_flag], 
        [Extent2].[Dividend_FX_Security_ID] AS [Dividend_FX_Security_ID]
        FROM  [dbo].[Security_Performance_History] AS [Extent1]
        INNER JOIN [dbo].[Security_Detail] AS [Extent2] ON [Extent1].[Security_ID] = [Extent2].[Security_ID]
        WHERE ([Extent1].[Security_ID] = @p__linq__0) AND ([Extent1].[Portfolio_Code] = @p__linq__1)
    )  AS [Project1]
    ORDER BY [Project1].[Record_Date] DESC
2018-04-07 12:48:51.1924|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: SELECT 
    [Project1].[Decimal_Precision] AS [Decimal_Precision], 
    [Project1].[Security_ID] AS [Security_ID], 
    [Project1].[Portfolio_Code] AS [Portfolio_Code], 
    [Project1].[Entity_ID] AS [Entity_ID], 
    [Project1].[ModDietz_Performance_Quarterly] AS [ModDietz_Performance_Quarterly], 
    [Project1].[ModDietz_Performance_Monthly] AS [ModDietz_Performance_Monthly], 
    [Project1].[ModDietz_Performance_MonthToDate] AS [ModDietz_Performance_MonthToDate], 
    [Project1].[Dietz_Performance_Quarterly] AS [Dietz_Performance_Quarterly], 
    [Project1].[Dietz_Performance_Monthly] AS [Dietz_Performance_Monthly], 
    [Project1].[Dietz_Performance_MonthToDate] AS [Dietz_Performance_MonthToDate], 
    [Project1].[Last_Update_Date] AS [Last_Update_Date], 
    [Project1].[Last_Update_User] AS [Last_Update_User], 
    [Project1].[Record_Date] AS [Record_Date], 
    [Project1].[Session_ID] AS [Session_ID], 
    [Project1].[Hist_Last_Update_Date] AS [Hist_Last_Update_Date], 
    [Project1].[Hist_Last_Update_User] AS [Hist_Last_Update_User], 
    [Project1].[Security_ID1] AS [Security_ID1], 
    [Project1].[Entity_ID1] AS [Entity_ID1], 
    [Project1].[Security_Name] AS [Security_Name], 
    [Project1].[Short_Name] AS [Short_Name], 
    [Project1].[Primary_Exch] AS [Primary_Exch], 
    [Project1].[Secondary_Exch] AS [Secondary_Exch], 
    [Project1].[Country_Of_Domicile] AS [Country_Of_Domicile], 
    [Project1].[Country_Of_Risk] AS [Country_Of_Risk], 
    [Project1].[Security_Type_Code] AS [Security_Type_Code], 
    [Project1].[Price_Multiplier] AS [Price_Multiplier], 
    [Project1].[Income_Frequency] AS [Income_Frequency], 
    [Project1].[Issuer_Code] AS [Issuer_Code], 
    [Project1].[Ultimate_Issuer_Code] AS [Ultimate_Issuer_Code], 
    [Project1].[Asset_Currency] AS [Asset_Currency], 
    [Project1].[Min_Lot_Size] AS [Min_Lot_Size], 
    [Project1].[AvePrice_Rounding] AS [AvePrice_Rounding], 
    [Project1].[Issue_Date] AS [Issue_Date], 
    [Project1].[Maturity_Date] AS [Maturity_Date], 
    [Project1].[Coupon_Rate] AS [Coupon_Rate], 
    [Project1].[Price_Exchange] AS [Price_Exchange], 
    [Project1].[Trade_Currency] AS [Trade_Currency], 
    [Project1].[Price_Curr] AS [Price_Curr], 
    [Project1].[Currency_Pair_Code] AS [Currency_Pair_Code], 
    [Project1].[Share_Class] AS [Share_Class], 
    [Project1].[Current_Market_Price] AS [Current_Market_Price], 
    [Project1].[Index_Type] AS [Index_Type], 
    [Project1].[Clean_Price_Formula] AS [Clean_Price_Formula], 
    [Project1].[Accrued_Income_Price_Formula] AS [Accrued_Income_Price_Formula], 
    [Project1].[Odd_First_Coupon_Date] AS [Odd_First_Coupon_Date], 
    [Project1].[Odd_Last_Coupon_Date] AS [Odd_Last_Coupon_Date], 
    [Project1].[Coupon_Anniversary_Indicator] AS [Coupon_Anniversary_Indicator], 
    [Project1].[Track_EOM_Flag] AS [Track_EOM_Flag], 
    [Project1].[Next_Coupon_Date] AS [Next_Coupon_Date], 
    [Project1].[Previous_Coupon_Date] AS [Previous_Coupon_Date], 
    [Project1].[Payment_Frequency] AS [Payment_Frequency], 
    [Project1].[Coupon_BusDay_Adjustment] AS [Coupon_BusDay_Adjustment], 
    [Project1].[Next_Ex_Div_Date] AS [Next_Ex_Div_Date], 
    [Project1].[Ex_Div_BusDay_Adjustment] AS [Ex_Div_BusDay_Adjustment], 
    [Project1].[Ex_Div_Period] AS [Ex_Div_Period], 
    [Project1].[Ticker] AS [Ticker], 
    [Project1].[Inet_ID] AS [Inet_ID], 
    [Project1].[Bloomberg_ID] AS [Bloomberg_ID], 
    [Project1].[External_Sec_ID] AS [External_Sec_ID], 
    [Project1].[Reuters_ID] AS [Reuters_ID], 
    [Project1].[ISIN] AS [ISIN], 
    [Project1].[Call_Account_Flag] AS [Call_Account_Flag], 
    [Project1].[System_Locked] AS [System_Locked], 
    [Project1].[Last_Update_User1] AS [Last_Update_User1], 
    [Project1].[Last_Update_Date1] AS [Last_Update_Date1], 
    [Project1].[Security_Status] AS [Security_Status], 
    [Project1].[Benchmark_Portfolio] AS [Benchmark_Portfolio], 
    [Project1].[Active_flag] AS [Active_flag], 
    [Project1].[Dividend_FX_Security_ID] AS [Dividend_FX_Security_ID]
    FROM ( SELECT 
        [Extent1].[Security_ID] AS [Security_ID], 
        [Extent1].[Portfolio_Code] AS [Portfolio_Code], 
        [Extent1].[Entity_ID] AS [Entity_ID], 
        [Extent1].[ModDietz_Performance_Quarterly] AS [ModDietz_Performance_Quarterly], 
        [Extent1].[ModDietz_Performance_Monthly] AS [ModDietz_Performance_Monthly], 
        [Extent1].[ModDietz_Performance_MonthToDate] AS [ModDietz_Performance_MonthToDate], 
        [Extent1].[Dietz_Performance_Quarterly] AS [Dietz_Performance_Quarterly], 
        [Extent1].[Dietz_Performance_Monthly] AS [Dietz_Performance_Monthly], 
        [Extent1].[Dietz_Performance_MonthToDate] AS [Dietz_Performance_MonthToDate], 
        [Extent1].[Last_Update_Date] AS [Last_Update_Date], 
        [Extent1].[Last_Update_User] AS [Last_Update_User], 
        [Extent1].[Record_Date] AS [Record_Date], 
        [Extent1].[Session_ID] AS [Session_ID], 
        [Extent1].[Hist_Last_Update_Date] AS [Hist_Last_Update_Date], 
        [Extent1].[Hist_Last_Update_User] AS [Hist_Last_Update_User], 
        [Extent2].[Security_ID] AS [Security_ID1], 
        [Extent2].[Entity_ID] AS [Entity_ID1], 
        [Extent2].[Security_Name] AS [Security_Name], 
        [Extent2].[Short_Name] AS [Short_Name], 
        [Extent2].[Primary_Exch] AS [Primary_Exch], 
        [Extent2].[Secondary_Exch] AS [Secondary_Exch], 
        [Extent2].[Country_Of_Domicile] AS [Country_Of_Domicile], 
        [Extent2].[Country_Of_Risk] AS [Country_Of_Risk], 
        [Extent2].[Security_Type_Code] AS [Security_Type_Code], 
        [Extent2].[Price_Multiplier] AS [Price_Multiplier], 
        [Extent2].[Income_Frequency] AS [Income_Frequency], 
        [Extent2].[Issuer_Code] AS [Issuer_Code], 
        [Extent2].[Ultimate_Issuer_Code] AS [Ultimate_Issuer_Code], 
        [Extent2].[Asset_Currency] AS [Asset_Currency], 
        [Extent2].[Min_Lot_Size] AS [Min_Lot_Size], 
        [Extent2].[Decimal_Precision] AS [Decimal_Precision], 
        [Extent2].[AvePrice_Rounding] AS [AvePrice_Rounding], 
        [Extent2].[Issue_Date] AS [Issue_Date], 
        [Extent2].[Maturity_Date] AS [Maturity_Date], 
        [Extent2].[Coupon_Rate] AS [Coupon_Rate], 
        [Extent2].[Price_Exchange] AS [Price_Exchange], 
        [Extent2].[Trade_Currency] AS [Trade_Currency], 
        [Extent2].[Price_Curr] AS [Price_Curr], 
        [Extent2].[Currency_Pair_Code] AS [Currency_Pair_Code], 
        [Extent2].[Share_Class] AS [Share_Class], 
        [Extent2].[Current_Market_Price] AS [Current_Market_Price], 
        [Extent2].[Index_Type] AS [Index_Type], 
        [Extent2].[Clean_Price_Formula] AS [Clean_Price_Formula], 
        [Extent2].[Accrued_Income_Price_Formula] AS [Accrued_Income_Price_Formula], 
        [Extent2].[Odd_First_Coupon_Date] AS [Odd_First_Coupon_Date], 
        [Extent2].[Odd_Last_Coupon_Date] AS [Odd_Last_Coupon_Date], 
        [Extent2].[Coupon_Anniversary_Indicator] AS [Coupon_Anniversary_Indicator], 
        [Extent2].[Track_EOM_Flag] AS [Track_EOM_Flag], 
        [Extent2].[Next_Coupon_Date] AS [Next_Coupon_Date], 
        [Extent2].[Previous_Coupon_Date] AS [Previous_Coupon_Date], 
        [Extent2].[Payment_Frequency] AS [Payment_Frequency], 
        [Extent2].[Coupon_BusDay_Adjustment] AS [Coupon_BusDay_Adjustment], 
        [Extent2].[Next_Ex_Div_Date] AS [Next_Ex_Div_Date], 
        [Extent2].[Ex_Div_BusDay_Adjustment] AS [Ex_Div_BusDay_Adjustment], 
        [Extent2].[Ex_Div_Period] AS [Ex_Div_Period], 
        [Extent2].[Ticker] AS [Ticker], 
        [Extent2].[Inet_ID] AS [Inet_ID], 
        [Extent2].[Bloomberg_ID] AS [Bloomberg_ID], 
        [Extent2].[External_Sec_ID] AS [External_Sec_ID], 
        [Extent2].[Reuters_ID] AS [Reuters_ID], 
        [Extent2].[ISIN] AS [ISIN], 
        [Extent2].[Call_Account_Flag] AS [Call_Account_Flag], 
        [Extent2].[System_Locked] AS [System_Locked], 
        [Extent2].[Last_Update_User] AS [Last_Update_User1], 
        [Extent2].[Last_Update_Date] AS [Last_Update_Date1], 
        [Extent2].[Security_Status] AS [Security_Status], 
        [Extent2].[Benchmark_Portfolio] AS [Benchmark_Portfolio], 
        [Extent2].[Active_flag] AS [Active_flag], 
        [Extent2].[Dividend_FX_Security_ID] AS [Dividend_FX_Security_ID]
        FROM  [dbo].[Security_Performance_History] AS [Extent1]
        INNER JOIN [dbo].[Security_Detail] AS [Extent2] ON [Extent1].[Security_ID] = [Extent2].[Security_ID]
        WHERE ([Extent1].[Security_ID] = @p__linq__0) AND ([Extent1].[Portfolio_Code] = @p__linq__1)
    )  AS [Project1]
    ORDER BY [Project1].[Record_Date] DESC
2018-04-07 12:48:54.9975|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: IF db_id(N'MetopeAzureDb') IS NOT NULL SELECT 1 ELSE SELECT Count(*) FROM sys.databases WHERE [name]=N'MetopeAzureDb'
2018-04-07 12:48:55.0901|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: IF db_id(N'MetopeAzureDb') IS NOT NULL SELECT 1 ELSE SELECT Count(*) FROM sys.databases WHERE [name]=N'MetopeAzureDb'
2018-04-07 12:48:55.1836|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: IF db_id(N'MetopeAzureDb') IS NOT NULL SELECT 1 ELSE SELECT Count(*) FROM sys.databases WHERE [name]=N'MetopeAzureDb'
2018-04-07 12:48:55.3087|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: IF db_id(N'MetopeAzureDb') IS NOT NULL SELECT 1 ELSE SELECT Count(*) FROM sys.databases WHERE [name]=N'MetopeAzureDb'
2018-04-07 12:48:55.8866|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: SELECT 
    [Extent1].[Security_ID] AS [Security_ID], 
    [Extent1].[Portfolio_Code] AS [Portfolio_Code], 
    [Extent1].[Entity_ID] AS [Entity_ID], 
    [Extent1].[ModDietz_Performance_Quarterly] AS [ModDietz_Performance_Quarterly], 
    [Extent1].[ModDietz_Performance_Monthly] AS [ModDietz_Performance_Monthly], 
    [Extent1].[ModDietz_Performance_MonthToDate] AS [ModDietz_Performance_MonthToDate], 
    [Extent1].[Dietz_Performance_Quarterly] AS [Dietz_Performance_Quarterly], 
    [Extent1].[Dietz_Performance_Monthly] AS [Dietz_Performance_Monthly], 
    [Extent1].[Dietz_Performance_MonthToDate] AS [Dietz_Performance_MonthToDate], 
    [Extent1].[Last_Update_Date] AS [Last_Update_Date], 
    [Extent1].[Last_Update_User] AS [Last_Update_User], 
    [Extent1].[Record_Date] AS [Record_Date], 
    [Extent1].[Session_ID] AS [Session_ID], 
    [Extent1].[Hist_Last_Update_Date] AS [Hist_Last_Update_Date], 
    [Extent1].[Hist_Last_Update_User] AS [Hist_Last_Update_User]
    FROM [dbo].[Security_Performance_History] AS [Extent1]
    WHERE ([Extent1].[Security_ID] = @p__linq__0) AND ([Extent1].[Portfolio_Code] = @p__linq__1) AND ([Extent1].[Record_Date] = @p__linq__2) AND ([Extent1].[Entity_ID] = @p__linq__3)
2018-04-07 12:48:55.9161|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: SELECT 
    [Extent1].[Security_ID] AS [Security_ID], 
    [Extent1].[Portfolio_Code] AS [Portfolio_Code], 
    [Extent1].[Entity_ID] AS [Entity_ID], 
    [Extent1].[ModDietz_Performance_Quarterly] AS [ModDietz_Performance_Quarterly], 
    [Extent1].[ModDietz_Performance_Monthly] AS [ModDietz_Performance_Monthly], 
    [Extent1].[ModDietz_Performance_MonthToDate] AS [ModDietz_Performance_MonthToDate], 
    [Extent1].[Dietz_Performance_Quarterly] AS [Dietz_Performance_Quarterly], 
    [Extent1].[Dietz_Performance_Monthly] AS [Dietz_Performance_Monthly], 
    [Extent1].[Dietz_Performance_MonthToDate] AS [Dietz_Performance_MonthToDate], 
    [Extent1].[Last_Update_Date] AS [Last_Update_Date], 
    [Extent1].[Last_Update_User] AS [Last_Update_User], 
    [Extent1].[Record_Date] AS [Record_Date], 
    [Extent1].[Session_ID] AS [Session_ID], 
    [Extent1].[Hist_Last_Update_Date] AS [Hist_Last_Update_Date], 
    [Extent1].[Hist_Last_Update_User] AS [Hist_Last_Update_User]
    FROM [dbo].[Security_Performance_History] AS [Extent1]
    WHERE ([Extent1].[Security_ID] = @p__linq__0) AND ([Extent1].[Portfolio_Code] = @p__linq__1) AND ([Extent1].[Record_Date] = @p__linq__2) AND ([Extent1].[Entity_ID] = @p__linq__3)
2018-04-07 12:48:55.9672|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: SELECT 
    [Extent1].[Security_ID] AS [Security_ID], 
    [Extent1].[Portfolio_Code] AS [Portfolio_Code], 
    [Extent1].[Entity_ID] AS [Entity_ID], 
    [Extent1].[ModDietz_Performance_Quarterly] AS [ModDietz_Performance_Quarterly], 
    [Extent1].[ModDietz_Performance_Monthly] AS [ModDietz_Performance_Monthly], 
    [Extent1].[ModDietz_Performance_MonthToDate] AS [ModDietz_Performance_MonthToDate], 
    [Extent1].[Dietz_Performance_Quarterly] AS [Dietz_Performance_Quarterly], 
    [Extent1].[Dietz_Performance_Monthly] AS [Dietz_Performance_Monthly], 
    [Extent1].[Dietz_Performance_MonthToDate] AS [Dietz_Performance_MonthToDate], 
    [Extent1].[Last_Update_Date] AS [Last_Update_Date], 
    [Extent1].[Last_Update_User] AS [Last_Update_User], 
    [Extent1].[Record_Date] AS [Record_Date], 
    [Extent1].[Session_ID] AS [Session_ID], 
    [Extent1].[Hist_Last_Update_Date] AS [Hist_Last_Update_Date], 
    [Extent1].[Hist_Last_Update_User] AS [Hist_Last_Update_User]
    FROM [dbo].[Security_Performance_History] AS [Extent1]
    WHERE ([Extent1].[Security_ID] = @p__linq__0) AND ([Extent1].[Portfolio_Code] = @p__linq__1) AND ([Extent1].[Record_Date] = @p__linq__2) AND ([Extent1].[Entity_ID] = @p__linq__3)
2018-04-07 12:48:56.0337|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: SELECT 
    [Extent1].[Security_ID] AS [Security_ID], 
    [Extent1].[Portfolio_Code] AS [Portfolio_Code], 
    [Extent1].[Entity_ID] AS [Entity_ID], 
    [Extent1].[ModDietz_Performance_Quarterly] AS [ModDietz_Performance_Quarterly], 
    [Extent1].[ModDietz_Performance_Monthly] AS [ModDietz_Performance_Monthly], 
    [Extent1].[ModDietz_Performance_MonthToDate] AS [ModDietz_Performance_MonthToDate], 
    [Extent1].[Dietz_Performance_Quarterly] AS [Dietz_Performance_Quarterly], 
    [Extent1].[Dietz_Performance_Monthly] AS [Dietz_Performance_Monthly], 
    [Extent1].[Dietz_Performance_MonthToDate] AS [Dietz_Performance_MonthToDate], 
    [Extent1].[Last_Update_Date] AS [Last_Update_Date], 
    [Extent1].[Last_Update_User] AS [Last_Update_User], 
    [Extent1].[Record_Date] AS [Record_Date], 
    [Extent1].[Session_ID] AS [Session_ID], 
    [Extent1].[Hist_Last_Update_Date] AS [Hist_Last_Update_Date], 
    [Extent1].[Hist_Last_Update_User] AS [Hist_Last_Update_User]
    FROM [dbo].[Security_Performance_History] AS [Extent1]
    WHERE ([Extent1].[Security_ID] = @p__linq__0) AND ([Extent1].[Portfolio_Code] = @p__linq__1) AND ([Extent1].[Record_Date] = @p__linq__2) AND ([Extent1].[Entity_ID] = @p__linq__3)
2018-04-07 12:49:12.8136|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: SELECT 
    [Project1].[Decimal_Precision] AS [Decimal_Precision], 
    [Project1].[Security_ID] AS [Security_ID], 
    [Project1].[Portfolio_Code] AS [Portfolio_Code], 
    [Project1].[Entity_ID] AS [Entity_ID], 
    [Project1].[ModDietz_Performance_Quarterly] AS [ModDietz_Performance_Quarterly], 
    [Project1].[ModDietz_Performance_Monthly] AS [ModDietz_Performance_Monthly], 
    [Project1].[ModDietz_Performance_MonthToDate] AS [ModDietz_Performance_MonthToDate], 
    [Project1].[Dietz_Performance_Quarterly] AS [Dietz_Performance_Quarterly], 
    [Project1].[Dietz_Performance_Monthly] AS [Dietz_Performance_Monthly], 
    [Project1].[Dietz_Performance_MonthToDate] AS [Dietz_Performance_MonthToDate], 
    [Project1].[Last_Update_Date] AS [Last_Update_Date], 
    [Project1].[Last_Update_User] AS [Last_Update_User], 
    [Project1].[Record_Date] AS [Record_Date], 
    [Project1].[Session_ID] AS [Session_ID], 
    [Project1].[Hist_Last_Update_Date] AS [Hist_Last_Update_Date], 
    [Project1].[Hist_Last_Update_User] AS [Hist_Last_Update_User], 
    [Project1].[Security_ID1] AS [Security_ID1], 
    [Project1].[Entity_ID1] AS [Entity_ID1], 
    [Project1].[Security_Name] AS [Security_Name], 
    [Project1].[Short_Name] AS [Short_Name], 
    [Project1].[Primary_Exch] AS [Primary_Exch], 
    [Project1].[Secondary_Exch] AS [Secondary_Exch], 
    [Project1].[Country_Of_Domicile] AS [Country_Of_Domicile], 
    [Project1].[Country_Of_Risk] AS [Country_Of_Risk], 
    [Project1].[Security_Type_Code] AS [Security_Type_Code], 
    [Project1].[Price_Multiplier] AS [Price_Multiplier], 
    [Project1].[Income_Frequency] AS [Income_Frequency], 
    [Project1].[Issuer_Code] AS [Issuer_Code], 
    [Project1].[Ultimate_Issuer_Code] AS [Ultimate_Issuer_Code], 
    [Project1].[Asset_Currency] AS [Asset_Currency], 
    [Project1].[Min_Lot_Size] AS [Min_Lot_Size], 
    [Project1].[AvePrice_Rounding] AS [AvePrice_Rounding], 
    [Project1].[Issue_Date] AS [Issue_Date], 
    [Project1].[Maturity_Date] AS [Maturity_Date], 
    [Project1].[Coupon_Rate] AS [Coupon_Rate], 
    [Project1].[Price_Exchange] AS [Price_Exchange], 
    [Project1].[Trade_Currency] AS [Trade_Currency], 
    [Project1].[Price_Curr] AS [Price_Curr], 
    [Project1].[Currency_Pair_Code] AS [Currency_Pair_Code], 
    [Project1].[Share_Class] AS [Share_Class], 
    [Project1].[Current_Market_Price] AS [Current_Market_Price], 
    [Project1].[Index_Type] AS [Index_Type], 
    [Project1].[Clean_Price_Formula] AS [Clean_Price_Formula], 
    [Project1].[Accrued_Income_Price_Formula] AS [Accrued_Income_Price_Formula], 
    [Project1].[Odd_First_Coupon_Date] AS [Odd_First_Coupon_Date], 
    [Project1].[Odd_Last_Coupon_Date] AS [Odd_Last_Coupon_Date], 
    [Project1].[Coupon_Anniversary_Indicator] AS [Coupon_Anniversary_Indicator], 
    [Project1].[Track_EOM_Flag] AS [Track_EOM_Flag], 
    [Project1].[Next_Coupon_Date] AS [Next_Coupon_Date], 
    [Project1].[Previous_Coupon_Date] AS [Previous_Coupon_Date], 
    [Project1].[Payment_Frequency] AS [Payment_Frequency], 
    [Project1].[Coupon_BusDay_Adjustment] AS [Coupon_BusDay_Adjustment], 
    [Project1].[Next_Ex_Div_Date] AS [Next_Ex_Div_Date], 
    [Project1].[Ex_Div_BusDay_Adjustment] AS [Ex_Div_BusDay_Adjustment], 
    [Project1].[Ex_Div_Period] AS [Ex_Div_Period], 
    [Project1].[Ticker] AS [Ticker], 
    [Project1].[Inet_ID] AS [Inet_ID], 
    [Project1].[Bloomberg_ID] AS [Bloomberg_ID], 
    [Project1].[External_Sec_ID] AS [External_Sec_ID], 
    [Project1].[Reuters_ID] AS [Reuters_ID], 
    [Project1].[ISIN] AS [ISIN], 
    [Project1].[Call_Account_Flag] AS [Call_Account_Flag], 
    [Project1].[System_Locked] AS [System_Locked], 
    [Project1].[Last_Update_User1] AS [Last_Update_User1], 
    [Project1].[Last_Update_Date1] AS [Last_Update_Date1], 
    [Project1].[Security_Status] AS [Security_Status], 
    [Project1].[Benchmark_Portfolio] AS [Benchmark_Portfolio], 
    [Project1].[Active_flag] AS [Active_flag], 
    [Project1].[Dividend_FX_Security_ID] AS [Dividend_FX_Security_ID]
    FROM ( SELECT 
        [Extent1].[Security_ID] AS [Security_ID], 
        [Extent1].[Portfolio_Code] AS [Portfolio_Code], 
        [Extent1].[Entity_ID] AS [Entity_ID], 
        [Extent1].[ModDietz_Performance_Quarterly] AS [ModDietz_Performance_Quarterly], 
        [Extent1].[ModDietz_Performance_Monthly] AS [ModDietz_Performance_Monthly], 
        [Extent1].[ModDietz_Performance_MonthToDate] AS [ModDietz_Performance_MonthToDate], 
        [Extent1].[Dietz_Performance_Quarterly] AS [Dietz_Performance_Quarterly], 
        [Extent1].[Dietz_Performance_Monthly] AS [Dietz_Performance_Monthly], 
        [Extent1].[Dietz_Performance_MonthToDate] AS [Dietz_Performance_MonthToDate], 
        [Extent1].[Last_Update_Date] AS [Last_Update_Date], 
        [Extent1].[Last_Update_User] AS [Last_Update_User], 
        [Extent1].[Record_Date] AS [Record_Date], 
        [Extent1].[Session_ID] AS [Session_ID], 
        [Extent1].[Hist_Last_Update_Date] AS [Hist_Last_Update_Date], 
        [Extent1].[Hist_Last_Update_User] AS [Hist_Last_Update_User], 
        [Extent2].[Security_ID] AS [Security_ID1], 
        [Extent2].[Entity_ID] AS [Entity_ID1], 
        [Extent2].[Security_Name] AS [Security_Name], 
        [Extent2].[Short_Name] AS [Short_Name], 
        [Extent2].[Primary_Exch] AS [Primary_Exch], 
        [Extent2].[Secondary_Exch] AS [Secondary_Exch], 
        [Extent2].[Country_Of_Domicile] AS [Country_Of_Domicile], 
        [Extent2].[Country_Of_Risk] AS [Country_Of_Risk], 
        [Extent2].[Security_Type_Code] AS [Security_Type_Code], 
        [Extent2].[Price_Multiplier] AS [Price_Multiplier], 
        [Extent2].[Income_Frequency] AS [Income_Frequency], 
        [Extent2].[Issuer_Code] AS [Issuer_Code], 
        [Extent2].[Ultimate_Issuer_Code] AS [Ultimate_Issuer_Code], 
        [Extent2].[Asset_Currency] AS [Asset_Currency], 
        [Extent2].[Min_Lot_Size] AS [Min_Lot_Size], 
        [Extent2].[Decimal_Precision] AS [Decimal_Precision], 
        [Extent2].[AvePrice_Rounding] AS [AvePrice_Rounding], 
        [Extent2].[Issue_Date] AS [Issue_Date], 
        [Extent2].[Maturity_Date] AS [Maturity_Date], 
        [Extent2].[Coupon_Rate] AS [Coupon_Rate], 
        [Extent2].[Price_Exchange] AS [Price_Exchange], 
        [Extent2].[Trade_Currency] AS [Trade_Currency], 
        [Extent2].[Price_Curr] AS [Price_Curr], 
        [Extent2].[Currency_Pair_Code] AS [Currency_Pair_Code], 
        [Extent2].[Share_Class] AS [Share_Class], 
        [Extent2].[Current_Market_Price] AS [Current_Market_Price], 
        [Extent2].[Index_Type] AS [Index_Type], 
        [Extent2].[Clean_Price_Formula] AS [Clean_Price_Formula], 
        [Extent2].[Accrued_Income_Price_Formula] AS [Accrued_Income_Price_Formula], 
        [Extent2].[Odd_First_Coupon_Date] AS [Odd_First_Coupon_Date], 
        [Extent2].[Odd_Last_Coupon_Date] AS [Odd_Last_Coupon_Date], 
        [Extent2].[Coupon_Anniversary_Indicator] AS [Coupon_Anniversary_Indicator], 
        [Extent2].[Track_EOM_Flag] AS [Track_EOM_Flag], 
        [Extent2].[Next_Coupon_Date] AS [Next_Coupon_Date], 
        [Extent2].[Previous_Coupon_Date] AS [Previous_Coupon_Date], 
        [Extent2].[Payment_Frequency] AS [Payment_Frequency], 
        [Extent2].[Coupon_BusDay_Adjustment] AS [Coupon_BusDay_Adjustment], 
        [Extent2].[Next_Ex_Div_Date] AS [Next_Ex_Div_Date], 
        [Extent2].[Ex_Div_BusDay_Adjustment] AS [Ex_Div_BusDay_Adjustment], 
        [Extent2].[Ex_Div_Period] AS [Ex_Div_Period], 
        [Extent2].[Ticker] AS [Ticker], 
        [Extent2].[Inet_ID] AS [Inet_ID], 
        [Extent2].[Bloomberg_ID] AS [Bloomberg_ID], 
        [Extent2].[External_Sec_ID] AS [External_Sec_ID], 
        [Extent2].[Reuters_ID] AS [Reuters_ID], 
        [Extent2].[ISIN] AS [ISIN], 
        [Extent2].[Call_Account_Flag] AS [Call_Account_Flag], 
        [Extent2].[System_Locked] AS [System_Locked], 
        [Extent2].[Last_Update_User] AS [Last_Update_User1], 
        [Extent2].[Last_Update_Date] AS [Last_Update_Date1], 
        [Extent2].[Security_Status] AS [Security_Status], 
        [Extent2].[Benchmark_Portfolio] AS [Benchmark_Portfolio], 
        [Extent2].[Active_flag] AS [Active_flag], 
        [Extent2].[Dividend_FX_Security_ID] AS [Dividend_FX_Security_ID]
        FROM  [dbo].[Security_Performance_History] AS [Extent1]
        INNER JOIN [dbo].[Security_Detail] AS [Extent2] ON [Extent1].[Security_ID] = [Extent2].[Security_ID]
        WHERE ([Extent1].[Security_ID] = @p__linq__0) AND ([Extent1].[Portfolio_Code] = @p__linq__1)
    )  AS [Project1]
    ORDER BY [Project1].[Record_Date] DESC
2018-04-07 12:49:12.8627|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: SELECT 
    [Project1].[Decimal_Precision] AS [Decimal_Precision], 
    [Project1].[Security_ID] AS [Security_ID], 
    [Project1].[Portfolio_Code] AS [Portfolio_Code], 
    [Project1].[Entity_ID] AS [Entity_ID], 
    [Project1].[ModDietz_Performance_Quarterly] AS [ModDietz_Performance_Quarterly], 
    [Project1].[ModDietz_Performance_Monthly] AS [ModDietz_Performance_Monthly], 
    [Project1].[ModDietz_Performance_MonthToDate] AS [ModDietz_Performance_MonthToDate], 
    [Project1].[Dietz_Performance_Quarterly] AS [Dietz_Performance_Quarterly], 
    [Project1].[Dietz_Performance_Monthly] AS [Dietz_Performance_Monthly], 
    [Project1].[Dietz_Performance_MonthToDate] AS [Dietz_Performance_MonthToDate], 
    [Project1].[Last_Update_Date] AS [Last_Update_Date], 
    [Project1].[Last_Update_User] AS [Last_Update_User], 
    [Project1].[Record_Date] AS [Record_Date], 
    [Project1].[Session_ID] AS [Session_ID], 
    [Project1].[Hist_Last_Update_Date] AS [Hist_Last_Update_Date], 
    [Project1].[Hist_Last_Update_User] AS [Hist_Last_Update_User], 
    [Project1].[Security_ID1] AS [Security_ID1], 
    [Project1].[Entity_ID1] AS [Entity_ID1], 
    [Project1].[Security_Name] AS [Security_Name], 
    [Project1].[Short_Name] AS [Short_Name], 
    [Project1].[Primary_Exch] AS [Primary_Exch], 
    [Project1].[Secondary_Exch] AS [Secondary_Exch], 
    [Project1].[Country_Of_Domicile] AS [Country_Of_Domicile], 
    [Project1].[Country_Of_Risk] AS [Country_Of_Risk], 
    [Project1].[Security_Type_Code] AS [Security_Type_Code], 
    [Project1].[Price_Multiplier] AS [Price_Multiplier], 
    [Project1].[Income_Frequency] AS [Income_Frequency], 
    [Project1].[Issuer_Code] AS [Issuer_Code], 
    [Project1].[Ultimate_Issuer_Code] AS [Ultimate_Issuer_Code], 
    [Project1].[Asset_Currency] AS [Asset_Currency], 
    [Project1].[Min_Lot_Size] AS [Min_Lot_Size], 
    [Project1].[AvePrice_Rounding] AS [AvePrice_Rounding], 
    [Project1].[Issue_Date] AS [Issue_Date], 
    [Project1].[Maturity_Date] AS [Maturity_Date], 
    [Project1].[Coupon_Rate] AS [Coupon_Rate], 
    [Project1].[Price_Exchange] AS [Price_Exchange], 
    [Project1].[Trade_Currency] AS [Trade_Currency], 
    [Project1].[Price_Curr] AS [Price_Curr], 
    [Project1].[Currency_Pair_Code] AS [Currency_Pair_Code], 
    [Project1].[Share_Class] AS [Share_Class], 
    [Project1].[Current_Market_Price] AS [Current_Market_Price], 
    [Project1].[Index_Type] AS [Index_Type], 
    [Project1].[Clean_Price_Formula] AS [Clean_Price_Formula], 
    [Project1].[Accrued_Income_Price_Formula] AS [Accrued_Income_Price_Formula], 
    [Project1].[Odd_First_Coupon_Date] AS [Odd_First_Coupon_Date], 
    [Project1].[Odd_Last_Coupon_Date] AS [Odd_Last_Coupon_Date], 
    [Project1].[Coupon_Anniversary_Indicator] AS [Coupon_Anniversary_Indicator], 
    [Project1].[Track_EOM_Flag] AS [Track_EOM_Flag], 
    [Project1].[Next_Coupon_Date] AS [Next_Coupon_Date], 
    [Project1].[Previous_Coupon_Date] AS [Previous_Coupon_Date], 
    [Project1].[Payment_Frequency] AS [Payment_Frequency], 
    [Project1].[Coupon_BusDay_Adjustment] AS [Coupon_BusDay_Adjustment], 
    [Project1].[Next_Ex_Div_Date] AS [Next_Ex_Div_Date], 
    [Project1].[Ex_Div_BusDay_Adjustment] AS [Ex_Div_BusDay_Adjustment], 
    [Project1].[Ex_Div_Period] AS [Ex_Div_Period], 
    [Project1].[Ticker] AS [Ticker], 
    [Project1].[Inet_ID] AS [Inet_ID], 
    [Project1].[Bloomberg_ID] AS [Bloomberg_ID], 
    [Project1].[External_Sec_ID] AS [External_Sec_ID], 
    [Project1].[Reuters_ID] AS [Reuters_ID], 
    [Project1].[ISIN] AS [ISIN], 
    [Project1].[Call_Account_Flag] AS [Call_Account_Flag], 
    [Project1].[System_Locked] AS [System_Locked], 
    [Project1].[Last_Update_User1] AS [Last_Update_User1], 
    [Project1].[Last_Update_Date1] AS [Last_Update_Date1], 
    [Project1].[Security_Status] AS [Security_Status], 
    [Project1].[Benchmark_Portfolio] AS [Benchmark_Portfolio], 
    [Project1].[Active_flag] AS [Active_flag], 
    [Project1].[Dividend_FX_Security_ID] AS [Dividend_FX_Security_ID]
    FROM ( SELECT 
        [Extent1].[Security_ID] AS [Security_ID], 
        [Extent1].[Portfolio_Code] AS [Portfolio_Code], 
        [Extent1].[Entity_ID] AS [Entity_ID], 
        [Extent1].[ModDietz_Performance_Quarterly] AS [ModDietz_Performance_Quarterly], 
        [Extent1].[ModDietz_Performance_Monthly] AS [ModDietz_Performance_Monthly], 
        [Extent1].[ModDietz_Performance_MonthToDate] AS [ModDietz_Performance_MonthToDate], 
        [Extent1].[Dietz_Performance_Quarterly] AS [Dietz_Performance_Quarterly], 
        [Extent1].[Dietz_Performance_Monthly] AS [Dietz_Performance_Monthly], 
        [Extent1].[Dietz_Performance_MonthToDate] AS [Dietz_Performance_MonthToDate], 
        [Extent1].[Last_Update_Date] AS [Last_Update_Date], 
        [Extent1].[Last_Update_User] AS [Last_Update_User], 
        [Extent1].[Record_Date] AS [Record_Date], 
        [Extent1].[Session_ID] AS [Session_ID], 
        [Extent1].[Hist_Last_Update_Date] AS [Hist_Last_Update_Date], 
        [Extent1].[Hist_Last_Update_User] AS [Hist_Last_Update_User], 
        [Extent2].[Security_ID] AS [Security_ID1], 
        [Extent2].[Entity_ID] AS [Entity_ID1], 
        [Extent2].[Security_Name] AS [Security_Name], 
        [Extent2].[Short_Name] AS [Short_Name], 
        [Extent2].[Primary_Exch] AS [Primary_Exch], 
        [Extent2].[Secondary_Exch] AS [Secondary_Exch], 
        [Extent2].[Country_Of_Domicile] AS [Country_Of_Domicile], 
        [Extent2].[Country_Of_Risk] AS [Country_Of_Risk], 
        [Extent2].[Security_Type_Code] AS [Security_Type_Code], 
        [Extent2].[Price_Multiplier] AS [Price_Multiplier], 
        [Extent2].[Income_Frequency] AS [Income_Frequency], 
        [Extent2].[Issuer_Code] AS [Issuer_Code], 
        [Extent2].[Ultimate_Issuer_Code] AS [Ultimate_Issuer_Code], 
        [Extent2].[Asset_Currency] AS [Asset_Currency], 
        [Extent2].[Min_Lot_Size] AS [Min_Lot_Size], 
        [Extent2].[Decimal_Precision] AS [Decimal_Precision], 
        [Extent2].[AvePrice_Rounding] AS [AvePrice_Rounding], 
        [Extent2].[Issue_Date] AS [Issue_Date], 
        [Extent2].[Maturity_Date] AS [Maturity_Date], 
        [Extent2].[Coupon_Rate] AS [Coupon_Rate], 
        [Extent2].[Price_Exchange] AS [Price_Exchange], 
        [Extent2].[Trade_Currency] AS [Trade_Currency], 
        [Extent2].[Price_Curr] AS [Price_Curr], 
        [Extent2].[Currency_Pair_Code] AS [Currency_Pair_Code], 
        [Extent2].[Share_Class] AS [Share_Class], 
        [Extent2].[Current_Market_Price] AS [Current_Market_Price], 
        [Extent2].[Index_Type] AS [Index_Type], 
        [Extent2].[Clean_Price_Formula] AS [Clean_Price_Formula], 
        [Extent2].[Accrued_Income_Price_Formula] AS [Accrued_Income_Price_Formula], 
        [Extent2].[Odd_First_Coupon_Date] AS [Odd_First_Coupon_Date], 
        [Extent2].[Odd_Last_Coupon_Date] AS [Odd_Last_Coupon_Date], 
        [Extent2].[Coupon_Anniversary_Indicator] AS [Coupon_Anniversary_Indicator], 
        [Extent2].[Track_EOM_Flag] AS [Track_EOM_Flag], 
        [Extent2].[Next_Coupon_Date] AS [Next_Coupon_Date], 
        [Extent2].[Previous_Coupon_Date] AS [Previous_Coupon_Date], 
        [Extent2].[Payment_Frequency] AS [Payment_Frequency], 
        [Extent2].[Coupon_BusDay_Adjustment] AS [Coupon_BusDay_Adjustment], 
        [Extent2].[Next_Ex_Div_Date] AS [Next_Ex_Div_Date], 
        [Extent2].[Ex_Div_BusDay_Adjustment] AS [Ex_Div_BusDay_Adjustment], 
        [Extent2].[Ex_Div_Period] AS [Ex_Div_Period], 
        [Extent2].[Ticker] AS [Ticker], 
        [Extent2].[Inet_ID] AS [Inet_ID], 
        [Extent2].[Bloomberg_ID] AS [Bloomberg_ID], 
        [Extent2].[External_Sec_ID] AS [External_Sec_ID], 
        [Extent2].[Reuters_ID] AS [Reuters_ID], 
        [Extent2].[ISIN] AS [ISIN], 
        [Extent2].[Call_Account_Flag] AS [Call_Account_Flag], 
        [Extent2].[System_Locked] AS [System_Locked], 
        [Extent2].[Last_Update_User] AS [Last_Update_User1], 
        [Extent2].[Last_Update_Date] AS [Last_Update_Date1], 
        [Extent2].[Security_Status] AS [Security_Status], 
        [Extent2].[Benchmark_Portfolio] AS [Benchmark_Portfolio], 
        [Extent2].[Active_flag] AS [Active_flag], 
        [Extent2].[Dividend_FX_Security_ID] AS [Dividend_FX_Security_ID]
        FROM  [dbo].[Security_Performance_History] AS [Extent1]
        INNER JOIN [dbo].[Security_Detail] AS [Extent2] ON [Extent1].[Security_ID] = [Extent2].[Security_ID]
        WHERE ([Extent1].[Security_ID] = @p__linq__0) AND ([Extent1].[Portfolio_Code] = @p__linq__1)
    )  AS [Project1]
    ORDER BY [Project1].[Record_Date] DESC
2018-04-07 12:49:16.3732|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: IF db_id(N'MetopeAzureDb') IS NOT NULL SELECT 1 ELSE SELECT Count(*) FROM sys.databases WHERE [name]=N'MetopeAzureDb'
2018-04-07 12:49:16.4612|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: IF db_id(N'MetopeAzureDb') IS NOT NULL SELECT 1 ELSE SELECT Count(*) FROM sys.databases WHERE [name]=N'MetopeAzureDb'
2018-04-07 12:49:16.5248|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: IF db_id(N'MetopeAzureDb') IS NOT NULL SELECT 1 ELSE SELECT Count(*) FROM sys.databases WHERE [name]=N'MetopeAzureDb'
2018-04-07 12:49:16.5433|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: IF db_id(N'MetopeAzureDb') IS NOT NULL SELECT 1 ELSE SELECT Count(*) FROM sys.databases WHERE [name]=N'MetopeAzureDb'
2018-04-07 12:49:18.2459|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: SELECT 
    [Extent1].[Security_ID] AS [Security_ID], 
    [Extent1].[Portfolio_Code] AS [Portfolio_Code], 
    [Extent1].[Entity_ID] AS [Entity_ID], 
    [Extent1].[ModDietz_Performance_Quarterly] AS [ModDietz_Performance_Quarterly], 
    [Extent1].[ModDietz_Performance_Monthly] AS [ModDietz_Performance_Monthly], 
    [Extent1].[ModDietz_Performance_MonthToDate] AS [ModDietz_Performance_MonthToDate], 
    [Extent1].[Dietz_Performance_Quarterly] AS [Dietz_Performance_Quarterly], 
    [Extent1].[Dietz_Performance_Monthly] AS [Dietz_Performance_Monthly], 
    [Extent1].[Dietz_Performance_MonthToDate] AS [Dietz_Performance_MonthToDate], 
    [Extent1].[Last_Update_Date] AS [Last_Update_Date], 
    [Extent1].[Last_Update_User] AS [Last_Update_User], 
    [Extent1].[Record_Date] AS [Record_Date], 
    [Extent1].[Session_ID] AS [Session_ID], 
    [Extent1].[Hist_Last_Update_Date] AS [Hist_Last_Update_Date], 
    [Extent1].[Hist_Last_Update_User] AS [Hist_Last_Update_User]
    FROM [dbo].[Security_Performance_History] AS [Extent1]
    WHERE ([Extent1].[Security_ID] = @p__linq__0) AND ([Extent1].[Portfolio_Code] = @p__linq__1) AND ([Extent1].[Record_Date] = @p__linq__2) AND ([Extent1].[Entity_ID] = @p__linq__3)
2018-04-07 12:49:18.2850|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: SELECT 
    [Extent1].[Security_ID] AS [Security_ID], 
    [Extent1].[Portfolio_Code] AS [Portfolio_Code], 
    [Extent1].[Entity_ID] AS [Entity_ID], 
    [Extent1].[ModDietz_Performance_Quarterly] AS [ModDietz_Performance_Quarterly], 
    [Extent1].[ModDietz_Performance_Monthly] AS [ModDietz_Performance_Monthly], 
    [Extent1].[ModDietz_Performance_MonthToDate] AS [ModDietz_Performance_MonthToDate], 
    [Extent1].[Dietz_Performance_Quarterly] AS [Dietz_Performance_Quarterly], 
    [Extent1].[Dietz_Performance_Monthly] AS [Dietz_Performance_Monthly], 
    [Extent1].[Dietz_Performance_MonthToDate] AS [Dietz_Performance_MonthToDate], 
    [Extent1].[Last_Update_Date] AS [Last_Update_Date], 
    [Extent1].[Last_Update_User] AS [Last_Update_User], 
    [Extent1].[Record_Date] AS [Record_Date], 
    [Extent1].[Session_ID] AS [Session_ID], 
    [Extent1].[Hist_Last_Update_Date] AS [Hist_Last_Update_Date], 
    [Extent1].[Hist_Last_Update_User] AS [Hist_Last_Update_User]
    FROM [dbo].[Security_Performance_History] AS [Extent1]
    WHERE ([Extent1].[Security_ID] = @p__linq__0) AND ([Extent1].[Portfolio_Code] = @p__linq__1) AND ([Extent1].[Record_Date] = @p__linq__2) AND ([Extent1].[Entity_ID] = @p__linq__3)
2018-04-07 12:49:18.3580|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: SELECT 
    [Extent1].[Security_ID] AS [Security_ID], 
    [Extent1].[Entity_ID] AS [Entity_ID], 
    [Extent1].[Security_Name] AS [Security_Name], 
    [Extent1].[Short_Name] AS [Short_Name], 
    [Extent1].[Primary_Exch] AS [Primary_Exch], 
    [Extent1].[Secondary_Exch] AS [Secondary_Exch], 
    [Extent1].[Country_Of_Domicile] AS [Country_Of_Domicile], 
    [Extent1].[Country_Of_Risk] AS [Country_Of_Risk], 
    [Extent1].[Security_Type_Code] AS [Security_Type_Code], 
    [Extent1].[Price_Multiplier] AS [Price_Multiplier], 
    [Extent1].[Income_Frequency] AS [Income_Frequency], 
    [Extent1].[Issuer_Code] AS [Issuer_Code], 
    [Extent1].[Ultimate_Issuer_Code] AS [Ultimate_Issuer_Code], 
    [Extent1].[Asset_Currency] AS [Asset_Currency], 
    [Extent1].[Min_Lot_Size] AS [Min_Lot_Size], 
    [Extent1].[Decimal_Precision] AS [Decimal_Precision], 
    [Extent1].[AvePrice_Rounding] AS [AvePrice_Rounding], 
    [Extent1].[Issue_Date] AS [Issue_Date], 
    [Extent1].[Maturity_Date] AS [Maturity_Date], 
    [Extent1].[Coupon_Rate] AS [Coupon_Rate], 
    [Extent1].[Price_Exchange] AS [Price_Exchange], 
    [Extent1].[Trade_Currency] AS [Trade_Currency], 
    [Extent1].[Price_Curr] AS [Price_Curr], 
    [Extent1].[Currency_Pair_Code] AS [Currency_Pair_Code], 
    [Extent1].[Share_Class] AS [Share_Class], 
    [Extent1].[Current_Market_Price] AS [Current_Market_Price], 
    [Extent1].[Index_Type] AS [Index_Type], 
    [Extent1].[Clean_Price_Formula] AS [Clean_Price_Formula], 
    [Extent1].[Accrued_Income_Price_Formula] AS [Accrued_Income_Price_Formula], 
    [Extent1].[Odd_First_Coupon_Date] AS [Odd_First_Coupon_Date], 
    [Extent1].[Odd_Last_Coupon_Date] AS [Odd_Last_Coupon_Date], 
    [Extent1].[Coupon_Anniversary_Indicator] AS [Coupon_Anniversary_Indicator], 
    [Extent1].[Track_EOM_Flag] AS [Track_EOM_Flag], 
    [Extent1].[Next_Coupon_Date] AS [Next_Coupon_Date], 
    [Extent1].[Previous_Coupon_Date] AS [Previous_Coupon_Date], 
    [Extent1].[Payment_Frequency] AS [Payment_Frequency], 
    [Extent1].[Coupon_BusDay_Adjustment] AS [Coupon_BusDay_Adjustment], 
    [Extent1].[Next_Ex_Div_Date] AS [Next_Ex_Div_Date], 
    [Extent1].[Ex_Div_BusDay_Adjustment] AS [Ex_Div_BusDay_Adjustment], 
    [Extent1].[Ex_Div_Period] AS [Ex_Div_Period], 
    [Extent1].[Ticker] AS [Ticker], 
    [Extent1].[Inet_ID] AS [Inet_ID], 
    [Extent1].[Bloomberg_ID] AS [Bloomberg_ID], 
    [Extent1].[External_Sec_ID] AS [External_Sec_ID], 
    [Extent1].[Reuters_ID] AS [Reuters_ID], 
    [Extent1].[ISIN] AS [ISIN], 
    [Extent1].[Call_Account_Flag] AS [Call_Account_Flag], 
    [Extent1].[System_Locked] AS [System_Locked], 
    [Extent1].[Last_Update_User] AS [Last_Update_User], 
    [Extent1].[Last_Update_Date] AS [Last_Update_Date], 
    [Extent1].[Security_Status] AS [Security_Status], 
    [Extent1].[Benchmark_Portfolio] AS [Benchmark_Portfolio], 
    [Extent1].[Active_flag] AS [Active_flag], 
    [Extent1].[Dividend_FX_Security_ID] AS [Dividend_FX_Security_ID]
    FROM [dbo].[Security_Detail] AS [Extent1]
    WHERE [Extent1].[Security_ID] = @EntityKeyValue1
2018-04-07 12:49:18.3930|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: SELECT 
    [Extent1].[Security_ID] AS [Security_ID], 
    [Extent1].[Entity_ID] AS [Entity_ID], 
    [Extent1].[Security_Name] AS [Security_Name], 
    [Extent1].[Short_Name] AS [Short_Name], 
    [Extent1].[Primary_Exch] AS [Primary_Exch], 
    [Extent1].[Secondary_Exch] AS [Secondary_Exch], 
    [Extent1].[Country_Of_Domicile] AS [Country_Of_Domicile], 
    [Extent1].[Country_Of_Risk] AS [Country_Of_Risk], 
    [Extent1].[Security_Type_Code] AS [Security_Type_Code], 
    [Extent1].[Price_Multiplier] AS [Price_Multiplier], 
    [Extent1].[Income_Frequency] AS [Income_Frequency], 
    [Extent1].[Issuer_Code] AS [Issuer_Code], 
    [Extent1].[Ultimate_Issuer_Code] AS [Ultimate_Issuer_Code], 
    [Extent1].[Asset_Currency] AS [Asset_Currency], 
    [Extent1].[Min_Lot_Size] AS [Min_Lot_Size], 
    [Extent1].[Decimal_Precision] AS [Decimal_Precision], 
    [Extent1].[AvePrice_Rounding] AS [AvePrice_Rounding], 
    [Extent1].[Issue_Date] AS [Issue_Date], 
    [Extent1].[Maturity_Date] AS [Maturity_Date], 
    [Extent1].[Coupon_Rate] AS [Coupon_Rate], 
    [Extent1].[Price_Exchange] AS [Price_Exchange], 
    [Extent1].[Trade_Currency] AS [Trade_Currency], 
    [Extent1].[Price_Curr] AS [Price_Curr], 
    [Extent1].[Currency_Pair_Code] AS [Currency_Pair_Code], 
    [Extent1].[Share_Class] AS [Share_Class], 
    [Extent1].[Current_Market_Price] AS [Current_Market_Price], 
    [Extent1].[Index_Type] AS [Index_Type], 
    [Extent1].[Clean_Price_Formula] AS [Clean_Price_Formula], 
    [Extent1].[Accrued_Income_Price_Formula] AS [Accrued_Income_Price_Formula], 
    [Extent1].[Odd_First_Coupon_Date] AS [Odd_First_Coupon_Date], 
    [Extent1].[Odd_Last_Coupon_Date] AS [Odd_Last_Coupon_Date], 
    [Extent1].[Coupon_Anniversary_Indicator] AS [Coupon_Anniversary_Indicator], 
    [Extent1].[Track_EOM_Flag] AS [Track_EOM_Flag], 
    [Extent1].[Next_Coupon_Date] AS [Next_Coupon_Date], 
    [Extent1].[Previous_Coupon_Date] AS [Previous_Coupon_Date], 
    [Extent1].[Payment_Frequency] AS [Payment_Frequency], 
    [Extent1].[Coupon_BusDay_Adjustment] AS [Coupon_BusDay_Adjustment], 
    [Extent1].[Next_Ex_Div_Date] AS [Next_Ex_Div_Date], 
    [Extent1].[Ex_Div_BusDay_Adjustment] AS [Ex_Div_BusDay_Adjustment], 
    [Extent1].[Ex_Div_Period] AS [Ex_Div_Period], 
    [Extent1].[Ticker] AS [Ticker], 
    [Extent1].[Inet_ID] AS [Inet_ID], 
    [Extent1].[Bloomberg_ID] AS [Bloomberg_ID], 
    [Extent1].[External_Sec_ID] AS [External_Sec_ID], 
    [Extent1].[Reuters_ID] AS [Reuters_ID], 
    [Extent1].[ISIN] AS [ISIN], 
    [Extent1].[Call_Account_Flag] AS [Call_Account_Flag], 
    [Extent1].[System_Locked] AS [System_Locked], 
    [Extent1].[Last_Update_User] AS [Last_Update_User], 
    [Extent1].[Last_Update_Date] AS [Last_Update_Date], 
    [Extent1].[Security_Status] AS [Security_Status], 
    [Extent1].[Benchmark_Portfolio] AS [Benchmark_Portfolio], 
    [Extent1].[Active_flag] AS [Active_flag], 
    [Extent1].[Dividend_FX_Security_ID] AS [Dividend_FX_Security_ID]
    FROM [dbo].[Security_Detail] AS [Extent1]
    WHERE [Extent1].[Security_ID] = @EntityKeyValue1
2018-04-07 12:49:18.4536|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: SELECT 
    [Project1].[Security_ID] AS [Security_ID], 
    [Project1].[Entity_ID] AS [Entity_ID], 
    [Project1].[Security_Name] AS [Security_Name], 
    [Project1].[Short_Name] AS [Short_Name], 
    [Project1].[Primary_Exch] AS [Primary_Exch], 
    [Project1].[Secondary_Exch] AS [Secondary_Exch], 
    [Project1].[Country_Of_Domicile] AS [Country_Of_Domicile], 
    [Project1].[Country_Of_Risk] AS [Country_Of_Risk], 
    [Project1].[Security_Type_Code] AS [Security_Type_Code], 
    [Project1].[Price_Multiplier] AS [Price_Multiplier], 
    [Project1].[Income_Frequency] AS [Income_Frequency], 
    [Project1].[Issuer_Code] AS [Issuer_Code], 
    [Project1].[Ultimate_Issuer_Code] AS [Ultimate_Issuer_Code], 
    [Project1].[Asset_Currency] AS [Asset_Currency], 
    [Project1].[Min_Lot_Size] AS [Min_Lot_Size], 
    [Project1].[Decimal_Precision] AS [Decimal_Precision], 
    [Project1].[AvePrice_Rounding] AS [AvePrice_Rounding], 
    [Project1].[Issue_Date] AS [Issue_Date], 
    [Project1].[Maturity_Date] AS [Maturity_Date], 
    [Project1].[Coupon_Rate] AS [Coupon_Rate], 
    [Project1].[Price_Exchange] AS [Price_Exchange], 
    [Project1].[Trade_Currency] AS [Trade_Currency], 
    [Project1].[Price_Curr] AS [Price_Curr], 
    [Project1].[Currency_Pair_Code] AS [Currency_Pair_Code], 
    [Project1].[Share_Class] AS [Share_Class], 
    [Project1].[Current_Market_Price] AS [Current_Market_Price], 
    [Project1].[Index_Type] AS [Index_Type], 
    [Project1].[Clean_Price_Formula] AS [Clean_Price_Formula], 
    [Project1].[Accrued_Income_Price_Formula] AS [Accrued_Income_Price_Formula], 
    [Project1].[Odd_First_Coupon_Date] AS [Odd_First_Coupon_Date], 
    [Project1].[Odd_Last_Coupon_Date] AS [Odd_Last_Coupon_Date], 
    [Project1].[Coupon_Anniversary_Indicator] AS [Coupon_Anniversary_Indicator], 
    [Project1].[Track_EOM_Flag] AS [Track_EOM_Flag], 
    [Project1].[Next_Coupon_Date] AS [Next_Coupon_Date], 
    [Project1].[Previous_Coupon_Date] AS [Previous_Coupon_Date], 
    [Project1].[Payment_Frequency] AS [Payment_Frequency], 
    [Project1].[Coupon_BusDay_Adjustment] AS [Coupon_BusDay_Adjustment], 
    [Project1].[Next_Ex_Div_Date] AS [Next_Ex_Div_Date], 
    [Project1].[Ex_Div_BusDay_Adjustment] AS [Ex_Div_BusDay_Adjustment], 
    [Project1].[Ex_Div_Period] AS [Ex_Div_Period], 
    [Project1].[Ticker] AS [Ticker], 
    [Project1].[Inet_ID] AS [Inet_ID], 
    [Project1].[Bloomberg_ID] AS [Bloomberg_ID], 
    [Project1].[External_Sec_ID] AS [External_Sec_ID], 
    [Project1].[Reuters_ID] AS [Reuters_ID], 
    [Project1].[ISIN] AS [ISIN], 
    [Project1].[Call_Account_Flag] AS [Call_Account_Flag], 
    [Project1].[System_Locked] AS [System_Locked], 
    [Project1].[Last_Update_User] AS [Last_Update_User], 
    [Project1].[Last_Update_Date] AS [Last_Update_Date], 
    [Project1].[Security_Status] AS [Security_Status], 
    [Project1].[Benchmark_Portfolio] AS [Benchmark_Portfolio], 
    [Project1].[Active_flag] AS [Active_flag], 
    [Project1].[Dividend_FX_Security_ID] AS [Dividend_FX_Security_ID]
    FROM ( SELECT 
        [Extent1].[Security_ID] AS [Security_ID], 
        [Extent1].[Entity_ID] AS [Entity_ID], 
        [Extent1].[Security_Name] AS [Security_Name], 
        [Extent1].[Short_Name] AS [Short_Name], 
        [Extent1].[Primary_Exch] AS [Primary_Exch], 
        [Extent1].[Secondary_Exch] AS [Secondary_Exch], 
        [Extent1].[Country_Of_Domicile] AS [Country_Of_Domicile], 
        [Extent1].[Country_Of_Risk] AS [Country_Of_Risk], 
        [Extent1].[Security_Type_Code] AS [Security_Type_Code], 
        [Extent1].[Price_Multiplier] AS [Price_Multiplier], 
        [Extent1].[Income_Frequency] AS [Income_Frequency], 
        [Extent1].[Issuer_Code] AS [Issuer_Code], 
        [Extent1].[Ultimate_Issuer_Code] AS [Ultimate_Issuer_Code], 
        [Extent1].[Asset_Currency] AS [Asset_Currency], 
        [Extent1].[Min_Lot_Size] AS [Min_Lot_Size], 
        [Extent1].[Decimal_Precision] AS [Decimal_Precision], 
        [Extent1].[AvePrice_Rounding] AS [AvePrice_Rounding], 
        [Extent1].[Issue_Date] AS [Issue_Date], 
        [Extent1].[Maturity_Date] AS [Maturity_Date], 
        [Extent1].[Coupon_Rate] AS [Coupon_Rate], 
        [Extent1].[Price_Exchange] AS [Price_Exchange], 
        [Extent1].[Trade_Currency] AS [Trade_Currency], 
        [Extent1].[Price_Curr] AS [Price_Curr], 
        [Extent1].[Currency_Pair_Code] AS [Currency_Pair_Code], 
        [Extent1].[Share_Class] AS [Share_Class], 
        [Extent1].[Current_Market_Price] AS [Current_Market_Price], 
        [Extent1].[Index_Type] AS [Index_Type], 
        [Extent1].[Clean_Price_Formula] AS [Clean_Price_Formula], 
        [Extent1].[Accrued_Income_Price_Formula] AS [Accrued_Income_Price_Formula], 
        [Extent1].[Odd_First_Coupon_Date] AS [Odd_First_Coupon_Date], 
        [Extent1].[Odd_Last_Coupon_Date] AS [Odd_Last_Coupon_Date], 
        [Extent1].[Coupon_Anniversary_Indicator] AS [Coupon_Anniversary_Indicator], 
        [Extent1].[Track_EOM_Flag] AS [Track_EOM_Flag], 
        [Extent1].[Next_Coupon_Date] AS [Next_Coupon_Date], 
        [Extent1].[Previous_Coupon_Date] AS [Previous_Coupon_Date], 
        [Extent1].[Payment_Frequency] AS [Payment_Frequency], 
        [Extent1].[Coupon_BusDay_Adjustment] AS [Coupon_BusDay_Adjustment], 
        [Extent1].[Next_Ex_Div_Date] AS [Next_Ex_Div_Date], 
        [Extent1].[Ex_Div_BusDay_Adjustment] AS [Ex_Div_BusDay_Adjustment], 
        [Extent1].[Ex_Div_Period] AS [Ex_Div_Period], 
        [Extent1].[Ticker] AS [Ticker], 
        [Extent1].[Inet_ID] AS [Inet_ID], 
        [Extent1].[Bloomberg_ID] AS [Bloomberg_ID], 
        [Extent1].[External_Sec_ID] AS [External_Sec_ID], 
        [Extent1].[Reuters_ID] AS [Reuters_ID], 
        [Extent1].[ISIN] AS [ISIN], 
        [Extent1].[Call_Account_Flag] AS [Call_Account_Flag], 
        [Extent1].[System_Locked] AS [System_Locked], 
        [Extent1].[Last_Update_User] AS [Last_Update_User], 
        [Extent1].[Last_Update_Date] AS [Last_Update_Date], 
        [Extent1].[Security_Status] AS [Security_Status], 
        [Extent1].[Benchmark_Portfolio] AS [Benchmark_Portfolio], 
        [Extent1].[Active_flag] AS [Active_flag], 
        [Extent1].[Dividend_FX_Security_ID] AS [Dividend_FX_Security_ID]
        FROM [dbo].[Security_Detail] AS [Extent1]
        WHERE ([Extent1].[Entity_ID] IN (@p__linq__0,@p__linq__1)) AND ((CASE WHEN ( NOT ((N'' = @p__linq__2) AND (@p__linq__2 IS NOT NULL))) THEN CASE WHEN ([Extent1].[Security_Type_Code] = @p__linq__3) THEN cast(1 as bit) WHEN ( NOT (([Extent1].[Security_Type_Code] = @p__linq__3) AND (0 = (CASE WHEN (@p__linq__3 IS NULL) THEN cast(1 as bit) ELSE cast(0 as bit) END)))) THEN cast(0 as bit) END WHEN ('' <> [Extent1].[Security_Type_Code]) THEN cast(1 as bit) WHEN ('' = [Extent1].[Security_Type_Code]) THEN cast(0 as bit) END) = 1)
    )  AS [Project1]
    ORDER BY [Project1].[Security_Name] ASC
2018-04-07 12:49:18.4971|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: SELECT 
    [Project1].[Security_ID] AS [Security_ID], 
    [Project1].[Entity_ID] AS [Entity_ID], 
    [Project1].[Security_Name] AS [Security_Name], 
    [Project1].[Short_Name] AS [Short_Name], 
    [Project1].[Primary_Exch] AS [Primary_Exch], 
    [Project1].[Secondary_Exch] AS [Secondary_Exch], 
    [Project1].[Country_Of_Domicile] AS [Country_Of_Domicile], 
    [Project1].[Country_Of_Risk] AS [Country_Of_Risk], 
    [Project1].[Security_Type_Code] AS [Security_Type_Code], 
    [Project1].[Price_Multiplier] AS [Price_Multiplier], 
    [Project1].[Income_Frequency] AS [Income_Frequency], 
    [Project1].[Issuer_Code] AS [Issuer_Code], 
    [Project1].[Ultimate_Issuer_Code] AS [Ultimate_Issuer_Code], 
    [Project1].[Asset_Currency] AS [Asset_Currency], 
    [Project1].[Min_Lot_Size] AS [Min_Lot_Size], 
    [Project1].[Decimal_Precision] AS [Decimal_Precision], 
    [Project1].[AvePrice_Rounding] AS [AvePrice_Rounding], 
    [Project1].[Issue_Date] AS [Issue_Date], 
    [Project1].[Maturity_Date] AS [Maturity_Date], 
    [Project1].[Coupon_Rate] AS [Coupon_Rate], 
    [Project1].[Price_Exchange] AS [Price_Exchange], 
    [Project1].[Trade_Currency] AS [Trade_Currency], 
    [Project1].[Price_Curr] AS [Price_Curr], 
    [Project1].[Currency_Pair_Code] AS [Currency_Pair_Code], 
    [Project1].[Share_Class] AS [Share_Class], 
    [Project1].[Current_Market_Price] AS [Current_Market_Price], 
    [Project1].[Index_Type] AS [Index_Type], 
    [Project1].[Clean_Price_Formula] AS [Clean_Price_Formula], 
    [Project1].[Accrued_Income_Price_Formula] AS [Accrued_Income_Price_Formula], 
    [Project1].[Odd_First_Coupon_Date] AS [Odd_First_Coupon_Date], 
    [Project1].[Odd_Last_Coupon_Date] AS [Odd_Last_Coupon_Date], 
    [Project1].[Coupon_Anniversary_Indicator] AS [Coupon_Anniversary_Indicator], 
    [Project1].[Track_EOM_Flag] AS [Track_EOM_Flag], 
    [Project1].[Next_Coupon_Date] AS [Next_Coupon_Date], 
    [Project1].[Previous_Coupon_Date] AS [Previous_Coupon_Date], 
    [Project1].[Payment_Frequency] AS [Payment_Frequency], 
    [Project1].[Coupon_BusDay_Adjustment] AS [Coupon_BusDay_Adjustment], 
    [Project1].[Next_Ex_Div_Date] AS [Next_Ex_Div_Date], 
    [Project1].[Ex_Div_BusDay_Adjustment] AS [Ex_Div_BusDay_Adjustment], 
    [Project1].[Ex_Div_Period] AS [Ex_Div_Period], 
    [Project1].[Ticker] AS [Ticker], 
    [Project1].[Inet_ID] AS [Inet_ID], 
    [Project1].[Bloomberg_ID] AS [Bloomberg_ID], 
    [Project1].[External_Sec_ID] AS [External_Sec_ID], 
    [Project1].[Reuters_ID] AS [Reuters_ID], 
    [Project1].[ISIN] AS [ISIN], 
    [Project1].[Call_Account_Flag] AS [Call_Account_Flag], 
    [Project1].[System_Locked] AS [System_Locked], 
    [Project1].[Last_Update_User] AS [Last_Update_User], 
    [Project1].[Last_Update_Date] AS [Last_Update_Date], 
    [Project1].[Security_Status] AS [Security_Status], 
    [Project1].[Benchmark_Portfolio] AS [Benchmark_Portfolio], 
    [Project1].[Active_flag] AS [Active_flag], 
    [Project1].[Dividend_FX_Security_ID] AS [Dividend_FX_Security_ID]
    FROM ( SELECT 
        [Extent1].[Security_ID] AS [Security_ID], 
        [Extent1].[Entity_ID] AS [Entity_ID], 
        [Extent1].[Security_Name] AS [Security_Name], 
        [Extent1].[Short_Name] AS [Short_Name], 
        [Extent1].[Primary_Exch] AS [Primary_Exch], 
        [Extent1].[Secondary_Exch] AS [Secondary_Exch], 
        [Extent1].[Country_Of_Domicile] AS [Country_Of_Domicile], 
        [Extent1].[Country_Of_Risk] AS [Country_Of_Risk], 
        [Extent1].[Security_Type_Code] AS [Security_Type_Code], 
        [Extent1].[Price_Multiplier] AS [Price_Multiplier], 
        [Extent1].[Income_Frequency] AS [Income_Frequency], 
        [Extent1].[Issuer_Code] AS [Issuer_Code], 
        [Extent1].[Ultimate_Issuer_Code] AS [Ultimate_Issuer_Code], 
        [Extent1].[Asset_Currency] AS [Asset_Currency], 
        [Extent1].[Min_Lot_Size] AS [Min_Lot_Size], 
        [Extent1].[Decimal_Precision] AS [Decimal_Precision], 
        [Extent1].[AvePrice_Rounding] AS [AvePrice_Rounding], 
        [Extent1].[Issue_Date] AS [Issue_Date], 
        [Extent1].[Maturity_Date] AS [Maturity_Date], 
        [Extent1].[Coupon_Rate] AS [Coupon_Rate], 
        [Extent1].[Price_Exchange] AS [Price_Exchange], 
        [Extent1].[Trade_Currency] AS [Trade_Currency], 
        [Extent1].[Price_Curr] AS [Price_Curr], 
        [Extent1].[Currency_Pair_Code] AS [Currency_Pair_Code], 
        [Extent1].[Share_Class] AS [Share_Class], 
        [Extent1].[Current_Market_Price] AS [Current_Market_Price], 
        [Extent1].[Index_Type] AS [Index_Type], 
        [Extent1].[Clean_Price_Formula] AS [Clean_Price_Formula], 
        [Extent1].[Accrued_Income_Price_Formula] AS [Accrued_Income_Price_Formula], 
        [Extent1].[Odd_First_Coupon_Date] AS [Odd_First_Coupon_Date], 
        [Extent1].[Odd_Last_Coupon_Date] AS [Odd_Last_Coupon_Date], 
        [Extent1].[Coupon_Anniversary_Indicator] AS [Coupon_Anniversary_Indicator], 
        [Extent1].[Track_EOM_Flag] AS [Track_EOM_Flag], 
        [Extent1].[Next_Coupon_Date] AS [Next_Coupon_Date], 
        [Extent1].[Previous_Coupon_Date] AS [Previous_Coupon_Date], 
        [Extent1].[Payment_Frequency] AS [Payment_Frequency], 
        [Extent1].[Coupon_BusDay_Adjustment] AS [Coupon_BusDay_Adjustment], 
        [Extent1].[Next_Ex_Div_Date] AS [Next_Ex_Div_Date], 
        [Extent1].[Ex_Div_BusDay_Adjustment] AS [Ex_Div_BusDay_Adjustment], 
        [Extent1].[Ex_Div_Period] AS [Ex_Div_Period], 
        [Extent1].[Ticker] AS [Ticker], 
        [Extent1].[Inet_ID] AS [Inet_ID], 
        [Extent1].[Bloomberg_ID] AS [Bloomberg_ID], 
        [Extent1].[External_Sec_ID] AS [External_Sec_ID], 
        [Extent1].[Reuters_ID] AS [Reuters_ID], 
        [Extent1].[ISIN] AS [ISIN], 
        [Extent1].[Call_Account_Flag] AS [Call_Account_Flag], 
        [Extent1].[System_Locked] AS [System_Locked], 
        [Extent1].[Last_Update_User] AS [Last_Update_User], 
        [Extent1].[Last_Update_Date] AS [Last_Update_Date], 
        [Extent1].[Security_Status] AS [Security_Status], 
        [Extent1].[Benchmark_Portfolio] AS [Benchmark_Portfolio], 
        [Extent1].[Active_flag] AS [Active_flag], 
        [Extent1].[Dividend_FX_Security_ID] AS [Dividend_FX_Security_ID]
        FROM [dbo].[Security_Detail] AS [Extent1]
        WHERE ([Extent1].[Entity_ID] IN (@p__linq__0,@p__linq__1)) AND ((CASE WHEN ( NOT ((N'' = @p__linq__2) AND (@p__linq__2 IS NOT NULL))) THEN CASE WHEN ([Extent1].[Security_Type_Code] = @p__linq__3) THEN cast(1 as bit) WHEN ( NOT (([Extent1].[Security_Type_Code] = @p__linq__3) AND (0 = (CASE WHEN (@p__linq__3 IS NULL) THEN cast(1 as bit) ELSE cast(0 as bit) END)))) THEN cast(0 as bit) END WHEN ('' <> [Extent1].[Security_Type_Code]) THEN cast(1 as bit) WHEN ('' = [Extent1].[Security_Type_Code]) THEN cast(0 as bit) END) = 1)
    )  AS [Project1]
    ORDER BY [Project1].[Security_Name] ASC
2018-04-07 12:49:18.5421|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: IF db_id(N'MetopeAzureDb') IS NOT NULL SELECT 1 ELSE SELECT Count(*) FROM sys.databases WHERE [name]=N'MetopeAzureDb'
2018-04-07 12:49:18.5677|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: IF db_id(N'MetopeAzureDb') IS NOT NULL SELECT 1 ELSE SELECT Count(*) FROM sys.databases WHERE [name]=N'MetopeAzureDb'
2018-04-07 12:49:18.5937|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: IF db_id(N'MetopeAzureDb') IS NOT NULL SELECT 1 ELSE SELECT Count(*) FROM sys.databases WHERE [name]=N'MetopeAzureDb'
2018-04-07 12:49:18.6152|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: IF db_id(N'MetopeAzureDb') IS NOT NULL SELECT 1 ELSE SELECT Count(*) FROM sys.databases WHERE [name]=N'MetopeAzureDb'
2018-04-07 12:51:05.9398|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: UPDATE [dbo].[Security_Performance_History]
SET [ModDietz_Performance_Quarterly] = @0, [ModDietz_Performance_Monthly] = @1, [ModDietz_Performance_MonthToDate] = @2, [Dietz_Performance_Quarterly] = @3, [Dietz_Performance_Monthly] = @4, [Dietz_Performance_MonthToDate] = NULL, [Last_Update_Date] = @5, [Last_Update_User] = @6, [Session_ID] = @7, [Hist_Last_Update_Date] = @8, [Hist_Last_Update_User] = @9
WHERE (((([Security_ID] = @10) AND ([Portfolio_Code] = @11)) AND ([Entity_ID] = @12)) AND ([Record_Date] = @13))

2018-04-07 12:51:06.0139|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: UPDATE [dbo].[Security_Performance_History]
SET [ModDietz_Performance_Quarterly] = @0, [ModDietz_Performance_Monthly] = @1, [ModDietz_Performance_MonthToDate] = @2, [Dietz_Performance_Quarterly] = @3, [Dietz_Performance_Monthly] = @4, [Dietz_Performance_MonthToDate] = NULL, [Last_Update_Date] = @5, [Last_Update_User] = @6, [Session_ID] = @7, [Hist_Last_Update_Date] = @8, [Hist_Last_Update_User] = @9
WHERE (((([Security_ID] = @10) AND ([Portfolio_Code] = @11)) AND ([Entity_ID] = @12)) AND ([Record_Date] = @13))

2018-04-07 12:51:06.0769|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: SELECT 
    [Project1].[Decimal_Precision] AS [Decimal_Precision], 
    [Project1].[Security_ID] AS [Security_ID], 
    [Project1].[Portfolio_Code] AS [Portfolio_Code], 
    [Project1].[Entity_ID] AS [Entity_ID], 
    [Project1].[ModDietz_Performance_Quarterly] AS [ModDietz_Performance_Quarterly], 
    [Project1].[ModDietz_Performance_Monthly] AS [ModDietz_Performance_Monthly], 
    [Project1].[ModDietz_Performance_MonthToDate] AS [ModDietz_Performance_MonthToDate], 
    [Project1].[Dietz_Performance_Quarterly] AS [Dietz_Performance_Quarterly], 
    [Project1].[Dietz_Performance_Monthly] AS [Dietz_Performance_Monthly], 
    [Project1].[Dietz_Performance_MonthToDate] AS [Dietz_Performance_MonthToDate], 
    [Project1].[Last_Update_Date] AS [Last_Update_Date], 
    [Project1].[Last_Update_User] AS [Last_Update_User], 
    [Project1].[Record_Date] AS [Record_Date], 
    [Project1].[Session_ID] AS [Session_ID], 
    [Project1].[Hist_Last_Update_Date] AS [Hist_Last_Update_Date], 
    [Project1].[Hist_Last_Update_User] AS [Hist_Last_Update_User], 
    [Project1].[Security_ID1] AS [Security_ID1], 
    [Project1].[Entity_ID1] AS [Entity_ID1], 
    [Project1].[Security_Name] AS [Security_Name], 
    [Project1].[Short_Name] AS [Short_Name], 
    [Project1].[Primary_Exch] AS [Primary_Exch], 
    [Project1].[Secondary_Exch] AS [Secondary_Exch], 
    [Project1].[Country_Of_Domicile] AS [Country_Of_Domicile], 
    [Project1].[Country_Of_Risk] AS [Country_Of_Risk], 
    [Project1].[Security_Type_Code] AS [Security_Type_Code], 
    [Project1].[Price_Multiplier] AS [Price_Multiplier], 
    [Project1].[Income_Frequency] AS [Income_Frequency], 
    [Project1].[Issuer_Code] AS [Issuer_Code], 
    [Project1].[Ultimate_Issuer_Code] AS [Ultimate_Issuer_Code], 
    [Project1].[Asset_Currency] AS [Asset_Currency], 
    [Project1].[Min_Lot_Size] AS [Min_Lot_Size], 
    [Project1].[AvePrice_Rounding] AS [AvePrice_Rounding], 
    [Project1].[Issue_Date] AS [Issue_Date], 
    [Project1].[Maturity_Date] AS [Maturity_Date], 
    [Project1].[Coupon_Rate] AS [Coupon_Rate], 
    [Project1].[Price_Exchange] AS [Price_Exchange], 
    [Project1].[Trade_Currency] AS [Trade_Currency], 
    [Project1].[Price_Curr] AS [Price_Curr], 
    [Project1].[Currency_Pair_Code] AS [Currency_Pair_Code], 
    [Project1].[Share_Class] AS [Share_Class], 
    [Project1].[Current_Market_Price] AS [Current_Market_Price], 
    [Project1].[Index_Type] AS [Index_Type], 
    [Project1].[Clean_Price_Formula] AS [Clean_Price_Formula], 
    [Project1].[Accrued_Income_Price_Formula] AS [Accrued_Income_Price_Formula], 
    [Project1].[Odd_First_Coupon_Date] AS [Odd_First_Coupon_Date], 
    [Project1].[Odd_Last_Coupon_Date] AS [Odd_Last_Coupon_Date], 
    [Project1].[Coupon_Anniversary_Indicator] AS [Coupon_Anniversary_Indicator], 
    [Project1].[Track_EOM_Flag] AS [Track_EOM_Flag], 
    [Project1].[Next_Coupon_Date] AS [Next_Coupon_Date], 
    [Project1].[Previous_Coupon_Date] AS [Previous_Coupon_Date], 
    [Project1].[Payment_Frequency] AS [Payment_Frequency], 
    [Project1].[Coupon_BusDay_Adjustment] AS [Coupon_BusDay_Adjustment], 
    [Project1].[Next_Ex_Div_Date] AS [Next_Ex_Div_Date], 
    [Project1].[Ex_Div_BusDay_Adjustment] AS [Ex_Div_BusDay_Adjustment], 
    [Project1].[Ex_Div_Period] AS [Ex_Div_Period], 
    [Project1].[Ticker] AS [Ticker], 
    [Project1].[Inet_ID] AS [Inet_ID], 
    [Project1].[Bloomberg_ID] AS [Bloomberg_ID], 
    [Project1].[External_Sec_ID] AS [External_Sec_ID], 
    [Project1].[Reuters_ID] AS [Reuters_ID], 
    [Project1].[ISIN] AS [ISIN], 
    [Project1].[Call_Account_Flag] AS [Call_Account_Flag], 
    [Project1].[System_Locked] AS [System_Locked], 
    [Project1].[Last_Update_User1] AS [Last_Update_User1], 
    [Project1].[Last_Update_Date1] AS [Last_Update_Date1], 
    [Project1].[Security_Status] AS [Security_Status], 
    [Project1].[Benchmark_Portfolio] AS [Benchmark_Portfolio], 
    [Project1].[Active_flag] AS [Active_flag], 
    [Project1].[Dividend_FX_Security_ID] AS [Dividend_FX_Security_ID]
    FROM ( SELECT 
        [Extent1].[Security_ID] AS [Security_ID], 
        [Extent1].[Portfolio_Code] AS [Portfolio_Code], 
        [Extent1].[Entity_ID] AS [Entity_ID], 
        [Extent1].[ModDietz_Performance_Quarterly] AS [ModDietz_Performance_Quarterly], 
        [Extent1].[ModDietz_Performance_Monthly] AS [ModDietz_Performance_Monthly], 
        [Extent1].[ModDietz_Performance_MonthToDate] AS [ModDietz_Performance_MonthToDate], 
        [Extent1].[Dietz_Performance_Quarterly] AS [Dietz_Performance_Quarterly], 
        [Extent1].[Dietz_Performance_Monthly] AS [Dietz_Performance_Monthly], 
        [Extent1].[Dietz_Performance_MonthToDate] AS [Dietz_Performance_MonthToDate], 
        [Extent1].[Last_Update_Date] AS [Last_Update_Date], 
        [Extent1].[Last_Update_User] AS [Last_Update_User], 
        [Extent1].[Record_Date] AS [Record_Date], 
        [Extent1].[Session_ID] AS [Session_ID], 
        [Extent1].[Hist_Last_Update_Date] AS [Hist_Last_Update_Date], 
        [Extent1].[Hist_Last_Update_User] AS [Hist_Last_Update_User], 
        [Extent2].[Security_ID] AS [Security_ID1], 
        [Extent2].[Entity_ID] AS [Entity_ID1], 
        [Extent2].[Security_Name] AS [Security_Name], 
        [Extent2].[Short_Name] AS [Short_Name], 
        [Extent2].[Primary_Exch] AS [Primary_Exch], 
        [Extent2].[Secondary_Exch] AS [Secondary_Exch], 
        [Extent2].[Country_Of_Domicile] AS [Country_Of_Domicile], 
        [Extent2].[Country_Of_Risk] AS [Country_Of_Risk], 
        [Extent2].[Security_Type_Code] AS [Security_Type_Code], 
        [Extent2].[Price_Multiplier] AS [Price_Multiplier], 
        [Extent2].[Income_Frequency] AS [Income_Frequency], 
        [Extent2].[Issuer_Code] AS [Issuer_Code], 
        [Extent2].[Ultimate_Issuer_Code] AS [Ultimate_Issuer_Code], 
        [Extent2].[Asset_Currency] AS [Asset_Currency], 
        [Extent2].[Min_Lot_Size] AS [Min_Lot_Size], 
        [Extent2].[Decimal_Precision] AS [Decimal_Precision], 
        [Extent2].[AvePrice_Rounding] AS [AvePrice_Rounding], 
        [Extent2].[Issue_Date] AS [Issue_Date], 
        [Extent2].[Maturity_Date] AS [Maturity_Date], 
        [Extent2].[Coupon_Rate] AS [Coupon_Rate], 
        [Extent2].[Price_Exchange] AS [Price_Exchange], 
        [Extent2].[Trade_Currency] AS [Trade_Currency], 
        [Extent2].[Price_Curr] AS [Price_Curr], 
        [Extent2].[Currency_Pair_Code] AS [Currency_Pair_Code], 
        [Extent2].[Share_Class] AS [Share_Class], 
        [Extent2].[Current_Market_Price] AS [Current_Market_Price], 
        [Extent2].[Index_Type] AS [Index_Type], 
        [Extent2].[Clean_Price_Formula] AS [Clean_Price_Formula], 
        [Extent2].[Accrued_Income_Price_Formula] AS [Accrued_Income_Price_Formula], 
        [Extent2].[Odd_First_Coupon_Date] AS [Odd_First_Coupon_Date], 
        [Extent2].[Odd_Last_Coupon_Date] AS [Odd_Last_Coupon_Date], 
        [Extent2].[Coupon_Anniversary_Indicator] AS [Coupon_Anniversary_Indicator], 
        [Extent2].[Track_EOM_Flag] AS [Track_EOM_Flag], 
        [Extent2].[Next_Coupon_Date] AS [Next_Coupon_Date], 
        [Extent2].[Previous_Coupon_Date] AS [Previous_Coupon_Date], 
        [Extent2].[Payment_Frequency] AS [Payment_Frequency], 
        [Extent2].[Coupon_BusDay_Adjustment] AS [Coupon_BusDay_Adjustment], 
        [Extent2].[Next_Ex_Div_Date] AS [Next_Ex_Div_Date], 
        [Extent2].[Ex_Div_BusDay_Adjustment] AS [Ex_Div_BusDay_Adjustment], 
        [Extent2].[Ex_Div_Period] AS [Ex_Div_Period], 
        [Extent2].[Ticker] AS [Ticker], 
        [Extent2].[Inet_ID] AS [Inet_ID], 
        [Extent2].[Bloomberg_ID] AS [Bloomberg_ID], 
        [Extent2].[External_Sec_ID] AS [External_Sec_ID], 
        [Extent2].[Reuters_ID] AS [Reuters_ID], 
        [Extent2].[ISIN] AS [ISIN], 
        [Extent2].[Call_Account_Flag] AS [Call_Account_Flag], 
        [Extent2].[System_Locked] AS [System_Locked], 
        [Extent2].[Last_Update_User] AS [Last_Update_User1], 
        [Extent2].[Last_Update_Date] AS [Last_Update_Date1], 
        [Extent2].[Security_Status] AS [Security_Status], 
        [Extent2].[Benchmark_Portfolio] AS [Benchmark_Portfolio], 
        [Extent2].[Active_flag] AS [Active_flag], 
        [Extent2].[Dividend_FX_Security_ID] AS [Dividend_FX_Security_ID]
        FROM  [dbo].[Security_Performance_History] AS [Extent1]
        INNER JOIN [dbo].[Security_Detail] AS [Extent2] ON [Extent1].[Security_ID] = [Extent2].[Security_ID]
        WHERE ([Extent1].[Security_ID] = @p__linq__0) AND ([Extent1].[Portfolio_Code] = @p__linq__1)
    )  AS [Project1]
    ORDER BY [Project1].[Record_Date] DESC
2018-04-07 12:51:06.1300|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: SELECT 
    [Project1].[Decimal_Precision] AS [Decimal_Precision], 
    [Project1].[Security_ID] AS [Security_ID], 
    [Project1].[Portfolio_Code] AS [Portfolio_Code], 
    [Project1].[Entity_ID] AS [Entity_ID], 
    [Project1].[ModDietz_Performance_Quarterly] AS [ModDietz_Performance_Quarterly], 
    [Project1].[ModDietz_Performance_Monthly] AS [ModDietz_Performance_Monthly], 
    [Project1].[ModDietz_Performance_MonthToDate] AS [ModDietz_Performance_MonthToDate], 
    [Project1].[Dietz_Performance_Quarterly] AS [Dietz_Performance_Quarterly], 
    [Project1].[Dietz_Performance_Monthly] AS [Dietz_Performance_Monthly], 
    [Project1].[Dietz_Performance_MonthToDate] AS [Dietz_Performance_MonthToDate], 
    [Project1].[Last_Update_Date] AS [Last_Update_Date], 
    [Project1].[Last_Update_User] AS [Last_Update_User], 
    [Project1].[Record_Date] AS [Record_Date], 
    [Project1].[Session_ID] AS [Session_ID], 
    [Project1].[Hist_Last_Update_Date] AS [Hist_Last_Update_Date], 
    [Project1].[Hist_Last_Update_User] AS [Hist_Last_Update_User], 
    [Project1].[Security_ID1] AS [Security_ID1], 
    [Project1].[Entity_ID1] AS [Entity_ID1], 
    [Project1].[Security_Name] AS [Security_Name], 
    [Project1].[Short_Name] AS [Short_Name], 
    [Project1].[Primary_Exch] AS [Primary_Exch], 
    [Project1].[Secondary_Exch] AS [Secondary_Exch], 
    [Project1].[Country_Of_Domicile] AS [Country_Of_Domicile], 
    [Project1].[Country_Of_Risk] AS [Country_Of_Risk], 
    [Project1].[Security_Type_Code] AS [Security_Type_Code], 
    [Project1].[Price_Multiplier] AS [Price_Multiplier], 
    [Project1].[Income_Frequency] AS [Income_Frequency], 
    [Project1].[Issuer_Code] AS [Issuer_Code], 
    [Project1].[Ultimate_Issuer_Code] AS [Ultimate_Issuer_Code], 
    [Project1].[Asset_Currency] AS [Asset_Currency], 
    [Project1].[Min_Lot_Size] AS [Min_Lot_Size], 
    [Project1].[AvePrice_Rounding] AS [AvePrice_Rounding], 
    [Project1].[Issue_Date] AS [Issue_Date], 
    [Project1].[Maturity_Date] AS [Maturity_Date], 
    [Project1].[Coupon_Rate] AS [Coupon_Rate], 
    [Project1].[Price_Exchange] AS [Price_Exchange], 
    [Project1].[Trade_Currency] AS [Trade_Currency], 
    [Project1].[Price_Curr] AS [Price_Curr], 
    [Project1].[Currency_Pair_Code] AS [Currency_Pair_Code], 
    [Project1].[Share_Class] AS [Share_Class], 
    [Project1].[Current_Market_Price] AS [Current_Market_Price], 
    [Project1].[Index_Type] AS [Index_Type], 
    [Project1].[Clean_Price_Formula] AS [Clean_Price_Formula], 
    [Project1].[Accrued_Income_Price_Formula] AS [Accrued_Income_Price_Formula], 
    [Project1].[Odd_First_Coupon_Date] AS [Odd_First_Coupon_Date], 
    [Project1].[Odd_Last_Coupon_Date] AS [Odd_Last_Coupon_Date], 
    [Project1].[Coupon_Anniversary_Indicator] AS [Coupon_Anniversary_Indicator], 
    [Project1].[Track_EOM_Flag] AS [Track_EOM_Flag], 
    [Project1].[Next_Coupon_Date] AS [Next_Coupon_Date], 
    [Project1].[Previous_Coupon_Date] AS [Previous_Coupon_Date], 
    [Project1].[Payment_Frequency] AS [Payment_Frequency], 
    [Project1].[Coupon_BusDay_Adjustment] AS [Coupon_BusDay_Adjustment], 
    [Project1].[Next_Ex_Div_Date] AS [Next_Ex_Div_Date], 
    [Project1].[Ex_Div_BusDay_Adjustment] AS [Ex_Div_BusDay_Adjustment], 
    [Project1].[Ex_Div_Period] AS [Ex_Div_Period], 
    [Project1].[Ticker] AS [Ticker], 
    [Project1].[Inet_ID] AS [Inet_ID], 
    [Project1].[Bloomberg_ID] AS [Bloomberg_ID], 
    [Project1].[External_Sec_ID] AS [External_Sec_ID], 
    [Project1].[Reuters_ID] AS [Reuters_ID], 
    [Project1].[ISIN] AS [ISIN], 
    [Project1].[Call_Account_Flag] AS [Call_Account_Flag], 
    [Project1].[System_Locked] AS [System_Locked], 
    [Project1].[Last_Update_User1] AS [Last_Update_User1], 
    [Project1].[Last_Update_Date1] AS [Last_Update_Date1], 
    [Project1].[Security_Status] AS [Security_Status], 
    [Project1].[Benchmark_Portfolio] AS [Benchmark_Portfolio], 
    [Project1].[Active_flag] AS [Active_flag], 
    [Project1].[Dividend_FX_Security_ID] AS [Dividend_FX_Security_ID]
    FROM ( SELECT 
        [Extent1].[Security_ID] AS [Security_ID], 
        [Extent1].[Portfolio_Code] AS [Portfolio_Code], 
        [Extent1].[Entity_ID] AS [Entity_ID], 
        [Extent1].[ModDietz_Performance_Quarterly] AS [ModDietz_Performance_Quarterly], 
        [Extent1].[ModDietz_Performance_Monthly] AS [ModDietz_Performance_Monthly], 
        [Extent1].[ModDietz_Performance_MonthToDate] AS [ModDietz_Performance_MonthToDate], 
        [Extent1].[Dietz_Performance_Quarterly] AS [Dietz_Performance_Quarterly], 
        [Extent1].[Dietz_Performance_Monthly] AS [Dietz_Performance_Monthly], 
        [Extent1].[Dietz_Performance_MonthToDate] AS [Dietz_Performance_MonthToDate], 
        [Extent1].[Last_Update_Date] AS [Last_Update_Date], 
        [Extent1].[Last_Update_User] AS [Last_Update_User], 
        [Extent1].[Record_Date] AS [Record_Date], 
        [Extent1].[Session_ID] AS [Session_ID], 
        [Extent1].[Hist_Last_Update_Date] AS [Hist_Last_Update_Date], 
        [Extent1].[Hist_Last_Update_User] AS [Hist_Last_Update_User], 
        [Extent2].[Security_ID] AS [Security_ID1], 
        [Extent2].[Entity_ID] AS [Entity_ID1], 
        [Extent2].[Security_Name] AS [Security_Name], 
        [Extent2].[Short_Name] AS [Short_Name], 
        [Extent2].[Primary_Exch] AS [Primary_Exch], 
        [Extent2].[Secondary_Exch] AS [Secondary_Exch], 
        [Extent2].[Country_Of_Domicile] AS [Country_Of_Domicile], 
        [Extent2].[Country_Of_Risk] AS [Country_Of_Risk], 
        [Extent2].[Security_Type_Code] AS [Security_Type_Code], 
        [Extent2].[Price_Multiplier] AS [Price_Multiplier], 
        [Extent2].[Income_Frequency] AS [Income_Frequency], 
        [Extent2].[Issuer_Code] AS [Issuer_Code], 
        [Extent2].[Ultimate_Issuer_Code] AS [Ultimate_Issuer_Code], 
        [Extent2].[Asset_Currency] AS [Asset_Currency], 
        [Extent2].[Min_Lot_Size] AS [Min_Lot_Size], 
        [Extent2].[Decimal_Precision] AS [Decimal_Precision], 
        [Extent2].[AvePrice_Rounding] AS [AvePrice_Rounding], 
        [Extent2].[Issue_Date] AS [Issue_Date], 
        [Extent2].[Maturity_Date] AS [Maturity_Date], 
        [Extent2].[Coupon_Rate] AS [Coupon_Rate], 
        [Extent2].[Price_Exchange] AS [Price_Exchange], 
        [Extent2].[Trade_Currency] AS [Trade_Currency], 
        [Extent2].[Price_Curr] AS [Price_Curr], 
        [Extent2].[Currency_Pair_Code] AS [Currency_Pair_Code], 
        [Extent2].[Share_Class] AS [Share_Class], 
        [Extent2].[Current_Market_Price] AS [Current_Market_Price], 
        [Extent2].[Index_Type] AS [Index_Type], 
        [Extent2].[Clean_Price_Formula] AS [Clean_Price_Formula], 
        [Extent2].[Accrued_Income_Price_Formula] AS [Accrued_Income_Price_Formula], 
        [Extent2].[Odd_First_Coupon_Date] AS [Odd_First_Coupon_Date], 
        [Extent2].[Odd_Last_Coupon_Date] AS [Odd_Last_Coupon_Date], 
        [Extent2].[Coupon_Anniversary_Indicator] AS [Coupon_Anniversary_Indicator], 
        [Extent2].[Track_EOM_Flag] AS [Track_EOM_Flag], 
        [Extent2].[Next_Coupon_Date] AS [Next_Coupon_Date], 
        [Extent2].[Previous_Coupon_Date] AS [Previous_Coupon_Date], 
        [Extent2].[Payment_Frequency] AS [Payment_Frequency], 
        [Extent2].[Coupon_BusDay_Adjustment] AS [Coupon_BusDay_Adjustment], 
        [Extent2].[Next_Ex_Div_Date] AS [Next_Ex_Div_Date], 
        [Extent2].[Ex_Div_BusDay_Adjustment] AS [Ex_Div_BusDay_Adjustment], 
        [Extent2].[Ex_Div_Period] AS [Ex_Div_Period], 
        [Extent2].[Ticker] AS [Ticker], 
        [Extent2].[Inet_ID] AS [Inet_ID], 
        [Extent2].[Bloomberg_ID] AS [Bloomberg_ID], 
        [Extent2].[External_Sec_ID] AS [External_Sec_ID], 
        [Extent2].[Reuters_ID] AS [Reuters_ID], 
        [Extent2].[ISIN] AS [ISIN], 
        [Extent2].[Call_Account_Flag] AS [Call_Account_Flag], 
        [Extent2].[System_Locked] AS [System_Locked], 
        [Extent2].[Last_Update_User] AS [Last_Update_User1], 
        [Extent2].[Last_Update_Date] AS [Last_Update_Date1], 
        [Extent2].[Security_Status] AS [Security_Status], 
        [Extent2].[Benchmark_Portfolio] AS [Benchmark_Portfolio], 
        [Extent2].[Active_flag] AS [Active_flag], 
        [Extent2].[Dividend_FX_Security_ID] AS [Dividend_FX_Security_ID]
        FROM  [dbo].[Security_Performance_History] AS [Extent1]
        INNER JOIN [dbo].[Security_Detail] AS [Extent2] ON [Extent1].[Security_ID] = [Extent2].[Security_ID]
        WHERE ([Extent1].[Security_ID] = @p__linq__0) AND ([Extent1].[Portfolio_Code] = @p__linq__1)
    )  AS [Project1]
    ORDER BY [Project1].[Record_Date] DESC
2018-04-07 12:51:06.2135|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: IF db_id(N'MetopeAzureDb') IS NOT NULL SELECT 1 ELSE SELECT Count(*) FROM sys.databases WHERE [name]=N'MetopeAzureDb'
2018-04-07 12:51:06.3266|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: IF db_id(N'MetopeAzureDb') IS NOT NULL SELECT 1 ELSE SELECT Count(*) FROM sys.databases WHERE [name]=N'MetopeAzureDb'
2018-04-07 12:51:06.4382|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: IF db_id(N'MetopeAzureDb') IS NOT NULL SELECT 1 ELSE SELECT Count(*) FROM sys.databases WHERE [name]=N'MetopeAzureDb'
2018-04-07 12:51:06.5503|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: IF db_id(N'MetopeAzureDb') IS NOT NULL SELECT 1 ELSE SELECT Count(*) FROM sys.databases WHERE [name]=N'MetopeAzureDb'
2018-04-07 16:03:49.7836|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: select cast(serverproperty('EngineEdition') as int)
2018-04-07 16:03:49.8467|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: select cast(serverproperty('EngineEdition') as int)
2018-04-07 16:03:50.2585|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: IF db_id(N'MetopeAzureDb') IS NOT NULL SELECT 1 ELSE SELECT Count(*) FROM sys.databases WHERE [name]=N'MetopeAzureDb'
2018-04-07 16:03:50.3585|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: IF db_id(N'MetopeAzureDb') IS NOT NULL SELECT 1 ELSE SELECT Count(*) FROM sys.databases WHERE [name]=N'MetopeAzureDb'
2018-04-07 16:03:50.3891|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: IF db_id(N'MetopeAzureDb') IS NOT NULL SELECT 1 ELSE SELECT Count(*) FROM sys.databases WHERE [name]=N'MetopeAzureDb'
2018-04-07 16:03:50.4091|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: IF db_id(N'MetopeAzureDb') IS NOT NULL SELECT 1 ELSE SELECT Count(*) FROM sys.databases WHERE [name]=N'MetopeAzureDb'
2018-04-07 16:03:50.5937|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: IF db_id(N'MetopeAzureDb') IS NOT NULL SELECT 1 ELSE SELECT Count(*) FROM sys.databases WHERE [name]=N'MetopeAzureDb'
2018-04-07 16:03:50.6077|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: IF db_id(N'MetopeAzureDb') IS NOT NULL SELECT 1 ELSE SELECT Count(*) FROM sys.databases WHERE [name]=N'MetopeAzureDb'
2018-04-07 16:03:50.6277|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: 
SELECT Count(*)
FROM INFORMATION_SCHEMA.TABLES AS t
WHERE t.TABLE_SCHEMA + '.' + t.TABLE_NAME IN ('dbo.AspNetRoles','dbo.AspNetUserRoles','dbo.AspNetUsers','dbo.AspNetUserClaims','dbo.AspNetUserLogins')
    OR t.TABLE_NAME = 'EdmMetadata'
2018-04-07 16:03:50.7003|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: 
SELECT Count(*)
FROM INFORMATION_SCHEMA.TABLES AS t
WHERE t.TABLE_SCHEMA + '.' + t.TABLE_NAME IN ('dbo.AspNetRoles','dbo.AspNetUserRoles','dbo.AspNetUsers','dbo.AspNetUserClaims','dbo.AspNetUserLogins')
    OR t.TABLE_NAME = 'EdmMetadata'
2018-04-07 16:03:51.1691|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: SELECT 
    [GroupBy1].[A1] AS [C1]
    FROM ( SELECT 
        COUNT(1) AS [A1]
        FROM [dbo].[__MigrationHistory] AS [Extent1]
        WHERE [Extent1].[ContextKey] = @p__linq__0
    )  AS [GroupBy1]
2018-04-07 16:03:51.1896|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: SELECT 
    [GroupBy1].[A1] AS [C1]
    FROM ( SELECT 
        COUNT(1) AS [A1]
        FROM [dbo].[__MigrationHistory] AS [Extent1]
        WHERE [Extent1].[ContextKey] = @p__linq__0
    )  AS [GroupBy1]
2018-04-07 16:03:51.2432|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: SELECT TOP (1) 
    [Project1].[C1] AS [C1], 
    [Project1].[MigrationId] AS [MigrationId], 
    [Project1].[Model] AS [Model], 
    [Project1].[ProductVersion] AS [ProductVersion]
    FROM ( SELECT 
        [Extent1].[MigrationId] AS [MigrationId], 
        [Extent1].[Model] AS [Model], 
        [Extent1].[ProductVersion] AS [ProductVersion], 
        1 AS [C1]
        FROM [dbo].[__MigrationHistory] AS [Extent1]
        WHERE [Extent1].[ContextKey] = @p__linq__0
    )  AS [Project1]
    ORDER BY [Project1].[MigrationId] DESC
2018-04-07 16:03:51.2622|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: SELECT TOP (1) 
    [Project1].[C1] AS [C1], 
    [Project1].[MigrationId] AS [MigrationId], 
    [Project1].[Model] AS [Model], 
    [Project1].[ProductVersion] AS [ProductVersion]
    FROM ( SELECT 
        [Extent1].[MigrationId] AS [MigrationId], 
        [Extent1].[Model] AS [Model], 
        [Extent1].[ProductVersion] AS [ProductVersion], 
        1 AS [C1]
        FROM [dbo].[__MigrationHistory] AS [Extent1]
        WHERE [Extent1].[ContextKey] = @p__linq__0
    )  AS [Project1]
    ORDER BY [Project1].[MigrationId] DESC
2018-04-07 16:03:51.5744|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: True, Command Text: SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[EntityIdScope] AS [EntityIdScope], 
    [Extent1].[Email] AS [Email], 
    [Extent1].[EmailConfirmed] AS [EmailConfirmed], 
    [Extent1].[PasswordHash] AS [PasswordHash], 
    [Extent1].[SecurityStamp] AS [SecurityStamp], 
    [Extent1].[PhoneNumber] AS [PhoneNumber], 
    [Extent1].[PhoneNumberConfirmed] AS [PhoneNumberConfirmed], 
    [Extent1].[TwoFactorEnabled] AS [TwoFactorEnabled], 
    [Extent1].[LockoutEndDateUtc] AS [LockoutEndDateUtc], 
    [Extent1].[LockoutEnabled] AS [LockoutEnabled], 
    [Extent1].[AccessFailedCount] AS [AccessFailedCount], 
    [Extent1].[UserName] AS [UserName]
    FROM [dbo].[AspNetUsers] AS [Extent1]
    WHERE [Extent1].[Id] = @p0
2018-04-07 16:03:51.5744|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: True, Command Text: SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[EntityIdScope] AS [EntityIdScope], 
    [Extent1].[Email] AS [Email], 
    [Extent1].[EmailConfirmed] AS [EmailConfirmed], 
    [Extent1].[PasswordHash] AS [PasswordHash], 
    [Extent1].[SecurityStamp] AS [SecurityStamp], 
    [Extent1].[PhoneNumber] AS [PhoneNumber], 
    [Extent1].[PhoneNumberConfirmed] AS [PhoneNumberConfirmed], 
    [Extent1].[TwoFactorEnabled] AS [TwoFactorEnabled], 
    [Extent1].[LockoutEndDateUtc] AS [LockoutEndDateUtc], 
    [Extent1].[LockoutEnabled] AS [LockoutEnabled], 
    [Extent1].[AccessFailedCount] AS [AccessFailedCount], 
    [Extent1].[UserName] AS [UserName]
    FROM [dbo].[AspNetUsers] AS [Extent1]
    WHERE [Extent1].[Id] = @p0
2018-04-07 16:03:51.6014|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: True, Command Text: SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[EntityIdScope] AS [EntityIdScope], 
    [Extent1].[Email] AS [Email], 
    [Extent1].[EmailConfirmed] AS [EmailConfirmed], 
    [Extent1].[PasswordHash] AS [PasswordHash], 
    [Extent1].[SecurityStamp] AS [SecurityStamp], 
    [Extent1].[PhoneNumber] AS [PhoneNumber], 
    [Extent1].[PhoneNumberConfirmed] AS [PhoneNumberConfirmed], 
    [Extent1].[TwoFactorEnabled] AS [TwoFactorEnabled], 
    [Extent1].[LockoutEndDateUtc] AS [LockoutEndDateUtc], 
    [Extent1].[LockoutEnabled] AS [LockoutEnabled], 
    [Extent1].[AccessFailedCount] AS [AccessFailedCount], 
    [Extent1].[UserName] AS [UserName]
    FROM [dbo].[AspNetUsers] AS [Extent1]
    WHERE [Extent1].[Id] = @p0
2018-04-07 16:03:51.6054|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: True, Command Text: SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[EntityIdScope] AS [EntityIdScope], 
    [Extent1].[Email] AS [Email], 
    [Extent1].[EmailConfirmed] AS [EmailConfirmed], 
    [Extent1].[PasswordHash] AS [PasswordHash], 
    [Extent1].[SecurityStamp] AS [SecurityStamp], 
    [Extent1].[PhoneNumber] AS [PhoneNumber], 
    [Extent1].[PhoneNumberConfirmed] AS [PhoneNumberConfirmed], 
    [Extent1].[TwoFactorEnabled] AS [TwoFactorEnabled], 
    [Extent1].[LockoutEndDateUtc] AS [LockoutEndDateUtc], 
    [Extent1].[LockoutEnabled] AS [LockoutEnabled], 
    [Extent1].[AccessFailedCount] AS [AccessFailedCount], 
    [Extent1].[UserName] AS [UserName]
    FROM [dbo].[AspNetUsers] AS [Extent1]
    WHERE [Extent1].[Id] = @p0
2018-04-07 16:03:51.7260|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: True, Command Text: SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[UserId] AS [UserId], 
    [Extent1].[ClaimType] AS [ClaimType], 
    [Extent1].[ClaimValue] AS [ClaimValue]
    FROM [dbo].[AspNetUserClaims] AS [Extent1]
    WHERE [Extent1].[UserId] = @p__linq__0
2018-04-07 16:03:51.7260|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: True, Command Text: SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[UserId] AS [UserId], 
    [Extent1].[ClaimType] AS [ClaimType], 
    [Extent1].[ClaimValue] AS [ClaimValue]
    FROM [dbo].[AspNetUserClaims] AS [Extent1]
    WHERE [Extent1].[UserId] = @p__linq__0
2018-04-07 16:03:51.7465|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: True, Command Text: SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[UserId] AS [UserId], 
    [Extent1].[ClaimType] AS [ClaimType], 
    [Extent1].[ClaimValue] AS [ClaimValue]
    FROM [dbo].[AspNetUserClaims] AS [Extent1]
    WHERE [Extent1].[UserId] = @p__linq__0
2018-04-07 16:03:51.7465|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: True, Command Text: SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[UserId] AS [UserId], 
    [Extent1].[ClaimType] AS [ClaimType], 
    [Extent1].[ClaimValue] AS [ClaimValue]
    FROM [dbo].[AspNetUserClaims] AS [Extent1]
    WHERE [Extent1].[UserId] = @p__linq__0
2018-04-07 16:03:51.8261|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: True, Command Text: SELECT 
    [Extent1].[LoginProvider] AS [LoginProvider], 
    [Extent1].[ProviderKey] AS [ProviderKey], 
    [Extent1].[UserId] AS [UserId]
    FROM [dbo].[AspNetUserLogins] AS [Extent1]
    WHERE [Extent1].[UserId] = @p__linq__0
2018-04-07 16:03:51.8261|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: True, Command Text: SELECT 
    [Extent1].[LoginProvider] AS [LoginProvider], 
    [Extent1].[ProviderKey] AS [ProviderKey], 
    [Extent1].[UserId] AS [UserId]
    FROM [dbo].[AspNetUserLogins] AS [Extent1]
    WHERE [Extent1].[UserId] = @p__linq__0
2018-04-07 16:03:51.8501|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: True, Command Text: SELECT 
    [Extent1].[LoginProvider] AS [LoginProvider], 
    [Extent1].[ProviderKey] AS [ProviderKey], 
    [Extent1].[UserId] AS [UserId]
    FROM [dbo].[AspNetUserLogins] AS [Extent1]
    WHERE [Extent1].[UserId] = @p__linq__0
2018-04-07 16:03:51.8566|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: True, Command Text: SELECT 
    [Extent1].[LoginProvider] AS [LoginProvider], 
    [Extent1].[ProviderKey] AS [ProviderKey], 
    [Extent1].[UserId] AS [UserId]
    FROM [dbo].[AspNetUserLogins] AS [Extent1]
    WHERE [Extent1].[UserId] = @p__linq__0
2018-04-07 16:03:51.9236|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: True, Command Text: SELECT 
    [Extent1].[UserId] AS [UserId], 
    [Extent1].[RoleId] AS [RoleId]
    FROM [dbo].[AspNetUserRoles] AS [Extent1]
    WHERE [Extent1].[UserId] = @p__linq__0
2018-04-07 16:03:51.9236|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: True, Command Text: SELECT 
    [Extent1].[UserId] AS [UserId], 
    [Extent1].[RoleId] AS [RoleId]
    FROM [dbo].[AspNetUserRoles] AS [Extent1]
    WHERE [Extent1].[UserId] = @p__linq__0
2018-04-07 16:03:51.9432|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: True, Command Text: SELECT 
    [Extent1].[UserId] AS [UserId], 
    [Extent1].[RoleId] AS [RoleId]
    FROM [dbo].[AspNetUserRoles] AS [Extent1]
    WHERE [Extent1].[UserId] = @p__linq__0
2018-04-07 16:03:51.9507|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: True, Command Text: SELECT 
    [Extent1].[UserId] AS [UserId], 
    [Extent1].[RoleId] AS [RoleId]
    FROM [dbo].[AspNetUserRoles] AS [Extent1]
    WHERE [Extent1].[UserId] = @p__linq__0
2018-04-07 16:03:53.0089|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: SELECT 
    [Project1].[Decimal_Precision] AS [Decimal_Precision], 
    [Project1].[Security_ID] AS [Security_ID], 
    [Project1].[Portfolio_Code] AS [Portfolio_Code], 
    [Project1].[Entity_ID] AS [Entity_ID], 
    [Project1].[ModDietz_Performance_Quarterly] AS [ModDietz_Performance_Quarterly], 
    [Project1].[ModDietz_Performance_Monthly] AS [ModDietz_Performance_Monthly], 
    [Project1].[ModDietz_Performance_MonthToDate] AS [ModDietz_Performance_MonthToDate], 
    [Project1].[Dietz_Performance_Quarterly] AS [Dietz_Performance_Quarterly], 
    [Project1].[Dietz_Performance_Monthly] AS [Dietz_Performance_Monthly], 
    [Project1].[Dietz_Performance_MonthToDate] AS [Dietz_Performance_MonthToDate], 
    [Project1].[Last_Update_Date] AS [Last_Update_Date], 
    [Project1].[Last_Update_User] AS [Last_Update_User], 
    [Project1].[Record_Date] AS [Record_Date], 
    [Project1].[Session_ID] AS [Session_ID], 
    [Project1].[Hist_Last_Update_Date] AS [Hist_Last_Update_Date], 
    [Project1].[Hist_Last_Update_User] AS [Hist_Last_Update_User], 
    [Project1].[Security_ID1] AS [Security_ID1], 
    [Project1].[Entity_ID1] AS [Entity_ID1], 
    [Project1].[Security_Name] AS [Security_Name], 
    [Project1].[Short_Name] AS [Short_Name], 
    [Project1].[Primary_Exch] AS [Primary_Exch], 
    [Project1].[Secondary_Exch] AS [Secondary_Exch], 
    [Project1].[Country_Of_Domicile] AS [Country_Of_Domicile], 
    [Project1].[Country_Of_Risk] AS [Country_Of_Risk], 
    [Project1].[Security_Type_Code] AS [Security_Type_Code], 
    [Project1].[Price_Multiplier] AS [Price_Multiplier], 
    [Project1].[Income_Frequency] AS [Income_Frequency], 
    [Project1].[Issuer_Code] AS [Issuer_Code], 
    [Project1].[Ultimate_Issuer_Code] AS [Ultimate_Issuer_Code], 
    [Project1].[Asset_Currency] AS [Asset_Currency], 
    [Project1].[Min_Lot_Size] AS [Min_Lot_Size], 
    [Project1].[AvePrice_Rounding] AS [AvePrice_Rounding], 
    [Project1].[Issue_Date] AS [Issue_Date], 
    [Project1].[Maturity_Date] AS [Maturity_Date], 
    [Project1].[Coupon_Rate] AS [Coupon_Rate], 
    [Project1].[Price_Exchange] AS [Price_Exchange], 
    [Project1].[Trade_Currency] AS [Trade_Currency], 
    [Project1].[Price_Curr] AS [Price_Curr], 
    [Project1].[Currency_Pair_Code] AS [Currency_Pair_Code], 
    [Project1].[Share_Class] AS [Share_Class], 
    [Project1].[Current_Market_Price] AS [Current_Market_Price], 
    [Project1].[Index_Type] AS [Index_Type], 
    [Project1].[Clean_Price_Formula] AS [Clean_Price_Formula], 
    [Project1].[Accrued_Income_Price_Formula] AS [Accrued_Income_Price_Formula], 
    [Project1].[Odd_First_Coupon_Date] AS [Odd_First_Coupon_Date], 
    [Project1].[Odd_Last_Coupon_Date] AS [Odd_Last_Coupon_Date], 
    [Project1].[Coupon_Anniversary_Indicator] AS [Coupon_Anniversary_Indicator], 
    [Project1].[Track_EOM_Flag] AS [Track_EOM_Flag], 
    [Project1].[Next_Coupon_Date] AS [Next_Coupon_Date], 
    [Project1].[Previous_Coupon_Date] AS [Previous_Coupon_Date], 
    [Project1].[Payment_Frequency] AS [Payment_Frequency], 
    [Project1].[Coupon_BusDay_Adjustment] AS [Coupon_BusDay_Adjustment], 
    [Project1].[Next_Ex_Div_Date] AS [Next_Ex_Div_Date], 
    [Project1].[Ex_Div_BusDay_Adjustment] AS [Ex_Div_BusDay_Adjustment], 
    [Project1].[Ex_Div_Period] AS [Ex_Div_Period], 
    [Project1].[Ticker] AS [Ticker], 
    [Project1].[Inet_ID] AS [Inet_ID], 
    [Project1].[Bloomberg_ID] AS [Bloomberg_ID], 
    [Project1].[External_Sec_ID] AS [External_Sec_ID], 
    [Project1].[Reuters_ID] AS [Reuters_ID], 
    [Project1].[ISIN] AS [ISIN], 
    [Project1].[Call_Account_Flag] AS [Call_Account_Flag], 
    [Project1].[System_Locked] AS [System_Locked], 
    [Project1].[Last_Update_User1] AS [Last_Update_User1], 
    [Project1].[Last_Update_Date1] AS [Last_Update_Date1], 
    [Project1].[Security_Status] AS [Security_Status], 
    [Project1].[Benchmark_Portfolio] AS [Benchmark_Portfolio], 
    [Project1].[Active_flag] AS [Active_flag], 
    [Project1].[Dividend_FX_Security_ID] AS [Dividend_FX_Security_ID]
    FROM ( SELECT 
        [Extent1].[Security_ID] AS [Security_ID], 
        [Extent1].[Portfolio_Code] AS [Portfolio_Code], 
        [Extent1].[Entity_ID] AS [Entity_ID], 
        [Extent1].[ModDietz_Performance_Quarterly] AS [ModDietz_Performance_Quarterly], 
        [Extent1].[ModDietz_Performance_Monthly] AS [ModDietz_Performance_Monthly], 
        [Extent1].[ModDietz_Performance_MonthToDate] AS [ModDietz_Performance_MonthToDate], 
        [Extent1].[Dietz_Performance_Quarterly] AS [Dietz_Performance_Quarterly], 
        [Extent1].[Dietz_Performance_Monthly] AS [Dietz_Performance_Monthly], 
        [Extent1].[Dietz_Performance_MonthToDate] AS [Dietz_Performance_MonthToDate], 
        [Extent1].[Last_Update_Date] AS [Last_Update_Date], 
        [Extent1].[Last_Update_User] AS [Last_Update_User], 
        [Extent1].[Record_Date] AS [Record_Date], 
        [Extent1].[Session_ID] AS [Session_ID], 
        [Extent1].[Hist_Last_Update_Date] AS [Hist_Last_Update_Date], 
        [Extent1].[Hist_Last_Update_User] AS [Hist_Last_Update_User], 
        [Extent2].[Security_ID] AS [Security_ID1], 
        [Extent2].[Entity_ID] AS [Entity_ID1], 
        [Extent2].[Security_Name] AS [Security_Name], 
        [Extent2].[Short_Name] AS [Short_Name], 
        [Extent2].[Primary_Exch] AS [Primary_Exch], 
        [Extent2].[Secondary_Exch] AS [Secondary_Exch], 
        [Extent2].[Country_Of_Domicile] AS [Country_Of_Domicile], 
        [Extent2].[Country_Of_Risk] AS [Country_Of_Risk], 
        [Extent2].[Security_Type_Code] AS [Security_Type_Code], 
        [Extent2].[Price_Multiplier] AS [Price_Multiplier], 
        [Extent2].[Income_Frequency] AS [Income_Frequency], 
        [Extent2].[Issuer_Code] AS [Issuer_Code], 
        [Extent2].[Ultimate_Issuer_Code] AS [Ultimate_Issuer_Code], 
        [Extent2].[Asset_Currency] AS [Asset_Currency], 
        [Extent2].[Min_Lot_Size] AS [Min_Lot_Size], 
        [Extent2].[Decimal_Precision] AS [Decimal_Precision], 
        [Extent2].[AvePrice_Rounding] AS [AvePrice_Rounding], 
        [Extent2].[Issue_Date] AS [Issue_Date], 
        [Extent2].[Maturity_Date] AS [Maturity_Date], 
        [Extent2].[Coupon_Rate] AS [Coupon_Rate], 
        [Extent2].[Price_Exchange] AS [Price_Exchange], 
        [Extent2].[Trade_Currency] AS [Trade_Currency], 
        [Extent2].[Price_Curr] AS [Price_Curr], 
        [Extent2].[Currency_Pair_Code] AS [Currency_Pair_Code], 
        [Extent2].[Share_Class] AS [Share_Class], 
        [Extent2].[Current_Market_Price] AS [Current_Market_Price], 
        [Extent2].[Index_Type] AS [Index_Type], 
        [Extent2].[Clean_Price_Formula] AS [Clean_Price_Formula], 
        [Extent2].[Accrued_Income_Price_Formula] AS [Accrued_Income_Price_Formula], 
        [Extent2].[Odd_First_Coupon_Date] AS [Odd_First_Coupon_Date], 
        [Extent2].[Odd_Last_Coupon_Date] AS [Odd_Last_Coupon_Date], 
        [Extent2].[Coupon_Anniversary_Indicator] AS [Coupon_Anniversary_Indicator], 
        [Extent2].[Track_EOM_Flag] AS [Track_EOM_Flag], 
        [Extent2].[Next_Coupon_Date] AS [Next_Coupon_Date], 
        [Extent2].[Previous_Coupon_Date] AS [Previous_Coupon_Date], 
        [Extent2].[Payment_Frequency] AS [Payment_Frequency], 
        [Extent2].[Coupon_BusDay_Adjustment] AS [Coupon_BusDay_Adjustment], 
        [Extent2].[Next_Ex_Div_Date] AS [Next_Ex_Div_Date], 
        [Extent2].[Ex_Div_BusDay_Adjustment] AS [Ex_Div_BusDay_Adjustment], 
        [Extent2].[Ex_Div_Period] AS [Ex_Div_Period], 
        [Extent2].[Ticker] AS [Ticker], 
        [Extent2].[Inet_ID] AS [Inet_ID], 
        [Extent2].[Bloomberg_ID] AS [Bloomberg_ID], 
        [Extent2].[External_Sec_ID] AS [External_Sec_ID], 
        [Extent2].[Reuters_ID] AS [Reuters_ID], 
        [Extent2].[ISIN] AS [ISIN], 
        [Extent2].[Call_Account_Flag] AS [Call_Account_Flag], 
        [Extent2].[System_Locked] AS [System_Locked], 
        [Extent2].[Last_Update_User] AS [Last_Update_User1], 
        [Extent2].[Last_Update_Date] AS [Last_Update_Date1], 
        [Extent2].[Security_Status] AS [Security_Status], 
        [Extent2].[Benchmark_Portfolio] AS [Benchmark_Portfolio], 
        [Extent2].[Active_flag] AS [Active_flag], 
        [Extent2].[Dividend_FX_Security_ID] AS [Dividend_FX_Security_ID]
        FROM  [dbo].[Security_Performance_History] AS [Extent1]
        INNER JOIN [dbo].[Security_Detail] AS [Extent2] ON [Extent1].[Security_ID] = [Extent2].[Security_ID]
        WHERE ([Extent1].[Security_ID] = @p__linq__0) AND ([Extent1].[Portfolio_Code] = @p__linq__1)
    )  AS [Project1]
    ORDER BY [Project1].[Record_Date] DESC
2018-04-07 16:03:53.2881|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: SELECT 
    [Project1].[Decimal_Precision] AS [Decimal_Precision], 
    [Project1].[Security_ID] AS [Security_ID], 
    [Project1].[Portfolio_Code] AS [Portfolio_Code], 
    [Project1].[Entity_ID] AS [Entity_ID], 
    [Project1].[ModDietz_Performance_Quarterly] AS [ModDietz_Performance_Quarterly], 
    [Project1].[ModDietz_Performance_Monthly] AS [ModDietz_Performance_Monthly], 
    [Project1].[ModDietz_Performance_MonthToDate] AS [ModDietz_Performance_MonthToDate], 
    [Project1].[Dietz_Performance_Quarterly] AS [Dietz_Performance_Quarterly], 
    [Project1].[Dietz_Performance_Monthly] AS [Dietz_Performance_Monthly], 
    [Project1].[Dietz_Performance_MonthToDate] AS [Dietz_Performance_MonthToDate], 
    [Project1].[Last_Update_Date] AS [Last_Update_Date], 
    [Project1].[Last_Update_User] AS [Last_Update_User], 
    [Project1].[Record_Date] AS [Record_Date], 
    [Project1].[Session_ID] AS [Session_ID], 
    [Project1].[Hist_Last_Update_Date] AS [Hist_Last_Update_Date], 
    [Project1].[Hist_Last_Update_User] AS [Hist_Last_Update_User], 
    [Project1].[Security_ID1] AS [Security_ID1], 
    [Project1].[Entity_ID1] AS [Entity_ID1], 
    [Project1].[Security_Name] AS [Security_Name], 
    [Project1].[Short_Name] AS [Short_Name], 
    [Project1].[Primary_Exch] AS [Primary_Exch], 
    [Project1].[Secondary_Exch] AS [Secondary_Exch], 
    [Project1].[Country_Of_Domicile] AS [Country_Of_Domicile], 
    [Project1].[Country_Of_Risk] AS [Country_Of_Risk], 
    [Project1].[Security_Type_Code] AS [Security_Type_Code], 
    [Project1].[Price_Multiplier] AS [Price_Multiplier], 
    [Project1].[Income_Frequency] AS [Income_Frequency], 
    [Project1].[Issuer_Code] AS [Issuer_Code], 
    [Project1].[Ultimate_Issuer_Code] AS [Ultimate_Issuer_Code], 
    [Project1].[Asset_Currency] AS [Asset_Currency], 
    [Project1].[Min_Lot_Size] AS [Min_Lot_Size], 
    [Project1].[AvePrice_Rounding] AS [AvePrice_Rounding], 
    [Project1].[Issue_Date] AS [Issue_Date], 
    [Project1].[Maturity_Date] AS [Maturity_Date], 
    [Project1].[Coupon_Rate] AS [Coupon_Rate], 
    [Project1].[Price_Exchange] AS [Price_Exchange], 
    [Project1].[Trade_Currency] AS [Trade_Currency], 
    [Project1].[Price_Curr] AS [Price_Curr], 
    [Project1].[Currency_Pair_Code] AS [Currency_Pair_Code], 
    [Project1].[Share_Class] AS [Share_Class], 
    [Project1].[Current_Market_Price] AS [Current_Market_Price], 
    [Project1].[Index_Type] AS [Index_Type], 
    [Project1].[Clean_Price_Formula] AS [Clean_Price_Formula], 
    [Project1].[Accrued_Income_Price_Formula] AS [Accrued_Income_Price_Formula], 
    [Project1].[Odd_First_Coupon_Date] AS [Odd_First_Coupon_Date], 
    [Project1].[Odd_Last_Coupon_Date] AS [Odd_Last_Coupon_Date], 
    [Project1].[Coupon_Anniversary_Indicator] AS [Coupon_Anniversary_Indicator], 
    [Project1].[Track_EOM_Flag] AS [Track_EOM_Flag], 
    [Project1].[Next_Coupon_Date] AS [Next_Coupon_Date], 
    [Project1].[Previous_Coupon_Date] AS [Previous_Coupon_Date], 
    [Project1].[Payment_Frequency] AS [Payment_Frequency], 
    [Project1].[Coupon_BusDay_Adjustment] AS [Coupon_BusDay_Adjustment], 
    [Project1].[Next_Ex_Div_Date] AS [Next_Ex_Div_Date], 
    [Project1].[Ex_Div_BusDay_Adjustment] AS [Ex_Div_BusDay_Adjustment], 
    [Project1].[Ex_Div_Period] AS [Ex_Div_Period], 
    [Project1].[Ticker] AS [Ticker], 
    [Project1].[Inet_ID] AS [Inet_ID], 
    [Project1].[Bloomberg_ID] AS [Bloomberg_ID], 
    [Project1].[External_Sec_ID] AS [External_Sec_ID], 
    [Project1].[Reuters_ID] AS [Reuters_ID], 
    [Project1].[ISIN] AS [ISIN], 
    [Project1].[Call_Account_Flag] AS [Call_Account_Flag], 
    [Project1].[System_Locked] AS [System_Locked], 
    [Project1].[Last_Update_User1] AS [Last_Update_User1], 
    [Project1].[Last_Update_Date1] AS [Last_Update_Date1], 
    [Project1].[Security_Status] AS [Security_Status], 
    [Project1].[Benchmark_Portfolio] AS [Benchmark_Portfolio], 
    [Project1].[Active_flag] AS [Active_flag], 
    [Project1].[Dividend_FX_Security_ID] AS [Dividend_FX_Security_ID]
    FROM ( SELECT 
        [Extent1].[Security_ID] AS [Security_ID], 
        [Extent1].[Portfolio_Code] AS [Portfolio_Code], 
        [Extent1].[Entity_ID] AS [Entity_ID], 
        [Extent1].[ModDietz_Performance_Quarterly] AS [ModDietz_Performance_Quarterly], 
        [Extent1].[ModDietz_Performance_Monthly] AS [ModDietz_Performance_Monthly], 
        [Extent1].[ModDietz_Performance_MonthToDate] AS [ModDietz_Performance_MonthToDate], 
        [Extent1].[Dietz_Performance_Quarterly] AS [Dietz_Performance_Quarterly], 
        [Extent1].[Dietz_Performance_Monthly] AS [Dietz_Performance_Monthly], 
        [Extent1].[Dietz_Performance_MonthToDate] AS [Dietz_Performance_MonthToDate], 
        [Extent1].[Last_Update_Date] AS [Last_Update_Date], 
        [Extent1].[Last_Update_User] AS [Last_Update_User], 
        [Extent1].[Record_Date] AS [Record_Date], 
        [Extent1].[Session_ID] AS [Session_ID], 
        [Extent1].[Hist_Last_Update_Date] AS [Hist_Last_Update_Date], 
        [Extent1].[Hist_Last_Update_User] AS [Hist_Last_Update_User], 
        [Extent2].[Security_ID] AS [Security_ID1], 
        [Extent2].[Entity_ID] AS [Entity_ID1], 
        [Extent2].[Security_Name] AS [Security_Name], 
        [Extent2].[Short_Name] AS [Short_Name], 
        [Extent2].[Primary_Exch] AS [Primary_Exch], 
        [Extent2].[Secondary_Exch] AS [Secondary_Exch], 
        [Extent2].[Country_Of_Domicile] AS [Country_Of_Domicile], 
        [Extent2].[Country_Of_Risk] AS [Country_Of_Risk], 
        [Extent2].[Security_Type_Code] AS [Security_Type_Code], 
        [Extent2].[Price_Multiplier] AS [Price_Multiplier], 
        [Extent2].[Income_Frequency] AS [Income_Frequency], 
        [Extent2].[Issuer_Code] AS [Issuer_Code], 
        [Extent2].[Ultimate_Issuer_Code] AS [Ultimate_Issuer_Code], 
        [Extent2].[Asset_Currency] AS [Asset_Currency], 
        [Extent2].[Min_Lot_Size] AS [Min_Lot_Size], 
        [Extent2].[Decimal_Precision] AS [Decimal_Precision], 
        [Extent2].[AvePrice_Rounding] AS [AvePrice_Rounding], 
        [Extent2].[Issue_Date] AS [Issue_Date], 
        [Extent2].[Maturity_Date] AS [Maturity_Date], 
        [Extent2].[Coupon_Rate] AS [Coupon_Rate], 
        [Extent2].[Price_Exchange] AS [Price_Exchange], 
        [Extent2].[Trade_Currency] AS [Trade_Currency], 
        [Extent2].[Price_Curr] AS [Price_Curr], 
        [Extent2].[Currency_Pair_Code] AS [Currency_Pair_Code], 
        [Extent2].[Share_Class] AS [Share_Class], 
        [Extent2].[Current_Market_Price] AS [Current_Market_Price], 
        [Extent2].[Index_Type] AS [Index_Type], 
        [Extent2].[Clean_Price_Formula] AS [Clean_Price_Formula], 
        [Extent2].[Accrued_Income_Price_Formula] AS [Accrued_Income_Price_Formula], 
        [Extent2].[Odd_First_Coupon_Date] AS [Odd_First_Coupon_Date], 
        [Extent2].[Odd_Last_Coupon_Date] AS [Odd_Last_Coupon_Date], 
        [Extent2].[Coupon_Anniversary_Indicator] AS [Coupon_Anniversary_Indicator], 
        [Extent2].[Track_EOM_Flag] AS [Track_EOM_Flag], 
        [Extent2].[Next_Coupon_Date] AS [Next_Coupon_Date], 
        [Extent2].[Previous_Coupon_Date] AS [Previous_Coupon_Date], 
        [Extent2].[Payment_Frequency] AS [Payment_Frequency], 
        [Extent2].[Coupon_BusDay_Adjustment] AS [Coupon_BusDay_Adjustment], 
        [Extent2].[Next_Ex_Div_Date] AS [Next_Ex_Div_Date], 
        [Extent2].[Ex_Div_BusDay_Adjustment] AS [Ex_Div_BusDay_Adjustment], 
        [Extent2].[Ex_Div_Period] AS [Ex_Div_Period], 
        [Extent2].[Ticker] AS [Ticker], 
        [Extent2].[Inet_ID] AS [Inet_ID], 
        [Extent2].[Bloomberg_ID] AS [Bloomberg_ID], 
        [Extent2].[External_Sec_ID] AS [External_Sec_ID], 
        [Extent2].[Reuters_ID] AS [Reuters_ID], 
        [Extent2].[ISIN] AS [ISIN], 
        [Extent2].[Call_Account_Flag] AS [Call_Account_Flag], 
        [Extent2].[System_Locked] AS [System_Locked], 
        [Extent2].[Last_Update_User] AS [Last_Update_User1], 
        [Extent2].[Last_Update_Date] AS [Last_Update_Date1], 
        [Extent2].[Security_Status] AS [Security_Status], 
        [Extent2].[Benchmark_Portfolio] AS [Benchmark_Portfolio], 
        [Extent2].[Active_flag] AS [Active_flag], 
        [Extent2].[Dividend_FX_Security_ID] AS [Dividend_FX_Security_ID]
        FROM  [dbo].[Security_Performance_History] AS [Extent1]
        INNER JOIN [dbo].[Security_Detail] AS [Extent2] ON [Extent1].[Security_ID] = [Extent2].[Security_ID]
        WHERE ([Extent1].[Security_ID] = @p__linq__0) AND ([Extent1].[Portfolio_Code] = @p__linq__1)
    )  AS [Project1]
    ORDER BY [Project1].[Record_Date] DESC
2018-04-07 16:03:55.8644|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: SELECT 
    [Extent1].[Security_ID] AS [Security_ID], 
    [Extent1].[Entity_ID] AS [Entity_ID], 
    [Extent1].[Security_Name] AS [Security_Name], 
    [Extent1].[Short_Name] AS [Short_Name], 
    [Extent1].[Primary_Exch] AS [Primary_Exch], 
    [Extent1].[Secondary_Exch] AS [Secondary_Exch], 
    [Extent1].[Country_Of_Domicile] AS [Country_Of_Domicile], 
    [Extent1].[Country_Of_Risk] AS [Country_Of_Risk], 
    [Extent1].[Security_Type_Code] AS [Security_Type_Code], 
    [Extent1].[Price_Multiplier] AS [Price_Multiplier], 
    [Extent1].[Income_Frequency] AS [Income_Frequency], 
    [Extent1].[Issuer_Code] AS [Issuer_Code], 
    [Extent1].[Ultimate_Issuer_Code] AS [Ultimate_Issuer_Code], 
    [Extent1].[Asset_Currency] AS [Asset_Currency], 
    [Extent1].[Min_Lot_Size] AS [Min_Lot_Size], 
    [Extent1].[Decimal_Precision] AS [Decimal_Precision], 
    [Extent1].[AvePrice_Rounding] AS [AvePrice_Rounding], 
    [Extent1].[Issue_Date] AS [Issue_Date], 
    [Extent1].[Maturity_Date] AS [Maturity_Date], 
    [Extent1].[Coupon_Rate] AS [Coupon_Rate], 
    [Extent1].[Price_Exchange] AS [Price_Exchange], 
    [Extent1].[Trade_Currency] AS [Trade_Currency], 
    [Extent1].[Price_Curr] AS [Price_Curr], 
    [Extent1].[Currency_Pair_Code] AS [Currency_Pair_Code], 
    [Extent1].[Share_Class] AS [Share_Class], 
    [Extent1].[Current_Market_Price] AS [Current_Market_Price], 
    [Extent1].[Index_Type] AS [Index_Type], 
    [Extent1].[Clean_Price_Formula] AS [Clean_Price_Formula], 
    [Extent1].[Accrued_Income_Price_Formula] AS [Accrued_Income_Price_Formula], 
    [Extent1].[Odd_First_Coupon_Date] AS [Odd_First_Coupon_Date], 
    [Extent1].[Odd_Last_Coupon_Date] AS [Odd_Last_Coupon_Date], 
    [Extent1].[Coupon_Anniversary_Indicator] AS [Coupon_Anniversary_Indicator], 
    [Extent1].[Track_EOM_Flag] AS [Track_EOM_Flag], 
    [Extent1].[Next_Coupon_Date] AS [Next_Coupon_Date], 
    [Extent1].[Previous_Coupon_Date] AS [Previous_Coupon_Date], 
    [Extent1].[Payment_Frequency] AS [Payment_Frequency], 
    [Extent1].[Coupon_BusDay_Adjustment] AS [Coupon_BusDay_Adjustment], 
    [Extent1].[Next_Ex_Div_Date] AS [Next_Ex_Div_Date], 
    [Extent1].[Ex_Div_BusDay_Adjustment] AS [Ex_Div_BusDay_Adjustment], 
    [Extent1].[Ex_Div_Period] AS [Ex_Div_Period], 
    [Extent1].[Ticker] AS [Ticker], 
    [Extent1].[Inet_ID] AS [Inet_ID], 
    [Extent1].[Bloomberg_ID] AS [Bloomberg_ID], 
    [Extent1].[External_Sec_ID] AS [External_Sec_ID], 
    [Extent1].[Reuters_ID] AS [Reuters_ID], 
    [Extent1].[ISIN] AS [ISIN], 
    [Extent1].[Call_Account_Flag] AS [Call_Account_Flag], 
    [Extent1].[System_Locked] AS [System_Locked], 
    [Extent1].[Last_Update_User] AS [Last_Update_User], 
    [Extent1].[Last_Update_Date] AS [Last_Update_Date], 
    [Extent1].[Security_Status] AS [Security_Status], 
    [Extent1].[Benchmark_Portfolio] AS [Benchmark_Portfolio], 
    [Extent1].[Active_flag] AS [Active_flag], 
    [Extent1].[Dividend_FX_Security_ID] AS [Dividend_FX_Security_ID]
    FROM [dbo].[Security_Detail] AS [Extent1]
2018-04-07 16:03:55.9205|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: SELECT 
    [Extent1].[Security_ID] AS [Security_ID], 
    [Extent1].[Entity_ID] AS [Entity_ID], 
    [Extent1].[Security_Name] AS [Security_Name], 
    [Extent1].[Short_Name] AS [Short_Name], 
    [Extent1].[Primary_Exch] AS [Primary_Exch], 
    [Extent1].[Secondary_Exch] AS [Secondary_Exch], 
    [Extent1].[Country_Of_Domicile] AS [Country_Of_Domicile], 
    [Extent1].[Country_Of_Risk] AS [Country_Of_Risk], 
    [Extent1].[Security_Type_Code] AS [Security_Type_Code], 
    [Extent1].[Price_Multiplier] AS [Price_Multiplier], 
    [Extent1].[Income_Frequency] AS [Income_Frequency], 
    [Extent1].[Issuer_Code] AS [Issuer_Code], 
    [Extent1].[Ultimate_Issuer_Code] AS [Ultimate_Issuer_Code], 
    [Extent1].[Asset_Currency] AS [Asset_Currency], 
    [Extent1].[Min_Lot_Size] AS [Min_Lot_Size], 
    [Extent1].[Decimal_Precision] AS [Decimal_Precision], 
    [Extent1].[AvePrice_Rounding] AS [AvePrice_Rounding], 
    [Extent1].[Issue_Date] AS [Issue_Date], 
    [Extent1].[Maturity_Date] AS [Maturity_Date], 
    [Extent1].[Coupon_Rate] AS [Coupon_Rate], 
    [Extent1].[Price_Exchange] AS [Price_Exchange], 
    [Extent1].[Trade_Currency] AS [Trade_Currency], 
    [Extent1].[Price_Curr] AS [Price_Curr], 
    [Extent1].[Currency_Pair_Code] AS [Currency_Pair_Code], 
    [Extent1].[Share_Class] AS [Share_Class], 
    [Extent1].[Current_Market_Price] AS [Current_Market_Price], 
    [Extent1].[Index_Type] AS [Index_Type], 
    [Extent1].[Clean_Price_Formula] AS [Clean_Price_Formula], 
    [Extent1].[Accrued_Income_Price_Formula] AS [Accrued_Income_Price_Formula], 
    [Extent1].[Odd_First_Coupon_Date] AS [Odd_First_Coupon_Date], 
    [Extent1].[Odd_Last_Coupon_Date] AS [Odd_Last_Coupon_Date], 
    [Extent1].[Coupon_Anniversary_Indicator] AS [Coupon_Anniversary_Indicator], 
    [Extent1].[Track_EOM_Flag] AS [Track_EOM_Flag], 
    [Extent1].[Next_Coupon_Date] AS [Next_Coupon_Date], 
    [Extent1].[Previous_Coupon_Date] AS [Previous_Coupon_Date], 
    [Extent1].[Payment_Frequency] AS [Payment_Frequency], 
    [Extent1].[Coupon_BusDay_Adjustment] AS [Coupon_BusDay_Adjustment], 
    [Extent1].[Next_Ex_Div_Date] AS [Next_Ex_Div_Date], 
    [Extent1].[Ex_Div_BusDay_Adjustment] AS [Ex_Div_BusDay_Adjustment], 
    [Extent1].[Ex_Div_Period] AS [Ex_Div_Period], 
    [Extent1].[Ticker] AS [Ticker], 
    [Extent1].[Inet_ID] AS [Inet_ID], 
    [Extent1].[Bloomberg_ID] AS [Bloomberg_ID], 
    [Extent1].[External_Sec_ID] AS [External_Sec_ID], 
    [Extent1].[Reuters_ID] AS [Reuters_ID], 
    [Extent1].[ISIN] AS [ISIN], 
    [Extent1].[Call_Account_Flag] AS [Call_Account_Flag], 
    [Extent1].[System_Locked] AS [System_Locked], 
    [Extent1].[Last_Update_User] AS [Last_Update_User], 
    [Extent1].[Last_Update_Date] AS [Last_Update_Date], 
    [Extent1].[Security_Status] AS [Security_Status], 
    [Extent1].[Benchmark_Portfolio] AS [Benchmark_Portfolio], 
    [Extent1].[Active_flag] AS [Active_flag], 
    [Extent1].[Dividend_FX_Security_ID] AS [Dividend_FX_Security_ID]
    FROM [dbo].[Security_Detail] AS [Extent1]
2018-04-07 16:03:56.3403|ERROR|ASP.MetopeNspace.MvcApplication|Error caught in Application_Error event
, http://localhost:53133/SecurityPerformanceHistory/Create 
 Error in: There is no ViewData item of type 'IEnumerable<SelectListItem>' that has the key 'Portfolio_Code'., 
Stack Trace:   at System.Web.Mvc.Html.SelectExtensions.GetSelectData(HtmlHelper htmlHelper, String name)
   at System.Web.Mvc.Html.SelectExtensions.SelectInternal(HtmlHelper htmlHelper, ModelMetadata metadata, String optionLabel, String name, IEnumerable`1 selectList, Boolean allowMultiple, IDictionary`2 htmlAttributes)
   at System.Web.Mvc.Html.SelectExtensions.DropDownList(HtmlHelper htmlHelper, String name, IEnumerable`1 selectList, Object htmlAttributes)
   at ASP._Page_Views_SecurityPerformanceHistory_Create_cshtml.Execute() in c:\BlueStream\Development\Metope\WebSite\MetopeMVCApp\MetopeMVCApp\Views\SecurityPerformanceHistory\Create.cshtml:line 28
   at System.Web.WebPages.WebPageBase.ExecutePageHierarchy()
   at System.Web.Mvc.WebViewPage.ExecutePageHierarchy()
   at System.Web.WebPages.StartPage.RunPage()
   at System.Web.WebPages.StartPage.ExecutePageHierarchy()
   at System.Web.WebPages.WebPageBase.ExecutePageHierarchy(WebPageContext pageContext, TextWriter writer, WebPageRenderingBase startPage)
   at System.Web.Mvc.RazorView.RenderView(ViewContext viewContext, TextWriter writer, Object instance)
   at System.Web.Mvc.BuildManagerCompiledView.Render(ViewContext viewContext, TextWriter writer)
   at System.Web.Mvc.ViewResultBase.ExecuteResult(ControllerContext context)
   at System.Web.Mvc.ControllerActionInvoker.InvokeActionResult(ControllerContext controllerContext, ActionResult actionResult)
   at System.Web.Mvc.ControllerActionInvoker.InvokeActionResultFilterRecursive(IList`1 filters, Int32 filterIndex, ResultExecutingContext preContext, ControllerContext controllerContext, ActionResult actionResult)
   at System.Web.Mvc.ControllerActionInvoker.InvokeActionResultFilterRecursive(IList`1 filters, Int32 filterIndex, ResultExecutingContext preContext, ControllerContext controllerContext, ActionResult actionResult)
   at System.Web.Mvc.ControllerActionInvoker.InvokeActionResultFilterRecursive(IList`1 filters, Int32 filterIndex, ResultExecutingContext preContext, ControllerContext controllerContext, ActionResult actionResult)
   at System.Web.Mvc.ControllerActionInvoker.InvokeActionResultFilterRecursive(IList`1 filters, Int32 filterIndex, ResultExecutingContext preContext, ControllerContext controllerContext, ActionResult actionResult)
   at System.Web.Mvc.ControllerActionInvoker.InvokeActionResultWithFilters(ControllerContext controllerContext, IList`1 filters, ActionResult actionResult)
   at System.Web.Mvc.Async.AsyncControllerActionInvoker.<>c__DisplayClass21.<>c__DisplayClass2b.<BeginInvokeAction>b__1c()
   at System.Web.Mvc.Async.AsyncControllerActionInvoker.<>c__DisplayClass21.<BeginInvokeAction>b__1e(IAsyncResult asyncResult)
   at System.Web.Mvc.Async.AsyncResultWrapper.WrappedAsyncResult`1.CallEndDelegate(IAsyncResult asyncResult)
   at System.Web.Mvc.Async.AsyncResultWrapper.WrappedAsyncResultBase`1.End()
   at System.Web.Mvc.Async.AsyncControllerActionInvoker.EndInvokeAction(IAsyncResult asyncResult)
   at System.Web.Mvc.Controller.<BeginExecuteCore>b__1d(IAsyncResult asyncResult, ExecuteCoreState innerState)
   at System.Web.Mvc.Async.AsyncResultWrapper.WrappedAsyncVoid`1.CallEndDelegate(IAsyncResult asyncResult)
   at System.Web.Mvc.Async.AsyncResultWrapper.WrappedAsyncResultBase`1.End()
   at System.Web.Mvc.Controller.EndExecuteCore(IAsyncResult asyncResult)
   at System.Web.Mvc.Controller.<BeginExecute>b__15(IAsyncResult asyncResult, Controller controller)
   at System.Web.Mvc.Async.AsyncResultWrapper.WrappedAsyncVoid`1.CallEndDelegate(IAsyncResult asyncResult)
   at System.Web.Mvc.Async.AsyncResultWrapper.WrappedAsyncResultBase`1.End()
   at System.Web.Mvc.Controller.EndExecute(IAsyncResult asyncResult)
   at System.Web.Mvc.Controller.System.Web.Mvc.Async.IAsyncController.EndExecute(IAsyncResult asyncResult)
   at System.Web.Mvc.MvcHandler.<BeginProcessRequest>b__5(IAsyncResult asyncResult, ProcessRequestState innerState)
   at System.Web.Mvc.Async.AsyncResultWrapper.WrappedAsyncVoid`1.CallEndDelegate(IAsyncResult asyncResult)
   at System.Web.Mvc.Async.AsyncResultWrapper.WrappedAsyncResultBase`1.End()
   at System.Web.Mvc.MvcHandler.EndProcessRequest(IAsyncResult asyncResult)
   at System.Web.Mvc.MvcHandler.System.Web.IHttpAsyncHandler.EndProcessRequest(IAsyncResult result)
   at System.Web.HttpApplication.CallHandlerExecutionStep.System.Web.HttpApplication.IExecutionStep.Execute()
   at System.Web.HttpApplication.ExecuteStepImpl(IExecutionStep step)
   at System.Web.HttpApplication.ExecuteStep(IExecutionStep step, Boolean& completedSynchronously)
Session: Identity name:aaaaaa IsAuthenticated:True 
2018-04-07 16:04:01.2297|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: SELECT 
    [Extent1].[Security_ID] AS [Security_ID], 
    [Extent1].[Portfolio_Code] AS [Portfolio_Code], 
    [Extent1].[Entity_ID] AS [Entity_ID], 
    [Extent1].[ModDietz_Performance_Quarterly] AS [ModDietz_Performance_Quarterly], 
    [Extent1].[ModDietz_Performance_Monthly] AS [ModDietz_Performance_Monthly], 
    [Extent1].[ModDietz_Performance_MonthToDate] AS [ModDietz_Performance_MonthToDate], 
    [Extent1].[Dietz_Performance_Quarterly] AS [Dietz_Performance_Quarterly], 
    [Extent1].[Dietz_Performance_Monthly] AS [Dietz_Performance_Monthly], 
    [Extent1].[Dietz_Performance_MonthToDate] AS [Dietz_Performance_MonthToDate], 
    [Extent1].[Last_Update_Date] AS [Last_Update_Date], 
    [Extent1].[Last_Update_User] AS [Last_Update_User], 
    [Extent1].[Record_Date] AS [Record_Date], 
    [Extent1].[Session_ID] AS [Session_ID], 
    [Extent1].[Hist_Last_Update_Date] AS [Hist_Last_Update_Date], 
    [Extent1].[Hist_Last_Update_User] AS [Hist_Last_Update_User]
    FROM [dbo].[Security_Performance_History] AS [Extent1]
    WHERE ([Extent1].[Security_ID] = @p__linq__0) AND ([Extent1].[Portfolio_Code] = @p__linq__1) AND ([Extent1].[Record_Date] = @p__linq__2) AND ([Extent1].[Entity_ID] = @p__linq__3)
2018-04-07 16:04:01.2603|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: SELECT 
    [Extent1].[Security_ID] AS [Security_ID], 
    [Extent1].[Portfolio_Code] AS [Portfolio_Code], 
    [Extent1].[Entity_ID] AS [Entity_ID], 
    [Extent1].[ModDietz_Performance_Quarterly] AS [ModDietz_Performance_Quarterly], 
    [Extent1].[ModDietz_Performance_Monthly] AS [ModDietz_Performance_Monthly], 
    [Extent1].[ModDietz_Performance_MonthToDate] AS [ModDietz_Performance_MonthToDate], 
    [Extent1].[Dietz_Performance_Quarterly] AS [Dietz_Performance_Quarterly], 
    [Extent1].[Dietz_Performance_Monthly] AS [Dietz_Performance_Monthly], 
    [Extent1].[Dietz_Performance_MonthToDate] AS [Dietz_Performance_MonthToDate], 
    [Extent1].[Last_Update_Date] AS [Last_Update_Date], 
    [Extent1].[Last_Update_User] AS [Last_Update_User], 
    [Extent1].[Record_Date] AS [Record_Date], 
    [Extent1].[Session_ID] AS [Session_ID], 
    [Extent1].[Hist_Last_Update_Date] AS [Hist_Last_Update_Date], 
    [Extent1].[Hist_Last_Update_User] AS [Hist_Last_Update_User]
    FROM [dbo].[Security_Performance_History] AS [Extent1]
    WHERE ([Extent1].[Security_ID] = @p__linq__0) AND ([Extent1].[Portfolio_Code] = @p__linq__1) AND ([Extent1].[Record_Date] = @p__linq__2) AND ([Extent1].[Entity_ID] = @p__linq__3)
2018-04-07 16:04:01.3919|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: SELECT 
    [Extent1].[Security_ID] AS [Security_ID], 
    [Extent1].[Entity_ID] AS [Entity_ID], 
    [Extent1].[Security_Name] AS [Security_Name], 
    [Extent1].[Short_Name] AS [Short_Name], 
    [Extent1].[Primary_Exch] AS [Primary_Exch], 
    [Extent1].[Secondary_Exch] AS [Secondary_Exch], 
    [Extent1].[Country_Of_Domicile] AS [Country_Of_Domicile], 
    [Extent1].[Country_Of_Risk] AS [Country_Of_Risk], 
    [Extent1].[Security_Type_Code] AS [Security_Type_Code], 
    [Extent1].[Price_Multiplier] AS [Price_Multiplier], 
    [Extent1].[Income_Frequency] AS [Income_Frequency], 
    [Extent1].[Issuer_Code] AS [Issuer_Code], 
    [Extent1].[Ultimate_Issuer_Code] AS [Ultimate_Issuer_Code], 
    [Extent1].[Asset_Currency] AS [Asset_Currency], 
    [Extent1].[Min_Lot_Size] AS [Min_Lot_Size], 
    [Extent1].[Decimal_Precision] AS [Decimal_Precision], 
    [Extent1].[AvePrice_Rounding] AS [AvePrice_Rounding], 
    [Extent1].[Issue_Date] AS [Issue_Date], 
    [Extent1].[Maturity_Date] AS [Maturity_Date], 
    [Extent1].[Coupon_Rate] AS [Coupon_Rate], 
    [Extent1].[Price_Exchange] AS [Price_Exchange], 
    [Extent1].[Trade_Currency] AS [Trade_Currency], 
    [Extent1].[Price_Curr] AS [Price_Curr], 
    [Extent1].[Currency_Pair_Code] AS [Currency_Pair_Code], 
    [Extent1].[Share_Class] AS [Share_Class], 
    [Extent1].[Current_Market_Price] AS [Current_Market_Price], 
    [Extent1].[Index_Type] AS [Index_Type], 
    [Extent1].[Clean_Price_Formula] AS [Clean_Price_Formula], 
    [Extent1].[Accrued_Income_Price_Formula] AS [Accrued_Income_Price_Formula], 
    [Extent1].[Odd_First_Coupon_Date] AS [Odd_First_Coupon_Date], 
    [Extent1].[Odd_Last_Coupon_Date] AS [Odd_Last_Coupon_Date], 
    [Extent1].[Coupon_Anniversary_Indicator] AS [Coupon_Anniversary_Indicator], 
    [Extent1].[Track_EOM_Flag] AS [Track_EOM_Flag], 
    [Extent1].[Next_Coupon_Date] AS [Next_Coupon_Date], 
    [Extent1].[Previous_Coupon_Date] AS [Previous_Coupon_Date], 
    [Extent1].[Payment_Frequency] AS [Payment_Frequency], 
    [Extent1].[Coupon_BusDay_Adjustment] AS [Coupon_BusDay_Adjustment], 
    [Extent1].[Next_Ex_Div_Date] AS [Next_Ex_Div_Date], 
    [Extent1].[Ex_Div_BusDay_Adjustment] AS [Ex_Div_BusDay_Adjustment], 
    [Extent1].[Ex_Div_Period] AS [Ex_Div_Period], 
    [Extent1].[Ticker] AS [Ticker], 
    [Extent1].[Inet_ID] AS [Inet_ID], 
    [Extent1].[Bloomberg_ID] AS [Bloomberg_ID], 
    [Extent1].[External_Sec_ID] AS [External_Sec_ID], 
    [Extent1].[Reuters_ID] AS [Reuters_ID], 
    [Extent1].[ISIN] AS [ISIN], 
    [Extent1].[Call_Account_Flag] AS [Call_Account_Flag], 
    [Extent1].[System_Locked] AS [System_Locked], 
    [Extent1].[Last_Update_User] AS [Last_Update_User], 
    [Extent1].[Last_Update_Date] AS [Last_Update_Date], 
    [Extent1].[Security_Status] AS [Security_Status], 
    [Extent1].[Benchmark_Portfolio] AS [Benchmark_Portfolio], 
    [Extent1].[Active_flag] AS [Active_flag], 
    [Extent1].[Dividend_FX_Security_ID] AS [Dividend_FX_Security_ID]
    FROM [dbo].[Security_Detail] AS [Extent1]
    WHERE [Extent1].[Security_ID] = @EntityKeyValue1
2018-04-07 16:04:01.4199|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: SELECT 
    [Extent1].[Security_ID] AS [Security_ID], 
    [Extent1].[Entity_ID] AS [Entity_ID], 
    [Extent1].[Security_Name] AS [Security_Name], 
    [Extent1].[Short_Name] AS [Short_Name], 
    [Extent1].[Primary_Exch] AS [Primary_Exch], 
    [Extent1].[Secondary_Exch] AS [Secondary_Exch], 
    [Extent1].[Country_Of_Domicile] AS [Country_Of_Domicile], 
    [Extent1].[Country_Of_Risk] AS [Country_Of_Risk], 
    [Extent1].[Security_Type_Code] AS [Security_Type_Code], 
    [Extent1].[Price_Multiplier] AS [Price_Multiplier], 
    [Extent1].[Income_Frequency] AS [Income_Frequency], 
    [Extent1].[Issuer_Code] AS [Issuer_Code], 
    [Extent1].[Ultimate_Issuer_Code] AS [Ultimate_Issuer_Code], 
    [Extent1].[Asset_Currency] AS [Asset_Currency], 
    [Extent1].[Min_Lot_Size] AS [Min_Lot_Size], 
    [Extent1].[Decimal_Precision] AS [Decimal_Precision], 
    [Extent1].[AvePrice_Rounding] AS [AvePrice_Rounding], 
    [Extent1].[Issue_Date] AS [Issue_Date], 
    [Extent1].[Maturity_Date] AS [Maturity_Date], 
    [Extent1].[Coupon_Rate] AS [Coupon_Rate], 
    [Extent1].[Price_Exchange] AS [Price_Exchange], 
    [Extent1].[Trade_Currency] AS [Trade_Currency], 
    [Extent1].[Price_Curr] AS [Price_Curr], 
    [Extent1].[Currency_Pair_Code] AS [Currency_Pair_Code], 
    [Extent1].[Share_Class] AS [Share_Class], 
    [Extent1].[Current_Market_Price] AS [Current_Market_Price], 
    [Extent1].[Index_Type] AS [Index_Type], 
    [Extent1].[Clean_Price_Formula] AS [Clean_Price_Formula], 
    [Extent1].[Accrued_Income_Price_Formula] AS [Accrued_Income_Price_Formula], 
    [Extent1].[Odd_First_Coupon_Date] AS [Odd_First_Coupon_Date], 
    [Extent1].[Odd_Last_Coupon_Date] AS [Odd_Last_Coupon_Date], 
    [Extent1].[Coupon_Anniversary_Indicator] AS [Coupon_Anniversary_Indicator], 
    [Extent1].[Track_EOM_Flag] AS [Track_EOM_Flag], 
    [Extent1].[Next_Coupon_Date] AS [Next_Coupon_Date], 
    [Extent1].[Previous_Coupon_Date] AS [Previous_Coupon_Date], 
    [Extent1].[Payment_Frequency] AS [Payment_Frequency], 
    [Extent1].[Coupon_BusDay_Adjustment] AS [Coupon_BusDay_Adjustment], 
    [Extent1].[Next_Ex_Div_Date] AS [Next_Ex_Div_Date], 
    [Extent1].[Ex_Div_BusDay_Adjustment] AS [Ex_Div_BusDay_Adjustment], 
    [Extent1].[Ex_Div_Period] AS [Ex_Div_Period], 
    [Extent1].[Ticker] AS [Ticker], 
    [Extent1].[Inet_ID] AS [Inet_ID], 
    [Extent1].[Bloomberg_ID] AS [Bloomberg_ID], 
    [Extent1].[External_Sec_ID] AS [External_Sec_ID], 
    [Extent1].[Reuters_ID] AS [Reuters_ID], 
    [Extent1].[ISIN] AS [ISIN], 
    [Extent1].[Call_Account_Flag] AS [Call_Account_Flag], 
    [Extent1].[System_Locked] AS [System_Locked], 
    [Extent1].[Last_Update_User] AS [Last_Update_User], 
    [Extent1].[Last_Update_Date] AS [Last_Update_Date], 
    [Extent1].[Security_Status] AS [Security_Status], 
    [Extent1].[Benchmark_Portfolio] AS [Benchmark_Portfolio], 
    [Extent1].[Active_flag] AS [Active_flag], 
    [Extent1].[Dividend_FX_Security_ID] AS [Dividend_FX_Security_ID]
    FROM [dbo].[Security_Detail] AS [Extent1]
    WHERE [Extent1].[Security_ID] = @EntityKeyValue1
2018-04-07 16:04:04.1418|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: IF db_id(N'MetopeAzureDb') IS NOT NULL SELECT 1 ELSE SELECT Count(*) FROM sys.databases WHERE [name]=N'MetopeAzureDb'
2018-04-07 16:04:04.1588|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: IF db_id(N'MetopeAzureDb') IS NOT NULL SELECT 1 ELSE SELECT Count(*) FROM sys.databases WHERE [name]=N'MetopeAzureDb'
2018-04-07 16:04:04.1984|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: IF db_id(N'MetopeAzureDb') IS NOT NULL SELECT 1 ELSE SELECT Count(*) FROM sys.databases WHERE [name]=N'MetopeAzureDb'
2018-04-07 16:04:04.2289|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: IF db_id(N'MetopeAzureDb') IS NOT NULL SELECT 1 ELSE SELECT Count(*) FROM sys.databases WHERE [name]=N'MetopeAzureDb'
2018-04-07 16:04:04.2574|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: True, Command Text: SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[EntityIdScope] AS [EntityIdScope], 
    [Extent1].[Email] AS [Email], 
    [Extent1].[EmailConfirmed] AS [EmailConfirmed], 
    [Extent1].[PasswordHash] AS [PasswordHash], 
    [Extent1].[SecurityStamp] AS [SecurityStamp], 
    [Extent1].[PhoneNumber] AS [PhoneNumber], 
    [Extent1].[PhoneNumberConfirmed] AS [PhoneNumberConfirmed], 
    [Extent1].[TwoFactorEnabled] AS [TwoFactorEnabled], 
    [Extent1].[LockoutEndDateUtc] AS [LockoutEndDateUtc], 
    [Extent1].[LockoutEnabled] AS [LockoutEnabled], 
    [Extent1].[AccessFailedCount] AS [AccessFailedCount], 
    [Extent1].[UserName] AS [UserName]
    FROM [dbo].[AspNetUsers] AS [Extent1]
    WHERE [Extent1].[Id] = @p0
2018-04-07 16:04:04.2809|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: True, Command Text: SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[EntityIdScope] AS [EntityIdScope], 
    [Extent1].[Email] AS [Email], 
    [Extent1].[EmailConfirmed] AS [EmailConfirmed], 
    [Extent1].[PasswordHash] AS [PasswordHash], 
    [Extent1].[SecurityStamp] AS [SecurityStamp], 
    [Extent1].[PhoneNumber] AS [PhoneNumber], 
    [Extent1].[PhoneNumberConfirmed] AS [PhoneNumberConfirmed], 
    [Extent1].[TwoFactorEnabled] AS [TwoFactorEnabled], 
    [Extent1].[LockoutEndDateUtc] AS [LockoutEndDateUtc], 
    [Extent1].[LockoutEnabled] AS [LockoutEnabled], 
    [Extent1].[AccessFailedCount] AS [AccessFailedCount], 
    [Extent1].[UserName] AS [UserName]
    FROM [dbo].[AspNetUsers] AS [Extent1]
    WHERE [Extent1].[Id] = @p0
2018-04-07 16:04:04.2964|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: True, Command Text: SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[UserId] AS [UserId], 
    [Extent1].[ClaimType] AS [ClaimType], 
    [Extent1].[ClaimValue] AS [ClaimValue]
    FROM [dbo].[AspNetUserClaims] AS [Extent1]
    WHERE [Extent1].[UserId] = @p__linq__0
2018-04-07 16:04:04.3364|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: True, Command Text: SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[UserId] AS [UserId], 
    [Extent1].[ClaimType] AS [ClaimType], 
    [Extent1].[ClaimValue] AS [ClaimValue]
    FROM [dbo].[AspNetUserClaims] AS [Extent1]
    WHERE [Extent1].[UserId] = @p__linq__0
2018-04-07 16:04:04.3364|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: True, Command Text: SELECT 
    [Extent1].[LoginProvider] AS [LoginProvider], 
    [Extent1].[ProviderKey] AS [ProviderKey], 
    [Extent1].[UserId] AS [UserId]
    FROM [dbo].[AspNetUserLogins] AS [Extent1]
    WHERE [Extent1].[UserId] = @p__linq__0
2018-04-07 16:04:04.3820|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: True, Command Text: SELECT 
    [Extent1].[LoginProvider] AS [LoginProvider], 
    [Extent1].[ProviderKey] AS [ProviderKey], 
    [Extent1].[UserId] AS [UserId]
    FROM [dbo].[AspNetUserLogins] AS [Extent1]
    WHERE [Extent1].[UserId] = @p__linq__0
2018-04-07 16:04:04.3950|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: True, Command Text: SELECT 
    [Extent1].[UserId] AS [UserId], 
    [Extent1].[RoleId] AS [RoleId]
    FROM [dbo].[AspNetUserRoles] AS [Extent1]
    WHERE [Extent1].[UserId] = @p__linq__0
2018-04-07 16:04:04.4075|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: True, Command Text: SELECT 
    [Extent1].[UserId] AS [UserId], 
    [Extent1].[RoleId] AS [RoleId]
    FROM [dbo].[AspNetUserRoles] AS [Extent1]
    WHERE [Extent1].[UserId] = @p__linq__0
2018-04-07 16:04:04.5081|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: SELECT TOP (2) 
    [Extent1].[Entity_ID] AS [Entity_ID], 
    [Extent1].[Entity_Code] AS [Entity_Code], 
    [Extent1].[Entity_Name] AS [Entity_Name], 
    [Extent1].[Import_Folder] AS [Import_Folder], 
    [Extent1].[Export_Folder] AS [Export_Folder]
    FROM [dbo].[Entity] AS [Extent1]
    WHERE [Extent1].[Entity_ID] = @p0
2018-04-07 16:04:04.6807|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: SELECT TOP (2) 
    [Extent1].[Entity_ID] AS [Entity_ID], 
    [Extent1].[Entity_Code] AS [Entity_Code], 
    [Extent1].[Entity_Name] AS [Entity_Name], 
    [Extent1].[Import_Folder] AS [Import_Folder], 
    [Extent1].[Export_Folder] AS [Export_Folder]
    FROM [dbo].[Entity] AS [Extent1]
    WHERE [Extent1].[Entity_ID] = @p0
2018-04-07 16:04:05.3782|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: IF db_id(N'MetopeAzureDb') IS NOT NULL SELECT 1 ELSE SELECT Count(*) FROM sys.databases WHERE [name]=N'MetopeAzureDb'
2018-04-07 16:04:05.4042|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: IF db_id(N'MetopeAzureDb') IS NOT NULL SELECT 1 ELSE SELECT Count(*) FROM sys.databases WHERE [name]=N'MetopeAzureDb'
2018-04-07 16:04:05.4212|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: IF db_id(N'MetopeAzureDb') IS NOT NULL SELECT 1 ELSE SELECT Count(*) FROM sys.databases WHERE [name]=N'MetopeAzureDb'
2018-04-07 16:04:05.4317|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: IF db_id(N'MetopeAzureDb') IS NOT NULL SELECT 1 ELSE SELECT Count(*) FROM sys.databases WHERE [name]=N'MetopeAzureDb'
2018-04-07 16:04:05.4502|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: True, Command Text: SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[EntityIdScope] AS [EntityIdScope], 
    [Extent1].[Email] AS [Email], 
    [Extent1].[EmailConfirmed] AS [EmailConfirmed], 
    [Extent1].[PasswordHash] AS [PasswordHash], 
    [Extent1].[SecurityStamp] AS [SecurityStamp], 
    [Extent1].[PhoneNumber] AS [PhoneNumber], 
    [Extent1].[PhoneNumberConfirmed] AS [PhoneNumberConfirmed], 
    [Extent1].[TwoFactorEnabled] AS [TwoFactorEnabled], 
    [Extent1].[LockoutEndDateUtc] AS [LockoutEndDateUtc], 
    [Extent1].[LockoutEnabled] AS [LockoutEnabled], 
    [Extent1].[AccessFailedCount] AS [AccessFailedCount], 
    [Extent1].[UserName] AS [UserName]
    FROM [dbo].[AspNetUsers] AS [Extent1]
    WHERE [Extent1].[Id] = @p0
2018-04-07 16:04:05.4668|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: True, Command Text: SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[EntityIdScope] AS [EntityIdScope], 
    [Extent1].[Email] AS [Email], 
    [Extent1].[EmailConfirmed] AS [EmailConfirmed], 
    [Extent1].[PasswordHash] AS [PasswordHash], 
    [Extent1].[SecurityStamp] AS [SecurityStamp], 
    [Extent1].[PhoneNumber] AS [PhoneNumber], 
    [Extent1].[PhoneNumberConfirmed] AS [PhoneNumberConfirmed], 
    [Extent1].[TwoFactorEnabled] AS [TwoFactorEnabled], 
    [Extent1].[LockoutEndDateUtc] AS [LockoutEndDateUtc], 
    [Extent1].[LockoutEnabled] AS [LockoutEnabled], 
    [Extent1].[AccessFailedCount] AS [AccessFailedCount], 
    [Extent1].[UserName] AS [UserName]
    FROM [dbo].[AspNetUsers] AS [Extent1]
    WHERE [Extent1].[Id] = @p0
2018-04-07 16:04:05.4778|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: True, Command Text: SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[UserId] AS [UserId], 
    [Extent1].[ClaimType] AS [ClaimType], 
    [Extent1].[ClaimValue] AS [ClaimValue]
    FROM [dbo].[AspNetUserClaims] AS [Extent1]
    WHERE [Extent1].[UserId] = @p__linq__0
2018-04-07 16:04:05.4778|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: True, Command Text: SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[UserId] AS [UserId], 
    [Extent1].[ClaimType] AS [ClaimType], 
    [Extent1].[ClaimValue] AS [ClaimValue]
    FROM [dbo].[AspNetUserClaims] AS [Extent1]
    WHERE [Extent1].[UserId] = @p__linq__0
2018-04-07 16:04:05.5018|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: True, Command Text: SELECT 
    [Extent1].[LoginProvider] AS [LoginProvider], 
    [Extent1].[ProviderKey] AS [ProviderKey], 
    [Extent1].[UserId] AS [UserId]
    FROM [dbo].[AspNetUserLogins] AS [Extent1]
    WHERE [Extent1].[UserId] = @p__linq__0
2018-04-07 16:04:05.5153|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: True, Command Text: SELECT 
    [Extent1].[LoginProvider] AS [LoginProvider], 
    [Extent1].[ProviderKey] AS [ProviderKey], 
    [Extent1].[UserId] AS [UserId]
    FROM [dbo].[AspNetUserLogins] AS [Extent1]
    WHERE [Extent1].[UserId] = @p__linq__0
2018-04-07 16:04:05.5278|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: True, Command Text: SELECT 
    [Extent1].[UserId] AS [UserId], 
    [Extent1].[RoleId] AS [RoleId]
    FROM [dbo].[AspNetUserRoles] AS [Extent1]
    WHERE [Extent1].[UserId] = @p__linq__0
2018-04-07 16:04:05.5443|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: True, Command Text: SELECT 
    [Extent1].[UserId] AS [UserId], 
    [Extent1].[RoleId] AS [RoleId]
    FROM [dbo].[AspNetUserRoles] AS [Extent1]
    WHERE [Extent1].[UserId] = @p__linq__0
2018-04-07 16:04:05.5558|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: SELECT TOP (2) 
    [Extent1].[Entity_ID] AS [Entity_ID], 
    [Extent1].[Entity_Code] AS [Entity_Code], 
    [Extent1].[Entity_Name] AS [Entity_Name], 
    [Extent1].[Import_Folder] AS [Import_Folder], 
    [Extent1].[Export_Folder] AS [Export_Folder]
    FROM [dbo].[Entity] AS [Extent1]
    WHERE [Extent1].[Entity_ID] = @p0
2018-04-07 16:04:05.5713|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: SELECT TOP (2) 
    [Extent1].[Entity_ID] AS [Entity_ID], 
    [Extent1].[Entity_Code] AS [Entity_Code], 
    [Extent1].[Entity_Name] AS [Entity_Name], 
    [Extent1].[Import_Folder] AS [Import_Folder], 
    [Extent1].[Export_Folder] AS [Export_Folder]
    FROM [dbo].[Entity] AS [Extent1]
    WHERE [Extent1].[Entity_ID] = @p0
2018-04-07 16:04:07.3236|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: SELECT 
    [Project1].[Security_ID] AS [Security_ID], 
    [Project1].[Entity_ID] AS [Entity_ID], 
    [Project1].[Security_Name] AS [Security_Name], 
    [Project1].[Short_Name] AS [Short_Name], 
    [Project1].[Primary_Exch] AS [Primary_Exch], 
    [Project1].[Secondary_Exch] AS [Secondary_Exch], 
    [Project1].[Country_Of_Domicile] AS [Country_Of_Domicile], 
    [Project1].[Country_Of_Risk] AS [Country_Of_Risk], 
    [Project1].[Security_Type_Code] AS [Security_Type_Code], 
    [Project1].[Price_Multiplier] AS [Price_Multiplier], 
    [Project1].[Income_Frequency] AS [Income_Frequency], 
    [Project1].[Issuer_Code] AS [Issuer_Code], 
    [Project1].[Ultimate_Issuer_Code] AS [Ultimate_Issuer_Code], 
    [Project1].[Asset_Currency] AS [Asset_Currency], 
    [Project1].[Min_Lot_Size] AS [Min_Lot_Size], 
    [Project1].[Decimal_Precision] AS [Decimal_Precision], 
    [Project1].[AvePrice_Rounding] AS [AvePrice_Rounding], 
    [Project1].[Issue_Date] AS [Issue_Date], 
    [Project1].[Maturity_Date] AS [Maturity_Date], 
    [Project1].[Coupon_Rate] AS [Coupon_Rate], 
    [Project1].[Price_Exchange] AS [Price_Exchange], 
    [Project1].[Trade_Currency] AS [Trade_Currency], 
    [Project1].[Price_Curr] AS [Price_Curr], 
    [Project1].[Currency_Pair_Code] AS [Currency_Pair_Code], 
    [Project1].[Share_Class] AS [Share_Class], 
    [Project1].[Current_Market_Price] AS [Current_Market_Price], 
    [Project1].[Index_Type] AS [Index_Type], 
    [Project1].[Clean_Price_Formula] AS [Clean_Price_Formula], 
    [Project1].[Accrued_Income_Price_Formula] AS [Accrued_Income_Price_Formula], 
    [Project1].[Odd_First_Coupon_Date] AS [Odd_First_Coupon_Date], 
    [Project1].[Odd_Last_Coupon_Date] AS [Odd_Last_Coupon_Date], 
    [Project1].[Coupon_Anniversary_Indicator] AS [Coupon_Anniversary_Indicator], 
    [Project1].[Track_EOM_Flag] AS [Track_EOM_Flag], 
    [Project1].[Next_Coupon_Date] AS [Next_Coupon_Date], 
    [Project1].[Previous_Coupon_Date] AS [Previous_Coupon_Date], 
    [Project1].[Payment_Frequency] AS [Payment_Frequency], 
    [Project1].[Coupon_BusDay_Adjustment] AS [Coupon_BusDay_Adjustment], 
    [Project1].[Next_Ex_Div_Date] AS [Next_Ex_Div_Date], 
    [Project1].[Ex_Div_BusDay_Adjustment] AS [Ex_Div_BusDay_Adjustment], 
    [Project1].[Ex_Div_Period] AS [Ex_Div_Period], 
    [Project1].[Ticker] AS [Ticker], 
    [Project1].[Inet_ID] AS [Inet_ID], 
    [Project1].[Bloomberg_ID] AS [Bloomberg_ID], 
    [Project1].[External_Sec_ID] AS [External_Sec_ID], 
    [Project1].[Reuters_ID] AS [Reuters_ID], 
    [Project1].[ISIN] AS [ISIN], 
    [Project1].[Call_Account_Flag] AS [Call_Account_Flag], 
    [Project1].[System_Locked] AS [System_Locked], 
    [Project1].[Last_Update_User] AS [Last_Update_User], 
    [Project1].[Last_Update_Date] AS [Last_Update_Date], 
    [Project1].[Security_Status] AS [Security_Status], 
    [Project1].[Benchmark_Portfolio] AS [Benchmark_Portfolio], 
    [Project1].[Active_flag] AS [Active_flag], 
    [Project1].[Dividend_FX_Security_ID] AS [Dividend_FX_Security_ID]
    FROM ( SELECT 
        [Extent1].[Security_ID] AS [Security_ID], 
        [Extent1].[Entity_ID] AS [Entity_ID], 
        [Extent1].[Security_Name] AS [Security_Name], 
        [Extent1].[Short_Name] AS [Short_Name], 
        [Extent1].[Primary_Exch] AS [Primary_Exch], 
        [Extent1].[Secondary_Exch] AS [Secondary_Exch], 
        [Extent1].[Country_Of_Domicile] AS [Country_Of_Domicile], 
        [Extent1].[Country_Of_Risk] AS [Country_Of_Risk], 
        [Extent1].[Security_Type_Code] AS [Security_Type_Code], 
        [Extent1].[Price_Multiplier] AS [Price_Multiplier], 
        [Extent1].[Income_Frequency] AS [Income_Frequency], 
        [Extent1].[Issuer_Code] AS [Issuer_Code], 
        [Extent1].[Ultimate_Issuer_Code] AS [Ultimate_Issuer_Code], 
        [Extent1].[Asset_Currency] AS [Asset_Currency], 
        [Extent1].[Min_Lot_Size] AS [Min_Lot_Size], 
        [Extent1].[Decimal_Precision] AS [Decimal_Precision], 
        [Extent1].[AvePrice_Rounding] AS [AvePrice_Rounding], 
        [Extent1].[Issue_Date] AS [Issue_Date], 
        [Extent1].[Maturity_Date] AS [Maturity_Date], 
        [Extent1].[Coupon_Rate] AS [Coupon_Rate], 
        [Extent1].[Price_Exchange] AS [Price_Exchange], 
        [Extent1].[Trade_Currency] AS [Trade_Currency], 
        [Extent1].[Price_Curr] AS [Price_Curr], 
        [Extent1].[Currency_Pair_Code] AS [Currency_Pair_Code], 
        [Extent1].[Share_Class] AS [Share_Class], 
        [Extent1].[Current_Market_Price] AS [Current_Market_Price], 
        [Extent1].[Index_Type] AS [Index_Type], 
        [Extent1].[Clean_Price_Formula] AS [Clean_Price_Formula], 
        [Extent1].[Accrued_Income_Price_Formula] AS [Accrued_Income_Price_Formula], 
        [Extent1].[Odd_First_Coupon_Date] AS [Odd_First_Coupon_Date], 
        [Extent1].[Odd_Last_Coupon_Date] AS [Odd_Last_Coupon_Date], 
        [Extent1].[Coupon_Anniversary_Indicator] AS [Coupon_Anniversary_Indicator], 
        [Extent1].[Track_EOM_Flag] AS [Track_EOM_Flag], 
        [Extent1].[Next_Coupon_Date] AS [Next_Coupon_Date], 
        [Extent1].[Previous_Coupon_Date] AS [Previous_Coupon_Date], 
        [Extent1].[Payment_Frequency] AS [Payment_Frequency], 
        [Extent1].[Coupon_BusDay_Adjustment] AS [Coupon_BusDay_Adjustment], 
        [Extent1].[Next_Ex_Div_Date] AS [Next_Ex_Div_Date], 
        [Extent1].[Ex_Div_BusDay_Adjustment] AS [Ex_Div_BusDay_Adjustment], 
        [Extent1].[Ex_Div_Period] AS [Ex_Div_Period], 
        [Extent1].[Ticker] AS [Ticker], 
        [Extent1].[Inet_ID] AS [Inet_ID], 
        [Extent1].[Bloomberg_ID] AS [Bloomberg_ID], 
        [Extent1].[External_Sec_ID] AS [External_Sec_ID], 
        [Extent1].[Reuters_ID] AS [Reuters_ID], 
        [Extent1].[ISIN] AS [ISIN], 
        [Extent1].[Call_Account_Flag] AS [Call_Account_Flag], 
        [Extent1].[System_Locked] AS [System_Locked], 
        [Extent1].[Last_Update_User] AS [Last_Update_User], 
        [Extent1].[Last_Update_Date] AS [Last_Update_Date], 
        [Extent1].[Security_Status] AS [Security_Status], 
        [Extent1].[Benchmark_Portfolio] AS [Benchmark_Portfolio], 
        [Extent1].[Active_flag] AS [Active_flag], 
        [Extent1].[Dividend_FX_Security_ID] AS [Dividend_FX_Security_ID]
        FROM [dbo].[Security_Detail] AS [Extent1]
        WHERE ([Extent1].[Entity_ID] IN (@p__linq__0,@p__linq__1)) AND ((CASE WHEN ( NOT ((N'' = @p__linq__2) AND (@p__linq__2 IS NOT NULL))) THEN CASE WHEN ([Extent1].[Security_Type_Code] = @p__linq__3) THEN cast(1 as bit) WHEN ( NOT (([Extent1].[Security_Type_Code] = @p__linq__3) AND (0 = (CASE WHEN (@p__linq__3 IS NULL) THEN cast(1 as bit) ELSE cast(0 as bit) END)))) THEN cast(0 as bit) END WHEN ('' <> [Extent1].[Security_Type_Code]) THEN cast(1 as bit) WHEN ('' = [Extent1].[Security_Type_Code]) THEN cast(0 as bit) END) = 1)
    )  AS [Project1]
    ORDER BY [Project1].[Security_Name] ASC
2018-04-07 16:04:07.3456|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: SELECT 
    [Project1].[Security_ID] AS [Security_ID], 
    [Project1].[Entity_ID] AS [Entity_ID], 
    [Project1].[Security_Name] AS [Security_Name], 
    [Project1].[Short_Name] AS [Short_Name], 
    [Project1].[Primary_Exch] AS [Primary_Exch], 
    [Project1].[Secondary_Exch] AS [Secondary_Exch], 
    [Project1].[Country_Of_Domicile] AS [Country_Of_Domicile], 
    [Project1].[Country_Of_Risk] AS [Country_Of_Risk], 
    [Project1].[Security_Type_Code] AS [Security_Type_Code], 
    [Project1].[Price_Multiplier] AS [Price_Multiplier], 
    [Project1].[Income_Frequency] AS [Income_Frequency], 
    [Project1].[Issuer_Code] AS [Issuer_Code], 
    [Project1].[Ultimate_Issuer_Code] AS [Ultimate_Issuer_Code], 
    [Project1].[Asset_Currency] AS [Asset_Currency], 
    [Project1].[Min_Lot_Size] AS [Min_Lot_Size], 
    [Project1].[Decimal_Precision] AS [Decimal_Precision], 
    [Project1].[AvePrice_Rounding] AS [AvePrice_Rounding], 
    [Project1].[Issue_Date] AS [Issue_Date], 
    [Project1].[Maturity_Date] AS [Maturity_Date], 
    [Project1].[Coupon_Rate] AS [Coupon_Rate], 
    [Project1].[Price_Exchange] AS [Price_Exchange], 
    [Project1].[Trade_Currency] AS [Trade_Currency], 
    [Project1].[Price_Curr] AS [Price_Curr], 
    [Project1].[Currency_Pair_Code] AS [Currency_Pair_Code], 
    [Project1].[Share_Class] AS [Share_Class], 
    [Project1].[Current_Market_Price] AS [Current_Market_Price], 
    [Project1].[Index_Type] AS [Index_Type], 
    [Project1].[Clean_Price_Formula] AS [Clean_Price_Formula], 
    [Project1].[Accrued_Income_Price_Formula] AS [Accrued_Income_Price_Formula], 
    [Project1].[Odd_First_Coupon_Date] AS [Odd_First_Coupon_Date], 
    [Project1].[Odd_Last_Coupon_Date] AS [Odd_Last_Coupon_Date], 
    [Project1].[Coupon_Anniversary_Indicator] AS [Coupon_Anniversary_Indicator], 
    [Project1].[Track_EOM_Flag] AS [Track_EOM_Flag], 
    [Project1].[Next_Coupon_Date] AS [Next_Coupon_Date], 
    [Project1].[Previous_Coupon_Date] AS [Previous_Coupon_Date], 
    [Project1].[Payment_Frequency] AS [Payment_Frequency], 
    [Project1].[Coupon_BusDay_Adjustment] AS [Coupon_BusDay_Adjustment], 
    [Project1].[Next_Ex_Div_Date] AS [Next_Ex_Div_Date], 
    [Project1].[Ex_Div_BusDay_Adjustment] AS [Ex_Div_BusDay_Adjustment], 
    [Project1].[Ex_Div_Period] AS [Ex_Div_Period], 
    [Project1].[Ticker] AS [Ticker], 
    [Project1].[Inet_ID] AS [Inet_ID], 
    [Project1].[Bloomberg_ID] AS [Bloomberg_ID], 
    [Project1].[External_Sec_ID] AS [External_Sec_ID], 
    [Project1].[Reuters_ID] AS [Reuters_ID], 
    [Project1].[ISIN] AS [ISIN], 
    [Project1].[Call_Account_Flag] AS [Call_Account_Flag], 
    [Project1].[System_Locked] AS [System_Locked], 
    [Project1].[Last_Update_User] AS [Last_Update_User], 
    [Project1].[Last_Update_Date] AS [Last_Update_Date], 
    [Project1].[Security_Status] AS [Security_Status], 
    [Project1].[Benchmark_Portfolio] AS [Benchmark_Portfolio], 
    [Project1].[Active_flag] AS [Active_flag], 
    [Project1].[Dividend_FX_Security_ID] AS [Dividend_FX_Security_ID]
    FROM ( SELECT 
        [Extent1].[Security_ID] AS [Security_ID], 
        [Extent1].[Entity_ID] AS [Entity_ID], 
        [Extent1].[Security_Name] AS [Security_Name], 
        [Extent1].[Short_Name] AS [Short_Name], 
        [Extent1].[Primary_Exch] AS [Primary_Exch], 
        [Extent1].[Secondary_Exch] AS [Secondary_Exch], 
        [Extent1].[Country_Of_Domicile] AS [Country_Of_Domicile], 
        [Extent1].[Country_Of_Risk] AS [Country_Of_Risk], 
        [Extent1].[Security_Type_Code] AS [Security_Type_Code], 
        [Extent1].[Price_Multiplier] AS [Price_Multiplier], 
        [Extent1].[Income_Frequency] AS [Income_Frequency], 
        [Extent1].[Issuer_Code] AS [Issuer_Code], 
        [Extent1].[Ultimate_Issuer_Code] AS [Ultimate_Issuer_Code], 
        [Extent1].[Asset_Currency] AS [Asset_Currency], 
        [Extent1].[Min_Lot_Size] AS [Min_Lot_Size], 
        [Extent1].[Decimal_Precision] AS [Decimal_Precision], 
        [Extent1].[AvePrice_Rounding] AS [AvePrice_Rounding], 
        [Extent1].[Issue_Date] AS [Issue_Date], 
        [Extent1].[Maturity_Date] AS [Maturity_Date], 
        [Extent1].[Coupon_Rate] AS [Coupon_Rate], 
        [Extent1].[Price_Exchange] AS [Price_Exchange], 
        [Extent1].[Trade_Currency] AS [Trade_Currency], 
        [Extent1].[Price_Curr] AS [Price_Curr], 
        [Extent1].[Currency_Pair_Code] AS [Currency_Pair_Code], 
        [Extent1].[Share_Class] AS [Share_Class], 
        [Extent1].[Current_Market_Price] AS [Current_Market_Price], 
        [Extent1].[Index_Type] AS [Index_Type], 
        [Extent1].[Clean_Price_Formula] AS [Clean_Price_Formula], 
        [Extent1].[Accrued_Income_Price_Formula] AS [Accrued_Income_Price_Formula], 
        [Extent1].[Odd_First_Coupon_Date] AS [Odd_First_Coupon_Date], 
        [Extent1].[Odd_Last_Coupon_Date] AS [Odd_Last_Coupon_Date], 
        [Extent1].[Coupon_Anniversary_Indicator] AS [Coupon_Anniversary_Indicator], 
        [Extent1].[Track_EOM_Flag] AS [Track_EOM_Flag], 
        [Extent1].[Next_Coupon_Date] AS [Next_Coupon_Date], 
        [Extent1].[Previous_Coupon_Date] AS [Previous_Coupon_Date], 
        [Extent1].[Payment_Frequency] AS [Payment_Frequency], 
        [Extent1].[Coupon_BusDay_Adjustment] AS [Coupon_BusDay_Adjustment], 
        [Extent1].[Next_Ex_Div_Date] AS [Next_Ex_Div_Date], 
        [Extent1].[Ex_Div_BusDay_Adjustment] AS [Ex_Div_BusDay_Adjustment], 
        [Extent1].[Ex_Div_Period] AS [Ex_Div_Period], 
        [Extent1].[Ticker] AS [Ticker], 
        [Extent1].[Inet_ID] AS [Inet_ID], 
        [Extent1].[Bloomberg_ID] AS [Bloomberg_ID], 
        [Extent1].[External_Sec_ID] AS [External_Sec_ID], 
        [Extent1].[Reuters_ID] AS [Reuters_ID], 
        [Extent1].[ISIN] AS [ISIN], 
        [Extent1].[Call_Account_Flag] AS [Call_Account_Flag], 
        [Extent1].[System_Locked] AS [System_Locked], 
        [Extent1].[Last_Update_User] AS [Last_Update_User], 
        [Extent1].[Last_Update_Date] AS [Last_Update_Date], 
        [Extent1].[Security_Status] AS [Security_Status], 
        [Extent1].[Benchmark_Portfolio] AS [Benchmark_Portfolio], 
        [Extent1].[Active_flag] AS [Active_flag], 
        [Extent1].[Dividend_FX_Security_ID] AS [Dividend_FX_Security_ID]
        FROM [dbo].[Security_Detail] AS [Extent1]
        WHERE ([Extent1].[Entity_ID] IN (@p__linq__0,@p__linq__1)) AND ((CASE WHEN ( NOT ((N'' = @p__linq__2) AND (@p__linq__2 IS NOT NULL))) THEN CASE WHEN ([Extent1].[Security_Type_Code] = @p__linq__3) THEN cast(1 as bit) WHEN ( NOT (([Extent1].[Security_Type_Code] = @p__linq__3) AND (0 = (CASE WHEN (@p__linq__3 IS NULL) THEN cast(1 as bit) ELSE cast(0 as bit) END)))) THEN cast(0 as bit) END WHEN ('' <> [Extent1].[Security_Type_Code]) THEN cast(1 as bit) WHEN ('' = [Extent1].[Security_Type_Code]) THEN cast(0 as bit) END) = 1)
    )  AS [Project1]
    ORDER BY [Project1].[Security_Name] ASC
2018-04-07 16:04:07.4136|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: IF db_id(N'MetopeAzureDb') IS NOT NULL SELECT 1 ELSE SELECT Count(*) FROM sys.databases WHERE [name]=N'MetopeAzureDb'
2018-04-07 16:04:07.4291|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: IF db_id(N'MetopeAzureDb') IS NOT NULL SELECT 1 ELSE SELECT Count(*) FROM sys.databases WHERE [name]=N'MetopeAzureDb'
2018-04-07 16:04:07.4497|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: IF db_id(N'MetopeAzureDb') IS NOT NULL SELECT 1 ELSE SELECT Count(*) FROM sys.databases WHERE [name]=N'MetopeAzureDb'
2018-04-07 16:04:07.4792|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: IF db_id(N'MetopeAzureDb') IS NOT NULL SELECT 1 ELSE SELECT Count(*) FROM sys.databases WHERE [name]=N'MetopeAzureDb'
2018-04-07 16:04:07.4942|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: True, Command Text: SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[EntityIdScope] AS [EntityIdScope], 
    [Extent1].[Email] AS [Email], 
    [Extent1].[EmailConfirmed] AS [EmailConfirmed], 
    [Extent1].[PasswordHash] AS [PasswordHash], 
    [Extent1].[SecurityStamp] AS [SecurityStamp], 
    [Extent1].[PhoneNumber] AS [PhoneNumber], 
    [Extent1].[PhoneNumberConfirmed] AS [PhoneNumberConfirmed], 
    [Extent1].[TwoFactorEnabled] AS [TwoFactorEnabled], 
    [Extent1].[LockoutEndDateUtc] AS [LockoutEndDateUtc], 
    [Extent1].[LockoutEnabled] AS [LockoutEnabled], 
    [Extent1].[AccessFailedCount] AS [AccessFailedCount], 
    [Extent1].[UserName] AS [UserName]
    FROM [dbo].[AspNetUsers] AS [Extent1]
    WHERE [Extent1].[Id] = @p0
2018-04-07 16:04:07.5082|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: True, Command Text: SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[EntityIdScope] AS [EntityIdScope], 
    [Extent1].[Email] AS [Email], 
    [Extent1].[EmailConfirmed] AS [EmailConfirmed], 
    [Extent1].[PasswordHash] AS [PasswordHash], 
    [Extent1].[SecurityStamp] AS [SecurityStamp], 
    [Extent1].[PhoneNumber] AS [PhoneNumber], 
    [Extent1].[PhoneNumberConfirmed] AS [PhoneNumberConfirmed], 
    [Extent1].[TwoFactorEnabled] AS [TwoFactorEnabled], 
    [Extent1].[LockoutEndDateUtc] AS [LockoutEndDateUtc], 
    [Extent1].[LockoutEnabled] AS [LockoutEnabled], 
    [Extent1].[AccessFailedCount] AS [AccessFailedCount], 
    [Extent1].[UserName] AS [UserName]
    FROM [dbo].[AspNetUsers] AS [Extent1]
    WHERE [Extent1].[Id] = @p0
2018-04-07 16:04:07.5082|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: True, Command Text: SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[UserId] AS [UserId], 
    [Extent1].[ClaimType] AS [ClaimType], 
    [Extent1].[ClaimValue] AS [ClaimValue]
    FROM [dbo].[AspNetUserClaims] AS [Extent1]
    WHERE [Extent1].[UserId] = @p__linq__0
2018-04-07 16:04:07.5422|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: True, Command Text: SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[UserId] AS [UserId], 
    [Extent1].[ClaimType] AS [ClaimType], 
    [Extent1].[ClaimValue] AS [ClaimValue]
    FROM [dbo].[AspNetUserClaims] AS [Extent1]
    WHERE [Extent1].[UserId] = @p__linq__0
2018-04-07 16:04:07.5422|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: True, Command Text: SELECT 
    [Extent1].[LoginProvider] AS [LoginProvider], 
    [Extent1].[ProviderKey] AS [ProviderKey], 
    [Extent1].[UserId] AS [UserId]
    FROM [dbo].[AspNetUserLogins] AS [Extent1]
    WHERE [Extent1].[UserId] = @p__linq__0
2018-04-07 16:04:07.5637|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: True, Command Text: SELECT 
    [Extent1].[LoginProvider] AS [LoginProvider], 
    [Extent1].[ProviderKey] AS [ProviderKey], 
    [Extent1].[UserId] AS [UserId]
    FROM [dbo].[AspNetUserLogins] AS [Extent1]
    WHERE [Extent1].[UserId] = @p__linq__0
2018-04-07 16:04:07.5732|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: True, Command Text: SELECT 
    [Extent1].[UserId] AS [UserId], 
    [Extent1].[RoleId] AS [RoleId]
    FROM [dbo].[AspNetUserRoles] AS [Extent1]
    WHERE [Extent1].[UserId] = @p__linq__0
2018-04-07 16:04:07.6068|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: True, Command Text: SELECT 
    [Extent1].[UserId] AS [UserId], 
    [Extent1].[RoleId] AS [RoleId]
    FROM [dbo].[AspNetUserRoles] AS [Extent1]
    WHERE [Extent1].[UserId] = @p__linq__0
2018-04-07 16:04:07.6068|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: SELECT TOP (2) 
    [Extent1].[Entity_ID] AS [Entity_ID], 
    [Extent1].[Entity_Code] AS [Entity_Code], 
    [Extent1].[Entity_Name] AS [Entity_Name], 
    [Extent1].[Import_Folder] AS [Import_Folder], 
    [Extent1].[Export_Folder] AS [Export_Folder]
    FROM [dbo].[Entity] AS [Extent1]
    WHERE [Extent1].[Entity_ID] = @p0
2018-04-07 16:04:07.6303|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: SELECT TOP (2) 
    [Extent1].[Entity_ID] AS [Entity_ID], 
    [Extent1].[Entity_Code] AS [Entity_Code], 
    [Extent1].[Entity_Name] AS [Entity_Name], 
    [Extent1].[Import_Folder] AS [Import_Folder], 
    [Extent1].[Export_Folder] AS [Export_Folder]
    FROM [dbo].[Entity] AS [Extent1]
    WHERE [Extent1].[Entity_ID] = @p0
2018-04-07 16:04:37.5033|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: SELECT 
    [Extent1].[Security_ID] AS [Security_ID], 
    [Extent1].[Portfolio_Code] AS [Portfolio_Code], 
    [Extent1].[Entity_ID] AS [Entity_ID], 
    [Extent1].[ModDietz_Performance_Quarterly] AS [ModDietz_Performance_Quarterly], 
    [Extent1].[ModDietz_Performance_Monthly] AS [ModDietz_Performance_Monthly], 
    [Extent1].[ModDietz_Performance_MonthToDate] AS [ModDietz_Performance_MonthToDate], 
    [Extent1].[Dietz_Performance_Quarterly] AS [Dietz_Performance_Quarterly], 
    [Extent1].[Dietz_Performance_Monthly] AS [Dietz_Performance_Monthly], 
    [Extent1].[Dietz_Performance_MonthToDate] AS [Dietz_Performance_MonthToDate], 
    [Extent1].[Last_Update_Date] AS [Last_Update_Date], 
    [Extent1].[Last_Update_User] AS [Last_Update_User], 
    [Extent1].[Record_Date] AS [Record_Date], 
    [Extent1].[Session_ID] AS [Session_ID], 
    [Extent1].[Hist_Last_Update_Date] AS [Hist_Last_Update_Date], 
    [Extent1].[Hist_Last_Update_User] AS [Hist_Last_Update_User]
    FROM [dbo].[Security_Performance_History] AS [Extent1]
    WHERE ([Extent1].[Security_ID] = @p__linq__0) AND ([Extent1].[Portfolio_Code] = @p__linq__1) AND ([Extent1].[Record_Date] = @p__linq__2) AND ([Extent1].[Entity_ID] = @p__linq__3)
2018-04-07 16:04:37.5388|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: SELECT 
    [Extent1].[Security_ID] AS [Security_ID], 
    [Extent1].[Portfolio_Code] AS [Portfolio_Code], 
    [Extent1].[Entity_ID] AS [Entity_ID], 
    [Extent1].[ModDietz_Performance_Quarterly] AS [ModDietz_Performance_Quarterly], 
    [Extent1].[ModDietz_Performance_Monthly] AS [ModDietz_Performance_Monthly], 
    [Extent1].[ModDietz_Performance_MonthToDate] AS [ModDietz_Performance_MonthToDate], 
    [Extent1].[Dietz_Performance_Quarterly] AS [Dietz_Performance_Quarterly], 
    [Extent1].[Dietz_Performance_Monthly] AS [Dietz_Performance_Monthly], 
    [Extent1].[Dietz_Performance_MonthToDate] AS [Dietz_Performance_MonthToDate], 
    [Extent1].[Last_Update_Date] AS [Last_Update_Date], 
    [Extent1].[Last_Update_User] AS [Last_Update_User], 
    [Extent1].[Record_Date] AS [Record_Date], 
    [Extent1].[Session_ID] AS [Session_ID], 
    [Extent1].[Hist_Last_Update_Date] AS [Hist_Last_Update_Date], 
    [Extent1].[Hist_Last_Update_User] AS [Hist_Last_Update_User]
    FROM [dbo].[Security_Performance_History] AS [Extent1]
    WHERE ([Extent1].[Security_ID] = @p__linq__0) AND ([Extent1].[Portfolio_Code] = @p__linq__1) AND ([Extent1].[Record_Date] = @p__linq__2) AND ([Extent1].[Entity_ID] = @p__linq__3)
2018-04-07 16:04:37.5768|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: SELECT 
    [Extent1].[Security_ID] AS [Security_ID], 
    [Extent1].[Entity_ID] AS [Entity_ID], 
    [Extent1].[Security_Name] AS [Security_Name], 
    [Extent1].[Short_Name] AS [Short_Name], 
    [Extent1].[Primary_Exch] AS [Primary_Exch], 
    [Extent1].[Secondary_Exch] AS [Secondary_Exch], 
    [Extent1].[Country_Of_Domicile] AS [Country_Of_Domicile], 
    [Extent1].[Country_Of_Risk] AS [Country_Of_Risk], 
    [Extent1].[Security_Type_Code] AS [Security_Type_Code], 
    [Extent1].[Price_Multiplier] AS [Price_Multiplier], 
    [Extent1].[Income_Frequency] AS [Income_Frequency], 
    [Extent1].[Issuer_Code] AS [Issuer_Code], 
    [Extent1].[Ultimate_Issuer_Code] AS [Ultimate_Issuer_Code], 
    [Extent1].[Asset_Currency] AS [Asset_Currency], 
    [Extent1].[Min_Lot_Size] AS [Min_Lot_Size], 
    [Extent1].[Decimal_Precision] AS [Decimal_Precision], 
    [Extent1].[AvePrice_Rounding] AS [AvePrice_Rounding], 
    [Extent1].[Issue_Date] AS [Issue_Date], 
    [Extent1].[Maturity_Date] AS [Maturity_Date], 
    [Extent1].[Coupon_Rate] AS [Coupon_Rate], 
    [Extent1].[Price_Exchange] AS [Price_Exchange], 
    [Extent1].[Trade_Currency] AS [Trade_Currency], 
    [Extent1].[Price_Curr] AS [Price_Curr], 
    [Extent1].[Currency_Pair_Code] AS [Currency_Pair_Code], 
    [Extent1].[Share_Class] AS [Share_Class], 
    [Extent1].[Current_Market_Price] AS [Current_Market_Price], 
    [Extent1].[Index_Type] AS [Index_Type], 
    [Extent1].[Clean_Price_Formula] AS [Clean_Price_Formula], 
    [Extent1].[Accrued_Income_Price_Formula] AS [Accrued_Income_Price_Formula], 
    [Extent1].[Odd_First_Coupon_Date] AS [Odd_First_Coupon_Date], 
    [Extent1].[Odd_Last_Coupon_Date] AS [Odd_Last_Coupon_Date], 
    [Extent1].[Coupon_Anniversary_Indicator] AS [Coupon_Anniversary_Indicator], 
    [Extent1].[Track_EOM_Flag] AS [Track_EOM_Flag], 
    [Extent1].[Next_Coupon_Date] AS [Next_Coupon_Date], 
    [Extent1].[Previous_Coupon_Date] AS [Previous_Coupon_Date], 
    [Extent1].[Payment_Frequency] AS [Payment_Frequency], 
    [Extent1].[Coupon_BusDay_Adjustment] AS [Coupon_BusDay_Adjustment], 
    [Extent1].[Next_Ex_Div_Date] AS [Next_Ex_Div_Date], 
    [Extent1].[Ex_Div_BusDay_Adjustment] AS [Ex_Div_BusDay_Adjustment], 
    [Extent1].[Ex_Div_Period] AS [Ex_Div_Period], 
    [Extent1].[Ticker] AS [Ticker], 
    [Extent1].[Inet_ID] AS [Inet_ID], 
    [Extent1].[Bloomberg_ID] AS [Bloomberg_ID], 
    [Extent1].[External_Sec_ID] AS [External_Sec_ID], 
    [Extent1].[Reuters_ID] AS [Reuters_ID], 
    [Extent1].[ISIN] AS [ISIN], 
    [Extent1].[Call_Account_Flag] AS [Call_Account_Flag], 
    [Extent1].[System_Locked] AS [System_Locked], 
    [Extent1].[Last_Update_User] AS [Last_Update_User], 
    [Extent1].[Last_Update_Date] AS [Last_Update_Date], 
    [Extent1].[Security_Status] AS [Security_Status], 
    [Extent1].[Benchmark_Portfolio] AS [Benchmark_Portfolio], 
    [Extent1].[Active_flag] AS [Active_flag], 
    [Extent1].[Dividend_FX_Security_ID] AS [Dividend_FX_Security_ID]
    FROM [dbo].[Security_Detail] AS [Extent1]
    WHERE [Extent1].[Security_ID] = @EntityKeyValue1
2018-04-07 16:04:37.6033|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: SELECT 
    [Extent1].[Security_ID] AS [Security_ID], 
    [Extent1].[Entity_ID] AS [Entity_ID], 
    [Extent1].[Security_Name] AS [Security_Name], 
    [Extent1].[Short_Name] AS [Short_Name], 
    [Extent1].[Primary_Exch] AS [Primary_Exch], 
    [Extent1].[Secondary_Exch] AS [Secondary_Exch], 
    [Extent1].[Country_Of_Domicile] AS [Country_Of_Domicile], 
    [Extent1].[Country_Of_Risk] AS [Country_Of_Risk], 
    [Extent1].[Security_Type_Code] AS [Security_Type_Code], 
    [Extent1].[Price_Multiplier] AS [Price_Multiplier], 
    [Extent1].[Income_Frequency] AS [Income_Frequency], 
    [Extent1].[Issuer_Code] AS [Issuer_Code], 
    [Extent1].[Ultimate_Issuer_Code] AS [Ultimate_Issuer_Code], 
    [Extent1].[Asset_Currency] AS [Asset_Currency], 
    [Extent1].[Min_Lot_Size] AS [Min_Lot_Size], 
    [Extent1].[Decimal_Precision] AS [Decimal_Precision], 
    [Extent1].[AvePrice_Rounding] AS [AvePrice_Rounding], 
    [Extent1].[Issue_Date] AS [Issue_Date], 
    [Extent1].[Maturity_Date] AS [Maturity_Date], 
    [Extent1].[Coupon_Rate] AS [Coupon_Rate], 
    [Extent1].[Price_Exchange] AS [Price_Exchange], 
    [Extent1].[Trade_Currency] AS [Trade_Currency], 
    [Extent1].[Price_Curr] AS [Price_Curr], 
    [Extent1].[Currency_Pair_Code] AS [Currency_Pair_Code], 
    [Extent1].[Share_Class] AS [Share_Class], 
    [Extent1].[Current_Market_Price] AS [Current_Market_Price], 
    [Extent1].[Index_Type] AS [Index_Type], 
    [Extent1].[Clean_Price_Formula] AS [Clean_Price_Formula], 
    [Extent1].[Accrued_Income_Price_Formula] AS [Accrued_Income_Price_Formula], 
    [Extent1].[Odd_First_Coupon_Date] AS [Odd_First_Coupon_Date], 
    [Extent1].[Odd_Last_Coupon_Date] AS [Odd_Last_Coupon_Date], 
    [Extent1].[Coupon_Anniversary_Indicator] AS [Coupon_Anniversary_Indicator], 
    [Extent1].[Track_EOM_Flag] AS [Track_EOM_Flag], 
    [Extent1].[Next_Coupon_Date] AS [Next_Coupon_Date], 
    [Extent1].[Previous_Coupon_Date] AS [Previous_Coupon_Date], 
    [Extent1].[Payment_Frequency] AS [Payment_Frequency], 
    [Extent1].[Coupon_BusDay_Adjustment] AS [Coupon_BusDay_Adjustment], 
    [Extent1].[Next_Ex_Div_Date] AS [Next_Ex_Div_Date], 
    [Extent1].[Ex_Div_BusDay_Adjustment] AS [Ex_Div_BusDay_Adjustment], 
    [Extent1].[Ex_Div_Period] AS [Ex_Div_Period], 
    [Extent1].[Ticker] AS [Ticker], 
    [Extent1].[Inet_ID] AS [Inet_ID], 
    [Extent1].[Bloomberg_ID] AS [Bloomberg_ID], 
    [Extent1].[External_Sec_ID] AS [External_Sec_ID], 
    [Extent1].[Reuters_ID] AS [Reuters_ID], 
    [Extent1].[ISIN] AS [ISIN], 
    [Extent1].[Call_Account_Flag] AS [Call_Account_Flag], 
    [Extent1].[System_Locked] AS [System_Locked], 
    [Extent1].[Last_Update_User] AS [Last_Update_User], 
    [Extent1].[Last_Update_Date] AS [Last_Update_Date], 
    [Extent1].[Security_Status] AS [Security_Status], 
    [Extent1].[Benchmark_Portfolio] AS [Benchmark_Portfolio], 
    [Extent1].[Active_flag] AS [Active_flag], 
    [Extent1].[Dividend_FX_Security_ID] AS [Dividend_FX_Security_ID]
    FROM [dbo].[Security_Detail] AS [Extent1]
    WHERE [Extent1].[Security_ID] = @EntityKeyValue1
2018-04-07 16:04:37.6319|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: SELECT 
    [Project1].[Security_ID] AS [Security_ID], 
    [Project1].[Entity_ID] AS [Entity_ID], 
    [Project1].[Security_Name] AS [Security_Name], 
    [Project1].[Short_Name] AS [Short_Name], 
    [Project1].[Primary_Exch] AS [Primary_Exch], 
    [Project1].[Secondary_Exch] AS [Secondary_Exch], 
    [Project1].[Country_Of_Domicile] AS [Country_Of_Domicile], 
    [Project1].[Country_Of_Risk] AS [Country_Of_Risk], 
    [Project1].[Security_Type_Code] AS [Security_Type_Code], 
    [Project1].[Price_Multiplier] AS [Price_Multiplier], 
    [Project1].[Income_Frequency] AS [Income_Frequency], 
    [Project1].[Issuer_Code] AS [Issuer_Code], 
    [Project1].[Ultimate_Issuer_Code] AS [Ultimate_Issuer_Code], 
    [Project1].[Asset_Currency] AS [Asset_Currency], 
    [Project1].[Min_Lot_Size] AS [Min_Lot_Size], 
    [Project1].[Decimal_Precision] AS [Decimal_Precision], 
    [Project1].[AvePrice_Rounding] AS [AvePrice_Rounding], 
    [Project1].[Issue_Date] AS [Issue_Date], 
    [Project1].[Maturity_Date] AS [Maturity_Date], 
    [Project1].[Coupon_Rate] AS [Coupon_Rate], 
    [Project1].[Price_Exchange] AS [Price_Exchange], 
    [Project1].[Trade_Currency] AS [Trade_Currency], 
    [Project1].[Price_Curr] AS [Price_Curr], 
    [Project1].[Currency_Pair_Code] AS [Currency_Pair_Code], 
    [Project1].[Share_Class] AS [Share_Class], 
    [Project1].[Current_Market_Price] AS [Current_Market_Price], 
    [Project1].[Index_Type] AS [Index_Type], 
    [Project1].[Clean_Price_Formula] AS [Clean_Price_Formula], 
    [Project1].[Accrued_Income_Price_Formula] AS [Accrued_Income_Price_Formula], 
    [Project1].[Odd_First_Coupon_Date] AS [Odd_First_Coupon_Date], 
    [Project1].[Odd_Last_Coupon_Date] AS [Odd_Last_Coupon_Date], 
    [Project1].[Coupon_Anniversary_Indicator] AS [Coupon_Anniversary_Indicator], 
    [Project1].[Track_EOM_Flag] AS [Track_EOM_Flag], 
    [Project1].[Next_Coupon_Date] AS [Next_Coupon_Date], 
    [Project1].[Previous_Coupon_Date] AS [Previous_Coupon_Date], 
    [Project1].[Payment_Frequency] AS [Payment_Frequency], 
    [Project1].[Coupon_BusDay_Adjustment] AS [Coupon_BusDay_Adjustment], 
    [Project1].[Next_Ex_Div_Date] AS [Next_Ex_Div_Date], 
    [Project1].[Ex_Div_BusDay_Adjustment] AS [Ex_Div_BusDay_Adjustment], 
    [Project1].[Ex_Div_Period] AS [Ex_Div_Period], 
    [Project1].[Ticker] AS [Ticker], 
    [Project1].[Inet_ID] AS [Inet_ID], 
    [Project1].[Bloomberg_ID] AS [Bloomberg_ID], 
    [Project1].[External_Sec_ID] AS [External_Sec_ID], 
    [Project1].[Reuters_ID] AS [Reuters_ID], 
    [Project1].[ISIN] AS [ISIN], 
    [Project1].[Call_Account_Flag] AS [Call_Account_Flag], 
    [Project1].[System_Locked] AS [System_Locked], 
    [Project1].[Last_Update_User] AS [Last_Update_User], 
    [Project1].[Last_Update_Date] AS [Last_Update_Date], 
    [Project1].[Security_Status] AS [Security_Status], 
    [Project1].[Benchmark_Portfolio] AS [Benchmark_Portfolio], 
    [Project1].[Active_flag] AS [Active_flag], 
    [Project1].[Dividend_FX_Security_ID] AS [Dividend_FX_Security_ID]
    FROM ( SELECT 
        [Extent1].[Security_ID] AS [Security_ID], 
        [Extent1].[Entity_ID] AS [Entity_ID], 
        [Extent1].[Security_Name] AS [Security_Name], 
        [Extent1].[Short_Name] AS [Short_Name], 
        [Extent1].[Primary_Exch] AS [Primary_Exch], 
        [Extent1].[Secondary_Exch] AS [Secondary_Exch], 
        [Extent1].[Country_Of_Domicile] AS [Country_Of_Domicile], 
        [Extent1].[Country_Of_Risk] AS [Country_Of_Risk], 
        [Extent1].[Security_Type_Code] AS [Security_Type_Code], 
        [Extent1].[Price_Multiplier] AS [Price_Multiplier], 
        [Extent1].[Income_Frequency] AS [Income_Frequency], 
        [Extent1].[Issuer_Code] AS [Issuer_Code], 
        [Extent1].[Ultimate_Issuer_Code] AS [Ultimate_Issuer_Code], 
        [Extent1].[Asset_Currency] AS [Asset_Currency], 
        [Extent1].[Min_Lot_Size] AS [Min_Lot_Size], 
        [Extent1].[Decimal_Precision] AS [Decimal_Precision], 
        [Extent1].[AvePrice_Rounding] AS [AvePrice_Rounding], 
        [Extent1].[Issue_Date] AS [Issue_Date], 
        [Extent1].[Maturity_Date] AS [Maturity_Date], 
        [Extent1].[Coupon_Rate] AS [Coupon_Rate], 
        [Extent1].[Price_Exchange] AS [Price_Exchange], 
        [Extent1].[Trade_Currency] AS [Trade_Currency], 
        [Extent1].[Price_Curr] AS [Price_Curr], 
        [Extent1].[Currency_Pair_Code] AS [Currency_Pair_Code], 
        [Extent1].[Share_Class] AS [Share_Class], 
        [Extent1].[Current_Market_Price] AS [Current_Market_Price], 
        [Extent1].[Index_Type] AS [Index_Type], 
        [Extent1].[Clean_Price_Formula] AS [Clean_Price_Formula], 
        [Extent1].[Accrued_Income_Price_Formula] AS [Accrued_Income_Price_Formula], 
        [Extent1].[Odd_First_Coupon_Date] AS [Odd_First_Coupon_Date], 
        [Extent1].[Odd_Last_Coupon_Date] AS [Odd_Last_Coupon_Date], 
        [Extent1].[Coupon_Anniversary_Indicator] AS [Coupon_Anniversary_Indicator], 
        [Extent1].[Track_EOM_Flag] AS [Track_EOM_Flag], 
        [Extent1].[Next_Coupon_Date] AS [Next_Coupon_Date], 
        [Extent1].[Previous_Coupon_Date] AS [Previous_Coupon_Date], 
        [Extent1].[Payment_Frequency] AS [Payment_Frequency], 
        [Extent1].[Coupon_BusDay_Adjustment] AS [Coupon_BusDay_Adjustment], 
        [Extent1].[Next_Ex_Div_Date] AS [Next_Ex_Div_Date], 
        [Extent1].[Ex_Div_BusDay_Adjustment] AS [Ex_Div_BusDay_Adjustment], 
        [Extent1].[Ex_Div_Period] AS [Ex_Div_Period], 
        [Extent1].[Ticker] AS [Ticker], 
        [Extent1].[Inet_ID] AS [Inet_ID], 
        [Extent1].[Bloomberg_ID] AS [Bloomberg_ID], 
        [Extent1].[External_Sec_ID] AS [External_Sec_ID], 
        [Extent1].[Reuters_ID] AS [Reuters_ID], 
        [Extent1].[ISIN] AS [ISIN], 
        [Extent1].[Call_Account_Flag] AS [Call_Account_Flag], 
        [Extent1].[System_Locked] AS [System_Locked], 
        [Extent1].[Last_Update_User] AS [Last_Update_User], 
        [Extent1].[Last_Update_Date] AS [Last_Update_Date], 
        [Extent1].[Security_Status] AS [Security_Status], 
        [Extent1].[Benchmark_Portfolio] AS [Benchmark_Portfolio], 
        [Extent1].[Active_flag] AS [Active_flag], 
        [Extent1].[Dividend_FX_Security_ID] AS [Dividend_FX_Security_ID]
        FROM [dbo].[Security_Detail] AS [Extent1]
        WHERE ([Extent1].[Entity_ID] IN (@p__linq__0,@p__linq__1)) AND ((CASE WHEN ( NOT ((N'' = @p__linq__2) AND (@p__linq__2 IS NOT NULL))) THEN CASE WHEN ([Extent1].[Security_Type_Code] = @p__linq__3) THEN cast(1 as bit) WHEN ( NOT (([Extent1].[Security_Type_Code] = @p__linq__3) AND (0 = (CASE WHEN (@p__linq__3 IS NULL) THEN cast(1 as bit) ELSE cast(0 as bit) END)))) THEN cast(0 as bit) END WHEN ('' <> [Extent1].[Security_Type_Code]) THEN cast(1 as bit) WHEN ('' = [Extent1].[Security_Type_Code]) THEN cast(0 as bit) END) = 1)
    )  AS [Project1]
    ORDER BY [Project1].[Security_Name] ASC
2018-04-07 16:04:37.6549|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: SELECT 
    [Project1].[Security_ID] AS [Security_ID], 
    [Project1].[Entity_ID] AS [Entity_ID], 
    [Project1].[Security_Name] AS [Security_Name], 
    [Project1].[Short_Name] AS [Short_Name], 
    [Project1].[Primary_Exch] AS [Primary_Exch], 
    [Project1].[Secondary_Exch] AS [Secondary_Exch], 
    [Project1].[Country_Of_Domicile] AS [Country_Of_Domicile], 
    [Project1].[Country_Of_Risk] AS [Country_Of_Risk], 
    [Project1].[Security_Type_Code] AS [Security_Type_Code], 
    [Project1].[Price_Multiplier] AS [Price_Multiplier], 
    [Project1].[Income_Frequency] AS [Income_Frequency], 
    [Project1].[Issuer_Code] AS [Issuer_Code], 
    [Project1].[Ultimate_Issuer_Code] AS [Ultimate_Issuer_Code], 
    [Project1].[Asset_Currency] AS [Asset_Currency], 
    [Project1].[Min_Lot_Size] AS [Min_Lot_Size], 
    [Project1].[Decimal_Precision] AS [Decimal_Precision], 
    [Project1].[AvePrice_Rounding] AS [AvePrice_Rounding], 
    [Project1].[Issue_Date] AS [Issue_Date], 
    [Project1].[Maturity_Date] AS [Maturity_Date], 
    [Project1].[Coupon_Rate] AS [Coupon_Rate], 
    [Project1].[Price_Exchange] AS [Price_Exchange], 
    [Project1].[Trade_Currency] AS [Trade_Currency], 
    [Project1].[Price_Curr] AS [Price_Curr], 
    [Project1].[Currency_Pair_Code] AS [Currency_Pair_Code], 
    [Project1].[Share_Class] AS [Share_Class], 
    [Project1].[Current_Market_Price] AS [Current_Market_Price], 
    [Project1].[Index_Type] AS [Index_Type], 
    [Project1].[Clean_Price_Formula] AS [Clean_Price_Formula], 
    [Project1].[Accrued_Income_Price_Formula] AS [Accrued_Income_Price_Formula], 
    [Project1].[Odd_First_Coupon_Date] AS [Odd_First_Coupon_Date], 
    [Project1].[Odd_Last_Coupon_Date] AS [Odd_Last_Coupon_Date], 
    [Project1].[Coupon_Anniversary_Indicator] AS [Coupon_Anniversary_Indicator], 
    [Project1].[Track_EOM_Flag] AS [Track_EOM_Flag], 
    [Project1].[Next_Coupon_Date] AS [Next_Coupon_Date], 
    [Project1].[Previous_Coupon_Date] AS [Previous_Coupon_Date], 
    [Project1].[Payment_Frequency] AS [Payment_Frequency], 
    [Project1].[Coupon_BusDay_Adjustment] AS [Coupon_BusDay_Adjustment], 
    [Project1].[Next_Ex_Div_Date] AS [Next_Ex_Div_Date], 
    [Project1].[Ex_Div_BusDay_Adjustment] AS [Ex_Div_BusDay_Adjustment], 
    [Project1].[Ex_Div_Period] AS [Ex_Div_Period], 
    [Project1].[Ticker] AS [Ticker], 
    [Project1].[Inet_ID] AS [Inet_ID], 
    [Project1].[Bloomberg_ID] AS [Bloomberg_ID], 
    [Project1].[External_Sec_ID] AS [External_Sec_ID], 
    [Project1].[Reuters_ID] AS [Reuters_ID], 
    [Project1].[ISIN] AS [ISIN], 
    [Project1].[Call_Account_Flag] AS [Call_Account_Flag], 
    [Project1].[System_Locked] AS [System_Locked], 
    [Project1].[Last_Update_User] AS [Last_Update_User], 
    [Project1].[Last_Update_Date] AS [Last_Update_Date], 
    [Project1].[Security_Status] AS [Security_Status], 
    [Project1].[Benchmark_Portfolio] AS [Benchmark_Portfolio], 
    [Project1].[Active_flag] AS [Active_flag], 
    [Project1].[Dividend_FX_Security_ID] AS [Dividend_FX_Security_ID]
    FROM ( SELECT 
        [Extent1].[Security_ID] AS [Security_ID], 
        [Extent1].[Entity_ID] AS [Entity_ID], 
        [Extent1].[Security_Name] AS [Security_Name], 
        [Extent1].[Short_Name] AS [Short_Name], 
        [Extent1].[Primary_Exch] AS [Primary_Exch], 
        [Extent1].[Secondary_Exch] AS [Secondary_Exch], 
        [Extent1].[Country_Of_Domicile] AS [Country_Of_Domicile], 
        [Extent1].[Country_Of_Risk] AS [Country_Of_Risk], 
        [Extent1].[Security_Type_Code] AS [Security_Type_Code], 
        [Extent1].[Price_Multiplier] AS [Price_Multiplier], 
        [Extent1].[Income_Frequency] AS [Income_Frequency], 
        [Extent1].[Issuer_Code] AS [Issuer_Code], 
        [Extent1].[Ultimate_Issuer_Code] AS [Ultimate_Issuer_Code], 
        [Extent1].[Asset_Currency] AS [Asset_Currency], 
        [Extent1].[Min_Lot_Size] AS [Min_Lot_Size], 
        [Extent1].[Decimal_Precision] AS [Decimal_Precision], 
        [Extent1].[AvePrice_Rounding] AS [AvePrice_Rounding], 
        [Extent1].[Issue_Date] AS [Issue_Date], 
        [Extent1].[Maturity_Date] AS [Maturity_Date], 
        [Extent1].[Coupon_Rate] AS [Coupon_Rate], 
        [Extent1].[Price_Exchange] AS [Price_Exchange], 
        [Extent1].[Trade_Currency] AS [Trade_Currency], 
        [Extent1].[Price_Curr] AS [Price_Curr], 
        [Extent1].[Currency_Pair_Code] AS [Currency_Pair_Code], 
        [Extent1].[Share_Class] AS [Share_Class], 
        [Extent1].[Current_Market_Price] AS [Current_Market_Price], 
        [Extent1].[Index_Type] AS [Index_Type], 
        [Extent1].[Clean_Price_Formula] AS [Clean_Price_Formula], 
        [Extent1].[Accrued_Income_Price_Formula] AS [Accrued_Income_Price_Formula], 
        [Extent1].[Odd_First_Coupon_Date] AS [Odd_First_Coupon_Date], 
        [Extent1].[Odd_Last_Coupon_Date] AS [Odd_Last_Coupon_Date], 
        [Extent1].[Coupon_Anniversary_Indicator] AS [Coupon_Anniversary_Indicator], 
        [Extent1].[Track_EOM_Flag] AS [Track_EOM_Flag], 
        [Extent1].[Next_Coupon_Date] AS [Next_Coupon_Date], 
        [Extent1].[Previous_Coupon_Date] AS [Previous_Coupon_Date], 
        [Extent1].[Payment_Frequency] AS [Payment_Frequency], 
        [Extent1].[Coupon_BusDay_Adjustment] AS [Coupon_BusDay_Adjustment], 
        [Extent1].[Next_Ex_Div_Date] AS [Next_Ex_Div_Date], 
        [Extent1].[Ex_Div_BusDay_Adjustment] AS [Ex_Div_BusDay_Adjustment], 
        [Extent1].[Ex_Div_Period] AS [Ex_Div_Period], 
        [Extent1].[Ticker] AS [Ticker], 
        [Extent1].[Inet_ID] AS [Inet_ID], 
        [Extent1].[Bloomberg_ID] AS [Bloomberg_ID], 
        [Extent1].[External_Sec_ID] AS [External_Sec_ID], 
        [Extent1].[Reuters_ID] AS [Reuters_ID], 
        [Extent1].[ISIN] AS [ISIN], 
        [Extent1].[Call_Account_Flag] AS [Call_Account_Flag], 
        [Extent1].[System_Locked] AS [System_Locked], 
        [Extent1].[Last_Update_User] AS [Last_Update_User], 
        [Extent1].[Last_Update_Date] AS [Last_Update_Date], 
        [Extent1].[Security_Status] AS [Security_Status], 
        [Extent1].[Benchmark_Portfolio] AS [Benchmark_Portfolio], 
        [Extent1].[Active_flag] AS [Active_flag], 
        [Extent1].[Dividend_FX_Security_ID] AS [Dividend_FX_Security_ID]
        FROM [dbo].[Security_Detail] AS [Extent1]
        WHERE ([Extent1].[Entity_ID] IN (@p__linq__0,@p__linq__1)) AND ((CASE WHEN ( NOT ((N'' = @p__linq__2) AND (@p__linq__2 IS NOT NULL))) THEN CASE WHEN ([Extent1].[Security_Type_Code] = @p__linq__3) THEN cast(1 as bit) WHEN ( NOT (([Extent1].[Security_Type_Code] = @p__linq__3) AND (0 = (CASE WHEN (@p__linq__3 IS NULL) THEN cast(1 as bit) ELSE cast(0 as bit) END)))) THEN cast(0 as bit) END WHEN ('' <> [Extent1].[Security_Type_Code]) THEN cast(1 as bit) WHEN ('' = [Extent1].[Security_Type_Code]) THEN cast(0 as bit) END) = 1)
    )  AS [Project1]
    ORDER BY [Project1].[Security_Name] ASC
2018-04-07 16:04:37.6874|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: IF db_id(N'MetopeAzureDb') IS NOT NULL SELECT 1 ELSE SELECT Count(*) FROM sys.databases WHERE [name]=N'MetopeAzureDb'
2018-04-07 16:04:37.7074|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: IF db_id(N'MetopeAzureDb') IS NOT NULL SELECT 1 ELSE SELECT Count(*) FROM sys.databases WHERE [name]=N'MetopeAzureDb'
2018-04-07 16:04:37.7279|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: IF db_id(N'MetopeAzureDb') IS NOT NULL SELECT 1 ELSE SELECT Count(*) FROM sys.databases WHERE [name]=N'MetopeAzureDb'
2018-04-07 16:04:37.7499|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: IF db_id(N'MetopeAzureDb') IS NOT NULL SELECT 1 ELSE SELECT Count(*) FROM sys.databases WHERE [name]=N'MetopeAzureDb'
2018-04-07 16:37:31.9253|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: select cast(serverproperty('EngineEdition') as int)
2018-04-07 16:37:32.0004|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: select cast(serverproperty('EngineEdition') as int)
2018-04-07 16:37:34.4471|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: IF db_id(N'MetopeAzureDb') IS NOT NULL SELECT 1 ELSE SELECT Count(*) FROM sys.databases WHERE [name]=N'MetopeAzureDb'
2018-04-07 16:37:34.4621|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: IF db_id(N'MetopeAzureDb') IS NOT NULL SELECT 1 ELSE SELECT Count(*) FROM sys.databases WHERE [name]=N'MetopeAzureDb'
2018-04-07 16:37:34.5962|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: IF db_id(N'MetopeAzureDb') IS NOT NULL SELECT 1 ELSE SELECT Count(*) FROM sys.databases WHERE [name]=N'MetopeAzureDb'
2018-04-07 16:37:34.5962|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: IF db_id(N'MetopeAzureDb') IS NOT NULL SELECT 1 ELSE SELECT Count(*) FROM sys.databases WHERE [name]=N'MetopeAzureDb'
2018-04-07 16:37:35.3183|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: IF db_id(N'MetopeAzureDb') IS NOT NULL SELECT 1 ELSE SELECT Count(*) FROM sys.databases WHERE [name]=N'MetopeAzureDb'
2018-04-07 16:37:35.4679|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: IF db_id(N'MetopeAzureDb') IS NOT NULL SELECT 1 ELSE SELECT Count(*) FROM sys.databases WHERE [name]=N'MetopeAzureDb'
2018-04-07 16:37:35.5399|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: 
SELECT Count(*)
FROM INFORMATION_SCHEMA.TABLES AS t
WHERE t.TABLE_SCHEMA + '.' + t.TABLE_NAME IN ('dbo.AspNetRoles','dbo.AspNetUserRoles','dbo.AspNetUsers','dbo.AspNetUserClaims','dbo.AspNetUserLogins')
    OR t.TABLE_NAME = 'EdmMetadata'
2018-04-07 16:37:35.6995|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: 
SELECT Count(*)
FROM INFORMATION_SCHEMA.TABLES AS t
WHERE t.TABLE_SCHEMA + '.' + t.TABLE_NAME IN ('dbo.AspNetRoles','dbo.AspNetUserRoles','dbo.AspNetUsers','dbo.AspNetUserClaims','dbo.AspNetUserLogins')
    OR t.TABLE_NAME = 'EdmMetadata'
2018-04-07 16:37:39.0751|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: SELECT 
    [GroupBy1].[A1] AS [C1]
    FROM ( SELECT 
        COUNT(1) AS [A1]
        FROM [dbo].[__MigrationHistory] AS [Extent1]
        WHERE [Extent1].[ContextKey] = @p__linq__0
    )  AS [GroupBy1]
2018-04-07 16:37:39.1062|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: SELECT 
    [GroupBy1].[A1] AS [C1]
    FROM ( SELECT 
        COUNT(1) AS [A1]
        FROM [dbo].[__MigrationHistory] AS [Extent1]
        WHERE [Extent1].[ContextKey] = @p__linq__0
    )  AS [GroupBy1]
2018-04-07 16:37:39.4699|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: SELECT TOP (1) 
    [Project1].[C1] AS [C1], 
    [Project1].[MigrationId] AS [MigrationId], 
    [Project1].[Model] AS [Model], 
    [Project1].[ProductVersion] AS [ProductVersion]
    FROM ( SELECT 
        [Extent1].[MigrationId] AS [MigrationId], 
        [Extent1].[Model] AS [Model], 
        [Extent1].[ProductVersion] AS [ProductVersion], 
        1 AS [C1]
        FROM [dbo].[__MigrationHistory] AS [Extent1]
        WHERE [Extent1].[ContextKey] = @p__linq__0
    )  AS [Project1]
    ORDER BY [Project1].[MigrationId] DESC
2018-04-07 16:37:39.4914|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: SELECT TOP (1) 
    [Project1].[C1] AS [C1], 
    [Project1].[MigrationId] AS [MigrationId], 
    [Project1].[Model] AS [Model], 
    [Project1].[ProductVersion] AS [ProductVersion]
    FROM ( SELECT 
        [Extent1].[MigrationId] AS [MigrationId], 
        [Extent1].[Model] AS [Model], 
        [Extent1].[ProductVersion] AS [ProductVersion], 
        1 AS [C1]
        FROM [dbo].[__MigrationHistory] AS [Extent1]
        WHERE [Extent1].[ContextKey] = @p__linq__0
    )  AS [Project1]
    ORDER BY [Project1].[MigrationId] DESC
2018-04-07 16:37:41.1706|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: True, Command Text: SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[EntityIdScope] AS [EntityIdScope], 
    [Extent1].[Email] AS [Email], 
    [Extent1].[EmailConfirmed] AS [EmailConfirmed], 
    [Extent1].[PasswordHash] AS [PasswordHash], 
    [Extent1].[SecurityStamp] AS [SecurityStamp], 
    [Extent1].[PhoneNumber] AS [PhoneNumber], 
    [Extent1].[PhoneNumberConfirmed] AS [PhoneNumberConfirmed], 
    [Extent1].[TwoFactorEnabled] AS [TwoFactorEnabled], 
    [Extent1].[LockoutEndDateUtc] AS [LockoutEndDateUtc], 
    [Extent1].[LockoutEnabled] AS [LockoutEnabled], 
    [Extent1].[AccessFailedCount] AS [AccessFailedCount], 
    [Extent1].[UserName] AS [UserName]
    FROM [dbo].[AspNetUsers] AS [Extent1]
    WHERE [Extent1].[Id] = @p0
2018-04-07 16:37:41.1706|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: True, Command Text: SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[EntityIdScope] AS [EntityIdScope], 
    [Extent1].[Email] AS [Email], 
    [Extent1].[EmailConfirmed] AS [EmailConfirmed], 
    [Extent1].[PasswordHash] AS [PasswordHash], 
    [Extent1].[SecurityStamp] AS [SecurityStamp], 
    [Extent1].[PhoneNumber] AS [PhoneNumber], 
    [Extent1].[PhoneNumberConfirmed] AS [PhoneNumberConfirmed], 
    [Extent1].[TwoFactorEnabled] AS [TwoFactorEnabled], 
    [Extent1].[LockoutEndDateUtc] AS [LockoutEndDateUtc], 
    [Extent1].[LockoutEnabled] AS [LockoutEnabled], 
    [Extent1].[AccessFailedCount] AS [AccessFailedCount], 
    [Extent1].[UserName] AS [UserName]
    FROM [dbo].[AspNetUsers] AS [Extent1]
    WHERE [Extent1].[Id] = @p0
2018-04-07 16:37:41.2447|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: True, Command Text: SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[EntityIdScope] AS [EntityIdScope], 
    [Extent1].[Email] AS [Email], 
    [Extent1].[EmailConfirmed] AS [EmailConfirmed], 
    [Extent1].[PasswordHash] AS [PasswordHash], 
    [Extent1].[SecurityStamp] AS [SecurityStamp], 
    [Extent1].[PhoneNumber] AS [PhoneNumber], 
    [Extent1].[PhoneNumberConfirmed] AS [PhoneNumberConfirmed], 
    [Extent1].[TwoFactorEnabled] AS [TwoFactorEnabled], 
    [Extent1].[LockoutEndDateUtc] AS [LockoutEndDateUtc], 
    [Extent1].[LockoutEnabled] AS [LockoutEnabled], 
    [Extent1].[AccessFailedCount] AS [AccessFailedCount], 
    [Extent1].[UserName] AS [UserName]
    FROM [dbo].[AspNetUsers] AS [Extent1]
    WHERE [Extent1].[Id] = @p0
2018-04-07 16:37:41.2447|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: True, Command Text: SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[EntityIdScope] AS [EntityIdScope], 
    [Extent1].[Email] AS [Email], 
    [Extent1].[EmailConfirmed] AS [EmailConfirmed], 
    [Extent1].[PasswordHash] AS [PasswordHash], 
    [Extent1].[SecurityStamp] AS [SecurityStamp], 
    [Extent1].[PhoneNumber] AS [PhoneNumber], 
    [Extent1].[PhoneNumberConfirmed] AS [PhoneNumberConfirmed], 
    [Extent1].[TwoFactorEnabled] AS [TwoFactorEnabled], 
    [Extent1].[LockoutEndDateUtc] AS [LockoutEndDateUtc], 
    [Extent1].[LockoutEnabled] AS [LockoutEnabled], 
    [Extent1].[AccessFailedCount] AS [AccessFailedCount], 
    [Extent1].[UserName] AS [UserName]
    FROM [dbo].[AspNetUsers] AS [Extent1]
    WHERE [Extent1].[Id] = @p0
2018-04-07 16:37:42.0052|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: True, Command Text: SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[UserId] AS [UserId], 
    [Extent1].[ClaimType] AS [ClaimType], 
    [Extent1].[ClaimValue] AS [ClaimValue]
    FROM [dbo].[AspNetUserClaims] AS [Extent1]
    WHERE [Extent1].[UserId] = @p__linq__0
2018-04-07 16:37:42.0052|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: True, Command Text: SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[UserId] AS [UserId], 
    [Extent1].[ClaimType] AS [ClaimType], 
    [Extent1].[ClaimValue] AS [ClaimValue]
    FROM [dbo].[AspNetUserClaims] AS [Extent1]
    WHERE [Extent1].[UserId] = @p__linq__0
2018-04-07 16:37:42.0397|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: True, Command Text: SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[UserId] AS [UserId], 
    [Extent1].[ClaimType] AS [ClaimType], 
    [Extent1].[ClaimValue] AS [ClaimValue]
    FROM [dbo].[AspNetUserClaims] AS [Extent1]
    WHERE [Extent1].[UserId] = @p__linq__0
2018-04-07 16:37:42.0748|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: True, Command Text: SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[UserId] AS [UserId], 
    [Extent1].[ClaimType] AS [ClaimType], 
    [Extent1].[ClaimValue] AS [ClaimValue]
    FROM [dbo].[AspNetUserClaims] AS [Extent1]
    WHERE [Extent1].[UserId] = @p__linq__0
2018-04-07 16:37:42.2319|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: True, Command Text: SELECT 
    [Extent1].[LoginProvider] AS [LoginProvider], 
    [Extent1].[ProviderKey] AS [ProviderKey], 
    [Extent1].[UserId] AS [UserId]
    FROM [dbo].[AspNetUserLogins] AS [Extent1]
    WHERE [Extent1].[UserId] = @p__linq__0
2018-04-07 16:37:42.2529|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: True, Command Text: SELECT 
    [Extent1].[LoginProvider] AS [LoginProvider], 
    [Extent1].[ProviderKey] AS [ProviderKey], 
    [Extent1].[UserId] AS [UserId]
    FROM [dbo].[AspNetUserLogins] AS [Extent1]
    WHERE [Extent1].[UserId] = @p__linq__0
2018-04-07 16:37:42.2899|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: True, Command Text: SELECT 
    [Extent1].[LoginProvider] AS [LoginProvider], 
    [Extent1].[ProviderKey] AS [ProviderKey], 
    [Extent1].[UserId] AS [UserId]
    FROM [dbo].[AspNetUserLogins] AS [Extent1]
    WHERE [Extent1].[UserId] = @p__linq__0
2018-04-07 16:37:42.3059|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: True, Command Text: SELECT 
    [Extent1].[LoginProvider] AS [LoginProvider], 
    [Extent1].[ProviderKey] AS [ProviderKey], 
    [Extent1].[UserId] AS [UserId]
    FROM [dbo].[AspNetUserLogins] AS [Extent1]
    WHERE [Extent1].[UserId] = @p__linq__0
2018-04-07 16:37:42.4310|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: True, Command Text: SELECT 
    [Extent1].[UserId] AS [UserId], 
    [Extent1].[RoleId] AS [RoleId]
    FROM [dbo].[AspNetUserRoles] AS [Extent1]
    WHERE [Extent1].[UserId] = @p__linq__0
2018-04-07 16:37:42.4310|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: True, Command Text: SELECT 
    [Extent1].[UserId] AS [UserId], 
    [Extent1].[RoleId] AS [RoleId]
    FROM [dbo].[AspNetUserRoles] AS [Extent1]
    WHERE [Extent1].[UserId] = @p__linq__0
2018-04-07 16:37:42.4786|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: True, Command Text: SELECT 
    [Extent1].[UserId] AS [UserId], 
    [Extent1].[RoleId] AS [RoleId]
    FROM [dbo].[AspNetUserRoles] AS [Extent1]
    WHERE [Extent1].[UserId] = @p__linq__0
2018-04-07 16:37:42.4786|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: True, Command Text: SELECT 
    [Extent1].[UserId] AS [UserId], 
    [Extent1].[RoleId] AS [RoleId]
    FROM [dbo].[AspNetUserRoles] AS [Extent1]
    WHERE [Extent1].[UserId] = @p__linq__0
2018-04-07 16:37:43.7119|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: SELECT 
    [Extent1].[Security_ID] AS [Security_ID], 
    [Extent1].[Portfolio_Code] AS [Portfolio_Code], 
    [Extent1].[Entity_ID] AS [Entity_ID], 
    [Extent1].[ModDietz_Performance_Quarterly] AS [ModDietz_Performance_Quarterly], 
    [Extent1].[ModDietz_Performance_Monthly] AS [ModDietz_Performance_Monthly], 
    [Extent1].[ModDietz_Performance_MonthToDate] AS [ModDietz_Performance_MonthToDate], 
    [Extent1].[Dietz_Performance_Quarterly] AS [Dietz_Performance_Quarterly], 
    [Extent1].[Dietz_Performance_Monthly] AS [Dietz_Performance_Monthly], 
    [Extent1].[Dietz_Performance_MonthToDate] AS [Dietz_Performance_MonthToDate], 
    [Extent1].[Last_Update_Date] AS [Last_Update_Date], 
    [Extent1].[Last_Update_User] AS [Last_Update_User], 
    [Extent1].[Record_Date] AS [Record_Date], 
    [Extent1].[Session_ID] AS [Session_ID], 
    [Extent1].[Hist_Last_Update_Date] AS [Hist_Last_Update_Date], 
    [Extent1].[Hist_Last_Update_User] AS [Hist_Last_Update_User]
    FROM [dbo].[Security_Performance_History] AS [Extent1]
    WHERE ([Extent1].[Security_ID] = @p__linq__0) AND ([Extent1].[Portfolio_Code] = @p__linq__1) AND ([Extent1].[Record_Date] = @p__linq__2) AND ([Extent1].[Entity_ID] = @p__linq__3)
2018-04-07 16:37:43.7119|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: SELECT 
    [Extent1].[Security_ID] AS [Security_ID], 
    [Extent1].[Portfolio_Code] AS [Portfolio_Code], 
    [Extent1].[Entity_ID] AS [Entity_ID], 
    [Extent1].[ModDietz_Performance_Quarterly] AS [ModDietz_Performance_Quarterly], 
    [Extent1].[ModDietz_Performance_Monthly] AS [ModDietz_Performance_Monthly], 
    [Extent1].[ModDietz_Performance_MonthToDate] AS [ModDietz_Performance_MonthToDate], 
    [Extent1].[Dietz_Performance_Quarterly] AS [Dietz_Performance_Quarterly], 
    [Extent1].[Dietz_Performance_Monthly] AS [Dietz_Performance_Monthly], 
    [Extent1].[Dietz_Performance_MonthToDate] AS [Dietz_Performance_MonthToDate], 
    [Extent1].[Last_Update_Date] AS [Last_Update_Date], 
    [Extent1].[Last_Update_User] AS [Last_Update_User], 
    [Extent1].[Record_Date] AS [Record_Date], 
    [Extent1].[Session_ID] AS [Session_ID], 
    [Extent1].[Hist_Last_Update_Date] AS [Hist_Last_Update_Date], 
    [Extent1].[Hist_Last_Update_User] AS [Hist_Last_Update_User]
    FROM [dbo].[Security_Performance_History] AS [Extent1]
    WHERE ([Extent1].[Security_ID] = @p__linq__0) AND ([Extent1].[Portfolio_Code] = @p__linq__1) AND ([Extent1].[Record_Date] = @p__linq__2) AND ([Extent1].[Entity_ID] = @p__linq__3)
2018-04-07 16:37:43.7660|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: SELECT 
    [Extent1].[Security_ID] AS [Security_ID], 
    [Extent1].[Portfolio_Code] AS [Portfolio_Code], 
    [Extent1].[Entity_ID] AS [Entity_ID], 
    [Extent1].[ModDietz_Performance_Quarterly] AS [ModDietz_Performance_Quarterly], 
    [Extent1].[ModDietz_Performance_Monthly] AS [ModDietz_Performance_Monthly], 
    [Extent1].[ModDietz_Performance_MonthToDate] AS [ModDietz_Performance_MonthToDate], 
    [Extent1].[Dietz_Performance_Quarterly] AS [Dietz_Performance_Quarterly], 
    [Extent1].[Dietz_Performance_Monthly] AS [Dietz_Performance_Monthly], 
    [Extent1].[Dietz_Performance_MonthToDate] AS [Dietz_Performance_MonthToDate], 
    [Extent1].[Last_Update_Date] AS [Last_Update_Date], 
    [Extent1].[Last_Update_User] AS [Last_Update_User], 
    [Extent1].[Record_Date] AS [Record_Date], 
    [Extent1].[Session_ID] AS [Session_ID], 
    [Extent1].[Hist_Last_Update_Date] AS [Hist_Last_Update_Date], 
    [Extent1].[Hist_Last_Update_User] AS [Hist_Last_Update_User]
    FROM [dbo].[Security_Performance_History] AS [Extent1]
    WHERE ([Extent1].[Security_ID] = @p__linq__0) AND ([Extent1].[Portfolio_Code] = @p__linq__1) AND ([Extent1].[Record_Date] = @p__linq__2) AND ([Extent1].[Entity_ID] = @p__linq__3)
2018-04-07 16:37:43.7660|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: SELECT 
    [Extent1].[Security_ID] AS [Security_ID], 
    [Extent1].[Portfolio_Code] AS [Portfolio_Code], 
    [Extent1].[Entity_ID] AS [Entity_ID], 
    [Extent1].[ModDietz_Performance_Quarterly] AS [ModDietz_Performance_Quarterly], 
    [Extent1].[ModDietz_Performance_Monthly] AS [ModDietz_Performance_Monthly], 
    [Extent1].[ModDietz_Performance_MonthToDate] AS [ModDietz_Performance_MonthToDate], 
    [Extent1].[Dietz_Performance_Quarterly] AS [Dietz_Performance_Quarterly], 
    [Extent1].[Dietz_Performance_Monthly] AS [Dietz_Performance_Monthly], 
    [Extent1].[Dietz_Performance_MonthToDate] AS [Dietz_Performance_MonthToDate], 
    [Extent1].[Last_Update_Date] AS [Last_Update_Date], 
    [Extent1].[Last_Update_User] AS [Last_Update_User], 
    [Extent1].[Record_Date] AS [Record_Date], 
    [Extent1].[Session_ID] AS [Session_ID], 
    [Extent1].[Hist_Last_Update_Date] AS [Hist_Last_Update_Date], 
    [Extent1].[Hist_Last_Update_User] AS [Hist_Last_Update_User]
    FROM [dbo].[Security_Performance_History] AS [Extent1]
    WHERE ([Extent1].[Security_ID] = @p__linq__0) AND ([Extent1].[Portfolio_Code] = @p__linq__1) AND ([Extent1].[Record_Date] = @p__linq__2) AND ([Extent1].[Entity_ID] = @p__linq__3)
2018-04-07 16:37:49.5645|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: SELECT 
    [Extent1].[Security_ID] AS [Security_ID], 
    [Extent1].[Entity_ID] AS [Entity_ID], 
    [Extent1].[Security_Name] AS [Security_Name], 
    [Extent1].[Short_Name] AS [Short_Name], 
    [Extent1].[Primary_Exch] AS [Primary_Exch], 
    [Extent1].[Secondary_Exch] AS [Secondary_Exch], 
    [Extent1].[Country_Of_Domicile] AS [Country_Of_Domicile], 
    [Extent1].[Country_Of_Risk] AS [Country_Of_Risk], 
    [Extent1].[Security_Type_Code] AS [Security_Type_Code], 
    [Extent1].[Price_Multiplier] AS [Price_Multiplier], 
    [Extent1].[Income_Frequency] AS [Income_Frequency], 
    [Extent1].[Issuer_Code] AS [Issuer_Code], 
    [Extent1].[Ultimate_Issuer_Code] AS [Ultimate_Issuer_Code], 
    [Extent1].[Asset_Currency] AS [Asset_Currency], 
    [Extent1].[Min_Lot_Size] AS [Min_Lot_Size], 
    [Extent1].[Decimal_Precision] AS [Decimal_Precision], 
    [Extent1].[AvePrice_Rounding] AS [AvePrice_Rounding], 
    [Extent1].[Issue_Date] AS [Issue_Date], 
    [Extent1].[Maturity_Date] AS [Maturity_Date], 
    [Extent1].[Coupon_Rate] AS [Coupon_Rate], 
    [Extent1].[Price_Exchange] AS [Price_Exchange], 
    [Extent1].[Trade_Currency] AS [Trade_Currency], 
    [Extent1].[Price_Curr] AS [Price_Curr], 
    [Extent1].[Currency_Pair_Code] AS [Currency_Pair_Code], 
    [Extent1].[Share_Class] AS [Share_Class], 
    [Extent1].[Current_Market_Price] AS [Current_Market_Price], 
    [Extent1].[Index_Type] AS [Index_Type], 
    [Extent1].[Clean_Price_Formula] AS [Clean_Price_Formula], 
    [Extent1].[Accrued_Income_Price_Formula] AS [Accrued_Income_Price_Formula], 
    [Extent1].[Odd_First_Coupon_Date] AS [Odd_First_Coupon_Date], 
    [Extent1].[Odd_Last_Coupon_Date] AS [Odd_Last_Coupon_Date], 
    [Extent1].[Coupon_Anniversary_Indicator] AS [Coupon_Anniversary_Indicator], 
    [Extent1].[Track_EOM_Flag] AS [Track_EOM_Flag], 
    [Extent1].[Next_Coupon_Date] AS [Next_Coupon_Date], 
    [Extent1].[Previous_Coupon_Date] AS [Previous_Coupon_Date], 
    [Extent1].[Payment_Frequency] AS [Payment_Frequency], 
    [Extent1].[Coupon_BusDay_Adjustment] AS [Coupon_BusDay_Adjustment], 
    [Extent1].[Next_Ex_Div_Date] AS [Next_Ex_Div_Date], 
    [Extent1].[Ex_Div_BusDay_Adjustment] AS [Ex_Div_BusDay_Adjustment], 
    [Extent1].[Ex_Div_Period] AS [Ex_Div_Period], 
    [Extent1].[Ticker] AS [Ticker], 
    [Extent1].[Inet_ID] AS [Inet_ID], 
    [Extent1].[Bloomberg_ID] AS [Bloomberg_ID], 
    [Extent1].[External_Sec_ID] AS [External_Sec_ID], 
    [Extent1].[Reuters_ID] AS [Reuters_ID], 
    [Extent1].[ISIN] AS [ISIN], 
    [Extent1].[Call_Account_Flag] AS [Call_Account_Flag], 
    [Extent1].[System_Locked] AS [System_Locked], 
    [Extent1].[Last_Update_User] AS [Last_Update_User], 
    [Extent1].[Last_Update_Date] AS [Last_Update_Date], 
    [Extent1].[Security_Status] AS [Security_Status], 
    [Extent1].[Benchmark_Portfolio] AS [Benchmark_Portfolio], 
    [Extent1].[Active_flag] AS [Active_flag], 
    [Extent1].[Dividend_FX_Security_ID] AS [Dividend_FX_Security_ID]
    FROM [dbo].[Security_Detail] AS [Extent1]
    WHERE [Extent1].[Security_ID] = @EntityKeyValue1
2018-04-07 16:37:49.5645|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: SELECT 
    [Extent1].[Security_ID] AS [Security_ID], 
    [Extent1].[Entity_ID] AS [Entity_ID], 
    [Extent1].[Security_Name] AS [Security_Name], 
    [Extent1].[Short_Name] AS [Short_Name], 
    [Extent1].[Primary_Exch] AS [Primary_Exch], 
    [Extent1].[Secondary_Exch] AS [Secondary_Exch], 
    [Extent1].[Country_Of_Domicile] AS [Country_Of_Domicile], 
    [Extent1].[Country_Of_Risk] AS [Country_Of_Risk], 
    [Extent1].[Security_Type_Code] AS [Security_Type_Code], 
    [Extent1].[Price_Multiplier] AS [Price_Multiplier], 
    [Extent1].[Income_Frequency] AS [Income_Frequency], 
    [Extent1].[Issuer_Code] AS [Issuer_Code], 
    [Extent1].[Ultimate_Issuer_Code] AS [Ultimate_Issuer_Code], 
    [Extent1].[Asset_Currency] AS [Asset_Currency], 
    [Extent1].[Min_Lot_Size] AS [Min_Lot_Size], 
    [Extent1].[Decimal_Precision] AS [Decimal_Precision], 
    [Extent1].[AvePrice_Rounding] AS [AvePrice_Rounding], 
    [Extent1].[Issue_Date] AS [Issue_Date], 
    [Extent1].[Maturity_Date] AS [Maturity_Date], 
    [Extent1].[Coupon_Rate] AS [Coupon_Rate], 
    [Extent1].[Price_Exchange] AS [Price_Exchange], 
    [Extent1].[Trade_Currency] AS [Trade_Currency], 
    [Extent1].[Price_Curr] AS [Price_Curr], 
    [Extent1].[Currency_Pair_Code] AS [Currency_Pair_Code], 
    [Extent1].[Share_Class] AS [Share_Class], 
    [Extent1].[Current_Market_Price] AS [Current_Market_Price], 
    [Extent1].[Index_Type] AS [Index_Type], 
    [Extent1].[Clean_Price_Formula] AS [Clean_Price_Formula], 
    [Extent1].[Accrued_Income_Price_Formula] AS [Accrued_Income_Price_Formula], 
    [Extent1].[Odd_First_Coupon_Date] AS [Odd_First_Coupon_Date], 
    [Extent1].[Odd_Last_Coupon_Date] AS [Odd_Last_Coupon_Date], 
    [Extent1].[Coupon_Anniversary_Indicator] AS [Coupon_Anniversary_Indicator], 
    [Extent1].[Track_EOM_Flag] AS [Track_EOM_Flag], 
    [Extent1].[Next_Coupon_Date] AS [Next_Coupon_Date], 
    [Extent1].[Previous_Coupon_Date] AS [Previous_Coupon_Date], 
    [Extent1].[Payment_Frequency] AS [Payment_Frequency], 
    [Extent1].[Coupon_BusDay_Adjustment] AS [Coupon_BusDay_Adjustment], 
    [Extent1].[Next_Ex_Div_Date] AS [Next_Ex_Div_Date], 
    [Extent1].[Ex_Div_BusDay_Adjustment] AS [Ex_Div_BusDay_Adjustment], 
    [Extent1].[Ex_Div_Period] AS [Ex_Div_Period], 
    [Extent1].[Ticker] AS [Ticker], 
    [Extent1].[Inet_ID] AS [Inet_ID], 
    [Extent1].[Bloomberg_ID] AS [Bloomberg_ID], 
    [Extent1].[External_Sec_ID] AS [External_Sec_ID], 
    [Extent1].[Reuters_ID] AS [Reuters_ID], 
    [Extent1].[ISIN] AS [ISIN], 
    [Extent1].[Call_Account_Flag] AS [Call_Account_Flag], 
    [Extent1].[System_Locked] AS [System_Locked], 
    [Extent1].[Last_Update_User] AS [Last_Update_User], 
    [Extent1].[Last_Update_Date] AS [Last_Update_Date], 
    [Extent1].[Security_Status] AS [Security_Status], 
    [Extent1].[Benchmark_Portfolio] AS [Benchmark_Portfolio], 
    [Extent1].[Active_flag] AS [Active_flag], 
    [Extent1].[Dividend_FX_Security_ID] AS [Dividend_FX_Security_ID]
    FROM [dbo].[Security_Detail] AS [Extent1]
    WHERE [Extent1].[Security_ID] = @EntityKeyValue1
2018-04-07 16:37:49.5965|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: SELECT 
    [Extent1].[Security_ID] AS [Security_ID], 
    [Extent1].[Entity_ID] AS [Entity_ID], 
    [Extent1].[Security_Name] AS [Security_Name], 
    [Extent1].[Short_Name] AS [Short_Name], 
    [Extent1].[Primary_Exch] AS [Primary_Exch], 
    [Extent1].[Secondary_Exch] AS [Secondary_Exch], 
    [Extent1].[Country_Of_Domicile] AS [Country_Of_Domicile], 
    [Extent1].[Country_Of_Risk] AS [Country_Of_Risk], 
    [Extent1].[Security_Type_Code] AS [Security_Type_Code], 
    [Extent1].[Price_Multiplier] AS [Price_Multiplier], 
    [Extent1].[Income_Frequency] AS [Income_Frequency], 
    [Extent1].[Issuer_Code] AS [Issuer_Code], 
    [Extent1].[Ultimate_Issuer_Code] AS [Ultimate_Issuer_Code], 
    [Extent1].[Asset_Currency] AS [Asset_Currency], 
    [Extent1].[Min_Lot_Size] AS [Min_Lot_Size], 
    [Extent1].[Decimal_Precision] AS [Decimal_Precision], 
    [Extent1].[AvePrice_Rounding] AS [AvePrice_Rounding], 
    [Extent1].[Issue_Date] AS [Issue_Date], 
    [Extent1].[Maturity_Date] AS [Maturity_Date], 
    [Extent1].[Coupon_Rate] AS [Coupon_Rate], 
    [Extent1].[Price_Exchange] AS [Price_Exchange], 
    [Extent1].[Trade_Currency] AS [Trade_Currency], 
    [Extent1].[Price_Curr] AS [Price_Curr], 
    [Extent1].[Currency_Pair_Code] AS [Currency_Pair_Code], 
    [Extent1].[Share_Class] AS [Share_Class], 
    [Extent1].[Current_Market_Price] AS [Current_Market_Price], 
    [Extent1].[Index_Type] AS [Index_Type], 
    [Extent1].[Clean_Price_Formula] AS [Clean_Price_Formula], 
    [Extent1].[Accrued_Income_Price_Formula] AS [Accrued_Income_Price_Formula], 
    [Extent1].[Odd_First_Coupon_Date] AS [Odd_First_Coupon_Date], 
    [Extent1].[Odd_Last_Coupon_Date] AS [Odd_Last_Coupon_Date], 
    [Extent1].[Coupon_Anniversary_Indicator] AS [Coupon_Anniversary_Indicator], 
    [Extent1].[Track_EOM_Flag] AS [Track_EOM_Flag], 
    [Extent1].[Next_Coupon_Date] AS [Next_Coupon_Date], 
    [Extent1].[Previous_Coupon_Date] AS [Previous_Coupon_Date], 
    [Extent1].[Payment_Frequency] AS [Payment_Frequency], 
    [Extent1].[Coupon_BusDay_Adjustment] AS [Coupon_BusDay_Adjustment], 
    [Extent1].[Next_Ex_Div_Date] AS [Next_Ex_Div_Date], 
    [Extent1].[Ex_Div_BusDay_Adjustment] AS [Ex_Div_BusDay_Adjustment], 
    [Extent1].[Ex_Div_Period] AS [Ex_Div_Period], 
    [Extent1].[Ticker] AS [Ticker], 
    [Extent1].[Inet_ID] AS [Inet_ID], 
    [Extent1].[Bloomberg_ID] AS [Bloomberg_ID], 
    [Extent1].[External_Sec_ID] AS [External_Sec_ID], 
    [Extent1].[Reuters_ID] AS [Reuters_ID], 
    [Extent1].[ISIN] AS [ISIN], 
    [Extent1].[Call_Account_Flag] AS [Call_Account_Flag], 
    [Extent1].[System_Locked] AS [System_Locked], 
    [Extent1].[Last_Update_User] AS [Last_Update_User], 
    [Extent1].[Last_Update_Date] AS [Last_Update_Date], 
    [Extent1].[Security_Status] AS [Security_Status], 
    [Extent1].[Benchmark_Portfolio] AS [Benchmark_Portfolio], 
    [Extent1].[Active_flag] AS [Active_flag], 
    [Extent1].[Dividend_FX_Security_ID] AS [Dividend_FX_Security_ID]
    FROM [dbo].[Security_Detail] AS [Extent1]
    WHERE [Extent1].[Security_ID] = @EntityKeyValue1
2018-04-07 16:37:49.5965|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: SELECT 
    [Extent1].[Security_ID] AS [Security_ID], 
    [Extent1].[Entity_ID] AS [Entity_ID], 
    [Extent1].[Security_Name] AS [Security_Name], 
    [Extent1].[Short_Name] AS [Short_Name], 
    [Extent1].[Primary_Exch] AS [Primary_Exch], 
    [Extent1].[Secondary_Exch] AS [Secondary_Exch], 
    [Extent1].[Country_Of_Domicile] AS [Country_Of_Domicile], 
    [Extent1].[Country_Of_Risk] AS [Country_Of_Risk], 
    [Extent1].[Security_Type_Code] AS [Security_Type_Code], 
    [Extent1].[Price_Multiplier] AS [Price_Multiplier], 
    [Extent1].[Income_Frequency] AS [Income_Frequency], 
    [Extent1].[Issuer_Code] AS [Issuer_Code], 
    [Extent1].[Ultimate_Issuer_Code] AS [Ultimate_Issuer_Code], 
    [Extent1].[Asset_Currency] AS [Asset_Currency], 
    [Extent1].[Min_Lot_Size] AS [Min_Lot_Size], 
    [Extent1].[Decimal_Precision] AS [Decimal_Precision], 
    [Extent1].[AvePrice_Rounding] AS [AvePrice_Rounding], 
    [Extent1].[Issue_Date] AS [Issue_Date], 
    [Extent1].[Maturity_Date] AS [Maturity_Date], 
    [Extent1].[Coupon_Rate] AS [Coupon_Rate], 
    [Extent1].[Price_Exchange] AS [Price_Exchange], 
    [Extent1].[Trade_Currency] AS [Trade_Currency], 
    [Extent1].[Price_Curr] AS [Price_Curr], 
    [Extent1].[Currency_Pair_Code] AS [Currency_Pair_Code], 
    [Extent1].[Share_Class] AS [Share_Class], 
    [Extent1].[Current_Market_Price] AS [Current_Market_Price], 
    [Extent1].[Index_Type] AS [Index_Type], 
    [Extent1].[Clean_Price_Formula] AS [Clean_Price_Formula], 
    [Extent1].[Accrued_Income_Price_Formula] AS [Accrued_Income_Price_Formula], 
    [Extent1].[Odd_First_Coupon_Date] AS [Odd_First_Coupon_Date], 
    [Extent1].[Odd_Last_Coupon_Date] AS [Odd_Last_Coupon_Date], 
    [Extent1].[Coupon_Anniversary_Indicator] AS [Coupon_Anniversary_Indicator], 
    [Extent1].[Track_EOM_Flag] AS [Track_EOM_Flag], 
    [Extent1].[Next_Coupon_Date] AS [Next_Coupon_Date], 
    [Extent1].[Previous_Coupon_Date] AS [Previous_Coupon_Date], 
    [Extent1].[Payment_Frequency] AS [Payment_Frequency], 
    [Extent1].[Coupon_BusDay_Adjustment] AS [Coupon_BusDay_Adjustment], 
    [Extent1].[Next_Ex_Div_Date] AS [Next_Ex_Div_Date], 
    [Extent1].[Ex_Div_BusDay_Adjustment] AS [Ex_Div_BusDay_Adjustment], 
    [Extent1].[Ex_Div_Period] AS [Ex_Div_Period], 
    [Extent1].[Ticker] AS [Ticker], 
    [Extent1].[Inet_ID] AS [Inet_ID], 
    [Extent1].[Bloomberg_ID] AS [Bloomberg_ID], 
    [Extent1].[External_Sec_ID] AS [External_Sec_ID], 
    [Extent1].[Reuters_ID] AS [Reuters_ID], 
    [Extent1].[ISIN] AS [ISIN], 
    [Extent1].[Call_Account_Flag] AS [Call_Account_Flag], 
    [Extent1].[System_Locked] AS [System_Locked], 
    [Extent1].[Last_Update_User] AS [Last_Update_User], 
    [Extent1].[Last_Update_Date] AS [Last_Update_Date], 
    [Extent1].[Security_Status] AS [Security_Status], 
    [Extent1].[Benchmark_Portfolio] AS [Benchmark_Portfolio], 
    [Extent1].[Active_flag] AS [Active_flag], 
    [Extent1].[Dividend_FX_Security_ID] AS [Dividend_FX_Security_ID]
    FROM [dbo].[Security_Detail] AS [Extent1]
    WHERE [Extent1].[Security_ID] = @EntityKeyValue1
2018-04-07 16:37:57.2247|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: SELECT 
    [Project1].[Security_ID] AS [Security_ID], 
    [Project1].[Entity_ID] AS [Entity_ID], 
    [Project1].[Security_Name] AS [Security_Name], 
    [Project1].[Short_Name] AS [Short_Name], 
    [Project1].[Primary_Exch] AS [Primary_Exch], 
    [Project1].[Secondary_Exch] AS [Secondary_Exch], 
    [Project1].[Country_Of_Domicile] AS [Country_Of_Domicile], 
    [Project1].[Country_Of_Risk] AS [Country_Of_Risk], 
    [Project1].[Security_Type_Code] AS [Security_Type_Code], 
    [Project1].[Price_Multiplier] AS [Price_Multiplier], 
    [Project1].[Income_Frequency] AS [Income_Frequency], 
    [Project1].[Issuer_Code] AS [Issuer_Code], 
    [Project1].[Ultimate_Issuer_Code] AS [Ultimate_Issuer_Code], 
    [Project1].[Asset_Currency] AS [Asset_Currency], 
    [Project1].[Min_Lot_Size] AS [Min_Lot_Size], 
    [Project1].[Decimal_Precision] AS [Decimal_Precision], 
    [Project1].[AvePrice_Rounding] AS [AvePrice_Rounding], 
    [Project1].[Issue_Date] AS [Issue_Date], 
    [Project1].[Maturity_Date] AS [Maturity_Date], 
    [Project1].[Coupon_Rate] AS [Coupon_Rate], 
    [Project1].[Price_Exchange] AS [Price_Exchange], 
    [Project1].[Trade_Currency] AS [Trade_Currency], 
    [Project1].[Price_Curr] AS [Price_Curr], 
    [Project1].[Currency_Pair_Code] AS [Currency_Pair_Code], 
    [Project1].[Share_Class] AS [Share_Class], 
    [Project1].[Current_Market_Price] AS [Current_Market_Price], 
    [Project1].[Index_Type] AS [Index_Type], 
    [Project1].[Clean_Price_Formula] AS [Clean_Price_Formula], 
    [Project1].[Accrued_Income_Price_Formula] AS [Accrued_Income_Price_Formula], 
    [Project1].[Odd_First_Coupon_Date] AS [Odd_First_Coupon_Date], 
    [Project1].[Odd_Last_Coupon_Date] AS [Odd_Last_Coupon_Date], 
    [Project1].[Coupon_Anniversary_Indicator] AS [Coupon_Anniversary_Indicator], 
    [Project1].[Track_EOM_Flag] AS [Track_EOM_Flag], 
    [Project1].[Next_Coupon_Date] AS [Next_Coupon_Date], 
    [Project1].[Previous_Coupon_Date] AS [Previous_Coupon_Date], 
    [Project1].[Payment_Frequency] AS [Payment_Frequency], 
    [Project1].[Coupon_BusDay_Adjustment] AS [Coupon_BusDay_Adjustment], 
    [Project1].[Next_Ex_Div_Date] AS [Next_Ex_Div_Date], 
    [Project1].[Ex_Div_BusDay_Adjustment] AS [Ex_Div_BusDay_Adjustment], 
    [Project1].[Ex_Div_Period] AS [Ex_Div_Period], 
    [Project1].[Ticker] AS [Ticker], 
    [Project1].[Inet_ID] AS [Inet_ID], 
    [Project1].[Bloomberg_ID] AS [Bloomberg_ID], 
    [Project1].[External_Sec_ID] AS [External_Sec_ID], 
    [Project1].[Reuters_ID] AS [Reuters_ID], 
    [Project1].[ISIN] AS [ISIN], 
    [Project1].[Call_Account_Flag] AS [Call_Account_Flag], 
    [Project1].[System_Locked] AS [System_Locked], 
    [Project1].[Last_Update_User] AS [Last_Update_User], 
    [Project1].[Last_Update_Date] AS [Last_Update_Date], 
    [Project1].[Security_Status] AS [Security_Status], 
    [Project1].[Benchmark_Portfolio] AS [Benchmark_Portfolio], 
    [Project1].[Active_flag] AS [Active_flag], 
    [Project1].[Dividend_FX_Security_ID] AS [Dividend_FX_Security_ID]
    FROM ( SELECT 
        [Extent1].[Security_ID] AS [Security_ID], 
        [Extent1].[Entity_ID] AS [Entity_ID], 
        [Extent1].[Security_Name] AS [Security_Name], 
        [Extent1].[Short_Name] AS [Short_Name], 
        [Extent1].[Primary_Exch] AS [Primary_Exch], 
        [Extent1].[Secondary_Exch] AS [Secondary_Exch], 
        [Extent1].[Country_Of_Domicile] AS [Country_Of_Domicile], 
        [Extent1].[Country_Of_Risk] AS [Country_Of_Risk], 
        [Extent1].[Security_Type_Code] AS [Security_Type_Code], 
        [Extent1].[Price_Multiplier] AS [Price_Multiplier], 
        [Extent1].[Income_Frequency] AS [Income_Frequency], 
        [Extent1].[Issuer_Code] AS [Issuer_Code], 
        [Extent1].[Ultimate_Issuer_Code] AS [Ultimate_Issuer_Code], 
        [Extent1].[Asset_Currency] AS [Asset_Currency], 
        [Extent1].[Min_Lot_Size] AS [Min_Lot_Size], 
        [Extent1].[Decimal_Precision] AS [Decimal_Precision], 
        [Extent1].[AvePrice_Rounding] AS [AvePrice_Rounding], 
        [Extent1].[Issue_Date] AS [Issue_Date], 
        [Extent1].[Maturity_Date] AS [Maturity_Date], 
        [Extent1].[Coupon_Rate] AS [Coupon_Rate], 
        [Extent1].[Price_Exchange] AS [Price_Exchange], 
        [Extent1].[Trade_Currency] AS [Trade_Currency], 
        [Extent1].[Price_Curr] AS [Price_Curr], 
        [Extent1].[Currency_Pair_Code] AS [Currency_Pair_Code], 
        [Extent1].[Share_Class] AS [Share_Class], 
        [Extent1].[Current_Market_Price] AS [Current_Market_Price], 
        [Extent1].[Index_Type] AS [Index_Type], 
        [Extent1].[Clean_Price_Formula] AS [Clean_Price_Formula], 
        [Extent1].[Accrued_Income_Price_Formula] AS [Accrued_Income_Price_Formula], 
        [Extent1].[Odd_First_Coupon_Date] AS [Odd_First_Coupon_Date], 
        [Extent1].[Odd_Last_Coupon_Date] AS [Odd_Last_Coupon_Date], 
        [Extent1].[Coupon_Anniversary_Indicator] AS [Coupon_Anniversary_Indicator], 
        [Extent1].[Track_EOM_Flag] AS [Track_EOM_Flag], 
        [Extent1].[Next_Coupon_Date] AS [Next_Coupon_Date], 
        [Extent1].[Previous_Coupon_Date] AS [Previous_Coupon_Date], 
        [Extent1].[Payment_Frequency] AS [Payment_Frequency], 
        [Extent1].[Coupon_BusDay_Adjustment] AS [Coupon_BusDay_Adjustment], 
        [Extent1].[Next_Ex_Div_Date] AS [Next_Ex_Div_Date], 
        [Extent1].[Ex_Div_BusDay_Adjustment] AS [Ex_Div_BusDay_Adjustment], 
        [Extent1].[Ex_Div_Period] AS [Ex_Div_Period], 
        [Extent1].[Ticker] AS [Ticker], 
        [Extent1].[Inet_ID] AS [Inet_ID], 
        [Extent1].[Bloomberg_ID] AS [Bloomberg_ID], 
        [Extent1].[External_Sec_ID] AS [External_Sec_ID], 
        [Extent1].[Reuters_ID] AS [Reuters_ID], 
        [Extent1].[ISIN] AS [ISIN], 
        [Extent1].[Call_Account_Flag] AS [Call_Account_Flag], 
        [Extent1].[System_Locked] AS [System_Locked], 
        [Extent1].[Last_Update_User] AS [Last_Update_User], 
        [Extent1].[Last_Update_Date] AS [Last_Update_Date], 
        [Extent1].[Security_Status] AS [Security_Status], 
        [Extent1].[Benchmark_Portfolio] AS [Benchmark_Portfolio], 
        [Extent1].[Active_flag] AS [Active_flag], 
        [Extent1].[Dividend_FX_Security_ID] AS [Dividend_FX_Security_ID]
        FROM [dbo].[Security_Detail] AS [Extent1]
        WHERE ([Extent1].[Entity_ID] IN (@p__linq__0,@p__linq__1)) AND ((CASE WHEN ( NOT ((N'' = @p__linq__2) AND (@p__linq__2 IS NOT NULL))) THEN CASE WHEN ([Extent1].[Security_Type_Code] = @p__linq__3) THEN cast(1 as bit) WHEN ( NOT (([Extent1].[Security_Type_Code] = @p__linq__3) AND (0 = (CASE WHEN (@p__linq__3 IS NULL) THEN cast(1 as bit) ELSE cast(0 as bit) END)))) THEN cast(0 as bit) END WHEN ('' <> [Extent1].[Security_Type_Code]) THEN cast(1 as bit) WHEN ('' = [Extent1].[Security_Type_Code]) THEN cast(0 as bit) END) = 1)
    )  AS [Project1]
    ORDER BY [Project1].[Security_Name] ASC
2018-04-07 16:37:57.2247|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: SELECT 
    [Project1].[Security_ID] AS [Security_ID], 
    [Project1].[Entity_ID] AS [Entity_ID], 
    [Project1].[Security_Name] AS [Security_Name], 
    [Project1].[Short_Name] AS [Short_Name], 
    [Project1].[Primary_Exch] AS [Primary_Exch], 
    [Project1].[Secondary_Exch] AS [Secondary_Exch], 
    [Project1].[Country_Of_Domicile] AS [Country_Of_Domicile], 
    [Project1].[Country_Of_Risk] AS [Country_Of_Risk], 
    [Project1].[Security_Type_Code] AS [Security_Type_Code], 
    [Project1].[Price_Multiplier] AS [Price_Multiplier], 
    [Project1].[Income_Frequency] AS [Income_Frequency], 
    [Project1].[Issuer_Code] AS [Issuer_Code], 
    [Project1].[Ultimate_Issuer_Code] AS [Ultimate_Issuer_Code], 
    [Project1].[Asset_Currency] AS [Asset_Currency], 
    [Project1].[Min_Lot_Size] AS [Min_Lot_Size], 
    [Project1].[Decimal_Precision] AS [Decimal_Precision], 
    [Project1].[AvePrice_Rounding] AS [AvePrice_Rounding], 
    [Project1].[Issue_Date] AS [Issue_Date], 
    [Project1].[Maturity_Date] AS [Maturity_Date], 
    [Project1].[Coupon_Rate] AS [Coupon_Rate], 
    [Project1].[Price_Exchange] AS [Price_Exchange], 
    [Project1].[Trade_Currency] AS [Trade_Currency], 
    [Project1].[Price_Curr] AS [Price_Curr], 
    [Project1].[Currency_Pair_Code] AS [Currency_Pair_Code], 
    [Project1].[Share_Class] AS [Share_Class], 
    [Project1].[Current_Market_Price] AS [Current_Market_Price], 
    [Project1].[Index_Type] AS [Index_Type], 
    [Project1].[Clean_Price_Formula] AS [Clean_Price_Formula], 
    [Project1].[Accrued_Income_Price_Formula] AS [Accrued_Income_Price_Formula], 
    [Project1].[Odd_First_Coupon_Date] AS [Odd_First_Coupon_Date], 
    [Project1].[Odd_Last_Coupon_Date] AS [Odd_Last_Coupon_Date], 
    [Project1].[Coupon_Anniversary_Indicator] AS [Coupon_Anniversary_Indicator], 
    [Project1].[Track_EOM_Flag] AS [Track_EOM_Flag], 
    [Project1].[Next_Coupon_Date] AS [Next_Coupon_Date], 
    [Project1].[Previous_Coupon_Date] AS [Previous_Coupon_Date], 
    [Project1].[Payment_Frequency] AS [Payment_Frequency], 
    [Project1].[Coupon_BusDay_Adjustment] AS [Coupon_BusDay_Adjustment], 
    [Project1].[Next_Ex_Div_Date] AS [Next_Ex_Div_Date], 
    [Project1].[Ex_Div_BusDay_Adjustment] AS [Ex_Div_BusDay_Adjustment], 
    [Project1].[Ex_Div_Period] AS [Ex_Div_Period], 
    [Project1].[Ticker] AS [Ticker], 
    [Project1].[Inet_ID] AS [Inet_ID], 
    [Project1].[Bloomberg_ID] AS [Bloomberg_ID], 
    [Project1].[External_Sec_ID] AS [External_Sec_ID], 
    [Project1].[Reuters_ID] AS [Reuters_ID], 
    [Project1].[ISIN] AS [ISIN], 
    [Project1].[Call_Account_Flag] AS [Call_Account_Flag], 
    [Project1].[System_Locked] AS [System_Locked], 
    [Project1].[Last_Update_User] AS [Last_Update_User], 
    [Project1].[Last_Update_Date] AS [Last_Update_Date], 
    [Project1].[Security_Status] AS [Security_Status], 
    [Project1].[Benchmark_Portfolio] AS [Benchmark_Portfolio], 
    [Project1].[Active_flag] AS [Active_flag], 
    [Project1].[Dividend_FX_Security_ID] AS [Dividend_FX_Security_ID]
    FROM ( SELECT 
        [Extent1].[Security_ID] AS [Security_ID], 
        [Extent1].[Entity_ID] AS [Entity_ID], 
        [Extent1].[Security_Name] AS [Security_Name], 
        [Extent1].[Short_Name] AS [Short_Name], 
        [Extent1].[Primary_Exch] AS [Primary_Exch], 
        [Extent1].[Secondary_Exch] AS [Secondary_Exch], 
        [Extent1].[Country_Of_Domicile] AS [Country_Of_Domicile], 
        [Extent1].[Country_Of_Risk] AS [Country_Of_Risk], 
        [Extent1].[Security_Type_Code] AS [Security_Type_Code], 
        [Extent1].[Price_Multiplier] AS [Price_Multiplier], 
        [Extent1].[Income_Frequency] AS [Income_Frequency], 
        [Extent1].[Issuer_Code] AS [Issuer_Code], 
        [Extent1].[Ultimate_Issuer_Code] AS [Ultimate_Issuer_Code], 
        [Extent1].[Asset_Currency] AS [Asset_Currency], 
        [Extent1].[Min_Lot_Size] AS [Min_Lot_Size], 
        [Extent1].[Decimal_Precision] AS [Decimal_Precision], 
        [Extent1].[AvePrice_Rounding] AS [AvePrice_Rounding], 
        [Extent1].[Issue_Date] AS [Issue_Date], 
        [Extent1].[Maturity_Date] AS [Maturity_Date], 
        [Extent1].[Coupon_Rate] AS [Coupon_Rate], 
        [Extent1].[Price_Exchange] AS [Price_Exchange], 
        [Extent1].[Trade_Currency] AS [Trade_Currency], 
        [Extent1].[Price_Curr] AS [Price_Curr], 
        [Extent1].[Currency_Pair_Code] AS [Currency_Pair_Code], 
        [Extent1].[Share_Class] AS [Share_Class], 
        [Extent1].[Current_Market_Price] AS [Current_Market_Price], 
        [Extent1].[Index_Type] AS [Index_Type], 
        [Extent1].[Clean_Price_Formula] AS [Clean_Price_Formula], 
        [Extent1].[Accrued_Income_Price_Formula] AS [Accrued_Income_Price_Formula], 
        [Extent1].[Odd_First_Coupon_Date] AS [Odd_First_Coupon_Date], 
        [Extent1].[Odd_Last_Coupon_Date] AS [Odd_Last_Coupon_Date], 
        [Extent1].[Coupon_Anniversary_Indicator] AS [Coupon_Anniversary_Indicator], 
        [Extent1].[Track_EOM_Flag] AS [Track_EOM_Flag], 
        [Extent1].[Next_Coupon_Date] AS [Next_Coupon_Date], 
        [Extent1].[Previous_Coupon_Date] AS [Previous_Coupon_Date], 
        [Extent1].[Payment_Frequency] AS [Payment_Frequency], 
        [Extent1].[Coupon_BusDay_Adjustment] AS [Coupon_BusDay_Adjustment], 
        [Extent1].[Next_Ex_Div_Date] AS [Next_Ex_Div_Date], 
        [Extent1].[Ex_Div_BusDay_Adjustment] AS [Ex_Div_BusDay_Adjustment], 
        [Extent1].[Ex_Div_Period] AS [Ex_Div_Period], 
        [Extent1].[Ticker] AS [Ticker], 
        [Extent1].[Inet_ID] AS [Inet_ID], 
        [Extent1].[Bloomberg_ID] AS [Bloomberg_ID], 
        [Extent1].[External_Sec_ID] AS [External_Sec_ID], 
        [Extent1].[Reuters_ID] AS [Reuters_ID], 
        [Extent1].[ISIN] AS [ISIN], 
        [Extent1].[Call_Account_Flag] AS [Call_Account_Flag], 
        [Extent1].[System_Locked] AS [System_Locked], 
        [Extent1].[Last_Update_User] AS [Last_Update_User], 
        [Extent1].[Last_Update_Date] AS [Last_Update_Date], 
        [Extent1].[Security_Status] AS [Security_Status], 
        [Extent1].[Benchmark_Portfolio] AS [Benchmark_Portfolio], 
        [Extent1].[Active_flag] AS [Active_flag], 
        [Extent1].[Dividend_FX_Security_ID] AS [Dividend_FX_Security_ID]
        FROM [dbo].[Security_Detail] AS [Extent1]
        WHERE ([Extent1].[Entity_ID] IN (@p__linq__0,@p__linq__1)) AND ((CASE WHEN ( NOT ((N'' = @p__linq__2) AND (@p__linq__2 IS NOT NULL))) THEN CASE WHEN ([Extent1].[Security_Type_Code] = @p__linq__3) THEN cast(1 as bit) WHEN ( NOT (([Extent1].[Security_Type_Code] = @p__linq__3) AND (0 = (CASE WHEN (@p__linq__3 IS NULL) THEN cast(1 as bit) ELSE cast(0 as bit) END)))) THEN cast(0 as bit) END WHEN ('' <> [Extent1].[Security_Type_Code]) THEN cast(1 as bit) WHEN ('' = [Extent1].[Security_Type_Code]) THEN cast(0 as bit) END) = 1)
    )  AS [Project1]
    ORDER BY [Project1].[Security_Name] ASC
2018-04-07 16:37:57.3043|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: SELECT 
    [Project1].[Security_ID] AS [Security_ID], 
    [Project1].[Entity_ID] AS [Entity_ID], 
    [Project1].[Security_Name] AS [Security_Name], 
    [Project1].[Short_Name] AS [Short_Name], 
    [Project1].[Primary_Exch] AS [Primary_Exch], 
    [Project1].[Secondary_Exch] AS [Secondary_Exch], 
    [Project1].[Country_Of_Domicile] AS [Country_Of_Domicile], 
    [Project1].[Country_Of_Risk] AS [Country_Of_Risk], 
    [Project1].[Security_Type_Code] AS [Security_Type_Code], 
    [Project1].[Price_Multiplier] AS [Price_Multiplier], 
    [Project1].[Income_Frequency] AS [Income_Frequency], 
    [Project1].[Issuer_Code] AS [Issuer_Code], 
    [Project1].[Ultimate_Issuer_Code] AS [Ultimate_Issuer_Code], 
    [Project1].[Asset_Currency] AS [Asset_Currency], 
    [Project1].[Min_Lot_Size] AS [Min_Lot_Size], 
    [Project1].[Decimal_Precision] AS [Decimal_Precision], 
    [Project1].[AvePrice_Rounding] AS [AvePrice_Rounding], 
    [Project1].[Issue_Date] AS [Issue_Date], 
    [Project1].[Maturity_Date] AS [Maturity_Date], 
    [Project1].[Coupon_Rate] AS [Coupon_Rate], 
    [Project1].[Price_Exchange] AS [Price_Exchange], 
    [Project1].[Trade_Currency] AS [Trade_Currency], 
    [Project1].[Price_Curr] AS [Price_Curr], 
    [Project1].[Currency_Pair_Code] AS [Currency_Pair_Code], 
    [Project1].[Share_Class] AS [Share_Class], 
    [Project1].[Current_Market_Price] AS [Current_Market_Price], 
    [Project1].[Index_Type] AS [Index_Type], 
    [Project1].[Clean_Price_Formula] AS [Clean_Price_Formula], 
    [Project1].[Accrued_Income_Price_Formula] AS [Accrued_Income_Price_Formula], 
    [Project1].[Odd_First_Coupon_Date] AS [Odd_First_Coupon_Date], 
    [Project1].[Odd_Last_Coupon_Date] AS [Odd_Last_Coupon_Date], 
    [Project1].[Coupon_Anniversary_Indicator] AS [Coupon_Anniversary_Indicator], 
    [Project1].[Track_EOM_Flag] AS [Track_EOM_Flag], 
    [Project1].[Next_Coupon_Date] AS [Next_Coupon_Date], 
    [Project1].[Previous_Coupon_Date] AS [Previous_Coupon_Date], 
    [Project1].[Payment_Frequency] AS [Payment_Frequency], 
    [Project1].[Coupon_BusDay_Adjustment] AS [Coupon_BusDay_Adjustment], 
    [Project1].[Next_Ex_Div_Date] AS [Next_Ex_Div_Date], 
    [Project1].[Ex_Div_BusDay_Adjustment] AS [Ex_Div_BusDay_Adjustment], 
    [Project1].[Ex_Div_Period] AS [Ex_Div_Period], 
    [Project1].[Ticker] AS [Ticker], 
    [Project1].[Inet_ID] AS [Inet_ID], 
    [Project1].[Bloomberg_ID] AS [Bloomberg_ID], 
    [Project1].[External_Sec_ID] AS [External_Sec_ID], 
    [Project1].[Reuters_ID] AS [Reuters_ID], 
    [Project1].[ISIN] AS [ISIN], 
    [Project1].[Call_Account_Flag] AS [Call_Account_Flag], 
    [Project1].[System_Locked] AS [System_Locked], 
    [Project1].[Last_Update_User] AS [Last_Update_User], 
    [Project1].[Last_Update_Date] AS [Last_Update_Date], 
    [Project1].[Security_Status] AS [Security_Status], 
    [Project1].[Benchmark_Portfolio] AS [Benchmark_Portfolio], 
    [Project1].[Active_flag] AS [Active_flag], 
    [Project1].[Dividend_FX_Security_ID] AS [Dividend_FX_Security_ID]
    FROM ( SELECT 
        [Extent1].[Security_ID] AS [Security_ID], 
        [Extent1].[Entity_ID] AS [Entity_ID], 
        [Extent1].[Security_Name] AS [Security_Name], 
        [Extent1].[Short_Name] AS [Short_Name], 
        [Extent1].[Primary_Exch] AS [Primary_Exch], 
        [Extent1].[Secondary_Exch] AS [Secondary_Exch], 
        [Extent1].[Country_Of_Domicile] AS [Country_Of_Domicile], 
        [Extent1].[Country_Of_Risk] AS [Country_Of_Risk], 
        [Extent1].[Security_Type_Code] AS [Security_Type_Code], 
        [Extent1].[Price_Multiplier] AS [Price_Multiplier], 
        [Extent1].[Income_Frequency] AS [Income_Frequency], 
        [Extent1].[Issuer_Code] AS [Issuer_Code], 
        [Extent1].[Ultimate_Issuer_Code] AS [Ultimate_Issuer_Code], 
        [Extent1].[Asset_Currency] AS [Asset_Currency], 
        [Extent1].[Min_Lot_Size] AS [Min_Lot_Size], 
        [Extent1].[Decimal_Precision] AS [Decimal_Precision], 
        [Extent1].[AvePrice_Rounding] AS [AvePrice_Rounding], 
        [Extent1].[Issue_Date] AS [Issue_Date], 
        [Extent1].[Maturity_Date] AS [Maturity_Date], 
        [Extent1].[Coupon_Rate] AS [Coupon_Rate], 
        [Extent1].[Price_Exchange] AS [Price_Exchange], 
        [Extent1].[Trade_Currency] AS [Trade_Currency], 
        [Extent1].[Price_Curr] AS [Price_Curr], 
        [Extent1].[Currency_Pair_Code] AS [Currency_Pair_Code], 
        [Extent1].[Share_Class] AS [Share_Class], 
        [Extent1].[Current_Market_Price] AS [Current_Market_Price], 
        [Extent1].[Index_Type] AS [Index_Type], 
        [Extent1].[Clean_Price_Formula] AS [Clean_Price_Formula], 
        [Extent1].[Accrued_Income_Price_Formula] AS [Accrued_Income_Price_Formula], 
        [Extent1].[Odd_First_Coupon_Date] AS [Odd_First_Coupon_Date], 
        [Extent1].[Odd_Last_Coupon_Date] AS [Odd_Last_Coupon_Date], 
        [Extent1].[Coupon_Anniversary_Indicator] AS [Coupon_Anniversary_Indicator], 
        [Extent1].[Track_EOM_Flag] AS [Track_EOM_Flag], 
        [Extent1].[Next_Coupon_Date] AS [Next_Coupon_Date], 
        [Extent1].[Previous_Coupon_Date] AS [Previous_Coupon_Date], 
        [Extent1].[Payment_Frequency] AS [Payment_Frequency], 
        [Extent1].[Coupon_BusDay_Adjustment] AS [Coupon_BusDay_Adjustment], 
        [Extent1].[Next_Ex_Div_Date] AS [Next_Ex_Div_Date], 
        [Extent1].[Ex_Div_BusDay_Adjustment] AS [Ex_Div_BusDay_Adjustment], 
        [Extent1].[Ex_Div_Period] AS [Ex_Div_Period], 
        [Extent1].[Ticker] AS [Ticker], 
        [Extent1].[Inet_ID] AS [Inet_ID], 
        [Extent1].[Bloomberg_ID] AS [Bloomberg_ID], 
        [Extent1].[External_Sec_ID] AS [External_Sec_ID], 
        [Extent1].[Reuters_ID] AS [Reuters_ID], 
        [Extent1].[ISIN] AS [ISIN], 
        [Extent1].[Call_Account_Flag] AS [Call_Account_Flag], 
        [Extent1].[System_Locked] AS [System_Locked], 
        [Extent1].[Last_Update_User] AS [Last_Update_User], 
        [Extent1].[Last_Update_Date] AS [Last_Update_Date], 
        [Extent1].[Security_Status] AS [Security_Status], 
        [Extent1].[Benchmark_Portfolio] AS [Benchmark_Portfolio], 
        [Extent1].[Active_flag] AS [Active_flag], 
        [Extent1].[Dividend_FX_Security_ID] AS [Dividend_FX_Security_ID]
        FROM [dbo].[Security_Detail] AS [Extent1]
        WHERE ([Extent1].[Entity_ID] IN (@p__linq__0,@p__linq__1)) AND ((CASE WHEN ( NOT ((N'' = @p__linq__2) AND (@p__linq__2 IS NOT NULL))) THEN CASE WHEN ([Extent1].[Security_Type_Code] = @p__linq__3) THEN cast(1 as bit) WHEN ( NOT (([Extent1].[Security_Type_Code] = @p__linq__3) AND (0 = (CASE WHEN (@p__linq__3 IS NULL) THEN cast(1 as bit) ELSE cast(0 as bit) END)))) THEN cast(0 as bit) END WHEN ('' <> [Extent1].[Security_Type_Code]) THEN cast(1 as bit) WHEN ('' = [Extent1].[Security_Type_Code]) THEN cast(0 as bit) END) = 1)
    )  AS [Project1]
    ORDER BY [Project1].[Security_Name] ASC
2018-04-07 16:37:57.3093|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: SELECT 
    [Project1].[Security_ID] AS [Security_ID], 
    [Project1].[Entity_ID] AS [Entity_ID], 
    [Project1].[Security_Name] AS [Security_Name], 
    [Project1].[Short_Name] AS [Short_Name], 
    [Project1].[Primary_Exch] AS [Primary_Exch], 
    [Project1].[Secondary_Exch] AS [Secondary_Exch], 
    [Project1].[Country_Of_Domicile] AS [Country_Of_Domicile], 
    [Project1].[Country_Of_Risk] AS [Country_Of_Risk], 
    [Project1].[Security_Type_Code] AS [Security_Type_Code], 
    [Project1].[Price_Multiplier] AS [Price_Multiplier], 
    [Project1].[Income_Frequency] AS [Income_Frequency], 
    [Project1].[Issuer_Code] AS [Issuer_Code], 
    [Project1].[Ultimate_Issuer_Code] AS [Ultimate_Issuer_Code], 
    [Project1].[Asset_Currency] AS [Asset_Currency], 
    [Project1].[Min_Lot_Size] AS [Min_Lot_Size], 
    [Project1].[Decimal_Precision] AS [Decimal_Precision], 
    [Project1].[AvePrice_Rounding] AS [AvePrice_Rounding], 
    [Project1].[Issue_Date] AS [Issue_Date], 
    [Project1].[Maturity_Date] AS [Maturity_Date], 
    [Project1].[Coupon_Rate] AS [Coupon_Rate], 
    [Project1].[Price_Exchange] AS [Price_Exchange], 
    [Project1].[Trade_Currency] AS [Trade_Currency], 
    [Project1].[Price_Curr] AS [Price_Curr], 
    [Project1].[Currency_Pair_Code] AS [Currency_Pair_Code], 
    [Project1].[Share_Class] AS [Share_Class], 
    [Project1].[Current_Market_Price] AS [Current_Market_Price], 
    [Project1].[Index_Type] AS [Index_Type], 
    [Project1].[Clean_Price_Formula] AS [Clean_Price_Formula], 
    [Project1].[Accrued_Income_Price_Formula] AS [Accrued_Income_Price_Formula], 
    [Project1].[Odd_First_Coupon_Date] AS [Odd_First_Coupon_Date], 
    [Project1].[Odd_Last_Coupon_Date] AS [Odd_Last_Coupon_Date], 
    [Project1].[Coupon_Anniversary_Indicator] AS [Coupon_Anniversary_Indicator], 
    [Project1].[Track_EOM_Flag] AS [Track_EOM_Flag], 
    [Project1].[Next_Coupon_Date] AS [Next_Coupon_Date], 
    [Project1].[Previous_Coupon_Date] AS [Previous_Coupon_Date], 
    [Project1].[Payment_Frequency] AS [Payment_Frequency], 
    [Project1].[Coupon_BusDay_Adjustment] AS [Coupon_BusDay_Adjustment], 
    [Project1].[Next_Ex_Div_Date] AS [Next_Ex_Div_Date], 
    [Project1].[Ex_Div_BusDay_Adjustment] AS [Ex_Div_BusDay_Adjustment], 
    [Project1].[Ex_Div_Period] AS [Ex_Div_Period], 
    [Project1].[Ticker] AS [Ticker], 
    [Project1].[Inet_ID] AS [Inet_ID], 
    [Project1].[Bloomberg_ID] AS [Bloomberg_ID], 
    [Project1].[External_Sec_ID] AS [External_Sec_ID], 
    [Project1].[Reuters_ID] AS [Reuters_ID], 
    [Project1].[ISIN] AS [ISIN], 
    [Project1].[Call_Account_Flag] AS [Call_Account_Flag], 
    [Project1].[System_Locked] AS [System_Locked], 
    [Project1].[Last_Update_User] AS [Last_Update_User], 
    [Project1].[Last_Update_Date] AS [Last_Update_Date], 
    [Project1].[Security_Status] AS [Security_Status], 
    [Project1].[Benchmark_Portfolio] AS [Benchmark_Portfolio], 
    [Project1].[Active_flag] AS [Active_flag], 
    [Project1].[Dividend_FX_Security_ID] AS [Dividend_FX_Security_ID]
    FROM ( SELECT 
        [Extent1].[Security_ID] AS [Security_ID], 
        [Extent1].[Entity_ID] AS [Entity_ID], 
        [Extent1].[Security_Name] AS [Security_Name], 
        [Extent1].[Short_Name] AS [Short_Name], 
        [Extent1].[Primary_Exch] AS [Primary_Exch], 
        [Extent1].[Secondary_Exch] AS [Secondary_Exch], 
        [Extent1].[Country_Of_Domicile] AS [Country_Of_Domicile], 
        [Extent1].[Country_Of_Risk] AS [Country_Of_Risk], 
        [Extent1].[Security_Type_Code] AS [Security_Type_Code], 
        [Extent1].[Price_Multiplier] AS [Price_Multiplier], 
        [Extent1].[Income_Frequency] AS [Income_Frequency], 
        [Extent1].[Issuer_Code] AS [Issuer_Code], 
        [Extent1].[Ultimate_Issuer_Code] AS [Ultimate_Issuer_Code], 
        [Extent1].[Asset_Currency] AS [Asset_Currency], 
        [Extent1].[Min_Lot_Size] AS [Min_Lot_Size], 
        [Extent1].[Decimal_Precision] AS [Decimal_Precision], 
        [Extent1].[AvePrice_Rounding] AS [AvePrice_Rounding], 
        [Extent1].[Issue_Date] AS [Issue_Date], 
        [Extent1].[Maturity_Date] AS [Maturity_Date], 
        [Extent1].[Coupon_Rate] AS [Coupon_Rate], 
        [Extent1].[Price_Exchange] AS [Price_Exchange], 
        [Extent1].[Trade_Currency] AS [Trade_Currency], 
        [Extent1].[Price_Curr] AS [Price_Curr], 
        [Extent1].[Currency_Pair_Code] AS [Currency_Pair_Code], 
        [Extent1].[Share_Class] AS [Share_Class], 
        [Extent1].[Current_Market_Price] AS [Current_Market_Price], 
        [Extent1].[Index_Type] AS [Index_Type], 
        [Extent1].[Clean_Price_Formula] AS [Clean_Price_Formula], 
        [Extent1].[Accrued_Income_Price_Formula] AS [Accrued_Income_Price_Formula], 
        [Extent1].[Odd_First_Coupon_Date] AS [Odd_First_Coupon_Date], 
        [Extent1].[Odd_Last_Coupon_Date] AS [Odd_Last_Coupon_Date], 
        [Extent1].[Coupon_Anniversary_Indicator] AS [Coupon_Anniversary_Indicator], 
        [Extent1].[Track_EOM_Flag] AS [Track_EOM_Flag], 
        [Extent1].[Next_Coupon_Date] AS [Next_Coupon_Date], 
        [Extent1].[Previous_Coupon_Date] AS [Previous_Coupon_Date], 
        [Extent1].[Payment_Frequency] AS [Payment_Frequency], 
        [Extent1].[Coupon_BusDay_Adjustment] AS [Coupon_BusDay_Adjustment], 
        [Extent1].[Next_Ex_Div_Date] AS [Next_Ex_Div_Date], 
        [Extent1].[Ex_Div_BusDay_Adjustment] AS [Ex_Div_BusDay_Adjustment], 
        [Extent1].[Ex_Div_Period] AS [Ex_Div_Period], 
        [Extent1].[Ticker] AS [Ticker], 
        [Extent1].[Inet_ID] AS [Inet_ID], 
        [Extent1].[Bloomberg_ID] AS [Bloomberg_ID], 
        [Extent1].[External_Sec_ID] AS [External_Sec_ID], 
        [Extent1].[Reuters_ID] AS [Reuters_ID], 
        [Extent1].[ISIN] AS [ISIN], 
        [Extent1].[Call_Account_Flag] AS [Call_Account_Flag], 
        [Extent1].[System_Locked] AS [System_Locked], 
        [Extent1].[Last_Update_User] AS [Last_Update_User], 
        [Extent1].[Last_Update_Date] AS [Last_Update_Date], 
        [Extent1].[Security_Status] AS [Security_Status], 
        [Extent1].[Benchmark_Portfolio] AS [Benchmark_Portfolio], 
        [Extent1].[Active_flag] AS [Active_flag], 
        [Extent1].[Dividend_FX_Security_ID] AS [Dividend_FX_Security_ID]
        FROM [dbo].[Security_Detail] AS [Extent1]
        WHERE ([Extent1].[Entity_ID] IN (@p__linq__0,@p__linq__1)) AND ((CASE WHEN ( NOT ((N'' = @p__linq__2) AND (@p__linq__2 IS NOT NULL))) THEN CASE WHEN ([Extent1].[Security_Type_Code] = @p__linq__3) THEN cast(1 as bit) WHEN ( NOT (([Extent1].[Security_Type_Code] = @p__linq__3) AND (0 = (CASE WHEN (@p__linq__3 IS NULL) THEN cast(1 as bit) ELSE cast(0 as bit) END)))) THEN cast(0 as bit) END WHEN ('' <> [Extent1].[Security_Type_Code]) THEN cast(1 as bit) WHEN ('' = [Extent1].[Security_Type_Code]) THEN cast(0 as bit) END) = 1)
    )  AS [Project1]
    ORDER BY [Project1].[Security_Name] ASC
2018-04-07 16:38:05.4356|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: IF db_id(N'MetopeAzureDb') IS NOT NULL SELECT 1 ELSE SELECT Count(*) FROM sys.databases WHERE [name]=N'MetopeAzureDb'
2018-04-07 16:38:05.5807|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: IF db_id(N'MetopeAzureDb') IS NOT NULL SELECT 1 ELSE SELECT Count(*) FROM sys.databases WHERE [name]=N'MetopeAzureDb'
2018-04-07 16:38:05.6788|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: IF db_id(N'MetopeAzureDb') IS NOT NULL SELECT 1 ELSE SELECT Count(*) FROM sys.databases WHERE [name]=N'MetopeAzureDb'
2018-04-07 16:38:05.7048|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: IF db_id(N'MetopeAzureDb') IS NOT NULL SELECT 1 ELSE SELECT Count(*) FROM sys.databases WHERE [name]=N'MetopeAzureDb'
2018-04-07 16:38:05.7533|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: True, Command Text: SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[EntityIdScope] AS [EntityIdScope], 
    [Extent1].[Email] AS [Email], 
    [Extent1].[EmailConfirmed] AS [EmailConfirmed], 
    [Extent1].[PasswordHash] AS [PasswordHash], 
    [Extent1].[SecurityStamp] AS [SecurityStamp], 
    [Extent1].[PhoneNumber] AS [PhoneNumber], 
    [Extent1].[PhoneNumberConfirmed] AS [PhoneNumberConfirmed], 
    [Extent1].[TwoFactorEnabled] AS [TwoFactorEnabled], 
    [Extent1].[LockoutEndDateUtc] AS [LockoutEndDateUtc], 
    [Extent1].[LockoutEnabled] AS [LockoutEnabled], 
    [Extent1].[AccessFailedCount] AS [AccessFailedCount], 
    [Extent1].[UserName] AS [UserName]
    FROM [dbo].[AspNetUsers] AS [Extent1]
    WHERE [Extent1].[Id] = @p0
2018-04-07 16:38:05.7964|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: True, Command Text: SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[EntityIdScope] AS [EntityIdScope], 
    [Extent1].[Email] AS [Email], 
    [Extent1].[EmailConfirmed] AS [EmailConfirmed], 
    [Extent1].[PasswordHash] AS [PasswordHash], 
    [Extent1].[SecurityStamp] AS [SecurityStamp], 
    [Extent1].[PhoneNumber] AS [PhoneNumber], 
    [Extent1].[PhoneNumberConfirmed] AS [PhoneNumberConfirmed], 
    [Extent1].[TwoFactorEnabled] AS [TwoFactorEnabled], 
    [Extent1].[LockoutEndDateUtc] AS [LockoutEndDateUtc], 
    [Extent1].[LockoutEnabled] AS [LockoutEnabled], 
    [Extent1].[AccessFailedCount] AS [AccessFailedCount], 
    [Extent1].[UserName] AS [UserName]
    FROM [dbo].[AspNetUsers] AS [Extent1]
    WHERE [Extent1].[Id] = @p0
2018-04-07 16:38:05.8164|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: True, Command Text: SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[UserId] AS [UserId], 
    [Extent1].[ClaimType] AS [ClaimType], 
    [Extent1].[ClaimValue] AS [ClaimValue]
    FROM [dbo].[AspNetUserClaims] AS [Extent1]
    WHERE [Extent1].[UserId] = @p__linq__0
2018-04-07 16:38:05.8469|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: True, Command Text: SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[UserId] AS [UserId], 
    [Extent1].[ClaimType] AS [ClaimType], 
    [Extent1].[ClaimValue] AS [ClaimValue]
    FROM [dbo].[AspNetUserClaims] AS [Extent1]
    WHERE [Extent1].[UserId] = @p__linq__0
2018-04-07 16:38:05.8694|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: True, Command Text: SELECT 
    [Extent1].[LoginProvider] AS [LoginProvider], 
    [Extent1].[ProviderKey] AS [ProviderKey], 
    [Extent1].[UserId] AS [UserId]
    FROM [dbo].[AspNetUserLogins] AS [Extent1]
    WHERE [Extent1].[UserId] = @p__linq__0
2018-04-07 16:38:05.8969|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: True, Command Text: SELECT 
    [Extent1].[LoginProvider] AS [LoginProvider], 
    [Extent1].[ProviderKey] AS [ProviderKey], 
    [Extent1].[UserId] AS [UserId]
    FROM [dbo].[AspNetUserLogins] AS [Extent1]
    WHERE [Extent1].[UserId] = @p__linq__0
2018-04-07 16:38:05.9150|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: True, Command Text: SELECT 
    [Extent1].[UserId] AS [UserId], 
    [Extent1].[RoleId] AS [RoleId]
    FROM [dbo].[AspNetUserRoles] AS [Extent1]
    WHERE [Extent1].[UserId] = @p__linq__0
2018-04-07 16:38:05.9390|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: True, Command Text: SELECT 
    [Extent1].[UserId] AS [UserId], 
    [Extent1].[RoleId] AS [RoleId]
    FROM [dbo].[AspNetUserRoles] AS [Extent1]
    WHERE [Extent1].[UserId] = @p__linq__0
2018-04-07 16:38:06.1296|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: SELECT TOP (2) 
    [Extent1].[Entity_ID] AS [Entity_ID], 
    [Extent1].[Entity_Code] AS [Entity_Code], 
    [Extent1].[Entity_Name] AS [Entity_Name], 
    [Extent1].[Import_Folder] AS [Import_Folder], 
    [Extent1].[Export_Folder] AS [Export_Folder]
    FROM [dbo].[Entity] AS [Extent1]
    WHERE [Extent1].[Entity_ID] = @p0
2018-04-07 16:38:06.2402|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: SELECT TOP (2) 
    [Extent1].[Entity_ID] AS [Entity_ID], 
    [Extent1].[Entity_Code] AS [Entity_Code], 
    [Extent1].[Entity_Name] AS [Entity_Name], 
    [Extent1].[Import_Folder] AS [Import_Folder], 
    [Extent1].[Export_Folder] AS [Export_Folder]
    FROM [dbo].[Entity] AS [Extent1]
    WHERE [Extent1].[Entity_ID] = @p0
2018-04-07 16:38:06.8706|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: IF db_id(N'MetopeAzureDb') IS NOT NULL SELECT 1 ELSE SELECT Count(*) FROM sys.databases WHERE [name]=N'MetopeAzureDb'
2018-04-07 16:38:06.8846|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: IF db_id(N'MetopeAzureDb') IS NOT NULL SELECT 1 ELSE SELECT Count(*) FROM sys.databases WHERE [name]=N'MetopeAzureDb'
2018-04-07 16:38:06.9072|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: IF db_id(N'MetopeAzureDb') IS NOT NULL SELECT 1 ELSE SELECT Count(*) FROM sys.databases WHERE [name]=N'MetopeAzureDb'
2018-04-07 16:38:06.9207|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: IF db_id(N'MetopeAzureDb') IS NOT NULL SELECT 1 ELSE SELECT Count(*) FROM sys.databases WHERE [name]=N'MetopeAzureDb'
2018-04-07 16:38:06.9352|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: True, Command Text: SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[EntityIdScope] AS [EntityIdScope], 
    [Extent1].[Email] AS [Email], 
    [Extent1].[EmailConfirmed] AS [EmailConfirmed], 
    [Extent1].[PasswordHash] AS [PasswordHash], 
    [Extent1].[SecurityStamp] AS [SecurityStamp], 
    [Extent1].[PhoneNumber] AS [PhoneNumber], 
    [Extent1].[PhoneNumberConfirmed] AS [PhoneNumberConfirmed], 
    [Extent1].[TwoFactorEnabled] AS [TwoFactorEnabled], 
    [Extent1].[LockoutEndDateUtc] AS [LockoutEndDateUtc], 
    [Extent1].[LockoutEnabled] AS [LockoutEnabled], 
    [Extent1].[AccessFailedCount] AS [AccessFailedCount], 
    [Extent1].[UserName] AS [UserName]
    FROM [dbo].[AspNetUsers] AS [Extent1]
    WHERE [Extent1].[Id] = @p0
2018-04-07 16:38:06.9477|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: True, Command Text: SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[EntityIdScope] AS [EntityIdScope], 
    [Extent1].[Email] AS [Email], 
    [Extent1].[EmailConfirmed] AS [EmailConfirmed], 
    [Extent1].[PasswordHash] AS [PasswordHash], 
    [Extent1].[SecurityStamp] AS [SecurityStamp], 
    [Extent1].[PhoneNumber] AS [PhoneNumber], 
    [Extent1].[PhoneNumberConfirmed] AS [PhoneNumberConfirmed], 
    [Extent1].[TwoFactorEnabled] AS [TwoFactorEnabled], 
    [Extent1].[LockoutEndDateUtc] AS [LockoutEndDateUtc], 
    [Extent1].[LockoutEnabled] AS [LockoutEnabled], 
    [Extent1].[AccessFailedCount] AS [AccessFailedCount], 
    [Extent1].[UserName] AS [UserName]
    FROM [dbo].[AspNetUsers] AS [Extent1]
    WHERE [Extent1].[Id] = @p0
2018-04-07 16:38:06.9622|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: True, Command Text: SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[UserId] AS [UserId], 
    [Extent1].[ClaimType] AS [ClaimType], 
    [Extent1].[ClaimValue] AS [ClaimValue]
    FROM [dbo].[AspNetUserClaims] AS [Extent1]
    WHERE [Extent1].[UserId] = @p__linq__0
2018-04-07 16:38:06.9792|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: True, Command Text: SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[UserId] AS [UserId], 
    [Extent1].[ClaimType] AS [ClaimType], 
    [Extent1].[ClaimValue] AS [ClaimValue]
    FROM [dbo].[AspNetUserClaims] AS [Extent1]
    WHERE [Extent1].[UserId] = @p__linq__0
2018-04-07 16:38:06.9937|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: True, Command Text: SELECT 
    [Extent1].[LoginProvider] AS [LoginProvider], 
    [Extent1].[ProviderKey] AS [ProviderKey], 
    [Extent1].[UserId] AS [UserId]
    FROM [dbo].[AspNetUserLogins] AS [Extent1]
    WHERE [Extent1].[UserId] = @p__linq__0
2018-04-07 16:38:07.0107|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: True, Command Text: SELECT 
    [Extent1].[LoginProvider] AS [LoginProvider], 
    [Extent1].[ProviderKey] AS [ProviderKey], 
    [Extent1].[UserId] AS [UserId]
    FROM [dbo].[AspNetUserLogins] AS [Extent1]
    WHERE [Extent1].[UserId] = @p__linq__0
2018-04-07 16:38:07.0247|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: True, Command Text: SELECT 
    [Extent1].[UserId] AS [UserId], 
    [Extent1].[RoleId] AS [RoleId]
    FROM [dbo].[AspNetUserRoles] AS [Extent1]
    WHERE [Extent1].[UserId] = @p__linq__0
2018-04-07 16:38:07.0403|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: True, Command Text: SELECT 
    [Extent1].[UserId] AS [UserId], 
    [Extent1].[RoleId] AS [RoleId]
    FROM [dbo].[AspNetUserRoles] AS [Extent1]
    WHERE [Extent1].[UserId] = @p__linq__0
2018-04-07 16:38:07.0558|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: SELECT TOP (2) 
    [Extent1].[Entity_ID] AS [Entity_ID], 
    [Extent1].[Entity_Code] AS [Entity_Code], 
    [Extent1].[Entity_Name] AS [Entity_Name], 
    [Extent1].[Import_Folder] AS [Import_Folder], 
    [Extent1].[Export_Folder] AS [Export_Folder]
    FROM [dbo].[Entity] AS [Extent1]
    WHERE [Extent1].[Entity_ID] = @p0
2018-04-07 16:38:07.0558|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: SELECT TOP (2) 
    [Extent1].[Entity_ID] AS [Entity_ID], 
    [Extent1].[Entity_Code] AS [Entity_Code], 
    [Extent1].[Entity_Name] AS [Entity_Name], 
    [Extent1].[Import_Folder] AS [Import_Folder], 
    [Extent1].[Export_Folder] AS [Export_Folder]
    FROM [dbo].[Entity] AS [Extent1]
    WHERE [Extent1].[Entity_ID] = @p0
2018-04-07 16:49:04.7317|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: SELECT 
    [Extent1].[Security_ID] AS [Security_ID], 
    [Extent1].[Portfolio_Code] AS [Portfolio_Code], 
    [Extent1].[Entity_ID] AS [Entity_ID], 
    [Extent1].[ModDietz_Performance_Quarterly] AS [ModDietz_Performance_Quarterly], 
    [Extent1].[ModDietz_Performance_Monthly] AS [ModDietz_Performance_Monthly], 
    [Extent1].[ModDietz_Performance_MonthToDate] AS [ModDietz_Performance_MonthToDate], 
    [Extent1].[Dietz_Performance_Quarterly] AS [Dietz_Performance_Quarterly], 
    [Extent1].[Dietz_Performance_Monthly] AS [Dietz_Performance_Monthly], 
    [Extent1].[Dietz_Performance_MonthToDate] AS [Dietz_Performance_MonthToDate], 
    [Extent1].[Last_Update_Date] AS [Last_Update_Date], 
    [Extent1].[Last_Update_User] AS [Last_Update_User], 
    [Extent1].[Record_Date] AS [Record_Date], 
    [Extent1].[Session_ID] AS [Session_ID], 
    [Extent1].[Hist_Last_Update_Date] AS [Hist_Last_Update_Date], 
    [Extent1].[Hist_Last_Update_User] AS [Hist_Last_Update_User]
    FROM [dbo].[Security_Performance_History] AS [Extent1]
    WHERE ([Extent1].[Security_ID] = @p__linq__0) AND ([Extent1].[Portfolio_Code] = @p__linq__1) AND ([Extent1].[Record_Date] = @p__linq__2) AND ([Extent1].[Entity_ID] = @p__linq__3)
2018-04-07 16:49:04.7697|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: SELECT 
    [Extent1].[Security_ID] AS [Security_ID], 
    [Extent1].[Portfolio_Code] AS [Portfolio_Code], 
    [Extent1].[Entity_ID] AS [Entity_ID], 
    [Extent1].[ModDietz_Performance_Quarterly] AS [ModDietz_Performance_Quarterly], 
    [Extent1].[ModDietz_Performance_Monthly] AS [ModDietz_Performance_Monthly], 
    [Extent1].[ModDietz_Performance_MonthToDate] AS [ModDietz_Performance_MonthToDate], 
    [Extent1].[Dietz_Performance_Quarterly] AS [Dietz_Performance_Quarterly], 
    [Extent1].[Dietz_Performance_Monthly] AS [Dietz_Performance_Monthly], 
    [Extent1].[Dietz_Performance_MonthToDate] AS [Dietz_Performance_MonthToDate], 
    [Extent1].[Last_Update_Date] AS [Last_Update_Date], 
    [Extent1].[Last_Update_User] AS [Last_Update_User], 
    [Extent1].[Record_Date] AS [Record_Date], 
    [Extent1].[Session_ID] AS [Session_ID], 
    [Extent1].[Hist_Last_Update_Date] AS [Hist_Last_Update_Date], 
    [Extent1].[Hist_Last_Update_User] AS [Hist_Last_Update_User]
    FROM [dbo].[Security_Performance_History] AS [Extent1]
    WHERE ([Extent1].[Security_ID] = @p__linq__0) AND ([Extent1].[Portfolio_Code] = @p__linq__1) AND ([Extent1].[Record_Date] = @p__linq__2) AND ([Extent1].[Entity_ID] = @p__linq__3)
2018-04-07 16:49:07.5662|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: SELECT 
    [Extent1].[Security_ID] AS [Security_ID], 
    [Extent1].[Entity_ID] AS [Entity_ID], 
    [Extent1].[Security_Name] AS [Security_Name], 
    [Extent1].[Short_Name] AS [Short_Name], 
    [Extent1].[Primary_Exch] AS [Primary_Exch], 
    [Extent1].[Secondary_Exch] AS [Secondary_Exch], 
    [Extent1].[Country_Of_Domicile] AS [Country_Of_Domicile], 
    [Extent1].[Country_Of_Risk] AS [Country_Of_Risk], 
    [Extent1].[Security_Type_Code] AS [Security_Type_Code], 
    [Extent1].[Price_Multiplier] AS [Price_Multiplier], 
    [Extent1].[Income_Frequency] AS [Income_Frequency], 
    [Extent1].[Issuer_Code] AS [Issuer_Code], 
    [Extent1].[Ultimate_Issuer_Code] AS [Ultimate_Issuer_Code], 
    [Extent1].[Asset_Currency] AS [Asset_Currency], 
    [Extent1].[Min_Lot_Size] AS [Min_Lot_Size], 
    [Extent1].[Decimal_Precision] AS [Decimal_Precision], 
    [Extent1].[AvePrice_Rounding] AS [AvePrice_Rounding], 
    [Extent1].[Issue_Date] AS [Issue_Date], 
    [Extent1].[Maturity_Date] AS [Maturity_Date], 
    [Extent1].[Coupon_Rate] AS [Coupon_Rate], 
    [Extent1].[Price_Exchange] AS [Price_Exchange], 
    [Extent1].[Trade_Currency] AS [Trade_Currency], 
    [Extent1].[Price_Curr] AS [Price_Curr], 
    [Extent1].[Currency_Pair_Code] AS [Currency_Pair_Code], 
    [Extent1].[Share_Class] AS [Share_Class], 
    [Extent1].[Current_Market_Price] AS [Current_Market_Price], 
    [Extent1].[Index_Type] AS [Index_Type], 
    [Extent1].[Clean_Price_Formula] AS [Clean_Price_Formula], 
    [Extent1].[Accrued_Income_Price_Formula] AS [Accrued_Income_Price_Formula], 
    [Extent1].[Odd_First_Coupon_Date] AS [Odd_First_Coupon_Date], 
    [Extent1].[Odd_Last_Coupon_Date] AS [Odd_Last_Coupon_Date], 
    [Extent1].[Coupon_Anniversary_Indicator] AS [Coupon_Anniversary_Indicator], 
    [Extent1].[Track_EOM_Flag] AS [Track_EOM_Flag], 
    [Extent1].[Next_Coupon_Date] AS [Next_Coupon_Date], 
    [Extent1].[Previous_Coupon_Date] AS [Previous_Coupon_Date], 
    [Extent1].[Payment_Frequency] AS [Payment_Frequency], 
    [Extent1].[Coupon_BusDay_Adjustment] AS [Coupon_BusDay_Adjustment], 
    [Extent1].[Next_Ex_Div_Date] AS [Next_Ex_Div_Date], 
    [Extent1].[Ex_Div_BusDay_Adjustment] AS [Ex_Div_BusDay_Adjustment], 
    [Extent1].[Ex_Div_Period] AS [Ex_Div_Period], 
    [Extent1].[Ticker] AS [Ticker], 
    [Extent1].[Inet_ID] AS [Inet_ID], 
    [Extent1].[Bloomberg_ID] AS [Bloomberg_ID], 
    [Extent1].[External_Sec_ID] AS [External_Sec_ID], 
    [Extent1].[Reuters_ID] AS [Reuters_ID], 
    [Extent1].[ISIN] AS [ISIN], 
    [Extent1].[Call_Account_Flag] AS [Call_Account_Flag], 
    [Extent1].[System_Locked] AS [System_Locked], 
    [Extent1].[Last_Update_User] AS [Last_Update_User], 
    [Extent1].[Last_Update_Date] AS [Last_Update_Date], 
    [Extent1].[Security_Status] AS [Security_Status], 
    [Extent1].[Benchmark_Portfolio] AS [Benchmark_Portfolio], 
    [Extent1].[Active_flag] AS [Active_flag], 
    [Extent1].[Dividend_FX_Security_ID] AS [Dividend_FX_Security_ID]
    FROM [dbo].[Security_Detail] AS [Extent1]
    WHERE [Extent1].[Security_ID] = @EntityKeyValue1
2018-04-07 16:49:07.5902|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: SELECT 
    [Extent1].[Security_ID] AS [Security_ID], 
    [Extent1].[Entity_ID] AS [Entity_ID], 
    [Extent1].[Security_Name] AS [Security_Name], 
    [Extent1].[Short_Name] AS [Short_Name], 
    [Extent1].[Primary_Exch] AS [Primary_Exch], 
    [Extent1].[Secondary_Exch] AS [Secondary_Exch], 
    [Extent1].[Country_Of_Domicile] AS [Country_Of_Domicile], 
    [Extent1].[Country_Of_Risk] AS [Country_Of_Risk], 
    [Extent1].[Security_Type_Code] AS [Security_Type_Code], 
    [Extent1].[Price_Multiplier] AS [Price_Multiplier], 
    [Extent1].[Income_Frequency] AS [Income_Frequency], 
    [Extent1].[Issuer_Code] AS [Issuer_Code], 
    [Extent1].[Ultimate_Issuer_Code] AS [Ultimate_Issuer_Code], 
    [Extent1].[Asset_Currency] AS [Asset_Currency], 
    [Extent1].[Min_Lot_Size] AS [Min_Lot_Size], 
    [Extent1].[Decimal_Precision] AS [Decimal_Precision], 
    [Extent1].[AvePrice_Rounding] AS [AvePrice_Rounding], 
    [Extent1].[Issue_Date] AS [Issue_Date], 
    [Extent1].[Maturity_Date] AS [Maturity_Date], 
    [Extent1].[Coupon_Rate] AS [Coupon_Rate], 
    [Extent1].[Price_Exchange] AS [Price_Exchange], 
    [Extent1].[Trade_Currency] AS [Trade_Currency], 
    [Extent1].[Price_Curr] AS [Price_Curr], 
    [Extent1].[Currency_Pair_Code] AS [Currency_Pair_Code], 
    [Extent1].[Share_Class] AS [Share_Class], 
    [Extent1].[Current_Market_Price] AS [Current_Market_Price], 
    [Extent1].[Index_Type] AS [Index_Type], 
    [Extent1].[Clean_Price_Formula] AS [Clean_Price_Formula], 
    [Extent1].[Accrued_Income_Price_Formula] AS [Accrued_Income_Price_Formula], 
    [Extent1].[Odd_First_Coupon_Date] AS [Odd_First_Coupon_Date], 
    [Extent1].[Odd_Last_Coupon_Date] AS [Odd_Last_Coupon_Date], 
    [Extent1].[Coupon_Anniversary_Indicator] AS [Coupon_Anniversary_Indicator], 
    [Extent1].[Track_EOM_Flag] AS [Track_EOM_Flag], 
    [Extent1].[Next_Coupon_Date] AS [Next_Coupon_Date], 
    [Extent1].[Previous_Coupon_Date] AS [Previous_Coupon_Date], 
    [Extent1].[Payment_Frequency] AS [Payment_Frequency], 
    [Extent1].[Coupon_BusDay_Adjustment] AS [Coupon_BusDay_Adjustment], 
    [Extent1].[Next_Ex_Div_Date] AS [Next_Ex_Div_Date], 
    [Extent1].[Ex_Div_BusDay_Adjustment] AS [Ex_Div_BusDay_Adjustment], 
    [Extent1].[Ex_Div_Period] AS [Ex_Div_Period], 
    [Extent1].[Ticker] AS [Ticker], 
    [Extent1].[Inet_ID] AS [Inet_ID], 
    [Extent1].[Bloomberg_ID] AS [Bloomberg_ID], 
    [Extent1].[External_Sec_ID] AS [External_Sec_ID], 
    [Extent1].[Reuters_ID] AS [Reuters_ID], 
    [Extent1].[ISIN] AS [ISIN], 
    [Extent1].[Call_Account_Flag] AS [Call_Account_Flag], 
    [Extent1].[System_Locked] AS [System_Locked], 
    [Extent1].[Last_Update_User] AS [Last_Update_User], 
    [Extent1].[Last_Update_Date] AS [Last_Update_Date], 
    [Extent1].[Security_Status] AS [Security_Status], 
    [Extent1].[Benchmark_Portfolio] AS [Benchmark_Portfolio], 
    [Extent1].[Active_flag] AS [Active_flag], 
    [Extent1].[Dividend_FX_Security_ID] AS [Dividend_FX_Security_ID]
    FROM [dbo].[Security_Detail] AS [Extent1]
    WHERE [Extent1].[Security_ID] = @EntityKeyValue1
2018-04-07 16:49:07.6157|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: SELECT 
    [Project1].[Security_ID] AS [Security_ID], 
    [Project1].[Entity_ID] AS [Entity_ID], 
    [Project1].[Security_Name] AS [Security_Name], 
    [Project1].[Short_Name] AS [Short_Name], 
    [Project1].[Primary_Exch] AS [Primary_Exch], 
    [Project1].[Secondary_Exch] AS [Secondary_Exch], 
    [Project1].[Country_Of_Domicile] AS [Country_Of_Domicile], 
    [Project1].[Country_Of_Risk] AS [Country_Of_Risk], 
    [Project1].[Security_Type_Code] AS [Security_Type_Code], 
    [Project1].[Price_Multiplier] AS [Price_Multiplier], 
    [Project1].[Income_Frequency] AS [Income_Frequency], 
    [Project1].[Issuer_Code] AS [Issuer_Code], 
    [Project1].[Ultimate_Issuer_Code] AS [Ultimate_Issuer_Code], 
    [Project1].[Asset_Currency] AS [Asset_Currency], 
    [Project1].[Min_Lot_Size] AS [Min_Lot_Size], 
    [Project1].[Decimal_Precision] AS [Decimal_Precision], 
    [Project1].[AvePrice_Rounding] AS [AvePrice_Rounding], 
    [Project1].[Issue_Date] AS [Issue_Date], 
    [Project1].[Maturity_Date] AS [Maturity_Date], 
    [Project1].[Coupon_Rate] AS [Coupon_Rate], 
    [Project1].[Price_Exchange] AS [Price_Exchange], 
    [Project1].[Trade_Currency] AS [Trade_Currency], 
    [Project1].[Price_Curr] AS [Price_Curr], 
    [Project1].[Currency_Pair_Code] AS [Currency_Pair_Code], 
    [Project1].[Share_Class] AS [Share_Class], 
    [Project1].[Current_Market_Price] AS [Current_Market_Price], 
    [Project1].[Index_Type] AS [Index_Type], 
    [Project1].[Clean_Price_Formula] AS [Clean_Price_Formula], 
    [Project1].[Accrued_Income_Price_Formula] AS [Accrued_Income_Price_Formula], 
    [Project1].[Odd_First_Coupon_Date] AS [Odd_First_Coupon_Date], 
    [Project1].[Odd_Last_Coupon_Date] AS [Odd_Last_Coupon_Date], 
    [Project1].[Coupon_Anniversary_Indicator] AS [Coupon_Anniversary_Indicator], 
    [Project1].[Track_EOM_Flag] AS [Track_EOM_Flag], 
    [Project1].[Next_Coupon_Date] AS [Next_Coupon_Date], 
    [Project1].[Previous_Coupon_Date] AS [Previous_Coupon_Date], 
    [Project1].[Payment_Frequency] AS [Payment_Frequency], 
    [Project1].[Coupon_BusDay_Adjustment] AS [Coupon_BusDay_Adjustment], 
    [Project1].[Next_Ex_Div_Date] AS [Next_Ex_Div_Date], 
    [Project1].[Ex_Div_BusDay_Adjustment] AS [Ex_Div_BusDay_Adjustment], 
    [Project1].[Ex_Div_Period] AS [Ex_Div_Period], 
    [Project1].[Ticker] AS [Ticker], 
    [Project1].[Inet_ID] AS [Inet_ID], 
    [Project1].[Bloomberg_ID] AS [Bloomberg_ID], 
    [Project1].[External_Sec_ID] AS [External_Sec_ID], 
    [Project1].[Reuters_ID] AS [Reuters_ID], 
    [Project1].[ISIN] AS [ISIN], 
    [Project1].[Call_Account_Flag] AS [Call_Account_Flag], 
    [Project1].[System_Locked] AS [System_Locked], 
    [Project1].[Last_Update_User] AS [Last_Update_User], 
    [Project1].[Last_Update_Date] AS [Last_Update_Date], 
    [Project1].[Security_Status] AS [Security_Status], 
    [Project1].[Benchmark_Portfolio] AS [Benchmark_Portfolio], 
    [Project1].[Active_flag] AS [Active_flag], 
    [Project1].[Dividend_FX_Security_ID] AS [Dividend_FX_Security_ID]
    FROM ( SELECT 
        [Extent1].[Security_ID] AS [Security_ID], 
        [Extent1].[Entity_ID] AS [Entity_ID], 
        [Extent1].[Security_Name] AS [Security_Name], 
        [Extent1].[Short_Name] AS [Short_Name], 
        [Extent1].[Primary_Exch] AS [Primary_Exch], 
        [Extent1].[Secondary_Exch] AS [Secondary_Exch], 
        [Extent1].[Country_Of_Domicile] AS [Country_Of_Domicile], 
        [Extent1].[Country_Of_Risk] AS [Country_Of_Risk], 
        [Extent1].[Security_Type_Code] AS [Security_Type_Code], 
        [Extent1].[Price_Multiplier] AS [Price_Multiplier], 
        [Extent1].[Income_Frequency] AS [Income_Frequency], 
        [Extent1].[Issuer_Code] AS [Issuer_Code], 
        [Extent1].[Ultimate_Issuer_Code] AS [Ultimate_Issuer_Code], 
        [Extent1].[Asset_Currency] AS [Asset_Currency], 
        [Extent1].[Min_Lot_Size] AS [Min_Lot_Size], 
        [Extent1].[Decimal_Precision] AS [Decimal_Precision], 
        [Extent1].[AvePrice_Rounding] AS [AvePrice_Rounding], 
        [Extent1].[Issue_Date] AS [Issue_Date], 
        [Extent1].[Maturity_Date] AS [Maturity_Date], 
        [Extent1].[Coupon_Rate] AS [Coupon_Rate], 
        [Extent1].[Price_Exchange] AS [Price_Exchange], 
        [Extent1].[Trade_Currency] AS [Trade_Currency], 
        [Extent1].[Price_Curr] AS [Price_Curr], 
        [Extent1].[Currency_Pair_Code] AS [Currency_Pair_Code], 
        [Extent1].[Share_Class] AS [Share_Class], 
        [Extent1].[Current_Market_Price] AS [Current_Market_Price], 
        [Extent1].[Index_Type] AS [Index_Type], 
        [Extent1].[Clean_Price_Formula] AS [Clean_Price_Formula], 
        [Extent1].[Accrued_Income_Price_Formula] AS [Accrued_Income_Price_Formula], 
        [Extent1].[Odd_First_Coupon_Date] AS [Odd_First_Coupon_Date], 
        [Extent1].[Odd_Last_Coupon_Date] AS [Odd_Last_Coupon_Date], 
        [Extent1].[Coupon_Anniversary_Indicator] AS [Coupon_Anniversary_Indicator], 
        [Extent1].[Track_EOM_Flag] AS [Track_EOM_Flag], 
        [Extent1].[Next_Coupon_Date] AS [Next_Coupon_Date], 
        [Extent1].[Previous_Coupon_Date] AS [Previous_Coupon_Date], 
        [Extent1].[Payment_Frequency] AS [Payment_Frequency], 
        [Extent1].[Coupon_BusDay_Adjustment] AS [Coupon_BusDay_Adjustment], 
        [Extent1].[Next_Ex_Div_Date] AS [Next_Ex_Div_Date], 
        [Extent1].[Ex_Div_BusDay_Adjustment] AS [Ex_Div_BusDay_Adjustment], 
        [Extent1].[Ex_Div_Period] AS [Ex_Div_Period], 
        [Extent1].[Ticker] AS [Ticker], 
        [Extent1].[Inet_ID] AS [Inet_ID], 
        [Extent1].[Bloomberg_ID] AS [Bloomberg_ID], 
        [Extent1].[External_Sec_ID] AS [External_Sec_ID], 
        [Extent1].[Reuters_ID] AS [Reuters_ID], 
        [Extent1].[ISIN] AS [ISIN], 
        [Extent1].[Call_Account_Flag] AS [Call_Account_Flag], 
        [Extent1].[System_Locked] AS [System_Locked], 
        [Extent1].[Last_Update_User] AS [Last_Update_User], 
        [Extent1].[Last_Update_Date] AS [Last_Update_Date], 
        [Extent1].[Security_Status] AS [Security_Status], 
        [Extent1].[Benchmark_Portfolio] AS [Benchmark_Portfolio], 
        [Extent1].[Active_flag] AS [Active_flag], 
        [Extent1].[Dividend_FX_Security_ID] AS [Dividend_FX_Security_ID]
        FROM [dbo].[Security_Detail] AS [Extent1]
        WHERE ([Extent1].[Entity_ID] IN (@p__linq__0,@p__linq__1)) AND ((CASE WHEN ( NOT ((N'' = @p__linq__2) AND (@p__linq__2 IS NOT NULL))) THEN CASE WHEN ([Extent1].[Security_Type_Code] = @p__linq__3) THEN cast(1 as bit) WHEN ( NOT (([Extent1].[Security_Type_Code] = @p__linq__3) AND (0 = (CASE WHEN (@p__linq__3 IS NULL) THEN cast(1 as bit) ELSE cast(0 as bit) END)))) THEN cast(0 as bit) END WHEN ('' <> [Extent1].[Security_Type_Code]) THEN cast(1 as bit) WHEN ('' = [Extent1].[Security_Type_Code]) THEN cast(0 as bit) END) = 1)
    )  AS [Project1]
    ORDER BY [Project1].[Security_Name] ASC
2018-04-07 16:49:07.6392|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: SELECT 
    [Project1].[Security_ID] AS [Security_ID], 
    [Project1].[Entity_ID] AS [Entity_ID], 
    [Project1].[Security_Name] AS [Security_Name], 
    [Project1].[Short_Name] AS [Short_Name], 
    [Project1].[Primary_Exch] AS [Primary_Exch], 
    [Project1].[Secondary_Exch] AS [Secondary_Exch], 
    [Project1].[Country_Of_Domicile] AS [Country_Of_Domicile], 
    [Project1].[Country_Of_Risk] AS [Country_Of_Risk], 
    [Project1].[Security_Type_Code] AS [Security_Type_Code], 
    [Project1].[Price_Multiplier] AS [Price_Multiplier], 
    [Project1].[Income_Frequency] AS [Income_Frequency], 
    [Project1].[Issuer_Code] AS [Issuer_Code], 
    [Project1].[Ultimate_Issuer_Code] AS [Ultimate_Issuer_Code], 
    [Project1].[Asset_Currency] AS [Asset_Currency], 
    [Project1].[Min_Lot_Size] AS [Min_Lot_Size], 
    [Project1].[Decimal_Precision] AS [Decimal_Precision], 
    [Project1].[AvePrice_Rounding] AS [AvePrice_Rounding], 
    [Project1].[Issue_Date] AS [Issue_Date], 
    [Project1].[Maturity_Date] AS [Maturity_Date], 
    [Project1].[Coupon_Rate] AS [Coupon_Rate], 
    [Project1].[Price_Exchange] AS [Price_Exchange], 
    [Project1].[Trade_Currency] AS [Trade_Currency], 
    [Project1].[Price_Curr] AS [Price_Curr], 
    [Project1].[Currency_Pair_Code] AS [Currency_Pair_Code], 
    [Project1].[Share_Class] AS [Share_Class], 
    [Project1].[Current_Market_Price] AS [Current_Market_Price], 
    [Project1].[Index_Type] AS [Index_Type], 
    [Project1].[Clean_Price_Formula] AS [Clean_Price_Formula], 
    [Project1].[Accrued_Income_Price_Formula] AS [Accrued_Income_Price_Formula], 
    [Project1].[Odd_First_Coupon_Date] AS [Odd_First_Coupon_Date], 
    [Project1].[Odd_Last_Coupon_Date] AS [Odd_Last_Coupon_Date], 
    [Project1].[Coupon_Anniversary_Indicator] AS [Coupon_Anniversary_Indicator], 
    [Project1].[Track_EOM_Flag] AS [Track_EOM_Flag], 
    [Project1].[Next_Coupon_Date] AS [Next_Coupon_Date], 
    [Project1].[Previous_Coupon_Date] AS [Previous_Coupon_Date], 
    [Project1].[Payment_Frequency] AS [Payment_Frequency], 
    [Project1].[Coupon_BusDay_Adjustment] AS [Coupon_BusDay_Adjustment], 
    [Project1].[Next_Ex_Div_Date] AS [Next_Ex_Div_Date], 
    [Project1].[Ex_Div_BusDay_Adjustment] AS [Ex_Div_BusDay_Adjustment], 
    [Project1].[Ex_Div_Period] AS [Ex_Div_Period], 
    [Project1].[Ticker] AS [Ticker], 
    [Project1].[Inet_ID] AS [Inet_ID], 
    [Project1].[Bloomberg_ID] AS [Bloomberg_ID], 
    [Project1].[External_Sec_ID] AS [External_Sec_ID], 
    [Project1].[Reuters_ID] AS [Reuters_ID], 
    [Project1].[ISIN] AS [ISIN], 
    [Project1].[Call_Account_Flag] AS [Call_Account_Flag], 
    [Project1].[System_Locked] AS [System_Locked], 
    [Project1].[Last_Update_User] AS [Last_Update_User], 
    [Project1].[Last_Update_Date] AS [Last_Update_Date], 
    [Project1].[Security_Status] AS [Security_Status], 
    [Project1].[Benchmark_Portfolio] AS [Benchmark_Portfolio], 
    [Project1].[Active_flag] AS [Active_flag], 
    [Project1].[Dividend_FX_Security_ID] AS [Dividend_FX_Security_ID]
    FROM ( SELECT 
        [Extent1].[Security_ID] AS [Security_ID], 
        [Extent1].[Entity_ID] AS [Entity_ID], 
        [Extent1].[Security_Name] AS [Security_Name], 
        [Extent1].[Short_Name] AS [Short_Name], 
        [Extent1].[Primary_Exch] AS [Primary_Exch], 
        [Extent1].[Secondary_Exch] AS [Secondary_Exch], 
        [Extent1].[Country_Of_Domicile] AS [Country_Of_Domicile], 
        [Extent1].[Country_Of_Risk] AS [Country_Of_Risk], 
        [Extent1].[Security_Type_Code] AS [Security_Type_Code], 
        [Extent1].[Price_Multiplier] AS [Price_Multiplier], 
        [Extent1].[Income_Frequency] AS [Income_Frequency], 
        [Extent1].[Issuer_Code] AS [Issuer_Code], 
        [Extent1].[Ultimate_Issuer_Code] AS [Ultimate_Issuer_Code], 
        [Extent1].[Asset_Currency] AS [Asset_Currency], 
        [Extent1].[Min_Lot_Size] AS [Min_Lot_Size], 
        [Extent1].[Decimal_Precision] AS [Decimal_Precision], 
        [Extent1].[AvePrice_Rounding] AS [AvePrice_Rounding], 
        [Extent1].[Issue_Date] AS [Issue_Date], 
        [Extent1].[Maturity_Date] AS [Maturity_Date], 
        [Extent1].[Coupon_Rate] AS [Coupon_Rate], 
        [Extent1].[Price_Exchange] AS [Price_Exchange], 
        [Extent1].[Trade_Currency] AS [Trade_Currency], 
        [Extent1].[Price_Curr] AS [Price_Curr], 
        [Extent1].[Currency_Pair_Code] AS [Currency_Pair_Code], 
        [Extent1].[Share_Class] AS [Share_Class], 
        [Extent1].[Current_Market_Price] AS [Current_Market_Price], 
        [Extent1].[Index_Type] AS [Index_Type], 
        [Extent1].[Clean_Price_Formula] AS [Clean_Price_Formula], 
        [Extent1].[Accrued_Income_Price_Formula] AS [Accrued_Income_Price_Formula], 
        [Extent1].[Odd_First_Coupon_Date] AS [Odd_First_Coupon_Date], 
        [Extent1].[Odd_Last_Coupon_Date] AS [Odd_Last_Coupon_Date], 
        [Extent1].[Coupon_Anniversary_Indicator] AS [Coupon_Anniversary_Indicator], 
        [Extent1].[Track_EOM_Flag] AS [Track_EOM_Flag], 
        [Extent1].[Next_Coupon_Date] AS [Next_Coupon_Date], 
        [Extent1].[Previous_Coupon_Date] AS [Previous_Coupon_Date], 
        [Extent1].[Payment_Frequency] AS [Payment_Frequency], 
        [Extent1].[Coupon_BusDay_Adjustment] AS [Coupon_BusDay_Adjustment], 
        [Extent1].[Next_Ex_Div_Date] AS [Next_Ex_Div_Date], 
        [Extent1].[Ex_Div_BusDay_Adjustment] AS [Ex_Div_BusDay_Adjustment], 
        [Extent1].[Ex_Div_Period] AS [Ex_Div_Period], 
        [Extent1].[Ticker] AS [Ticker], 
        [Extent1].[Inet_ID] AS [Inet_ID], 
        [Extent1].[Bloomberg_ID] AS [Bloomberg_ID], 
        [Extent1].[External_Sec_ID] AS [External_Sec_ID], 
        [Extent1].[Reuters_ID] AS [Reuters_ID], 
        [Extent1].[ISIN] AS [ISIN], 
        [Extent1].[Call_Account_Flag] AS [Call_Account_Flag], 
        [Extent1].[System_Locked] AS [System_Locked], 
        [Extent1].[Last_Update_User] AS [Last_Update_User], 
        [Extent1].[Last_Update_Date] AS [Last_Update_Date], 
        [Extent1].[Security_Status] AS [Security_Status], 
        [Extent1].[Benchmark_Portfolio] AS [Benchmark_Portfolio], 
        [Extent1].[Active_flag] AS [Active_flag], 
        [Extent1].[Dividend_FX_Security_ID] AS [Dividend_FX_Security_ID]
        FROM [dbo].[Security_Detail] AS [Extent1]
        WHERE ([Extent1].[Entity_ID] IN (@p__linq__0,@p__linq__1)) AND ((CASE WHEN ( NOT ((N'' = @p__linq__2) AND (@p__linq__2 IS NOT NULL))) THEN CASE WHEN ([Extent1].[Security_Type_Code] = @p__linq__3) THEN cast(1 as bit) WHEN ( NOT (([Extent1].[Security_Type_Code] = @p__linq__3) AND (0 = (CASE WHEN (@p__linq__3 IS NULL) THEN cast(1 as bit) ELSE cast(0 as bit) END)))) THEN cast(0 as bit) END WHEN ('' <> [Extent1].[Security_Type_Code]) THEN cast(1 as bit) WHEN ('' = [Extent1].[Security_Type_Code]) THEN cast(0 as bit) END) = 1)
    )  AS [Project1]
    ORDER BY [Project1].[Security_Name] ASC
2018-04-07 16:49:07.6698|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: IF db_id(N'MetopeAzureDb') IS NOT NULL SELECT 1 ELSE SELECT Count(*) FROM sys.databases WHERE [name]=N'MetopeAzureDb'
2018-04-07 16:49:07.7143|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: IF db_id(N'MetopeAzureDb') IS NOT NULL SELECT 1 ELSE SELECT Count(*) FROM sys.databases WHERE [name]=N'MetopeAzureDb'
2018-04-07 16:49:07.9575|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: IF db_id(N'MetopeAzureDb') IS NOT NULL SELECT 1 ELSE SELECT Count(*) FROM sys.databases WHERE [name]=N'MetopeAzureDb'
2018-04-07 16:49:08.0190|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: IF db_id(N'MetopeAzureDb') IS NOT NULL SELECT 1 ELSE SELECT Count(*) FROM sys.databases WHERE [name]=N'MetopeAzureDb'
2018-04-07 16:50:56.3252|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: select cast(serverproperty('EngineEdition') as int)
2018-04-07 16:50:56.4207|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: select cast(serverproperty('EngineEdition') as int)
2018-04-07 16:50:57.0722|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: IF db_id(N'MetopeAzureDb') IS NOT NULL SELECT 1 ELSE SELECT Count(*) FROM sys.databases WHERE [name]=N'MetopeAzureDb'
2018-04-07 16:50:57.1973|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: IF db_id(N'MetopeAzureDb') IS NOT NULL SELECT 1 ELSE SELECT Count(*) FROM sys.databases WHERE [name]=N'MetopeAzureDb'
2018-04-07 16:50:57.4495|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: IF db_id(N'MetopeAzureDb') IS NOT NULL SELECT 1 ELSE SELECT Count(*) FROM sys.databases WHERE [name]=N'MetopeAzureDb'
2018-04-07 16:50:57.4825|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: IF db_id(N'MetopeAzureDb') IS NOT NULL SELECT 1 ELSE SELECT Count(*) FROM sys.databases WHERE [name]=N'MetopeAzureDb'
2018-04-07 16:50:57.5175|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: 
SELECT Count(*)
FROM INFORMATION_SCHEMA.TABLES AS t
WHERE t.TABLE_SCHEMA + '.' + t.TABLE_NAME IN ('dbo.AspNetRoles','dbo.AspNetUserRoles','dbo.AspNetUsers','dbo.AspNetUserClaims','dbo.AspNetUserLogins')
    OR t.TABLE_NAME = 'EdmMetadata'
2018-04-07 16:50:57.6131|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: 
SELECT Count(*)
FROM INFORMATION_SCHEMA.TABLES AS t
WHERE t.TABLE_SCHEMA + '.' + t.TABLE_NAME IN ('dbo.AspNetRoles','dbo.AspNetUserRoles','dbo.AspNetUsers','dbo.AspNetUserClaims','dbo.AspNetUserLogins')
    OR t.TABLE_NAME = 'EdmMetadata'
2018-04-07 16:50:58.0449|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: SELECT 
    [GroupBy1].[A1] AS [C1]
    FROM ( SELECT 
        COUNT(1) AS [A1]
        FROM [dbo].[__MigrationHistory] AS [Extent1]
        WHERE [Extent1].[ContextKey] = @p__linq__0
    )  AS [GroupBy1]
2018-04-07 16:50:58.0894|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: SELECT 
    [GroupBy1].[A1] AS [C1]
    FROM ( SELECT 
        COUNT(1) AS [A1]
        FROM [dbo].[__MigrationHistory] AS [Extent1]
        WHERE [Extent1].[ContextKey] = @p__linq__0
    )  AS [GroupBy1]
2018-04-07 16:50:58.1845|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: SELECT TOP (1) 
    [Project1].[C1] AS [C1], 
    [Project1].[MigrationId] AS [MigrationId], 
    [Project1].[Model] AS [Model], 
    [Project1].[ProductVersion] AS [ProductVersion]
    FROM ( SELECT 
        [Extent1].[MigrationId] AS [MigrationId], 
        [Extent1].[Model] AS [Model], 
        [Extent1].[ProductVersion] AS [ProductVersion], 
        1 AS [C1]
        FROM [dbo].[__MigrationHistory] AS [Extent1]
        WHERE [Extent1].[ContextKey] = @p__linq__0
    )  AS [Project1]
    ORDER BY [Project1].[MigrationId] DESC
2018-04-07 16:50:58.2135|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: SELECT TOP (1) 
    [Project1].[C1] AS [C1], 
    [Project1].[MigrationId] AS [MigrationId], 
    [Project1].[Model] AS [Model], 
    [Project1].[ProductVersion] AS [ProductVersion]
    FROM ( SELECT 
        [Extent1].[MigrationId] AS [MigrationId], 
        [Extent1].[Model] AS [Model], 
        [Extent1].[ProductVersion] AS [ProductVersion], 
        1 AS [C1]
        FROM [dbo].[__MigrationHistory] AS [Extent1]
        WHERE [Extent1].[ContextKey] = @p__linq__0
    )  AS [Project1]
    ORDER BY [Project1].[MigrationId] DESC
2018-04-07 16:50:58.7519|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: True, Command Text: SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[EntityIdScope] AS [EntityIdScope], 
    [Extent1].[Email] AS [Email], 
    [Extent1].[EmailConfirmed] AS [EmailConfirmed], 
    [Extent1].[PasswordHash] AS [PasswordHash], 
    [Extent1].[SecurityStamp] AS [SecurityStamp], 
    [Extent1].[PhoneNumber] AS [PhoneNumber], 
    [Extent1].[PhoneNumberConfirmed] AS [PhoneNumberConfirmed], 
    [Extent1].[TwoFactorEnabled] AS [TwoFactorEnabled], 
    [Extent1].[LockoutEndDateUtc] AS [LockoutEndDateUtc], 
    [Extent1].[LockoutEnabled] AS [LockoutEnabled], 
    [Extent1].[AccessFailedCount] AS [AccessFailedCount], 
    [Extent1].[UserName] AS [UserName]
    FROM [dbo].[AspNetUsers] AS [Extent1]
    WHERE [Extent1].[Id] = @p0
2018-04-07 16:50:58.7949|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: True, Command Text: SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[EntityIdScope] AS [EntityIdScope], 
    [Extent1].[Email] AS [Email], 
    [Extent1].[EmailConfirmed] AS [EmailConfirmed], 
    [Extent1].[PasswordHash] AS [PasswordHash], 
    [Extent1].[SecurityStamp] AS [SecurityStamp], 
    [Extent1].[PhoneNumber] AS [PhoneNumber], 
    [Extent1].[PhoneNumberConfirmed] AS [PhoneNumberConfirmed], 
    [Extent1].[TwoFactorEnabled] AS [TwoFactorEnabled], 
    [Extent1].[LockoutEndDateUtc] AS [LockoutEndDateUtc], 
    [Extent1].[LockoutEnabled] AS [LockoutEnabled], 
    [Extent1].[AccessFailedCount] AS [AccessFailedCount], 
    [Extent1].[UserName] AS [UserName]
    FROM [dbo].[AspNetUsers] AS [Extent1]
    WHERE [Extent1].[Id] = @p0
2018-04-07 16:50:59.0371|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: True, Command Text: SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[UserId] AS [UserId], 
    [Extent1].[ClaimType] AS [ClaimType], 
    [Extent1].[ClaimValue] AS [ClaimValue]
    FROM [dbo].[AspNetUserClaims] AS [Extent1]
    WHERE [Extent1].[UserId] = @p__linq__0
2018-04-07 16:50:59.0701|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: True, Command Text: SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[UserId] AS [UserId], 
    [Extent1].[ClaimType] AS [ClaimType], 
    [Extent1].[ClaimValue] AS [ClaimValue]
    FROM [dbo].[AspNetUserClaims] AS [Extent1]
    WHERE [Extent1].[UserId] = @p__linq__0
2018-04-07 16:50:59.2187|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: True, Command Text: SELECT 
    [Extent1].[LoginProvider] AS [LoginProvider], 
    [Extent1].[ProviderKey] AS [ProviderKey], 
    [Extent1].[UserId] AS [UserId]
    FROM [dbo].[AspNetUserLogins] AS [Extent1]
    WHERE [Extent1].[UserId] = @p__linq__0
2018-04-07 16:50:59.2487|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: True, Command Text: SELECT 
    [Extent1].[LoginProvider] AS [LoginProvider], 
    [Extent1].[ProviderKey] AS [ProviderKey], 
    [Extent1].[UserId] AS [UserId]
    FROM [dbo].[AspNetUserLogins] AS [Extent1]
    WHERE [Extent1].[UserId] = @p__linq__0
2018-04-07 16:50:59.3948|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: True, Command Text: SELECT 
    [Extent1].[UserId] AS [UserId], 
    [Extent1].[RoleId] AS [RoleId]
    FROM [dbo].[AspNetUserRoles] AS [Extent1]
    WHERE [Extent1].[UserId] = @p__linq__0
2018-04-07 16:50:59.4214|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: True, Command Text: SELECT 
    [Extent1].[UserId] AS [UserId], 
    [Extent1].[RoleId] AS [RoleId]
    FROM [dbo].[AspNetUserRoles] AS [Extent1]
    WHERE [Extent1].[UserId] = @p__linq__0
2018-04-07 16:51:00.4201|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: SELECT 
    [Extent1].[Security_ID] AS [Security_ID], 
    [Extent1].[Portfolio_Code] AS [Portfolio_Code], 
    [Extent1].[Entity_ID] AS [Entity_ID], 
    [Extent1].[ModDietz_Performance_Quarterly] AS [ModDietz_Performance_Quarterly], 
    [Extent1].[ModDietz_Performance_Monthly] AS [ModDietz_Performance_Monthly], 
    [Extent1].[ModDietz_Performance_MonthToDate] AS [ModDietz_Performance_MonthToDate], 
    [Extent1].[Dietz_Performance_Quarterly] AS [Dietz_Performance_Quarterly], 
    [Extent1].[Dietz_Performance_Monthly] AS [Dietz_Performance_Monthly], 
    [Extent1].[Dietz_Performance_MonthToDate] AS [Dietz_Performance_MonthToDate], 
    [Extent1].[Last_Update_Date] AS [Last_Update_Date], 
    [Extent1].[Last_Update_User] AS [Last_Update_User], 
    [Extent1].[Record_Date] AS [Record_Date], 
    [Extent1].[Session_ID] AS [Session_ID], 
    [Extent1].[Hist_Last_Update_Date] AS [Hist_Last_Update_Date], 
    [Extent1].[Hist_Last_Update_User] AS [Hist_Last_Update_User]
    FROM [dbo].[Security_Performance_History] AS [Extent1]
    WHERE ([Extent1].[Security_ID] = @p__linq__0) AND ([Extent1].[Portfolio_Code] = @p__linq__1) AND ([Extent1].[Record_Date] = @p__linq__2) AND ([Extent1].[Entity_ID] = @p__linq__3)
2018-04-07 16:51:00.4681|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: SELECT 
    [Extent1].[Security_ID] AS [Security_ID], 
    [Extent1].[Portfolio_Code] AS [Portfolio_Code], 
    [Extent1].[Entity_ID] AS [Entity_ID], 
    [Extent1].[ModDietz_Performance_Quarterly] AS [ModDietz_Performance_Quarterly], 
    [Extent1].[ModDietz_Performance_Monthly] AS [ModDietz_Performance_Monthly], 
    [Extent1].[ModDietz_Performance_MonthToDate] AS [ModDietz_Performance_MonthToDate], 
    [Extent1].[Dietz_Performance_Quarterly] AS [Dietz_Performance_Quarterly], 
    [Extent1].[Dietz_Performance_Monthly] AS [Dietz_Performance_Monthly], 
    [Extent1].[Dietz_Performance_MonthToDate] AS [Dietz_Performance_MonthToDate], 
    [Extent1].[Last_Update_Date] AS [Last_Update_Date], 
    [Extent1].[Last_Update_User] AS [Last_Update_User], 
    [Extent1].[Record_Date] AS [Record_Date], 
    [Extent1].[Session_ID] AS [Session_ID], 
    [Extent1].[Hist_Last_Update_Date] AS [Hist_Last_Update_Date], 
    [Extent1].[Hist_Last_Update_User] AS [Hist_Last_Update_User]
    FROM [dbo].[Security_Performance_History] AS [Extent1]
    WHERE ([Extent1].[Security_ID] = @p__linq__0) AND ([Extent1].[Portfolio_Code] = @p__linq__1) AND ([Extent1].[Record_Date] = @p__linq__2) AND ([Extent1].[Entity_ID] = @p__linq__3)
2018-04-07 16:51:05.1366|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: SELECT 
    [Extent1].[Security_ID] AS [Security_ID], 
    [Extent1].[Entity_ID] AS [Entity_ID], 
    [Extent1].[Security_Name] AS [Security_Name], 
    [Extent1].[Short_Name] AS [Short_Name], 
    [Extent1].[Primary_Exch] AS [Primary_Exch], 
    [Extent1].[Secondary_Exch] AS [Secondary_Exch], 
    [Extent1].[Country_Of_Domicile] AS [Country_Of_Domicile], 
    [Extent1].[Country_Of_Risk] AS [Country_Of_Risk], 
    [Extent1].[Security_Type_Code] AS [Security_Type_Code], 
    [Extent1].[Price_Multiplier] AS [Price_Multiplier], 
    [Extent1].[Income_Frequency] AS [Income_Frequency], 
    [Extent1].[Issuer_Code] AS [Issuer_Code], 
    [Extent1].[Ultimate_Issuer_Code] AS [Ultimate_Issuer_Code], 
    [Extent1].[Asset_Currency] AS [Asset_Currency], 
    [Extent1].[Min_Lot_Size] AS [Min_Lot_Size], 
    [Extent1].[Decimal_Precision] AS [Decimal_Precision], 
    [Extent1].[AvePrice_Rounding] AS [AvePrice_Rounding], 
    [Extent1].[Issue_Date] AS [Issue_Date], 
    [Extent1].[Maturity_Date] AS [Maturity_Date], 
    [Extent1].[Coupon_Rate] AS [Coupon_Rate], 
    [Extent1].[Price_Exchange] AS [Price_Exchange], 
    [Extent1].[Trade_Currency] AS [Trade_Currency], 
    [Extent1].[Price_Curr] AS [Price_Curr], 
    [Extent1].[Currency_Pair_Code] AS [Currency_Pair_Code], 
    [Extent1].[Share_Class] AS [Share_Class], 
    [Extent1].[Current_Market_Price] AS [Current_Market_Price], 
    [Extent1].[Index_Type] AS [Index_Type], 
    [Extent1].[Clean_Price_Formula] AS [Clean_Price_Formula], 
    [Extent1].[Accrued_Income_Price_Formula] AS [Accrued_Income_Price_Formula], 
    [Extent1].[Odd_First_Coupon_Date] AS [Odd_First_Coupon_Date], 
    [Extent1].[Odd_Last_Coupon_Date] AS [Odd_Last_Coupon_Date], 
    [Extent1].[Coupon_Anniversary_Indicator] AS [Coupon_Anniversary_Indicator], 
    [Extent1].[Track_EOM_Flag] AS [Track_EOM_Flag], 
    [Extent1].[Next_Coupon_Date] AS [Next_Coupon_Date], 
    [Extent1].[Previous_Coupon_Date] AS [Previous_Coupon_Date], 
    [Extent1].[Payment_Frequency] AS [Payment_Frequency], 
    [Extent1].[Coupon_BusDay_Adjustment] AS [Coupon_BusDay_Adjustment], 
    [Extent1].[Next_Ex_Div_Date] AS [Next_Ex_Div_Date], 
    [Extent1].[Ex_Div_BusDay_Adjustment] AS [Ex_Div_BusDay_Adjustment], 
    [Extent1].[Ex_Div_Period] AS [Ex_Div_Period], 
    [Extent1].[Ticker] AS [Ticker], 
    [Extent1].[Inet_ID] AS [Inet_ID], 
    [Extent1].[Bloomberg_ID] AS [Bloomberg_ID], 
    [Extent1].[External_Sec_ID] AS [External_Sec_ID], 
    [Extent1].[Reuters_ID] AS [Reuters_ID], 
    [Extent1].[ISIN] AS [ISIN], 
    [Extent1].[Call_Account_Flag] AS [Call_Account_Flag], 
    [Extent1].[System_Locked] AS [System_Locked], 
    [Extent1].[Last_Update_User] AS [Last_Update_User], 
    [Extent1].[Last_Update_Date] AS [Last_Update_Date], 
    [Extent1].[Security_Status] AS [Security_Status], 
    [Extent1].[Benchmark_Portfolio] AS [Benchmark_Portfolio], 
    [Extent1].[Active_flag] AS [Active_flag], 
    [Extent1].[Dividend_FX_Security_ID] AS [Dividend_FX_Security_ID]
    FROM [dbo].[Security_Detail] AS [Extent1]
    WHERE [Extent1].[Security_ID] = @EntityKeyValue1
2018-04-07 16:51:05.1691|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: SELECT 
    [Extent1].[Security_ID] AS [Security_ID], 
    [Extent1].[Entity_ID] AS [Entity_ID], 
    [Extent1].[Security_Name] AS [Security_Name], 
    [Extent1].[Short_Name] AS [Short_Name], 
    [Extent1].[Primary_Exch] AS [Primary_Exch], 
    [Extent1].[Secondary_Exch] AS [Secondary_Exch], 
    [Extent1].[Country_Of_Domicile] AS [Country_Of_Domicile], 
    [Extent1].[Country_Of_Risk] AS [Country_Of_Risk], 
    [Extent1].[Security_Type_Code] AS [Security_Type_Code], 
    [Extent1].[Price_Multiplier] AS [Price_Multiplier], 
    [Extent1].[Income_Frequency] AS [Income_Frequency], 
    [Extent1].[Issuer_Code] AS [Issuer_Code], 
    [Extent1].[Ultimate_Issuer_Code] AS [Ultimate_Issuer_Code], 
    [Extent1].[Asset_Currency] AS [Asset_Currency], 
    [Extent1].[Min_Lot_Size] AS [Min_Lot_Size], 
    [Extent1].[Decimal_Precision] AS [Decimal_Precision], 
    [Extent1].[AvePrice_Rounding] AS [AvePrice_Rounding], 
    [Extent1].[Issue_Date] AS [Issue_Date], 
    [Extent1].[Maturity_Date] AS [Maturity_Date], 
    [Extent1].[Coupon_Rate] AS [Coupon_Rate], 
    [Extent1].[Price_Exchange] AS [Price_Exchange], 
    [Extent1].[Trade_Currency] AS [Trade_Currency], 
    [Extent1].[Price_Curr] AS [Price_Curr], 
    [Extent1].[Currency_Pair_Code] AS [Currency_Pair_Code], 
    [Extent1].[Share_Class] AS [Share_Class], 
    [Extent1].[Current_Market_Price] AS [Current_Market_Price], 
    [Extent1].[Index_Type] AS [Index_Type], 
    [Extent1].[Clean_Price_Formula] AS [Clean_Price_Formula], 
    [Extent1].[Accrued_Income_Price_Formula] AS [Accrued_Income_Price_Formula], 
    [Extent1].[Odd_First_Coupon_Date] AS [Odd_First_Coupon_Date], 
    [Extent1].[Odd_Last_Coupon_Date] AS [Odd_Last_Coupon_Date], 
    [Extent1].[Coupon_Anniversary_Indicator] AS [Coupon_Anniversary_Indicator], 
    [Extent1].[Track_EOM_Flag] AS [Track_EOM_Flag], 
    [Extent1].[Next_Coupon_Date] AS [Next_Coupon_Date], 
    [Extent1].[Previous_Coupon_Date] AS [Previous_Coupon_Date], 
    [Extent1].[Payment_Frequency] AS [Payment_Frequency], 
    [Extent1].[Coupon_BusDay_Adjustment] AS [Coupon_BusDay_Adjustment], 
    [Extent1].[Next_Ex_Div_Date] AS [Next_Ex_Div_Date], 
    [Extent1].[Ex_Div_BusDay_Adjustment] AS [Ex_Div_BusDay_Adjustment], 
    [Extent1].[Ex_Div_Period] AS [Ex_Div_Period], 
    [Extent1].[Ticker] AS [Ticker], 
    [Extent1].[Inet_ID] AS [Inet_ID], 
    [Extent1].[Bloomberg_ID] AS [Bloomberg_ID], 
    [Extent1].[External_Sec_ID] AS [External_Sec_ID], 
    [Extent1].[Reuters_ID] AS [Reuters_ID], 
    [Extent1].[ISIN] AS [ISIN], 
    [Extent1].[Call_Account_Flag] AS [Call_Account_Flag], 
    [Extent1].[System_Locked] AS [System_Locked], 
    [Extent1].[Last_Update_User] AS [Last_Update_User], 
    [Extent1].[Last_Update_Date] AS [Last_Update_Date], 
    [Extent1].[Security_Status] AS [Security_Status], 
    [Extent1].[Benchmark_Portfolio] AS [Benchmark_Portfolio], 
    [Extent1].[Active_flag] AS [Active_flag], 
    [Extent1].[Dividend_FX_Security_ID] AS [Dividend_FX_Security_ID]
    FROM [dbo].[Security_Detail] AS [Extent1]
    WHERE [Extent1].[Security_ID] = @EntityKeyValue1
2018-04-07 16:51:15.0937|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: SELECT 
    [Project1].[Security_ID] AS [Security_ID], 
    [Project1].[Entity_ID] AS [Entity_ID], 
    [Project1].[Security_Name] AS [Security_Name], 
    [Project1].[Short_Name] AS [Short_Name], 
    [Project1].[Primary_Exch] AS [Primary_Exch], 
    [Project1].[Secondary_Exch] AS [Secondary_Exch], 
    [Project1].[Country_Of_Domicile] AS [Country_Of_Domicile], 
    [Project1].[Country_Of_Risk] AS [Country_Of_Risk], 
    [Project1].[Security_Type_Code] AS [Security_Type_Code], 
    [Project1].[Price_Multiplier] AS [Price_Multiplier], 
    [Project1].[Income_Frequency] AS [Income_Frequency], 
    [Project1].[Issuer_Code] AS [Issuer_Code], 
    [Project1].[Ultimate_Issuer_Code] AS [Ultimate_Issuer_Code], 
    [Project1].[Asset_Currency] AS [Asset_Currency], 
    [Project1].[Min_Lot_Size] AS [Min_Lot_Size], 
    [Project1].[Decimal_Precision] AS [Decimal_Precision], 
    [Project1].[AvePrice_Rounding] AS [AvePrice_Rounding], 
    [Project1].[Issue_Date] AS [Issue_Date], 
    [Project1].[Maturity_Date] AS [Maturity_Date], 
    [Project1].[Coupon_Rate] AS [Coupon_Rate], 
    [Project1].[Price_Exchange] AS [Price_Exchange], 
    [Project1].[Trade_Currency] AS [Trade_Currency], 
    [Project1].[Price_Curr] AS [Price_Curr], 
    [Project1].[Currency_Pair_Code] AS [Currency_Pair_Code], 
    [Project1].[Share_Class] AS [Share_Class], 
    [Project1].[Current_Market_Price] AS [Current_Market_Price], 
    [Project1].[Index_Type] AS [Index_Type], 
    [Project1].[Clean_Price_Formula] AS [Clean_Price_Formula], 
    [Project1].[Accrued_Income_Price_Formula] AS [Accrued_Income_Price_Formula], 
    [Project1].[Odd_First_Coupon_Date] AS [Odd_First_Coupon_Date], 
    [Project1].[Odd_Last_Coupon_Date] AS [Odd_Last_Coupon_Date], 
    [Project1].[Coupon_Anniversary_Indicator] AS [Coupon_Anniversary_Indicator], 
    [Project1].[Track_EOM_Flag] AS [Track_EOM_Flag], 
    [Project1].[Next_Coupon_Date] AS [Next_Coupon_Date], 
    [Project1].[Previous_Coupon_Date] AS [Previous_Coupon_Date], 
    [Project1].[Payment_Frequency] AS [Payment_Frequency], 
    [Project1].[Coupon_BusDay_Adjustment] AS [Coupon_BusDay_Adjustment], 
    [Project1].[Next_Ex_Div_Date] AS [Next_Ex_Div_Date], 
    [Project1].[Ex_Div_BusDay_Adjustment] AS [Ex_Div_BusDay_Adjustment], 
    [Project1].[Ex_Div_Period] AS [Ex_Div_Period], 
    [Project1].[Ticker] AS [Ticker], 
    [Project1].[Inet_ID] AS [Inet_ID], 
    [Project1].[Bloomberg_ID] AS [Bloomberg_ID], 
    [Project1].[External_Sec_ID] AS [External_Sec_ID], 
    [Project1].[Reuters_ID] AS [Reuters_ID], 
    [Project1].[ISIN] AS [ISIN], 
    [Project1].[Call_Account_Flag] AS [Call_Account_Flag], 
    [Project1].[System_Locked] AS [System_Locked], 
    [Project1].[Last_Update_User] AS [Last_Update_User], 
    [Project1].[Last_Update_Date] AS [Last_Update_Date], 
    [Project1].[Security_Status] AS [Security_Status], 
    [Project1].[Benchmark_Portfolio] AS [Benchmark_Portfolio], 
    [Project1].[Active_flag] AS [Active_flag], 
    [Project1].[Dividend_FX_Security_ID] AS [Dividend_FX_Security_ID]
    FROM ( SELECT 
        [Extent1].[Security_ID] AS [Security_ID], 
        [Extent1].[Entity_ID] AS [Entity_ID], 
        [Extent1].[Security_Name] AS [Security_Name], 
        [Extent1].[Short_Name] AS [Short_Name], 
        [Extent1].[Primary_Exch] AS [Primary_Exch], 
        [Extent1].[Secondary_Exch] AS [Secondary_Exch], 
        [Extent1].[Country_Of_Domicile] AS [Country_Of_Domicile], 
        [Extent1].[Country_Of_Risk] AS [Country_Of_Risk], 
        [Extent1].[Security_Type_Code] AS [Security_Type_Code], 
        [Extent1].[Price_Multiplier] AS [Price_Multiplier], 
        [Extent1].[Income_Frequency] AS [Income_Frequency], 
        [Extent1].[Issuer_Code] AS [Issuer_Code], 
        [Extent1].[Ultimate_Issuer_Code] AS [Ultimate_Issuer_Code], 
        [Extent1].[Asset_Currency] AS [Asset_Currency], 
        [Extent1].[Min_Lot_Size] AS [Min_Lot_Size], 
        [Extent1].[Decimal_Precision] AS [Decimal_Precision], 
        [Extent1].[AvePrice_Rounding] AS [AvePrice_Rounding], 
        [Extent1].[Issue_Date] AS [Issue_Date], 
        [Extent1].[Maturity_Date] AS [Maturity_Date], 
        [Extent1].[Coupon_Rate] AS [Coupon_Rate], 
        [Extent1].[Price_Exchange] AS [Price_Exchange], 
        [Extent1].[Trade_Currency] AS [Trade_Currency], 
        [Extent1].[Price_Curr] AS [Price_Curr], 
        [Extent1].[Currency_Pair_Code] AS [Currency_Pair_Code], 
        [Extent1].[Share_Class] AS [Share_Class], 
        [Extent1].[Current_Market_Price] AS [Current_Market_Price], 
        [Extent1].[Index_Type] AS [Index_Type], 
        [Extent1].[Clean_Price_Formula] AS [Clean_Price_Formula], 
        [Extent1].[Accrued_Income_Price_Formula] AS [Accrued_Income_Price_Formula], 
        [Extent1].[Odd_First_Coupon_Date] AS [Odd_First_Coupon_Date], 
        [Extent1].[Odd_Last_Coupon_Date] AS [Odd_Last_Coupon_Date], 
        [Extent1].[Coupon_Anniversary_Indicator] AS [Coupon_Anniversary_Indicator], 
        [Extent1].[Track_EOM_Flag] AS [Track_EOM_Flag], 
        [Extent1].[Next_Coupon_Date] AS [Next_Coupon_Date], 
        [Extent1].[Previous_Coupon_Date] AS [Previous_Coupon_Date], 
        [Extent1].[Payment_Frequency] AS [Payment_Frequency], 
        [Extent1].[Coupon_BusDay_Adjustment] AS [Coupon_BusDay_Adjustment], 
        [Extent1].[Next_Ex_Div_Date] AS [Next_Ex_Div_Date], 
        [Extent1].[Ex_Div_BusDay_Adjustment] AS [Ex_Div_BusDay_Adjustment], 
        [Extent1].[Ex_Div_Period] AS [Ex_Div_Period], 
        [Extent1].[Ticker] AS [Ticker], 
        [Extent1].[Inet_ID] AS [Inet_ID], 
        [Extent1].[Bloomberg_ID] AS [Bloomberg_ID], 
        [Extent1].[External_Sec_ID] AS [External_Sec_ID], 
        [Extent1].[Reuters_ID] AS [Reuters_ID], 
        [Extent1].[ISIN] AS [ISIN], 
        [Extent1].[Call_Account_Flag] AS [Call_Account_Flag], 
        [Extent1].[System_Locked] AS [System_Locked], 
        [Extent1].[Last_Update_User] AS [Last_Update_User], 
        [Extent1].[Last_Update_Date] AS [Last_Update_Date], 
        [Extent1].[Security_Status] AS [Security_Status], 
        [Extent1].[Benchmark_Portfolio] AS [Benchmark_Portfolio], 
        [Extent1].[Active_flag] AS [Active_flag], 
        [Extent1].[Dividend_FX_Security_ID] AS [Dividend_FX_Security_ID]
        FROM [dbo].[Security_Detail] AS [Extent1]
        WHERE ([Extent1].[Entity_ID] IN (@p__linq__0,@p__linq__1)) AND ((CASE WHEN ( NOT ((N'' = @p__linq__2) AND (@p__linq__2 IS NOT NULL))) THEN CASE WHEN ([Extent1].[Security_Type_Code] = @p__linq__3) THEN cast(1 as bit) WHEN ( NOT (([Extent1].[Security_Type_Code] = @p__linq__3) AND (0 = (CASE WHEN (@p__linq__3 IS NULL) THEN cast(1 as bit) ELSE cast(0 as bit) END)))) THEN cast(0 as bit) END WHEN ('' <> [Extent1].[Security_Type_Code]) THEN cast(1 as bit) WHEN ('' = [Extent1].[Security_Type_Code]) THEN cast(0 as bit) END) = 1)
    )  AS [Project1]
    ORDER BY [Project1].[Security_Name] ASC
2018-04-07 16:51:15.1767|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: SELECT 
    [Project1].[Security_ID] AS [Security_ID], 
    [Project1].[Entity_ID] AS [Entity_ID], 
    [Project1].[Security_Name] AS [Security_Name], 
    [Project1].[Short_Name] AS [Short_Name], 
    [Project1].[Primary_Exch] AS [Primary_Exch], 
    [Project1].[Secondary_Exch] AS [Secondary_Exch], 
    [Project1].[Country_Of_Domicile] AS [Country_Of_Domicile], 
    [Project1].[Country_Of_Risk] AS [Country_Of_Risk], 
    [Project1].[Security_Type_Code] AS [Security_Type_Code], 
    [Project1].[Price_Multiplier] AS [Price_Multiplier], 
    [Project1].[Income_Frequency] AS [Income_Frequency], 
    [Project1].[Issuer_Code] AS [Issuer_Code], 
    [Project1].[Ultimate_Issuer_Code] AS [Ultimate_Issuer_Code], 
    [Project1].[Asset_Currency] AS [Asset_Currency], 
    [Project1].[Min_Lot_Size] AS [Min_Lot_Size], 
    [Project1].[Decimal_Precision] AS [Decimal_Precision], 
    [Project1].[AvePrice_Rounding] AS [AvePrice_Rounding], 
    [Project1].[Issue_Date] AS [Issue_Date], 
    [Project1].[Maturity_Date] AS [Maturity_Date], 
    [Project1].[Coupon_Rate] AS [Coupon_Rate], 
    [Project1].[Price_Exchange] AS [Price_Exchange], 
    [Project1].[Trade_Currency] AS [Trade_Currency], 
    [Project1].[Price_Curr] AS [Price_Curr], 
    [Project1].[Currency_Pair_Code] AS [Currency_Pair_Code], 
    [Project1].[Share_Class] AS [Share_Class], 
    [Project1].[Current_Market_Price] AS [Current_Market_Price], 
    [Project1].[Index_Type] AS [Index_Type], 
    [Project1].[Clean_Price_Formula] AS [Clean_Price_Formula], 
    [Project1].[Accrued_Income_Price_Formula] AS [Accrued_Income_Price_Formula], 
    [Project1].[Odd_First_Coupon_Date] AS [Odd_First_Coupon_Date], 
    [Project1].[Odd_Last_Coupon_Date] AS [Odd_Last_Coupon_Date], 
    [Project1].[Coupon_Anniversary_Indicator] AS [Coupon_Anniversary_Indicator], 
    [Project1].[Track_EOM_Flag] AS [Track_EOM_Flag], 
    [Project1].[Next_Coupon_Date] AS [Next_Coupon_Date], 
    [Project1].[Previous_Coupon_Date] AS [Previous_Coupon_Date], 
    [Project1].[Payment_Frequency] AS [Payment_Frequency], 
    [Project1].[Coupon_BusDay_Adjustment] AS [Coupon_BusDay_Adjustment], 
    [Project1].[Next_Ex_Div_Date] AS [Next_Ex_Div_Date], 
    [Project1].[Ex_Div_BusDay_Adjustment] AS [Ex_Div_BusDay_Adjustment], 
    [Project1].[Ex_Div_Period] AS [Ex_Div_Period], 
    [Project1].[Ticker] AS [Ticker], 
    [Project1].[Inet_ID] AS [Inet_ID], 
    [Project1].[Bloomberg_ID] AS [Bloomberg_ID], 
    [Project1].[External_Sec_ID] AS [External_Sec_ID], 
    [Project1].[Reuters_ID] AS [Reuters_ID], 
    [Project1].[ISIN] AS [ISIN], 
    [Project1].[Call_Account_Flag] AS [Call_Account_Flag], 
    [Project1].[System_Locked] AS [System_Locked], 
    [Project1].[Last_Update_User] AS [Last_Update_User], 
    [Project1].[Last_Update_Date] AS [Last_Update_Date], 
    [Project1].[Security_Status] AS [Security_Status], 
    [Project1].[Benchmark_Portfolio] AS [Benchmark_Portfolio], 
    [Project1].[Active_flag] AS [Active_flag], 
    [Project1].[Dividend_FX_Security_ID] AS [Dividend_FX_Security_ID]
    FROM ( SELECT 
        [Extent1].[Security_ID] AS [Security_ID], 
        [Extent1].[Entity_ID] AS [Entity_ID], 
        [Extent1].[Security_Name] AS [Security_Name], 
        [Extent1].[Short_Name] AS [Short_Name], 
        [Extent1].[Primary_Exch] AS [Primary_Exch], 
        [Extent1].[Secondary_Exch] AS [Secondary_Exch], 
        [Extent1].[Country_Of_Domicile] AS [Country_Of_Domicile], 
        [Extent1].[Country_Of_Risk] AS [Country_Of_Risk], 
        [Extent1].[Security_Type_Code] AS [Security_Type_Code], 
        [Extent1].[Price_Multiplier] AS [Price_Multiplier], 
        [Extent1].[Income_Frequency] AS [Income_Frequency], 
        [Extent1].[Issuer_Code] AS [Issuer_Code], 
        [Extent1].[Ultimate_Issuer_Code] AS [Ultimate_Issuer_Code], 
        [Extent1].[Asset_Currency] AS [Asset_Currency], 
        [Extent1].[Min_Lot_Size] AS [Min_Lot_Size], 
        [Extent1].[Decimal_Precision] AS [Decimal_Precision], 
        [Extent1].[AvePrice_Rounding] AS [AvePrice_Rounding], 
        [Extent1].[Issue_Date] AS [Issue_Date], 
        [Extent1].[Maturity_Date] AS [Maturity_Date], 
        [Extent1].[Coupon_Rate] AS [Coupon_Rate], 
        [Extent1].[Price_Exchange] AS [Price_Exchange], 
        [Extent1].[Trade_Currency] AS [Trade_Currency], 
        [Extent1].[Price_Curr] AS [Price_Curr], 
        [Extent1].[Currency_Pair_Code] AS [Currency_Pair_Code], 
        [Extent1].[Share_Class] AS [Share_Class], 
        [Extent1].[Current_Market_Price] AS [Current_Market_Price], 
        [Extent1].[Index_Type] AS [Index_Type], 
        [Extent1].[Clean_Price_Formula] AS [Clean_Price_Formula], 
        [Extent1].[Accrued_Income_Price_Formula] AS [Accrued_Income_Price_Formula], 
        [Extent1].[Odd_First_Coupon_Date] AS [Odd_First_Coupon_Date], 
        [Extent1].[Odd_Last_Coupon_Date] AS [Odd_Last_Coupon_Date], 
        [Extent1].[Coupon_Anniversary_Indicator] AS [Coupon_Anniversary_Indicator], 
        [Extent1].[Track_EOM_Flag] AS [Track_EOM_Flag], 
        [Extent1].[Next_Coupon_Date] AS [Next_Coupon_Date], 
        [Extent1].[Previous_Coupon_Date] AS [Previous_Coupon_Date], 
        [Extent1].[Payment_Frequency] AS [Payment_Frequency], 
        [Extent1].[Coupon_BusDay_Adjustment] AS [Coupon_BusDay_Adjustment], 
        [Extent1].[Next_Ex_Div_Date] AS [Next_Ex_Div_Date], 
        [Extent1].[Ex_Div_BusDay_Adjustment] AS [Ex_Div_BusDay_Adjustment], 
        [Extent1].[Ex_Div_Period] AS [Ex_Div_Period], 
        [Extent1].[Ticker] AS [Ticker], 
        [Extent1].[Inet_ID] AS [Inet_ID], 
        [Extent1].[Bloomberg_ID] AS [Bloomberg_ID], 
        [Extent1].[External_Sec_ID] AS [External_Sec_ID], 
        [Extent1].[Reuters_ID] AS [Reuters_ID], 
        [Extent1].[ISIN] AS [ISIN], 
        [Extent1].[Call_Account_Flag] AS [Call_Account_Flag], 
        [Extent1].[System_Locked] AS [System_Locked], 
        [Extent1].[Last_Update_User] AS [Last_Update_User], 
        [Extent1].[Last_Update_Date] AS [Last_Update_Date], 
        [Extent1].[Security_Status] AS [Security_Status], 
        [Extent1].[Benchmark_Portfolio] AS [Benchmark_Portfolio], 
        [Extent1].[Active_flag] AS [Active_flag], 
        [Extent1].[Dividend_FX_Security_ID] AS [Dividend_FX_Security_ID]
        FROM [dbo].[Security_Detail] AS [Extent1]
        WHERE ([Extent1].[Entity_ID] IN (@p__linq__0,@p__linq__1)) AND ((CASE WHEN ( NOT ((N'' = @p__linq__2) AND (@p__linq__2 IS NOT NULL))) THEN CASE WHEN ([Extent1].[Security_Type_Code] = @p__linq__3) THEN cast(1 as bit) WHEN ( NOT (([Extent1].[Security_Type_Code] = @p__linq__3) AND (0 = (CASE WHEN (@p__linq__3 IS NULL) THEN cast(1 as bit) ELSE cast(0 as bit) END)))) THEN cast(0 as bit) END WHEN ('' <> [Extent1].[Security_Type_Code]) THEN cast(1 as bit) WHEN ('' = [Extent1].[Security_Type_Code]) THEN cast(0 as bit) END) = 1)
    )  AS [Project1]
    ORDER BY [Project1].[Security_Name] ASC
2018-04-07 16:51:23.1244|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: IF db_id(N'MetopeAzureDb') IS NOT NULL SELECT 1 ELSE SELECT Count(*) FROM sys.databases WHERE [name]=N'MetopeAzureDb'
2018-04-07 16:51:23.1369|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: IF db_id(N'MetopeAzureDb') IS NOT NULL SELECT 1 ELSE SELECT Count(*) FROM sys.databases WHERE [name]=N'MetopeAzureDb'
2018-04-07 16:51:23.1574|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: IF db_id(N'MetopeAzureDb') IS NOT NULL SELECT 1 ELSE SELECT Count(*) FROM sys.databases WHERE [name]=N'MetopeAzureDb'
2018-04-07 16:51:23.1699|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: IF db_id(N'MetopeAzureDb') IS NOT NULL SELECT 1 ELSE SELECT Count(*) FROM sys.databases WHERE [name]=N'MetopeAzureDb'
2018-04-07 16:51:23.1859|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: True, Command Text: SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[EntityIdScope] AS [EntityIdScope], 
    [Extent1].[Email] AS [Email], 
    [Extent1].[EmailConfirmed] AS [EmailConfirmed], 
    [Extent1].[PasswordHash] AS [PasswordHash], 
    [Extent1].[SecurityStamp] AS [SecurityStamp], 
    [Extent1].[PhoneNumber] AS [PhoneNumber], 
    [Extent1].[PhoneNumberConfirmed] AS [PhoneNumberConfirmed], 
    [Extent1].[TwoFactorEnabled] AS [TwoFactorEnabled], 
    [Extent1].[LockoutEndDateUtc] AS [LockoutEndDateUtc], 
    [Extent1].[LockoutEnabled] AS [LockoutEnabled], 
    [Extent1].[AccessFailedCount] AS [AccessFailedCount], 
    [Extent1].[UserName] AS [UserName]
    FROM [dbo].[AspNetUsers] AS [Extent1]
    WHERE [Extent1].[Id] = @p0
2018-04-07 16:51:23.1994|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: True, Command Text: SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[EntityIdScope] AS [EntityIdScope], 
    [Extent1].[Email] AS [Email], 
    [Extent1].[EmailConfirmed] AS [EmailConfirmed], 
    [Extent1].[PasswordHash] AS [PasswordHash], 
    [Extent1].[SecurityStamp] AS [SecurityStamp], 
    [Extent1].[PhoneNumber] AS [PhoneNumber], 
    [Extent1].[PhoneNumberConfirmed] AS [PhoneNumberConfirmed], 
    [Extent1].[TwoFactorEnabled] AS [TwoFactorEnabled], 
    [Extent1].[LockoutEndDateUtc] AS [LockoutEndDateUtc], 
    [Extent1].[LockoutEnabled] AS [LockoutEnabled], 
    [Extent1].[AccessFailedCount] AS [AccessFailedCount], 
    [Extent1].[UserName] AS [UserName]
    FROM [dbo].[AspNetUsers] AS [Extent1]
    WHERE [Extent1].[Id] = @p0
2018-04-07 16:51:23.2140|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: True, Command Text: SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[UserId] AS [UserId], 
    [Extent1].[ClaimType] AS [ClaimType], 
    [Extent1].[ClaimValue] AS [ClaimValue]
    FROM [dbo].[AspNetUserClaims] AS [Extent1]
    WHERE [Extent1].[UserId] = @p__linq__0
2018-04-07 16:51:23.2305|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: True, Command Text: SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[UserId] AS [UserId], 
    [Extent1].[ClaimType] AS [ClaimType], 
    [Extent1].[ClaimValue] AS [ClaimValue]
    FROM [dbo].[AspNetUserClaims] AS [Extent1]
    WHERE [Extent1].[UserId] = @p__linq__0
2018-04-07 16:51:23.2465|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: True, Command Text: SELECT 
    [Extent1].[LoginProvider] AS [LoginProvider], 
    [Extent1].[ProviderKey] AS [ProviderKey], 
    [Extent1].[UserId] AS [UserId]
    FROM [dbo].[AspNetUserLogins] AS [Extent1]
    WHERE [Extent1].[UserId] = @p__linq__0
2018-04-07 16:51:23.2605|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: True, Command Text: SELECT 
    [Extent1].[LoginProvider] AS [LoginProvider], 
    [Extent1].[ProviderKey] AS [ProviderKey], 
    [Extent1].[UserId] AS [UserId]
    FROM [dbo].[AspNetUserLogins] AS [Extent1]
    WHERE [Extent1].[UserId] = @p__linq__0
2018-04-07 16:51:23.2750|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: True, Command Text: SELECT 
    [Extent1].[UserId] AS [UserId], 
    [Extent1].[RoleId] AS [RoleId]
    FROM [dbo].[AspNetUserRoles] AS [Extent1]
    WHERE [Extent1].[UserId] = @p__linq__0
2018-04-07 16:51:23.2750|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: True, Command Text: SELECT 
    [Extent1].[UserId] AS [UserId], 
    [Extent1].[RoleId] AS [RoleId]
    FROM [dbo].[AspNetUserRoles] AS [Extent1]
    WHERE [Extent1].[UserId] = @p__linq__0
2018-04-07 16:51:23.3856|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: SELECT TOP (2) 
    [Extent1].[Entity_ID] AS [Entity_ID], 
    [Extent1].[Entity_Code] AS [Entity_Code], 
    [Extent1].[Entity_Name] AS [Entity_Name], 
    [Extent1].[Import_Folder] AS [Import_Folder], 
    [Extent1].[Export_Folder] AS [Export_Folder]
    FROM [dbo].[Entity] AS [Extent1]
    WHERE [Extent1].[Entity_ID] = @p0
2018-04-07 16:51:23.4131|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: SELECT TOP (2) 
    [Extent1].[Entity_ID] AS [Entity_ID], 
    [Extent1].[Entity_Code] AS [Entity_Code], 
    [Extent1].[Entity_Name] AS [Entity_Name], 
    [Extent1].[Import_Folder] AS [Import_Folder], 
    [Extent1].[Export_Folder] AS [Export_Folder]
    FROM [dbo].[Entity] AS [Extent1]
    WHERE [Extent1].[Entity_ID] = @p0
2018-04-07 16:51:31.2802|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: SELECT 
    [Extent1].[Security_ID] AS [Security_ID], 
    [Extent1].[Portfolio_Code] AS [Portfolio_Code], 
    [Extent1].[Entity_ID] AS [Entity_ID], 
    [Extent1].[ModDietz_Performance_Quarterly] AS [ModDietz_Performance_Quarterly], 
    [Extent1].[ModDietz_Performance_Monthly] AS [ModDietz_Performance_Monthly], 
    [Extent1].[ModDietz_Performance_MonthToDate] AS [ModDietz_Performance_MonthToDate], 
    [Extent1].[Dietz_Performance_Quarterly] AS [Dietz_Performance_Quarterly], 
    [Extent1].[Dietz_Performance_Monthly] AS [Dietz_Performance_Monthly], 
    [Extent1].[Dietz_Performance_MonthToDate] AS [Dietz_Performance_MonthToDate], 
    [Extent1].[Last_Update_Date] AS [Last_Update_Date], 
    [Extent1].[Last_Update_User] AS [Last_Update_User], 
    [Extent1].[Record_Date] AS [Record_Date], 
    [Extent1].[Session_ID] AS [Session_ID], 
    [Extent1].[Hist_Last_Update_Date] AS [Hist_Last_Update_Date], 
    [Extent1].[Hist_Last_Update_User] AS [Hist_Last_Update_User]
    FROM [dbo].[Security_Performance_History] AS [Extent1]
    WHERE ([Extent1].[Security_ID] = @p__linq__0) AND ([Extent1].[Portfolio_Code] = @p__linq__1) AND ([Extent1].[Record_Date] = @p__linq__2) AND ([Extent1].[Entity_ID] = @p__linq__3)
2018-04-07 16:51:31.3072|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: SELECT 
    [Extent1].[Security_ID] AS [Security_ID], 
    [Extent1].[Portfolio_Code] AS [Portfolio_Code], 
    [Extent1].[Entity_ID] AS [Entity_ID], 
    [Extent1].[ModDietz_Performance_Quarterly] AS [ModDietz_Performance_Quarterly], 
    [Extent1].[ModDietz_Performance_Monthly] AS [ModDietz_Performance_Monthly], 
    [Extent1].[ModDietz_Performance_MonthToDate] AS [ModDietz_Performance_MonthToDate], 
    [Extent1].[Dietz_Performance_Quarterly] AS [Dietz_Performance_Quarterly], 
    [Extent1].[Dietz_Performance_Monthly] AS [Dietz_Performance_Monthly], 
    [Extent1].[Dietz_Performance_MonthToDate] AS [Dietz_Performance_MonthToDate], 
    [Extent1].[Last_Update_Date] AS [Last_Update_Date], 
    [Extent1].[Last_Update_User] AS [Last_Update_User], 
    [Extent1].[Record_Date] AS [Record_Date], 
    [Extent1].[Session_ID] AS [Session_ID], 
    [Extent1].[Hist_Last_Update_Date] AS [Hist_Last_Update_Date], 
    [Extent1].[Hist_Last_Update_User] AS [Hist_Last_Update_User]
    FROM [dbo].[Security_Performance_History] AS [Extent1]
    WHERE ([Extent1].[Security_ID] = @p__linq__0) AND ([Extent1].[Portfolio_Code] = @p__linq__1) AND ([Extent1].[Record_Date] = @p__linq__2) AND ([Extent1].[Entity_ID] = @p__linq__3)
2018-04-07 16:51:31.3432|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: SELECT 
    [Extent1].[Security_ID] AS [Security_ID], 
    [Extent1].[Entity_ID] AS [Entity_ID], 
    [Extent1].[Security_Name] AS [Security_Name], 
    [Extent1].[Short_Name] AS [Short_Name], 
    [Extent1].[Primary_Exch] AS [Primary_Exch], 
    [Extent1].[Secondary_Exch] AS [Secondary_Exch], 
    [Extent1].[Country_Of_Domicile] AS [Country_Of_Domicile], 
    [Extent1].[Country_Of_Risk] AS [Country_Of_Risk], 
    [Extent1].[Security_Type_Code] AS [Security_Type_Code], 
    [Extent1].[Price_Multiplier] AS [Price_Multiplier], 
    [Extent1].[Income_Frequency] AS [Income_Frequency], 
    [Extent1].[Issuer_Code] AS [Issuer_Code], 
    [Extent1].[Ultimate_Issuer_Code] AS [Ultimate_Issuer_Code], 
    [Extent1].[Asset_Currency] AS [Asset_Currency], 
    [Extent1].[Min_Lot_Size] AS [Min_Lot_Size], 
    [Extent1].[Decimal_Precision] AS [Decimal_Precision], 
    [Extent1].[AvePrice_Rounding] AS [AvePrice_Rounding], 
    [Extent1].[Issue_Date] AS [Issue_Date], 
    [Extent1].[Maturity_Date] AS [Maturity_Date], 
    [Extent1].[Coupon_Rate] AS [Coupon_Rate], 
    [Extent1].[Price_Exchange] AS [Price_Exchange], 
    [Extent1].[Trade_Currency] AS [Trade_Currency], 
    [Extent1].[Price_Curr] AS [Price_Curr], 
    [Extent1].[Currency_Pair_Code] AS [Currency_Pair_Code], 
    [Extent1].[Share_Class] AS [Share_Class], 
    [Extent1].[Current_Market_Price] AS [Current_Market_Price], 
    [Extent1].[Index_Type] AS [Index_Type], 
    [Extent1].[Clean_Price_Formula] AS [Clean_Price_Formula], 
    [Extent1].[Accrued_Income_Price_Formula] AS [Accrued_Income_Price_Formula], 
    [Extent1].[Odd_First_Coupon_Date] AS [Odd_First_Coupon_Date], 
    [Extent1].[Odd_Last_Coupon_Date] AS [Odd_Last_Coupon_Date], 
    [Extent1].[Coupon_Anniversary_Indicator] AS [Coupon_Anniversary_Indicator], 
    [Extent1].[Track_EOM_Flag] AS [Track_EOM_Flag], 
    [Extent1].[Next_Coupon_Date] AS [Next_Coupon_Date], 
    [Extent1].[Previous_Coupon_Date] AS [Previous_Coupon_Date], 
    [Extent1].[Payment_Frequency] AS [Payment_Frequency], 
    [Extent1].[Coupon_BusDay_Adjustment] AS [Coupon_BusDay_Adjustment], 
    [Extent1].[Next_Ex_Div_Date] AS [Next_Ex_Div_Date], 
    [Extent1].[Ex_Div_BusDay_Adjustment] AS [Ex_Div_BusDay_Adjustment], 
    [Extent1].[Ex_Div_Period] AS [Ex_Div_Period], 
    [Extent1].[Ticker] AS [Ticker], 
    [Extent1].[Inet_ID] AS [Inet_ID], 
    [Extent1].[Bloomberg_ID] AS [Bloomberg_ID], 
    [Extent1].[External_Sec_ID] AS [External_Sec_ID], 
    [Extent1].[Reuters_ID] AS [Reuters_ID], 
    [Extent1].[ISIN] AS [ISIN], 
    [Extent1].[Call_Account_Flag] AS [Call_Account_Flag], 
    [Extent1].[System_Locked] AS [System_Locked], 
    [Extent1].[Last_Update_User] AS [Last_Update_User], 
    [Extent1].[Last_Update_Date] AS [Last_Update_Date], 
    [Extent1].[Security_Status] AS [Security_Status], 
    [Extent1].[Benchmark_Portfolio] AS [Benchmark_Portfolio], 
    [Extent1].[Active_flag] AS [Active_flag], 
    [Extent1].[Dividend_FX_Security_ID] AS [Dividend_FX_Security_ID]
    FROM [dbo].[Security_Detail] AS [Extent1]
    WHERE [Extent1].[Security_ID] = @EntityKeyValue1
2018-04-07 16:51:31.3677|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: SELECT 
    [Extent1].[Security_ID] AS [Security_ID], 
    [Extent1].[Entity_ID] AS [Entity_ID], 
    [Extent1].[Security_Name] AS [Security_Name], 
    [Extent1].[Short_Name] AS [Short_Name], 
    [Extent1].[Primary_Exch] AS [Primary_Exch], 
    [Extent1].[Secondary_Exch] AS [Secondary_Exch], 
    [Extent1].[Country_Of_Domicile] AS [Country_Of_Domicile], 
    [Extent1].[Country_Of_Risk] AS [Country_Of_Risk], 
    [Extent1].[Security_Type_Code] AS [Security_Type_Code], 
    [Extent1].[Price_Multiplier] AS [Price_Multiplier], 
    [Extent1].[Income_Frequency] AS [Income_Frequency], 
    [Extent1].[Issuer_Code] AS [Issuer_Code], 
    [Extent1].[Ultimate_Issuer_Code] AS [Ultimate_Issuer_Code], 
    [Extent1].[Asset_Currency] AS [Asset_Currency], 
    [Extent1].[Min_Lot_Size] AS [Min_Lot_Size], 
    [Extent1].[Decimal_Precision] AS [Decimal_Precision], 
    [Extent1].[AvePrice_Rounding] AS [AvePrice_Rounding], 
    [Extent1].[Issue_Date] AS [Issue_Date], 
    [Extent1].[Maturity_Date] AS [Maturity_Date], 
    [Extent1].[Coupon_Rate] AS [Coupon_Rate], 
    [Extent1].[Price_Exchange] AS [Price_Exchange], 
    [Extent1].[Trade_Currency] AS [Trade_Currency], 
    [Extent1].[Price_Curr] AS [Price_Curr], 
    [Extent1].[Currency_Pair_Code] AS [Currency_Pair_Code], 
    [Extent1].[Share_Class] AS [Share_Class], 
    [Extent1].[Current_Market_Price] AS [Current_Market_Price], 
    [Extent1].[Index_Type] AS [Index_Type], 
    [Extent1].[Clean_Price_Formula] AS [Clean_Price_Formula], 
    [Extent1].[Accrued_Income_Price_Formula] AS [Accrued_Income_Price_Formula], 
    [Extent1].[Odd_First_Coupon_Date] AS [Odd_First_Coupon_Date], 
    [Extent1].[Odd_Last_Coupon_Date] AS [Odd_Last_Coupon_Date], 
    [Extent1].[Coupon_Anniversary_Indicator] AS [Coupon_Anniversary_Indicator], 
    [Extent1].[Track_EOM_Flag] AS [Track_EOM_Flag], 
    [Extent1].[Next_Coupon_Date] AS [Next_Coupon_Date], 
    [Extent1].[Previous_Coupon_Date] AS [Previous_Coupon_Date], 
    [Extent1].[Payment_Frequency] AS [Payment_Frequency], 
    [Extent1].[Coupon_BusDay_Adjustment] AS [Coupon_BusDay_Adjustment], 
    [Extent1].[Next_Ex_Div_Date] AS [Next_Ex_Div_Date], 
    [Extent1].[Ex_Div_BusDay_Adjustment] AS [Ex_Div_BusDay_Adjustment], 
    [Extent1].[Ex_Div_Period] AS [Ex_Div_Period], 
    [Extent1].[Ticker] AS [Ticker], 
    [Extent1].[Inet_ID] AS [Inet_ID], 
    [Extent1].[Bloomberg_ID] AS [Bloomberg_ID], 
    [Extent1].[External_Sec_ID] AS [External_Sec_ID], 
    [Extent1].[Reuters_ID] AS [Reuters_ID], 
    [Extent1].[ISIN] AS [ISIN], 
    [Extent1].[Call_Account_Flag] AS [Call_Account_Flag], 
    [Extent1].[System_Locked] AS [System_Locked], 
    [Extent1].[Last_Update_User] AS [Last_Update_User], 
    [Extent1].[Last_Update_Date] AS [Last_Update_Date], 
    [Extent1].[Security_Status] AS [Security_Status], 
    [Extent1].[Benchmark_Portfolio] AS [Benchmark_Portfolio], 
    [Extent1].[Active_flag] AS [Active_flag], 
    [Extent1].[Dividend_FX_Security_ID] AS [Dividend_FX_Security_ID]
    FROM [dbo].[Security_Detail] AS [Extent1]
    WHERE [Extent1].[Security_ID] = @EntityKeyValue1
2018-04-07 16:51:31.3978|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: SELECT 
    [Project1].[Security_ID] AS [Security_ID], 
    [Project1].[Entity_ID] AS [Entity_ID], 
    [Project1].[Security_Name] AS [Security_Name], 
    [Project1].[Short_Name] AS [Short_Name], 
    [Project1].[Primary_Exch] AS [Primary_Exch], 
    [Project1].[Secondary_Exch] AS [Secondary_Exch], 
    [Project1].[Country_Of_Domicile] AS [Country_Of_Domicile], 
    [Project1].[Country_Of_Risk] AS [Country_Of_Risk], 
    [Project1].[Security_Type_Code] AS [Security_Type_Code], 
    [Project1].[Price_Multiplier] AS [Price_Multiplier], 
    [Project1].[Income_Frequency] AS [Income_Frequency], 
    [Project1].[Issuer_Code] AS [Issuer_Code], 
    [Project1].[Ultimate_Issuer_Code] AS [Ultimate_Issuer_Code], 
    [Project1].[Asset_Currency] AS [Asset_Currency], 
    [Project1].[Min_Lot_Size] AS [Min_Lot_Size], 
    [Project1].[Decimal_Precision] AS [Decimal_Precision], 
    [Project1].[AvePrice_Rounding] AS [AvePrice_Rounding], 
    [Project1].[Issue_Date] AS [Issue_Date], 
    [Project1].[Maturity_Date] AS [Maturity_Date], 
    [Project1].[Coupon_Rate] AS [Coupon_Rate], 
    [Project1].[Price_Exchange] AS [Price_Exchange], 
    [Project1].[Trade_Currency] AS [Trade_Currency], 
    [Project1].[Price_Curr] AS [Price_Curr], 
    [Project1].[Currency_Pair_Code] AS [Currency_Pair_Code], 
    [Project1].[Share_Class] AS [Share_Class], 
    [Project1].[Current_Market_Price] AS [Current_Market_Price], 
    [Project1].[Index_Type] AS [Index_Type], 
    [Project1].[Clean_Price_Formula] AS [Clean_Price_Formula], 
    [Project1].[Accrued_Income_Price_Formula] AS [Accrued_Income_Price_Formula], 
    [Project1].[Odd_First_Coupon_Date] AS [Odd_First_Coupon_Date], 
    [Project1].[Odd_Last_Coupon_Date] AS [Odd_Last_Coupon_Date], 
    [Project1].[Coupon_Anniversary_Indicator] AS [Coupon_Anniversary_Indicator], 
    [Project1].[Track_EOM_Flag] AS [Track_EOM_Flag], 
    [Project1].[Next_Coupon_Date] AS [Next_Coupon_Date], 
    [Project1].[Previous_Coupon_Date] AS [Previous_Coupon_Date], 
    [Project1].[Payment_Frequency] AS [Payment_Frequency], 
    [Project1].[Coupon_BusDay_Adjustment] AS [Coupon_BusDay_Adjustment], 
    [Project1].[Next_Ex_Div_Date] AS [Next_Ex_Div_Date], 
    [Project1].[Ex_Div_BusDay_Adjustment] AS [Ex_Div_BusDay_Adjustment], 
    [Project1].[Ex_Div_Period] AS [Ex_Div_Period], 
    [Project1].[Ticker] AS [Ticker], 
    [Project1].[Inet_ID] AS [Inet_ID], 
    [Project1].[Bloomberg_ID] AS [Bloomberg_ID], 
    [Project1].[External_Sec_ID] AS [External_Sec_ID], 
    [Project1].[Reuters_ID] AS [Reuters_ID], 
    [Project1].[ISIN] AS [ISIN], 
    [Project1].[Call_Account_Flag] AS [Call_Account_Flag], 
    [Project1].[System_Locked] AS [System_Locked], 
    [Project1].[Last_Update_User] AS [Last_Update_User], 
    [Project1].[Last_Update_Date] AS [Last_Update_Date], 
    [Project1].[Security_Status] AS [Security_Status], 
    [Project1].[Benchmark_Portfolio] AS [Benchmark_Portfolio], 
    [Project1].[Active_flag] AS [Active_flag], 
    [Project1].[Dividend_FX_Security_ID] AS [Dividend_FX_Security_ID]
    FROM ( SELECT 
        [Extent1].[Security_ID] AS [Security_ID], 
        [Extent1].[Entity_ID] AS [Entity_ID], 
        [Extent1].[Security_Name] AS [Security_Name], 
        [Extent1].[Short_Name] AS [Short_Name], 
        [Extent1].[Primary_Exch] AS [Primary_Exch], 
        [Extent1].[Secondary_Exch] AS [Secondary_Exch], 
        [Extent1].[Country_Of_Domicile] AS [Country_Of_Domicile], 
        [Extent1].[Country_Of_Risk] AS [Country_Of_Risk], 
        [Extent1].[Security_Type_Code] AS [Security_Type_Code], 
        [Extent1].[Price_Multiplier] AS [Price_Multiplier], 
        [Extent1].[Income_Frequency] AS [Income_Frequency], 
        [Extent1].[Issuer_Code] AS [Issuer_Code], 
        [Extent1].[Ultimate_Issuer_Code] AS [Ultimate_Issuer_Code], 
        [Extent1].[Asset_Currency] AS [Asset_Currency], 
        [Extent1].[Min_Lot_Size] AS [Min_Lot_Size], 
        [Extent1].[Decimal_Precision] AS [Decimal_Precision], 
        [Extent1].[AvePrice_Rounding] AS [AvePrice_Rounding], 
        [Extent1].[Issue_Date] AS [Issue_Date], 
        [Extent1].[Maturity_Date] AS [Maturity_Date], 
        [Extent1].[Coupon_Rate] AS [Coupon_Rate], 
        [Extent1].[Price_Exchange] AS [Price_Exchange], 
        [Extent1].[Trade_Currency] AS [Trade_Currency], 
        [Extent1].[Price_Curr] AS [Price_Curr], 
        [Extent1].[Currency_Pair_Code] AS [Currency_Pair_Code], 
        [Extent1].[Share_Class] AS [Share_Class], 
        [Extent1].[Current_Market_Price] AS [Current_Market_Price], 
        [Extent1].[Index_Type] AS [Index_Type], 
        [Extent1].[Clean_Price_Formula] AS [Clean_Price_Formula], 
        [Extent1].[Accrued_Income_Price_Formula] AS [Accrued_Income_Price_Formula], 
        [Extent1].[Odd_First_Coupon_Date] AS [Odd_First_Coupon_Date], 
        [Extent1].[Odd_Last_Coupon_Date] AS [Odd_Last_Coupon_Date], 
        [Extent1].[Coupon_Anniversary_Indicator] AS [Coupon_Anniversary_Indicator], 
        [Extent1].[Track_EOM_Flag] AS [Track_EOM_Flag], 
        [Extent1].[Next_Coupon_Date] AS [Next_Coupon_Date], 
        [Extent1].[Previous_Coupon_Date] AS [Previous_Coupon_Date], 
        [Extent1].[Payment_Frequency] AS [Payment_Frequency], 
        [Extent1].[Coupon_BusDay_Adjustment] AS [Coupon_BusDay_Adjustment], 
        [Extent1].[Next_Ex_Div_Date] AS [Next_Ex_Div_Date], 
        [Extent1].[Ex_Div_BusDay_Adjustment] AS [Ex_Div_BusDay_Adjustment], 
        [Extent1].[Ex_Div_Period] AS [Ex_Div_Period], 
        [Extent1].[Ticker] AS [Ticker], 
        [Extent1].[Inet_ID] AS [Inet_ID], 
        [Extent1].[Bloomberg_ID] AS [Bloomberg_ID], 
        [Extent1].[External_Sec_ID] AS [External_Sec_ID], 
        [Extent1].[Reuters_ID] AS [Reuters_ID], 
        [Extent1].[ISIN] AS [ISIN], 
        [Extent1].[Call_Account_Flag] AS [Call_Account_Flag], 
        [Extent1].[System_Locked] AS [System_Locked], 
        [Extent1].[Last_Update_User] AS [Last_Update_User], 
        [Extent1].[Last_Update_Date] AS [Last_Update_Date], 
        [Extent1].[Security_Status] AS [Security_Status], 
        [Extent1].[Benchmark_Portfolio] AS [Benchmark_Portfolio], 
        [Extent1].[Active_flag] AS [Active_flag], 
        [Extent1].[Dividend_FX_Security_ID] AS [Dividend_FX_Security_ID]
        FROM [dbo].[Security_Detail] AS [Extent1]
        WHERE ([Extent1].[Entity_ID] IN (@p__linq__0,@p__linq__1)) AND ((CASE WHEN ( NOT ((N'' = @p__linq__2) AND (@p__linq__2 IS NOT NULL))) THEN CASE WHEN ([Extent1].[Security_Type_Code] = @p__linq__3) THEN cast(1 as bit) WHEN ( NOT (([Extent1].[Security_Type_Code] = @p__linq__3) AND (0 = (CASE WHEN (@p__linq__3 IS NULL) THEN cast(1 as bit) ELSE cast(0 as bit) END)))) THEN cast(0 as bit) END WHEN ('' <> [Extent1].[Security_Type_Code]) THEN cast(1 as bit) WHEN ('' = [Extent1].[Security_Type_Code]) THEN cast(0 as bit) END) = 1)
    )  AS [Project1]
    ORDER BY [Project1].[Security_Name] ASC
2018-04-07 16:51:31.4273|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: SELECT 
    [Project1].[Security_ID] AS [Security_ID], 
    [Project1].[Entity_ID] AS [Entity_ID], 
    [Project1].[Security_Name] AS [Security_Name], 
    [Project1].[Short_Name] AS [Short_Name], 
    [Project1].[Primary_Exch] AS [Primary_Exch], 
    [Project1].[Secondary_Exch] AS [Secondary_Exch], 
    [Project1].[Country_Of_Domicile] AS [Country_Of_Domicile], 
    [Project1].[Country_Of_Risk] AS [Country_Of_Risk], 
    [Project1].[Security_Type_Code] AS [Security_Type_Code], 
    [Project1].[Price_Multiplier] AS [Price_Multiplier], 
    [Project1].[Income_Frequency] AS [Income_Frequency], 
    [Project1].[Issuer_Code] AS [Issuer_Code], 
    [Project1].[Ultimate_Issuer_Code] AS [Ultimate_Issuer_Code], 
    [Project1].[Asset_Currency] AS [Asset_Currency], 
    [Project1].[Min_Lot_Size] AS [Min_Lot_Size], 
    [Project1].[Decimal_Precision] AS [Decimal_Precision], 
    [Project1].[AvePrice_Rounding] AS [AvePrice_Rounding], 
    [Project1].[Issue_Date] AS [Issue_Date], 
    [Project1].[Maturity_Date] AS [Maturity_Date], 
    [Project1].[Coupon_Rate] AS [Coupon_Rate], 
    [Project1].[Price_Exchange] AS [Price_Exchange], 
    [Project1].[Trade_Currency] AS [Trade_Currency], 
    [Project1].[Price_Curr] AS [Price_Curr], 
    [Project1].[Currency_Pair_Code] AS [Currency_Pair_Code], 
    [Project1].[Share_Class] AS [Share_Class], 
    [Project1].[Current_Market_Price] AS [Current_Market_Price], 
    [Project1].[Index_Type] AS [Index_Type], 
    [Project1].[Clean_Price_Formula] AS [Clean_Price_Formula], 
    [Project1].[Accrued_Income_Price_Formula] AS [Accrued_Income_Price_Formula], 
    [Project1].[Odd_First_Coupon_Date] AS [Odd_First_Coupon_Date], 
    [Project1].[Odd_Last_Coupon_Date] AS [Odd_Last_Coupon_Date], 
    [Project1].[Coupon_Anniversary_Indicator] AS [Coupon_Anniversary_Indicator], 
    [Project1].[Track_EOM_Flag] AS [Track_EOM_Flag], 
    [Project1].[Next_Coupon_Date] AS [Next_Coupon_Date], 
    [Project1].[Previous_Coupon_Date] AS [Previous_Coupon_Date], 
    [Project1].[Payment_Frequency] AS [Payment_Frequency], 
    [Project1].[Coupon_BusDay_Adjustment] AS [Coupon_BusDay_Adjustment], 
    [Project1].[Next_Ex_Div_Date] AS [Next_Ex_Div_Date], 
    [Project1].[Ex_Div_BusDay_Adjustment] AS [Ex_Div_BusDay_Adjustment], 
    [Project1].[Ex_Div_Period] AS [Ex_Div_Period], 
    [Project1].[Ticker] AS [Ticker], 
    [Project1].[Inet_ID] AS [Inet_ID], 
    [Project1].[Bloomberg_ID] AS [Bloomberg_ID], 
    [Project1].[External_Sec_ID] AS [External_Sec_ID], 
    [Project1].[Reuters_ID] AS [Reuters_ID], 
    [Project1].[ISIN] AS [ISIN], 
    [Project1].[Call_Account_Flag] AS [Call_Account_Flag], 
    [Project1].[System_Locked] AS [System_Locked], 
    [Project1].[Last_Update_User] AS [Last_Update_User], 
    [Project1].[Last_Update_Date] AS [Last_Update_Date], 
    [Project1].[Security_Status] AS [Security_Status], 
    [Project1].[Benchmark_Portfolio] AS [Benchmark_Portfolio], 
    [Project1].[Active_flag] AS [Active_flag], 
    [Project1].[Dividend_FX_Security_ID] AS [Dividend_FX_Security_ID]
    FROM ( SELECT 
        [Extent1].[Security_ID] AS [Security_ID], 
        [Extent1].[Entity_ID] AS [Entity_ID], 
        [Extent1].[Security_Name] AS [Security_Name], 
        [Extent1].[Short_Name] AS [Short_Name], 
        [Extent1].[Primary_Exch] AS [Primary_Exch], 
        [Extent1].[Secondary_Exch] AS [Secondary_Exch], 
        [Extent1].[Country_Of_Domicile] AS [Country_Of_Domicile], 
        [Extent1].[Country_Of_Risk] AS [Country_Of_Risk], 
        [Extent1].[Security_Type_Code] AS [Security_Type_Code], 
        [Extent1].[Price_Multiplier] AS [Price_Multiplier], 
        [Extent1].[Income_Frequency] AS [Income_Frequency], 
        [Extent1].[Issuer_Code] AS [Issuer_Code], 
        [Extent1].[Ultimate_Issuer_Code] AS [Ultimate_Issuer_Code], 
        [Extent1].[Asset_Currency] AS [Asset_Currency], 
        [Extent1].[Min_Lot_Size] AS [Min_Lot_Size], 
        [Extent1].[Decimal_Precision] AS [Decimal_Precision], 
        [Extent1].[AvePrice_Rounding] AS [AvePrice_Rounding], 
        [Extent1].[Issue_Date] AS [Issue_Date], 
        [Extent1].[Maturity_Date] AS [Maturity_Date], 
        [Extent1].[Coupon_Rate] AS [Coupon_Rate], 
        [Extent1].[Price_Exchange] AS [Price_Exchange], 
        [Extent1].[Trade_Currency] AS [Trade_Currency], 
        [Extent1].[Price_Curr] AS [Price_Curr], 
        [Extent1].[Currency_Pair_Code] AS [Currency_Pair_Code], 
        [Extent1].[Share_Class] AS [Share_Class], 
        [Extent1].[Current_Market_Price] AS [Current_Market_Price], 
        [Extent1].[Index_Type] AS [Index_Type], 
        [Extent1].[Clean_Price_Formula] AS [Clean_Price_Formula], 
        [Extent1].[Accrued_Income_Price_Formula] AS [Accrued_Income_Price_Formula], 
        [Extent1].[Odd_First_Coupon_Date] AS [Odd_First_Coupon_Date], 
        [Extent1].[Odd_Last_Coupon_Date] AS [Odd_Last_Coupon_Date], 
        [Extent1].[Coupon_Anniversary_Indicator] AS [Coupon_Anniversary_Indicator], 
        [Extent1].[Track_EOM_Flag] AS [Track_EOM_Flag], 
        [Extent1].[Next_Coupon_Date] AS [Next_Coupon_Date], 
        [Extent1].[Previous_Coupon_Date] AS [Previous_Coupon_Date], 
        [Extent1].[Payment_Frequency] AS [Payment_Frequency], 
        [Extent1].[Coupon_BusDay_Adjustment] AS [Coupon_BusDay_Adjustment], 
        [Extent1].[Next_Ex_Div_Date] AS [Next_Ex_Div_Date], 
        [Extent1].[Ex_Div_BusDay_Adjustment] AS [Ex_Div_BusDay_Adjustment], 
        [Extent1].[Ex_Div_Period] AS [Ex_Div_Period], 
        [Extent1].[Ticker] AS [Ticker], 
        [Extent1].[Inet_ID] AS [Inet_ID], 
        [Extent1].[Bloomberg_ID] AS [Bloomberg_ID], 
        [Extent1].[External_Sec_ID] AS [External_Sec_ID], 
        [Extent1].[Reuters_ID] AS [Reuters_ID], 
        [Extent1].[ISIN] AS [ISIN], 
        [Extent1].[Call_Account_Flag] AS [Call_Account_Flag], 
        [Extent1].[System_Locked] AS [System_Locked], 
        [Extent1].[Last_Update_User] AS [Last_Update_User], 
        [Extent1].[Last_Update_Date] AS [Last_Update_Date], 
        [Extent1].[Security_Status] AS [Security_Status], 
        [Extent1].[Benchmark_Portfolio] AS [Benchmark_Portfolio], 
        [Extent1].[Active_flag] AS [Active_flag], 
        [Extent1].[Dividend_FX_Security_ID] AS [Dividend_FX_Security_ID]
        FROM [dbo].[Security_Detail] AS [Extent1]
        WHERE ([Extent1].[Entity_ID] IN (@p__linq__0,@p__linq__1)) AND ((CASE WHEN ( NOT ((N'' = @p__linq__2) AND (@p__linq__2 IS NOT NULL))) THEN CASE WHEN ([Extent1].[Security_Type_Code] = @p__linq__3) THEN cast(1 as bit) WHEN ( NOT (([Extent1].[Security_Type_Code] = @p__linq__3) AND (0 = (CASE WHEN (@p__linq__3 IS NULL) THEN cast(1 as bit) ELSE cast(0 as bit) END)))) THEN cast(0 as bit) END WHEN ('' <> [Extent1].[Security_Type_Code]) THEN cast(1 as bit) WHEN ('' = [Extent1].[Security_Type_Code]) THEN cast(0 as bit) END) = 1)
    )  AS [Project1]
    ORDER BY [Project1].[Security_Name] ASC
2018-04-07 16:51:31.4653|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: IF db_id(N'MetopeAzureDb') IS NOT NULL SELECT 1 ELSE SELECT Count(*) FROM sys.databases WHERE [name]=N'MetopeAzureDb'
2018-04-07 16:51:31.4908|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: IF db_id(N'MetopeAzureDb') IS NOT NULL SELECT 1 ELSE SELECT Count(*) FROM sys.databases WHERE [name]=N'MetopeAzureDb'
2018-04-07 16:51:31.5178|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: IF db_id(N'MetopeAzureDb') IS NOT NULL SELECT 1 ELSE SELECT Count(*) FROM sys.databases WHERE [name]=N'MetopeAzureDb'
2018-04-07 16:51:31.5394|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: IF db_id(N'MetopeAzureDb') IS NOT NULL SELECT 1 ELSE SELECT Count(*) FROM sys.databases WHERE [name]=N'MetopeAzureDb'
2018-04-07 16:51:34.5323|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: SELECT 
    [Extent1].[Security_ID] AS [Security_ID], 
    [Extent1].[Portfolio_Code] AS [Portfolio_Code], 
    [Extent1].[Entity_ID] AS [Entity_ID], 
    [Extent1].[ModDietz_Performance_Quarterly] AS [ModDietz_Performance_Quarterly], 
    [Extent1].[ModDietz_Performance_Monthly] AS [ModDietz_Performance_Monthly], 
    [Extent1].[ModDietz_Performance_MonthToDate] AS [ModDietz_Performance_MonthToDate], 
    [Extent1].[Dietz_Performance_Quarterly] AS [Dietz_Performance_Quarterly], 
    [Extent1].[Dietz_Performance_Monthly] AS [Dietz_Performance_Monthly], 
    [Extent1].[Dietz_Performance_MonthToDate] AS [Dietz_Performance_MonthToDate], 
    [Extent1].[Last_Update_Date] AS [Last_Update_Date], 
    [Extent1].[Last_Update_User] AS [Last_Update_User], 
    [Extent1].[Record_Date] AS [Record_Date], 
    [Extent1].[Session_ID] AS [Session_ID], 
    [Extent1].[Hist_Last_Update_Date] AS [Hist_Last_Update_Date], 
    [Extent1].[Hist_Last_Update_User] AS [Hist_Last_Update_User]
    FROM [dbo].[Security_Performance_History] AS [Extent1]
    WHERE ([Extent1].[Security_ID] = @p__linq__0) AND ([Extent1].[Portfolio_Code] = @p__linq__1) AND ([Extent1].[Record_Date] = @p__linq__2) AND ([Extent1].[Entity_ID] = @p__linq__3)
2018-04-07 16:51:34.5568|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: SELECT 
    [Extent1].[Security_ID] AS [Security_ID], 
    [Extent1].[Portfolio_Code] AS [Portfolio_Code], 
    [Extent1].[Entity_ID] AS [Entity_ID], 
    [Extent1].[ModDietz_Performance_Quarterly] AS [ModDietz_Performance_Quarterly], 
    [Extent1].[ModDietz_Performance_Monthly] AS [ModDietz_Performance_Monthly], 
    [Extent1].[ModDietz_Performance_MonthToDate] AS [ModDietz_Performance_MonthToDate], 
    [Extent1].[Dietz_Performance_Quarterly] AS [Dietz_Performance_Quarterly], 
    [Extent1].[Dietz_Performance_Monthly] AS [Dietz_Performance_Monthly], 
    [Extent1].[Dietz_Performance_MonthToDate] AS [Dietz_Performance_MonthToDate], 
    [Extent1].[Last_Update_Date] AS [Last_Update_Date], 
    [Extent1].[Last_Update_User] AS [Last_Update_User], 
    [Extent1].[Record_Date] AS [Record_Date], 
    [Extent1].[Session_ID] AS [Session_ID], 
    [Extent1].[Hist_Last_Update_Date] AS [Hist_Last_Update_Date], 
    [Extent1].[Hist_Last_Update_User] AS [Hist_Last_Update_User]
    FROM [dbo].[Security_Performance_History] AS [Extent1]
    WHERE ([Extent1].[Security_ID] = @p__linq__0) AND ([Extent1].[Portfolio_Code] = @p__linq__1) AND ([Extent1].[Record_Date] = @p__linq__2) AND ([Extent1].[Entity_ID] = @p__linq__3)
2018-04-07 16:51:34.5919|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: SELECT 
    [Extent1].[Security_ID] AS [Security_ID], 
    [Extent1].[Entity_ID] AS [Entity_ID], 
    [Extent1].[Security_Name] AS [Security_Name], 
    [Extent1].[Short_Name] AS [Short_Name], 
    [Extent1].[Primary_Exch] AS [Primary_Exch], 
    [Extent1].[Secondary_Exch] AS [Secondary_Exch], 
    [Extent1].[Country_Of_Domicile] AS [Country_Of_Domicile], 
    [Extent1].[Country_Of_Risk] AS [Country_Of_Risk], 
    [Extent1].[Security_Type_Code] AS [Security_Type_Code], 
    [Extent1].[Price_Multiplier] AS [Price_Multiplier], 
    [Extent1].[Income_Frequency] AS [Income_Frequency], 
    [Extent1].[Issuer_Code] AS [Issuer_Code], 
    [Extent1].[Ultimate_Issuer_Code] AS [Ultimate_Issuer_Code], 
    [Extent1].[Asset_Currency] AS [Asset_Currency], 
    [Extent1].[Min_Lot_Size] AS [Min_Lot_Size], 
    [Extent1].[Decimal_Precision] AS [Decimal_Precision], 
    [Extent1].[AvePrice_Rounding] AS [AvePrice_Rounding], 
    [Extent1].[Issue_Date] AS [Issue_Date], 
    [Extent1].[Maturity_Date] AS [Maturity_Date], 
    [Extent1].[Coupon_Rate] AS [Coupon_Rate], 
    [Extent1].[Price_Exchange] AS [Price_Exchange], 
    [Extent1].[Trade_Currency] AS [Trade_Currency], 
    [Extent1].[Price_Curr] AS [Price_Curr], 
    [Extent1].[Currency_Pair_Code] AS [Currency_Pair_Code], 
    [Extent1].[Share_Class] AS [Share_Class], 
    [Extent1].[Current_Market_Price] AS [Current_Market_Price], 
    [Extent1].[Index_Type] AS [Index_Type], 
    [Extent1].[Clean_Price_Formula] AS [Clean_Price_Formula], 
    [Extent1].[Accrued_Income_Price_Formula] AS [Accrued_Income_Price_Formula], 
    [Extent1].[Odd_First_Coupon_Date] AS [Odd_First_Coupon_Date], 
    [Extent1].[Odd_Last_Coupon_Date] AS [Odd_Last_Coupon_Date], 
    [Extent1].[Coupon_Anniversary_Indicator] AS [Coupon_Anniversary_Indicator], 
    [Extent1].[Track_EOM_Flag] AS [Track_EOM_Flag], 
    [Extent1].[Next_Coupon_Date] AS [Next_Coupon_Date], 
    [Extent1].[Previous_Coupon_Date] AS [Previous_Coupon_Date], 
    [Extent1].[Payment_Frequency] AS [Payment_Frequency], 
    [Extent1].[Coupon_BusDay_Adjustment] AS [Coupon_BusDay_Adjustment], 
    [Extent1].[Next_Ex_Div_Date] AS [Next_Ex_Div_Date], 
    [Extent1].[Ex_Div_BusDay_Adjustment] AS [Ex_Div_BusDay_Adjustment], 
    [Extent1].[Ex_Div_Period] AS [Ex_Div_Period], 
    [Extent1].[Ticker] AS [Ticker], 
    [Extent1].[Inet_ID] AS [Inet_ID], 
    [Extent1].[Bloomberg_ID] AS [Bloomberg_ID], 
    [Extent1].[External_Sec_ID] AS [External_Sec_ID], 
    [Extent1].[Reuters_ID] AS [Reuters_ID], 
    [Extent1].[ISIN] AS [ISIN], 
    [Extent1].[Call_Account_Flag] AS [Call_Account_Flag], 
    [Extent1].[System_Locked] AS [System_Locked], 
    [Extent1].[Last_Update_User] AS [Last_Update_User], 
    [Extent1].[Last_Update_Date] AS [Last_Update_Date], 
    [Extent1].[Security_Status] AS [Security_Status], 
    [Extent1].[Benchmark_Portfolio] AS [Benchmark_Portfolio], 
    [Extent1].[Active_flag] AS [Active_flag], 
    [Extent1].[Dividend_FX_Security_ID] AS [Dividend_FX_Security_ID]
    FROM [dbo].[Security_Detail] AS [Extent1]
    WHERE [Extent1].[Security_ID] = @EntityKeyValue1
2018-04-07 16:51:34.6189|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: SELECT 
    [Extent1].[Security_ID] AS [Security_ID], 
    [Extent1].[Entity_ID] AS [Entity_ID], 
    [Extent1].[Security_Name] AS [Security_Name], 
    [Extent1].[Short_Name] AS [Short_Name], 
    [Extent1].[Primary_Exch] AS [Primary_Exch], 
    [Extent1].[Secondary_Exch] AS [Secondary_Exch], 
    [Extent1].[Country_Of_Domicile] AS [Country_Of_Domicile], 
    [Extent1].[Country_Of_Risk] AS [Country_Of_Risk], 
    [Extent1].[Security_Type_Code] AS [Security_Type_Code], 
    [Extent1].[Price_Multiplier] AS [Price_Multiplier], 
    [Extent1].[Income_Frequency] AS [Income_Frequency], 
    [Extent1].[Issuer_Code] AS [Issuer_Code], 
    [Extent1].[Ultimate_Issuer_Code] AS [Ultimate_Issuer_Code], 
    [Extent1].[Asset_Currency] AS [Asset_Currency], 
    [Extent1].[Min_Lot_Size] AS [Min_Lot_Size], 
    [Extent1].[Decimal_Precision] AS [Decimal_Precision], 
    [Extent1].[AvePrice_Rounding] AS [AvePrice_Rounding], 
    [Extent1].[Issue_Date] AS [Issue_Date], 
    [Extent1].[Maturity_Date] AS [Maturity_Date], 
    [Extent1].[Coupon_Rate] AS [Coupon_Rate], 
    [Extent1].[Price_Exchange] AS [Price_Exchange], 
    [Extent1].[Trade_Currency] AS [Trade_Currency], 
    [Extent1].[Price_Curr] AS [Price_Curr], 
    [Extent1].[Currency_Pair_Code] AS [Currency_Pair_Code], 
    [Extent1].[Share_Class] AS [Share_Class], 
    [Extent1].[Current_Market_Price] AS [Current_Market_Price], 
    [Extent1].[Index_Type] AS [Index_Type], 
    [Extent1].[Clean_Price_Formula] AS [Clean_Price_Formula], 
    [Extent1].[Accrued_Income_Price_Formula] AS [Accrued_Income_Price_Formula], 
    [Extent1].[Odd_First_Coupon_Date] AS [Odd_First_Coupon_Date], 
    [Extent1].[Odd_Last_Coupon_Date] AS [Odd_Last_Coupon_Date], 
    [Extent1].[Coupon_Anniversary_Indicator] AS [Coupon_Anniversary_Indicator], 
    [Extent1].[Track_EOM_Flag] AS [Track_EOM_Flag], 
    [Extent1].[Next_Coupon_Date] AS [Next_Coupon_Date], 
    [Extent1].[Previous_Coupon_Date] AS [Previous_Coupon_Date], 
    [Extent1].[Payment_Frequency] AS [Payment_Frequency], 
    [Extent1].[Coupon_BusDay_Adjustment] AS [Coupon_BusDay_Adjustment], 
    [Extent1].[Next_Ex_Div_Date] AS [Next_Ex_Div_Date], 
    [Extent1].[Ex_Div_BusDay_Adjustment] AS [Ex_Div_BusDay_Adjustment], 
    [Extent1].[Ex_Div_Period] AS [Ex_Div_Period], 
    [Extent1].[Ticker] AS [Ticker], 
    [Extent1].[Inet_ID] AS [Inet_ID], 
    [Extent1].[Bloomberg_ID] AS [Bloomberg_ID], 
    [Extent1].[External_Sec_ID] AS [External_Sec_ID], 
    [Extent1].[Reuters_ID] AS [Reuters_ID], 
    [Extent1].[ISIN] AS [ISIN], 
    [Extent1].[Call_Account_Flag] AS [Call_Account_Flag], 
    [Extent1].[System_Locked] AS [System_Locked], 
    [Extent1].[Last_Update_User] AS [Last_Update_User], 
    [Extent1].[Last_Update_Date] AS [Last_Update_Date], 
    [Extent1].[Security_Status] AS [Security_Status], 
    [Extent1].[Benchmark_Portfolio] AS [Benchmark_Portfolio], 
    [Extent1].[Active_flag] AS [Active_flag], 
    [Extent1].[Dividend_FX_Security_ID] AS [Dividend_FX_Security_ID]
    FROM [dbo].[Security_Detail] AS [Extent1]
    WHERE [Extent1].[Security_ID] = @EntityKeyValue1
2018-04-07 16:51:34.6459|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: SELECT 
    [Project1].[Security_ID] AS [Security_ID], 
    [Project1].[Entity_ID] AS [Entity_ID], 
    [Project1].[Security_Name] AS [Security_Name], 
    [Project1].[Short_Name] AS [Short_Name], 
    [Project1].[Primary_Exch] AS [Primary_Exch], 
    [Project1].[Secondary_Exch] AS [Secondary_Exch], 
    [Project1].[Country_Of_Domicile] AS [Country_Of_Domicile], 
    [Project1].[Country_Of_Risk] AS [Country_Of_Risk], 
    [Project1].[Security_Type_Code] AS [Security_Type_Code], 
    [Project1].[Price_Multiplier] AS [Price_Multiplier], 
    [Project1].[Income_Frequency] AS [Income_Frequency], 
    [Project1].[Issuer_Code] AS [Issuer_Code], 
    [Project1].[Ultimate_Issuer_Code] AS [Ultimate_Issuer_Code], 
    [Project1].[Asset_Currency] AS [Asset_Currency], 
    [Project1].[Min_Lot_Size] AS [Min_Lot_Size], 
    [Project1].[Decimal_Precision] AS [Decimal_Precision], 
    [Project1].[AvePrice_Rounding] AS [AvePrice_Rounding], 
    [Project1].[Issue_Date] AS [Issue_Date], 
    [Project1].[Maturity_Date] AS [Maturity_Date], 
    [Project1].[Coupon_Rate] AS [Coupon_Rate], 
    [Project1].[Price_Exchange] AS [Price_Exchange], 
    [Project1].[Trade_Currency] AS [Trade_Currency], 
    [Project1].[Price_Curr] AS [Price_Curr], 
    [Project1].[Currency_Pair_Code] AS [Currency_Pair_Code], 
    [Project1].[Share_Class] AS [Share_Class], 
    [Project1].[Current_Market_Price] AS [Current_Market_Price], 
    [Project1].[Index_Type] AS [Index_Type], 
    [Project1].[Clean_Price_Formula] AS [Clean_Price_Formula], 
    [Project1].[Accrued_Income_Price_Formula] AS [Accrued_Income_Price_Formula], 
    [Project1].[Odd_First_Coupon_Date] AS [Odd_First_Coupon_Date], 
    [Project1].[Odd_Last_Coupon_Date] AS [Odd_Last_Coupon_Date], 
    [Project1].[Coupon_Anniversary_Indicator] AS [Coupon_Anniversary_Indicator], 
    [Project1].[Track_EOM_Flag] AS [Track_EOM_Flag], 
    [Project1].[Next_Coupon_Date] AS [Next_Coupon_Date], 
    [Project1].[Previous_Coupon_Date] AS [Previous_Coupon_Date], 
    [Project1].[Payment_Frequency] AS [Payment_Frequency], 
    [Project1].[Coupon_BusDay_Adjustment] AS [Coupon_BusDay_Adjustment], 
    [Project1].[Next_Ex_Div_Date] AS [Next_Ex_Div_Date], 
    [Project1].[Ex_Div_BusDay_Adjustment] AS [Ex_Div_BusDay_Adjustment], 
    [Project1].[Ex_Div_Period] AS [Ex_Div_Period], 
    [Project1].[Ticker] AS [Ticker], 
    [Project1].[Inet_ID] AS [Inet_ID], 
    [Project1].[Bloomberg_ID] AS [Bloomberg_ID], 
    [Project1].[External_Sec_ID] AS [External_Sec_ID], 
    [Project1].[Reuters_ID] AS [Reuters_ID], 
    [Project1].[ISIN] AS [ISIN], 
    [Project1].[Call_Account_Flag] AS [Call_Account_Flag], 
    [Project1].[System_Locked] AS [System_Locked], 
    [Project1].[Last_Update_User] AS [Last_Update_User], 
    [Project1].[Last_Update_Date] AS [Last_Update_Date], 
    [Project1].[Security_Status] AS [Security_Status], 
    [Project1].[Benchmark_Portfolio] AS [Benchmark_Portfolio], 
    [Project1].[Active_flag] AS [Active_flag], 
    [Project1].[Dividend_FX_Security_ID] AS [Dividend_FX_Security_ID]
    FROM ( SELECT 
        [Extent1].[Security_ID] AS [Security_ID], 
        [Extent1].[Entity_ID] AS [Entity_ID], 
        [Extent1].[Security_Name] AS [Security_Name], 
        [Extent1].[Short_Name] AS [Short_Name], 
        [Extent1].[Primary_Exch] AS [Primary_Exch], 
        [Extent1].[Secondary_Exch] AS [Secondary_Exch], 
        [Extent1].[Country_Of_Domicile] AS [Country_Of_Domicile], 
        [Extent1].[Country_Of_Risk] AS [Country_Of_Risk], 
        [Extent1].[Security_Type_Code] AS [Security_Type_Code], 
        [Extent1].[Price_Multiplier] AS [Price_Multiplier], 
        [Extent1].[Income_Frequency] AS [Income_Frequency], 
        [Extent1].[Issuer_Code] AS [Issuer_Code], 
        [Extent1].[Ultimate_Issuer_Code] AS [Ultimate_Issuer_Code], 
        [Extent1].[Asset_Currency] AS [Asset_Currency], 
        [Extent1].[Min_Lot_Size] AS [Min_Lot_Size], 
        [Extent1].[Decimal_Precision] AS [Decimal_Precision], 
        [Extent1].[AvePrice_Rounding] AS [AvePrice_Rounding], 
        [Extent1].[Issue_Date] AS [Issue_Date], 
        [Extent1].[Maturity_Date] AS [Maturity_Date], 
        [Extent1].[Coupon_Rate] AS [Coupon_Rate], 
        [Extent1].[Price_Exchange] AS [Price_Exchange], 
        [Extent1].[Trade_Currency] AS [Trade_Currency], 
        [Extent1].[Price_Curr] AS [Price_Curr], 
        [Extent1].[Currency_Pair_Code] AS [Currency_Pair_Code], 
        [Extent1].[Share_Class] AS [Share_Class], 
        [Extent1].[Current_Market_Price] AS [Current_Market_Price], 
        [Extent1].[Index_Type] AS [Index_Type], 
        [Extent1].[Clean_Price_Formula] AS [Clean_Price_Formula], 
        [Extent1].[Accrued_Income_Price_Formula] AS [Accrued_Income_Price_Formula], 
        [Extent1].[Odd_First_Coupon_Date] AS [Odd_First_Coupon_Date], 
        [Extent1].[Odd_Last_Coupon_Date] AS [Odd_Last_Coupon_Date], 
        [Extent1].[Coupon_Anniversary_Indicator] AS [Coupon_Anniversary_Indicator], 
        [Extent1].[Track_EOM_Flag] AS [Track_EOM_Flag], 
        [Extent1].[Next_Coupon_Date] AS [Next_Coupon_Date], 
        [Extent1].[Previous_Coupon_Date] AS [Previous_Coupon_Date], 
        [Extent1].[Payment_Frequency] AS [Payment_Frequency], 
        [Extent1].[Coupon_BusDay_Adjustment] AS [Coupon_BusDay_Adjustment], 
        [Extent1].[Next_Ex_Div_Date] AS [Next_Ex_Div_Date], 
        [Extent1].[Ex_Div_BusDay_Adjustment] AS [Ex_Div_BusDay_Adjustment], 
        [Extent1].[Ex_Div_Period] AS [Ex_Div_Period], 
        [Extent1].[Ticker] AS [Ticker], 
        [Extent1].[Inet_ID] AS [Inet_ID], 
        [Extent1].[Bloomberg_ID] AS [Bloomberg_ID], 
        [Extent1].[External_Sec_ID] AS [External_Sec_ID], 
        [Extent1].[Reuters_ID] AS [Reuters_ID], 
        [Extent1].[ISIN] AS [ISIN], 
        [Extent1].[Call_Account_Flag] AS [Call_Account_Flag], 
        [Extent1].[System_Locked] AS [System_Locked], 
        [Extent1].[Last_Update_User] AS [Last_Update_User], 
        [Extent1].[Last_Update_Date] AS [Last_Update_Date], 
        [Extent1].[Security_Status] AS [Security_Status], 
        [Extent1].[Benchmark_Portfolio] AS [Benchmark_Portfolio], 
        [Extent1].[Active_flag] AS [Active_flag], 
        [Extent1].[Dividend_FX_Security_ID] AS [Dividend_FX_Security_ID]
        FROM [dbo].[Security_Detail] AS [Extent1]
        WHERE ([Extent1].[Entity_ID] IN (@p__linq__0,@p__linq__1)) AND ((CASE WHEN ( NOT ((N'' = @p__linq__2) AND (@p__linq__2 IS NOT NULL))) THEN CASE WHEN ([Extent1].[Security_Type_Code] = @p__linq__3) THEN cast(1 as bit) WHEN ( NOT (([Extent1].[Security_Type_Code] = @p__linq__3) AND (0 = (CASE WHEN (@p__linq__3 IS NULL) THEN cast(1 as bit) ELSE cast(0 as bit) END)))) THEN cast(0 as bit) END WHEN ('' <> [Extent1].[Security_Type_Code]) THEN cast(1 as bit) WHEN ('' = [Extent1].[Security_Type_Code]) THEN cast(0 as bit) END) = 1)
    )  AS [Project1]
    ORDER BY [Project1].[Security_Name] ASC
2018-04-07 16:51:34.6719|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: SELECT 
    [Project1].[Security_ID] AS [Security_ID], 
    [Project1].[Entity_ID] AS [Entity_ID], 
    [Project1].[Security_Name] AS [Security_Name], 
    [Project1].[Short_Name] AS [Short_Name], 
    [Project1].[Primary_Exch] AS [Primary_Exch], 
    [Project1].[Secondary_Exch] AS [Secondary_Exch], 
    [Project1].[Country_Of_Domicile] AS [Country_Of_Domicile], 
    [Project1].[Country_Of_Risk] AS [Country_Of_Risk], 
    [Project1].[Security_Type_Code] AS [Security_Type_Code], 
    [Project1].[Price_Multiplier] AS [Price_Multiplier], 
    [Project1].[Income_Frequency] AS [Income_Frequency], 
    [Project1].[Issuer_Code] AS [Issuer_Code], 
    [Project1].[Ultimate_Issuer_Code] AS [Ultimate_Issuer_Code], 
    [Project1].[Asset_Currency] AS [Asset_Currency], 
    [Project1].[Min_Lot_Size] AS [Min_Lot_Size], 
    [Project1].[Decimal_Precision] AS [Decimal_Precision], 
    [Project1].[AvePrice_Rounding] AS [AvePrice_Rounding], 
    [Project1].[Issue_Date] AS [Issue_Date], 
    [Project1].[Maturity_Date] AS [Maturity_Date], 
    [Project1].[Coupon_Rate] AS [Coupon_Rate], 
    [Project1].[Price_Exchange] AS [Price_Exchange], 
    [Project1].[Trade_Currency] AS [Trade_Currency], 
    [Project1].[Price_Curr] AS [Price_Curr], 
    [Project1].[Currency_Pair_Code] AS [Currency_Pair_Code], 
    [Project1].[Share_Class] AS [Share_Class], 
    [Project1].[Current_Market_Price] AS [Current_Market_Price], 
    [Project1].[Index_Type] AS [Index_Type], 
    [Project1].[Clean_Price_Formula] AS [Clean_Price_Formula], 
    [Project1].[Accrued_Income_Price_Formula] AS [Accrued_Income_Price_Formula], 
    [Project1].[Odd_First_Coupon_Date] AS [Odd_First_Coupon_Date], 
    [Project1].[Odd_Last_Coupon_Date] AS [Odd_Last_Coupon_Date], 
    [Project1].[Coupon_Anniversary_Indicator] AS [Coupon_Anniversary_Indicator], 
    [Project1].[Track_EOM_Flag] AS [Track_EOM_Flag], 
    [Project1].[Next_Coupon_Date] AS [Next_Coupon_Date], 
    [Project1].[Previous_Coupon_Date] AS [Previous_Coupon_Date], 
    [Project1].[Payment_Frequency] AS [Payment_Frequency], 
    [Project1].[Coupon_BusDay_Adjustment] AS [Coupon_BusDay_Adjustment], 
    [Project1].[Next_Ex_Div_Date] AS [Next_Ex_Div_Date], 
    [Project1].[Ex_Div_BusDay_Adjustment] AS [Ex_Div_BusDay_Adjustment], 
    [Project1].[Ex_Div_Period] AS [Ex_Div_Period], 
    [Project1].[Ticker] AS [Ticker], 
    [Project1].[Inet_ID] AS [Inet_ID], 
    [Project1].[Bloomberg_ID] AS [Bloomberg_ID], 
    [Project1].[External_Sec_ID] AS [External_Sec_ID], 
    [Project1].[Reuters_ID] AS [Reuters_ID], 
    [Project1].[ISIN] AS [ISIN], 
    [Project1].[Call_Account_Flag] AS [Call_Account_Flag], 
    [Project1].[System_Locked] AS [System_Locked], 
    [Project1].[Last_Update_User] AS [Last_Update_User], 
    [Project1].[Last_Update_Date] AS [Last_Update_Date], 
    [Project1].[Security_Status] AS [Security_Status], 
    [Project1].[Benchmark_Portfolio] AS [Benchmark_Portfolio], 
    [Project1].[Active_flag] AS [Active_flag], 
    [Project1].[Dividend_FX_Security_ID] AS [Dividend_FX_Security_ID]
    FROM ( SELECT 
        [Extent1].[Security_ID] AS [Security_ID], 
        [Extent1].[Entity_ID] AS [Entity_ID], 
        [Extent1].[Security_Name] AS [Security_Name], 
        [Extent1].[Short_Name] AS [Short_Name], 
        [Extent1].[Primary_Exch] AS [Primary_Exch], 
        [Extent1].[Secondary_Exch] AS [Secondary_Exch], 
        [Extent1].[Country_Of_Domicile] AS [Country_Of_Domicile], 
        [Extent1].[Country_Of_Risk] AS [Country_Of_Risk], 
        [Extent1].[Security_Type_Code] AS [Security_Type_Code], 
        [Extent1].[Price_Multiplier] AS [Price_Multiplier], 
        [Extent1].[Income_Frequency] AS [Income_Frequency], 
        [Extent1].[Issuer_Code] AS [Issuer_Code], 
        [Extent1].[Ultimate_Issuer_Code] AS [Ultimate_Issuer_Code], 
        [Extent1].[Asset_Currency] AS [Asset_Currency], 
        [Extent1].[Min_Lot_Size] AS [Min_Lot_Size], 
        [Extent1].[Decimal_Precision] AS [Decimal_Precision], 
        [Extent1].[AvePrice_Rounding] AS [AvePrice_Rounding], 
        [Extent1].[Issue_Date] AS [Issue_Date], 
        [Extent1].[Maturity_Date] AS [Maturity_Date], 
        [Extent1].[Coupon_Rate] AS [Coupon_Rate], 
        [Extent1].[Price_Exchange] AS [Price_Exchange], 
        [Extent1].[Trade_Currency] AS [Trade_Currency], 
        [Extent1].[Price_Curr] AS [Price_Curr], 
        [Extent1].[Currency_Pair_Code] AS [Currency_Pair_Code], 
        [Extent1].[Share_Class] AS [Share_Class], 
        [Extent1].[Current_Market_Price] AS [Current_Market_Price], 
        [Extent1].[Index_Type] AS [Index_Type], 
        [Extent1].[Clean_Price_Formula] AS [Clean_Price_Formula], 
        [Extent1].[Accrued_Income_Price_Formula] AS [Accrued_Income_Price_Formula], 
        [Extent1].[Odd_First_Coupon_Date] AS [Odd_First_Coupon_Date], 
        [Extent1].[Odd_Last_Coupon_Date] AS [Odd_Last_Coupon_Date], 
        [Extent1].[Coupon_Anniversary_Indicator] AS [Coupon_Anniversary_Indicator], 
        [Extent1].[Track_EOM_Flag] AS [Track_EOM_Flag], 
        [Extent1].[Next_Coupon_Date] AS [Next_Coupon_Date], 
        [Extent1].[Previous_Coupon_Date] AS [Previous_Coupon_Date], 
        [Extent1].[Payment_Frequency] AS [Payment_Frequency], 
        [Extent1].[Coupon_BusDay_Adjustment] AS [Coupon_BusDay_Adjustment], 
        [Extent1].[Next_Ex_Div_Date] AS [Next_Ex_Div_Date], 
        [Extent1].[Ex_Div_BusDay_Adjustment] AS [Ex_Div_BusDay_Adjustment], 
        [Extent1].[Ex_Div_Period] AS [Ex_Div_Period], 
        [Extent1].[Ticker] AS [Ticker], 
        [Extent1].[Inet_ID] AS [Inet_ID], 
        [Extent1].[Bloomberg_ID] AS [Bloomberg_ID], 
        [Extent1].[External_Sec_ID] AS [External_Sec_ID], 
        [Extent1].[Reuters_ID] AS [Reuters_ID], 
        [Extent1].[ISIN] AS [ISIN], 
        [Extent1].[Call_Account_Flag] AS [Call_Account_Flag], 
        [Extent1].[System_Locked] AS [System_Locked], 
        [Extent1].[Last_Update_User] AS [Last_Update_User], 
        [Extent1].[Last_Update_Date] AS [Last_Update_Date], 
        [Extent1].[Security_Status] AS [Security_Status], 
        [Extent1].[Benchmark_Portfolio] AS [Benchmark_Portfolio], 
        [Extent1].[Active_flag] AS [Active_flag], 
        [Extent1].[Dividend_FX_Security_ID] AS [Dividend_FX_Security_ID]
        FROM [dbo].[Security_Detail] AS [Extent1]
        WHERE ([Extent1].[Entity_ID] IN (@p__linq__0,@p__linq__1)) AND ((CASE WHEN ( NOT ((N'' = @p__linq__2) AND (@p__linq__2 IS NOT NULL))) THEN CASE WHEN ([Extent1].[Security_Type_Code] = @p__linq__3) THEN cast(1 as bit) WHEN ( NOT (([Extent1].[Security_Type_Code] = @p__linq__3) AND (0 = (CASE WHEN (@p__linq__3 IS NULL) THEN cast(1 as bit) ELSE cast(0 as bit) END)))) THEN cast(0 as bit) END WHEN ('' <> [Extent1].[Security_Type_Code]) THEN cast(1 as bit) WHEN ('' = [Extent1].[Security_Type_Code]) THEN cast(0 as bit) END) = 1)
    )  AS [Project1]
    ORDER BY [Project1].[Security_Name] ASC
2018-04-07 16:51:34.7039|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: IF db_id(N'MetopeAzureDb') IS NOT NULL SELECT 1 ELSE SELECT Count(*) FROM sys.databases WHERE [name]=N'MetopeAzureDb'
2018-04-07 16:51:34.7245|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: IF db_id(N'MetopeAzureDb') IS NOT NULL SELECT 1 ELSE SELECT Count(*) FROM sys.databases WHERE [name]=N'MetopeAzureDb'
2018-04-07 16:51:34.7475|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: IF db_id(N'MetopeAzureDb') IS NOT NULL SELECT 1 ELSE SELECT Count(*) FROM sys.databases WHERE [name]=N'MetopeAzureDb'
2018-04-07 16:51:34.7680|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: IF db_id(N'MetopeAzureDb') IS NOT NULL SELECT 1 ELSE SELECT Count(*) FROM sys.databases WHERE [name]=N'MetopeAzureDb'
2018-04-07 16:51:36.6061|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: SELECT 
    [Extent1].[Security_ID] AS [Security_ID], 
    [Extent1].[Portfolio_Code] AS [Portfolio_Code], 
    [Extent1].[Entity_ID] AS [Entity_ID], 
    [Extent1].[ModDietz_Performance_Quarterly] AS [ModDietz_Performance_Quarterly], 
    [Extent1].[ModDietz_Performance_Monthly] AS [ModDietz_Performance_Monthly], 
    [Extent1].[ModDietz_Performance_MonthToDate] AS [ModDietz_Performance_MonthToDate], 
    [Extent1].[Dietz_Performance_Quarterly] AS [Dietz_Performance_Quarterly], 
    [Extent1].[Dietz_Performance_Monthly] AS [Dietz_Performance_Monthly], 
    [Extent1].[Dietz_Performance_MonthToDate] AS [Dietz_Performance_MonthToDate], 
    [Extent1].[Last_Update_Date] AS [Last_Update_Date], 
    [Extent1].[Last_Update_User] AS [Last_Update_User], 
    [Extent1].[Record_Date] AS [Record_Date], 
    [Extent1].[Session_ID] AS [Session_ID], 
    [Extent1].[Hist_Last_Update_Date] AS [Hist_Last_Update_Date], 
    [Extent1].[Hist_Last_Update_User] AS [Hist_Last_Update_User]
    FROM [dbo].[Security_Performance_History] AS [Extent1]
    WHERE ([Extent1].[Security_ID] = @p__linq__0) AND ([Extent1].[Portfolio_Code] = @p__linq__1) AND ([Extent1].[Record_Date] = @p__linq__2) AND ([Extent1].[Entity_ID] = @p__linq__3)
2018-04-07 16:51:36.6316|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: SELECT 
    [Extent1].[Security_ID] AS [Security_ID], 
    [Extent1].[Portfolio_Code] AS [Portfolio_Code], 
    [Extent1].[Entity_ID] AS [Entity_ID], 
    [Extent1].[ModDietz_Performance_Quarterly] AS [ModDietz_Performance_Quarterly], 
    [Extent1].[ModDietz_Performance_Monthly] AS [ModDietz_Performance_Monthly], 
    [Extent1].[ModDietz_Performance_MonthToDate] AS [ModDietz_Performance_MonthToDate], 
    [Extent1].[Dietz_Performance_Quarterly] AS [Dietz_Performance_Quarterly], 
    [Extent1].[Dietz_Performance_Monthly] AS [Dietz_Performance_Monthly], 
    [Extent1].[Dietz_Performance_MonthToDate] AS [Dietz_Performance_MonthToDate], 
    [Extent1].[Last_Update_Date] AS [Last_Update_Date], 
    [Extent1].[Last_Update_User] AS [Last_Update_User], 
    [Extent1].[Record_Date] AS [Record_Date], 
    [Extent1].[Session_ID] AS [Session_ID], 
    [Extent1].[Hist_Last_Update_Date] AS [Hist_Last_Update_Date], 
    [Extent1].[Hist_Last_Update_User] AS [Hist_Last_Update_User]
    FROM [dbo].[Security_Performance_History] AS [Extent1]
    WHERE ([Extent1].[Security_ID] = @p__linq__0) AND ([Extent1].[Portfolio_Code] = @p__linq__1) AND ([Extent1].[Record_Date] = @p__linq__2) AND ([Extent1].[Entity_ID] = @p__linq__3)
2018-04-07 16:51:36.6626|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: SELECT 
    [Extent1].[Security_ID] AS [Security_ID], 
    [Extent1].[Entity_ID] AS [Entity_ID], 
    [Extent1].[Security_Name] AS [Security_Name], 
    [Extent1].[Short_Name] AS [Short_Name], 
    [Extent1].[Primary_Exch] AS [Primary_Exch], 
    [Extent1].[Secondary_Exch] AS [Secondary_Exch], 
    [Extent1].[Country_Of_Domicile] AS [Country_Of_Domicile], 
    [Extent1].[Country_Of_Risk] AS [Country_Of_Risk], 
    [Extent1].[Security_Type_Code] AS [Security_Type_Code], 
    [Extent1].[Price_Multiplier] AS [Price_Multiplier], 
    [Extent1].[Income_Frequency] AS [Income_Frequency], 
    [Extent1].[Issuer_Code] AS [Issuer_Code], 
    [Extent1].[Ultimate_Issuer_Code] AS [Ultimate_Issuer_Code], 
    [Extent1].[Asset_Currency] AS [Asset_Currency], 
    [Extent1].[Min_Lot_Size] AS [Min_Lot_Size], 
    [Extent1].[Decimal_Precision] AS [Decimal_Precision], 
    [Extent1].[AvePrice_Rounding] AS [AvePrice_Rounding], 
    [Extent1].[Issue_Date] AS [Issue_Date], 
    [Extent1].[Maturity_Date] AS [Maturity_Date], 
    [Extent1].[Coupon_Rate] AS [Coupon_Rate], 
    [Extent1].[Price_Exchange] AS [Price_Exchange], 
    [Extent1].[Trade_Currency] AS [Trade_Currency], 
    [Extent1].[Price_Curr] AS [Price_Curr], 
    [Extent1].[Currency_Pair_Code] AS [Currency_Pair_Code], 
    [Extent1].[Share_Class] AS [Share_Class], 
    [Extent1].[Current_Market_Price] AS [Current_Market_Price], 
    [Extent1].[Index_Type] AS [Index_Type], 
    [Extent1].[Clean_Price_Formula] AS [Clean_Price_Formula], 
    [Extent1].[Accrued_Income_Price_Formula] AS [Accrued_Income_Price_Formula], 
    [Extent1].[Odd_First_Coupon_Date] AS [Odd_First_Coupon_Date], 
    [Extent1].[Odd_Last_Coupon_Date] AS [Odd_Last_Coupon_Date], 
    [Extent1].[Coupon_Anniversary_Indicator] AS [Coupon_Anniversary_Indicator], 
    [Extent1].[Track_EOM_Flag] AS [Track_EOM_Flag], 
    [Extent1].[Next_Coupon_Date] AS [Next_Coupon_Date], 
    [Extent1].[Previous_Coupon_Date] AS [Previous_Coupon_Date], 
    [Extent1].[Payment_Frequency] AS [Payment_Frequency], 
    [Extent1].[Coupon_BusDay_Adjustment] AS [Coupon_BusDay_Adjustment], 
    [Extent1].[Next_Ex_Div_Date] AS [Next_Ex_Div_Date], 
    [Extent1].[Ex_Div_BusDay_Adjustment] AS [Ex_Div_BusDay_Adjustment], 
    [Extent1].[Ex_Div_Period] AS [Ex_Div_Period], 
    [Extent1].[Ticker] AS [Ticker], 
    [Extent1].[Inet_ID] AS [Inet_ID], 
    [Extent1].[Bloomberg_ID] AS [Bloomberg_ID], 
    [Extent1].[External_Sec_ID] AS [External_Sec_ID], 
    [Extent1].[Reuters_ID] AS [Reuters_ID], 
    [Extent1].[ISIN] AS [ISIN], 
    [Extent1].[Call_Account_Flag] AS [Call_Account_Flag], 
    [Extent1].[System_Locked] AS [System_Locked], 
    [Extent1].[Last_Update_User] AS [Last_Update_User], 
    [Extent1].[Last_Update_Date] AS [Last_Update_Date], 
    [Extent1].[Security_Status] AS [Security_Status], 
    [Extent1].[Benchmark_Portfolio] AS [Benchmark_Portfolio], 
    [Extent1].[Active_flag] AS [Active_flag], 
    [Extent1].[Dividend_FX_Security_ID] AS [Dividend_FX_Security_ID]
    FROM [dbo].[Security_Detail] AS [Extent1]
    WHERE [Extent1].[Security_ID] = @EntityKeyValue1
2018-04-07 16:51:36.6882|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: SELECT 
    [Extent1].[Security_ID] AS [Security_ID], 
    [Extent1].[Entity_ID] AS [Entity_ID], 
    [Extent1].[Security_Name] AS [Security_Name], 
    [Extent1].[Short_Name] AS [Short_Name], 
    [Extent1].[Primary_Exch] AS [Primary_Exch], 
    [Extent1].[Secondary_Exch] AS [Secondary_Exch], 
    [Extent1].[Country_Of_Domicile] AS [Country_Of_Domicile], 
    [Extent1].[Country_Of_Risk] AS [Country_Of_Risk], 
    [Extent1].[Security_Type_Code] AS [Security_Type_Code], 
    [Extent1].[Price_Multiplier] AS [Price_Multiplier], 
    [Extent1].[Income_Frequency] AS [Income_Frequency], 
    [Extent1].[Issuer_Code] AS [Issuer_Code], 
    [Extent1].[Ultimate_Issuer_Code] AS [Ultimate_Issuer_Code], 
    [Extent1].[Asset_Currency] AS [Asset_Currency], 
    [Extent1].[Min_Lot_Size] AS [Min_Lot_Size], 
    [Extent1].[Decimal_Precision] AS [Decimal_Precision], 
    [Extent1].[AvePrice_Rounding] AS [AvePrice_Rounding], 
    [Extent1].[Issue_Date] AS [Issue_Date], 
    [Extent1].[Maturity_Date] AS [Maturity_Date], 
    [Extent1].[Coupon_Rate] AS [Coupon_Rate], 
    [Extent1].[Price_Exchange] AS [Price_Exchange], 
    [Extent1].[Trade_Currency] AS [Trade_Currency], 
    [Extent1].[Price_Curr] AS [Price_Curr], 
    [Extent1].[Currency_Pair_Code] AS [Currency_Pair_Code], 
    [Extent1].[Share_Class] AS [Share_Class], 
    [Extent1].[Current_Market_Price] AS [Current_Market_Price], 
    [Extent1].[Index_Type] AS [Index_Type], 
    [Extent1].[Clean_Price_Formula] AS [Clean_Price_Formula], 
    [Extent1].[Accrued_Income_Price_Formula] AS [Accrued_Income_Price_Formula], 
    [Extent1].[Odd_First_Coupon_Date] AS [Odd_First_Coupon_Date], 
    [Extent1].[Odd_Last_Coupon_Date] AS [Odd_Last_Coupon_Date], 
    [Extent1].[Coupon_Anniversary_Indicator] AS [Coupon_Anniversary_Indicator], 
    [Extent1].[Track_EOM_Flag] AS [Track_EOM_Flag], 
    [Extent1].[Next_Coupon_Date] AS [Next_Coupon_Date], 
    [Extent1].[Previous_Coupon_Date] AS [Previous_Coupon_Date], 
    [Extent1].[Payment_Frequency] AS [Payment_Frequency], 
    [Extent1].[Coupon_BusDay_Adjustment] AS [Coupon_BusDay_Adjustment], 
    [Extent1].[Next_Ex_Div_Date] AS [Next_Ex_Div_Date], 
    [Extent1].[Ex_Div_BusDay_Adjustment] AS [Ex_Div_BusDay_Adjustment], 
    [Extent1].[Ex_Div_Period] AS [Ex_Div_Period], 
    [Extent1].[Ticker] AS [Ticker], 
    [Extent1].[Inet_ID] AS [Inet_ID], 
    [Extent1].[Bloomberg_ID] AS [Bloomberg_ID], 
    [Extent1].[External_Sec_ID] AS [External_Sec_ID], 
    [Extent1].[Reuters_ID] AS [Reuters_ID], 
    [Extent1].[ISIN] AS [ISIN], 
    [Extent1].[Call_Account_Flag] AS [Call_Account_Flag], 
    [Extent1].[System_Locked] AS [System_Locked], 
    [Extent1].[Last_Update_User] AS [Last_Update_User], 
    [Extent1].[Last_Update_Date] AS [Last_Update_Date], 
    [Extent1].[Security_Status] AS [Security_Status], 
    [Extent1].[Benchmark_Portfolio] AS [Benchmark_Portfolio], 
    [Extent1].[Active_flag] AS [Active_flag], 
    [Extent1].[Dividend_FX_Security_ID] AS [Dividend_FX_Security_ID]
    FROM [dbo].[Security_Detail] AS [Extent1]
    WHERE [Extent1].[Security_ID] = @EntityKeyValue1
2018-04-07 16:51:36.7142|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: SELECT 
    [Project1].[Security_ID] AS [Security_ID], 
    [Project1].[Entity_ID] AS [Entity_ID], 
    [Project1].[Security_Name] AS [Security_Name], 
    [Project1].[Short_Name] AS [Short_Name], 
    [Project1].[Primary_Exch] AS [Primary_Exch], 
    [Project1].[Secondary_Exch] AS [Secondary_Exch], 
    [Project1].[Country_Of_Domicile] AS [Country_Of_Domicile], 
    [Project1].[Country_Of_Risk] AS [Country_Of_Risk], 
    [Project1].[Security_Type_Code] AS [Security_Type_Code], 
    [Project1].[Price_Multiplier] AS [Price_Multiplier], 
    [Project1].[Income_Frequency] AS [Income_Frequency], 
    [Project1].[Issuer_Code] AS [Issuer_Code], 
    [Project1].[Ultimate_Issuer_Code] AS [Ultimate_Issuer_Code], 
    [Project1].[Asset_Currency] AS [Asset_Currency], 
    [Project1].[Min_Lot_Size] AS [Min_Lot_Size], 
    [Project1].[Decimal_Precision] AS [Decimal_Precision], 
    [Project1].[AvePrice_Rounding] AS [AvePrice_Rounding], 
    [Project1].[Issue_Date] AS [Issue_Date], 
    [Project1].[Maturity_Date] AS [Maturity_Date], 
    [Project1].[Coupon_Rate] AS [Coupon_Rate], 
    [Project1].[Price_Exchange] AS [Price_Exchange], 
    [Project1].[Trade_Currency] AS [Trade_Currency], 
    [Project1].[Price_Curr] AS [Price_Curr], 
    [Project1].[Currency_Pair_Code] AS [Currency_Pair_Code], 
    [Project1].[Share_Class] AS [Share_Class], 
    [Project1].[Current_Market_Price] AS [Current_Market_Price], 
    [Project1].[Index_Type] AS [Index_Type], 
    [Project1].[Clean_Price_Formula] AS [Clean_Price_Formula], 
    [Project1].[Accrued_Income_Price_Formula] AS [Accrued_Income_Price_Formula], 
    [Project1].[Odd_First_Coupon_Date] AS [Odd_First_Coupon_Date], 
    [Project1].[Odd_Last_Coupon_Date] AS [Odd_Last_Coupon_Date], 
    [Project1].[Coupon_Anniversary_Indicator] AS [Coupon_Anniversary_Indicator], 
    [Project1].[Track_EOM_Flag] AS [Track_EOM_Flag], 
    [Project1].[Next_Coupon_Date] AS [Next_Coupon_Date], 
    [Project1].[Previous_Coupon_Date] AS [Previous_Coupon_Date], 
    [Project1].[Payment_Frequency] AS [Payment_Frequency], 
    [Project1].[Coupon_BusDay_Adjustment] AS [Coupon_BusDay_Adjustment], 
    [Project1].[Next_Ex_Div_Date] AS [Next_Ex_Div_Date], 
    [Project1].[Ex_Div_BusDay_Adjustment] AS [Ex_Div_BusDay_Adjustment], 
    [Project1].[Ex_Div_Period] AS [Ex_Div_Period], 
    [Project1].[Ticker] AS [Ticker], 
    [Project1].[Inet_ID] AS [Inet_ID], 
    [Project1].[Bloomberg_ID] AS [Bloomberg_ID], 
    [Project1].[External_Sec_ID] AS [External_Sec_ID], 
    [Project1].[Reuters_ID] AS [Reuters_ID], 
    [Project1].[ISIN] AS [ISIN], 
    [Project1].[Call_Account_Flag] AS [Call_Account_Flag], 
    [Project1].[System_Locked] AS [System_Locked], 
    [Project1].[Last_Update_User] AS [Last_Update_User], 
    [Project1].[Last_Update_Date] AS [Last_Update_Date], 
    [Project1].[Security_Status] AS [Security_Status], 
    [Project1].[Benchmark_Portfolio] AS [Benchmark_Portfolio], 
    [Project1].[Active_flag] AS [Active_flag], 
    [Project1].[Dividend_FX_Security_ID] AS [Dividend_FX_Security_ID]
    FROM ( SELECT 
        [Extent1].[Security_ID] AS [Security_ID], 
        [Extent1].[Entity_ID] AS [Entity_ID], 
        [Extent1].[Security_Name] AS [Security_Name], 
        [Extent1].[Short_Name] AS [Short_Name], 
        [Extent1].[Primary_Exch] AS [Primary_Exch], 
        [Extent1].[Secondary_Exch] AS [Secondary_Exch], 
        [Extent1].[Country_Of_Domicile] AS [Country_Of_Domicile], 
        [Extent1].[Country_Of_Risk] AS [Country_Of_Risk], 
        [Extent1].[Security_Type_Code] AS [Security_Type_Code], 
        [Extent1].[Price_Multiplier] AS [Price_Multiplier], 
        [Extent1].[Income_Frequency] AS [Income_Frequency], 
        [Extent1].[Issuer_Code] AS [Issuer_Code], 
        [Extent1].[Ultimate_Issuer_Code] AS [Ultimate_Issuer_Code], 
        [Extent1].[Asset_Currency] AS [Asset_Currency], 
        [Extent1].[Min_Lot_Size] AS [Min_Lot_Size], 
        [Extent1].[Decimal_Precision] AS [Decimal_Precision], 
        [Extent1].[AvePrice_Rounding] AS [AvePrice_Rounding], 
        [Extent1].[Issue_Date] AS [Issue_Date], 
        [Extent1].[Maturity_Date] AS [Maturity_Date], 
        [Extent1].[Coupon_Rate] AS [Coupon_Rate], 
        [Extent1].[Price_Exchange] AS [Price_Exchange], 
        [Extent1].[Trade_Currency] AS [Trade_Currency], 
        [Extent1].[Price_Curr] AS [Price_Curr], 
        [Extent1].[Currency_Pair_Code] AS [Currency_Pair_Code], 
        [Extent1].[Share_Class] AS [Share_Class], 
        [Extent1].[Current_Market_Price] AS [Current_Market_Price], 
        [Extent1].[Index_Type] AS [Index_Type], 
        [Extent1].[Clean_Price_Formula] AS [Clean_Price_Formula], 
        [Extent1].[Accrued_Income_Price_Formula] AS [Accrued_Income_Price_Formula], 
        [Extent1].[Odd_First_Coupon_Date] AS [Odd_First_Coupon_Date], 
        [Extent1].[Odd_Last_Coupon_Date] AS [Odd_Last_Coupon_Date], 
        [Extent1].[Coupon_Anniversary_Indicator] AS [Coupon_Anniversary_Indicator], 
        [Extent1].[Track_EOM_Flag] AS [Track_EOM_Flag], 
        [Extent1].[Next_Coupon_Date] AS [Next_Coupon_Date], 
        [Extent1].[Previous_Coupon_Date] AS [Previous_Coupon_Date], 
        [Extent1].[Payment_Frequency] AS [Payment_Frequency], 
        [Extent1].[Coupon_BusDay_Adjustment] AS [Coupon_BusDay_Adjustment], 
        [Extent1].[Next_Ex_Div_Date] AS [Next_Ex_Div_Date], 
        [Extent1].[Ex_Div_BusDay_Adjustment] AS [Ex_Div_BusDay_Adjustment], 
        [Extent1].[Ex_Div_Period] AS [Ex_Div_Period], 
        [Extent1].[Ticker] AS [Ticker], 
        [Extent1].[Inet_ID] AS [Inet_ID], 
        [Extent1].[Bloomberg_ID] AS [Bloomberg_ID], 
        [Extent1].[External_Sec_ID] AS [External_Sec_ID], 
        [Extent1].[Reuters_ID] AS [Reuters_ID], 
        [Extent1].[ISIN] AS [ISIN], 
        [Extent1].[Call_Account_Flag] AS [Call_Account_Flag], 
        [Extent1].[System_Locked] AS [System_Locked], 
        [Extent1].[Last_Update_User] AS [Last_Update_User], 
        [Extent1].[Last_Update_Date] AS [Last_Update_Date], 
        [Extent1].[Security_Status] AS [Security_Status], 
        [Extent1].[Benchmark_Portfolio] AS [Benchmark_Portfolio], 
        [Extent1].[Active_flag] AS [Active_flag], 
        [Extent1].[Dividend_FX_Security_ID] AS [Dividend_FX_Security_ID]
        FROM [dbo].[Security_Detail] AS [Extent1]
        WHERE ([Extent1].[Entity_ID] IN (@p__linq__0,@p__linq__1)) AND ((CASE WHEN ( NOT ((N'' = @p__linq__2) AND (@p__linq__2 IS NOT NULL))) THEN CASE WHEN ([Extent1].[Security_Type_Code] = @p__linq__3) THEN cast(1 as bit) WHEN ( NOT (([Extent1].[Security_Type_Code] = @p__linq__3) AND (0 = (CASE WHEN (@p__linq__3 IS NULL) THEN cast(1 as bit) ELSE cast(0 as bit) END)))) THEN cast(0 as bit) END WHEN ('' <> [Extent1].[Security_Type_Code]) THEN cast(1 as bit) WHEN ('' = [Extent1].[Security_Type_Code]) THEN cast(0 as bit) END) = 1)
    )  AS [Project1]
    ORDER BY [Project1].[Security_Name] ASC
2018-04-07 16:51:36.7347|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: SELECT 
    [Project1].[Security_ID] AS [Security_ID], 
    [Project1].[Entity_ID] AS [Entity_ID], 
    [Project1].[Security_Name] AS [Security_Name], 
    [Project1].[Short_Name] AS [Short_Name], 
    [Project1].[Primary_Exch] AS [Primary_Exch], 
    [Project1].[Secondary_Exch] AS [Secondary_Exch], 
    [Project1].[Country_Of_Domicile] AS [Country_Of_Domicile], 
    [Project1].[Country_Of_Risk] AS [Country_Of_Risk], 
    [Project1].[Security_Type_Code] AS [Security_Type_Code], 
    [Project1].[Price_Multiplier] AS [Price_Multiplier], 
    [Project1].[Income_Frequency] AS [Income_Frequency], 
    [Project1].[Issuer_Code] AS [Issuer_Code], 
    [Project1].[Ultimate_Issuer_Code] AS [Ultimate_Issuer_Code], 
    [Project1].[Asset_Currency] AS [Asset_Currency], 
    [Project1].[Min_Lot_Size] AS [Min_Lot_Size], 
    [Project1].[Decimal_Precision] AS [Decimal_Precision], 
    [Project1].[AvePrice_Rounding] AS [AvePrice_Rounding], 
    [Project1].[Issue_Date] AS [Issue_Date], 
    [Project1].[Maturity_Date] AS [Maturity_Date], 
    [Project1].[Coupon_Rate] AS [Coupon_Rate], 
    [Project1].[Price_Exchange] AS [Price_Exchange], 
    [Project1].[Trade_Currency] AS [Trade_Currency], 
    [Project1].[Price_Curr] AS [Price_Curr], 
    [Project1].[Currency_Pair_Code] AS [Currency_Pair_Code], 
    [Project1].[Share_Class] AS [Share_Class], 
    [Project1].[Current_Market_Price] AS [Current_Market_Price], 
    [Project1].[Index_Type] AS [Index_Type], 
    [Project1].[Clean_Price_Formula] AS [Clean_Price_Formula], 
    [Project1].[Accrued_Income_Price_Formula] AS [Accrued_Income_Price_Formula], 
    [Project1].[Odd_First_Coupon_Date] AS [Odd_First_Coupon_Date], 
    [Project1].[Odd_Last_Coupon_Date] AS [Odd_Last_Coupon_Date], 
    [Project1].[Coupon_Anniversary_Indicator] AS [Coupon_Anniversary_Indicator], 
    [Project1].[Track_EOM_Flag] AS [Track_EOM_Flag], 
    [Project1].[Next_Coupon_Date] AS [Next_Coupon_Date], 
    [Project1].[Previous_Coupon_Date] AS [Previous_Coupon_Date], 
    [Project1].[Payment_Frequency] AS [Payment_Frequency], 
    [Project1].[Coupon_BusDay_Adjustment] AS [Coupon_BusDay_Adjustment], 
    [Project1].[Next_Ex_Div_Date] AS [Next_Ex_Div_Date], 
    [Project1].[Ex_Div_BusDay_Adjustment] AS [Ex_Div_BusDay_Adjustment], 
    [Project1].[Ex_Div_Period] AS [Ex_Div_Period], 
    [Project1].[Ticker] AS [Ticker], 
    [Project1].[Inet_ID] AS [Inet_ID], 
    [Project1].[Bloomberg_ID] AS [Bloomberg_ID], 
    [Project1].[External_Sec_ID] AS [External_Sec_ID], 
    [Project1].[Reuters_ID] AS [Reuters_ID], 
    [Project1].[ISIN] AS [ISIN], 
    [Project1].[Call_Account_Flag] AS [Call_Account_Flag], 
    [Project1].[System_Locked] AS [System_Locked], 
    [Project1].[Last_Update_User] AS [Last_Update_User], 
    [Project1].[Last_Update_Date] AS [Last_Update_Date], 
    [Project1].[Security_Status] AS [Security_Status], 
    [Project1].[Benchmark_Portfolio] AS [Benchmark_Portfolio], 
    [Project1].[Active_flag] AS [Active_flag], 
    [Project1].[Dividend_FX_Security_ID] AS [Dividend_FX_Security_ID]
    FROM ( SELECT 
        [Extent1].[Security_ID] AS [Security_ID], 
        [Extent1].[Entity_ID] AS [Entity_ID], 
        [Extent1].[Security_Name] AS [Security_Name], 
        [Extent1].[Short_Name] AS [Short_Name], 
        [Extent1].[Primary_Exch] AS [Primary_Exch], 
        [Extent1].[Secondary_Exch] AS [Secondary_Exch], 
        [Extent1].[Country_Of_Domicile] AS [Country_Of_Domicile], 
        [Extent1].[Country_Of_Risk] AS [Country_Of_Risk], 
        [Extent1].[Security_Type_Code] AS [Security_Type_Code], 
        [Extent1].[Price_Multiplier] AS [Price_Multiplier], 
        [Extent1].[Income_Frequency] AS [Income_Frequency], 
        [Extent1].[Issuer_Code] AS [Issuer_Code], 
        [Extent1].[Ultimate_Issuer_Code] AS [Ultimate_Issuer_Code], 
        [Extent1].[Asset_Currency] AS [Asset_Currency], 
        [Extent1].[Min_Lot_Size] AS [Min_Lot_Size], 
        [Extent1].[Decimal_Precision] AS [Decimal_Precision], 
        [Extent1].[AvePrice_Rounding] AS [AvePrice_Rounding], 
        [Extent1].[Issue_Date] AS [Issue_Date], 
        [Extent1].[Maturity_Date] AS [Maturity_Date], 
        [Extent1].[Coupon_Rate] AS [Coupon_Rate], 
        [Extent1].[Price_Exchange] AS [Price_Exchange], 
        [Extent1].[Trade_Currency] AS [Trade_Currency], 
        [Extent1].[Price_Curr] AS [Price_Curr], 
        [Extent1].[Currency_Pair_Code] AS [Currency_Pair_Code], 
        [Extent1].[Share_Class] AS [Share_Class], 
        [Extent1].[Current_Market_Price] AS [Current_Market_Price], 
        [Extent1].[Index_Type] AS [Index_Type], 
        [Extent1].[Clean_Price_Formula] AS [Clean_Price_Formula], 
        [Extent1].[Accrued_Income_Price_Formula] AS [Accrued_Income_Price_Formula], 
        [Extent1].[Odd_First_Coupon_Date] AS [Odd_First_Coupon_Date], 
        [Extent1].[Odd_Last_Coupon_Date] AS [Odd_Last_Coupon_Date], 
        [Extent1].[Coupon_Anniversary_Indicator] AS [Coupon_Anniversary_Indicator], 
        [Extent1].[Track_EOM_Flag] AS [Track_EOM_Flag], 
        [Extent1].[Next_Coupon_Date] AS [Next_Coupon_Date], 
        [Extent1].[Previous_Coupon_Date] AS [Previous_Coupon_Date], 
        [Extent1].[Payment_Frequency] AS [Payment_Frequency], 
        [Extent1].[Coupon_BusDay_Adjustment] AS [Coupon_BusDay_Adjustment], 
        [Extent1].[Next_Ex_Div_Date] AS [Next_Ex_Div_Date], 
        [Extent1].[Ex_Div_BusDay_Adjustment] AS [Ex_Div_BusDay_Adjustment], 
        [Extent1].[Ex_Div_Period] AS [Ex_Div_Period], 
        [Extent1].[Ticker] AS [Ticker], 
        [Extent1].[Inet_ID] AS [Inet_ID], 
        [Extent1].[Bloomberg_ID] AS [Bloomberg_ID], 
        [Extent1].[External_Sec_ID] AS [External_Sec_ID], 
        [Extent1].[Reuters_ID] AS [Reuters_ID], 
        [Extent1].[ISIN] AS [ISIN], 
        [Extent1].[Call_Account_Flag] AS [Call_Account_Flag], 
        [Extent1].[System_Locked] AS [System_Locked], 
        [Extent1].[Last_Update_User] AS [Last_Update_User], 
        [Extent1].[Last_Update_Date] AS [Last_Update_Date], 
        [Extent1].[Security_Status] AS [Security_Status], 
        [Extent1].[Benchmark_Portfolio] AS [Benchmark_Portfolio], 
        [Extent1].[Active_flag] AS [Active_flag], 
        [Extent1].[Dividend_FX_Security_ID] AS [Dividend_FX_Security_ID]
        FROM [dbo].[Security_Detail] AS [Extent1]
        WHERE ([Extent1].[Entity_ID] IN (@p__linq__0,@p__linq__1)) AND ((CASE WHEN ( NOT ((N'' = @p__linq__2) AND (@p__linq__2 IS NOT NULL))) THEN CASE WHEN ([Extent1].[Security_Type_Code] = @p__linq__3) THEN cast(1 as bit) WHEN ( NOT (([Extent1].[Security_Type_Code] = @p__linq__3) AND (0 = (CASE WHEN (@p__linq__3 IS NULL) THEN cast(1 as bit) ELSE cast(0 as bit) END)))) THEN cast(0 as bit) END WHEN ('' <> [Extent1].[Security_Type_Code]) THEN cast(1 as bit) WHEN ('' = [Extent1].[Security_Type_Code]) THEN cast(0 as bit) END) = 1)
    )  AS [Project1]
    ORDER BY [Project1].[Security_Name] ASC
2018-04-07 16:51:36.7652|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: IF db_id(N'MetopeAzureDb') IS NOT NULL SELECT 1 ELSE SELECT Count(*) FROM sys.databases WHERE [name]=N'MetopeAzureDb'
2018-04-07 16:51:36.7847|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: IF db_id(N'MetopeAzureDb') IS NOT NULL SELECT 1 ELSE SELECT Count(*) FROM sys.databases WHERE [name]=N'MetopeAzureDb'
2018-04-07 16:51:36.8067|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: IF db_id(N'MetopeAzureDb') IS NOT NULL SELECT 1 ELSE SELECT Count(*) FROM sys.databases WHERE [name]=N'MetopeAzureDb'
2018-04-07 16:51:36.8268|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: IF db_id(N'MetopeAzureDb') IS NOT NULL SELECT 1 ELSE SELECT Count(*) FROM sys.databases WHERE [name]=N'MetopeAzureDb'
2018-04-07 16:51:38.2969|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: SELECT 
    [Extent1].[Security_ID] AS [Security_ID], 
    [Extent1].[Portfolio_Code] AS [Portfolio_Code], 
    [Extent1].[Entity_ID] AS [Entity_ID], 
    [Extent1].[ModDietz_Performance_Quarterly] AS [ModDietz_Performance_Quarterly], 
    [Extent1].[ModDietz_Performance_Monthly] AS [ModDietz_Performance_Monthly], 
    [Extent1].[ModDietz_Performance_MonthToDate] AS [ModDietz_Performance_MonthToDate], 
    [Extent1].[Dietz_Performance_Quarterly] AS [Dietz_Performance_Quarterly], 
    [Extent1].[Dietz_Performance_Monthly] AS [Dietz_Performance_Monthly], 
    [Extent1].[Dietz_Performance_MonthToDate] AS [Dietz_Performance_MonthToDate], 
    [Extent1].[Last_Update_Date] AS [Last_Update_Date], 
    [Extent1].[Last_Update_User] AS [Last_Update_User], 
    [Extent1].[Record_Date] AS [Record_Date], 
    [Extent1].[Session_ID] AS [Session_ID], 
    [Extent1].[Hist_Last_Update_Date] AS [Hist_Last_Update_Date], 
    [Extent1].[Hist_Last_Update_User] AS [Hist_Last_Update_User]
    FROM [dbo].[Security_Performance_History] AS [Extent1]
    WHERE ([Extent1].[Security_ID] = @p__linq__0) AND ([Extent1].[Portfolio_Code] = @p__linq__1) AND ([Extent1].[Record_Date] = @p__linq__2) AND ([Extent1].[Entity_ID] = @p__linq__3)
2018-04-07 16:51:38.3210|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: SELECT 
    [Extent1].[Security_ID] AS [Security_ID], 
    [Extent1].[Portfolio_Code] AS [Portfolio_Code], 
    [Extent1].[Entity_ID] AS [Entity_ID], 
    [Extent1].[ModDietz_Performance_Quarterly] AS [ModDietz_Performance_Quarterly], 
    [Extent1].[ModDietz_Performance_Monthly] AS [ModDietz_Performance_Monthly], 
    [Extent1].[ModDietz_Performance_MonthToDate] AS [ModDietz_Performance_MonthToDate], 
    [Extent1].[Dietz_Performance_Quarterly] AS [Dietz_Performance_Quarterly], 
    [Extent1].[Dietz_Performance_Monthly] AS [Dietz_Performance_Monthly], 
    [Extent1].[Dietz_Performance_MonthToDate] AS [Dietz_Performance_MonthToDate], 
    [Extent1].[Last_Update_Date] AS [Last_Update_Date], 
    [Extent1].[Last_Update_User] AS [Last_Update_User], 
    [Extent1].[Record_Date] AS [Record_Date], 
    [Extent1].[Session_ID] AS [Session_ID], 
    [Extent1].[Hist_Last_Update_Date] AS [Hist_Last_Update_Date], 
    [Extent1].[Hist_Last_Update_User] AS [Hist_Last_Update_User]
    FROM [dbo].[Security_Performance_History] AS [Extent1]
    WHERE ([Extent1].[Security_ID] = @p__linq__0) AND ([Extent1].[Portfolio_Code] = @p__linq__1) AND ([Extent1].[Record_Date] = @p__linq__2) AND ([Extent1].[Entity_ID] = @p__linq__3)
2018-04-07 16:51:38.3550|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: SELECT 
    [Extent1].[Security_ID] AS [Security_ID], 
    [Extent1].[Entity_ID] AS [Entity_ID], 
    [Extent1].[Security_Name] AS [Security_Name], 
    [Extent1].[Short_Name] AS [Short_Name], 
    [Extent1].[Primary_Exch] AS [Primary_Exch], 
    [Extent1].[Secondary_Exch] AS [Secondary_Exch], 
    [Extent1].[Country_Of_Domicile] AS [Country_Of_Domicile], 
    [Extent1].[Country_Of_Risk] AS [Country_Of_Risk], 
    [Extent1].[Security_Type_Code] AS [Security_Type_Code], 
    [Extent1].[Price_Multiplier] AS [Price_Multiplier], 
    [Extent1].[Income_Frequency] AS [Income_Frequency], 
    [Extent1].[Issuer_Code] AS [Issuer_Code], 
    [Extent1].[Ultimate_Issuer_Code] AS [Ultimate_Issuer_Code], 
    [Extent1].[Asset_Currency] AS [Asset_Currency], 
    [Extent1].[Min_Lot_Size] AS [Min_Lot_Size], 
    [Extent1].[Decimal_Precision] AS [Decimal_Precision], 
    [Extent1].[AvePrice_Rounding] AS [AvePrice_Rounding], 
    [Extent1].[Issue_Date] AS [Issue_Date], 
    [Extent1].[Maturity_Date] AS [Maturity_Date], 
    [Extent1].[Coupon_Rate] AS [Coupon_Rate], 
    [Extent1].[Price_Exchange] AS [Price_Exchange], 
    [Extent1].[Trade_Currency] AS [Trade_Currency], 
    [Extent1].[Price_Curr] AS [Price_Curr], 
    [Extent1].[Currency_Pair_Code] AS [Currency_Pair_Code], 
    [Extent1].[Share_Class] AS [Share_Class], 
    [Extent1].[Current_Market_Price] AS [Current_Market_Price], 
    [Extent1].[Index_Type] AS [Index_Type], 
    [Extent1].[Clean_Price_Formula] AS [Clean_Price_Formula], 
    [Extent1].[Accrued_Income_Price_Formula] AS [Accrued_Income_Price_Formula], 
    [Extent1].[Odd_First_Coupon_Date] AS [Odd_First_Coupon_Date], 
    [Extent1].[Odd_Last_Coupon_Date] AS [Odd_Last_Coupon_Date], 
    [Extent1].[Coupon_Anniversary_Indicator] AS [Coupon_Anniversary_Indicator], 
    [Extent1].[Track_EOM_Flag] AS [Track_EOM_Flag], 
    [Extent1].[Next_Coupon_Date] AS [Next_Coupon_Date], 
    [Extent1].[Previous_Coupon_Date] AS [Previous_Coupon_Date], 
    [Extent1].[Payment_Frequency] AS [Payment_Frequency], 
    [Extent1].[Coupon_BusDay_Adjustment] AS [Coupon_BusDay_Adjustment], 
    [Extent1].[Next_Ex_Div_Date] AS [Next_Ex_Div_Date], 
    [Extent1].[Ex_Div_BusDay_Adjustment] AS [Ex_Div_BusDay_Adjustment], 
    [Extent1].[Ex_Div_Period] AS [Ex_Div_Period], 
    [Extent1].[Ticker] AS [Ticker], 
    [Extent1].[Inet_ID] AS [Inet_ID], 
    [Extent1].[Bloomberg_ID] AS [Bloomberg_ID], 
    [Extent1].[External_Sec_ID] AS [External_Sec_ID], 
    [Extent1].[Reuters_ID] AS [Reuters_ID], 
    [Extent1].[ISIN] AS [ISIN], 
    [Extent1].[Call_Account_Flag] AS [Call_Account_Flag], 
    [Extent1].[System_Locked] AS [System_Locked], 
    [Extent1].[Last_Update_User] AS [Last_Update_User], 
    [Extent1].[Last_Update_Date] AS [Last_Update_Date], 
    [Extent1].[Security_Status] AS [Security_Status], 
    [Extent1].[Benchmark_Portfolio] AS [Benchmark_Portfolio], 
    [Extent1].[Active_flag] AS [Active_flag], 
    [Extent1].[Dividend_FX_Security_ID] AS [Dividend_FX_Security_ID]
    FROM [dbo].[Security_Detail] AS [Extent1]
    WHERE [Extent1].[Security_ID] = @EntityKeyValue1
2018-04-07 16:51:38.3815|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: SELECT 
    [Extent1].[Security_ID] AS [Security_ID], 
    [Extent1].[Entity_ID] AS [Entity_ID], 
    [Extent1].[Security_Name] AS [Security_Name], 
    [Extent1].[Short_Name] AS [Short_Name], 
    [Extent1].[Primary_Exch] AS [Primary_Exch], 
    [Extent1].[Secondary_Exch] AS [Secondary_Exch], 
    [Extent1].[Country_Of_Domicile] AS [Country_Of_Domicile], 
    [Extent1].[Country_Of_Risk] AS [Country_Of_Risk], 
    [Extent1].[Security_Type_Code] AS [Security_Type_Code], 
    [Extent1].[Price_Multiplier] AS [Price_Multiplier], 
    [Extent1].[Income_Frequency] AS [Income_Frequency], 
    [Extent1].[Issuer_Code] AS [Issuer_Code], 
    [Extent1].[Ultimate_Issuer_Code] AS [Ultimate_Issuer_Code], 
    [Extent1].[Asset_Currency] AS [Asset_Currency], 
    [Extent1].[Min_Lot_Size] AS [Min_Lot_Size], 
    [Extent1].[Decimal_Precision] AS [Decimal_Precision], 
    [Extent1].[AvePrice_Rounding] AS [AvePrice_Rounding], 
    [Extent1].[Issue_Date] AS [Issue_Date], 
    [Extent1].[Maturity_Date] AS [Maturity_Date], 
    [Extent1].[Coupon_Rate] AS [Coupon_Rate], 
    [Extent1].[Price_Exchange] AS [Price_Exchange], 
    [Extent1].[Trade_Currency] AS [Trade_Currency], 
    [Extent1].[Price_Curr] AS [Price_Curr], 
    [Extent1].[Currency_Pair_Code] AS [Currency_Pair_Code], 
    [Extent1].[Share_Class] AS [Share_Class], 
    [Extent1].[Current_Market_Price] AS [Current_Market_Price], 
    [Extent1].[Index_Type] AS [Index_Type], 
    [Extent1].[Clean_Price_Formula] AS [Clean_Price_Formula], 
    [Extent1].[Accrued_Income_Price_Formula] AS [Accrued_Income_Price_Formula], 
    [Extent1].[Odd_First_Coupon_Date] AS [Odd_First_Coupon_Date], 
    [Extent1].[Odd_Last_Coupon_Date] AS [Odd_Last_Coupon_Date], 
    [Extent1].[Coupon_Anniversary_Indicator] AS [Coupon_Anniversary_Indicator], 
    [Extent1].[Track_EOM_Flag] AS [Track_EOM_Flag], 
    [Extent1].[Next_Coupon_Date] AS [Next_Coupon_Date], 
    [Extent1].[Previous_Coupon_Date] AS [Previous_Coupon_Date], 
    [Extent1].[Payment_Frequency] AS [Payment_Frequency], 
    [Extent1].[Coupon_BusDay_Adjustment] AS [Coupon_BusDay_Adjustment], 
    [Extent1].[Next_Ex_Div_Date] AS [Next_Ex_Div_Date], 
    [Extent1].[Ex_Div_BusDay_Adjustment] AS [Ex_Div_BusDay_Adjustment], 
    [Extent1].[Ex_Div_Period] AS [Ex_Div_Period], 
    [Extent1].[Ticker] AS [Ticker], 
    [Extent1].[Inet_ID] AS [Inet_ID], 
    [Extent1].[Bloomberg_ID] AS [Bloomberg_ID], 
    [Extent1].[External_Sec_ID] AS [External_Sec_ID], 
    [Extent1].[Reuters_ID] AS [Reuters_ID], 
    [Extent1].[ISIN] AS [ISIN], 
    [Extent1].[Call_Account_Flag] AS [Call_Account_Flag], 
    [Extent1].[System_Locked] AS [System_Locked], 
    [Extent1].[Last_Update_User] AS [Last_Update_User], 
    [Extent1].[Last_Update_Date] AS [Last_Update_Date], 
    [Extent1].[Security_Status] AS [Security_Status], 
    [Extent1].[Benchmark_Portfolio] AS [Benchmark_Portfolio], 
    [Extent1].[Active_flag] AS [Active_flag], 
    [Extent1].[Dividend_FX_Security_ID] AS [Dividend_FX_Security_ID]
    FROM [dbo].[Security_Detail] AS [Extent1]
    WHERE [Extent1].[Security_ID] = @EntityKeyValue1
2018-04-07 16:51:38.4120|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: SELECT 
    [Project1].[Security_ID] AS [Security_ID], 
    [Project1].[Entity_ID] AS [Entity_ID], 
    [Project1].[Security_Name] AS [Security_Name], 
    [Project1].[Short_Name] AS [Short_Name], 
    [Project1].[Primary_Exch] AS [Primary_Exch], 
    [Project1].[Secondary_Exch] AS [Secondary_Exch], 
    [Project1].[Country_Of_Domicile] AS [Country_Of_Domicile], 
    [Project1].[Country_Of_Risk] AS [Country_Of_Risk], 
    [Project1].[Security_Type_Code] AS [Security_Type_Code], 
    [Project1].[Price_Multiplier] AS [Price_Multiplier], 
    [Project1].[Income_Frequency] AS [Income_Frequency], 
    [Project1].[Issuer_Code] AS [Issuer_Code], 
    [Project1].[Ultimate_Issuer_Code] AS [Ultimate_Issuer_Code], 
    [Project1].[Asset_Currency] AS [Asset_Currency], 
    [Project1].[Min_Lot_Size] AS [Min_Lot_Size], 
    [Project1].[Decimal_Precision] AS [Decimal_Precision], 
    [Project1].[AvePrice_Rounding] AS [AvePrice_Rounding], 
    [Project1].[Issue_Date] AS [Issue_Date], 
    [Project1].[Maturity_Date] AS [Maturity_Date], 
    [Project1].[Coupon_Rate] AS [Coupon_Rate], 
    [Project1].[Price_Exchange] AS [Price_Exchange], 
    [Project1].[Trade_Currency] AS [Trade_Currency], 
    [Project1].[Price_Curr] AS [Price_Curr], 
    [Project1].[Currency_Pair_Code] AS [Currency_Pair_Code], 
    [Project1].[Share_Class] AS [Share_Class], 
    [Project1].[Current_Market_Price] AS [Current_Market_Price], 
    [Project1].[Index_Type] AS [Index_Type], 
    [Project1].[Clean_Price_Formula] AS [Clean_Price_Formula], 
    [Project1].[Accrued_Income_Price_Formula] AS [Accrued_Income_Price_Formula], 
    [Project1].[Odd_First_Coupon_Date] AS [Odd_First_Coupon_Date], 
    [Project1].[Odd_Last_Coupon_Date] AS [Odd_Last_Coupon_Date], 
    [Project1].[Coupon_Anniversary_Indicator] AS [Coupon_Anniversary_Indicator], 
    [Project1].[Track_EOM_Flag] AS [Track_EOM_Flag], 
    [Project1].[Next_Coupon_Date] AS [Next_Coupon_Date], 
    [Project1].[Previous_Coupon_Date] AS [Previous_Coupon_Date], 
    [Project1].[Payment_Frequency] AS [Payment_Frequency], 
    [Project1].[Coupon_BusDay_Adjustment] AS [Coupon_BusDay_Adjustment], 
    [Project1].[Next_Ex_Div_Date] AS [Next_Ex_Div_Date], 
    [Project1].[Ex_Div_BusDay_Adjustment] AS [Ex_Div_BusDay_Adjustment], 
    [Project1].[Ex_Div_Period] AS [Ex_Div_Period], 
    [Project1].[Ticker] AS [Ticker], 
    [Project1].[Inet_ID] AS [Inet_ID], 
    [Project1].[Bloomberg_ID] AS [Bloomberg_ID], 
    [Project1].[External_Sec_ID] AS [External_Sec_ID], 
    [Project1].[Reuters_ID] AS [Reuters_ID], 
    [Project1].[ISIN] AS [ISIN], 
    [Project1].[Call_Account_Flag] AS [Call_Account_Flag], 
    [Project1].[System_Locked] AS [System_Locked], 
    [Project1].[Last_Update_User] AS [Last_Update_User], 
    [Project1].[Last_Update_Date] AS [Last_Update_Date], 
    [Project1].[Security_Status] AS [Security_Status], 
    [Project1].[Benchmark_Portfolio] AS [Benchmark_Portfolio], 
    [Project1].[Active_flag] AS [Active_flag], 
    [Project1].[Dividend_FX_Security_ID] AS [Dividend_FX_Security_ID]
    FROM ( SELECT 
        [Extent1].[Security_ID] AS [Security_ID], 
        [Extent1].[Entity_ID] AS [Entity_ID], 
        [Extent1].[Security_Name] AS [Security_Name], 
        [Extent1].[Short_Name] AS [Short_Name], 
        [Extent1].[Primary_Exch] AS [Primary_Exch], 
        [Extent1].[Secondary_Exch] AS [Secondary_Exch], 
        [Extent1].[Country_Of_Domicile] AS [Country_Of_Domicile], 
        [Extent1].[Country_Of_Risk] AS [Country_Of_Risk], 
        [Extent1].[Security_Type_Code] AS [Security_Type_Code], 
        [Extent1].[Price_Multiplier] AS [Price_Multiplier], 
        [Extent1].[Income_Frequency] AS [Income_Frequency], 
        [Extent1].[Issuer_Code] AS [Issuer_Code], 
        [Extent1].[Ultimate_Issuer_Code] AS [Ultimate_Issuer_Code], 
        [Extent1].[Asset_Currency] AS [Asset_Currency], 
        [Extent1].[Min_Lot_Size] AS [Min_Lot_Size], 
        [Extent1].[Decimal_Precision] AS [Decimal_Precision], 
        [Extent1].[AvePrice_Rounding] AS [AvePrice_Rounding], 
        [Extent1].[Issue_Date] AS [Issue_Date], 
        [Extent1].[Maturity_Date] AS [Maturity_Date], 
        [Extent1].[Coupon_Rate] AS [Coupon_Rate], 
        [Extent1].[Price_Exchange] AS [Price_Exchange], 
        [Extent1].[Trade_Currency] AS [Trade_Currency], 
        [Extent1].[Price_Curr] AS [Price_Curr], 
        [Extent1].[Currency_Pair_Code] AS [Currency_Pair_Code], 
        [Extent1].[Share_Class] AS [Share_Class], 
        [Extent1].[Current_Market_Price] AS [Current_Market_Price], 
        [Extent1].[Index_Type] AS [Index_Type], 
        [Extent1].[Clean_Price_Formula] AS [Clean_Price_Formula], 
        [Extent1].[Accrued_Income_Price_Formula] AS [Accrued_Income_Price_Formula], 
        [Extent1].[Odd_First_Coupon_Date] AS [Odd_First_Coupon_Date], 
        [Extent1].[Odd_Last_Coupon_Date] AS [Odd_Last_Coupon_Date], 
        [Extent1].[Coupon_Anniversary_Indicator] AS [Coupon_Anniversary_Indicator], 
        [Extent1].[Track_EOM_Flag] AS [Track_EOM_Flag], 
        [Extent1].[Next_Coupon_Date] AS [Next_Coupon_Date], 
        [Extent1].[Previous_Coupon_Date] AS [Previous_Coupon_Date], 
        [Extent1].[Payment_Frequency] AS [Payment_Frequency], 
        [Extent1].[Coupon_BusDay_Adjustment] AS [Coupon_BusDay_Adjustment], 
        [Extent1].[Next_Ex_Div_Date] AS [Next_Ex_Div_Date], 
        [Extent1].[Ex_Div_BusDay_Adjustment] AS [Ex_Div_BusDay_Adjustment], 
        [Extent1].[Ex_Div_Period] AS [Ex_Div_Period], 
        [Extent1].[Ticker] AS [Ticker], 
        [Extent1].[Inet_ID] AS [Inet_ID], 
        [Extent1].[Bloomberg_ID] AS [Bloomberg_ID], 
        [Extent1].[External_Sec_ID] AS [External_Sec_ID], 
        [Extent1].[Reuters_ID] AS [Reuters_ID], 
        [Extent1].[ISIN] AS [ISIN], 
        [Extent1].[Call_Account_Flag] AS [Call_Account_Flag], 
        [Extent1].[System_Locked] AS [System_Locked], 
        [Extent1].[Last_Update_User] AS [Last_Update_User], 
        [Extent1].[Last_Update_Date] AS [Last_Update_Date], 
        [Extent1].[Security_Status] AS [Security_Status], 
        [Extent1].[Benchmark_Portfolio] AS [Benchmark_Portfolio], 
        [Extent1].[Active_flag] AS [Active_flag], 
        [Extent1].[Dividend_FX_Security_ID] AS [Dividend_FX_Security_ID]
        FROM [dbo].[Security_Detail] AS [Extent1]
        WHERE ([Extent1].[Entity_ID] IN (@p__linq__0,@p__linq__1)) AND ((CASE WHEN ( NOT ((N'' = @p__linq__2) AND (@p__linq__2 IS NOT NULL))) THEN CASE WHEN ([Extent1].[Security_Type_Code] = @p__linq__3) THEN cast(1 as bit) WHEN ( NOT (([Extent1].[Security_Type_Code] = @p__linq__3) AND (0 = (CASE WHEN (@p__linq__3 IS NULL) THEN cast(1 as bit) ELSE cast(0 as bit) END)))) THEN cast(0 as bit) END WHEN ('' <> [Extent1].[Security_Type_Code]) THEN cast(1 as bit) WHEN ('' = [Extent1].[Security_Type_Code]) THEN cast(0 as bit) END) = 1)
    )  AS [Project1]
    ORDER BY [Project1].[Security_Name] ASC
2018-04-07 16:51:38.4410|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: SELECT 
    [Project1].[Security_ID] AS [Security_ID], 
    [Project1].[Entity_ID] AS [Entity_ID], 
    [Project1].[Security_Name] AS [Security_Name], 
    [Project1].[Short_Name] AS [Short_Name], 
    [Project1].[Primary_Exch] AS [Primary_Exch], 
    [Project1].[Secondary_Exch] AS [Secondary_Exch], 
    [Project1].[Country_Of_Domicile] AS [Country_Of_Domicile], 
    [Project1].[Country_Of_Risk] AS [Country_Of_Risk], 
    [Project1].[Security_Type_Code] AS [Security_Type_Code], 
    [Project1].[Price_Multiplier] AS [Price_Multiplier], 
    [Project1].[Income_Frequency] AS [Income_Frequency], 
    [Project1].[Issuer_Code] AS [Issuer_Code], 
    [Project1].[Ultimate_Issuer_Code] AS [Ultimate_Issuer_Code], 
    [Project1].[Asset_Currency] AS [Asset_Currency], 
    [Project1].[Min_Lot_Size] AS [Min_Lot_Size], 
    [Project1].[Decimal_Precision] AS [Decimal_Precision], 
    [Project1].[AvePrice_Rounding] AS [AvePrice_Rounding], 
    [Project1].[Issue_Date] AS [Issue_Date], 
    [Project1].[Maturity_Date] AS [Maturity_Date], 
    [Project1].[Coupon_Rate] AS [Coupon_Rate], 
    [Project1].[Price_Exchange] AS [Price_Exchange], 
    [Project1].[Trade_Currency] AS [Trade_Currency], 
    [Project1].[Price_Curr] AS [Price_Curr], 
    [Project1].[Currency_Pair_Code] AS [Currency_Pair_Code], 
    [Project1].[Share_Class] AS [Share_Class], 
    [Project1].[Current_Market_Price] AS [Current_Market_Price], 
    [Project1].[Index_Type] AS [Index_Type], 
    [Project1].[Clean_Price_Formula] AS [Clean_Price_Formula], 
    [Project1].[Accrued_Income_Price_Formula] AS [Accrued_Income_Price_Formula], 
    [Project1].[Odd_First_Coupon_Date] AS [Odd_First_Coupon_Date], 
    [Project1].[Odd_Last_Coupon_Date] AS [Odd_Last_Coupon_Date], 
    [Project1].[Coupon_Anniversary_Indicator] AS [Coupon_Anniversary_Indicator], 
    [Project1].[Track_EOM_Flag] AS [Track_EOM_Flag], 
    [Project1].[Next_Coupon_Date] AS [Next_Coupon_Date], 
    [Project1].[Previous_Coupon_Date] AS [Previous_Coupon_Date], 
    [Project1].[Payment_Frequency] AS [Payment_Frequency], 
    [Project1].[Coupon_BusDay_Adjustment] AS [Coupon_BusDay_Adjustment], 
    [Project1].[Next_Ex_Div_Date] AS [Next_Ex_Div_Date], 
    [Project1].[Ex_Div_BusDay_Adjustment] AS [Ex_Div_BusDay_Adjustment], 
    [Project1].[Ex_Div_Period] AS [Ex_Div_Period], 
    [Project1].[Ticker] AS [Ticker], 
    [Project1].[Inet_ID] AS [Inet_ID], 
    [Project1].[Bloomberg_ID] AS [Bloomberg_ID], 
    [Project1].[External_Sec_ID] AS [External_Sec_ID], 
    [Project1].[Reuters_ID] AS [Reuters_ID], 
    [Project1].[ISIN] AS [ISIN], 
    [Project1].[Call_Account_Flag] AS [Call_Account_Flag], 
    [Project1].[System_Locked] AS [System_Locked], 
    [Project1].[Last_Update_User] AS [Last_Update_User], 
    [Project1].[Last_Update_Date] AS [Last_Update_Date], 
    [Project1].[Security_Status] AS [Security_Status], 
    [Project1].[Benchmark_Portfolio] AS [Benchmark_Portfolio], 
    [Project1].[Active_flag] AS [Active_flag], 
    [Project1].[Dividend_FX_Security_ID] AS [Dividend_FX_Security_ID]
    FROM ( SELECT 
        [Extent1].[Security_ID] AS [Security_ID], 
        [Extent1].[Entity_ID] AS [Entity_ID], 
        [Extent1].[Security_Name] AS [Security_Name], 
        [Extent1].[Short_Name] AS [Short_Name], 
        [Extent1].[Primary_Exch] AS [Primary_Exch], 
        [Extent1].[Secondary_Exch] AS [Secondary_Exch], 
        [Extent1].[Country_Of_Domicile] AS [Country_Of_Domicile], 
        [Extent1].[Country_Of_Risk] AS [Country_Of_Risk], 
        [Extent1].[Security_Type_Code] AS [Security_Type_Code], 
        [Extent1].[Price_Multiplier] AS [Price_Multiplier], 
        [Extent1].[Income_Frequency] AS [Income_Frequency], 
        [Extent1].[Issuer_Code] AS [Issuer_Code], 
        [Extent1].[Ultimate_Issuer_Code] AS [Ultimate_Issuer_Code], 
        [Extent1].[Asset_Currency] AS [Asset_Currency], 
        [Extent1].[Min_Lot_Size] AS [Min_Lot_Size], 
        [Extent1].[Decimal_Precision] AS [Decimal_Precision], 
        [Extent1].[AvePrice_Rounding] AS [AvePrice_Rounding], 
        [Extent1].[Issue_Date] AS [Issue_Date], 
        [Extent1].[Maturity_Date] AS [Maturity_Date], 
        [Extent1].[Coupon_Rate] AS [Coupon_Rate], 
        [Extent1].[Price_Exchange] AS [Price_Exchange], 
        [Extent1].[Trade_Currency] AS [Trade_Currency], 
        [Extent1].[Price_Curr] AS [Price_Curr], 
        [Extent1].[Currency_Pair_Code] AS [Currency_Pair_Code], 
        [Extent1].[Share_Class] AS [Share_Class], 
        [Extent1].[Current_Market_Price] AS [Current_Market_Price], 
        [Extent1].[Index_Type] AS [Index_Type], 
        [Extent1].[Clean_Price_Formula] AS [Clean_Price_Formula], 
        [Extent1].[Accrued_Income_Price_Formula] AS [Accrued_Income_Price_Formula], 
        [Extent1].[Odd_First_Coupon_Date] AS [Odd_First_Coupon_Date], 
        [Extent1].[Odd_Last_Coupon_Date] AS [Odd_Last_Coupon_Date], 
        [Extent1].[Coupon_Anniversary_Indicator] AS [Coupon_Anniversary_Indicator], 
        [Extent1].[Track_EOM_Flag] AS [Track_EOM_Flag], 
        [Extent1].[Next_Coupon_Date] AS [Next_Coupon_Date], 
        [Extent1].[Previous_Coupon_Date] AS [Previous_Coupon_Date], 
        [Extent1].[Payment_Frequency] AS [Payment_Frequency], 
        [Extent1].[Coupon_BusDay_Adjustment] AS [Coupon_BusDay_Adjustment], 
        [Extent1].[Next_Ex_Div_Date] AS [Next_Ex_Div_Date], 
        [Extent1].[Ex_Div_BusDay_Adjustment] AS [Ex_Div_BusDay_Adjustment], 
        [Extent1].[Ex_Div_Period] AS [Ex_Div_Period], 
        [Extent1].[Ticker] AS [Ticker], 
        [Extent1].[Inet_ID] AS [Inet_ID], 
        [Extent1].[Bloomberg_ID] AS [Bloomberg_ID], 
        [Extent1].[External_Sec_ID] AS [External_Sec_ID], 
        [Extent1].[Reuters_ID] AS [Reuters_ID], 
        [Extent1].[ISIN] AS [ISIN], 
        [Extent1].[Call_Account_Flag] AS [Call_Account_Flag], 
        [Extent1].[System_Locked] AS [System_Locked], 
        [Extent1].[Last_Update_User] AS [Last_Update_User], 
        [Extent1].[Last_Update_Date] AS [Last_Update_Date], 
        [Extent1].[Security_Status] AS [Security_Status], 
        [Extent1].[Benchmark_Portfolio] AS [Benchmark_Portfolio], 
        [Extent1].[Active_flag] AS [Active_flag], 
        [Extent1].[Dividend_FX_Security_ID] AS [Dividend_FX_Security_ID]
        FROM [dbo].[Security_Detail] AS [Extent1]
        WHERE ([Extent1].[Entity_ID] IN (@p__linq__0,@p__linq__1)) AND ((CASE WHEN ( NOT ((N'' = @p__linq__2) AND (@p__linq__2 IS NOT NULL))) THEN CASE WHEN ([Extent1].[Security_Type_Code] = @p__linq__3) THEN cast(1 as bit) WHEN ( NOT (([Extent1].[Security_Type_Code] = @p__linq__3) AND (0 = (CASE WHEN (@p__linq__3 IS NULL) THEN cast(1 as bit) ELSE cast(0 as bit) END)))) THEN cast(0 as bit) END WHEN ('' <> [Extent1].[Security_Type_Code]) THEN cast(1 as bit) WHEN ('' = [Extent1].[Security_Type_Code]) THEN cast(0 as bit) END) = 1)
    )  AS [Project1]
    ORDER BY [Project1].[Security_Name] ASC
2018-04-07 16:51:38.4756|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: IF db_id(N'MetopeAzureDb') IS NOT NULL SELECT 1 ELSE SELECT Count(*) FROM sys.databases WHERE [name]=N'MetopeAzureDb'
2018-04-07 16:51:38.4976|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: IF db_id(N'MetopeAzureDb') IS NOT NULL SELECT 1 ELSE SELECT Count(*) FROM sys.databases WHERE [name]=N'MetopeAzureDb'
2018-04-07 16:51:38.5206|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: IF db_id(N'MetopeAzureDb') IS NOT NULL SELECT 1 ELSE SELECT Count(*) FROM sys.databases WHERE [name]=N'MetopeAzureDb'
2018-04-07 16:51:38.5446|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: IF db_id(N'MetopeAzureDb') IS NOT NULL SELECT 1 ELSE SELECT Count(*) FROM sys.databases WHERE [name]=N'MetopeAzureDb'
2018-04-07 16:51:40.0427|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: SELECT 
    [Extent1].[Security_ID] AS [Security_ID], 
    [Extent1].[Portfolio_Code] AS [Portfolio_Code], 
    [Extent1].[Entity_ID] AS [Entity_ID], 
    [Extent1].[ModDietz_Performance_Quarterly] AS [ModDietz_Performance_Quarterly], 
    [Extent1].[ModDietz_Performance_Monthly] AS [ModDietz_Performance_Monthly], 
    [Extent1].[ModDietz_Performance_MonthToDate] AS [ModDietz_Performance_MonthToDate], 
    [Extent1].[Dietz_Performance_Quarterly] AS [Dietz_Performance_Quarterly], 
    [Extent1].[Dietz_Performance_Monthly] AS [Dietz_Performance_Monthly], 
    [Extent1].[Dietz_Performance_MonthToDate] AS [Dietz_Performance_MonthToDate], 
    [Extent1].[Last_Update_Date] AS [Last_Update_Date], 
    [Extent1].[Last_Update_User] AS [Last_Update_User], 
    [Extent1].[Record_Date] AS [Record_Date], 
    [Extent1].[Session_ID] AS [Session_ID], 
    [Extent1].[Hist_Last_Update_Date] AS [Hist_Last_Update_Date], 
    [Extent1].[Hist_Last_Update_User] AS [Hist_Last_Update_User]
    FROM [dbo].[Security_Performance_History] AS [Extent1]
    WHERE ([Extent1].[Security_ID] = @p__linq__0) AND ([Extent1].[Portfolio_Code] = @p__linq__1) AND ([Extent1].[Record_Date] = @p__linq__2) AND ([Extent1].[Entity_ID] = @p__linq__3)
2018-04-07 16:51:40.0757|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: SELECT 
    [Extent1].[Security_ID] AS [Security_ID], 
    [Extent1].[Portfolio_Code] AS [Portfolio_Code], 
    [Extent1].[Entity_ID] AS [Entity_ID], 
    [Extent1].[ModDietz_Performance_Quarterly] AS [ModDietz_Performance_Quarterly], 
    [Extent1].[ModDietz_Performance_Monthly] AS [ModDietz_Performance_Monthly], 
    [Extent1].[ModDietz_Performance_MonthToDate] AS [ModDietz_Performance_MonthToDate], 
    [Extent1].[Dietz_Performance_Quarterly] AS [Dietz_Performance_Quarterly], 
    [Extent1].[Dietz_Performance_Monthly] AS [Dietz_Performance_Monthly], 
    [Extent1].[Dietz_Performance_MonthToDate] AS [Dietz_Performance_MonthToDate], 
    [Extent1].[Last_Update_Date] AS [Last_Update_Date], 
    [Extent1].[Last_Update_User] AS [Last_Update_User], 
    [Extent1].[Record_Date] AS [Record_Date], 
    [Extent1].[Session_ID] AS [Session_ID], 
    [Extent1].[Hist_Last_Update_Date] AS [Hist_Last_Update_Date], 
    [Extent1].[Hist_Last_Update_User] AS [Hist_Last_Update_User]
    FROM [dbo].[Security_Performance_History] AS [Extent1]
    WHERE ([Extent1].[Security_ID] = @p__linq__0) AND ([Extent1].[Portfolio_Code] = @p__linq__1) AND ([Extent1].[Record_Date] = @p__linq__2) AND ([Extent1].[Entity_ID] = @p__linq__3)
2018-04-07 16:51:40.1082|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: SELECT 
    [Extent1].[Security_ID] AS [Security_ID], 
    [Extent1].[Entity_ID] AS [Entity_ID], 
    [Extent1].[Security_Name] AS [Security_Name], 
    [Extent1].[Short_Name] AS [Short_Name], 
    [Extent1].[Primary_Exch] AS [Primary_Exch], 
    [Extent1].[Secondary_Exch] AS [Secondary_Exch], 
    [Extent1].[Country_Of_Domicile] AS [Country_Of_Domicile], 
    [Extent1].[Country_Of_Risk] AS [Country_Of_Risk], 
    [Extent1].[Security_Type_Code] AS [Security_Type_Code], 
    [Extent1].[Price_Multiplier] AS [Price_Multiplier], 
    [Extent1].[Income_Frequency] AS [Income_Frequency], 
    [Extent1].[Issuer_Code] AS [Issuer_Code], 
    [Extent1].[Ultimate_Issuer_Code] AS [Ultimate_Issuer_Code], 
    [Extent1].[Asset_Currency] AS [Asset_Currency], 
    [Extent1].[Min_Lot_Size] AS [Min_Lot_Size], 
    [Extent1].[Decimal_Precision] AS [Decimal_Precision], 
    [Extent1].[AvePrice_Rounding] AS [AvePrice_Rounding], 
    [Extent1].[Issue_Date] AS [Issue_Date], 
    [Extent1].[Maturity_Date] AS [Maturity_Date], 
    [Extent1].[Coupon_Rate] AS [Coupon_Rate], 
    [Extent1].[Price_Exchange] AS [Price_Exchange], 
    [Extent1].[Trade_Currency] AS [Trade_Currency], 
    [Extent1].[Price_Curr] AS [Price_Curr], 
    [Extent1].[Currency_Pair_Code] AS [Currency_Pair_Code], 
    [Extent1].[Share_Class] AS [Share_Class], 
    [Extent1].[Current_Market_Price] AS [Current_Market_Price], 
    [Extent1].[Index_Type] AS [Index_Type], 
    [Extent1].[Clean_Price_Formula] AS [Clean_Price_Formula], 
    [Extent1].[Accrued_Income_Price_Formula] AS [Accrued_Income_Price_Formula], 
    [Extent1].[Odd_First_Coupon_Date] AS [Odd_First_Coupon_Date], 
    [Extent1].[Odd_Last_Coupon_Date] AS [Odd_Last_Coupon_Date], 
    [Extent1].[Coupon_Anniversary_Indicator] AS [Coupon_Anniversary_Indicator], 
    [Extent1].[Track_EOM_Flag] AS [Track_EOM_Flag], 
    [Extent1].[Next_Coupon_Date] AS [Next_Coupon_Date], 
    [Extent1].[Previous_Coupon_Date] AS [Previous_Coupon_Date], 
    [Extent1].[Payment_Frequency] AS [Payment_Frequency], 
    [Extent1].[Coupon_BusDay_Adjustment] AS [Coupon_BusDay_Adjustment], 
    [Extent1].[Next_Ex_Div_Date] AS [Next_Ex_Div_Date], 
    [Extent1].[Ex_Div_BusDay_Adjustment] AS [Ex_Div_BusDay_Adjustment], 
    [Extent1].[Ex_Div_Period] AS [Ex_Div_Period], 
    [Extent1].[Ticker] AS [Ticker], 
    [Extent1].[Inet_ID] AS [Inet_ID], 
    [Extent1].[Bloomberg_ID] AS [Bloomberg_ID], 
    [Extent1].[External_Sec_ID] AS [External_Sec_ID], 
    [Extent1].[Reuters_ID] AS [Reuters_ID], 
    [Extent1].[ISIN] AS [ISIN], 
    [Extent1].[Call_Account_Flag] AS [Call_Account_Flag], 
    [Extent1].[System_Locked] AS [System_Locked], 
    [Extent1].[Last_Update_User] AS [Last_Update_User], 
    [Extent1].[Last_Update_Date] AS [Last_Update_Date], 
    [Extent1].[Security_Status] AS [Security_Status], 
    [Extent1].[Benchmark_Portfolio] AS [Benchmark_Portfolio], 
    [Extent1].[Active_flag] AS [Active_flag], 
    [Extent1].[Dividend_FX_Security_ID] AS [Dividend_FX_Security_ID]
    FROM [dbo].[Security_Detail] AS [Extent1]
    WHERE [Extent1].[Security_ID] = @EntityKeyValue1
2018-04-07 16:51:40.1282|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: SELECT 
    [Extent1].[Security_ID] AS [Security_ID], 
    [Extent1].[Entity_ID] AS [Entity_ID], 
    [Extent1].[Security_Name] AS [Security_Name], 
    [Extent1].[Short_Name] AS [Short_Name], 
    [Extent1].[Primary_Exch] AS [Primary_Exch], 
    [Extent1].[Secondary_Exch] AS [Secondary_Exch], 
    [Extent1].[Country_Of_Domicile] AS [Country_Of_Domicile], 
    [Extent1].[Country_Of_Risk] AS [Country_Of_Risk], 
    [Extent1].[Security_Type_Code] AS [Security_Type_Code], 
    [Extent1].[Price_Multiplier] AS [Price_Multiplier], 
    [Extent1].[Income_Frequency] AS [Income_Frequency], 
    [Extent1].[Issuer_Code] AS [Issuer_Code], 
    [Extent1].[Ultimate_Issuer_Code] AS [Ultimate_Issuer_Code], 
    [Extent1].[Asset_Currency] AS [Asset_Currency], 
    [Extent1].[Min_Lot_Size] AS [Min_Lot_Size], 
    [Extent1].[Decimal_Precision] AS [Decimal_Precision], 
    [Extent1].[AvePrice_Rounding] AS [AvePrice_Rounding], 
    [Extent1].[Issue_Date] AS [Issue_Date], 
    [Extent1].[Maturity_Date] AS [Maturity_Date], 
    [Extent1].[Coupon_Rate] AS [Coupon_Rate], 
    [Extent1].[Price_Exchange] AS [Price_Exchange], 
    [Extent1].[Trade_Currency] AS [Trade_Currency], 
    [Extent1].[Price_Curr] AS [Price_Curr], 
    [Extent1].[Currency_Pair_Code] AS [Currency_Pair_Code], 
    [Extent1].[Share_Class] AS [Share_Class], 
    [Extent1].[Current_Market_Price] AS [Current_Market_Price], 
    [Extent1].[Index_Type] AS [Index_Type], 
    [Extent1].[Clean_Price_Formula] AS [Clean_Price_Formula], 
    [Extent1].[Accrued_Income_Price_Formula] AS [Accrued_Income_Price_Formula], 
    [Extent1].[Odd_First_Coupon_Date] AS [Odd_First_Coupon_Date], 
    [Extent1].[Odd_Last_Coupon_Date] AS [Odd_Last_Coupon_Date], 
    [Extent1].[Coupon_Anniversary_Indicator] AS [Coupon_Anniversary_Indicator], 
    [Extent1].[Track_EOM_Flag] AS [Track_EOM_Flag], 
    [Extent1].[Next_Coupon_Date] AS [Next_Coupon_Date], 
    [Extent1].[Previous_Coupon_Date] AS [Previous_Coupon_Date], 
    [Extent1].[Payment_Frequency] AS [Payment_Frequency], 
    [Extent1].[Coupon_BusDay_Adjustment] AS [Coupon_BusDay_Adjustment], 
    [Extent1].[Next_Ex_Div_Date] AS [Next_Ex_Div_Date], 
    [Extent1].[Ex_Div_BusDay_Adjustment] AS [Ex_Div_BusDay_Adjustment], 
    [Extent1].[Ex_Div_Period] AS [Ex_Div_Period], 
    [Extent1].[Ticker] AS [Ticker], 
    [Extent1].[Inet_ID] AS [Inet_ID], 
    [Extent1].[Bloomberg_ID] AS [Bloomberg_ID], 
    [Extent1].[External_Sec_ID] AS [External_Sec_ID], 
    [Extent1].[Reuters_ID] AS [Reuters_ID], 
    [Extent1].[ISIN] AS [ISIN], 
    [Extent1].[Call_Account_Flag] AS [Call_Account_Flag], 
    [Extent1].[System_Locked] AS [System_Locked], 
    [Extent1].[Last_Update_User] AS [Last_Update_User], 
    [Extent1].[Last_Update_Date] AS [Last_Update_Date], 
    [Extent1].[Security_Status] AS [Security_Status], 
    [Extent1].[Benchmark_Portfolio] AS [Benchmark_Portfolio], 
    [Extent1].[Active_flag] AS [Active_flag], 
    [Extent1].[Dividend_FX_Security_ID] AS [Dividend_FX_Security_ID]
    FROM [dbo].[Security_Detail] AS [Extent1]
    WHERE [Extent1].[Security_ID] = @EntityKeyValue1
2018-04-07 16:51:40.1618|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: SELECT 
    [Project1].[Security_ID] AS [Security_ID], 
    [Project1].[Entity_ID] AS [Entity_ID], 
    [Project1].[Security_Name] AS [Security_Name], 
    [Project1].[Short_Name] AS [Short_Name], 
    [Project1].[Primary_Exch] AS [Primary_Exch], 
    [Project1].[Secondary_Exch] AS [Secondary_Exch], 
    [Project1].[Country_Of_Domicile] AS [Country_Of_Domicile], 
    [Project1].[Country_Of_Risk] AS [Country_Of_Risk], 
    [Project1].[Security_Type_Code] AS [Security_Type_Code], 
    [Project1].[Price_Multiplier] AS [Price_Multiplier], 
    [Project1].[Income_Frequency] AS [Income_Frequency], 
    [Project1].[Issuer_Code] AS [Issuer_Code], 
    [Project1].[Ultimate_Issuer_Code] AS [Ultimate_Issuer_Code], 
    [Project1].[Asset_Currency] AS [Asset_Currency], 
    [Project1].[Min_Lot_Size] AS [Min_Lot_Size], 
    [Project1].[Decimal_Precision] AS [Decimal_Precision], 
    [Project1].[AvePrice_Rounding] AS [AvePrice_Rounding], 
    [Project1].[Issue_Date] AS [Issue_Date], 
    [Project1].[Maturity_Date] AS [Maturity_Date], 
    [Project1].[Coupon_Rate] AS [Coupon_Rate], 
    [Project1].[Price_Exchange] AS [Price_Exchange], 
    [Project1].[Trade_Currency] AS [Trade_Currency], 
    [Project1].[Price_Curr] AS [Price_Curr], 
    [Project1].[Currency_Pair_Code] AS [Currency_Pair_Code], 
    [Project1].[Share_Class] AS [Share_Class], 
    [Project1].[Current_Market_Price] AS [Current_Market_Price], 
    [Project1].[Index_Type] AS [Index_Type], 
    [Project1].[Clean_Price_Formula] AS [Clean_Price_Formula], 
    [Project1].[Accrued_Income_Price_Formula] AS [Accrued_Income_Price_Formula], 
    [Project1].[Odd_First_Coupon_Date] AS [Odd_First_Coupon_Date], 
    [Project1].[Odd_Last_Coupon_Date] AS [Odd_Last_Coupon_Date], 
    [Project1].[Coupon_Anniversary_Indicator] AS [Coupon_Anniversary_Indicator], 
    [Project1].[Track_EOM_Flag] AS [Track_EOM_Flag], 
    [Project1].[Next_Coupon_Date] AS [Next_Coupon_Date], 
    [Project1].[Previous_Coupon_Date] AS [Previous_Coupon_Date], 
    [Project1].[Payment_Frequency] AS [Payment_Frequency], 
    [Project1].[Coupon_BusDay_Adjustment] AS [Coupon_BusDay_Adjustment], 
    [Project1].[Next_Ex_Div_Date] AS [Next_Ex_Div_Date], 
    [Project1].[Ex_Div_BusDay_Adjustment] AS [Ex_Div_BusDay_Adjustment], 
    [Project1].[Ex_Div_Period] AS [Ex_Div_Period], 
    [Project1].[Ticker] AS [Ticker], 
    [Project1].[Inet_ID] AS [Inet_ID], 
    [Project1].[Bloomberg_ID] AS [Bloomberg_ID], 
    [Project1].[External_Sec_ID] AS [External_Sec_ID], 
    [Project1].[Reuters_ID] AS [Reuters_ID], 
    [Project1].[ISIN] AS [ISIN], 
    [Project1].[Call_Account_Flag] AS [Call_Account_Flag], 
    [Project1].[System_Locked] AS [System_Locked], 
    [Project1].[Last_Update_User] AS [Last_Update_User], 
    [Project1].[Last_Update_Date] AS [Last_Update_Date], 
    [Project1].[Security_Status] AS [Security_Status], 
    [Project1].[Benchmark_Portfolio] AS [Benchmark_Portfolio], 
    [Project1].[Active_flag] AS [Active_flag], 
    [Project1].[Dividend_FX_Security_ID] AS [Dividend_FX_Security_ID]
    FROM ( SELECT 
        [Extent1].[Security_ID] AS [Security_ID], 
        [Extent1].[Entity_ID] AS [Entity_ID], 
        [Extent1].[Security_Name] AS [Security_Name], 
        [Extent1].[Short_Name] AS [Short_Name], 
        [Extent1].[Primary_Exch] AS [Primary_Exch], 
        [Extent1].[Secondary_Exch] AS [Secondary_Exch], 
        [Extent1].[Country_Of_Domicile] AS [Country_Of_Domicile], 
        [Extent1].[Country_Of_Risk] AS [Country_Of_Risk], 
        [Extent1].[Security_Type_Code] AS [Security_Type_Code], 
        [Extent1].[Price_Multiplier] AS [Price_Multiplier], 
        [Extent1].[Income_Frequency] AS [Income_Frequency], 
        [Extent1].[Issuer_Code] AS [Issuer_Code], 
        [Extent1].[Ultimate_Issuer_Code] AS [Ultimate_Issuer_Code], 
        [Extent1].[Asset_Currency] AS [Asset_Currency], 
        [Extent1].[Min_Lot_Size] AS [Min_Lot_Size], 
        [Extent1].[Decimal_Precision] AS [Decimal_Precision], 
        [Extent1].[AvePrice_Rounding] AS [AvePrice_Rounding], 
        [Extent1].[Issue_Date] AS [Issue_Date], 
        [Extent1].[Maturity_Date] AS [Maturity_Date], 
        [Extent1].[Coupon_Rate] AS [Coupon_Rate], 
        [Extent1].[Price_Exchange] AS [Price_Exchange], 
        [Extent1].[Trade_Currency] AS [Trade_Currency], 
        [Extent1].[Price_Curr] AS [Price_Curr], 
        [Extent1].[Currency_Pair_Code] AS [Currency_Pair_Code], 
        [Extent1].[Share_Class] AS [Share_Class], 
        [Extent1].[Current_Market_Price] AS [Current_Market_Price], 
        [Extent1].[Index_Type] AS [Index_Type], 
        [Extent1].[Clean_Price_Formula] AS [Clean_Price_Formula], 
        [Extent1].[Accrued_Income_Price_Formula] AS [Accrued_Income_Price_Formula], 
        [Extent1].[Odd_First_Coupon_Date] AS [Odd_First_Coupon_Date], 
        [Extent1].[Odd_Last_Coupon_Date] AS [Odd_Last_Coupon_Date], 
        [Extent1].[Coupon_Anniversary_Indicator] AS [Coupon_Anniversary_Indicator], 
        [Extent1].[Track_EOM_Flag] AS [Track_EOM_Flag], 
        [Extent1].[Next_Coupon_Date] AS [Next_Coupon_Date], 
        [Extent1].[Previous_Coupon_Date] AS [Previous_Coupon_Date], 
        [Extent1].[Payment_Frequency] AS [Payment_Frequency], 
        [Extent1].[Coupon_BusDay_Adjustment] AS [Coupon_BusDay_Adjustment], 
        [Extent1].[Next_Ex_Div_Date] AS [Next_Ex_Div_Date], 
        [Extent1].[Ex_Div_BusDay_Adjustment] AS [Ex_Div_BusDay_Adjustment], 
        [Extent1].[Ex_Div_Period] AS [Ex_Div_Period], 
        [Extent1].[Ticker] AS [Ticker], 
        [Extent1].[Inet_ID] AS [Inet_ID], 
        [Extent1].[Bloomberg_ID] AS [Bloomberg_ID], 
        [Extent1].[External_Sec_ID] AS [External_Sec_ID], 
        [Extent1].[Reuters_ID] AS [Reuters_ID], 
        [Extent1].[ISIN] AS [ISIN], 
        [Extent1].[Call_Account_Flag] AS [Call_Account_Flag], 
        [Extent1].[System_Locked] AS [System_Locked], 
        [Extent1].[Last_Update_User] AS [Last_Update_User], 
        [Extent1].[Last_Update_Date] AS [Last_Update_Date], 
        [Extent1].[Security_Status] AS [Security_Status], 
        [Extent1].[Benchmark_Portfolio] AS [Benchmark_Portfolio], 
        [Extent1].[Active_flag] AS [Active_flag], 
        [Extent1].[Dividend_FX_Security_ID] AS [Dividend_FX_Security_ID]
        FROM [dbo].[Security_Detail] AS [Extent1]
        WHERE ([Extent1].[Entity_ID] IN (@p__linq__0,@p__linq__1)) AND ((CASE WHEN ( NOT ((N'' = @p__linq__2) AND (@p__linq__2 IS NOT NULL))) THEN CASE WHEN ([Extent1].[Security_Type_Code] = @p__linq__3) THEN cast(1 as bit) WHEN ( NOT (([Extent1].[Security_Type_Code] = @p__linq__3) AND (0 = (CASE WHEN (@p__linq__3 IS NULL) THEN cast(1 as bit) ELSE cast(0 as bit) END)))) THEN cast(0 as bit) END WHEN ('' <> [Extent1].[Security_Type_Code]) THEN cast(1 as bit) WHEN ('' = [Extent1].[Security_Type_Code]) THEN cast(0 as bit) END) = 1)
    )  AS [Project1]
    ORDER BY [Project1].[Security_Name] ASC
2018-04-07 16:51:40.1883|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: SELECT 
    [Project1].[Security_ID] AS [Security_ID], 
    [Project1].[Entity_ID] AS [Entity_ID], 
    [Project1].[Security_Name] AS [Security_Name], 
    [Project1].[Short_Name] AS [Short_Name], 
    [Project1].[Primary_Exch] AS [Primary_Exch], 
    [Project1].[Secondary_Exch] AS [Secondary_Exch], 
    [Project1].[Country_Of_Domicile] AS [Country_Of_Domicile], 
    [Project1].[Country_Of_Risk] AS [Country_Of_Risk], 
    [Project1].[Security_Type_Code] AS [Security_Type_Code], 
    [Project1].[Price_Multiplier] AS [Price_Multiplier], 
    [Project1].[Income_Frequency] AS [Income_Frequency], 
    [Project1].[Issuer_Code] AS [Issuer_Code], 
    [Project1].[Ultimate_Issuer_Code] AS [Ultimate_Issuer_Code], 
    [Project1].[Asset_Currency] AS [Asset_Currency], 
    [Project1].[Min_Lot_Size] AS [Min_Lot_Size], 
    [Project1].[Decimal_Precision] AS [Decimal_Precision], 
    [Project1].[AvePrice_Rounding] AS [AvePrice_Rounding], 
    [Project1].[Issue_Date] AS [Issue_Date], 
    [Project1].[Maturity_Date] AS [Maturity_Date], 
    [Project1].[Coupon_Rate] AS [Coupon_Rate], 
    [Project1].[Price_Exchange] AS [Price_Exchange], 
    [Project1].[Trade_Currency] AS [Trade_Currency], 
    [Project1].[Price_Curr] AS [Price_Curr], 
    [Project1].[Currency_Pair_Code] AS [Currency_Pair_Code], 
    [Project1].[Share_Class] AS [Share_Class], 
    [Project1].[Current_Market_Price] AS [Current_Market_Price], 
    [Project1].[Index_Type] AS [Index_Type], 
    [Project1].[Clean_Price_Formula] AS [Clean_Price_Formula], 
    [Project1].[Accrued_Income_Price_Formula] AS [Accrued_Income_Price_Formula], 
    [Project1].[Odd_First_Coupon_Date] AS [Odd_First_Coupon_Date], 
    [Project1].[Odd_Last_Coupon_Date] AS [Odd_Last_Coupon_Date], 
    [Project1].[Coupon_Anniversary_Indicator] AS [Coupon_Anniversary_Indicator], 
    [Project1].[Track_EOM_Flag] AS [Track_EOM_Flag], 
    [Project1].[Next_Coupon_Date] AS [Next_Coupon_Date], 
    [Project1].[Previous_Coupon_Date] AS [Previous_Coupon_Date], 
    [Project1].[Payment_Frequency] AS [Payment_Frequency], 
    [Project1].[Coupon_BusDay_Adjustment] AS [Coupon_BusDay_Adjustment], 
    [Project1].[Next_Ex_Div_Date] AS [Next_Ex_Div_Date], 
    [Project1].[Ex_Div_BusDay_Adjustment] AS [Ex_Div_BusDay_Adjustment], 
    [Project1].[Ex_Div_Period] AS [Ex_Div_Period], 
    [Project1].[Ticker] AS [Ticker], 
    [Project1].[Inet_ID] AS [Inet_ID], 
    [Project1].[Bloomberg_ID] AS [Bloomberg_ID], 
    [Project1].[External_Sec_ID] AS [External_Sec_ID], 
    [Project1].[Reuters_ID] AS [Reuters_ID], 
    [Project1].[ISIN] AS [ISIN], 
    [Project1].[Call_Account_Flag] AS [Call_Account_Flag], 
    [Project1].[System_Locked] AS [System_Locked], 
    [Project1].[Last_Update_User] AS [Last_Update_User], 
    [Project1].[Last_Update_Date] AS [Last_Update_Date], 
    [Project1].[Security_Status] AS [Security_Status], 
    [Project1].[Benchmark_Portfolio] AS [Benchmark_Portfolio], 
    [Project1].[Active_flag] AS [Active_flag], 
    [Project1].[Dividend_FX_Security_ID] AS [Dividend_FX_Security_ID]
    FROM ( SELECT 
        [Extent1].[Security_ID] AS [Security_ID], 
        [Extent1].[Entity_ID] AS [Entity_ID], 
        [Extent1].[Security_Name] AS [Security_Name], 
        [Extent1].[Short_Name] AS [Short_Name], 
        [Extent1].[Primary_Exch] AS [Primary_Exch], 
        [Extent1].[Secondary_Exch] AS [Secondary_Exch], 
        [Extent1].[Country_Of_Domicile] AS [Country_Of_Domicile], 
        [Extent1].[Country_Of_Risk] AS [Country_Of_Risk], 
        [Extent1].[Security_Type_Code] AS [Security_Type_Code], 
        [Extent1].[Price_Multiplier] AS [Price_Multiplier], 
        [Extent1].[Income_Frequency] AS [Income_Frequency], 
        [Extent1].[Issuer_Code] AS [Issuer_Code], 
        [Extent1].[Ultimate_Issuer_Code] AS [Ultimate_Issuer_Code], 
        [Extent1].[Asset_Currency] AS [Asset_Currency], 
        [Extent1].[Min_Lot_Size] AS [Min_Lot_Size], 
        [Extent1].[Decimal_Precision] AS [Decimal_Precision], 
        [Extent1].[AvePrice_Rounding] AS [AvePrice_Rounding], 
        [Extent1].[Issue_Date] AS [Issue_Date], 
        [Extent1].[Maturity_Date] AS [Maturity_Date], 
        [Extent1].[Coupon_Rate] AS [Coupon_Rate], 
        [Extent1].[Price_Exchange] AS [Price_Exchange], 
        [Extent1].[Trade_Currency] AS [Trade_Currency], 
        [Extent1].[Price_Curr] AS [Price_Curr], 
        [Extent1].[Currency_Pair_Code] AS [Currency_Pair_Code], 
        [Extent1].[Share_Class] AS [Share_Class], 
        [Extent1].[Current_Market_Price] AS [Current_Market_Price], 
        [Extent1].[Index_Type] AS [Index_Type], 
        [Extent1].[Clean_Price_Formula] AS [Clean_Price_Formula], 
        [Extent1].[Accrued_Income_Price_Formula] AS [Accrued_Income_Price_Formula], 
        [Extent1].[Odd_First_Coupon_Date] AS [Odd_First_Coupon_Date], 
        [Extent1].[Odd_Last_Coupon_Date] AS [Odd_Last_Coupon_Date], 
        [Extent1].[Coupon_Anniversary_Indicator] AS [Coupon_Anniversary_Indicator], 
        [Extent1].[Track_EOM_Flag] AS [Track_EOM_Flag], 
        [Extent1].[Next_Coupon_Date] AS [Next_Coupon_Date], 
        [Extent1].[Previous_Coupon_Date] AS [Previous_Coupon_Date], 
        [Extent1].[Payment_Frequency] AS [Payment_Frequency], 
        [Extent1].[Coupon_BusDay_Adjustment] AS [Coupon_BusDay_Adjustment], 
        [Extent1].[Next_Ex_Div_Date] AS [Next_Ex_Div_Date], 
        [Extent1].[Ex_Div_BusDay_Adjustment] AS [Ex_Div_BusDay_Adjustment], 
        [Extent1].[Ex_Div_Period] AS [Ex_Div_Period], 
        [Extent1].[Ticker] AS [Ticker], 
        [Extent1].[Inet_ID] AS [Inet_ID], 
        [Extent1].[Bloomberg_ID] AS [Bloomberg_ID], 
        [Extent1].[External_Sec_ID] AS [External_Sec_ID], 
        [Extent1].[Reuters_ID] AS [Reuters_ID], 
        [Extent1].[ISIN] AS [ISIN], 
        [Extent1].[Call_Account_Flag] AS [Call_Account_Flag], 
        [Extent1].[System_Locked] AS [System_Locked], 
        [Extent1].[Last_Update_User] AS [Last_Update_User], 
        [Extent1].[Last_Update_Date] AS [Last_Update_Date], 
        [Extent1].[Security_Status] AS [Security_Status], 
        [Extent1].[Benchmark_Portfolio] AS [Benchmark_Portfolio], 
        [Extent1].[Active_flag] AS [Active_flag], 
        [Extent1].[Dividend_FX_Security_ID] AS [Dividend_FX_Security_ID]
        FROM [dbo].[Security_Detail] AS [Extent1]
        WHERE ([Extent1].[Entity_ID] IN (@p__linq__0,@p__linq__1)) AND ((CASE WHEN ( NOT ((N'' = @p__linq__2) AND (@p__linq__2 IS NOT NULL))) THEN CASE WHEN ([Extent1].[Security_Type_Code] = @p__linq__3) THEN cast(1 as bit) WHEN ( NOT (([Extent1].[Security_Type_Code] = @p__linq__3) AND (0 = (CASE WHEN (@p__linq__3 IS NULL) THEN cast(1 as bit) ELSE cast(0 as bit) END)))) THEN cast(0 as bit) END WHEN ('' <> [Extent1].[Security_Type_Code]) THEN cast(1 as bit) WHEN ('' = [Extent1].[Security_Type_Code]) THEN cast(0 as bit) END) = 1)
    )  AS [Project1]
    ORDER BY [Project1].[Security_Name] ASC
2018-04-07 16:51:40.2238|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: IF db_id(N'MetopeAzureDb') IS NOT NULL SELECT 1 ELSE SELECT Count(*) FROM sys.databases WHERE [name]=N'MetopeAzureDb'
2018-04-07 16:51:40.2473|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: IF db_id(N'MetopeAzureDb') IS NOT NULL SELECT 1 ELSE SELECT Count(*) FROM sys.databases WHERE [name]=N'MetopeAzureDb'
2018-04-07 16:51:40.2713|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: IF db_id(N'MetopeAzureDb') IS NOT NULL SELECT 1 ELSE SELECT Count(*) FROM sys.databases WHERE [name]=N'MetopeAzureDb'
2018-04-07 16:51:40.2879|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: IF db_id(N'MetopeAzureDb') IS NOT NULL SELECT 1 ELSE SELECT Count(*) FROM sys.databases WHERE [name]=N'MetopeAzureDb'
2018-04-07 16:51:48.4466|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: SELECT 
    [Extent1].[Security_ID] AS [Security_ID], 
    [Extent1].[Entity_ID] AS [Entity_ID], 
    [Extent1].[Security_Name] AS [Security_Name], 
    [Extent1].[Short_Name] AS [Short_Name], 
    [Extent1].[Primary_Exch] AS [Primary_Exch], 
    [Extent1].[Secondary_Exch] AS [Secondary_Exch], 
    [Extent1].[Country_Of_Domicile] AS [Country_Of_Domicile], 
    [Extent1].[Country_Of_Risk] AS [Country_Of_Risk], 
    [Extent1].[Security_Type_Code] AS [Security_Type_Code], 
    [Extent1].[Price_Multiplier] AS [Price_Multiplier], 
    [Extent1].[Income_Frequency] AS [Income_Frequency], 
    [Extent1].[Issuer_Code] AS [Issuer_Code], 
    [Extent1].[Ultimate_Issuer_Code] AS [Ultimate_Issuer_Code], 
    [Extent1].[Asset_Currency] AS [Asset_Currency], 
    [Extent1].[Min_Lot_Size] AS [Min_Lot_Size], 
    [Extent1].[Decimal_Precision] AS [Decimal_Precision], 
    [Extent1].[AvePrice_Rounding] AS [AvePrice_Rounding], 
    [Extent1].[Issue_Date] AS [Issue_Date], 
    [Extent1].[Maturity_Date] AS [Maturity_Date], 
    [Extent1].[Coupon_Rate] AS [Coupon_Rate], 
    [Extent1].[Price_Exchange] AS [Price_Exchange], 
    [Extent1].[Trade_Currency] AS [Trade_Currency], 
    [Extent1].[Price_Curr] AS [Price_Curr], 
    [Extent1].[Currency_Pair_Code] AS [Currency_Pair_Code], 
    [Extent1].[Share_Class] AS [Share_Class], 
    [Extent1].[Current_Market_Price] AS [Current_Market_Price], 
    [Extent1].[Index_Type] AS [Index_Type], 
    [Extent1].[Clean_Price_Formula] AS [Clean_Price_Formula], 
    [Extent1].[Accrued_Income_Price_Formula] AS [Accrued_Income_Price_Formula], 
    [Extent1].[Odd_First_Coupon_Date] AS [Odd_First_Coupon_Date], 
    [Extent1].[Odd_Last_Coupon_Date] AS [Odd_Last_Coupon_Date], 
    [Extent1].[Coupon_Anniversary_Indicator] AS [Coupon_Anniversary_Indicator], 
    [Extent1].[Track_EOM_Flag] AS [Track_EOM_Flag], 
    [Extent1].[Next_Coupon_Date] AS [Next_Coupon_Date], 
    [Extent1].[Previous_Coupon_Date] AS [Previous_Coupon_Date], 
    [Extent1].[Payment_Frequency] AS [Payment_Frequency], 
    [Extent1].[Coupon_BusDay_Adjustment] AS [Coupon_BusDay_Adjustment], 
    [Extent1].[Next_Ex_Div_Date] AS [Next_Ex_Div_Date], 
    [Extent1].[Ex_Div_BusDay_Adjustment] AS [Ex_Div_BusDay_Adjustment], 
    [Extent1].[Ex_Div_Period] AS [Ex_Div_Period], 
    [Extent1].[Ticker] AS [Ticker], 
    [Extent1].[Inet_ID] AS [Inet_ID], 
    [Extent1].[Bloomberg_ID] AS [Bloomberg_ID], 
    [Extent1].[External_Sec_ID] AS [External_Sec_ID], 
    [Extent1].[Reuters_ID] AS [Reuters_ID], 
    [Extent1].[ISIN] AS [ISIN], 
    [Extent1].[Call_Account_Flag] AS [Call_Account_Flag], 
    [Extent1].[System_Locked] AS [System_Locked], 
    [Extent1].[Last_Update_User] AS [Last_Update_User], 
    [Extent1].[Last_Update_Date] AS [Last_Update_Date], 
    [Extent1].[Security_Status] AS [Security_Status], 
    [Extent1].[Benchmark_Portfolio] AS [Benchmark_Portfolio], 
    [Extent1].[Active_flag] AS [Active_flag], 
    [Extent1].[Dividend_FX_Security_ID] AS [Dividend_FX_Security_ID]
    FROM [dbo].[Security_Detail] AS [Extent1]
2018-04-07 16:51:48.4927|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: SELECT 
    [Extent1].[Security_ID] AS [Security_ID], 
    [Extent1].[Entity_ID] AS [Entity_ID], 
    [Extent1].[Security_Name] AS [Security_Name], 
    [Extent1].[Short_Name] AS [Short_Name], 
    [Extent1].[Primary_Exch] AS [Primary_Exch], 
    [Extent1].[Secondary_Exch] AS [Secondary_Exch], 
    [Extent1].[Country_Of_Domicile] AS [Country_Of_Domicile], 
    [Extent1].[Country_Of_Risk] AS [Country_Of_Risk], 
    [Extent1].[Security_Type_Code] AS [Security_Type_Code], 
    [Extent1].[Price_Multiplier] AS [Price_Multiplier], 
    [Extent1].[Income_Frequency] AS [Income_Frequency], 
    [Extent1].[Issuer_Code] AS [Issuer_Code], 
    [Extent1].[Ultimate_Issuer_Code] AS [Ultimate_Issuer_Code], 
    [Extent1].[Asset_Currency] AS [Asset_Currency], 
    [Extent1].[Min_Lot_Size] AS [Min_Lot_Size], 
    [Extent1].[Decimal_Precision] AS [Decimal_Precision], 
    [Extent1].[AvePrice_Rounding] AS [AvePrice_Rounding], 
    [Extent1].[Issue_Date] AS [Issue_Date], 
    [Extent1].[Maturity_Date] AS [Maturity_Date], 
    [Extent1].[Coupon_Rate] AS [Coupon_Rate], 
    [Extent1].[Price_Exchange] AS [Price_Exchange], 
    [Extent1].[Trade_Currency] AS [Trade_Currency], 
    [Extent1].[Price_Curr] AS [Price_Curr], 
    [Extent1].[Currency_Pair_Code] AS [Currency_Pair_Code], 
    [Extent1].[Share_Class] AS [Share_Class], 
    [Extent1].[Current_Market_Price] AS [Current_Market_Price], 
    [Extent1].[Index_Type] AS [Index_Type], 
    [Extent1].[Clean_Price_Formula] AS [Clean_Price_Formula], 
    [Extent1].[Accrued_Income_Price_Formula] AS [Accrued_Income_Price_Formula], 
    [Extent1].[Odd_First_Coupon_Date] AS [Odd_First_Coupon_Date], 
    [Extent1].[Odd_Last_Coupon_Date] AS [Odd_Last_Coupon_Date], 
    [Extent1].[Coupon_Anniversary_Indicator] AS [Coupon_Anniversary_Indicator], 
    [Extent1].[Track_EOM_Flag] AS [Track_EOM_Flag], 
    [Extent1].[Next_Coupon_Date] AS [Next_Coupon_Date], 
    [Extent1].[Previous_Coupon_Date] AS [Previous_Coupon_Date], 
    [Extent1].[Payment_Frequency] AS [Payment_Frequency], 
    [Extent1].[Coupon_BusDay_Adjustment] AS [Coupon_BusDay_Adjustment], 
    [Extent1].[Next_Ex_Div_Date] AS [Next_Ex_Div_Date], 
    [Extent1].[Ex_Div_BusDay_Adjustment] AS [Ex_Div_BusDay_Adjustment], 
    [Extent1].[Ex_Div_Period] AS [Ex_Div_Period], 
    [Extent1].[Ticker] AS [Ticker], 
    [Extent1].[Inet_ID] AS [Inet_ID], 
    [Extent1].[Bloomberg_ID] AS [Bloomberg_ID], 
    [Extent1].[External_Sec_ID] AS [External_Sec_ID], 
    [Extent1].[Reuters_ID] AS [Reuters_ID], 
    [Extent1].[ISIN] AS [ISIN], 
    [Extent1].[Call_Account_Flag] AS [Call_Account_Flag], 
    [Extent1].[System_Locked] AS [System_Locked], 
    [Extent1].[Last_Update_User] AS [Last_Update_User], 
    [Extent1].[Last_Update_Date] AS [Last_Update_Date], 
    [Extent1].[Security_Status] AS [Security_Status], 
    [Extent1].[Benchmark_Portfolio] AS [Benchmark_Portfolio], 
    [Extent1].[Active_flag] AS [Active_flag], 
    [Extent1].[Dividend_FX_Security_ID] AS [Dividend_FX_Security_ID]
    FROM [dbo].[Security_Detail] AS [Extent1]
2018-04-07 16:51:48.9390|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: IF db_id(N'MetopeAzureDb') IS NOT NULL SELECT 1 ELSE SELECT Count(*) FROM sys.databases WHERE [name]=N'MetopeAzureDb'
2018-04-07 16:51:49.0746|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: IF db_id(N'MetopeAzureDb') IS NOT NULL SELECT 1 ELSE SELECT Count(*) FROM sys.databases WHERE [name]=N'MetopeAzureDb'
2018-04-07 16:51:49.1717|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: IF db_id(N'MetopeAzureDb') IS NOT NULL SELECT 1 ELSE SELECT Count(*) FROM sys.databases WHERE [name]=N'MetopeAzureDb'
2018-04-07 16:51:49.3007|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: IF db_id(N'MetopeAzureDb') IS NOT NULL SELECT 1 ELSE SELECT Count(*) FROM sys.databases WHERE [name]=N'MetopeAzureDb'
2018-04-07 16:52:50.3171|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: SELECT 
    [Extent1].[Security_ID] AS [Security_ID], 
    [Extent1].[Entity_ID] AS [Entity_ID], 
    [Extent1].[Security_Name] AS [Security_Name], 
    [Extent1].[Short_Name] AS [Short_Name], 
    [Extent1].[Primary_Exch] AS [Primary_Exch], 
    [Extent1].[Secondary_Exch] AS [Secondary_Exch], 
    [Extent1].[Country_Of_Domicile] AS [Country_Of_Domicile], 
    [Extent1].[Country_Of_Risk] AS [Country_Of_Risk], 
    [Extent1].[Security_Type_Code] AS [Security_Type_Code], 
    [Extent1].[Price_Multiplier] AS [Price_Multiplier], 
    [Extent1].[Income_Frequency] AS [Income_Frequency], 
    [Extent1].[Issuer_Code] AS [Issuer_Code], 
    [Extent1].[Ultimate_Issuer_Code] AS [Ultimate_Issuer_Code], 
    [Extent1].[Asset_Currency] AS [Asset_Currency], 
    [Extent1].[Min_Lot_Size] AS [Min_Lot_Size], 
    [Extent1].[Decimal_Precision] AS [Decimal_Precision], 
    [Extent1].[AvePrice_Rounding] AS [AvePrice_Rounding], 
    [Extent1].[Issue_Date] AS [Issue_Date], 
    [Extent1].[Maturity_Date] AS [Maturity_Date], 
    [Extent1].[Coupon_Rate] AS [Coupon_Rate], 
    [Extent1].[Price_Exchange] AS [Price_Exchange], 
    [Extent1].[Trade_Currency] AS [Trade_Currency], 
    [Extent1].[Price_Curr] AS [Price_Curr], 
    [Extent1].[Currency_Pair_Code] AS [Currency_Pair_Code], 
    [Extent1].[Share_Class] AS [Share_Class], 
    [Extent1].[Current_Market_Price] AS [Current_Market_Price], 
    [Extent1].[Index_Type] AS [Index_Type], 
    [Extent1].[Clean_Price_Formula] AS [Clean_Price_Formula], 
    [Extent1].[Accrued_Income_Price_Formula] AS [Accrued_Income_Price_Formula], 
    [Extent1].[Odd_First_Coupon_Date] AS [Odd_First_Coupon_Date], 
    [Extent1].[Odd_Last_Coupon_Date] AS [Odd_Last_Coupon_Date], 
    [Extent1].[Coupon_Anniversary_Indicator] AS [Coupon_Anniversary_Indicator], 
    [Extent1].[Track_EOM_Flag] AS [Track_EOM_Flag], 
    [Extent1].[Next_Coupon_Date] AS [Next_Coupon_Date], 
    [Extent1].[Previous_Coupon_Date] AS [Previous_Coupon_Date], 
    [Extent1].[Payment_Frequency] AS [Payment_Frequency], 
    [Extent1].[Coupon_BusDay_Adjustment] AS [Coupon_BusDay_Adjustment], 
    [Extent1].[Next_Ex_Div_Date] AS [Next_Ex_Div_Date], 
    [Extent1].[Ex_Div_BusDay_Adjustment] AS [Ex_Div_BusDay_Adjustment], 
    [Extent1].[Ex_Div_Period] AS [Ex_Div_Period], 
    [Extent1].[Ticker] AS [Ticker], 
    [Extent1].[Inet_ID] AS [Inet_ID], 
    [Extent1].[Bloomberg_ID] AS [Bloomberg_ID], 
    [Extent1].[External_Sec_ID] AS [External_Sec_ID], 
    [Extent1].[Reuters_ID] AS [Reuters_ID], 
    [Extent1].[ISIN] AS [ISIN], 
    [Extent1].[Call_Account_Flag] AS [Call_Account_Flag], 
    [Extent1].[System_Locked] AS [System_Locked], 
    [Extent1].[Last_Update_User] AS [Last_Update_User], 
    [Extent1].[Last_Update_Date] AS [Last_Update_Date], 
    [Extent1].[Security_Status] AS [Security_Status], 
    [Extent1].[Benchmark_Portfolio] AS [Benchmark_Portfolio], 
    [Extent1].[Active_flag] AS [Active_flag], 
    [Extent1].[Dividend_FX_Security_ID] AS [Dividend_FX_Security_ID]
    FROM [dbo].[Security_Detail] AS [Extent1]
2018-04-07 16:52:50.3431|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: SELECT 
    [Extent1].[Security_ID] AS [Security_ID], 
    [Extent1].[Entity_ID] AS [Entity_ID], 
    [Extent1].[Security_Name] AS [Security_Name], 
    [Extent1].[Short_Name] AS [Short_Name], 
    [Extent1].[Primary_Exch] AS [Primary_Exch], 
    [Extent1].[Secondary_Exch] AS [Secondary_Exch], 
    [Extent1].[Country_Of_Domicile] AS [Country_Of_Domicile], 
    [Extent1].[Country_Of_Risk] AS [Country_Of_Risk], 
    [Extent1].[Security_Type_Code] AS [Security_Type_Code], 
    [Extent1].[Price_Multiplier] AS [Price_Multiplier], 
    [Extent1].[Income_Frequency] AS [Income_Frequency], 
    [Extent1].[Issuer_Code] AS [Issuer_Code], 
    [Extent1].[Ultimate_Issuer_Code] AS [Ultimate_Issuer_Code], 
    [Extent1].[Asset_Currency] AS [Asset_Currency], 
    [Extent1].[Min_Lot_Size] AS [Min_Lot_Size], 
    [Extent1].[Decimal_Precision] AS [Decimal_Precision], 
    [Extent1].[AvePrice_Rounding] AS [AvePrice_Rounding], 
    [Extent1].[Issue_Date] AS [Issue_Date], 
    [Extent1].[Maturity_Date] AS [Maturity_Date], 
    [Extent1].[Coupon_Rate] AS [Coupon_Rate], 
    [Extent1].[Price_Exchange] AS [Price_Exchange], 
    [Extent1].[Trade_Currency] AS [Trade_Currency], 
    [Extent1].[Price_Curr] AS [Price_Curr], 
    [Extent1].[Currency_Pair_Code] AS [Currency_Pair_Code], 
    [Extent1].[Share_Class] AS [Share_Class], 
    [Extent1].[Current_Market_Price] AS [Current_Market_Price], 
    [Extent1].[Index_Type] AS [Index_Type], 
    [Extent1].[Clean_Price_Formula] AS [Clean_Price_Formula], 
    [Extent1].[Accrued_Income_Price_Formula] AS [Accrued_Income_Price_Formula], 
    [Extent1].[Odd_First_Coupon_Date] AS [Odd_First_Coupon_Date], 
    [Extent1].[Odd_Last_Coupon_Date] AS [Odd_Last_Coupon_Date], 
    [Extent1].[Coupon_Anniversary_Indicator] AS [Coupon_Anniversary_Indicator], 
    [Extent1].[Track_EOM_Flag] AS [Track_EOM_Flag], 
    [Extent1].[Next_Coupon_Date] AS [Next_Coupon_Date], 
    [Extent1].[Previous_Coupon_Date] AS [Previous_Coupon_Date], 
    [Extent1].[Payment_Frequency] AS [Payment_Frequency], 
    [Extent1].[Coupon_BusDay_Adjustment] AS [Coupon_BusDay_Adjustment], 
    [Extent1].[Next_Ex_Div_Date] AS [Next_Ex_Div_Date], 
    [Extent1].[Ex_Div_BusDay_Adjustment] AS [Ex_Div_BusDay_Adjustment], 
    [Extent1].[Ex_Div_Period] AS [Ex_Div_Period], 
    [Extent1].[Ticker] AS [Ticker], 
    [Extent1].[Inet_ID] AS [Inet_ID], 
    [Extent1].[Bloomberg_ID] AS [Bloomberg_ID], 
    [Extent1].[External_Sec_ID] AS [External_Sec_ID], 
    [Extent1].[Reuters_ID] AS [Reuters_ID], 
    [Extent1].[ISIN] AS [ISIN], 
    [Extent1].[Call_Account_Flag] AS [Call_Account_Flag], 
    [Extent1].[System_Locked] AS [System_Locked], 
    [Extent1].[Last_Update_User] AS [Last_Update_User], 
    [Extent1].[Last_Update_Date] AS [Last_Update_Date], 
    [Extent1].[Security_Status] AS [Security_Status], 
    [Extent1].[Benchmark_Portfolio] AS [Benchmark_Portfolio], 
    [Extent1].[Active_flag] AS [Active_flag], 
    [Extent1].[Dividend_FX_Security_ID] AS [Dividend_FX_Security_ID]
    FROM [dbo].[Security_Detail] AS [Extent1]
2018-04-07 16:52:50.4052|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: SELECT 
    [Extent1].[Security_ID] AS [Security_ID], 
    [Extent1].[Entity_ID] AS [Entity_ID], 
    [Extent1].[Security_Name] AS [Security_Name], 
    [Extent1].[Short_Name] AS [Short_Name], 
    [Extent1].[Primary_Exch] AS [Primary_Exch], 
    [Extent1].[Secondary_Exch] AS [Secondary_Exch], 
    [Extent1].[Country_Of_Domicile] AS [Country_Of_Domicile], 
    [Extent1].[Country_Of_Risk] AS [Country_Of_Risk], 
    [Extent1].[Security_Type_Code] AS [Security_Type_Code], 
    [Extent1].[Price_Multiplier] AS [Price_Multiplier], 
    [Extent1].[Income_Frequency] AS [Income_Frequency], 
    [Extent1].[Issuer_Code] AS [Issuer_Code], 
    [Extent1].[Ultimate_Issuer_Code] AS [Ultimate_Issuer_Code], 
    [Extent1].[Asset_Currency] AS [Asset_Currency], 
    [Extent1].[Min_Lot_Size] AS [Min_Lot_Size], 
    [Extent1].[Decimal_Precision] AS [Decimal_Precision], 
    [Extent1].[AvePrice_Rounding] AS [AvePrice_Rounding], 
    [Extent1].[Issue_Date] AS [Issue_Date], 
    [Extent1].[Maturity_Date] AS [Maturity_Date], 
    [Extent1].[Coupon_Rate] AS [Coupon_Rate], 
    [Extent1].[Price_Exchange] AS [Price_Exchange], 
    [Extent1].[Trade_Currency] AS [Trade_Currency], 
    [Extent1].[Price_Curr] AS [Price_Curr], 
    [Extent1].[Currency_Pair_Code] AS [Currency_Pair_Code], 
    [Extent1].[Share_Class] AS [Share_Class], 
    [Extent1].[Current_Market_Price] AS [Current_Market_Price], 
    [Extent1].[Index_Type] AS [Index_Type], 
    [Extent1].[Clean_Price_Formula] AS [Clean_Price_Formula], 
    [Extent1].[Accrued_Income_Price_Formula] AS [Accrued_Income_Price_Formula], 
    [Extent1].[Odd_First_Coupon_Date] AS [Odd_First_Coupon_Date], 
    [Extent1].[Odd_Last_Coupon_Date] AS [Odd_Last_Coupon_Date], 
    [Extent1].[Coupon_Anniversary_Indicator] AS [Coupon_Anniversary_Indicator], 
    [Extent1].[Track_EOM_Flag] AS [Track_EOM_Flag], 
    [Extent1].[Next_Coupon_Date] AS [Next_Coupon_Date], 
    [Extent1].[Previous_Coupon_Date] AS [Previous_Coupon_Date], 
    [Extent1].[Payment_Frequency] AS [Payment_Frequency], 
    [Extent1].[Coupon_BusDay_Adjustment] AS [Coupon_BusDay_Adjustment], 
    [Extent1].[Next_Ex_Div_Date] AS [Next_Ex_Div_Date], 
    [Extent1].[Ex_Div_BusDay_Adjustment] AS [Ex_Div_BusDay_Adjustment], 
    [Extent1].[Ex_Div_Period] AS [Ex_Div_Period], 
    [Extent1].[Ticker] AS [Ticker], 
    [Extent1].[Inet_ID] AS [Inet_ID], 
    [Extent1].[Bloomberg_ID] AS [Bloomberg_ID], 
    [Extent1].[External_Sec_ID] AS [External_Sec_ID], 
    [Extent1].[Reuters_ID] AS [Reuters_ID], 
    [Extent1].[ISIN] AS [ISIN], 
    [Extent1].[Call_Account_Flag] AS [Call_Account_Flag], 
    [Extent1].[System_Locked] AS [System_Locked], 
    [Extent1].[Last_Update_User] AS [Last_Update_User], 
    [Extent1].[Last_Update_Date] AS [Last_Update_Date], 
    [Extent1].[Security_Status] AS [Security_Status], 
    [Extent1].[Benchmark_Portfolio] AS [Benchmark_Portfolio], 
    [Extent1].[Active_flag] AS [Active_flag], 
    [Extent1].[Dividend_FX_Security_ID] AS [Dividend_FX_Security_ID]
    FROM [dbo].[Security_Detail] AS [Extent1]
2018-04-07 16:52:50.4212|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: SELECT 
    [Extent1].[Security_ID] AS [Security_ID], 
    [Extent1].[Entity_ID] AS [Entity_ID], 
    [Extent1].[Security_Name] AS [Security_Name], 
    [Extent1].[Short_Name] AS [Short_Name], 
    [Extent1].[Primary_Exch] AS [Primary_Exch], 
    [Extent1].[Secondary_Exch] AS [Secondary_Exch], 
    [Extent1].[Country_Of_Domicile] AS [Country_Of_Domicile], 
    [Extent1].[Country_Of_Risk] AS [Country_Of_Risk], 
    [Extent1].[Security_Type_Code] AS [Security_Type_Code], 
    [Extent1].[Price_Multiplier] AS [Price_Multiplier], 
    [Extent1].[Income_Frequency] AS [Income_Frequency], 
    [Extent1].[Issuer_Code] AS [Issuer_Code], 
    [Extent1].[Ultimate_Issuer_Code] AS [Ultimate_Issuer_Code], 
    [Extent1].[Asset_Currency] AS [Asset_Currency], 
    [Extent1].[Min_Lot_Size] AS [Min_Lot_Size], 
    [Extent1].[Decimal_Precision] AS [Decimal_Precision], 
    [Extent1].[AvePrice_Rounding] AS [AvePrice_Rounding], 
    [Extent1].[Issue_Date] AS [Issue_Date], 
    [Extent1].[Maturity_Date] AS [Maturity_Date], 
    [Extent1].[Coupon_Rate] AS [Coupon_Rate], 
    [Extent1].[Price_Exchange] AS [Price_Exchange], 
    [Extent1].[Trade_Currency] AS [Trade_Currency], 
    [Extent1].[Price_Curr] AS [Price_Curr], 
    [Extent1].[Currency_Pair_Code] AS [Currency_Pair_Code], 
    [Extent1].[Share_Class] AS [Share_Class], 
    [Extent1].[Current_Market_Price] AS [Current_Market_Price], 
    [Extent1].[Index_Type] AS [Index_Type], 
    [Extent1].[Clean_Price_Formula] AS [Clean_Price_Formula], 
    [Extent1].[Accrued_Income_Price_Formula] AS [Accrued_Income_Price_Formula], 
    [Extent1].[Odd_First_Coupon_Date] AS [Odd_First_Coupon_Date], 
    [Extent1].[Odd_Last_Coupon_Date] AS [Odd_Last_Coupon_Date], 
    [Extent1].[Coupon_Anniversary_Indicator] AS [Coupon_Anniversary_Indicator], 
    [Extent1].[Track_EOM_Flag] AS [Track_EOM_Flag], 
    [Extent1].[Next_Coupon_Date] AS [Next_Coupon_Date], 
    [Extent1].[Previous_Coupon_Date] AS [Previous_Coupon_Date], 
    [Extent1].[Payment_Frequency] AS [Payment_Frequency], 
    [Extent1].[Coupon_BusDay_Adjustment] AS [Coupon_BusDay_Adjustment], 
    [Extent1].[Next_Ex_Div_Date] AS [Next_Ex_Div_Date], 
    [Extent1].[Ex_Div_BusDay_Adjustment] AS [Ex_Div_BusDay_Adjustment], 
    [Extent1].[Ex_Div_Period] AS [Ex_Div_Period], 
    [Extent1].[Ticker] AS [Ticker], 
    [Extent1].[Inet_ID] AS [Inet_ID], 
    [Extent1].[Bloomberg_ID] AS [Bloomberg_ID], 
    [Extent1].[External_Sec_ID] AS [External_Sec_ID], 
    [Extent1].[Reuters_ID] AS [Reuters_ID], 
    [Extent1].[ISIN] AS [ISIN], 
    [Extent1].[Call_Account_Flag] AS [Call_Account_Flag], 
    [Extent1].[System_Locked] AS [System_Locked], 
    [Extent1].[Last_Update_User] AS [Last_Update_User], 
    [Extent1].[Last_Update_Date] AS [Last_Update_Date], 
    [Extent1].[Security_Status] AS [Security_Status], 
    [Extent1].[Benchmark_Portfolio] AS [Benchmark_Portfolio], 
    [Extent1].[Active_flag] AS [Active_flag], 
    [Extent1].[Dividend_FX_Security_ID] AS [Dividend_FX_Security_ID]
    FROM [dbo].[Security_Detail] AS [Extent1]
2018-04-07 16:52:50.4552|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: IF db_id(N'MetopeAzureDb') IS NOT NULL SELECT 1 ELSE SELECT Count(*) FROM sys.databases WHERE [name]=N'MetopeAzureDb'
2018-04-07 16:52:50.5218|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: IF db_id(N'MetopeAzureDb') IS NOT NULL SELECT 1 ELSE SELECT Count(*) FROM sys.databases WHERE [name]=N'MetopeAzureDb'
2018-04-07 16:52:50.6028|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: IF db_id(N'MetopeAzureDb') IS NOT NULL SELECT 1 ELSE SELECT Count(*) FROM sys.databases WHERE [name]=N'MetopeAzureDb'
2018-04-07 16:52:50.6774|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: IF db_id(N'MetopeAzureDb') IS NOT NULL SELECT 1 ELSE SELECT Count(*) FROM sys.databases WHERE [name]=N'MetopeAzureDb'
2018-04-07 16:52:50.8590|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: SELECT 
    [Extent1].[Security_ID] AS [Security_ID], 
    [Extent1].[Entity_ID] AS [Entity_ID], 
    [Extent1].[Security_Name] AS [Security_Name], 
    [Extent1].[Short_Name] AS [Short_Name], 
    [Extent1].[Primary_Exch] AS [Primary_Exch], 
    [Extent1].[Secondary_Exch] AS [Secondary_Exch], 
    [Extent1].[Country_Of_Domicile] AS [Country_Of_Domicile], 
    [Extent1].[Country_Of_Risk] AS [Country_Of_Risk], 
    [Extent1].[Security_Type_Code] AS [Security_Type_Code], 
    [Extent1].[Price_Multiplier] AS [Price_Multiplier], 
    [Extent1].[Income_Frequency] AS [Income_Frequency], 
    [Extent1].[Issuer_Code] AS [Issuer_Code], 
    [Extent1].[Ultimate_Issuer_Code] AS [Ultimate_Issuer_Code], 
    [Extent1].[Asset_Currency] AS [Asset_Currency], 
    [Extent1].[Min_Lot_Size] AS [Min_Lot_Size], 
    [Extent1].[Decimal_Precision] AS [Decimal_Precision], 
    [Extent1].[AvePrice_Rounding] AS [AvePrice_Rounding], 
    [Extent1].[Issue_Date] AS [Issue_Date], 
    [Extent1].[Maturity_Date] AS [Maturity_Date], 
    [Extent1].[Coupon_Rate] AS [Coupon_Rate], 
    [Extent1].[Price_Exchange] AS [Price_Exchange], 
    [Extent1].[Trade_Currency] AS [Trade_Currency], 
    [Extent1].[Price_Curr] AS [Price_Curr], 
    [Extent1].[Currency_Pair_Code] AS [Currency_Pair_Code], 
    [Extent1].[Share_Class] AS [Share_Class], 
    [Extent1].[Current_Market_Price] AS [Current_Market_Price], 
    [Extent1].[Index_Type] AS [Index_Type], 
    [Extent1].[Clean_Price_Formula] AS [Clean_Price_Formula], 
    [Extent1].[Accrued_Income_Price_Formula] AS [Accrued_Income_Price_Formula], 
    [Extent1].[Odd_First_Coupon_Date] AS [Odd_First_Coupon_Date], 
    [Extent1].[Odd_Last_Coupon_Date] AS [Odd_Last_Coupon_Date], 
    [Extent1].[Coupon_Anniversary_Indicator] AS [Coupon_Anniversary_Indicator], 
    [Extent1].[Track_EOM_Flag] AS [Track_EOM_Flag], 
    [Extent1].[Next_Coupon_Date] AS [Next_Coupon_Date], 
    [Extent1].[Previous_Coupon_Date] AS [Previous_Coupon_Date], 
    [Extent1].[Payment_Frequency] AS [Payment_Frequency], 
    [Extent1].[Coupon_BusDay_Adjustment] AS [Coupon_BusDay_Adjustment], 
    [Extent1].[Next_Ex_Div_Date] AS [Next_Ex_Div_Date], 
    [Extent1].[Ex_Div_BusDay_Adjustment] AS [Ex_Div_BusDay_Adjustment], 
    [Extent1].[Ex_Div_Period] AS [Ex_Div_Period], 
    [Extent1].[Ticker] AS [Ticker], 
    [Extent1].[Inet_ID] AS [Inet_ID], 
    [Extent1].[Bloomberg_ID] AS [Bloomberg_ID], 
    [Extent1].[External_Sec_ID] AS [External_Sec_ID], 
    [Extent1].[Reuters_ID] AS [Reuters_ID], 
    [Extent1].[ISIN] AS [ISIN], 
    [Extent1].[Call_Account_Flag] AS [Call_Account_Flag], 
    [Extent1].[System_Locked] AS [System_Locked], 
    [Extent1].[Last_Update_User] AS [Last_Update_User], 
    [Extent1].[Last_Update_Date] AS [Last_Update_Date], 
    [Extent1].[Security_Status] AS [Security_Status], 
    [Extent1].[Benchmark_Portfolio] AS [Benchmark_Portfolio], 
    [Extent1].[Active_flag] AS [Active_flag], 
    [Extent1].[Dividend_FX_Security_ID] AS [Dividend_FX_Security_ID]
    FROM [dbo].[Security_Detail] AS [Extent1]
2018-04-07 16:52:50.9005|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: SELECT 
    [Extent1].[Security_ID] AS [Security_ID], 
    [Extent1].[Entity_ID] AS [Entity_ID], 
    [Extent1].[Security_Name] AS [Security_Name], 
    [Extent1].[Short_Name] AS [Short_Name], 
    [Extent1].[Primary_Exch] AS [Primary_Exch], 
    [Extent1].[Secondary_Exch] AS [Secondary_Exch], 
    [Extent1].[Country_Of_Domicile] AS [Country_Of_Domicile], 
    [Extent1].[Country_Of_Risk] AS [Country_Of_Risk], 
    [Extent1].[Security_Type_Code] AS [Security_Type_Code], 
    [Extent1].[Price_Multiplier] AS [Price_Multiplier], 
    [Extent1].[Income_Frequency] AS [Income_Frequency], 
    [Extent1].[Issuer_Code] AS [Issuer_Code], 
    [Extent1].[Ultimate_Issuer_Code] AS [Ultimate_Issuer_Code], 
    [Extent1].[Asset_Currency] AS [Asset_Currency], 
    [Extent1].[Min_Lot_Size] AS [Min_Lot_Size], 
    [Extent1].[Decimal_Precision] AS [Decimal_Precision], 
    [Extent1].[AvePrice_Rounding] AS [AvePrice_Rounding], 
    [Extent1].[Issue_Date] AS [Issue_Date], 
    [Extent1].[Maturity_Date] AS [Maturity_Date], 
    [Extent1].[Coupon_Rate] AS [Coupon_Rate], 
    [Extent1].[Price_Exchange] AS [Price_Exchange], 
    [Extent1].[Trade_Currency] AS [Trade_Currency], 
    [Extent1].[Price_Curr] AS [Price_Curr], 
    [Extent1].[Currency_Pair_Code] AS [Currency_Pair_Code], 
    [Extent1].[Share_Class] AS [Share_Class], 
    [Extent1].[Current_Market_Price] AS [Current_Market_Price], 
    [Extent1].[Index_Type] AS [Index_Type], 
    [Extent1].[Clean_Price_Formula] AS [Clean_Price_Formula], 
    [Extent1].[Accrued_Income_Price_Formula] AS [Accrued_Income_Price_Formula], 
    [Extent1].[Odd_First_Coupon_Date] AS [Odd_First_Coupon_Date], 
    [Extent1].[Odd_Last_Coupon_Date] AS [Odd_Last_Coupon_Date], 
    [Extent1].[Coupon_Anniversary_Indicator] AS [Coupon_Anniversary_Indicator], 
    [Extent1].[Track_EOM_Flag] AS [Track_EOM_Flag], 
    [Extent1].[Next_Coupon_Date] AS [Next_Coupon_Date], 
    [Extent1].[Previous_Coupon_Date] AS [Previous_Coupon_Date], 
    [Extent1].[Payment_Frequency] AS [Payment_Frequency], 
    [Extent1].[Coupon_BusDay_Adjustment] AS [Coupon_BusDay_Adjustment], 
    [Extent1].[Next_Ex_Div_Date] AS [Next_Ex_Div_Date], 
    [Extent1].[Ex_Div_BusDay_Adjustment] AS [Ex_Div_BusDay_Adjustment], 
    [Extent1].[Ex_Div_Period] AS [Ex_Div_Period], 
    [Extent1].[Ticker] AS [Ticker], 
    [Extent1].[Inet_ID] AS [Inet_ID], 
    [Extent1].[Bloomberg_ID] AS [Bloomberg_ID], 
    [Extent1].[External_Sec_ID] AS [External_Sec_ID], 
    [Extent1].[Reuters_ID] AS [Reuters_ID], 
    [Extent1].[ISIN] AS [ISIN], 
    [Extent1].[Call_Account_Flag] AS [Call_Account_Flag], 
    [Extent1].[System_Locked] AS [System_Locked], 
    [Extent1].[Last_Update_User] AS [Last_Update_User], 
    [Extent1].[Last_Update_Date] AS [Last_Update_Date], 
    [Extent1].[Security_Status] AS [Security_Status], 
    [Extent1].[Benchmark_Portfolio] AS [Benchmark_Portfolio], 
    [Extent1].[Active_flag] AS [Active_flag], 
    [Extent1].[Dividend_FX_Security_ID] AS [Dividend_FX_Security_ID]
    FROM [dbo].[Security_Detail] AS [Extent1]
2018-04-07 16:52:50.9421|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: SELECT 
    [Extent1].[Security_ID] AS [Security_ID], 
    [Extent1].[Entity_ID] AS [Entity_ID], 
    [Extent1].[Security_Name] AS [Security_Name], 
    [Extent1].[Short_Name] AS [Short_Name], 
    [Extent1].[Primary_Exch] AS [Primary_Exch], 
    [Extent1].[Secondary_Exch] AS [Secondary_Exch], 
    [Extent1].[Country_Of_Domicile] AS [Country_Of_Domicile], 
    [Extent1].[Country_Of_Risk] AS [Country_Of_Risk], 
    [Extent1].[Security_Type_Code] AS [Security_Type_Code], 
    [Extent1].[Price_Multiplier] AS [Price_Multiplier], 
    [Extent1].[Income_Frequency] AS [Income_Frequency], 
    [Extent1].[Issuer_Code] AS [Issuer_Code], 
    [Extent1].[Ultimate_Issuer_Code] AS [Ultimate_Issuer_Code], 
    [Extent1].[Asset_Currency] AS [Asset_Currency], 
    [Extent1].[Min_Lot_Size] AS [Min_Lot_Size], 
    [Extent1].[Decimal_Precision] AS [Decimal_Precision], 
    [Extent1].[AvePrice_Rounding] AS [AvePrice_Rounding], 
    [Extent1].[Issue_Date] AS [Issue_Date], 
    [Extent1].[Maturity_Date] AS [Maturity_Date], 
    [Extent1].[Coupon_Rate] AS [Coupon_Rate], 
    [Extent1].[Price_Exchange] AS [Price_Exchange], 
    [Extent1].[Trade_Currency] AS [Trade_Currency], 
    [Extent1].[Price_Curr] AS [Price_Curr], 
    [Extent1].[Currency_Pair_Code] AS [Currency_Pair_Code], 
    [Extent1].[Share_Class] AS [Share_Class], 
    [Extent1].[Current_Market_Price] AS [Current_Market_Price], 
    [Extent1].[Index_Type] AS [Index_Type], 
    [Extent1].[Clean_Price_Formula] AS [Clean_Price_Formula], 
    [Extent1].[Accrued_Income_Price_Formula] AS [Accrued_Income_Price_Formula], 
    [Extent1].[Odd_First_Coupon_Date] AS [Odd_First_Coupon_Date], 
    [Extent1].[Odd_Last_Coupon_Date] AS [Odd_Last_Coupon_Date], 
    [Extent1].[Coupon_Anniversary_Indicator] AS [Coupon_Anniversary_Indicator], 
    [Extent1].[Track_EOM_Flag] AS [Track_EOM_Flag], 
    [Extent1].[Next_Coupon_Date] AS [Next_Coupon_Date], 
    [Extent1].[Previous_Coupon_Date] AS [Previous_Coupon_Date], 
    [Extent1].[Payment_Frequency] AS [Payment_Frequency], 
    [Extent1].[Coupon_BusDay_Adjustment] AS [Coupon_BusDay_Adjustment], 
    [Extent1].[Next_Ex_Div_Date] AS [Next_Ex_Div_Date], 
    [Extent1].[Ex_Div_BusDay_Adjustment] AS [Ex_Div_BusDay_Adjustment], 
    [Extent1].[Ex_Div_Period] AS [Ex_Div_Period], 
    [Extent1].[Ticker] AS [Ticker], 
    [Extent1].[Inet_ID] AS [Inet_ID], 
    [Extent1].[Bloomberg_ID] AS [Bloomberg_ID], 
    [Extent1].[External_Sec_ID] AS [External_Sec_ID], 
    [Extent1].[Reuters_ID] AS [Reuters_ID], 
    [Extent1].[ISIN] AS [ISIN], 
    [Extent1].[Call_Account_Flag] AS [Call_Account_Flag], 
    [Extent1].[System_Locked] AS [System_Locked], 
    [Extent1].[Last_Update_User] AS [Last_Update_User], 
    [Extent1].[Last_Update_Date] AS [Last_Update_Date], 
    [Extent1].[Security_Status] AS [Security_Status], 
    [Extent1].[Benchmark_Portfolio] AS [Benchmark_Portfolio], 
    [Extent1].[Active_flag] AS [Active_flag], 
    [Extent1].[Dividend_FX_Security_ID] AS [Dividend_FX_Security_ID]
    FROM [dbo].[Security_Detail] AS [Extent1]
2018-04-07 16:52:50.9531|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: SELECT 
    [Extent1].[Security_ID] AS [Security_ID], 
    [Extent1].[Entity_ID] AS [Entity_ID], 
    [Extent1].[Security_Name] AS [Security_Name], 
    [Extent1].[Short_Name] AS [Short_Name], 
    [Extent1].[Primary_Exch] AS [Primary_Exch], 
    [Extent1].[Secondary_Exch] AS [Secondary_Exch], 
    [Extent1].[Country_Of_Domicile] AS [Country_Of_Domicile], 
    [Extent1].[Country_Of_Risk] AS [Country_Of_Risk], 
    [Extent1].[Security_Type_Code] AS [Security_Type_Code], 
    [Extent1].[Price_Multiplier] AS [Price_Multiplier], 
    [Extent1].[Income_Frequency] AS [Income_Frequency], 
    [Extent1].[Issuer_Code] AS [Issuer_Code], 
    [Extent1].[Ultimate_Issuer_Code] AS [Ultimate_Issuer_Code], 
    [Extent1].[Asset_Currency] AS [Asset_Currency], 
    [Extent1].[Min_Lot_Size] AS [Min_Lot_Size], 
    [Extent1].[Decimal_Precision] AS [Decimal_Precision], 
    [Extent1].[AvePrice_Rounding] AS [AvePrice_Rounding], 
    [Extent1].[Issue_Date] AS [Issue_Date], 
    [Extent1].[Maturity_Date] AS [Maturity_Date], 
    [Extent1].[Coupon_Rate] AS [Coupon_Rate], 
    [Extent1].[Price_Exchange] AS [Price_Exchange], 
    [Extent1].[Trade_Currency] AS [Trade_Currency], 
    [Extent1].[Price_Curr] AS [Price_Curr], 
    [Extent1].[Currency_Pair_Code] AS [Currency_Pair_Code], 
    [Extent1].[Share_Class] AS [Share_Class], 
    [Extent1].[Current_Market_Price] AS [Current_Market_Price], 
    [Extent1].[Index_Type] AS [Index_Type], 
    [Extent1].[Clean_Price_Formula] AS [Clean_Price_Formula], 
    [Extent1].[Accrued_Income_Price_Formula] AS [Accrued_Income_Price_Formula], 
    [Extent1].[Odd_First_Coupon_Date] AS [Odd_First_Coupon_Date], 
    [Extent1].[Odd_Last_Coupon_Date] AS [Odd_Last_Coupon_Date], 
    [Extent1].[Coupon_Anniversary_Indicator] AS [Coupon_Anniversary_Indicator], 
    [Extent1].[Track_EOM_Flag] AS [Track_EOM_Flag], 
    [Extent1].[Next_Coupon_Date] AS [Next_Coupon_Date], 
    [Extent1].[Previous_Coupon_Date] AS [Previous_Coupon_Date], 
    [Extent1].[Payment_Frequency] AS [Payment_Frequency], 
    [Extent1].[Coupon_BusDay_Adjustment] AS [Coupon_BusDay_Adjustment], 
    [Extent1].[Next_Ex_Div_Date] AS [Next_Ex_Div_Date], 
    [Extent1].[Ex_Div_BusDay_Adjustment] AS [Ex_Div_BusDay_Adjustment], 
    [Extent1].[Ex_Div_Period] AS [Ex_Div_Period], 
    [Extent1].[Ticker] AS [Ticker], 
    [Extent1].[Inet_ID] AS [Inet_ID], 
    [Extent1].[Bloomberg_ID] AS [Bloomberg_ID], 
    [Extent1].[External_Sec_ID] AS [External_Sec_ID], 
    [Extent1].[Reuters_ID] AS [Reuters_ID], 
    [Extent1].[ISIN] AS [ISIN], 
    [Extent1].[Call_Account_Flag] AS [Call_Account_Flag], 
    [Extent1].[System_Locked] AS [System_Locked], 
    [Extent1].[Last_Update_User] AS [Last_Update_User], 
    [Extent1].[Last_Update_Date] AS [Last_Update_Date], 
    [Extent1].[Security_Status] AS [Security_Status], 
    [Extent1].[Benchmark_Portfolio] AS [Benchmark_Portfolio], 
    [Extent1].[Active_flag] AS [Active_flag], 
    [Extent1].[Dividend_FX_Security_ID] AS [Dividend_FX_Security_ID]
    FROM [dbo].[Security_Detail] AS [Extent1]
2018-04-07 16:52:50.9741|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: IF db_id(N'MetopeAzureDb') IS NOT NULL SELECT 1 ELSE SELECT Count(*) FROM sys.databases WHERE [name]=N'MetopeAzureDb'
2018-04-07 16:52:51.0516|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: IF db_id(N'MetopeAzureDb') IS NOT NULL SELECT 1 ELSE SELECT Count(*) FROM sys.databases WHERE [name]=N'MetopeAzureDb'
2018-04-07 16:52:51.1492|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: IF db_id(N'MetopeAzureDb') IS NOT NULL SELECT 1 ELSE SELECT Count(*) FROM sys.databases WHERE [name]=N'MetopeAzureDb'
2018-04-07 16:52:51.2103|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: IF db_id(N'MetopeAzureDb') IS NOT NULL SELECT 1 ELSE SELECT Count(*) FROM sys.databases WHERE [name]=N'MetopeAzureDb'
2018-04-07 16:52:54.0354|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: SELECT 
    [Extent1].[Security_ID] AS [Security_ID], 
    [Extent1].[Entity_ID] AS [Entity_ID], 
    [Extent1].[Security_Name] AS [Security_Name], 
    [Extent1].[Short_Name] AS [Short_Name], 
    [Extent1].[Primary_Exch] AS [Primary_Exch], 
    [Extent1].[Secondary_Exch] AS [Secondary_Exch], 
    [Extent1].[Country_Of_Domicile] AS [Country_Of_Domicile], 
    [Extent1].[Country_Of_Risk] AS [Country_Of_Risk], 
    [Extent1].[Security_Type_Code] AS [Security_Type_Code], 
    [Extent1].[Price_Multiplier] AS [Price_Multiplier], 
    [Extent1].[Income_Frequency] AS [Income_Frequency], 
    [Extent1].[Issuer_Code] AS [Issuer_Code], 
    [Extent1].[Ultimate_Issuer_Code] AS [Ultimate_Issuer_Code], 
    [Extent1].[Asset_Currency] AS [Asset_Currency], 
    [Extent1].[Min_Lot_Size] AS [Min_Lot_Size], 
    [Extent1].[Decimal_Precision] AS [Decimal_Precision], 
    [Extent1].[AvePrice_Rounding] AS [AvePrice_Rounding], 
    [Extent1].[Issue_Date] AS [Issue_Date], 
    [Extent1].[Maturity_Date] AS [Maturity_Date], 
    [Extent1].[Coupon_Rate] AS [Coupon_Rate], 
    [Extent1].[Price_Exchange] AS [Price_Exchange], 
    [Extent1].[Trade_Currency] AS [Trade_Currency], 
    [Extent1].[Price_Curr] AS [Price_Curr], 
    [Extent1].[Currency_Pair_Code] AS [Currency_Pair_Code], 
    [Extent1].[Share_Class] AS [Share_Class], 
    [Extent1].[Current_Market_Price] AS [Current_Market_Price], 
    [Extent1].[Index_Type] AS [Index_Type], 
    [Extent1].[Clean_Price_Formula] AS [Clean_Price_Formula], 
    [Extent1].[Accrued_Income_Price_Formula] AS [Accrued_Income_Price_Formula], 
    [Extent1].[Odd_First_Coupon_Date] AS [Odd_First_Coupon_Date], 
    [Extent1].[Odd_Last_Coupon_Date] AS [Odd_Last_Coupon_Date], 
    [Extent1].[Coupon_Anniversary_Indicator] AS [Coupon_Anniversary_Indicator], 
    [Extent1].[Track_EOM_Flag] AS [Track_EOM_Flag], 
    [Extent1].[Next_Coupon_Date] AS [Next_Coupon_Date], 
    [Extent1].[Previous_Coupon_Date] AS [Previous_Coupon_Date], 
    [Extent1].[Payment_Frequency] AS [Payment_Frequency], 
    [Extent1].[Coupon_BusDay_Adjustment] AS [Coupon_BusDay_Adjustment], 
    [Extent1].[Next_Ex_Div_Date] AS [Next_Ex_Div_Date], 
    [Extent1].[Ex_Div_BusDay_Adjustment] AS [Ex_Div_BusDay_Adjustment], 
    [Extent1].[Ex_Div_Period] AS [Ex_Div_Period], 
    [Extent1].[Ticker] AS [Ticker], 
    [Extent1].[Inet_ID] AS [Inet_ID], 
    [Extent1].[Bloomberg_ID] AS [Bloomberg_ID], 
    [Extent1].[External_Sec_ID] AS [External_Sec_ID], 
    [Extent1].[Reuters_ID] AS [Reuters_ID], 
    [Extent1].[ISIN] AS [ISIN], 
    [Extent1].[Call_Account_Flag] AS [Call_Account_Flag], 
    [Extent1].[System_Locked] AS [System_Locked], 
    [Extent1].[Last_Update_User] AS [Last_Update_User], 
    [Extent1].[Last_Update_Date] AS [Last_Update_Date], 
    [Extent1].[Security_Status] AS [Security_Status], 
    [Extent1].[Benchmark_Portfolio] AS [Benchmark_Portfolio], 
    [Extent1].[Active_flag] AS [Active_flag], 
    [Extent1].[Dividend_FX_Security_ID] AS [Dividend_FX_Security_ID]
    FROM [dbo].[Security_Detail] AS [Extent1]
2018-04-07 16:52:54.0909|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: SELECT 
    [Extent1].[Security_ID] AS [Security_ID], 
    [Extent1].[Entity_ID] AS [Entity_ID], 
    [Extent1].[Security_Name] AS [Security_Name], 
    [Extent1].[Short_Name] AS [Short_Name], 
    [Extent1].[Primary_Exch] AS [Primary_Exch], 
    [Extent1].[Secondary_Exch] AS [Secondary_Exch], 
    [Extent1].[Country_Of_Domicile] AS [Country_Of_Domicile], 
    [Extent1].[Country_Of_Risk] AS [Country_Of_Risk], 
    [Extent1].[Security_Type_Code] AS [Security_Type_Code], 
    [Extent1].[Price_Multiplier] AS [Price_Multiplier], 
    [Extent1].[Income_Frequency] AS [Income_Frequency], 
    [Extent1].[Issuer_Code] AS [Issuer_Code], 
    [Extent1].[Ultimate_Issuer_Code] AS [Ultimate_Issuer_Code], 
    [Extent1].[Asset_Currency] AS [Asset_Currency], 
    [Extent1].[Min_Lot_Size] AS [Min_Lot_Size], 
    [Extent1].[Decimal_Precision] AS [Decimal_Precision], 
    [Extent1].[AvePrice_Rounding] AS [AvePrice_Rounding], 
    [Extent1].[Issue_Date] AS [Issue_Date], 
    [Extent1].[Maturity_Date] AS [Maturity_Date], 
    [Extent1].[Coupon_Rate] AS [Coupon_Rate], 
    [Extent1].[Price_Exchange] AS [Price_Exchange], 
    [Extent1].[Trade_Currency] AS [Trade_Currency], 
    [Extent1].[Price_Curr] AS [Price_Curr], 
    [Extent1].[Currency_Pair_Code] AS [Currency_Pair_Code], 
    [Extent1].[Share_Class] AS [Share_Class], 
    [Extent1].[Current_Market_Price] AS [Current_Market_Price], 
    [Extent1].[Index_Type] AS [Index_Type], 
    [Extent1].[Clean_Price_Formula] AS [Clean_Price_Formula], 
    [Extent1].[Accrued_Income_Price_Formula] AS [Accrued_Income_Price_Formula], 
    [Extent1].[Odd_First_Coupon_Date] AS [Odd_First_Coupon_Date], 
    [Extent1].[Odd_Last_Coupon_Date] AS [Odd_Last_Coupon_Date], 
    [Extent1].[Coupon_Anniversary_Indicator] AS [Coupon_Anniversary_Indicator], 
    [Extent1].[Track_EOM_Flag] AS [Track_EOM_Flag], 
    [Extent1].[Next_Coupon_Date] AS [Next_Coupon_Date], 
    [Extent1].[Previous_Coupon_Date] AS [Previous_Coupon_Date], 
    [Extent1].[Payment_Frequency] AS [Payment_Frequency], 
    [Extent1].[Coupon_BusDay_Adjustment] AS [Coupon_BusDay_Adjustment], 
    [Extent1].[Next_Ex_Div_Date] AS [Next_Ex_Div_Date], 
    [Extent1].[Ex_Div_BusDay_Adjustment] AS [Ex_Div_BusDay_Adjustment], 
    [Extent1].[Ex_Div_Period] AS [Ex_Div_Period], 
    [Extent1].[Ticker] AS [Ticker], 
    [Extent1].[Inet_ID] AS [Inet_ID], 
    [Extent1].[Bloomberg_ID] AS [Bloomberg_ID], 
    [Extent1].[External_Sec_ID] AS [External_Sec_ID], 
    [Extent1].[Reuters_ID] AS [Reuters_ID], 
    [Extent1].[ISIN] AS [ISIN], 
    [Extent1].[Call_Account_Flag] AS [Call_Account_Flag], 
    [Extent1].[System_Locked] AS [System_Locked], 
    [Extent1].[Last_Update_User] AS [Last_Update_User], 
    [Extent1].[Last_Update_Date] AS [Last_Update_Date], 
    [Extent1].[Security_Status] AS [Security_Status], 
    [Extent1].[Benchmark_Portfolio] AS [Benchmark_Portfolio], 
    [Extent1].[Active_flag] AS [Active_flag], 
    [Extent1].[Dividend_FX_Security_ID] AS [Dividend_FX_Security_ID]
    FROM [dbo].[Security_Detail] AS [Extent1]
2018-04-07 16:52:54.1660|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: SELECT 
    [Extent1].[Security_ID] AS [Security_ID], 
    [Extent1].[Entity_ID] AS [Entity_ID], 
    [Extent1].[Security_Name] AS [Security_Name], 
    [Extent1].[Short_Name] AS [Short_Name], 
    [Extent1].[Primary_Exch] AS [Primary_Exch], 
    [Extent1].[Secondary_Exch] AS [Secondary_Exch], 
    [Extent1].[Country_Of_Domicile] AS [Country_Of_Domicile], 
    [Extent1].[Country_Of_Risk] AS [Country_Of_Risk], 
    [Extent1].[Security_Type_Code] AS [Security_Type_Code], 
    [Extent1].[Price_Multiplier] AS [Price_Multiplier], 
    [Extent1].[Income_Frequency] AS [Income_Frequency], 
    [Extent1].[Issuer_Code] AS [Issuer_Code], 
    [Extent1].[Ultimate_Issuer_Code] AS [Ultimate_Issuer_Code], 
    [Extent1].[Asset_Currency] AS [Asset_Currency], 
    [Extent1].[Min_Lot_Size] AS [Min_Lot_Size], 
    [Extent1].[Decimal_Precision] AS [Decimal_Precision], 
    [Extent1].[AvePrice_Rounding] AS [AvePrice_Rounding], 
    [Extent1].[Issue_Date] AS [Issue_Date], 
    [Extent1].[Maturity_Date] AS [Maturity_Date], 
    [Extent1].[Coupon_Rate] AS [Coupon_Rate], 
    [Extent1].[Price_Exchange] AS [Price_Exchange], 
    [Extent1].[Trade_Currency] AS [Trade_Currency], 
    [Extent1].[Price_Curr] AS [Price_Curr], 
    [Extent1].[Currency_Pair_Code] AS [Currency_Pair_Code], 
    [Extent1].[Share_Class] AS [Share_Class], 
    [Extent1].[Current_Market_Price] AS [Current_Market_Price], 
    [Extent1].[Index_Type] AS [Index_Type], 
    [Extent1].[Clean_Price_Formula] AS [Clean_Price_Formula], 
    [Extent1].[Accrued_Income_Price_Formula] AS [Accrued_Income_Price_Formula], 
    [Extent1].[Odd_First_Coupon_Date] AS [Odd_First_Coupon_Date], 
    [Extent1].[Odd_Last_Coupon_Date] AS [Odd_Last_Coupon_Date], 
    [Extent1].[Coupon_Anniversary_Indicator] AS [Coupon_Anniversary_Indicator], 
    [Extent1].[Track_EOM_Flag] AS [Track_EOM_Flag], 
    [Extent1].[Next_Coupon_Date] AS [Next_Coupon_Date], 
    [Extent1].[Previous_Coupon_Date] AS [Previous_Coupon_Date], 
    [Extent1].[Payment_Frequency] AS [Payment_Frequency], 
    [Extent1].[Coupon_BusDay_Adjustment] AS [Coupon_BusDay_Adjustment], 
    [Extent1].[Next_Ex_Div_Date] AS [Next_Ex_Div_Date], 
    [Extent1].[Ex_Div_BusDay_Adjustment] AS [Ex_Div_BusDay_Adjustment], 
    [Extent1].[Ex_Div_Period] AS [Ex_Div_Period], 
    [Extent1].[Ticker] AS [Ticker], 
    [Extent1].[Inet_ID] AS [Inet_ID], 
    [Extent1].[Bloomberg_ID] AS [Bloomberg_ID], 
    [Extent1].[External_Sec_ID] AS [External_Sec_ID], 
    [Extent1].[Reuters_ID] AS [Reuters_ID], 
    [Extent1].[ISIN] AS [ISIN], 
    [Extent1].[Call_Account_Flag] AS [Call_Account_Flag], 
    [Extent1].[System_Locked] AS [System_Locked], 
    [Extent1].[Last_Update_User] AS [Last_Update_User], 
    [Extent1].[Last_Update_Date] AS [Last_Update_Date], 
    [Extent1].[Security_Status] AS [Security_Status], 
    [Extent1].[Benchmark_Portfolio] AS [Benchmark_Portfolio], 
    [Extent1].[Active_flag] AS [Active_flag], 
    [Extent1].[Dividend_FX_Security_ID] AS [Dividend_FX_Security_ID]
    FROM [dbo].[Security_Detail] AS [Extent1]
2018-04-07 16:52:54.2005|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: SELECT 
    [Extent1].[Security_ID] AS [Security_ID], 
    [Extent1].[Entity_ID] AS [Entity_ID], 
    [Extent1].[Security_Name] AS [Security_Name], 
    [Extent1].[Short_Name] AS [Short_Name], 
    [Extent1].[Primary_Exch] AS [Primary_Exch], 
    [Extent1].[Secondary_Exch] AS [Secondary_Exch], 
    [Extent1].[Country_Of_Domicile] AS [Country_Of_Domicile], 
    [Extent1].[Country_Of_Risk] AS [Country_Of_Risk], 
    [Extent1].[Security_Type_Code] AS [Security_Type_Code], 
    [Extent1].[Price_Multiplier] AS [Price_Multiplier], 
    [Extent1].[Income_Frequency] AS [Income_Frequency], 
    [Extent1].[Issuer_Code] AS [Issuer_Code], 
    [Extent1].[Ultimate_Issuer_Code] AS [Ultimate_Issuer_Code], 
    [Extent1].[Asset_Currency] AS [Asset_Currency], 
    [Extent1].[Min_Lot_Size] AS [Min_Lot_Size], 
    [Extent1].[Decimal_Precision] AS [Decimal_Precision], 
    [Extent1].[AvePrice_Rounding] AS [AvePrice_Rounding], 
    [Extent1].[Issue_Date] AS [Issue_Date], 
    [Extent1].[Maturity_Date] AS [Maturity_Date], 
    [Extent1].[Coupon_Rate] AS [Coupon_Rate], 
    [Extent1].[Price_Exchange] AS [Price_Exchange], 
    [Extent1].[Trade_Currency] AS [Trade_Currency], 
    [Extent1].[Price_Curr] AS [Price_Curr], 
    [Extent1].[Currency_Pair_Code] AS [Currency_Pair_Code], 
    [Extent1].[Share_Class] AS [Share_Class], 
    [Extent1].[Current_Market_Price] AS [Current_Market_Price], 
    [Extent1].[Index_Type] AS [Index_Type], 
    [Extent1].[Clean_Price_Formula] AS [Clean_Price_Formula], 
    [Extent1].[Accrued_Income_Price_Formula] AS [Accrued_Income_Price_Formula], 
    [Extent1].[Odd_First_Coupon_Date] AS [Odd_First_Coupon_Date], 
    [Extent1].[Odd_Last_Coupon_Date] AS [Odd_Last_Coupon_Date], 
    [Extent1].[Coupon_Anniversary_Indicator] AS [Coupon_Anniversary_Indicator], 
    [Extent1].[Track_EOM_Flag] AS [Track_EOM_Flag], 
    [Extent1].[Next_Coupon_Date] AS [Next_Coupon_Date], 
    [Extent1].[Previous_Coupon_Date] AS [Previous_Coupon_Date], 
    [Extent1].[Payment_Frequency] AS [Payment_Frequency], 
    [Extent1].[Coupon_BusDay_Adjustment] AS [Coupon_BusDay_Adjustment], 
    [Extent1].[Next_Ex_Div_Date] AS [Next_Ex_Div_Date], 
    [Extent1].[Ex_Div_BusDay_Adjustment] AS [Ex_Div_BusDay_Adjustment], 
    [Extent1].[Ex_Div_Period] AS [Ex_Div_Period], 
    [Extent1].[Ticker] AS [Ticker], 
    [Extent1].[Inet_ID] AS [Inet_ID], 
    [Extent1].[Bloomberg_ID] AS [Bloomberg_ID], 
    [Extent1].[External_Sec_ID] AS [External_Sec_ID], 
    [Extent1].[Reuters_ID] AS [Reuters_ID], 
    [Extent1].[ISIN] AS [ISIN], 
    [Extent1].[Call_Account_Flag] AS [Call_Account_Flag], 
    [Extent1].[System_Locked] AS [System_Locked], 
    [Extent1].[Last_Update_User] AS [Last_Update_User], 
    [Extent1].[Last_Update_Date] AS [Last_Update_Date], 
    [Extent1].[Security_Status] AS [Security_Status], 
    [Extent1].[Benchmark_Portfolio] AS [Benchmark_Portfolio], 
    [Extent1].[Active_flag] AS [Active_flag], 
    [Extent1].[Dividend_FX_Security_ID] AS [Dividend_FX_Security_ID]
    FROM [dbo].[Security_Detail] AS [Extent1]
2018-04-07 16:52:54.2395|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: IF db_id(N'MetopeAzureDb') IS NOT NULL SELECT 1 ELSE SELECT Count(*) FROM sys.databases WHERE [name]=N'MetopeAzureDb'
2018-04-07 16:52:54.3631|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: IF db_id(N'MetopeAzureDb') IS NOT NULL SELECT 1 ELSE SELECT Count(*) FROM sys.databases WHERE [name]=N'MetopeAzureDb'
2018-04-07 16:52:54.4577|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: IF db_id(N'MetopeAzureDb') IS NOT NULL SELECT 1 ELSE SELECT Count(*) FROM sys.databases WHERE [name]=N'MetopeAzureDb'
2018-04-07 16:52:54.5703|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: IF db_id(N'MetopeAzureDb') IS NOT NULL SELECT 1 ELSE SELECT Count(*) FROM sys.databases WHERE [name]=N'MetopeAzureDb'
2018-04-07 16:52:57.8996|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: SELECT 
    [Project1].[Decimal_Precision] AS [Decimal_Precision], 
    [Project1].[Security_ID] AS [Security_ID], 
    [Project1].[Portfolio_Code] AS [Portfolio_Code], 
    [Project1].[Entity_ID] AS [Entity_ID], 
    [Project1].[ModDietz_Performance_Quarterly] AS [ModDietz_Performance_Quarterly], 
    [Project1].[ModDietz_Performance_Monthly] AS [ModDietz_Performance_Monthly], 
    [Project1].[ModDietz_Performance_MonthToDate] AS [ModDietz_Performance_MonthToDate], 
    [Project1].[Dietz_Performance_Quarterly] AS [Dietz_Performance_Quarterly], 
    [Project1].[Dietz_Performance_Monthly] AS [Dietz_Performance_Monthly], 
    [Project1].[Dietz_Performance_MonthToDate] AS [Dietz_Performance_MonthToDate], 
    [Project1].[Last_Update_Date] AS [Last_Update_Date], 
    [Project1].[Last_Update_User] AS [Last_Update_User], 
    [Project1].[Record_Date] AS [Record_Date], 
    [Project1].[Session_ID] AS [Session_ID], 
    [Project1].[Hist_Last_Update_Date] AS [Hist_Last_Update_Date], 
    [Project1].[Hist_Last_Update_User] AS [Hist_Last_Update_User], 
    [Project1].[Security_ID1] AS [Security_ID1], 
    [Project1].[Entity_ID1] AS [Entity_ID1], 
    [Project1].[Security_Name] AS [Security_Name], 
    [Project1].[Short_Name] AS [Short_Name], 
    [Project1].[Primary_Exch] AS [Primary_Exch], 
    [Project1].[Secondary_Exch] AS [Secondary_Exch], 
    [Project1].[Country_Of_Domicile] AS [Country_Of_Domicile], 
    [Project1].[Country_Of_Risk] AS [Country_Of_Risk], 
    [Project1].[Security_Type_Code] AS [Security_Type_Code], 
    [Project1].[Price_Multiplier] AS [Price_Multiplier], 
    [Project1].[Income_Frequency] AS [Income_Frequency], 
    [Project1].[Issuer_Code] AS [Issuer_Code], 
    [Project1].[Ultimate_Issuer_Code] AS [Ultimate_Issuer_Code], 
    [Project1].[Asset_Currency] AS [Asset_Currency], 
    [Project1].[Min_Lot_Size] AS [Min_Lot_Size], 
    [Project1].[AvePrice_Rounding] AS [AvePrice_Rounding], 
    [Project1].[Issue_Date] AS [Issue_Date], 
    [Project1].[Maturity_Date] AS [Maturity_Date], 
    [Project1].[Coupon_Rate] AS [Coupon_Rate], 
    [Project1].[Price_Exchange] AS [Price_Exchange], 
    [Project1].[Trade_Currency] AS [Trade_Currency], 
    [Project1].[Price_Curr] AS [Price_Curr], 
    [Project1].[Currency_Pair_Code] AS [Currency_Pair_Code], 
    [Project1].[Share_Class] AS [Share_Class], 
    [Project1].[Current_Market_Price] AS [Current_Market_Price], 
    [Project1].[Index_Type] AS [Index_Type], 
    [Project1].[Clean_Price_Formula] AS [Clean_Price_Formula], 
    [Project1].[Accrued_Income_Price_Formula] AS [Accrued_Income_Price_Formula], 
    [Project1].[Odd_First_Coupon_Date] AS [Odd_First_Coupon_Date], 
    [Project1].[Odd_Last_Coupon_Date] AS [Odd_Last_Coupon_Date], 
    [Project1].[Coupon_Anniversary_Indicator] AS [Coupon_Anniversary_Indicator], 
    [Project1].[Track_EOM_Flag] AS [Track_EOM_Flag], 
    [Project1].[Next_Coupon_Date] AS [Next_Coupon_Date], 
    [Project1].[Previous_Coupon_Date] AS [Previous_Coupon_Date], 
    [Project1].[Payment_Frequency] AS [Payment_Frequency], 
    [Project1].[Coupon_BusDay_Adjustment] AS [Coupon_BusDay_Adjustment], 
    [Project1].[Next_Ex_Div_Date] AS [Next_Ex_Div_Date], 
    [Project1].[Ex_Div_BusDay_Adjustment] AS [Ex_Div_BusDay_Adjustment], 
    [Project1].[Ex_Div_Period] AS [Ex_Div_Period], 
    [Project1].[Ticker] AS [Ticker], 
    [Project1].[Inet_ID] AS [Inet_ID], 
    [Project1].[Bloomberg_ID] AS [Bloomberg_ID], 
    [Project1].[External_Sec_ID] AS [External_Sec_ID], 
    [Project1].[Reuters_ID] AS [Reuters_ID], 
    [Project1].[ISIN] AS [ISIN], 
    [Project1].[Call_Account_Flag] AS [Call_Account_Flag], 
    [Project1].[System_Locked] AS [System_Locked], 
    [Project1].[Last_Update_User1] AS [Last_Update_User1], 
    [Project1].[Last_Update_Date1] AS [Last_Update_Date1], 
    [Project1].[Security_Status] AS [Security_Status], 
    [Project1].[Benchmark_Portfolio] AS [Benchmark_Portfolio], 
    [Project1].[Active_flag] AS [Active_flag], 
    [Project1].[Dividend_FX_Security_ID] AS [Dividend_FX_Security_ID]
    FROM ( SELECT 
        [Extent1].[Security_ID] AS [Security_ID], 
        [Extent1].[Portfolio_Code] AS [Portfolio_Code], 
        [Extent1].[Entity_ID] AS [Entity_ID], 
        [Extent1].[ModDietz_Performance_Quarterly] AS [ModDietz_Performance_Quarterly], 
        [Extent1].[ModDietz_Performance_Monthly] AS [ModDietz_Performance_Monthly], 
        [Extent1].[ModDietz_Performance_MonthToDate] AS [ModDietz_Performance_MonthToDate], 
        [Extent1].[Dietz_Performance_Quarterly] AS [Dietz_Performance_Quarterly], 
        [Extent1].[Dietz_Performance_Monthly] AS [Dietz_Performance_Monthly], 
        [Extent1].[Dietz_Performance_MonthToDate] AS [Dietz_Performance_MonthToDate], 
        [Extent1].[Last_Update_Date] AS [Last_Update_Date], 
        [Extent1].[Last_Update_User] AS [Last_Update_User], 
        [Extent1].[Record_Date] AS [Record_Date], 
        [Extent1].[Session_ID] AS [Session_ID], 
        [Extent1].[Hist_Last_Update_Date] AS [Hist_Last_Update_Date], 
        [Extent1].[Hist_Last_Update_User] AS [Hist_Last_Update_User], 
        [Extent2].[Security_ID] AS [Security_ID1], 
        [Extent2].[Entity_ID] AS [Entity_ID1], 
        [Extent2].[Security_Name] AS [Security_Name], 
        [Extent2].[Short_Name] AS [Short_Name], 
        [Extent2].[Primary_Exch] AS [Primary_Exch], 
        [Extent2].[Secondary_Exch] AS [Secondary_Exch], 
        [Extent2].[Country_Of_Domicile] AS [Country_Of_Domicile], 
        [Extent2].[Country_Of_Risk] AS [Country_Of_Risk], 
        [Extent2].[Security_Type_Code] AS [Security_Type_Code], 
        [Extent2].[Price_Multiplier] AS [Price_Multiplier], 
        [Extent2].[Income_Frequency] AS [Income_Frequency], 
        [Extent2].[Issuer_Code] AS [Issuer_Code], 
        [Extent2].[Ultimate_Issuer_Code] AS [Ultimate_Issuer_Code], 
        [Extent2].[Asset_Currency] AS [Asset_Currency], 
        [Extent2].[Min_Lot_Size] AS [Min_Lot_Size], 
        [Extent2].[Decimal_Precision] AS [Decimal_Precision], 
        [Extent2].[AvePrice_Rounding] AS [AvePrice_Rounding], 
        [Extent2].[Issue_Date] AS [Issue_Date], 
        [Extent2].[Maturity_Date] AS [Maturity_Date], 
        [Extent2].[Coupon_Rate] AS [Coupon_Rate], 
        [Extent2].[Price_Exchange] AS [Price_Exchange], 
        [Extent2].[Trade_Currency] AS [Trade_Currency], 
        [Extent2].[Price_Curr] AS [Price_Curr], 
        [Extent2].[Currency_Pair_Code] AS [Currency_Pair_Code], 
        [Extent2].[Share_Class] AS [Share_Class], 
        [Extent2].[Current_Market_Price] AS [Current_Market_Price], 
        [Extent2].[Index_Type] AS [Index_Type], 
        [Extent2].[Clean_Price_Formula] AS [Clean_Price_Formula], 
        [Extent2].[Accrued_Income_Price_Formula] AS [Accrued_Income_Price_Formula], 
        [Extent2].[Odd_First_Coupon_Date] AS [Odd_First_Coupon_Date], 
        [Extent2].[Odd_Last_Coupon_Date] AS [Odd_Last_Coupon_Date], 
        [Extent2].[Coupon_Anniversary_Indicator] AS [Coupon_Anniversary_Indicator], 
        [Extent2].[Track_EOM_Flag] AS [Track_EOM_Flag], 
        [Extent2].[Next_Coupon_Date] AS [Next_Coupon_Date], 
        [Extent2].[Previous_Coupon_Date] AS [Previous_Coupon_Date], 
        [Extent2].[Payment_Frequency] AS [Payment_Frequency], 
        [Extent2].[Coupon_BusDay_Adjustment] AS [Coupon_BusDay_Adjustment], 
        [Extent2].[Next_Ex_Div_Date] AS [Next_Ex_Div_Date], 
        [Extent2].[Ex_Div_BusDay_Adjustment] AS [Ex_Div_BusDay_Adjustment], 
        [Extent2].[Ex_Div_Period] AS [Ex_Div_Period], 
        [Extent2].[Ticker] AS [Ticker], 
        [Extent2].[Inet_ID] AS [Inet_ID], 
        [Extent2].[Bloomberg_ID] AS [Bloomberg_ID], 
        [Extent2].[External_Sec_ID] AS [External_Sec_ID], 
        [Extent2].[Reuters_ID] AS [Reuters_ID], 
        [Extent2].[ISIN] AS [ISIN], 
        [Extent2].[Call_Account_Flag] AS [Call_Account_Flag], 
        [Extent2].[System_Locked] AS [System_Locked], 
        [Extent2].[Last_Update_User] AS [Last_Update_User1], 
        [Extent2].[Last_Update_Date] AS [Last_Update_Date1], 
        [Extent2].[Security_Status] AS [Security_Status], 
        [Extent2].[Benchmark_Portfolio] AS [Benchmark_Portfolio], 
        [Extent2].[Active_flag] AS [Active_flag], 
        [Extent2].[Dividend_FX_Security_ID] AS [Dividend_FX_Security_ID]
        FROM  [dbo].[Security_Performance_History] AS [Extent1]
        INNER JOIN [dbo].[Security_Detail] AS [Extent2] ON [Extent1].[Security_ID] = [Extent2].[Security_ID]
        WHERE ([Extent1].[Security_ID] = @p__linq__0) AND ([Extent1].[Portfolio_Code] = @p__linq__1)
    )  AS [Project1]
    ORDER BY [Project1].[Record_Date] DESC
2018-04-07 16:52:57.9581|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: SELECT 
    [Project1].[Decimal_Precision] AS [Decimal_Precision], 
    [Project1].[Security_ID] AS [Security_ID], 
    [Project1].[Portfolio_Code] AS [Portfolio_Code], 
    [Project1].[Entity_ID] AS [Entity_ID], 
    [Project1].[ModDietz_Performance_Quarterly] AS [ModDietz_Performance_Quarterly], 
    [Project1].[ModDietz_Performance_Monthly] AS [ModDietz_Performance_Monthly], 
    [Project1].[ModDietz_Performance_MonthToDate] AS [ModDietz_Performance_MonthToDate], 
    [Project1].[Dietz_Performance_Quarterly] AS [Dietz_Performance_Quarterly], 
    [Project1].[Dietz_Performance_Monthly] AS [Dietz_Performance_Monthly], 
    [Project1].[Dietz_Performance_MonthToDate] AS [Dietz_Performance_MonthToDate], 
    [Project1].[Last_Update_Date] AS [Last_Update_Date], 
    [Project1].[Last_Update_User] AS [Last_Update_User], 
    [Project1].[Record_Date] AS [Record_Date], 
    [Project1].[Session_ID] AS [Session_ID], 
    [Project1].[Hist_Last_Update_Date] AS [Hist_Last_Update_Date], 
    [Project1].[Hist_Last_Update_User] AS [Hist_Last_Update_User], 
    [Project1].[Security_ID1] AS [Security_ID1], 
    [Project1].[Entity_ID1] AS [Entity_ID1], 
    [Project1].[Security_Name] AS [Security_Name], 
    [Project1].[Short_Name] AS [Short_Name], 
    [Project1].[Primary_Exch] AS [Primary_Exch], 
    [Project1].[Secondary_Exch] AS [Secondary_Exch], 
    [Project1].[Country_Of_Domicile] AS [Country_Of_Domicile], 
    [Project1].[Country_Of_Risk] AS [Country_Of_Risk], 
    [Project1].[Security_Type_Code] AS [Security_Type_Code], 
    [Project1].[Price_Multiplier] AS [Price_Multiplier], 
    [Project1].[Income_Frequency] AS [Income_Frequency], 
    [Project1].[Issuer_Code] AS [Issuer_Code], 
    [Project1].[Ultimate_Issuer_Code] AS [Ultimate_Issuer_Code], 
    [Project1].[Asset_Currency] AS [Asset_Currency], 
    [Project1].[Min_Lot_Size] AS [Min_Lot_Size], 
    [Project1].[AvePrice_Rounding] AS [AvePrice_Rounding], 
    [Project1].[Issue_Date] AS [Issue_Date], 
    [Project1].[Maturity_Date] AS [Maturity_Date], 
    [Project1].[Coupon_Rate] AS [Coupon_Rate], 
    [Project1].[Price_Exchange] AS [Price_Exchange], 
    [Project1].[Trade_Currency] AS [Trade_Currency], 
    [Project1].[Price_Curr] AS [Price_Curr], 
    [Project1].[Currency_Pair_Code] AS [Currency_Pair_Code], 
    [Project1].[Share_Class] AS [Share_Class], 
    [Project1].[Current_Market_Price] AS [Current_Market_Price], 
    [Project1].[Index_Type] AS [Index_Type], 
    [Project1].[Clean_Price_Formula] AS [Clean_Price_Formula], 
    [Project1].[Accrued_Income_Price_Formula] AS [Accrued_Income_Price_Formula], 
    [Project1].[Odd_First_Coupon_Date] AS [Odd_First_Coupon_Date], 
    [Project1].[Odd_Last_Coupon_Date] AS [Odd_Last_Coupon_Date], 
    [Project1].[Coupon_Anniversary_Indicator] AS [Coupon_Anniversary_Indicator], 
    [Project1].[Track_EOM_Flag] AS [Track_EOM_Flag], 
    [Project1].[Next_Coupon_Date] AS [Next_Coupon_Date], 
    [Project1].[Previous_Coupon_Date] AS [Previous_Coupon_Date], 
    [Project1].[Payment_Frequency] AS [Payment_Frequency], 
    [Project1].[Coupon_BusDay_Adjustment] AS [Coupon_BusDay_Adjustment], 
    [Project1].[Next_Ex_Div_Date] AS [Next_Ex_Div_Date], 
    [Project1].[Ex_Div_BusDay_Adjustment] AS [Ex_Div_BusDay_Adjustment], 
    [Project1].[Ex_Div_Period] AS [Ex_Div_Period], 
    [Project1].[Ticker] AS [Ticker], 
    [Project1].[Inet_ID] AS [Inet_ID], 
    [Project1].[Bloomberg_ID] AS [Bloomberg_ID], 
    [Project1].[External_Sec_ID] AS [External_Sec_ID], 
    [Project1].[Reuters_ID] AS [Reuters_ID], 
    [Project1].[ISIN] AS [ISIN], 
    [Project1].[Call_Account_Flag] AS [Call_Account_Flag], 
    [Project1].[System_Locked] AS [System_Locked], 
    [Project1].[Last_Update_User1] AS [Last_Update_User1], 
    [Project1].[Last_Update_Date1] AS [Last_Update_Date1], 
    [Project1].[Security_Status] AS [Security_Status], 
    [Project1].[Benchmark_Portfolio] AS [Benchmark_Portfolio], 
    [Project1].[Active_flag] AS [Active_flag], 
    [Project1].[Dividend_FX_Security_ID] AS [Dividend_FX_Security_ID]
    FROM ( SELECT 
        [Extent1].[Security_ID] AS [Security_ID], 
        [Extent1].[Portfolio_Code] AS [Portfolio_Code], 
        [Extent1].[Entity_ID] AS [Entity_ID], 
        [Extent1].[ModDietz_Performance_Quarterly] AS [ModDietz_Performance_Quarterly], 
        [Extent1].[ModDietz_Performance_Monthly] AS [ModDietz_Performance_Monthly], 
        [Extent1].[ModDietz_Performance_MonthToDate] AS [ModDietz_Performance_MonthToDate], 
        [Extent1].[Dietz_Performance_Quarterly] AS [Dietz_Performance_Quarterly], 
        [Extent1].[Dietz_Performance_Monthly] AS [Dietz_Performance_Monthly], 
        [Extent1].[Dietz_Performance_MonthToDate] AS [Dietz_Performance_MonthToDate], 
        [Extent1].[Last_Update_Date] AS [Last_Update_Date], 
        [Extent1].[Last_Update_User] AS [Last_Update_User], 
        [Extent1].[Record_Date] AS [Record_Date], 
        [Extent1].[Session_ID] AS [Session_ID], 
        [Extent1].[Hist_Last_Update_Date] AS [Hist_Last_Update_Date], 
        [Extent1].[Hist_Last_Update_User] AS [Hist_Last_Update_User], 
        [Extent2].[Security_ID] AS [Security_ID1], 
        [Extent2].[Entity_ID] AS [Entity_ID1], 
        [Extent2].[Security_Name] AS [Security_Name], 
        [Extent2].[Short_Name] AS [Short_Name], 
        [Extent2].[Primary_Exch] AS [Primary_Exch], 
        [Extent2].[Secondary_Exch] AS [Secondary_Exch], 
        [Extent2].[Country_Of_Domicile] AS [Country_Of_Domicile], 
        [Extent2].[Country_Of_Risk] AS [Country_Of_Risk], 
        [Extent2].[Security_Type_Code] AS [Security_Type_Code], 
        [Extent2].[Price_Multiplier] AS [Price_Multiplier], 
        [Extent2].[Income_Frequency] AS [Income_Frequency], 
        [Extent2].[Issuer_Code] AS [Issuer_Code], 
        [Extent2].[Ultimate_Issuer_Code] AS [Ultimate_Issuer_Code], 
        [Extent2].[Asset_Currency] AS [Asset_Currency], 
        [Extent2].[Min_Lot_Size] AS [Min_Lot_Size], 
        [Extent2].[Decimal_Precision] AS [Decimal_Precision], 
        [Extent2].[AvePrice_Rounding] AS [AvePrice_Rounding], 
        [Extent2].[Issue_Date] AS [Issue_Date], 
        [Extent2].[Maturity_Date] AS [Maturity_Date], 
        [Extent2].[Coupon_Rate] AS [Coupon_Rate], 
        [Extent2].[Price_Exchange] AS [Price_Exchange], 
        [Extent2].[Trade_Currency] AS [Trade_Currency], 
        [Extent2].[Price_Curr] AS [Price_Curr], 
        [Extent2].[Currency_Pair_Code] AS [Currency_Pair_Code], 
        [Extent2].[Share_Class] AS [Share_Class], 
        [Extent2].[Current_Market_Price] AS [Current_Market_Price], 
        [Extent2].[Index_Type] AS [Index_Type], 
        [Extent2].[Clean_Price_Formula] AS [Clean_Price_Formula], 
        [Extent2].[Accrued_Income_Price_Formula] AS [Accrued_Income_Price_Formula], 
        [Extent2].[Odd_First_Coupon_Date] AS [Odd_First_Coupon_Date], 
        [Extent2].[Odd_Last_Coupon_Date] AS [Odd_Last_Coupon_Date], 
        [Extent2].[Coupon_Anniversary_Indicator] AS [Coupon_Anniversary_Indicator], 
        [Extent2].[Track_EOM_Flag] AS [Track_EOM_Flag], 
        [Extent2].[Next_Coupon_Date] AS [Next_Coupon_Date], 
        [Extent2].[Previous_Coupon_Date] AS [Previous_Coupon_Date], 
        [Extent2].[Payment_Frequency] AS [Payment_Frequency], 
        [Extent2].[Coupon_BusDay_Adjustment] AS [Coupon_BusDay_Adjustment], 
        [Extent2].[Next_Ex_Div_Date] AS [Next_Ex_Div_Date], 
        [Extent2].[Ex_Div_BusDay_Adjustment] AS [Ex_Div_BusDay_Adjustment], 
        [Extent2].[Ex_Div_Period] AS [Ex_Div_Period], 
        [Extent2].[Ticker] AS [Ticker], 
        [Extent2].[Inet_ID] AS [Inet_ID], 
        [Extent2].[Bloomberg_ID] AS [Bloomberg_ID], 
        [Extent2].[External_Sec_ID] AS [External_Sec_ID], 
        [Extent2].[Reuters_ID] AS [Reuters_ID], 
        [Extent2].[ISIN] AS [ISIN], 
        [Extent2].[Call_Account_Flag] AS [Call_Account_Flag], 
        [Extent2].[System_Locked] AS [System_Locked], 
        [Extent2].[Last_Update_User] AS [Last_Update_User1], 
        [Extent2].[Last_Update_Date] AS [Last_Update_Date1], 
        [Extent2].[Security_Status] AS [Security_Status], 
        [Extent2].[Benchmark_Portfolio] AS [Benchmark_Portfolio], 
        [Extent2].[Active_flag] AS [Active_flag], 
        [Extent2].[Dividend_FX_Security_ID] AS [Dividend_FX_Security_ID]
        FROM  [dbo].[Security_Performance_History] AS [Extent1]
        INNER JOIN [dbo].[Security_Detail] AS [Extent2] ON [Extent1].[Security_ID] = [Extent2].[Security_ID]
        WHERE ([Extent1].[Security_ID] = @p__linq__0) AND ([Extent1].[Portfolio_Code] = @p__linq__1)
    )  AS [Project1]
    ORDER BY [Project1].[Record_Date] DESC
2018-04-07 16:52:58.6381|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: IF db_id(N'MetopeAzureDb') IS NOT NULL SELECT 1 ELSE SELECT Count(*) FROM sys.databases WHERE [name]=N'MetopeAzureDb'
2018-04-07 16:52:58.7607|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: IF db_id(N'MetopeAzureDb') IS NOT NULL SELECT 1 ELSE SELECT Count(*) FROM sys.databases WHERE [name]=N'MetopeAzureDb'
2018-04-07 16:52:58.8443|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: IF db_id(N'MetopeAzureDb') IS NOT NULL SELECT 1 ELSE SELECT Count(*) FROM sys.databases WHERE [name]=N'MetopeAzureDb'
2018-04-07 16:52:58.8663|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: IF db_id(N'MetopeAzureDb') IS NOT NULL SELECT 1 ELSE SELECT Count(*) FROM sys.databases WHERE [name]=N'MetopeAzureDb'
2018-04-07 16:53:05.2705|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: SELECT 
    [Extent1].[Security_ID] AS [Security_ID], 
    [Extent1].[Portfolio_Code] AS [Portfolio_Code], 
    [Extent1].[Entity_ID] AS [Entity_ID], 
    [Extent1].[ModDietz_Performance_Quarterly] AS [ModDietz_Performance_Quarterly], 
    [Extent1].[ModDietz_Performance_Monthly] AS [ModDietz_Performance_Monthly], 
    [Extent1].[ModDietz_Performance_MonthToDate] AS [ModDietz_Performance_MonthToDate], 
    [Extent1].[Dietz_Performance_Quarterly] AS [Dietz_Performance_Quarterly], 
    [Extent1].[Dietz_Performance_Monthly] AS [Dietz_Performance_Monthly], 
    [Extent1].[Dietz_Performance_MonthToDate] AS [Dietz_Performance_MonthToDate], 
    [Extent1].[Last_Update_Date] AS [Last_Update_Date], 
    [Extent1].[Last_Update_User] AS [Last_Update_User], 
    [Extent1].[Record_Date] AS [Record_Date], 
    [Extent1].[Session_ID] AS [Session_ID], 
    [Extent1].[Hist_Last_Update_Date] AS [Hist_Last_Update_Date], 
    [Extent1].[Hist_Last_Update_User] AS [Hist_Last_Update_User]
    FROM [dbo].[Security_Performance_History] AS [Extent1]
    WHERE ([Extent1].[Security_ID] = @p__linq__0) AND ([Extent1].[Portfolio_Code] = @p__linq__1) AND ([Extent1].[Record_Date] = @p__linq__2) AND ([Extent1].[Entity_ID] = @p__linq__3)
2018-04-07 16:53:05.3140|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: SELECT 
    [Extent1].[Security_ID] AS [Security_ID], 
    [Extent1].[Portfolio_Code] AS [Portfolio_Code], 
    [Extent1].[Entity_ID] AS [Entity_ID], 
    [Extent1].[ModDietz_Performance_Quarterly] AS [ModDietz_Performance_Quarterly], 
    [Extent1].[ModDietz_Performance_Monthly] AS [ModDietz_Performance_Monthly], 
    [Extent1].[ModDietz_Performance_MonthToDate] AS [ModDietz_Performance_MonthToDate], 
    [Extent1].[Dietz_Performance_Quarterly] AS [Dietz_Performance_Quarterly], 
    [Extent1].[Dietz_Performance_Monthly] AS [Dietz_Performance_Monthly], 
    [Extent1].[Dietz_Performance_MonthToDate] AS [Dietz_Performance_MonthToDate], 
    [Extent1].[Last_Update_Date] AS [Last_Update_Date], 
    [Extent1].[Last_Update_User] AS [Last_Update_User], 
    [Extent1].[Record_Date] AS [Record_Date], 
    [Extent1].[Session_ID] AS [Session_ID], 
    [Extent1].[Hist_Last_Update_Date] AS [Hist_Last_Update_Date], 
    [Extent1].[Hist_Last_Update_User] AS [Hist_Last_Update_User]
    FROM [dbo].[Security_Performance_History] AS [Extent1]
    WHERE ([Extent1].[Security_ID] = @p__linq__0) AND ([Extent1].[Portfolio_Code] = @p__linq__1) AND ([Extent1].[Record_Date] = @p__linq__2) AND ([Extent1].[Entity_ID] = @p__linq__3)
2018-04-07 16:53:05.4020|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: SELECT 
    [Extent1].[Security_ID] AS [Security_ID], 
    [Extent1].[Entity_ID] AS [Entity_ID], 
    [Extent1].[Security_Name] AS [Security_Name], 
    [Extent1].[Short_Name] AS [Short_Name], 
    [Extent1].[Primary_Exch] AS [Primary_Exch], 
    [Extent1].[Secondary_Exch] AS [Secondary_Exch], 
    [Extent1].[Country_Of_Domicile] AS [Country_Of_Domicile], 
    [Extent1].[Country_Of_Risk] AS [Country_Of_Risk], 
    [Extent1].[Security_Type_Code] AS [Security_Type_Code], 
    [Extent1].[Price_Multiplier] AS [Price_Multiplier], 
    [Extent1].[Income_Frequency] AS [Income_Frequency], 
    [Extent1].[Issuer_Code] AS [Issuer_Code], 
    [Extent1].[Ultimate_Issuer_Code] AS [Ultimate_Issuer_Code], 
    [Extent1].[Asset_Currency] AS [Asset_Currency], 
    [Extent1].[Min_Lot_Size] AS [Min_Lot_Size], 
    [Extent1].[Decimal_Precision] AS [Decimal_Precision], 
    [Extent1].[AvePrice_Rounding] AS [AvePrice_Rounding], 
    [Extent1].[Issue_Date] AS [Issue_Date], 
    [Extent1].[Maturity_Date] AS [Maturity_Date], 
    [Extent1].[Coupon_Rate] AS [Coupon_Rate], 
    [Extent1].[Price_Exchange] AS [Price_Exchange], 
    [Extent1].[Trade_Currency] AS [Trade_Currency], 
    [Extent1].[Price_Curr] AS [Price_Curr], 
    [Extent1].[Currency_Pair_Code] AS [Currency_Pair_Code], 
    [Extent1].[Share_Class] AS [Share_Class], 
    [Extent1].[Current_Market_Price] AS [Current_Market_Price], 
    [Extent1].[Index_Type] AS [Index_Type], 
    [Extent1].[Clean_Price_Formula] AS [Clean_Price_Formula], 
    [Extent1].[Accrued_Income_Price_Formula] AS [Accrued_Income_Price_Formula], 
    [Extent1].[Odd_First_Coupon_Date] AS [Odd_First_Coupon_Date], 
    [Extent1].[Odd_Last_Coupon_Date] AS [Odd_Last_Coupon_Date], 
    [Extent1].[Coupon_Anniversary_Indicator] AS [Coupon_Anniversary_Indicator], 
    [Extent1].[Track_EOM_Flag] AS [Track_EOM_Flag], 
    [Extent1].[Next_Coupon_Date] AS [Next_Coupon_Date], 
    [Extent1].[Previous_Coupon_Date] AS [Previous_Coupon_Date], 
    [Extent1].[Payment_Frequency] AS [Payment_Frequency], 
    [Extent1].[Coupon_BusDay_Adjustment] AS [Coupon_BusDay_Adjustment], 
    [Extent1].[Next_Ex_Div_Date] AS [Next_Ex_Div_Date], 
    [Extent1].[Ex_Div_BusDay_Adjustment] AS [Ex_Div_BusDay_Adjustment], 
    [Extent1].[Ex_Div_Period] AS [Ex_Div_Period], 
    [Extent1].[Ticker] AS [Ticker], 
    [Extent1].[Inet_ID] AS [Inet_ID], 
    [Extent1].[Bloomberg_ID] AS [Bloomberg_ID], 
    [Extent1].[External_Sec_ID] AS [External_Sec_ID], 
    [Extent1].[Reuters_ID] AS [Reuters_ID], 
    [Extent1].[ISIN] AS [ISIN], 
    [Extent1].[Call_Account_Flag] AS [Call_Account_Flag], 
    [Extent1].[System_Locked] AS [System_Locked], 
    [Extent1].[Last_Update_User] AS [Last_Update_User], 
    [Extent1].[Last_Update_Date] AS [Last_Update_Date], 
    [Extent1].[Security_Status] AS [Security_Status], 
    [Extent1].[Benchmark_Portfolio] AS [Benchmark_Portfolio], 
    [Extent1].[Active_flag] AS [Active_flag], 
    [Extent1].[Dividend_FX_Security_ID] AS [Dividend_FX_Security_ID]
    FROM [dbo].[Security_Detail] AS [Extent1]
    WHERE [Extent1].[Security_ID] = @EntityKeyValue1
2018-04-07 16:53:05.4446|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: SELECT 
    [Extent1].[Security_ID] AS [Security_ID], 
    [Extent1].[Entity_ID] AS [Entity_ID], 
    [Extent1].[Security_Name] AS [Security_Name], 
    [Extent1].[Short_Name] AS [Short_Name], 
    [Extent1].[Primary_Exch] AS [Primary_Exch], 
    [Extent1].[Secondary_Exch] AS [Secondary_Exch], 
    [Extent1].[Country_Of_Domicile] AS [Country_Of_Domicile], 
    [Extent1].[Country_Of_Risk] AS [Country_Of_Risk], 
    [Extent1].[Security_Type_Code] AS [Security_Type_Code], 
    [Extent1].[Price_Multiplier] AS [Price_Multiplier], 
    [Extent1].[Income_Frequency] AS [Income_Frequency], 
    [Extent1].[Issuer_Code] AS [Issuer_Code], 
    [Extent1].[Ultimate_Issuer_Code] AS [Ultimate_Issuer_Code], 
    [Extent1].[Asset_Currency] AS [Asset_Currency], 
    [Extent1].[Min_Lot_Size] AS [Min_Lot_Size], 
    [Extent1].[Decimal_Precision] AS [Decimal_Precision], 
    [Extent1].[AvePrice_Rounding] AS [AvePrice_Rounding], 
    [Extent1].[Issue_Date] AS [Issue_Date], 
    [Extent1].[Maturity_Date] AS [Maturity_Date], 
    [Extent1].[Coupon_Rate] AS [Coupon_Rate], 
    [Extent1].[Price_Exchange] AS [Price_Exchange], 
    [Extent1].[Trade_Currency] AS [Trade_Currency], 
    [Extent1].[Price_Curr] AS [Price_Curr], 
    [Extent1].[Currency_Pair_Code] AS [Currency_Pair_Code], 
    [Extent1].[Share_Class] AS [Share_Class], 
    [Extent1].[Current_Market_Price] AS [Current_Market_Price], 
    [Extent1].[Index_Type] AS [Index_Type], 
    [Extent1].[Clean_Price_Formula] AS [Clean_Price_Formula], 
    [Extent1].[Accrued_Income_Price_Formula] AS [Accrued_Income_Price_Formula], 
    [Extent1].[Odd_First_Coupon_Date] AS [Odd_First_Coupon_Date], 
    [Extent1].[Odd_Last_Coupon_Date] AS [Odd_Last_Coupon_Date], 
    [Extent1].[Coupon_Anniversary_Indicator] AS [Coupon_Anniversary_Indicator], 
    [Extent1].[Track_EOM_Flag] AS [Track_EOM_Flag], 
    [Extent1].[Next_Coupon_Date] AS [Next_Coupon_Date], 
    [Extent1].[Previous_Coupon_Date] AS [Previous_Coupon_Date], 
    [Extent1].[Payment_Frequency] AS [Payment_Frequency], 
    [Extent1].[Coupon_BusDay_Adjustment] AS [Coupon_BusDay_Adjustment], 
    [Extent1].[Next_Ex_Div_Date] AS [Next_Ex_Div_Date], 
    [Extent1].[Ex_Div_BusDay_Adjustment] AS [Ex_Div_BusDay_Adjustment], 
    [Extent1].[Ex_Div_Period] AS [Ex_Div_Period], 
    [Extent1].[Ticker] AS [Ticker], 
    [Extent1].[Inet_ID] AS [Inet_ID], 
    [Extent1].[Bloomberg_ID] AS [Bloomberg_ID], 
    [Extent1].[External_Sec_ID] AS [External_Sec_ID], 
    [Extent1].[Reuters_ID] AS [Reuters_ID], 
    [Extent1].[ISIN] AS [ISIN], 
    [Extent1].[Call_Account_Flag] AS [Call_Account_Flag], 
    [Extent1].[System_Locked] AS [System_Locked], 
    [Extent1].[Last_Update_User] AS [Last_Update_User], 
    [Extent1].[Last_Update_Date] AS [Last_Update_Date], 
    [Extent1].[Security_Status] AS [Security_Status], 
    [Extent1].[Benchmark_Portfolio] AS [Benchmark_Portfolio], 
    [Extent1].[Active_flag] AS [Active_flag], 
    [Extent1].[Dividend_FX_Security_ID] AS [Dividend_FX_Security_ID]
    FROM [dbo].[Security_Detail] AS [Extent1]
    WHERE [Extent1].[Security_ID] = @EntityKeyValue1
2018-04-07 16:53:05.4861|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: SELECT 
    [Project1].[Security_ID] AS [Security_ID], 
    [Project1].[Entity_ID] AS [Entity_ID], 
    [Project1].[Security_Name] AS [Security_Name], 
    [Project1].[Short_Name] AS [Short_Name], 
    [Project1].[Primary_Exch] AS [Primary_Exch], 
    [Project1].[Secondary_Exch] AS [Secondary_Exch], 
    [Project1].[Country_Of_Domicile] AS [Country_Of_Domicile], 
    [Project1].[Country_Of_Risk] AS [Country_Of_Risk], 
    [Project1].[Security_Type_Code] AS [Security_Type_Code], 
    [Project1].[Price_Multiplier] AS [Price_Multiplier], 
    [Project1].[Income_Frequency] AS [Income_Frequency], 
    [Project1].[Issuer_Code] AS [Issuer_Code], 
    [Project1].[Ultimate_Issuer_Code] AS [Ultimate_Issuer_Code], 
    [Project1].[Asset_Currency] AS [Asset_Currency], 
    [Project1].[Min_Lot_Size] AS [Min_Lot_Size], 
    [Project1].[Decimal_Precision] AS [Decimal_Precision], 
    [Project1].[AvePrice_Rounding] AS [AvePrice_Rounding], 
    [Project1].[Issue_Date] AS [Issue_Date], 
    [Project1].[Maturity_Date] AS [Maturity_Date], 
    [Project1].[Coupon_Rate] AS [Coupon_Rate], 
    [Project1].[Price_Exchange] AS [Price_Exchange], 
    [Project1].[Trade_Currency] AS [Trade_Currency], 
    [Project1].[Price_Curr] AS [Price_Curr], 
    [Project1].[Currency_Pair_Code] AS [Currency_Pair_Code], 
    [Project1].[Share_Class] AS [Share_Class], 
    [Project1].[Current_Market_Price] AS [Current_Market_Price], 
    [Project1].[Index_Type] AS [Index_Type], 
    [Project1].[Clean_Price_Formula] AS [Clean_Price_Formula], 
    [Project1].[Accrued_Income_Price_Formula] AS [Accrued_Income_Price_Formula], 
    [Project1].[Odd_First_Coupon_Date] AS [Odd_First_Coupon_Date], 
    [Project1].[Odd_Last_Coupon_Date] AS [Odd_Last_Coupon_Date], 
    [Project1].[Coupon_Anniversary_Indicator] AS [Coupon_Anniversary_Indicator], 
    [Project1].[Track_EOM_Flag] AS [Track_EOM_Flag], 
    [Project1].[Next_Coupon_Date] AS [Next_Coupon_Date], 
    [Project1].[Previous_Coupon_Date] AS [Previous_Coupon_Date], 
    [Project1].[Payment_Frequency] AS [Payment_Frequency], 
    [Project1].[Coupon_BusDay_Adjustment] AS [Coupon_BusDay_Adjustment], 
    [Project1].[Next_Ex_Div_Date] AS [Next_Ex_Div_Date], 
    [Project1].[Ex_Div_BusDay_Adjustment] AS [Ex_Div_BusDay_Adjustment], 
    [Project1].[Ex_Div_Period] AS [Ex_Div_Period], 
    [Project1].[Ticker] AS [Ticker], 
    [Project1].[Inet_ID] AS [Inet_ID], 
    [Project1].[Bloomberg_ID] AS [Bloomberg_ID], 
    [Project1].[External_Sec_ID] AS [External_Sec_ID], 
    [Project1].[Reuters_ID] AS [Reuters_ID], 
    [Project1].[ISIN] AS [ISIN], 
    [Project1].[Call_Account_Flag] AS [Call_Account_Flag], 
    [Project1].[System_Locked] AS [System_Locked], 
    [Project1].[Last_Update_User] AS [Last_Update_User], 
    [Project1].[Last_Update_Date] AS [Last_Update_Date], 
    [Project1].[Security_Status] AS [Security_Status], 
    [Project1].[Benchmark_Portfolio] AS [Benchmark_Portfolio], 
    [Project1].[Active_flag] AS [Active_flag], 
    [Project1].[Dividend_FX_Security_ID] AS [Dividend_FX_Security_ID]
    FROM ( SELECT 
        [Extent1].[Security_ID] AS [Security_ID], 
        [Extent1].[Entity_ID] AS [Entity_ID], 
        [Extent1].[Security_Name] AS [Security_Name], 
        [Extent1].[Short_Name] AS [Short_Name], 
        [Extent1].[Primary_Exch] AS [Primary_Exch], 
        [Extent1].[Secondary_Exch] AS [Secondary_Exch], 
        [Extent1].[Country_Of_Domicile] AS [Country_Of_Domicile], 
        [Extent1].[Country_Of_Risk] AS [Country_Of_Risk], 
        [Extent1].[Security_Type_Code] AS [Security_Type_Code], 
        [Extent1].[Price_Multiplier] AS [Price_Multiplier], 
        [Extent1].[Income_Frequency] AS [Income_Frequency], 
        [Extent1].[Issuer_Code] AS [Issuer_Code], 
        [Extent1].[Ultimate_Issuer_Code] AS [Ultimate_Issuer_Code], 
        [Extent1].[Asset_Currency] AS [Asset_Currency], 
        [Extent1].[Min_Lot_Size] AS [Min_Lot_Size], 
        [Extent1].[Decimal_Precision] AS [Decimal_Precision], 
        [Extent1].[AvePrice_Rounding] AS [AvePrice_Rounding], 
        [Extent1].[Issue_Date] AS [Issue_Date], 
        [Extent1].[Maturity_Date] AS [Maturity_Date], 
        [Extent1].[Coupon_Rate] AS [Coupon_Rate], 
        [Extent1].[Price_Exchange] AS [Price_Exchange], 
        [Extent1].[Trade_Currency] AS [Trade_Currency], 
        [Extent1].[Price_Curr] AS [Price_Curr], 
        [Extent1].[Currency_Pair_Code] AS [Currency_Pair_Code], 
        [Extent1].[Share_Class] AS [Share_Class], 
        [Extent1].[Current_Market_Price] AS [Current_Market_Price], 
        [Extent1].[Index_Type] AS [Index_Type], 
        [Extent1].[Clean_Price_Formula] AS [Clean_Price_Formula], 
        [Extent1].[Accrued_Income_Price_Formula] AS [Accrued_Income_Price_Formula], 
        [Extent1].[Odd_First_Coupon_Date] AS [Odd_First_Coupon_Date], 
        [Extent1].[Odd_Last_Coupon_Date] AS [Odd_Last_Coupon_Date], 
        [Extent1].[Coupon_Anniversary_Indicator] AS [Coupon_Anniversary_Indicator], 
        [Extent1].[Track_EOM_Flag] AS [Track_EOM_Flag], 
        [Extent1].[Next_Coupon_Date] AS [Next_Coupon_Date], 
        [Extent1].[Previous_Coupon_Date] AS [Previous_Coupon_Date], 
        [Extent1].[Payment_Frequency] AS [Payment_Frequency], 
        [Extent1].[Coupon_BusDay_Adjustment] AS [Coupon_BusDay_Adjustment], 
        [Extent1].[Next_Ex_Div_Date] AS [Next_Ex_Div_Date], 
        [Extent1].[Ex_Div_BusDay_Adjustment] AS [Ex_Div_BusDay_Adjustment], 
        [Extent1].[Ex_Div_Period] AS [Ex_Div_Period], 
        [Extent1].[Ticker] AS [Ticker], 
        [Extent1].[Inet_ID] AS [Inet_ID], 
        [Extent1].[Bloomberg_ID] AS [Bloomberg_ID], 
        [Extent1].[External_Sec_ID] AS [External_Sec_ID], 
        [Extent1].[Reuters_ID] AS [Reuters_ID], 
        [Extent1].[ISIN] AS [ISIN], 
        [Extent1].[Call_Account_Flag] AS [Call_Account_Flag], 
        [Extent1].[System_Locked] AS [System_Locked], 
        [Extent1].[Last_Update_User] AS [Last_Update_User], 
        [Extent1].[Last_Update_Date] AS [Last_Update_Date], 
        [Extent1].[Security_Status] AS [Security_Status], 
        [Extent1].[Benchmark_Portfolio] AS [Benchmark_Portfolio], 
        [Extent1].[Active_flag] AS [Active_flag], 
        [Extent1].[Dividend_FX_Security_ID] AS [Dividend_FX_Security_ID]
        FROM [dbo].[Security_Detail] AS [Extent1]
        WHERE ([Extent1].[Entity_ID] IN (@p__linq__0,@p__linq__1)) AND ((CASE WHEN ( NOT ((N'' = @p__linq__2) AND (@p__linq__2 IS NOT NULL))) THEN CASE WHEN ([Extent1].[Security_Type_Code] = @p__linq__3) THEN cast(1 as bit) WHEN ( NOT (([Extent1].[Security_Type_Code] = @p__linq__3) AND (0 = (CASE WHEN (@p__linq__3 IS NULL) THEN cast(1 as bit) ELSE cast(0 as bit) END)))) THEN cast(0 as bit) END WHEN ('' <> [Extent1].[Security_Type_Code]) THEN cast(1 as bit) WHEN ('' = [Extent1].[Security_Type_Code]) THEN cast(0 as bit) END) = 1)
    )  AS [Project1]
    ORDER BY [Project1].[Security_Name] ASC
2018-04-07 16:53:05.5246|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: SELECT 
    [Project1].[Security_ID] AS [Security_ID], 
    [Project1].[Entity_ID] AS [Entity_ID], 
    [Project1].[Security_Name] AS [Security_Name], 
    [Project1].[Short_Name] AS [Short_Name], 
    [Project1].[Primary_Exch] AS [Primary_Exch], 
    [Project1].[Secondary_Exch] AS [Secondary_Exch], 
    [Project1].[Country_Of_Domicile] AS [Country_Of_Domicile], 
    [Project1].[Country_Of_Risk] AS [Country_Of_Risk], 
    [Project1].[Security_Type_Code] AS [Security_Type_Code], 
    [Project1].[Price_Multiplier] AS [Price_Multiplier], 
    [Project1].[Income_Frequency] AS [Income_Frequency], 
    [Project1].[Issuer_Code] AS [Issuer_Code], 
    [Project1].[Ultimate_Issuer_Code] AS [Ultimate_Issuer_Code], 
    [Project1].[Asset_Currency] AS [Asset_Currency], 
    [Project1].[Min_Lot_Size] AS [Min_Lot_Size], 
    [Project1].[Decimal_Precision] AS [Decimal_Precision], 
    [Project1].[AvePrice_Rounding] AS [AvePrice_Rounding], 
    [Project1].[Issue_Date] AS [Issue_Date], 
    [Project1].[Maturity_Date] AS [Maturity_Date], 
    [Project1].[Coupon_Rate] AS [Coupon_Rate], 
    [Project1].[Price_Exchange] AS [Price_Exchange], 
    [Project1].[Trade_Currency] AS [Trade_Currency], 
    [Project1].[Price_Curr] AS [Price_Curr], 
    [Project1].[Currency_Pair_Code] AS [Currency_Pair_Code], 
    [Project1].[Share_Class] AS [Share_Class], 
    [Project1].[Current_Market_Price] AS [Current_Market_Price], 
    [Project1].[Index_Type] AS [Index_Type], 
    [Project1].[Clean_Price_Formula] AS [Clean_Price_Formula], 
    [Project1].[Accrued_Income_Price_Formula] AS [Accrued_Income_Price_Formula], 
    [Project1].[Odd_First_Coupon_Date] AS [Odd_First_Coupon_Date], 
    [Project1].[Odd_Last_Coupon_Date] AS [Odd_Last_Coupon_Date], 
    [Project1].[Coupon_Anniversary_Indicator] AS [Coupon_Anniversary_Indicator], 
    [Project1].[Track_EOM_Flag] AS [Track_EOM_Flag], 
    [Project1].[Next_Coupon_Date] AS [Next_Coupon_Date], 
    [Project1].[Previous_Coupon_Date] AS [Previous_Coupon_Date], 
    [Project1].[Payment_Frequency] AS [Payment_Frequency], 
    [Project1].[Coupon_BusDay_Adjustment] AS [Coupon_BusDay_Adjustment], 
    [Project1].[Next_Ex_Div_Date] AS [Next_Ex_Div_Date], 
    [Project1].[Ex_Div_BusDay_Adjustment] AS [Ex_Div_BusDay_Adjustment], 
    [Project1].[Ex_Div_Period] AS [Ex_Div_Period], 
    [Project1].[Ticker] AS [Ticker], 
    [Project1].[Inet_ID] AS [Inet_ID], 
    [Project1].[Bloomberg_ID] AS [Bloomberg_ID], 
    [Project1].[External_Sec_ID] AS [External_Sec_ID], 
    [Project1].[Reuters_ID] AS [Reuters_ID], 
    [Project1].[ISIN] AS [ISIN], 
    [Project1].[Call_Account_Flag] AS [Call_Account_Flag], 
    [Project1].[System_Locked] AS [System_Locked], 
    [Project1].[Last_Update_User] AS [Last_Update_User], 
    [Project1].[Last_Update_Date] AS [Last_Update_Date], 
    [Project1].[Security_Status] AS [Security_Status], 
    [Project1].[Benchmark_Portfolio] AS [Benchmark_Portfolio], 
    [Project1].[Active_flag] AS [Active_flag], 
    [Project1].[Dividend_FX_Security_ID] AS [Dividend_FX_Security_ID]
    FROM ( SELECT 
        [Extent1].[Security_ID] AS [Security_ID], 
        [Extent1].[Entity_ID] AS [Entity_ID], 
        [Extent1].[Security_Name] AS [Security_Name], 
        [Extent1].[Short_Name] AS [Short_Name], 
        [Extent1].[Primary_Exch] AS [Primary_Exch], 
        [Extent1].[Secondary_Exch] AS [Secondary_Exch], 
        [Extent1].[Country_Of_Domicile] AS [Country_Of_Domicile], 
        [Extent1].[Country_Of_Risk] AS [Country_Of_Risk], 
        [Extent1].[Security_Type_Code] AS [Security_Type_Code], 
        [Extent1].[Price_Multiplier] AS [Price_Multiplier], 
        [Extent1].[Income_Frequency] AS [Income_Frequency], 
        [Extent1].[Issuer_Code] AS [Issuer_Code], 
        [Extent1].[Ultimate_Issuer_Code] AS [Ultimate_Issuer_Code], 
        [Extent1].[Asset_Currency] AS [Asset_Currency], 
        [Extent1].[Min_Lot_Size] AS [Min_Lot_Size], 
        [Extent1].[Decimal_Precision] AS [Decimal_Precision], 
        [Extent1].[AvePrice_Rounding] AS [AvePrice_Rounding], 
        [Extent1].[Issue_Date] AS [Issue_Date], 
        [Extent1].[Maturity_Date] AS [Maturity_Date], 
        [Extent1].[Coupon_Rate] AS [Coupon_Rate], 
        [Extent1].[Price_Exchange] AS [Price_Exchange], 
        [Extent1].[Trade_Currency] AS [Trade_Currency], 
        [Extent1].[Price_Curr] AS [Price_Curr], 
        [Extent1].[Currency_Pair_Code] AS [Currency_Pair_Code], 
        [Extent1].[Share_Class] AS [Share_Class], 
        [Extent1].[Current_Market_Price] AS [Current_Market_Price], 
        [Extent1].[Index_Type] AS [Index_Type], 
        [Extent1].[Clean_Price_Formula] AS [Clean_Price_Formula], 
        [Extent1].[Accrued_Income_Price_Formula] AS [Accrued_Income_Price_Formula], 
        [Extent1].[Odd_First_Coupon_Date] AS [Odd_First_Coupon_Date], 
        [Extent1].[Odd_Last_Coupon_Date] AS [Odd_Last_Coupon_Date], 
        [Extent1].[Coupon_Anniversary_Indicator] AS [Coupon_Anniversary_Indicator], 
        [Extent1].[Track_EOM_Flag] AS [Track_EOM_Flag], 
        [Extent1].[Next_Coupon_Date] AS [Next_Coupon_Date], 
        [Extent1].[Previous_Coupon_Date] AS [Previous_Coupon_Date], 
        [Extent1].[Payment_Frequency] AS [Payment_Frequency], 
        [Extent1].[Coupon_BusDay_Adjustment] AS [Coupon_BusDay_Adjustment], 
        [Extent1].[Next_Ex_Div_Date] AS [Next_Ex_Div_Date], 
        [Extent1].[Ex_Div_BusDay_Adjustment] AS [Ex_Div_BusDay_Adjustment], 
        [Extent1].[Ex_Div_Period] AS [Ex_Div_Period], 
        [Extent1].[Ticker] AS [Ticker], 
        [Extent1].[Inet_ID] AS [Inet_ID], 
        [Extent1].[Bloomberg_ID] AS [Bloomberg_ID], 
        [Extent1].[External_Sec_ID] AS [External_Sec_ID], 
        [Extent1].[Reuters_ID] AS [Reuters_ID], 
        [Extent1].[ISIN] AS [ISIN], 
        [Extent1].[Call_Account_Flag] AS [Call_Account_Flag], 
        [Extent1].[System_Locked] AS [System_Locked], 
        [Extent1].[Last_Update_User] AS [Last_Update_User], 
        [Extent1].[Last_Update_Date] AS [Last_Update_Date], 
        [Extent1].[Security_Status] AS [Security_Status], 
        [Extent1].[Benchmark_Portfolio] AS [Benchmark_Portfolio], 
        [Extent1].[Active_flag] AS [Active_flag], 
        [Extent1].[Dividend_FX_Security_ID] AS [Dividend_FX_Security_ID]
        FROM [dbo].[Security_Detail] AS [Extent1]
        WHERE ([Extent1].[Entity_ID] IN (@p__linq__0,@p__linq__1)) AND ((CASE WHEN ( NOT ((N'' = @p__linq__2) AND (@p__linq__2 IS NOT NULL))) THEN CASE WHEN ([Extent1].[Security_Type_Code] = @p__linq__3) THEN cast(1 as bit) WHEN ( NOT (([Extent1].[Security_Type_Code] = @p__linq__3) AND (0 = (CASE WHEN (@p__linq__3 IS NULL) THEN cast(1 as bit) ELSE cast(0 as bit) END)))) THEN cast(0 as bit) END WHEN ('' <> [Extent1].[Security_Type_Code]) THEN cast(1 as bit) WHEN ('' = [Extent1].[Security_Type_Code]) THEN cast(0 as bit) END) = 1)
    )  AS [Project1]
    ORDER BY [Project1].[Security_Name] ASC
2018-04-07 16:53:05.5617|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: IF db_id(N'MetopeAzureDb') IS NOT NULL SELECT 1 ELSE SELECT Count(*) FROM sys.databases WHERE [name]=N'MetopeAzureDb'
2018-04-07 16:53:05.5857|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: IF db_id(N'MetopeAzureDb') IS NOT NULL SELECT 1 ELSE SELECT Count(*) FROM sys.databases WHERE [name]=N'MetopeAzureDb'
2018-04-07 16:53:05.6122|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: IF db_id(N'MetopeAzureDb') IS NOT NULL SELECT 1 ELSE SELECT Count(*) FROM sys.databases WHERE [name]=N'MetopeAzureDb'
2018-04-07 16:53:05.6352|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: IF db_id(N'MetopeAzureDb') IS NOT NULL SELECT 1 ELSE SELECT Count(*) FROM sys.databases WHERE [name]=N'MetopeAzureDb'
2018-04-07 16:53:07.8777|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: SELECT 
    [Project1].[Decimal_Precision] AS [Decimal_Precision], 
    [Project1].[Security_ID] AS [Security_ID], 
    [Project1].[Portfolio_Code] AS [Portfolio_Code], 
    [Project1].[Entity_ID] AS [Entity_ID], 
    [Project1].[ModDietz_Performance_Quarterly] AS [ModDietz_Performance_Quarterly], 
    [Project1].[ModDietz_Performance_Monthly] AS [ModDietz_Performance_Monthly], 
    [Project1].[ModDietz_Performance_MonthToDate] AS [ModDietz_Performance_MonthToDate], 
    [Project1].[Dietz_Performance_Quarterly] AS [Dietz_Performance_Quarterly], 
    [Project1].[Dietz_Performance_Monthly] AS [Dietz_Performance_Monthly], 
    [Project1].[Dietz_Performance_MonthToDate] AS [Dietz_Performance_MonthToDate], 
    [Project1].[Last_Update_Date] AS [Last_Update_Date], 
    [Project1].[Last_Update_User] AS [Last_Update_User], 
    [Project1].[Record_Date] AS [Record_Date], 
    [Project1].[Session_ID] AS [Session_ID], 
    [Project1].[Hist_Last_Update_Date] AS [Hist_Last_Update_Date], 
    [Project1].[Hist_Last_Update_User] AS [Hist_Last_Update_User], 
    [Project1].[Security_ID1] AS [Security_ID1], 
    [Project1].[Entity_ID1] AS [Entity_ID1], 
    [Project1].[Security_Name] AS [Security_Name], 
    [Project1].[Short_Name] AS [Short_Name], 
    [Project1].[Primary_Exch] AS [Primary_Exch], 
    [Project1].[Secondary_Exch] AS [Secondary_Exch], 
    [Project1].[Country_Of_Domicile] AS [Country_Of_Domicile], 
    [Project1].[Country_Of_Risk] AS [Country_Of_Risk], 
    [Project1].[Security_Type_Code] AS [Security_Type_Code], 
    [Project1].[Price_Multiplier] AS [Price_Multiplier], 
    [Project1].[Income_Frequency] AS [Income_Frequency], 
    [Project1].[Issuer_Code] AS [Issuer_Code], 
    [Project1].[Ultimate_Issuer_Code] AS [Ultimate_Issuer_Code], 
    [Project1].[Asset_Currency] AS [Asset_Currency], 
    [Project1].[Min_Lot_Size] AS [Min_Lot_Size], 
    [Project1].[AvePrice_Rounding] AS [AvePrice_Rounding], 
    [Project1].[Issue_Date] AS [Issue_Date], 
    [Project1].[Maturity_Date] AS [Maturity_Date], 
    [Project1].[Coupon_Rate] AS [Coupon_Rate], 
    [Project1].[Price_Exchange] AS [Price_Exchange], 
    [Project1].[Trade_Currency] AS [Trade_Currency], 
    [Project1].[Price_Curr] AS [Price_Curr], 
    [Project1].[Currency_Pair_Code] AS [Currency_Pair_Code], 
    [Project1].[Share_Class] AS [Share_Class], 
    [Project1].[Current_Market_Price] AS [Current_Market_Price], 
    [Project1].[Index_Type] AS [Index_Type], 
    [Project1].[Clean_Price_Formula] AS [Clean_Price_Formula], 
    [Project1].[Accrued_Income_Price_Formula] AS [Accrued_Income_Price_Formula], 
    [Project1].[Odd_First_Coupon_Date] AS [Odd_First_Coupon_Date], 
    [Project1].[Odd_Last_Coupon_Date] AS [Odd_Last_Coupon_Date], 
    [Project1].[Coupon_Anniversary_Indicator] AS [Coupon_Anniversary_Indicator], 
    [Project1].[Track_EOM_Flag] AS [Track_EOM_Flag], 
    [Project1].[Next_Coupon_Date] AS [Next_Coupon_Date], 
    [Project1].[Previous_Coupon_Date] AS [Previous_Coupon_Date], 
    [Project1].[Payment_Frequency] AS [Payment_Frequency], 
    [Project1].[Coupon_BusDay_Adjustment] AS [Coupon_BusDay_Adjustment], 
    [Project1].[Next_Ex_Div_Date] AS [Next_Ex_Div_Date], 
    [Project1].[Ex_Div_BusDay_Adjustment] AS [Ex_Div_BusDay_Adjustment], 
    [Project1].[Ex_Div_Period] AS [Ex_Div_Period], 
    [Project1].[Ticker] AS [Ticker], 
    [Project1].[Inet_ID] AS [Inet_ID], 
    [Project1].[Bloomberg_ID] AS [Bloomberg_ID], 
    [Project1].[External_Sec_ID] AS [External_Sec_ID], 
    [Project1].[Reuters_ID] AS [Reuters_ID], 
    [Project1].[ISIN] AS [ISIN], 
    [Project1].[Call_Account_Flag] AS [Call_Account_Flag], 
    [Project1].[System_Locked] AS [System_Locked], 
    [Project1].[Last_Update_User1] AS [Last_Update_User1], 
    [Project1].[Last_Update_Date1] AS [Last_Update_Date1], 
    [Project1].[Security_Status] AS [Security_Status], 
    [Project1].[Benchmark_Portfolio] AS [Benchmark_Portfolio], 
    [Project1].[Active_flag] AS [Active_flag], 
    [Project1].[Dividend_FX_Security_ID] AS [Dividend_FX_Security_ID]
    FROM ( SELECT 
        [Extent1].[Security_ID] AS [Security_ID], 
        [Extent1].[Portfolio_Code] AS [Portfolio_Code], 
        [Extent1].[Entity_ID] AS [Entity_ID], 
        [Extent1].[ModDietz_Performance_Quarterly] AS [ModDietz_Performance_Quarterly], 
        [Extent1].[ModDietz_Performance_Monthly] AS [ModDietz_Performance_Monthly], 
        [Extent1].[ModDietz_Performance_MonthToDate] AS [ModDietz_Performance_MonthToDate], 
        [Extent1].[Dietz_Performance_Quarterly] AS [Dietz_Performance_Quarterly], 
        [Extent1].[Dietz_Performance_Monthly] AS [Dietz_Performance_Monthly], 
        [Extent1].[Dietz_Performance_MonthToDate] AS [Dietz_Performance_MonthToDate], 
        [Extent1].[Last_Update_Date] AS [Last_Update_Date], 
        [Extent1].[Last_Update_User] AS [Last_Update_User], 
        [Extent1].[Record_Date] AS [Record_Date], 
        [Extent1].[Session_ID] AS [Session_ID], 
        [Extent1].[Hist_Last_Update_Date] AS [Hist_Last_Update_Date], 
        [Extent1].[Hist_Last_Update_User] AS [Hist_Last_Update_User], 
        [Extent2].[Security_ID] AS [Security_ID1], 
        [Extent2].[Entity_ID] AS [Entity_ID1], 
        [Extent2].[Security_Name] AS [Security_Name], 
        [Extent2].[Short_Name] AS [Short_Name], 
        [Extent2].[Primary_Exch] AS [Primary_Exch], 
        [Extent2].[Secondary_Exch] AS [Secondary_Exch], 
        [Extent2].[Country_Of_Domicile] AS [Country_Of_Domicile], 
        [Extent2].[Country_Of_Risk] AS [Country_Of_Risk], 
        [Extent2].[Security_Type_Code] AS [Security_Type_Code], 
        [Extent2].[Price_Multiplier] AS [Price_Multiplier], 
        [Extent2].[Income_Frequency] AS [Income_Frequency], 
        [Extent2].[Issuer_Code] AS [Issuer_Code], 
        [Extent2].[Ultimate_Issuer_Code] AS [Ultimate_Issuer_Code], 
        [Extent2].[Asset_Currency] AS [Asset_Currency], 
        [Extent2].[Min_Lot_Size] AS [Min_Lot_Size], 
        [Extent2].[Decimal_Precision] AS [Decimal_Precision], 
        [Extent2].[AvePrice_Rounding] AS [AvePrice_Rounding], 
        [Extent2].[Issue_Date] AS [Issue_Date], 
        [Extent2].[Maturity_Date] AS [Maturity_Date], 
        [Extent2].[Coupon_Rate] AS [Coupon_Rate], 
        [Extent2].[Price_Exchange] AS [Price_Exchange], 
        [Extent2].[Trade_Currency] AS [Trade_Currency], 
        [Extent2].[Price_Curr] AS [Price_Curr], 
        [Extent2].[Currency_Pair_Code] AS [Currency_Pair_Code], 
        [Extent2].[Share_Class] AS [Share_Class], 
        [Extent2].[Current_Market_Price] AS [Current_Market_Price], 
        [Extent2].[Index_Type] AS [Index_Type], 
        [Extent2].[Clean_Price_Formula] AS [Clean_Price_Formula], 
        [Extent2].[Accrued_Income_Price_Formula] AS [Accrued_Income_Price_Formula], 
        [Extent2].[Odd_First_Coupon_Date] AS [Odd_First_Coupon_Date], 
        [Extent2].[Odd_Last_Coupon_Date] AS [Odd_Last_Coupon_Date], 
        [Extent2].[Coupon_Anniversary_Indicator] AS [Coupon_Anniversary_Indicator], 
        [Extent2].[Track_EOM_Flag] AS [Track_EOM_Flag], 
        [Extent2].[Next_Coupon_Date] AS [Next_Coupon_Date], 
        [Extent2].[Previous_Coupon_Date] AS [Previous_Coupon_Date], 
        [Extent2].[Payment_Frequency] AS [Payment_Frequency], 
        [Extent2].[Coupon_BusDay_Adjustment] AS [Coupon_BusDay_Adjustment], 
        [Extent2].[Next_Ex_Div_Date] AS [Next_Ex_Div_Date], 
        [Extent2].[Ex_Div_BusDay_Adjustment] AS [Ex_Div_BusDay_Adjustment], 
        [Extent2].[Ex_Div_Period] AS [Ex_Div_Period], 
        [Extent2].[Ticker] AS [Ticker], 
        [Extent2].[Inet_ID] AS [Inet_ID], 
        [Extent2].[Bloomberg_ID] AS [Bloomberg_ID], 
        [Extent2].[External_Sec_ID] AS [External_Sec_ID], 
        [Extent2].[Reuters_ID] AS [Reuters_ID], 
        [Extent2].[ISIN] AS [ISIN], 
        [Extent2].[Call_Account_Flag] AS [Call_Account_Flag], 
        [Extent2].[System_Locked] AS [System_Locked], 
        [Extent2].[Last_Update_User] AS [Last_Update_User1], 
        [Extent2].[Last_Update_Date] AS [Last_Update_Date1], 
        [Extent2].[Security_Status] AS [Security_Status], 
        [Extent2].[Benchmark_Portfolio] AS [Benchmark_Portfolio], 
        [Extent2].[Active_flag] AS [Active_flag], 
        [Extent2].[Dividend_FX_Security_ID] AS [Dividend_FX_Security_ID]
        FROM  [dbo].[Security_Performance_History] AS [Extent1]
        INNER JOIN [dbo].[Security_Detail] AS [Extent2] ON [Extent1].[Security_ID] = [Extent2].[Security_ID]
        WHERE ([Extent1].[Security_ID] = @p__linq__0) AND ([Extent1].[Portfolio_Code] = @p__linq__1)
    )  AS [Project1]
    ORDER BY [Project1].[Record_Date] DESC
2018-04-07 16:53:07.9112|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: SELECT 
    [Project1].[Decimal_Precision] AS [Decimal_Precision], 
    [Project1].[Security_ID] AS [Security_ID], 
    [Project1].[Portfolio_Code] AS [Portfolio_Code], 
    [Project1].[Entity_ID] AS [Entity_ID], 
    [Project1].[ModDietz_Performance_Quarterly] AS [ModDietz_Performance_Quarterly], 
    [Project1].[ModDietz_Performance_Monthly] AS [ModDietz_Performance_Monthly], 
    [Project1].[ModDietz_Performance_MonthToDate] AS [ModDietz_Performance_MonthToDate], 
    [Project1].[Dietz_Performance_Quarterly] AS [Dietz_Performance_Quarterly], 
    [Project1].[Dietz_Performance_Monthly] AS [Dietz_Performance_Monthly], 
    [Project1].[Dietz_Performance_MonthToDate] AS [Dietz_Performance_MonthToDate], 
    [Project1].[Last_Update_Date] AS [Last_Update_Date], 
    [Project1].[Last_Update_User] AS [Last_Update_User], 
    [Project1].[Record_Date] AS [Record_Date], 
    [Project1].[Session_ID] AS [Session_ID], 
    [Project1].[Hist_Last_Update_Date] AS [Hist_Last_Update_Date], 
    [Project1].[Hist_Last_Update_User] AS [Hist_Last_Update_User], 
    [Project1].[Security_ID1] AS [Security_ID1], 
    [Project1].[Entity_ID1] AS [Entity_ID1], 
    [Project1].[Security_Name] AS [Security_Name], 
    [Project1].[Short_Name] AS [Short_Name], 
    [Project1].[Primary_Exch] AS [Primary_Exch], 
    [Project1].[Secondary_Exch] AS [Secondary_Exch], 
    [Project1].[Country_Of_Domicile] AS [Country_Of_Domicile], 
    [Project1].[Country_Of_Risk] AS [Country_Of_Risk], 
    [Project1].[Security_Type_Code] AS [Security_Type_Code], 
    [Project1].[Price_Multiplier] AS [Price_Multiplier], 
    [Project1].[Income_Frequency] AS [Income_Frequency], 
    [Project1].[Issuer_Code] AS [Issuer_Code], 
    [Project1].[Ultimate_Issuer_Code] AS [Ultimate_Issuer_Code], 
    [Project1].[Asset_Currency] AS [Asset_Currency], 
    [Project1].[Min_Lot_Size] AS [Min_Lot_Size], 
    [Project1].[AvePrice_Rounding] AS [AvePrice_Rounding], 
    [Project1].[Issue_Date] AS [Issue_Date], 
    [Project1].[Maturity_Date] AS [Maturity_Date], 
    [Project1].[Coupon_Rate] AS [Coupon_Rate], 
    [Project1].[Price_Exchange] AS [Price_Exchange], 
    [Project1].[Trade_Currency] AS [Trade_Currency], 
    [Project1].[Price_Curr] AS [Price_Curr], 
    [Project1].[Currency_Pair_Code] AS [Currency_Pair_Code], 
    [Project1].[Share_Class] AS [Share_Class], 
    [Project1].[Current_Market_Price] AS [Current_Market_Price], 
    [Project1].[Index_Type] AS [Index_Type], 
    [Project1].[Clean_Price_Formula] AS [Clean_Price_Formula], 
    [Project1].[Accrued_Income_Price_Formula] AS [Accrued_Income_Price_Formula], 
    [Project1].[Odd_First_Coupon_Date] AS [Odd_First_Coupon_Date], 
    [Project1].[Odd_Last_Coupon_Date] AS [Odd_Last_Coupon_Date], 
    [Project1].[Coupon_Anniversary_Indicator] AS [Coupon_Anniversary_Indicator], 
    [Project1].[Track_EOM_Flag] AS [Track_EOM_Flag], 
    [Project1].[Next_Coupon_Date] AS [Next_Coupon_Date], 
    [Project1].[Previous_Coupon_Date] AS [Previous_Coupon_Date], 
    [Project1].[Payment_Frequency] AS [Payment_Frequency], 
    [Project1].[Coupon_BusDay_Adjustment] AS [Coupon_BusDay_Adjustment], 
    [Project1].[Next_Ex_Div_Date] AS [Next_Ex_Div_Date], 
    [Project1].[Ex_Div_BusDay_Adjustment] AS [Ex_Div_BusDay_Adjustment], 
    [Project1].[Ex_Div_Period] AS [Ex_Div_Period], 
    [Project1].[Ticker] AS [Ticker], 
    [Project1].[Inet_ID] AS [Inet_ID], 
    [Project1].[Bloomberg_ID] AS [Bloomberg_ID], 
    [Project1].[External_Sec_ID] AS [External_Sec_ID], 
    [Project1].[Reuters_ID] AS [Reuters_ID], 
    [Project1].[ISIN] AS [ISIN], 
    [Project1].[Call_Account_Flag] AS [Call_Account_Flag], 
    [Project1].[System_Locked] AS [System_Locked], 
    [Project1].[Last_Update_User1] AS [Last_Update_User1], 
    [Project1].[Last_Update_Date1] AS [Last_Update_Date1], 
    [Project1].[Security_Status] AS [Security_Status], 
    [Project1].[Benchmark_Portfolio] AS [Benchmark_Portfolio], 
    [Project1].[Active_flag] AS [Active_flag], 
    [Project1].[Dividend_FX_Security_ID] AS [Dividend_FX_Security_ID]
    FROM ( SELECT 
        [Extent1].[Security_ID] AS [Security_ID], 
        [Extent1].[Portfolio_Code] AS [Portfolio_Code], 
        [Extent1].[Entity_ID] AS [Entity_ID], 
        [Extent1].[ModDietz_Performance_Quarterly] AS [ModDietz_Performance_Quarterly], 
        [Extent1].[ModDietz_Performance_Monthly] AS [ModDietz_Performance_Monthly], 
        [Extent1].[ModDietz_Performance_MonthToDate] AS [ModDietz_Performance_MonthToDate], 
        [Extent1].[Dietz_Performance_Quarterly] AS [Dietz_Performance_Quarterly], 
        [Extent1].[Dietz_Performance_Monthly] AS [Dietz_Performance_Monthly], 
        [Extent1].[Dietz_Performance_MonthToDate] AS [Dietz_Performance_MonthToDate], 
        [Extent1].[Last_Update_Date] AS [Last_Update_Date], 
        [Extent1].[Last_Update_User] AS [Last_Update_User], 
        [Extent1].[Record_Date] AS [Record_Date], 
        [Extent1].[Session_ID] AS [Session_ID], 
        [Extent1].[Hist_Last_Update_Date] AS [Hist_Last_Update_Date], 
        [Extent1].[Hist_Last_Update_User] AS [Hist_Last_Update_User], 
        [Extent2].[Security_ID] AS [Security_ID1], 
        [Extent2].[Entity_ID] AS [Entity_ID1], 
        [Extent2].[Security_Name] AS [Security_Name], 
        [Extent2].[Short_Name] AS [Short_Name], 
        [Extent2].[Primary_Exch] AS [Primary_Exch], 
        [Extent2].[Secondary_Exch] AS [Secondary_Exch], 
        [Extent2].[Country_Of_Domicile] AS [Country_Of_Domicile], 
        [Extent2].[Country_Of_Risk] AS [Country_Of_Risk], 
        [Extent2].[Security_Type_Code] AS [Security_Type_Code], 
        [Extent2].[Price_Multiplier] AS [Price_Multiplier], 
        [Extent2].[Income_Frequency] AS [Income_Frequency], 
        [Extent2].[Issuer_Code] AS [Issuer_Code], 
        [Extent2].[Ultimate_Issuer_Code] AS [Ultimate_Issuer_Code], 
        [Extent2].[Asset_Currency] AS [Asset_Currency], 
        [Extent2].[Min_Lot_Size] AS [Min_Lot_Size], 
        [Extent2].[Decimal_Precision] AS [Decimal_Precision], 
        [Extent2].[AvePrice_Rounding] AS [AvePrice_Rounding], 
        [Extent2].[Issue_Date] AS [Issue_Date], 
        [Extent2].[Maturity_Date] AS [Maturity_Date], 
        [Extent2].[Coupon_Rate] AS [Coupon_Rate], 
        [Extent2].[Price_Exchange] AS [Price_Exchange], 
        [Extent2].[Trade_Currency] AS [Trade_Currency], 
        [Extent2].[Price_Curr] AS [Price_Curr], 
        [Extent2].[Currency_Pair_Code] AS [Currency_Pair_Code], 
        [Extent2].[Share_Class] AS [Share_Class], 
        [Extent2].[Current_Market_Price] AS [Current_Market_Price], 
        [Extent2].[Index_Type] AS [Index_Type], 
        [Extent2].[Clean_Price_Formula] AS [Clean_Price_Formula], 
        [Extent2].[Accrued_Income_Price_Formula] AS [Accrued_Income_Price_Formula], 
        [Extent2].[Odd_First_Coupon_Date] AS [Odd_First_Coupon_Date], 
        [Extent2].[Odd_Last_Coupon_Date] AS [Odd_Last_Coupon_Date], 
        [Extent2].[Coupon_Anniversary_Indicator] AS [Coupon_Anniversary_Indicator], 
        [Extent2].[Track_EOM_Flag] AS [Track_EOM_Flag], 
        [Extent2].[Next_Coupon_Date] AS [Next_Coupon_Date], 
        [Extent2].[Previous_Coupon_Date] AS [Previous_Coupon_Date], 
        [Extent2].[Payment_Frequency] AS [Payment_Frequency], 
        [Extent2].[Coupon_BusDay_Adjustment] AS [Coupon_BusDay_Adjustment], 
        [Extent2].[Next_Ex_Div_Date] AS [Next_Ex_Div_Date], 
        [Extent2].[Ex_Div_BusDay_Adjustment] AS [Ex_Div_BusDay_Adjustment], 
        [Extent2].[Ex_Div_Period] AS [Ex_Div_Period], 
        [Extent2].[Ticker] AS [Ticker], 
        [Extent2].[Inet_ID] AS [Inet_ID], 
        [Extent2].[Bloomberg_ID] AS [Bloomberg_ID], 
        [Extent2].[External_Sec_ID] AS [External_Sec_ID], 
        [Extent2].[Reuters_ID] AS [Reuters_ID], 
        [Extent2].[ISIN] AS [ISIN], 
        [Extent2].[Call_Account_Flag] AS [Call_Account_Flag], 
        [Extent2].[System_Locked] AS [System_Locked], 
        [Extent2].[Last_Update_User] AS [Last_Update_User1], 
        [Extent2].[Last_Update_Date] AS [Last_Update_Date1], 
        [Extent2].[Security_Status] AS [Security_Status], 
        [Extent2].[Benchmark_Portfolio] AS [Benchmark_Portfolio], 
        [Extent2].[Active_flag] AS [Active_flag], 
        [Extent2].[Dividend_FX_Security_ID] AS [Dividend_FX_Security_ID]
        FROM  [dbo].[Security_Performance_History] AS [Extent1]
        INNER JOIN [dbo].[Security_Detail] AS [Extent2] ON [Extent1].[Security_ID] = [Extent2].[Security_ID]
        WHERE ([Extent1].[Security_ID] = @p__linq__0) AND ([Extent1].[Portfolio_Code] = @p__linq__1)
    )  AS [Project1]
    ORDER BY [Project1].[Record_Date] DESC
2018-04-07 16:53:07.9693|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: IF db_id(N'MetopeAzureDb') IS NOT NULL SELECT 1 ELSE SELECT Count(*) FROM sys.databases WHERE [name]=N'MetopeAzureDb'
2018-04-07 16:53:07.9903|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: IF db_id(N'MetopeAzureDb') IS NOT NULL SELECT 1 ELSE SELECT Count(*) FROM sys.databases WHERE [name]=N'MetopeAzureDb'
2018-04-07 16:53:08.0173|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: IF db_id(N'MetopeAzureDb') IS NOT NULL SELECT 1 ELSE SELECT Count(*) FROM sys.databases WHERE [name]=N'MetopeAzureDb'
2018-04-07 16:53:08.0503|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: IF db_id(N'MetopeAzureDb') IS NOT NULL SELECT 1 ELSE SELECT Count(*) FROM sys.databases WHERE [name]=N'MetopeAzureDb'
2018-04-07 16:53:28.7203|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: SELECT 
    [Project1].[Decimal_Precision] AS [Decimal_Precision], 
    [Project1].[Entity_ID] AS [Entity_ID], 
    [Project1].[Security_ID] AS [Security_ID], 
    [Project1].[Issued_Amount] AS [Issued_Amount], 
    [Project1].[Market_Capitalisation] AS [Market_Capitalisation], 
    [Project1].[Risk_Premium] AS [Risk_Premium], 
    [Project1].[Exit_Price] AS [Exit_Price], 
    [Project1].[Total_Return_ME_1YR] AS [Total_Return_ME_1YR], 
    [Project1].[Total_Return_ME_2YR] AS [Total_Return_ME_2YR], 
    [Project1].[Total_Return_ME_3YR] AS [Total_Return_ME_3YR], 
    [Project1].[Historic_Distribution] AS [Historic_Distribution], 
    [Project1].[Distribution_Growth_Forecast_Yr1] AS [Distribution_Growth_Forecast_Yr1], 
    [Project1].[Distribution_Growth_Forecast_Yr2] AS [Distribution_Growth_Forecast_Yr2], 
    [Project1].[Distribution_Growth_Forecast_Yr3] AS [Distribution_Growth_Forecast_Yr3], 
    [Project1].[Forecast_Distribution_Yr1] AS [Forecast_Distribution_Yr1], 
    [Project1].[Forecast_Distribution_Yr2] AS [Forecast_Distribution_Yr2], 
    [Project1].[Forecast_Distribution_Yr3] AS [Forecast_Distribution_Yr3], 
    [Project1].[Earnings_Growth_Compounded] AS [Earnings_Growth_Compounded], 
    [Project1].[Earnings_Forecast_Yr3] AS [Earnings_Forecast_Yr3], 
    [Project1].[Historic_Dividend_Yield_FYE] AS [Historic_Dividend_Yield_FYE], 
    [Project1].[Forward_Dividend_Yield_FYE] AS [Forward_Dividend_Yield_FYE], 
    [Project1].[Yr3_Forward_Dividend_Yield] AS [Yr3_Forward_Dividend_Yield], 
    [Project1].[Rolling_12M_Forward_Yield] AS [Rolling_12M_Forward_Yield], 
    [Project1].[Historical_Earnings_FYE] AS [Historical_Earnings_FYE], 
    [Project1].[Earnings_Forecast_Yr1] AS [Earnings_Forecast_Yr1], 
    [Project1].[Earnings_Forecast_Yr2] AS [Earnings_Forecast_Yr2], 
    [Project1].[Historic_Dividend_Yield_Relative] AS [Historic_Dividend_Yield_Relative], 
    [Project1].[Rolling_12M_Historic_Distribution_PriceCurr] AS [Rolling_12M_Historic_Distribution_PriceCurr], 
    [Project1].[Short_Term_Market_Rerate] AS [Short_Term_Market_Rerate], 
    [Project1].[Forecast_12M_Total_Return] AS [Forecast_12M_Total_Return], 
    [Project1].[Clean_Price] AS [Clean_Price], 
    [Project1].[Rolling_Dividend_Yield_Historic] AS [Rolling_Dividend_Yield_Historic], 
    [Project1].[Last_Update_Date] AS [Last_Update_Date], 
    [Project1].[Last_Update_User] AS [Last_Update_User], 
    [Project1].[Discount_Security_ID] AS [Discount_Security_ID], 
    [Project1].[Net_Present_Value] AS [Net_Present_Value], 
    [Project1].[Forecast_Rolling_Custom_Income] AS [Forecast_Rolling_Custom_Income], 
    [Project1].[Custom_Period] AS [Custom_Period], 
    [Project1].[Rolling_12M_Historic_Distribution] AS [Rolling_12M_Historic_Distribution], 
    [Project1].[Record_Date] AS [Record_Date], 
    [Project1].[Session_ID] AS [Session_ID], 
    [Project1].[Hist_Last_Update_Date] AS [Hist_Last_Update_Date], 
    [Project1].[Hist_Last_Update_User] AS [Hist_Last_Update_User], 
    [Project1].[Rolling_12M_Forecast_Distribution] AS [Rolling_12M_Forecast_Distribution], 
    [Project1].[Yr2_Forward_Dividend_Yield] AS [Yr2_Forward_Dividend_Yield], 
    [Project1].[Exit_Yield] AS [Exit_Yield], 
    [Project1].[Discount_Rate] AS [Discount_Rate], 
    [Project1].[Distribution_Growth_Compounded] AS [Distribution_Growth_Compounded], 
    [Project1].[Forecast_12MRolling_Income_Accrual] AS [Forecast_12MRolling_Income_Accrual], 
    [Project1].[Rolling_12_to_24M_Forecast_Distribution] AS [Rolling_12_to_24M_Forecast_Distribution], 
    [Project1].[Rolling_24_to_36M_Forecast_Distribution] AS [Rolling_24_to_36M_Forecast_Distribution], 
    [Project1].[Forecast_Yr1_Dividend_Yield_Relative] AS [Forecast_Yr1_Dividend_Yield_Relative], 
    [Project1].[Market_Historic_Yield] AS [Market_Historic_Yield], 
    [Project1].[Market_Forward_Yield] AS [Market_Forward_Yield], 
    [Project1].[Historic_Distribution_PriceCurr] AS [Historic_Distribution_PriceCurr], 
    [Project1].[Forecast_Distribution_Yr1_PriceCurr] AS [Forecast_Distribution_Yr1_PriceCurr], 
    [Project1].[Forecast_Distribution_Yr2_PriceCurr] AS [Forecast_Distribution_Yr2_PriceCurr], 
    [Project1].[Forecast_Distribution_Yr3_PriceCurr] AS [Forecast_Distribution_Yr3_PriceCurr], 
    [Project1].[Rolling_12M_Forecast_Distribution_PriceCurr] AS [Rolling_12M_Forecast_Distribution_PriceCurr], 
    [Project1].[Rolling_12_24M_Forecast_Distribution_PriceCurr] AS [Rolling_12_24M_Forecast_Distribution_PriceCurr], 
    [Project1].[Rolling_24_36M_Forecast_Distribution_PriceCurr] AS [Rolling_24_36M_Forecast_Distribution_PriceCurr], 
    [Project1].[Distribution_Growth_Forecast_Yr4] AS [Distribution_Growth_Forecast_Yr4], 
    [Project1].[Earnings_Forecast_Yr4] AS [Earnings_Forecast_Yr4], 
    [Project1].[Forecast_Distribution_Yr4] AS [Forecast_Distribution_Yr4], 
    [Project1].[Forecast_Distribution_Yr4_PriceCurr] AS [Forecast_Distribution_Yr4_PriceCurr], 
    [Project1].[Security_ID1] AS [Security_ID1], 
    [Project1].[Entity_ID1] AS [Entity_ID1], 
    [Project1].[Security_Name] AS [Security_Name], 
    [Project1].[Short_Name] AS [Short_Name], 
    [Project1].[Primary_Exch] AS [Primary_Exch], 
    [Project1].[Secondary_Exch] AS [Secondary_Exch], 
    [Project1].[Country_Of_Domicile] AS [Country_Of_Domicile], 
    [Project1].[Country_Of_Risk] AS [Country_Of_Risk], 
    [Project1].[Security_Type_Code] AS [Security_Type_Code], 
    [Project1].[Price_Multiplier] AS [Price_Multiplier], 
    [Project1].[Income_Frequency] AS [Income_Frequency], 
    [Project1].[Issuer_Code] AS [Issuer_Code], 
    [Project1].[Ultimate_Issuer_Code] AS [Ultimate_Issuer_Code], 
    [Project1].[Asset_Currency] AS [Asset_Currency], 
    [Project1].[Min_Lot_Size] AS [Min_Lot_Size], 
    [Project1].[AvePrice_Rounding] AS [AvePrice_Rounding], 
    [Project1].[Issue_Date] AS [Issue_Date], 
    [Project1].[Maturity_Date] AS [Maturity_Date], 
    [Project1].[Coupon_Rate] AS [Coupon_Rate], 
    [Project1].[Price_Exchange] AS [Price_Exchange], 
    [Project1].[Trade_Currency] AS [Trade_Currency], 
    [Project1].[Price_Curr] AS [Price_Curr], 
    [Project1].[Currency_Pair_Code] AS [Currency_Pair_Code], 
    [Project1].[Share_Class] AS [Share_Class], 
    [Project1].[Current_Market_Price] AS [Current_Market_Price], 
    [Project1].[Index_Type] AS [Index_Type], 
    [Project1].[Clean_Price_Formula] AS [Clean_Price_Formula], 
    [Project1].[Accrued_Income_Price_Formula] AS [Accrued_Income_Price_Formula], 
    [Project1].[Odd_First_Coupon_Date] AS [Odd_First_Coupon_Date], 
    [Project1].[Odd_Last_Coupon_Date] AS [Odd_Last_Coupon_Date], 
    [Project1].[Coupon_Anniversary_Indicator] AS [Coupon_Anniversary_Indicator], 
    [Project1].[Track_EOM_Flag] AS [Track_EOM_Flag], 
    [Project1].[Next_Coupon_Date] AS [Next_Coupon_Date], 
    [Project1].[Previous_Coupon_Date] AS [Previous_Coupon_Date], 
    [Project1].[Payment_Frequency] AS [Payment_Frequency], 
    [Project1].[Coupon_BusDay_Adjustment] AS [Coupon_BusDay_Adjustment], 
    [Project1].[Next_Ex_Div_Date] AS [Next_Ex_Div_Date], 
    [Project1].[Ex_Div_BusDay_Adjustment] AS [Ex_Div_BusDay_Adjustment], 
    [Project1].[Ex_Div_Period] AS [Ex_Div_Period], 
    [Project1].[Ticker] AS [Ticker], 
    [Project1].[Inet_ID] AS [Inet_ID], 
    [Project1].[Bloomberg_ID] AS [Bloomberg_ID], 
    [Project1].[External_Sec_ID] AS [External_Sec_ID], 
    [Project1].[Reuters_ID] AS [Reuters_ID], 
    [Project1].[ISIN] AS [ISIN], 
    [Project1].[Call_Account_Flag] AS [Call_Account_Flag], 
    [Project1].[System_Locked] AS [System_Locked], 
    [Project1].[Last_Update_User1] AS [Last_Update_User1], 
    [Project1].[Last_Update_Date1] AS [Last_Update_Date1], 
    [Project1].[Security_Status] AS [Security_Status], 
    [Project1].[Benchmark_Portfolio] AS [Benchmark_Portfolio], 
    [Project1].[Active_flag] AS [Active_flag], 
    [Project1].[Dividend_FX_Security_ID] AS [Dividend_FX_Security_ID]
    FROM ( SELECT 
        [Extent1].[Entity_ID] AS [Entity_ID], 
        [Extent1].[Security_ID] AS [Security_ID], 
        [Extent1].[Issued_Amount] AS [Issued_Amount], 
        [Extent1].[Market_Capitalisation] AS [Market_Capitalisation], 
        [Extent1].[Risk_Premium] AS [Risk_Premium], 
        [Extent1].[Exit_Price] AS [Exit_Price], 
        [Extent1].[Total_Return_ME_1YR] AS [Total_Return_ME_1YR], 
        [Extent1].[Total_Return_ME_2YR] AS [Total_Return_ME_2YR], 
        [Extent1].[Total_Return_ME_3YR] AS [Total_Return_ME_3YR], 
        [Extent1].[Historic_Distribution] AS [Historic_Distribution], 
        [Extent1].[Distribution_Growth_Forecast_Yr1] AS [Distribution_Growth_Forecast_Yr1], 
        [Extent1].[Distribution_Growth_Forecast_Yr2] AS [Distribution_Growth_Forecast_Yr2], 
        [Extent1].[Distribution_Growth_Forecast_Yr3] AS [Distribution_Growth_Forecast_Yr3], 
        [Extent1].[Forecast_Distribution_Yr1] AS [Forecast_Distribution_Yr1], 
        [Extent1].[Forecast_Distribution_Yr2] AS [Forecast_Distribution_Yr2], 
        [Extent1].[Forecast_Distribution_Yr3] AS [Forecast_Distribution_Yr3], 
        [Extent1].[Earnings_Growth_Compounded] AS [Earnings_Growth_Compounded], 
        [Extent1].[Earnings_Forecast_Yr3] AS [Earnings_Forecast_Yr3], 
        [Extent1].[Historic_Dividend_Yield_FYE] AS [Historic_Dividend_Yield_FYE], 
        [Extent1].[Forward_Dividend_Yield_FYE] AS [Forward_Dividend_Yield_FYE], 
        [Extent1].[Yr3_Forward_Dividend_Yield] AS [Yr3_Forward_Dividend_Yield], 
        [Extent1].[Rolling_12M_Forward_Yield] AS [Rolling_12M_Forward_Yield], 
        [Extent1].[Historical_Earnings_FYE] AS [Historical_Earnings_FYE], 
        [Extent1].[Earnings_Forecast_Yr1] AS [Earnings_Forecast_Yr1], 
        [Extent1].[Earnings_Forecast_Yr2] AS [Earnings_Forecast_Yr2], 
        [Extent1].[Historic_Dividend_Yield_Relative] AS [Historic_Dividend_Yield_Relative], 
        [Extent1].[Rolling_12M_Historic_Distribution_PriceCurr] AS [Rolling_12M_Historic_Distribution_PriceCurr], 
        [Extent1].[Short_Term_Market_Rerate] AS [Short_Term_Market_Rerate], 
        [Extent1].[Forecast_12M_Total_Return] AS [Forecast_12M_Total_Return], 
        [Extent1].[Clean_Price] AS [Clean_Price], 
        [Extent1].[Rolling_Dividend_Yield_Historic] AS [Rolling_Dividend_Yield_Historic], 
        [Extent1].[Last_Update_Date] AS [Last_Update_Date], 
        [Extent1].[Last_Update_User] AS [Last_Update_User], 
        [Extent1].[Discount_Security_ID] AS [Discount_Security_ID], 
        [Extent1].[Net_Present_Value] AS [Net_Present_Value], 
        [Extent1].[Forecast_Rolling_Custom_Income] AS [Forecast_Rolling_Custom_Income], 
        [Extent1].[Custom_Period] AS [Custom_Period], 
        [Extent1].[Rolling_12M_Historic_Distribution] AS [Rolling_12M_Historic_Distribution], 
        [Extent1].[Record_Date] AS [Record_Date], 
        [Extent1].[Session_ID] AS [Session_ID], 
        [Extent1].[Hist_Last_Update_Date] AS [Hist_Last_Update_Date], 
        [Extent1].[Hist_Last_Update_User] AS [Hist_Last_Update_User], 
        [Extent1].[Rolling_12M_Forecast_Distribution] AS [Rolling_12M_Forecast_Distribution], 
        [Extent1].[Yr2_Forward_Dividend_Yield] AS [Yr2_Forward_Dividend_Yield], 
        [Extent1].[Exit_Yield] AS [Exit_Yield], 
        [Extent1].[Discount_Rate] AS [Discount_Rate], 
        [Extent1].[Distribution_Growth_Compounded] AS [Distribution_Growth_Compounded], 
        [Extent1].[Forecast_12MRolling_Income_Accrual] AS [Forecast_12MRolling_Income_Accrual], 
        [Extent1].[Rolling_12_to_24M_Forecast_Distribution] AS [Rolling_12_to_24M_Forecast_Distribution], 
        [Extent1].[Rolling_24_to_36M_Forecast_Distribution] AS [Rolling_24_to_36M_Forecast_Distribution], 
        [Extent1].[Forecast_Yr1_Dividend_Yield_Relative] AS [Forecast_Yr1_Dividend_Yield_Relative], 
        [Extent1].[Market_Historic_Yield] AS [Market_Historic_Yield], 
        [Extent1].[Market_Forward_Yield] AS [Market_Forward_Yield], 
        [Extent1].[Historic_Distribution_PriceCurr] AS [Historic_Distribution_PriceCurr], 
        [Extent1].[Forecast_Distribution_Yr1_PriceCurr] AS [Forecast_Distribution_Yr1_PriceCurr], 
        [Extent1].[Forecast_Distribution_Yr2_PriceCurr] AS [Forecast_Distribution_Yr2_PriceCurr], 
        [Extent1].[Forecast_Distribution_Yr3_PriceCurr] AS [Forecast_Distribution_Yr3_PriceCurr], 
        [Extent1].[Rolling_12M_Forecast_Distribution_PriceCurr] AS [Rolling_12M_Forecast_Distribution_PriceCurr], 
        [Extent1].[Rolling_12_24M_Forecast_Distribution_PriceCurr] AS [Rolling_12_24M_Forecast_Distribution_PriceCurr], 
        [Extent1].[Rolling_24_36M_Forecast_Distribution_PriceCurr] AS [Rolling_24_36M_Forecast_Distribution_PriceCurr], 
        [Extent1].[Distribution_Growth_Forecast_Yr4] AS [Distribution_Growth_Forecast_Yr4], 
        [Extent1].[Earnings_Forecast_Yr4] AS [Earnings_Forecast_Yr4], 
        [Extent1].[Forecast_Distribution_Yr4] AS [Forecast_Distribution_Yr4], 
        [Extent1].[Forecast_Distribution_Yr4_PriceCurr] AS [Forecast_Distribution_Yr4_PriceCurr], 
        [Extent2].[Security_ID] AS [Security_ID1], 
        [Extent2].[Entity_ID] AS [Entity_ID1], 
        [Extent2].[Security_Name] AS [Security_Name], 
        [Extent2].[Short_Name] AS [Short_Name], 
        [Extent2].[Primary_Exch] AS [Primary_Exch], 
        [Extent2].[Secondary_Exch] AS [Secondary_Exch], 
        [Extent2].[Country_Of_Domicile] AS [Country_Of_Domicile], 
        [Extent2].[Country_Of_Risk] AS [Country_Of_Risk], 
        [Extent2].[Security_Type_Code] AS [Security_Type_Code], 
        [Extent2].[Price_Multiplier] AS [Price_Multiplier], 
        [Extent2].[Income_Frequency] AS [Income_Frequency], 
        [Extent2].[Issuer_Code] AS [Issuer_Code], 
        [Extent2].[Ultimate_Issuer_Code] AS [Ultimate_Issuer_Code], 
        [Extent2].[Asset_Currency] AS [Asset_Currency], 
        [Extent2].[Min_Lot_Size] AS [Min_Lot_Size], 
        [Extent2].[Decimal_Precision] AS [Decimal_Precision], 
        [Extent2].[AvePrice_Rounding] AS [AvePrice_Rounding], 
        [Extent2].[Issue_Date] AS [Issue_Date], 
        [Extent2].[Maturity_Date] AS [Maturity_Date], 
        [Extent2].[Coupon_Rate] AS [Coupon_Rate], 
        [Extent2].[Price_Exchange] AS [Price_Exchange], 
        [Extent2].[Trade_Currency] AS [Trade_Currency], 
        [Extent2].[Price_Curr] AS [Price_Curr], 
        [Extent2].[Currency_Pair_Code] AS [Currency_Pair_Code], 
        [Extent2].[Share_Class] AS [Share_Class], 
        [Extent2].[Current_Market_Price] AS [Current_Market_Price], 
        [Extent2].[Index_Type] AS [Index_Type], 
        [Extent2].[Clean_Price_Formula] AS [Clean_Price_Formula], 
        [Extent2].[Accrued_Income_Price_Formula] AS [Accrued_Income_Price_Formula], 
        [Extent2].[Odd_First_Coupon_Date] AS [Odd_First_Coupon_Date], 
        [Extent2].[Odd_Last_Coupon_Date] AS [Odd_Last_Coupon_Date], 
        [Extent2].[Coupon_Anniversary_Indicator] AS [Coupon_Anniversary_Indicator], 
        [Extent2].[Track_EOM_Flag] AS [Track_EOM_Flag], 
        [Extent2].[Next_Coupon_Date] AS [Next_Coupon_Date], 
        [Extent2].[Previous_Coupon_Date] AS [Previous_Coupon_Date], 
        [Extent2].[Payment_Frequency] AS [Payment_Frequency], 
        [Extent2].[Coupon_BusDay_Adjustment] AS [Coupon_BusDay_Adjustment], 
        [Extent2].[Next_Ex_Div_Date] AS [Next_Ex_Div_Date], 
        [Extent2].[Ex_Div_BusDay_Adjustment] AS [Ex_Div_BusDay_Adjustment], 
        [Extent2].[Ex_Div_Period] AS [Ex_Div_Period], 
        [Extent2].[Ticker] AS [Ticker], 
        [Extent2].[Inet_ID] AS [Inet_ID], 
        [Extent2].[Bloomberg_ID] AS [Bloomberg_ID], 
        [Extent2].[External_Sec_ID] AS [External_Sec_ID], 
        [Extent2].[Reuters_ID] AS [Reuters_ID], 
        [Extent2].[ISIN] AS [ISIN], 
        [Extent2].[Call_Account_Flag] AS [Call_Account_Flag], 
        [Extent2].[System_Locked] AS [System_Locked], 
        [Extent2].[Last_Update_User] AS [Last_Update_User1], 
        [Extent2].[Last_Update_Date] AS [Last_Update_Date1], 
        [Extent2].[Security_Status] AS [Security_Status], 
        [Extent2].[Benchmark_Portfolio] AS [Benchmark_Portfolio], 
        [Extent2].[Active_flag] AS [Active_flag], 
        [Extent2].[Dividend_FX_Security_ID] AS [Dividend_FX_Security_ID]
        FROM  [dbo].[Security_Analytics_History] AS [Extent1]
        INNER JOIN [dbo].[Security_Detail] AS [Extent2] ON [Extent1].[Security_ID] = [Extent2].[Security_ID]
        WHERE [Extent1].[Security_ID] = @p__linq__0
    )  AS [Project1]
    ORDER BY [Project1].[Record_Date] DESC
2018-04-07 16:53:28.7758|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: SELECT 
    [Project1].[Decimal_Precision] AS [Decimal_Precision], 
    [Project1].[Entity_ID] AS [Entity_ID], 
    [Project1].[Security_ID] AS [Security_ID], 
    [Project1].[Issued_Amount] AS [Issued_Amount], 
    [Project1].[Market_Capitalisation] AS [Market_Capitalisation], 
    [Project1].[Risk_Premium] AS [Risk_Premium], 
    [Project1].[Exit_Price] AS [Exit_Price], 
    [Project1].[Total_Return_ME_1YR] AS [Total_Return_ME_1YR], 
    [Project1].[Total_Return_ME_2YR] AS [Total_Return_ME_2YR], 
    [Project1].[Total_Return_ME_3YR] AS [Total_Return_ME_3YR], 
    [Project1].[Historic_Distribution] AS [Historic_Distribution], 
    [Project1].[Distribution_Growth_Forecast_Yr1] AS [Distribution_Growth_Forecast_Yr1], 
    [Project1].[Distribution_Growth_Forecast_Yr2] AS [Distribution_Growth_Forecast_Yr2], 
    [Project1].[Distribution_Growth_Forecast_Yr3] AS [Distribution_Growth_Forecast_Yr3], 
    [Project1].[Forecast_Distribution_Yr1] AS [Forecast_Distribution_Yr1], 
    [Project1].[Forecast_Distribution_Yr2] AS [Forecast_Distribution_Yr2], 
    [Project1].[Forecast_Distribution_Yr3] AS [Forecast_Distribution_Yr3], 
    [Project1].[Earnings_Growth_Compounded] AS [Earnings_Growth_Compounded], 
    [Project1].[Earnings_Forecast_Yr3] AS [Earnings_Forecast_Yr3], 
    [Project1].[Historic_Dividend_Yield_FYE] AS [Historic_Dividend_Yield_FYE], 
    [Project1].[Forward_Dividend_Yield_FYE] AS [Forward_Dividend_Yield_FYE], 
    [Project1].[Yr3_Forward_Dividend_Yield] AS [Yr3_Forward_Dividend_Yield], 
    [Project1].[Rolling_12M_Forward_Yield] AS [Rolling_12M_Forward_Yield], 
    [Project1].[Historical_Earnings_FYE] AS [Historical_Earnings_FYE], 
    [Project1].[Earnings_Forecast_Yr1] AS [Earnings_Forecast_Yr1], 
    [Project1].[Earnings_Forecast_Yr2] AS [Earnings_Forecast_Yr2], 
    [Project1].[Historic_Dividend_Yield_Relative] AS [Historic_Dividend_Yield_Relative], 
    [Project1].[Rolling_12M_Historic_Distribution_PriceCurr] AS [Rolling_12M_Historic_Distribution_PriceCurr], 
    [Project1].[Short_Term_Market_Rerate] AS [Short_Term_Market_Rerate], 
    [Project1].[Forecast_12M_Total_Return] AS [Forecast_12M_Total_Return], 
    [Project1].[Clean_Price] AS [Clean_Price], 
    [Project1].[Rolling_Dividend_Yield_Historic] AS [Rolling_Dividend_Yield_Historic], 
    [Project1].[Last_Update_Date] AS [Last_Update_Date], 
    [Project1].[Last_Update_User] AS [Last_Update_User], 
    [Project1].[Discount_Security_ID] AS [Discount_Security_ID], 
    [Project1].[Net_Present_Value] AS [Net_Present_Value], 
    [Project1].[Forecast_Rolling_Custom_Income] AS [Forecast_Rolling_Custom_Income], 
    [Project1].[Custom_Period] AS [Custom_Period], 
    [Project1].[Rolling_12M_Historic_Distribution] AS [Rolling_12M_Historic_Distribution], 
    [Project1].[Record_Date] AS [Record_Date], 
    [Project1].[Session_ID] AS [Session_ID], 
    [Project1].[Hist_Last_Update_Date] AS [Hist_Last_Update_Date], 
    [Project1].[Hist_Last_Update_User] AS [Hist_Last_Update_User], 
    [Project1].[Rolling_12M_Forecast_Distribution] AS [Rolling_12M_Forecast_Distribution], 
    [Project1].[Yr2_Forward_Dividend_Yield] AS [Yr2_Forward_Dividend_Yield], 
    [Project1].[Exit_Yield] AS [Exit_Yield], 
    [Project1].[Discount_Rate] AS [Discount_Rate], 
    [Project1].[Distribution_Growth_Compounded] AS [Distribution_Growth_Compounded], 
    [Project1].[Forecast_12MRolling_Income_Accrual] AS [Forecast_12MRolling_Income_Accrual], 
    [Project1].[Rolling_12_to_24M_Forecast_Distribution] AS [Rolling_12_to_24M_Forecast_Distribution], 
    [Project1].[Rolling_24_to_36M_Forecast_Distribution] AS [Rolling_24_to_36M_Forecast_Distribution], 
    [Project1].[Forecast_Yr1_Dividend_Yield_Relative] AS [Forecast_Yr1_Dividend_Yield_Relative], 
    [Project1].[Market_Historic_Yield] AS [Market_Historic_Yield], 
    [Project1].[Market_Forward_Yield] AS [Market_Forward_Yield], 
    [Project1].[Historic_Distribution_PriceCurr] AS [Historic_Distribution_PriceCurr], 
    [Project1].[Forecast_Distribution_Yr1_PriceCurr] AS [Forecast_Distribution_Yr1_PriceCurr], 
    [Project1].[Forecast_Distribution_Yr2_PriceCurr] AS [Forecast_Distribution_Yr2_PriceCurr], 
    [Project1].[Forecast_Distribution_Yr3_PriceCurr] AS [Forecast_Distribution_Yr3_PriceCurr], 
    [Project1].[Rolling_12M_Forecast_Distribution_PriceCurr] AS [Rolling_12M_Forecast_Distribution_PriceCurr], 
    [Project1].[Rolling_12_24M_Forecast_Distribution_PriceCurr] AS [Rolling_12_24M_Forecast_Distribution_PriceCurr], 
    [Project1].[Rolling_24_36M_Forecast_Distribution_PriceCurr] AS [Rolling_24_36M_Forecast_Distribution_PriceCurr], 
    [Project1].[Distribution_Growth_Forecast_Yr4] AS [Distribution_Growth_Forecast_Yr4], 
    [Project1].[Earnings_Forecast_Yr4] AS [Earnings_Forecast_Yr4], 
    [Project1].[Forecast_Distribution_Yr4] AS [Forecast_Distribution_Yr4], 
    [Project1].[Forecast_Distribution_Yr4_PriceCurr] AS [Forecast_Distribution_Yr4_PriceCurr], 
    [Project1].[Security_ID1] AS [Security_ID1], 
    [Project1].[Entity_ID1] AS [Entity_ID1], 
    [Project1].[Security_Name] AS [Security_Name], 
    [Project1].[Short_Name] AS [Short_Name], 
    [Project1].[Primary_Exch] AS [Primary_Exch], 
    [Project1].[Secondary_Exch] AS [Secondary_Exch], 
    [Project1].[Country_Of_Domicile] AS [Country_Of_Domicile], 
    [Project1].[Country_Of_Risk] AS [Country_Of_Risk], 
    [Project1].[Security_Type_Code] AS [Security_Type_Code], 
    [Project1].[Price_Multiplier] AS [Price_Multiplier], 
    [Project1].[Income_Frequency] AS [Income_Frequency], 
    [Project1].[Issuer_Code] AS [Issuer_Code], 
    [Project1].[Ultimate_Issuer_Code] AS [Ultimate_Issuer_Code], 
    [Project1].[Asset_Currency] AS [Asset_Currency], 
    [Project1].[Min_Lot_Size] AS [Min_Lot_Size], 
    [Project1].[AvePrice_Rounding] AS [AvePrice_Rounding], 
    [Project1].[Issue_Date] AS [Issue_Date], 
    [Project1].[Maturity_Date] AS [Maturity_Date], 
    [Project1].[Coupon_Rate] AS [Coupon_Rate], 
    [Project1].[Price_Exchange] AS [Price_Exchange], 
    [Project1].[Trade_Currency] AS [Trade_Currency], 
    [Project1].[Price_Curr] AS [Price_Curr], 
    [Project1].[Currency_Pair_Code] AS [Currency_Pair_Code], 
    [Project1].[Share_Class] AS [Share_Class], 
    [Project1].[Current_Market_Price] AS [Current_Market_Price], 
    [Project1].[Index_Type] AS [Index_Type], 
    [Project1].[Clean_Price_Formula] AS [Clean_Price_Formula], 
    [Project1].[Accrued_Income_Price_Formula] AS [Accrued_Income_Price_Formula], 
    [Project1].[Odd_First_Coupon_Date] AS [Odd_First_Coupon_Date], 
    [Project1].[Odd_Last_Coupon_Date] AS [Odd_Last_Coupon_Date], 
    [Project1].[Coupon_Anniversary_Indicator] AS [Coupon_Anniversary_Indicator], 
    [Project1].[Track_EOM_Flag] AS [Track_EOM_Flag], 
    [Project1].[Next_Coupon_Date] AS [Next_Coupon_Date], 
    [Project1].[Previous_Coupon_Date] AS [Previous_Coupon_Date], 
    [Project1].[Payment_Frequency] AS [Payment_Frequency], 
    [Project1].[Coupon_BusDay_Adjustment] AS [Coupon_BusDay_Adjustment], 
    [Project1].[Next_Ex_Div_Date] AS [Next_Ex_Div_Date], 
    [Project1].[Ex_Div_BusDay_Adjustment] AS [Ex_Div_BusDay_Adjustment], 
    [Project1].[Ex_Div_Period] AS [Ex_Div_Period], 
    [Project1].[Ticker] AS [Ticker], 
    [Project1].[Inet_ID] AS [Inet_ID], 
    [Project1].[Bloomberg_ID] AS [Bloomberg_ID], 
    [Project1].[External_Sec_ID] AS [External_Sec_ID], 
    [Project1].[Reuters_ID] AS [Reuters_ID], 
    [Project1].[ISIN] AS [ISIN], 
    [Project1].[Call_Account_Flag] AS [Call_Account_Flag], 
    [Project1].[System_Locked] AS [System_Locked], 
    [Project1].[Last_Update_User1] AS [Last_Update_User1], 
    [Project1].[Last_Update_Date1] AS [Last_Update_Date1], 
    [Project1].[Security_Status] AS [Security_Status], 
    [Project1].[Benchmark_Portfolio] AS [Benchmark_Portfolio], 
    [Project1].[Active_flag] AS [Active_flag], 
    [Project1].[Dividend_FX_Security_ID] AS [Dividend_FX_Security_ID]
    FROM ( SELECT 
        [Extent1].[Entity_ID] AS [Entity_ID], 
        [Extent1].[Security_ID] AS [Security_ID], 
        [Extent1].[Issued_Amount] AS [Issued_Amount], 
        [Extent1].[Market_Capitalisation] AS [Market_Capitalisation], 
        [Extent1].[Risk_Premium] AS [Risk_Premium], 
        [Extent1].[Exit_Price] AS [Exit_Price], 
        [Extent1].[Total_Return_ME_1YR] AS [Total_Return_ME_1YR], 
        [Extent1].[Total_Return_ME_2YR] AS [Total_Return_ME_2YR], 
        [Extent1].[Total_Return_ME_3YR] AS [Total_Return_ME_3YR], 
        [Extent1].[Historic_Distribution] AS [Historic_Distribution], 
        [Extent1].[Distribution_Growth_Forecast_Yr1] AS [Distribution_Growth_Forecast_Yr1], 
        [Extent1].[Distribution_Growth_Forecast_Yr2] AS [Distribution_Growth_Forecast_Yr2], 
        [Extent1].[Distribution_Growth_Forecast_Yr3] AS [Distribution_Growth_Forecast_Yr3], 
        [Extent1].[Forecast_Distribution_Yr1] AS [Forecast_Distribution_Yr1], 
        [Extent1].[Forecast_Distribution_Yr2] AS [Forecast_Distribution_Yr2], 
        [Extent1].[Forecast_Distribution_Yr3] AS [Forecast_Distribution_Yr3], 
        [Extent1].[Earnings_Growth_Compounded] AS [Earnings_Growth_Compounded], 
        [Extent1].[Earnings_Forecast_Yr3] AS [Earnings_Forecast_Yr3], 
        [Extent1].[Historic_Dividend_Yield_FYE] AS [Historic_Dividend_Yield_FYE], 
        [Extent1].[Forward_Dividend_Yield_FYE] AS [Forward_Dividend_Yield_FYE], 
        [Extent1].[Yr3_Forward_Dividend_Yield] AS [Yr3_Forward_Dividend_Yield], 
        [Extent1].[Rolling_12M_Forward_Yield] AS [Rolling_12M_Forward_Yield], 
        [Extent1].[Historical_Earnings_FYE] AS [Historical_Earnings_FYE], 
        [Extent1].[Earnings_Forecast_Yr1] AS [Earnings_Forecast_Yr1], 
        [Extent1].[Earnings_Forecast_Yr2] AS [Earnings_Forecast_Yr2], 
        [Extent1].[Historic_Dividend_Yield_Relative] AS [Historic_Dividend_Yield_Relative], 
        [Extent1].[Rolling_12M_Historic_Distribution_PriceCurr] AS [Rolling_12M_Historic_Distribution_PriceCurr], 
        [Extent1].[Short_Term_Market_Rerate] AS [Short_Term_Market_Rerate], 
        [Extent1].[Forecast_12M_Total_Return] AS [Forecast_12M_Total_Return], 
        [Extent1].[Clean_Price] AS [Clean_Price], 
        [Extent1].[Rolling_Dividend_Yield_Historic] AS [Rolling_Dividend_Yield_Historic], 
        [Extent1].[Last_Update_Date] AS [Last_Update_Date], 
        [Extent1].[Last_Update_User] AS [Last_Update_User], 
        [Extent1].[Discount_Security_ID] AS [Discount_Security_ID], 
        [Extent1].[Net_Present_Value] AS [Net_Present_Value], 
        [Extent1].[Forecast_Rolling_Custom_Income] AS [Forecast_Rolling_Custom_Income], 
        [Extent1].[Custom_Period] AS [Custom_Period], 
        [Extent1].[Rolling_12M_Historic_Distribution] AS [Rolling_12M_Historic_Distribution], 
        [Extent1].[Record_Date] AS [Record_Date], 
        [Extent1].[Session_ID] AS [Session_ID], 
        [Extent1].[Hist_Last_Update_Date] AS [Hist_Last_Update_Date], 
        [Extent1].[Hist_Last_Update_User] AS [Hist_Last_Update_User], 
        [Extent1].[Rolling_12M_Forecast_Distribution] AS [Rolling_12M_Forecast_Distribution], 
        [Extent1].[Yr2_Forward_Dividend_Yield] AS [Yr2_Forward_Dividend_Yield], 
        [Extent1].[Exit_Yield] AS [Exit_Yield], 
        [Extent1].[Discount_Rate] AS [Discount_Rate], 
        [Extent1].[Distribution_Growth_Compounded] AS [Distribution_Growth_Compounded], 
        [Extent1].[Forecast_12MRolling_Income_Accrual] AS [Forecast_12MRolling_Income_Accrual], 
        [Extent1].[Rolling_12_to_24M_Forecast_Distribution] AS [Rolling_12_to_24M_Forecast_Distribution], 
        [Extent1].[Rolling_24_to_36M_Forecast_Distribution] AS [Rolling_24_to_36M_Forecast_Distribution], 
        [Extent1].[Forecast_Yr1_Dividend_Yield_Relative] AS [Forecast_Yr1_Dividend_Yield_Relative], 
        [Extent1].[Market_Historic_Yield] AS [Market_Historic_Yield], 
        [Extent1].[Market_Forward_Yield] AS [Market_Forward_Yield], 
        [Extent1].[Historic_Distribution_PriceCurr] AS [Historic_Distribution_PriceCurr], 
        [Extent1].[Forecast_Distribution_Yr1_PriceCurr] AS [Forecast_Distribution_Yr1_PriceCurr], 
        [Extent1].[Forecast_Distribution_Yr2_PriceCurr] AS [Forecast_Distribution_Yr2_PriceCurr], 
        [Extent1].[Forecast_Distribution_Yr3_PriceCurr] AS [Forecast_Distribution_Yr3_PriceCurr], 
        [Extent1].[Rolling_12M_Forecast_Distribution_PriceCurr] AS [Rolling_12M_Forecast_Distribution_PriceCurr], 
        [Extent1].[Rolling_12_24M_Forecast_Distribution_PriceCurr] AS [Rolling_12_24M_Forecast_Distribution_PriceCurr], 
        [Extent1].[Rolling_24_36M_Forecast_Distribution_PriceCurr] AS [Rolling_24_36M_Forecast_Distribution_PriceCurr], 
        [Extent1].[Distribution_Growth_Forecast_Yr4] AS [Distribution_Growth_Forecast_Yr4], 
        [Extent1].[Earnings_Forecast_Yr4] AS [Earnings_Forecast_Yr4], 
        [Extent1].[Forecast_Distribution_Yr4] AS [Forecast_Distribution_Yr4], 
        [Extent1].[Forecast_Distribution_Yr4_PriceCurr] AS [Forecast_Distribution_Yr4_PriceCurr], 
        [Extent2].[Security_ID] AS [Security_ID1], 
        [Extent2].[Entity_ID] AS [Entity_ID1], 
        [Extent2].[Security_Name] AS [Security_Name], 
        [Extent2].[Short_Name] AS [Short_Name], 
        [Extent2].[Primary_Exch] AS [Primary_Exch], 
        [Extent2].[Secondary_Exch] AS [Secondary_Exch], 
        [Extent2].[Country_Of_Domicile] AS [Country_Of_Domicile], 
        [Extent2].[Country_Of_Risk] AS [Country_Of_Risk], 
        [Extent2].[Security_Type_Code] AS [Security_Type_Code], 
        [Extent2].[Price_Multiplier] AS [Price_Multiplier], 
        [Extent2].[Income_Frequency] AS [Income_Frequency], 
        [Extent2].[Issuer_Code] AS [Issuer_Code], 
        [Extent2].[Ultimate_Issuer_Code] AS [Ultimate_Issuer_Code], 
        [Extent2].[Asset_Currency] AS [Asset_Currency], 
        [Extent2].[Min_Lot_Size] AS [Min_Lot_Size], 
        [Extent2].[Decimal_Precision] AS [Decimal_Precision], 
        [Extent2].[AvePrice_Rounding] AS [AvePrice_Rounding], 
        [Extent2].[Issue_Date] AS [Issue_Date], 
        [Extent2].[Maturity_Date] AS [Maturity_Date], 
        [Extent2].[Coupon_Rate] AS [Coupon_Rate], 
        [Extent2].[Price_Exchange] AS [Price_Exchange], 
        [Extent2].[Trade_Currency] AS [Trade_Currency], 
        [Extent2].[Price_Curr] AS [Price_Curr], 
        [Extent2].[Currency_Pair_Code] AS [Currency_Pair_Code], 
        [Extent2].[Share_Class] AS [Share_Class], 
        [Extent2].[Current_Market_Price] AS [Current_Market_Price], 
        [Extent2].[Index_Type] AS [Index_Type], 
        [Extent2].[Clean_Price_Formula] AS [Clean_Price_Formula], 
        [Extent2].[Accrued_Income_Price_Formula] AS [Accrued_Income_Price_Formula], 
        [Extent2].[Odd_First_Coupon_Date] AS [Odd_First_Coupon_Date], 
        [Extent2].[Odd_Last_Coupon_Date] AS [Odd_Last_Coupon_Date], 
        [Extent2].[Coupon_Anniversary_Indicator] AS [Coupon_Anniversary_Indicator], 
        [Extent2].[Track_EOM_Flag] AS [Track_EOM_Flag], 
        [Extent2].[Next_Coupon_Date] AS [Next_Coupon_Date], 
        [Extent2].[Previous_Coupon_Date] AS [Previous_Coupon_Date], 
        [Extent2].[Payment_Frequency] AS [Payment_Frequency], 
        [Extent2].[Coupon_BusDay_Adjustment] AS [Coupon_BusDay_Adjustment], 
        [Extent2].[Next_Ex_Div_Date] AS [Next_Ex_Div_Date], 
        [Extent2].[Ex_Div_BusDay_Adjustment] AS [Ex_Div_BusDay_Adjustment], 
        [Extent2].[Ex_Div_Period] AS [Ex_Div_Period], 
        [Extent2].[Ticker] AS [Ticker], 
        [Extent2].[Inet_ID] AS [Inet_ID], 
        [Extent2].[Bloomberg_ID] AS [Bloomberg_ID], 
        [Extent2].[External_Sec_ID] AS [External_Sec_ID], 
        [Extent2].[Reuters_ID] AS [Reuters_ID], 
        [Extent2].[ISIN] AS [ISIN], 
        [Extent2].[Call_Account_Flag] AS [Call_Account_Flag], 
        [Extent2].[System_Locked] AS [System_Locked], 
        [Extent2].[Last_Update_User] AS [Last_Update_User1], 
        [Extent2].[Last_Update_Date] AS [Last_Update_Date1], 
        [Extent2].[Security_Status] AS [Security_Status], 
        [Extent2].[Benchmark_Portfolio] AS [Benchmark_Portfolio], 
        [Extent2].[Active_flag] AS [Active_flag], 
        [Extent2].[Dividend_FX_Security_ID] AS [Dividend_FX_Security_ID]
        FROM  [dbo].[Security_Analytics_History] AS [Extent1]
        INNER JOIN [dbo].[Security_Detail] AS [Extent2] ON [Extent1].[Security_ID] = [Extent2].[Security_ID]
        WHERE [Extent1].[Security_ID] = @p__linq__0
    )  AS [Project1]
    ORDER BY [Project1].[Record_Date] DESC
2018-04-07 16:53:33.6678|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: IF db_id(N'MetopeAzureDb') IS NOT NULL SELECT 1 ELSE SELECT Count(*) FROM sys.databases WHERE [name]=N'MetopeAzureDb'
2018-04-07 16:53:33.6833|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: IF db_id(N'MetopeAzureDb') IS NOT NULL SELECT 1 ELSE SELECT Count(*) FROM sys.databases WHERE [name]=N'MetopeAzureDb'
2018-04-07 16:53:33.7099|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: IF db_id(N'MetopeAzureDb') IS NOT NULL SELECT 1 ELSE SELECT Count(*) FROM sys.databases WHERE [name]=N'MetopeAzureDb'
2018-04-07 16:53:33.7279|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: IF db_id(N'MetopeAzureDb') IS NOT NULL SELECT 1 ELSE SELECT Count(*) FROM sys.databases WHERE [name]=N'MetopeAzureDb'
2018-04-07 16:53:38.1050|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: IF db_id(N'MetopeAzureDb') IS NOT NULL SELECT 1 ELSE SELECT Count(*) FROM sys.databases WHERE [name]=N'MetopeAzureDb'
2018-04-07 16:53:38.1340|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: IF db_id(N'MetopeAzureDb') IS NOT NULL SELECT 1 ELSE SELECT Count(*) FROM sys.databases WHERE [name]=N'MetopeAzureDb'
2018-04-07 16:53:38.4597|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: SELECT 
    [Extent1].[Entity_ID] AS [Entity_ID], 
    [Extent1].[Security_ID] AS [Security_ID], 
    [Extent1].[Issued_Amount] AS [Issued_Amount], 
    [Extent1].[Market_Capitalisation] AS [Market_Capitalisation], 
    [Extent1].[Risk_Premium] AS [Risk_Premium], 
    [Extent1].[Exit_Price] AS [Exit_Price], 
    [Extent1].[Total_Return_ME_1YR] AS [Total_Return_ME_1YR], 
    [Extent1].[Total_Return_ME_2YR] AS [Total_Return_ME_2YR], 
    [Extent1].[Total_Return_ME_3YR] AS [Total_Return_ME_3YR], 
    [Extent1].[Historic_Distribution] AS [Historic_Distribution], 
    [Extent1].[Distribution_Growth_Forecast_Yr1] AS [Distribution_Growth_Forecast_Yr1], 
    [Extent1].[Distribution_Growth_Forecast_Yr2] AS [Distribution_Growth_Forecast_Yr2], 
    [Extent1].[Distribution_Growth_Forecast_Yr3] AS [Distribution_Growth_Forecast_Yr3], 
    [Extent1].[Forecast_Distribution_Yr1] AS [Forecast_Distribution_Yr1], 
    [Extent1].[Forecast_Distribution_Yr2] AS [Forecast_Distribution_Yr2], 
    [Extent1].[Forecast_Distribution_Yr3] AS [Forecast_Distribution_Yr3], 
    [Extent1].[Earnings_Growth_Compounded] AS [Earnings_Growth_Compounded], 
    [Extent1].[Earnings_Forecast_Yr3] AS [Earnings_Forecast_Yr3], 
    [Extent1].[Historic_Dividend_Yield_FYE] AS [Historic_Dividend_Yield_FYE], 
    [Extent1].[Forward_Dividend_Yield_FYE] AS [Forward_Dividend_Yield_FYE], 
    [Extent1].[Yr3_Forward_Dividend_Yield] AS [Yr3_Forward_Dividend_Yield], 
    [Extent1].[Rolling_12M_Forward_Yield] AS [Rolling_12M_Forward_Yield], 
    [Extent1].[Historical_Earnings_FYE] AS [Historical_Earnings_FYE], 
    [Extent1].[Earnings_Forecast_Yr1] AS [Earnings_Forecast_Yr1], 
    [Extent1].[Earnings_Forecast_Yr2] AS [Earnings_Forecast_Yr2], 
    [Extent1].[Historic_Dividend_Yield_Relative] AS [Historic_Dividend_Yield_Relative], 
    [Extent1].[Rolling_12M_Historic_Distribution_PriceCurr] AS [Rolling_12M_Historic_Distribution_PriceCurr], 
    [Extent1].[Short_Term_Market_Rerate] AS [Short_Term_Market_Rerate], 
    [Extent1].[Forecast_12M_Total_Return] AS [Forecast_12M_Total_Return], 
    [Extent1].[Clean_Price] AS [Clean_Price], 
    [Extent1].[Rolling_Dividend_Yield_Historic] AS [Rolling_Dividend_Yield_Historic], 
    [Extent1].[Last_Update_Date] AS [Last_Update_Date], 
    [Extent1].[Last_Update_User] AS [Last_Update_User], 
    [Extent1].[Discount_Security_ID] AS [Discount_Security_ID], 
    [Extent1].[Net_Present_Value] AS [Net_Present_Value], 
    [Extent1].[Forecast_Rolling_Custom_Income] AS [Forecast_Rolling_Custom_Income], 
    [Extent1].[Custom_Period] AS [Custom_Period], 
    [Extent1].[Rolling_12M_Historic_Distribution] AS [Rolling_12M_Historic_Distribution], 
    [Extent1].[Record_Date] AS [Record_Date], 
    [Extent1].[Session_ID] AS [Session_ID], 
    [Extent1].[Hist_Last_Update_Date] AS [Hist_Last_Update_Date], 
    [Extent1].[Hist_Last_Update_User] AS [Hist_Last_Update_User], 
    [Extent1].[Rolling_12M_Forecast_Distribution] AS [Rolling_12M_Forecast_Distribution], 
    [Extent1].[Yr2_Forward_Dividend_Yield] AS [Yr2_Forward_Dividend_Yield], 
    [Extent1].[Exit_Yield] AS [Exit_Yield], 
    [Extent1].[Discount_Rate] AS [Discount_Rate], 
    [Extent1].[Distribution_Growth_Compounded] AS [Distribution_Growth_Compounded], 
    [Extent1].[Forecast_12MRolling_Income_Accrual] AS [Forecast_12MRolling_Income_Accrual], 
    [Extent1].[Rolling_12_to_24M_Forecast_Distribution] AS [Rolling_12_to_24M_Forecast_Distribution], 
    [Extent1].[Rolling_24_to_36M_Forecast_Distribution] AS [Rolling_24_to_36M_Forecast_Distribution], 
    [Extent1].[Forecast_Yr1_Dividend_Yield_Relative] AS [Forecast_Yr1_Dividend_Yield_Relative], 
    [Extent1].[Market_Historic_Yield] AS [Market_Historic_Yield], 
    [Extent1].[Market_Forward_Yield] AS [Market_Forward_Yield], 
    [Extent1].[Historic_Distribution_PriceCurr] AS [Historic_Distribution_PriceCurr], 
    [Extent1].[Forecast_Distribution_Yr1_PriceCurr] AS [Forecast_Distribution_Yr1_PriceCurr], 
    [Extent1].[Forecast_Distribution_Yr2_PriceCurr] AS [Forecast_Distribution_Yr2_PriceCurr], 
    [Extent1].[Forecast_Distribution_Yr3_PriceCurr] AS [Forecast_Distribution_Yr3_PriceCurr], 
    [Extent1].[Rolling_12M_Forecast_Distribution_PriceCurr] AS [Rolling_12M_Forecast_Distribution_PriceCurr], 
    [Extent1].[Rolling_12_24M_Forecast_Distribution_PriceCurr] AS [Rolling_12_24M_Forecast_Distribution_PriceCurr], 
    [Extent1].[Rolling_24_36M_Forecast_Distribution_PriceCurr] AS [Rolling_24_36M_Forecast_Distribution_PriceCurr], 
    [Extent1].[Distribution_Growth_Forecast_Yr4] AS [Distribution_Growth_Forecast_Yr4], 
    [Extent1].[Earnings_Forecast_Yr4] AS [Earnings_Forecast_Yr4], 
    [Extent1].[Forecast_Distribution_Yr4] AS [Forecast_Distribution_Yr4], 
    [Extent1].[Forecast_Distribution_Yr4_PriceCurr] AS [Forecast_Distribution_Yr4_PriceCurr]
    FROM [dbo].[Security_Analytics_History] AS [Extent1]
    WHERE ([Extent1].[Security_ID] = @p__linq__0) AND ([Extent1].[Record_Date] = @p__linq__1) AND ([Extent1].[Entity_ID] = @p__linq__2)
2018-04-07 16:53:38.4887|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: SELECT 
    [Extent1].[Entity_ID] AS [Entity_ID], 
    [Extent1].[Security_ID] AS [Security_ID], 
    [Extent1].[Issued_Amount] AS [Issued_Amount], 
    [Extent1].[Market_Capitalisation] AS [Market_Capitalisation], 
    [Extent1].[Risk_Premium] AS [Risk_Premium], 
    [Extent1].[Exit_Price] AS [Exit_Price], 
    [Extent1].[Total_Return_ME_1YR] AS [Total_Return_ME_1YR], 
    [Extent1].[Total_Return_ME_2YR] AS [Total_Return_ME_2YR], 
    [Extent1].[Total_Return_ME_3YR] AS [Total_Return_ME_3YR], 
    [Extent1].[Historic_Distribution] AS [Historic_Distribution], 
    [Extent1].[Distribution_Growth_Forecast_Yr1] AS [Distribution_Growth_Forecast_Yr1], 
    [Extent1].[Distribution_Growth_Forecast_Yr2] AS [Distribution_Growth_Forecast_Yr2], 
    [Extent1].[Distribution_Growth_Forecast_Yr3] AS [Distribution_Growth_Forecast_Yr3], 
    [Extent1].[Forecast_Distribution_Yr1] AS [Forecast_Distribution_Yr1], 
    [Extent1].[Forecast_Distribution_Yr2] AS [Forecast_Distribution_Yr2], 
    [Extent1].[Forecast_Distribution_Yr3] AS [Forecast_Distribution_Yr3], 
    [Extent1].[Earnings_Growth_Compounded] AS [Earnings_Growth_Compounded], 
    [Extent1].[Earnings_Forecast_Yr3] AS [Earnings_Forecast_Yr3], 
    [Extent1].[Historic_Dividend_Yield_FYE] AS [Historic_Dividend_Yield_FYE], 
    [Extent1].[Forward_Dividend_Yield_FYE] AS [Forward_Dividend_Yield_FYE], 
    [Extent1].[Yr3_Forward_Dividend_Yield] AS [Yr3_Forward_Dividend_Yield], 
    [Extent1].[Rolling_12M_Forward_Yield] AS [Rolling_12M_Forward_Yield], 
    [Extent1].[Historical_Earnings_FYE] AS [Historical_Earnings_FYE], 
    [Extent1].[Earnings_Forecast_Yr1] AS [Earnings_Forecast_Yr1], 
    [Extent1].[Earnings_Forecast_Yr2] AS [Earnings_Forecast_Yr2], 
    [Extent1].[Historic_Dividend_Yield_Relative] AS [Historic_Dividend_Yield_Relative], 
    [Extent1].[Rolling_12M_Historic_Distribution_PriceCurr] AS [Rolling_12M_Historic_Distribution_PriceCurr], 
    [Extent1].[Short_Term_Market_Rerate] AS [Short_Term_Market_Rerate], 
    [Extent1].[Forecast_12M_Total_Return] AS [Forecast_12M_Total_Return], 
    [Extent1].[Clean_Price] AS [Clean_Price], 
    [Extent1].[Rolling_Dividend_Yield_Historic] AS [Rolling_Dividend_Yield_Historic], 
    [Extent1].[Last_Update_Date] AS [Last_Update_Date], 
    [Extent1].[Last_Update_User] AS [Last_Update_User], 
    [Extent1].[Discount_Security_ID] AS [Discount_Security_ID], 
    [Extent1].[Net_Present_Value] AS [Net_Present_Value], 
    [Extent1].[Forecast_Rolling_Custom_Income] AS [Forecast_Rolling_Custom_Income], 
    [Extent1].[Custom_Period] AS [Custom_Period], 
    [Extent1].[Rolling_12M_Historic_Distribution] AS [Rolling_12M_Historic_Distribution], 
    [Extent1].[Record_Date] AS [Record_Date], 
    [Extent1].[Session_ID] AS [Session_ID], 
    [Extent1].[Hist_Last_Update_Date] AS [Hist_Last_Update_Date], 
    [Extent1].[Hist_Last_Update_User] AS [Hist_Last_Update_User], 
    [Extent1].[Rolling_12M_Forecast_Distribution] AS [Rolling_12M_Forecast_Distribution], 
    [Extent1].[Yr2_Forward_Dividend_Yield] AS [Yr2_Forward_Dividend_Yield], 
    [Extent1].[Exit_Yield] AS [Exit_Yield], 
    [Extent1].[Discount_Rate] AS [Discount_Rate], 
    [Extent1].[Distribution_Growth_Compounded] AS [Distribution_Growth_Compounded], 
    [Extent1].[Forecast_12MRolling_Income_Accrual] AS [Forecast_12MRolling_Income_Accrual], 
    [Extent1].[Rolling_12_to_24M_Forecast_Distribution] AS [Rolling_12_to_24M_Forecast_Distribution], 
    [Extent1].[Rolling_24_to_36M_Forecast_Distribution] AS [Rolling_24_to_36M_Forecast_Distribution], 
    [Extent1].[Forecast_Yr1_Dividend_Yield_Relative] AS [Forecast_Yr1_Dividend_Yield_Relative], 
    [Extent1].[Market_Historic_Yield] AS [Market_Historic_Yield], 
    [Extent1].[Market_Forward_Yield] AS [Market_Forward_Yield], 
    [Extent1].[Historic_Distribution_PriceCurr] AS [Historic_Distribution_PriceCurr], 
    [Extent1].[Forecast_Distribution_Yr1_PriceCurr] AS [Forecast_Distribution_Yr1_PriceCurr], 
    [Extent1].[Forecast_Distribution_Yr2_PriceCurr] AS [Forecast_Distribution_Yr2_PriceCurr], 
    [Extent1].[Forecast_Distribution_Yr3_PriceCurr] AS [Forecast_Distribution_Yr3_PriceCurr], 
    [Extent1].[Rolling_12M_Forecast_Distribution_PriceCurr] AS [Rolling_12M_Forecast_Distribution_PriceCurr], 
    [Extent1].[Rolling_12_24M_Forecast_Distribution_PriceCurr] AS [Rolling_12_24M_Forecast_Distribution_PriceCurr], 
    [Extent1].[Rolling_24_36M_Forecast_Distribution_PriceCurr] AS [Rolling_24_36M_Forecast_Distribution_PriceCurr], 
    [Extent1].[Distribution_Growth_Forecast_Yr4] AS [Distribution_Growth_Forecast_Yr4], 
    [Extent1].[Earnings_Forecast_Yr4] AS [Earnings_Forecast_Yr4], 
    [Extent1].[Forecast_Distribution_Yr4] AS [Forecast_Distribution_Yr4], 
    [Extent1].[Forecast_Distribution_Yr4_PriceCurr] AS [Forecast_Distribution_Yr4_PriceCurr]
    FROM [dbo].[Security_Analytics_History] AS [Extent1]
    WHERE ([Extent1].[Security_ID] = @p__linq__0) AND ([Extent1].[Record_Date] = @p__linq__1) AND ([Extent1].[Entity_ID] = @p__linq__2)
2018-04-07 16:53:38.5753|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: SELECT 
    [Extent1].[Security_ID] AS [Security_ID], 
    [Extent1].[Entity_ID] AS [Entity_ID], 
    [Extent1].[Security_Name] AS [Security_Name], 
    [Extent1].[Short_Name] AS [Short_Name], 
    [Extent1].[Primary_Exch] AS [Primary_Exch], 
    [Extent1].[Secondary_Exch] AS [Secondary_Exch], 
    [Extent1].[Country_Of_Domicile] AS [Country_Of_Domicile], 
    [Extent1].[Country_Of_Risk] AS [Country_Of_Risk], 
    [Extent1].[Security_Type_Code] AS [Security_Type_Code], 
    [Extent1].[Price_Multiplier] AS [Price_Multiplier], 
    [Extent1].[Income_Frequency] AS [Income_Frequency], 
    [Extent1].[Issuer_Code] AS [Issuer_Code], 
    [Extent1].[Ultimate_Issuer_Code] AS [Ultimate_Issuer_Code], 
    [Extent1].[Asset_Currency] AS [Asset_Currency], 
    [Extent1].[Min_Lot_Size] AS [Min_Lot_Size], 
    [Extent1].[Decimal_Precision] AS [Decimal_Precision], 
    [Extent1].[AvePrice_Rounding] AS [AvePrice_Rounding], 
    [Extent1].[Issue_Date] AS [Issue_Date], 
    [Extent1].[Maturity_Date] AS [Maturity_Date], 
    [Extent1].[Coupon_Rate] AS [Coupon_Rate], 
    [Extent1].[Price_Exchange] AS [Price_Exchange], 
    [Extent1].[Trade_Currency] AS [Trade_Currency], 
    [Extent1].[Price_Curr] AS [Price_Curr], 
    [Extent1].[Currency_Pair_Code] AS [Currency_Pair_Code], 
    [Extent1].[Share_Class] AS [Share_Class], 
    [Extent1].[Current_Market_Price] AS [Current_Market_Price], 
    [Extent1].[Index_Type] AS [Index_Type], 
    [Extent1].[Clean_Price_Formula] AS [Clean_Price_Formula], 
    [Extent1].[Accrued_Income_Price_Formula] AS [Accrued_Income_Price_Formula], 
    [Extent1].[Odd_First_Coupon_Date] AS [Odd_First_Coupon_Date], 
    [Extent1].[Odd_Last_Coupon_Date] AS [Odd_Last_Coupon_Date], 
    [Extent1].[Coupon_Anniversary_Indicator] AS [Coupon_Anniversary_Indicator], 
    [Extent1].[Track_EOM_Flag] AS [Track_EOM_Flag], 
    [Extent1].[Next_Coupon_Date] AS [Next_Coupon_Date], 
    [Extent1].[Previous_Coupon_Date] AS [Previous_Coupon_Date], 
    [Extent1].[Payment_Frequency] AS [Payment_Frequency], 
    [Extent1].[Coupon_BusDay_Adjustment] AS [Coupon_BusDay_Adjustment], 
    [Extent1].[Next_Ex_Div_Date] AS [Next_Ex_Div_Date], 
    [Extent1].[Ex_Div_BusDay_Adjustment] AS [Ex_Div_BusDay_Adjustment], 
    [Extent1].[Ex_Div_Period] AS [Ex_Div_Period], 
    [Extent1].[Ticker] AS [Ticker], 
    [Extent1].[Inet_ID] AS [Inet_ID], 
    [Extent1].[Bloomberg_ID] AS [Bloomberg_ID], 
    [Extent1].[External_Sec_ID] AS [External_Sec_ID], 
    [Extent1].[Reuters_ID] AS [Reuters_ID], 
    [Extent1].[ISIN] AS [ISIN], 
    [Extent1].[Call_Account_Flag] AS [Call_Account_Flag], 
    [Extent1].[System_Locked] AS [System_Locked], 
    [Extent1].[Last_Update_User] AS [Last_Update_User], 
    [Extent1].[Last_Update_Date] AS [Last_Update_Date], 
    [Extent1].[Security_Status] AS [Security_Status], 
    [Extent1].[Benchmark_Portfolio] AS [Benchmark_Portfolio], 
    [Extent1].[Active_flag] AS [Active_flag], 
    [Extent1].[Dividend_FX_Security_ID] AS [Dividend_FX_Security_ID]
    FROM [dbo].[Security_Detail] AS [Extent1]
    WHERE [Extent1].[Security_ID] = @EntityKeyValue1
2018-04-07 16:53:38.6003|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: SELECT 
    [Extent1].[Security_ID] AS [Security_ID], 
    [Extent1].[Entity_ID] AS [Entity_ID], 
    [Extent1].[Security_Name] AS [Security_Name], 
    [Extent1].[Short_Name] AS [Short_Name], 
    [Extent1].[Primary_Exch] AS [Primary_Exch], 
    [Extent1].[Secondary_Exch] AS [Secondary_Exch], 
    [Extent1].[Country_Of_Domicile] AS [Country_Of_Domicile], 
    [Extent1].[Country_Of_Risk] AS [Country_Of_Risk], 
    [Extent1].[Security_Type_Code] AS [Security_Type_Code], 
    [Extent1].[Price_Multiplier] AS [Price_Multiplier], 
    [Extent1].[Income_Frequency] AS [Income_Frequency], 
    [Extent1].[Issuer_Code] AS [Issuer_Code], 
    [Extent1].[Ultimate_Issuer_Code] AS [Ultimate_Issuer_Code], 
    [Extent1].[Asset_Currency] AS [Asset_Currency], 
    [Extent1].[Min_Lot_Size] AS [Min_Lot_Size], 
    [Extent1].[Decimal_Precision] AS [Decimal_Precision], 
    [Extent1].[AvePrice_Rounding] AS [AvePrice_Rounding], 
    [Extent1].[Issue_Date] AS [Issue_Date], 
    [Extent1].[Maturity_Date] AS [Maturity_Date], 
    [Extent1].[Coupon_Rate] AS [Coupon_Rate], 
    [Extent1].[Price_Exchange] AS [Price_Exchange], 
    [Extent1].[Trade_Currency] AS [Trade_Currency], 
    [Extent1].[Price_Curr] AS [Price_Curr], 
    [Extent1].[Currency_Pair_Code] AS [Currency_Pair_Code], 
    [Extent1].[Share_Class] AS [Share_Class], 
    [Extent1].[Current_Market_Price] AS [Current_Market_Price], 
    [Extent1].[Index_Type] AS [Index_Type], 
    [Extent1].[Clean_Price_Formula] AS [Clean_Price_Formula], 
    [Extent1].[Accrued_Income_Price_Formula] AS [Accrued_Income_Price_Formula], 
    [Extent1].[Odd_First_Coupon_Date] AS [Odd_First_Coupon_Date], 
    [Extent1].[Odd_Last_Coupon_Date] AS [Odd_Last_Coupon_Date], 
    [Extent1].[Coupon_Anniversary_Indicator] AS [Coupon_Anniversary_Indicator], 
    [Extent1].[Track_EOM_Flag] AS [Track_EOM_Flag], 
    [Extent1].[Next_Coupon_Date] AS [Next_Coupon_Date], 
    [Extent1].[Previous_Coupon_Date] AS [Previous_Coupon_Date], 
    [Extent1].[Payment_Frequency] AS [Payment_Frequency], 
    [Extent1].[Coupon_BusDay_Adjustment] AS [Coupon_BusDay_Adjustment], 
    [Extent1].[Next_Ex_Div_Date] AS [Next_Ex_Div_Date], 
    [Extent1].[Ex_Div_BusDay_Adjustment] AS [Ex_Div_BusDay_Adjustment], 
    [Extent1].[Ex_Div_Period] AS [Ex_Div_Period], 
    [Extent1].[Ticker] AS [Ticker], 
    [Extent1].[Inet_ID] AS [Inet_ID], 
    [Extent1].[Bloomberg_ID] AS [Bloomberg_ID], 
    [Extent1].[External_Sec_ID] AS [External_Sec_ID], 
    [Extent1].[Reuters_ID] AS [Reuters_ID], 
    [Extent1].[ISIN] AS [ISIN], 
    [Extent1].[Call_Account_Flag] AS [Call_Account_Flag], 
    [Extent1].[System_Locked] AS [System_Locked], 
    [Extent1].[Last_Update_User] AS [Last_Update_User], 
    [Extent1].[Last_Update_Date] AS [Last_Update_Date], 
    [Extent1].[Security_Status] AS [Security_Status], 
    [Extent1].[Benchmark_Portfolio] AS [Benchmark_Portfolio], 
    [Extent1].[Active_flag] AS [Active_flag], 
    [Extent1].[Dividend_FX_Security_ID] AS [Dividend_FX_Security_ID]
    FROM [dbo].[Security_Detail] AS [Extent1]
    WHERE [Extent1].[Security_ID] = @EntityKeyValue1
2018-04-07 16:53:38.8175|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: SELECT 
    [Project1].[Security_ID] AS [Security_ID], 
    [Project1].[Entity_ID] AS [Entity_ID], 
    [Project1].[Security_Name] AS [Security_Name], 
    [Project1].[Short_Name] AS [Short_Name], 
    [Project1].[Primary_Exch] AS [Primary_Exch], 
    [Project1].[Secondary_Exch] AS [Secondary_Exch], 
    [Project1].[Country_Of_Domicile] AS [Country_Of_Domicile], 
    [Project1].[Country_Of_Risk] AS [Country_Of_Risk], 
    [Project1].[Security_Type_Code] AS [Security_Type_Code], 
    [Project1].[Price_Multiplier] AS [Price_Multiplier], 
    [Project1].[Income_Frequency] AS [Income_Frequency], 
    [Project1].[Issuer_Code] AS [Issuer_Code], 
    [Project1].[Ultimate_Issuer_Code] AS [Ultimate_Issuer_Code], 
    [Project1].[Asset_Currency] AS [Asset_Currency], 
    [Project1].[Min_Lot_Size] AS [Min_Lot_Size], 
    [Project1].[Decimal_Precision] AS [Decimal_Precision], 
    [Project1].[AvePrice_Rounding] AS [AvePrice_Rounding], 
    [Project1].[Issue_Date] AS [Issue_Date], 
    [Project1].[Maturity_Date] AS [Maturity_Date], 
    [Project1].[Coupon_Rate] AS [Coupon_Rate], 
    [Project1].[Price_Exchange] AS [Price_Exchange], 
    [Project1].[Trade_Currency] AS [Trade_Currency], 
    [Project1].[Price_Curr] AS [Price_Curr], 
    [Project1].[Currency_Pair_Code] AS [Currency_Pair_Code], 
    [Project1].[Share_Class] AS [Share_Class], 
    [Project1].[Current_Market_Price] AS [Current_Market_Price], 
    [Project1].[Index_Type] AS [Index_Type], 
    [Project1].[Clean_Price_Formula] AS [Clean_Price_Formula], 
    [Project1].[Accrued_Income_Price_Formula] AS [Accrued_Income_Price_Formula], 
    [Project1].[Odd_First_Coupon_Date] AS [Odd_First_Coupon_Date], 
    [Project1].[Odd_Last_Coupon_Date] AS [Odd_Last_Coupon_Date], 
    [Project1].[Coupon_Anniversary_Indicator] AS [Coupon_Anniversary_Indicator], 
    [Project1].[Track_EOM_Flag] AS [Track_EOM_Flag], 
    [Project1].[Next_Coupon_Date] AS [Next_Coupon_Date], 
    [Project1].[Previous_Coupon_Date] AS [Previous_Coupon_Date], 
    [Project1].[Payment_Frequency] AS [Payment_Frequency], 
    [Project1].[Coupon_BusDay_Adjustment] AS [Coupon_BusDay_Adjustment], 
    [Project1].[Next_Ex_Div_Date] AS [Next_Ex_Div_Date], 
    [Project1].[Ex_Div_BusDay_Adjustment] AS [Ex_Div_BusDay_Adjustment], 
    [Project1].[Ex_Div_Period] AS [Ex_Div_Period], 
    [Project1].[Ticker] AS [Ticker], 
    [Project1].[Inet_ID] AS [Inet_ID], 
    [Project1].[Bloomberg_ID] AS [Bloomberg_ID], 
    [Project1].[External_Sec_ID] AS [External_Sec_ID], 
    [Project1].[Reuters_ID] AS [Reuters_ID], 
    [Project1].[ISIN] AS [ISIN], 
    [Project1].[Call_Account_Flag] AS [Call_Account_Flag], 
    [Project1].[System_Locked] AS [System_Locked], 
    [Project1].[Last_Update_User] AS [Last_Update_User], 
    [Project1].[Last_Update_Date] AS [Last_Update_Date], 
    [Project1].[Security_Status] AS [Security_Status], 
    [Project1].[Benchmark_Portfolio] AS [Benchmark_Portfolio], 
    [Project1].[Active_flag] AS [Active_flag], 
    [Project1].[Dividend_FX_Security_ID] AS [Dividend_FX_Security_ID]
    FROM ( SELECT 
        [Extent1].[Security_ID] AS [Security_ID], 
        [Extent1].[Entity_ID] AS [Entity_ID], 
        [Extent1].[Security_Name] AS [Security_Name], 
        [Extent1].[Short_Name] AS [Short_Name], 
        [Extent1].[Primary_Exch] AS [Primary_Exch], 
        [Extent1].[Secondary_Exch] AS [Secondary_Exch], 
        [Extent1].[Country_Of_Domicile] AS [Country_Of_Domicile], 
        [Extent1].[Country_Of_Risk] AS [Country_Of_Risk], 
        [Extent1].[Security_Type_Code] AS [Security_Type_Code], 
        [Extent1].[Price_Multiplier] AS [Price_Multiplier], 
        [Extent1].[Income_Frequency] AS [Income_Frequency], 
        [Extent1].[Issuer_Code] AS [Issuer_Code], 
        [Extent1].[Ultimate_Issuer_Code] AS [Ultimate_Issuer_Code], 
        [Extent1].[Asset_Currency] AS [Asset_Currency], 
        [Extent1].[Min_Lot_Size] AS [Min_Lot_Size], 
        [Extent1].[Decimal_Precision] AS [Decimal_Precision], 
        [Extent1].[AvePrice_Rounding] AS [AvePrice_Rounding], 
        [Extent1].[Issue_Date] AS [Issue_Date], 
        [Extent1].[Maturity_Date] AS [Maturity_Date], 
        [Extent1].[Coupon_Rate] AS [Coupon_Rate], 
        [Extent1].[Price_Exchange] AS [Price_Exchange], 
        [Extent1].[Trade_Currency] AS [Trade_Currency], 
        [Extent1].[Price_Curr] AS [Price_Curr], 
        [Extent1].[Currency_Pair_Code] AS [Currency_Pair_Code], 
        [Extent1].[Share_Class] AS [Share_Class], 
        [Extent1].[Current_Market_Price] AS [Current_Market_Price], 
        [Extent1].[Index_Type] AS [Index_Type], 
        [Extent1].[Clean_Price_Formula] AS [Clean_Price_Formula], 
        [Extent1].[Accrued_Income_Price_Formula] AS [Accrued_Income_Price_Formula], 
        [Extent1].[Odd_First_Coupon_Date] AS [Odd_First_Coupon_Date], 
        [Extent1].[Odd_Last_Coupon_Date] AS [Odd_Last_Coupon_Date], 
        [Extent1].[Coupon_Anniversary_Indicator] AS [Coupon_Anniversary_Indicator], 
        [Extent1].[Track_EOM_Flag] AS [Track_EOM_Flag], 
        [Extent1].[Next_Coupon_Date] AS [Next_Coupon_Date], 
        [Extent1].[Previous_Coupon_Date] AS [Previous_Coupon_Date], 
        [Extent1].[Payment_Frequency] AS [Payment_Frequency], 
        [Extent1].[Coupon_BusDay_Adjustment] AS [Coupon_BusDay_Adjustment], 
        [Extent1].[Next_Ex_Div_Date] AS [Next_Ex_Div_Date], 
        [Extent1].[Ex_Div_BusDay_Adjustment] AS [Ex_Div_BusDay_Adjustment], 
        [Extent1].[Ex_Div_Period] AS [Ex_Div_Period], 
        [Extent1].[Ticker] AS [Ticker], 
        [Extent1].[Inet_ID] AS [Inet_ID], 
        [Extent1].[Bloomberg_ID] AS [Bloomberg_ID], 
        [Extent1].[External_Sec_ID] AS [External_Sec_ID], 
        [Extent1].[Reuters_ID] AS [Reuters_ID], 
        [Extent1].[ISIN] AS [ISIN], 
        [Extent1].[Call_Account_Flag] AS [Call_Account_Flag], 
        [Extent1].[System_Locked] AS [System_Locked], 
        [Extent1].[Last_Update_User] AS [Last_Update_User], 
        [Extent1].[Last_Update_Date] AS [Last_Update_Date], 
        [Extent1].[Security_Status] AS [Security_Status], 
        [Extent1].[Benchmark_Portfolio] AS [Benchmark_Portfolio], 
        [Extent1].[Active_flag] AS [Active_flag], 
        [Extent1].[Dividend_FX_Security_ID] AS [Dividend_FX_Security_ID]
        FROM [dbo].[Security_Detail] AS [Extent1]
        WHERE ([Extent1].[Entity_ID] IN (@p__linq__0,@p__linq__1)) AND ((CASE WHEN ( NOT ((N'' = @p__linq__2) AND (@p__linq__2 IS NOT NULL))) THEN CASE WHEN ([Extent1].[Security_Type_Code] = @p__linq__3) THEN cast(1 as bit) WHEN ( NOT (([Extent1].[Security_Type_Code] = @p__linq__3) AND (0 = (CASE WHEN (@p__linq__3 IS NULL) THEN cast(1 as bit) ELSE cast(0 as bit) END)))) THEN cast(0 as bit) END WHEN ('' <> [Extent1].[Security_Type_Code]) THEN cast(1 as bit) WHEN ('' = [Extent1].[Security_Type_Code]) THEN cast(0 as bit) END) = 1)
    )  AS [Project1]
    ORDER BY [Project1].[Security_Name] ASC
2018-04-07 16:53:38.8450|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: SELECT 
    [Project1].[Security_ID] AS [Security_ID], 
    [Project1].[Entity_ID] AS [Entity_ID], 
    [Project1].[Security_Name] AS [Security_Name], 
    [Project1].[Short_Name] AS [Short_Name], 
    [Project1].[Primary_Exch] AS [Primary_Exch], 
    [Project1].[Secondary_Exch] AS [Secondary_Exch], 
    [Project1].[Country_Of_Domicile] AS [Country_Of_Domicile], 
    [Project1].[Country_Of_Risk] AS [Country_Of_Risk], 
    [Project1].[Security_Type_Code] AS [Security_Type_Code], 
    [Project1].[Price_Multiplier] AS [Price_Multiplier], 
    [Project1].[Income_Frequency] AS [Income_Frequency], 
    [Project1].[Issuer_Code] AS [Issuer_Code], 
    [Project1].[Ultimate_Issuer_Code] AS [Ultimate_Issuer_Code], 
    [Project1].[Asset_Currency] AS [Asset_Currency], 
    [Project1].[Min_Lot_Size] AS [Min_Lot_Size], 
    [Project1].[Decimal_Precision] AS [Decimal_Precision], 
    [Project1].[AvePrice_Rounding] AS [AvePrice_Rounding], 
    [Project1].[Issue_Date] AS [Issue_Date], 
    [Project1].[Maturity_Date] AS [Maturity_Date], 
    [Project1].[Coupon_Rate] AS [Coupon_Rate], 
    [Project1].[Price_Exchange] AS [Price_Exchange], 
    [Project1].[Trade_Currency] AS [Trade_Currency], 
    [Project1].[Price_Curr] AS [Price_Curr], 
    [Project1].[Currency_Pair_Code] AS [Currency_Pair_Code], 
    [Project1].[Share_Class] AS [Share_Class], 
    [Project1].[Current_Market_Price] AS [Current_Market_Price], 
    [Project1].[Index_Type] AS [Index_Type], 
    [Project1].[Clean_Price_Formula] AS [Clean_Price_Formula], 
    [Project1].[Accrued_Income_Price_Formula] AS [Accrued_Income_Price_Formula], 
    [Project1].[Odd_First_Coupon_Date] AS [Odd_First_Coupon_Date], 
    [Project1].[Odd_Last_Coupon_Date] AS [Odd_Last_Coupon_Date], 
    [Project1].[Coupon_Anniversary_Indicator] AS [Coupon_Anniversary_Indicator], 
    [Project1].[Track_EOM_Flag] AS [Track_EOM_Flag], 
    [Project1].[Next_Coupon_Date] AS [Next_Coupon_Date], 
    [Project1].[Previous_Coupon_Date] AS [Previous_Coupon_Date], 
    [Project1].[Payment_Frequency] AS [Payment_Frequency], 
    [Project1].[Coupon_BusDay_Adjustment] AS [Coupon_BusDay_Adjustment], 
    [Project1].[Next_Ex_Div_Date] AS [Next_Ex_Div_Date], 
    [Project1].[Ex_Div_BusDay_Adjustment] AS [Ex_Div_BusDay_Adjustment], 
    [Project1].[Ex_Div_Period] AS [Ex_Div_Period], 
    [Project1].[Ticker] AS [Ticker], 
    [Project1].[Inet_ID] AS [Inet_ID], 
    [Project1].[Bloomberg_ID] AS [Bloomberg_ID], 
    [Project1].[External_Sec_ID] AS [External_Sec_ID], 
    [Project1].[Reuters_ID] AS [Reuters_ID], 
    [Project1].[ISIN] AS [ISIN], 
    [Project1].[Call_Account_Flag] AS [Call_Account_Flag], 
    [Project1].[System_Locked] AS [System_Locked], 
    [Project1].[Last_Update_User] AS [Last_Update_User], 
    [Project1].[Last_Update_Date] AS [Last_Update_Date], 
    [Project1].[Security_Status] AS [Security_Status], 
    [Project1].[Benchmark_Portfolio] AS [Benchmark_Portfolio], 
    [Project1].[Active_flag] AS [Active_flag], 
    [Project1].[Dividend_FX_Security_ID] AS [Dividend_FX_Security_ID]
    FROM ( SELECT 
        [Extent1].[Security_ID] AS [Security_ID], 
        [Extent1].[Entity_ID] AS [Entity_ID], 
        [Extent1].[Security_Name] AS [Security_Name], 
        [Extent1].[Short_Name] AS [Short_Name], 
        [Extent1].[Primary_Exch] AS [Primary_Exch], 
        [Extent1].[Secondary_Exch] AS [Secondary_Exch], 
        [Extent1].[Country_Of_Domicile] AS [Country_Of_Domicile], 
        [Extent1].[Country_Of_Risk] AS [Country_Of_Risk], 
        [Extent1].[Security_Type_Code] AS [Security_Type_Code], 
        [Extent1].[Price_Multiplier] AS [Price_Multiplier], 
        [Extent1].[Income_Frequency] AS [Income_Frequency], 
        [Extent1].[Issuer_Code] AS [Issuer_Code], 
        [Extent1].[Ultimate_Issuer_Code] AS [Ultimate_Issuer_Code], 
        [Extent1].[Asset_Currency] AS [Asset_Currency], 
        [Extent1].[Min_Lot_Size] AS [Min_Lot_Size], 
        [Extent1].[Decimal_Precision] AS [Decimal_Precision], 
        [Extent1].[AvePrice_Rounding] AS [AvePrice_Rounding], 
        [Extent1].[Issue_Date] AS [Issue_Date], 
        [Extent1].[Maturity_Date] AS [Maturity_Date], 
        [Extent1].[Coupon_Rate] AS [Coupon_Rate], 
        [Extent1].[Price_Exchange] AS [Price_Exchange], 
        [Extent1].[Trade_Currency] AS [Trade_Currency], 
        [Extent1].[Price_Curr] AS [Price_Curr], 
        [Extent1].[Currency_Pair_Code] AS [Currency_Pair_Code], 
        [Extent1].[Share_Class] AS [Share_Class], 
        [Extent1].[Current_Market_Price] AS [Current_Market_Price], 
        [Extent1].[Index_Type] AS [Index_Type], 
        [Extent1].[Clean_Price_Formula] AS [Clean_Price_Formula], 
        [Extent1].[Accrued_Income_Price_Formula] AS [Accrued_Income_Price_Formula], 
        [Extent1].[Odd_First_Coupon_Date] AS [Odd_First_Coupon_Date], 
        [Extent1].[Odd_Last_Coupon_Date] AS [Odd_Last_Coupon_Date], 
        [Extent1].[Coupon_Anniversary_Indicator] AS [Coupon_Anniversary_Indicator], 
        [Extent1].[Track_EOM_Flag] AS [Track_EOM_Flag], 
        [Extent1].[Next_Coupon_Date] AS [Next_Coupon_Date], 
        [Extent1].[Previous_Coupon_Date] AS [Previous_Coupon_Date], 
        [Extent1].[Payment_Frequency] AS [Payment_Frequency], 
        [Extent1].[Coupon_BusDay_Adjustment] AS [Coupon_BusDay_Adjustment], 
        [Extent1].[Next_Ex_Div_Date] AS [Next_Ex_Div_Date], 
        [Extent1].[Ex_Div_BusDay_Adjustment] AS [Ex_Div_BusDay_Adjustment], 
        [Extent1].[Ex_Div_Period] AS [Ex_Div_Period], 
        [Extent1].[Ticker] AS [Ticker], 
        [Extent1].[Inet_ID] AS [Inet_ID], 
        [Extent1].[Bloomberg_ID] AS [Bloomberg_ID], 
        [Extent1].[External_Sec_ID] AS [External_Sec_ID], 
        [Extent1].[Reuters_ID] AS [Reuters_ID], 
        [Extent1].[ISIN] AS [ISIN], 
        [Extent1].[Call_Account_Flag] AS [Call_Account_Flag], 
        [Extent1].[System_Locked] AS [System_Locked], 
        [Extent1].[Last_Update_User] AS [Last_Update_User], 
        [Extent1].[Last_Update_Date] AS [Last_Update_Date], 
        [Extent1].[Security_Status] AS [Security_Status], 
        [Extent1].[Benchmark_Portfolio] AS [Benchmark_Portfolio], 
        [Extent1].[Active_flag] AS [Active_flag], 
        [Extent1].[Dividend_FX_Security_ID] AS [Dividend_FX_Security_ID]
        FROM [dbo].[Security_Detail] AS [Extent1]
        WHERE ([Extent1].[Entity_ID] IN (@p__linq__0,@p__linq__1)) AND ((CASE WHEN ( NOT ((N'' = @p__linq__2) AND (@p__linq__2 IS NOT NULL))) THEN CASE WHEN ([Extent1].[Security_Type_Code] = @p__linq__3) THEN cast(1 as bit) WHEN ( NOT (([Extent1].[Security_Type_Code] = @p__linq__3) AND (0 = (CASE WHEN (@p__linq__3 IS NULL) THEN cast(1 as bit) ELSE cast(0 as bit) END)))) THEN cast(0 as bit) END WHEN ('' <> [Extent1].[Security_Type_Code]) THEN cast(1 as bit) WHEN ('' = [Extent1].[Security_Type_Code]) THEN cast(0 as bit) END) = 1)
    )  AS [Project1]
    ORDER BY [Project1].[Security_Name] ASC
2018-04-07 16:53:38.9471|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: IF db_id(N'MetopeAzureDb') IS NOT NULL SELECT 1 ELSE SELECT Count(*) FROM sys.databases WHERE [name]=N'MetopeAzureDb'
2018-04-07 16:53:38.9676|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: IF db_id(N'MetopeAzureDb') IS NOT NULL SELECT 1 ELSE SELECT Count(*) FROM sys.databases WHERE [name]=N'MetopeAzureDb'
2018-04-07 16:53:38.9911|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: IF db_id(N'MetopeAzureDb') IS NOT NULL SELECT 1 ELSE SELECT Count(*) FROM sys.databases WHERE [name]=N'MetopeAzureDb'
2018-04-07 16:53:39.0081|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: IF db_id(N'MetopeAzureDb') IS NOT NULL SELECT 1 ELSE SELECT Count(*) FROM sys.databases WHERE [name]=N'MetopeAzureDb'
2018-04-07 16:53:43.4133|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: SELECT 
    [Project1].[Decimal_Precision] AS [Decimal_Precision], 
    [Project1].[Entity_ID] AS [Entity_ID], 
    [Project1].[Security_ID] AS [Security_ID], 
    [Project1].[Issued_Amount] AS [Issued_Amount], 
    [Project1].[Market_Capitalisation] AS [Market_Capitalisation], 
    [Project1].[Risk_Premium] AS [Risk_Premium], 
    [Project1].[Exit_Price] AS [Exit_Price], 
    [Project1].[Total_Return_ME_1YR] AS [Total_Return_ME_1YR], 
    [Project1].[Total_Return_ME_2YR] AS [Total_Return_ME_2YR], 
    [Project1].[Total_Return_ME_3YR] AS [Total_Return_ME_3YR], 
    [Project1].[Historic_Distribution] AS [Historic_Distribution], 
    [Project1].[Distribution_Growth_Forecast_Yr1] AS [Distribution_Growth_Forecast_Yr1], 
    [Project1].[Distribution_Growth_Forecast_Yr2] AS [Distribution_Growth_Forecast_Yr2], 
    [Project1].[Distribution_Growth_Forecast_Yr3] AS [Distribution_Growth_Forecast_Yr3], 
    [Project1].[Forecast_Distribution_Yr1] AS [Forecast_Distribution_Yr1], 
    [Project1].[Forecast_Distribution_Yr2] AS [Forecast_Distribution_Yr2], 
    [Project1].[Forecast_Distribution_Yr3] AS [Forecast_Distribution_Yr3], 
    [Project1].[Earnings_Growth_Compounded] AS [Earnings_Growth_Compounded], 
    [Project1].[Earnings_Forecast_Yr3] AS [Earnings_Forecast_Yr3], 
    [Project1].[Historic_Dividend_Yield_FYE] AS [Historic_Dividend_Yield_FYE], 
    [Project1].[Forward_Dividend_Yield_FYE] AS [Forward_Dividend_Yield_FYE], 
    [Project1].[Yr3_Forward_Dividend_Yield] AS [Yr3_Forward_Dividend_Yield], 
    [Project1].[Rolling_12M_Forward_Yield] AS [Rolling_12M_Forward_Yield], 
    [Project1].[Historical_Earnings_FYE] AS [Historical_Earnings_FYE], 
    [Project1].[Earnings_Forecast_Yr1] AS [Earnings_Forecast_Yr1], 
    [Project1].[Earnings_Forecast_Yr2] AS [Earnings_Forecast_Yr2], 
    [Project1].[Historic_Dividend_Yield_Relative] AS [Historic_Dividend_Yield_Relative], 
    [Project1].[Rolling_12M_Historic_Distribution_PriceCurr] AS [Rolling_12M_Historic_Distribution_PriceCurr], 
    [Project1].[Short_Term_Market_Rerate] AS [Short_Term_Market_Rerate], 
    [Project1].[Forecast_12M_Total_Return] AS [Forecast_12M_Total_Return], 
    [Project1].[Clean_Price] AS [Clean_Price], 
    [Project1].[Rolling_Dividend_Yield_Historic] AS [Rolling_Dividend_Yield_Historic], 
    [Project1].[Last_Update_Date] AS [Last_Update_Date], 
    [Project1].[Last_Update_User] AS [Last_Update_User], 
    [Project1].[Discount_Security_ID] AS [Discount_Security_ID], 
    [Project1].[Net_Present_Value] AS [Net_Present_Value], 
    [Project1].[Forecast_Rolling_Custom_Income] AS [Forecast_Rolling_Custom_Income], 
    [Project1].[Custom_Period] AS [Custom_Period], 
    [Project1].[Rolling_12M_Historic_Distribution] AS [Rolling_12M_Historic_Distribution], 
    [Project1].[Record_Date] AS [Record_Date], 
    [Project1].[Session_ID] AS [Session_ID], 
    [Project1].[Hist_Last_Update_Date] AS [Hist_Last_Update_Date], 
    [Project1].[Hist_Last_Update_User] AS [Hist_Last_Update_User], 
    [Project1].[Rolling_12M_Forecast_Distribution] AS [Rolling_12M_Forecast_Distribution], 
    [Project1].[Yr2_Forward_Dividend_Yield] AS [Yr2_Forward_Dividend_Yield], 
    [Project1].[Exit_Yield] AS [Exit_Yield], 
    [Project1].[Discount_Rate] AS [Discount_Rate], 
    [Project1].[Distribution_Growth_Compounded] AS [Distribution_Growth_Compounded], 
    [Project1].[Forecast_12MRolling_Income_Accrual] AS [Forecast_12MRolling_Income_Accrual], 
    [Project1].[Rolling_12_to_24M_Forecast_Distribution] AS [Rolling_12_to_24M_Forecast_Distribution], 
    [Project1].[Rolling_24_to_36M_Forecast_Distribution] AS [Rolling_24_to_36M_Forecast_Distribution], 
    [Project1].[Forecast_Yr1_Dividend_Yield_Relative] AS [Forecast_Yr1_Dividend_Yield_Relative], 
    [Project1].[Market_Historic_Yield] AS [Market_Historic_Yield], 
    [Project1].[Market_Forward_Yield] AS [Market_Forward_Yield], 
    [Project1].[Historic_Distribution_PriceCurr] AS [Historic_Distribution_PriceCurr], 
    [Project1].[Forecast_Distribution_Yr1_PriceCurr] AS [Forecast_Distribution_Yr1_PriceCurr], 
    [Project1].[Forecast_Distribution_Yr2_PriceCurr] AS [Forecast_Distribution_Yr2_PriceCurr], 
    [Project1].[Forecast_Distribution_Yr3_PriceCurr] AS [Forecast_Distribution_Yr3_PriceCurr], 
    [Project1].[Rolling_12M_Forecast_Distribution_PriceCurr] AS [Rolling_12M_Forecast_Distribution_PriceCurr], 
    [Project1].[Rolling_12_24M_Forecast_Distribution_PriceCurr] AS [Rolling_12_24M_Forecast_Distribution_PriceCurr], 
    [Project1].[Rolling_24_36M_Forecast_Distribution_PriceCurr] AS [Rolling_24_36M_Forecast_Distribution_PriceCurr], 
    [Project1].[Distribution_Growth_Forecast_Yr4] AS [Distribution_Growth_Forecast_Yr4], 
    [Project1].[Earnings_Forecast_Yr4] AS [Earnings_Forecast_Yr4], 
    [Project1].[Forecast_Distribution_Yr4] AS [Forecast_Distribution_Yr4], 
    [Project1].[Forecast_Distribution_Yr4_PriceCurr] AS [Forecast_Distribution_Yr4_PriceCurr], 
    [Project1].[Security_ID1] AS [Security_ID1], 
    [Project1].[Entity_ID1] AS [Entity_ID1], 
    [Project1].[Security_Name] AS [Security_Name], 
    [Project1].[Short_Name] AS [Short_Name], 
    [Project1].[Primary_Exch] AS [Primary_Exch], 
    [Project1].[Secondary_Exch] AS [Secondary_Exch], 
    [Project1].[Country_Of_Domicile] AS [Country_Of_Domicile], 
    [Project1].[Country_Of_Risk] AS [Country_Of_Risk], 
    [Project1].[Security_Type_Code] AS [Security_Type_Code], 
    [Project1].[Price_Multiplier] AS [Price_Multiplier], 
    [Project1].[Income_Frequency] AS [Income_Frequency], 
    [Project1].[Issuer_Code] AS [Issuer_Code], 
    [Project1].[Ultimate_Issuer_Code] AS [Ultimate_Issuer_Code], 
    [Project1].[Asset_Currency] AS [Asset_Currency], 
    [Project1].[Min_Lot_Size] AS [Min_Lot_Size], 
    [Project1].[AvePrice_Rounding] AS [AvePrice_Rounding], 
    [Project1].[Issue_Date] AS [Issue_Date], 
    [Project1].[Maturity_Date] AS [Maturity_Date], 
    [Project1].[Coupon_Rate] AS [Coupon_Rate], 
    [Project1].[Price_Exchange] AS [Price_Exchange], 
    [Project1].[Trade_Currency] AS [Trade_Currency], 
    [Project1].[Price_Curr] AS [Price_Curr], 
    [Project1].[Currency_Pair_Code] AS [Currency_Pair_Code], 
    [Project1].[Share_Class] AS [Share_Class], 
    [Project1].[Current_Market_Price] AS [Current_Market_Price], 
    [Project1].[Index_Type] AS [Index_Type], 
    [Project1].[Clean_Price_Formula] AS [Clean_Price_Formula], 
    [Project1].[Accrued_Income_Price_Formula] AS [Accrued_Income_Price_Formula], 
    [Project1].[Odd_First_Coupon_Date] AS [Odd_First_Coupon_Date], 
    [Project1].[Odd_Last_Coupon_Date] AS [Odd_Last_Coupon_Date], 
    [Project1].[Coupon_Anniversary_Indicator] AS [Coupon_Anniversary_Indicator], 
    [Project1].[Track_EOM_Flag] AS [Track_EOM_Flag], 
    [Project1].[Next_Coupon_Date] AS [Next_Coupon_Date], 
    [Project1].[Previous_Coupon_Date] AS [Previous_Coupon_Date], 
    [Project1].[Payment_Frequency] AS [Payment_Frequency], 
    [Project1].[Coupon_BusDay_Adjustment] AS [Coupon_BusDay_Adjustment], 
    [Project1].[Next_Ex_Div_Date] AS [Next_Ex_Div_Date], 
    [Project1].[Ex_Div_BusDay_Adjustment] AS [Ex_Div_BusDay_Adjustment], 
    [Project1].[Ex_Div_Period] AS [Ex_Div_Period], 
    [Project1].[Ticker] AS [Ticker], 
    [Project1].[Inet_ID] AS [Inet_ID], 
    [Project1].[Bloomberg_ID] AS [Bloomberg_ID], 
    [Project1].[External_Sec_ID] AS [External_Sec_ID], 
    [Project1].[Reuters_ID] AS [Reuters_ID], 
    [Project1].[ISIN] AS [ISIN], 
    [Project1].[Call_Account_Flag] AS [Call_Account_Flag], 
    [Project1].[System_Locked] AS [System_Locked], 
    [Project1].[Last_Update_User1] AS [Last_Update_User1], 
    [Project1].[Last_Update_Date1] AS [Last_Update_Date1], 
    [Project1].[Security_Status] AS [Security_Status], 
    [Project1].[Benchmark_Portfolio] AS [Benchmark_Portfolio], 
    [Project1].[Active_flag] AS [Active_flag], 
    [Project1].[Dividend_FX_Security_ID] AS [Dividend_FX_Security_ID]
    FROM ( SELECT 
        [Extent1].[Entity_ID] AS [Entity_ID], 
        [Extent1].[Security_ID] AS [Security_ID], 
        [Extent1].[Issued_Amount] AS [Issued_Amount], 
        [Extent1].[Market_Capitalisation] AS [Market_Capitalisation], 
        [Extent1].[Risk_Premium] AS [Risk_Premium], 
        [Extent1].[Exit_Price] AS [Exit_Price], 
        [Extent1].[Total_Return_ME_1YR] AS [Total_Return_ME_1YR], 
        [Extent1].[Total_Return_ME_2YR] AS [Total_Return_ME_2YR], 
        [Extent1].[Total_Return_ME_3YR] AS [Total_Return_ME_3YR], 
        [Extent1].[Historic_Distribution] AS [Historic_Distribution], 
        [Extent1].[Distribution_Growth_Forecast_Yr1] AS [Distribution_Growth_Forecast_Yr1], 
        [Extent1].[Distribution_Growth_Forecast_Yr2] AS [Distribution_Growth_Forecast_Yr2], 
        [Extent1].[Distribution_Growth_Forecast_Yr3] AS [Distribution_Growth_Forecast_Yr3], 
        [Extent1].[Forecast_Distribution_Yr1] AS [Forecast_Distribution_Yr1], 
        [Extent1].[Forecast_Distribution_Yr2] AS [Forecast_Distribution_Yr2], 
        [Extent1].[Forecast_Distribution_Yr3] AS [Forecast_Distribution_Yr3], 
        [Extent1].[Earnings_Growth_Compounded] AS [Earnings_Growth_Compounded], 
        [Extent1].[Earnings_Forecast_Yr3] AS [Earnings_Forecast_Yr3], 
        [Extent1].[Historic_Dividend_Yield_FYE] AS [Historic_Dividend_Yield_FYE], 
        [Extent1].[Forward_Dividend_Yield_FYE] AS [Forward_Dividend_Yield_FYE], 
        [Extent1].[Yr3_Forward_Dividend_Yield] AS [Yr3_Forward_Dividend_Yield], 
        [Extent1].[Rolling_12M_Forward_Yield] AS [Rolling_12M_Forward_Yield], 
        [Extent1].[Historical_Earnings_FYE] AS [Historical_Earnings_FYE], 
        [Extent1].[Earnings_Forecast_Yr1] AS [Earnings_Forecast_Yr1], 
        [Extent1].[Earnings_Forecast_Yr2] AS [Earnings_Forecast_Yr2], 
        [Extent1].[Historic_Dividend_Yield_Relative] AS [Historic_Dividend_Yield_Relative], 
        [Extent1].[Rolling_12M_Historic_Distribution_PriceCurr] AS [Rolling_12M_Historic_Distribution_PriceCurr], 
        [Extent1].[Short_Term_Market_Rerate] AS [Short_Term_Market_Rerate], 
        [Extent1].[Forecast_12M_Total_Return] AS [Forecast_12M_Total_Return], 
        [Extent1].[Clean_Price] AS [Clean_Price], 
        [Extent1].[Rolling_Dividend_Yield_Historic] AS [Rolling_Dividend_Yield_Historic], 
        [Extent1].[Last_Update_Date] AS [Last_Update_Date], 
        [Extent1].[Last_Update_User] AS [Last_Update_User], 
        [Extent1].[Discount_Security_ID] AS [Discount_Security_ID], 
        [Extent1].[Net_Present_Value] AS [Net_Present_Value], 
        [Extent1].[Forecast_Rolling_Custom_Income] AS [Forecast_Rolling_Custom_Income], 
        [Extent1].[Custom_Period] AS [Custom_Period], 
        [Extent1].[Rolling_12M_Historic_Distribution] AS [Rolling_12M_Historic_Distribution], 
        [Extent1].[Record_Date] AS [Record_Date], 
        [Extent1].[Session_ID] AS [Session_ID], 
        [Extent1].[Hist_Last_Update_Date] AS [Hist_Last_Update_Date], 
        [Extent1].[Hist_Last_Update_User] AS [Hist_Last_Update_User], 
        [Extent1].[Rolling_12M_Forecast_Distribution] AS [Rolling_12M_Forecast_Distribution], 
        [Extent1].[Yr2_Forward_Dividend_Yield] AS [Yr2_Forward_Dividend_Yield], 
        [Extent1].[Exit_Yield] AS [Exit_Yield], 
        [Extent1].[Discount_Rate] AS [Discount_Rate], 
        [Extent1].[Distribution_Growth_Compounded] AS [Distribution_Growth_Compounded], 
        [Extent1].[Forecast_12MRolling_Income_Accrual] AS [Forecast_12MRolling_Income_Accrual], 
        [Extent1].[Rolling_12_to_24M_Forecast_Distribution] AS [Rolling_12_to_24M_Forecast_Distribution], 
        [Extent1].[Rolling_24_to_36M_Forecast_Distribution] AS [Rolling_24_to_36M_Forecast_Distribution], 
        [Extent1].[Forecast_Yr1_Dividend_Yield_Relative] AS [Forecast_Yr1_Dividend_Yield_Relative], 
        [Extent1].[Market_Historic_Yield] AS [Market_Historic_Yield], 
        [Extent1].[Market_Forward_Yield] AS [Market_Forward_Yield], 
        [Extent1].[Historic_Distribution_PriceCurr] AS [Historic_Distribution_PriceCurr], 
        [Extent1].[Forecast_Distribution_Yr1_PriceCurr] AS [Forecast_Distribution_Yr1_PriceCurr], 
        [Extent1].[Forecast_Distribution_Yr2_PriceCurr] AS [Forecast_Distribution_Yr2_PriceCurr], 
        [Extent1].[Forecast_Distribution_Yr3_PriceCurr] AS [Forecast_Distribution_Yr3_PriceCurr], 
        [Extent1].[Rolling_12M_Forecast_Distribution_PriceCurr] AS [Rolling_12M_Forecast_Distribution_PriceCurr], 
        [Extent1].[Rolling_12_24M_Forecast_Distribution_PriceCurr] AS [Rolling_12_24M_Forecast_Distribution_PriceCurr], 
        [Extent1].[Rolling_24_36M_Forecast_Distribution_PriceCurr] AS [Rolling_24_36M_Forecast_Distribution_PriceCurr], 
        [Extent1].[Distribution_Growth_Forecast_Yr4] AS [Distribution_Growth_Forecast_Yr4], 
        [Extent1].[Earnings_Forecast_Yr4] AS [Earnings_Forecast_Yr4], 
        [Extent1].[Forecast_Distribution_Yr4] AS [Forecast_Distribution_Yr4], 
        [Extent1].[Forecast_Distribution_Yr4_PriceCurr] AS [Forecast_Distribution_Yr4_PriceCurr], 
        [Extent2].[Security_ID] AS [Security_ID1], 
        [Extent2].[Entity_ID] AS [Entity_ID1], 
        [Extent2].[Security_Name] AS [Security_Name], 
        [Extent2].[Short_Name] AS [Short_Name], 
        [Extent2].[Primary_Exch] AS [Primary_Exch], 
        [Extent2].[Secondary_Exch] AS [Secondary_Exch], 
        [Extent2].[Country_Of_Domicile] AS [Country_Of_Domicile], 
        [Extent2].[Country_Of_Risk] AS [Country_Of_Risk], 
        [Extent2].[Security_Type_Code] AS [Security_Type_Code], 
        [Extent2].[Price_Multiplier] AS [Price_Multiplier], 
        [Extent2].[Income_Frequency] AS [Income_Frequency], 
        [Extent2].[Issuer_Code] AS [Issuer_Code], 
        [Extent2].[Ultimate_Issuer_Code] AS [Ultimate_Issuer_Code], 
        [Extent2].[Asset_Currency] AS [Asset_Currency], 
        [Extent2].[Min_Lot_Size] AS [Min_Lot_Size], 
        [Extent2].[Decimal_Precision] AS [Decimal_Precision], 
        [Extent2].[AvePrice_Rounding] AS [AvePrice_Rounding], 
        [Extent2].[Issue_Date] AS [Issue_Date], 
        [Extent2].[Maturity_Date] AS [Maturity_Date], 
        [Extent2].[Coupon_Rate] AS [Coupon_Rate], 
        [Extent2].[Price_Exchange] AS [Price_Exchange], 
        [Extent2].[Trade_Currency] AS [Trade_Currency], 
        [Extent2].[Price_Curr] AS [Price_Curr], 
        [Extent2].[Currency_Pair_Code] AS [Currency_Pair_Code], 
        [Extent2].[Share_Class] AS [Share_Class], 
        [Extent2].[Current_Market_Price] AS [Current_Market_Price], 
        [Extent2].[Index_Type] AS [Index_Type], 
        [Extent2].[Clean_Price_Formula] AS [Clean_Price_Formula], 
        [Extent2].[Accrued_Income_Price_Formula] AS [Accrued_Income_Price_Formula], 
        [Extent2].[Odd_First_Coupon_Date] AS [Odd_First_Coupon_Date], 
        [Extent2].[Odd_Last_Coupon_Date] AS [Odd_Last_Coupon_Date], 
        [Extent2].[Coupon_Anniversary_Indicator] AS [Coupon_Anniversary_Indicator], 
        [Extent2].[Track_EOM_Flag] AS [Track_EOM_Flag], 
        [Extent2].[Next_Coupon_Date] AS [Next_Coupon_Date], 
        [Extent2].[Previous_Coupon_Date] AS [Previous_Coupon_Date], 
        [Extent2].[Payment_Frequency] AS [Payment_Frequency], 
        [Extent2].[Coupon_BusDay_Adjustment] AS [Coupon_BusDay_Adjustment], 
        [Extent2].[Next_Ex_Div_Date] AS [Next_Ex_Div_Date], 
        [Extent2].[Ex_Div_BusDay_Adjustment] AS [Ex_Div_BusDay_Adjustment], 
        [Extent2].[Ex_Div_Period] AS [Ex_Div_Period], 
        [Extent2].[Ticker] AS [Ticker], 
        [Extent2].[Inet_ID] AS [Inet_ID], 
        [Extent2].[Bloomberg_ID] AS [Bloomberg_ID], 
        [Extent2].[External_Sec_ID] AS [External_Sec_ID], 
        [Extent2].[Reuters_ID] AS [Reuters_ID], 
        [Extent2].[ISIN] AS [ISIN], 
        [Extent2].[Call_Account_Flag] AS [Call_Account_Flag], 
        [Extent2].[System_Locked] AS [System_Locked], 
        [Extent2].[Last_Update_User] AS [Last_Update_User1], 
        [Extent2].[Last_Update_Date] AS [Last_Update_Date1], 
        [Extent2].[Security_Status] AS [Security_Status], 
        [Extent2].[Benchmark_Portfolio] AS [Benchmark_Portfolio], 
        [Extent2].[Active_flag] AS [Active_flag], 
        [Extent2].[Dividend_FX_Security_ID] AS [Dividend_FX_Security_ID]
        FROM  [dbo].[Security_Analytics_History] AS [Extent1]
        INNER JOIN [dbo].[Security_Detail] AS [Extent2] ON [Extent1].[Security_ID] = [Extent2].[Security_ID]
        WHERE [Extent1].[Security_ID] = @p__linq__0
    )  AS [Project1]
    ORDER BY [Project1].[Record_Date] DESC
2018-04-07 16:53:43.4448|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: SELECT 
    [Project1].[Decimal_Precision] AS [Decimal_Precision], 
    [Project1].[Entity_ID] AS [Entity_ID], 
    [Project1].[Security_ID] AS [Security_ID], 
    [Project1].[Issued_Amount] AS [Issued_Amount], 
    [Project1].[Market_Capitalisation] AS [Market_Capitalisation], 
    [Project1].[Risk_Premium] AS [Risk_Premium], 
    [Project1].[Exit_Price] AS [Exit_Price], 
    [Project1].[Total_Return_ME_1YR] AS [Total_Return_ME_1YR], 
    [Project1].[Total_Return_ME_2YR] AS [Total_Return_ME_2YR], 
    [Project1].[Total_Return_ME_3YR] AS [Total_Return_ME_3YR], 
    [Project1].[Historic_Distribution] AS [Historic_Distribution], 
    [Project1].[Distribution_Growth_Forecast_Yr1] AS [Distribution_Growth_Forecast_Yr1], 
    [Project1].[Distribution_Growth_Forecast_Yr2] AS [Distribution_Growth_Forecast_Yr2], 
    [Project1].[Distribution_Growth_Forecast_Yr3] AS [Distribution_Growth_Forecast_Yr3], 
    [Project1].[Forecast_Distribution_Yr1] AS [Forecast_Distribution_Yr1], 
    [Project1].[Forecast_Distribution_Yr2] AS [Forecast_Distribution_Yr2], 
    [Project1].[Forecast_Distribution_Yr3] AS [Forecast_Distribution_Yr3], 
    [Project1].[Earnings_Growth_Compounded] AS [Earnings_Growth_Compounded], 
    [Project1].[Earnings_Forecast_Yr3] AS [Earnings_Forecast_Yr3], 
    [Project1].[Historic_Dividend_Yield_FYE] AS [Historic_Dividend_Yield_FYE], 
    [Project1].[Forward_Dividend_Yield_FYE] AS [Forward_Dividend_Yield_FYE], 
    [Project1].[Yr3_Forward_Dividend_Yield] AS [Yr3_Forward_Dividend_Yield], 
    [Project1].[Rolling_12M_Forward_Yield] AS [Rolling_12M_Forward_Yield], 
    [Project1].[Historical_Earnings_FYE] AS [Historical_Earnings_FYE], 
    [Project1].[Earnings_Forecast_Yr1] AS [Earnings_Forecast_Yr1], 
    [Project1].[Earnings_Forecast_Yr2] AS [Earnings_Forecast_Yr2], 
    [Project1].[Historic_Dividend_Yield_Relative] AS [Historic_Dividend_Yield_Relative], 
    [Project1].[Rolling_12M_Historic_Distribution_PriceCurr] AS [Rolling_12M_Historic_Distribution_PriceCurr], 
    [Project1].[Short_Term_Market_Rerate] AS [Short_Term_Market_Rerate], 
    [Project1].[Forecast_12M_Total_Return] AS [Forecast_12M_Total_Return], 
    [Project1].[Clean_Price] AS [Clean_Price], 
    [Project1].[Rolling_Dividend_Yield_Historic] AS [Rolling_Dividend_Yield_Historic], 
    [Project1].[Last_Update_Date] AS [Last_Update_Date], 
    [Project1].[Last_Update_User] AS [Last_Update_User], 
    [Project1].[Discount_Security_ID] AS [Discount_Security_ID], 
    [Project1].[Net_Present_Value] AS [Net_Present_Value], 
    [Project1].[Forecast_Rolling_Custom_Income] AS [Forecast_Rolling_Custom_Income], 
    [Project1].[Custom_Period] AS [Custom_Period], 
    [Project1].[Rolling_12M_Historic_Distribution] AS [Rolling_12M_Historic_Distribution], 
    [Project1].[Record_Date] AS [Record_Date], 
    [Project1].[Session_ID] AS [Session_ID], 
    [Project1].[Hist_Last_Update_Date] AS [Hist_Last_Update_Date], 
    [Project1].[Hist_Last_Update_User] AS [Hist_Last_Update_User], 
    [Project1].[Rolling_12M_Forecast_Distribution] AS [Rolling_12M_Forecast_Distribution], 
    [Project1].[Yr2_Forward_Dividend_Yield] AS [Yr2_Forward_Dividend_Yield], 
    [Project1].[Exit_Yield] AS [Exit_Yield], 
    [Project1].[Discount_Rate] AS [Discount_Rate], 
    [Project1].[Distribution_Growth_Compounded] AS [Distribution_Growth_Compounded], 
    [Project1].[Forecast_12MRolling_Income_Accrual] AS [Forecast_12MRolling_Income_Accrual], 
    [Project1].[Rolling_12_to_24M_Forecast_Distribution] AS [Rolling_12_to_24M_Forecast_Distribution], 
    [Project1].[Rolling_24_to_36M_Forecast_Distribution] AS [Rolling_24_to_36M_Forecast_Distribution], 
    [Project1].[Forecast_Yr1_Dividend_Yield_Relative] AS [Forecast_Yr1_Dividend_Yield_Relative], 
    [Project1].[Market_Historic_Yield] AS [Market_Historic_Yield], 
    [Project1].[Market_Forward_Yield] AS [Market_Forward_Yield], 
    [Project1].[Historic_Distribution_PriceCurr] AS [Historic_Distribution_PriceCurr], 
    [Project1].[Forecast_Distribution_Yr1_PriceCurr] AS [Forecast_Distribution_Yr1_PriceCurr], 
    [Project1].[Forecast_Distribution_Yr2_PriceCurr] AS [Forecast_Distribution_Yr2_PriceCurr], 
    [Project1].[Forecast_Distribution_Yr3_PriceCurr] AS [Forecast_Distribution_Yr3_PriceCurr], 
    [Project1].[Rolling_12M_Forecast_Distribution_PriceCurr] AS [Rolling_12M_Forecast_Distribution_PriceCurr], 
    [Project1].[Rolling_12_24M_Forecast_Distribution_PriceCurr] AS [Rolling_12_24M_Forecast_Distribution_PriceCurr], 
    [Project1].[Rolling_24_36M_Forecast_Distribution_PriceCurr] AS [Rolling_24_36M_Forecast_Distribution_PriceCurr], 
    [Project1].[Distribution_Growth_Forecast_Yr4] AS [Distribution_Growth_Forecast_Yr4], 
    [Project1].[Earnings_Forecast_Yr4] AS [Earnings_Forecast_Yr4], 
    [Project1].[Forecast_Distribution_Yr4] AS [Forecast_Distribution_Yr4], 
    [Project1].[Forecast_Distribution_Yr4_PriceCurr] AS [Forecast_Distribution_Yr4_PriceCurr], 
    [Project1].[Security_ID1] AS [Security_ID1], 
    [Project1].[Entity_ID1] AS [Entity_ID1], 
    [Project1].[Security_Name] AS [Security_Name], 
    [Project1].[Short_Name] AS [Short_Name], 
    [Project1].[Primary_Exch] AS [Primary_Exch], 
    [Project1].[Secondary_Exch] AS [Secondary_Exch], 
    [Project1].[Country_Of_Domicile] AS [Country_Of_Domicile], 
    [Project1].[Country_Of_Risk] AS [Country_Of_Risk], 
    [Project1].[Security_Type_Code] AS [Security_Type_Code], 
    [Project1].[Price_Multiplier] AS [Price_Multiplier], 
    [Project1].[Income_Frequency] AS [Income_Frequency], 
    [Project1].[Issuer_Code] AS [Issuer_Code], 
    [Project1].[Ultimate_Issuer_Code] AS [Ultimate_Issuer_Code], 
    [Project1].[Asset_Currency] AS [Asset_Currency], 
    [Project1].[Min_Lot_Size] AS [Min_Lot_Size], 
    [Project1].[AvePrice_Rounding] AS [AvePrice_Rounding], 
    [Project1].[Issue_Date] AS [Issue_Date], 
    [Project1].[Maturity_Date] AS [Maturity_Date], 
    [Project1].[Coupon_Rate] AS [Coupon_Rate], 
    [Project1].[Price_Exchange] AS [Price_Exchange], 
    [Project1].[Trade_Currency] AS [Trade_Currency], 
    [Project1].[Price_Curr] AS [Price_Curr], 
    [Project1].[Currency_Pair_Code] AS [Currency_Pair_Code], 
    [Project1].[Share_Class] AS [Share_Class], 
    [Project1].[Current_Market_Price] AS [Current_Market_Price], 
    [Project1].[Index_Type] AS [Index_Type], 
    [Project1].[Clean_Price_Formula] AS [Clean_Price_Formula], 
    [Project1].[Accrued_Income_Price_Formula] AS [Accrued_Income_Price_Formula], 
    [Project1].[Odd_First_Coupon_Date] AS [Odd_First_Coupon_Date], 
    [Project1].[Odd_Last_Coupon_Date] AS [Odd_Last_Coupon_Date], 
    [Project1].[Coupon_Anniversary_Indicator] AS [Coupon_Anniversary_Indicator], 
    [Project1].[Track_EOM_Flag] AS [Track_EOM_Flag], 
    [Project1].[Next_Coupon_Date] AS [Next_Coupon_Date], 
    [Project1].[Previous_Coupon_Date] AS [Previous_Coupon_Date], 
    [Project1].[Payment_Frequency] AS [Payment_Frequency], 
    [Project1].[Coupon_BusDay_Adjustment] AS [Coupon_BusDay_Adjustment], 
    [Project1].[Next_Ex_Div_Date] AS [Next_Ex_Div_Date], 
    [Project1].[Ex_Div_BusDay_Adjustment] AS [Ex_Div_BusDay_Adjustment], 
    [Project1].[Ex_Div_Period] AS [Ex_Div_Period], 
    [Project1].[Ticker] AS [Ticker], 
    [Project1].[Inet_ID] AS [Inet_ID], 
    [Project1].[Bloomberg_ID] AS [Bloomberg_ID], 
    [Project1].[External_Sec_ID] AS [External_Sec_ID], 
    [Project1].[Reuters_ID] AS [Reuters_ID], 
    [Project1].[ISIN] AS [ISIN], 
    [Project1].[Call_Account_Flag] AS [Call_Account_Flag], 
    [Project1].[System_Locked] AS [System_Locked], 
    [Project1].[Last_Update_User1] AS [Last_Update_User1], 
    [Project1].[Last_Update_Date1] AS [Last_Update_Date1], 
    [Project1].[Security_Status] AS [Security_Status], 
    [Project1].[Benchmark_Portfolio] AS [Benchmark_Portfolio], 
    [Project1].[Active_flag] AS [Active_flag], 
    [Project1].[Dividend_FX_Security_ID] AS [Dividend_FX_Security_ID]
    FROM ( SELECT 
        [Extent1].[Entity_ID] AS [Entity_ID], 
        [Extent1].[Security_ID] AS [Security_ID], 
        [Extent1].[Issued_Amount] AS [Issued_Amount], 
        [Extent1].[Market_Capitalisation] AS [Market_Capitalisation], 
        [Extent1].[Risk_Premium] AS [Risk_Premium], 
        [Extent1].[Exit_Price] AS [Exit_Price], 
        [Extent1].[Total_Return_ME_1YR] AS [Total_Return_ME_1YR], 
        [Extent1].[Total_Return_ME_2YR] AS [Total_Return_ME_2YR], 
        [Extent1].[Total_Return_ME_3YR] AS [Total_Return_ME_3YR], 
        [Extent1].[Historic_Distribution] AS [Historic_Distribution], 
        [Extent1].[Distribution_Growth_Forecast_Yr1] AS [Distribution_Growth_Forecast_Yr1], 
        [Extent1].[Distribution_Growth_Forecast_Yr2] AS [Distribution_Growth_Forecast_Yr2], 
        [Extent1].[Distribution_Growth_Forecast_Yr3] AS [Distribution_Growth_Forecast_Yr3], 
        [Extent1].[Forecast_Distribution_Yr1] AS [Forecast_Distribution_Yr1], 
        [Extent1].[Forecast_Distribution_Yr2] AS [Forecast_Distribution_Yr2], 
        [Extent1].[Forecast_Distribution_Yr3] AS [Forecast_Distribution_Yr3], 
        [Extent1].[Earnings_Growth_Compounded] AS [Earnings_Growth_Compounded], 
        [Extent1].[Earnings_Forecast_Yr3] AS [Earnings_Forecast_Yr3], 
        [Extent1].[Historic_Dividend_Yield_FYE] AS [Historic_Dividend_Yield_FYE], 
        [Extent1].[Forward_Dividend_Yield_FYE] AS [Forward_Dividend_Yield_FYE], 
        [Extent1].[Yr3_Forward_Dividend_Yield] AS [Yr3_Forward_Dividend_Yield], 
        [Extent1].[Rolling_12M_Forward_Yield] AS [Rolling_12M_Forward_Yield], 
        [Extent1].[Historical_Earnings_FYE] AS [Historical_Earnings_FYE], 
        [Extent1].[Earnings_Forecast_Yr1] AS [Earnings_Forecast_Yr1], 
        [Extent1].[Earnings_Forecast_Yr2] AS [Earnings_Forecast_Yr2], 
        [Extent1].[Historic_Dividend_Yield_Relative] AS [Historic_Dividend_Yield_Relative], 
        [Extent1].[Rolling_12M_Historic_Distribution_PriceCurr] AS [Rolling_12M_Historic_Distribution_PriceCurr], 
        [Extent1].[Short_Term_Market_Rerate] AS [Short_Term_Market_Rerate], 
        [Extent1].[Forecast_12M_Total_Return] AS [Forecast_12M_Total_Return], 
        [Extent1].[Clean_Price] AS [Clean_Price], 
        [Extent1].[Rolling_Dividend_Yield_Historic] AS [Rolling_Dividend_Yield_Historic], 
        [Extent1].[Last_Update_Date] AS [Last_Update_Date], 
        [Extent1].[Last_Update_User] AS [Last_Update_User], 
        [Extent1].[Discount_Security_ID] AS [Discount_Security_ID], 
        [Extent1].[Net_Present_Value] AS [Net_Present_Value], 
        [Extent1].[Forecast_Rolling_Custom_Income] AS [Forecast_Rolling_Custom_Income], 
        [Extent1].[Custom_Period] AS [Custom_Period], 
        [Extent1].[Rolling_12M_Historic_Distribution] AS [Rolling_12M_Historic_Distribution], 
        [Extent1].[Record_Date] AS [Record_Date], 
        [Extent1].[Session_ID] AS [Session_ID], 
        [Extent1].[Hist_Last_Update_Date] AS [Hist_Last_Update_Date], 
        [Extent1].[Hist_Last_Update_User] AS [Hist_Last_Update_User], 
        [Extent1].[Rolling_12M_Forecast_Distribution] AS [Rolling_12M_Forecast_Distribution], 
        [Extent1].[Yr2_Forward_Dividend_Yield] AS [Yr2_Forward_Dividend_Yield], 
        [Extent1].[Exit_Yield] AS [Exit_Yield], 
        [Extent1].[Discount_Rate] AS [Discount_Rate], 
        [Extent1].[Distribution_Growth_Compounded] AS [Distribution_Growth_Compounded], 
        [Extent1].[Forecast_12MRolling_Income_Accrual] AS [Forecast_12MRolling_Income_Accrual], 
        [Extent1].[Rolling_12_to_24M_Forecast_Distribution] AS [Rolling_12_to_24M_Forecast_Distribution], 
        [Extent1].[Rolling_24_to_36M_Forecast_Distribution] AS [Rolling_24_to_36M_Forecast_Distribution], 
        [Extent1].[Forecast_Yr1_Dividend_Yield_Relative] AS [Forecast_Yr1_Dividend_Yield_Relative], 
        [Extent1].[Market_Historic_Yield] AS [Market_Historic_Yield], 
        [Extent1].[Market_Forward_Yield] AS [Market_Forward_Yield], 
        [Extent1].[Historic_Distribution_PriceCurr] AS [Historic_Distribution_PriceCurr], 
        [Extent1].[Forecast_Distribution_Yr1_PriceCurr] AS [Forecast_Distribution_Yr1_PriceCurr], 
        [Extent1].[Forecast_Distribution_Yr2_PriceCurr] AS [Forecast_Distribution_Yr2_PriceCurr], 
        [Extent1].[Forecast_Distribution_Yr3_PriceCurr] AS [Forecast_Distribution_Yr3_PriceCurr], 
        [Extent1].[Rolling_12M_Forecast_Distribution_PriceCurr] AS [Rolling_12M_Forecast_Distribution_PriceCurr], 
        [Extent1].[Rolling_12_24M_Forecast_Distribution_PriceCurr] AS [Rolling_12_24M_Forecast_Distribution_PriceCurr], 
        [Extent1].[Rolling_24_36M_Forecast_Distribution_PriceCurr] AS [Rolling_24_36M_Forecast_Distribution_PriceCurr], 
        [Extent1].[Distribution_Growth_Forecast_Yr4] AS [Distribution_Growth_Forecast_Yr4], 
        [Extent1].[Earnings_Forecast_Yr4] AS [Earnings_Forecast_Yr4], 
        [Extent1].[Forecast_Distribution_Yr4] AS [Forecast_Distribution_Yr4], 
        [Extent1].[Forecast_Distribution_Yr4_PriceCurr] AS [Forecast_Distribution_Yr4_PriceCurr], 
        [Extent2].[Security_ID] AS [Security_ID1], 
        [Extent2].[Entity_ID] AS [Entity_ID1], 
        [Extent2].[Security_Name] AS [Security_Name], 
        [Extent2].[Short_Name] AS [Short_Name], 
        [Extent2].[Primary_Exch] AS [Primary_Exch], 
        [Extent2].[Secondary_Exch] AS [Secondary_Exch], 
        [Extent2].[Country_Of_Domicile] AS [Country_Of_Domicile], 
        [Extent2].[Country_Of_Risk] AS [Country_Of_Risk], 
        [Extent2].[Security_Type_Code] AS [Security_Type_Code], 
        [Extent2].[Price_Multiplier] AS [Price_Multiplier], 
        [Extent2].[Income_Frequency] AS [Income_Frequency], 
        [Extent2].[Issuer_Code] AS [Issuer_Code], 
        [Extent2].[Ultimate_Issuer_Code] AS [Ultimate_Issuer_Code], 
        [Extent2].[Asset_Currency] AS [Asset_Currency], 
        [Extent2].[Min_Lot_Size] AS [Min_Lot_Size], 
        [Extent2].[Decimal_Precision] AS [Decimal_Precision], 
        [Extent2].[AvePrice_Rounding] AS [AvePrice_Rounding], 
        [Extent2].[Issue_Date] AS [Issue_Date], 
        [Extent2].[Maturity_Date] AS [Maturity_Date], 
        [Extent2].[Coupon_Rate] AS [Coupon_Rate], 
        [Extent2].[Price_Exchange] AS [Price_Exchange], 
        [Extent2].[Trade_Currency] AS [Trade_Currency], 
        [Extent2].[Price_Curr] AS [Price_Curr], 
        [Extent2].[Currency_Pair_Code] AS [Currency_Pair_Code], 
        [Extent2].[Share_Class] AS [Share_Class], 
        [Extent2].[Current_Market_Price] AS [Current_Market_Price], 
        [Extent2].[Index_Type] AS [Index_Type], 
        [Extent2].[Clean_Price_Formula] AS [Clean_Price_Formula], 
        [Extent2].[Accrued_Income_Price_Formula] AS [Accrued_Income_Price_Formula], 
        [Extent2].[Odd_First_Coupon_Date] AS [Odd_First_Coupon_Date], 
        [Extent2].[Odd_Last_Coupon_Date] AS [Odd_Last_Coupon_Date], 
        [Extent2].[Coupon_Anniversary_Indicator] AS [Coupon_Anniversary_Indicator], 
        [Extent2].[Track_EOM_Flag] AS [Track_EOM_Flag], 
        [Extent2].[Next_Coupon_Date] AS [Next_Coupon_Date], 
        [Extent2].[Previous_Coupon_Date] AS [Previous_Coupon_Date], 
        [Extent2].[Payment_Frequency] AS [Payment_Frequency], 
        [Extent2].[Coupon_BusDay_Adjustment] AS [Coupon_BusDay_Adjustment], 
        [Extent2].[Next_Ex_Div_Date] AS [Next_Ex_Div_Date], 
        [Extent2].[Ex_Div_BusDay_Adjustment] AS [Ex_Div_BusDay_Adjustment], 
        [Extent2].[Ex_Div_Period] AS [Ex_Div_Period], 
        [Extent2].[Ticker] AS [Ticker], 
        [Extent2].[Inet_ID] AS [Inet_ID], 
        [Extent2].[Bloomberg_ID] AS [Bloomberg_ID], 
        [Extent2].[External_Sec_ID] AS [External_Sec_ID], 
        [Extent2].[Reuters_ID] AS [Reuters_ID], 
        [Extent2].[ISIN] AS [ISIN], 
        [Extent2].[Call_Account_Flag] AS [Call_Account_Flag], 
        [Extent2].[System_Locked] AS [System_Locked], 
        [Extent2].[Last_Update_User] AS [Last_Update_User1], 
        [Extent2].[Last_Update_Date] AS [Last_Update_Date1], 
        [Extent2].[Security_Status] AS [Security_Status], 
        [Extent2].[Benchmark_Portfolio] AS [Benchmark_Portfolio], 
        [Extent2].[Active_flag] AS [Active_flag], 
        [Extent2].[Dividend_FX_Security_ID] AS [Dividend_FX_Security_ID]
        FROM  [dbo].[Security_Analytics_History] AS [Extent1]
        INNER JOIN [dbo].[Security_Detail] AS [Extent2] ON [Extent1].[Security_ID] = [Extent2].[Security_ID]
        WHERE [Extent1].[Security_ID] = @p__linq__0
    )  AS [Project1]
    ORDER BY [Project1].[Record_Date] DESC
2018-04-07 16:53:43.5029|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: IF db_id(N'MetopeAzureDb') IS NOT NULL SELECT 1 ELSE SELECT Count(*) FROM sys.databases WHERE [name]=N'MetopeAzureDb'
2018-04-07 16:53:43.5214|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: IF db_id(N'MetopeAzureDb') IS NOT NULL SELECT 1 ELSE SELECT Count(*) FROM sys.databases WHERE [name]=N'MetopeAzureDb'
2018-04-07 16:53:43.5479|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: IF db_id(N'MetopeAzureDb') IS NOT NULL SELECT 1 ELSE SELECT Count(*) FROM sys.databases WHERE [name]=N'MetopeAzureDb'
2018-04-07 16:53:43.5704|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: IF db_id(N'MetopeAzureDb') IS NOT NULL SELECT 1 ELSE SELECT Count(*) FROM sys.databases WHERE [name]=N'MetopeAzureDb'
2018-04-07 16:53:46.9977|ERROR|ASP.MetopeNspace.MvcApplication|Error caught in Application_Error event
, http://localhost:53133/SecurityAnalyticsHistory/Create 
 Error in: There is no ViewData item of type 'IEnumerable<SelectListItem>' that has the key 'Entity_ID'., 
Stack Trace:   at System.Web.Mvc.Html.SelectExtensions.GetSelectData(HtmlHelper htmlHelper, String name)
   at System.Web.Mvc.Html.SelectExtensions.SelectInternal(HtmlHelper htmlHelper, ModelMetadata metadata, String optionLabel, String name, IEnumerable`1 selectList, Boolean allowMultiple, IDictionary`2 htmlAttributes)
   at System.Web.Mvc.Html.SelectExtensions.DropDownList(HtmlHelper htmlHelper, String name, IEnumerable`1 selectList, Object htmlAttributes)
   at ASP._Page_Views_SecurityAnalyticsHistory_Create_cshtml.Execute() in c:\BlueStream\Development\Metope\WebSite\MetopeMVCApp\MetopeMVCApp\Views\SecurityAnalyticsHistory\Create.cshtml:line 20
   at System.Web.WebPages.WebPageBase.ExecutePageHierarchy()
   at System.Web.Mvc.WebViewPage.ExecutePageHierarchy()
   at System.Web.WebPages.StartPage.RunPage()
   at System.Web.WebPages.StartPage.ExecutePageHierarchy()
   at System.Web.WebPages.WebPageBase.ExecutePageHierarchy(WebPageContext pageContext, TextWriter writer, WebPageRenderingBase startPage)
   at System.Web.Mvc.RazorView.RenderView(ViewContext viewContext, TextWriter writer, Object instance)
   at System.Web.Mvc.BuildManagerCompiledView.Render(ViewContext viewContext, TextWriter writer)
   at System.Web.Mvc.ViewResultBase.ExecuteResult(ControllerContext context)
   at System.Web.Mvc.ControllerActionInvoker.InvokeActionResult(ControllerContext controllerContext, ActionResult actionResult)
   at System.Web.Mvc.ControllerActionInvoker.InvokeActionResultFilterRecursive(IList`1 filters, Int32 filterIndex, ResultExecutingContext preContext, ControllerContext controllerContext, ActionResult actionResult)
   at System.Web.Mvc.ControllerActionInvoker.InvokeActionResultFilterRecursive(IList`1 filters, Int32 filterIndex, ResultExecutingContext preContext, ControllerContext controllerContext, ActionResult actionResult)
   at System.Web.Mvc.ControllerActionInvoker.InvokeActionResultFilterRecursive(IList`1 filters, Int32 filterIndex, ResultExecutingContext preContext, ControllerContext controllerContext, ActionResult actionResult)
   at System.Web.Mvc.ControllerActionInvoker.InvokeActionResultFilterRecursive(IList`1 filters, Int32 filterIndex, ResultExecutingContext preContext, ControllerContext controllerContext, ActionResult actionResult)
   at System.Web.Mvc.ControllerActionInvoker.InvokeActionResultFilterRecursive(IList`1 filters, Int32 filterIndex, ResultExecutingContext preContext, ControllerContext controllerContext, ActionResult actionResult)
   at System.Web.Mvc.ControllerActionInvoker.InvokeActionResultWithFilters(ControllerContext controllerContext, IList`1 filters, ActionResult actionResult)
   at System.Web.Mvc.Async.AsyncControllerActionInvoker.<>c__DisplayClass21.<>c__DisplayClass2b.<BeginInvokeAction>b__1c()
   at System.Web.Mvc.Async.AsyncControllerActionInvoker.<>c__DisplayClass21.<BeginInvokeAction>b__1e(IAsyncResult asyncResult)
   at System.Web.Mvc.Async.AsyncResultWrapper.WrappedAsyncResult`1.CallEndDelegate(IAsyncResult asyncResult)
   at System.Web.Mvc.Async.AsyncResultWrapper.WrappedAsyncResultBase`1.End()
   at System.Web.Mvc.Async.AsyncControllerActionInvoker.EndInvokeAction(IAsyncResult asyncResult)
   at System.Web.Mvc.Controller.<BeginExecuteCore>b__1d(IAsyncResult asyncResult, ExecuteCoreState innerState)
   at System.Web.Mvc.Async.AsyncResultWrapper.WrappedAsyncVoid`1.CallEndDelegate(IAsyncResult asyncResult)
   at System.Web.Mvc.Async.AsyncResultWrapper.WrappedAsyncResultBase`1.End()
   at System.Web.Mvc.Controller.EndExecuteCore(IAsyncResult asyncResult)
   at System.Web.Mvc.Controller.<BeginExecute>b__15(IAsyncResult asyncResult, Controller controller)
   at System.Web.Mvc.Async.AsyncResultWrapper.WrappedAsyncVoid`1.CallEndDelegate(IAsyncResult asyncResult)
   at System.Web.Mvc.Async.AsyncResultWrapper.WrappedAsyncResultBase`1.End()
   at System.Web.Mvc.Controller.EndExecute(IAsyncResult asyncResult)
   at System.Web.Mvc.Controller.System.Web.Mvc.Async.IAsyncController.EndExecute(IAsyncResult asyncResult)
   at System.Web.Mvc.MvcHandler.<BeginProcessRequest>b__5(IAsyncResult asyncResult, ProcessRequestState innerState)
   at System.Web.Mvc.Async.AsyncResultWrapper.WrappedAsyncVoid`1.CallEndDelegate(IAsyncResult asyncResult)
   at System.Web.Mvc.Async.AsyncResultWrapper.WrappedAsyncResultBase`1.End()
   at System.Web.Mvc.MvcHandler.EndProcessRequest(IAsyncResult asyncResult)
   at System.Web.Mvc.MvcHandler.System.Web.IHttpAsyncHandler.EndProcessRequest(IAsyncResult result)
   at System.Web.HttpApplication.CallHandlerExecutionStep.System.Web.HttpApplication.IExecutionStep.Execute()
   at System.Web.HttpApplication.ExecuteStepImpl(IExecutionStep step)
   at System.Web.HttpApplication.ExecuteStep(IExecutionStep step, Boolean& completedSynchronously)
Session: Identity name:aaaaaa IsAuthenticated:True 
2018-04-07 16:53:47.1032|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: IF db_id(N'MetopeAzureDb') IS NOT NULL SELECT 1 ELSE SELECT Count(*) FROM sys.databases WHERE [name]=N'MetopeAzureDb'
2018-04-07 16:53:47.1293|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: IF db_id(N'MetopeAzureDb') IS NOT NULL SELECT 1 ELSE SELECT Count(*) FROM sys.databases WHERE [name]=N'MetopeAzureDb'
2018-04-07 16:53:47.1578|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: IF db_id(N'MetopeAzureDb') IS NOT NULL SELECT 1 ELSE SELECT Count(*) FROM sys.databases WHERE [name]=N'MetopeAzureDb'
2018-04-07 16:53:47.1863|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: IF db_id(N'MetopeAzureDb') IS NOT NULL SELECT 1 ELSE SELECT Count(*) FROM sys.databases WHERE [name]=N'MetopeAzureDb'
2018-04-07 17:08:59.0233|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: SELECT 
    [Extent1].[Entity_ID] AS [Entity_ID], 
    [Extent1].[Security_ID] AS [Security_ID], 
    [Extent1].[Issued_Amount] AS [Issued_Amount], 
    [Extent1].[Market_Capitalisation] AS [Market_Capitalisation], 
    [Extent1].[Risk_Premium] AS [Risk_Premium], 
    [Extent1].[Exit_Price] AS [Exit_Price], 
    [Extent1].[Total_Return_ME_1YR] AS [Total_Return_ME_1YR], 
    [Extent1].[Total_Return_ME_2YR] AS [Total_Return_ME_2YR], 
    [Extent1].[Total_Return_ME_3YR] AS [Total_Return_ME_3YR], 
    [Extent1].[Historic_Distribution] AS [Historic_Distribution], 
    [Extent1].[Distribution_Growth_Forecast_Yr1] AS [Distribution_Growth_Forecast_Yr1], 
    [Extent1].[Distribution_Growth_Forecast_Yr2] AS [Distribution_Growth_Forecast_Yr2], 
    [Extent1].[Distribution_Growth_Forecast_Yr3] AS [Distribution_Growth_Forecast_Yr3], 
    [Extent1].[Forecast_Distribution_Yr1] AS [Forecast_Distribution_Yr1], 
    [Extent1].[Forecast_Distribution_Yr2] AS [Forecast_Distribution_Yr2], 
    [Extent1].[Forecast_Distribution_Yr3] AS [Forecast_Distribution_Yr3], 
    [Extent1].[Earnings_Growth_Compounded] AS [Earnings_Growth_Compounded], 
    [Extent1].[Earnings_Forecast_Yr3] AS [Earnings_Forecast_Yr3], 
    [Extent1].[Historic_Dividend_Yield_FYE] AS [Historic_Dividend_Yield_FYE], 
    [Extent1].[Forward_Dividend_Yield_FYE] AS [Forward_Dividend_Yield_FYE], 
    [Extent1].[Yr3_Forward_Dividend_Yield] AS [Yr3_Forward_Dividend_Yield], 
    [Extent1].[Rolling_12M_Forward_Yield] AS [Rolling_12M_Forward_Yield], 
    [Extent1].[Historical_Earnings_FYE] AS [Historical_Earnings_FYE], 
    [Extent1].[Earnings_Forecast_Yr1] AS [Earnings_Forecast_Yr1], 
    [Extent1].[Earnings_Forecast_Yr2] AS [Earnings_Forecast_Yr2], 
    [Extent1].[Historic_Dividend_Yield_Relative] AS [Historic_Dividend_Yield_Relative], 
    [Extent1].[Rolling_12M_Historic_Distribution_PriceCurr] AS [Rolling_12M_Historic_Distribution_PriceCurr], 
    [Extent1].[Short_Term_Market_Rerate] AS [Short_Term_Market_Rerate], 
    [Extent1].[Forecast_12M_Total_Return] AS [Forecast_12M_Total_Return], 
    [Extent1].[Clean_Price] AS [Clean_Price], 
    [Extent1].[Rolling_Dividend_Yield_Historic] AS [Rolling_Dividend_Yield_Historic], 
    [Extent1].[Last_Update_Date] AS [Last_Update_Date], 
    [Extent1].[Last_Update_User] AS [Last_Update_User], 
    [Extent1].[Discount_Security_ID] AS [Discount_Security_ID], 
    [Extent1].[Net_Present_Value] AS [Net_Present_Value], 
    [Extent1].[Forecast_Rolling_Custom_Income] AS [Forecast_Rolling_Custom_Income], 
    [Extent1].[Custom_Period] AS [Custom_Period], 
    [Extent1].[Rolling_12M_Historic_Distribution] AS [Rolling_12M_Historic_Distribution], 
    [Extent1].[Record_Date] AS [Record_Date], 
    [Extent1].[Session_ID] AS [Session_ID], 
    [Extent1].[Hist_Last_Update_Date] AS [Hist_Last_Update_Date], 
    [Extent1].[Hist_Last_Update_User] AS [Hist_Last_Update_User], 
    [Extent1].[Rolling_12M_Forecast_Distribution] AS [Rolling_12M_Forecast_Distribution], 
    [Extent1].[Yr2_Forward_Dividend_Yield] AS [Yr2_Forward_Dividend_Yield], 
    [Extent1].[Exit_Yield] AS [Exit_Yield], 
    [Extent1].[Discount_Rate] AS [Discount_Rate], 
    [Extent1].[Distribution_Growth_Compounded] AS [Distribution_Growth_Compounded], 
    [Extent1].[Forecast_12MRolling_Income_Accrual] AS [Forecast_12MRolling_Income_Accrual], 
    [Extent1].[Rolling_12_to_24M_Forecast_Distribution] AS [Rolling_12_to_24M_Forecast_Distribution], 
    [Extent1].[Rolling_24_to_36M_Forecast_Distribution] AS [Rolling_24_to_36M_Forecast_Distribution], 
    [Extent1].[Forecast_Yr1_Dividend_Yield_Relative] AS [Forecast_Yr1_Dividend_Yield_Relative], 
    [Extent1].[Market_Historic_Yield] AS [Market_Historic_Yield], 
    [Extent1].[Market_Forward_Yield] AS [Market_Forward_Yield], 
    [Extent1].[Historic_Distribution_PriceCurr] AS [Historic_Distribution_PriceCurr], 
    [Extent1].[Forecast_Distribution_Yr1_PriceCurr] AS [Forecast_Distribution_Yr1_PriceCurr], 
    [Extent1].[Forecast_Distribution_Yr2_PriceCurr] AS [Forecast_Distribution_Yr2_PriceCurr], 
    [Extent1].[Forecast_Distribution_Yr3_PriceCurr] AS [Forecast_Distribution_Yr3_PriceCurr], 
    [Extent1].[Rolling_12M_Forecast_Distribution_PriceCurr] AS [Rolling_12M_Forecast_Distribution_PriceCurr], 
    [Extent1].[Rolling_12_24M_Forecast_Distribution_PriceCurr] AS [Rolling_12_24M_Forecast_Distribution_PriceCurr], 
    [Extent1].[Rolling_24_36M_Forecast_Distribution_PriceCurr] AS [Rolling_24_36M_Forecast_Distribution_PriceCurr], 
    [Extent1].[Distribution_Growth_Forecast_Yr4] AS [Distribution_Growth_Forecast_Yr4], 
    [Extent1].[Earnings_Forecast_Yr4] AS [Earnings_Forecast_Yr4], 
    [Extent1].[Forecast_Distribution_Yr4] AS [Forecast_Distribution_Yr4], 
    [Extent1].[Forecast_Distribution_Yr4_PriceCurr] AS [Forecast_Distribution_Yr4_PriceCurr]
    FROM [dbo].[Security_Analytics_History] AS [Extent1]
    WHERE ([Extent1].[Security_ID] = @p__linq__0) AND ([Extent1].[Record_Date] = @p__linq__1) AND ([Extent1].[Entity_ID] = @p__linq__2)
2018-04-07 17:08:59.0883|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: SELECT 
    [Extent1].[Entity_ID] AS [Entity_ID], 
    [Extent1].[Security_ID] AS [Security_ID], 
    [Extent1].[Issued_Amount] AS [Issued_Amount], 
    [Extent1].[Market_Capitalisation] AS [Market_Capitalisation], 
    [Extent1].[Risk_Premium] AS [Risk_Premium], 
    [Extent1].[Exit_Price] AS [Exit_Price], 
    [Extent1].[Total_Return_ME_1YR] AS [Total_Return_ME_1YR], 
    [Extent1].[Total_Return_ME_2YR] AS [Total_Return_ME_2YR], 
    [Extent1].[Total_Return_ME_3YR] AS [Total_Return_ME_3YR], 
    [Extent1].[Historic_Distribution] AS [Historic_Distribution], 
    [Extent1].[Distribution_Growth_Forecast_Yr1] AS [Distribution_Growth_Forecast_Yr1], 
    [Extent1].[Distribution_Growth_Forecast_Yr2] AS [Distribution_Growth_Forecast_Yr2], 
    [Extent1].[Distribution_Growth_Forecast_Yr3] AS [Distribution_Growth_Forecast_Yr3], 
    [Extent1].[Forecast_Distribution_Yr1] AS [Forecast_Distribution_Yr1], 
    [Extent1].[Forecast_Distribution_Yr2] AS [Forecast_Distribution_Yr2], 
    [Extent1].[Forecast_Distribution_Yr3] AS [Forecast_Distribution_Yr3], 
    [Extent1].[Earnings_Growth_Compounded] AS [Earnings_Growth_Compounded], 
    [Extent1].[Earnings_Forecast_Yr3] AS [Earnings_Forecast_Yr3], 
    [Extent1].[Historic_Dividend_Yield_FYE] AS [Historic_Dividend_Yield_FYE], 
    [Extent1].[Forward_Dividend_Yield_FYE] AS [Forward_Dividend_Yield_FYE], 
    [Extent1].[Yr3_Forward_Dividend_Yield] AS [Yr3_Forward_Dividend_Yield], 
    [Extent1].[Rolling_12M_Forward_Yield] AS [Rolling_12M_Forward_Yield], 
    [Extent1].[Historical_Earnings_FYE] AS [Historical_Earnings_FYE], 
    [Extent1].[Earnings_Forecast_Yr1] AS [Earnings_Forecast_Yr1], 
    [Extent1].[Earnings_Forecast_Yr2] AS [Earnings_Forecast_Yr2], 
    [Extent1].[Historic_Dividend_Yield_Relative] AS [Historic_Dividend_Yield_Relative], 
    [Extent1].[Rolling_12M_Historic_Distribution_PriceCurr] AS [Rolling_12M_Historic_Distribution_PriceCurr], 
    [Extent1].[Short_Term_Market_Rerate] AS [Short_Term_Market_Rerate], 
    [Extent1].[Forecast_12M_Total_Return] AS [Forecast_12M_Total_Return], 
    [Extent1].[Clean_Price] AS [Clean_Price], 
    [Extent1].[Rolling_Dividend_Yield_Historic] AS [Rolling_Dividend_Yield_Historic], 
    [Extent1].[Last_Update_Date] AS [Last_Update_Date], 
    [Extent1].[Last_Update_User] AS [Last_Update_User], 
    [Extent1].[Discount_Security_ID] AS [Discount_Security_ID], 
    [Extent1].[Net_Present_Value] AS [Net_Present_Value], 
    [Extent1].[Forecast_Rolling_Custom_Income] AS [Forecast_Rolling_Custom_Income], 
    [Extent1].[Custom_Period] AS [Custom_Period], 
    [Extent1].[Rolling_12M_Historic_Distribution] AS [Rolling_12M_Historic_Distribution], 
    [Extent1].[Record_Date] AS [Record_Date], 
    [Extent1].[Session_ID] AS [Session_ID], 
    [Extent1].[Hist_Last_Update_Date] AS [Hist_Last_Update_Date], 
    [Extent1].[Hist_Last_Update_User] AS [Hist_Last_Update_User], 
    [Extent1].[Rolling_12M_Forecast_Distribution] AS [Rolling_12M_Forecast_Distribution], 
    [Extent1].[Yr2_Forward_Dividend_Yield] AS [Yr2_Forward_Dividend_Yield], 
    [Extent1].[Exit_Yield] AS [Exit_Yield], 
    [Extent1].[Discount_Rate] AS [Discount_Rate], 
    [Extent1].[Distribution_Growth_Compounded] AS [Distribution_Growth_Compounded], 
    [Extent1].[Forecast_12MRolling_Income_Accrual] AS [Forecast_12MRolling_Income_Accrual], 
    [Extent1].[Rolling_12_to_24M_Forecast_Distribution] AS [Rolling_12_to_24M_Forecast_Distribution], 
    [Extent1].[Rolling_24_to_36M_Forecast_Distribution] AS [Rolling_24_to_36M_Forecast_Distribution], 
    [Extent1].[Forecast_Yr1_Dividend_Yield_Relative] AS [Forecast_Yr1_Dividend_Yield_Relative], 
    [Extent1].[Market_Historic_Yield] AS [Market_Historic_Yield], 
    [Extent1].[Market_Forward_Yield] AS [Market_Forward_Yield], 
    [Extent1].[Historic_Distribution_PriceCurr] AS [Historic_Distribution_PriceCurr], 
    [Extent1].[Forecast_Distribution_Yr1_PriceCurr] AS [Forecast_Distribution_Yr1_PriceCurr], 
    [Extent1].[Forecast_Distribution_Yr2_PriceCurr] AS [Forecast_Distribution_Yr2_PriceCurr], 
    [Extent1].[Forecast_Distribution_Yr3_PriceCurr] AS [Forecast_Distribution_Yr3_PriceCurr], 
    [Extent1].[Rolling_12M_Forecast_Distribution_PriceCurr] AS [Rolling_12M_Forecast_Distribution_PriceCurr], 
    [Extent1].[Rolling_12_24M_Forecast_Distribution_PriceCurr] AS [Rolling_12_24M_Forecast_Distribution_PriceCurr], 
    [Extent1].[Rolling_24_36M_Forecast_Distribution_PriceCurr] AS [Rolling_24_36M_Forecast_Distribution_PriceCurr], 
    [Extent1].[Distribution_Growth_Forecast_Yr4] AS [Distribution_Growth_Forecast_Yr4], 
    [Extent1].[Earnings_Forecast_Yr4] AS [Earnings_Forecast_Yr4], 
    [Extent1].[Forecast_Distribution_Yr4] AS [Forecast_Distribution_Yr4], 
    [Extent1].[Forecast_Distribution_Yr4_PriceCurr] AS [Forecast_Distribution_Yr4_PriceCurr]
    FROM [dbo].[Security_Analytics_History] AS [Extent1]
    WHERE ([Extent1].[Security_ID] = @p__linq__0) AND ([Extent1].[Record_Date] = @p__linq__1) AND ([Extent1].[Entity_ID] = @p__linq__2)
2018-04-07 17:08:59.1288|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: SELECT 
    [Extent1].[Security_ID] AS [Security_ID], 
    [Extent1].[Entity_ID] AS [Entity_ID], 
    [Extent1].[Security_Name] AS [Security_Name], 
    [Extent1].[Short_Name] AS [Short_Name], 
    [Extent1].[Primary_Exch] AS [Primary_Exch], 
    [Extent1].[Secondary_Exch] AS [Secondary_Exch], 
    [Extent1].[Country_Of_Domicile] AS [Country_Of_Domicile], 
    [Extent1].[Country_Of_Risk] AS [Country_Of_Risk], 
    [Extent1].[Security_Type_Code] AS [Security_Type_Code], 
    [Extent1].[Price_Multiplier] AS [Price_Multiplier], 
    [Extent1].[Income_Frequency] AS [Income_Frequency], 
    [Extent1].[Issuer_Code] AS [Issuer_Code], 
    [Extent1].[Ultimate_Issuer_Code] AS [Ultimate_Issuer_Code], 
    [Extent1].[Asset_Currency] AS [Asset_Currency], 
    [Extent1].[Min_Lot_Size] AS [Min_Lot_Size], 
    [Extent1].[Decimal_Precision] AS [Decimal_Precision], 
    [Extent1].[AvePrice_Rounding] AS [AvePrice_Rounding], 
    [Extent1].[Issue_Date] AS [Issue_Date], 
    [Extent1].[Maturity_Date] AS [Maturity_Date], 
    [Extent1].[Coupon_Rate] AS [Coupon_Rate], 
    [Extent1].[Price_Exchange] AS [Price_Exchange], 
    [Extent1].[Trade_Currency] AS [Trade_Currency], 
    [Extent1].[Price_Curr] AS [Price_Curr], 
    [Extent1].[Currency_Pair_Code] AS [Currency_Pair_Code], 
    [Extent1].[Share_Class] AS [Share_Class], 
    [Extent1].[Current_Market_Price] AS [Current_Market_Price], 
    [Extent1].[Index_Type] AS [Index_Type], 
    [Extent1].[Clean_Price_Formula] AS [Clean_Price_Formula], 
    [Extent1].[Accrued_Income_Price_Formula] AS [Accrued_Income_Price_Formula], 
    [Extent1].[Odd_First_Coupon_Date] AS [Odd_First_Coupon_Date], 
    [Extent1].[Odd_Last_Coupon_Date] AS [Odd_Last_Coupon_Date], 
    [Extent1].[Coupon_Anniversary_Indicator] AS [Coupon_Anniversary_Indicator], 
    [Extent1].[Track_EOM_Flag] AS [Track_EOM_Flag], 
    [Extent1].[Next_Coupon_Date] AS [Next_Coupon_Date], 
    [Extent1].[Previous_Coupon_Date] AS [Previous_Coupon_Date], 
    [Extent1].[Payment_Frequency] AS [Payment_Frequency], 
    [Extent1].[Coupon_BusDay_Adjustment] AS [Coupon_BusDay_Adjustment], 
    [Extent1].[Next_Ex_Div_Date] AS [Next_Ex_Div_Date], 
    [Extent1].[Ex_Div_BusDay_Adjustment] AS [Ex_Div_BusDay_Adjustment], 
    [Extent1].[Ex_Div_Period] AS [Ex_Div_Period], 
    [Extent1].[Ticker] AS [Ticker], 
    [Extent1].[Inet_ID] AS [Inet_ID], 
    [Extent1].[Bloomberg_ID] AS [Bloomberg_ID], 
    [Extent1].[External_Sec_ID] AS [External_Sec_ID], 
    [Extent1].[Reuters_ID] AS [Reuters_ID], 
    [Extent1].[ISIN] AS [ISIN], 
    [Extent1].[Call_Account_Flag] AS [Call_Account_Flag], 
    [Extent1].[System_Locked] AS [System_Locked], 
    [Extent1].[Last_Update_User] AS [Last_Update_User], 
    [Extent1].[Last_Update_Date] AS [Last_Update_Date], 
    [Extent1].[Security_Status] AS [Security_Status], 
    [Extent1].[Benchmark_Portfolio] AS [Benchmark_Portfolio], 
    [Extent1].[Active_flag] AS [Active_flag], 
    [Extent1].[Dividend_FX_Security_ID] AS [Dividend_FX_Security_ID]
    FROM [dbo].[Security_Detail] AS [Extent1]
    WHERE [Extent1].[Security_ID] = @EntityKeyValue1
2018-04-07 17:08:59.2009|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: SELECT 
    [Extent1].[Security_ID] AS [Security_ID], 
    [Extent1].[Entity_ID] AS [Entity_ID], 
    [Extent1].[Security_Name] AS [Security_Name], 
    [Extent1].[Short_Name] AS [Short_Name], 
    [Extent1].[Primary_Exch] AS [Primary_Exch], 
    [Extent1].[Secondary_Exch] AS [Secondary_Exch], 
    [Extent1].[Country_Of_Domicile] AS [Country_Of_Domicile], 
    [Extent1].[Country_Of_Risk] AS [Country_Of_Risk], 
    [Extent1].[Security_Type_Code] AS [Security_Type_Code], 
    [Extent1].[Price_Multiplier] AS [Price_Multiplier], 
    [Extent1].[Income_Frequency] AS [Income_Frequency], 
    [Extent1].[Issuer_Code] AS [Issuer_Code], 
    [Extent1].[Ultimate_Issuer_Code] AS [Ultimate_Issuer_Code], 
    [Extent1].[Asset_Currency] AS [Asset_Currency], 
    [Extent1].[Min_Lot_Size] AS [Min_Lot_Size], 
    [Extent1].[Decimal_Precision] AS [Decimal_Precision], 
    [Extent1].[AvePrice_Rounding] AS [AvePrice_Rounding], 
    [Extent1].[Issue_Date] AS [Issue_Date], 
    [Extent1].[Maturity_Date] AS [Maturity_Date], 
    [Extent1].[Coupon_Rate] AS [Coupon_Rate], 
    [Extent1].[Price_Exchange] AS [Price_Exchange], 
    [Extent1].[Trade_Currency] AS [Trade_Currency], 
    [Extent1].[Price_Curr] AS [Price_Curr], 
    [Extent1].[Currency_Pair_Code] AS [Currency_Pair_Code], 
    [Extent1].[Share_Class] AS [Share_Class], 
    [Extent1].[Current_Market_Price] AS [Current_Market_Price], 
    [Extent1].[Index_Type] AS [Index_Type], 
    [Extent1].[Clean_Price_Formula] AS [Clean_Price_Formula], 
    [Extent1].[Accrued_Income_Price_Formula] AS [Accrued_Income_Price_Formula], 
    [Extent1].[Odd_First_Coupon_Date] AS [Odd_First_Coupon_Date], 
    [Extent1].[Odd_Last_Coupon_Date] AS [Odd_Last_Coupon_Date], 
    [Extent1].[Coupon_Anniversary_Indicator] AS [Coupon_Anniversary_Indicator], 
    [Extent1].[Track_EOM_Flag] AS [Track_EOM_Flag], 
    [Extent1].[Next_Coupon_Date] AS [Next_Coupon_Date], 
    [Extent1].[Previous_Coupon_Date] AS [Previous_Coupon_Date], 
    [Extent1].[Payment_Frequency] AS [Payment_Frequency], 
    [Extent1].[Coupon_BusDay_Adjustment] AS [Coupon_BusDay_Adjustment], 
    [Extent1].[Next_Ex_Div_Date] AS [Next_Ex_Div_Date], 
    [Extent1].[Ex_Div_BusDay_Adjustment] AS [Ex_Div_BusDay_Adjustment], 
    [Extent1].[Ex_Div_Period] AS [Ex_Div_Period], 
    [Extent1].[Ticker] AS [Ticker], 
    [Extent1].[Inet_ID] AS [Inet_ID], 
    [Extent1].[Bloomberg_ID] AS [Bloomberg_ID], 
    [Extent1].[External_Sec_ID] AS [External_Sec_ID], 
    [Extent1].[Reuters_ID] AS [Reuters_ID], 
    [Extent1].[ISIN] AS [ISIN], 
    [Extent1].[Call_Account_Flag] AS [Call_Account_Flag], 
    [Extent1].[System_Locked] AS [System_Locked], 
    [Extent1].[Last_Update_User] AS [Last_Update_User], 
    [Extent1].[Last_Update_Date] AS [Last_Update_Date], 
    [Extent1].[Security_Status] AS [Security_Status], 
    [Extent1].[Benchmark_Portfolio] AS [Benchmark_Portfolio], 
    [Extent1].[Active_flag] AS [Active_flag], 
    [Extent1].[Dividend_FX_Security_ID] AS [Dividend_FX_Security_ID]
    FROM [dbo].[Security_Detail] AS [Extent1]
    WHERE [Extent1].[Security_ID] = @EntityKeyValue1
2018-04-07 17:08:59.3060|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: SELECT 
    [Project1].[Security_ID] AS [Security_ID], 
    [Project1].[Entity_ID] AS [Entity_ID], 
    [Project1].[Security_Name] AS [Security_Name], 
    [Project1].[Short_Name] AS [Short_Name], 
    [Project1].[Primary_Exch] AS [Primary_Exch], 
    [Project1].[Secondary_Exch] AS [Secondary_Exch], 
    [Project1].[Country_Of_Domicile] AS [Country_Of_Domicile], 
    [Project1].[Country_Of_Risk] AS [Country_Of_Risk], 
    [Project1].[Security_Type_Code] AS [Security_Type_Code], 
    [Project1].[Price_Multiplier] AS [Price_Multiplier], 
    [Project1].[Income_Frequency] AS [Income_Frequency], 
    [Project1].[Issuer_Code] AS [Issuer_Code], 
    [Project1].[Ultimate_Issuer_Code] AS [Ultimate_Issuer_Code], 
    [Project1].[Asset_Currency] AS [Asset_Currency], 
    [Project1].[Min_Lot_Size] AS [Min_Lot_Size], 
    [Project1].[Decimal_Precision] AS [Decimal_Precision], 
    [Project1].[AvePrice_Rounding] AS [AvePrice_Rounding], 
    [Project1].[Issue_Date] AS [Issue_Date], 
    [Project1].[Maturity_Date] AS [Maturity_Date], 
    [Project1].[Coupon_Rate] AS [Coupon_Rate], 
    [Project1].[Price_Exchange] AS [Price_Exchange], 
    [Project1].[Trade_Currency] AS [Trade_Currency], 
    [Project1].[Price_Curr] AS [Price_Curr], 
    [Project1].[Currency_Pair_Code] AS [Currency_Pair_Code], 
    [Project1].[Share_Class] AS [Share_Class], 
    [Project1].[Current_Market_Price] AS [Current_Market_Price], 
    [Project1].[Index_Type] AS [Index_Type], 
    [Project1].[Clean_Price_Formula] AS [Clean_Price_Formula], 
    [Project1].[Accrued_Income_Price_Formula] AS [Accrued_Income_Price_Formula], 
    [Project1].[Odd_First_Coupon_Date] AS [Odd_First_Coupon_Date], 
    [Project1].[Odd_Last_Coupon_Date] AS [Odd_Last_Coupon_Date], 
    [Project1].[Coupon_Anniversary_Indicator] AS [Coupon_Anniversary_Indicator], 
    [Project1].[Track_EOM_Flag] AS [Track_EOM_Flag], 
    [Project1].[Next_Coupon_Date] AS [Next_Coupon_Date], 
    [Project1].[Previous_Coupon_Date] AS [Previous_Coupon_Date], 
    [Project1].[Payment_Frequency] AS [Payment_Frequency], 
    [Project1].[Coupon_BusDay_Adjustment] AS [Coupon_BusDay_Adjustment], 
    [Project1].[Next_Ex_Div_Date] AS [Next_Ex_Div_Date], 
    [Project1].[Ex_Div_BusDay_Adjustment] AS [Ex_Div_BusDay_Adjustment], 
    [Project1].[Ex_Div_Period] AS [Ex_Div_Period], 
    [Project1].[Ticker] AS [Ticker], 
    [Project1].[Inet_ID] AS [Inet_ID], 
    [Project1].[Bloomberg_ID] AS [Bloomberg_ID], 
    [Project1].[External_Sec_ID] AS [External_Sec_ID], 
    [Project1].[Reuters_ID] AS [Reuters_ID], 
    [Project1].[ISIN] AS [ISIN], 
    [Project1].[Call_Account_Flag] AS [Call_Account_Flag], 
    [Project1].[System_Locked] AS [System_Locked], 
    [Project1].[Last_Update_User] AS [Last_Update_User], 
    [Project1].[Last_Update_Date] AS [Last_Update_Date], 
    [Project1].[Security_Status] AS [Security_Status], 
    [Project1].[Benchmark_Portfolio] AS [Benchmark_Portfolio], 
    [Project1].[Active_flag] AS [Active_flag], 
    [Project1].[Dividend_FX_Security_ID] AS [Dividend_FX_Security_ID]
    FROM ( SELECT 
        [Extent1].[Security_ID] AS [Security_ID], 
        [Extent1].[Entity_ID] AS [Entity_ID], 
        [Extent1].[Security_Name] AS [Security_Name], 
        [Extent1].[Short_Name] AS [Short_Name], 
        [Extent1].[Primary_Exch] AS [Primary_Exch], 
        [Extent1].[Secondary_Exch] AS [Secondary_Exch], 
        [Extent1].[Country_Of_Domicile] AS [Country_Of_Domicile], 
        [Extent1].[Country_Of_Risk] AS [Country_Of_Risk], 
        [Extent1].[Security_Type_Code] AS [Security_Type_Code], 
        [Extent1].[Price_Multiplier] AS [Price_Multiplier], 
        [Extent1].[Income_Frequency] AS [Income_Frequency], 
        [Extent1].[Issuer_Code] AS [Issuer_Code], 
        [Extent1].[Ultimate_Issuer_Code] AS [Ultimate_Issuer_Code], 
        [Extent1].[Asset_Currency] AS [Asset_Currency], 
        [Extent1].[Min_Lot_Size] AS [Min_Lot_Size], 
        [Extent1].[Decimal_Precision] AS [Decimal_Precision], 
        [Extent1].[AvePrice_Rounding] AS [AvePrice_Rounding], 
        [Extent1].[Issue_Date] AS [Issue_Date], 
        [Extent1].[Maturity_Date] AS [Maturity_Date], 
        [Extent1].[Coupon_Rate] AS [Coupon_Rate], 
        [Extent1].[Price_Exchange] AS [Price_Exchange], 
        [Extent1].[Trade_Currency] AS [Trade_Currency], 
        [Extent1].[Price_Curr] AS [Price_Curr], 
        [Extent1].[Currency_Pair_Code] AS [Currency_Pair_Code], 
        [Extent1].[Share_Class] AS [Share_Class], 
        [Extent1].[Current_Market_Price] AS [Current_Market_Price], 
        [Extent1].[Index_Type] AS [Index_Type], 
        [Extent1].[Clean_Price_Formula] AS [Clean_Price_Formula], 
        [Extent1].[Accrued_Income_Price_Formula] AS [Accrued_Income_Price_Formula], 
        [Extent1].[Odd_First_Coupon_Date] AS [Odd_First_Coupon_Date], 
        [Extent1].[Odd_Last_Coupon_Date] AS [Odd_Last_Coupon_Date], 
        [Extent1].[Coupon_Anniversary_Indicator] AS [Coupon_Anniversary_Indicator], 
        [Extent1].[Track_EOM_Flag] AS [Track_EOM_Flag], 
        [Extent1].[Next_Coupon_Date] AS [Next_Coupon_Date], 
        [Extent1].[Previous_Coupon_Date] AS [Previous_Coupon_Date], 
        [Extent1].[Payment_Frequency] AS [Payment_Frequency], 
        [Extent1].[Coupon_BusDay_Adjustment] AS [Coupon_BusDay_Adjustment], 
        [Extent1].[Next_Ex_Div_Date] AS [Next_Ex_Div_Date], 
        [Extent1].[Ex_Div_BusDay_Adjustment] AS [Ex_Div_BusDay_Adjustment], 
        [Extent1].[Ex_Div_Period] AS [Ex_Div_Period], 
        [Extent1].[Ticker] AS [Ticker], 
        [Extent1].[Inet_ID] AS [Inet_ID], 
        [Extent1].[Bloomberg_ID] AS [Bloomberg_ID], 
        [Extent1].[External_Sec_ID] AS [External_Sec_ID], 
        [Extent1].[Reuters_ID] AS [Reuters_ID], 
        [Extent1].[ISIN] AS [ISIN], 
        [Extent1].[Call_Account_Flag] AS [Call_Account_Flag], 
        [Extent1].[System_Locked] AS [System_Locked], 
        [Extent1].[Last_Update_User] AS [Last_Update_User], 
        [Extent1].[Last_Update_Date] AS [Last_Update_Date], 
        [Extent1].[Security_Status] AS [Security_Status], 
        [Extent1].[Benchmark_Portfolio] AS [Benchmark_Portfolio], 
        [Extent1].[Active_flag] AS [Active_flag], 
        [Extent1].[Dividend_FX_Security_ID] AS [Dividend_FX_Security_ID]
        FROM [dbo].[Security_Detail] AS [Extent1]
        WHERE ([Extent1].[Entity_ID] IN (@p__linq__0,@p__linq__1)) AND ((CASE WHEN ( NOT ((N'' = @p__linq__2) AND (@p__linq__2 IS NOT NULL))) THEN CASE WHEN ([Extent1].[Security_Type_Code] = @p__linq__3) THEN cast(1 as bit) WHEN ( NOT (([Extent1].[Security_Type_Code] = @p__linq__3) AND (0 = (CASE WHEN (@p__linq__3 IS NULL) THEN cast(1 as bit) ELSE cast(0 as bit) END)))) THEN cast(0 as bit) END WHEN ('' <> [Extent1].[Security_Type_Code]) THEN cast(1 as bit) WHEN ('' = [Extent1].[Security_Type_Code]) THEN cast(0 as bit) END) = 1)
    )  AS [Project1]
    ORDER BY [Project1].[Security_Name] ASC
2018-04-07 17:08:59.3580|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: SELECT 
    [Project1].[Security_ID] AS [Security_ID], 
    [Project1].[Entity_ID] AS [Entity_ID], 
    [Project1].[Security_Name] AS [Security_Name], 
    [Project1].[Short_Name] AS [Short_Name], 
    [Project1].[Primary_Exch] AS [Primary_Exch], 
    [Project1].[Secondary_Exch] AS [Secondary_Exch], 
    [Project1].[Country_Of_Domicile] AS [Country_Of_Domicile], 
    [Project1].[Country_Of_Risk] AS [Country_Of_Risk], 
    [Project1].[Security_Type_Code] AS [Security_Type_Code], 
    [Project1].[Price_Multiplier] AS [Price_Multiplier], 
    [Project1].[Income_Frequency] AS [Income_Frequency], 
    [Project1].[Issuer_Code] AS [Issuer_Code], 
    [Project1].[Ultimate_Issuer_Code] AS [Ultimate_Issuer_Code], 
    [Project1].[Asset_Currency] AS [Asset_Currency], 
    [Project1].[Min_Lot_Size] AS [Min_Lot_Size], 
    [Project1].[Decimal_Precision] AS [Decimal_Precision], 
    [Project1].[AvePrice_Rounding] AS [AvePrice_Rounding], 
    [Project1].[Issue_Date] AS [Issue_Date], 
    [Project1].[Maturity_Date] AS [Maturity_Date], 
    [Project1].[Coupon_Rate] AS [Coupon_Rate], 
    [Project1].[Price_Exchange] AS [Price_Exchange], 
    [Project1].[Trade_Currency] AS [Trade_Currency], 
    [Project1].[Price_Curr] AS [Price_Curr], 
    [Project1].[Currency_Pair_Code] AS [Currency_Pair_Code], 
    [Project1].[Share_Class] AS [Share_Class], 
    [Project1].[Current_Market_Price] AS [Current_Market_Price], 
    [Project1].[Index_Type] AS [Index_Type], 
    [Project1].[Clean_Price_Formula] AS [Clean_Price_Formula], 
    [Project1].[Accrued_Income_Price_Formula] AS [Accrued_Income_Price_Formula], 
    [Project1].[Odd_First_Coupon_Date] AS [Odd_First_Coupon_Date], 
    [Project1].[Odd_Last_Coupon_Date] AS [Odd_Last_Coupon_Date], 
    [Project1].[Coupon_Anniversary_Indicator] AS [Coupon_Anniversary_Indicator], 
    [Project1].[Track_EOM_Flag] AS [Track_EOM_Flag], 
    [Project1].[Next_Coupon_Date] AS [Next_Coupon_Date], 
    [Project1].[Previous_Coupon_Date] AS [Previous_Coupon_Date], 
    [Project1].[Payment_Frequency] AS [Payment_Frequency], 
    [Project1].[Coupon_BusDay_Adjustment] AS [Coupon_BusDay_Adjustment], 
    [Project1].[Next_Ex_Div_Date] AS [Next_Ex_Div_Date], 
    [Project1].[Ex_Div_BusDay_Adjustment] AS [Ex_Div_BusDay_Adjustment], 
    [Project1].[Ex_Div_Period] AS [Ex_Div_Period], 
    [Project1].[Ticker] AS [Ticker], 
    [Project1].[Inet_ID] AS [Inet_ID], 
    [Project1].[Bloomberg_ID] AS [Bloomberg_ID], 
    [Project1].[External_Sec_ID] AS [External_Sec_ID], 
    [Project1].[Reuters_ID] AS [Reuters_ID], 
    [Project1].[ISIN] AS [ISIN], 
    [Project1].[Call_Account_Flag] AS [Call_Account_Flag], 
    [Project1].[System_Locked] AS [System_Locked], 
    [Project1].[Last_Update_User] AS [Last_Update_User], 
    [Project1].[Last_Update_Date] AS [Last_Update_Date], 
    [Project1].[Security_Status] AS [Security_Status], 
    [Project1].[Benchmark_Portfolio] AS [Benchmark_Portfolio], 
    [Project1].[Active_flag] AS [Active_flag], 
    [Project1].[Dividend_FX_Security_ID] AS [Dividend_FX_Security_ID]
    FROM ( SELECT 
        [Extent1].[Security_ID] AS [Security_ID], 
        [Extent1].[Entity_ID] AS [Entity_ID], 
        [Extent1].[Security_Name] AS [Security_Name], 
        [Extent1].[Short_Name] AS [Short_Name], 
        [Extent1].[Primary_Exch] AS [Primary_Exch], 
        [Extent1].[Secondary_Exch] AS [Secondary_Exch], 
        [Extent1].[Country_Of_Domicile] AS [Country_Of_Domicile], 
        [Extent1].[Country_Of_Risk] AS [Country_Of_Risk], 
        [Extent1].[Security_Type_Code] AS [Security_Type_Code], 
        [Extent1].[Price_Multiplier] AS [Price_Multiplier], 
        [Extent1].[Income_Frequency] AS [Income_Frequency], 
        [Extent1].[Issuer_Code] AS [Issuer_Code], 
        [Extent1].[Ultimate_Issuer_Code] AS [Ultimate_Issuer_Code], 
        [Extent1].[Asset_Currency] AS [Asset_Currency], 
        [Extent1].[Min_Lot_Size] AS [Min_Lot_Size], 
        [Extent1].[Decimal_Precision] AS [Decimal_Precision], 
        [Extent1].[AvePrice_Rounding] AS [AvePrice_Rounding], 
        [Extent1].[Issue_Date] AS [Issue_Date], 
        [Extent1].[Maturity_Date] AS [Maturity_Date], 
        [Extent1].[Coupon_Rate] AS [Coupon_Rate], 
        [Extent1].[Price_Exchange] AS [Price_Exchange], 
        [Extent1].[Trade_Currency] AS [Trade_Currency], 
        [Extent1].[Price_Curr] AS [Price_Curr], 
        [Extent1].[Currency_Pair_Code] AS [Currency_Pair_Code], 
        [Extent1].[Share_Class] AS [Share_Class], 
        [Extent1].[Current_Market_Price] AS [Current_Market_Price], 
        [Extent1].[Index_Type] AS [Index_Type], 
        [Extent1].[Clean_Price_Formula] AS [Clean_Price_Formula], 
        [Extent1].[Accrued_Income_Price_Formula] AS [Accrued_Income_Price_Formula], 
        [Extent1].[Odd_First_Coupon_Date] AS [Odd_First_Coupon_Date], 
        [Extent1].[Odd_Last_Coupon_Date] AS [Odd_Last_Coupon_Date], 
        [Extent1].[Coupon_Anniversary_Indicator] AS [Coupon_Anniversary_Indicator], 
        [Extent1].[Track_EOM_Flag] AS [Track_EOM_Flag], 
        [Extent1].[Next_Coupon_Date] AS [Next_Coupon_Date], 
        [Extent1].[Previous_Coupon_Date] AS [Previous_Coupon_Date], 
        [Extent1].[Payment_Frequency] AS [Payment_Frequency], 
        [Extent1].[Coupon_BusDay_Adjustment] AS [Coupon_BusDay_Adjustment], 
        [Extent1].[Next_Ex_Div_Date] AS [Next_Ex_Div_Date], 
        [Extent1].[Ex_Div_BusDay_Adjustment] AS [Ex_Div_BusDay_Adjustment], 
        [Extent1].[Ex_Div_Period] AS [Ex_Div_Period], 
        [Extent1].[Ticker] AS [Ticker], 
        [Extent1].[Inet_ID] AS [Inet_ID], 
        [Extent1].[Bloomberg_ID] AS [Bloomberg_ID], 
        [Extent1].[External_Sec_ID] AS [External_Sec_ID], 
        [Extent1].[Reuters_ID] AS [Reuters_ID], 
        [Extent1].[ISIN] AS [ISIN], 
        [Extent1].[Call_Account_Flag] AS [Call_Account_Flag], 
        [Extent1].[System_Locked] AS [System_Locked], 
        [Extent1].[Last_Update_User] AS [Last_Update_User], 
        [Extent1].[Last_Update_Date] AS [Last_Update_Date], 
        [Extent1].[Security_Status] AS [Security_Status], 
        [Extent1].[Benchmark_Portfolio] AS [Benchmark_Portfolio], 
        [Extent1].[Active_flag] AS [Active_flag], 
        [Extent1].[Dividend_FX_Security_ID] AS [Dividend_FX_Security_ID]
        FROM [dbo].[Security_Detail] AS [Extent1]
        WHERE ([Extent1].[Entity_ID] IN (@p__linq__0,@p__linq__1)) AND ((CASE WHEN ( NOT ((N'' = @p__linq__2) AND (@p__linq__2 IS NOT NULL))) THEN CASE WHEN ([Extent1].[Security_Type_Code] = @p__linq__3) THEN cast(1 as bit) WHEN ( NOT (([Extent1].[Security_Type_Code] = @p__linq__3) AND (0 = (CASE WHEN (@p__linq__3 IS NULL) THEN cast(1 as bit) ELSE cast(0 as bit) END)))) THEN cast(0 as bit) END WHEN ('' <> [Extent1].[Security_Type_Code]) THEN cast(1 as bit) WHEN ('' = [Extent1].[Security_Type_Code]) THEN cast(0 as bit) END) = 1)
    )  AS [Project1]
    ORDER BY [Project1].[Security_Name] ASC
2018-04-07 17:08:59.4511|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: IF db_id(N'MetopeAzureDb') IS NOT NULL SELECT 1 ELSE SELECT Count(*) FROM sys.databases WHERE [name]=N'MetopeAzureDb'
2018-04-07 17:08:59.5857|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: IF db_id(N'MetopeAzureDb') IS NOT NULL SELECT 1 ELSE SELECT Count(*) FROM sys.databases WHERE [name]=N'MetopeAzureDb'
2018-04-07 17:08:59.7268|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: IF db_id(N'MetopeAzureDb') IS NOT NULL SELECT 1 ELSE SELECT Count(*) FROM sys.databases WHERE [name]=N'MetopeAzureDb'
2018-04-07 17:08:59.7553|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: IF db_id(N'MetopeAzureDb') IS NOT NULL SELECT 1 ELSE SELECT Count(*) FROM sys.databases WHERE [name]=N'MetopeAzureDb'
2018-04-07 17:09:09.2782|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: SELECT 
    [Project1].[Decimal_Precision] AS [Decimal_Precision], 
    [Project1].[Entity_ID] AS [Entity_ID], 
    [Project1].[Security_ID] AS [Security_ID], 
    [Project1].[Issued_Amount] AS [Issued_Amount], 
    [Project1].[Market_Capitalisation] AS [Market_Capitalisation], 
    [Project1].[Risk_Premium] AS [Risk_Premium], 
    [Project1].[Exit_Price] AS [Exit_Price], 
    [Project1].[Total_Return_ME_1YR] AS [Total_Return_ME_1YR], 
    [Project1].[Total_Return_ME_2YR] AS [Total_Return_ME_2YR], 
    [Project1].[Total_Return_ME_3YR] AS [Total_Return_ME_3YR], 
    [Project1].[Historic_Distribution] AS [Historic_Distribution], 
    [Project1].[Distribution_Growth_Forecast_Yr1] AS [Distribution_Growth_Forecast_Yr1], 
    [Project1].[Distribution_Growth_Forecast_Yr2] AS [Distribution_Growth_Forecast_Yr2], 
    [Project1].[Distribution_Growth_Forecast_Yr3] AS [Distribution_Growth_Forecast_Yr3], 
    [Project1].[Forecast_Distribution_Yr1] AS [Forecast_Distribution_Yr1], 
    [Project1].[Forecast_Distribution_Yr2] AS [Forecast_Distribution_Yr2], 
    [Project1].[Forecast_Distribution_Yr3] AS [Forecast_Distribution_Yr3], 
    [Project1].[Earnings_Growth_Compounded] AS [Earnings_Growth_Compounded], 
    [Project1].[Earnings_Forecast_Yr3] AS [Earnings_Forecast_Yr3], 
    [Project1].[Historic_Dividend_Yield_FYE] AS [Historic_Dividend_Yield_FYE], 
    [Project1].[Forward_Dividend_Yield_FYE] AS [Forward_Dividend_Yield_FYE], 
    [Project1].[Yr3_Forward_Dividend_Yield] AS [Yr3_Forward_Dividend_Yield], 
    [Project1].[Rolling_12M_Forward_Yield] AS [Rolling_12M_Forward_Yield], 
    [Project1].[Historical_Earnings_FYE] AS [Historical_Earnings_FYE], 
    [Project1].[Earnings_Forecast_Yr1] AS [Earnings_Forecast_Yr1], 
    [Project1].[Earnings_Forecast_Yr2] AS [Earnings_Forecast_Yr2], 
    [Project1].[Historic_Dividend_Yield_Relative] AS [Historic_Dividend_Yield_Relative], 
    [Project1].[Rolling_12M_Historic_Distribution_PriceCurr] AS [Rolling_12M_Historic_Distribution_PriceCurr], 
    [Project1].[Short_Term_Market_Rerate] AS [Short_Term_Market_Rerate], 
    [Project1].[Forecast_12M_Total_Return] AS [Forecast_12M_Total_Return], 
    [Project1].[Clean_Price] AS [Clean_Price], 
    [Project1].[Rolling_Dividend_Yield_Historic] AS [Rolling_Dividend_Yield_Historic], 
    [Project1].[Last_Update_Date] AS [Last_Update_Date], 
    [Project1].[Last_Update_User] AS [Last_Update_User], 
    [Project1].[Discount_Security_ID] AS [Discount_Security_ID], 
    [Project1].[Net_Present_Value] AS [Net_Present_Value], 
    [Project1].[Forecast_Rolling_Custom_Income] AS [Forecast_Rolling_Custom_Income], 
    [Project1].[Custom_Period] AS [Custom_Period], 
    [Project1].[Rolling_12M_Historic_Distribution] AS [Rolling_12M_Historic_Distribution], 
    [Project1].[Record_Date] AS [Record_Date], 
    [Project1].[Session_ID] AS [Session_ID], 
    [Project1].[Hist_Last_Update_Date] AS [Hist_Last_Update_Date], 
    [Project1].[Hist_Last_Update_User] AS [Hist_Last_Update_User], 
    [Project1].[Rolling_12M_Forecast_Distribution] AS [Rolling_12M_Forecast_Distribution], 
    [Project1].[Yr2_Forward_Dividend_Yield] AS [Yr2_Forward_Dividend_Yield], 
    [Project1].[Exit_Yield] AS [Exit_Yield], 
    [Project1].[Discount_Rate] AS [Discount_Rate], 
    [Project1].[Distribution_Growth_Compounded] AS [Distribution_Growth_Compounded], 
    [Project1].[Forecast_12MRolling_Income_Accrual] AS [Forecast_12MRolling_Income_Accrual], 
    [Project1].[Rolling_12_to_24M_Forecast_Distribution] AS [Rolling_12_to_24M_Forecast_Distribution], 
    [Project1].[Rolling_24_to_36M_Forecast_Distribution] AS [Rolling_24_to_36M_Forecast_Distribution], 
    [Project1].[Forecast_Yr1_Dividend_Yield_Relative] AS [Forecast_Yr1_Dividend_Yield_Relative], 
    [Project1].[Market_Historic_Yield] AS [Market_Historic_Yield], 
    [Project1].[Market_Forward_Yield] AS [Market_Forward_Yield], 
    [Project1].[Historic_Distribution_PriceCurr] AS [Historic_Distribution_PriceCurr], 
    [Project1].[Forecast_Distribution_Yr1_PriceCurr] AS [Forecast_Distribution_Yr1_PriceCurr], 
    [Project1].[Forecast_Distribution_Yr2_PriceCurr] AS [Forecast_Distribution_Yr2_PriceCurr], 
    [Project1].[Forecast_Distribution_Yr3_PriceCurr] AS [Forecast_Distribution_Yr3_PriceCurr], 
    [Project1].[Rolling_12M_Forecast_Distribution_PriceCurr] AS [Rolling_12M_Forecast_Distribution_PriceCurr], 
    [Project1].[Rolling_12_24M_Forecast_Distribution_PriceCurr] AS [Rolling_12_24M_Forecast_Distribution_PriceCurr], 
    [Project1].[Rolling_24_36M_Forecast_Distribution_PriceCurr] AS [Rolling_24_36M_Forecast_Distribution_PriceCurr], 
    [Project1].[Distribution_Growth_Forecast_Yr4] AS [Distribution_Growth_Forecast_Yr4], 
    [Project1].[Earnings_Forecast_Yr4] AS [Earnings_Forecast_Yr4], 
    [Project1].[Forecast_Distribution_Yr4] AS [Forecast_Distribution_Yr4], 
    [Project1].[Forecast_Distribution_Yr4_PriceCurr] AS [Forecast_Distribution_Yr4_PriceCurr], 
    [Project1].[Security_ID1] AS [Security_ID1], 
    [Project1].[Entity_ID1] AS [Entity_ID1], 
    [Project1].[Security_Name] AS [Security_Name], 
    [Project1].[Short_Name] AS [Short_Name], 
    [Project1].[Primary_Exch] AS [Primary_Exch], 
    [Project1].[Secondary_Exch] AS [Secondary_Exch], 
    [Project1].[Country_Of_Domicile] AS [Country_Of_Domicile], 
    [Project1].[Country_Of_Risk] AS [Country_Of_Risk], 
    [Project1].[Security_Type_Code] AS [Security_Type_Code], 
    [Project1].[Price_Multiplier] AS [Price_Multiplier], 
    [Project1].[Income_Frequency] AS [Income_Frequency], 
    [Project1].[Issuer_Code] AS [Issuer_Code], 
    [Project1].[Ultimate_Issuer_Code] AS [Ultimate_Issuer_Code], 
    [Project1].[Asset_Currency] AS [Asset_Currency], 
    [Project1].[Min_Lot_Size] AS [Min_Lot_Size], 
    [Project1].[AvePrice_Rounding] AS [AvePrice_Rounding], 
    [Project1].[Issue_Date] AS [Issue_Date], 
    [Project1].[Maturity_Date] AS [Maturity_Date], 
    [Project1].[Coupon_Rate] AS [Coupon_Rate], 
    [Project1].[Price_Exchange] AS [Price_Exchange], 
    [Project1].[Trade_Currency] AS [Trade_Currency], 
    [Project1].[Price_Curr] AS [Price_Curr], 
    [Project1].[Currency_Pair_Code] AS [Currency_Pair_Code], 
    [Project1].[Share_Class] AS [Share_Class], 
    [Project1].[Current_Market_Price] AS [Current_Market_Price], 
    [Project1].[Index_Type] AS [Index_Type], 
    [Project1].[Clean_Price_Formula] AS [Clean_Price_Formula], 
    [Project1].[Accrued_Income_Price_Formula] AS [Accrued_Income_Price_Formula], 
    [Project1].[Odd_First_Coupon_Date] AS [Odd_First_Coupon_Date], 
    [Project1].[Odd_Last_Coupon_Date] AS [Odd_Last_Coupon_Date], 
    [Project1].[Coupon_Anniversary_Indicator] AS [Coupon_Anniversary_Indicator], 
    [Project1].[Track_EOM_Flag] AS [Track_EOM_Flag], 
    [Project1].[Next_Coupon_Date] AS [Next_Coupon_Date], 
    [Project1].[Previous_Coupon_Date] AS [Previous_Coupon_Date], 
    [Project1].[Payment_Frequency] AS [Payment_Frequency], 
    [Project1].[Coupon_BusDay_Adjustment] AS [Coupon_BusDay_Adjustment], 
    [Project1].[Next_Ex_Div_Date] AS [Next_Ex_Div_Date], 
    [Project1].[Ex_Div_BusDay_Adjustment] AS [Ex_Div_BusDay_Adjustment], 
    [Project1].[Ex_Div_Period] AS [Ex_Div_Period], 
    [Project1].[Ticker] AS [Ticker], 
    [Project1].[Inet_ID] AS [Inet_ID], 
    [Project1].[Bloomberg_ID] AS [Bloomberg_ID], 
    [Project1].[External_Sec_ID] AS [External_Sec_ID], 
    [Project1].[Reuters_ID] AS [Reuters_ID], 
    [Project1].[ISIN] AS [ISIN], 
    [Project1].[Call_Account_Flag] AS [Call_Account_Flag], 
    [Project1].[System_Locked] AS [System_Locked], 
    [Project1].[Last_Update_User1] AS [Last_Update_User1], 
    [Project1].[Last_Update_Date1] AS [Last_Update_Date1], 
    [Project1].[Security_Status] AS [Security_Status], 
    [Project1].[Benchmark_Portfolio] AS [Benchmark_Portfolio], 
    [Project1].[Active_flag] AS [Active_flag], 
    [Project1].[Dividend_FX_Security_ID] AS [Dividend_FX_Security_ID]
    FROM ( SELECT 
        [Extent1].[Entity_ID] AS [Entity_ID], 
        [Extent1].[Security_ID] AS [Security_ID], 
        [Extent1].[Issued_Amount] AS [Issued_Amount], 
        [Extent1].[Market_Capitalisation] AS [Market_Capitalisation], 
        [Extent1].[Risk_Premium] AS [Risk_Premium], 
        [Extent1].[Exit_Price] AS [Exit_Price], 
        [Extent1].[Total_Return_ME_1YR] AS [Total_Return_ME_1YR], 
        [Extent1].[Total_Return_ME_2YR] AS [Total_Return_ME_2YR], 
        [Extent1].[Total_Return_ME_3YR] AS [Total_Return_ME_3YR], 
        [Extent1].[Historic_Distribution] AS [Historic_Distribution], 
        [Extent1].[Distribution_Growth_Forecast_Yr1] AS [Distribution_Growth_Forecast_Yr1], 
        [Extent1].[Distribution_Growth_Forecast_Yr2] AS [Distribution_Growth_Forecast_Yr2], 
        [Extent1].[Distribution_Growth_Forecast_Yr3] AS [Distribution_Growth_Forecast_Yr3], 
        [Extent1].[Forecast_Distribution_Yr1] AS [Forecast_Distribution_Yr1], 
        [Extent1].[Forecast_Distribution_Yr2] AS [Forecast_Distribution_Yr2], 
        [Extent1].[Forecast_Distribution_Yr3] AS [Forecast_Distribution_Yr3], 
        [Extent1].[Earnings_Growth_Compounded] AS [Earnings_Growth_Compounded], 
        [Extent1].[Earnings_Forecast_Yr3] AS [Earnings_Forecast_Yr3], 
        [Extent1].[Historic_Dividend_Yield_FYE] AS [Historic_Dividend_Yield_FYE], 
        [Extent1].[Forward_Dividend_Yield_FYE] AS [Forward_Dividend_Yield_FYE], 
        [Extent1].[Yr3_Forward_Dividend_Yield] AS [Yr3_Forward_Dividend_Yield], 
        [Extent1].[Rolling_12M_Forward_Yield] AS [Rolling_12M_Forward_Yield], 
        [Extent1].[Historical_Earnings_FYE] AS [Historical_Earnings_FYE], 
        [Extent1].[Earnings_Forecast_Yr1] AS [Earnings_Forecast_Yr1], 
        [Extent1].[Earnings_Forecast_Yr2] AS [Earnings_Forecast_Yr2], 
        [Extent1].[Historic_Dividend_Yield_Relative] AS [Historic_Dividend_Yield_Relative], 
        [Extent1].[Rolling_12M_Historic_Distribution_PriceCurr] AS [Rolling_12M_Historic_Distribution_PriceCurr], 
        [Extent1].[Short_Term_Market_Rerate] AS [Short_Term_Market_Rerate], 
        [Extent1].[Forecast_12M_Total_Return] AS [Forecast_12M_Total_Return], 
        [Extent1].[Clean_Price] AS [Clean_Price], 
        [Extent1].[Rolling_Dividend_Yield_Historic] AS [Rolling_Dividend_Yield_Historic], 
        [Extent1].[Last_Update_Date] AS [Last_Update_Date], 
        [Extent1].[Last_Update_User] AS [Last_Update_User], 
        [Extent1].[Discount_Security_ID] AS [Discount_Security_ID], 
        [Extent1].[Net_Present_Value] AS [Net_Present_Value], 
        [Extent1].[Forecast_Rolling_Custom_Income] AS [Forecast_Rolling_Custom_Income], 
        [Extent1].[Custom_Period] AS [Custom_Period], 
        [Extent1].[Rolling_12M_Historic_Distribution] AS [Rolling_12M_Historic_Distribution], 
        [Extent1].[Record_Date] AS [Record_Date], 
        [Extent1].[Session_ID] AS [Session_ID], 
        [Extent1].[Hist_Last_Update_Date] AS [Hist_Last_Update_Date], 
        [Extent1].[Hist_Last_Update_User] AS [Hist_Last_Update_User], 
        [Extent1].[Rolling_12M_Forecast_Distribution] AS [Rolling_12M_Forecast_Distribution], 
        [Extent1].[Yr2_Forward_Dividend_Yield] AS [Yr2_Forward_Dividend_Yield], 
        [Extent1].[Exit_Yield] AS [Exit_Yield], 
        [Extent1].[Discount_Rate] AS [Discount_Rate], 
        [Extent1].[Distribution_Growth_Compounded] AS [Distribution_Growth_Compounded], 
        [Extent1].[Forecast_12MRolling_Income_Accrual] AS [Forecast_12MRolling_Income_Accrual], 
        [Extent1].[Rolling_12_to_24M_Forecast_Distribution] AS [Rolling_12_to_24M_Forecast_Distribution], 
        [Extent1].[Rolling_24_to_36M_Forecast_Distribution] AS [Rolling_24_to_36M_Forecast_Distribution], 
        [Extent1].[Forecast_Yr1_Dividend_Yield_Relative] AS [Forecast_Yr1_Dividend_Yield_Relative], 
        [Extent1].[Market_Historic_Yield] AS [Market_Historic_Yield], 
        [Extent1].[Market_Forward_Yield] AS [Market_Forward_Yield], 
        [Extent1].[Historic_Distribution_PriceCurr] AS [Historic_Distribution_PriceCurr], 
        [Extent1].[Forecast_Distribution_Yr1_PriceCurr] AS [Forecast_Distribution_Yr1_PriceCurr], 
        [Extent1].[Forecast_Distribution_Yr2_PriceCurr] AS [Forecast_Distribution_Yr2_PriceCurr], 
        [Extent1].[Forecast_Distribution_Yr3_PriceCurr] AS [Forecast_Distribution_Yr3_PriceCurr], 
        [Extent1].[Rolling_12M_Forecast_Distribution_PriceCurr] AS [Rolling_12M_Forecast_Distribution_PriceCurr], 
        [Extent1].[Rolling_12_24M_Forecast_Distribution_PriceCurr] AS [Rolling_12_24M_Forecast_Distribution_PriceCurr], 
        [Extent1].[Rolling_24_36M_Forecast_Distribution_PriceCurr] AS [Rolling_24_36M_Forecast_Distribution_PriceCurr], 
        [Extent1].[Distribution_Growth_Forecast_Yr4] AS [Distribution_Growth_Forecast_Yr4], 
        [Extent1].[Earnings_Forecast_Yr4] AS [Earnings_Forecast_Yr4], 
        [Extent1].[Forecast_Distribution_Yr4] AS [Forecast_Distribution_Yr4], 
        [Extent1].[Forecast_Distribution_Yr4_PriceCurr] AS [Forecast_Distribution_Yr4_PriceCurr], 
        [Extent2].[Security_ID] AS [Security_ID1], 
        [Extent2].[Entity_ID] AS [Entity_ID1], 
        [Extent2].[Security_Name] AS [Security_Name], 
        [Extent2].[Short_Name] AS [Short_Name], 
        [Extent2].[Primary_Exch] AS [Primary_Exch], 
        [Extent2].[Secondary_Exch] AS [Secondary_Exch], 
        [Extent2].[Country_Of_Domicile] AS [Country_Of_Domicile], 
        [Extent2].[Country_Of_Risk] AS [Country_Of_Risk], 
        [Extent2].[Security_Type_Code] AS [Security_Type_Code], 
        [Extent2].[Price_Multiplier] AS [Price_Multiplier], 
        [Extent2].[Income_Frequency] AS [Income_Frequency], 
        [Extent2].[Issuer_Code] AS [Issuer_Code], 
        [Extent2].[Ultimate_Issuer_Code] AS [Ultimate_Issuer_Code], 
        [Extent2].[Asset_Currency] AS [Asset_Currency], 
        [Extent2].[Min_Lot_Size] AS [Min_Lot_Size], 
        [Extent2].[Decimal_Precision] AS [Decimal_Precision], 
        [Extent2].[AvePrice_Rounding] AS [AvePrice_Rounding], 
        [Extent2].[Issue_Date] AS [Issue_Date], 
        [Extent2].[Maturity_Date] AS [Maturity_Date], 
        [Extent2].[Coupon_Rate] AS [Coupon_Rate], 
        [Extent2].[Price_Exchange] AS [Price_Exchange], 
        [Extent2].[Trade_Currency] AS [Trade_Currency], 
        [Extent2].[Price_Curr] AS [Price_Curr], 
        [Extent2].[Currency_Pair_Code] AS [Currency_Pair_Code], 
        [Extent2].[Share_Class] AS [Share_Class], 
        [Extent2].[Current_Market_Price] AS [Current_Market_Price], 
        [Extent2].[Index_Type] AS [Index_Type], 
        [Extent2].[Clean_Price_Formula] AS [Clean_Price_Formula], 
        [Extent2].[Accrued_Income_Price_Formula] AS [Accrued_Income_Price_Formula], 
        [Extent2].[Odd_First_Coupon_Date] AS [Odd_First_Coupon_Date], 
        [Extent2].[Odd_Last_Coupon_Date] AS [Odd_Last_Coupon_Date], 
        [Extent2].[Coupon_Anniversary_Indicator] AS [Coupon_Anniversary_Indicator], 
        [Extent2].[Track_EOM_Flag] AS [Track_EOM_Flag], 
        [Extent2].[Next_Coupon_Date] AS [Next_Coupon_Date], 
        [Extent2].[Previous_Coupon_Date] AS [Previous_Coupon_Date], 
        [Extent2].[Payment_Frequency] AS [Payment_Frequency], 
        [Extent2].[Coupon_BusDay_Adjustment] AS [Coupon_BusDay_Adjustment], 
        [Extent2].[Next_Ex_Div_Date] AS [Next_Ex_Div_Date], 
        [Extent2].[Ex_Div_BusDay_Adjustment] AS [Ex_Div_BusDay_Adjustment], 
        [Extent2].[Ex_Div_Period] AS [Ex_Div_Period], 
        [Extent2].[Ticker] AS [Ticker], 
        [Extent2].[Inet_ID] AS [Inet_ID], 
        [Extent2].[Bloomberg_ID] AS [Bloomberg_ID], 
        [Extent2].[External_Sec_ID] AS [External_Sec_ID], 
        [Extent2].[Reuters_ID] AS [Reuters_ID], 
        [Extent2].[ISIN] AS [ISIN], 
        [Extent2].[Call_Account_Flag] AS [Call_Account_Flag], 
        [Extent2].[System_Locked] AS [System_Locked], 
        [Extent2].[Last_Update_User] AS [Last_Update_User1], 
        [Extent2].[Last_Update_Date] AS [Last_Update_Date1], 
        [Extent2].[Security_Status] AS [Security_Status], 
        [Extent2].[Benchmark_Portfolio] AS [Benchmark_Portfolio], 
        [Extent2].[Active_flag] AS [Active_flag], 
        [Extent2].[Dividend_FX_Security_ID] AS [Dividend_FX_Security_ID]
        FROM  [dbo].[Security_Analytics_History] AS [Extent1]
        INNER JOIN [dbo].[Security_Detail] AS [Extent2] ON [Extent1].[Security_ID] = [Extent2].[Security_ID]
        WHERE [Extent1].[Security_ID] = @p__linq__0
    )  AS [Project1]
    ORDER BY [Project1].[Record_Date] DESC
2018-04-07 17:09:09.3363|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: SELECT 
    [Project1].[Decimal_Precision] AS [Decimal_Precision], 
    [Project1].[Entity_ID] AS [Entity_ID], 
    [Project1].[Security_ID] AS [Security_ID], 
    [Project1].[Issued_Amount] AS [Issued_Amount], 
    [Project1].[Market_Capitalisation] AS [Market_Capitalisation], 
    [Project1].[Risk_Premium] AS [Risk_Premium], 
    [Project1].[Exit_Price] AS [Exit_Price], 
    [Project1].[Total_Return_ME_1YR] AS [Total_Return_ME_1YR], 
    [Project1].[Total_Return_ME_2YR] AS [Total_Return_ME_2YR], 
    [Project1].[Total_Return_ME_3YR] AS [Total_Return_ME_3YR], 
    [Project1].[Historic_Distribution] AS [Historic_Distribution], 
    [Project1].[Distribution_Growth_Forecast_Yr1] AS [Distribution_Growth_Forecast_Yr1], 
    [Project1].[Distribution_Growth_Forecast_Yr2] AS [Distribution_Growth_Forecast_Yr2], 
    [Project1].[Distribution_Growth_Forecast_Yr3] AS [Distribution_Growth_Forecast_Yr3], 
    [Project1].[Forecast_Distribution_Yr1] AS [Forecast_Distribution_Yr1], 
    [Project1].[Forecast_Distribution_Yr2] AS [Forecast_Distribution_Yr2], 
    [Project1].[Forecast_Distribution_Yr3] AS [Forecast_Distribution_Yr3], 
    [Project1].[Earnings_Growth_Compounded] AS [Earnings_Growth_Compounded], 
    [Project1].[Earnings_Forecast_Yr3] AS [Earnings_Forecast_Yr3], 
    [Project1].[Historic_Dividend_Yield_FYE] AS [Historic_Dividend_Yield_FYE], 
    [Project1].[Forward_Dividend_Yield_FYE] AS [Forward_Dividend_Yield_FYE], 
    [Project1].[Yr3_Forward_Dividend_Yield] AS [Yr3_Forward_Dividend_Yield], 
    [Project1].[Rolling_12M_Forward_Yield] AS [Rolling_12M_Forward_Yield], 
    [Project1].[Historical_Earnings_FYE] AS [Historical_Earnings_FYE], 
    [Project1].[Earnings_Forecast_Yr1] AS [Earnings_Forecast_Yr1], 
    [Project1].[Earnings_Forecast_Yr2] AS [Earnings_Forecast_Yr2], 
    [Project1].[Historic_Dividend_Yield_Relative] AS [Historic_Dividend_Yield_Relative], 
    [Project1].[Rolling_12M_Historic_Distribution_PriceCurr] AS [Rolling_12M_Historic_Distribution_PriceCurr], 
    [Project1].[Short_Term_Market_Rerate] AS [Short_Term_Market_Rerate], 
    [Project1].[Forecast_12M_Total_Return] AS [Forecast_12M_Total_Return], 
    [Project1].[Clean_Price] AS [Clean_Price], 
    [Project1].[Rolling_Dividend_Yield_Historic] AS [Rolling_Dividend_Yield_Historic], 
    [Project1].[Last_Update_Date] AS [Last_Update_Date], 
    [Project1].[Last_Update_User] AS [Last_Update_User], 
    [Project1].[Discount_Security_ID] AS [Discount_Security_ID], 
    [Project1].[Net_Present_Value] AS [Net_Present_Value], 
    [Project1].[Forecast_Rolling_Custom_Income] AS [Forecast_Rolling_Custom_Income], 
    [Project1].[Custom_Period] AS [Custom_Period], 
    [Project1].[Rolling_12M_Historic_Distribution] AS [Rolling_12M_Historic_Distribution], 
    [Project1].[Record_Date] AS [Record_Date], 
    [Project1].[Session_ID] AS [Session_ID], 
    [Project1].[Hist_Last_Update_Date] AS [Hist_Last_Update_Date], 
    [Project1].[Hist_Last_Update_User] AS [Hist_Last_Update_User], 
    [Project1].[Rolling_12M_Forecast_Distribution] AS [Rolling_12M_Forecast_Distribution], 
    [Project1].[Yr2_Forward_Dividend_Yield] AS [Yr2_Forward_Dividend_Yield], 
    [Project1].[Exit_Yield] AS [Exit_Yield], 
    [Project1].[Discount_Rate] AS [Discount_Rate], 
    [Project1].[Distribution_Growth_Compounded] AS [Distribution_Growth_Compounded], 
    [Project1].[Forecast_12MRolling_Income_Accrual] AS [Forecast_12MRolling_Income_Accrual], 
    [Project1].[Rolling_12_to_24M_Forecast_Distribution] AS [Rolling_12_to_24M_Forecast_Distribution], 
    [Project1].[Rolling_24_to_36M_Forecast_Distribution] AS [Rolling_24_to_36M_Forecast_Distribution], 
    [Project1].[Forecast_Yr1_Dividend_Yield_Relative] AS [Forecast_Yr1_Dividend_Yield_Relative], 
    [Project1].[Market_Historic_Yield] AS [Market_Historic_Yield], 
    [Project1].[Market_Forward_Yield] AS [Market_Forward_Yield], 
    [Project1].[Historic_Distribution_PriceCurr] AS [Historic_Distribution_PriceCurr], 
    [Project1].[Forecast_Distribution_Yr1_PriceCurr] AS [Forecast_Distribution_Yr1_PriceCurr], 
    [Project1].[Forecast_Distribution_Yr2_PriceCurr] AS [Forecast_Distribution_Yr2_PriceCurr], 
    [Project1].[Forecast_Distribution_Yr3_PriceCurr] AS [Forecast_Distribution_Yr3_PriceCurr], 
    [Project1].[Rolling_12M_Forecast_Distribution_PriceCurr] AS [Rolling_12M_Forecast_Distribution_PriceCurr], 
    [Project1].[Rolling_12_24M_Forecast_Distribution_PriceCurr] AS [Rolling_12_24M_Forecast_Distribution_PriceCurr], 
    [Project1].[Rolling_24_36M_Forecast_Distribution_PriceCurr] AS [Rolling_24_36M_Forecast_Distribution_PriceCurr], 
    [Project1].[Distribution_Growth_Forecast_Yr4] AS [Distribution_Growth_Forecast_Yr4], 
    [Project1].[Earnings_Forecast_Yr4] AS [Earnings_Forecast_Yr4], 
    [Project1].[Forecast_Distribution_Yr4] AS [Forecast_Distribution_Yr4], 
    [Project1].[Forecast_Distribution_Yr4_PriceCurr] AS [Forecast_Distribution_Yr4_PriceCurr], 
    [Project1].[Security_ID1] AS [Security_ID1], 
    [Project1].[Entity_ID1] AS [Entity_ID1], 
    [Project1].[Security_Name] AS [Security_Name], 
    [Project1].[Short_Name] AS [Short_Name], 
    [Project1].[Primary_Exch] AS [Primary_Exch], 
    [Project1].[Secondary_Exch] AS [Secondary_Exch], 
    [Project1].[Country_Of_Domicile] AS [Country_Of_Domicile], 
    [Project1].[Country_Of_Risk] AS [Country_Of_Risk], 
    [Project1].[Security_Type_Code] AS [Security_Type_Code], 
    [Project1].[Price_Multiplier] AS [Price_Multiplier], 
    [Project1].[Income_Frequency] AS [Income_Frequency], 
    [Project1].[Issuer_Code] AS [Issuer_Code], 
    [Project1].[Ultimate_Issuer_Code] AS [Ultimate_Issuer_Code], 
    [Project1].[Asset_Currency] AS [Asset_Currency], 
    [Project1].[Min_Lot_Size] AS [Min_Lot_Size], 
    [Project1].[AvePrice_Rounding] AS [AvePrice_Rounding], 
    [Project1].[Issue_Date] AS [Issue_Date], 
    [Project1].[Maturity_Date] AS [Maturity_Date], 
    [Project1].[Coupon_Rate] AS [Coupon_Rate], 
    [Project1].[Price_Exchange] AS [Price_Exchange], 
    [Project1].[Trade_Currency] AS [Trade_Currency], 
    [Project1].[Price_Curr] AS [Price_Curr], 
    [Project1].[Currency_Pair_Code] AS [Currency_Pair_Code], 
    [Project1].[Share_Class] AS [Share_Class], 
    [Project1].[Current_Market_Price] AS [Current_Market_Price], 
    [Project1].[Index_Type] AS [Index_Type], 
    [Project1].[Clean_Price_Formula] AS [Clean_Price_Formula], 
    [Project1].[Accrued_Income_Price_Formula] AS [Accrued_Income_Price_Formula], 
    [Project1].[Odd_First_Coupon_Date] AS [Odd_First_Coupon_Date], 
    [Project1].[Odd_Last_Coupon_Date] AS [Odd_Last_Coupon_Date], 
    [Project1].[Coupon_Anniversary_Indicator] AS [Coupon_Anniversary_Indicator], 
    [Project1].[Track_EOM_Flag] AS [Track_EOM_Flag], 
    [Project1].[Next_Coupon_Date] AS [Next_Coupon_Date], 
    [Project1].[Previous_Coupon_Date] AS [Previous_Coupon_Date], 
    [Project1].[Payment_Frequency] AS [Payment_Frequency], 
    [Project1].[Coupon_BusDay_Adjustment] AS [Coupon_BusDay_Adjustment], 
    [Project1].[Next_Ex_Div_Date] AS [Next_Ex_Div_Date], 
    [Project1].[Ex_Div_BusDay_Adjustment] AS [Ex_Div_BusDay_Adjustment], 
    [Project1].[Ex_Div_Period] AS [Ex_Div_Period], 
    [Project1].[Ticker] AS [Ticker], 
    [Project1].[Inet_ID] AS [Inet_ID], 
    [Project1].[Bloomberg_ID] AS [Bloomberg_ID], 
    [Project1].[External_Sec_ID] AS [External_Sec_ID], 
    [Project1].[Reuters_ID] AS [Reuters_ID], 
    [Project1].[ISIN] AS [ISIN], 
    [Project1].[Call_Account_Flag] AS [Call_Account_Flag], 
    [Project1].[System_Locked] AS [System_Locked], 
    [Project1].[Last_Update_User1] AS [Last_Update_User1], 
    [Project1].[Last_Update_Date1] AS [Last_Update_Date1], 
    [Project1].[Security_Status] AS [Security_Status], 
    [Project1].[Benchmark_Portfolio] AS [Benchmark_Portfolio], 
    [Project1].[Active_flag] AS [Active_flag], 
    [Project1].[Dividend_FX_Security_ID] AS [Dividend_FX_Security_ID]
    FROM ( SELECT 
        [Extent1].[Entity_ID] AS [Entity_ID], 
        [Extent1].[Security_ID] AS [Security_ID], 
        [Extent1].[Issued_Amount] AS [Issued_Amount], 
        [Extent1].[Market_Capitalisation] AS [Market_Capitalisation], 
        [Extent1].[Risk_Premium] AS [Risk_Premium], 
        [Extent1].[Exit_Price] AS [Exit_Price], 
        [Extent1].[Total_Return_ME_1YR] AS [Total_Return_ME_1YR], 
        [Extent1].[Total_Return_ME_2YR] AS [Total_Return_ME_2YR], 
        [Extent1].[Total_Return_ME_3YR] AS [Total_Return_ME_3YR], 
        [Extent1].[Historic_Distribution] AS [Historic_Distribution], 
        [Extent1].[Distribution_Growth_Forecast_Yr1] AS [Distribution_Growth_Forecast_Yr1], 
        [Extent1].[Distribution_Growth_Forecast_Yr2] AS [Distribution_Growth_Forecast_Yr2], 
        [Extent1].[Distribution_Growth_Forecast_Yr3] AS [Distribution_Growth_Forecast_Yr3], 
        [Extent1].[Forecast_Distribution_Yr1] AS [Forecast_Distribution_Yr1], 
        [Extent1].[Forecast_Distribution_Yr2] AS [Forecast_Distribution_Yr2], 
        [Extent1].[Forecast_Distribution_Yr3] AS [Forecast_Distribution_Yr3], 
        [Extent1].[Earnings_Growth_Compounded] AS [Earnings_Growth_Compounded], 
        [Extent1].[Earnings_Forecast_Yr3] AS [Earnings_Forecast_Yr3], 
        [Extent1].[Historic_Dividend_Yield_FYE] AS [Historic_Dividend_Yield_FYE], 
        [Extent1].[Forward_Dividend_Yield_FYE] AS [Forward_Dividend_Yield_FYE], 
        [Extent1].[Yr3_Forward_Dividend_Yield] AS [Yr3_Forward_Dividend_Yield], 
        [Extent1].[Rolling_12M_Forward_Yield] AS [Rolling_12M_Forward_Yield], 
        [Extent1].[Historical_Earnings_FYE] AS [Historical_Earnings_FYE], 
        [Extent1].[Earnings_Forecast_Yr1] AS [Earnings_Forecast_Yr1], 
        [Extent1].[Earnings_Forecast_Yr2] AS [Earnings_Forecast_Yr2], 
        [Extent1].[Historic_Dividend_Yield_Relative] AS [Historic_Dividend_Yield_Relative], 
        [Extent1].[Rolling_12M_Historic_Distribution_PriceCurr] AS [Rolling_12M_Historic_Distribution_PriceCurr], 
        [Extent1].[Short_Term_Market_Rerate] AS [Short_Term_Market_Rerate], 
        [Extent1].[Forecast_12M_Total_Return] AS [Forecast_12M_Total_Return], 
        [Extent1].[Clean_Price] AS [Clean_Price], 
        [Extent1].[Rolling_Dividend_Yield_Historic] AS [Rolling_Dividend_Yield_Historic], 
        [Extent1].[Last_Update_Date] AS [Last_Update_Date], 
        [Extent1].[Last_Update_User] AS [Last_Update_User], 
        [Extent1].[Discount_Security_ID] AS [Discount_Security_ID], 
        [Extent1].[Net_Present_Value] AS [Net_Present_Value], 
        [Extent1].[Forecast_Rolling_Custom_Income] AS [Forecast_Rolling_Custom_Income], 
        [Extent1].[Custom_Period] AS [Custom_Period], 
        [Extent1].[Rolling_12M_Historic_Distribution] AS [Rolling_12M_Historic_Distribution], 
        [Extent1].[Record_Date] AS [Record_Date], 
        [Extent1].[Session_ID] AS [Session_ID], 
        [Extent1].[Hist_Last_Update_Date] AS [Hist_Last_Update_Date], 
        [Extent1].[Hist_Last_Update_User] AS [Hist_Last_Update_User], 
        [Extent1].[Rolling_12M_Forecast_Distribution] AS [Rolling_12M_Forecast_Distribution], 
        [Extent1].[Yr2_Forward_Dividend_Yield] AS [Yr2_Forward_Dividend_Yield], 
        [Extent1].[Exit_Yield] AS [Exit_Yield], 
        [Extent1].[Discount_Rate] AS [Discount_Rate], 
        [Extent1].[Distribution_Growth_Compounded] AS [Distribution_Growth_Compounded], 
        [Extent1].[Forecast_12MRolling_Income_Accrual] AS [Forecast_12MRolling_Income_Accrual], 
        [Extent1].[Rolling_12_to_24M_Forecast_Distribution] AS [Rolling_12_to_24M_Forecast_Distribution], 
        [Extent1].[Rolling_24_to_36M_Forecast_Distribution] AS [Rolling_24_to_36M_Forecast_Distribution], 
        [Extent1].[Forecast_Yr1_Dividend_Yield_Relative] AS [Forecast_Yr1_Dividend_Yield_Relative], 
        [Extent1].[Market_Historic_Yield] AS [Market_Historic_Yield], 
        [Extent1].[Market_Forward_Yield] AS [Market_Forward_Yield], 
        [Extent1].[Historic_Distribution_PriceCurr] AS [Historic_Distribution_PriceCurr], 
        [Extent1].[Forecast_Distribution_Yr1_PriceCurr] AS [Forecast_Distribution_Yr1_PriceCurr], 
        [Extent1].[Forecast_Distribution_Yr2_PriceCurr] AS [Forecast_Distribution_Yr2_PriceCurr], 
        [Extent1].[Forecast_Distribution_Yr3_PriceCurr] AS [Forecast_Distribution_Yr3_PriceCurr], 
        [Extent1].[Rolling_12M_Forecast_Distribution_PriceCurr] AS [Rolling_12M_Forecast_Distribution_PriceCurr], 
        [Extent1].[Rolling_12_24M_Forecast_Distribution_PriceCurr] AS [Rolling_12_24M_Forecast_Distribution_PriceCurr], 
        [Extent1].[Rolling_24_36M_Forecast_Distribution_PriceCurr] AS [Rolling_24_36M_Forecast_Distribution_PriceCurr], 
        [Extent1].[Distribution_Growth_Forecast_Yr4] AS [Distribution_Growth_Forecast_Yr4], 
        [Extent1].[Earnings_Forecast_Yr4] AS [Earnings_Forecast_Yr4], 
        [Extent1].[Forecast_Distribution_Yr4] AS [Forecast_Distribution_Yr4], 
        [Extent1].[Forecast_Distribution_Yr4_PriceCurr] AS [Forecast_Distribution_Yr4_PriceCurr], 
        [Extent2].[Security_ID] AS [Security_ID1], 
        [Extent2].[Entity_ID] AS [Entity_ID1], 
        [Extent2].[Security_Name] AS [Security_Name], 
        [Extent2].[Short_Name] AS [Short_Name], 
        [Extent2].[Primary_Exch] AS [Primary_Exch], 
        [Extent2].[Secondary_Exch] AS [Secondary_Exch], 
        [Extent2].[Country_Of_Domicile] AS [Country_Of_Domicile], 
        [Extent2].[Country_Of_Risk] AS [Country_Of_Risk], 
        [Extent2].[Security_Type_Code] AS [Security_Type_Code], 
        [Extent2].[Price_Multiplier] AS [Price_Multiplier], 
        [Extent2].[Income_Frequency] AS [Income_Frequency], 
        [Extent2].[Issuer_Code] AS [Issuer_Code], 
        [Extent2].[Ultimate_Issuer_Code] AS [Ultimate_Issuer_Code], 
        [Extent2].[Asset_Currency] AS [Asset_Currency], 
        [Extent2].[Min_Lot_Size] AS [Min_Lot_Size], 
        [Extent2].[Decimal_Precision] AS [Decimal_Precision], 
        [Extent2].[AvePrice_Rounding] AS [AvePrice_Rounding], 
        [Extent2].[Issue_Date] AS [Issue_Date], 
        [Extent2].[Maturity_Date] AS [Maturity_Date], 
        [Extent2].[Coupon_Rate] AS [Coupon_Rate], 
        [Extent2].[Price_Exchange] AS [Price_Exchange], 
        [Extent2].[Trade_Currency] AS [Trade_Currency], 
        [Extent2].[Price_Curr] AS [Price_Curr], 
        [Extent2].[Currency_Pair_Code] AS [Currency_Pair_Code], 
        [Extent2].[Share_Class] AS [Share_Class], 
        [Extent2].[Current_Market_Price] AS [Current_Market_Price], 
        [Extent2].[Index_Type] AS [Index_Type], 
        [Extent2].[Clean_Price_Formula] AS [Clean_Price_Formula], 
        [Extent2].[Accrued_Income_Price_Formula] AS [Accrued_Income_Price_Formula], 
        [Extent2].[Odd_First_Coupon_Date] AS [Odd_First_Coupon_Date], 
        [Extent2].[Odd_Last_Coupon_Date] AS [Odd_Last_Coupon_Date], 
        [Extent2].[Coupon_Anniversary_Indicator] AS [Coupon_Anniversary_Indicator], 
        [Extent2].[Track_EOM_Flag] AS [Track_EOM_Flag], 
        [Extent2].[Next_Coupon_Date] AS [Next_Coupon_Date], 
        [Extent2].[Previous_Coupon_Date] AS [Previous_Coupon_Date], 
        [Extent2].[Payment_Frequency] AS [Payment_Frequency], 
        [Extent2].[Coupon_BusDay_Adjustment] AS [Coupon_BusDay_Adjustment], 
        [Extent2].[Next_Ex_Div_Date] AS [Next_Ex_Div_Date], 
        [Extent2].[Ex_Div_BusDay_Adjustment] AS [Ex_Div_BusDay_Adjustment], 
        [Extent2].[Ex_Div_Period] AS [Ex_Div_Period], 
        [Extent2].[Ticker] AS [Ticker], 
        [Extent2].[Inet_ID] AS [Inet_ID], 
        [Extent2].[Bloomberg_ID] AS [Bloomberg_ID], 
        [Extent2].[External_Sec_ID] AS [External_Sec_ID], 
        [Extent2].[Reuters_ID] AS [Reuters_ID], 
        [Extent2].[ISIN] AS [ISIN], 
        [Extent2].[Call_Account_Flag] AS [Call_Account_Flag], 
        [Extent2].[System_Locked] AS [System_Locked], 
        [Extent2].[Last_Update_User] AS [Last_Update_User1], 
        [Extent2].[Last_Update_Date] AS [Last_Update_Date1], 
        [Extent2].[Security_Status] AS [Security_Status], 
        [Extent2].[Benchmark_Portfolio] AS [Benchmark_Portfolio], 
        [Extent2].[Active_flag] AS [Active_flag], 
        [Extent2].[Dividend_FX_Security_ID] AS [Dividend_FX_Security_ID]
        FROM  [dbo].[Security_Analytics_History] AS [Extent1]
        INNER JOIN [dbo].[Security_Detail] AS [Extent2] ON [Extent1].[Security_ID] = [Extent2].[Security_ID]
        WHERE [Extent1].[Security_ID] = @p__linq__0
    )  AS [Project1]
    ORDER BY [Project1].[Record_Date] DESC
2018-04-07 17:09:09.4124|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: IF db_id(N'MetopeAzureDb') IS NOT NULL SELECT 1 ELSE SELECT Count(*) FROM sys.databases WHERE [name]=N'MetopeAzureDb'
2018-04-07 17:09:09.4364|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: IF db_id(N'MetopeAzureDb') IS NOT NULL SELECT 1 ELSE SELECT Count(*) FROM sys.databases WHERE [name]=N'MetopeAzureDb'
2018-04-07 17:09:09.4609|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: IF db_id(N'MetopeAzureDb') IS NOT NULL SELECT 1 ELSE SELECT Count(*) FROM sys.databases WHERE [name]=N'MetopeAzureDb'
2018-04-07 17:09:09.4869|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: IF db_id(N'MetopeAzureDb') IS NOT NULL SELECT 1 ELSE SELECT Count(*) FROM sys.databases WHERE [name]=N'MetopeAzureDb'
2018-04-07 17:42:28.6331|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: select cast(serverproperty('EngineEdition') as int)
2018-04-07 17:42:28.7602|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: select cast(serverproperty('EngineEdition') as int)
2018-04-07 17:42:28.9058|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: IF db_id(N'MetopeAzureDb') IS NOT NULL SELECT 1 ELSE SELECT Count(*) FROM sys.databases WHERE [name]=N'MetopeAzureDb'
2018-04-07 17:42:29.0674|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: IF db_id(N'MetopeAzureDb') IS NOT NULL SELECT 1 ELSE SELECT Count(*) FROM sys.databases WHERE [name]=N'MetopeAzureDb'
2018-04-07 17:42:29.1655|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: IF db_id(N'MetopeAzureDb') IS NOT NULL SELECT 1 ELSE SELECT Count(*) FROM sys.databases WHERE [name]=N'MetopeAzureDb'
2018-04-07 17:42:29.1715|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: IF db_id(N'MetopeAzureDb') IS NOT NULL SELECT 1 ELSE SELECT Count(*) FROM sys.databases WHERE [name]=N'MetopeAzureDb'
2018-04-07 17:42:29.1715|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: 
SELECT Count(*)
FROM INFORMATION_SCHEMA.TABLES AS t
WHERE t.TABLE_SCHEMA + '.' + t.TABLE_NAME IN ('dbo.AspNetRoles','dbo.AspNetUserRoles','dbo.AspNetUsers','dbo.AspNetUserClaims','dbo.AspNetUserLogins')
    OR t.TABLE_NAME = 'EdmMetadata'
2018-04-07 17:42:29.2461|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: 
SELECT Count(*)
FROM INFORMATION_SCHEMA.TABLES AS t
WHERE t.TABLE_SCHEMA + '.' + t.TABLE_NAME IN ('dbo.AspNetRoles','dbo.AspNetUserRoles','dbo.AspNetUsers','dbo.AspNetUserClaims','dbo.AspNetUserLogins')
    OR t.TABLE_NAME = 'EdmMetadata'
2018-04-07 17:42:29.4737|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: SELECT 
    [GroupBy1].[A1] AS [C1]
    FROM ( SELECT 
        COUNT(1) AS [A1]
        FROM [dbo].[__MigrationHistory] AS [Extent1]
        WHERE [Extent1].[ContextKey] = @p__linq__0
    )  AS [GroupBy1]
2018-04-07 17:42:29.4862|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: SELECT 
    [GroupBy1].[A1] AS [C1]
    FROM ( SELECT 
        COUNT(1) AS [A1]
        FROM [dbo].[__MigrationHistory] AS [Extent1]
        WHERE [Extent1].[ContextKey] = @p__linq__0
    )  AS [GroupBy1]
2018-04-07 17:42:29.5138|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: SELECT TOP (1) 
    [Project1].[C1] AS [C1], 
    [Project1].[MigrationId] AS [MigrationId], 
    [Project1].[Model] AS [Model], 
    [Project1].[ProductVersion] AS [ProductVersion]
    FROM ( SELECT 
        [Extent1].[MigrationId] AS [MigrationId], 
        [Extent1].[Model] AS [Model], 
        [Extent1].[ProductVersion] AS [ProductVersion], 
        1 AS [C1]
        FROM [dbo].[__MigrationHistory] AS [Extent1]
        WHERE [Extent1].[ContextKey] = @p__linq__0
    )  AS [Project1]
    ORDER BY [Project1].[MigrationId] DESC
2018-04-07 17:42:29.5243|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: SELECT TOP (1) 
    [Project1].[C1] AS [C1], 
    [Project1].[MigrationId] AS [MigrationId], 
    [Project1].[Model] AS [Model], 
    [Project1].[ProductVersion] AS [ProductVersion]
    FROM ( SELECT 
        [Extent1].[MigrationId] AS [MigrationId], 
        [Extent1].[Model] AS [Model], 
        [Extent1].[ProductVersion] AS [ProductVersion], 
        1 AS [C1]
        FROM [dbo].[__MigrationHistory] AS [Extent1]
        WHERE [Extent1].[ContextKey] = @p__linq__0
    )  AS [Project1]
    ORDER BY [Project1].[MigrationId] DESC
2018-04-07 17:42:29.6894|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: True, Command Text: SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[EntityIdScope] AS [EntityIdScope], 
    [Extent1].[Email] AS [Email], 
    [Extent1].[EmailConfirmed] AS [EmailConfirmed], 
    [Extent1].[PasswordHash] AS [PasswordHash], 
    [Extent1].[SecurityStamp] AS [SecurityStamp], 
    [Extent1].[PhoneNumber] AS [PhoneNumber], 
    [Extent1].[PhoneNumberConfirmed] AS [PhoneNumberConfirmed], 
    [Extent1].[TwoFactorEnabled] AS [TwoFactorEnabled], 
    [Extent1].[LockoutEndDateUtc] AS [LockoutEndDateUtc], 
    [Extent1].[LockoutEnabled] AS [LockoutEnabled], 
    [Extent1].[AccessFailedCount] AS [AccessFailedCount], 
    [Extent1].[UserName] AS [UserName]
    FROM [dbo].[AspNetUsers] AS [Extent1]
    WHERE [Extent1].[Id] = @p0
2018-04-07 17:42:29.6894|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: True, Command Text: SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[EntityIdScope] AS [EntityIdScope], 
    [Extent1].[Email] AS [Email], 
    [Extent1].[EmailConfirmed] AS [EmailConfirmed], 
    [Extent1].[PasswordHash] AS [PasswordHash], 
    [Extent1].[SecurityStamp] AS [SecurityStamp], 
    [Extent1].[PhoneNumber] AS [PhoneNumber], 
    [Extent1].[PhoneNumberConfirmed] AS [PhoneNumberConfirmed], 
    [Extent1].[TwoFactorEnabled] AS [TwoFactorEnabled], 
    [Extent1].[LockoutEndDateUtc] AS [LockoutEndDateUtc], 
    [Extent1].[LockoutEnabled] AS [LockoutEnabled], 
    [Extent1].[AccessFailedCount] AS [AccessFailedCount], 
    [Extent1].[UserName] AS [UserName]
    FROM [dbo].[AspNetUsers] AS [Extent1]
    WHERE [Extent1].[Id] = @p0
2018-04-07 17:42:29.7734|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: True, Command Text: SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[UserId] AS [UserId], 
    [Extent1].[ClaimType] AS [ClaimType], 
    [Extent1].[ClaimValue] AS [ClaimValue]
    FROM [dbo].[AspNetUserClaims] AS [Extent1]
    WHERE [Extent1].[UserId] = @p__linq__0
2018-04-07 17:42:29.7825|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: True, Command Text: SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[UserId] AS [UserId], 
    [Extent1].[ClaimType] AS [ClaimType], 
    [Extent1].[ClaimValue] AS [ClaimValue]
    FROM [dbo].[AspNetUserClaims] AS [Extent1]
    WHERE [Extent1].[UserId] = @p__linq__0
2018-04-07 17:42:29.8215|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: True, Command Text: SELECT 
    [Extent1].[LoginProvider] AS [LoginProvider], 
    [Extent1].[ProviderKey] AS [ProviderKey], 
    [Extent1].[UserId] AS [UserId]
    FROM [dbo].[AspNetUserLogins] AS [Extent1]
    WHERE [Extent1].[UserId] = @p__linq__0
2018-04-07 17:42:29.8310|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: True, Command Text: SELECT 
    [Extent1].[LoginProvider] AS [LoginProvider], 
    [Extent1].[ProviderKey] AS [ProviderKey], 
    [Extent1].[UserId] AS [UserId]
    FROM [dbo].[AspNetUserLogins] AS [Extent1]
    WHERE [Extent1].[UserId] = @p__linq__0
2018-04-07 17:42:29.8670|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: True, Command Text: SELECT 
    [Extent1].[UserId] AS [UserId], 
    [Extent1].[RoleId] AS [RoleId]
    FROM [dbo].[AspNetUserRoles] AS [Extent1]
    WHERE [Extent1].[UserId] = @p__linq__0
2018-04-07 17:42:29.8800|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: True, Command Text: SELECT 
    [Extent1].[UserId] AS [UserId], 
    [Extent1].[RoleId] AS [RoleId]
    FROM [dbo].[AspNetUserRoles] AS [Extent1]
    WHERE [Extent1].[UserId] = @p__linq__0
2018-04-07 17:42:31.8769|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: SELECT 
    [Extent1].[Security_ID] AS [Security_ID], 
    [Extent1].[Entity_ID] AS [Entity_ID], 
    [Extent1].[Security_Name] AS [Security_Name], 
    [Extent1].[Short_Name] AS [Short_Name], 
    [Extent1].[Primary_Exch] AS [Primary_Exch], 
    [Extent1].[Secondary_Exch] AS [Secondary_Exch], 
    [Extent1].[Country_Of_Domicile] AS [Country_Of_Domicile], 
    [Extent1].[Country_Of_Risk] AS [Country_Of_Risk], 
    [Extent1].[Security_Type_Code] AS [Security_Type_Code], 
    [Extent1].[Price_Multiplier] AS [Price_Multiplier], 
    [Extent1].[Income_Frequency] AS [Income_Frequency], 
    [Extent1].[Issuer_Code] AS [Issuer_Code], 
    [Extent1].[Ultimate_Issuer_Code] AS [Ultimate_Issuer_Code], 
    [Extent1].[Asset_Currency] AS [Asset_Currency], 
    [Extent1].[Min_Lot_Size] AS [Min_Lot_Size], 
    [Extent1].[Decimal_Precision] AS [Decimal_Precision], 
    [Extent1].[AvePrice_Rounding] AS [AvePrice_Rounding], 
    [Extent1].[Issue_Date] AS [Issue_Date], 
    [Extent1].[Maturity_Date] AS [Maturity_Date], 
    [Extent1].[Coupon_Rate] AS [Coupon_Rate], 
    [Extent1].[Price_Exchange] AS [Price_Exchange], 
    [Extent1].[Trade_Currency] AS [Trade_Currency], 
    [Extent1].[Price_Curr] AS [Price_Curr], 
    [Extent1].[Currency_Pair_Code] AS [Currency_Pair_Code], 
    [Extent1].[Share_Class] AS [Share_Class], 
    [Extent1].[Current_Market_Price] AS [Current_Market_Price], 
    [Extent1].[Index_Type] AS [Index_Type], 
    [Extent1].[Clean_Price_Formula] AS [Clean_Price_Formula], 
    [Extent1].[Accrued_Income_Price_Formula] AS [Accrued_Income_Price_Formula], 
    [Extent1].[Odd_First_Coupon_Date] AS [Odd_First_Coupon_Date], 
    [Extent1].[Odd_Last_Coupon_Date] AS [Odd_Last_Coupon_Date], 
    [Extent1].[Coupon_Anniversary_Indicator] AS [Coupon_Anniversary_Indicator], 
    [Extent1].[Track_EOM_Flag] AS [Track_EOM_Flag], 
    [Extent1].[Next_Coupon_Date] AS [Next_Coupon_Date], 
    [Extent1].[Previous_Coupon_Date] AS [Previous_Coupon_Date], 
    [Extent1].[Payment_Frequency] AS [Payment_Frequency], 
    [Extent1].[Coupon_BusDay_Adjustment] AS [Coupon_BusDay_Adjustment], 
    [Extent1].[Next_Ex_Div_Date] AS [Next_Ex_Div_Date], 
    [Extent1].[Ex_Div_BusDay_Adjustment] AS [Ex_Div_BusDay_Adjustment], 
    [Extent1].[Ex_Div_Period] AS [Ex_Div_Period], 
    [Extent1].[Ticker] AS [Ticker], 
    [Extent1].[Inet_ID] AS [Inet_ID], 
    [Extent1].[Bloomberg_ID] AS [Bloomberg_ID], 
    [Extent1].[External_Sec_ID] AS [External_Sec_ID], 
    [Extent1].[Reuters_ID] AS [Reuters_ID], 
    [Extent1].[ISIN] AS [ISIN], 
    [Extent1].[Call_Account_Flag] AS [Call_Account_Flag], 
    [Extent1].[System_Locked] AS [System_Locked], 
    [Extent1].[Last_Update_User] AS [Last_Update_User], 
    [Extent1].[Last_Update_Date] AS [Last_Update_Date], 
    [Extent1].[Security_Status] AS [Security_Status], 
    [Extent1].[Benchmark_Portfolio] AS [Benchmark_Portfolio], 
    [Extent1].[Active_flag] AS [Active_flag], 
    [Extent1].[Dividend_FX_Security_ID] AS [Dividend_FX_Security_ID]
    FROM [dbo].[Security_Detail] AS [Extent1]
2018-04-07 17:42:31.9035|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: SELECT 
    [Extent1].[Security_ID] AS [Security_ID], 
    [Extent1].[Entity_ID] AS [Entity_ID], 
    [Extent1].[Security_Name] AS [Security_Name], 
    [Extent1].[Short_Name] AS [Short_Name], 
    [Extent1].[Primary_Exch] AS [Primary_Exch], 
    [Extent1].[Secondary_Exch] AS [Secondary_Exch], 
    [Extent1].[Country_Of_Domicile] AS [Country_Of_Domicile], 
    [Extent1].[Country_Of_Risk] AS [Country_Of_Risk], 
    [Extent1].[Security_Type_Code] AS [Security_Type_Code], 
    [Extent1].[Price_Multiplier] AS [Price_Multiplier], 
    [Extent1].[Income_Frequency] AS [Income_Frequency], 
    [Extent1].[Issuer_Code] AS [Issuer_Code], 
    [Extent1].[Ultimate_Issuer_Code] AS [Ultimate_Issuer_Code], 
    [Extent1].[Asset_Currency] AS [Asset_Currency], 
    [Extent1].[Min_Lot_Size] AS [Min_Lot_Size], 
    [Extent1].[Decimal_Precision] AS [Decimal_Precision], 
    [Extent1].[AvePrice_Rounding] AS [AvePrice_Rounding], 
    [Extent1].[Issue_Date] AS [Issue_Date], 
    [Extent1].[Maturity_Date] AS [Maturity_Date], 
    [Extent1].[Coupon_Rate] AS [Coupon_Rate], 
    [Extent1].[Price_Exchange] AS [Price_Exchange], 
    [Extent1].[Trade_Currency] AS [Trade_Currency], 
    [Extent1].[Price_Curr] AS [Price_Curr], 
    [Extent1].[Currency_Pair_Code] AS [Currency_Pair_Code], 
    [Extent1].[Share_Class] AS [Share_Class], 
    [Extent1].[Current_Market_Price] AS [Current_Market_Price], 
    [Extent1].[Index_Type] AS [Index_Type], 
    [Extent1].[Clean_Price_Formula] AS [Clean_Price_Formula], 
    [Extent1].[Accrued_Income_Price_Formula] AS [Accrued_Income_Price_Formula], 
    [Extent1].[Odd_First_Coupon_Date] AS [Odd_First_Coupon_Date], 
    [Extent1].[Odd_Last_Coupon_Date] AS [Odd_Last_Coupon_Date], 
    [Extent1].[Coupon_Anniversary_Indicator] AS [Coupon_Anniversary_Indicator], 
    [Extent1].[Track_EOM_Flag] AS [Track_EOM_Flag], 
    [Extent1].[Next_Coupon_Date] AS [Next_Coupon_Date], 
    [Extent1].[Previous_Coupon_Date] AS [Previous_Coupon_Date], 
    [Extent1].[Payment_Frequency] AS [Payment_Frequency], 
    [Extent1].[Coupon_BusDay_Adjustment] AS [Coupon_BusDay_Adjustment], 
    [Extent1].[Next_Ex_Div_Date] AS [Next_Ex_Div_Date], 
    [Extent1].[Ex_Div_BusDay_Adjustment] AS [Ex_Div_BusDay_Adjustment], 
    [Extent1].[Ex_Div_Period] AS [Ex_Div_Period], 
    [Extent1].[Ticker] AS [Ticker], 
    [Extent1].[Inet_ID] AS [Inet_ID], 
    [Extent1].[Bloomberg_ID] AS [Bloomberg_ID], 
    [Extent1].[External_Sec_ID] AS [External_Sec_ID], 
    [Extent1].[Reuters_ID] AS [Reuters_ID], 
    [Extent1].[ISIN] AS [ISIN], 
    [Extent1].[Call_Account_Flag] AS [Call_Account_Flag], 
    [Extent1].[System_Locked] AS [System_Locked], 
    [Extent1].[Last_Update_User] AS [Last_Update_User], 
    [Extent1].[Last_Update_Date] AS [Last_Update_Date], 
    [Extent1].[Security_Status] AS [Security_Status], 
    [Extent1].[Benchmark_Portfolio] AS [Benchmark_Portfolio], 
    [Extent1].[Active_flag] AS [Active_flag], 
    [Extent1].[Dividend_FX_Security_ID] AS [Dividend_FX_Security_ID]
    FROM [dbo].[Security_Detail] AS [Extent1]
2018-04-07 17:42:34.3857|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: SELECT 
    [Extent1].[Security_ID] AS [Security_ID], 
    [Extent1].[Entity_ID] AS [Entity_ID], 
    [Extent1].[Security_Name] AS [Security_Name], 
    [Extent1].[Short_Name] AS [Short_Name], 
    [Extent1].[Primary_Exch] AS [Primary_Exch], 
    [Extent1].[Secondary_Exch] AS [Secondary_Exch], 
    [Extent1].[Country_Of_Domicile] AS [Country_Of_Domicile], 
    [Extent1].[Country_Of_Risk] AS [Country_Of_Risk], 
    [Extent1].[Security_Type_Code] AS [Security_Type_Code], 
    [Extent1].[Price_Multiplier] AS [Price_Multiplier], 
    [Extent1].[Income_Frequency] AS [Income_Frequency], 
    [Extent1].[Issuer_Code] AS [Issuer_Code], 
    [Extent1].[Ultimate_Issuer_Code] AS [Ultimate_Issuer_Code], 
    [Extent1].[Asset_Currency] AS [Asset_Currency], 
    [Extent1].[Min_Lot_Size] AS [Min_Lot_Size], 
    [Extent1].[Decimal_Precision] AS [Decimal_Precision], 
    [Extent1].[AvePrice_Rounding] AS [AvePrice_Rounding], 
    [Extent1].[Issue_Date] AS [Issue_Date], 
    [Extent1].[Maturity_Date] AS [Maturity_Date], 
    [Extent1].[Coupon_Rate] AS [Coupon_Rate], 
    [Extent1].[Price_Exchange] AS [Price_Exchange], 
    [Extent1].[Trade_Currency] AS [Trade_Currency], 
    [Extent1].[Price_Curr] AS [Price_Curr], 
    [Extent1].[Currency_Pair_Code] AS [Currency_Pair_Code], 
    [Extent1].[Share_Class] AS [Share_Class], 
    [Extent1].[Current_Market_Price] AS [Current_Market_Price], 
    [Extent1].[Index_Type] AS [Index_Type], 
    [Extent1].[Clean_Price_Formula] AS [Clean_Price_Formula], 
    [Extent1].[Accrued_Income_Price_Formula] AS [Accrued_Income_Price_Formula], 
    [Extent1].[Odd_First_Coupon_Date] AS [Odd_First_Coupon_Date], 
    [Extent1].[Odd_Last_Coupon_Date] AS [Odd_Last_Coupon_Date], 
    [Extent1].[Coupon_Anniversary_Indicator] AS [Coupon_Anniversary_Indicator], 
    [Extent1].[Track_EOM_Flag] AS [Track_EOM_Flag], 
    [Extent1].[Next_Coupon_Date] AS [Next_Coupon_Date], 
    [Extent1].[Previous_Coupon_Date] AS [Previous_Coupon_Date], 
    [Extent1].[Payment_Frequency] AS [Payment_Frequency], 
    [Extent1].[Coupon_BusDay_Adjustment] AS [Coupon_BusDay_Adjustment], 
    [Extent1].[Next_Ex_Div_Date] AS [Next_Ex_Div_Date], 
    [Extent1].[Ex_Div_BusDay_Adjustment] AS [Ex_Div_BusDay_Adjustment], 
    [Extent1].[Ex_Div_Period] AS [Ex_Div_Period], 
    [Extent1].[Ticker] AS [Ticker], 
    [Extent1].[Inet_ID] AS [Inet_ID], 
    [Extent1].[Bloomberg_ID] AS [Bloomberg_ID], 
    [Extent1].[External_Sec_ID] AS [External_Sec_ID], 
    [Extent1].[Reuters_ID] AS [Reuters_ID], 
    [Extent1].[ISIN] AS [ISIN], 
    [Extent1].[Call_Account_Flag] AS [Call_Account_Flag], 
    [Extent1].[System_Locked] AS [System_Locked], 
    [Extent1].[Last_Update_User] AS [Last_Update_User], 
    [Extent1].[Last_Update_Date] AS [Last_Update_Date], 
    [Extent1].[Security_Status] AS [Security_Status], 
    [Extent1].[Benchmark_Portfolio] AS [Benchmark_Portfolio], 
    [Extent1].[Active_flag] AS [Active_flag], 
    [Extent1].[Dividend_FX_Security_ID] AS [Dividend_FX_Security_ID]
    FROM [dbo].[Security_Detail] AS [Extent1]
2018-04-07 17:42:34.3952|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: SELECT 
    [Extent1].[Security_ID] AS [Security_ID], 
    [Extent1].[Entity_ID] AS [Entity_ID], 
    [Extent1].[Security_Name] AS [Security_Name], 
    [Extent1].[Short_Name] AS [Short_Name], 
    [Extent1].[Primary_Exch] AS [Primary_Exch], 
    [Extent1].[Secondary_Exch] AS [Secondary_Exch], 
    [Extent1].[Country_Of_Domicile] AS [Country_Of_Domicile], 
    [Extent1].[Country_Of_Risk] AS [Country_Of_Risk], 
    [Extent1].[Security_Type_Code] AS [Security_Type_Code], 
    [Extent1].[Price_Multiplier] AS [Price_Multiplier], 
    [Extent1].[Income_Frequency] AS [Income_Frequency], 
    [Extent1].[Issuer_Code] AS [Issuer_Code], 
    [Extent1].[Ultimate_Issuer_Code] AS [Ultimate_Issuer_Code], 
    [Extent1].[Asset_Currency] AS [Asset_Currency], 
    [Extent1].[Min_Lot_Size] AS [Min_Lot_Size], 
    [Extent1].[Decimal_Precision] AS [Decimal_Precision], 
    [Extent1].[AvePrice_Rounding] AS [AvePrice_Rounding], 
    [Extent1].[Issue_Date] AS [Issue_Date], 
    [Extent1].[Maturity_Date] AS [Maturity_Date], 
    [Extent1].[Coupon_Rate] AS [Coupon_Rate], 
    [Extent1].[Price_Exchange] AS [Price_Exchange], 
    [Extent1].[Trade_Currency] AS [Trade_Currency], 
    [Extent1].[Price_Curr] AS [Price_Curr], 
    [Extent1].[Currency_Pair_Code] AS [Currency_Pair_Code], 
    [Extent1].[Share_Class] AS [Share_Class], 
    [Extent1].[Current_Market_Price] AS [Current_Market_Price], 
    [Extent1].[Index_Type] AS [Index_Type], 
    [Extent1].[Clean_Price_Formula] AS [Clean_Price_Formula], 
    [Extent1].[Accrued_Income_Price_Formula] AS [Accrued_Income_Price_Formula], 
    [Extent1].[Odd_First_Coupon_Date] AS [Odd_First_Coupon_Date], 
    [Extent1].[Odd_Last_Coupon_Date] AS [Odd_Last_Coupon_Date], 
    [Extent1].[Coupon_Anniversary_Indicator] AS [Coupon_Anniversary_Indicator], 
    [Extent1].[Track_EOM_Flag] AS [Track_EOM_Flag], 
    [Extent1].[Next_Coupon_Date] AS [Next_Coupon_Date], 
    [Extent1].[Previous_Coupon_Date] AS [Previous_Coupon_Date], 
    [Extent1].[Payment_Frequency] AS [Payment_Frequency], 
    [Extent1].[Coupon_BusDay_Adjustment] AS [Coupon_BusDay_Adjustment], 
    [Extent1].[Next_Ex_Div_Date] AS [Next_Ex_Div_Date], 
    [Extent1].[Ex_Div_BusDay_Adjustment] AS [Ex_Div_BusDay_Adjustment], 
    [Extent1].[Ex_Div_Period] AS [Ex_Div_Period], 
    [Extent1].[Ticker] AS [Ticker], 
    [Extent1].[Inet_ID] AS [Inet_ID], 
    [Extent1].[Bloomberg_ID] AS [Bloomberg_ID], 
    [Extent1].[External_Sec_ID] AS [External_Sec_ID], 
    [Extent1].[Reuters_ID] AS [Reuters_ID], 
    [Extent1].[ISIN] AS [ISIN], 
    [Extent1].[Call_Account_Flag] AS [Call_Account_Flag], 
    [Extent1].[System_Locked] AS [System_Locked], 
    [Extent1].[Last_Update_User] AS [Last_Update_User], 
    [Extent1].[Last_Update_Date] AS [Last_Update_Date], 
    [Extent1].[Security_Status] AS [Security_Status], 
    [Extent1].[Benchmark_Portfolio] AS [Benchmark_Portfolio], 
    [Extent1].[Active_flag] AS [Active_flag], 
    [Extent1].[Dividend_FX_Security_ID] AS [Dividend_FX_Security_ID]
    FROM [dbo].[Security_Detail] AS [Extent1]
2018-04-07 17:42:39.8666|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: IF db_id(N'MetopeAzureDb') IS NOT NULL SELECT 1 ELSE SELECT Count(*) FROM sys.databases WHERE [name]=N'MetopeAzureDb'
2018-04-07 17:42:39.8816|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: IF db_id(N'MetopeAzureDb') IS NOT NULL SELECT 1 ELSE SELECT Count(*) FROM sys.databases WHERE [name]=N'MetopeAzureDb'
2018-04-07 17:42:39.9047|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: IF db_id(N'MetopeAzureDb') IS NOT NULL SELECT 1 ELSE SELECT Count(*) FROM sys.databases WHERE [name]=N'MetopeAzureDb'
2018-04-07 17:42:39.9167|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: IF db_id(N'MetopeAzureDb') IS NOT NULL SELECT 1 ELSE SELECT Count(*) FROM sys.databases WHERE [name]=N'MetopeAzureDb'
2018-04-07 17:42:39.9337|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: True, Command Text: SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[EntityIdScope] AS [EntityIdScope], 
    [Extent1].[Email] AS [Email], 
    [Extent1].[EmailConfirmed] AS [EmailConfirmed], 
    [Extent1].[PasswordHash] AS [PasswordHash], 
    [Extent1].[SecurityStamp] AS [SecurityStamp], 
    [Extent1].[PhoneNumber] AS [PhoneNumber], 
    [Extent1].[PhoneNumberConfirmed] AS [PhoneNumberConfirmed], 
    [Extent1].[TwoFactorEnabled] AS [TwoFactorEnabled], 
    [Extent1].[LockoutEndDateUtc] AS [LockoutEndDateUtc], 
    [Extent1].[LockoutEnabled] AS [LockoutEnabled], 
    [Extent1].[AccessFailedCount] AS [AccessFailedCount], 
    [Extent1].[UserName] AS [UserName]
    FROM [dbo].[AspNetUsers] AS [Extent1]
    WHERE [Extent1].[Id] = @p0
2018-04-07 17:42:39.9477|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: True, Command Text: SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[EntityIdScope] AS [EntityIdScope], 
    [Extent1].[Email] AS [Email], 
    [Extent1].[EmailConfirmed] AS [EmailConfirmed], 
    [Extent1].[PasswordHash] AS [PasswordHash], 
    [Extent1].[SecurityStamp] AS [SecurityStamp], 
    [Extent1].[PhoneNumber] AS [PhoneNumber], 
    [Extent1].[PhoneNumberConfirmed] AS [PhoneNumberConfirmed], 
    [Extent1].[TwoFactorEnabled] AS [TwoFactorEnabled], 
    [Extent1].[LockoutEndDateUtc] AS [LockoutEndDateUtc], 
    [Extent1].[LockoutEnabled] AS [LockoutEnabled], 
    [Extent1].[AccessFailedCount] AS [AccessFailedCount], 
    [Extent1].[UserName] AS [UserName]
    FROM [dbo].[AspNetUsers] AS [Extent1]
    WHERE [Extent1].[Id] = @p0
2018-04-07 17:42:39.9622|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: True, Command Text: SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[UserId] AS [UserId], 
    [Extent1].[ClaimType] AS [ClaimType], 
    [Extent1].[ClaimValue] AS [ClaimValue]
    FROM [dbo].[AspNetUserClaims] AS [Extent1]
    WHERE [Extent1].[UserId] = @p__linq__0
2018-04-07 17:42:39.9752|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: True, Command Text: SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[UserId] AS [UserId], 
    [Extent1].[ClaimType] AS [ClaimType], 
    [Extent1].[ClaimValue] AS [ClaimValue]
    FROM [dbo].[AspNetUserClaims] AS [Extent1]
    WHERE [Extent1].[UserId] = @p__linq__0
2018-04-07 17:42:39.9902|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: True, Command Text: SELECT 
    [Extent1].[LoginProvider] AS [LoginProvider], 
    [Extent1].[ProviderKey] AS [ProviderKey], 
    [Extent1].[UserId] AS [UserId]
    FROM [dbo].[AspNetUserLogins] AS [Extent1]
    WHERE [Extent1].[UserId] = @p__linq__0
2018-04-07 17:42:40.0037|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: True, Command Text: SELECT 
    [Extent1].[LoginProvider] AS [LoginProvider], 
    [Extent1].[ProviderKey] AS [ProviderKey], 
    [Extent1].[UserId] AS [UserId]
    FROM [dbo].[AspNetUserLogins] AS [Extent1]
    WHERE [Extent1].[UserId] = @p__linq__0
2018-04-07 17:42:40.0182|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: True, Command Text: SELECT 
    [Extent1].[UserId] AS [UserId], 
    [Extent1].[RoleId] AS [RoleId]
    FROM [dbo].[AspNetUserRoles] AS [Extent1]
    WHERE [Extent1].[UserId] = @p__linq__0
2018-04-07 17:42:40.0307|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: True, Command Text: SELECT 
    [Extent1].[UserId] AS [UserId], 
    [Extent1].[RoleId] AS [RoleId]
    FROM [dbo].[AspNetUserRoles] AS [Extent1]
    WHERE [Extent1].[UserId] = @p__linq__0
2018-04-07 17:42:40.1258|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: SELECT TOP (2) 
    [Extent1].[Entity_ID] AS [Entity_ID], 
    [Extent1].[Entity_Code] AS [Entity_Code], 
    [Extent1].[Entity_Name] AS [Entity_Name], 
    [Extent1].[Import_Folder] AS [Import_Folder], 
    [Extent1].[Export_Folder] AS [Export_Folder]
    FROM [dbo].[Entity] AS [Extent1]
    WHERE [Extent1].[Entity_ID] = @p0
2018-04-07 17:42:40.1533|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: SELECT TOP (2) 
    [Extent1].[Entity_ID] AS [Entity_ID], 
    [Extent1].[Entity_Code] AS [Entity_Code], 
    [Extent1].[Entity_Name] AS [Entity_Name], 
    [Extent1].[Import_Folder] AS [Import_Folder], 
    [Extent1].[Export_Folder] AS [Export_Folder]
    FROM [dbo].[Entity] AS [Extent1]
    WHERE [Extent1].[Entity_ID] = @p0
2018-04-07 17:47:02.8750|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: SELECT 
    [Extent2].[Decimal_Precision] AS [Decimal_Precision], 
    [Extent1].[Entity_ID] AS [Entity_ID], 
    [Extent1].[Security_ID] AS [Security_ID], 
    [Extent1].[Issued_Amount] AS [Issued_Amount], 
    [Extent1].[Market_Capitalisation] AS [Market_Capitalisation], 
    [Extent1].[Risk_Premium] AS [Risk_Premium], 
    [Extent1].[Exit_Price] AS [Exit_Price], 
    [Extent1].[Total_Return_ME_1YR] AS [Total_Return_ME_1YR], 
    [Extent1].[Total_Return_ME_2YR] AS [Total_Return_ME_2YR], 
    [Extent1].[Total_Return_ME_3YR] AS [Total_Return_ME_3YR], 
    [Extent1].[Historic_Distribution] AS [Historic_Distribution], 
    [Extent1].[Distribution_Growth_Forecast_Yr1] AS [Distribution_Growth_Forecast_Yr1], 
    [Extent1].[Distribution_Growth_Forecast_Yr2] AS [Distribution_Growth_Forecast_Yr2], 
    [Extent1].[Distribution_Growth_Forecast_Yr3] AS [Distribution_Growth_Forecast_Yr3], 
    [Extent1].[Forecast_Distribution_Yr1] AS [Forecast_Distribution_Yr1], 
    [Extent1].[Forecast_Distribution_Yr2] AS [Forecast_Distribution_Yr2], 
    [Extent1].[Forecast_Distribution_Yr3] AS [Forecast_Distribution_Yr3], 
    [Extent1].[Earnings_Growth_Compounded] AS [Earnings_Growth_Compounded], 
    [Extent1].[Earnings_Forecast_Yr3] AS [Earnings_Forecast_Yr3], 
    [Extent1].[Historic_Dividend_Yield_FYE] AS [Historic_Dividend_Yield_FYE], 
    [Extent1].[Forward_Dividend_Yield_FYE] AS [Forward_Dividend_Yield_FYE], 
    [Extent1].[Yr3_Forward_Dividend_Yield] AS [Yr3_Forward_Dividend_Yield], 
    [Extent1].[Rolling_12M_Forward_Yield] AS [Rolling_12M_Forward_Yield], 
    [Extent1].[Historical_Earnings_FYE] AS [Historical_Earnings_FYE], 
    [Extent1].[Earnings_Forecast_Yr1] AS [Earnings_Forecast_Yr1], 
    [Extent1].[Earnings_Forecast_Yr2] AS [Earnings_Forecast_Yr2], 
    [Extent1].[Historic_Dividend_Yield_Relative] AS [Historic_Dividend_Yield_Relative], 
    [Extent1].[Rolling_12M_Historic_Distribution_PriceCurr] AS [Rolling_12M_Historic_Distribution_PriceCurr], 
    [Extent1].[Short_Term_Market_Rerate] AS [Short_Term_Market_Rerate], 
    [Extent1].[Forecast_12M_Total_Return] AS [Forecast_12M_Total_Return], 
    [Extent1].[Clean_Price] AS [Clean_Price], 
    [Extent1].[Rolling_Dividend_Yield_Historic] AS [Rolling_Dividend_Yield_Historic], 
    [Extent1].[Last_Update_Date] AS [Last_Update_Date], 
    [Extent1].[Last_Update_User] AS [Last_Update_User], 
    [Extent1].[Discount_Security_ID] AS [Discount_Security_ID], 
    [Extent1].[Net_Present_Value] AS [Net_Present_Value], 
    [Extent1].[Forecast_Rolling_Custom_Income] AS [Forecast_Rolling_Custom_Income], 
    [Extent1].[Custom_Period] AS [Custom_Period], 
    [Extent1].[Rolling_12M_Historic_Distribution] AS [Rolling_12M_Historic_Distribution], 
    [Extent1].[Rolling_12M_Forecast_Distribution] AS [Rolling_12M_Forecast_Distribution], 
    [Extent1].[Yr2_Forward_Dividend_Yield] AS [Yr2_Forward_Dividend_Yield], 
    [Extent1].[Exit_Yield] AS [Exit_Yield], 
    [Extent1].[Discount_Rate] AS [Discount_Rate], 
    [Extent1].[Distribution_Growth_Compounded] AS [Distribution_Growth_Compounded], 
    [Extent1].[Forecast_12MRolling_Income_Accrual] AS [Forecast_12MRolling_Income_Accrual], 
    [Extent1].[Rolling_12_to_24M_Forecast_Distribution] AS [Rolling_12_to_24M_Forecast_Distribution], 
    [Extent1].[Rolling_24_to_36M_Forecast_Distribution] AS [Rolling_24_to_36M_Forecast_Distribution], 
    [Extent1].[Forecast_Yr1_Dividend_Yield_Relative] AS [Forecast_Yr1_Dividend_Yield_Relative], 
    [Extent1].[Market_Historic_Yield] AS [Market_Historic_Yield], 
    [Extent1].[Market_Forward_Yield] AS [Market_Forward_Yield], 
    [Extent1].[Historic_Distribution_PriceCurr] AS [Historic_Distribution_PriceCurr], 
    [Extent1].[Forecast_Distribution_Yr1_PriceCurr] AS [Forecast_Distribution_Yr1_PriceCurr], 
    [Extent1].[Forecast_Distribution_Yr2_PriceCurr] AS [Forecast_Distribution_Yr2_PriceCurr], 
    [Extent1].[Forecast_Distribution_Yr3_PriceCurr] AS [Forecast_Distribution_Yr3_PriceCurr], 
    [Extent1].[Rolling_12M_Forecast_Distribution_PriceCurr] AS [Rolling_12M_Forecast_Distribution_PriceCurr], 
    [Extent1].[Rolling_12_24M_Forecast_Distribution_PriceCurr] AS [Rolling_12_24M_Forecast_Distribution_PriceCurr], 
    [Extent1].[Rolling_24_36M_Forecast_Distribution_PriceCurr] AS [Rolling_24_36M_Forecast_Distribution_PriceCurr], 
    [Extent1].[Distribution_Growth_Forecast_Yr4] AS [Distribution_Growth_Forecast_Yr4], 
    [Extent1].[Earnings_Forecast_Yr4] AS [Earnings_Forecast_Yr4], 
    [Extent1].[Forecast_Distribution_Yr4] AS [Forecast_Distribution_Yr4], 
    [Extent1].[Forecast_Distribution_Yr4_PriceCurr] AS [Forecast_Distribution_Yr4_PriceCurr], 
    [Extent2].[Security_ID] AS [Security_ID1], 
    [Extent2].[Entity_ID] AS [Entity_ID1], 
    [Extent2].[Security_Name] AS [Security_Name], 
    [Extent2].[Short_Name] AS [Short_Name], 
    [Extent2].[Primary_Exch] AS [Primary_Exch], 
    [Extent2].[Secondary_Exch] AS [Secondary_Exch], 
    [Extent2].[Country_Of_Domicile] AS [Country_Of_Domicile], 
    [Extent2].[Country_Of_Risk] AS [Country_Of_Risk], 
    [Extent2].[Security_Type_Code] AS [Security_Type_Code], 
    [Extent2].[Price_Multiplier] AS [Price_Multiplier], 
    [Extent2].[Income_Frequency] AS [Income_Frequency], 
    [Extent2].[Issuer_Code] AS [Issuer_Code], 
    [Extent2].[Ultimate_Issuer_Code] AS [Ultimate_Issuer_Code], 
    [Extent2].[Asset_Currency] AS [Asset_Currency], 
    [Extent2].[Min_Lot_Size] AS [Min_Lot_Size], 
    [Extent2].[AvePrice_Rounding] AS [AvePrice_Rounding], 
    [Extent2].[Issue_Date] AS [Issue_Date], 
    [Extent2].[Maturity_Date] AS [Maturity_Date], 
    [Extent2].[Coupon_Rate] AS [Coupon_Rate], 
    [Extent2].[Price_Exchange] AS [Price_Exchange], 
    [Extent2].[Trade_Currency] AS [Trade_Currency], 
    [Extent2].[Price_Curr] AS [Price_Curr], 
    [Extent2].[Currency_Pair_Code] AS [Currency_Pair_Code], 
    [Extent2].[Share_Class] AS [Share_Class], 
    [Extent2].[Current_Market_Price] AS [Current_Market_Price], 
    [Extent2].[Index_Type] AS [Index_Type], 
    [Extent2].[Clean_Price_Formula] AS [Clean_Price_Formula], 
    [Extent2].[Accrued_Income_Price_Formula] AS [Accrued_Income_Price_Formula], 
    [Extent2].[Odd_First_Coupon_Date] AS [Odd_First_Coupon_Date], 
    [Extent2].[Odd_Last_Coupon_Date] AS [Odd_Last_Coupon_Date], 
    [Extent2].[Coupon_Anniversary_Indicator] AS [Coupon_Anniversary_Indicator], 
    [Extent2].[Track_EOM_Flag] AS [Track_EOM_Flag], 
    [Extent2].[Next_Coupon_Date] AS [Next_Coupon_Date], 
    [Extent2].[Previous_Coupon_Date] AS [Previous_Coupon_Date], 
    [Extent2].[Payment_Frequency] AS [Payment_Frequency], 
    [Extent2].[Coupon_BusDay_Adjustment] AS [Coupon_BusDay_Adjustment], 
    [Extent2].[Next_Ex_Div_Date] AS [Next_Ex_Div_Date], 
    [Extent2].[Ex_Div_BusDay_Adjustment] AS [Ex_Div_BusDay_Adjustment], 
    [Extent2].[Ex_Div_Period] AS [Ex_Div_Period], 
    [Extent2].[Ticker] AS [Ticker], 
    [Extent2].[Inet_ID] AS [Inet_ID], 
    [Extent2].[Bloomberg_ID] AS [Bloomberg_ID], 
    [Extent2].[External_Sec_ID] AS [External_Sec_ID], 
    [Extent2].[Reuters_ID] AS [Reuters_ID], 
    [Extent2].[ISIN] AS [ISIN], 
    [Extent2].[Call_Account_Flag] AS [Call_Account_Flag], 
    [Extent2].[System_Locked] AS [System_Locked], 
    [Extent2].[Last_Update_User] AS [Last_Update_User1], 
    [Extent2].[Last_Update_Date] AS [Last_Update_Date1], 
    [Extent2].[Security_Status] AS [Security_Status], 
    [Extent2].[Benchmark_Portfolio] AS [Benchmark_Portfolio], 
    [Extent2].[Active_flag] AS [Active_flag], 
    [Extent2].[Dividend_FX_Security_ID] AS [Dividend_FX_Security_ID]
    FROM  [dbo].[Security_Analytics] AS [Extent1]
    INNER JOIN [dbo].[Security_Detail] AS [Extent2] ON [Extent1].[Security_ID] = [Extent2].[Security_ID]
2018-04-07 17:47:02.9360|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: SELECT 
    [Extent2].[Decimal_Precision] AS [Decimal_Precision], 
    [Extent1].[Entity_ID] AS [Entity_ID], 
    [Extent1].[Security_ID] AS [Security_ID], 
    [Extent1].[Issued_Amount] AS [Issued_Amount], 
    [Extent1].[Market_Capitalisation] AS [Market_Capitalisation], 
    [Extent1].[Risk_Premium] AS [Risk_Premium], 
    [Extent1].[Exit_Price] AS [Exit_Price], 
    [Extent1].[Total_Return_ME_1YR] AS [Total_Return_ME_1YR], 
    [Extent1].[Total_Return_ME_2YR] AS [Total_Return_ME_2YR], 
    [Extent1].[Total_Return_ME_3YR] AS [Total_Return_ME_3YR], 
    [Extent1].[Historic_Distribution] AS [Historic_Distribution], 
    [Extent1].[Distribution_Growth_Forecast_Yr1] AS [Distribution_Growth_Forecast_Yr1], 
    [Extent1].[Distribution_Growth_Forecast_Yr2] AS [Distribution_Growth_Forecast_Yr2], 
    [Extent1].[Distribution_Growth_Forecast_Yr3] AS [Distribution_Growth_Forecast_Yr3], 
    [Extent1].[Forecast_Distribution_Yr1] AS [Forecast_Distribution_Yr1], 
    [Extent1].[Forecast_Distribution_Yr2] AS [Forecast_Distribution_Yr2], 
    [Extent1].[Forecast_Distribution_Yr3] AS [Forecast_Distribution_Yr3], 
    [Extent1].[Earnings_Growth_Compounded] AS [Earnings_Growth_Compounded], 
    [Extent1].[Earnings_Forecast_Yr3] AS [Earnings_Forecast_Yr3], 
    [Extent1].[Historic_Dividend_Yield_FYE] AS [Historic_Dividend_Yield_FYE], 
    [Extent1].[Forward_Dividend_Yield_FYE] AS [Forward_Dividend_Yield_FYE], 
    [Extent1].[Yr3_Forward_Dividend_Yield] AS [Yr3_Forward_Dividend_Yield], 
    [Extent1].[Rolling_12M_Forward_Yield] AS [Rolling_12M_Forward_Yield], 
    [Extent1].[Historical_Earnings_FYE] AS [Historical_Earnings_FYE], 
    [Extent1].[Earnings_Forecast_Yr1] AS [Earnings_Forecast_Yr1], 
    [Extent1].[Earnings_Forecast_Yr2] AS [Earnings_Forecast_Yr2], 
    [Extent1].[Historic_Dividend_Yield_Relative] AS [Historic_Dividend_Yield_Relative], 
    [Extent1].[Rolling_12M_Historic_Distribution_PriceCurr] AS [Rolling_12M_Historic_Distribution_PriceCurr], 
    [Extent1].[Short_Term_Market_Rerate] AS [Short_Term_Market_Rerate], 
    [Extent1].[Forecast_12M_Total_Return] AS [Forecast_12M_Total_Return], 
    [Extent1].[Clean_Price] AS [Clean_Price], 
    [Extent1].[Rolling_Dividend_Yield_Historic] AS [Rolling_Dividend_Yield_Historic], 
    [Extent1].[Last_Update_Date] AS [Last_Update_Date], 
    [Extent1].[Last_Update_User] AS [Last_Update_User], 
    [Extent1].[Discount_Security_ID] AS [Discount_Security_ID], 
    [Extent1].[Net_Present_Value] AS [Net_Present_Value], 
    [Extent1].[Forecast_Rolling_Custom_Income] AS [Forecast_Rolling_Custom_Income], 
    [Extent1].[Custom_Period] AS [Custom_Period], 
    [Extent1].[Rolling_12M_Historic_Distribution] AS [Rolling_12M_Historic_Distribution], 
    [Extent1].[Rolling_12M_Forecast_Distribution] AS [Rolling_12M_Forecast_Distribution], 
    [Extent1].[Yr2_Forward_Dividend_Yield] AS [Yr2_Forward_Dividend_Yield], 
    [Extent1].[Exit_Yield] AS [Exit_Yield], 
    [Extent1].[Discount_Rate] AS [Discount_Rate], 
    [Extent1].[Distribution_Growth_Compounded] AS [Distribution_Growth_Compounded], 
    [Extent1].[Forecast_12MRolling_Income_Accrual] AS [Forecast_12MRolling_Income_Accrual], 
    [Extent1].[Rolling_12_to_24M_Forecast_Distribution] AS [Rolling_12_to_24M_Forecast_Distribution], 
    [Extent1].[Rolling_24_to_36M_Forecast_Distribution] AS [Rolling_24_to_36M_Forecast_Distribution], 
    [Extent1].[Forecast_Yr1_Dividend_Yield_Relative] AS [Forecast_Yr1_Dividend_Yield_Relative], 
    [Extent1].[Market_Historic_Yield] AS [Market_Historic_Yield], 
    [Extent1].[Market_Forward_Yield] AS [Market_Forward_Yield], 
    [Extent1].[Historic_Distribution_PriceCurr] AS [Historic_Distribution_PriceCurr], 
    [Extent1].[Forecast_Distribution_Yr1_PriceCurr] AS [Forecast_Distribution_Yr1_PriceCurr], 
    [Extent1].[Forecast_Distribution_Yr2_PriceCurr] AS [Forecast_Distribution_Yr2_PriceCurr], 
    [Extent1].[Forecast_Distribution_Yr3_PriceCurr] AS [Forecast_Distribution_Yr3_PriceCurr], 
    [Extent1].[Rolling_12M_Forecast_Distribution_PriceCurr] AS [Rolling_12M_Forecast_Distribution_PriceCurr], 
    [Extent1].[Rolling_12_24M_Forecast_Distribution_PriceCurr] AS [Rolling_12_24M_Forecast_Distribution_PriceCurr], 
    [Extent1].[Rolling_24_36M_Forecast_Distribution_PriceCurr] AS [Rolling_24_36M_Forecast_Distribution_PriceCurr], 
    [Extent1].[Distribution_Growth_Forecast_Yr4] AS [Distribution_Growth_Forecast_Yr4], 
    [Extent1].[Earnings_Forecast_Yr4] AS [Earnings_Forecast_Yr4], 
    [Extent1].[Forecast_Distribution_Yr4] AS [Forecast_Distribution_Yr4], 
    [Extent1].[Forecast_Distribution_Yr4_PriceCurr] AS [Forecast_Distribution_Yr4_PriceCurr], 
    [Extent2].[Security_ID] AS [Security_ID1], 
    [Extent2].[Entity_ID] AS [Entity_ID1], 
    [Extent2].[Security_Name] AS [Security_Name], 
    [Extent2].[Short_Name] AS [Short_Name], 
    [Extent2].[Primary_Exch] AS [Primary_Exch], 
    [Extent2].[Secondary_Exch] AS [Secondary_Exch], 
    [Extent2].[Country_Of_Domicile] AS [Country_Of_Domicile], 
    [Extent2].[Country_Of_Risk] AS [Country_Of_Risk], 
    [Extent2].[Security_Type_Code] AS [Security_Type_Code], 
    [Extent2].[Price_Multiplier] AS [Price_Multiplier], 
    [Extent2].[Income_Frequency] AS [Income_Frequency], 
    [Extent2].[Issuer_Code] AS [Issuer_Code], 
    [Extent2].[Ultimate_Issuer_Code] AS [Ultimate_Issuer_Code], 
    [Extent2].[Asset_Currency] AS [Asset_Currency], 
    [Extent2].[Min_Lot_Size] AS [Min_Lot_Size], 
    [Extent2].[AvePrice_Rounding] AS [AvePrice_Rounding], 
    [Extent2].[Issue_Date] AS [Issue_Date], 
    [Extent2].[Maturity_Date] AS [Maturity_Date], 
    [Extent2].[Coupon_Rate] AS [Coupon_Rate], 
    [Extent2].[Price_Exchange] AS [Price_Exchange], 
    [Extent2].[Trade_Currency] AS [Trade_Currency], 
    [Extent2].[Price_Curr] AS [Price_Curr], 
    [Extent2].[Currency_Pair_Code] AS [Currency_Pair_Code], 
    [Extent2].[Share_Class] AS [Share_Class], 
    [Extent2].[Current_Market_Price] AS [Current_Market_Price], 
    [Extent2].[Index_Type] AS [Index_Type], 
    [Extent2].[Clean_Price_Formula] AS [Clean_Price_Formula], 
    [Extent2].[Accrued_Income_Price_Formula] AS [Accrued_Income_Price_Formula], 
    [Extent2].[Odd_First_Coupon_Date] AS [Odd_First_Coupon_Date], 
    [Extent2].[Odd_Last_Coupon_Date] AS [Odd_Last_Coupon_Date], 
    [Extent2].[Coupon_Anniversary_Indicator] AS [Coupon_Anniversary_Indicator], 
    [Extent2].[Track_EOM_Flag] AS [Track_EOM_Flag], 
    [Extent2].[Next_Coupon_Date] AS [Next_Coupon_Date], 
    [Extent2].[Previous_Coupon_Date] AS [Previous_Coupon_Date], 
    [Extent2].[Payment_Frequency] AS [Payment_Frequency], 
    [Extent2].[Coupon_BusDay_Adjustment] AS [Coupon_BusDay_Adjustment], 
    [Extent2].[Next_Ex_Div_Date] AS [Next_Ex_Div_Date], 
    [Extent2].[Ex_Div_BusDay_Adjustment] AS [Ex_Div_BusDay_Adjustment], 
    [Extent2].[Ex_Div_Period] AS [Ex_Div_Period], 
    [Extent2].[Ticker] AS [Ticker], 
    [Extent2].[Inet_ID] AS [Inet_ID], 
    [Extent2].[Bloomberg_ID] AS [Bloomberg_ID], 
    [Extent2].[External_Sec_ID] AS [External_Sec_ID], 
    [Extent2].[Reuters_ID] AS [Reuters_ID], 
    [Extent2].[ISIN] AS [ISIN], 
    [Extent2].[Call_Account_Flag] AS [Call_Account_Flag], 
    [Extent2].[System_Locked] AS [System_Locked], 
    [Extent2].[Last_Update_User] AS [Last_Update_User1], 
    [Extent2].[Last_Update_Date] AS [Last_Update_Date1], 
    [Extent2].[Security_Status] AS [Security_Status], 
    [Extent2].[Benchmark_Portfolio] AS [Benchmark_Portfolio], 
    [Extent2].[Active_flag] AS [Active_flag], 
    [Extent2].[Dividend_FX_Security_ID] AS [Dividend_FX_Security_ID]
    FROM  [dbo].[Security_Analytics] AS [Extent1]
    INNER JOIN [dbo].[Security_Detail] AS [Extent2] ON [Extent1].[Security_ID] = [Extent2].[Security_ID]
2018-04-07 17:47:08.0622|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: IF db_id(N'MetopeAzureDb') IS NOT NULL SELECT 1 ELSE SELECT Count(*) FROM sys.databases WHERE [name]=N'MetopeAzureDb'
2018-04-07 17:47:08.1798|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: IF db_id(N'MetopeAzureDb') IS NOT NULL SELECT 1 ELSE SELECT Count(*) FROM sys.databases WHERE [name]=N'MetopeAzureDb'
2018-04-07 17:47:08.2819|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: IF db_id(N'MetopeAzureDb') IS NOT NULL SELECT 1 ELSE SELECT Count(*) FROM sys.databases WHERE [name]=N'MetopeAzureDb'
2018-04-07 17:47:08.3044|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: IF db_id(N'MetopeAzureDb') IS NOT NULL SELECT 1 ELSE SELECT Count(*) FROM sys.databases WHERE [name]=N'MetopeAzureDb'
2018-04-07 17:51:51.1942|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: SELECT 
    [Project1].[Decimal_Precision] AS [Decimal_Precision], 
    [Project1].[Entity_ID] AS [Entity_ID], 
    [Project1].[Security_ID] AS [Security_ID], 
    [Project1].[Issued_Amount] AS [Issued_Amount], 
    [Project1].[Market_Capitalisation] AS [Market_Capitalisation], 
    [Project1].[Risk_Premium] AS [Risk_Premium], 
    [Project1].[Exit_Price] AS [Exit_Price], 
    [Project1].[Total_Return_ME_1YR] AS [Total_Return_ME_1YR], 
    [Project1].[Total_Return_ME_2YR] AS [Total_Return_ME_2YR], 
    [Project1].[Total_Return_ME_3YR] AS [Total_Return_ME_3YR], 
    [Project1].[Historic_Distribution] AS [Historic_Distribution], 
    [Project1].[Distribution_Growth_Forecast_Yr1] AS [Distribution_Growth_Forecast_Yr1], 
    [Project1].[Distribution_Growth_Forecast_Yr2] AS [Distribution_Growth_Forecast_Yr2], 
    [Project1].[Distribution_Growth_Forecast_Yr3] AS [Distribution_Growth_Forecast_Yr3], 
    [Project1].[Forecast_Distribution_Yr1] AS [Forecast_Distribution_Yr1], 
    [Project1].[Forecast_Distribution_Yr2] AS [Forecast_Distribution_Yr2], 
    [Project1].[Forecast_Distribution_Yr3] AS [Forecast_Distribution_Yr3], 
    [Project1].[Earnings_Growth_Compounded] AS [Earnings_Growth_Compounded], 
    [Project1].[Earnings_Forecast_Yr3] AS [Earnings_Forecast_Yr3], 
    [Project1].[Historic_Dividend_Yield_FYE] AS [Historic_Dividend_Yield_FYE], 
    [Project1].[Forward_Dividend_Yield_FYE] AS [Forward_Dividend_Yield_FYE], 
    [Project1].[Yr3_Forward_Dividend_Yield] AS [Yr3_Forward_Dividend_Yield], 
    [Project1].[Rolling_12M_Forward_Yield] AS [Rolling_12M_Forward_Yield], 
    [Project1].[Historical_Earnings_FYE] AS [Historical_Earnings_FYE], 
    [Project1].[Earnings_Forecast_Yr1] AS [Earnings_Forecast_Yr1], 
    [Project1].[Earnings_Forecast_Yr2] AS [Earnings_Forecast_Yr2], 
    [Project1].[Historic_Dividend_Yield_Relative] AS [Historic_Dividend_Yield_Relative], 
    [Project1].[Rolling_12M_Historic_Distribution_PriceCurr] AS [Rolling_12M_Historic_Distribution_PriceCurr], 
    [Project1].[Short_Term_Market_Rerate] AS [Short_Term_Market_Rerate], 
    [Project1].[Forecast_12M_Total_Return] AS [Forecast_12M_Total_Return], 
    [Project1].[Clean_Price] AS [Clean_Price], 
    [Project1].[Rolling_Dividend_Yield_Historic] AS [Rolling_Dividend_Yield_Historic], 
    [Project1].[Last_Update_Date] AS [Last_Update_Date], 
    [Project1].[Last_Update_User] AS [Last_Update_User], 
    [Project1].[Discount_Security_ID] AS [Discount_Security_ID], 
    [Project1].[Net_Present_Value] AS [Net_Present_Value], 
    [Project1].[Forecast_Rolling_Custom_Income] AS [Forecast_Rolling_Custom_Income], 
    [Project1].[Custom_Period] AS [Custom_Period], 
    [Project1].[Rolling_12M_Historic_Distribution] AS [Rolling_12M_Historic_Distribution], 
    [Project1].[Record_Date] AS [Record_Date], 
    [Project1].[Session_ID] AS [Session_ID], 
    [Project1].[Hist_Last_Update_Date] AS [Hist_Last_Update_Date], 
    [Project1].[Hist_Last_Update_User] AS [Hist_Last_Update_User], 
    [Project1].[Rolling_12M_Forecast_Distribution] AS [Rolling_12M_Forecast_Distribution], 
    [Project1].[Yr2_Forward_Dividend_Yield] AS [Yr2_Forward_Dividend_Yield], 
    [Project1].[Exit_Yield] AS [Exit_Yield], 
    [Project1].[Discount_Rate] AS [Discount_Rate], 
    [Project1].[Distribution_Growth_Compounded] AS [Distribution_Growth_Compounded], 
    [Project1].[Forecast_12MRolling_Income_Accrual] AS [Forecast_12MRolling_Income_Accrual], 
    [Project1].[Rolling_12_to_24M_Forecast_Distribution] AS [Rolling_12_to_24M_Forecast_Distribution], 
    [Project1].[Rolling_24_to_36M_Forecast_Distribution] AS [Rolling_24_to_36M_Forecast_Distribution], 
    [Project1].[Forecast_Yr1_Dividend_Yield_Relative] AS [Forecast_Yr1_Dividend_Yield_Relative], 
    [Project1].[Market_Historic_Yield] AS [Market_Historic_Yield], 
    [Project1].[Market_Forward_Yield] AS [Market_Forward_Yield], 
    [Project1].[Historic_Distribution_PriceCurr] AS [Historic_Distribution_PriceCurr], 
    [Project1].[Forecast_Distribution_Yr1_PriceCurr] AS [Forecast_Distribution_Yr1_PriceCurr], 
    [Project1].[Forecast_Distribution_Yr2_PriceCurr] AS [Forecast_Distribution_Yr2_PriceCurr], 
    [Project1].[Forecast_Distribution_Yr3_PriceCurr] AS [Forecast_Distribution_Yr3_PriceCurr], 
    [Project1].[Rolling_12M_Forecast_Distribution_PriceCurr] AS [Rolling_12M_Forecast_Distribution_PriceCurr], 
    [Project1].[Rolling_12_24M_Forecast_Distribution_PriceCurr] AS [Rolling_12_24M_Forecast_Distribution_PriceCurr], 
    [Project1].[Rolling_24_36M_Forecast_Distribution_PriceCurr] AS [Rolling_24_36M_Forecast_Distribution_PriceCurr], 
    [Project1].[Distribution_Growth_Forecast_Yr4] AS [Distribution_Growth_Forecast_Yr4], 
    [Project1].[Earnings_Forecast_Yr4] AS [Earnings_Forecast_Yr4], 
    [Project1].[Forecast_Distribution_Yr4] AS [Forecast_Distribution_Yr4], 
    [Project1].[Forecast_Distribution_Yr4_PriceCurr] AS [Forecast_Distribution_Yr4_PriceCurr], 
    [Project1].[Security_ID1] AS [Security_ID1], 
    [Project1].[Entity_ID1] AS [Entity_ID1], 
    [Project1].[Security_Name] AS [Security_Name], 
    [Project1].[Short_Name] AS [Short_Name], 
    [Project1].[Primary_Exch] AS [Primary_Exch], 
    [Project1].[Secondary_Exch] AS [Secondary_Exch], 
    [Project1].[Country_Of_Domicile] AS [Country_Of_Domicile], 
    [Project1].[Country_Of_Risk] AS [Country_Of_Risk], 
    [Project1].[Security_Type_Code] AS [Security_Type_Code], 
    [Project1].[Price_Multiplier] AS [Price_Multiplier], 
    [Project1].[Income_Frequency] AS [Income_Frequency], 
    [Project1].[Issuer_Code] AS [Issuer_Code], 
    [Project1].[Ultimate_Issuer_Code] AS [Ultimate_Issuer_Code], 
    [Project1].[Asset_Currency] AS [Asset_Currency], 
    [Project1].[Min_Lot_Size] AS [Min_Lot_Size], 
    [Project1].[AvePrice_Rounding] AS [AvePrice_Rounding], 
    [Project1].[Issue_Date] AS [Issue_Date], 
    [Project1].[Maturity_Date] AS [Maturity_Date], 
    [Project1].[Coupon_Rate] AS [Coupon_Rate], 
    [Project1].[Price_Exchange] AS [Price_Exchange], 
    [Project1].[Trade_Currency] AS [Trade_Currency], 
    [Project1].[Price_Curr] AS [Price_Curr], 
    [Project1].[Currency_Pair_Code] AS [Currency_Pair_Code], 
    [Project1].[Share_Class] AS [Share_Class], 
    [Project1].[Current_Market_Price] AS [Current_Market_Price], 
    [Project1].[Index_Type] AS [Index_Type], 
    [Project1].[Clean_Price_Formula] AS [Clean_Price_Formula], 
    [Project1].[Accrued_Income_Price_Formula] AS [Accrued_Income_Price_Formula], 
    [Project1].[Odd_First_Coupon_Date] AS [Odd_First_Coupon_Date], 
    [Project1].[Odd_Last_Coupon_Date] AS [Odd_Last_Coupon_Date], 
    [Project1].[Coupon_Anniversary_Indicator] AS [Coupon_Anniversary_Indicator], 
    [Project1].[Track_EOM_Flag] AS [Track_EOM_Flag], 
    [Project1].[Next_Coupon_Date] AS [Next_Coupon_Date], 
    [Project1].[Previous_Coupon_Date] AS [Previous_Coupon_Date], 
    [Project1].[Payment_Frequency] AS [Payment_Frequency], 
    [Project1].[Coupon_BusDay_Adjustment] AS [Coupon_BusDay_Adjustment], 
    [Project1].[Next_Ex_Div_Date] AS [Next_Ex_Div_Date], 
    [Project1].[Ex_Div_BusDay_Adjustment] AS [Ex_Div_BusDay_Adjustment], 
    [Project1].[Ex_Div_Period] AS [Ex_Div_Period], 
    [Project1].[Ticker] AS [Ticker], 
    [Project1].[Inet_ID] AS [Inet_ID], 
    [Project1].[Bloomberg_ID] AS [Bloomberg_ID], 
    [Project1].[External_Sec_ID] AS [External_Sec_ID], 
    [Project1].[Reuters_ID] AS [Reuters_ID], 
    [Project1].[ISIN] AS [ISIN], 
    [Project1].[Call_Account_Flag] AS [Call_Account_Flag], 
    [Project1].[System_Locked] AS [System_Locked], 
    [Project1].[Last_Update_User1] AS [Last_Update_User1], 
    [Project1].[Last_Update_Date1] AS [Last_Update_Date1], 
    [Project1].[Security_Status] AS [Security_Status], 
    [Project1].[Benchmark_Portfolio] AS [Benchmark_Portfolio], 
    [Project1].[Active_flag] AS [Active_flag], 
    [Project1].[Dividend_FX_Security_ID] AS [Dividend_FX_Security_ID]
    FROM ( SELECT 
        [Extent1].[Entity_ID] AS [Entity_ID], 
        [Extent1].[Security_ID] AS [Security_ID], 
        [Extent1].[Issued_Amount] AS [Issued_Amount], 
        [Extent1].[Market_Capitalisation] AS [Market_Capitalisation], 
        [Extent1].[Risk_Premium] AS [Risk_Premium], 
        [Extent1].[Exit_Price] AS [Exit_Price], 
        [Extent1].[Total_Return_ME_1YR] AS [Total_Return_ME_1YR], 
        [Extent1].[Total_Return_ME_2YR] AS [Total_Return_ME_2YR], 
        [Extent1].[Total_Return_ME_3YR] AS [Total_Return_ME_3YR], 
        [Extent1].[Historic_Distribution] AS [Historic_Distribution], 
        [Extent1].[Distribution_Growth_Forecast_Yr1] AS [Distribution_Growth_Forecast_Yr1], 
        [Extent1].[Distribution_Growth_Forecast_Yr2] AS [Distribution_Growth_Forecast_Yr2], 
        [Extent1].[Distribution_Growth_Forecast_Yr3] AS [Distribution_Growth_Forecast_Yr3], 
        [Extent1].[Forecast_Distribution_Yr1] AS [Forecast_Distribution_Yr1], 
        [Extent1].[Forecast_Distribution_Yr2] AS [Forecast_Distribution_Yr2], 
        [Extent1].[Forecast_Distribution_Yr3] AS [Forecast_Distribution_Yr3], 
        [Extent1].[Earnings_Growth_Compounded] AS [Earnings_Growth_Compounded], 
        [Extent1].[Earnings_Forecast_Yr3] AS [Earnings_Forecast_Yr3], 
        [Extent1].[Historic_Dividend_Yield_FYE] AS [Historic_Dividend_Yield_FYE], 
        [Extent1].[Forward_Dividend_Yield_FYE] AS [Forward_Dividend_Yield_FYE], 
        [Extent1].[Yr3_Forward_Dividend_Yield] AS [Yr3_Forward_Dividend_Yield], 
        [Extent1].[Rolling_12M_Forward_Yield] AS [Rolling_12M_Forward_Yield], 
        [Extent1].[Historical_Earnings_FYE] AS [Historical_Earnings_FYE], 
        [Extent1].[Earnings_Forecast_Yr1] AS [Earnings_Forecast_Yr1], 
        [Extent1].[Earnings_Forecast_Yr2] AS [Earnings_Forecast_Yr2], 
        [Extent1].[Historic_Dividend_Yield_Relative] AS [Historic_Dividend_Yield_Relative], 
        [Extent1].[Rolling_12M_Historic_Distribution_PriceCurr] AS [Rolling_12M_Historic_Distribution_PriceCurr], 
        [Extent1].[Short_Term_Market_Rerate] AS [Short_Term_Market_Rerate], 
        [Extent1].[Forecast_12M_Total_Return] AS [Forecast_12M_Total_Return], 
        [Extent1].[Clean_Price] AS [Clean_Price], 
        [Extent1].[Rolling_Dividend_Yield_Historic] AS [Rolling_Dividend_Yield_Historic], 
        [Extent1].[Last_Update_Date] AS [Last_Update_Date], 
        [Extent1].[Last_Update_User] AS [Last_Update_User], 
        [Extent1].[Discount_Security_ID] AS [Discount_Security_ID], 
        [Extent1].[Net_Present_Value] AS [Net_Present_Value], 
        [Extent1].[Forecast_Rolling_Custom_Income] AS [Forecast_Rolling_Custom_Income], 
        [Extent1].[Custom_Period] AS [Custom_Period], 
        [Extent1].[Rolling_12M_Historic_Distribution] AS [Rolling_12M_Historic_Distribution], 
        [Extent1].[Record_Date] AS [Record_Date], 
        [Extent1].[Session_ID] AS [Session_ID], 
        [Extent1].[Hist_Last_Update_Date] AS [Hist_Last_Update_Date], 
        [Extent1].[Hist_Last_Update_User] AS [Hist_Last_Update_User], 
        [Extent1].[Rolling_12M_Forecast_Distribution] AS [Rolling_12M_Forecast_Distribution], 
        [Extent1].[Yr2_Forward_Dividend_Yield] AS [Yr2_Forward_Dividend_Yield], 
        [Extent1].[Exit_Yield] AS [Exit_Yield], 
        [Extent1].[Discount_Rate] AS [Discount_Rate], 
        [Extent1].[Distribution_Growth_Compounded] AS [Distribution_Growth_Compounded], 
        [Extent1].[Forecast_12MRolling_Income_Accrual] AS [Forecast_12MRolling_Income_Accrual], 
        [Extent1].[Rolling_12_to_24M_Forecast_Distribution] AS [Rolling_12_to_24M_Forecast_Distribution], 
        [Extent1].[Rolling_24_to_36M_Forecast_Distribution] AS [Rolling_24_to_36M_Forecast_Distribution], 
        [Extent1].[Forecast_Yr1_Dividend_Yield_Relative] AS [Forecast_Yr1_Dividend_Yield_Relative], 
        [Extent1].[Market_Historic_Yield] AS [Market_Historic_Yield], 
        [Extent1].[Market_Forward_Yield] AS [Market_Forward_Yield], 
        [Extent1].[Historic_Distribution_PriceCurr] AS [Historic_Distribution_PriceCurr], 
        [Extent1].[Forecast_Distribution_Yr1_PriceCurr] AS [Forecast_Distribution_Yr1_PriceCurr], 
        [Extent1].[Forecast_Distribution_Yr2_PriceCurr] AS [Forecast_Distribution_Yr2_PriceCurr], 
        [Extent1].[Forecast_Distribution_Yr3_PriceCurr] AS [Forecast_Distribution_Yr3_PriceCurr], 
        [Extent1].[Rolling_12M_Forecast_Distribution_PriceCurr] AS [Rolling_12M_Forecast_Distribution_PriceCurr], 
        [Extent1].[Rolling_12_24M_Forecast_Distribution_PriceCurr] AS [Rolling_12_24M_Forecast_Distribution_PriceCurr], 
        [Extent1].[Rolling_24_36M_Forecast_Distribution_PriceCurr] AS [Rolling_24_36M_Forecast_Distribution_PriceCurr], 
        [Extent1].[Distribution_Growth_Forecast_Yr4] AS [Distribution_Growth_Forecast_Yr4], 
        [Extent1].[Earnings_Forecast_Yr4] AS [Earnings_Forecast_Yr4], 
        [Extent1].[Forecast_Distribution_Yr4] AS [Forecast_Distribution_Yr4], 
        [Extent1].[Forecast_Distribution_Yr4_PriceCurr] AS [Forecast_Distribution_Yr4_PriceCurr], 
        [Extent2].[Security_ID] AS [Security_ID1], 
        [Extent2].[Entity_ID] AS [Entity_ID1], 
        [Extent2].[Security_Name] AS [Security_Name], 
        [Extent2].[Short_Name] AS [Short_Name], 
        [Extent2].[Primary_Exch] AS [Primary_Exch], 
        [Extent2].[Secondary_Exch] AS [Secondary_Exch], 
        [Extent2].[Country_Of_Domicile] AS [Country_Of_Domicile], 
        [Extent2].[Country_Of_Risk] AS [Country_Of_Risk], 
        [Extent2].[Security_Type_Code] AS [Security_Type_Code], 
        [Extent2].[Price_Multiplier] AS [Price_Multiplier], 
        [Extent2].[Income_Frequency] AS [Income_Frequency], 
        [Extent2].[Issuer_Code] AS [Issuer_Code], 
        [Extent2].[Ultimate_Issuer_Code] AS [Ultimate_Issuer_Code], 
        [Extent2].[Asset_Currency] AS [Asset_Currency], 
        [Extent2].[Min_Lot_Size] AS [Min_Lot_Size], 
        [Extent2].[Decimal_Precision] AS [Decimal_Precision], 
        [Extent2].[AvePrice_Rounding] AS [AvePrice_Rounding], 
        [Extent2].[Issue_Date] AS [Issue_Date], 
        [Extent2].[Maturity_Date] AS [Maturity_Date], 
        [Extent2].[Coupon_Rate] AS [Coupon_Rate], 
        [Extent2].[Price_Exchange] AS [Price_Exchange], 
        [Extent2].[Trade_Currency] AS [Trade_Currency], 
        [Extent2].[Price_Curr] AS [Price_Curr], 
        [Extent2].[Currency_Pair_Code] AS [Currency_Pair_Code], 
        [Extent2].[Share_Class] AS [Share_Class], 
        [Extent2].[Current_Market_Price] AS [Current_Market_Price], 
        [Extent2].[Index_Type] AS [Index_Type], 
        [Extent2].[Clean_Price_Formula] AS [Clean_Price_Formula], 
        [Extent2].[Accrued_Income_Price_Formula] AS [Accrued_Income_Price_Formula], 
        [Extent2].[Odd_First_Coupon_Date] AS [Odd_First_Coupon_Date], 
        [Extent2].[Odd_Last_Coupon_Date] AS [Odd_Last_Coupon_Date], 
        [Extent2].[Coupon_Anniversary_Indicator] AS [Coupon_Anniversary_Indicator], 
        [Extent2].[Track_EOM_Flag] AS [Track_EOM_Flag], 
        [Extent2].[Next_Coupon_Date] AS [Next_Coupon_Date], 
        [Extent2].[Previous_Coupon_Date] AS [Previous_Coupon_Date], 
        [Extent2].[Payment_Frequency] AS [Payment_Frequency], 
        [Extent2].[Coupon_BusDay_Adjustment] AS [Coupon_BusDay_Adjustment], 
        [Extent2].[Next_Ex_Div_Date] AS [Next_Ex_Div_Date], 
        [Extent2].[Ex_Div_BusDay_Adjustment] AS [Ex_Div_BusDay_Adjustment], 
        [Extent2].[Ex_Div_Period] AS [Ex_Div_Period], 
        [Extent2].[Ticker] AS [Ticker], 
        [Extent2].[Inet_ID] AS [Inet_ID], 
        [Extent2].[Bloomberg_ID] AS [Bloomberg_ID], 
        [Extent2].[External_Sec_ID] AS [External_Sec_ID], 
        [Extent2].[Reuters_ID] AS [Reuters_ID], 
        [Extent2].[ISIN] AS [ISIN], 
        [Extent2].[Call_Account_Flag] AS [Call_Account_Flag], 
        [Extent2].[System_Locked] AS [System_Locked], 
        [Extent2].[Last_Update_User] AS [Last_Update_User1], 
        [Extent2].[Last_Update_Date] AS [Last_Update_Date1], 
        [Extent2].[Security_Status] AS [Security_Status], 
        [Extent2].[Benchmark_Portfolio] AS [Benchmark_Portfolio], 
        [Extent2].[Active_flag] AS [Active_flag], 
        [Extent2].[Dividend_FX_Security_ID] AS [Dividend_FX_Security_ID]
        FROM  [dbo].[Security_Analytics_History] AS [Extent1]
        INNER JOIN [dbo].[Security_Detail] AS [Extent2] ON [Extent1].[Security_ID] = [Extent2].[Security_ID]
        WHERE [Extent1].[Security_ID] = @p__linq__0
    )  AS [Project1]
    ORDER BY [Project1].[Record_Date] DESC
2018-04-07 17:51:51.2567|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: SELECT 
    [Project1].[Decimal_Precision] AS [Decimal_Precision], 
    [Project1].[Entity_ID] AS [Entity_ID], 
    [Project1].[Security_ID] AS [Security_ID], 
    [Project1].[Issued_Amount] AS [Issued_Amount], 
    [Project1].[Market_Capitalisation] AS [Market_Capitalisation], 
    [Project1].[Risk_Premium] AS [Risk_Premium], 
    [Project1].[Exit_Price] AS [Exit_Price], 
    [Project1].[Total_Return_ME_1YR] AS [Total_Return_ME_1YR], 
    [Project1].[Total_Return_ME_2YR] AS [Total_Return_ME_2YR], 
    [Project1].[Total_Return_ME_3YR] AS [Total_Return_ME_3YR], 
    [Project1].[Historic_Distribution] AS [Historic_Distribution], 
    [Project1].[Distribution_Growth_Forecast_Yr1] AS [Distribution_Growth_Forecast_Yr1], 
    [Project1].[Distribution_Growth_Forecast_Yr2] AS [Distribution_Growth_Forecast_Yr2], 
    [Project1].[Distribution_Growth_Forecast_Yr3] AS [Distribution_Growth_Forecast_Yr3], 
    [Project1].[Forecast_Distribution_Yr1] AS [Forecast_Distribution_Yr1], 
    [Project1].[Forecast_Distribution_Yr2] AS [Forecast_Distribution_Yr2], 
    [Project1].[Forecast_Distribution_Yr3] AS [Forecast_Distribution_Yr3], 
    [Project1].[Earnings_Growth_Compounded] AS [Earnings_Growth_Compounded], 
    [Project1].[Earnings_Forecast_Yr3] AS [Earnings_Forecast_Yr3], 
    [Project1].[Historic_Dividend_Yield_FYE] AS [Historic_Dividend_Yield_FYE], 
    [Project1].[Forward_Dividend_Yield_FYE] AS [Forward_Dividend_Yield_FYE], 
    [Project1].[Yr3_Forward_Dividend_Yield] AS [Yr3_Forward_Dividend_Yield], 
    [Project1].[Rolling_12M_Forward_Yield] AS [Rolling_12M_Forward_Yield], 
    [Project1].[Historical_Earnings_FYE] AS [Historical_Earnings_FYE], 
    [Project1].[Earnings_Forecast_Yr1] AS [Earnings_Forecast_Yr1], 
    [Project1].[Earnings_Forecast_Yr2] AS [Earnings_Forecast_Yr2], 
    [Project1].[Historic_Dividend_Yield_Relative] AS [Historic_Dividend_Yield_Relative], 
    [Project1].[Rolling_12M_Historic_Distribution_PriceCurr] AS [Rolling_12M_Historic_Distribution_PriceCurr], 
    [Project1].[Short_Term_Market_Rerate] AS [Short_Term_Market_Rerate], 
    [Project1].[Forecast_12M_Total_Return] AS [Forecast_12M_Total_Return], 
    [Project1].[Clean_Price] AS [Clean_Price], 
    [Project1].[Rolling_Dividend_Yield_Historic] AS [Rolling_Dividend_Yield_Historic], 
    [Project1].[Last_Update_Date] AS [Last_Update_Date], 
    [Project1].[Last_Update_User] AS [Last_Update_User], 
    [Project1].[Discount_Security_ID] AS [Discount_Security_ID], 
    [Project1].[Net_Present_Value] AS [Net_Present_Value], 
    [Project1].[Forecast_Rolling_Custom_Income] AS [Forecast_Rolling_Custom_Income], 
    [Project1].[Custom_Period] AS [Custom_Period], 
    [Project1].[Rolling_12M_Historic_Distribution] AS [Rolling_12M_Historic_Distribution], 
    [Project1].[Record_Date] AS [Record_Date], 
    [Project1].[Session_ID] AS [Session_ID], 
    [Project1].[Hist_Last_Update_Date] AS [Hist_Last_Update_Date], 
    [Project1].[Hist_Last_Update_User] AS [Hist_Last_Update_User], 
    [Project1].[Rolling_12M_Forecast_Distribution] AS [Rolling_12M_Forecast_Distribution], 
    [Project1].[Yr2_Forward_Dividend_Yield] AS [Yr2_Forward_Dividend_Yield], 
    [Project1].[Exit_Yield] AS [Exit_Yield], 
    [Project1].[Discount_Rate] AS [Discount_Rate], 
    [Project1].[Distribution_Growth_Compounded] AS [Distribution_Growth_Compounded], 
    [Project1].[Forecast_12MRolling_Income_Accrual] AS [Forecast_12MRolling_Income_Accrual], 
    [Project1].[Rolling_12_to_24M_Forecast_Distribution] AS [Rolling_12_to_24M_Forecast_Distribution], 
    [Project1].[Rolling_24_to_36M_Forecast_Distribution] AS [Rolling_24_to_36M_Forecast_Distribution], 
    [Project1].[Forecast_Yr1_Dividend_Yield_Relative] AS [Forecast_Yr1_Dividend_Yield_Relative], 
    [Project1].[Market_Historic_Yield] AS [Market_Historic_Yield], 
    [Project1].[Market_Forward_Yield] AS [Market_Forward_Yield], 
    [Project1].[Historic_Distribution_PriceCurr] AS [Historic_Distribution_PriceCurr], 
    [Project1].[Forecast_Distribution_Yr1_PriceCurr] AS [Forecast_Distribution_Yr1_PriceCurr], 
    [Project1].[Forecast_Distribution_Yr2_PriceCurr] AS [Forecast_Distribution_Yr2_PriceCurr], 
    [Project1].[Forecast_Distribution_Yr3_PriceCurr] AS [Forecast_Distribution_Yr3_PriceCurr], 
    [Project1].[Rolling_12M_Forecast_Distribution_PriceCurr] AS [Rolling_12M_Forecast_Distribution_PriceCurr], 
    [Project1].[Rolling_12_24M_Forecast_Distribution_PriceCurr] AS [Rolling_12_24M_Forecast_Distribution_PriceCurr], 
    [Project1].[Rolling_24_36M_Forecast_Distribution_PriceCurr] AS [Rolling_24_36M_Forecast_Distribution_PriceCurr], 
    [Project1].[Distribution_Growth_Forecast_Yr4] AS [Distribution_Growth_Forecast_Yr4], 
    [Project1].[Earnings_Forecast_Yr4] AS [Earnings_Forecast_Yr4], 
    [Project1].[Forecast_Distribution_Yr4] AS [Forecast_Distribution_Yr4], 
    [Project1].[Forecast_Distribution_Yr4_PriceCurr] AS [Forecast_Distribution_Yr4_PriceCurr], 
    [Project1].[Security_ID1] AS [Security_ID1], 
    [Project1].[Entity_ID1] AS [Entity_ID1], 
    [Project1].[Security_Name] AS [Security_Name], 
    [Project1].[Short_Name] AS [Short_Name], 
    [Project1].[Primary_Exch] AS [Primary_Exch], 
    [Project1].[Secondary_Exch] AS [Secondary_Exch], 
    [Project1].[Country_Of_Domicile] AS [Country_Of_Domicile], 
    [Project1].[Country_Of_Risk] AS [Country_Of_Risk], 
    [Project1].[Security_Type_Code] AS [Security_Type_Code], 
    [Project1].[Price_Multiplier] AS [Price_Multiplier], 
    [Project1].[Income_Frequency] AS [Income_Frequency], 
    [Project1].[Issuer_Code] AS [Issuer_Code], 
    [Project1].[Ultimate_Issuer_Code] AS [Ultimate_Issuer_Code], 
    [Project1].[Asset_Currency] AS [Asset_Currency], 
    [Project1].[Min_Lot_Size] AS [Min_Lot_Size], 
    [Project1].[AvePrice_Rounding] AS [AvePrice_Rounding], 
    [Project1].[Issue_Date] AS [Issue_Date], 
    [Project1].[Maturity_Date] AS [Maturity_Date], 
    [Project1].[Coupon_Rate] AS [Coupon_Rate], 
    [Project1].[Price_Exchange] AS [Price_Exchange], 
    [Project1].[Trade_Currency] AS [Trade_Currency], 
    [Project1].[Price_Curr] AS [Price_Curr], 
    [Project1].[Currency_Pair_Code] AS [Currency_Pair_Code], 
    [Project1].[Share_Class] AS [Share_Class], 
    [Project1].[Current_Market_Price] AS [Current_Market_Price], 
    [Project1].[Index_Type] AS [Index_Type], 
    [Project1].[Clean_Price_Formula] AS [Clean_Price_Formula], 
    [Project1].[Accrued_Income_Price_Formula] AS [Accrued_Income_Price_Formula], 
    [Project1].[Odd_First_Coupon_Date] AS [Odd_First_Coupon_Date], 
    [Project1].[Odd_Last_Coupon_Date] AS [Odd_Last_Coupon_Date], 
    [Project1].[Coupon_Anniversary_Indicator] AS [Coupon_Anniversary_Indicator], 
    [Project1].[Track_EOM_Flag] AS [Track_EOM_Flag], 
    [Project1].[Next_Coupon_Date] AS [Next_Coupon_Date], 
    [Project1].[Previous_Coupon_Date] AS [Previous_Coupon_Date], 
    [Project1].[Payment_Frequency] AS [Payment_Frequency], 
    [Project1].[Coupon_BusDay_Adjustment] AS [Coupon_BusDay_Adjustment], 
    [Project1].[Next_Ex_Div_Date] AS [Next_Ex_Div_Date], 
    [Project1].[Ex_Div_BusDay_Adjustment] AS [Ex_Div_BusDay_Adjustment], 
    [Project1].[Ex_Div_Period] AS [Ex_Div_Period], 
    [Project1].[Ticker] AS [Ticker], 
    [Project1].[Inet_ID] AS [Inet_ID], 
    [Project1].[Bloomberg_ID] AS [Bloomberg_ID], 
    [Project1].[External_Sec_ID] AS [External_Sec_ID], 
    [Project1].[Reuters_ID] AS [Reuters_ID], 
    [Project1].[ISIN] AS [ISIN], 
    [Project1].[Call_Account_Flag] AS [Call_Account_Flag], 
    [Project1].[System_Locked] AS [System_Locked], 
    [Project1].[Last_Update_User1] AS [Last_Update_User1], 
    [Project1].[Last_Update_Date1] AS [Last_Update_Date1], 
    [Project1].[Security_Status] AS [Security_Status], 
    [Project1].[Benchmark_Portfolio] AS [Benchmark_Portfolio], 
    [Project1].[Active_flag] AS [Active_flag], 
    [Project1].[Dividend_FX_Security_ID] AS [Dividend_FX_Security_ID]
    FROM ( SELECT 
        [Extent1].[Entity_ID] AS [Entity_ID], 
        [Extent1].[Security_ID] AS [Security_ID], 
        [Extent1].[Issued_Amount] AS [Issued_Amount], 
        [Extent1].[Market_Capitalisation] AS [Market_Capitalisation], 
        [Extent1].[Risk_Premium] AS [Risk_Premium], 
        [Extent1].[Exit_Price] AS [Exit_Price], 
        [Extent1].[Total_Return_ME_1YR] AS [Total_Return_ME_1YR], 
        [Extent1].[Total_Return_ME_2YR] AS [Total_Return_ME_2YR], 
        [Extent1].[Total_Return_ME_3YR] AS [Total_Return_ME_3YR], 
        [Extent1].[Historic_Distribution] AS [Historic_Distribution], 
        [Extent1].[Distribution_Growth_Forecast_Yr1] AS [Distribution_Growth_Forecast_Yr1], 
        [Extent1].[Distribution_Growth_Forecast_Yr2] AS [Distribution_Growth_Forecast_Yr2], 
        [Extent1].[Distribution_Growth_Forecast_Yr3] AS [Distribution_Growth_Forecast_Yr3], 
        [Extent1].[Forecast_Distribution_Yr1] AS [Forecast_Distribution_Yr1], 
        [Extent1].[Forecast_Distribution_Yr2] AS [Forecast_Distribution_Yr2], 
        [Extent1].[Forecast_Distribution_Yr3] AS [Forecast_Distribution_Yr3], 
        [Extent1].[Earnings_Growth_Compounded] AS [Earnings_Growth_Compounded], 
        [Extent1].[Earnings_Forecast_Yr3] AS [Earnings_Forecast_Yr3], 
        [Extent1].[Historic_Dividend_Yield_FYE] AS [Historic_Dividend_Yield_FYE], 
        [Extent1].[Forward_Dividend_Yield_FYE] AS [Forward_Dividend_Yield_FYE], 
        [Extent1].[Yr3_Forward_Dividend_Yield] AS [Yr3_Forward_Dividend_Yield], 
        [Extent1].[Rolling_12M_Forward_Yield] AS [Rolling_12M_Forward_Yield], 
        [Extent1].[Historical_Earnings_FYE] AS [Historical_Earnings_FYE], 
        [Extent1].[Earnings_Forecast_Yr1] AS [Earnings_Forecast_Yr1], 
        [Extent1].[Earnings_Forecast_Yr2] AS [Earnings_Forecast_Yr2], 
        [Extent1].[Historic_Dividend_Yield_Relative] AS [Historic_Dividend_Yield_Relative], 
        [Extent1].[Rolling_12M_Historic_Distribution_PriceCurr] AS [Rolling_12M_Historic_Distribution_PriceCurr], 
        [Extent1].[Short_Term_Market_Rerate] AS [Short_Term_Market_Rerate], 
        [Extent1].[Forecast_12M_Total_Return] AS [Forecast_12M_Total_Return], 
        [Extent1].[Clean_Price] AS [Clean_Price], 
        [Extent1].[Rolling_Dividend_Yield_Historic] AS [Rolling_Dividend_Yield_Historic], 
        [Extent1].[Last_Update_Date] AS [Last_Update_Date], 
        [Extent1].[Last_Update_User] AS [Last_Update_User], 
        [Extent1].[Discount_Security_ID] AS [Discount_Security_ID], 
        [Extent1].[Net_Present_Value] AS [Net_Present_Value], 
        [Extent1].[Forecast_Rolling_Custom_Income] AS [Forecast_Rolling_Custom_Income], 
        [Extent1].[Custom_Period] AS [Custom_Period], 
        [Extent1].[Rolling_12M_Historic_Distribution] AS [Rolling_12M_Historic_Distribution], 
        [Extent1].[Record_Date] AS [Record_Date], 
        [Extent1].[Session_ID] AS [Session_ID], 
        [Extent1].[Hist_Last_Update_Date] AS [Hist_Last_Update_Date], 
        [Extent1].[Hist_Last_Update_User] AS [Hist_Last_Update_User], 
        [Extent1].[Rolling_12M_Forecast_Distribution] AS [Rolling_12M_Forecast_Distribution], 
        [Extent1].[Yr2_Forward_Dividend_Yield] AS [Yr2_Forward_Dividend_Yield], 
        [Extent1].[Exit_Yield] AS [Exit_Yield], 
        [Extent1].[Discount_Rate] AS [Discount_Rate], 
        [Extent1].[Distribution_Growth_Compounded] AS [Distribution_Growth_Compounded], 
        [Extent1].[Forecast_12MRolling_Income_Accrual] AS [Forecast_12MRolling_Income_Accrual], 
        [Extent1].[Rolling_12_to_24M_Forecast_Distribution] AS [Rolling_12_to_24M_Forecast_Distribution], 
        [Extent1].[Rolling_24_to_36M_Forecast_Distribution] AS [Rolling_24_to_36M_Forecast_Distribution], 
        [Extent1].[Forecast_Yr1_Dividend_Yield_Relative] AS [Forecast_Yr1_Dividend_Yield_Relative], 
        [Extent1].[Market_Historic_Yield] AS [Market_Historic_Yield], 
        [Extent1].[Market_Forward_Yield] AS [Market_Forward_Yield], 
        [Extent1].[Historic_Distribution_PriceCurr] AS [Historic_Distribution_PriceCurr], 
        [Extent1].[Forecast_Distribution_Yr1_PriceCurr] AS [Forecast_Distribution_Yr1_PriceCurr], 
        [Extent1].[Forecast_Distribution_Yr2_PriceCurr] AS [Forecast_Distribution_Yr2_PriceCurr], 
        [Extent1].[Forecast_Distribution_Yr3_PriceCurr] AS [Forecast_Distribution_Yr3_PriceCurr], 
        [Extent1].[Rolling_12M_Forecast_Distribution_PriceCurr] AS [Rolling_12M_Forecast_Distribution_PriceCurr], 
        [Extent1].[Rolling_12_24M_Forecast_Distribution_PriceCurr] AS [Rolling_12_24M_Forecast_Distribution_PriceCurr], 
        [Extent1].[Rolling_24_36M_Forecast_Distribution_PriceCurr] AS [Rolling_24_36M_Forecast_Distribution_PriceCurr], 
        [Extent1].[Distribution_Growth_Forecast_Yr4] AS [Distribution_Growth_Forecast_Yr4], 
        [Extent1].[Earnings_Forecast_Yr4] AS [Earnings_Forecast_Yr4], 
        [Extent1].[Forecast_Distribution_Yr4] AS [Forecast_Distribution_Yr4], 
        [Extent1].[Forecast_Distribution_Yr4_PriceCurr] AS [Forecast_Distribution_Yr4_PriceCurr], 
        [Extent2].[Security_ID] AS [Security_ID1], 
        [Extent2].[Entity_ID] AS [Entity_ID1], 
        [Extent2].[Security_Name] AS [Security_Name], 
        [Extent2].[Short_Name] AS [Short_Name], 
        [Extent2].[Primary_Exch] AS [Primary_Exch], 
        [Extent2].[Secondary_Exch] AS [Secondary_Exch], 
        [Extent2].[Country_Of_Domicile] AS [Country_Of_Domicile], 
        [Extent2].[Country_Of_Risk] AS [Country_Of_Risk], 
        [Extent2].[Security_Type_Code] AS [Security_Type_Code], 
        [Extent2].[Price_Multiplier] AS [Price_Multiplier], 
        [Extent2].[Income_Frequency] AS [Income_Frequency], 
        [Extent2].[Issuer_Code] AS [Issuer_Code], 
        [Extent2].[Ultimate_Issuer_Code] AS [Ultimate_Issuer_Code], 
        [Extent2].[Asset_Currency] AS [Asset_Currency], 
        [Extent2].[Min_Lot_Size] AS [Min_Lot_Size], 
        [Extent2].[Decimal_Precision] AS [Decimal_Precision], 
        [Extent2].[AvePrice_Rounding] AS [AvePrice_Rounding], 
        [Extent2].[Issue_Date] AS [Issue_Date], 
        [Extent2].[Maturity_Date] AS [Maturity_Date], 
        [Extent2].[Coupon_Rate] AS [Coupon_Rate], 
        [Extent2].[Price_Exchange] AS [Price_Exchange], 
        [Extent2].[Trade_Currency] AS [Trade_Currency], 
        [Extent2].[Price_Curr] AS [Price_Curr], 
        [Extent2].[Currency_Pair_Code] AS [Currency_Pair_Code], 
        [Extent2].[Share_Class] AS [Share_Class], 
        [Extent2].[Current_Market_Price] AS [Current_Market_Price], 
        [Extent2].[Index_Type] AS [Index_Type], 
        [Extent2].[Clean_Price_Formula] AS [Clean_Price_Formula], 
        [Extent2].[Accrued_Income_Price_Formula] AS [Accrued_Income_Price_Formula], 
        [Extent2].[Odd_First_Coupon_Date] AS [Odd_First_Coupon_Date], 
        [Extent2].[Odd_Last_Coupon_Date] AS [Odd_Last_Coupon_Date], 
        [Extent2].[Coupon_Anniversary_Indicator] AS [Coupon_Anniversary_Indicator], 
        [Extent2].[Track_EOM_Flag] AS [Track_EOM_Flag], 
        [Extent2].[Next_Coupon_Date] AS [Next_Coupon_Date], 
        [Extent2].[Previous_Coupon_Date] AS [Previous_Coupon_Date], 
        [Extent2].[Payment_Frequency] AS [Payment_Frequency], 
        [Extent2].[Coupon_BusDay_Adjustment] AS [Coupon_BusDay_Adjustment], 
        [Extent2].[Next_Ex_Div_Date] AS [Next_Ex_Div_Date], 
        [Extent2].[Ex_Div_BusDay_Adjustment] AS [Ex_Div_BusDay_Adjustment], 
        [Extent2].[Ex_Div_Period] AS [Ex_Div_Period], 
        [Extent2].[Ticker] AS [Ticker], 
        [Extent2].[Inet_ID] AS [Inet_ID], 
        [Extent2].[Bloomberg_ID] AS [Bloomberg_ID], 
        [Extent2].[External_Sec_ID] AS [External_Sec_ID], 
        [Extent2].[Reuters_ID] AS [Reuters_ID], 
        [Extent2].[ISIN] AS [ISIN], 
        [Extent2].[Call_Account_Flag] AS [Call_Account_Flag], 
        [Extent2].[System_Locked] AS [System_Locked], 
        [Extent2].[Last_Update_User] AS [Last_Update_User1], 
        [Extent2].[Last_Update_Date] AS [Last_Update_Date1], 
        [Extent2].[Security_Status] AS [Security_Status], 
        [Extent2].[Benchmark_Portfolio] AS [Benchmark_Portfolio], 
        [Extent2].[Active_flag] AS [Active_flag], 
        [Extent2].[Dividend_FX_Security_ID] AS [Dividend_FX_Security_ID]
        FROM  [dbo].[Security_Analytics_History] AS [Extent1]
        INNER JOIN [dbo].[Security_Detail] AS [Extent2] ON [Extent1].[Security_ID] = [Extent2].[Security_ID]
        WHERE [Extent1].[Security_ID] = @p__linq__0
    )  AS [Project1]
    ORDER BY [Project1].[Record_Date] DESC
2018-04-07 17:51:54.9659|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: IF db_id(N'MetopeAzureDb') IS NOT NULL SELECT 1 ELSE SELECT Count(*) FROM sys.databases WHERE [name]=N'MetopeAzureDb'
2018-04-07 17:51:55.1270|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: IF db_id(N'MetopeAzureDb') IS NOT NULL SELECT 1 ELSE SELECT Count(*) FROM sys.databases WHERE [name]=N'MetopeAzureDb'
2018-04-07 17:51:55.2441|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: IF db_id(N'MetopeAzureDb') IS NOT NULL SELECT 1 ELSE SELECT Count(*) FROM sys.databases WHERE [name]=N'MetopeAzureDb'
2018-04-07 17:51:55.4212|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: IF db_id(N'MetopeAzureDb') IS NOT NULL SELECT 1 ELSE SELECT Count(*) FROM sys.databases WHERE [name]=N'MetopeAzureDb'
2018-04-07 17:57:39.9951|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: SELECT 
    [Project1].[Decimal_Precision] AS [Decimal_Precision], 
    [Project1].[Entity_ID] AS [Entity_ID], 
    [Project1].[Security_ID] AS [Security_ID], 
    [Project1].[Issued_Amount] AS [Issued_Amount], 
    [Project1].[Market_Capitalisation] AS [Market_Capitalisation], 
    [Project1].[Risk_Premium] AS [Risk_Premium], 
    [Project1].[Exit_Price] AS [Exit_Price], 
    [Project1].[Total_Return_ME_1YR] AS [Total_Return_ME_1YR], 
    [Project1].[Total_Return_ME_2YR] AS [Total_Return_ME_2YR], 
    [Project1].[Total_Return_ME_3YR] AS [Total_Return_ME_3YR], 
    [Project1].[Historic_Distribution] AS [Historic_Distribution], 
    [Project1].[Distribution_Growth_Forecast_Yr1] AS [Distribution_Growth_Forecast_Yr1], 
    [Project1].[Distribution_Growth_Forecast_Yr2] AS [Distribution_Growth_Forecast_Yr2], 
    [Project1].[Distribution_Growth_Forecast_Yr3] AS [Distribution_Growth_Forecast_Yr3], 
    [Project1].[Forecast_Distribution_Yr1] AS [Forecast_Distribution_Yr1], 
    [Project1].[Forecast_Distribution_Yr2] AS [Forecast_Distribution_Yr2], 
    [Project1].[Forecast_Distribution_Yr3] AS [Forecast_Distribution_Yr3], 
    [Project1].[Earnings_Growth_Compounded] AS [Earnings_Growth_Compounded], 
    [Project1].[Earnings_Forecast_Yr3] AS [Earnings_Forecast_Yr3], 
    [Project1].[Historic_Dividend_Yield_FYE] AS [Historic_Dividend_Yield_FYE], 
    [Project1].[Forward_Dividend_Yield_FYE] AS [Forward_Dividend_Yield_FYE], 
    [Project1].[Yr3_Forward_Dividend_Yield] AS [Yr3_Forward_Dividend_Yield], 
    [Project1].[Rolling_12M_Forward_Yield] AS [Rolling_12M_Forward_Yield], 
    [Project1].[Historical_Earnings_FYE] AS [Historical_Earnings_FYE], 
    [Project1].[Earnings_Forecast_Yr1] AS [Earnings_Forecast_Yr1], 
    [Project1].[Earnings_Forecast_Yr2] AS [Earnings_Forecast_Yr2], 
    [Project1].[Historic_Dividend_Yield_Relative] AS [Historic_Dividend_Yield_Relative], 
    [Project1].[Rolling_12M_Historic_Distribution_PriceCurr] AS [Rolling_12M_Historic_Distribution_PriceCurr], 
    [Project1].[Short_Term_Market_Rerate] AS [Short_Term_Market_Rerate], 
    [Project1].[Forecast_12M_Total_Return] AS [Forecast_12M_Total_Return], 
    [Project1].[Clean_Price] AS [Clean_Price], 
    [Project1].[Rolling_Dividend_Yield_Historic] AS [Rolling_Dividend_Yield_Historic], 
    [Project1].[Last_Update_Date] AS [Last_Update_Date], 
    [Project1].[Last_Update_User] AS [Last_Update_User], 
    [Project1].[Discount_Security_ID] AS [Discount_Security_ID], 
    [Project1].[Net_Present_Value] AS [Net_Present_Value], 
    [Project1].[Forecast_Rolling_Custom_Income] AS [Forecast_Rolling_Custom_Income], 
    [Project1].[Custom_Period] AS [Custom_Period], 
    [Project1].[Rolling_12M_Historic_Distribution] AS [Rolling_12M_Historic_Distribution], 
    [Project1].[Record_Date] AS [Record_Date], 
    [Project1].[Session_ID] AS [Session_ID], 
    [Project1].[Hist_Last_Update_Date] AS [Hist_Last_Update_Date], 
    [Project1].[Hist_Last_Update_User] AS [Hist_Last_Update_User], 
    [Project1].[Rolling_12M_Forecast_Distribution] AS [Rolling_12M_Forecast_Distribution], 
    [Project1].[Yr2_Forward_Dividend_Yield] AS [Yr2_Forward_Dividend_Yield], 
    [Project1].[Exit_Yield] AS [Exit_Yield], 
    [Project1].[Discount_Rate] AS [Discount_Rate], 
    [Project1].[Distribution_Growth_Compounded] AS [Distribution_Growth_Compounded], 
    [Project1].[Forecast_12MRolling_Income_Accrual] AS [Forecast_12MRolling_Income_Accrual], 
    [Project1].[Rolling_12_to_24M_Forecast_Distribution] AS [Rolling_12_to_24M_Forecast_Distribution], 
    [Project1].[Rolling_24_to_36M_Forecast_Distribution] AS [Rolling_24_to_36M_Forecast_Distribution], 
    [Project1].[Forecast_Yr1_Dividend_Yield_Relative] AS [Forecast_Yr1_Dividend_Yield_Relative], 
    [Project1].[Market_Historic_Yield] AS [Market_Historic_Yield], 
    [Project1].[Market_Forward_Yield] AS [Market_Forward_Yield], 
    [Project1].[Historic_Distribution_PriceCurr] AS [Historic_Distribution_PriceCurr], 
    [Project1].[Forecast_Distribution_Yr1_PriceCurr] AS [Forecast_Distribution_Yr1_PriceCurr], 
    [Project1].[Forecast_Distribution_Yr2_PriceCurr] AS [Forecast_Distribution_Yr2_PriceCurr], 
    [Project1].[Forecast_Distribution_Yr3_PriceCurr] AS [Forecast_Distribution_Yr3_PriceCurr], 
    [Project1].[Rolling_12M_Forecast_Distribution_PriceCurr] AS [Rolling_12M_Forecast_Distribution_PriceCurr], 
    [Project1].[Rolling_12_24M_Forecast_Distribution_PriceCurr] AS [Rolling_12_24M_Forecast_Distribution_PriceCurr], 
    [Project1].[Rolling_24_36M_Forecast_Distribution_PriceCurr] AS [Rolling_24_36M_Forecast_Distribution_PriceCurr], 
    [Project1].[Distribution_Growth_Forecast_Yr4] AS [Distribution_Growth_Forecast_Yr4], 
    [Project1].[Earnings_Forecast_Yr4] AS [Earnings_Forecast_Yr4], 
    [Project1].[Forecast_Distribution_Yr4] AS [Forecast_Distribution_Yr4], 
    [Project1].[Forecast_Distribution_Yr4_PriceCurr] AS [Forecast_Distribution_Yr4_PriceCurr], 
    [Project1].[Security_ID1] AS [Security_ID1], 
    [Project1].[Entity_ID1] AS [Entity_ID1], 
    [Project1].[Security_Name] AS [Security_Name], 
    [Project1].[Short_Name] AS [Short_Name], 
    [Project1].[Primary_Exch] AS [Primary_Exch], 
    [Project1].[Secondary_Exch] AS [Secondary_Exch], 
    [Project1].[Country_Of_Domicile] AS [Country_Of_Domicile], 
    [Project1].[Country_Of_Risk] AS [Country_Of_Risk], 
    [Project1].[Security_Type_Code] AS [Security_Type_Code], 
    [Project1].[Price_Multiplier] AS [Price_Multiplier], 
    [Project1].[Income_Frequency] AS [Income_Frequency], 
    [Project1].[Issuer_Code] AS [Issuer_Code], 
    [Project1].[Ultimate_Issuer_Code] AS [Ultimate_Issuer_Code], 
    [Project1].[Asset_Currency] AS [Asset_Currency], 
    [Project1].[Min_Lot_Size] AS [Min_Lot_Size], 
    [Project1].[AvePrice_Rounding] AS [AvePrice_Rounding], 
    [Project1].[Issue_Date] AS [Issue_Date], 
    [Project1].[Maturity_Date] AS [Maturity_Date], 
    [Project1].[Coupon_Rate] AS [Coupon_Rate], 
    [Project1].[Price_Exchange] AS [Price_Exchange], 
    [Project1].[Trade_Currency] AS [Trade_Currency], 
    [Project1].[Price_Curr] AS [Price_Curr], 
    [Project1].[Currency_Pair_Code] AS [Currency_Pair_Code], 
    [Project1].[Share_Class] AS [Share_Class], 
    [Project1].[Current_Market_Price] AS [Current_Market_Price], 
    [Project1].[Index_Type] AS [Index_Type], 
    [Project1].[Clean_Price_Formula] AS [Clean_Price_Formula], 
    [Project1].[Accrued_Income_Price_Formula] AS [Accrued_Income_Price_Formula], 
    [Project1].[Odd_First_Coupon_Date] AS [Odd_First_Coupon_Date], 
    [Project1].[Odd_Last_Coupon_Date] AS [Odd_Last_Coupon_Date], 
    [Project1].[Coupon_Anniversary_Indicator] AS [Coupon_Anniversary_Indicator], 
    [Project1].[Track_EOM_Flag] AS [Track_EOM_Flag], 
    [Project1].[Next_Coupon_Date] AS [Next_Coupon_Date], 
    [Project1].[Previous_Coupon_Date] AS [Previous_Coupon_Date], 
    [Project1].[Payment_Frequency] AS [Payment_Frequency], 
    [Project1].[Coupon_BusDay_Adjustment] AS [Coupon_BusDay_Adjustment], 
    [Project1].[Next_Ex_Div_Date] AS [Next_Ex_Div_Date], 
    [Project1].[Ex_Div_BusDay_Adjustment] AS [Ex_Div_BusDay_Adjustment], 
    [Project1].[Ex_Div_Period] AS [Ex_Div_Period], 
    [Project1].[Ticker] AS [Ticker], 
    [Project1].[Inet_ID] AS [Inet_ID], 
    [Project1].[Bloomberg_ID] AS [Bloomberg_ID], 
    [Project1].[External_Sec_ID] AS [External_Sec_ID], 
    [Project1].[Reuters_ID] AS [Reuters_ID], 
    [Project1].[ISIN] AS [ISIN], 
    [Project1].[Call_Account_Flag] AS [Call_Account_Flag], 
    [Project1].[System_Locked] AS [System_Locked], 
    [Project1].[Last_Update_User1] AS [Last_Update_User1], 
    [Project1].[Last_Update_Date1] AS [Last_Update_Date1], 
    [Project1].[Security_Status] AS [Security_Status], 
    [Project1].[Benchmark_Portfolio] AS [Benchmark_Portfolio], 
    [Project1].[Active_flag] AS [Active_flag], 
    [Project1].[Dividend_FX_Security_ID] AS [Dividend_FX_Security_ID]
    FROM ( SELECT 
        [Extent1].[Entity_ID] AS [Entity_ID], 
        [Extent1].[Security_ID] AS [Security_ID], 
        [Extent1].[Issued_Amount] AS [Issued_Amount], 
        [Extent1].[Market_Capitalisation] AS [Market_Capitalisation], 
        [Extent1].[Risk_Premium] AS [Risk_Premium], 
        [Extent1].[Exit_Price] AS [Exit_Price], 
        [Extent1].[Total_Return_ME_1YR] AS [Total_Return_ME_1YR], 
        [Extent1].[Total_Return_ME_2YR] AS [Total_Return_ME_2YR], 
        [Extent1].[Total_Return_ME_3YR] AS [Total_Return_ME_3YR], 
        [Extent1].[Historic_Distribution] AS [Historic_Distribution], 
        [Extent1].[Distribution_Growth_Forecast_Yr1] AS [Distribution_Growth_Forecast_Yr1], 
        [Extent1].[Distribution_Growth_Forecast_Yr2] AS [Distribution_Growth_Forecast_Yr2], 
        [Extent1].[Distribution_Growth_Forecast_Yr3] AS [Distribution_Growth_Forecast_Yr3], 
        [Extent1].[Forecast_Distribution_Yr1] AS [Forecast_Distribution_Yr1], 
        [Extent1].[Forecast_Distribution_Yr2] AS [Forecast_Distribution_Yr2], 
        [Extent1].[Forecast_Distribution_Yr3] AS [Forecast_Distribution_Yr3], 
        [Extent1].[Earnings_Growth_Compounded] AS [Earnings_Growth_Compounded], 
        [Extent1].[Earnings_Forecast_Yr3] AS [Earnings_Forecast_Yr3], 
        [Extent1].[Historic_Dividend_Yield_FYE] AS [Historic_Dividend_Yield_FYE], 
        [Extent1].[Forward_Dividend_Yield_FYE] AS [Forward_Dividend_Yield_FYE], 
        [Extent1].[Yr3_Forward_Dividend_Yield] AS [Yr3_Forward_Dividend_Yield], 
        [Extent1].[Rolling_12M_Forward_Yield] AS [Rolling_12M_Forward_Yield], 
        [Extent1].[Historical_Earnings_FYE] AS [Historical_Earnings_FYE], 
        [Extent1].[Earnings_Forecast_Yr1] AS [Earnings_Forecast_Yr1], 
        [Extent1].[Earnings_Forecast_Yr2] AS [Earnings_Forecast_Yr2], 
        [Extent1].[Historic_Dividend_Yield_Relative] AS [Historic_Dividend_Yield_Relative], 
        [Extent1].[Rolling_12M_Historic_Distribution_PriceCurr] AS [Rolling_12M_Historic_Distribution_PriceCurr], 
        [Extent1].[Short_Term_Market_Rerate] AS [Short_Term_Market_Rerate], 
        [Extent1].[Forecast_12M_Total_Return] AS [Forecast_12M_Total_Return], 
        [Extent1].[Clean_Price] AS [Clean_Price], 
        [Extent1].[Rolling_Dividend_Yield_Historic] AS [Rolling_Dividend_Yield_Historic], 
        [Extent1].[Last_Update_Date] AS [Last_Update_Date], 
        [Extent1].[Last_Update_User] AS [Last_Update_User], 
        [Extent1].[Discount_Security_ID] AS [Discount_Security_ID], 
        [Extent1].[Net_Present_Value] AS [Net_Present_Value], 
        [Extent1].[Forecast_Rolling_Custom_Income] AS [Forecast_Rolling_Custom_Income], 
        [Extent1].[Custom_Period] AS [Custom_Period], 
        [Extent1].[Rolling_12M_Historic_Distribution] AS [Rolling_12M_Historic_Distribution], 
        [Extent1].[Record_Date] AS [Record_Date], 
        [Extent1].[Session_ID] AS [Session_ID], 
        [Extent1].[Hist_Last_Update_Date] AS [Hist_Last_Update_Date], 
        [Extent1].[Hist_Last_Update_User] AS [Hist_Last_Update_User], 
        [Extent1].[Rolling_12M_Forecast_Distribution] AS [Rolling_12M_Forecast_Distribution], 
        [Extent1].[Yr2_Forward_Dividend_Yield] AS [Yr2_Forward_Dividend_Yield], 
        [Extent1].[Exit_Yield] AS [Exit_Yield], 
        [Extent1].[Discount_Rate] AS [Discount_Rate], 
        [Extent1].[Distribution_Growth_Compounded] AS [Distribution_Growth_Compounded], 
        [Extent1].[Forecast_12MRolling_Income_Accrual] AS [Forecast_12MRolling_Income_Accrual], 
        [Extent1].[Rolling_12_to_24M_Forecast_Distribution] AS [Rolling_12_to_24M_Forecast_Distribution], 
        [Extent1].[Rolling_24_to_36M_Forecast_Distribution] AS [Rolling_24_to_36M_Forecast_Distribution], 
        [Extent1].[Forecast_Yr1_Dividend_Yield_Relative] AS [Forecast_Yr1_Dividend_Yield_Relative], 
        [Extent1].[Market_Historic_Yield] AS [Market_Historic_Yield], 
        [Extent1].[Market_Forward_Yield] AS [Market_Forward_Yield], 
        [Extent1].[Historic_Distribution_PriceCurr] AS [Historic_Distribution_PriceCurr], 
        [Extent1].[Forecast_Distribution_Yr1_PriceCurr] AS [Forecast_Distribution_Yr1_PriceCurr], 
        [Extent1].[Forecast_Distribution_Yr2_PriceCurr] AS [Forecast_Distribution_Yr2_PriceCurr], 
        [Extent1].[Forecast_Distribution_Yr3_PriceCurr] AS [Forecast_Distribution_Yr3_PriceCurr], 
        [Extent1].[Rolling_12M_Forecast_Distribution_PriceCurr] AS [Rolling_12M_Forecast_Distribution_PriceCurr], 
        [Extent1].[Rolling_12_24M_Forecast_Distribution_PriceCurr] AS [Rolling_12_24M_Forecast_Distribution_PriceCurr], 
        [Extent1].[Rolling_24_36M_Forecast_Distribution_PriceCurr] AS [Rolling_24_36M_Forecast_Distribution_PriceCurr], 
        [Extent1].[Distribution_Growth_Forecast_Yr4] AS [Distribution_Growth_Forecast_Yr4], 
        [Extent1].[Earnings_Forecast_Yr4] AS [Earnings_Forecast_Yr4], 
        [Extent1].[Forecast_Distribution_Yr4] AS [Forecast_Distribution_Yr4], 
        [Extent1].[Forecast_Distribution_Yr4_PriceCurr] AS [Forecast_Distribution_Yr4_PriceCurr], 
        [Extent2].[Security_ID] AS [Security_ID1], 
        [Extent2].[Entity_ID] AS [Entity_ID1], 
        [Extent2].[Security_Name] AS [Security_Name], 
        [Extent2].[Short_Name] AS [Short_Name], 
        [Extent2].[Primary_Exch] AS [Primary_Exch], 
        [Extent2].[Secondary_Exch] AS [Secondary_Exch], 
        [Extent2].[Country_Of_Domicile] AS [Country_Of_Domicile], 
        [Extent2].[Country_Of_Risk] AS [Country_Of_Risk], 
        [Extent2].[Security_Type_Code] AS [Security_Type_Code], 
        [Extent2].[Price_Multiplier] AS [Price_Multiplier], 
        [Extent2].[Income_Frequency] AS [Income_Frequency], 
        [Extent2].[Issuer_Code] AS [Issuer_Code], 
        [Extent2].[Ultimate_Issuer_Code] AS [Ultimate_Issuer_Code], 
        [Extent2].[Asset_Currency] AS [Asset_Currency], 
        [Extent2].[Min_Lot_Size] AS [Min_Lot_Size], 
        [Extent2].[Decimal_Precision] AS [Decimal_Precision], 
        [Extent2].[AvePrice_Rounding] AS [AvePrice_Rounding], 
        [Extent2].[Issue_Date] AS [Issue_Date], 
        [Extent2].[Maturity_Date] AS [Maturity_Date], 
        [Extent2].[Coupon_Rate] AS [Coupon_Rate], 
        [Extent2].[Price_Exchange] AS [Price_Exchange], 
        [Extent2].[Trade_Currency] AS [Trade_Currency], 
        [Extent2].[Price_Curr] AS [Price_Curr], 
        [Extent2].[Currency_Pair_Code] AS [Currency_Pair_Code], 
        [Extent2].[Share_Class] AS [Share_Class], 
        [Extent2].[Current_Market_Price] AS [Current_Market_Price], 
        [Extent2].[Index_Type] AS [Index_Type], 
        [Extent2].[Clean_Price_Formula] AS [Clean_Price_Formula], 
        [Extent2].[Accrued_Income_Price_Formula] AS [Accrued_Income_Price_Formula], 
        [Extent2].[Odd_First_Coupon_Date] AS [Odd_First_Coupon_Date], 
        [Extent2].[Odd_Last_Coupon_Date] AS [Odd_Last_Coupon_Date], 
        [Extent2].[Coupon_Anniversary_Indicator] AS [Coupon_Anniversary_Indicator], 
        [Extent2].[Track_EOM_Flag] AS [Track_EOM_Flag], 
        [Extent2].[Next_Coupon_Date] AS [Next_Coupon_Date], 
        [Extent2].[Previous_Coupon_Date] AS [Previous_Coupon_Date], 
        [Extent2].[Payment_Frequency] AS [Payment_Frequency], 
        [Extent2].[Coupon_BusDay_Adjustment] AS [Coupon_BusDay_Adjustment], 
        [Extent2].[Next_Ex_Div_Date] AS [Next_Ex_Div_Date], 
        [Extent2].[Ex_Div_BusDay_Adjustment] AS [Ex_Div_BusDay_Adjustment], 
        [Extent2].[Ex_Div_Period] AS [Ex_Div_Period], 
        [Extent2].[Ticker] AS [Ticker], 
        [Extent2].[Inet_ID] AS [Inet_ID], 
        [Extent2].[Bloomberg_ID] AS [Bloomberg_ID], 
        [Extent2].[External_Sec_ID] AS [External_Sec_ID], 
        [Extent2].[Reuters_ID] AS [Reuters_ID], 
        [Extent2].[ISIN] AS [ISIN], 
        [Extent2].[Call_Account_Flag] AS [Call_Account_Flag], 
        [Extent2].[System_Locked] AS [System_Locked], 
        [Extent2].[Last_Update_User] AS [Last_Update_User1], 
        [Extent2].[Last_Update_Date] AS [Last_Update_Date1], 
        [Extent2].[Security_Status] AS [Security_Status], 
        [Extent2].[Benchmark_Portfolio] AS [Benchmark_Portfolio], 
        [Extent2].[Active_flag] AS [Active_flag], 
        [Extent2].[Dividend_FX_Security_ID] AS [Dividend_FX_Security_ID]
        FROM  [dbo].[Security_Analytics_History] AS [Extent1]
        INNER JOIN [dbo].[Security_Detail] AS [Extent2] ON [Extent1].[Security_ID] = [Extent2].[Security_ID]
        WHERE [Extent1].[Security_ID] = @p__linq__0
    )  AS [Project1]
    ORDER BY [Project1].[Record_Date] DESC
2018-04-07 17:57:40.0641|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: SELECT 
    [Project1].[Decimal_Precision] AS [Decimal_Precision], 
    [Project1].[Entity_ID] AS [Entity_ID], 
    [Project1].[Security_ID] AS [Security_ID], 
    [Project1].[Issued_Amount] AS [Issued_Amount], 
    [Project1].[Market_Capitalisation] AS [Market_Capitalisation], 
    [Project1].[Risk_Premium] AS [Risk_Premium], 
    [Project1].[Exit_Price] AS [Exit_Price], 
    [Project1].[Total_Return_ME_1YR] AS [Total_Return_ME_1YR], 
    [Project1].[Total_Return_ME_2YR] AS [Total_Return_ME_2YR], 
    [Project1].[Total_Return_ME_3YR] AS [Total_Return_ME_3YR], 
    [Project1].[Historic_Distribution] AS [Historic_Distribution], 
    [Project1].[Distribution_Growth_Forecast_Yr1] AS [Distribution_Growth_Forecast_Yr1], 
    [Project1].[Distribution_Growth_Forecast_Yr2] AS [Distribution_Growth_Forecast_Yr2], 
    [Project1].[Distribution_Growth_Forecast_Yr3] AS [Distribution_Growth_Forecast_Yr3], 
    [Project1].[Forecast_Distribution_Yr1] AS [Forecast_Distribution_Yr1], 
    [Project1].[Forecast_Distribution_Yr2] AS [Forecast_Distribution_Yr2], 
    [Project1].[Forecast_Distribution_Yr3] AS [Forecast_Distribution_Yr3], 
    [Project1].[Earnings_Growth_Compounded] AS [Earnings_Growth_Compounded], 
    [Project1].[Earnings_Forecast_Yr3] AS [Earnings_Forecast_Yr3], 
    [Project1].[Historic_Dividend_Yield_FYE] AS [Historic_Dividend_Yield_FYE], 
    [Project1].[Forward_Dividend_Yield_FYE] AS [Forward_Dividend_Yield_FYE], 
    [Project1].[Yr3_Forward_Dividend_Yield] AS [Yr3_Forward_Dividend_Yield], 
    [Project1].[Rolling_12M_Forward_Yield] AS [Rolling_12M_Forward_Yield], 
    [Project1].[Historical_Earnings_FYE] AS [Historical_Earnings_FYE], 
    [Project1].[Earnings_Forecast_Yr1] AS [Earnings_Forecast_Yr1], 
    [Project1].[Earnings_Forecast_Yr2] AS [Earnings_Forecast_Yr2], 
    [Project1].[Historic_Dividend_Yield_Relative] AS [Historic_Dividend_Yield_Relative], 
    [Project1].[Rolling_12M_Historic_Distribution_PriceCurr] AS [Rolling_12M_Historic_Distribution_PriceCurr], 
    [Project1].[Short_Term_Market_Rerate] AS [Short_Term_Market_Rerate], 
    [Project1].[Forecast_12M_Total_Return] AS [Forecast_12M_Total_Return], 
    [Project1].[Clean_Price] AS [Clean_Price], 
    [Project1].[Rolling_Dividend_Yield_Historic] AS [Rolling_Dividend_Yield_Historic], 
    [Project1].[Last_Update_Date] AS [Last_Update_Date], 
    [Project1].[Last_Update_User] AS [Last_Update_User], 
    [Project1].[Discount_Security_ID] AS [Discount_Security_ID], 
    [Project1].[Net_Present_Value] AS [Net_Present_Value], 
    [Project1].[Forecast_Rolling_Custom_Income] AS [Forecast_Rolling_Custom_Income], 
    [Project1].[Custom_Period] AS [Custom_Period], 
    [Project1].[Rolling_12M_Historic_Distribution] AS [Rolling_12M_Historic_Distribution], 
    [Project1].[Record_Date] AS [Record_Date], 
    [Project1].[Session_ID] AS [Session_ID], 
    [Project1].[Hist_Last_Update_Date] AS [Hist_Last_Update_Date], 
    [Project1].[Hist_Last_Update_User] AS [Hist_Last_Update_User], 
    [Project1].[Rolling_12M_Forecast_Distribution] AS [Rolling_12M_Forecast_Distribution], 
    [Project1].[Yr2_Forward_Dividend_Yield] AS [Yr2_Forward_Dividend_Yield], 
    [Project1].[Exit_Yield] AS [Exit_Yield], 
    [Project1].[Discount_Rate] AS [Discount_Rate], 
    [Project1].[Distribution_Growth_Compounded] AS [Distribution_Growth_Compounded], 
    [Project1].[Forecast_12MRolling_Income_Accrual] AS [Forecast_12MRolling_Income_Accrual], 
    [Project1].[Rolling_12_to_24M_Forecast_Distribution] AS [Rolling_12_to_24M_Forecast_Distribution], 
    [Project1].[Rolling_24_to_36M_Forecast_Distribution] AS [Rolling_24_to_36M_Forecast_Distribution], 
    [Project1].[Forecast_Yr1_Dividend_Yield_Relative] AS [Forecast_Yr1_Dividend_Yield_Relative], 
    [Project1].[Market_Historic_Yield] AS [Market_Historic_Yield], 
    [Project1].[Market_Forward_Yield] AS [Market_Forward_Yield], 
    [Project1].[Historic_Distribution_PriceCurr] AS [Historic_Distribution_PriceCurr], 
    [Project1].[Forecast_Distribution_Yr1_PriceCurr] AS [Forecast_Distribution_Yr1_PriceCurr], 
    [Project1].[Forecast_Distribution_Yr2_PriceCurr] AS [Forecast_Distribution_Yr2_PriceCurr], 
    [Project1].[Forecast_Distribution_Yr3_PriceCurr] AS [Forecast_Distribution_Yr3_PriceCurr], 
    [Project1].[Rolling_12M_Forecast_Distribution_PriceCurr] AS [Rolling_12M_Forecast_Distribution_PriceCurr], 
    [Project1].[Rolling_12_24M_Forecast_Distribution_PriceCurr] AS [Rolling_12_24M_Forecast_Distribution_PriceCurr], 
    [Project1].[Rolling_24_36M_Forecast_Distribution_PriceCurr] AS [Rolling_24_36M_Forecast_Distribution_PriceCurr], 
    [Project1].[Distribution_Growth_Forecast_Yr4] AS [Distribution_Growth_Forecast_Yr4], 
    [Project1].[Earnings_Forecast_Yr4] AS [Earnings_Forecast_Yr4], 
    [Project1].[Forecast_Distribution_Yr4] AS [Forecast_Distribution_Yr4], 
    [Project1].[Forecast_Distribution_Yr4_PriceCurr] AS [Forecast_Distribution_Yr4_PriceCurr], 
    [Project1].[Security_ID1] AS [Security_ID1], 
    [Project1].[Entity_ID1] AS [Entity_ID1], 
    [Project1].[Security_Name] AS [Security_Name], 
    [Project1].[Short_Name] AS [Short_Name], 
    [Project1].[Primary_Exch] AS [Primary_Exch], 
    [Project1].[Secondary_Exch] AS [Secondary_Exch], 
    [Project1].[Country_Of_Domicile] AS [Country_Of_Domicile], 
    [Project1].[Country_Of_Risk] AS [Country_Of_Risk], 
    [Project1].[Security_Type_Code] AS [Security_Type_Code], 
    [Project1].[Price_Multiplier] AS [Price_Multiplier], 
    [Project1].[Income_Frequency] AS [Income_Frequency], 
    [Project1].[Issuer_Code] AS [Issuer_Code], 
    [Project1].[Ultimate_Issuer_Code] AS [Ultimate_Issuer_Code], 
    [Project1].[Asset_Currency] AS [Asset_Currency], 
    [Project1].[Min_Lot_Size] AS [Min_Lot_Size], 
    [Project1].[AvePrice_Rounding] AS [AvePrice_Rounding], 
    [Project1].[Issue_Date] AS [Issue_Date], 
    [Project1].[Maturity_Date] AS [Maturity_Date], 
    [Project1].[Coupon_Rate] AS [Coupon_Rate], 
    [Project1].[Price_Exchange] AS [Price_Exchange], 
    [Project1].[Trade_Currency] AS [Trade_Currency], 
    [Project1].[Price_Curr] AS [Price_Curr], 
    [Project1].[Currency_Pair_Code] AS [Currency_Pair_Code], 
    [Project1].[Share_Class] AS [Share_Class], 
    [Project1].[Current_Market_Price] AS [Current_Market_Price], 
    [Project1].[Index_Type] AS [Index_Type], 
    [Project1].[Clean_Price_Formula] AS [Clean_Price_Formula], 
    [Project1].[Accrued_Income_Price_Formula] AS [Accrued_Income_Price_Formula], 
    [Project1].[Odd_First_Coupon_Date] AS [Odd_First_Coupon_Date], 
    [Project1].[Odd_Last_Coupon_Date] AS [Odd_Last_Coupon_Date], 
    [Project1].[Coupon_Anniversary_Indicator] AS [Coupon_Anniversary_Indicator], 
    [Project1].[Track_EOM_Flag] AS [Track_EOM_Flag], 
    [Project1].[Next_Coupon_Date] AS [Next_Coupon_Date], 
    [Project1].[Previous_Coupon_Date] AS [Previous_Coupon_Date], 
    [Project1].[Payment_Frequency] AS [Payment_Frequency], 
    [Project1].[Coupon_BusDay_Adjustment] AS [Coupon_BusDay_Adjustment], 
    [Project1].[Next_Ex_Div_Date] AS [Next_Ex_Div_Date], 
    [Project1].[Ex_Div_BusDay_Adjustment] AS [Ex_Div_BusDay_Adjustment], 
    [Project1].[Ex_Div_Period] AS [Ex_Div_Period], 
    [Project1].[Ticker] AS [Ticker], 
    [Project1].[Inet_ID] AS [Inet_ID], 
    [Project1].[Bloomberg_ID] AS [Bloomberg_ID], 
    [Project1].[External_Sec_ID] AS [External_Sec_ID], 
    [Project1].[Reuters_ID] AS [Reuters_ID], 
    [Project1].[ISIN] AS [ISIN], 
    [Project1].[Call_Account_Flag] AS [Call_Account_Flag], 
    [Project1].[System_Locked] AS [System_Locked], 
    [Project1].[Last_Update_User1] AS [Last_Update_User1], 
    [Project1].[Last_Update_Date1] AS [Last_Update_Date1], 
    [Project1].[Security_Status] AS [Security_Status], 
    [Project1].[Benchmark_Portfolio] AS [Benchmark_Portfolio], 
    [Project1].[Active_flag] AS [Active_flag], 
    [Project1].[Dividend_FX_Security_ID] AS [Dividend_FX_Security_ID]
    FROM ( SELECT 
        [Extent1].[Entity_ID] AS [Entity_ID], 
        [Extent1].[Security_ID] AS [Security_ID], 
        [Extent1].[Issued_Amount] AS [Issued_Amount], 
        [Extent1].[Market_Capitalisation] AS [Market_Capitalisation], 
        [Extent1].[Risk_Premium] AS [Risk_Premium], 
        [Extent1].[Exit_Price] AS [Exit_Price], 
        [Extent1].[Total_Return_ME_1YR] AS [Total_Return_ME_1YR], 
        [Extent1].[Total_Return_ME_2YR] AS [Total_Return_ME_2YR], 
        [Extent1].[Total_Return_ME_3YR] AS [Total_Return_ME_3YR], 
        [Extent1].[Historic_Distribution] AS [Historic_Distribution], 
        [Extent1].[Distribution_Growth_Forecast_Yr1] AS [Distribution_Growth_Forecast_Yr1], 
        [Extent1].[Distribution_Growth_Forecast_Yr2] AS [Distribution_Growth_Forecast_Yr2], 
        [Extent1].[Distribution_Growth_Forecast_Yr3] AS [Distribution_Growth_Forecast_Yr3], 
        [Extent1].[Forecast_Distribution_Yr1] AS [Forecast_Distribution_Yr1], 
        [Extent1].[Forecast_Distribution_Yr2] AS [Forecast_Distribution_Yr2], 
        [Extent1].[Forecast_Distribution_Yr3] AS [Forecast_Distribution_Yr3], 
        [Extent1].[Earnings_Growth_Compounded] AS [Earnings_Growth_Compounded], 
        [Extent1].[Earnings_Forecast_Yr3] AS [Earnings_Forecast_Yr3], 
        [Extent1].[Historic_Dividend_Yield_FYE] AS [Historic_Dividend_Yield_FYE], 
        [Extent1].[Forward_Dividend_Yield_FYE] AS [Forward_Dividend_Yield_FYE], 
        [Extent1].[Yr3_Forward_Dividend_Yield] AS [Yr3_Forward_Dividend_Yield], 
        [Extent1].[Rolling_12M_Forward_Yield] AS [Rolling_12M_Forward_Yield], 
        [Extent1].[Historical_Earnings_FYE] AS [Historical_Earnings_FYE], 
        [Extent1].[Earnings_Forecast_Yr1] AS [Earnings_Forecast_Yr1], 
        [Extent1].[Earnings_Forecast_Yr2] AS [Earnings_Forecast_Yr2], 
        [Extent1].[Historic_Dividend_Yield_Relative] AS [Historic_Dividend_Yield_Relative], 
        [Extent1].[Rolling_12M_Historic_Distribution_PriceCurr] AS [Rolling_12M_Historic_Distribution_PriceCurr], 
        [Extent1].[Short_Term_Market_Rerate] AS [Short_Term_Market_Rerate], 
        [Extent1].[Forecast_12M_Total_Return] AS [Forecast_12M_Total_Return], 
        [Extent1].[Clean_Price] AS [Clean_Price], 
        [Extent1].[Rolling_Dividend_Yield_Historic] AS [Rolling_Dividend_Yield_Historic], 
        [Extent1].[Last_Update_Date] AS [Last_Update_Date], 
        [Extent1].[Last_Update_User] AS [Last_Update_User], 
        [Extent1].[Discount_Security_ID] AS [Discount_Security_ID], 
        [Extent1].[Net_Present_Value] AS [Net_Present_Value], 
        [Extent1].[Forecast_Rolling_Custom_Income] AS [Forecast_Rolling_Custom_Income], 
        [Extent1].[Custom_Period] AS [Custom_Period], 
        [Extent1].[Rolling_12M_Historic_Distribution] AS [Rolling_12M_Historic_Distribution], 
        [Extent1].[Record_Date] AS [Record_Date], 
        [Extent1].[Session_ID] AS [Session_ID], 
        [Extent1].[Hist_Last_Update_Date] AS [Hist_Last_Update_Date], 
        [Extent1].[Hist_Last_Update_User] AS [Hist_Last_Update_User], 
        [Extent1].[Rolling_12M_Forecast_Distribution] AS [Rolling_12M_Forecast_Distribution], 
        [Extent1].[Yr2_Forward_Dividend_Yield] AS [Yr2_Forward_Dividend_Yield], 
        [Extent1].[Exit_Yield] AS [Exit_Yield], 
        [Extent1].[Discount_Rate] AS [Discount_Rate], 
        [Extent1].[Distribution_Growth_Compounded] AS [Distribution_Growth_Compounded], 
        [Extent1].[Forecast_12MRolling_Income_Accrual] AS [Forecast_12MRolling_Income_Accrual], 
        [Extent1].[Rolling_12_to_24M_Forecast_Distribution] AS [Rolling_12_to_24M_Forecast_Distribution], 
        [Extent1].[Rolling_24_to_36M_Forecast_Distribution] AS [Rolling_24_to_36M_Forecast_Distribution], 
        [Extent1].[Forecast_Yr1_Dividend_Yield_Relative] AS [Forecast_Yr1_Dividend_Yield_Relative], 
        [Extent1].[Market_Historic_Yield] AS [Market_Historic_Yield], 
        [Extent1].[Market_Forward_Yield] AS [Market_Forward_Yield], 
        [Extent1].[Historic_Distribution_PriceCurr] AS [Historic_Distribution_PriceCurr], 
        [Extent1].[Forecast_Distribution_Yr1_PriceCurr] AS [Forecast_Distribution_Yr1_PriceCurr], 
        [Extent1].[Forecast_Distribution_Yr2_PriceCurr] AS [Forecast_Distribution_Yr2_PriceCurr], 
        [Extent1].[Forecast_Distribution_Yr3_PriceCurr] AS [Forecast_Distribution_Yr3_PriceCurr], 
        [Extent1].[Rolling_12M_Forecast_Distribution_PriceCurr] AS [Rolling_12M_Forecast_Distribution_PriceCurr], 
        [Extent1].[Rolling_12_24M_Forecast_Distribution_PriceCurr] AS [Rolling_12_24M_Forecast_Distribution_PriceCurr], 
        [Extent1].[Rolling_24_36M_Forecast_Distribution_PriceCurr] AS [Rolling_24_36M_Forecast_Distribution_PriceCurr], 
        [Extent1].[Distribution_Growth_Forecast_Yr4] AS [Distribution_Growth_Forecast_Yr4], 
        [Extent1].[Earnings_Forecast_Yr4] AS [Earnings_Forecast_Yr4], 
        [Extent1].[Forecast_Distribution_Yr4] AS [Forecast_Distribution_Yr4], 
        [Extent1].[Forecast_Distribution_Yr4_PriceCurr] AS [Forecast_Distribution_Yr4_PriceCurr], 
        [Extent2].[Security_ID] AS [Security_ID1], 
        [Extent2].[Entity_ID] AS [Entity_ID1], 
        [Extent2].[Security_Name] AS [Security_Name], 
        [Extent2].[Short_Name] AS [Short_Name], 
        [Extent2].[Primary_Exch] AS [Primary_Exch], 
        [Extent2].[Secondary_Exch] AS [Secondary_Exch], 
        [Extent2].[Country_Of_Domicile] AS [Country_Of_Domicile], 
        [Extent2].[Country_Of_Risk] AS [Country_Of_Risk], 
        [Extent2].[Security_Type_Code] AS [Security_Type_Code], 
        [Extent2].[Price_Multiplier] AS [Price_Multiplier], 
        [Extent2].[Income_Frequency] AS [Income_Frequency], 
        [Extent2].[Issuer_Code] AS [Issuer_Code], 
        [Extent2].[Ultimate_Issuer_Code] AS [Ultimate_Issuer_Code], 
        [Extent2].[Asset_Currency] AS [Asset_Currency], 
        [Extent2].[Min_Lot_Size] AS [Min_Lot_Size], 
        [Extent2].[Decimal_Precision] AS [Decimal_Precision], 
        [Extent2].[AvePrice_Rounding] AS [AvePrice_Rounding], 
        [Extent2].[Issue_Date] AS [Issue_Date], 
        [Extent2].[Maturity_Date] AS [Maturity_Date], 
        [Extent2].[Coupon_Rate] AS [Coupon_Rate], 
        [Extent2].[Price_Exchange] AS [Price_Exchange], 
        [Extent2].[Trade_Currency] AS [Trade_Currency], 
        [Extent2].[Price_Curr] AS [Price_Curr], 
        [Extent2].[Currency_Pair_Code] AS [Currency_Pair_Code], 
        [Extent2].[Share_Class] AS [Share_Class], 
        [Extent2].[Current_Market_Price] AS [Current_Market_Price], 
        [Extent2].[Index_Type] AS [Index_Type], 
        [Extent2].[Clean_Price_Formula] AS [Clean_Price_Formula], 
        [Extent2].[Accrued_Income_Price_Formula] AS [Accrued_Income_Price_Formula], 
        [Extent2].[Odd_First_Coupon_Date] AS [Odd_First_Coupon_Date], 
        [Extent2].[Odd_Last_Coupon_Date] AS [Odd_Last_Coupon_Date], 
        [Extent2].[Coupon_Anniversary_Indicator] AS [Coupon_Anniversary_Indicator], 
        [Extent2].[Track_EOM_Flag] AS [Track_EOM_Flag], 
        [Extent2].[Next_Coupon_Date] AS [Next_Coupon_Date], 
        [Extent2].[Previous_Coupon_Date] AS [Previous_Coupon_Date], 
        [Extent2].[Payment_Frequency] AS [Payment_Frequency], 
        [Extent2].[Coupon_BusDay_Adjustment] AS [Coupon_BusDay_Adjustment], 
        [Extent2].[Next_Ex_Div_Date] AS [Next_Ex_Div_Date], 
        [Extent2].[Ex_Div_BusDay_Adjustment] AS [Ex_Div_BusDay_Adjustment], 
        [Extent2].[Ex_Div_Period] AS [Ex_Div_Period], 
        [Extent2].[Ticker] AS [Ticker], 
        [Extent2].[Inet_ID] AS [Inet_ID], 
        [Extent2].[Bloomberg_ID] AS [Bloomberg_ID], 
        [Extent2].[External_Sec_ID] AS [External_Sec_ID], 
        [Extent2].[Reuters_ID] AS [Reuters_ID], 
        [Extent2].[ISIN] AS [ISIN], 
        [Extent2].[Call_Account_Flag] AS [Call_Account_Flag], 
        [Extent2].[System_Locked] AS [System_Locked], 
        [Extent2].[Last_Update_User] AS [Last_Update_User1], 
        [Extent2].[Last_Update_Date] AS [Last_Update_Date1], 
        [Extent2].[Security_Status] AS [Security_Status], 
        [Extent2].[Benchmark_Portfolio] AS [Benchmark_Portfolio], 
        [Extent2].[Active_flag] AS [Active_flag], 
        [Extent2].[Dividend_FX_Security_ID] AS [Dividend_FX_Security_ID]
        FROM  [dbo].[Security_Analytics_History] AS [Extent1]
        INNER JOIN [dbo].[Security_Detail] AS [Extent2] ON [Extent1].[Security_ID] = [Extent2].[Security_ID]
        WHERE [Extent1].[Security_ID] = @p__linq__0
    )  AS [Project1]
    ORDER BY [Project1].[Record_Date] DESC
2018-04-07 17:57:43.9094|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: IF db_id(N'MetopeAzureDb') IS NOT NULL SELECT 1 ELSE SELECT Count(*) FROM sys.databases WHERE [name]=N'MetopeAzureDb'
2018-04-07 17:57:43.9914|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: IF db_id(N'MetopeAzureDb') IS NOT NULL SELECT 1 ELSE SELECT Count(*) FROM sys.databases WHERE [name]=N'MetopeAzureDb'
2018-04-07 17:57:44.1476|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: IF db_id(N'MetopeAzureDb') IS NOT NULL SELECT 1 ELSE SELECT Count(*) FROM sys.databases WHERE [name]=N'MetopeAzureDb'
2018-04-07 17:57:44.1856|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: IF db_id(N'MetopeAzureDb') IS NOT NULL SELECT 1 ELSE SELECT Count(*) FROM sys.databases WHERE [name]=N'MetopeAzureDb'
2018-04-07 17:58:02.7928|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: SELECT 
    [Project1].[Decimal_Precision] AS [Decimal_Precision], 
    [Project1].[Entity_ID] AS [Entity_ID], 
    [Project1].[Security_ID] AS [Security_ID], 
    [Project1].[Issued_Amount] AS [Issued_Amount], 
    [Project1].[Market_Capitalisation] AS [Market_Capitalisation], 
    [Project1].[Risk_Premium] AS [Risk_Premium], 
    [Project1].[Exit_Price] AS [Exit_Price], 
    [Project1].[Total_Return_ME_1YR] AS [Total_Return_ME_1YR], 
    [Project1].[Total_Return_ME_2YR] AS [Total_Return_ME_2YR], 
    [Project1].[Total_Return_ME_3YR] AS [Total_Return_ME_3YR], 
    [Project1].[Historic_Distribution] AS [Historic_Distribution], 
    [Project1].[Distribution_Growth_Forecast_Yr1] AS [Distribution_Growth_Forecast_Yr1], 
    [Project1].[Distribution_Growth_Forecast_Yr2] AS [Distribution_Growth_Forecast_Yr2], 
    [Project1].[Distribution_Growth_Forecast_Yr3] AS [Distribution_Growth_Forecast_Yr3], 
    [Project1].[Forecast_Distribution_Yr1] AS [Forecast_Distribution_Yr1], 
    [Project1].[Forecast_Distribution_Yr2] AS [Forecast_Distribution_Yr2], 
    [Project1].[Forecast_Distribution_Yr3] AS [Forecast_Distribution_Yr3], 
    [Project1].[Earnings_Growth_Compounded] AS [Earnings_Growth_Compounded], 
    [Project1].[Earnings_Forecast_Yr3] AS [Earnings_Forecast_Yr3], 
    [Project1].[Historic_Dividend_Yield_FYE] AS [Historic_Dividend_Yield_FYE], 
    [Project1].[Forward_Dividend_Yield_FYE] AS [Forward_Dividend_Yield_FYE], 
    [Project1].[Yr3_Forward_Dividend_Yield] AS [Yr3_Forward_Dividend_Yield], 
    [Project1].[Rolling_12M_Forward_Yield] AS [Rolling_12M_Forward_Yield], 
    [Project1].[Historical_Earnings_FYE] AS [Historical_Earnings_FYE], 
    [Project1].[Earnings_Forecast_Yr1] AS [Earnings_Forecast_Yr1], 
    [Project1].[Earnings_Forecast_Yr2] AS [Earnings_Forecast_Yr2], 
    [Project1].[Historic_Dividend_Yield_Relative] AS [Historic_Dividend_Yield_Relative], 
    [Project1].[Rolling_12M_Historic_Distribution_PriceCurr] AS [Rolling_12M_Historic_Distribution_PriceCurr], 
    [Project1].[Short_Term_Market_Rerate] AS [Short_Term_Market_Rerate], 
    [Project1].[Forecast_12M_Total_Return] AS [Forecast_12M_Total_Return], 
    [Project1].[Clean_Price] AS [Clean_Price], 
    [Project1].[Rolling_Dividend_Yield_Historic] AS [Rolling_Dividend_Yield_Historic], 
    [Project1].[Last_Update_Date] AS [Last_Update_Date], 
    [Project1].[Last_Update_User] AS [Last_Update_User], 
    [Project1].[Discount_Security_ID] AS [Discount_Security_ID], 
    [Project1].[Net_Present_Value] AS [Net_Present_Value], 
    [Project1].[Forecast_Rolling_Custom_Income] AS [Forecast_Rolling_Custom_Income], 
    [Project1].[Custom_Period] AS [Custom_Period], 
    [Project1].[Rolling_12M_Historic_Distribution] AS [Rolling_12M_Historic_Distribution], 
    [Project1].[Record_Date] AS [Record_Date], 
    [Project1].[Session_ID] AS [Session_ID], 
    [Project1].[Hist_Last_Update_Date] AS [Hist_Last_Update_Date], 
    [Project1].[Hist_Last_Update_User] AS [Hist_Last_Update_User], 
    [Project1].[Rolling_12M_Forecast_Distribution] AS [Rolling_12M_Forecast_Distribution], 
    [Project1].[Yr2_Forward_Dividend_Yield] AS [Yr2_Forward_Dividend_Yield], 
    [Project1].[Exit_Yield] AS [Exit_Yield], 
    [Project1].[Discount_Rate] AS [Discount_Rate], 
    [Project1].[Distribution_Growth_Compounded] AS [Distribution_Growth_Compounded], 
    [Project1].[Forecast_12MRolling_Income_Accrual] AS [Forecast_12MRolling_Income_Accrual], 
    [Project1].[Rolling_12_to_24M_Forecast_Distribution] AS [Rolling_12_to_24M_Forecast_Distribution], 
    [Project1].[Rolling_24_to_36M_Forecast_Distribution] AS [Rolling_24_to_36M_Forecast_Distribution], 
    [Project1].[Forecast_Yr1_Dividend_Yield_Relative] AS [Forecast_Yr1_Dividend_Yield_Relative], 
    [Project1].[Market_Historic_Yield] AS [Market_Historic_Yield], 
    [Project1].[Market_Forward_Yield] AS [Market_Forward_Yield], 
    [Project1].[Historic_Distribution_PriceCurr] AS [Historic_Distribution_PriceCurr], 
    [Project1].[Forecast_Distribution_Yr1_PriceCurr] AS [Forecast_Distribution_Yr1_PriceCurr], 
    [Project1].[Forecast_Distribution_Yr2_PriceCurr] AS [Forecast_Distribution_Yr2_PriceCurr], 
    [Project1].[Forecast_Distribution_Yr3_PriceCurr] AS [Forecast_Distribution_Yr3_PriceCurr], 
    [Project1].[Rolling_12M_Forecast_Distribution_PriceCurr] AS [Rolling_12M_Forecast_Distribution_PriceCurr], 
    [Project1].[Rolling_12_24M_Forecast_Distribution_PriceCurr] AS [Rolling_12_24M_Forecast_Distribution_PriceCurr], 
    [Project1].[Rolling_24_36M_Forecast_Distribution_PriceCurr] AS [Rolling_24_36M_Forecast_Distribution_PriceCurr], 
    [Project1].[Distribution_Growth_Forecast_Yr4] AS [Distribution_Growth_Forecast_Yr4], 
    [Project1].[Earnings_Forecast_Yr4] AS [Earnings_Forecast_Yr4], 
    [Project1].[Forecast_Distribution_Yr4] AS [Forecast_Distribution_Yr4], 
    [Project1].[Forecast_Distribution_Yr4_PriceCurr] AS [Forecast_Distribution_Yr4_PriceCurr], 
    [Project1].[Security_ID1] AS [Security_ID1], 
    [Project1].[Entity_ID1] AS [Entity_ID1], 
    [Project1].[Security_Name] AS [Security_Name], 
    [Project1].[Short_Name] AS [Short_Name], 
    [Project1].[Primary_Exch] AS [Primary_Exch], 
    [Project1].[Secondary_Exch] AS [Secondary_Exch], 
    [Project1].[Country_Of_Domicile] AS [Country_Of_Domicile], 
    [Project1].[Country_Of_Risk] AS [Country_Of_Risk], 
    [Project1].[Security_Type_Code] AS [Security_Type_Code], 
    [Project1].[Price_Multiplier] AS [Price_Multiplier], 
    [Project1].[Income_Frequency] AS [Income_Frequency], 
    [Project1].[Issuer_Code] AS [Issuer_Code], 
    [Project1].[Ultimate_Issuer_Code] AS [Ultimate_Issuer_Code], 
    [Project1].[Asset_Currency] AS [Asset_Currency], 
    [Project1].[Min_Lot_Size] AS [Min_Lot_Size], 
    [Project1].[AvePrice_Rounding] AS [AvePrice_Rounding], 
    [Project1].[Issue_Date] AS [Issue_Date], 
    [Project1].[Maturity_Date] AS [Maturity_Date], 
    [Project1].[Coupon_Rate] AS [Coupon_Rate], 
    [Project1].[Price_Exchange] AS [Price_Exchange], 
    [Project1].[Trade_Currency] AS [Trade_Currency], 
    [Project1].[Price_Curr] AS [Price_Curr], 
    [Project1].[Currency_Pair_Code] AS [Currency_Pair_Code], 
    [Project1].[Share_Class] AS [Share_Class], 
    [Project1].[Current_Market_Price] AS [Current_Market_Price], 
    [Project1].[Index_Type] AS [Index_Type], 
    [Project1].[Clean_Price_Formula] AS [Clean_Price_Formula], 
    [Project1].[Accrued_Income_Price_Formula] AS [Accrued_Income_Price_Formula], 
    [Project1].[Odd_First_Coupon_Date] AS [Odd_First_Coupon_Date], 
    [Project1].[Odd_Last_Coupon_Date] AS [Odd_Last_Coupon_Date], 
    [Project1].[Coupon_Anniversary_Indicator] AS [Coupon_Anniversary_Indicator], 
    [Project1].[Track_EOM_Flag] AS [Track_EOM_Flag], 
    [Project1].[Next_Coupon_Date] AS [Next_Coupon_Date], 
    [Project1].[Previous_Coupon_Date] AS [Previous_Coupon_Date], 
    [Project1].[Payment_Frequency] AS [Payment_Frequency], 
    [Project1].[Coupon_BusDay_Adjustment] AS [Coupon_BusDay_Adjustment], 
    [Project1].[Next_Ex_Div_Date] AS [Next_Ex_Div_Date], 
    [Project1].[Ex_Div_BusDay_Adjustment] AS [Ex_Div_BusDay_Adjustment], 
    [Project1].[Ex_Div_Period] AS [Ex_Div_Period], 
    [Project1].[Ticker] AS [Ticker], 
    [Project1].[Inet_ID] AS [Inet_ID], 
    [Project1].[Bloomberg_ID] AS [Bloomberg_ID], 
    [Project1].[External_Sec_ID] AS [External_Sec_ID], 
    [Project1].[Reuters_ID] AS [Reuters_ID], 
    [Project1].[ISIN] AS [ISIN], 
    [Project1].[Call_Account_Flag] AS [Call_Account_Flag], 
    [Project1].[System_Locked] AS [System_Locked], 
    [Project1].[Last_Update_User1] AS [Last_Update_User1], 
    [Project1].[Last_Update_Date1] AS [Last_Update_Date1], 
    [Project1].[Security_Status] AS [Security_Status], 
    [Project1].[Benchmark_Portfolio] AS [Benchmark_Portfolio], 
    [Project1].[Active_flag] AS [Active_flag], 
    [Project1].[Dividend_FX_Security_ID] AS [Dividend_FX_Security_ID]
    FROM ( SELECT 
        [Extent1].[Entity_ID] AS [Entity_ID], 
        [Extent1].[Security_ID] AS [Security_ID], 
        [Extent1].[Issued_Amount] AS [Issued_Amount], 
        [Extent1].[Market_Capitalisation] AS [Market_Capitalisation], 
        [Extent1].[Risk_Premium] AS [Risk_Premium], 
        [Extent1].[Exit_Price] AS [Exit_Price], 
        [Extent1].[Total_Return_ME_1YR] AS [Total_Return_ME_1YR], 
        [Extent1].[Total_Return_ME_2YR] AS [Total_Return_ME_2YR], 
        [Extent1].[Total_Return_ME_3YR] AS [Total_Return_ME_3YR], 
        [Extent1].[Historic_Distribution] AS [Historic_Distribution], 
        [Extent1].[Distribution_Growth_Forecast_Yr1] AS [Distribution_Growth_Forecast_Yr1], 
        [Extent1].[Distribution_Growth_Forecast_Yr2] AS [Distribution_Growth_Forecast_Yr2], 
        [Extent1].[Distribution_Growth_Forecast_Yr3] AS [Distribution_Growth_Forecast_Yr3], 
        [Extent1].[Forecast_Distribution_Yr1] AS [Forecast_Distribution_Yr1], 
        [Extent1].[Forecast_Distribution_Yr2] AS [Forecast_Distribution_Yr2], 
        [Extent1].[Forecast_Distribution_Yr3] AS [Forecast_Distribution_Yr3], 
        [Extent1].[Earnings_Growth_Compounded] AS [Earnings_Growth_Compounded], 
        [Extent1].[Earnings_Forecast_Yr3] AS [Earnings_Forecast_Yr3], 
        [Extent1].[Historic_Dividend_Yield_FYE] AS [Historic_Dividend_Yield_FYE], 
        [Extent1].[Forward_Dividend_Yield_FYE] AS [Forward_Dividend_Yield_FYE], 
        [Extent1].[Yr3_Forward_Dividend_Yield] AS [Yr3_Forward_Dividend_Yield], 
        [Extent1].[Rolling_12M_Forward_Yield] AS [Rolling_12M_Forward_Yield], 
        [Extent1].[Historical_Earnings_FYE] AS [Historical_Earnings_FYE], 
        [Extent1].[Earnings_Forecast_Yr1] AS [Earnings_Forecast_Yr1], 
        [Extent1].[Earnings_Forecast_Yr2] AS [Earnings_Forecast_Yr2], 
        [Extent1].[Historic_Dividend_Yield_Relative] AS [Historic_Dividend_Yield_Relative], 
        [Extent1].[Rolling_12M_Historic_Distribution_PriceCurr] AS [Rolling_12M_Historic_Distribution_PriceCurr], 
        [Extent1].[Short_Term_Market_Rerate] AS [Short_Term_Market_Rerate], 
        [Extent1].[Forecast_12M_Total_Return] AS [Forecast_12M_Total_Return], 
        [Extent1].[Clean_Price] AS [Clean_Price], 
        [Extent1].[Rolling_Dividend_Yield_Historic] AS [Rolling_Dividend_Yield_Historic], 
        [Extent1].[Last_Update_Date] AS [Last_Update_Date], 
        [Extent1].[Last_Update_User] AS [Last_Update_User], 
        [Extent1].[Discount_Security_ID] AS [Discount_Security_ID], 
        [Extent1].[Net_Present_Value] AS [Net_Present_Value], 
        [Extent1].[Forecast_Rolling_Custom_Income] AS [Forecast_Rolling_Custom_Income], 
        [Extent1].[Custom_Period] AS [Custom_Period], 
        [Extent1].[Rolling_12M_Historic_Distribution] AS [Rolling_12M_Historic_Distribution], 
        [Extent1].[Record_Date] AS [Record_Date], 
        [Extent1].[Session_ID] AS [Session_ID], 
        [Extent1].[Hist_Last_Update_Date] AS [Hist_Last_Update_Date], 
        [Extent1].[Hist_Last_Update_User] AS [Hist_Last_Update_User], 
        [Extent1].[Rolling_12M_Forecast_Distribution] AS [Rolling_12M_Forecast_Distribution], 
        [Extent1].[Yr2_Forward_Dividend_Yield] AS [Yr2_Forward_Dividend_Yield], 
        [Extent1].[Exit_Yield] AS [Exit_Yield], 
        [Extent1].[Discount_Rate] AS [Discount_Rate], 
        [Extent1].[Distribution_Growth_Compounded] AS [Distribution_Growth_Compounded], 
        [Extent1].[Forecast_12MRolling_Income_Accrual] AS [Forecast_12MRolling_Income_Accrual], 
        [Extent1].[Rolling_12_to_24M_Forecast_Distribution] AS [Rolling_12_to_24M_Forecast_Distribution], 
        [Extent1].[Rolling_24_to_36M_Forecast_Distribution] AS [Rolling_24_to_36M_Forecast_Distribution], 
        [Extent1].[Forecast_Yr1_Dividend_Yield_Relative] AS [Forecast_Yr1_Dividend_Yield_Relative], 
        [Extent1].[Market_Historic_Yield] AS [Market_Historic_Yield], 
        [Extent1].[Market_Forward_Yield] AS [Market_Forward_Yield], 
        [Extent1].[Historic_Distribution_PriceCurr] AS [Historic_Distribution_PriceCurr], 
        [Extent1].[Forecast_Distribution_Yr1_PriceCurr] AS [Forecast_Distribution_Yr1_PriceCurr], 
        [Extent1].[Forecast_Distribution_Yr2_PriceCurr] AS [Forecast_Distribution_Yr2_PriceCurr], 
        [Extent1].[Forecast_Distribution_Yr3_PriceCurr] AS [Forecast_Distribution_Yr3_PriceCurr], 
        [Extent1].[Rolling_12M_Forecast_Distribution_PriceCurr] AS [Rolling_12M_Forecast_Distribution_PriceCurr], 
        [Extent1].[Rolling_12_24M_Forecast_Distribution_PriceCurr] AS [Rolling_12_24M_Forecast_Distribution_PriceCurr], 
        [Extent1].[Rolling_24_36M_Forecast_Distribution_PriceCurr] AS [Rolling_24_36M_Forecast_Distribution_PriceCurr], 
        [Extent1].[Distribution_Growth_Forecast_Yr4] AS [Distribution_Growth_Forecast_Yr4], 
        [Extent1].[Earnings_Forecast_Yr4] AS [Earnings_Forecast_Yr4], 
        [Extent1].[Forecast_Distribution_Yr4] AS [Forecast_Distribution_Yr4], 
        [Extent1].[Forecast_Distribution_Yr4_PriceCurr] AS [Forecast_Distribution_Yr4_PriceCurr], 
        [Extent2].[Security_ID] AS [Security_ID1], 
        [Extent2].[Entity_ID] AS [Entity_ID1], 
        [Extent2].[Security_Name] AS [Security_Name], 
        [Extent2].[Short_Name] AS [Short_Name], 
        [Extent2].[Primary_Exch] AS [Primary_Exch], 
        [Extent2].[Secondary_Exch] AS [Secondary_Exch], 
        [Extent2].[Country_Of_Domicile] AS [Country_Of_Domicile], 
        [Extent2].[Country_Of_Risk] AS [Country_Of_Risk], 
        [Extent2].[Security_Type_Code] AS [Security_Type_Code], 
        [Extent2].[Price_Multiplier] AS [Price_Multiplier], 
        [Extent2].[Income_Frequency] AS [Income_Frequency], 
        [Extent2].[Issuer_Code] AS [Issuer_Code], 
        [Extent2].[Ultimate_Issuer_Code] AS [Ultimate_Issuer_Code], 
        [Extent2].[Asset_Currency] AS [Asset_Currency], 
        [Extent2].[Min_Lot_Size] AS [Min_Lot_Size], 
        [Extent2].[Decimal_Precision] AS [Decimal_Precision], 
        [Extent2].[AvePrice_Rounding] AS [AvePrice_Rounding], 
        [Extent2].[Issue_Date] AS [Issue_Date], 
        [Extent2].[Maturity_Date] AS [Maturity_Date], 
        [Extent2].[Coupon_Rate] AS [Coupon_Rate], 
        [Extent2].[Price_Exchange] AS [Price_Exchange], 
        [Extent2].[Trade_Currency] AS [Trade_Currency], 
        [Extent2].[Price_Curr] AS [Price_Curr], 
        [Extent2].[Currency_Pair_Code] AS [Currency_Pair_Code], 
        [Extent2].[Share_Class] AS [Share_Class], 
        [Extent2].[Current_Market_Price] AS [Current_Market_Price], 
        [Extent2].[Index_Type] AS [Index_Type], 
        [Extent2].[Clean_Price_Formula] AS [Clean_Price_Formula], 
        [Extent2].[Accrued_Income_Price_Formula] AS [Accrued_Income_Price_Formula], 
        [Extent2].[Odd_First_Coupon_Date] AS [Odd_First_Coupon_Date], 
        [Extent2].[Odd_Last_Coupon_Date] AS [Odd_Last_Coupon_Date], 
        [Extent2].[Coupon_Anniversary_Indicator] AS [Coupon_Anniversary_Indicator], 
        [Extent2].[Track_EOM_Flag] AS [Track_EOM_Flag], 
        [Extent2].[Next_Coupon_Date] AS [Next_Coupon_Date], 
        [Extent2].[Previous_Coupon_Date] AS [Previous_Coupon_Date], 
        [Extent2].[Payment_Frequency] AS [Payment_Frequency], 
        [Extent2].[Coupon_BusDay_Adjustment] AS [Coupon_BusDay_Adjustment], 
        [Extent2].[Next_Ex_Div_Date] AS [Next_Ex_Div_Date], 
        [Extent2].[Ex_Div_BusDay_Adjustment] AS [Ex_Div_BusDay_Adjustment], 
        [Extent2].[Ex_Div_Period] AS [Ex_Div_Period], 
        [Extent2].[Ticker] AS [Ticker], 
        [Extent2].[Inet_ID] AS [Inet_ID], 
        [Extent2].[Bloomberg_ID] AS [Bloomberg_ID], 
        [Extent2].[External_Sec_ID] AS [External_Sec_ID], 
        [Extent2].[Reuters_ID] AS [Reuters_ID], 
        [Extent2].[ISIN] AS [ISIN], 
        [Extent2].[Call_Account_Flag] AS [Call_Account_Flag], 
        [Extent2].[System_Locked] AS [System_Locked], 
        [Extent2].[Last_Update_User] AS [Last_Update_User1], 
        [Extent2].[Last_Update_Date] AS [Last_Update_Date1], 
        [Extent2].[Security_Status] AS [Security_Status], 
        [Extent2].[Benchmark_Portfolio] AS [Benchmark_Portfolio], 
        [Extent2].[Active_flag] AS [Active_flag], 
        [Extent2].[Dividend_FX_Security_ID] AS [Dividend_FX_Security_ID]
        FROM  [dbo].[Security_Analytics_History] AS [Extent1]
        INNER JOIN [dbo].[Security_Detail] AS [Extent2] ON [Extent1].[Security_ID] = [Extent2].[Security_ID]
        WHERE [Extent1].[Security_ID] = @p__linq__0
    )  AS [Project1]
    ORDER BY [Project1].[Record_Date] DESC
2018-04-07 17:58:02.8299|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: SELECT 
    [Project1].[Decimal_Precision] AS [Decimal_Precision], 
    [Project1].[Entity_ID] AS [Entity_ID], 
    [Project1].[Security_ID] AS [Security_ID], 
    [Project1].[Issued_Amount] AS [Issued_Amount], 
    [Project1].[Market_Capitalisation] AS [Market_Capitalisation], 
    [Project1].[Risk_Premium] AS [Risk_Premium], 
    [Project1].[Exit_Price] AS [Exit_Price], 
    [Project1].[Total_Return_ME_1YR] AS [Total_Return_ME_1YR], 
    [Project1].[Total_Return_ME_2YR] AS [Total_Return_ME_2YR], 
    [Project1].[Total_Return_ME_3YR] AS [Total_Return_ME_3YR], 
    [Project1].[Historic_Distribution] AS [Historic_Distribution], 
    [Project1].[Distribution_Growth_Forecast_Yr1] AS [Distribution_Growth_Forecast_Yr1], 
    [Project1].[Distribution_Growth_Forecast_Yr2] AS [Distribution_Growth_Forecast_Yr2], 
    [Project1].[Distribution_Growth_Forecast_Yr3] AS [Distribution_Growth_Forecast_Yr3], 
    [Project1].[Forecast_Distribution_Yr1] AS [Forecast_Distribution_Yr1], 
    [Project1].[Forecast_Distribution_Yr2] AS [Forecast_Distribution_Yr2], 
    [Project1].[Forecast_Distribution_Yr3] AS [Forecast_Distribution_Yr3], 
    [Project1].[Earnings_Growth_Compounded] AS [Earnings_Growth_Compounded], 
    [Project1].[Earnings_Forecast_Yr3] AS [Earnings_Forecast_Yr3], 
    [Project1].[Historic_Dividend_Yield_FYE] AS [Historic_Dividend_Yield_FYE], 
    [Project1].[Forward_Dividend_Yield_FYE] AS [Forward_Dividend_Yield_FYE], 
    [Project1].[Yr3_Forward_Dividend_Yield] AS [Yr3_Forward_Dividend_Yield], 
    [Project1].[Rolling_12M_Forward_Yield] AS [Rolling_12M_Forward_Yield], 
    [Project1].[Historical_Earnings_FYE] AS [Historical_Earnings_FYE], 
    [Project1].[Earnings_Forecast_Yr1] AS [Earnings_Forecast_Yr1], 
    [Project1].[Earnings_Forecast_Yr2] AS [Earnings_Forecast_Yr2], 
    [Project1].[Historic_Dividend_Yield_Relative] AS [Historic_Dividend_Yield_Relative], 
    [Project1].[Rolling_12M_Historic_Distribution_PriceCurr] AS [Rolling_12M_Historic_Distribution_PriceCurr], 
    [Project1].[Short_Term_Market_Rerate] AS [Short_Term_Market_Rerate], 
    [Project1].[Forecast_12M_Total_Return] AS [Forecast_12M_Total_Return], 
    [Project1].[Clean_Price] AS [Clean_Price], 
    [Project1].[Rolling_Dividend_Yield_Historic] AS [Rolling_Dividend_Yield_Historic], 
    [Project1].[Last_Update_Date] AS [Last_Update_Date], 
    [Project1].[Last_Update_User] AS [Last_Update_User], 
    [Project1].[Discount_Security_ID] AS [Discount_Security_ID], 
    [Project1].[Net_Present_Value] AS [Net_Present_Value], 
    [Project1].[Forecast_Rolling_Custom_Income] AS [Forecast_Rolling_Custom_Income], 
    [Project1].[Custom_Period] AS [Custom_Period], 
    [Project1].[Rolling_12M_Historic_Distribution] AS [Rolling_12M_Historic_Distribution], 
    [Project1].[Record_Date] AS [Record_Date], 
    [Project1].[Session_ID] AS [Session_ID], 
    [Project1].[Hist_Last_Update_Date] AS [Hist_Last_Update_Date], 
    [Project1].[Hist_Last_Update_User] AS [Hist_Last_Update_User], 
    [Project1].[Rolling_12M_Forecast_Distribution] AS [Rolling_12M_Forecast_Distribution], 
    [Project1].[Yr2_Forward_Dividend_Yield] AS [Yr2_Forward_Dividend_Yield], 
    [Project1].[Exit_Yield] AS [Exit_Yield], 
    [Project1].[Discount_Rate] AS [Discount_Rate], 
    [Project1].[Distribution_Growth_Compounded] AS [Distribution_Growth_Compounded], 
    [Project1].[Forecast_12MRolling_Income_Accrual] AS [Forecast_12MRolling_Income_Accrual], 
    [Project1].[Rolling_12_to_24M_Forecast_Distribution] AS [Rolling_12_to_24M_Forecast_Distribution], 
    [Project1].[Rolling_24_to_36M_Forecast_Distribution] AS [Rolling_24_to_36M_Forecast_Distribution], 
    [Project1].[Forecast_Yr1_Dividend_Yield_Relative] AS [Forecast_Yr1_Dividend_Yield_Relative], 
    [Project1].[Market_Historic_Yield] AS [Market_Historic_Yield], 
    [Project1].[Market_Forward_Yield] AS [Market_Forward_Yield], 
    [Project1].[Historic_Distribution_PriceCurr] AS [Historic_Distribution_PriceCurr], 
    [Project1].[Forecast_Distribution_Yr1_PriceCurr] AS [Forecast_Distribution_Yr1_PriceCurr], 
    [Project1].[Forecast_Distribution_Yr2_PriceCurr] AS [Forecast_Distribution_Yr2_PriceCurr], 
    [Project1].[Forecast_Distribution_Yr3_PriceCurr] AS [Forecast_Distribution_Yr3_PriceCurr], 
    [Project1].[Rolling_12M_Forecast_Distribution_PriceCurr] AS [Rolling_12M_Forecast_Distribution_PriceCurr], 
    [Project1].[Rolling_12_24M_Forecast_Distribution_PriceCurr] AS [Rolling_12_24M_Forecast_Distribution_PriceCurr], 
    [Project1].[Rolling_24_36M_Forecast_Distribution_PriceCurr] AS [Rolling_24_36M_Forecast_Distribution_PriceCurr], 
    [Project1].[Distribution_Growth_Forecast_Yr4] AS [Distribution_Growth_Forecast_Yr4], 
    [Project1].[Earnings_Forecast_Yr4] AS [Earnings_Forecast_Yr4], 
    [Project1].[Forecast_Distribution_Yr4] AS [Forecast_Distribution_Yr4], 
    [Project1].[Forecast_Distribution_Yr4_PriceCurr] AS [Forecast_Distribution_Yr4_PriceCurr], 
    [Project1].[Security_ID1] AS [Security_ID1], 
    [Project1].[Entity_ID1] AS [Entity_ID1], 
    [Project1].[Security_Name] AS [Security_Name], 
    [Project1].[Short_Name] AS [Short_Name], 
    [Project1].[Primary_Exch] AS [Primary_Exch], 
    [Project1].[Secondary_Exch] AS [Secondary_Exch], 
    [Project1].[Country_Of_Domicile] AS [Country_Of_Domicile], 
    [Project1].[Country_Of_Risk] AS [Country_Of_Risk], 
    [Project1].[Security_Type_Code] AS [Security_Type_Code], 
    [Project1].[Price_Multiplier] AS [Price_Multiplier], 
    [Project1].[Income_Frequency] AS [Income_Frequency], 
    [Project1].[Issuer_Code] AS [Issuer_Code], 
    [Project1].[Ultimate_Issuer_Code] AS [Ultimate_Issuer_Code], 
    [Project1].[Asset_Currency] AS [Asset_Currency], 
    [Project1].[Min_Lot_Size] AS [Min_Lot_Size], 
    [Project1].[AvePrice_Rounding] AS [AvePrice_Rounding], 
    [Project1].[Issue_Date] AS [Issue_Date], 
    [Project1].[Maturity_Date] AS [Maturity_Date], 
    [Project1].[Coupon_Rate] AS [Coupon_Rate], 
    [Project1].[Price_Exchange] AS [Price_Exchange], 
    [Project1].[Trade_Currency] AS [Trade_Currency], 
    [Project1].[Price_Curr] AS [Price_Curr], 
    [Project1].[Currency_Pair_Code] AS [Currency_Pair_Code], 
    [Project1].[Share_Class] AS [Share_Class], 
    [Project1].[Current_Market_Price] AS [Current_Market_Price], 
    [Project1].[Index_Type] AS [Index_Type], 
    [Project1].[Clean_Price_Formula] AS [Clean_Price_Formula], 
    [Project1].[Accrued_Income_Price_Formula] AS [Accrued_Income_Price_Formula], 
    [Project1].[Odd_First_Coupon_Date] AS [Odd_First_Coupon_Date], 
    [Project1].[Odd_Last_Coupon_Date] AS [Odd_Last_Coupon_Date], 
    [Project1].[Coupon_Anniversary_Indicator] AS [Coupon_Anniversary_Indicator], 
    [Project1].[Track_EOM_Flag] AS [Track_EOM_Flag], 
    [Project1].[Next_Coupon_Date] AS [Next_Coupon_Date], 
    [Project1].[Previous_Coupon_Date] AS [Previous_Coupon_Date], 
    [Project1].[Payment_Frequency] AS [Payment_Frequency], 
    [Project1].[Coupon_BusDay_Adjustment] AS [Coupon_BusDay_Adjustment], 
    [Project1].[Next_Ex_Div_Date] AS [Next_Ex_Div_Date], 
    [Project1].[Ex_Div_BusDay_Adjustment] AS [Ex_Div_BusDay_Adjustment], 
    [Project1].[Ex_Div_Period] AS [Ex_Div_Period], 
    [Project1].[Ticker] AS [Ticker], 
    [Project1].[Inet_ID] AS [Inet_ID], 
    [Project1].[Bloomberg_ID] AS [Bloomberg_ID], 
    [Project1].[External_Sec_ID] AS [External_Sec_ID], 
    [Project1].[Reuters_ID] AS [Reuters_ID], 
    [Project1].[ISIN] AS [ISIN], 
    [Project1].[Call_Account_Flag] AS [Call_Account_Flag], 
    [Project1].[System_Locked] AS [System_Locked], 
    [Project1].[Last_Update_User1] AS [Last_Update_User1], 
    [Project1].[Last_Update_Date1] AS [Last_Update_Date1], 
    [Project1].[Security_Status] AS [Security_Status], 
    [Project1].[Benchmark_Portfolio] AS [Benchmark_Portfolio], 
    [Project1].[Active_flag] AS [Active_flag], 
    [Project1].[Dividend_FX_Security_ID] AS [Dividend_FX_Security_ID]
    FROM ( SELECT 
        [Extent1].[Entity_ID] AS [Entity_ID], 
        [Extent1].[Security_ID] AS [Security_ID], 
        [Extent1].[Issued_Amount] AS [Issued_Amount], 
        [Extent1].[Market_Capitalisation] AS [Market_Capitalisation], 
        [Extent1].[Risk_Premium] AS [Risk_Premium], 
        [Extent1].[Exit_Price] AS [Exit_Price], 
        [Extent1].[Total_Return_ME_1YR] AS [Total_Return_ME_1YR], 
        [Extent1].[Total_Return_ME_2YR] AS [Total_Return_ME_2YR], 
        [Extent1].[Total_Return_ME_3YR] AS [Total_Return_ME_3YR], 
        [Extent1].[Historic_Distribution] AS [Historic_Distribution], 
        [Extent1].[Distribution_Growth_Forecast_Yr1] AS [Distribution_Growth_Forecast_Yr1], 
        [Extent1].[Distribution_Growth_Forecast_Yr2] AS [Distribution_Growth_Forecast_Yr2], 
        [Extent1].[Distribution_Growth_Forecast_Yr3] AS [Distribution_Growth_Forecast_Yr3], 
        [Extent1].[Forecast_Distribution_Yr1] AS [Forecast_Distribution_Yr1], 
        [Extent1].[Forecast_Distribution_Yr2] AS [Forecast_Distribution_Yr2], 
        [Extent1].[Forecast_Distribution_Yr3] AS [Forecast_Distribution_Yr3], 
        [Extent1].[Earnings_Growth_Compounded] AS [Earnings_Growth_Compounded], 
        [Extent1].[Earnings_Forecast_Yr3] AS [Earnings_Forecast_Yr3], 
        [Extent1].[Historic_Dividend_Yield_FYE] AS [Historic_Dividend_Yield_FYE], 
        [Extent1].[Forward_Dividend_Yield_FYE] AS [Forward_Dividend_Yield_FYE], 
        [Extent1].[Yr3_Forward_Dividend_Yield] AS [Yr3_Forward_Dividend_Yield], 
        [Extent1].[Rolling_12M_Forward_Yield] AS [Rolling_12M_Forward_Yield], 
        [Extent1].[Historical_Earnings_FYE] AS [Historical_Earnings_FYE], 
        [Extent1].[Earnings_Forecast_Yr1] AS [Earnings_Forecast_Yr1], 
        [Extent1].[Earnings_Forecast_Yr2] AS [Earnings_Forecast_Yr2], 
        [Extent1].[Historic_Dividend_Yield_Relative] AS [Historic_Dividend_Yield_Relative], 
        [Extent1].[Rolling_12M_Historic_Distribution_PriceCurr] AS [Rolling_12M_Historic_Distribution_PriceCurr], 
        [Extent1].[Short_Term_Market_Rerate] AS [Short_Term_Market_Rerate], 
        [Extent1].[Forecast_12M_Total_Return] AS [Forecast_12M_Total_Return], 
        [Extent1].[Clean_Price] AS [Clean_Price], 
        [Extent1].[Rolling_Dividend_Yield_Historic] AS [Rolling_Dividend_Yield_Historic], 
        [Extent1].[Last_Update_Date] AS [Last_Update_Date], 
        [Extent1].[Last_Update_User] AS [Last_Update_User], 
        [Extent1].[Discount_Security_ID] AS [Discount_Security_ID], 
        [Extent1].[Net_Present_Value] AS [Net_Present_Value], 
        [Extent1].[Forecast_Rolling_Custom_Income] AS [Forecast_Rolling_Custom_Income], 
        [Extent1].[Custom_Period] AS [Custom_Period], 
        [Extent1].[Rolling_12M_Historic_Distribution] AS [Rolling_12M_Historic_Distribution], 
        [Extent1].[Record_Date] AS [Record_Date], 
        [Extent1].[Session_ID] AS [Session_ID], 
        [Extent1].[Hist_Last_Update_Date] AS [Hist_Last_Update_Date], 
        [Extent1].[Hist_Last_Update_User] AS [Hist_Last_Update_User], 
        [Extent1].[Rolling_12M_Forecast_Distribution] AS [Rolling_12M_Forecast_Distribution], 
        [Extent1].[Yr2_Forward_Dividend_Yield] AS [Yr2_Forward_Dividend_Yield], 
        [Extent1].[Exit_Yield] AS [Exit_Yield], 
        [Extent1].[Discount_Rate] AS [Discount_Rate], 
        [Extent1].[Distribution_Growth_Compounded] AS [Distribution_Growth_Compounded], 
        [Extent1].[Forecast_12MRolling_Income_Accrual] AS [Forecast_12MRolling_Income_Accrual], 
        [Extent1].[Rolling_12_to_24M_Forecast_Distribution] AS [Rolling_12_to_24M_Forecast_Distribution], 
        [Extent1].[Rolling_24_to_36M_Forecast_Distribution] AS [Rolling_24_to_36M_Forecast_Distribution], 
        [Extent1].[Forecast_Yr1_Dividend_Yield_Relative] AS [Forecast_Yr1_Dividend_Yield_Relative], 
        [Extent1].[Market_Historic_Yield] AS [Market_Historic_Yield], 
        [Extent1].[Market_Forward_Yield] AS [Market_Forward_Yield], 
        [Extent1].[Historic_Distribution_PriceCurr] AS [Historic_Distribution_PriceCurr], 
        [Extent1].[Forecast_Distribution_Yr1_PriceCurr] AS [Forecast_Distribution_Yr1_PriceCurr], 
        [Extent1].[Forecast_Distribution_Yr2_PriceCurr] AS [Forecast_Distribution_Yr2_PriceCurr], 
        [Extent1].[Forecast_Distribution_Yr3_PriceCurr] AS [Forecast_Distribution_Yr3_PriceCurr], 
        [Extent1].[Rolling_12M_Forecast_Distribution_PriceCurr] AS [Rolling_12M_Forecast_Distribution_PriceCurr], 
        [Extent1].[Rolling_12_24M_Forecast_Distribution_PriceCurr] AS [Rolling_12_24M_Forecast_Distribution_PriceCurr], 
        [Extent1].[Rolling_24_36M_Forecast_Distribution_PriceCurr] AS [Rolling_24_36M_Forecast_Distribution_PriceCurr], 
        [Extent1].[Distribution_Growth_Forecast_Yr4] AS [Distribution_Growth_Forecast_Yr4], 
        [Extent1].[Earnings_Forecast_Yr4] AS [Earnings_Forecast_Yr4], 
        [Extent1].[Forecast_Distribution_Yr4] AS [Forecast_Distribution_Yr4], 
        [Extent1].[Forecast_Distribution_Yr4_PriceCurr] AS [Forecast_Distribution_Yr4_PriceCurr], 
        [Extent2].[Security_ID] AS [Security_ID1], 
        [Extent2].[Entity_ID] AS [Entity_ID1], 
        [Extent2].[Security_Name] AS [Security_Name], 
        [Extent2].[Short_Name] AS [Short_Name], 
        [Extent2].[Primary_Exch] AS [Primary_Exch], 
        [Extent2].[Secondary_Exch] AS [Secondary_Exch], 
        [Extent2].[Country_Of_Domicile] AS [Country_Of_Domicile], 
        [Extent2].[Country_Of_Risk] AS [Country_Of_Risk], 
        [Extent2].[Security_Type_Code] AS [Security_Type_Code], 
        [Extent2].[Price_Multiplier] AS [Price_Multiplier], 
        [Extent2].[Income_Frequency] AS [Income_Frequency], 
        [Extent2].[Issuer_Code] AS [Issuer_Code], 
        [Extent2].[Ultimate_Issuer_Code] AS [Ultimate_Issuer_Code], 
        [Extent2].[Asset_Currency] AS [Asset_Currency], 
        [Extent2].[Min_Lot_Size] AS [Min_Lot_Size], 
        [Extent2].[Decimal_Precision] AS [Decimal_Precision], 
        [Extent2].[AvePrice_Rounding] AS [AvePrice_Rounding], 
        [Extent2].[Issue_Date] AS [Issue_Date], 
        [Extent2].[Maturity_Date] AS [Maturity_Date], 
        [Extent2].[Coupon_Rate] AS [Coupon_Rate], 
        [Extent2].[Price_Exchange] AS [Price_Exchange], 
        [Extent2].[Trade_Currency] AS [Trade_Currency], 
        [Extent2].[Price_Curr] AS [Price_Curr], 
        [Extent2].[Currency_Pair_Code] AS [Currency_Pair_Code], 
        [Extent2].[Share_Class] AS [Share_Class], 
        [Extent2].[Current_Market_Price] AS [Current_Market_Price], 
        [Extent2].[Index_Type] AS [Index_Type], 
        [Extent2].[Clean_Price_Formula] AS [Clean_Price_Formula], 
        [Extent2].[Accrued_Income_Price_Formula] AS [Accrued_Income_Price_Formula], 
        [Extent2].[Odd_First_Coupon_Date] AS [Odd_First_Coupon_Date], 
        [Extent2].[Odd_Last_Coupon_Date] AS [Odd_Last_Coupon_Date], 
        [Extent2].[Coupon_Anniversary_Indicator] AS [Coupon_Anniversary_Indicator], 
        [Extent2].[Track_EOM_Flag] AS [Track_EOM_Flag], 
        [Extent2].[Next_Coupon_Date] AS [Next_Coupon_Date], 
        [Extent2].[Previous_Coupon_Date] AS [Previous_Coupon_Date], 
        [Extent2].[Payment_Frequency] AS [Payment_Frequency], 
        [Extent2].[Coupon_BusDay_Adjustment] AS [Coupon_BusDay_Adjustment], 
        [Extent2].[Next_Ex_Div_Date] AS [Next_Ex_Div_Date], 
        [Extent2].[Ex_Div_BusDay_Adjustment] AS [Ex_Div_BusDay_Adjustment], 
        [Extent2].[Ex_Div_Period] AS [Ex_Div_Period], 
        [Extent2].[Ticker] AS [Ticker], 
        [Extent2].[Inet_ID] AS [Inet_ID], 
        [Extent2].[Bloomberg_ID] AS [Bloomberg_ID], 
        [Extent2].[External_Sec_ID] AS [External_Sec_ID], 
        [Extent2].[Reuters_ID] AS [Reuters_ID], 
        [Extent2].[ISIN] AS [ISIN], 
        [Extent2].[Call_Account_Flag] AS [Call_Account_Flag], 
        [Extent2].[System_Locked] AS [System_Locked], 
        [Extent2].[Last_Update_User] AS [Last_Update_User1], 
        [Extent2].[Last_Update_Date] AS [Last_Update_Date1], 
        [Extent2].[Security_Status] AS [Security_Status], 
        [Extent2].[Benchmark_Portfolio] AS [Benchmark_Portfolio], 
        [Extent2].[Active_flag] AS [Active_flag], 
        [Extent2].[Dividend_FX_Security_ID] AS [Dividend_FX_Security_ID]
        FROM  [dbo].[Security_Analytics_History] AS [Extent1]
        INNER JOIN [dbo].[Security_Detail] AS [Extent2] ON [Extent1].[Security_ID] = [Extent2].[Security_ID]
        WHERE [Extent1].[Security_ID] = @p__linq__0
    )  AS [Project1]
    ORDER BY [Project1].[Record_Date] DESC
2018-04-07 17:58:02.9239|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: IF db_id(N'MetopeAzureDb') IS NOT NULL SELECT 1 ELSE SELECT Count(*) FROM sys.databases WHERE [name]=N'MetopeAzureDb'
2018-04-07 17:58:02.9545|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: IF db_id(N'MetopeAzureDb') IS NOT NULL SELECT 1 ELSE SELECT Count(*) FROM sys.databases WHERE [name]=N'MetopeAzureDb'
2018-04-07 17:58:02.9785|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: IF db_id(N'MetopeAzureDb') IS NOT NULL SELECT 1 ELSE SELECT Count(*) FROM sys.databases WHERE [name]=N'MetopeAzureDb'
2018-04-07 17:58:03.0020|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: IF db_id(N'MetopeAzureDb') IS NOT NULL SELECT 1 ELSE SELECT Count(*) FROM sys.databases WHERE [name]=N'MetopeAzureDb'
2018-04-07 17:58:07.7754|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: SELECT 
    [Project1].[Security_ID] AS [Security_ID], 
    [Project1].[Entity_ID] AS [Entity_ID], 
    [Project1].[Security_Name] AS [Security_Name], 
    [Project1].[Short_Name] AS [Short_Name], 
    [Project1].[Primary_Exch] AS [Primary_Exch], 
    [Project1].[Secondary_Exch] AS [Secondary_Exch], 
    [Project1].[Country_Of_Domicile] AS [Country_Of_Domicile], 
    [Project1].[Country_Of_Risk] AS [Country_Of_Risk], 
    [Project1].[Security_Type_Code] AS [Security_Type_Code], 
    [Project1].[Price_Multiplier] AS [Price_Multiplier], 
    [Project1].[Income_Frequency] AS [Income_Frequency], 
    [Project1].[Issuer_Code] AS [Issuer_Code], 
    [Project1].[Ultimate_Issuer_Code] AS [Ultimate_Issuer_Code], 
    [Project1].[Asset_Currency] AS [Asset_Currency], 
    [Project1].[Min_Lot_Size] AS [Min_Lot_Size], 
    [Project1].[Decimal_Precision] AS [Decimal_Precision], 
    [Project1].[AvePrice_Rounding] AS [AvePrice_Rounding], 
    [Project1].[Issue_Date] AS [Issue_Date], 
    [Project1].[Maturity_Date] AS [Maturity_Date], 
    [Project1].[Coupon_Rate] AS [Coupon_Rate], 
    [Project1].[Price_Exchange] AS [Price_Exchange], 
    [Project1].[Trade_Currency] AS [Trade_Currency], 
    [Project1].[Price_Curr] AS [Price_Curr], 
    [Project1].[Currency_Pair_Code] AS [Currency_Pair_Code], 
    [Project1].[Share_Class] AS [Share_Class], 
    [Project1].[Current_Market_Price] AS [Current_Market_Price], 
    [Project1].[Index_Type] AS [Index_Type], 
    [Project1].[Clean_Price_Formula] AS [Clean_Price_Formula], 
    [Project1].[Accrued_Income_Price_Formula] AS [Accrued_Income_Price_Formula], 
    [Project1].[Odd_First_Coupon_Date] AS [Odd_First_Coupon_Date], 
    [Project1].[Odd_Last_Coupon_Date] AS [Odd_Last_Coupon_Date], 
    [Project1].[Coupon_Anniversary_Indicator] AS [Coupon_Anniversary_Indicator], 
    [Project1].[Track_EOM_Flag] AS [Track_EOM_Flag], 
    [Project1].[Next_Coupon_Date] AS [Next_Coupon_Date], 
    [Project1].[Previous_Coupon_Date] AS [Previous_Coupon_Date], 
    [Project1].[Payment_Frequency] AS [Payment_Frequency], 
    [Project1].[Coupon_BusDay_Adjustment] AS [Coupon_BusDay_Adjustment], 
    [Project1].[Next_Ex_Div_Date] AS [Next_Ex_Div_Date], 
    [Project1].[Ex_Div_BusDay_Adjustment] AS [Ex_Div_BusDay_Adjustment], 
    [Project1].[Ex_Div_Period] AS [Ex_Div_Period], 
    [Project1].[Ticker] AS [Ticker], 
    [Project1].[Inet_ID] AS [Inet_ID], 
    [Project1].[Bloomberg_ID] AS [Bloomberg_ID], 
    [Project1].[External_Sec_ID] AS [External_Sec_ID], 
    [Project1].[Reuters_ID] AS [Reuters_ID], 
    [Project1].[ISIN] AS [ISIN], 
    [Project1].[Call_Account_Flag] AS [Call_Account_Flag], 
    [Project1].[System_Locked] AS [System_Locked], 
    [Project1].[Last_Update_User] AS [Last_Update_User], 
    [Project1].[Last_Update_Date] AS [Last_Update_Date], 
    [Project1].[Security_Status] AS [Security_Status], 
    [Project1].[Benchmark_Portfolio] AS [Benchmark_Portfolio], 
    [Project1].[Active_flag] AS [Active_flag], 
    [Project1].[Dividend_FX_Security_ID] AS [Dividend_FX_Security_ID]
    FROM ( SELECT 
        [Extent1].[Security_ID] AS [Security_ID], 
        [Extent1].[Entity_ID] AS [Entity_ID], 
        [Extent1].[Security_Name] AS [Security_Name], 
        [Extent1].[Short_Name] AS [Short_Name], 
        [Extent1].[Primary_Exch] AS [Primary_Exch], 
        [Extent1].[Secondary_Exch] AS [Secondary_Exch], 
        [Extent1].[Country_Of_Domicile] AS [Country_Of_Domicile], 
        [Extent1].[Country_Of_Risk] AS [Country_Of_Risk], 
        [Extent1].[Security_Type_Code] AS [Security_Type_Code], 
        [Extent1].[Price_Multiplier] AS [Price_Multiplier], 
        [Extent1].[Income_Frequency] AS [Income_Frequency], 
        [Extent1].[Issuer_Code] AS [Issuer_Code], 
        [Extent1].[Ultimate_Issuer_Code] AS [Ultimate_Issuer_Code], 
        [Extent1].[Asset_Currency] AS [Asset_Currency], 
        [Extent1].[Min_Lot_Size] AS [Min_Lot_Size], 
        [Extent1].[Decimal_Precision] AS [Decimal_Precision], 
        [Extent1].[AvePrice_Rounding] AS [AvePrice_Rounding], 
        [Extent1].[Issue_Date] AS [Issue_Date], 
        [Extent1].[Maturity_Date] AS [Maturity_Date], 
        [Extent1].[Coupon_Rate] AS [Coupon_Rate], 
        [Extent1].[Price_Exchange] AS [Price_Exchange], 
        [Extent1].[Trade_Currency] AS [Trade_Currency], 
        [Extent1].[Price_Curr] AS [Price_Curr], 
        [Extent1].[Currency_Pair_Code] AS [Currency_Pair_Code], 
        [Extent1].[Share_Class] AS [Share_Class], 
        [Extent1].[Current_Market_Price] AS [Current_Market_Price], 
        [Extent1].[Index_Type] AS [Index_Type], 
        [Extent1].[Clean_Price_Formula] AS [Clean_Price_Formula], 
        [Extent1].[Accrued_Income_Price_Formula] AS [Accrued_Income_Price_Formula], 
        [Extent1].[Odd_First_Coupon_Date] AS [Odd_First_Coupon_Date], 
        [Extent1].[Odd_Last_Coupon_Date] AS [Odd_Last_Coupon_Date], 
        [Extent1].[Coupon_Anniversary_Indicator] AS [Coupon_Anniversary_Indicator], 
        [Extent1].[Track_EOM_Flag] AS [Track_EOM_Flag], 
        [Extent1].[Next_Coupon_Date] AS [Next_Coupon_Date], 
        [Extent1].[Previous_Coupon_Date] AS [Previous_Coupon_Date], 
        [Extent1].[Payment_Frequency] AS [Payment_Frequency], 
        [Extent1].[Coupon_BusDay_Adjustment] AS [Coupon_BusDay_Adjustment], 
        [Extent1].[Next_Ex_Div_Date] AS [Next_Ex_Div_Date], 
        [Extent1].[Ex_Div_BusDay_Adjustment] AS [Ex_Div_BusDay_Adjustment], 
        [Extent1].[Ex_Div_Period] AS [Ex_Div_Period], 
        [Extent1].[Ticker] AS [Ticker], 
        [Extent1].[Inet_ID] AS [Inet_ID], 
        [Extent1].[Bloomberg_ID] AS [Bloomberg_ID], 
        [Extent1].[External_Sec_ID] AS [External_Sec_ID], 
        [Extent1].[Reuters_ID] AS [Reuters_ID], 
        [Extent1].[ISIN] AS [ISIN], 
        [Extent1].[Call_Account_Flag] AS [Call_Account_Flag], 
        [Extent1].[System_Locked] AS [System_Locked], 
        [Extent1].[Last_Update_User] AS [Last_Update_User], 
        [Extent1].[Last_Update_Date] AS [Last_Update_Date], 
        [Extent1].[Security_Status] AS [Security_Status], 
        [Extent1].[Benchmark_Portfolio] AS [Benchmark_Portfolio], 
        [Extent1].[Active_flag] AS [Active_flag], 
        [Extent1].[Dividend_FX_Security_ID] AS [Dividend_FX_Security_ID]
        FROM [dbo].[Security_Detail] AS [Extent1]
        WHERE ([Extent1].[Entity_ID] IN (@p__linq__0,@p__linq__1)) AND ((CASE WHEN ( NOT ((N'' = @p__linq__2) AND (@p__linq__2 IS NOT NULL))) THEN CASE WHEN ([Extent1].[Security_Type_Code] = @p__linq__3) THEN cast(1 as bit) WHEN ( NOT (([Extent1].[Security_Type_Code] = @p__linq__3) AND (0 = (CASE WHEN (@p__linq__3 IS NULL) THEN cast(1 as bit) ELSE cast(0 as bit) END)))) THEN cast(0 as bit) END WHEN ('' <> [Extent1].[Security_Type_Code]) THEN cast(1 as bit) WHEN ('' = [Extent1].[Security_Type_Code]) THEN cast(0 as bit) END) = 1)
    )  AS [Project1]
    ORDER BY [Project1].[Security_Name] ASC
2018-04-07 17:58:07.8169|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: SELECT 
    [Project1].[Security_ID] AS [Security_ID], 
    [Project1].[Entity_ID] AS [Entity_ID], 
    [Project1].[Security_Name] AS [Security_Name], 
    [Project1].[Short_Name] AS [Short_Name], 
    [Project1].[Primary_Exch] AS [Primary_Exch], 
    [Project1].[Secondary_Exch] AS [Secondary_Exch], 
    [Project1].[Country_Of_Domicile] AS [Country_Of_Domicile], 
    [Project1].[Country_Of_Risk] AS [Country_Of_Risk], 
    [Project1].[Security_Type_Code] AS [Security_Type_Code], 
    [Project1].[Price_Multiplier] AS [Price_Multiplier], 
    [Project1].[Income_Frequency] AS [Income_Frequency], 
    [Project1].[Issuer_Code] AS [Issuer_Code], 
    [Project1].[Ultimate_Issuer_Code] AS [Ultimate_Issuer_Code], 
    [Project1].[Asset_Currency] AS [Asset_Currency], 
    [Project1].[Min_Lot_Size] AS [Min_Lot_Size], 
    [Project1].[Decimal_Precision] AS [Decimal_Precision], 
    [Project1].[AvePrice_Rounding] AS [AvePrice_Rounding], 
    [Project1].[Issue_Date] AS [Issue_Date], 
    [Project1].[Maturity_Date] AS [Maturity_Date], 
    [Project1].[Coupon_Rate] AS [Coupon_Rate], 
    [Project1].[Price_Exchange] AS [Price_Exchange], 
    [Project1].[Trade_Currency] AS [Trade_Currency], 
    [Project1].[Price_Curr] AS [Price_Curr], 
    [Project1].[Currency_Pair_Code] AS [Currency_Pair_Code], 
    [Project1].[Share_Class] AS [Share_Class], 
    [Project1].[Current_Market_Price] AS [Current_Market_Price], 
    [Project1].[Index_Type] AS [Index_Type], 
    [Project1].[Clean_Price_Formula] AS [Clean_Price_Formula], 
    [Project1].[Accrued_Income_Price_Formula] AS [Accrued_Income_Price_Formula], 
    [Project1].[Odd_First_Coupon_Date] AS [Odd_First_Coupon_Date], 
    [Project1].[Odd_Last_Coupon_Date] AS [Odd_Last_Coupon_Date], 
    [Project1].[Coupon_Anniversary_Indicator] AS [Coupon_Anniversary_Indicator], 
    [Project1].[Track_EOM_Flag] AS [Track_EOM_Flag], 
    [Project1].[Next_Coupon_Date] AS [Next_Coupon_Date], 
    [Project1].[Previous_Coupon_Date] AS [Previous_Coupon_Date], 
    [Project1].[Payment_Frequency] AS [Payment_Frequency], 
    [Project1].[Coupon_BusDay_Adjustment] AS [Coupon_BusDay_Adjustment], 
    [Project1].[Next_Ex_Div_Date] AS [Next_Ex_Div_Date], 
    [Project1].[Ex_Div_BusDay_Adjustment] AS [Ex_Div_BusDay_Adjustment], 
    [Project1].[Ex_Div_Period] AS [Ex_Div_Period], 
    [Project1].[Ticker] AS [Ticker], 
    [Project1].[Inet_ID] AS [Inet_ID], 
    [Project1].[Bloomberg_ID] AS [Bloomberg_ID], 
    [Project1].[External_Sec_ID] AS [External_Sec_ID], 
    [Project1].[Reuters_ID] AS [Reuters_ID], 
    [Project1].[ISIN] AS [ISIN], 
    [Project1].[Call_Account_Flag] AS [Call_Account_Flag], 
    [Project1].[System_Locked] AS [System_Locked], 
    [Project1].[Last_Update_User] AS [Last_Update_User], 
    [Project1].[Last_Update_Date] AS [Last_Update_Date], 
    [Project1].[Security_Status] AS [Security_Status], 
    [Project1].[Benchmark_Portfolio] AS [Benchmark_Portfolio], 
    [Project1].[Active_flag] AS [Active_flag], 
    [Project1].[Dividend_FX_Security_ID] AS [Dividend_FX_Security_ID]
    FROM ( SELECT 
        [Extent1].[Security_ID] AS [Security_ID], 
        [Extent1].[Entity_ID] AS [Entity_ID], 
        [Extent1].[Security_Name] AS [Security_Name], 
        [Extent1].[Short_Name] AS [Short_Name], 
        [Extent1].[Primary_Exch] AS [Primary_Exch], 
        [Extent1].[Secondary_Exch] AS [Secondary_Exch], 
        [Extent1].[Country_Of_Domicile] AS [Country_Of_Domicile], 
        [Extent1].[Country_Of_Risk] AS [Country_Of_Risk], 
        [Extent1].[Security_Type_Code] AS [Security_Type_Code], 
        [Extent1].[Price_Multiplier] AS [Price_Multiplier], 
        [Extent1].[Income_Frequency] AS [Income_Frequency], 
        [Extent1].[Issuer_Code] AS [Issuer_Code], 
        [Extent1].[Ultimate_Issuer_Code] AS [Ultimate_Issuer_Code], 
        [Extent1].[Asset_Currency] AS [Asset_Currency], 
        [Extent1].[Min_Lot_Size] AS [Min_Lot_Size], 
        [Extent1].[Decimal_Precision] AS [Decimal_Precision], 
        [Extent1].[AvePrice_Rounding] AS [AvePrice_Rounding], 
        [Extent1].[Issue_Date] AS [Issue_Date], 
        [Extent1].[Maturity_Date] AS [Maturity_Date], 
        [Extent1].[Coupon_Rate] AS [Coupon_Rate], 
        [Extent1].[Price_Exchange] AS [Price_Exchange], 
        [Extent1].[Trade_Currency] AS [Trade_Currency], 
        [Extent1].[Price_Curr] AS [Price_Curr], 
        [Extent1].[Currency_Pair_Code] AS [Currency_Pair_Code], 
        [Extent1].[Share_Class] AS [Share_Class], 
        [Extent1].[Current_Market_Price] AS [Current_Market_Price], 
        [Extent1].[Index_Type] AS [Index_Type], 
        [Extent1].[Clean_Price_Formula] AS [Clean_Price_Formula], 
        [Extent1].[Accrued_Income_Price_Formula] AS [Accrued_Income_Price_Formula], 
        [Extent1].[Odd_First_Coupon_Date] AS [Odd_First_Coupon_Date], 
        [Extent1].[Odd_Last_Coupon_Date] AS [Odd_Last_Coupon_Date], 
        [Extent1].[Coupon_Anniversary_Indicator] AS [Coupon_Anniversary_Indicator], 
        [Extent1].[Track_EOM_Flag] AS [Track_EOM_Flag], 
        [Extent1].[Next_Coupon_Date] AS [Next_Coupon_Date], 
        [Extent1].[Previous_Coupon_Date] AS [Previous_Coupon_Date], 
        [Extent1].[Payment_Frequency] AS [Payment_Frequency], 
        [Extent1].[Coupon_BusDay_Adjustment] AS [Coupon_BusDay_Adjustment], 
        [Extent1].[Next_Ex_Div_Date] AS [Next_Ex_Div_Date], 
        [Extent1].[Ex_Div_BusDay_Adjustment] AS [Ex_Div_BusDay_Adjustment], 
        [Extent1].[Ex_Div_Period] AS [Ex_Div_Period], 
        [Extent1].[Ticker] AS [Ticker], 
        [Extent1].[Inet_ID] AS [Inet_ID], 
        [Extent1].[Bloomberg_ID] AS [Bloomberg_ID], 
        [Extent1].[External_Sec_ID] AS [External_Sec_ID], 
        [Extent1].[Reuters_ID] AS [Reuters_ID], 
        [Extent1].[ISIN] AS [ISIN], 
        [Extent1].[Call_Account_Flag] AS [Call_Account_Flag], 
        [Extent1].[System_Locked] AS [System_Locked], 
        [Extent1].[Last_Update_User] AS [Last_Update_User], 
        [Extent1].[Last_Update_Date] AS [Last_Update_Date], 
        [Extent1].[Security_Status] AS [Security_Status], 
        [Extent1].[Benchmark_Portfolio] AS [Benchmark_Portfolio], 
        [Extent1].[Active_flag] AS [Active_flag], 
        [Extent1].[Dividend_FX_Security_ID] AS [Dividend_FX_Security_ID]
        FROM [dbo].[Security_Detail] AS [Extent1]
        WHERE ([Extent1].[Entity_ID] IN (@p__linq__0,@p__linq__1)) AND ((CASE WHEN ( NOT ((N'' = @p__linq__2) AND (@p__linq__2 IS NOT NULL))) THEN CASE WHEN ([Extent1].[Security_Type_Code] = @p__linq__3) THEN cast(1 as bit) WHEN ( NOT (([Extent1].[Security_Type_Code] = @p__linq__3) AND (0 = (CASE WHEN (@p__linq__3 IS NULL) THEN cast(1 as bit) ELSE cast(0 as bit) END)))) THEN cast(0 as bit) END WHEN ('' <> [Extent1].[Security_Type_Code]) THEN cast(1 as bit) WHEN ('' = [Extent1].[Security_Type_Code]) THEN cast(0 as bit) END) = 1)
    )  AS [Project1]
    ORDER BY [Project1].[Security_Name] ASC
2018-04-07 17:58:08.0826|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: SELECT 
    [Project1].[Security_ID] AS [Security_ID], 
    [Project1].[Entity_ID] AS [Entity_ID], 
    [Project1].[Security_Name] AS [Security_Name], 
    [Project1].[Short_Name] AS [Short_Name], 
    [Project1].[Primary_Exch] AS [Primary_Exch], 
    [Project1].[Secondary_Exch] AS [Secondary_Exch], 
    [Project1].[Country_Of_Domicile] AS [Country_Of_Domicile], 
    [Project1].[Country_Of_Risk] AS [Country_Of_Risk], 
    [Project1].[Security_Type_Code] AS [Security_Type_Code], 
    [Project1].[Price_Multiplier] AS [Price_Multiplier], 
    [Project1].[Income_Frequency] AS [Income_Frequency], 
    [Project1].[Issuer_Code] AS [Issuer_Code], 
    [Project1].[Ultimate_Issuer_Code] AS [Ultimate_Issuer_Code], 
    [Project1].[Asset_Currency] AS [Asset_Currency], 
    [Project1].[Min_Lot_Size] AS [Min_Lot_Size], 
    [Project1].[Decimal_Precision] AS [Decimal_Precision], 
    [Project1].[AvePrice_Rounding] AS [AvePrice_Rounding], 
    [Project1].[Issue_Date] AS [Issue_Date], 
    [Project1].[Maturity_Date] AS [Maturity_Date], 
    [Project1].[Coupon_Rate] AS [Coupon_Rate], 
    [Project1].[Price_Exchange] AS [Price_Exchange], 
    [Project1].[Trade_Currency] AS [Trade_Currency], 
    [Project1].[Price_Curr] AS [Price_Curr], 
    [Project1].[Currency_Pair_Code] AS [Currency_Pair_Code], 
    [Project1].[Share_Class] AS [Share_Class], 
    [Project1].[Current_Market_Price] AS [Current_Market_Price], 
    [Project1].[Index_Type] AS [Index_Type], 
    [Project1].[Clean_Price_Formula] AS [Clean_Price_Formula], 
    [Project1].[Accrued_Income_Price_Formula] AS [Accrued_Income_Price_Formula], 
    [Project1].[Odd_First_Coupon_Date] AS [Odd_First_Coupon_Date], 
    [Project1].[Odd_Last_Coupon_Date] AS [Odd_Last_Coupon_Date], 
    [Project1].[Coupon_Anniversary_Indicator] AS [Coupon_Anniversary_Indicator], 
    [Project1].[Track_EOM_Flag] AS [Track_EOM_Flag], 
    [Project1].[Next_Coupon_Date] AS [Next_Coupon_Date], 
    [Project1].[Previous_Coupon_Date] AS [Previous_Coupon_Date], 
    [Project1].[Payment_Frequency] AS [Payment_Frequency], 
    [Project1].[Coupon_BusDay_Adjustment] AS [Coupon_BusDay_Adjustment], 
    [Project1].[Next_Ex_Div_Date] AS [Next_Ex_Div_Date], 
    [Project1].[Ex_Div_BusDay_Adjustment] AS [Ex_Div_BusDay_Adjustment], 
    [Project1].[Ex_Div_Period] AS [Ex_Div_Period], 
    [Project1].[Ticker] AS [Ticker], 
    [Project1].[Inet_ID] AS [Inet_ID], 
    [Project1].[Bloomberg_ID] AS [Bloomberg_ID], 
    [Project1].[External_Sec_ID] AS [External_Sec_ID], 
    [Project1].[Reuters_ID] AS [Reuters_ID], 
    [Project1].[ISIN] AS [ISIN], 
    [Project1].[Call_Account_Flag] AS [Call_Account_Flag], 
    [Project1].[System_Locked] AS [System_Locked], 
    [Project1].[Last_Update_User] AS [Last_Update_User], 
    [Project1].[Last_Update_Date] AS [Last_Update_Date], 
    [Project1].[Security_Status] AS [Security_Status], 
    [Project1].[Benchmark_Portfolio] AS [Benchmark_Portfolio], 
    [Project1].[Active_flag] AS [Active_flag], 
    [Project1].[Dividend_FX_Security_ID] AS [Dividend_FX_Security_ID]
    FROM ( SELECT 
        [Extent1].[Security_ID] AS [Security_ID], 
        [Extent1].[Entity_ID] AS [Entity_ID], 
        [Extent1].[Security_Name] AS [Security_Name], 
        [Extent1].[Short_Name] AS [Short_Name], 
        [Extent1].[Primary_Exch] AS [Primary_Exch], 
        [Extent1].[Secondary_Exch] AS [Secondary_Exch], 
        [Extent1].[Country_Of_Domicile] AS [Country_Of_Domicile], 
        [Extent1].[Country_Of_Risk] AS [Country_Of_Risk], 
        [Extent1].[Security_Type_Code] AS [Security_Type_Code], 
        [Extent1].[Price_Multiplier] AS [Price_Multiplier], 
        [Extent1].[Income_Frequency] AS [Income_Frequency], 
        [Extent1].[Issuer_Code] AS [Issuer_Code], 
        [Extent1].[Ultimate_Issuer_Code] AS [Ultimate_Issuer_Code], 
        [Extent1].[Asset_Currency] AS [Asset_Currency], 
        [Extent1].[Min_Lot_Size] AS [Min_Lot_Size], 
        [Extent1].[Decimal_Precision] AS [Decimal_Precision], 
        [Extent1].[AvePrice_Rounding] AS [AvePrice_Rounding], 
        [Extent1].[Issue_Date] AS [Issue_Date], 
        [Extent1].[Maturity_Date] AS [Maturity_Date], 
        [Extent1].[Coupon_Rate] AS [Coupon_Rate], 
        [Extent1].[Price_Exchange] AS [Price_Exchange], 
        [Extent1].[Trade_Currency] AS [Trade_Currency], 
        [Extent1].[Price_Curr] AS [Price_Curr], 
        [Extent1].[Currency_Pair_Code] AS [Currency_Pair_Code], 
        [Extent1].[Share_Class] AS [Share_Class], 
        [Extent1].[Current_Market_Price] AS [Current_Market_Price], 
        [Extent1].[Index_Type] AS [Index_Type], 
        [Extent1].[Clean_Price_Formula] AS [Clean_Price_Formula], 
        [Extent1].[Accrued_Income_Price_Formula] AS [Accrued_Income_Price_Formula], 
        [Extent1].[Odd_First_Coupon_Date] AS [Odd_First_Coupon_Date], 
        [Extent1].[Odd_Last_Coupon_Date] AS [Odd_Last_Coupon_Date], 
        [Extent1].[Coupon_Anniversary_Indicator] AS [Coupon_Anniversary_Indicator], 
        [Extent1].[Track_EOM_Flag] AS [Track_EOM_Flag], 
        [Extent1].[Next_Coupon_Date] AS [Next_Coupon_Date], 
        [Extent1].[Previous_Coupon_Date] AS [Previous_Coupon_Date], 
        [Extent1].[Payment_Frequency] AS [Payment_Frequency], 
        [Extent1].[Coupon_BusDay_Adjustment] AS [Coupon_BusDay_Adjustment], 
        [Extent1].[Next_Ex_Div_Date] AS [Next_Ex_Div_Date], 
        [Extent1].[Ex_Div_BusDay_Adjustment] AS [Ex_Div_BusDay_Adjustment], 
        [Extent1].[Ex_Div_Period] AS [Ex_Div_Period], 
        [Extent1].[Ticker] AS [Ticker], 
        [Extent1].[Inet_ID] AS [Inet_ID], 
        [Extent1].[Bloomberg_ID] AS [Bloomberg_ID], 
        [Extent1].[External_Sec_ID] AS [External_Sec_ID], 
        [Extent1].[Reuters_ID] AS [Reuters_ID], 
        [Extent1].[ISIN] AS [ISIN], 
        [Extent1].[Call_Account_Flag] AS [Call_Account_Flag], 
        [Extent1].[System_Locked] AS [System_Locked], 
        [Extent1].[Last_Update_User] AS [Last_Update_User], 
        [Extent1].[Last_Update_Date] AS [Last_Update_Date], 
        [Extent1].[Security_Status] AS [Security_Status], 
        [Extent1].[Benchmark_Portfolio] AS [Benchmark_Portfolio], 
        [Extent1].[Active_flag] AS [Active_flag], 
        [Extent1].[Dividend_FX_Security_ID] AS [Dividend_FX_Security_ID]
        FROM [dbo].[Security_Detail] AS [Extent1]
        WHERE ([Extent1].[Entity_ID] IN (@p__linq__0,@p__linq__1)) AND ((CASE WHEN ( NOT ((N'' = @p__linq__2) AND (@p__linq__2 IS NOT NULL))) THEN CASE WHEN ([Extent1].[Security_Type_Code] = @p__linq__3) THEN cast(1 as bit) WHEN ( NOT (([Extent1].[Security_Type_Code] = @p__linq__3) AND (0 = (CASE WHEN (@p__linq__3 IS NULL) THEN cast(1 as bit) ELSE cast(0 as bit) END)))) THEN cast(0 as bit) END WHEN ('' <> [Extent1].[Security_Type_Code]) THEN cast(1 as bit) WHEN ('' = [Extent1].[Security_Type_Code]) THEN cast(0 as bit) END) = 1)
    )  AS [Project1]
    ORDER BY [Project1].[Security_Name] ASC
2018-04-07 17:58:08.1156|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: SELECT 
    [Project1].[Security_ID] AS [Security_ID], 
    [Project1].[Entity_ID] AS [Entity_ID], 
    [Project1].[Security_Name] AS [Security_Name], 
    [Project1].[Short_Name] AS [Short_Name], 
    [Project1].[Primary_Exch] AS [Primary_Exch], 
    [Project1].[Secondary_Exch] AS [Secondary_Exch], 
    [Project1].[Country_Of_Domicile] AS [Country_Of_Domicile], 
    [Project1].[Country_Of_Risk] AS [Country_Of_Risk], 
    [Project1].[Security_Type_Code] AS [Security_Type_Code], 
    [Project1].[Price_Multiplier] AS [Price_Multiplier], 
    [Project1].[Income_Frequency] AS [Income_Frequency], 
    [Project1].[Issuer_Code] AS [Issuer_Code], 
    [Project1].[Ultimate_Issuer_Code] AS [Ultimate_Issuer_Code], 
    [Project1].[Asset_Currency] AS [Asset_Currency], 
    [Project1].[Min_Lot_Size] AS [Min_Lot_Size], 
    [Project1].[Decimal_Precision] AS [Decimal_Precision], 
    [Project1].[AvePrice_Rounding] AS [AvePrice_Rounding], 
    [Project1].[Issue_Date] AS [Issue_Date], 
    [Project1].[Maturity_Date] AS [Maturity_Date], 
    [Project1].[Coupon_Rate] AS [Coupon_Rate], 
    [Project1].[Price_Exchange] AS [Price_Exchange], 
    [Project1].[Trade_Currency] AS [Trade_Currency], 
    [Project1].[Price_Curr] AS [Price_Curr], 
    [Project1].[Currency_Pair_Code] AS [Currency_Pair_Code], 
    [Project1].[Share_Class] AS [Share_Class], 
    [Project1].[Current_Market_Price] AS [Current_Market_Price], 
    [Project1].[Index_Type] AS [Index_Type], 
    [Project1].[Clean_Price_Formula] AS [Clean_Price_Formula], 
    [Project1].[Accrued_Income_Price_Formula] AS [Accrued_Income_Price_Formula], 
    [Project1].[Odd_First_Coupon_Date] AS [Odd_First_Coupon_Date], 
    [Project1].[Odd_Last_Coupon_Date] AS [Odd_Last_Coupon_Date], 
    [Project1].[Coupon_Anniversary_Indicator] AS [Coupon_Anniversary_Indicator], 
    [Project1].[Track_EOM_Flag] AS [Track_EOM_Flag], 
    [Project1].[Next_Coupon_Date] AS [Next_Coupon_Date], 
    [Project1].[Previous_Coupon_Date] AS [Previous_Coupon_Date], 
    [Project1].[Payment_Frequency] AS [Payment_Frequency], 
    [Project1].[Coupon_BusDay_Adjustment] AS [Coupon_BusDay_Adjustment], 
    [Project1].[Next_Ex_Div_Date] AS [Next_Ex_Div_Date], 
    [Project1].[Ex_Div_BusDay_Adjustment] AS [Ex_Div_BusDay_Adjustment], 
    [Project1].[Ex_Div_Period] AS [Ex_Div_Period], 
    [Project1].[Ticker] AS [Ticker], 
    [Project1].[Inet_ID] AS [Inet_ID], 
    [Project1].[Bloomberg_ID] AS [Bloomberg_ID], 
    [Project1].[External_Sec_ID] AS [External_Sec_ID], 
    [Project1].[Reuters_ID] AS [Reuters_ID], 
    [Project1].[ISIN] AS [ISIN], 
    [Project1].[Call_Account_Flag] AS [Call_Account_Flag], 
    [Project1].[System_Locked] AS [System_Locked], 
    [Project1].[Last_Update_User] AS [Last_Update_User], 
    [Project1].[Last_Update_Date] AS [Last_Update_Date], 
    [Project1].[Security_Status] AS [Security_Status], 
    [Project1].[Benchmark_Portfolio] AS [Benchmark_Portfolio], 
    [Project1].[Active_flag] AS [Active_flag], 
    [Project1].[Dividend_FX_Security_ID] AS [Dividend_FX_Security_ID]
    FROM ( SELECT 
        [Extent1].[Security_ID] AS [Security_ID], 
        [Extent1].[Entity_ID] AS [Entity_ID], 
        [Extent1].[Security_Name] AS [Security_Name], 
        [Extent1].[Short_Name] AS [Short_Name], 
        [Extent1].[Primary_Exch] AS [Primary_Exch], 
        [Extent1].[Secondary_Exch] AS [Secondary_Exch], 
        [Extent1].[Country_Of_Domicile] AS [Country_Of_Domicile], 
        [Extent1].[Country_Of_Risk] AS [Country_Of_Risk], 
        [Extent1].[Security_Type_Code] AS [Security_Type_Code], 
        [Extent1].[Price_Multiplier] AS [Price_Multiplier], 
        [Extent1].[Income_Frequency] AS [Income_Frequency], 
        [Extent1].[Issuer_Code] AS [Issuer_Code], 
        [Extent1].[Ultimate_Issuer_Code] AS [Ultimate_Issuer_Code], 
        [Extent1].[Asset_Currency] AS [Asset_Currency], 
        [Extent1].[Min_Lot_Size] AS [Min_Lot_Size], 
        [Extent1].[Decimal_Precision] AS [Decimal_Precision], 
        [Extent1].[AvePrice_Rounding] AS [AvePrice_Rounding], 
        [Extent1].[Issue_Date] AS [Issue_Date], 
        [Extent1].[Maturity_Date] AS [Maturity_Date], 
        [Extent1].[Coupon_Rate] AS [Coupon_Rate], 
        [Extent1].[Price_Exchange] AS [Price_Exchange], 
        [Extent1].[Trade_Currency] AS [Trade_Currency], 
        [Extent1].[Price_Curr] AS [Price_Curr], 
        [Extent1].[Currency_Pair_Code] AS [Currency_Pair_Code], 
        [Extent1].[Share_Class] AS [Share_Class], 
        [Extent1].[Current_Market_Price] AS [Current_Market_Price], 
        [Extent1].[Index_Type] AS [Index_Type], 
        [Extent1].[Clean_Price_Formula] AS [Clean_Price_Formula], 
        [Extent1].[Accrued_Income_Price_Formula] AS [Accrued_Income_Price_Formula], 
        [Extent1].[Odd_First_Coupon_Date] AS [Odd_First_Coupon_Date], 
        [Extent1].[Odd_Last_Coupon_Date] AS [Odd_Last_Coupon_Date], 
        [Extent1].[Coupon_Anniversary_Indicator] AS [Coupon_Anniversary_Indicator], 
        [Extent1].[Track_EOM_Flag] AS [Track_EOM_Flag], 
        [Extent1].[Next_Coupon_Date] AS [Next_Coupon_Date], 
        [Extent1].[Previous_Coupon_Date] AS [Previous_Coupon_Date], 
        [Extent1].[Payment_Frequency] AS [Payment_Frequency], 
        [Extent1].[Coupon_BusDay_Adjustment] AS [Coupon_BusDay_Adjustment], 
        [Extent1].[Next_Ex_Div_Date] AS [Next_Ex_Div_Date], 
        [Extent1].[Ex_Div_BusDay_Adjustment] AS [Ex_Div_BusDay_Adjustment], 
        [Extent1].[Ex_Div_Period] AS [Ex_Div_Period], 
        [Extent1].[Ticker] AS [Ticker], 
        [Extent1].[Inet_ID] AS [Inet_ID], 
        [Extent1].[Bloomberg_ID] AS [Bloomberg_ID], 
        [Extent1].[External_Sec_ID] AS [External_Sec_ID], 
        [Extent1].[Reuters_ID] AS [Reuters_ID], 
        [Extent1].[ISIN] AS [ISIN], 
        [Extent1].[Call_Account_Flag] AS [Call_Account_Flag], 
        [Extent1].[System_Locked] AS [System_Locked], 
        [Extent1].[Last_Update_User] AS [Last_Update_User], 
        [Extent1].[Last_Update_Date] AS [Last_Update_Date], 
        [Extent1].[Security_Status] AS [Security_Status], 
        [Extent1].[Benchmark_Portfolio] AS [Benchmark_Portfolio], 
        [Extent1].[Active_flag] AS [Active_flag], 
        [Extent1].[Dividend_FX_Security_ID] AS [Dividend_FX_Security_ID]
        FROM [dbo].[Security_Detail] AS [Extent1]
        WHERE ([Extent1].[Entity_ID] IN (@p__linq__0,@p__linq__1)) AND ((CASE WHEN ( NOT ((N'' = @p__linq__2) AND (@p__linq__2 IS NOT NULL))) THEN CASE WHEN ([Extent1].[Security_Type_Code] = @p__linq__3) THEN cast(1 as bit) WHEN ( NOT (([Extent1].[Security_Type_Code] = @p__linq__3) AND (0 = (CASE WHEN (@p__linq__3 IS NULL) THEN cast(1 as bit) ELSE cast(0 as bit) END)))) THEN cast(0 as bit) END WHEN ('' <> [Extent1].[Security_Type_Code]) THEN cast(1 as bit) WHEN ('' = [Extent1].[Security_Type_Code]) THEN cast(0 as bit) END) = 1)
    )  AS [Project1]
    ORDER BY [Project1].[Security_Name] ASC
2018-04-07 17:58:08.1897|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: IF db_id(N'MetopeAzureDb') IS NOT NULL SELECT 1 ELSE SELECT Count(*) FROM sys.databases WHERE [name]=N'MetopeAzureDb'
2018-04-07 17:58:08.2062|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: IF db_id(N'MetopeAzureDb') IS NOT NULL SELECT 1 ELSE SELECT Count(*) FROM sys.databases WHERE [name]=N'MetopeAzureDb'
2018-04-07 17:58:08.2247|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: IF db_id(N'MetopeAzureDb') IS NOT NULL SELECT 1 ELSE SELECT Count(*) FROM sys.databases WHERE [name]=N'MetopeAzureDb'
2018-04-07 17:58:08.2402|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: IF db_id(N'MetopeAzureDb') IS NOT NULL SELECT 1 ELSE SELECT Count(*) FROM sys.databases WHERE [name]=N'MetopeAzureDb'
2018-04-07 17:58:28.2016|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: SELECT 
    [Project1].[Decimal_Precision] AS [Decimal_Precision], 
    [Project1].[Entity_ID] AS [Entity_ID], 
    [Project1].[Security_ID] AS [Security_ID], 
    [Project1].[Issued_Amount] AS [Issued_Amount], 
    [Project1].[Market_Capitalisation] AS [Market_Capitalisation], 
    [Project1].[Risk_Premium] AS [Risk_Premium], 
    [Project1].[Exit_Price] AS [Exit_Price], 
    [Project1].[Total_Return_ME_1YR] AS [Total_Return_ME_1YR], 
    [Project1].[Total_Return_ME_2YR] AS [Total_Return_ME_2YR], 
    [Project1].[Total_Return_ME_3YR] AS [Total_Return_ME_3YR], 
    [Project1].[Historic_Distribution] AS [Historic_Distribution], 
    [Project1].[Distribution_Growth_Forecast_Yr1] AS [Distribution_Growth_Forecast_Yr1], 
    [Project1].[Distribution_Growth_Forecast_Yr2] AS [Distribution_Growth_Forecast_Yr2], 
    [Project1].[Distribution_Growth_Forecast_Yr3] AS [Distribution_Growth_Forecast_Yr3], 
    [Project1].[Forecast_Distribution_Yr1] AS [Forecast_Distribution_Yr1], 
    [Project1].[Forecast_Distribution_Yr2] AS [Forecast_Distribution_Yr2], 
    [Project1].[Forecast_Distribution_Yr3] AS [Forecast_Distribution_Yr3], 
    [Project1].[Earnings_Growth_Compounded] AS [Earnings_Growth_Compounded], 
    [Project1].[Earnings_Forecast_Yr3] AS [Earnings_Forecast_Yr3], 
    [Project1].[Historic_Dividend_Yield_FYE] AS [Historic_Dividend_Yield_FYE], 
    [Project1].[Forward_Dividend_Yield_FYE] AS [Forward_Dividend_Yield_FYE], 
    [Project1].[Yr3_Forward_Dividend_Yield] AS [Yr3_Forward_Dividend_Yield], 
    [Project1].[Rolling_12M_Forward_Yield] AS [Rolling_12M_Forward_Yield], 
    [Project1].[Historical_Earnings_FYE] AS [Historical_Earnings_FYE], 
    [Project1].[Earnings_Forecast_Yr1] AS [Earnings_Forecast_Yr1], 
    [Project1].[Earnings_Forecast_Yr2] AS [Earnings_Forecast_Yr2], 
    [Project1].[Historic_Dividend_Yield_Relative] AS [Historic_Dividend_Yield_Relative], 
    [Project1].[Rolling_12M_Historic_Distribution_PriceCurr] AS [Rolling_12M_Historic_Distribution_PriceCurr], 
    [Project1].[Short_Term_Market_Rerate] AS [Short_Term_Market_Rerate], 
    [Project1].[Forecast_12M_Total_Return] AS [Forecast_12M_Total_Return], 
    [Project1].[Clean_Price] AS [Clean_Price], 
    [Project1].[Rolling_Dividend_Yield_Historic] AS [Rolling_Dividend_Yield_Historic], 
    [Project1].[Last_Update_Date] AS [Last_Update_Date], 
    [Project1].[Last_Update_User] AS [Last_Update_User], 
    [Project1].[Discount_Security_ID] AS [Discount_Security_ID], 
    [Project1].[Net_Present_Value] AS [Net_Present_Value], 
    [Project1].[Forecast_Rolling_Custom_Income] AS [Forecast_Rolling_Custom_Income], 
    [Project1].[Custom_Period] AS [Custom_Period], 
    [Project1].[Rolling_12M_Historic_Distribution] AS [Rolling_12M_Historic_Distribution], 
    [Project1].[Record_Date] AS [Record_Date], 
    [Project1].[Session_ID] AS [Session_ID], 
    [Project1].[Hist_Last_Update_Date] AS [Hist_Last_Update_Date], 
    [Project1].[Hist_Last_Update_User] AS [Hist_Last_Update_User], 
    [Project1].[Rolling_12M_Forecast_Distribution] AS [Rolling_12M_Forecast_Distribution], 
    [Project1].[Yr2_Forward_Dividend_Yield] AS [Yr2_Forward_Dividend_Yield], 
    [Project1].[Exit_Yield] AS [Exit_Yield], 
    [Project1].[Discount_Rate] AS [Discount_Rate], 
    [Project1].[Distribution_Growth_Compounded] AS [Distribution_Growth_Compounded], 
    [Project1].[Forecast_12MRolling_Income_Accrual] AS [Forecast_12MRolling_Income_Accrual], 
    [Project1].[Rolling_12_to_24M_Forecast_Distribution] AS [Rolling_12_to_24M_Forecast_Distribution], 
    [Project1].[Rolling_24_to_36M_Forecast_Distribution] AS [Rolling_24_to_36M_Forecast_Distribution], 
    [Project1].[Forecast_Yr1_Dividend_Yield_Relative] AS [Forecast_Yr1_Dividend_Yield_Relative], 
    [Project1].[Market_Historic_Yield] AS [Market_Historic_Yield], 
    [Project1].[Market_Forward_Yield] AS [Market_Forward_Yield], 
    [Project1].[Historic_Distribution_PriceCurr] AS [Historic_Distribution_PriceCurr], 
    [Project1].[Forecast_Distribution_Yr1_PriceCurr] AS [Forecast_Distribution_Yr1_PriceCurr], 
    [Project1].[Forecast_Distribution_Yr2_PriceCurr] AS [Forecast_Distribution_Yr2_PriceCurr], 
    [Project1].[Forecast_Distribution_Yr3_PriceCurr] AS [Forecast_Distribution_Yr3_PriceCurr], 
    [Project1].[Rolling_12M_Forecast_Distribution_PriceCurr] AS [Rolling_12M_Forecast_Distribution_PriceCurr], 
    [Project1].[Rolling_12_24M_Forecast_Distribution_PriceCurr] AS [Rolling_12_24M_Forecast_Distribution_PriceCurr], 
    [Project1].[Rolling_24_36M_Forecast_Distribution_PriceCurr] AS [Rolling_24_36M_Forecast_Distribution_PriceCurr], 
    [Project1].[Distribution_Growth_Forecast_Yr4] AS [Distribution_Growth_Forecast_Yr4], 
    [Project1].[Earnings_Forecast_Yr4] AS [Earnings_Forecast_Yr4], 
    [Project1].[Forecast_Distribution_Yr4] AS [Forecast_Distribution_Yr4], 
    [Project1].[Forecast_Distribution_Yr4_PriceCurr] AS [Forecast_Distribution_Yr4_PriceCurr], 
    [Project1].[Security_ID1] AS [Security_ID1], 
    [Project1].[Entity_ID1] AS [Entity_ID1], 
    [Project1].[Security_Name] AS [Security_Name], 
    [Project1].[Short_Name] AS [Short_Name], 
    [Project1].[Primary_Exch] AS [Primary_Exch], 
    [Project1].[Secondary_Exch] AS [Secondary_Exch], 
    [Project1].[Country_Of_Domicile] AS [Country_Of_Domicile], 
    [Project1].[Country_Of_Risk] AS [Country_Of_Risk], 
    [Project1].[Security_Type_Code] AS [Security_Type_Code], 
    [Project1].[Price_Multiplier] AS [Price_Multiplier], 
    [Project1].[Income_Frequency] AS [Income_Frequency], 
    [Project1].[Issuer_Code] AS [Issuer_Code], 
    [Project1].[Ultimate_Issuer_Code] AS [Ultimate_Issuer_Code], 
    [Project1].[Asset_Currency] AS [Asset_Currency], 
    [Project1].[Min_Lot_Size] AS [Min_Lot_Size], 
    [Project1].[AvePrice_Rounding] AS [AvePrice_Rounding], 
    [Project1].[Issue_Date] AS [Issue_Date], 
    [Project1].[Maturity_Date] AS [Maturity_Date], 
    [Project1].[Coupon_Rate] AS [Coupon_Rate], 
    [Project1].[Price_Exchange] AS [Price_Exchange], 
    [Project1].[Trade_Currency] AS [Trade_Currency], 
    [Project1].[Price_Curr] AS [Price_Curr], 
    [Project1].[Currency_Pair_Code] AS [Currency_Pair_Code], 
    [Project1].[Share_Class] AS [Share_Class], 
    [Project1].[Current_Market_Price] AS [Current_Market_Price], 
    [Project1].[Index_Type] AS [Index_Type], 
    [Project1].[Clean_Price_Formula] AS [Clean_Price_Formula], 
    [Project1].[Accrued_Income_Price_Formula] AS [Accrued_Income_Price_Formula], 
    [Project1].[Odd_First_Coupon_Date] AS [Odd_First_Coupon_Date], 
    [Project1].[Odd_Last_Coupon_Date] AS [Odd_Last_Coupon_Date], 
    [Project1].[Coupon_Anniversary_Indicator] AS [Coupon_Anniversary_Indicator], 
    [Project1].[Track_EOM_Flag] AS [Track_EOM_Flag], 
    [Project1].[Next_Coupon_Date] AS [Next_Coupon_Date], 
    [Project1].[Previous_Coupon_Date] AS [Previous_Coupon_Date], 
    [Project1].[Payment_Frequency] AS [Payment_Frequency], 
    [Project1].[Coupon_BusDay_Adjustment] AS [Coupon_BusDay_Adjustment], 
    [Project1].[Next_Ex_Div_Date] AS [Next_Ex_Div_Date], 
    [Project1].[Ex_Div_BusDay_Adjustment] AS [Ex_Div_BusDay_Adjustment], 
    [Project1].[Ex_Div_Period] AS [Ex_Div_Period], 
    [Project1].[Ticker] AS [Ticker], 
    [Project1].[Inet_ID] AS [Inet_ID], 
    [Project1].[Bloomberg_ID] AS [Bloomberg_ID], 
    [Project1].[External_Sec_ID] AS [External_Sec_ID], 
    [Project1].[Reuters_ID] AS [Reuters_ID], 
    [Project1].[ISIN] AS [ISIN], 
    [Project1].[Call_Account_Flag] AS [Call_Account_Flag], 
    [Project1].[System_Locked] AS [System_Locked], 
    [Project1].[Last_Update_User1] AS [Last_Update_User1], 
    [Project1].[Last_Update_Date1] AS [Last_Update_Date1], 
    [Project1].[Security_Status] AS [Security_Status], 
    [Project1].[Benchmark_Portfolio] AS [Benchmark_Portfolio], 
    [Project1].[Active_flag] AS [Active_flag], 
    [Project1].[Dividend_FX_Security_ID] AS [Dividend_FX_Security_ID]
    FROM ( SELECT 
        [Extent1].[Entity_ID] AS [Entity_ID], 
        [Extent1].[Security_ID] AS [Security_ID], 
        [Extent1].[Issued_Amount] AS [Issued_Amount], 
        [Extent1].[Market_Capitalisation] AS [Market_Capitalisation], 
        [Extent1].[Risk_Premium] AS [Risk_Premium], 
        [Extent1].[Exit_Price] AS [Exit_Price], 
        [Extent1].[Total_Return_ME_1YR] AS [Total_Return_ME_1YR], 
        [Extent1].[Total_Return_ME_2YR] AS [Total_Return_ME_2YR], 
        [Extent1].[Total_Return_ME_3YR] AS [Total_Return_ME_3YR], 
        [Extent1].[Historic_Distribution] AS [Historic_Distribution], 
        [Extent1].[Distribution_Growth_Forecast_Yr1] AS [Distribution_Growth_Forecast_Yr1], 
        [Extent1].[Distribution_Growth_Forecast_Yr2] AS [Distribution_Growth_Forecast_Yr2], 
        [Extent1].[Distribution_Growth_Forecast_Yr3] AS [Distribution_Growth_Forecast_Yr3], 
        [Extent1].[Forecast_Distribution_Yr1] AS [Forecast_Distribution_Yr1], 
        [Extent1].[Forecast_Distribution_Yr2] AS [Forecast_Distribution_Yr2], 
        [Extent1].[Forecast_Distribution_Yr3] AS [Forecast_Distribution_Yr3], 
        [Extent1].[Earnings_Growth_Compounded] AS [Earnings_Growth_Compounded], 
        [Extent1].[Earnings_Forecast_Yr3] AS [Earnings_Forecast_Yr3], 
        [Extent1].[Historic_Dividend_Yield_FYE] AS [Historic_Dividend_Yield_FYE], 
        [Extent1].[Forward_Dividend_Yield_FYE] AS [Forward_Dividend_Yield_FYE], 
        [Extent1].[Yr3_Forward_Dividend_Yield] AS [Yr3_Forward_Dividend_Yield], 
        [Extent1].[Rolling_12M_Forward_Yield] AS [Rolling_12M_Forward_Yield], 
        [Extent1].[Historical_Earnings_FYE] AS [Historical_Earnings_FYE], 
        [Extent1].[Earnings_Forecast_Yr1] AS [Earnings_Forecast_Yr1], 
        [Extent1].[Earnings_Forecast_Yr2] AS [Earnings_Forecast_Yr2], 
        [Extent1].[Historic_Dividend_Yield_Relative] AS [Historic_Dividend_Yield_Relative], 
        [Extent1].[Rolling_12M_Historic_Distribution_PriceCurr] AS [Rolling_12M_Historic_Distribution_PriceCurr], 
        [Extent1].[Short_Term_Market_Rerate] AS [Short_Term_Market_Rerate], 
        [Extent1].[Forecast_12M_Total_Return] AS [Forecast_12M_Total_Return], 
        [Extent1].[Clean_Price] AS [Clean_Price], 
        [Extent1].[Rolling_Dividend_Yield_Historic] AS [Rolling_Dividend_Yield_Historic], 
        [Extent1].[Last_Update_Date] AS [Last_Update_Date], 
        [Extent1].[Last_Update_User] AS [Last_Update_User], 
        [Extent1].[Discount_Security_ID] AS [Discount_Security_ID], 
        [Extent1].[Net_Present_Value] AS [Net_Present_Value], 
        [Extent1].[Forecast_Rolling_Custom_Income] AS [Forecast_Rolling_Custom_Income], 
        [Extent1].[Custom_Period] AS [Custom_Period], 
        [Extent1].[Rolling_12M_Historic_Distribution] AS [Rolling_12M_Historic_Distribution], 
        [Extent1].[Record_Date] AS [Record_Date], 
        [Extent1].[Session_ID] AS [Session_ID], 
        [Extent1].[Hist_Last_Update_Date] AS [Hist_Last_Update_Date], 
        [Extent1].[Hist_Last_Update_User] AS [Hist_Last_Update_User], 
        [Extent1].[Rolling_12M_Forecast_Distribution] AS [Rolling_12M_Forecast_Distribution], 
        [Extent1].[Yr2_Forward_Dividend_Yield] AS [Yr2_Forward_Dividend_Yield], 
        [Extent1].[Exit_Yield] AS [Exit_Yield], 
        [Extent1].[Discount_Rate] AS [Discount_Rate], 
        [Extent1].[Distribution_Growth_Compounded] AS [Distribution_Growth_Compounded], 
        [Extent1].[Forecast_12MRolling_Income_Accrual] AS [Forecast_12MRolling_Income_Accrual], 
        [Extent1].[Rolling_12_to_24M_Forecast_Distribution] AS [Rolling_12_to_24M_Forecast_Distribution], 
        [Extent1].[Rolling_24_to_36M_Forecast_Distribution] AS [Rolling_24_to_36M_Forecast_Distribution], 
        [Extent1].[Forecast_Yr1_Dividend_Yield_Relative] AS [Forecast_Yr1_Dividend_Yield_Relative], 
        [Extent1].[Market_Historic_Yield] AS [Market_Historic_Yield], 
        [Extent1].[Market_Forward_Yield] AS [Market_Forward_Yield], 
        [Extent1].[Historic_Distribution_PriceCurr] AS [Historic_Distribution_PriceCurr], 
        [Extent1].[Forecast_Distribution_Yr1_PriceCurr] AS [Forecast_Distribution_Yr1_PriceCurr], 
        [Extent1].[Forecast_Distribution_Yr2_PriceCurr] AS [Forecast_Distribution_Yr2_PriceCurr], 
        [Extent1].[Forecast_Distribution_Yr3_PriceCurr] AS [Forecast_Distribution_Yr3_PriceCurr], 
        [Extent1].[Rolling_12M_Forecast_Distribution_PriceCurr] AS [Rolling_12M_Forecast_Distribution_PriceCurr], 
        [Extent1].[Rolling_12_24M_Forecast_Distribution_PriceCurr] AS [Rolling_12_24M_Forecast_Distribution_PriceCurr], 
        [Extent1].[Rolling_24_36M_Forecast_Distribution_PriceCurr] AS [Rolling_24_36M_Forecast_Distribution_PriceCurr], 
        [Extent1].[Distribution_Growth_Forecast_Yr4] AS [Distribution_Growth_Forecast_Yr4], 
        [Extent1].[Earnings_Forecast_Yr4] AS [Earnings_Forecast_Yr4], 
        [Extent1].[Forecast_Distribution_Yr4] AS [Forecast_Distribution_Yr4], 
        [Extent1].[Forecast_Distribution_Yr4_PriceCurr] AS [Forecast_Distribution_Yr4_PriceCurr], 
        [Extent2].[Security_ID] AS [Security_ID1], 
        [Extent2].[Entity_ID] AS [Entity_ID1], 
        [Extent2].[Security_Name] AS [Security_Name], 
        [Extent2].[Short_Name] AS [Short_Name], 
        [Extent2].[Primary_Exch] AS [Primary_Exch], 
        [Extent2].[Secondary_Exch] AS [Secondary_Exch], 
        [Extent2].[Country_Of_Domicile] AS [Country_Of_Domicile], 
        [Extent2].[Country_Of_Risk] AS [Country_Of_Risk], 
        [Extent2].[Security_Type_Code] AS [Security_Type_Code], 
        [Extent2].[Price_Multiplier] AS [Price_Multiplier], 
        [Extent2].[Income_Frequency] AS [Income_Frequency], 
        [Extent2].[Issuer_Code] AS [Issuer_Code], 
        [Extent2].[Ultimate_Issuer_Code] AS [Ultimate_Issuer_Code], 
        [Extent2].[Asset_Currency] AS [Asset_Currency], 
        [Extent2].[Min_Lot_Size] AS [Min_Lot_Size], 
        [Extent2].[Decimal_Precision] AS [Decimal_Precision], 
        [Extent2].[AvePrice_Rounding] AS [AvePrice_Rounding], 
        [Extent2].[Issue_Date] AS [Issue_Date], 
        [Extent2].[Maturity_Date] AS [Maturity_Date], 
        [Extent2].[Coupon_Rate] AS [Coupon_Rate], 
        [Extent2].[Price_Exchange] AS [Price_Exchange], 
        [Extent2].[Trade_Currency] AS [Trade_Currency], 
        [Extent2].[Price_Curr] AS [Price_Curr], 
        [Extent2].[Currency_Pair_Code] AS [Currency_Pair_Code], 
        [Extent2].[Share_Class] AS [Share_Class], 
        [Extent2].[Current_Market_Price] AS [Current_Market_Price], 
        [Extent2].[Index_Type] AS [Index_Type], 
        [Extent2].[Clean_Price_Formula] AS [Clean_Price_Formula], 
        [Extent2].[Accrued_Income_Price_Formula] AS [Accrued_Income_Price_Formula], 
        [Extent2].[Odd_First_Coupon_Date] AS [Odd_First_Coupon_Date], 
        [Extent2].[Odd_Last_Coupon_Date] AS [Odd_Last_Coupon_Date], 
        [Extent2].[Coupon_Anniversary_Indicator] AS [Coupon_Anniversary_Indicator], 
        [Extent2].[Track_EOM_Flag] AS [Track_EOM_Flag], 
        [Extent2].[Next_Coupon_Date] AS [Next_Coupon_Date], 
        [Extent2].[Previous_Coupon_Date] AS [Previous_Coupon_Date], 
        [Extent2].[Payment_Frequency] AS [Payment_Frequency], 
        [Extent2].[Coupon_BusDay_Adjustment] AS [Coupon_BusDay_Adjustment], 
        [Extent2].[Next_Ex_Div_Date] AS [Next_Ex_Div_Date], 
        [Extent2].[Ex_Div_BusDay_Adjustment] AS [Ex_Div_BusDay_Adjustment], 
        [Extent2].[Ex_Div_Period] AS [Ex_Div_Period], 
        [Extent2].[Ticker] AS [Ticker], 
        [Extent2].[Inet_ID] AS [Inet_ID], 
        [Extent2].[Bloomberg_ID] AS [Bloomberg_ID], 
        [Extent2].[External_Sec_ID] AS [External_Sec_ID], 
        [Extent2].[Reuters_ID] AS [Reuters_ID], 
        [Extent2].[ISIN] AS [ISIN], 
        [Extent2].[Call_Account_Flag] AS [Call_Account_Flag], 
        [Extent2].[System_Locked] AS [System_Locked], 
        [Extent2].[Last_Update_User] AS [Last_Update_User1], 
        [Extent2].[Last_Update_Date] AS [Last_Update_Date1], 
        [Extent2].[Security_Status] AS [Security_Status], 
        [Extent2].[Benchmark_Portfolio] AS [Benchmark_Portfolio], 
        [Extent2].[Active_flag] AS [Active_flag], 
        [Extent2].[Dividend_FX_Security_ID] AS [Dividend_FX_Security_ID]
        FROM  [dbo].[Security_Analytics_History] AS [Extent1]
        INNER JOIN [dbo].[Security_Detail] AS [Extent2] ON [Extent1].[Security_ID] = [Extent2].[Security_ID]
        WHERE [Extent1].[Security_ID] = @p__linq__0
    )  AS [Project1]
    ORDER BY [Project1].[Record_Date] DESC
2018-04-07 17:58:28.2836|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: SELECT 
    [Project1].[Decimal_Precision] AS [Decimal_Precision], 
    [Project1].[Entity_ID] AS [Entity_ID], 
    [Project1].[Security_ID] AS [Security_ID], 
    [Project1].[Issued_Amount] AS [Issued_Amount], 
    [Project1].[Market_Capitalisation] AS [Market_Capitalisation], 
    [Project1].[Risk_Premium] AS [Risk_Premium], 
    [Project1].[Exit_Price] AS [Exit_Price], 
    [Project1].[Total_Return_ME_1YR] AS [Total_Return_ME_1YR], 
    [Project1].[Total_Return_ME_2YR] AS [Total_Return_ME_2YR], 
    [Project1].[Total_Return_ME_3YR] AS [Total_Return_ME_3YR], 
    [Project1].[Historic_Distribution] AS [Historic_Distribution], 
    [Project1].[Distribution_Growth_Forecast_Yr1] AS [Distribution_Growth_Forecast_Yr1], 
    [Project1].[Distribution_Growth_Forecast_Yr2] AS [Distribution_Growth_Forecast_Yr2], 
    [Project1].[Distribution_Growth_Forecast_Yr3] AS [Distribution_Growth_Forecast_Yr3], 
    [Project1].[Forecast_Distribution_Yr1] AS [Forecast_Distribution_Yr1], 
    [Project1].[Forecast_Distribution_Yr2] AS [Forecast_Distribution_Yr2], 
    [Project1].[Forecast_Distribution_Yr3] AS [Forecast_Distribution_Yr3], 
    [Project1].[Earnings_Growth_Compounded] AS [Earnings_Growth_Compounded], 
    [Project1].[Earnings_Forecast_Yr3] AS [Earnings_Forecast_Yr3], 
    [Project1].[Historic_Dividend_Yield_FYE] AS [Historic_Dividend_Yield_FYE], 
    [Project1].[Forward_Dividend_Yield_FYE] AS [Forward_Dividend_Yield_FYE], 
    [Project1].[Yr3_Forward_Dividend_Yield] AS [Yr3_Forward_Dividend_Yield], 
    [Project1].[Rolling_12M_Forward_Yield] AS [Rolling_12M_Forward_Yield], 
    [Project1].[Historical_Earnings_FYE] AS [Historical_Earnings_FYE], 
    [Project1].[Earnings_Forecast_Yr1] AS [Earnings_Forecast_Yr1], 
    [Project1].[Earnings_Forecast_Yr2] AS [Earnings_Forecast_Yr2], 
    [Project1].[Historic_Dividend_Yield_Relative] AS [Historic_Dividend_Yield_Relative], 
    [Project1].[Rolling_12M_Historic_Distribution_PriceCurr] AS [Rolling_12M_Historic_Distribution_PriceCurr], 
    [Project1].[Short_Term_Market_Rerate] AS [Short_Term_Market_Rerate], 
    [Project1].[Forecast_12M_Total_Return] AS [Forecast_12M_Total_Return], 
    [Project1].[Clean_Price] AS [Clean_Price], 
    [Project1].[Rolling_Dividend_Yield_Historic] AS [Rolling_Dividend_Yield_Historic], 
    [Project1].[Last_Update_Date] AS [Last_Update_Date], 
    [Project1].[Last_Update_User] AS [Last_Update_User], 
    [Project1].[Discount_Security_ID] AS [Discount_Security_ID], 
    [Project1].[Net_Present_Value] AS [Net_Present_Value], 
    [Project1].[Forecast_Rolling_Custom_Income] AS [Forecast_Rolling_Custom_Income], 
    [Project1].[Custom_Period] AS [Custom_Period], 
    [Project1].[Rolling_12M_Historic_Distribution] AS [Rolling_12M_Historic_Distribution], 
    [Project1].[Record_Date] AS [Record_Date], 
    [Project1].[Session_ID] AS [Session_ID], 
    [Project1].[Hist_Last_Update_Date] AS [Hist_Last_Update_Date], 
    [Project1].[Hist_Last_Update_User] AS [Hist_Last_Update_User], 
    [Project1].[Rolling_12M_Forecast_Distribution] AS [Rolling_12M_Forecast_Distribution], 
    [Project1].[Yr2_Forward_Dividend_Yield] AS [Yr2_Forward_Dividend_Yield], 
    [Project1].[Exit_Yield] AS [Exit_Yield], 
    [Project1].[Discount_Rate] AS [Discount_Rate], 
    [Project1].[Distribution_Growth_Compounded] AS [Distribution_Growth_Compounded], 
    [Project1].[Forecast_12MRolling_Income_Accrual] AS [Forecast_12MRolling_Income_Accrual], 
    [Project1].[Rolling_12_to_24M_Forecast_Distribution] AS [Rolling_12_to_24M_Forecast_Distribution], 
    [Project1].[Rolling_24_to_36M_Forecast_Distribution] AS [Rolling_24_to_36M_Forecast_Distribution], 
    [Project1].[Forecast_Yr1_Dividend_Yield_Relative] AS [Forecast_Yr1_Dividend_Yield_Relative], 
    [Project1].[Market_Historic_Yield] AS [Market_Historic_Yield], 
    [Project1].[Market_Forward_Yield] AS [Market_Forward_Yield], 
    [Project1].[Historic_Distribution_PriceCurr] AS [Historic_Distribution_PriceCurr], 
    [Project1].[Forecast_Distribution_Yr1_PriceCurr] AS [Forecast_Distribution_Yr1_PriceCurr], 
    [Project1].[Forecast_Distribution_Yr2_PriceCurr] AS [Forecast_Distribution_Yr2_PriceCurr], 
    [Project1].[Forecast_Distribution_Yr3_PriceCurr] AS [Forecast_Distribution_Yr3_PriceCurr], 
    [Project1].[Rolling_12M_Forecast_Distribution_PriceCurr] AS [Rolling_12M_Forecast_Distribution_PriceCurr], 
    [Project1].[Rolling_12_24M_Forecast_Distribution_PriceCurr] AS [Rolling_12_24M_Forecast_Distribution_PriceCurr], 
    [Project1].[Rolling_24_36M_Forecast_Distribution_PriceCurr] AS [Rolling_24_36M_Forecast_Distribution_PriceCurr], 
    [Project1].[Distribution_Growth_Forecast_Yr4] AS [Distribution_Growth_Forecast_Yr4], 
    [Project1].[Earnings_Forecast_Yr4] AS [Earnings_Forecast_Yr4], 
    [Project1].[Forecast_Distribution_Yr4] AS [Forecast_Distribution_Yr4], 
    [Project1].[Forecast_Distribution_Yr4_PriceCurr] AS [Forecast_Distribution_Yr4_PriceCurr], 
    [Project1].[Security_ID1] AS [Security_ID1], 
    [Project1].[Entity_ID1] AS [Entity_ID1], 
    [Project1].[Security_Name] AS [Security_Name], 
    [Project1].[Short_Name] AS [Short_Name], 
    [Project1].[Primary_Exch] AS [Primary_Exch], 
    [Project1].[Secondary_Exch] AS [Secondary_Exch], 
    [Project1].[Country_Of_Domicile] AS [Country_Of_Domicile], 
    [Project1].[Country_Of_Risk] AS [Country_Of_Risk], 
    [Project1].[Security_Type_Code] AS [Security_Type_Code], 
    [Project1].[Price_Multiplier] AS [Price_Multiplier], 
    [Project1].[Income_Frequency] AS [Income_Frequency], 
    [Project1].[Issuer_Code] AS [Issuer_Code], 
    [Project1].[Ultimate_Issuer_Code] AS [Ultimate_Issuer_Code], 
    [Project1].[Asset_Currency] AS [Asset_Currency], 
    [Project1].[Min_Lot_Size] AS [Min_Lot_Size], 
    [Project1].[AvePrice_Rounding] AS [AvePrice_Rounding], 
    [Project1].[Issue_Date] AS [Issue_Date], 
    [Project1].[Maturity_Date] AS [Maturity_Date], 
    [Project1].[Coupon_Rate] AS [Coupon_Rate], 
    [Project1].[Price_Exchange] AS [Price_Exchange], 
    [Project1].[Trade_Currency] AS [Trade_Currency], 
    [Project1].[Price_Curr] AS [Price_Curr], 
    [Project1].[Currency_Pair_Code] AS [Currency_Pair_Code], 
    [Project1].[Share_Class] AS [Share_Class], 
    [Project1].[Current_Market_Price] AS [Current_Market_Price], 
    [Project1].[Index_Type] AS [Index_Type], 
    [Project1].[Clean_Price_Formula] AS [Clean_Price_Formula], 
    [Project1].[Accrued_Income_Price_Formula] AS [Accrued_Income_Price_Formula], 
    [Project1].[Odd_First_Coupon_Date] AS [Odd_First_Coupon_Date], 
    [Project1].[Odd_Last_Coupon_Date] AS [Odd_Last_Coupon_Date], 
    [Project1].[Coupon_Anniversary_Indicator] AS [Coupon_Anniversary_Indicator], 
    [Project1].[Track_EOM_Flag] AS [Track_EOM_Flag], 
    [Project1].[Next_Coupon_Date] AS [Next_Coupon_Date], 
    [Project1].[Previous_Coupon_Date] AS [Previous_Coupon_Date], 
    [Project1].[Payment_Frequency] AS [Payment_Frequency], 
    [Project1].[Coupon_BusDay_Adjustment] AS [Coupon_BusDay_Adjustment], 
    [Project1].[Next_Ex_Div_Date] AS [Next_Ex_Div_Date], 
    [Project1].[Ex_Div_BusDay_Adjustment] AS [Ex_Div_BusDay_Adjustment], 
    [Project1].[Ex_Div_Period] AS [Ex_Div_Period], 
    [Project1].[Ticker] AS [Ticker], 
    [Project1].[Inet_ID] AS [Inet_ID], 
    [Project1].[Bloomberg_ID] AS [Bloomberg_ID], 
    [Project1].[External_Sec_ID] AS [External_Sec_ID], 
    [Project1].[Reuters_ID] AS [Reuters_ID], 
    [Project1].[ISIN] AS [ISIN], 
    [Project1].[Call_Account_Flag] AS [Call_Account_Flag], 
    [Project1].[System_Locked] AS [System_Locked], 
    [Project1].[Last_Update_User1] AS [Last_Update_User1], 
    [Project1].[Last_Update_Date1] AS [Last_Update_Date1], 
    [Project1].[Security_Status] AS [Security_Status], 
    [Project1].[Benchmark_Portfolio] AS [Benchmark_Portfolio], 
    [Project1].[Active_flag] AS [Active_flag], 
    [Project1].[Dividend_FX_Security_ID] AS [Dividend_FX_Security_ID]
    FROM ( SELECT 
        [Extent1].[Entity_ID] AS [Entity_ID], 
        [Extent1].[Security_ID] AS [Security_ID], 
        [Extent1].[Issued_Amount] AS [Issued_Amount], 
        [Extent1].[Market_Capitalisation] AS [Market_Capitalisation], 
        [Extent1].[Risk_Premium] AS [Risk_Premium], 
        [Extent1].[Exit_Price] AS [Exit_Price], 
        [Extent1].[Total_Return_ME_1YR] AS [Total_Return_ME_1YR], 
        [Extent1].[Total_Return_ME_2YR] AS [Total_Return_ME_2YR], 
        [Extent1].[Total_Return_ME_3YR] AS [Total_Return_ME_3YR], 
        [Extent1].[Historic_Distribution] AS [Historic_Distribution], 
        [Extent1].[Distribution_Growth_Forecast_Yr1] AS [Distribution_Growth_Forecast_Yr1], 
        [Extent1].[Distribution_Growth_Forecast_Yr2] AS [Distribution_Growth_Forecast_Yr2], 
        [Extent1].[Distribution_Growth_Forecast_Yr3] AS [Distribution_Growth_Forecast_Yr3], 
        [Extent1].[Forecast_Distribution_Yr1] AS [Forecast_Distribution_Yr1], 
        [Extent1].[Forecast_Distribution_Yr2] AS [Forecast_Distribution_Yr2], 
        [Extent1].[Forecast_Distribution_Yr3] AS [Forecast_Distribution_Yr3], 
        [Extent1].[Earnings_Growth_Compounded] AS [Earnings_Growth_Compounded], 
        [Extent1].[Earnings_Forecast_Yr3] AS [Earnings_Forecast_Yr3], 
        [Extent1].[Historic_Dividend_Yield_FYE] AS [Historic_Dividend_Yield_FYE], 
        [Extent1].[Forward_Dividend_Yield_FYE] AS [Forward_Dividend_Yield_FYE], 
        [Extent1].[Yr3_Forward_Dividend_Yield] AS [Yr3_Forward_Dividend_Yield], 
        [Extent1].[Rolling_12M_Forward_Yield] AS [Rolling_12M_Forward_Yield], 
        [Extent1].[Historical_Earnings_FYE] AS [Historical_Earnings_FYE], 
        [Extent1].[Earnings_Forecast_Yr1] AS [Earnings_Forecast_Yr1], 
        [Extent1].[Earnings_Forecast_Yr2] AS [Earnings_Forecast_Yr2], 
        [Extent1].[Historic_Dividend_Yield_Relative] AS [Historic_Dividend_Yield_Relative], 
        [Extent1].[Rolling_12M_Historic_Distribution_PriceCurr] AS [Rolling_12M_Historic_Distribution_PriceCurr], 
        [Extent1].[Short_Term_Market_Rerate] AS [Short_Term_Market_Rerate], 
        [Extent1].[Forecast_12M_Total_Return] AS [Forecast_12M_Total_Return], 
        [Extent1].[Clean_Price] AS [Clean_Price], 
        [Extent1].[Rolling_Dividend_Yield_Historic] AS [Rolling_Dividend_Yield_Historic], 
        [Extent1].[Last_Update_Date] AS [Last_Update_Date], 
        [Extent1].[Last_Update_User] AS [Last_Update_User], 
        [Extent1].[Discount_Security_ID] AS [Discount_Security_ID], 
        [Extent1].[Net_Present_Value] AS [Net_Present_Value], 
        [Extent1].[Forecast_Rolling_Custom_Income] AS [Forecast_Rolling_Custom_Income], 
        [Extent1].[Custom_Period] AS [Custom_Period], 
        [Extent1].[Rolling_12M_Historic_Distribution] AS [Rolling_12M_Historic_Distribution], 
        [Extent1].[Record_Date] AS [Record_Date], 
        [Extent1].[Session_ID] AS [Session_ID], 
        [Extent1].[Hist_Last_Update_Date] AS [Hist_Last_Update_Date], 
        [Extent1].[Hist_Last_Update_User] AS [Hist_Last_Update_User], 
        [Extent1].[Rolling_12M_Forecast_Distribution] AS [Rolling_12M_Forecast_Distribution], 
        [Extent1].[Yr2_Forward_Dividend_Yield] AS [Yr2_Forward_Dividend_Yield], 
        [Extent1].[Exit_Yield] AS [Exit_Yield], 
        [Extent1].[Discount_Rate] AS [Discount_Rate], 
        [Extent1].[Distribution_Growth_Compounded] AS [Distribution_Growth_Compounded], 
        [Extent1].[Forecast_12MRolling_Income_Accrual] AS [Forecast_12MRolling_Income_Accrual], 
        [Extent1].[Rolling_12_to_24M_Forecast_Distribution] AS [Rolling_12_to_24M_Forecast_Distribution], 
        [Extent1].[Rolling_24_to_36M_Forecast_Distribution] AS [Rolling_24_to_36M_Forecast_Distribution], 
        [Extent1].[Forecast_Yr1_Dividend_Yield_Relative] AS [Forecast_Yr1_Dividend_Yield_Relative], 
        [Extent1].[Market_Historic_Yield] AS [Market_Historic_Yield], 
        [Extent1].[Market_Forward_Yield] AS [Market_Forward_Yield], 
        [Extent1].[Historic_Distribution_PriceCurr] AS [Historic_Distribution_PriceCurr], 
        [Extent1].[Forecast_Distribution_Yr1_PriceCurr] AS [Forecast_Distribution_Yr1_PriceCurr], 
        [Extent1].[Forecast_Distribution_Yr2_PriceCurr] AS [Forecast_Distribution_Yr2_PriceCurr], 
        [Extent1].[Forecast_Distribution_Yr3_PriceCurr] AS [Forecast_Distribution_Yr3_PriceCurr], 
        [Extent1].[Rolling_12M_Forecast_Distribution_PriceCurr] AS [Rolling_12M_Forecast_Distribution_PriceCurr], 
        [Extent1].[Rolling_12_24M_Forecast_Distribution_PriceCurr] AS [Rolling_12_24M_Forecast_Distribution_PriceCurr], 
        [Extent1].[Rolling_24_36M_Forecast_Distribution_PriceCurr] AS [Rolling_24_36M_Forecast_Distribution_PriceCurr], 
        [Extent1].[Distribution_Growth_Forecast_Yr4] AS [Distribution_Growth_Forecast_Yr4], 
        [Extent1].[Earnings_Forecast_Yr4] AS [Earnings_Forecast_Yr4], 
        [Extent1].[Forecast_Distribution_Yr4] AS [Forecast_Distribution_Yr4], 
        [Extent1].[Forecast_Distribution_Yr4_PriceCurr] AS [Forecast_Distribution_Yr4_PriceCurr], 
        [Extent2].[Security_ID] AS [Security_ID1], 
        [Extent2].[Entity_ID] AS [Entity_ID1], 
        [Extent2].[Security_Name] AS [Security_Name], 
        [Extent2].[Short_Name] AS [Short_Name], 
        [Extent2].[Primary_Exch] AS [Primary_Exch], 
        [Extent2].[Secondary_Exch] AS [Secondary_Exch], 
        [Extent2].[Country_Of_Domicile] AS [Country_Of_Domicile], 
        [Extent2].[Country_Of_Risk] AS [Country_Of_Risk], 
        [Extent2].[Security_Type_Code] AS [Security_Type_Code], 
        [Extent2].[Price_Multiplier] AS [Price_Multiplier], 
        [Extent2].[Income_Frequency] AS [Income_Frequency], 
        [Extent2].[Issuer_Code] AS [Issuer_Code], 
        [Extent2].[Ultimate_Issuer_Code] AS [Ultimate_Issuer_Code], 
        [Extent2].[Asset_Currency] AS [Asset_Currency], 
        [Extent2].[Min_Lot_Size] AS [Min_Lot_Size], 
        [Extent2].[Decimal_Precision] AS [Decimal_Precision], 
        [Extent2].[AvePrice_Rounding] AS [AvePrice_Rounding], 
        [Extent2].[Issue_Date] AS [Issue_Date], 
        [Extent2].[Maturity_Date] AS [Maturity_Date], 
        [Extent2].[Coupon_Rate] AS [Coupon_Rate], 
        [Extent2].[Price_Exchange] AS [Price_Exchange], 
        [Extent2].[Trade_Currency] AS [Trade_Currency], 
        [Extent2].[Price_Curr] AS [Price_Curr], 
        [Extent2].[Currency_Pair_Code] AS [Currency_Pair_Code], 
        [Extent2].[Share_Class] AS [Share_Class], 
        [Extent2].[Current_Market_Price] AS [Current_Market_Price], 
        [Extent2].[Index_Type] AS [Index_Type], 
        [Extent2].[Clean_Price_Formula] AS [Clean_Price_Formula], 
        [Extent2].[Accrued_Income_Price_Formula] AS [Accrued_Income_Price_Formula], 
        [Extent2].[Odd_First_Coupon_Date] AS [Odd_First_Coupon_Date], 
        [Extent2].[Odd_Last_Coupon_Date] AS [Odd_Last_Coupon_Date], 
        [Extent2].[Coupon_Anniversary_Indicator] AS [Coupon_Anniversary_Indicator], 
        [Extent2].[Track_EOM_Flag] AS [Track_EOM_Flag], 
        [Extent2].[Next_Coupon_Date] AS [Next_Coupon_Date], 
        [Extent2].[Previous_Coupon_Date] AS [Previous_Coupon_Date], 
        [Extent2].[Payment_Frequency] AS [Payment_Frequency], 
        [Extent2].[Coupon_BusDay_Adjustment] AS [Coupon_BusDay_Adjustment], 
        [Extent2].[Next_Ex_Div_Date] AS [Next_Ex_Div_Date], 
        [Extent2].[Ex_Div_BusDay_Adjustment] AS [Ex_Div_BusDay_Adjustment], 
        [Extent2].[Ex_Div_Period] AS [Ex_Div_Period], 
        [Extent2].[Ticker] AS [Ticker], 
        [Extent2].[Inet_ID] AS [Inet_ID], 
        [Extent2].[Bloomberg_ID] AS [Bloomberg_ID], 
        [Extent2].[External_Sec_ID] AS [External_Sec_ID], 
        [Extent2].[Reuters_ID] AS [Reuters_ID], 
        [Extent2].[ISIN] AS [ISIN], 
        [Extent2].[Call_Account_Flag] AS [Call_Account_Flag], 
        [Extent2].[System_Locked] AS [System_Locked], 
        [Extent2].[Last_Update_User] AS [Last_Update_User1], 
        [Extent2].[Last_Update_Date] AS [Last_Update_Date1], 
        [Extent2].[Security_Status] AS [Security_Status], 
        [Extent2].[Benchmark_Portfolio] AS [Benchmark_Portfolio], 
        [Extent2].[Active_flag] AS [Active_flag], 
        [Extent2].[Dividend_FX_Security_ID] AS [Dividend_FX_Security_ID]
        FROM  [dbo].[Security_Analytics_History] AS [Extent1]
        INNER JOIN [dbo].[Security_Detail] AS [Extent2] ON [Extent1].[Security_ID] = [Extent2].[Security_ID]
        WHERE [Extent1].[Security_ID] = @p__linq__0
    )  AS [Project1]
    ORDER BY [Project1].[Record_Date] DESC
2018-04-07 17:58:31.7356|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: IF db_id(N'MetopeAzureDb') IS NOT NULL SELECT 1 ELSE SELECT Count(*) FROM sys.databases WHERE [name]=N'MetopeAzureDb'
2018-04-07 17:58:31.8292|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: IF db_id(N'MetopeAzureDb') IS NOT NULL SELECT 1 ELSE SELECT Count(*) FROM sys.databases WHERE [name]=N'MetopeAzureDb'
2018-04-07 17:58:31.9463|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: IF db_id(N'MetopeAzureDb') IS NOT NULL SELECT 1 ELSE SELECT Count(*) FROM sys.databases WHERE [name]=N'MetopeAzureDb'
2018-04-07 17:58:32.0764|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: IF db_id(N'MetopeAzureDb') IS NOT NULL SELECT 1 ELSE SELECT Count(*) FROM sys.databases WHERE [name]=N'MetopeAzureDb'
2018-04-07 17:58:32.6082|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: SELECT 
    [Project1].[Decimal_Precision] AS [Decimal_Precision], 
    [Project1].[Entity_ID] AS [Entity_ID], 
    [Project1].[Security_ID] AS [Security_ID], 
    [Project1].[Issued_Amount] AS [Issued_Amount], 
    [Project1].[Market_Capitalisation] AS [Market_Capitalisation], 
    [Project1].[Risk_Premium] AS [Risk_Premium], 
    [Project1].[Exit_Price] AS [Exit_Price], 
    [Project1].[Total_Return_ME_1YR] AS [Total_Return_ME_1YR], 
    [Project1].[Total_Return_ME_2YR] AS [Total_Return_ME_2YR], 
    [Project1].[Total_Return_ME_3YR] AS [Total_Return_ME_3YR], 
    [Project1].[Historic_Distribution] AS [Historic_Distribution], 
    [Project1].[Distribution_Growth_Forecast_Yr1] AS [Distribution_Growth_Forecast_Yr1], 
    [Project1].[Distribution_Growth_Forecast_Yr2] AS [Distribution_Growth_Forecast_Yr2], 
    [Project1].[Distribution_Growth_Forecast_Yr3] AS [Distribution_Growth_Forecast_Yr3], 
    [Project1].[Forecast_Distribution_Yr1] AS [Forecast_Distribution_Yr1], 
    [Project1].[Forecast_Distribution_Yr2] AS [Forecast_Distribution_Yr2], 
    [Project1].[Forecast_Distribution_Yr3] AS [Forecast_Distribution_Yr3], 
    [Project1].[Earnings_Growth_Compounded] AS [Earnings_Growth_Compounded], 
    [Project1].[Earnings_Forecast_Yr3] AS [Earnings_Forecast_Yr3], 
    [Project1].[Historic_Dividend_Yield_FYE] AS [Historic_Dividend_Yield_FYE], 
    [Project1].[Forward_Dividend_Yield_FYE] AS [Forward_Dividend_Yield_FYE], 
    [Project1].[Yr3_Forward_Dividend_Yield] AS [Yr3_Forward_Dividend_Yield], 
    [Project1].[Rolling_12M_Forward_Yield] AS [Rolling_12M_Forward_Yield], 
    [Project1].[Historical_Earnings_FYE] AS [Historical_Earnings_FYE], 
    [Project1].[Earnings_Forecast_Yr1] AS [Earnings_Forecast_Yr1], 
    [Project1].[Earnings_Forecast_Yr2] AS [Earnings_Forecast_Yr2], 
    [Project1].[Historic_Dividend_Yield_Relative] AS [Historic_Dividend_Yield_Relative], 
    [Project1].[Rolling_12M_Historic_Distribution_PriceCurr] AS [Rolling_12M_Historic_Distribution_PriceCurr], 
    [Project1].[Short_Term_Market_Rerate] AS [Short_Term_Market_Rerate], 
    [Project1].[Forecast_12M_Total_Return] AS [Forecast_12M_Total_Return], 
    [Project1].[Clean_Price] AS [Clean_Price], 
    [Project1].[Rolling_Dividend_Yield_Historic] AS [Rolling_Dividend_Yield_Historic], 
    [Project1].[Last_Update_Date] AS [Last_Update_Date], 
    [Project1].[Last_Update_User] AS [Last_Update_User], 
    [Project1].[Discount_Security_ID] AS [Discount_Security_ID], 
    [Project1].[Net_Present_Value] AS [Net_Present_Value], 
    [Project1].[Forecast_Rolling_Custom_Income] AS [Forecast_Rolling_Custom_Income], 
    [Project1].[Custom_Period] AS [Custom_Period], 
    [Project1].[Rolling_12M_Historic_Distribution] AS [Rolling_12M_Historic_Distribution], 
    [Project1].[Record_Date] AS [Record_Date], 
    [Project1].[Session_ID] AS [Session_ID], 
    [Project1].[Hist_Last_Update_Date] AS [Hist_Last_Update_Date], 
    [Project1].[Hist_Last_Update_User] AS [Hist_Last_Update_User], 
    [Project1].[Rolling_12M_Forecast_Distribution] AS [Rolling_12M_Forecast_Distribution], 
    [Project1].[Yr2_Forward_Dividend_Yield] AS [Yr2_Forward_Dividend_Yield], 
    [Project1].[Exit_Yield] AS [Exit_Yield], 
    [Project1].[Discount_Rate] AS [Discount_Rate], 
    [Project1].[Distribution_Growth_Compounded] AS [Distribution_Growth_Compounded], 
    [Project1].[Forecast_12MRolling_Income_Accrual] AS [Forecast_12MRolling_Income_Accrual], 
    [Project1].[Rolling_12_to_24M_Forecast_Distribution] AS [Rolling_12_to_24M_Forecast_Distribution], 
    [Project1].[Rolling_24_to_36M_Forecast_Distribution] AS [Rolling_24_to_36M_Forecast_Distribution], 
    [Project1].[Forecast_Yr1_Dividend_Yield_Relative] AS [Forecast_Yr1_Dividend_Yield_Relative], 
    [Project1].[Market_Historic_Yield] AS [Market_Historic_Yield], 
    [Project1].[Market_Forward_Yield] AS [Market_Forward_Yield], 
    [Project1].[Historic_Distribution_PriceCurr] AS [Historic_Distribution_PriceCurr], 
    [Project1].[Forecast_Distribution_Yr1_PriceCurr] AS [Forecast_Distribution_Yr1_PriceCurr], 
    [Project1].[Forecast_Distribution_Yr2_PriceCurr] AS [Forecast_Distribution_Yr2_PriceCurr], 
    [Project1].[Forecast_Distribution_Yr3_PriceCurr] AS [Forecast_Distribution_Yr3_PriceCurr], 
    [Project1].[Rolling_12M_Forecast_Distribution_PriceCurr] AS [Rolling_12M_Forecast_Distribution_PriceCurr], 
    [Project1].[Rolling_12_24M_Forecast_Distribution_PriceCurr] AS [Rolling_12_24M_Forecast_Distribution_PriceCurr], 
    [Project1].[Rolling_24_36M_Forecast_Distribution_PriceCurr] AS [Rolling_24_36M_Forecast_Distribution_PriceCurr], 
    [Project1].[Distribution_Growth_Forecast_Yr4] AS [Distribution_Growth_Forecast_Yr4], 
    [Project1].[Earnings_Forecast_Yr4] AS [Earnings_Forecast_Yr4], 
    [Project1].[Forecast_Distribution_Yr4] AS [Forecast_Distribution_Yr4], 
    [Project1].[Forecast_Distribution_Yr4_PriceCurr] AS [Forecast_Distribution_Yr4_PriceCurr], 
    [Project1].[Security_ID1] AS [Security_ID1], 
    [Project1].[Entity_ID1] AS [Entity_ID1], 
    [Project1].[Security_Name] AS [Security_Name], 
    [Project1].[Short_Name] AS [Short_Name], 
    [Project1].[Primary_Exch] AS [Primary_Exch], 
    [Project1].[Secondary_Exch] AS [Secondary_Exch], 
    [Project1].[Country_Of_Domicile] AS [Country_Of_Domicile], 
    [Project1].[Country_Of_Risk] AS [Country_Of_Risk], 
    [Project1].[Security_Type_Code] AS [Security_Type_Code], 
    [Project1].[Price_Multiplier] AS [Price_Multiplier], 
    [Project1].[Income_Frequency] AS [Income_Frequency], 
    [Project1].[Issuer_Code] AS [Issuer_Code], 
    [Project1].[Ultimate_Issuer_Code] AS [Ultimate_Issuer_Code], 
    [Project1].[Asset_Currency] AS [Asset_Currency], 
    [Project1].[Min_Lot_Size] AS [Min_Lot_Size], 
    [Project1].[AvePrice_Rounding] AS [AvePrice_Rounding], 
    [Project1].[Issue_Date] AS [Issue_Date], 
    [Project1].[Maturity_Date] AS [Maturity_Date], 
    [Project1].[Coupon_Rate] AS [Coupon_Rate], 
    [Project1].[Price_Exchange] AS [Price_Exchange], 
    [Project1].[Trade_Currency] AS [Trade_Currency], 
    [Project1].[Price_Curr] AS [Price_Curr], 
    [Project1].[Currency_Pair_Code] AS [Currency_Pair_Code], 
    [Project1].[Share_Class] AS [Share_Class], 
    [Project1].[Current_Market_Price] AS [Current_Market_Price], 
    [Project1].[Index_Type] AS [Index_Type], 
    [Project1].[Clean_Price_Formula] AS [Clean_Price_Formula], 
    [Project1].[Accrued_Income_Price_Formula] AS [Accrued_Income_Price_Formula], 
    [Project1].[Odd_First_Coupon_Date] AS [Odd_First_Coupon_Date], 
    [Project1].[Odd_Last_Coupon_Date] AS [Odd_Last_Coupon_Date], 
    [Project1].[Coupon_Anniversary_Indicator] AS [Coupon_Anniversary_Indicator], 
    [Project1].[Track_EOM_Flag] AS [Track_EOM_Flag], 
    [Project1].[Next_Coupon_Date] AS [Next_Coupon_Date], 
    [Project1].[Previous_Coupon_Date] AS [Previous_Coupon_Date], 
    [Project1].[Payment_Frequency] AS [Payment_Frequency], 
    [Project1].[Coupon_BusDay_Adjustment] AS [Coupon_BusDay_Adjustment], 
    [Project1].[Next_Ex_Div_Date] AS [Next_Ex_Div_Date], 
    [Project1].[Ex_Div_BusDay_Adjustment] AS [Ex_Div_BusDay_Adjustment], 
    [Project1].[Ex_Div_Period] AS [Ex_Div_Period], 
    [Project1].[Ticker] AS [Ticker], 
    [Project1].[Inet_ID] AS [Inet_ID], 
    [Project1].[Bloomberg_ID] AS [Bloomberg_ID], 
    [Project1].[External_Sec_ID] AS [External_Sec_ID], 
    [Project1].[Reuters_ID] AS [Reuters_ID], 
    [Project1].[ISIN] AS [ISIN], 
    [Project1].[Call_Account_Flag] AS [Call_Account_Flag], 
    [Project1].[System_Locked] AS [System_Locked], 
    [Project1].[Last_Update_User1] AS [Last_Update_User1], 
    [Project1].[Last_Update_Date1] AS [Last_Update_Date1], 
    [Project1].[Security_Status] AS [Security_Status], 
    [Project1].[Benchmark_Portfolio] AS [Benchmark_Portfolio], 
    [Project1].[Active_flag] AS [Active_flag], 
    [Project1].[Dividend_FX_Security_ID] AS [Dividend_FX_Security_ID]
    FROM ( SELECT 
        [Extent1].[Entity_ID] AS [Entity_ID], 
        [Extent1].[Security_ID] AS [Security_ID], 
        [Extent1].[Issued_Amount] AS [Issued_Amount], 
        [Extent1].[Market_Capitalisation] AS [Market_Capitalisation], 
        [Extent1].[Risk_Premium] AS [Risk_Premium], 
        [Extent1].[Exit_Price] AS [Exit_Price], 
        [Extent1].[Total_Return_ME_1YR] AS [Total_Return_ME_1YR], 
        [Extent1].[Total_Return_ME_2YR] AS [Total_Return_ME_2YR], 
        [Extent1].[Total_Return_ME_3YR] AS [Total_Return_ME_3YR], 
        [Extent1].[Historic_Distribution] AS [Historic_Distribution], 
        [Extent1].[Distribution_Growth_Forecast_Yr1] AS [Distribution_Growth_Forecast_Yr1], 
        [Extent1].[Distribution_Growth_Forecast_Yr2] AS [Distribution_Growth_Forecast_Yr2], 
        [Extent1].[Distribution_Growth_Forecast_Yr3] AS [Distribution_Growth_Forecast_Yr3], 
        [Extent1].[Forecast_Distribution_Yr1] AS [Forecast_Distribution_Yr1], 
        [Extent1].[Forecast_Distribution_Yr2] AS [Forecast_Distribution_Yr2], 
        [Extent1].[Forecast_Distribution_Yr3] AS [Forecast_Distribution_Yr3], 
        [Extent1].[Earnings_Growth_Compounded] AS [Earnings_Growth_Compounded], 
        [Extent1].[Earnings_Forecast_Yr3] AS [Earnings_Forecast_Yr3], 
        [Extent1].[Historic_Dividend_Yield_FYE] AS [Historic_Dividend_Yield_FYE], 
        [Extent1].[Forward_Dividend_Yield_FYE] AS [Forward_Dividend_Yield_FYE], 
        [Extent1].[Yr3_Forward_Dividend_Yield] AS [Yr3_Forward_Dividend_Yield], 
        [Extent1].[Rolling_12M_Forward_Yield] AS [Rolling_12M_Forward_Yield], 
        [Extent1].[Historical_Earnings_FYE] AS [Historical_Earnings_FYE], 
        [Extent1].[Earnings_Forecast_Yr1] AS [Earnings_Forecast_Yr1], 
        [Extent1].[Earnings_Forecast_Yr2] AS [Earnings_Forecast_Yr2], 
        [Extent1].[Historic_Dividend_Yield_Relative] AS [Historic_Dividend_Yield_Relative], 
        [Extent1].[Rolling_12M_Historic_Distribution_PriceCurr] AS [Rolling_12M_Historic_Distribution_PriceCurr], 
        [Extent1].[Short_Term_Market_Rerate] AS [Short_Term_Market_Rerate], 
        [Extent1].[Forecast_12M_Total_Return] AS [Forecast_12M_Total_Return], 
        [Extent1].[Clean_Price] AS [Clean_Price], 
        [Extent1].[Rolling_Dividend_Yield_Historic] AS [Rolling_Dividend_Yield_Historic], 
        [Extent1].[Last_Update_Date] AS [Last_Update_Date], 
        [Extent1].[Last_Update_User] AS [Last_Update_User], 
        [Extent1].[Discount_Security_ID] AS [Discount_Security_ID], 
        [Extent1].[Net_Present_Value] AS [Net_Present_Value], 
        [Extent1].[Forecast_Rolling_Custom_Income] AS [Forecast_Rolling_Custom_Income], 
        [Extent1].[Custom_Period] AS [Custom_Period], 
        [Extent1].[Rolling_12M_Historic_Distribution] AS [Rolling_12M_Historic_Distribution], 
        [Extent1].[Record_Date] AS [Record_Date], 
        [Extent1].[Session_ID] AS [Session_ID], 
        [Extent1].[Hist_Last_Update_Date] AS [Hist_Last_Update_Date], 
        [Extent1].[Hist_Last_Update_User] AS [Hist_Last_Update_User], 
        [Extent1].[Rolling_12M_Forecast_Distribution] AS [Rolling_12M_Forecast_Distribution], 
        [Extent1].[Yr2_Forward_Dividend_Yield] AS [Yr2_Forward_Dividend_Yield], 
        [Extent1].[Exit_Yield] AS [Exit_Yield], 
        [Extent1].[Discount_Rate] AS [Discount_Rate], 
        [Extent1].[Distribution_Growth_Compounded] AS [Distribution_Growth_Compounded], 
        [Extent1].[Forecast_12MRolling_Income_Accrual] AS [Forecast_12MRolling_Income_Accrual], 
        [Extent1].[Rolling_12_to_24M_Forecast_Distribution] AS [Rolling_12_to_24M_Forecast_Distribution], 
        [Extent1].[Rolling_24_to_36M_Forecast_Distribution] AS [Rolling_24_to_36M_Forecast_Distribution], 
        [Extent1].[Forecast_Yr1_Dividend_Yield_Relative] AS [Forecast_Yr1_Dividend_Yield_Relative], 
        [Extent1].[Market_Historic_Yield] AS [Market_Historic_Yield], 
        [Extent1].[Market_Forward_Yield] AS [Market_Forward_Yield], 
        [Extent1].[Historic_Distribution_PriceCurr] AS [Historic_Distribution_PriceCurr], 
        [Extent1].[Forecast_Distribution_Yr1_PriceCurr] AS [Forecast_Distribution_Yr1_PriceCurr], 
        [Extent1].[Forecast_Distribution_Yr2_PriceCurr] AS [Forecast_Distribution_Yr2_PriceCurr], 
        [Extent1].[Forecast_Distribution_Yr3_PriceCurr] AS [Forecast_Distribution_Yr3_PriceCurr], 
        [Extent1].[Rolling_12M_Forecast_Distribution_PriceCurr] AS [Rolling_12M_Forecast_Distribution_PriceCurr], 
        [Extent1].[Rolling_12_24M_Forecast_Distribution_PriceCurr] AS [Rolling_12_24M_Forecast_Distribution_PriceCurr], 
        [Extent1].[Rolling_24_36M_Forecast_Distribution_PriceCurr] AS [Rolling_24_36M_Forecast_Distribution_PriceCurr], 
        [Extent1].[Distribution_Growth_Forecast_Yr4] AS [Distribution_Growth_Forecast_Yr4], 
        [Extent1].[Earnings_Forecast_Yr4] AS [Earnings_Forecast_Yr4], 
        [Extent1].[Forecast_Distribution_Yr4] AS [Forecast_Distribution_Yr4], 
        [Extent1].[Forecast_Distribution_Yr4_PriceCurr] AS [Forecast_Distribution_Yr4_PriceCurr], 
        [Extent2].[Security_ID] AS [Security_ID1], 
        [Extent2].[Entity_ID] AS [Entity_ID1], 
        [Extent2].[Security_Name] AS [Security_Name], 
        [Extent2].[Short_Name] AS [Short_Name], 
        [Extent2].[Primary_Exch] AS [Primary_Exch], 
        [Extent2].[Secondary_Exch] AS [Secondary_Exch], 
        [Extent2].[Country_Of_Domicile] AS [Country_Of_Domicile], 
        [Extent2].[Country_Of_Risk] AS [Country_Of_Risk], 
        [Extent2].[Security_Type_Code] AS [Security_Type_Code], 
        [Extent2].[Price_Multiplier] AS [Price_Multiplier], 
        [Extent2].[Income_Frequency] AS [Income_Frequency], 
        [Extent2].[Issuer_Code] AS [Issuer_Code], 
        [Extent2].[Ultimate_Issuer_Code] AS [Ultimate_Issuer_Code], 
        [Extent2].[Asset_Currency] AS [Asset_Currency], 
        [Extent2].[Min_Lot_Size] AS [Min_Lot_Size], 
        [Extent2].[Decimal_Precision] AS [Decimal_Precision], 
        [Extent2].[AvePrice_Rounding] AS [AvePrice_Rounding], 
        [Extent2].[Issue_Date] AS [Issue_Date], 
        [Extent2].[Maturity_Date] AS [Maturity_Date], 
        [Extent2].[Coupon_Rate] AS [Coupon_Rate], 
        [Extent2].[Price_Exchange] AS [Price_Exchange], 
        [Extent2].[Trade_Currency] AS [Trade_Currency], 
        [Extent2].[Price_Curr] AS [Price_Curr], 
        [Extent2].[Currency_Pair_Code] AS [Currency_Pair_Code], 
        [Extent2].[Share_Class] AS [Share_Class], 
        [Extent2].[Current_Market_Price] AS [Current_Market_Price], 
        [Extent2].[Index_Type] AS [Index_Type], 
        [Extent2].[Clean_Price_Formula] AS [Clean_Price_Formula], 
        [Extent2].[Accrued_Income_Price_Formula] AS [Accrued_Income_Price_Formula], 
        [Extent2].[Odd_First_Coupon_Date] AS [Odd_First_Coupon_Date], 
        [Extent2].[Odd_Last_Coupon_Date] AS [Odd_Last_Coupon_Date], 
        [Extent2].[Coupon_Anniversary_Indicator] AS [Coupon_Anniversary_Indicator], 
        [Extent2].[Track_EOM_Flag] AS [Track_EOM_Flag], 
        [Extent2].[Next_Coupon_Date] AS [Next_Coupon_Date], 
        [Extent2].[Previous_Coupon_Date] AS [Previous_Coupon_Date], 
        [Extent2].[Payment_Frequency] AS [Payment_Frequency], 
        [Extent2].[Coupon_BusDay_Adjustment] AS [Coupon_BusDay_Adjustment], 
        [Extent2].[Next_Ex_Div_Date] AS [Next_Ex_Div_Date], 
        [Extent2].[Ex_Div_BusDay_Adjustment] AS [Ex_Div_BusDay_Adjustment], 
        [Extent2].[Ex_Div_Period] AS [Ex_Div_Period], 
        [Extent2].[Ticker] AS [Ticker], 
        [Extent2].[Inet_ID] AS [Inet_ID], 
        [Extent2].[Bloomberg_ID] AS [Bloomberg_ID], 
        [Extent2].[External_Sec_ID] AS [External_Sec_ID], 
        [Extent2].[Reuters_ID] AS [Reuters_ID], 
        [Extent2].[ISIN] AS [ISIN], 
        [Extent2].[Call_Account_Flag] AS [Call_Account_Flag], 
        [Extent2].[System_Locked] AS [System_Locked], 
        [Extent2].[Last_Update_User] AS [Last_Update_User1], 
        [Extent2].[Last_Update_Date] AS [Last_Update_Date1], 
        [Extent2].[Security_Status] AS [Security_Status], 
        [Extent2].[Benchmark_Portfolio] AS [Benchmark_Portfolio], 
        [Extent2].[Active_flag] AS [Active_flag], 
        [Extent2].[Dividend_FX_Security_ID] AS [Dividend_FX_Security_ID]
        FROM  [dbo].[Security_Analytics_History] AS [Extent1]
        INNER JOIN [dbo].[Security_Detail] AS [Extent2] ON [Extent1].[Security_ID] = [Extent2].[Security_ID]
        WHERE [Extent1].[Security_ID] = @p__linq__0
    )  AS [Project1]
    ORDER BY [Project1].[Record_Date] DESC
2018-04-07 17:58:32.6593|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: SELECT 
    [Project1].[Decimal_Precision] AS [Decimal_Precision], 
    [Project1].[Entity_ID] AS [Entity_ID], 
    [Project1].[Security_ID] AS [Security_ID], 
    [Project1].[Issued_Amount] AS [Issued_Amount], 
    [Project1].[Market_Capitalisation] AS [Market_Capitalisation], 
    [Project1].[Risk_Premium] AS [Risk_Premium], 
    [Project1].[Exit_Price] AS [Exit_Price], 
    [Project1].[Total_Return_ME_1YR] AS [Total_Return_ME_1YR], 
    [Project1].[Total_Return_ME_2YR] AS [Total_Return_ME_2YR], 
    [Project1].[Total_Return_ME_3YR] AS [Total_Return_ME_3YR], 
    [Project1].[Historic_Distribution] AS [Historic_Distribution], 
    [Project1].[Distribution_Growth_Forecast_Yr1] AS [Distribution_Growth_Forecast_Yr1], 
    [Project1].[Distribution_Growth_Forecast_Yr2] AS [Distribution_Growth_Forecast_Yr2], 
    [Project1].[Distribution_Growth_Forecast_Yr3] AS [Distribution_Growth_Forecast_Yr3], 
    [Project1].[Forecast_Distribution_Yr1] AS [Forecast_Distribution_Yr1], 
    [Project1].[Forecast_Distribution_Yr2] AS [Forecast_Distribution_Yr2], 
    [Project1].[Forecast_Distribution_Yr3] AS [Forecast_Distribution_Yr3], 
    [Project1].[Earnings_Growth_Compounded] AS [Earnings_Growth_Compounded], 
    [Project1].[Earnings_Forecast_Yr3] AS [Earnings_Forecast_Yr3], 
    [Project1].[Historic_Dividend_Yield_FYE] AS [Historic_Dividend_Yield_FYE], 
    [Project1].[Forward_Dividend_Yield_FYE] AS [Forward_Dividend_Yield_FYE], 
    [Project1].[Yr3_Forward_Dividend_Yield] AS [Yr3_Forward_Dividend_Yield], 
    [Project1].[Rolling_12M_Forward_Yield] AS [Rolling_12M_Forward_Yield], 
    [Project1].[Historical_Earnings_FYE] AS [Historical_Earnings_FYE], 
    [Project1].[Earnings_Forecast_Yr1] AS [Earnings_Forecast_Yr1], 
    [Project1].[Earnings_Forecast_Yr2] AS [Earnings_Forecast_Yr2], 
    [Project1].[Historic_Dividend_Yield_Relative] AS [Historic_Dividend_Yield_Relative], 
    [Project1].[Rolling_12M_Historic_Distribution_PriceCurr] AS [Rolling_12M_Historic_Distribution_PriceCurr], 
    [Project1].[Short_Term_Market_Rerate] AS [Short_Term_Market_Rerate], 
    [Project1].[Forecast_12M_Total_Return] AS [Forecast_12M_Total_Return], 
    [Project1].[Clean_Price] AS [Clean_Price], 
    [Project1].[Rolling_Dividend_Yield_Historic] AS [Rolling_Dividend_Yield_Historic], 
    [Project1].[Last_Update_Date] AS [Last_Update_Date], 
    [Project1].[Last_Update_User] AS [Last_Update_User], 
    [Project1].[Discount_Security_ID] AS [Discount_Security_ID], 
    [Project1].[Net_Present_Value] AS [Net_Present_Value], 
    [Project1].[Forecast_Rolling_Custom_Income] AS [Forecast_Rolling_Custom_Income], 
    [Project1].[Custom_Period] AS [Custom_Period], 
    [Project1].[Rolling_12M_Historic_Distribution] AS [Rolling_12M_Historic_Distribution], 
    [Project1].[Record_Date] AS [Record_Date], 
    [Project1].[Session_ID] AS [Session_ID], 
    [Project1].[Hist_Last_Update_Date] AS [Hist_Last_Update_Date], 
    [Project1].[Hist_Last_Update_User] AS [Hist_Last_Update_User], 
    [Project1].[Rolling_12M_Forecast_Distribution] AS [Rolling_12M_Forecast_Distribution], 
    [Project1].[Yr2_Forward_Dividend_Yield] AS [Yr2_Forward_Dividend_Yield], 
    [Project1].[Exit_Yield] AS [Exit_Yield], 
    [Project1].[Discount_Rate] AS [Discount_Rate], 
    [Project1].[Distribution_Growth_Compounded] AS [Distribution_Growth_Compounded], 
    [Project1].[Forecast_12MRolling_Income_Accrual] AS [Forecast_12MRolling_Income_Accrual], 
    [Project1].[Rolling_12_to_24M_Forecast_Distribution] AS [Rolling_12_to_24M_Forecast_Distribution], 
    [Project1].[Rolling_24_to_36M_Forecast_Distribution] AS [Rolling_24_to_36M_Forecast_Distribution], 
    [Project1].[Forecast_Yr1_Dividend_Yield_Relative] AS [Forecast_Yr1_Dividend_Yield_Relative], 
    [Project1].[Market_Historic_Yield] AS [Market_Historic_Yield], 
    [Project1].[Market_Forward_Yield] AS [Market_Forward_Yield], 
    [Project1].[Historic_Distribution_PriceCurr] AS [Historic_Distribution_PriceCurr], 
    [Project1].[Forecast_Distribution_Yr1_PriceCurr] AS [Forecast_Distribution_Yr1_PriceCurr], 
    [Project1].[Forecast_Distribution_Yr2_PriceCurr] AS [Forecast_Distribution_Yr2_PriceCurr], 
    [Project1].[Forecast_Distribution_Yr3_PriceCurr] AS [Forecast_Distribution_Yr3_PriceCurr], 
    [Project1].[Rolling_12M_Forecast_Distribution_PriceCurr] AS [Rolling_12M_Forecast_Distribution_PriceCurr], 
    [Project1].[Rolling_12_24M_Forecast_Distribution_PriceCurr] AS [Rolling_12_24M_Forecast_Distribution_PriceCurr], 
    [Project1].[Rolling_24_36M_Forecast_Distribution_PriceCurr] AS [Rolling_24_36M_Forecast_Distribution_PriceCurr], 
    [Project1].[Distribution_Growth_Forecast_Yr4] AS [Distribution_Growth_Forecast_Yr4], 
    [Project1].[Earnings_Forecast_Yr4] AS [Earnings_Forecast_Yr4], 
    [Project1].[Forecast_Distribution_Yr4] AS [Forecast_Distribution_Yr4], 
    [Project1].[Forecast_Distribution_Yr4_PriceCurr] AS [Forecast_Distribution_Yr4_PriceCurr], 
    [Project1].[Security_ID1] AS [Security_ID1], 
    [Project1].[Entity_ID1] AS [Entity_ID1], 
    [Project1].[Security_Name] AS [Security_Name], 
    [Project1].[Short_Name] AS [Short_Name], 
    [Project1].[Primary_Exch] AS [Primary_Exch], 
    [Project1].[Secondary_Exch] AS [Secondary_Exch], 
    [Project1].[Country_Of_Domicile] AS [Country_Of_Domicile], 
    [Project1].[Country_Of_Risk] AS [Country_Of_Risk], 
    [Project1].[Security_Type_Code] AS [Security_Type_Code], 
    [Project1].[Price_Multiplier] AS [Price_Multiplier], 
    [Project1].[Income_Frequency] AS [Income_Frequency], 
    [Project1].[Issuer_Code] AS [Issuer_Code], 
    [Project1].[Ultimate_Issuer_Code] AS [Ultimate_Issuer_Code], 
    [Project1].[Asset_Currency] AS [Asset_Currency], 
    [Project1].[Min_Lot_Size] AS [Min_Lot_Size], 
    [Project1].[AvePrice_Rounding] AS [AvePrice_Rounding], 
    [Project1].[Issue_Date] AS [Issue_Date], 
    [Project1].[Maturity_Date] AS [Maturity_Date], 
    [Project1].[Coupon_Rate] AS [Coupon_Rate], 
    [Project1].[Price_Exchange] AS [Price_Exchange], 
    [Project1].[Trade_Currency] AS [Trade_Currency], 
    [Project1].[Price_Curr] AS [Price_Curr], 
    [Project1].[Currency_Pair_Code] AS [Currency_Pair_Code], 
    [Project1].[Share_Class] AS [Share_Class], 
    [Project1].[Current_Market_Price] AS [Current_Market_Price], 
    [Project1].[Index_Type] AS [Index_Type], 
    [Project1].[Clean_Price_Formula] AS [Clean_Price_Formula], 
    [Project1].[Accrued_Income_Price_Formula] AS [Accrued_Income_Price_Formula], 
    [Project1].[Odd_First_Coupon_Date] AS [Odd_First_Coupon_Date], 
    [Project1].[Odd_Last_Coupon_Date] AS [Odd_Last_Coupon_Date], 
    [Project1].[Coupon_Anniversary_Indicator] AS [Coupon_Anniversary_Indicator], 
    [Project1].[Track_EOM_Flag] AS [Track_EOM_Flag], 
    [Project1].[Next_Coupon_Date] AS [Next_Coupon_Date], 
    [Project1].[Previous_Coupon_Date] AS [Previous_Coupon_Date], 
    [Project1].[Payment_Frequency] AS [Payment_Frequency], 
    [Project1].[Coupon_BusDay_Adjustment] AS [Coupon_BusDay_Adjustment], 
    [Project1].[Next_Ex_Div_Date] AS [Next_Ex_Div_Date], 
    [Project1].[Ex_Div_BusDay_Adjustment] AS [Ex_Div_BusDay_Adjustment], 
    [Project1].[Ex_Div_Period] AS [Ex_Div_Period], 
    [Project1].[Ticker] AS [Ticker], 
    [Project1].[Inet_ID] AS [Inet_ID], 
    [Project1].[Bloomberg_ID] AS [Bloomberg_ID], 
    [Project1].[External_Sec_ID] AS [External_Sec_ID], 
    [Project1].[Reuters_ID] AS [Reuters_ID], 
    [Project1].[ISIN] AS [ISIN], 
    [Project1].[Call_Account_Flag] AS [Call_Account_Flag], 
    [Project1].[System_Locked] AS [System_Locked], 
    [Project1].[Last_Update_User1] AS [Last_Update_User1], 
    [Project1].[Last_Update_Date1] AS [Last_Update_Date1], 
    [Project1].[Security_Status] AS [Security_Status], 
    [Project1].[Benchmark_Portfolio] AS [Benchmark_Portfolio], 
    [Project1].[Active_flag] AS [Active_flag], 
    [Project1].[Dividend_FX_Security_ID] AS [Dividend_FX_Security_ID]
    FROM ( SELECT 
        [Extent1].[Entity_ID] AS [Entity_ID], 
        [Extent1].[Security_ID] AS [Security_ID], 
        [Extent1].[Issued_Amount] AS [Issued_Amount], 
        [Extent1].[Market_Capitalisation] AS [Market_Capitalisation], 
        [Extent1].[Risk_Premium] AS [Risk_Premium], 
        [Extent1].[Exit_Price] AS [Exit_Price], 
        [Extent1].[Total_Return_ME_1YR] AS [Total_Return_ME_1YR], 
        [Extent1].[Total_Return_ME_2YR] AS [Total_Return_ME_2YR], 
        [Extent1].[Total_Return_ME_3YR] AS [Total_Return_ME_3YR], 
        [Extent1].[Historic_Distribution] AS [Historic_Distribution], 
        [Extent1].[Distribution_Growth_Forecast_Yr1] AS [Distribution_Growth_Forecast_Yr1], 
        [Extent1].[Distribution_Growth_Forecast_Yr2] AS [Distribution_Growth_Forecast_Yr2], 
        [Extent1].[Distribution_Growth_Forecast_Yr3] AS [Distribution_Growth_Forecast_Yr3], 
        [Extent1].[Forecast_Distribution_Yr1] AS [Forecast_Distribution_Yr1], 
        [Extent1].[Forecast_Distribution_Yr2] AS [Forecast_Distribution_Yr2], 
        [Extent1].[Forecast_Distribution_Yr3] AS [Forecast_Distribution_Yr3], 
        [Extent1].[Earnings_Growth_Compounded] AS [Earnings_Growth_Compounded], 
        [Extent1].[Earnings_Forecast_Yr3] AS [Earnings_Forecast_Yr3], 
        [Extent1].[Historic_Dividend_Yield_FYE] AS [Historic_Dividend_Yield_FYE], 
        [Extent1].[Forward_Dividend_Yield_FYE] AS [Forward_Dividend_Yield_FYE], 
        [Extent1].[Yr3_Forward_Dividend_Yield] AS [Yr3_Forward_Dividend_Yield], 
        [Extent1].[Rolling_12M_Forward_Yield] AS [Rolling_12M_Forward_Yield], 
        [Extent1].[Historical_Earnings_FYE] AS [Historical_Earnings_FYE], 
        [Extent1].[Earnings_Forecast_Yr1] AS [Earnings_Forecast_Yr1], 
        [Extent1].[Earnings_Forecast_Yr2] AS [Earnings_Forecast_Yr2], 
        [Extent1].[Historic_Dividend_Yield_Relative] AS [Historic_Dividend_Yield_Relative], 
        [Extent1].[Rolling_12M_Historic_Distribution_PriceCurr] AS [Rolling_12M_Historic_Distribution_PriceCurr], 
        [Extent1].[Short_Term_Market_Rerate] AS [Short_Term_Market_Rerate], 
        [Extent1].[Forecast_12M_Total_Return] AS [Forecast_12M_Total_Return], 
        [Extent1].[Clean_Price] AS [Clean_Price], 
        [Extent1].[Rolling_Dividend_Yield_Historic] AS [Rolling_Dividend_Yield_Historic], 
        [Extent1].[Last_Update_Date] AS [Last_Update_Date], 
        [Extent1].[Last_Update_User] AS [Last_Update_User], 
        [Extent1].[Discount_Security_ID] AS [Discount_Security_ID], 
        [Extent1].[Net_Present_Value] AS [Net_Present_Value], 
        [Extent1].[Forecast_Rolling_Custom_Income] AS [Forecast_Rolling_Custom_Income], 
        [Extent1].[Custom_Period] AS [Custom_Period], 
        [Extent1].[Rolling_12M_Historic_Distribution] AS [Rolling_12M_Historic_Distribution], 
        [Extent1].[Record_Date] AS [Record_Date], 
        [Extent1].[Session_ID] AS [Session_ID], 
        [Extent1].[Hist_Last_Update_Date] AS [Hist_Last_Update_Date], 
        [Extent1].[Hist_Last_Update_User] AS [Hist_Last_Update_User], 
        [Extent1].[Rolling_12M_Forecast_Distribution] AS [Rolling_12M_Forecast_Distribution], 
        [Extent1].[Yr2_Forward_Dividend_Yield] AS [Yr2_Forward_Dividend_Yield], 
        [Extent1].[Exit_Yield] AS [Exit_Yield], 
        [Extent1].[Discount_Rate] AS [Discount_Rate], 
        [Extent1].[Distribution_Growth_Compounded] AS [Distribution_Growth_Compounded], 
        [Extent1].[Forecast_12MRolling_Income_Accrual] AS [Forecast_12MRolling_Income_Accrual], 
        [Extent1].[Rolling_12_to_24M_Forecast_Distribution] AS [Rolling_12_to_24M_Forecast_Distribution], 
        [Extent1].[Rolling_24_to_36M_Forecast_Distribution] AS [Rolling_24_to_36M_Forecast_Distribution], 
        [Extent1].[Forecast_Yr1_Dividend_Yield_Relative] AS [Forecast_Yr1_Dividend_Yield_Relative], 
        [Extent1].[Market_Historic_Yield] AS [Market_Historic_Yield], 
        [Extent1].[Market_Forward_Yield] AS [Market_Forward_Yield], 
        [Extent1].[Historic_Distribution_PriceCurr] AS [Historic_Distribution_PriceCurr], 
        [Extent1].[Forecast_Distribution_Yr1_PriceCurr] AS [Forecast_Distribution_Yr1_PriceCurr], 
        [Extent1].[Forecast_Distribution_Yr2_PriceCurr] AS [Forecast_Distribution_Yr2_PriceCurr], 
        [Extent1].[Forecast_Distribution_Yr3_PriceCurr] AS [Forecast_Distribution_Yr3_PriceCurr], 
        [Extent1].[Rolling_12M_Forecast_Distribution_PriceCurr] AS [Rolling_12M_Forecast_Distribution_PriceCurr], 
        [Extent1].[Rolling_12_24M_Forecast_Distribution_PriceCurr] AS [Rolling_12_24M_Forecast_Distribution_PriceCurr], 
        [Extent1].[Rolling_24_36M_Forecast_Distribution_PriceCurr] AS [Rolling_24_36M_Forecast_Distribution_PriceCurr], 
        [Extent1].[Distribution_Growth_Forecast_Yr4] AS [Distribution_Growth_Forecast_Yr4], 
        [Extent1].[Earnings_Forecast_Yr4] AS [Earnings_Forecast_Yr4], 
        [Extent1].[Forecast_Distribution_Yr4] AS [Forecast_Distribution_Yr4], 
        [Extent1].[Forecast_Distribution_Yr4_PriceCurr] AS [Forecast_Distribution_Yr4_PriceCurr], 
        [Extent2].[Security_ID] AS [Security_ID1], 
        [Extent2].[Entity_ID] AS [Entity_ID1], 
        [Extent2].[Security_Name] AS [Security_Name], 
        [Extent2].[Short_Name] AS [Short_Name], 
        [Extent2].[Primary_Exch] AS [Primary_Exch], 
        [Extent2].[Secondary_Exch] AS [Secondary_Exch], 
        [Extent2].[Country_Of_Domicile] AS [Country_Of_Domicile], 
        [Extent2].[Country_Of_Risk] AS [Country_Of_Risk], 
        [Extent2].[Security_Type_Code] AS [Security_Type_Code], 
        [Extent2].[Price_Multiplier] AS [Price_Multiplier], 
        [Extent2].[Income_Frequency] AS [Income_Frequency], 
        [Extent2].[Issuer_Code] AS [Issuer_Code], 
        [Extent2].[Ultimate_Issuer_Code] AS [Ultimate_Issuer_Code], 
        [Extent2].[Asset_Currency] AS [Asset_Currency], 
        [Extent2].[Min_Lot_Size] AS [Min_Lot_Size], 
        [Extent2].[Decimal_Precision] AS [Decimal_Precision], 
        [Extent2].[AvePrice_Rounding] AS [AvePrice_Rounding], 
        [Extent2].[Issue_Date] AS [Issue_Date], 
        [Extent2].[Maturity_Date] AS [Maturity_Date], 
        [Extent2].[Coupon_Rate] AS [Coupon_Rate], 
        [Extent2].[Price_Exchange] AS [Price_Exchange], 
        [Extent2].[Trade_Currency] AS [Trade_Currency], 
        [Extent2].[Price_Curr] AS [Price_Curr], 
        [Extent2].[Currency_Pair_Code] AS [Currency_Pair_Code], 
        [Extent2].[Share_Class] AS [Share_Class], 
        [Extent2].[Current_Market_Price] AS [Current_Market_Price], 
        [Extent2].[Index_Type] AS [Index_Type], 
        [Extent2].[Clean_Price_Formula] AS [Clean_Price_Formula], 
        [Extent2].[Accrued_Income_Price_Formula] AS [Accrued_Income_Price_Formula], 
        [Extent2].[Odd_First_Coupon_Date] AS [Odd_First_Coupon_Date], 
        [Extent2].[Odd_Last_Coupon_Date] AS [Odd_Last_Coupon_Date], 
        [Extent2].[Coupon_Anniversary_Indicator] AS [Coupon_Anniversary_Indicator], 
        [Extent2].[Track_EOM_Flag] AS [Track_EOM_Flag], 
        [Extent2].[Next_Coupon_Date] AS [Next_Coupon_Date], 
        [Extent2].[Previous_Coupon_Date] AS [Previous_Coupon_Date], 
        [Extent2].[Payment_Frequency] AS [Payment_Frequency], 
        [Extent2].[Coupon_BusDay_Adjustment] AS [Coupon_BusDay_Adjustment], 
        [Extent2].[Next_Ex_Div_Date] AS [Next_Ex_Div_Date], 
        [Extent2].[Ex_Div_BusDay_Adjustment] AS [Ex_Div_BusDay_Adjustment], 
        [Extent2].[Ex_Div_Period] AS [Ex_Div_Period], 
        [Extent2].[Ticker] AS [Ticker], 
        [Extent2].[Inet_ID] AS [Inet_ID], 
        [Extent2].[Bloomberg_ID] AS [Bloomberg_ID], 
        [Extent2].[External_Sec_ID] AS [External_Sec_ID], 
        [Extent2].[Reuters_ID] AS [Reuters_ID], 
        [Extent2].[ISIN] AS [ISIN], 
        [Extent2].[Call_Account_Flag] AS [Call_Account_Flag], 
        [Extent2].[System_Locked] AS [System_Locked], 
        [Extent2].[Last_Update_User] AS [Last_Update_User1], 
        [Extent2].[Last_Update_Date] AS [Last_Update_Date1], 
        [Extent2].[Security_Status] AS [Security_Status], 
        [Extent2].[Benchmark_Portfolio] AS [Benchmark_Portfolio], 
        [Extent2].[Active_flag] AS [Active_flag], 
        [Extent2].[Dividend_FX_Security_ID] AS [Dividend_FX_Security_ID]
        FROM  [dbo].[Security_Analytics_History] AS [Extent1]
        INNER JOIN [dbo].[Security_Detail] AS [Extent2] ON [Extent1].[Security_ID] = [Extent2].[Security_ID]
        WHERE [Extent1].[Security_ID] = @p__linq__0
    )  AS [Project1]
    ORDER BY [Project1].[Record_Date] DESC
2018-04-07 17:58:32.7133|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: IF db_id(N'MetopeAzureDb') IS NOT NULL SELECT 1 ELSE SELECT Count(*) FROM sys.databases WHERE [name]=N'MetopeAzureDb'
2018-04-07 17:58:32.8424|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: IF db_id(N'MetopeAzureDb') IS NOT NULL SELECT 1 ELSE SELECT Count(*) FROM sys.databases WHERE [name]=N'MetopeAzureDb'
2018-04-07 17:58:32.9945|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: IF db_id(N'MetopeAzureDb') IS NOT NULL SELECT 1 ELSE SELECT Count(*) FROM sys.databases WHERE [name]=N'MetopeAzureDb'
2018-04-07 17:58:33.0170|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: IF db_id(N'MetopeAzureDb') IS NOT NULL SELECT 1 ELSE SELECT Count(*) FROM sys.databases WHERE [name]=N'MetopeAzureDb'
2018-04-07 17:58:37.1372|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: SELECT 
    [Project1].[Decimal_Precision] AS [Decimal_Precision], 
    [Project1].[Entity_ID] AS [Entity_ID], 
    [Project1].[Security_ID] AS [Security_ID], 
    [Project1].[Issued_Amount] AS [Issued_Amount], 
    [Project1].[Market_Capitalisation] AS [Market_Capitalisation], 
    [Project1].[Risk_Premium] AS [Risk_Premium], 
    [Project1].[Exit_Price] AS [Exit_Price], 
    [Project1].[Total_Return_ME_1YR] AS [Total_Return_ME_1YR], 
    [Project1].[Total_Return_ME_2YR] AS [Total_Return_ME_2YR], 
    [Project1].[Total_Return_ME_3YR] AS [Total_Return_ME_3YR], 
    [Project1].[Historic_Distribution] AS [Historic_Distribution], 
    [Project1].[Distribution_Growth_Forecast_Yr1] AS [Distribution_Growth_Forecast_Yr1], 
    [Project1].[Distribution_Growth_Forecast_Yr2] AS [Distribution_Growth_Forecast_Yr2], 
    [Project1].[Distribution_Growth_Forecast_Yr3] AS [Distribution_Growth_Forecast_Yr3], 
    [Project1].[Forecast_Distribution_Yr1] AS [Forecast_Distribution_Yr1], 
    [Project1].[Forecast_Distribution_Yr2] AS [Forecast_Distribution_Yr2], 
    [Project1].[Forecast_Distribution_Yr3] AS [Forecast_Distribution_Yr3], 
    [Project1].[Earnings_Growth_Compounded] AS [Earnings_Growth_Compounded], 
    [Project1].[Earnings_Forecast_Yr3] AS [Earnings_Forecast_Yr3], 
    [Project1].[Historic_Dividend_Yield_FYE] AS [Historic_Dividend_Yield_FYE], 
    [Project1].[Forward_Dividend_Yield_FYE] AS [Forward_Dividend_Yield_FYE], 
    [Project1].[Yr3_Forward_Dividend_Yield] AS [Yr3_Forward_Dividend_Yield], 
    [Project1].[Rolling_12M_Forward_Yield] AS [Rolling_12M_Forward_Yield], 
    [Project1].[Historical_Earnings_FYE] AS [Historical_Earnings_FYE], 
    [Project1].[Earnings_Forecast_Yr1] AS [Earnings_Forecast_Yr1], 
    [Project1].[Earnings_Forecast_Yr2] AS [Earnings_Forecast_Yr2], 
    [Project1].[Historic_Dividend_Yield_Relative] AS [Historic_Dividend_Yield_Relative], 
    [Project1].[Rolling_12M_Historic_Distribution_PriceCurr] AS [Rolling_12M_Historic_Distribution_PriceCurr], 
    [Project1].[Short_Term_Market_Rerate] AS [Short_Term_Market_Rerate], 
    [Project1].[Forecast_12M_Total_Return] AS [Forecast_12M_Total_Return], 
    [Project1].[Clean_Price] AS [Clean_Price], 
    [Project1].[Rolling_Dividend_Yield_Historic] AS [Rolling_Dividend_Yield_Historic], 
    [Project1].[Last_Update_Date] AS [Last_Update_Date], 
    [Project1].[Last_Update_User] AS [Last_Update_User], 
    [Project1].[Discount_Security_ID] AS [Discount_Security_ID], 
    [Project1].[Net_Present_Value] AS [Net_Present_Value], 
    [Project1].[Forecast_Rolling_Custom_Income] AS [Forecast_Rolling_Custom_Income], 
    [Project1].[Custom_Period] AS [Custom_Period], 
    [Project1].[Rolling_12M_Historic_Distribution] AS [Rolling_12M_Historic_Distribution], 
    [Project1].[Record_Date] AS [Record_Date], 
    [Project1].[Session_ID] AS [Session_ID], 
    [Project1].[Hist_Last_Update_Date] AS [Hist_Last_Update_Date], 
    [Project1].[Hist_Last_Update_User] AS [Hist_Last_Update_User], 
    [Project1].[Rolling_12M_Forecast_Distribution] AS [Rolling_12M_Forecast_Distribution], 
    [Project1].[Yr2_Forward_Dividend_Yield] AS [Yr2_Forward_Dividend_Yield], 
    [Project1].[Exit_Yield] AS [Exit_Yield], 
    [Project1].[Discount_Rate] AS [Discount_Rate], 
    [Project1].[Distribution_Growth_Compounded] AS [Distribution_Growth_Compounded], 
    [Project1].[Forecast_12MRolling_Income_Accrual] AS [Forecast_12MRolling_Income_Accrual], 
    [Project1].[Rolling_12_to_24M_Forecast_Distribution] AS [Rolling_12_to_24M_Forecast_Distribution], 
    [Project1].[Rolling_24_to_36M_Forecast_Distribution] AS [Rolling_24_to_36M_Forecast_Distribution], 
    [Project1].[Forecast_Yr1_Dividend_Yield_Relative] AS [Forecast_Yr1_Dividend_Yield_Relative], 
    [Project1].[Market_Historic_Yield] AS [Market_Historic_Yield], 
    [Project1].[Market_Forward_Yield] AS [Market_Forward_Yield], 
    [Project1].[Historic_Distribution_PriceCurr] AS [Historic_Distribution_PriceCurr], 
    [Project1].[Forecast_Distribution_Yr1_PriceCurr] AS [Forecast_Distribution_Yr1_PriceCurr], 
    [Project1].[Forecast_Distribution_Yr2_PriceCurr] AS [Forecast_Distribution_Yr2_PriceCurr], 
    [Project1].[Forecast_Distribution_Yr3_PriceCurr] AS [Forecast_Distribution_Yr3_PriceCurr], 
    [Project1].[Rolling_12M_Forecast_Distribution_PriceCurr] AS [Rolling_12M_Forecast_Distribution_PriceCurr], 
    [Project1].[Rolling_12_24M_Forecast_Distribution_PriceCurr] AS [Rolling_12_24M_Forecast_Distribution_PriceCurr], 
    [Project1].[Rolling_24_36M_Forecast_Distribution_PriceCurr] AS [Rolling_24_36M_Forecast_Distribution_PriceCurr], 
    [Project1].[Distribution_Growth_Forecast_Yr4] AS [Distribution_Growth_Forecast_Yr4], 
    [Project1].[Earnings_Forecast_Yr4] AS [Earnings_Forecast_Yr4], 
    [Project1].[Forecast_Distribution_Yr4] AS [Forecast_Distribution_Yr4], 
    [Project1].[Forecast_Distribution_Yr4_PriceCurr] AS [Forecast_Distribution_Yr4_PriceCurr], 
    [Project1].[Security_ID1] AS [Security_ID1], 
    [Project1].[Entity_ID1] AS [Entity_ID1], 
    [Project1].[Security_Name] AS [Security_Name], 
    [Project1].[Short_Name] AS [Short_Name], 
    [Project1].[Primary_Exch] AS [Primary_Exch], 
    [Project1].[Secondary_Exch] AS [Secondary_Exch], 
    [Project1].[Country_Of_Domicile] AS [Country_Of_Domicile], 
    [Project1].[Country_Of_Risk] AS [Country_Of_Risk], 
    [Project1].[Security_Type_Code] AS [Security_Type_Code], 
    [Project1].[Price_Multiplier] AS [Price_Multiplier], 
    [Project1].[Income_Frequency] AS [Income_Frequency], 
    [Project1].[Issuer_Code] AS [Issuer_Code], 
    [Project1].[Ultimate_Issuer_Code] AS [Ultimate_Issuer_Code], 
    [Project1].[Asset_Currency] AS [Asset_Currency], 
    [Project1].[Min_Lot_Size] AS [Min_Lot_Size], 
    [Project1].[AvePrice_Rounding] AS [AvePrice_Rounding], 
    [Project1].[Issue_Date] AS [Issue_Date], 
    [Project1].[Maturity_Date] AS [Maturity_Date], 
    [Project1].[Coupon_Rate] AS [Coupon_Rate], 
    [Project1].[Price_Exchange] AS [Price_Exchange], 
    [Project1].[Trade_Currency] AS [Trade_Currency], 
    [Project1].[Price_Curr] AS [Price_Curr], 
    [Project1].[Currency_Pair_Code] AS [Currency_Pair_Code], 
    [Project1].[Share_Class] AS [Share_Class], 
    [Project1].[Current_Market_Price] AS [Current_Market_Price], 
    [Project1].[Index_Type] AS [Index_Type], 
    [Project1].[Clean_Price_Formula] AS [Clean_Price_Formula], 
    [Project1].[Accrued_Income_Price_Formula] AS [Accrued_Income_Price_Formula], 
    [Project1].[Odd_First_Coupon_Date] AS [Odd_First_Coupon_Date], 
    [Project1].[Odd_Last_Coupon_Date] AS [Odd_Last_Coupon_Date], 
    [Project1].[Coupon_Anniversary_Indicator] AS [Coupon_Anniversary_Indicator], 
    [Project1].[Track_EOM_Flag] AS [Track_EOM_Flag], 
    [Project1].[Next_Coupon_Date] AS [Next_Coupon_Date], 
    [Project1].[Previous_Coupon_Date] AS [Previous_Coupon_Date], 
    [Project1].[Payment_Frequency] AS [Payment_Frequency], 
    [Project1].[Coupon_BusDay_Adjustment] AS [Coupon_BusDay_Adjustment], 
    [Project1].[Next_Ex_Div_Date] AS [Next_Ex_Div_Date], 
    [Project1].[Ex_Div_BusDay_Adjustment] AS [Ex_Div_BusDay_Adjustment], 
    [Project1].[Ex_Div_Period] AS [Ex_Div_Period], 
    [Project1].[Ticker] AS [Ticker], 
    [Project1].[Inet_ID] AS [Inet_ID], 
    [Project1].[Bloomberg_ID] AS [Bloomberg_ID], 
    [Project1].[External_Sec_ID] AS [External_Sec_ID], 
    [Project1].[Reuters_ID] AS [Reuters_ID], 
    [Project1].[ISIN] AS [ISIN], 
    [Project1].[Call_Account_Flag] AS [Call_Account_Flag], 
    [Project1].[System_Locked] AS [System_Locked], 
    [Project1].[Last_Update_User1] AS [Last_Update_User1], 
    [Project1].[Last_Update_Date1] AS [Last_Update_Date1], 
    [Project1].[Security_Status] AS [Security_Status], 
    [Project1].[Benchmark_Portfolio] AS [Benchmark_Portfolio], 
    [Project1].[Active_flag] AS [Active_flag], 
    [Project1].[Dividend_FX_Security_ID] AS [Dividend_FX_Security_ID]
    FROM ( SELECT 
        [Extent1].[Entity_ID] AS [Entity_ID], 
        [Extent1].[Security_ID] AS [Security_ID], 
        [Extent1].[Issued_Amount] AS [Issued_Amount], 
        [Extent1].[Market_Capitalisation] AS [Market_Capitalisation], 
        [Extent1].[Risk_Premium] AS [Risk_Premium], 
        [Extent1].[Exit_Price] AS [Exit_Price], 
        [Extent1].[Total_Return_ME_1YR] AS [Total_Return_ME_1YR], 
        [Extent1].[Total_Return_ME_2YR] AS [Total_Return_ME_2YR], 
        [Extent1].[Total_Return_ME_3YR] AS [Total_Return_ME_3YR], 
        [Extent1].[Historic_Distribution] AS [Historic_Distribution], 
        [Extent1].[Distribution_Growth_Forecast_Yr1] AS [Distribution_Growth_Forecast_Yr1], 
        [Extent1].[Distribution_Growth_Forecast_Yr2] AS [Distribution_Growth_Forecast_Yr2], 
        [Extent1].[Distribution_Growth_Forecast_Yr3] AS [Distribution_Growth_Forecast_Yr3], 
        [Extent1].[Forecast_Distribution_Yr1] AS [Forecast_Distribution_Yr1], 
        [Extent1].[Forecast_Distribution_Yr2] AS [Forecast_Distribution_Yr2], 
        [Extent1].[Forecast_Distribution_Yr3] AS [Forecast_Distribution_Yr3], 
        [Extent1].[Earnings_Growth_Compounded] AS [Earnings_Growth_Compounded], 
        [Extent1].[Earnings_Forecast_Yr3] AS [Earnings_Forecast_Yr3], 
        [Extent1].[Historic_Dividend_Yield_FYE] AS [Historic_Dividend_Yield_FYE], 
        [Extent1].[Forward_Dividend_Yield_FYE] AS [Forward_Dividend_Yield_FYE], 
        [Extent1].[Yr3_Forward_Dividend_Yield] AS [Yr3_Forward_Dividend_Yield], 
        [Extent1].[Rolling_12M_Forward_Yield] AS [Rolling_12M_Forward_Yield], 
        [Extent1].[Historical_Earnings_FYE] AS [Historical_Earnings_FYE], 
        [Extent1].[Earnings_Forecast_Yr1] AS [Earnings_Forecast_Yr1], 
        [Extent1].[Earnings_Forecast_Yr2] AS [Earnings_Forecast_Yr2], 
        [Extent1].[Historic_Dividend_Yield_Relative] AS [Historic_Dividend_Yield_Relative], 
        [Extent1].[Rolling_12M_Historic_Distribution_PriceCurr] AS [Rolling_12M_Historic_Distribution_PriceCurr], 
        [Extent1].[Short_Term_Market_Rerate] AS [Short_Term_Market_Rerate], 
        [Extent1].[Forecast_12M_Total_Return] AS [Forecast_12M_Total_Return], 
        [Extent1].[Clean_Price] AS [Clean_Price], 
        [Extent1].[Rolling_Dividend_Yield_Historic] AS [Rolling_Dividend_Yield_Historic], 
        [Extent1].[Last_Update_Date] AS [Last_Update_Date], 
        [Extent1].[Last_Update_User] AS [Last_Update_User], 
        [Extent1].[Discount_Security_ID] AS [Discount_Security_ID], 
        [Extent1].[Net_Present_Value] AS [Net_Present_Value], 
        [Extent1].[Forecast_Rolling_Custom_Income] AS [Forecast_Rolling_Custom_Income], 
        [Extent1].[Custom_Period] AS [Custom_Period], 
        [Extent1].[Rolling_12M_Historic_Distribution] AS [Rolling_12M_Historic_Distribution], 
        [Extent1].[Record_Date] AS [Record_Date], 
        [Extent1].[Session_ID] AS [Session_ID], 
        [Extent1].[Hist_Last_Update_Date] AS [Hist_Last_Update_Date], 
        [Extent1].[Hist_Last_Update_User] AS [Hist_Last_Update_User], 
        [Extent1].[Rolling_12M_Forecast_Distribution] AS [Rolling_12M_Forecast_Distribution], 
        [Extent1].[Yr2_Forward_Dividend_Yield] AS [Yr2_Forward_Dividend_Yield], 
        [Extent1].[Exit_Yield] AS [Exit_Yield], 
        [Extent1].[Discount_Rate] AS [Discount_Rate], 
        [Extent1].[Distribution_Growth_Compounded] AS [Distribution_Growth_Compounded], 
        [Extent1].[Forecast_12MRolling_Income_Accrual] AS [Forecast_12MRolling_Income_Accrual], 
        [Extent1].[Rolling_12_to_24M_Forecast_Distribution] AS [Rolling_12_to_24M_Forecast_Distribution], 
        [Extent1].[Rolling_24_to_36M_Forecast_Distribution] AS [Rolling_24_to_36M_Forecast_Distribution], 
        [Extent1].[Forecast_Yr1_Dividend_Yield_Relative] AS [Forecast_Yr1_Dividend_Yield_Relative], 
        [Extent1].[Market_Historic_Yield] AS [Market_Historic_Yield], 
        [Extent1].[Market_Forward_Yield] AS [Market_Forward_Yield], 
        [Extent1].[Historic_Distribution_PriceCurr] AS [Historic_Distribution_PriceCurr], 
        [Extent1].[Forecast_Distribution_Yr1_PriceCurr] AS [Forecast_Distribution_Yr1_PriceCurr], 
        [Extent1].[Forecast_Distribution_Yr2_PriceCurr] AS [Forecast_Distribution_Yr2_PriceCurr], 
        [Extent1].[Forecast_Distribution_Yr3_PriceCurr] AS [Forecast_Distribution_Yr3_PriceCurr], 
        [Extent1].[Rolling_12M_Forecast_Distribution_PriceCurr] AS [Rolling_12M_Forecast_Distribution_PriceCurr], 
        [Extent1].[Rolling_12_24M_Forecast_Distribution_PriceCurr] AS [Rolling_12_24M_Forecast_Distribution_PriceCurr], 
        [Extent1].[Rolling_24_36M_Forecast_Distribution_PriceCurr] AS [Rolling_24_36M_Forecast_Distribution_PriceCurr], 
        [Extent1].[Distribution_Growth_Forecast_Yr4] AS [Distribution_Growth_Forecast_Yr4], 
        [Extent1].[Earnings_Forecast_Yr4] AS [Earnings_Forecast_Yr4], 
        [Extent1].[Forecast_Distribution_Yr4] AS [Forecast_Distribution_Yr4], 
        [Extent1].[Forecast_Distribution_Yr4_PriceCurr] AS [Forecast_Distribution_Yr4_PriceCurr], 
        [Extent2].[Security_ID] AS [Security_ID1], 
        [Extent2].[Entity_ID] AS [Entity_ID1], 
        [Extent2].[Security_Name] AS [Security_Name], 
        [Extent2].[Short_Name] AS [Short_Name], 
        [Extent2].[Primary_Exch] AS [Primary_Exch], 
        [Extent2].[Secondary_Exch] AS [Secondary_Exch], 
        [Extent2].[Country_Of_Domicile] AS [Country_Of_Domicile], 
        [Extent2].[Country_Of_Risk] AS [Country_Of_Risk], 
        [Extent2].[Security_Type_Code] AS [Security_Type_Code], 
        [Extent2].[Price_Multiplier] AS [Price_Multiplier], 
        [Extent2].[Income_Frequency] AS [Income_Frequency], 
        [Extent2].[Issuer_Code] AS [Issuer_Code], 
        [Extent2].[Ultimate_Issuer_Code] AS [Ultimate_Issuer_Code], 
        [Extent2].[Asset_Currency] AS [Asset_Currency], 
        [Extent2].[Min_Lot_Size] AS [Min_Lot_Size], 
        [Extent2].[Decimal_Precision] AS [Decimal_Precision], 
        [Extent2].[AvePrice_Rounding] AS [AvePrice_Rounding], 
        [Extent2].[Issue_Date] AS [Issue_Date], 
        [Extent2].[Maturity_Date] AS [Maturity_Date], 
        [Extent2].[Coupon_Rate] AS [Coupon_Rate], 
        [Extent2].[Price_Exchange] AS [Price_Exchange], 
        [Extent2].[Trade_Currency] AS [Trade_Currency], 
        [Extent2].[Price_Curr] AS [Price_Curr], 
        [Extent2].[Currency_Pair_Code] AS [Currency_Pair_Code], 
        [Extent2].[Share_Class] AS [Share_Class], 
        [Extent2].[Current_Market_Price] AS [Current_Market_Price], 
        [Extent2].[Index_Type] AS [Index_Type], 
        [Extent2].[Clean_Price_Formula] AS [Clean_Price_Formula], 
        [Extent2].[Accrued_Income_Price_Formula] AS [Accrued_Income_Price_Formula], 
        [Extent2].[Odd_First_Coupon_Date] AS [Odd_First_Coupon_Date], 
        [Extent2].[Odd_Last_Coupon_Date] AS [Odd_Last_Coupon_Date], 
        [Extent2].[Coupon_Anniversary_Indicator] AS [Coupon_Anniversary_Indicator], 
        [Extent2].[Track_EOM_Flag] AS [Track_EOM_Flag], 
        [Extent2].[Next_Coupon_Date] AS [Next_Coupon_Date], 
        [Extent2].[Previous_Coupon_Date] AS [Previous_Coupon_Date], 
        [Extent2].[Payment_Frequency] AS [Payment_Frequency], 
        [Extent2].[Coupon_BusDay_Adjustment] AS [Coupon_BusDay_Adjustment], 
        [Extent2].[Next_Ex_Div_Date] AS [Next_Ex_Div_Date], 
        [Extent2].[Ex_Div_BusDay_Adjustment] AS [Ex_Div_BusDay_Adjustment], 
        [Extent2].[Ex_Div_Period] AS [Ex_Div_Period], 
        [Extent2].[Ticker] AS [Ticker], 
        [Extent2].[Inet_ID] AS [Inet_ID], 
        [Extent2].[Bloomberg_ID] AS [Bloomberg_ID], 
        [Extent2].[External_Sec_ID] AS [External_Sec_ID], 
        [Extent2].[Reuters_ID] AS [Reuters_ID], 
        [Extent2].[ISIN] AS [ISIN], 
        [Extent2].[Call_Account_Flag] AS [Call_Account_Flag], 
        [Extent2].[System_Locked] AS [System_Locked], 
        [Extent2].[Last_Update_User] AS [Last_Update_User1], 
        [Extent2].[Last_Update_Date] AS [Last_Update_Date1], 
        [Extent2].[Security_Status] AS [Security_Status], 
        [Extent2].[Benchmark_Portfolio] AS [Benchmark_Portfolio], 
        [Extent2].[Active_flag] AS [Active_flag], 
        [Extent2].[Dividend_FX_Security_ID] AS [Dividend_FX_Security_ID]
        FROM  [dbo].[Security_Analytics_History] AS [Extent1]
        INNER JOIN [dbo].[Security_Detail] AS [Extent2] ON [Extent1].[Security_ID] = [Extent2].[Security_ID]
        WHERE [Extent1].[Security_ID] = @p__linq__0
    )  AS [Project1]
    ORDER BY [Project1].[Record_Date] DESC
2018-04-07 17:58:37.1722|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: SELECT 
    [Project1].[Decimal_Precision] AS [Decimal_Precision], 
    [Project1].[Entity_ID] AS [Entity_ID], 
    [Project1].[Security_ID] AS [Security_ID], 
    [Project1].[Issued_Amount] AS [Issued_Amount], 
    [Project1].[Market_Capitalisation] AS [Market_Capitalisation], 
    [Project1].[Risk_Premium] AS [Risk_Premium], 
    [Project1].[Exit_Price] AS [Exit_Price], 
    [Project1].[Total_Return_ME_1YR] AS [Total_Return_ME_1YR], 
    [Project1].[Total_Return_ME_2YR] AS [Total_Return_ME_2YR], 
    [Project1].[Total_Return_ME_3YR] AS [Total_Return_ME_3YR], 
    [Project1].[Historic_Distribution] AS [Historic_Distribution], 
    [Project1].[Distribution_Growth_Forecast_Yr1] AS [Distribution_Growth_Forecast_Yr1], 
    [Project1].[Distribution_Growth_Forecast_Yr2] AS [Distribution_Growth_Forecast_Yr2], 
    [Project1].[Distribution_Growth_Forecast_Yr3] AS [Distribution_Growth_Forecast_Yr3], 
    [Project1].[Forecast_Distribution_Yr1] AS [Forecast_Distribution_Yr1], 
    [Project1].[Forecast_Distribution_Yr2] AS [Forecast_Distribution_Yr2], 
    [Project1].[Forecast_Distribution_Yr3] AS [Forecast_Distribution_Yr3], 
    [Project1].[Earnings_Growth_Compounded] AS [Earnings_Growth_Compounded], 
    [Project1].[Earnings_Forecast_Yr3] AS [Earnings_Forecast_Yr3], 
    [Project1].[Historic_Dividend_Yield_FYE] AS [Historic_Dividend_Yield_FYE], 
    [Project1].[Forward_Dividend_Yield_FYE] AS [Forward_Dividend_Yield_FYE], 
    [Project1].[Yr3_Forward_Dividend_Yield] AS [Yr3_Forward_Dividend_Yield], 
    [Project1].[Rolling_12M_Forward_Yield] AS [Rolling_12M_Forward_Yield], 
    [Project1].[Historical_Earnings_FYE] AS [Historical_Earnings_FYE], 
    [Project1].[Earnings_Forecast_Yr1] AS [Earnings_Forecast_Yr1], 
    [Project1].[Earnings_Forecast_Yr2] AS [Earnings_Forecast_Yr2], 
    [Project1].[Historic_Dividend_Yield_Relative] AS [Historic_Dividend_Yield_Relative], 
    [Project1].[Rolling_12M_Historic_Distribution_PriceCurr] AS [Rolling_12M_Historic_Distribution_PriceCurr], 
    [Project1].[Short_Term_Market_Rerate] AS [Short_Term_Market_Rerate], 
    [Project1].[Forecast_12M_Total_Return] AS [Forecast_12M_Total_Return], 
    [Project1].[Clean_Price] AS [Clean_Price], 
    [Project1].[Rolling_Dividend_Yield_Historic] AS [Rolling_Dividend_Yield_Historic], 
    [Project1].[Last_Update_Date] AS [Last_Update_Date], 
    [Project1].[Last_Update_User] AS [Last_Update_User], 
    [Project1].[Discount_Security_ID] AS [Discount_Security_ID], 
    [Project1].[Net_Present_Value] AS [Net_Present_Value], 
    [Project1].[Forecast_Rolling_Custom_Income] AS [Forecast_Rolling_Custom_Income], 
    [Project1].[Custom_Period] AS [Custom_Period], 
    [Project1].[Rolling_12M_Historic_Distribution] AS [Rolling_12M_Historic_Distribution], 
    [Project1].[Record_Date] AS [Record_Date], 
    [Project1].[Session_ID] AS [Session_ID], 
    [Project1].[Hist_Last_Update_Date] AS [Hist_Last_Update_Date], 
    [Project1].[Hist_Last_Update_User] AS [Hist_Last_Update_User], 
    [Project1].[Rolling_12M_Forecast_Distribution] AS [Rolling_12M_Forecast_Distribution], 
    [Project1].[Yr2_Forward_Dividend_Yield] AS [Yr2_Forward_Dividend_Yield], 
    [Project1].[Exit_Yield] AS [Exit_Yield], 
    [Project1].[Discount_Rate] AS [Discount_Rate], 
    [Project1].[Distribution_Growth_Compounded] AS [Distribution_Growth_Compounded], 
    [Project1].[Forecast_12MRolling_Income_Accrual] AS [Forecast_12MRolling_Income_Accrual], 
    [Project1].[Rolling_12_to_24M_Forecast_Distribution] AS [Rolling_12_to_24M_Forecast_Distribution], 
    [Project1].[Rolling_24_to_36M_Forecast_Distribution] AS [Rolling_24_to_36M_Forecast_Distribution], 
    [Project1].[Forecast_Yr1_Dividend_Yield_Relative] AS [Forecast_Yr1_Dividend_Yield_Relative], 
    [Project1].[Market_Historic_Yield] AS [Market_Historic_Yield], 
    [Project1].[Market_Forward_Yield] AS [Market_Forward_Yield], 
    [Project1].[Historic_Distribution_PriceCurr] AS [Historic_Distribution_PriceCurr], 
    [Project1].[Forecast_Distribution_Yr1_PriceCurr] AS [Forecast_Distribution_Yr1_PriceCurr], 
    [Project1].[Forecast_Distribution_Yr2_PriceCurr] AS [Forecast_Distribution_Yr2_PriceCurr], 
    [Project1].[Forecast_Distribution_Yr3_PriceCurr] AS [Forecast_Distribution_Yr3_PriceCurr], 
    [Project1].[Rolling_12M_Forecast_Distribution_PriceCurr] AS [Rolling_12M_Forecast_Distribution_PriceCurr], 
    [Project1].[Rolling_12_24M_Forecast_Distribution_PriceCurr] AS [Rolling_12_24M_Forecast_Distribution_PriceCurr], 
    [Project1].[Rolling_24_36M_Forecast_Distribution_PriceCurr] AS [Rolling_24_36M_Forecast_Distribution_PriceCurr], 
    [Project1].[Distribution_Growth_Forecast_Yr4] AS [Distribution_Growth_Forecast_Yr4], 
    [Project1].[Earnings_Forecast_Yr4] AS [Earnings_Forecast_Yr4], 
    [Project1].[Forecast_Distribution_Yr4] AS [Forecast_Distribution_Yr4], 
    [Project1].[Forecast_Distribution_Yr4_PriceCurr] AS [Forecast_Distribution_Yr4_PriceCurr], 
    [Project1].[Security_ID1] AS [Security_ID1], 
    [Project1].[Entity_ID1] AS [Entity_ID1], 
    [Project1].[Security_Name] AS [Security_Name], 
    [Project1].[Short_Name] AS [Short_Name], 
    [Project1].[Primary_Exch] AS [Primary_Exch], 
    [Project1].[Secondary_Exch] AS [Secondary_Exch], 
    [Project1].[Country_Of_Domicile] AS [Country_Of_Domicile], 
    [Project1].[Country_Of_Risk] AS [Country_Of_Risk], 
    [Project1].[Security_Type_Code] AS [Security_Type_Code], 
    [Project1].[Price_Multiplier] AS [Price_Multiplier], 
    [Project1].[Income_Frequency] AS [Income_Frequency], 
    [Project1].[Issuer_Code] AS [Issuer_Code], 
    [Project1].[Ultimate_Issuer_Code] AS [Ultimate_Issuer_Code], 
    [Project1].[Asset_Currency] AS [Asset_Currency], 
    [Project1].[Min_Lot_Size] AS [Min_Lot_Size], 
    [Project1].[AvePrice_Rounding] AS [AvePrice_Rounding], 
    [Project1].[Issue_Date] AS [Issue_Date], 
    [Project1].[Maturity_Date] AS [Maturity_Date], 
    [Project1].[Coupon_Rate] AS [Coupon_Rate], 
    [Project1].[Price_Exchange] AS [Price_Exchange], 
    [Project1].[Trade_Currency] AS [Trade_Currency], 
    [Project1].[Price_Curr] AS [Price_Curr], 
    [Project1].[Currency_Pair_Code] AS [Currency_Pair_Code], 
    [Project1].[Share_Class] AS [Share_Class], 
    [Project1].[Current_Market_Price] AS [Current_Market_Price], 
    [Project1].[Index_Type] AS [Index_Type], 
    [Project1].[Clean_Price_Formula] AS [Clean_Price_Formula], 
    [Project1].[Accrued_Income_Price_Formula] AS [Accrued_Income_Price_Formula], 
    [Project1].[Odd_First_Coupon_Date] AS [Odd_First_Coupon_Date], 
    [Project1].[Odd_Last_Coupon_Date] AS [Odd_Last_Coupon_Date], 
    [Project1].[Coupon_Anniversary_Indicator] AS [Coupon_Anniversary_Indicator], 
    [Project1].[Track_EOM_Flag] AS [Track_EOM_Flag], 
    [Project1].[Next_Coupon_Date] AS [Next_Coupon_Date], 
    [Project1].[Previous_Coupon_Date] AS [Previous_Coupon_Date], 
    [Project1].[Payment_Frequency] AS [Payment_Frequency], 
    [Project1].[Coupon_BusDay_Adjustment] AS [Coupon_BusDay_Adjustment], 
    [Project1].[Next_Ex_Div_Date] AS [Next_Ex_Div_Date], 
    [Project1].[Ex_Div_BusDay_Adjustment] AS [Ex_Div_BusDay_Adjustment], 
    [Project1].[Ex_Div_Period] AS [Ex_Div_Period], 
    [Project1].[Ticker] AS [Ticker], 
    [Project1].[Inet_ID] AS [Inet_ID], 
    [Project1].[Bloomberg_ID] AS [Bloomberg_ID], 
    [Project1].[External_Sec_ID] AS [External_Sec_ID], 
    [Project1].[Reuters_ID] AS [Reuters_ID], 
    [Project1].[ISIN] AS [ISIN], 
    [Project1].[Call_Account_Flag] AS [Call_Account_Flag], 
    [Project1].[System_Locked] AS [System_Locked], 
    [Project1].[Last_Update_User1] AS [Last_Update_User1], 
    [Project1].[Last_Update_Date1] AS [Last_Update_Date1], 
    [Project1].[Security_Status] AS [Security_Status], 
    [Project1].[Benchmark_Portfolio] AS [Benchmark_Portfolio], 
    [Project1].[Active_flag] AS [Active_flag], 
    [Project1].[Dividend_FX_Security_ID] AS [Dividend_FX_Security_ID]
    FROM ( SELECT 
        [Extent1].[Entity_ID] AS [Entity_ID], 
        [Extent1].[Security_ID] AS [Security_ID], 
        [Extent1].[Issued_Amount] AS [Issued_Amount], 
        [Extent1].[Market_Capitalisation] AS [Market_Capitalisation], 
        [Extent1].[Risk_Premium] AS [Risk_Premium], 
        [Extent1].[Exit_Price] AS [Exit_Price], 
        [Extent1].[Total_Return_ME_1YR] AS [Total_Return_ME_1YR], 
        [Extent1].[Total_Return_ME_2YR] AS [Total_Return_ME_2YR], 
        [Extent1].[Total_Return_ME_3YR] AS [Total_Return_ME_3YR], 
        [Extent1].[Historic_Distribution] AS [Historic_Distribution], 
        [Extent1].[Distribution_Growth_Forecast_Yr1] AS [Distribution_Growth_Forecast_Yr1], 
        [Extent1].[Distribution_Growth_Forecast_Yr2] AS [Distribution_Growth_Forecast_Yr2], 
        [Extent1].[Distribution_Growth_Forecast_Yr3] AS [Distribution_Growth_Forecast_Yr3], 
        [Extent1].[Forecast_Distribution_Yr1] AS [Forecast_Distribution_Yr1], 
        [Extent1].[Forecast_Distribution_Yr2] AS [Forecast_Distribution_Yr2], 
        [Extent1].[Forecast_Distribution_Yr3] AS [Forecast_Distribution_Yr3], 
        [Extent1].[Earnings_Growth_Compounded] AS [Earnings_Growth_Compounded], 
        [Extent1].[Earnings_Forecast_Yr3] AS [Earnings_Forecast_Yr3], 
        [Extent1].[Historic_Dividend_Yield_FYE] AS [Historic_Dividend_Yield_FYE], 
        [Extent1].[Forward_Dividend_Yield_FYE] AS [Forward_Dividend_Yield_FYE], 
        [Extent1].[Yr3_Forward_Dividend_Yield] AS [Yr3_Forward_Dividend_Yield], 
        [Extent1].[Rolling_12M_Forward_Yield] AS [Rolling_12M_Forward_Yield], 
        [Extent1].[Historical_Earnings_FYE] AS [Historical_Earnings_FYE], 
        [Extent1].[Earnings_Forecast_Yr1] AS [Earnings_Forecast_Yr1], 
        [Extent1].[Earnings_Forecast_Yr2] AS [Earnings_Forecast_Yr2], 
        [Extent1].[Historic_Dividend_Yield_Relative] AS [Historic_Dividend_Yield_Relative], 
        [Extent1].[Rolling_12M_Historic_Distribution_PriceCurr] AS [Rolling_12M_Historic_Distribution_PriceCurr], 
        [Extent1].[Short_Term_Market_Rerate] AS [Short_Term_Market_Rerate], 
        [Extent1].[Forecast_12M_Total_Return] AS [Forecast_12M_Total_Return], 
        [Extent1].[Clean_Price] AS [Clean_Price], 
        [Extent1].[Rolling_Dividend_Yield_Historic] AS [Rolling_Dividend_Yield_Historic], 
        [Extent1].[Last_Update_Date] AS [Last_Update_Date], 
        [Extent1].[Last_Update_User] AS [Last_Update_User], 
        [Extent1].[Discount_Security_ID] AS [Discount_Security_ID], 
        [Extent1].[Net_Present_Value] AS [Net_Present_Value], 
        [Extent1].[Forecast_Rolling_Custom_Income] AS [Forecast_Rolling_Custom_Income], 
        [Extent1].[Custom_Period] AS [Custom_Period], 
        [Extent1].[Rolling_12M_Historic_Distribution] AS [Rolling_12M_Historic_Distribution], 
        [Extent1].[Record_Date] AS [Record_Date], 
        [Extent1].[Session_ID] AS [Session_ID], 
        [Extent1].[Hist_Last_Update_Date] AS [Hist_Last_Update_Date], 
        [Extent1].[Hist_Last_Update_User] AS [Hist_Last_Update_User], 
        [Extent1].[Rolling_12M_Forecast_Distribution] AS [Rolling_12M_Forecast_Distribution], 
        [Extent1].[Yr2_Forward_Dividend_Yield] AS [Yr2_Forward_Dividend_Yield], 
        [Extent1].[Exit_Yield] AS [Exit_Yield], 
        [Extent1].[Discount_Rate] AS [Discount_Rate], 
        [Extent1].[Distribution_Growth_Compounded] AS [Distribution_Growth_Compounded], 
        [Extent1].[Forecast_12MRolling_Income_Accrual] AS [Forecast_12MRolling_Income_Accrual], 
        [Extent1].[Rolling_12_to_24M_Forecast_Distribution] AS [Rolling_12_to_24M_Forecast_Distribution], 
        [Extent1].[Rolling_24_to_36M_Forecast_Distribution] AS [Rolling_24_to_36M_Forecast_Distribution], 
        [Extent1].[Forecast_Yr1_Dividend_Yield_Relative] AS [Forecast_Yr1_Dividend_Yield_Relative], 
        [Extent1].[Market_Historic_Yield] AS [Market_Historic_Yield], 
        [Extent1].[Market_Forward_Yield] AS [Market_Forward_Yield], 
        [Extent1].[Historic_Distribution_PriceCurr] AS [Historic_Distribution_PriceCurr], 
        [Extent1].[Forecast_Distribution_Yr1_PriceCurr] AS [Forecast_Distribution_Yr1_PriceCurr], 
        [Extent1].[Forecast_Distribution_Yr2_PriceCurr] AS [Forecast_Distribution_Yr2_PriceCurr], 
        [Extent1].[Forecast_Distribution_Yr3_PriceCurr] AS [Forecast_Distribution_Yr3_PriceCurr], 
        [Extent1].[Rolling_12M_Forecast_Distribution_PriceCurr] AS [Rolling_12M_Forecast_Distribution_PriceCurr], 
        [Extent1].[Rolling_12_24M_Forecast_Distribution_PriceCurr] AS [Rolling_12_24M_Forecast_Distribution_PriceCurr], 
        [Extent1].[Rolling_24_36M_Forecast_Distribution_PriceCurr] AS [Rolling_24_36M_Forecast_Distribution_PriceCurr], 
        [Extent1].[Distribution_Growth_Forecast_Yr4] AS [Distribution_Growth_Forecast_Yr4], 
        [Extent1].[Earnings_Forecast_Yr4] AS [Earnings_Forecast_Yr4], 
        [Extent1].[Forecast_Distribution_Yr4] AS [Forecast_Distribution_Yr4], 
        [Extent1].[Forecast_Distribution_Yr4_PriceCurr] AS [Forecast_Distribution_Yr4_PriceCurr], 
        [Extent2].[Security_ID] AS [Security_ID1], 
        [Extent2].[Entity_ID] AS [Entity_ID1], 
        [Extent2].[Security_Name] AS [Security_Name], 
        [Extent2].[Short_Name] AS [Short_Name], 
        [Extent2].[Primary_Exch] AS [Primary_Exch], 
        [Extent2].[Secondary_Exch] AS [Secondary_Exch], 
        [Extent2].[Country_Of_Domicile] AS [Country_Of_Domicile], 
        [Extent2].[Country_Of_Risk] AS [Country_Of_Risk], 
        [Extent2].[Security_Type_Code] AS [Security_Type_Code], 
        [Extent2].[Price_Multiplier] AS [Price_Multiplier], 
        [Extent2].[Income_Frequency] AS [Income_Frequency], 
        [Extent2].[Issuer_Code] AS [Issuer_Code], 
        [Extent2].[Ultimate_Issuer_Code] AS [Ultimate_Issuer_Code], 
        [Extent2].[Asset_Currency] AS [Asset_Currency], 
        [Extent2].[Min_Lot_Size] AS [Min_Lot_Size], 
        [Extent2].[Decimal_Precision] AS [Decimal_Precision], 
        [Extent2].[AvePrice_Rounding] AS [AvePrice_Rounding], 
        [Extent2].[Issue_Date] AS [Issue_Date], 
        [Extent2].[Maturity_Date] AS [Maturity_Date], 
        [Extent2].[Coupon_Rate] AS [Coupon_Rate], 
        [Extent2].[Price_Exchange] AS [Price_Exchange], 
        [Extent2].[Trade_Currency] AS [Trade_Currency], 
        [Extent2].[Price_Curr] AS [Price_Curr], 
        [Extent2].[Currency_Pair_Code] AS [Currency_Pair_Code], 
        [Extent2].[Share_Class] AS [Share_Class], 
        [Extent2].[Current_Market_Price] AS [Current_Market_Price], 
        [Extent2].[Index_Type] AS [Index_Type], 
        [Extent2].[Clean_Price_Formula] AS [Clean_Price_Formula], 
        [Extent2].[Accrued_Income_Price_Formula] AS [Accrued_Income_Price_Formula], 
        [Extent2].[Odd_First_Coupon_Date] AS [Odd_First_Coupon_Date], 
        [Extent2].[Odd_Last_Coupon_Date] AS [Odd_Last_Coupon_Date], 
        [Extent2].[Coupon_Anniversary_Indicator] AS [Coupon_Anniversary_Indicator], 
        [Extent2].[Track_EOM_Flag] AS [Track_EOM_Flag], 
        [Extent2].[Next_Coupon_Date] AS [Next_Coupon_Date], 
        [Extent2].[Previous_Coupon_Date] AS [Previous_Coupon_Date], 
        [Extent2].[Payment_Frequency] AS [Payment_Frequency], 
        [Extent2].[Coupon_BusDay_Adjustment] AS [Coupon_BusDay_Adjustment], 
        [Extent2].[Next_Ex_Div_Date] AS [Next_Ex_Div_Date], 
        [Extent2].[Ex_Div_BusDay_Adjustment] AS [Ex_Div_BusDay_Adjustment], 
        [Extent2].[Ex_Div_Period] AS [Ex_Div_Period], 
        [Extent2].[Ticker] AS [Ticker], 
        [Extent2].[Inet_ID] AS [Inet_ID], 
        [Extent2].[Bloomberg_ID] AS [Bloomberg_ID], 
        [Extent2].[External_Sec_ID] AS [External_Sec_ID], 
        [Extent2].[Reuters_ID] AS [Reuters_ID], 
        [Extent2].[ISIN] AS [ISIN], 
        [Extent2].[Call_Account_Flag] AS [Call_Account_Flag], 
        [Extent2].[System_Locked] AS [System_Locked], 
        [Extent2].[Last_Update_User] AS [Last_Update_User1], 
        [Extent2].[Last_Update_Date] AS [Last_Update_Date1], 
        [Extent2].[Security_Status] AS [Security_Status], 
        [Extent2].[Benchmark_Portfolio] AS [Benchmark_Portfolio], 
        [Extent2].[Active_flag] AS [Active_flag], 
        [Extent2].[Dividend_FX_Security_ID] AS [Dividend_FX_Security_ID]
        FROM  [dbo].[Security_Analytics_History] AS [Extent1]
        INNER JOIN [dbo].[Security_Detail] AS [Extent2] ON [Extent1].[Security_ID] = [Extent2].[Security_ID]
        WHERE [Extent1].[Security_ID] = @p__linq__0
    )  AS [Project1]
    ORDER BY [Project1].[Record_Date] DESC
2018-04-07 17:58:37.2268|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: IF db_id(N'MetopeAzureDb') IS NOT NULL SELECT 1 ELSE SELECT Count(*) FROM sys.databases WHERE [name]=N'MetopeAzureDb'
2018-04-07 17:58:37.2498|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: IF db_id(N'MetopeAzureDb') IS NOT NULL SELECT 1 ELSE SELECT Count(*) FROM sys.databases WHERE [name]=N'MetopeAzureDb'
2018-04-07 17:58:37.2728|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: IF db_id(N'MetopeAzureDb') IS NOT NULL SELECT 1 ELSE SELECT Count(*) FROM sys.databases WHERE [name]=N'MetopeAzureDb'
2018-04-07 17:58:37.2933|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: IF db_id(N'MetopeAzureDb') IS NOT NULL SELECT 1 ELSE SELECT Count(*) FROM sys.databases WHERE [name]=N'MetopeAzureDb'
2018-04-07 17:59:44.2084|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: SELECT 
    [Project1].[Decimal_Precision] AS [Decimal_Precision], 
    [Project1].[Entity_ID] AS [Entity_ID], 
    [Project1].[Security_ID] AS [Security_ID], 
    [Project1].[Issued_Amount] AS [Issued_Amount], 
    [Project1].[Market_Capitalisation] AS [Market_Capitalisation], 
    [Project1].[Risk_Premium] AS [Risk_Premium], 
    [Project1].[Exit_Price] AS [Exit_Price], 
    [Project1].[Total_Return_ME_1YR] AS [Total_Return_ME_1YR], 
    [Project1].[Total_Return_ME_2YR] AS [Total_Return_ME_2YR], 
    [Project1].[Total_Return_ME_3YR] AS [Total_Return_ME_3YR], 
    [Project1].[Historic_Distribution] AS [Historic_Distribution], 
    [Project1].[Distribution_Growth_Forecast_Yr1] AS [Distribution_Growth_Forecast_Yr1], 
    [Project1].[Distribution_Growth_Forecast_Yr2] AS [Distribution_Growth_Forecast_Yr2], 
    [Project1].[Distribution_Growth_Forecast_Yr3] AS [Distribution_Growth_Forecast_Yr3], 
    [Project1].[Forecast_Distribution_Yr1] AS [Forecast_Distribution_Yr1], 
    [Project1].[Forecast_Distribution_Yr2] AS [Forecast_Distribution_Yr2], 
    [Project1].[Forecast_Distribution_Yr3] AS [Forecast_Distribution_Yr3], 
    [Project1].[Earnings_Growth_Compounded] AS [Earnings_Growth_Compounded], 
    [Project1].[Earnings_Forecast_Yr3] AS [Earnings_Forecast_Yr3], 
    [Project1].[Historic_Dividend_Yield_FYE] AS [Historic_Dividend_Yield_FYE], 
    [Project1].[Forward_Dividend_Yield_FYE] AS [Forward_Dividend_Yield_FYE], 
    [Project1].[Yr3_Forward_Dividend_Yield] AS [Yr3_Forward_Dividend_Yield], 
    [Project1].[Rolling_12M_Forward_Yield] AS [Rolling_12M_Forward_Yield], 
    [Project1].[Historical_Earnings_FYE] AS [Historical_Earnings_FYE], 
    [Project1].[Earnings_Forecast_Yr1] AS [Earnings_Forecast_Yr1], 
    [Project1].[Earnings_Forecast_Yr2] AS [Earnings_Forecast_Yr2], 
    [Project1].[Historic_Dividend_Yield_Relative] AS [Historic_Dividend_Yield_Relative], 
    [Project1].[Rolling_12M_Historic_Distribution_PriceCurr] AS [Rolling_12M_Historic_Distribution_PriceCurr], 
    [Project1].[Short_Term_Market_Rerate] AS [Short_Term_Market_Rerate], 
    [Project1].[Forecast_12M_Total_Return] AS [Forecast_12M_Total_Return], 
    [Project1].[Clean_Price] AS [Clean_Price], 
    [Project1].[Rolling_Dividend_Yield_Historic] AS [Rolling_Dividend_Yield_Historic], 
    [Project1].[Last_Update_Date] AS [Last_Update_Date], 
    [Project1].[Last_Update_User] AS [Last_Update_User], 
    [Project1].[Discount_Security_ID] AS [Discount_Security_ID], 
    [Project1].[Net_Present_Value] AS [Net_Present_Value], 
    [Project1].[Forecast_Rolling_Custom_Income] AS [Forecast_Rolling_Custom_Income], 
    [Project1].[Custom_Period] AS [Custom_Period], 
    [Project1].[Rolling_12M_Historic_Distribution] AS [Rolling_12M_Historic_Distribution], 
    [Project1].[Record_Date] AS [Record_Date], 
    [Project1].[Session_ID] AS [Session_ID], 
    [Project1].[Hist_Last_Update_Date] AS [Hist_Last_Update_Date], 
    [Project1].[Hist_Last_Update_User] AS [Hist_Last_Update_User], 
    [Project1].[Rolling_12M_Forecast_Distribution] AS [Rolling_12M_Forecast_Distribution], 
    [Project1].[Yr2_Forward_Dividend_Yield] AS [Yr2_Forward_Dividend_Yield], 
    [Project1].[Exit_Yield] AS [Exit_Yield], 
    [Project1].[Discount_Rate] AS [Discount_Rate], 
    [Project1].[Distribution_Growth_Compounded] AS [Distribution_Growth_Compounded], 
    [Project1].[Forecast_12MRolling_Income_Accrual] AS [Forecast_12MRolling_Income_Accrual], 
    [Project1].[Rolling_12_to_24M_Forecast_Distribution] AS [Rolling_12_to_24M_Forecast_Distribution], 
    [Project1].[Rolling_24_to_36M_Forecast_Distribution] AS [Rolling_24_to_36M_Forecast_Distribution], 
    [Project1].[Forecast_Yr1_Dividend_Yield_Relative] AS [Forecast_Yr1_Dividend_Yield_Relative], 
    [Project1].[Market_Historic_Yield] AS [Market_Historic_Yield], 
    [Project1].[Market_Forward_Yield] AS [Market_Forward_Yield], 
    [Project1].[Historic_Distribution_PriceCurr] AS [Historic_Distribution_PriceCurr], 
    [Project1].[Forecast_Distribution_Yr1_PriceCurr] AS [Forecast_Distribution_Yr1_PriceCurr], 
    [Project1].[Forecast_Distribution_Yr2_PriceCurr] AS [Forecast_Distribution_Yr2_PriceCurr], 
    [Project1].[Forecast_Distribution_Yr3_PriceCurr] AS [Forecast_Distribution_Yr3_PriceCurr], 
    [Project1].[Rolling_12M_Forecast_Distribution_PriceCurr] AS [Rolling_12M_Forecast_Distribution_PriceCurr], 
    [Project1].[Rolling_12_24M_Forecast_Distribution_PriceCurr] AS [Rolling_12_24M_Forecast_Distribution_PriceCurr], 
    [Project1].[Rolling_24_36M_Forecast_Distribution_PriceCurr] AS [Rolling_24_36M_Forecast_Distribution_PriceCurr], 
    [Project1].[Distribution_Growth_Forecast_Yr4] AS [Distribution_Growth_Forecast_Yr4], 
    [Project1].[Earnings_Forecast_Yr4] AS [Earnings_Forecast_Yr4], 
    [Project1].[Forecast_Distribution_Yr4] AS [Forecast_Distribution_Yr4], 
    [Project1].[Forecast_Distribution_Yr4_PriceCurr] AS [Forecast_Distribution_Yr4_PriceCurr], 
    [Project1].[Security_ID1] AS [Security_ID1], 
    [Project1].[Entity_ID1] AS [Entity_ID1], 
    [Project1].[Security_Name] AS [Security_Name], 
    [Project1].[Short_Name] AS [Short_Name], 
    [Project1].[Primary_Exch] AS [Primary_Exch], 
    [Project1].[Secondary_Exch] AS [Secondary_Exch], 
    [Project1].[Country_Of_Domicile] AS [Country_Of_Domicile], 
    [Project1].[Country_Of_Risk] AS [Country_Of_Risk], 
    [Project1].[Security_Type_Code] AS [Security_Type_Code], 
    [Project1].[Price_Multiplier] AS [Price_Multiplier], 
    [Project1].[Income_Frequency] AS [Income_Frequency], 
    [Project1].[Issuer_Code] AS [Issuer_Code], 
    [Project1].[Ultimate_Issuer_Code] AS [Ultimate_Issuer_Code], 
    [Project1].[Asset_Currency] AS [Asset_Currency], 
    [Project1].[Min_Lot_Size] AS [Min_Lot_Size], 
    [Project1].[AvePrice_Rounding] AS [AvePrice_Rounding], 
    [Project1].[Issue_Date] AS [Issue_Date], 
    [Project1].[Maturity_Date] AS [Maturity_Date], 
    [Project1].[Coupon_Rate] AS [Coupon_Rate], 
    [Project1].[Price_Exchange] AS [Price_Exchange], 
    [Project1].[Trade_Currency] AS [Trade_Currency], 
    [Project1].[Price_Curr] AS [Price_Curr], 
    [Project1].[Currency_Pair_Code] AS [Currency_Pair_Code], 
    [Project1].[Share_Class] AS [Share_Class], 
    [Project1].[Current_Market_Price] AS [Current_Market_Price], 
    [Project1].[Index_Type] AS [Index_Type], 
    [Project1].[Clean_Price_Formula] AS [Clean_Price_Formula], 
    [Project1].[Accrued_Income_Price_Formula] AS [Accrued_Income_Price_Formula], 
    [Project1].[Odd_First_Coupon_Date] AS [Odd_First_Coupon_Date], 
    [Project1].[Odd_Last_Coupon_Date] AS [Odd_Last_Coupon_Date], 
    [Project1].[Coupon_Anniversary_Indicator] AS [Coupon_Anniversary_Indicator], 
    [Project1].[Track_EOM_Flag] AS [Track_EOM_Flag], 
    [Project1].[Next_Coupon_Date] AS [Next_Coupon_Date], 
    [Project1].[Previous_Coupon_Date] AS [Previous_Coupon_Date], 
    [Project1].[Payment_Frequency] AS [Payment_Frequency], 
    [Project1].[Coupon_BusDay_Adjustment] AS [Coupon_BusDay_Adjustment], 
    [Project1].[Next_Ex_Div_Date] AS [Next_Ex_Div_Date], 
    [Project1].[Ex_Div_BusDay_Adjustment] AS [Ex_Div_BusDay_Adjustment], 
    [Project1].[Ex_Div_Period] AS [Ex_Div_Period], 
    [Project1].[Ticker] AS [Ticker], 
    [Project1].[Inet_ID] AS [Inet_ID], 
    [Project1].[Bloomberg_ID] AS [Bloomberg_ID], 
    [Project1].[External_Sec_ID] AS [External_Sec_ID], 
    [Project1].[Reuters_ID] AS [Reuters_ID], 
    [Project1].[ISIN] AS [ISIN], 
    [Project1].[Call_Account_Flag] AS [Call_Account_Flag], 
    [Project1].[System_Locked] AS [System_Locked], 
    [Project1].[Last_Update_User1] AS [Last_Update_User1], 
    [Project1].[Last_Update_Date1] AS [Last_Update_Date1], 
    [Project1].[Security_Status] AS [Security_Status], 
    [Project1].[Benchmark_Portfolio] AS [Benchmark_Portfolio], 
    [Project1].[Active_flag] AS [Active_flag], 
    [Project1].[Dividend_FX_Security_ID] AS [Dividend_FX_Security_ID]
    FROM ( SELECT 
        [Extent1].[Entity_ID] AS [Entity_ID], 
        [Extent1].[Security_ID] AS [Security_ID], 
        [Extent1].[Issued_Amount] AS [Issued_Amount], 
        [Extent1].[Market_Capitalisation] AS [Market_Capitalisation], 
        [Extent1].[Risk_Premium] AS [Risk_Premium], 
        [Extent1].[Exit_Price] AS [Exit_Price], 
        [Extent1].[Total_Return_ME_1YR] AS [Total_Return_ME_1YR], 
        [Extent1].[Total_Return_ME_2YR] AS [Total_Return_ME_2YR], 
        [Extent1].[Total_Return_ME_3YR] AS [Total_Return_ME_3YR], 
        [Extent1].[Historic_Distribution] AS [Historic_Distribution], 
        [Extent1].[Distribution_Growth_Forecast_Yr1] AS [Distribution_Growth_Forecast_Yr1], 
        [Extent1].[Distribution_Growth_Forecast_Yr2] AS [Distribution_Growth_Forecast_Yr2], 
        [Extent1].[Distribution_Growth_Forecast_Yr3] AS [Distribution_Growth_Forecast_Yr3], 
        [Extent1].[Forecast_Distribution_Yr1] AS [Forecast_Distribution_Yr1], 
        [Extent1].[Forecast_Distribution_Yr2] AS [Forecast_Distribution_Yr2], 
        [Extent1].[Forecast_Distribution_Yr3] AS [Forecast_Distribution_Yr3], 
        [Extent1].[Earnings_Growth_Compounded] AS [Earnings_Growth_Compounded], 
        [Extent1].[Earnings_Forecast_Yr3] AS [Earnings_Forecast_Yr3], 
        [Extent1].[Historic_Dividend_Yield_FYE] AS [Historic_Dividend_Yield_FYE], 
        [Extent1].[Forward_Dividend_Yield_FYE] AS [Forward_Dividend_Yield_FYE], 
        [Extent1].[Yr3_Forward_Dividend_Yield] AS [Yr3_Forward_Dividend_Yield], 
        [Extent1].[Rolling_12M_Forward_Yield] AS [Rolling_12M_Forward_Yield], 
        [Extent1].[Historical_Earnings_FYE] AS [Historical_Earnings_FYE], 
        [Extent1].[Earnings_Forecast_Yr1] AS [Earnings_Forecast_Yr1], 
        [Extent1].[Earnings_Forecast_Yr2] AS [Earnings_Forecast_Yr2], 
        [Extent1].[Historic_Dividend_Yield_Relative] AS [Historic_Dividend_Yield_Relative], 
        [Extent1].[Rolling_12M_Historic_Distribution_PriceCurr] AS [Rolling_12M_Historic_Distribution_PriceCurr], 
        [Extent1].[Short_Term_Market_Rerate] AS [Short_Term_Market_Rerate], 
        [Extent1].[Forecast_12M_Total_Return] AS [Forecast_12M_Total_Return], 
        [Extent1].[Clean_Price] AS [Clean_Price], 
        [Extent1].[Rolling_Dividend_Yield_Historic] AS [Rolling_Dividend_Yield_Historic], 
        [Extent1].[Last_Update_Date] AS [Last_Update_Date], 
        [Extent1].[Last_Update_User] AS [Last_Update_User], 
        [Extent1].[Discount_Security_ID] AS [Discount_Security_ID], 
        [Extent1].[Net_Present_Value] AS [Net_Present_Value], 
        [Extent1].[Forecast_Rolling_Custom_Income] AS [Forecast_Rolling_Custom_Income], 
        [Extent1].[Custom_Period] AS [Custom_Period], 
        [Extent1].[Rolling_12M_Historic_Distribution] AS [Rolling_12M_Historic_Distribution], 
        [Extent1].[Record_Date] AS [Record_Date], 
        [Extent1].[Session_ID] AS [Session_ID], 
        [Extent1].[Hist_Last_Update_Date] AS [Hist_Last_Update_Date], 
        [Extent1].[Hist_Last_Update_User] AS [Hist_Last_Update_User], 
        [Extent1].[Rolling_12M_Forecast_Distribution] AS [Rolling_12M_Forecast_Distribution], 
        [Extent1].[Yr2_Forward_Dividend_Yield] AS [Yr2_Forward_Dividend_Yield], 
        [Extent1].[Exit_Yield] AS [Exit_Yield], 
        [Extent1].[Discount_Rate] AS [Discount_Rate], 
        [Extent1].[Distribution_Growth_Compounded] AS [Distribution_Growth_Compounded], 
        [Extent1].[Forecast_12MRolling_Income_Accrual] AS [Forecast_12MRolling_Income_Accrual], 
        [Extent1].[Rolling_12_to_24M_Forecast_Distribution] AS [Rolling_12_to_24M_Forecast_Distribution], 
        [Extent1].[Rolling_24_to_36M_Forecast_Distribution] AS [Rolling_24_to_36M_Forecast_Distribution], 
        [Extent1].[Forecast_Yr1_Dividend_Yield_Relative] AS [Forecast_Yr1_Dividend_Yield_Relative], 
        [Extent1].[Market_Historic_Yield] AS [Market_Historic_Yield], 
        [Extent1].[Market_Forward_Yield] AS [Market_Forward_Yield], 
        [Extent1].[Historic_Distribution_PriceCurr] AS [Historic_Distribution_PriceCurr], 
        [Extent1].[Forecast_Distribution_Yr1_PriceCurr] AS [Forecast_Distribution_Yr1_PriceCurr], 
        [Extent1].[Forecast_Distribution_Yr2_PriceCurr] AS [Forecast_Distribution_Yr2_PriceCurr], 
        [Extent1].[Forecast_Distribution_Yr3_PriceCurr] AS [Forecast_Distribution_Yr3_PriceCurr], 
        [Extent1].[Rolling_12M_Forecast_Distribution_PriceCurr] AS [Rolling_12M_Forecast_Distribution_PriceCurr], 
        [Extent1].[Rolling_12_24M_Forecast_Distribution_PriceCurr] AS [Rolling_12_24M_Forecast_Distribution_PriceCurr], 
        [Extent1].[Rolling_24_36M_Forecast_Distribution_PriceCurr] AS [Rolling_24_36M_Forecast_Distribution_PriceCurr], 
        [Extent1].[Distribution_Growth_Forecast_Yr4] AS [Distribution_Growth_Forecast_Yr4], 
        [Extent1].[Earnings_Forecast_Yr4] AS [Earnings_Forecast_Yr4], 
        [Extent1].[Forecast_Distribution_Yr4] AS [Forecast_Distribution_Yr4], 
        [Extent1].[Forecast_Distribution_Yr4_PriceCurr] AS [Forecast_Distribution_Yr4_PriceCurr], 
        [Extent2].[Security_ID] AS [Security_ID1], 
        [Extent2].[Entity_ID] AS [Entity_ID1], 
        [Extent2].[Security_Name] AS [Security_Name], 
        [Extent2].[Short_Name] AS [Short_Name], 
        [Extent2].[Primary_Exch] AS [Primary_Exch], 
        [Extent2].[Secondary_Exch] AS [Secondary_Exch], 
        [Extent2].[Country_Of_Domicile] AS [Country_Of_Domicile], 
        [Extent2].[Country_Of_Risk] AS [Country_Of_Risk], 
        [Extent2].[Security_Type_Code] AS [Security_Type_Code], 
        [Extent2].[Price_Multiplier] AS [Price_Multiplier], 
        [Extent2].[Income_Frequency] AS [Income_Frequency], 
        [Extent2].[Issuer_Code] AS [Issuer_Code], 
        [Extent2].[Ultimate_Issuer_Code] AS [Ultimate_Issuer_Code], 
        [Extent2].[Asset_Currency] AS [Asset_Currency], 
        [Extent2].[Min_Lot_Size] AS [Min_Lot_Size], 
        [Extent2].[Decimal_Precision] AS [Decimal_Precision], 
        [Extent2].[AvePrice_Rounding] AS [AvePrice_Rounding], 
        [Extent2].[Issue_Date] AS [Issue_Date], 
        [Extent2].[Maturity_Date] AS [Maturity_Date], 
        [Extent2].[Coupon_Rate] AS [Coupon_Rate], 
        [Extent2].[Price_Exchange] AS [Price_Exchange], 
        [Extent2].[Trade_Currency] AS [Trade_Currency], 
        [Extent2].[Price_Curr] AS [Price_Curr], 
        [Extent2].[Currency_Pair_Code] AS [Currency_Pair_Code], 
        [Extent2].[Share_Class] AS [Share_Class], 
        [Extent2].[Current_Market_Price] AS [Current_Market_Price], 
        [Extent2].[Index_Type] AS [Index_Type], 
        [Extent2].[Clean_Price_Formula] AS [Clean_Price_Formula], 
        [Extent2].[Accrued_Income_Price_Formula] AS [Accrued_Income_Price_Formula], 
        [Extent2].[Odd_First_Coupon_Date] AS [Odd_First_Coupon_Date], 
        [Extent2].[Odd_Last_Coupon_Date] AS [Odd_Last_Coupon_Date], 
        [Extent2].[Coupon_Anniversary_Indicator] AS [Coupon_Anniversary_Indicator], 
        [Extent2].[Track_EOM_Flag] AS [Track_EOM_Flag], 
        [Extent2].[Next_Coupon_Date] AS [Next_Coupon_Date], 
        [Extent2].[Previous_Coupon_Date] AS [Previous_Coupon_Date], 
        [Extent2].[Payment_Frequency] AS [Payment_Frequency], 
        [Extent2].[Coupon_BusDay_Adjustment] AS [Coupon_BusDay_Adjustment], 
        [Extent2].[Next_Ex_Div_Date] AS [Next_Ex_Div_Date], 
        [Extent2].[Ex_Div_BusDay_Adjustment] AS [Ex_Div_BusDay_Adjustment], 
        [Extent2].[Ex_Div_Period] AS [Ex_Div_Period], 
        [Extent2].[Ticker] AS [Ticker], 
        [Extent2].[Inet_ID] AS [Inet_ID], 
        [Extent2].[Bloomberg_ID] AS [Bloomberg_ID], 
        [Extent2].[External_Sec_ID] AS [External_Sec_ID], 
        [Extent2].[Reuters_ID] AS [Reuters_ID], 
        [Extent2].[ISIN] AS [ISIN], 
        [Extent2].[Call_Account_Flag] AS [Call_Account_Flag], 
        [Extent2].[System_Locked] AS [System_Locked], 
        [Extent2].[Last_Update_User] AS [Last_Update_User1], 
        [Extent2].[Last_Update_Date] AS [Last_Update_Date1], 
        [Extent2].[Security_Status] AS [Security_Status], 
        [Extent2].[Benchmark_Portfolio] AS [Benchmark_Portfolio], 
        [Extent2].[Active_flag] AS [Active_flag], 
        [Extent2].[Dividend_FX_Security_ID] AS [Dividend_FX_Security_ID]
        FROM  [dbo].[Security_Analytics_History] AS [Extent1]
        INNER JOIN [dbo].[Security_Detail] AS [Extent2] ON [Extent1].[Security_ID] = [Extent2].[Security_ID]
        WHERE [Extent1].[Security_ID] = @p__linq__0
    )  AS [Project1]
    ORDER BY [Project1].[Record_Date] DESC
2018-04-07 17:59:44.2915|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: SELECT 
    [Project1].[Decimal_Precision] AS [Decimal_Precision], 
    [Project1].[Entity_ID] AS [Entity_ID], 
    [Project1].[Security_ID] AS [Security_ID], 
    [Project1].[Issued_Amount] AS [Issued_Amount], 
    [Project1].[Market_Capitalisation] AS [Market_Capitalisation], 
    [Project1].[Risk_Premium] AS [Risk_Premium], 
    [Project1].[Exit_Price] AS [Exit_Price], 
    [Project1].[Total_Return_ME_1YR] AS [Total_Return_ME_1YR], 
    [Project1].[Total_Return_ME_2YR] AS [Total_Return_ME_2YR], 
    [Project1].[Total_Return_ME_3YR] AS [Total_Return_ME_3YR], 
    [Project1].[Historic_Distribution] AS [Historic_Distribution], 
    [Project1].[Distribution_Growth_Forecast_Yr1] AS [Distribution_Growth_Forecast_Yr1], 
    [Project1].[Distribution_Growth_Forecast_Yr2] AS [Distribution_Growth_Forecast_Yr2], 
    [Project1].[Distribution_Growth_Forecast_Yr3] AS [Distribution_Growth_Forecast_Yr3], 
    [Project1].[Forecast_Distribution_Yr1] AS [Forecast_Distribution_Yr1], 
    [Project1].[Forecast_Distribution_Yr2] AS [Forecast_Distribution_Yr2], 
    [Project1].[Forecast_Distribution_Yr3] AS [Forecast_Distribution_Yr3], 
    [Project1].[Earnings_Growth_Compounded] AS [Earnings_Growth_Compounded], 
    [Project1].[Earnings_Forecast_Yr3] AS [Earnings_Forecast_Yr3], 
    [Project1].[Historic_Dividend_Yield_FYE] AS [Historic_Dividend_Yield_FYE], 
    [Project1].[Forward_Dividend_Yield_FYE] AS [Forward_Dividend_Yield_FYE], 
    [Project1].[Yr3_Forward_Dividend_Yield] AS [Yr3_Forward_Dividend_Yield], 
    [Project1].[Rolling_12M_Forward_Yield] AS [Rolling_12M_Forward_Yield], 
    [Project1].[Historical_Earnings_FYE] AS [Historical_Earnings_FYE], 
    [Project1].[Earnings_Forecast_Yr1] AS [Earnings_Forecast_Yr1], 
    [Project1].[Earnings_Forecast_Yr2] AS [Earnings_Forecast_Yr2], 
    [Project1].[Historic_Dividend_Yield_Relative] AS [Historic_Dividend_Yield_Relative], 
    [Project1].[Rolling_12M_Historic_Distribution_PriceCurr] AS [Rolling_12M_Historic_Distribution_PriceCurr], 
    [Project1].[Short_Term_Market_Rerate] AS [Short_Term_Market_Rerate], 
    [Project1].[Forecast_12M_Total_Return] AS [Forecast_12M_Total_Return], 
    [Project1].[Clean_Price] AS [Clean_Price], 
    [Project1].[Rolling_Dividend_Yield_Historic] AS [Rolling_Dividend_Yield_Historic], 
    [Project1].[Last_Update_Date] AS [Last_Update_Date], 
    [Project1].[Last_Update_User] AS [Last_Update_User], 
    [Project1].[Discount_Security_ID] AS [Discount_Security_ID], 
    [Project1].[Net_Present_Value] AS [Net_Present_Value], 
    [Project1].[Forecast_Rolling_Custom_Income] AS [Forecast_Rolling_Custom_Income], 
    [Project1].[Custom_Period] AS [Custom_Period], 
    [Project1].[Rolling_12M_Historic_Distribution] AS [Rolling_12M_Historic_Distribution], 
    [Project1].[Record_Date] AS [Record_Date], 
    [Project1].[Session_ID] AS [Session_ID], 
    [Project1].[Hist_Last_Update_Date] AS [Hist_Last_Update_Date], 
    [Project1].[Hist_Last_Update_User] AS [Hist_Last_Update_User], 
    [Project1].[Rolling_12M_Forecast_Distribution] AS [Rolling_12M_Forecast_Distribution], 
    [Project1].[Yr2_Forward_Dividend_Yield] AS [Yr2_Forward_Dividend_Yield], 
    [Project1].[Exit_Yield] AS [Exit_Yield], 
    [Project1].[Discount_Rate] AS [Discount_Rate], 
    [Project1].[Distribution_Growth_Compounded] AS [Distribution_Growth_Compounded], 
    [Project1].[Forecast_12MRolling_Income_Accrual] AS [Forecast_12MRolling_Income_Accrual], 
    [Project1].[Rolling_12_to_24M_Forecast_Distribution] AS [Rolling_12_to_24M_Forecast_Distribution], 
    [Project1].[Rolling_24_to_36M_Forecast_Distribution] AS [Rolling_24_to_36M_Forecast_Distribution], 
    [Project1].[Forecast_Yr1_Dividend_Yield_Relative] AS [Forecast_Yr1_Dividend_Yield_Relative], 
    [Project1].[Market_Historic_Yield] AS [Market_Historic_Yield], 
    [Project1].[Market_Forward_Yield] AS [Market_Forward_Yield], 
    [Project1].[Historic_Distribution_PriceCurr] AS [Historic_Distribution_PriceCurr], 
    [Project1].[Forecast_Distribution_Yr1_PriceCurr] AS [Forecast_Distribution_Yr1_PriceCurr], 
    [Project1].[Forecast_Distribution_Yr2_PriceCurr] AS [Forecast_Distribution_Yr2_PriceCurr], 
    [Project1].[Forecast_Distribution_Yr3_PriceCurr] AS [Forecast_Distribution_Yr3_PriceCurr], 
    [Project1].[Rolling_12M_Forecast_Distribution_PriceCurr] AS [Rolling_12M_Forecast_Distribution_PriceCurr], 
    [Project1].[Rolling_12_24M_Forecast_Distribution_PriceCurr] AS [Rolling_12_24M_Forecast_Distribution_PriceCurr], 
    [Project1].[Rolling_24_36M_Forecast_Distribution_PriceCurr] AS [Rolling_24_36M_Forecast_Distribution_PriceCurr], 
    [Project1].[Distribution_Growth_Forecast_Yr4] AS [Distribution_Growth_Forecast_Yr4], 
    [Project1].[Earnings_Forecast_Yr4] AS [Earnings_Forecast_Yr4], 
    [Project1].[Forecast_Distribution_Yr4] AS [Forecast_Distribution_Yr4], 
    [Project1].[Forecast_Distribution_Yr4_PriceCurr] AS [Forecast_Distribution_Yr4_PriceCurr], 
    [Project1].[Security_ID1] AS [Security_ID1], 
    [Project1].[Entity_ID1] AS [Entity_ID1], 
    [Project1].[Security_Name] AS [Security_Name], 
    [Project1].[Short_Name] AS [Short_Name], 
    [Project1].[Primary_Exch] AS [Primary_Exch], 
    [Project1].[Secondary_Exch] AS [Secondary_Exch], 
    [Project1].[Country_Of_Domicile] AS [Country_Of_Domicile], 
    [Project1].[Country_Of_Risk] AS [Country_Of_Risk], 
    [Project1].[Security_Type_Code] AS [Security_Type_Code], 
    [Project1].[Price_Multiplier] AS [Price_Multiplier], 
    [Project1].[Income_Frequency] AS [Income_Frequency], 
    [Project1].[Issuer_Code] AS [Issuer_Code], 
    [Project1].[Ultimate_Issuer_Code] AS [Ultimate_Issuer_Code], 
    [Project1].[Asset_Currency] AS [Asset_Currency], 
    [Project1].[Min_Lot_Size] AS [Min_Lot_Size], 
    [Project1].[AvePrice_Rounding] AS [AvePrice_Rounding], 
    [Project1].[Issue_Date] AS [Issue_Date], 
    [Project1].[Maturity_Date] AS [Maturity_Date], 
    [Project1].[Coupon_Rate] AS [Coupon_Rate], 
    [Project1].[Price_Exchange] AS [Price_Exchange], 
    [Project1].[Trade_Currency] AS [Trade_Currency], 
    [Project1].[Price_Curr] AS [Price_Curr], 
    [Project1].[Currency_Pair_Code] AS [Currency_Pair_Code], 
    [Project1].[Share_Class] AS [Share_Class], 
    [Project1].[Current_Market_Price] AS [Current_Market_Price], 
    [Project1].[Index_Type] AS [Index_Type], 
    [Project1].[Clean_Price_Formula] AS [Clean_Price_Formula], 
    [Project1].[Accrued_Income_Price_Formula] AS [Accrued_Income_Price_Formula], 
    [Project1].[Odd_First_Coupon_Date] AS [Odd_First_Coupon_Date], 
    [Project1].[Odd_Last_Coupon_Date] AS [Odd_Last_Coupon_Date], 
    [Project1].[Coupon_Anniversary_Indicator] AS [Coupon_Anniversary_Indicator], 
    [Project1].[Track_EOM_Flag] AS [Track_EOM_Flag], 
    [Project1].[Next_Coupon_Date] AS [Next_Coupon_Date], 
    [Project1].[Previous_Coupon_Date] AS [Previous_Coupon_Date], 
    [Project1].[Payment_Frequency] AS [Payment_Frequency], 
    [Project1].[Coupon_BusDay_Adjustment] AS [Coupon_BusDay_Adjustment], 
    [Project1].[Next_Ex_Div_Date] AS [Next_Ex_Div_Date], 
    [Project1].[Ex_Div_BusDay_Adjustment] AS [Ex_Div_BusDay_Adjustment], 
    [Project1].[Ex_Div_Period] AS [Ex_Div_Period], 
    [Project1].[Ticker] AS [Ticker], 
    [Project1].[Inet_ID] AS [Inet_ID], 
    [Project1].[Bloomberg_ID] AS [Bloomberg_ID], 
    [Project1].[External_Sec_ID] AS [External_Sec_ID], 
    [Project1].[Reuters_ID] AS [Reuters_ID], 
    [Project1].[ISIN] AS [ISIN], 
    [Project1].[Call_Account_Flag] AS [Call_Account_Flag], 
    [Project1].[System_Locked] AS [System_Locked], 
    [Project1].[Last_Update_User1] AS [Last_Update_User1], 
    [Project1].[Last_Update_Date1] AS [Last_Update_Date1], 
    [Project1].[Security_Status] AS [Security_Status], 
    [Project1].[Benchmark_Portfolio] AS [Benchmark_Portfolio], 
    [Project1].[Active_flag] AS [Active_flag], 
    [Project1].[Dividend_FX_Security_ID] AS [Dividend_FX_Security_ID]
    FROM ( SELECT 
        [Extent1].[Entity_ID] AS [Entity_ID], 
        [Extent1].[Security_ID] AS [Security_ID], 
        [Extent1].[Issued_Amount] AS [Issued_Amount], 
        [Extent1].[Market_Capitalisation] AS [Market_Capitalisation], 
        [Extent1].[Risk_Premium] AS [Risk_Premium], 
        [Extent1].[Exit_Price] AS [Exit_Price], 
        [Extent1].[Total_Return_ME_1YR] AS [Total_Return_ME_1YR], 
        [Extent1].[Total_Return_ME_2YR] AS [Total_Return_ME_2YR], 
        [Extent1].[Total_Return_ME_3YR] AS [Total_Return_ME_3YR], 
        [Extent1].[Historic_Distribution] AS [Historic_Distribution], 
        [Extent1].[Distribution_Growth_Forecast_Yr1] AS [Distribution_Growth_Forecast_Yr1], 
        [Extent1].[Distribution_Growth_Forecast_Yr2] AS [Distribution_Growth_Forecast_Yr2], 
        [Extent1].[Distribution_Growth_Forecast_Yr3] AS [Distribution_Growth_Forecast_Yr3], 
        [Extent1].[Forecast_Distribution_Yr1] AS [Forecast_Distribution_Yr1], 
        [Extent1].[Forecast_Distribution_Yr2] AS [Forecast_Distribution_Yr2], 
        [Extent1].[Forecast_Distribution_Yr3] AS [Forecast_Distribution_Yr3], 
        [Extent1].[Earnings_Growth_Compounded] AS [Earnings_Growth_Compounded], 
        [Extent1].[Earnings_Forecast_Yr3] AS [Earnings_Forecast_Yr3], 
        [Extent1].[Historic_Dividend_Yield_FYE] AS [Historic_Dividend_Yield_FYE], 
        [Extent1].[Forward_Dividend_Yield_FYE] AS [Forward_Dividend_Yield_FYE], 
        [Extent1].[Yr3_Forward_Dividend_Yield] AS [Yr3_Forward_Dividend_Yield], 
        [Extent1].[Rolling_12M_Forward_Yield] AS [Rolling_12M_Forward_Yield], 
        [Extent1].[Historical_Earnings_FYE] AS [Historical_Earnings_FYE], 
        [Extent1].[Earnings_Forecast_Yr1] AS [Earnings_Forecast_Yr1], 
        [Extent1].[Earnings_Forecast_Yr2] AS [Earnings_Forecast_Yr2], 
        [Extent1].[Historic_Dividend_Yield_Relative] AS [Historic_Dividend_Yield_Relative], 
        [Extent1].[Rolling_12M_Historic_Distribution_PriceCurr] AS [Rolling_12M_Historic_Distribution_PriceCurr], 
        [Extent1].[Short_Term_Market_Rerate] AS [Short_Term_Market_Rerate], 
        [Extent1].[Forecast_12M_Total_Return] AS [Forecast_12M_Total_Return], 
        [Extent1].[Clean_Price] AS [Clean_Price], 
        [Extent1].[Rolling_Dividend_Yield_Historic] AS [Rolling_Dividend_Yield_Historic], 
        [Extent1].[Last_Update_Date] AS [Last_Update_Date], 
        [Extent1].[Last_Update_User] AS [Last_Update_User], 
        [Extent1].[Discount_Security_ID] AS [Discount_Security_ID], 
        [Extent1].[Net_Present_Value] AS [Net_Present_Value], 
        [Extent1].[Forecast_Rolling_Custom_Income] AS [Forecast_Rolling_Custom_Income], 
        [Extent1].[Custom_Period] AS [Custom_Period], 
        [Extent1].[Rolling_12M_Historic_Distribution] AS [Rolling_12M_Historic_Distribution], 
        [Extent1].[Record_Date] AS [Record_Date], 
        [Extent1].[Session_ID] AS [Session_ID], 
        [Extent1].[Hist_Last_Update_Date] AS [Hist_Last_Update_Date], 
        [Extent1].[Hist_Last_Update_User] AS [Hist_Last_Update_User], 
        [Extent1].[Rolling_12M_Forecast_Distribution] AS [Rolling_12M_Forecast_Distribution], 
        [Extent1].[Yr2_Forward_Dividend_Yield] AS [Yr2_Forward_Dividend_Yield], 
        [Extent1].[Exit_Yield] AS [Exit_Yield], 
        [Extent1].[Discount_Rate] AS [Discount_Rate], 
        [Extent1].[Distribution_Growth_Compounded] AS [Distribution_Growth_Compounded], 
        [Extent1].[Forecast_12MRolling_Income_Accrual] AS [Forecast_12MRolling_Income_Accrual], 
        [Extent1].[Rolling_12_to_24M_Forecast_Distribution] AS [Rolling_12_to_24M_Forecast_Distribution], 
        [Extent1].[Rolling_24_to_36M_Forecast_Distribution] AS [Rolling_24_to_36M_Forecast_Distribution], 
        [Extent1].[Forecast_Yr1_Dividend_Yield_Relative] AS [Forecast_Yr1_Dividend_Yield_Relative], 
        [Extent1].[Market_Historic_Yield] AS [Market_Historic_Yield], 
        [Extent1].[Market_Forward_Yield] AS [Market_Forward_Yield], 
        [Extent1].[Historic_Distribution_PriceCurr] AS [Historic_Distribution_PriceCurr], 
        [Extent1].[Forecast_Distribution_Yr1_PriceCurr] AS [Forecast_Distribution_Yr1_PriceCurr], 
        [Extent1].[Forecast_Distribution_Yr2_PriceCurr] AS [Forecast_Distribution_Yr2_PriceCurr], 
        [Extent1].[Forecast_Distribution_Yr3_PriceCurr] AS [Forecast_Distribution_Yr3_PriceCurr], 
        [Extent1].[Rolling_12M_Forecast_Distribution_PriceCurr] AS [Rolling_12M_Forecast_Distribution_PriceCurr], 
        [Extent1].[Rolling_12_24M_Forecast_Distribution_PriceCurr] AS [Rolling_12_24M_Forecast_Distribution_PriceCurr], 
        [Extent1].[Rolling_24_36M_Forecast_Distribution_PriceCurr] AS [Rolling_24_36M_Forecast_Distribution_PriceCurr], 
        [Extent1].[Distribution_Growth_Forecast_Yr4] AS [Distribution_Growth_Forecast_Yr4], 
        [Extent1].[Earnings_Forecast_Yr4] AS [Earnings_Forecast_Yr4], 
        [Extent1].[Forecast_Distribution_Yr4] AS [Forecast_Distribution_Yr4], 
        [Extent1].[Forecast_Distribution_Yr4_PriceCurr] AS [Forecast_Distribution_Yr4_PriceCurr], 
        [Extent2].[Security_ID] AS [Security_ID1], 
        [Extent2].[Entity_ID] AS [Entity_ID1], 
        [Extent2].[Security_Name] AS [Security_Name], 
        [Extent2].[Short_Name] AS [Short_Name], 
        [Extent2].[Primary_Exch] AS [Primary_Exch], 
        [Extent2].[Secondary_Exch] AS [Secondary_Exch], 
        [Extent2].[Country_Of_Domicile] AS [Country_Of_Domicile], 
        [Extent2].[Country_Of_Risk] AS [Country_Of_Risk], 
        [Extent2].[Security_Type_Code] AS [Security_Type_Code], 
        [Extent2].[Price_Multiplier] AS [Price_Multiplier], 
        [Extent2].[Income_Frequency] AS [Income_Frequency], 
        [Extent2].[Issuer_Code] AS [Issuer_Code], 
        [Extent2].[Ultimate_Issuer_Code] AS [Ultimate_Issuer_Code], 
        [Extent2].[Asset_Currency] AS [Asset_Currency], 
        [Extent2].[Min_Lot_Size] AS [Min_Lot_Size], 
        [Extent2].[Decimal_Precision] AS [Decimal_Precision], 
        [Extent2].[AvePrice_Rounding] AS [AvePrice_Rounding], 
        [Extent2].[Issue_Date] AS [Issue_Date], 
        [Extent2].[Maturity_Date] AS [Maturity_Date], 
        [Extent2].[Coupon_Rate] AS [Coupon_Rate], 
        [Extent2].[Price_Exchange] AS [Price_Exchange], 
        [Extent2].[Trade_Currency] AS [Trade_Currency], 
        [Extent2].[Price_Curr] AS [Price_Curr], 
        [Extent2].[Currency_Pair_Code] AS [Currency_Pair_Code], 
        [Extent2].[Share_Class] AS [Share_Class], 
        [Extent2].[Current_Market_Price] AS [Current_Market_Price], 
        [Extent2].[Index_Type] AS [Index_Type], 
        [Extent2].[Clean_Price_Formula] AS [Clean_Price_Formula], 
        [Extent2].[Accrued_Income_Price_Formula] AS [Accrued_Income_Price_Formula], 
        [Extent2].[Odd_First_Coupon_Date] AS [Odd_First_Coupon_Date], 
        [Extent2].[Odd_Last_Coupon_Date] AS [Odd_Last_Coupon_Date], 
        [Extent2].[Coupon_Anniversary_Indicator] AS [Coupon_Anniversary_Indicator], 
        [Extent2].[Track_EOM_Flag] AS [Track_EOM_Flag], 
        [Extent2].[Next_Coupon_Date] AS [Next_Coupon_Date], 
        [Extent2].[Previous_Coupon_Date] AS [Previous_Coupon_Date], 
        [Extent2].[Payment_Frequency] AS [Payment_Frequency], 
        [Extent2].[Coupon_BusDay_Adjustment] AS [Coupon_BusDay_Adjustment], 
        [Extent2].[Next_Ex_Div_Date] AS [Next_Ex_Div_Date], 
        [Extent2].[Ex_Div_BusDay_Adjustment] AS [Ex_Div_BusDay_Adjustment], 
        [Extent2].[Ex_Div_Period] AS [Ex_Div_Period], 
        [Extent2].[Ticker] AS [Ticker], 
        [Extent2].[Inet_ID] AS [Inet_ID], 
        [Extent2].[Bloomberg_ID] AS [Bloomberg_ID], 
        [Extent2].[External_Sec_ID] AS [External_Sec_ID], 
        [Extent2].[Reuters_ID] AS [Reuters_ID], 
        [Extent2].[ISIN] AS [ISIN], 
        [Extent2].[Call_Account_Flag] AS [Call_Account_Flag], 
        [Extent2].[System_Locked] AS [System_Locked], 
        [Extent2].[Last_Update_User] AS [Last_Update_User1], 
        [Extent2].[Last_Update_Date] AS [Last_Update_Date1], 
        [Extent2].[Security_Status] AS [Security_Status], 
        [Extent2].[Benchmark_Portfolio] AS [Benchmark_Portfolio], 
        [Extent2].[Active_flag] AS [Active_flag], 
        [Extent2].[Dividend_FX_Security_ID] AS [Dividend_FX_Security_ID]
        FROM  [dbo].[Security_Analytics_History] AS [Extent1]
        INNER JOIN [dbo].[Security_Detail] AS [Extent2] ON [Extent1].[Security_ID] = [Extent2].[Security_ID]
        WHERE [Extent1].[Security_ID] = @p__linq__0
    )  AS [Project1]
    ORDER BY [Project1].[Record_Date] DESC
2018-04-07 17:59:44.4085|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: IF db_id(N'MetopeAzureDb') IS NOT NULL SELECT 1 ELSE SELECT Count(*) FROM sys.databases WHERE [name]=N'MetopeAzureDb'
2018-04-07 17:59:44.5446|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: IF db_id(N'MetopeAzureDb') IS NOT NULL SELECT 1 ELSE SELECT Count(*) FROM sys.databases WHERE [name]=N'MetopeAzureDb'
2018-04-07 17:59:44.6747|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: IF db_id(N'MetopeAzureDb') IS NOT NULL SELECT 1 ELSE SELECT Count(*) FROM sys.databases WHERE [name]=N'MetopeAzureDb'
2018-04-07 17:59:44.7138|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: IF db_id(N'MetopeAzureDb') IS NOT NULL SELECT 1 ELSE SELECT Count(*) FROM sys.databases WHERE [name]=N'MetopeAzureDb'
2018-04-07 18:00:01.6576|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: SELECT 
    [Project1].[Decimal_Precision] AS [Decimal_Precision], 
    [Project1].[Entity_ID] AS [Entity_ID], 
    [Project1].[Security_ID] AS [Security_ID], 
    [Project1].[Issued_Amount] AS [Issued_Amount], 
    [Project1].[Market_Capitalisation] AS [Market_Capitalisation], 
    [Project1].[Risk_Premium] AS [Risk_Premium], 
    [Project1].[Exit_Price] AS [Exit_Price], 
    [Project1].[Total_Return_ME_1YR] AS [Total_Return_ME_1YR], 
    [Project1].[Total_Return_ME_2YR] AS [Total_Return_ME_2YR], 
    [Project1].[Total_Return_ME_3YR] AS [Total_Return_ME_3YR], 
    [Project1].[Historic_Distribution] AS [Historic_Distribution], 
    [Project1].[Distribution_Growth_Forecast_Yr1] AS [Distribution_Growth_Forecast_Yr1], 
    [Project1].[Distribution_Growth_Forecast_Yr2] AS [Distribution_Growth_Forecast_Yr2], 
    [Project1].[Distribution_Growth_Forecast_Yr3] AS [Distribution_Growth_Forecast_Yr3], 
    [Project1].[Forecast_Distribution_Yr1] AS [Forecast_Distribution_Yr1], 
    [Project1].[Forecast_Distribution_Yr2] AS [Forecast_Distribution_Yr2], 
    [Project1].[Forecast_Distribution_Yr3] AS [Forecast_Distribution_Yr3], 
    [Project1].[Earnings_Growth_Compounded] AS [Earnings_Growth_Compounded], 
    [Project1].[Earnings_Forecast_Yr3] AS [Earnings_Forecast_Yr3], 
    [Project1].[Historic_Dividend_Yield_FYE] AS [Historic_Dividend_Yield_FYE], 
    [Project1].[Forward_Dividend_Yield_FYE] AS [Forward_Dividend_Yield_FYE], 
    [Project1].[Yr3_Forward_Dividend_Yield] AS [Yr3_Forward_Dividend_Yield], 
    [Project1].[Rolling_12M_Forward_Yield] AS [Rolling_12M_Forward_Yield], 
    [Project1].[Historical_Earnings_FYE] AS [Historical_Earnings_FYE], 
    [Project1].[Earnings_Forecast_Yr1] AS [Earnings_Forecast_Yr1], 
    [Project1].[Earnings_Forecast_Yr2] AS [Earnings_Forecast_Yr2], 
    [Project1].[Historic_Dividend_Yield_Relative] AS [Historic_Dividend_Yield_Relative], 
    [Project1].[Rolling_12M_Historic_Distribution_PriceCurr] AS [Rolling_12M_Historic_Distribution_PriceCurr], 
    [Project1].[Short_Term_Market_Rerate] AS [Short_Term_Market_Rerate], 
    [Project1].[Forecast_12M_Total_Return] AS [Forecast_12M_Total_Return], 
    [Project1].[Clean_Price] AS [Clean_Price], 
    [Project1].[Rolling_Dividend_Yield_Historic] AS [Rolling_Dividend_Yield_Historic], 
    [Project1].[Last_Update_Date] AS [Last_Update_Date], 
    [Project1].[Last_Update_User] AS [Last_Update_User], 
    [Project1].[Discount_Security_ID] AS [Discount_Security_ID], 
    [Project1].[Net_Present_Value] AS [Net_Present_Value], 
    [Project1].[Forecast_Rolling_Custom_Income] AS [Forecast_Rolling_Custom_Income], 
    [Project1].[Custom_Period] AS [Custom_Period], 
    [Project1].[Rolling_12M_Historic_Distribution] AS [Rolling_12M_Historic_Distribution], 
    [Project1].[Record_Date] AS [Record_Date], 
    [Project1].[Session_ID] AS [Session_ID], 
    [Project1].[Hist_Last_Update_Date] AS [Hist_Last_Update_Date], 
    [Project1].[Hist_Last_Update_User] AS [Hist_Last_Update_User], 
    [Project1].[Rolling_12M_Forecast_Distribution] AS [Rolling_12M_Forecast_Distribution], 
    [Project1].[Yr2_Forward_Dividend_Yield] AS [Yr2_Forward_Dividend_Yield], 
    [Project1].[Exit_Yield] AS [Exit_Yield], 
    [Project1].[Discount_Rate] AS [Discount_Rate], 
    [Project1].[Distribution_Growth_Compounded] AS [Distribution_Growth_Compounded], 
    [Project1].[Forecast_12MRolling_Income_Accrual] AS [Forecast_12MRolling_Income_Accrual], 
    [Project1].[Rolling_12_to_24M_Forecast_Distribution] AS [Rolling_12_to_24M_Forecast_Distribution], 
    [Project1].[Rolling_24_to_36M_Forecast_Distribution] AS [Rolling_24_to_36M_Forecast_Distribution], 
    [Project1].[Forecast_Yr1_Dividend_Yield_Relative] AS [Forecast_Yr1_Dividend_Yield_Relative], 
    [Project1].[Market_Historic_Yield] AS [Market_Historic_Yield], 
    [Project1].[Market_Forward_Yield] AS [Market_Forward_Yield], 
    [Project1].[Historic_Distribution_PriceCurr] AS [Historic_Distribution_PriceCurr], 
    [Project1].[Forecast_Distribution_Yr1_PriceCurr] AS [Forecast_Distribution_Yr1_PriceCurr], 
    [Project1].[Forecast_Distribution_Yr2_PriceCurr] AS [Forecast_Distribution_Yr2_PriceCurr], 
    [Project1].[Forecast_Distribution_Yr3_PriceCurr] AS [Forecast_Distribution_Yr3_PriceCurr], 
    [Project1].[Rolling_12M_Forecast_Distribution_PriceCurr] AS [Rolling_12M_Forecast_Distribution_PriceCurr], 
    [Project1].[Rolling_12_24M_Forecast_Distribution_PriceCurr] AS [Rolling_12_24M_Forecast_Distribution_PriceCurr], 
    [Project1].[Rolling_24_36M_Forecast_Distribution_PriceCurr] AS [Rolling_24_36M_Forecast_Distribution_PriceCurr], 
    [Project1].[Distribution_Growth_Forecast_Yr4] AS [Distribution_Growth_Forecast_Yr4], 
    [Project1].[Earnings_Forecast_Yr4] AS [Earnings_Forecast_Yr4], 
    [Project1].[Forecast_Distribution_Yr4] AS [Forecast_Distribution_Yr4], 
    [Project1].[Forecast_Distribution_Yr4_PriceCurr] AS [Forecast_Distribution_Yr4_PriceCurr], 
    [Project1].[Security_ID1] AS [Security_ID1], 
    [Project1].[Entity_ID1] AS [Entity_ID1], 
    [Project1].[Security_Name] AS [Security_Name], 
    [Project1].[Short_Name] AS [Short_Name], 
    [Project1].[Primary_Exch] AS [Primary_Exch], 
    [Project1].[Secondary_Exch] AS [Secondary_Exch], 
    [Project1].[Country_Of_Domicile] AS [Country_Of_Domicile], 
    [Project1].[Country_Of_Risk] AS [Country_Of_Risk], 
    [Project1].[Security_Type_Code] AS [Security_Type_Code], 
    [Project1].[Price_Multiplier] AS [Price_Multiplier], 
    [Project1].[Income_Frequency] AS [Income_Frequency], 
    [Project1].[Issuer_Code] AS [Issuer_Code], 
    [Project1].[Ultimate_Issuer_Code] AS [Ultimate_Issuer_Code], 
    [Project1].[Asset_Currency] AS [Asset_Currency], 
    [Project1].[Min_Lot_Size] AS [Min_Lot_Size], 
    [Project1].[AvePrice_Rounding] AS [AvePrice_Rounding], 
    [Project1].[Issue_Date] AS [Issue_Date], 
    [Project1].[Maturity_Date] AS [Maturity_Date], 
    [Project1].[Coupon_Rate] AS [Coupon_Rate], 
    [Project1].[Price_Exchange] AS [Price_Exchange], 
    [Project1].[Trade_Currency] AS [Trade_Currency], 
    [Project1].[Price_Curr] AS [Price_Curr], 
    [Project1].[Currency_Pair_Code] AS [Currency_Pair_Code], 
    [Project1].[Share_Class] AS [Share_Class], 
    [Project1].[Current_Market_Price] AS [Current_Market_Price], 
    [Project1].[Index_Type] AS [Index_Type], 
    [Project1].[Clean_Price_Formula] AS [Clean_Price_Formula], 
    [Project1].[Accrued_Income_Price_Formula] AS [Accrued_Income_Price_Formula], 
    [Project1].[Odd_First_Coupon_Date] AS [Odd_First_Coupon_Date], 
    [Project1].[Odd_Last_Coupon_Date] AS [Odd_Last_Coupon_Date], 
    [Project1].[Coupon_Anniversary_Indicator] AS [Coupon_Anniversary_Indicator], 
    [Project1].[Track_EOM_Flag] AS [Track_EOM_Flag], 
    [Project1].[Next_Coupon_Date] AS [Next_Coupon_Date], 
    [Project1].[Previous_Coupon_Date] AS [Previous_Coupon_Date], 
    [Project1].[Payment_Frequency] AS [Payment_Frequency], 
    [Project1].[Coupon_BusDay_Adjustment] AS [Coupon_BusDay_Adjustment], 
    [Project1].[Next_Ex_Div_Date] AS [Next_Ex_Div_Date], 
    [Project1].[Ex_Div_BusDay_Adjustment] AS [Ex_Div_BusDay_Adjustment], 
    [Project1].[Ex_Div_Period] AS [Ex_Div_Period], 
    [Project1].[Ticker] AS [Ticker], 
    [Project1].[Inet_ID] AS [Inet_ID], 
    [Project1].[Bloomberg_ID] AS [Bloomberg_ID], 
    [Project1].[External_Sec_ID] AS [External_Sec_ID], 
    [Project1].[Reuters_ID] AS [Reuters_ID], 
    [Project1].[ISIN] AS [ISIN], 
    [Project1].[Call_Account_Flag] AS [Call_Account_Flag], 
    [Project1].[System_Locked] AS [System_Locked], 
    [Project1].[Last_Update_User1] AS [Last_Update_User1], 
    [Project1].[Last_Update_Date1] AS [Last_Update_Date1], 
    [Project1].[Security_Status] AS [Security_Status], 
    [Project1].[Benchmark_Portfolio] AS [Benchmark_Portfolio], 
    [Project1].[Active_flag] AS [Active_flag], 
    [Project1].[Dividend_FX_Security_ID] AS [Dividend_FX_Security_ID]
    FROM ( SELECT 
        [Extent1].[Entity_ID] AS [Entity_ID], 
        [Extent1].[Security_ID] AS [Security_ID], 
        [Extent1].[Issued_Amount] AS [Issued_Amount], 
        [Extent1].[Market_Capitalisation] AS [Market_Capitalisation], 
        [Extent1].[Risk_Premium] AS [Risk_Premium], 
        [Extent1].[Exit_Price] AS [Exit_Price], 
        [Extent1].[Total_Return_ME_1YR] AS [Total_Return_ME_1YR], 
        [Extent1].[Total_Return_ME_2YR] AS [Total_Return_ME_2YR], 
        [Extent1].[Total_Return_ME_3YR] AS [Total_Return_ME_3YR], 
        [Extent1].[Historic_Distribution] AS [Historic_Distribution], 
        [Extent1].[Distribution_Growth_Forecast_Yr1] AS [Distribution_Growth_Forecast_Yr1], 
        [Extent1].[Distribution_Growth_Forecast_Yr2] AS [Distribution_Growth_Forecast_Yr2], 
        [Extent1].[Distribution_Growth_Forecast_Yr3] AS [Distribution_Growth_Forecast_Yr3], 
        [Extent1].[Forecast_Distribution_Yr1] AS [Forecast_Distribution_Yr1], 
        [Extent1].[Forecast_Distribution_Yr2] AS [Forecast_Distribution_Yr2], 
        [Extent1].[Forecast_Distribution_Yr3] AS [Forecast_Distribution_Yr3], 
        [Extent1].[Earnings_Growth_Compounded] AS [Earnings_Growth_Compounded], 
        [Extent1].[Earnings_Forecast_Yr3] AS [Earnings_Forecast_Yr3], 
        [Extent1].[Historic_Dividend_Yield_FYE] AS [Historic_Dividend_Yield_FYE], 
        [Extent1].[Forward_Dividend_Yield_FYE] AS [Forward_Dividend_Yield_FYE], 
        [Extent1].[Yr3_Forward_Dividend_Yield] AS [Yr3_Forward_Dividend_Yield], 
        [Extent1].[Rolling_12M_Forward_Yield] AS [Rolling_12M_Forward_Yield], 
        [Extent1].[Historical_Earnings_FYE] AS [Historical_Earnings_FYE], 
        [Extent1].[Earnings_Forecast_Yr1] AS [Earnings_Forecast_Yr1], 
        [Extent1].[Earnings_Forecast_Yr2] AS [Earnings_Forecast_Yr2], 
        [Extent1].[Historic_Dividend_Yield_Relative] AS [Historic_Dividend_Yield_Relative], 
        [Extent1].[Rolling_12M_Historic_Distribution_PriceCurr] AS [Rolling_12M_Historic_Distribution_PriceCurr], 
        [Extent1].[Short_Term_Market_Rerate] AS [Short_Term_Market_Rerate], 
        [Extent1].[Forecast_12M_Total_Return] AS [Forecast_12M_Total_Return], 
        [Extent1].[Clean_Price] AS [Clean_Price], 
        [Extent1].[Rolling_Dividend_Yield_Historic] AS [Rolling_Dividend_Yield_Historic], 
        [Extent1].[Last_Update_Date] AS [Last_Update_Date], 
        [Extent1].[Last_Update_User] AS [Last_Update_User], 
        [Extent1].[Discount_Security_ID] AS [Discount_Security_ID], 
        [Extent1].[Net_Present_Value] AS [Net_Present_Value], 
        [Extent1].[Forecast_Rolling_Custom_Income] AS [Forecast_Rolling_Custom_Income], 
        [Extent1].[Custom_Period] AS [Custom_Period], 
        [Extent1].[Rolling_12M_Historic_Distribution] AS [Rolling_12M_Historic_Distribution], 
        [Extent1].[Record_Date] AS [Record_Date], 
        [Extent1].[Session_ID] AS [Session_ID], 
        [Extent1].[Hist_Last_Update_Date] AS [Hist_Last_Update_Date], 
        [Extent1].[Hist_Last_Update_User] AS [Hist_Last_Update_User], 
        [Extent1].[Rolling_12M_Forecast_Distribution] AS [Rolling_12M_Forecast_Distribution], 
        [Extent1].[Yr2_Forward_Dividend_Yield] AS [Yr2_Forward_Dividend_Yield], 
        [Extent1].[Exit_Yield] AS [Exit_Yield], 
        [Extent1].[Discount_Rate] AS [Discount_Rate], 
        [Extent1].[Distribution_Growth_Compounded] AS [Distribution_Growth_Compounded], 
        [Extent1].[Forecast_12MRolling_Income_Accrual] AS [Forecast_12MRolling_Income_Accrual], 
        [Extent1].[Rolling_12_to_24M_Forecast_Distribution] AS [Rolling_12_to_24M_Forecast_Distribution], 
        [Extent1].[Rolling_24_to_36M_Forecast_Distribution] AS [Rolling_24_to_36M_Forecast_Distribution], 
        [Extent1].[Forecast_Yr1_Dividend_Yield_Relative] AS [Forecast_Yr1_Dividend_Yield_Relative], 
        [Extent1].[Market_Historic_Yield] AS [Market_Historic_Yield], 
        [Extent1].[Market_Forward_Yield] AS [Market_Forward_Yield], 
        [Extent1].[Historic_Distribution_PriceCurr] AS [Historic_Distribution_PriceCurr], 
        [Extent1].[Forecast_Distribution_Yr1_PriceCurr] AS [Forecast_Distribution_Yr1_PriceCurr], 
        [Extent1].[Forecast_Distribution_Yr2_PriceCurr] AS [Forecast_Distribution_Yr2_PriceCurr], 
        [Extent1].[Forecast_Distribution_Yr3_PriceCurr] AS [Forecast_Distribution_Yr3_PriceCurr], 
        [Extent1].[Rolling_12M_Forecast_Distribution_PriceCurr] AS [Rolling_12M_Forecast_Distribution_PriceCurr], 
        [Extent1].[Rolling_12_24M_Forecast_Distribution_PriceCurr] AS [Rolling_12_24M_Forecast_Distribution_PriceCurr], 
        [Extent1].[Rolling_24_36M_Forecast_Distribution_PriceCurr] AS [Rolling_24_36M_Forecast_Distribution_PriceCurr], 
        [Extent1].[Distribution_Growth_Forecast_Yr4] AS [Distribution_Growth_Forecast_Yr4], 
        [Extent1].[Earnings_Forecast_Yr4] AS [Earnings_Forecast_Yr4], 
        [Extent1].[Forecast_Distribution_Yr4] AS [Forecast_Distribution_Yr4], 
        [Extent1].[Forecast_Distribution_Yr4_PriceCurr] AS [Forecast_Distribution_Yr4_PriceCurr], 
        [Extent2].[Security_ID] AS [Security_ID1], 
        [Extent2].[Entity_ID] AS [Entity_ID1], 
        [Extent2].[Security_Name] AS [Security_Name], 
        [Extent2].[Short_Name] AS [Short_Name], 
        [Extent2].[Primary_Exch] AS [Primary_Exch], 
        [Extent2].[Secondary_Exch] AS [Secondary_Exch], 
        [Extent2].[Country_Of_Domicile] AS [Country_Of_Domicile], 
        [Extent2].[Country_Of_Risk] AS [Country_Of_Risk], 
        [Extent2].[Security_Type_Code] AS [Security_Type_Code], 
        [Extent2].[Price_Multiplier] AS [Price_Multiplier], 
        [Extent2].[Income_Frequency] AS [Income_Frequency], 
        [Extent2].[Issuer_Code] AS [Issuer_Code], 
        [Extent2].[Ultimate_Issuer_Code] AS [Ultimate_Issuer_Code], 
        [Extent2].[Asset_Currency] AS [Asset_Currency], 
        [Extent2].[Min_Lot_Size] AS [Min_Lot_Size], 
        [Extent2].[Decimal_Precision] AS [Decimal_Precision], 
        [Extent2].[AvePrice_Rounding] AS [AvePrice_Rounding], 
        [Extent2].[Issue_Date] AS [Issue_Date], 
        [Extent2].[Maturity_Date] AS [Maturity_Date], 
        [Extent2].[Coupon_Rate] AS [Coupon_Rate], 
        [Extent2].[Price_Exchange] AS [Price_Exchange], 
        [Extent2].[Trade_Currency] AS [Trade_Currency], 
        [Extent2].[Price_Curr] AS [Price_Curr], 
        [Extent2].[Currency_Pair_Code] AS [Currency_Pair_Code], 
        [Extent2].[Share_Class] AS [Share_Class], 
        [Extent2].[Current_Market_Price] AS [Current_Market_Price], 
        [Extent2].[Index_Type] AS [Index_Type], 
        [Extent2].[Clean_Price_Formula] AS [Clean_Price_Formula], 
        [Extent2].[Accrued_Income_Price_Formula] AS [Accrued_Income_Price_Formula], 
        [Extent2].[Odd_First_Coupon_Date] AS [Odd_First_Coupon_Date], 
        [Extent2].[Odd_Last_Coupon_Date] AS [Odd_Last_Coupon_Date], 
        [Extent2].[Coupon_Anniversary_Indicator] AS [Coupon_Anniversary_Indicator], 
        [Extent2].[Track_EOM_Flag] AS [Track_EOM_Flag], 
        [Extent2].[Next_Coupon_Date] AS [Next_Coupon_Date], 
        [Extent2].[Previous_Coupon_Date] AS [Previous_Coupon_Date], 
        [Extent2].[Payment_Frequency] AS [Payment_Frequency], 
        [Extent2].[Coupon_BusDay_Adjustment] AS [Coupon_BusDay_Adjustment], 
        [Extent2].[Next_Ex_Div_Date] AS [Next_Ex_Div_Date], 
        [Extent2].[Ex_Div_BusDay_Adjustment] AS [Ex_Div_BusDay_Adjustment], 
        [Extent2].[Ex_Div_Period] AS [Ex_Div_Period], 
        [Extent2].[Ticker] AS [Ticker], 
        [Extent2].[Inet_ID] AS [Inet_ID], 
        [Extent2].[Bloomberg_ID] AS [Bloomberg_ID], 
        [Extent2].[External_Sec_ID] AS [External_Sec_ID], 
        [Extent2].[Reuters_ID] AS [Reuters_ID], 
        [Extent2].[ISIN] AS [ISIN], 
        [Extent2].[Call_Account_Flag] AS [Call_Account_Flag], 
        [Extent2].[System_Locked] AS [System_Locked], 
        [Extent2].[Last_Update_User] AS [Last_Update_User1], 
        [Extent2].[Last_Update_Date] AS [Last_Update_Date1], 
        [Extent2].[Security_Status] AS [Security_Status], 
        [Extent2].[Benchmark_Portfolio] AS [Benchmark_Portfolio], 
        [Extent2].[Active_flag] AS [Active_flag], 
        [Extent2].[Dividend_FX_Security_ID] AS [Dividend_FX_Security_ID]
        FROM  [dbo].[Security_Analytics_History] AS [Extent1]
        INNER JOIN [dbo].[Security_Detail] AS [Extent2] ON [Extent1].[Security_ID] = [Extent2].[Security_ID]
        WHERE [Extent1].[Security_ID] = @p__linq__0
    )  AS [Project1]
    ORDER BY [Project1].[Record_Date] DESC
2018-04-07 18:00:01.6826|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: SELECT 
    [Project1].[Decimal_Precision] AS [Decimal_Precision], 
    [Project1].[Entity_ID] AS [Entity_ID], 
    [Project1].[Security_ID] AS [Security_ID], 
    [Project1].[Issued_Amount] AS [Issued_Amount], 
    [Project1].[Market_Capitalisation] AS [Market_Capitalisation], 
    [Project1].[Risk_Premium] AS [Risk_Premium], 
    [Project1].[Exit_Price] AS [Exit_Price], 
    [Project1].[Total_Return_ME_1YR] AS [Total_Return_ME_1YR], 
    [Project1].[Total_Return_ME_2YR] AS [Total_Return_ME_2YR], 
    [Project1].[Total_Return_ME_3YR] AS [Total_Return_ME_3YR], 
    [Project1].[Historic_Distribution] AS [Historic_Distribution], 
    [Project1].[Distribution_Growth_Forecast_Yr1] AS [Distribution_Growth_Forecast_Yr1], 
    [Project1].[Distribution_Growth_Forecast_Yr2] AS [Distribution_Growth_Forecast_Yr2], 
    [Project1].[Distribution_Growth_Forecast_Yr3] AS [Distribution_Growth_Forecast_Yr3], 
    [Project1].[Forecast_Distribution_Yr1] AS [Forecast_Distribution_Yr1], 
    [Project1].[Forecast_Distribution_Yr2] AS [Forecast_Distribution_Yr2], 
    [Project1].[Forecast_Distribution_Yr3] AS [Forecast_Distribution_Yr3], 
    [Project1].[Earnings_Growth_Compounded] AS [Earnings_Growth_Compounded], 
    [Project1].[Earnings_Forecast_Yr3] AS [Earnings_Forecast_Yr3], 
    [Project1].[Historic_Dividend_Yield_FYE] AS [Historic_Dividend_Yield_FYE], 
    [Project1].[Forward_Dividend_Yield_FYE] AS [Forward_Dividend_Yield_FYE], 
    [Project1].[Yr3_Forward_Dividend_Yield] AS [Yr3_Forward_Dividend_Yield], 
    [Project1].[Rolling_12M_Forward_Yield] AS [Rolling_12M_Forward_Yield], 
    [Project1].[Historical_Earnings_FYE] AS [Historical_Earnings_FYE], 
    [Project1].[Earnings_Forecast_Yr1] AS [Earnings_Forecast_Yr1], 
    [Project1].[Earnings_Forecast_Yr2] AS [Earnings_Forecast_Yr2], 
    [Project1].[Historic_Dividend_Yield_Relative] AS [Historic_Dividend_Yield_Relative], 
    [Project1].[Rolling_12M_Historic_Distribution_PriceCurr] AS [Rolling_12M_Historic_Distribution_PriceCurr], 
    [Project1].[Short_Term_Market_Rerate] AS [Short_Term_Market_Rerate], 
    [Project1].[Forecast_12M_Total_Return] AS [Forecast_12M_Total_Return], 
    [Project1].[Clean_Price] AS [Clean_Price], 
    [Project1].[Rolling_Dividend_Yield_Historic] AS [Rolling_Dividend_Yield_Historic], 
    [Project1].[Last_Update_Date] AS [Last_Update_Date], 
    [Project1].[Last_Update_User] AS [Last_Update_User], 
    [Project1].[Discount_Security_ID] AS [Discount_Security_ID], 
    [Project1].[Net_Present_Value] AS [Net_Present_Value], 
    [Project1].[Forecast_Rolling_Custom_Income] AS [Forecast_Rolling_Custom_Income], 
    [Project1].[Custom_Period] AS [Custom_Period], 
    [Project1].[Rolling_12M_Historic_Distribution] AS [Rolling_12M_Historic_Distribution], 
    [Project1].[Record_Date] AS [Record_Date], 
    [Project1].[Session_ID] AS [Session_ID], 
    [Project1].[Hist_Last_Update_Date] AS [Hist_Last_Update_Date], 
    [Project1].[Hist_Last_Update_User] AS [Hist_Last_Update_User], 
    [Project1].[Rolling_12M_Forecast_Distribution] AS [Rolling_12M_Forecast_Distribution], 
    [Project1].[Yr2_Forward_Dividend_Yield] AS [Yr2_Forward_Dividend_Yield], 
    [Project1].[Exit_Yield] AS [Exit_Yield], 
    [Project1].[Discount_Rate] AS [Discount_Rate], 
    [Project1].[Distribution_Growth_Compounded] AS [Distribution_Growth_Compounded], 
    [Project1].[Forecast_12MRolling_Income_Accrual] AS [Forecast_12MRolling_Income_Accrual], 
    [Project1].[Rolling_12_to_24M_Forecast_Distribution] AS [Rolling_12_to_24M_Forecast_Distribution], 
    [Project1].[Rolling_24_to_36M_Forecast_Distribution] AS [Rolling_24_to_36M_Forecast_Distribution], 
    [Project1].[Forecast_Yr1_Dividend_Yield_Relative] AS [Forecast_Yr1_Dividend_Yield_Relative], 
    [Project1].[Market_Historic_Yield] AS [Market_Historic_Yield], 
    [Project1].[Market_Forward_Yield] AS [Market_Forward_Yield], 
    [Project1].[Historic_Distribution_PriceCurr] AS [Historic_Distribution_PriceCurr], 
    [Project1].[Forecast_Distribution_Yr1_PriceCurr] AS [Forecast_Distribution_Yr1_PriceCurr], 
    [Project1].[Forecast_Distribution_Yr2_PriceCurr] AS [Forecast_Distribution_Yr2_PriceCurr], 
    [Project1].[Forecast_Distribution_Yr3_PriceCurr] AS [Forecast_Distribution_Yr3_PriceCurr], 
    [Project1].[Rolling_12M_Forecast_Distribution_PriceCurr] AS [Rolling_12M_Forecast_Distribution_PriceCurr], 
    [Project1].[Rolling_12_24M_Forecast_Distribution_PriceCurr] AS [Rolling_12_24M_Forecast_Distribution_PriceCurr], 
    [Project1].[Rolling_24_36M_Forecast_Distribution_PriceCurr] AS [Rolling_24_36M_Forecast_Distribution_PriceCurr], 
    [Project1].[Distribution_Growth_Forecast_Yr4] AS [Distribution_Growth_Forecast_Yr4], 
    [Project1].[Earnings_Forecast_Yr4] AS [Earnings_Forecast_Yr4], 
    [Project1].[Forecast_Distribution_Yr4] AS [Forecast_Distribution_Yr4], 
    [Project1].[Forecast_Distribution_Yr4_PriceCurr] AS [Forecast_Distribution_Yr4_PriceCurr], 
    [Project1].[Security_ID1] AS [Security_ID1], 
    [Project1].[Entity_ID1] AS [Entity_ID1], 
    [Project1].[Security_Name] AS [Security_Name], 
    [Project1].[Short_Name] AS [Short_Name], 
    [Project1].[Primary_Exch] AS [Primary_Exch], 
    [Project1].[Secondary_Exch] AS [Secondary_Exch], 
    [Project1].[Country_Of_Domicile] AS [Country_Of_Domicile], 
    [Project1].[Country_Of_Risk] AS [Country_Of_Risk], 
    [Project1].[Security_Type_Code] AS [Security_Type_Code], 
    [Project1].[Price_Multiplier] AS [Price_Multiplier], 
    [Project1].[Income_Frequency] AS [Income_Frequency], 
    [Project1].[Issuer_Code] AS [Issuer_Code], 
    [Project1].[Ultimate_Issuer_Code] AS [Ultimate_Issuer_Code], 
    [Project1].[Asset_Currency] AS [Asset_Currency], 
    [Project1].[Min_Lot_Size] AS [Min_Lot_Size], 
    [Project1].[AvePrice_Rounding] AS [AvePrice_Rounding], 
    [Project1].[Issue_Date] AS [Issue_Date], 
    [Project1].[Maturity_Date] AS [Maturity_Date], 
    [Project1].[Coupon_Rate] AS [Coupon_Rate], 
    [Project1].[Price_Exchange] AS [Price_Exchange], 
    [Project1].[Trade_Currency] AS [Trade_Currency], 
    [Project1].[Price_Curr] AS [Price_Curr], 
    [Project1].[Currency_Pair_Code] AS [Currency_Pair_Code], 
    [Project1].[Share_Class] AS [Share_Class], 
    [Project1].[Current_Market_Price] AS [Current_Market_Price], 
    [Project1].[Index_Type] AS [Index_Type], 
    [Project1].[Clean_Price_Formula] AS [Clean_Price_Formula], 
    [Project1].[Accrued_Income_Price_Formula] AS [Accrued_Income_Price_Formula], 
    [Project1].[Odd_First_Coupon_Date] AS [Odd_First_Coupon_Date], 
    [Project1].[Odd_Last_Coupon_Date] AS [Odd_Last_Coupon_Date], 
    [Project1].[Coupon_Anniversary_Indicator] AS [Coupon_Anniversary_Indicator], 
    [Project1].[Track_EOM_Flag] AS [Track_EOM_Flag], 
    [Project1].[Next_Coupon_Date] AS [Next_Coupon_Date], 
    [Project1].[Previous_Coupon_Date] AS [Previous_Coupon_Date], 
    [Project1].[Payment_Frequency] AS [Payment_Frequency], 
    [Project1].[Coupon_BusDay_Adjustment] AS [Coupon_BusDay_Adjustment], 
    [Project1].[Next_Ex_Div_Date] AS [Next_Ex_Div_Date], 
    [Project1].[Ex_Div_BusDay_Adjustment] AS [Ex_Div_BusDay_Adjustment], 
    [Project1].[Ex_Div_Period] AS [Ex_Div_Period], 
    [Project1].[Ticker] AS [Ticker], 
    [Project1].[Inet_ID] AS [Inet_ID], 
    [Project1].[Bloomberg_ID] AS [Bloomberg_ID], 
    [Project1].[External_Sec_ID] AS [External_Sec_ID], 
    [Project1].[Reuters_ID] AS [Reuters_ID], 
    [Project1].[ISIN] AS [ISIN], 
    [Project1].[Call_Account_Flag] AS [Call_Account_Flag], 
    [Project1].[System_Locked] AS [System_Locked], 
    [Project1].[Last_Update_User1] AS [Last_Update_User1], 
    [Project1].[Last_Update_Date1] AS [Last_Update_Date1], 
    [Project1].[Security_Status] AS [Security_Status], 
    [Project1].[Benchmark_Portfolio] AS [Benchmark_Portfolio], 
    [Project1].[Active_flag] AS [Active_flag], 
    [Project1].[Dividend_FX_Security_ID] AS [Dividend_FX_Security_ID]
    FROM ( SELECT 
        [Extent1].[Entity_ID] AS [Entity_ID], 
        [Extent1].[Security_ID] AS [Security_ID], 
        [Extent1].[Issued_Amount] AS [Issued_Amount], 
        [Extent1].[Market_Capitalisation] AS [Market_Capitalisation], 
        [Extent1].[Risk_Premium] AS [Risk_Premium], 
        [Extent1].[Exit_Price] AS [Exit_Price], 
        [Extent1].[Total_Return_ME_1YR] AS [Total_Return_ME_1YR], 
        [Extent1].[Total_Return_ME_2YR] AS [Total_Return_ME_2YR], 
        [Extent1].[Total_Return_ME_3YR] AS [Total_Return_ME_3YR], 
        [Extent1].[Historic_Distribution] AS [Historic_Distribution], 
        [Extent1].[Distribution_Growth_Forecast_Yr1] AS [Distribution_Growth_Forecast_Yr1], 
        [Extent1].[Distribution_Growth_Forecast_Yr2] AS [Distribution_Growth_Forecast_Yr2], 
        [Extent1].[Distribution_Growth_Forecast_Yr3] AS [Distribution_Growth_Forecast_Yr3], 
        [Extent1].[Forecast_Distribution_Yr1] AS [Forecast_Distribution_Yr1], 
        [Extent1].[Forecast_Distribution_Yr2] AS [Forecast_Distribution_Yr2], 
        [Extent1].[Forecast_Distribution_Yr3] AS [Forecast_Distribution_Yr3], 
        [Extent1].[Earnings_Growth_Compounded] AS [Earnings_Growth_Compounded], 
        [Extent1].[Earnings_Forecast_Yr3] AS [Earnings_Forecast_Yr3], 
        [Extent1].[Historic_Dividend_Yield_FYE] AS [Historic_Dividend_Yield_FYE], 
        [Extent1].[Forward_Dividend_Yield_FYE] AS [Forward_Dividend_Yield_FYE], 
        [Extent1].[Yr3_Forward_Dividend_Yield] AS [Yr3_Forward_Dividend_Yield], 
        [Extent1].[Rolling_12M_Forward_Yield] AS [Rolling_12M_Forward_Yield], 
        [Extent1].[Historical_Earnings_FYE] AS [Historical_Earnings_FYE], 
        [Extent1].[Earnings_Forecast_Yr1] AS [Earnings_Forecast_Yr1], 
        [Extent1].[Earnings_Forecast_Yr2] AS [Earnings_Forecast_Yr2], 
        [Extent1].[Historic_Dividend_Yield_Relative] AS [Historic_Dividend_Yield_Relative], 
        [Extent1].[Rolling_12M_Historic_Distribution_PriceCurr] AS [Rolling_12M_Historic_Distribution_PriceCurr], 
        [Extent1].[Short_Term_Market_Rerate] AS [Short_Term_Market_Rerate], 
        [Extent1].[Forecast_12M_Total_Return] AS [Forecast_12M_Total_Return], 
        [Extent1].[Clean_Price] AS [Clean_Price], 
        [Extent1].[Rolling_Dividend_Yield_Historic] AS [Rolling_Dividend_Yield_Historic], 
        [Extent1].[Last_Update_Date] AS [Last_Update_Date], 
        [Extent1].[Last_Update_User] AS [Last_Update_User], 
        [Extent1].[Discount_Security_ID] AS [Discount_Security_ID], 
        [Extent1].[Net_Present_Value] AS [Net_Present_Value], 
        [Extent1].[Forecast_Rolling_Custom_Income] AS [Forecast_Rolling_Custom_Income], 
        [Extent1].[Custom_Period] AS [Custom_Period], 
        [Extent1].[Rolling_12M_Historic_Distribution] AS [Rolling_12M_Historic_Distribution], 
        [Extent1].[Record_Date] AS [Record_Date], 
        [Extent1].[Session_ID] AS [Session_ID], 
        [Extent1].[Hist_Last_Update_Date] AS [Hist_Last_Update_Date], 
        [Extent1].[Hist_Last_Update_User] AS [Hist_Last_Update_User], 
        [Extent1].[Rolling_12M_Forecast_Distribution] AS [Rolling_12M_Forecast_Distribution], 
        [Extent1].[Yr2_Forward_Dividend_Yield] AS [Yr2_Forward_Dividend_Yield], 
        [Extent1].[Exit_Yield] AS [Exit_Yield], 
        [Extent1].[Discount_Rate] AS [Discount_Rate], 
        [Extent1].[Distribution_Growth_Compounded] AS [Distribution_Growth_Compounded], 
        [Extent1].[Forecast_12MRolling_Income_Accrual] AS [Forecast_12MRolling_Income_Accrual], 
        [Extent1].[Rolling_12_to_24M_Forecast_Distribution] AS [Rolling_12_to_24M_Forecast_Distribution], 
        [Extent1].[Rolling_24_to_36M_Forecast_Distribution] AS [Rolling_24_to_36M_Forecast_Distribution], 
        [Extent1].[Forecast_Yr1_Dividend_Yield_Relative] AS [Forecast_Yr1_Dividend_Yield_Relative], 
        [Extent1].[Market_Historic_Yield] AS [Market_Historic_Yield], 
        [Extent1].[Market_Forward_Yield] AS [Market_Forward_Yield], 
        [Extent1].[Historic_Distribution_PriceCurr] AS [Historic_Distribution_PriceCurr], 
        [Extent1].[Forecast_Distribution_Yr1_PriceCurr] AS [Forecast_Distribution_Yr1_PriceCurr], 
        [Extent1].[Forecast_Distribution_Yr2_PriceCurr] AS [Forecast_Distribution_Yr2_PriceCurr], 
        [Extent1].[Forecast_Distribution_Yr3_PriceCurr] AS [Forecast_Distribution_Yr3_PriceCurr], 
        [Extent1].[Rolling_12M_Forecast_Distribution_PriceCurr] AS [Rolling_12M_Forecast_Distribution_PriceCurr], 
        [Extent1].[Rolling_12_24M_Forecast_Distribution_PriceCurr] AS [Rolling_12_24M_Forecast_Distribution_PriceCurr], 
        [Extent1].[Rolling_24_36M_Forecast_Distribution_PriceCurr] AS [Rolling_24_36M_Forecast_Distribution_PriceCurr], 
        [Extent1].[Distribution_Growth_Forecast_Yr4] AS [Distribution_Growth_Forecast_Yr4], 
        [Extent1].[Earnings_Forecast_Yr4] AS [Earnings_Forecast_Yr4], 
        [Extent1].[Forecast_Distribution_Yr4] AS [Forecast_Distribution_Yr4], 
        [Extent1].[Forecast_Distribution_Yr4_PriceCurr] AS [Forecast_Distribution_Yr4_PriceCurr], 
        [Extent2].[Security_ID] AS [Security_ID1], 
        [Extent2].[Entity_ID] AS [Entity_ID1], 
        [Extent2].[Security_Name] AS [Security_Name], 
        [Extent2].[Short_Name] AS [Short_Name], 
        [Extent2].[Primary_Exch] AS [Primary_Exch], 
        [Extent2].[Secondary_Exch] AS [Secondary_Exch], 
        [Extent2].[Country_Of_Domicile] AS [Country_Of_Domicile], 
        [Extent2].[Country_Of_Risk] AS [Country_Of_Risk], 
        [Extent2].[Security_Type_Code] AS [Security_Type_Code], 
        [Extent2].[Price_Multiplier] AS [Price_Multiplier], 
        [Extent2].[Income_Frequency] AS [Income_Frequency], 
        [Extent2].[Issuer_Code] AS [Issuer_Code], 
        [Extent2].[Ultimate_Issuer_Code] AS [Ultimate_Issuer_Code], 
        [Extent2].[Asset_Currency] AS [Asset_Currency], 
        [Extent2].[Min_Lot_Size] AS [Min_Lot_Size], 
        [Extent2].[Decimal_Precision] AS [Decimal_Precision], 
        [Extent2].[AvePrice_Rounding] AS [AvePrice_Rounding], 
        [Extent2].[Issue_Date] AS [Issue_Date], 
        [Extent2].[Maturity_Date] AS [Maturity_Date], 
        [Extent2].[Coupon_Rate] AS [Coupon_Rate], 
        [Extent2].[Price_Exchange] AS [Price_Exchange], 
        [Extent2].[Trade_Currency] AS [Trade_Currency], 
        [Extent2].[Price_Curr] AS [Price_Curr], 
        [Extent2].[Currency_Pair_Code] AS [Currency_Pair_Code], 
        [Extent2].[Share_Class] AS [Share_Class], 
        [Extent2].[Current_Market_Price] AS [Current_Market_Price], 
        [Extent2].[Index_Type] AS [Index_Type], 
        [Extent2].[Clean_Price_Formula] AS [Clean_Price_Formula], 
        [Extent2].[Accrued_Income_Price_Formula] AS [Accrued_Income_Price_Formula], 
        [Extent2].[Odd_First_Coupon_Date] AS [Odd_First_Coupon_Date], 
        [Extent2].[Odd_Last_Coupon_Date] AS [Odd_Last_Coupon_Date], 
        [Extent2].[Coupon_Anniversary_Indicator] AS [Coupon_Anniversary_Indicator], 
        [Extent2].[Track_EOM_Flag] AS [Track_EOM_Flag], 
        [Extent2].[Next_Coupon_Date] AS [Next_Coupon_Date], 
        [Extent2].[Previous_Coupon_Date] AS [Previous_Coupon_Date], 
        [Extent2].[Payment_Frequency] AS [Payment_Frequency], 
        [Extent2].[Coupon_BusDay_Adjustment] AS [Coupon_BusDay_Adjustment], 
        [Extent2].[Next_Ex_Div_Date] AS [Next_Ex_Div_Date], 
        [Extent2].[Ex_Div_BusDay_Adjustment] AS [Ex_Div_BusDay_Adjustment], 
        [Extent2].[Ex_Div_Period] AS [Ex_Div_Period], 
        [Extent2].[Ticker] AS [Ticker], 
        [Extent2].[Inet_ID] AS [Inet_ID], 
        [Extent2].[Bloomberg_ID] AS [Bloomberg_ID], 
        [Extent2].[External_Sec_ID] AS [External_Sec_ID], 
        [Extent2].[Reuters_ID] AS [Reuters_ID], 
        [Extent2].[ISIN] AS [ISIN], 
        [Extent2].[Call_Account_Flag] AS [Call_Account_Flag], 
        [Extent2].[System_Locked] AS [System_Locked], 
        [Extent2].[Last_Update_User] AS [Last_Update_User1], 
        [Extent2].[Last_Update_Date] AS [Last_Update_Date1], 
        [Extent2].[Security_Status] AS [Security_Status], 
        [Extent2].[Benchmark_Portfolio] AS [Benchmark_Portfolio], 
        [Extent2].[Active_flag] AS [Active_flag], 
        [Extent2].[Dividend_FX_Security_ID] AS [Dividend_FX_Security_ID]
        FROM  [dbo].[Security_Analytics_History] AS [Extent1]
        INNER JOIN [dbo].[Security_Detail] AS [Extent2] ON [Extent1].[Security_ID] = [Extent2].[Security_ID]
        WHERE [Extent1].[Security_ID] = @p__linq__0
    )  AS [Project1]
    ORDER BY [Project1].[Record_Date] DESC
2018-04-07 18:00:01.7461|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: IF db_id(N'MetopeAzureDb') IS NOT NULL SELECT 1 ELSE SELECT Count(*) FROM sys.databases WHERE [name]=N'MetopeAzureDb'
2018-04-07 18:00:01.7767|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: IF db_id(N'MetopeAzureDb') IS NOT NULL SELECT 1 ELSE SELECT Count(*) FROM sys.databases WHERE [name]=N'MetopeAzureDb'
2018-04-07 18:00:01.8082|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: IF db_id(N'MetopeAzureDb') IS NOT NULL SELECT 1 ELSE SELECT Count(*) FROM sys.databases WHERE [name]=N'MetopeAzureDb'
2018-04-07 18:00:01.8337|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: IF db_id(N'MetopeAzureDb') IS NOT NULL SELECT 1 ELSE SELECT Count(*) FROM sys.databases WHERE [name]=N'MetopeAzureDb'
2018-04-07 18:00:10.4795|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: SELECT 
    [Project1].[Decimal_Precision] AS [Decimal_Precision], 
    [Project1].[Entity_ID] AS [Entity_ID], 
    [Project1].[Security_ID] AS [Security_ID], 
    [Project1].[Issued_Amount] AS [Issued_Amount], 
    [Project1].[Market_Capitalisation] AS [Market_Capitalisation], 
    [Project1].[Risk_Premium] AS [Risk_Premium], 
    [Project1].[Exit_Price] AS [Exit_Price], 
    [Project1].[Total_Return_ME_1YR] AS [Total_Return_ME_1YR], 
    [Project1].[Total_Return_ME_2YR] AS [Total_Return_ME_2YR], 
    [Project1].[Total_Return_ME_3YR] AS [Total_Return_ME_3YR], 
    [Project1].[Historic_Distribution] AS [Historic_Distribution], 
    [Project1].[Distribution_Growth_Forecast_Yr1] AS [Distribution_Growth_Forecast_Yr1], 
    [Project1].[Distribution_Growth_Forecast_Yr2] AS [Distribution_Growth_Forecast_Yr2], 
    [Project1].[Distribution_Growth_Forecast_Yr3] AS [Distribution_Growth_Forecast_Yr3], 
    [Project1].[Forecast_Distribution_Yr1] AS [Forecast_Distribution_Yr1], 
    [Project1].[Forecast_Distribution_Yr2] AS [Forecast_Distribution_Yr2], 
    [Project1].[Forecast_Distribution_Yr3] AS [Forecast_Distribution_Yr3], 
    [Project1].[Earnings_Growth_Compounded] AS [Earnings_Growth_Compounded], 
    [Project1].[Earnings_Forecast_Yr3] AS [Earnings_Forecast_Yr3], 
    [Project1].[Historic_Dividend_Yield_FYE] AS [Historic_Dividend_Yield_FYE], 
    [Project1].[Forward_Dividend_Yield_FYE] AS [Forward_Dividend_Yield_FYE], 
    [Project1].[Yr3_Forward_Dividend_Yield] AS [Yr3_Forward_Dividend_Yield], 
    [Project1].[Rolling_12M_Forward_Yield] AS [Rolling_12M_Forward_Yield], 
    [Project1].[Historical_Earnings_FYE] AS [Historical_Earnings_FYE], 
    [Project1].[Earnings_Forecast_Yr1] AS [Earnings_Forecast_Yr1], 
    [Project1].[Earnings_Forecast_Yr2] AS [Earnings_Forecast_Yr2], 
    [Project1].[Historic_Dividend_Yield_Relative] AS [Historic_Dividend_Yield_Relative], 
    [Project1].[Rolling_12M_Historic_Distribution_PriceCurr] AS [Rolling_12M_Historic_Distribution_PriceCurr], 
    [Project1].[Short_Term_Market_Rerate] AS [Short_Term_Market_Rerate], 
    [Project1].[Forecast_12M_Total_Return] AS [Forecast_12M_Total_Return], 
    [Project1].[Clean_Price] AS [Clean_Price], 
    [Project1].[Rolling_Dividend_Yield_Historic] AS [Rolling_Dividend_Yield_Historic], 
    [Project1].[Last_Update_Date] AS [Last_Update_Date], 
    [Project1].[Last_Update_User] AS [Last_Update_User], 
    [Project1].[Discount_Security_ID] AS [Discount_Security_ID], 
    [Project1].[Net_Present_Value] AS [Net_Present_Value], 
    [Project1].[Forecast_Rolling_Custom_Income] AS [Forecast_Rolling_Custom_Income], 
    [Project1].[Custom_Period] AS [Custom_Period], 
    [Project1].[Rolling_12M_Historic_Distribution] AS [Rolling_12M_Historic_Distribution], 
    [Project1].[Record_Date] AS [Record_Date], 
    [Project1].[Session_ID] AS [Session_ID], 
    [Project1].[Hist_Last_Update_Date] AS [Hist_Last_Update_Date], 
    [Project1].[Hist_Last_Update_User] AS [Hist_Last_Update_User], 
    [Project1].[Rolling_12M_Forecast_Distribution] AS [Rolling_12M_Forecast_Distribution], 
    [Project1].[Yr2_Forward_Dividend_Yield] AS [Yr2_Forward_Dividend_Yield], 
    [Project1].[Exit_Yield] AS [Exit_Yield], 
    [Project1].[Discount_Rate] AS [Discount_Rate], 
    [Project1].[Distribution_Growth_Compounded] AS [Distribution_Growth_Compounded], 
    [Project1].[Forecast_12MRolling_Income_Accrual] AS [Forecast_12MRolling_Income_Accrual], 
    [Project1].[Rolling_12_to_24M_Forecast_Distribution] AS [Rolling_12_to_24M_Forecast_Distribution], 
    [Project1].[Rolling_24_to_36M_Forecast_Distribution] AS [Rolling_24_to_36M_Forecast_Distribution], 
    [Project1].[Forecast_Yr1_Dividend_Yield_Relative] AS [Forecast_Yr1_Dividend_Yield_Relative], 
    [Project1].[Market_Historic_Yield] AS [Market_Historic_Yield], 
    [Project1].[Market_Forward_Yield] AS [Market_Forward_Yield], 
    [Project1].[Historic_Distribution_PriceCurr] AS [Historic_Distribution_PriceCurr], 
    [Project1].[Forecast_Distribution_Yr1_PriceCurr] AS [Forecast_Distribution_Yr1_PriceCurr], 
    [Project1].[Forecast_Distribution_Yr2_PriceCurr] AS [Forecast_Distribution_Yr2_PriceCurr], 
    [Project1].[Forecast_Distribution_Yr3_PriceCurr] AS [Forecast_Distribution_Yr3_PriceCurr], 
    [Project1].[Rolling_12M_Forecast_Distribution_PriceCurr] AS [Rolling_12M_Forecast_Distribution_PriceCurr], 
    [Project1].[Rolling_12_24M_Forecast_Distribution_PriceCurr] AS [Rolling_12_24M_Forecast_Distribution_PriceCurr], 
    [Project1].[Rolling_24_36M_Forecast_Distribution_PriceCurr] AS [Rolling_24_36M_Forecast_Distribution_PriceCurr], 
    [Project1].[Distribution_Growth_Forecast_Yr4] AS [Distribution_Growth_Forecast_Yr4], 
    [Project1].[Earnings_Forecast_Yr4] AS [Earnings_Forecast_Yr4], 
    [Project1].[Forecast_Distribution_Yr4] AS [Forecast_Distribution_Yr4], 
    [Project1].[Forecast_Distribution_Yr4_PriceCurr] AS [Forecast_Distribution_Yr4_PriceCurr], 
    [Project1].[Security_ID1] AS [Security_ID1], 
    [Project1].[Entity_ID1] AS [Entity_ID1], 
    [Project1].[Security_Name] AS [Security_Name], 
    [Project1].[Short_Name] AS [Short_Name], 
    [Project1].[Primary_Exch] AS [Primary_Exch], 
    [Project1].[Secondary_Exch] AS [Secondary_Exch], 
    [Project1].[Country_Of_Domicile] AS [Country_Of_Domicile], 
    [Project1].[Country_Of_Risk] AS [Country_Of_Risk], 
    [Project1].[Security_Type_Code] AS [Security_Type_Code], 
    [Project1].[Price_Multiplier] AS [Price_Multiplier], 
    [Project1].[Income_Frequency] AS [Income_Frequency], 
    [Project1].[Issuer_Code] AS [Issuer_Code], 
    [Project1].[Ultimate_Issuer_Code] AS [Ultimate_Issuer_Code], 
    [Project1].[Asset_Currency] AS [Asset_Currency], 
    [Project1].[Min_Lot_Size] AS [Min_Lot_Size], 
    [Project1].[AvePrice_Rounding] AS [AvePrice_Rounding], 
    [Project1].[Issue_Date] AS [Issue_Date], 
    [Project1].[Maturity_Date] AS [Maturity_Date], 
    [Project1].[Coupon_Rate] AS [Coupon_Rate], 
    [Project1].[Price_Exchange] AS [Price_Exchange], 
    [Project1].[Trade_Currency] AS [Trade_Currency], 
    [Project1].[Price_Curr] AS [Price_Curr], 
    [Project1].[Currency_Pair_Code] AS [Currency_Pair_Code], 
    [Project1].[Share_Class] AS [Share_Class], 
    [Project1].[Current_Market_Price] AS [Current_Market_Price], 
    [Project1].[Index_Type] AS [Index_Type], 
    [Project1].[Clean_Price_Formula] AS [Clean_Price_Formula], 
    [Project1].[Accrued_Income_Price_Formula] AS [Accrued_Income_Price_Formula], 
    [Project1].[Odd_First_Coupon_Date] AS [Odd_First_Coupon_Date], 
    [Project1].[Odd_Last_Coupon_Date] AS [Odd_Last_Coupon_Date], 
    [Project1].[Coupon_Anniversary_Indicator] AS [Coupon_Anniversary_Indicator], 
    [Project1].[Track_EOM_Flag] AS [Track_EOM_Flag], 
    [Project1].[Next_Coupon_Date] AS [Next_Coupon_Date], 
    [Project1].[Previous_Coupon_Date] AS [Previous_Coupon_Date], 
    [Project1].[Payment_Frequency] AS [Payment_Frequency], 
    [Project1].[Coupon_BusDay_Adjustment] AS [Coupon_BusDay_Adjustment], 
    [Project1].[Next_Ex_Div_Date] AS [Next_Ex_Div_Date], 
    [Project1].[Ex_Div_BusDay_Adjustment] AS [Ex_Div_BusDay_Adjustment], 
    [Project1].[Ex_Div_Period] AS [Ex_Div_Period], 
    [Project1].[Ticker] AS [Ticker], 
    [Project1].[Inet_ID] AS [Inet_ID], 
    [Project1].[Bloomberg_ID] AS [Bloomberg_ID], 
    [Project1].[External_Sec_ID] AS [External_Sec_ID], 
    [Project1].[Reuters_ID] AS [Reuters_ID], 
    [Project1].[ISIN] AS [ISIN], 
    [Project1].[Call_Account_Flag] AS [Call_Account_Flag], 
    [Project1].[System_Locked] AS [System_Locked], 
    [Project1].[Last_Update_User1] AS [Last_Update_User1], 
    [Project1].[Last_Update_Date1] AS [Last_Update_Date1], 
    [Project1].[Security_Status] AS [Security_Status], 
    [Project1].[Benchmark_Portfolio] AS [Benchmark_Portfolio], 
    [Project1].[Active_flag] AS [Active_flag], 
    [Project1].[Dividend_FX_Security_ID] AS [Dividend_FX_Security_ID]
    FROM ( SELECT 
        [Extent1].[Entity_ID] AS [Entity_ID], 
        [Extent1].[Security_ID] AS [Security_ID], 
        [Extent1].[Issued_Amount] AS [Issued_Amount], 
        [Extent1].[Market_Capitalisation] AS [Market_Capitalisation], 
        [Extent1].[Risk_Premium] AS [Risk_Premium], 
        [Extent1].[Exit_Price] AS [Exit_Price], 
        [Extent1].[Total_Return_ME_1YR] AS [Total_Return_ME_1YR], 
        [Extent1].[Total_Return_ME_2YR] AS [Total_Return_ME_2YR], 
        [Extent1].[Total_Return_ME_3YR] AS [Total_Return_ME_3YR], 
        [Extent1].[Historic_Distribution] AS [Historic_Distribution], 
        [Extent1].[Distribution_Growth_Forecast_Yr1] AS [Distribution_Growth_Forecast_Yr1], 
        [Extent1].[Distribution_Growth_Forecast_Yr2] AS [Distribution_Growth_Forecast_Yr2], 
        [Extent1].[Distribution_Growth_Forecast_Yr3] AS [Distribution_Growth_Forecast_Yr3], 
        [Extent1].[Forecast_Distribution_Yr1] AS [Forecast_Distribution_Yr1], 
        [Extent1].[Forecast_Distribution_Yr2] AS [Forecast_Distribution_Yr2], 
        [Extent1].[Forecast_Distribution_Yr3] AS [Forecast_Distribution_Yr3], 
        [Extent1].[Earnings_Growth_Compounded] AS [Earnings_Growth_Compounded], 
        [Extent1].[Earnings_Forecast_Yr3] AS [Earnings_Forecast_Yr3], 
        [Extent1].[Historic_Dividend_Yield_FYE] AS [Historic_Dividend_Yield_FYE], 
        [Extent1].[Forward_Dividend_Yield_FYE] AS [Forward_Dividend_Yield_FYE], 
        [Extent1].[Yr3_Forward_Dividend_Yield] AS [Yr3_Forward_Dividend_Yield], 
        [Extent1].[Rolling_12M_Forward_Yield] AS [Rolling_12M_Forward_Yield], 
        [Extent1].[Historical_Earnings_FYE] AS [Historical_Earnings_FYE], 
        [Extent1].[Earnings_Forecast_Yr1] AS [Earnings_Forecast_Yr1], 
        [Extent1].[Earnings_Forecast_Yr2] AS [Earnings_Forecast_Yr2], 
        [Extent1].[Historic_Dividend_Yield_Relative] AS [Historic_Dividend_Yield_Relative], 
        [Extent1].[Rolling_12M_Historic_Distribution_PriceCurr] AS [Rolling_12M_Historic_Distribution_PriceCurr], 
        [Extent1].[Short_Term_Market_Rerate] AS [Short_Term_Market_Rerate], 
        [Extent1].[Forecast_12M_Total_Return] AS [Forecast_12M_Total_Return], 
        [Extent1].[Clean_Price] AS [Clean_Price], 
        [Extent1].[Rolling_Dividend_Yield_Historic] AS [Rolling_Dividend_Yield_Historic], 
        [Extent1].[Last_Update_Date] AS [Last_Update_Date], 
        [Extent1].[Last_Update_User] AS [Last_Update_User], 
        [Extent1].[Discount_Security_ID] AS [Discount_Security_ID], 
        [Extent1].[Net_Present_Value] AS [Net_Present_Value], 
        [Extent1].[Forecast_Rolling_Custom_Income] AS [Forecast_Rolling_Custom_Income], 
        [Extent1].[Custom_Period] AS [Custom_Period], 
        [Extent1].[Rolling_12M_Historic_Distribution] AS [Rolling_12M_Historic_Distribution], 
        [Extent1].[Record_Date] AS [Record_Date], 
        [Extent1].[Session_ID] AS [Session_ID], 
        [Extent1].[Hist_Last_Update_Date] AS [Hist_Last_Update_Date], 
        [Extent1].[Hist_Last_Update_User] AS [Hist_Last_Update_User], 
        [Extent1].[Rolling_12M_Forecast_Distribution] AS [Rolling_12M_Forecast_Distribution], 
        [Extent1].[Yr2_Forward_Dividend_Yield] AS [Yr2_Forward_Dividend_Yield], 
        [Extent1].[Exit_Yield] AS [Exit_Yield], 
        [Extent1].[Discount_Rate] AS [Discount_Rate], 
        [Extent1].[Distribution_Growth_Compounded] AS [Distribution_Growth_Compounded], 
        [Extent1].[Forecast_12MRolling_Income_Accrual] AS [Forecast_12MRolling_Income_Accrual], 
        [Extent1].[Rolling_12_to_24M_Forecast_Distribution] AS [Rolling_12_to_24M_Forecast_Distribution], 
        [Extent1].[Rolling_24_to_36M_Forecast_Distribution] AS [Rolling_24_to_36M_Forecast_Distribution], 
        [Extent1].[Forecast_Yr1_Dividend_Yield_Relative] AS [Forecast_Yr1_Dividend_Yield_Relative], 
        [Extent1].[Market_Historic_Yield] AS [Market_Historic_Yield], 
        [Extent1].[Market_Forward_Yield] AS [Market_Forward_Yield], 
        [Extent1].[Historic_Distribution_PriceCurr] AS [Historic_Distribution_PriceCurr], 
        [Extent1].[Forecast_Distribution_Yr1_PriceCurr] AS [Forecast_Distribution_Yr1_PriceCurr], 
        [Extent1].[Forecast_Distribution_Yr2_PriceCurr] AS [Forecast_Distribution_Yr2_PriceCurr], 
        [Extent1].[Forecast_Distribution_Yr3_PriceCurr] AS [Forecast_Distribution_Yr3_PriceCurr], 
        [Extent1].[Rolling_12M_Forecast_Distribution_PriceCurr] AS [Rolling_12M_Forecast_Distribution_PriceCurr], 
        [Extent1].[Rolling_12_24M_Forecast_Distribution_PriceCurr] AS [Rolling_12_24M_Forecast_Distribution_PriceCurr], 
        [Extent1].[Rolling_24_36M_Forecast_Distribution_PriceCurr] AS [Rolling_24_36M_Forecast_Distribution_PriceCurr], 
        [Extent1].[Distribution_Growth_Forecast_Yr4] AS [Distribution_Growth_Forecast_Yr4], 
        [Extent1].[Earnings_Forecast_Yr4] AS [Earnings_Forecast_Yr4], 
        [Extent1].[Forecast_Distribution_Yr4] AS [Forecast_Distribution_Yr4], 
        [Extent1].[Forecast_Distribution_Yr4_PriceCurr] AS [Forecast_Distribution_Yr4_PriceCurr], 
        [Extent2].[Security_ID] AS [Security_ID1], 
        [Extent2].[Entity_ID] AS [Entity_ID1], 
        [Extent2].[Security_Name] AS [Security_Name], 
        [Extent2].[Short_Name] AS [Short_Name], 
        [Extent2].[Primary_Exch] AS [Primary_Exch], 
        [Extent2].[Secondary_Exch] AS [Secondary_Exch], 
        [Extent2].[Country_Of_Domicile] AS [Country_Of_Domicile], 
        [Extent2].[Country_Of_Risk] AS [Country_Of_Risk], 
        [Extent2].[Security_Type_Code] AS [Security_Type_Code], 
        [Extent2].[Price_Multiplier] AS [Price_Multiplier], 
        [Extent2].[Income_Frequency] AS [Income_Frequency], 
        [Extent2].[Issuer_Code] AS [Issuer_Code], 
        [Extent2].[Ultimate_Issuer_Code] AS [Ultimate_Issuer_Code], 
        [Extent2].[Asset_Currency] AS [Asset_Currency], 
        [Extent2].[Min_Lot_Size] AS [Min_Lot_Size], 
        [Extent2].[Decimal_Precision] AS [Decimal_Precision], 
        [Extent2].[AvePrice_Rounding] AS [AvePrice_Rounding], 
        [Extent2].[Issue_Date] AS [Issue_Date], 
        [Extent2].[Maturity_Date] AS [Maturity_Date], 
        [Extent2].[Coupon_Rate] AS [Coupon_Rate], 
        [Extent2].[Price_Exchange] AS [Price_Exchange], 
        [Extent2].[Trade_Currency] AS [Trade_Currency], 
        [Extent2].[Price_Curr] AS [Price_Curr], 
        [Extent2].[Currency_Pair_Code] AS [Currency_Pair_Code], 
        [Extent2].[Share_Class] AS [Share_Class], 
        [Extent2].[Current_Market_Price] AS [Current_Market_Price], 
        [Extent2].[Index_Type] AS [Index_Type], 
        [Extent2].[Clean_Price_Formula] AS [Clean_Price_Formula], 
        [Extent2].[Accrued_Income_Price_Formula] AS [Accrued_Income_Price_Formula], 
        [Extent2].[Odd_First_Coupon_Date] AS [Odd_First_Coupon_Date], 
        [Extent2].[Odd_Last_Coupon_Date] AS [Odd_Last_Coupon_Date], 
        [Extent2].[Coupon_Anniversary_Indicator] AS [Coupon_Anniversary_Indicator], 
        [Extent2].[Track_EOM_Flag] AS [Track_EOM_Flag], 
        [Extent2].[Next_Coupon_Date] AS [Next_Coupon_Date], 
        [Extent2].[Previous_Coupon_Date] AS [Previous_Coupon_Date], 
        [Extent2].[Payment_Frequency] AS [Payment_Frequency], 
        [Extent2].[Coupon_BusDay_Adjustment] AS [Coupon_BusDay_Adjustment], 
        [Extent2].[Next_Ex_Div_Date] AS [Next_Ex_Div_Date], 
        [Extent2].[Ex_Div_BusDay_Adjustment] AS [Ex_Div_BusDay_Adjustment], 
        [Extent2].[Ex_Div_Period] AS [Ex_Div_Period], 
        [Extent2].[Ticker] AS [Ticker], 
        [Extent2].[Inet_ID] AS [Inet_ID], 
        [Extent2].[Bloomberg_ID] AS [Bloomberg_ID], 
        [Extent2].[External_Sec_ID] AS [External_Sec_ID], 
        [Extent2].[Reuters_ID] AS [Reuters_ID], 
        [Extent2].[ISIN] AS [ISIN], 
        [Extent2].[Call_Account_Flag] AS [Call_Account_Flag], 
        [Extent2].[System_Locked] AS [System_Locked], 
        [Extent2].[Last_Update_User] AS [Last_Update_User1], 
        [Extent2].[Last_Update_Date] AS [Last_Update_Date1], 
        [Extent2].[Security_Status] AS [Security_Status], 
        [Extent2].[Benchmark_Portfolio] AS [Benchmark_Portfolio], 
        [Extent2].[Active_flag] AS [Active_flag], 
        [Extent2].[Dividend_FX_Security_ID] AS [Dividend_FX_Security_ID]
        FROM  [dbo].[Security_Analytics_History] AS [Extent1]
        INNER JOIN [dbo].[Security_Detail] AS [Extent2] ON [Extent1].[Security_ID] = [Extent2].[Security_ID]
        WHERE [Extent1].[Security_ID] = @p__linq__0
    )  AS [Project1]
    ORDER BY [Project1].[Record_Date] DESC
2018-04-07 18:00:10.5120|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: SELECT 
    [Project1].[Decimal_Precision] AS [Decimal_Precision], 
    [Project1].[Entity_ID] AS [Entity_ID], 
    [Project1].[Security_ID] AS [Security_ID], 
    [Project1].[Issued_Amount] AS [Issued_Amount], 
    [Project1].[Market_Capitalisation] AS [Market_Capitalisation], 
    [Project1].[Risk_Premium] AS [Risk_Premium], 
    [Project1].[Exit_Price] AS [Exit_Price], 
    [Project1].[Total_Return_ME_1YR] AS [Total_Return_ME_1YR], 
    [Project1].[Total_Return_ME_2YR] AS [Total_Return_ME_2YR], 
    [Project1].[Total_Return_ME_3YR] AS [Total_Return_ME_3YR], 
    [Project1].[Historic_Distribution] AS [Historic_Distribution], 
    [Project1].[Distribution_Growth_Forecast_Yr1] AS [Distribution_Growth_Forecast_Yr1], 
    [Project1].[Distribution_Growth_Forecast_Yr2] AS [Distribution_Growth_Forecast_Yr2], 
    [Project1].[Distribution_Growth_Forecast_Yr3] AS [Distribution_Growth_Forecast_Yr3], 
    [Project1].[Forecast_Distribution_Yr1] AS [Forecast_Distribution_Yr1], 
    [Project1].[Forecast_Distribution_Yr2] AS [Forecast_Distribution_Yr2], 
    [Project1].[Forecast_Distribution_Yr3] AS [Forecast_Distribution_Yr3], 
    [Project1].[Earnings_Growth_Compounded] AS [Earnings_Growth_Compounded], 
    [Project1].[Earnings_Forecast_Yr3] AS [Earnings_Forecast_Yr3], 
    [Project1].[Historic_Dividend_Yield_FYE] AS [Historic_Dividend_Yield_FYE], 
    [Project1].[Forward_Dividend_Yield_FYE] AS [Forward_Dividend_Yield_FYE], 
    [Project1].[Yr3_Forward_Dividend_Yield] AS [Yr3_Forward_Dividend_Yield], 
    [Project1].[Rolling_12M_Forward_Yield] AS [Rolling_12M_Forward_Yield], 
    [Project1].[Historical_Earnings_FYE] AS [Historical_Earnings_FYE], 
    [Project1].[Earnings_Forecast_Yr1] AS [Earnings_Forecast_Yr1], 
    [Project1].[Earnings_Forecast_Yr2] AS [Earnings_Forecast_Yr2], 
    [Project1].[Historic_Dividend_Yield_Relative] AS [Historic_Dividend_Yield_Relative], 
    [Project1].[Rolling_12M_Historic_Distribution_PriceCurr] AS [Rolling_12M_Historic_Distribution_PriceCurr], 
    [Project1].[Short_Term_Market_Rerate] AS [Short_Term_Market_Rerate], 
    [Project1].[Forecast_12M_Total_Return] AS [Forecast_12M_Total_Return], 
    [Project1].[Clean_Price] AS [Clean_Price], 
    [Project1].[Rolling_Dividend_Yield_Historic] AS [Rolling_Dividend_Yield_Historic], 
    [Project1].[Last_Update_Date] AS [Last_Update_Date], 
    [Project1].[Last_Update_User] AS [Last_Update_User], 
    [Project1].[Discount_Security_ID] AS [Discount_Security_ID], 
    [Project1].[Net_Present_Value] AS [Net_Present_Value], 
    [Project1].[Forecast_Rolling_Custom_Income] AS [Forecast_Rolling_Custom_Income], 
    [Project1].[Custom_Period] AS [Custom_Period], 
    [Project1].[Rolling_12M_Historic_Distribution] AS [Rolling_12M_Historic_Distribution], 
    [Project1].[Record_Date] AS [Record_Date], 
    [Project1].[Session_ID] AS [Session_ID], 
    [Project1].[Hist_Last_Update_Date] AS [Hist_Last_Update_Date], 
    [Project1].[Hist_Last_Update_User] AS [Hist_Last_Update_User], 
    [Project1].[Rolling_12M_Forecast_Distribution] AS [Rolling_12M_Forecast_Distribution], 
    [Project1].[Yr2_Forward_Dividend_Yield] AS [Yr2_Forward_Dividend_Yield], 
    [Project1].[Exit_Yield] AS [Exit_Yield], 
    [Project1].[Discount_Rate] AS [Discount_Rate], 
    [Project1].[Distribution_Growth_Compounded] AS [Distribution_Growth_Compounded], 
    [Project1].[Forecast_12MRolling_Income_Accrual] AS [Forecast_12MRolling_Income_Accrual], 
    [Project1].[Rolling_12_to_24M_Forecast_Distribution] AS [Rolling_12_to_24M_Forecast_Distribution], 
    [Project1].[Rolling_24_to_36M_Forecast_Distribution] AS [Rolling_24_to_36M_Forecast_Distribution], 
    [Project1].[Forecast_Yr1_Dividend_Yield_Relative] AS [Forecast_Yr1_Dividend_Yield_Relative], 
    [Project1].[Market_Historic_Yield] AS [Market_Historic_Yield], 
    [Project1].[Market_Forward_Yield] AS [Market_Forward_Yield], 
    [Project1].[Historic_Distribution_PriceCurr] AS [Historic_Distribution_PriceCurr], 
    [Project1].[Forecast_Distribution_Yr1_PriceCurr] AS [Forecast_Distribution_Yr1_PriceCurr], 
    [Project1].[Forecast_Distribution_Yr2_PriceCurr] AS [Forecast_Distribution_Yr2_PriceCurr], 
    [Project1].[Forecast_Distribution_Yr3_PriceCurr] AS [Forecast_Distribution_Yr3_PriceCurr], 
    [Project1].[Rolling_12M_Forecast_Distribution_PriceCurr] AS [Rolling_12M_Forecast_Distribution_PriceCurr], 
    [Project1].[Rolling_12_24M_Forecast_Distribution_PriceCurr] AS [Rolling_12_24M_Forecast_Distribution_PriceCurr], 
    [Project1].[Rolling_24_36M_Forecast_Distribution_PriceCurr] AS [Rolling_24_36M_Forecast_Distribution_PriceCurr], 
    [Project1].[Distribution_Growth_Forecast_Yr4] AS [Distribution_Growth_Forecast_Yr4], 
    [Project1].[Earnings_Forecast_Yr4] AS [Earnings_Forecast_Yr4], 
    [Project1].[Forecast_Distribution_Yr4] AS [Forecast_Distribution_Yr4], 
    [Project1].[Forecast_Distribution_Yr4_PriceCurr] AS [Forecast_Distribution_Yr4_PriceCurr], 
    [Project1].[Security_ID1] AS [Security_ID1], 
    [Project1].[Entity_ID1] AS [Entity_ID1], 
    [Project1].[Security_Name] AS [Security_Name], 
    [Project1].[Short_Name] AS [Short_Name], 
    [Project1].[Primary_Exch] AS [Primary_Exch], 
    [Project1].[Secondary_Exch] AS [Secondary_Exch], 
    [Project1].[Country_Of_Domicile] AS [Country_Of_Domicile], 
    [Project1].[Country_Of_Risk] AS [Country_Of_Risk], 
    [Project1].[Security_Type_Code] AS [Security_Type_Code], 
    [Project1].[Price_Multiplier] AS [Price_Multiplier], 
    [Project1].[Income_Frequency] AS [Income_Frequency], 
    [Project1].[Issuer_Code] AS [Issuer_Code], 
    [Project1].[Ultimate_Issuer_Code] AS [Ultimate_Issuer_Code], 
    [Project1].[Asset_Currency] AS [Asset_Currency], 
    [Project1].[Min_Lot_Size] AS [Min_Lot_Size], 
    [Project1].[AvePrice_Rounding] AS [AvePrice_Rounding], 
    [Project1].[Issue_Date] AS [Issue_Date], 
    [Project1].[Maturity_Date] AS [Maturity_Date], 
    [Project1].[Coupon_Rate] AS [Coupon_Rate], 
    [Project1].[Price_Exchange] AS [Price_Exchange], 
    [Project1].[Trade_Currency] AS [Trade_Currency], 
    [Project1].[Price_Curr] AS [Price_Curr], 
    [Project1].[Currency_Pair_Code] AS [Currency_Pair_Code], 
    [Project1].[Share_Class] AS [Share_Class], 
    [Project1].[Current_Market_Price] AS [Current_Market_Price], 
    [Project1].[Index_Type] AS [Index_Type], 
    [Project1].[Clean_Price_Formula] AS [Clean_Price_Formula], 
    [Project1].[Accrued_Income_Price_Formula] AS [Accrued_Income_Price_Formula], 
    [Project1].[Odd_First_Coupon_Date] AS [Odd_First_Coupon_Date], 
    [Project1].[Odd_Last_Coupon_Date] AS [Odd_Last_Coupon_Date], 
    [Project1].[Coupon_Anniversary_Indicator] AS [Coupon_Anniversary_Indicator], 
    [Project1].[Track_EOM_Flag] AS [Track_EOM_Flag], 
    [Project1].[Next_Coupon_Date] AS [Next_Coupon_Date], 
    [Project1].[Previous_Coupon_Date] AS [Previous_Coupon_Date], 
    [Project1].[Payment_Frequency] AS [Payment_Frequency], 
    [Project1].[Coupon_BusDay_Adjustment] AS [Coupon_BusDay_Adjustment], 
    [Project1].[Next_Ex_Div_Date] AS [Next_Ex_Div_Date], 
    [Project1].[Ex_Div_BusDay_Adjustment] AS [Ex_Div_BusDay_Adjustment], 
    [Project1].[Ex_Div_Period] AS [Ex_Div_Period], 
    [Project1].[Ticker] AS [Ticker], 
    [Project1].[Inet_ID] AS [Inet_ID], 
    [Project1].[Bloomberg_ID] AS [Bloomberg_ID], 
    [Project1].[External_Sec_ID] AS [External_Sec_ID], 
    [Project1].[Reuters_ID] AS [Reuters_ID], 
    [Project1].[ISIN] AS [ISIN], 
    [Project1].[Call_Account_Flag] AS [Call_Account_Flag], 
    [Project1].[System_Locked] AS [System_Locked], 
    [Project1].[Last_Update_User1] AS [Last_Update_User1], 
    [Project1].[Last_Update_Date1] AS [Last_Update_Date1], 
    [Project1].[Security_Status] AS [Security_Status], 
    [Project1].[Benchmark_Portfolio] AS [Benchmark_Portfolio], 
    [Project1].[Active_flag] AS [Active_flag], 
    [Project1].[Dividend_FX_Security_ID] AS [Dividend_FX_Security_ID]
    FROM ( SELECT 
        [Extent1].[Entity_ID] AS [Entity_ID], 
        [Extent1].[Security_ID] AS [Security_ID], 
        [Extent1].[Issued_Amount] AS [Issued_Amount], 
        [Extent1].[Market_Capitalisation] AS [Market_Capitalisation], 
        [Extent1].[Risk_Premium] AS [Risk_Premium], 
        [Extent1].[Exit_Price] AS [Exit_Price], 
        [Extent1].[Total_Return_ME_1YR] AS [Total_Return_ME_1YR], 
        [Extent1].[Total_Return_ME_2YR] AS [Total_Return_ME_2YR], 
        [Extent1].[Total_Return_ME_3YR] AS [Total_Return_ME_3YR], 
        [Extent1].[Historic_Distribution] AS [Historic_Distribution], 
        [Extent1].[Distribution_Growth_Forecast_Yr1] AS [Distribution_Growth_Forecast_Yr1], 
        [Extent1].[Distribution_Growth_Forecast_Yr2] AS [Distribution_Growth_Forecast_Yr2], 
        [Extent1].[Distribution_Growth_Forecast_Yr3] AS [Distribution_Growth_Forecast_Yr3], 
        [Extent1].[Forecast_Distribution_Yr1] AS [Forecast_Distribution_Yr1], 
        [Extent1].[Forecast_Distribution_Yr2] AS [Forecast_Distribution_Yr2], 
        [Extent1].[Forecast_Distribution_Yr3] AS [Forecast_Distribution_Yr3], 
        [Extent1].[Earnings_Growth_Compounded] AS [Earnings_Growth_Compounded], 
        [Extent1].[Earnings_Forecast_Yr3] AS [Earnings_Forecast_Yr3], 
        [Extent1].[Historic_Dividend_Yield_FYE] AS [Historic_Dividend_Yield_FYE], 
        [Extent1].[Forward_Dividend_Yield_FYE] AS [Forward_Dividend_Yield_FYE], 
        [Extent1].[Yr3_Forward_Dividend_Yield] AS [Yr3_Forward_Dividend_Yield], 
        [Extent1].[Rolling_12M_Forward_Yield] AS [Rolling_12M_Forward_Yield], 
        [Extent1].[Historical_Earnings_FYE] AS [Historical_Earnings_FYE], 
        [Extent1].[Earnings_Forecast_Yr1] AS [Earnings_Forecast_Yr1], 
        [Extent1].[Earnings_Forecast_Yr2] AS [Earnings_Forecast_Yr2], 
        [Extent1].[Historic_Dividend_Yield_Relative] AS [Historic_Dividend_Yield_Relative], 
        [Extent1].[Rolling_12M_Historic_Distribution_PriceCurr] AS [Rolling_12M_Historic_Distribution_PriceCurr], 
        [Extent1].[Short_Term_Market_Rerate] AS [Short_Term_Market_Rerate], 
        [Extent1].[Forecast_12M_Total_Return] AS [Forecast_12M_Total_Return], 
        [Extent1].[Clean_Price] AS [Clean_Price], 
        [Extent1].[Rolling_Dividend_Yield_Historic] AS [Rolling_Dividend_Yield_Historic], 
        [Extent1].[Last_Update_Date] AS [Last_Update_Date], 
        [Extent1].[Last_Update_User] AS [Last_Update_User], 
        [Extent1].[Discount_Security_ID] AS [Discount_Security_ID], 
        [Extent1].[Net_Present_Value] AS [Net_Present_Value], 
        [Extent1].[Forecast_Rolling_Custom_Income] AS [Forecast_Rolling_Custom_Income], 
        [Extent1].[Custom_Period] AS [Custom_Period], 
        [Extent1].[Rolling_12M_Historic_Distribution] AS [Rolling_12M_Historic_Distribution], 
        [Extent1].[Record_Date] AS [Record_Date], 
        [Extent1].[Session_ID] AS [Session_ID], 
        [Extent1].[Hist_Last_Update_Date] AS [Hist_Last_Update_Date], 
        [Extent1].[Hist_Last_Update_User] AS [Hist_Last_Update_User], 
        [Extent1].[Rolling_12M_Forecast_Distribution] AS [Rolling_12M_Forecast_Distribution], 
        [Extent1].[Yr2_Forward_Dividend_Yield] AS [Yr2_Forward_Dividend_Yield], 
        [Extent1].[Exit_Yield] AS [Exit_Yield], 
        [Extent1].[Discount_Rate] AS [Discount_Rate], 
        [Extent1].[Distribution_Growth_Compounded] AS [Distribution_Growth_Compounded], 
        [Extent1].[Forecast_12MRolling_Income_Accrual] AS [Forecast_12MRolling_Income_Accrual], 
        [Extent1].[Rolling_12_to_24M_Forecast_Distribution] AS [Rolling_12_to_24M_Forecast_Distribution], 
        [Extent1].[Rolling_24_to_36M_Forecast_Distribution] AS [Rolling_24_to_36M_Forecast_Distribution], 
        [Extent1].[Forecast_Yr1_Dividend_Yield_Relative] AS [Forecast_Yr1_Dividend_Yield_Relative], 
        [Extent1].[Market_Historic_Yield] AS [Market_Historic_Yield], 
        [Extent1].[Market_Forward_Yield] AS [Market_Forward_Yield], 
        [Extent1].[Historic_Distribution_PriceCurr] AS [Historic_Distribution_PriceCurr], 
        [Extent1].[Forecast_Distribution_Yr1_PriceCurr] AS [Forecast_Distribution_Yr1_PriceCurr], 
        [Extent1].[Forecast_Distribution_Yr2_PriceCurr] AS [Forecast_Distribution_Yr2_PriceCurr], 
        [Extent1].[Forecast_Distribution_Yr3_PriceCurr] AS [Forecast_Distribution_Yr3_PriceCurr], 
        [Extent1].[Rolling_12M_Forecast_Distribution_PriceCurr] AS [Rolling_12M_Forecast_Distribution_PriceCurr], 
        [Extent1].[Rolling_12_24M_Forecast_Distribution_PriceCurr] AS [Rolling_12_24M_Forecast_Distribution_PriceCurr], 
        [Extent1].[Rolling_24_36M_Forecast_Distribution_PriceCurr] AS [Rolling_24_36M_Forecast_Distribution_PriceCurr], 
        [Extent1].[Distribution_Growth_Forecast_Yr4] AS [Distribution_Growth_Forecast_Yr4], 
        [Extent1].[Earnings_Forecast_Yr4] AS [Earnings_Forecast_Yr4], 
        [Extent1].[Forecast_Distribution_Yr4] AS [Forecast_Distribution_Yr4], 
        [Extent1].[Forecast_Distribution_Yr4_PriceCurr] AS [Forecast_Distribution_Yr4_PriceCurr], 
        [Extent2].[Security_ID] AS [Security_ID1], 
        [Extent2].[Entity_ID] AS [Entity_ID1], 
        [Extent2].[Security_Name] AS [Security_Name], 
        [Extent2].[Short_Name] AS [Short_Name], 
        [Extent2].[Primary_Exch] AS [Primary_Exch], 
        [Extent2].[Secondary_Exch] AS [Secondary_Exch], 
        [Extent2].[Country_Of_Domicile] AS [Country_Of_Domicile], 
        [Extent2].[Country_Of_Risk] AS [Country_Of_Risk], 
        [Extent2].[Security_Type_Code] AS [Security_Type_Code], 
        [Extent2].[Price_Multiplier] AS [Price_Multiplier], 
        [Extent2].[Income_Frequency] AS [Income_Frequency], 
        [Extent2].[Issuer_Code] AS [Issuer_Code], 
        [Extent2].[Ultimate_Issuer_Code] AS [Ultimate_Issuer_Code], 
        [Extent2].[Asset_Currency] AS [Asset_Currency], 
        [Extent2].[Min_Lot_Size] AS [Min_Lot_Size], 
        [Extent2].[Decimal_Precision] AS [Decimal_Precision], 
        [Extent2].[AvePrice_Rounding] AS [AvePrice_Rounding], 
        [Extent2].[Issue_Date] AS [Issue_Date], 
        [Extent2].[Maturity_Date] AS [Maturity_Date], 
        [Extent2].[Coupon_Rate] AS [Coupon_Rate], 
        [Extent2].[Price_Exchange] AS [Price_Exchange], 
        [Extent2].[Trade_Currency] AS [Trade_Currency], 
        [Extent2].[Price_Curr] AS [Price_Curr], 
        [Extent2].[Currency_Pair_Code] AS [Currency_Pair_Code], 
        [Extent2].[Share_Class] AS [Share_Class], 
        [Extent2].[Current_Market_Price] AS [Current_Market_Price], 
        [Extent2].[Index_Type] AS [Index_Type], 
        [Extent2].[Clean_Price_Formula] AS [Clean_Price_Formula], 
        [Extent2].[Accrued_Income_Price_Formula] AS [Accrued_Income_Price_Formula], 
        [Extent2].[Odd_First_Coupon_Date] AS [Odd_First_Coupon_Date], 
        [Extent2].[Odd_Last_Coupon_Date] AS [Odd_Last_Coupon_Date], 
        [Extent2].[Coupon_Anniversary_Indicator] AS [Coupon_Anniversary_Indicator], 
        [Extent2].[Track_EOM_Flag] AS [Track_EOM_Flag], 
        [Extent2].[Next_Coupon_Date] AS [Next_Coupon_Date], 
        [Extent2].[Previous_Coupon_Date] AS [Previous_Coupon_Date], 
        [Extent2].[Payment_Frequency] AS [Payment_Frequency], 
        [Extent2].[Coupon_BusDay_Adjustment] AS [Coupon_BusDay_Adjustment], 
        [Extent2].[Next_Ex_Div_Date] AS [Next_Ex_Div_Date], 
        [Extent2].[Ex_Div_BusDay_Adjustment] AS [Ex_Div_BusDay_Adjustment], 
        [Extent2].[Ex_Div_Period] AS [Ex_Div_Period], 
        [Extent2].[Ticker] AS [Ticker], 
        [Extent2].[Inet_ID] AS [Inet_ID], 
        [Extent2].[Bloomberg_ID] AS [Bloomberg_ID], 
        [Extent2].[External_Sec_ID] AS [External_Sec_ID], 
        [Extent2].[Reuters_ID] AS [Reuters_ID], 
        [Extent2].[ISIN] AS [ISIN], 
        [Extent2].[Call_Account_Flag] AS [Call_Account_Flag], 
        [Extent2].[System_Locked] AS [System_Locked], 
        [Extent2].[Last_Update_User] AS [Last_Update_User1], 
        [Extent2].[Last_Update_Date] AS [Last_Update_Date1], 
        [Extent2].[Security_Status] AS [Security_Status], 
        [Extent2].[Benchmark_Portfolio] AS [Benchmark_Portfolio], 
        [Extent2].[Active_flag] AS [Active_flag], 
        [Extent2].[Dividend_FX_Security_ID] AS [Dividend_FX_Security_ID]
        FROM  [dbo].[Security_Analytics_History] AS [Extent1]
        INNER JOIN [dbo].[Security_Detail] AS [Extent2] ON [Extent1].[Security_ID] = [Extent2].[Security_ID]
        WHERE [Extent1].[Security_ID] = @p__linq__0
    )  AS [Project1]
    ORDER BY [Project1].[Record_Date] DESC
2018-04-07 18:00:10.5820|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: IF db_id(N'MetopeAzureDb') IS NOT NULL SELECT 1 ELSE SELECT Count(*) FROM sys.databases WHERE [name]=N'MetopeAzureDb'
2018-04-07 18:00:10.6086|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: IF db_id(N'MetopeAzureDb') IS NOT NULL SELECT 1 ELSE SELECT Count(*) FROM sys.databases WHERE [name]=N'MetopeAzureDb'
2018-04-07 18:00:10.6301|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: IF db_id(N'MetopeAzureDb') IS NOT NULL SELECT 1 ELSE SELECT Count(*) FROM sys.databases WHERE [name]=N'MetopeAzureDb'
2018-04-07 18:00:10.6526|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: IF db_id(N'MetopeAzureDb') IS NOT NULL SELECT 1 ELSE SELECT Count(*) FROM sys.databases WHERE [name]=N'MetopeAzureDb'
2018-04-07 18:01:40.8525|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: select cast(serverproperty('EngineEdition') as int)
2018-04-07 18:01:40.9191|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: select cast(serverproperty('EngineEdition') as int)
2018-04-07 18:01:42.5240|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: IF db_id(N'MetopeAzureDb') IS NOT NULL SELECT 1 ELSE SELECT Count(*) FROM sys.databases WHERE [name]=N'MetopeAzureDb'
2018-04-07 18:01:42.5785|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: IF db_id(N'MetopeAzureDb') IS NOT NULL SELECT 1 ELSE SELECT Count(*) FROM sys.databases WHERE [name]=N'MetopeAzureDb'
2018-04-07 18:01:42.7196|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: IF db_id(N'MetopeAzureDb') IS NOT NULL SELECT 1 ELSE SELECT Count(*) FROM sys.databases WHERE [name]=N'MetopeAzureDb'
2018-04-07 18:01:42.7346|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: IF db_id(N'MetopeAzureDb') IS NOT NULL SELECT 1 ELSE SELECT Count(*) FROM sys.databases WHERE [name]=N'MetopeAzureDb'
2018-04-07 18:01:42.7626|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: 
SELECT Count(*)
FROM INFORMATION_SCHEMA.TABLES AS t
WHERE t.TABLE_SCHEMA + '.' + t.TABLE_NAME IN ('dbo.AspNetRoles','dbo.AspNetUserRoles','dbo.AspNetUsers','dbo.AspNetUserClaims','dbo.AspNetUserLogins')
    OR t.TABLE_NAME = 'EdmMetadata'
2018-04-07 18:01:42.8127|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: 
SELECT Count(*)
FROM INFORMATION_SCHEMA.TABLES AS t
WHERE t.TABLE_SCHEMA + '.' + t.TABLE_NAME IN ('dbo.AspNetRoles','dbo.AspNetUserRoles','dbo.AspNetUsers','dbo.AspNetUserClaims','dbo.AspNetUserLogins')
    OR t.TABLE_NAME = 'EdmMetadata'
2018-04-07 18:01:45.4561|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: SELECT 
    [GroupBy1].[A1] AS [C1]
    FROM ( SELECT 
        COUNT(1) AS [A1]
        FROM [dbo].[__MigrationHistory] AS [Extent1]
        WHERE [Extent1].[ContextKey] = @p__linq__0
    )  AS [GroupBy1]
2018-04-07 18:01:45.7008|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: SELECT 
    [GroupBy1].[A1] AS [C1]
    FROM ( SELECT 
        COUNT(1) AS [A1]
        FROM [dbo].[__MigrationHistory] AS [Extent1]
        WHERE [Extent1].[ContextKey] = @p__linq__0
    )  AS [GroupBy1]
2018-04-07 18:01:46.1831|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: SELECT TOP (1) 
    [Project1].[C1] AS [C1], 
    [Project1].[MigrationId] AS [MigrationId], 
    [Project1].[Model] AS [Model], 
    [Project1].[ProductVersion] AS [ProductVersion]
    FROM ( SELECT 
        [Extent1].[MigrationId] AS [MigrationId], 
        [Extent1].[Model] AS [Model], 
        [Extent1].[ProductVersion] AS [ProductVersion], 
        1 AS [C1]
        FROM [dbo].[__MigrationHistory] AS [Extent1]
        WHERE [Extent1].[ContextKey] = @p__linq__0
    )  AS [Project1]
    ORDER BY [Project1].[MigrationId] DESC
2018-04-07 18:01:46.2066|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: SELECT TOP (1) 
    [Project1].[C1] AS [C1], 
    [Project1].[MigrationId] AS [MigrationId], 
    [Project1].[Model] AS [Model], 
    [Project1].[ProductVersion] AS [ProductVersion]
    FROM ( SELECT 
        [Extent1].[MigrationId] AS [MigrationId], 
        [Extent1].[Model] AS [Model], 
        [Extent1].[ProductVersion] AS [ProductVersion], 
        1 AS [C1]
        FROM [dbo].[__MigrationHistory] AS [Extent1]
        WHERE [Extent1].[ContextKey] = @p__linq__0
    )  AS [Project1]
    ORDER BY [Project1].[MigrationId] DESC
2018-04-07 18:01:48.0214|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: True, Command Text: SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[EntityIdScope] AS [EntityIdScope], 
    [Extent1].[Email] AS [Email], 
    [Extent1].[EmailConfirmed] AS [EmailConfirmed], 
    [Extent1].[PasswordHash] AS [PasswordHash], 
    [Extent1].[SecurityStamp] AS [SecurityStamp], 
    [Extent1].[PhoneNumber] AS [PhoneNumber], 
    [Extent1].[PhoneNumberConfirmed] AS [PhoneNumberConfirmed], 
    [Extent1].[TwoFactorEnabled] AS [TwoFactorEnabled], 
    [Extent1].[LockoutEndDateUtc] AS [LockoutEndDateUtc], 
    [Extent1].[LockoutEnabled] AS [LockoutEnabled], 
    [Extent1].[AccessFailedCount] AS [AccessFailedCount], 
    [Extent1].[UserName] AS [UserName]
    FROM [dbo].[AspNetUsers] AS [Extent1]
    WHERE [Extent1].[Id] = @p0
2018-04-07 18:01:48.0619|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: True, Command Text: SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[EntityIdScope] AS [EntityIdScope], 
    [Extent1].[Email] AS [Email], 
    [Extent1].[EmailConfirmed] AS [EmailConfirmed], 
    [Extent1].[PasswordHash] AS [PasswordHash], 
    [Extent1].[SecurityStamp] AS [SecurityStamp], 
    [Extent1].[PhoneNumber] AS [PhoneNumber], 
    [Extent1].[PhoneNumberConfirmed] AS [PhoneNumberConfirmed], 
    [Extent1].[TwoFactorEnabled] AS [TwoFactorEnabled], 
    [Extent1].[LockoutEndDateUtc] AS [LockoutEndDateUtc], 
    [Extent1].[LockoutEnabled] AS [LockoutEnabled], 
    [Extent1].[AccessFailedCount] AS [AccessFailedCount], 
    [Extent1].[UserName] AS [UserName]
    FROM [dbo].[AspNetUsers] AS [Extent1]
    WHERE [Extent1].[Id] = @p0
2018-04-07 18:01:48.6163|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: True, Command Text: SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[UserId] AS [UserId], 
    [Extent1].[ClaimType] AS [ClaimType], 
    [Extent1].[ClaimValue] AS [ClaimValue]
    FROM [dbo].[AspNetUserClaims] AS [Extent1]
    WHERE [Extent1].[UserId] = @p__linq__0
2018-04-07 18:01:48.6378|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: True, Command Text: SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[UserId] AS [UserId], 
    [Extent1].[ClaimType] AS [ClaimType], 
    [Extent1].[ClaimValue] AS [ClaimValue]
    FROM [dbo].[AspNetUserClaims] AS [Extent1]
    WHERE [Extent1].[UserId] = @p__linq__0
2018-04-07 18:01:48.7399|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: True, Command Text: SELECT 
    [Extent1].[LoginProvider] AS [LoginProvider], 
    [Extent1].[ProviderKey] AS [ProviderKey], 
    [Extent1].[UserId] AS [UserId]
    FROM [dbo].[AspNetUserLogins] AS [Extent1]
    WHERE [Extent1].[UserId] = @p__linq__0
2018-04-07 18:01:48.7614|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: True, Command Text: SELECT 
    [Extent1].[LoginProvider] AS [LoginProvider], 
    [Extent1].[ProviderKey] AS [ProviderKey], 
    [Extent1].[UserId] AS [UserId]
    FROM [dbo].[AspNetUserLogins] AS [Extent1]
    WHERE [Extent1].[UserId] = @p__linq__0
2018-04-07 18:01:48.8690|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: True, Command Text: SELECT 
    [Extent1].[UserId] AS [UserId], 
    [Extent1].[RoleId] AS [RoleId]
    FROM [dbo].[AspNetUserRoles] AS [Extent1]
    WHERE [Extent1].[UserId] = @p__linq__0
2018-04-07 18:01:48.8960|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: True, Command Text: SELECT 
    [Extent1].[UserId] AS [UserId], 
    [Extent1].[RoleId] AS [RoleId]
    FROM [dbo].[AspNetUserRoles] AS [Extent1]
    WHERE [Extent1].[UserId] = @p__linq__0
2018-04-07 18:01:50.4982|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: SELECT 
    [Project1].[Decimal_Precision] AS [Decimal_Precision], 
    [Project1].[Entity_ID] AS [Entity_ID], 
    [Project1].[Security_ID] AS [Security_ID], 
    [Project1].[Issued_Amount] AS [Issued_Amount], 
    [Project1].[Market_Capitalisation] AS [Market_Capitalisation], 
    [Project1].[Risk_Premium] AS [Risk_Premium], 
    [Project1].[Exit_Price] AS [Exit_Price], 
    [Project1].[Total_Return_ME_1YR] AS [Total_Return_ME_1YR], 
    [Project1].[Total_Return_ME_2YR] AS [Total_Return_ME_2YR], 
    [Project1].[Total_Return_ME_3YR] AS [Total_Return_ME_3YR], 
    [Project1].[Historic_Distribution] AS [Historic_Distribution], 
    [Project1].[Distribution_Growth_Forecast_Yr1] AS [Distribution_Growth_Forecast_Yr1], 
    [Project1].[Distribution_Growth_Forecast_Yr2] AS [Distribution_Growth_Forecast_Yr2], 
    [Project1].[Distribution_Growth_Forecast_Yr3] AS [Distribution_Growth_Forecast_Yr3], 
    [Project1].[Forecast_Distribution_Yr1] AS [Forecast_Distribution_Yr1], 
    [Project1].[Forecast_Distribution_Yr2] AS [Forecast_Distribution_Yr2], 
    [Project1].[Forecast_Distribution_Yr3] AS [Forecast_Distribution_Yr3], 
    [Project1].[Earnings_Growth_Compounded] AS [Earnings_Growth_Compounded], 
    [Project1].[Earnings_Forecast_Yr3] AS [Earnings_Forecast_Yr3], 
    [Project1].[Historic_Dividend_Yield_FYE] AS [Historic_Dividend_Yield_FYE], 
    [Project1].[Forward_Dividend_Yield_FYE] AS [Forward_Dividend_Yield_FYE], 
    [Project1].[Yr3_Forward_Dividend_Yield] AS [Yr3_Forward_Dividend_Yield], 
    [Project1].[Rolling_12M_Forward_Yield] AS [Rolling_12M_Forward_Yield], 
    [Project1].[Historical_Earnings_FYE] AS [Historical_Earnings_FYE], 
    [Project1].[Earnings_Forecast_Yr1] AS [Earnings_Forecast_Yr1], 
    [Project1].[Earnings_Forecast_Yr2] AS [Earnings_Forecast_Yr2], 
    [Project1].[Historic_Dividend_Yield_Relative] AS [Historic_Dividend_Yield_Relative], 
    [Project1].[Rolling_12M_Historic_Distribution_PriceCurr] AS [Rolling_12M_Historic_Distribution_PriceCurr], 
    [Project1].[Short_Term_Market_Rerate] AS [Short_Term_Market_Rerate], 
    [Project1].[Forecast_12M_Total_Return] AS [Forecast_12M_Total_Return], 
    [Project1].[Clean_Price] AS [Clean_Price], 
    [Project1].[Rolling_Dividend_Yield_Historic] AS [Rolling_Dividend_Yield_Historic], 
    [Project1].[Last_Update_Date] AS [Last_Update_Date], 
    [Project1].[Last_Update_User] AS [Last_Update_User], 
    [Project1].[Discount_Security_ID] AS [Discount_Security_ID], 
    [Project1].[Net_Present_Value] AS [Net_Present_Value], 
    [Project1].[Forecast_Rolling_Custom_Income] AS [Forecast_Rolling_Custom_Income], 
    [Project1].[Custom_Period] AS [Custom_Period], 
    [Project1].[Rolling_12M_Historic_Distribution] AS [Rolling_12M_Historic_Distribution], 
    [Project1].[Record_Date] AS [Record_Date], 
    [Project1].[Session_ID] AS [Session_ID], 
    [Project1].[Hist_Last_Update_Date] AS [Hist_Last_Update_Date], 
    [Project1].[Hist_Last_Update_User] AS [Hist_Last_Update_User], 
    [Project1].[Rolling_12M_Forecast_Distribution] AS [Rolling_12M_Forecast_Distribution], 
    [Project1].[Yr2_Forward_Dividend_Yield] AS [Yr2_Forward_Dividend_Yield], 
    [Project1].[Exit_Yield] AS [Exit_Yield], 
    [Project1].[Discount_Rate] AS [Discount_Rate], 
    [Project1].[Distribution_Growth_Compounded] AS [Distribution_Growth_Compounded], 
    [Project1].[Forecast_12MRolling_Income_Accrual] AS [Forecast_12MRolling_Income_Accrual], 
    [Project1].[Rolling_12_to_24M_Forecast_Distribution] AS [Rolling_12_to_24M_Forecast_Distribution], 
    [Project1].[Rolling_24_to_36M_Forecast_Distribution] AS [Rolling_24_to_36M_Forecast_Distribution], 
    [Project1].[Forecast_Yr1_Dividend_Yield_Relative] AS [Forecast_Yr1_Dividend_Yield_Relative], 
    [Project1].[Market_Historic_Yield] AS [Market_Historic_Yield], 
    [Project1].[Market_Forward_Yield] AS [Market_Forward_Yield], 
    [Project1].[Historic_Distribution_PriceCurr] AS [Historic_Distribution_PriceCurr], 
    [Project1].[Forecast_Distribution_Yr1_PriceCurr] AS [Forecast_Distribution_Yr1_PriceCurr], 
    [Project1].[Forecast_Distribution_Yr2_PriceCurr] AS [Forecast_Distribution_Yr2_PriceCurr], 
    [Project1].[Forecast_Distribution_Yr3_PriceCurr] AS [Forecast_Distribution_Yr3_PriceCurr], 
    [Project1].[Rolling_12M_Forecast_Distribution_PriceCurr] AS [Rolling_12M_Forecast_Distribution_PriceCurr], 
    [Project1].[Rolling_12_24M_Forecast_Distribution_PriceCurr] AS [Rolling_12_24M_Forecast_Distribution_PriceCurr], 
    [Project1].[Rolling_24_36M_Forecast_Distribution_PriceCurr] AS [Rolling_24_36M_Forecast_Distribution_PriceCurr], 
    [Project1].[Distribution_Growth_Forecast_Yr4] AS [Distribution_Growth_Forecast_Yr4], 
    [Project1].[Earnings_Forecast_Yr4] AS [Earnings_Forecast_Yr4], 
    [Project1].[Forecast_Distribution_Yr4] AS [Forecast_Distribution_Yr4], 
    [Project1].[Forecast_Distribution_Yr4_PriceCurr] AS [Forecast_Distribution_Yr4_PriceCurr], 
    [Project1].[Security_ID1] AS [Security_ID1], 
    [Project1].[Entity_ID1] AS [Entity_ID1], 
    [Project1].[Security_Name] AS [Security_Name], 
    [Project1].[Short_Name] AS [Short_Name], 
    [Project1].[Primary_Exch] AS [Primary_Exch], 
    [Project1].[Secondary_Exch] AS [Secondary_Exch], 
    [Project1].[Country_Of_Domicile] AS [Country_Of_Domicile], 
    [Project1].[Country_Of_Risk] AS [Country_Of_Risk], 
    [Project1].[Security_Type_Code] AS [Security_Type_Code], 
    [Project1].[Price_Multiplier] AS [Price_Multiplier], 
    [Project1].[Income_Frequency] AS [Income_Frequency], 
    [Project1].[Issuer_Code] AS [Issuer_Code], 
    [Project1].[Ultimate_Issuer_Code] AS [Ultimate_Issuer_Code], 
    [Project1].[Asset_Currency] AS [Asset_Currency], 
    [Project1].[Min_Lot_Size] AS [Min_Lot_Size], 
    [Project1].[AvePrice_Rounding] AS [AvePrice_Rounding], 
    [Project1].[Issue_Date] AS [Issue_Date], 
    [Project1].[Maturity_Date] AS [Maturity_Date], 
    [Project1].[Coupon_Rate] AS [Coupon_Rate], 
    [Project1].[Price_Exchange] AS [Price_Exchange], 
    [Project1].[Trade_Currency] AS [Trade_Currency], 
    [Project1].[Price_Curr] AS [Price_Curr], 
    [Project1].[Currency_Pair_Code] AS [Currency_Pair_Code], 
    [Project1].[Share_Class] AS [Share_Class], 
    [Project1].[Current_Market_Price] AS [Current_Market_Price], 
    [Project1].[Index_Type] AS [Index_Type], 
    [Project1].[Clean_Price_Formula] AS [Clean_Price_Formula], 
    [Project1].[Accrued_Income_Price_Formula] AS [Accrued_Income_Price_Formula], 
    [Project1].[Odd_First_Coupon_Date] AS [Odd_First_Coupon_Date], 
    [Project1].[Odd_Last_Coupon_Date] AS [Odd_Last_Coupon_Date], 
    [Project1].[Coupon_Anniversary_Indicator] AS [Coupon_Anniversary_Indicator], 
    [Project1].[Track_EOM_Flag] AS [Track_EOM_Flag], 
    [Project1].[Next_Coupon_Date] AS [Next_Coupon_Date], 
    [Project1].[Previous_Coupon_Date] AS [Previous_Coupon_Date], 
    [Project1].[Payment_Frequency] AS [Payment_Frequency], 
    [Project1].[Coupon_BusDay_Adjustment] AS [Coupon_BusDay_Adjustment], 
    [Project1].[Next_Ex_Div_Date] AS [Next_Ex_Div_Date], 
    [Project1].[Ex_Div_BusDay_Adjustment] AS [Ex_Div_BusDay_Adjustment], 
    [Project1].[Ex_Div_Period] AS [Ex_Div_Period], 
    [Project1].[Ticker] AS [Ticker], 
    [Project1].[Inet_ID] AS [Inet_ID], 
    [Project1].[Bloomberg_ID] AS [Bloomberg_ID], 
    [Project1].[External_Sec_ID] AS [External_Sec_ID], 
    [Project1].[Reuters_ID] AS [Reuters_ID], 
    [Project1].[ISIN] AS [ISIN], 
    [Project1].[Call_Account_Flag] AS [Call_Account_Flag], 
    [Project1].[System_Locked] AS [System_Locked], 
    [Project1].[Last_Update_User1] AS [Last_Update_User1], 
    [Project1].[Last_Update_Date1] AS [Last_Update_Date1], 
    [Project1].[Security_Status] AS [Security_Status], 
    [Project1].[Benchmark_Portfolio] AS [Benchmark_Portfolio], 
    [Project1].[Active_flag] AS [Active_flag], 
    [Project1].[Dividend_FX_Security_ID] AS [Dividend_FX_Security_ID]
    FROM ( SELECT 
        [Extent1].[Entity_ID] AS [Entity_ID], 
        [Extent1].[Security_ID] AS [Security_ID], 
        [Extent1].[Issued_Amount] AS [Issued_Amount], 
        [Extent1].[Market_Capitalisation] AS [Market_Capitalisation], 
        [Extent1].[Risk_Premium] AS [Risk_Premium], 
        [Extent1].[Exit_Price] AS [Exit_Price], 
        [Extent1].[Total_Return_ME_1YR] AS [Total_Return_ME_1YR], 
        [Extent1].[Total_Return_ME_2YR] AS [Total_Return_ME_2YR], 
        [Extent1].[Total_Return_ME_3YR] AS [Total_Return_ME_3YR], 
        [Extent1].[Historic_Distribution] AS [Historic_Distribution], 
        [Extent1].[Distribution_Growth_Forecast_Yr1] AS [Distribution_Growth_Forecast_Yr1], 
        [Extent1].[Distribution_Growth_Forecast_Yr2] AS [Distribution_Growth_Forecast_Yr2], 
        [Extent1].[Distribution_Growth_Forecast_Yr3] AS [Distribution_Growth_Forecast_Yr3], 
        [Extent1].[Forecast_Distribution_Yr1] AS [Forecast_Distribution_Yr1], 
        [Extent1].[Forecast_Distribution_Yr2] AS [Forecast_Distribution_Yr2], 
        [Extent1].[Forecast_Distribution_Yr3] AS [Forecast_Distribution_Yr3], 
        [Extent1].[Earnings_Growth_Compounded] AS [Earnings_Growth_Compounded], 
        [Extent1].[Earnings_Forecast_Yr3] AS [Earnings_Forecast_Yr3], 
        [Extent1].[Historic_Dividend_Yield_FYE] AS [Historic_Dividend_Yield_FYE], 
        [Extent1].[Forward_Dividend_Yield_FYE] AS [Forward_Dividend_Yield_FYE], 
        [Extent1].[Yr3_Forward_Dividend_Yield] AS [Yr3_Forward_Dividend_Yield], 
        [Extent1].[Rolling_12M_Forward_Yield] AS [Rolling_12M_Forward_Yield], 
        [Extent1].[Historical_Earnings_FYE] AS [Historical_Earnings_FYE], 
        [Extent1].[Earnings_Forecast_Yr1] AS [Earnings_Forecast_Yr1], 
        [Extent1].[Earnings_Forecast_Yr2] AS [Earnings_Forecast_Yr2], 
        [Extent1].[Historic_Dividend_Yield_Relative] AS [Historic_Dividend_Yield_Relative], 
        [Extent1].[Rolling_12M_Historic_Distribution_PriceCurr] AS [Rolling_12M_Historic_Distribution_PriceCurr], 
        [Extent1].[Short_Term_Market_Rerate] AS [Short_Term_Market_Rerate], 
        [Extent1].[Forecast_12M_Total_Return] AS [Forecast_12M_Total_Return], 
        [Extent1].[Clean_Price] AS [Clean_Price], 
        [Extent1].[Rolling_Dividend_Yield_Historic] AS [Rolling_Dividend_Yield_Historic], 
        [Extent1].[Last_Update_Date] AS [Last_Update_Date], 
        [Extent1].[Last_Update_User] AS [Last_Update_User], 
        [Extent1].[Discount_Security_ID] AS [Discount_Security_ID], 
        [Extent1].[Net_Present_Value] AS [Net_Present_Value], 
        [Extent1].[Forecast_Rolling_Custom_Income] AS [Forecast_Rolling_Custom_Income], 
        [Extent1].[Custom_Period] AS [Custom_Period], 
        [Extent1].[Rolling_12M_Historic_Distribution] AS [Rolling_12M_Historic_Distribution], 
        [Extent1].[Record_Date] AS [Record_Date], 
        [Extent1].[Session_ID] AS [Session_ID], 
        [Extent1].[Hist_Last_Update_Date] AS [Hist_Last_Update_Date], 
        [Extent1].[Hist_Last_Update_User] AS [Hist_Last_Update_User], 
        [Extent1].[Rolling_12M_Forecast_Distribution] AS [Rolling_12M_Forecast_Distribution], 
        [Extent1].[Yr2_Forward_Dividend_Yield] AS [Yr2_Forward_Dividend_Yield], 
        [Extent1].[Exit_Yield] AS [Exit_Yield], 
        [Extent1].[Discount_Rate] AS [Discount_Rate], 
        [Extent1].[Distribution_Growth_Compounded] AS [Distribution_Growth_Compounded], 
        [Extent1].[Forecast_12MRolling_Income_Accrual] AS [Forecast_12MRolling_Income_Accrual], 
        [Extent1].[Rolling_12_to_24M_Forecast_Distribution] AS [Rolling_12_to_24M_Forecast_Distribution], 
        [Extent1].[Rolling_24_to_36M_Forecast_Distribution] AS [Rolling_24_to_36M_Forecast_Distribution], 
        [Extent1].[Forecast_Yr1_Dividend_Yield_Relative] AS [Forecast_Yr1_Dividend_Yield_Relative], 
        [Extent1].[Market_Historic_Yield] AS [Market_Historic_Yield], 
        [Extent1].[Market_Forward_Yield] AS [Market_Forward_Yield], 
        [Extent1].[Historic_Distribution_PriceCurr] AS [Historic_Distribution_PriceCurr], 
        [Extent1].[Forecast_Distribution_Yr1_PriceCurr] AS [Forecast_Distribution_Yr1_PriceCurr], 
        [Extent1].[Forecast_Distribution_Yr2_PriceCurr] AS [Forecast_Distribution_Yr2_PriceCurr], 
        [Extent1].[Forecast_Distribution_Yr3_PriceCurr] AS [Forecast_Distribution_Yr3_PriceCurr], 
        [Extent1].[Rolling_12M_Forecast_Distribution_PriceCurr] AS [Rolling_12M_Forecast_Distribution_PriceCurr], 
        [Extent1].[Rolling_12_24M_Forecast_Distribution_PriceCurr] AS [Rolling_12_24M_Forecast_Distribution_PriceCurr], 
        [Extent1].[Rolling_24_36M_Forecast_Distribution_PriceCurr] AS [Rolling_24_36M_Forecast_Distribution_PriceCurr], 
        [Extent1].[Distribution_Growth_Forecast_Yr4] AS [Distribution_Growth_Forecast_Yr4], 
        [Extent1].[Earnings_Forecast_Yr4] AS [Earnings_Forecast_Yr4], 
        [Extent1].[Forecast_Distribution_Yr4] AS [Forecast_Distribution_Yr4], 
        [Extent1].[Forecast_Distribution_Yr4_PriceCurr] AS [Forecast_Distribution_Yr4_PriceCurr], 
        [Extent2].[Security_ID] AS [Security_ID1], 
        [Extent2].[Entity_ID] AS [Entity_ID1], 
        [Extent2].[Security_Name] AS [Security_Name], 
        [Extent2].[Short_Name] AS [Short_Name], 
        [Extent2].[Primary_Exch] AS [Primary_Exch], 
        [Extent2].[Secondary_Exch] AS [Secondary_Exch], 
        [Extent2].[Country_Of_Domicile] AS [Country_Of_Domicile], 
        [Extent2].[Country_Of_Risk] AS [Country_Of_Risk], 
        [Extent2].[Security_Type_Code] AS [Security_Type_Code], 
        [Extent2].[Price_Multiplier] AS [Price_Multiplier], 
        [Extent2].[Income_Frequency] AS [Income_Frequency], 
        [Extent2].[Issuer_Code] AS [Issuer_Code], 
        [Extent2].[Ultimate_Issuer_Code] AS [Ultimate_Issuer_Code], 
        [Extent2].[Asset_Currency] AS [Asset_Currency], 
        [Extent2].[Min_Lot_Size] AS [Min_Lot_Size], 
        [Extent2].[Decimal_Precision] AS [Decimal_Precision], 
        [Extent2].[AvePrice_Rounding] AS [AvePrice_Rounding], 
        [Extent2].[Issue_Date] AS [Issue_Date], 
        [Extent2].[Maturity_Date] AS [Maturity_Date], 
        [Extent2].[Coupon_Rate] AS [Coupon_Rate], 
        [Extent2].[Price_Exchange] AS [Price_Exchange], 
        [Extent2].[Trade_Currency] AS [Trade_Currency], 
        [Extent2].[Price_Curr] AS [Price_Curr], 
        [Extent2].[Currency_Pair_Code] AS [Currency_Pair_Code], 
        [Extent2].[Share_Class] AS [Share_Class], 
        [Extent2].[Current_Market_Price] AS [Current_Market_Price], 
        [Extent2].[Index_Type] AS [Index_Type], 
        [Extent2].[Clean_Price_Formula] AS [Clean_Price_Formula], 
        [Extent2].[Accrued_Income_Price_Formula] AS [Accrued_Income_Price_Formula], 
        [Extent2].[Odd_First_Coupon_Date] AS [Odd_First_Coupon_Date], 
        [Extent2].[Odd_Last_Coupon_Date] AS [Odd_Last_Coupon_Date], 
        [Extent2].[Coupon_Anniversary_Indicator] AS [Coupon_Anniversary_Indicator], 
        [Extent2].[Track_EOM_Flag] AS [Track_EOM_Flag], 
        [Extent2].[Next_Coupon_Date] AS [Next_Coupon_Date], 
        [Extent2].[Previous_Coupon_Date] AS [Previous_Coupon_Date], 
        [Extent2].[Payment_Frequency] AS [Payment_Frequency], 
        [Extent2].[Coupon_BusDay_Adjustment] AS [Coupon_BusDay_Adjustment], 
        [Extent2].[Next_Ex_Div_Date] AS [Next_Ex_Div_Date], 
        [Extent2].[Ex_Div_BusDay_Adjustment] AS [Ex_Div_BusDay_Adjustment], 
        [Extent2].[Ex_Div_Period] AS [Ex_Div_Period], 
        [Extent2].[Ticker] AS [Ticker], 
        [Extent2].[Inet_ID] AS [Inet_ID], 
        [Extent2].[Bloomberg_ID] AS [Bloomberg_ID], 
        [Extent2].[External_Sec_ID] AS [External_Sec_ID], 
        [Extent2].[Reuters_ID] AS [Reuters_ID], 
        [Extent2].[ISIN] AS [ISIN], 
        [Extent2].[Call_Account_Flag] AS [Call_Account_Flag], 
        [Extent2].[System_Locked] AS [System_Locked], 
        [Extent2].[Last_Update_User] AS [Last_Update_User1], 
        [Extent2].[Last_Update_Date] AS [Last_Update_Date1], 
        [Extent2].[Security_Status] AS [Security_Status], 
        [Extent2].[Benchmark_Portfolio] AS [Benchmark_Portfolio], 
        [Extent2].[Active_flag] AS [Active_flag], 
        [Extent2].[Dividend_FX_Security_ID] AS [Dividend_FX_Security_ID]
        FROM  [dbo].[Security_Analytics_History] AS [Extent1]
        INNER JOIN [dbo].[Security_Detail] AS [Extent2] ON [Extent1].[Security_ID] = [Extent2].[Security_ID]
        WHERE [Extent1].[Security_ID] = @p__linq__0
    )  AS [Project1]
    ORDER BY [Project1].[Record_Date] DESC
2018-04-07 18:01:50.5577|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: SELECT 
    [Project1].[Decimal_Precision] AS [Decimal_Precision], 
    [Project1].[Entity_ID] AS [Entity_ID], 
    [Project1].[Security_ID] AS [Security_ID], 
    [Project1].[Issued_Amount] AS [Issued_Amount], 
    [Project1].[Market_Capitalisation] AS [Market_Capitalisation], 
    [Project1].[Risk_Premium] AS [Risk_Premium], 
    [Project1].[Exit_Price] AS [Exit_Price], 
    [Project1].[Total_Return_ME_1YR] AS [Total_Return_ME_1YR], 
    [Project1].[Total_Return_ME_2YR] AS [Total_Return_ME_2YR], 
    [Project1].[Total_Return_ME_3YR] AS [Total_Return_ME_3YR], 
    [Project1].[Historic_Distribution] AS [Historic_Distribution], 
    [Project1].[Distribution_Growth_Forecast_Yr1] AS [Distribution_Growth_Forecast_Yr1], 
    [Project1].[Distribution_Growth_Forecast_Yr2] AS [Distribution_Growth_Forecast_Yr2], 
    [Project1].[Distribution_Growth_Forecast_Yr3] AS [Distribution_Growth_Forecast_Yr3], 
    [Project1].[Forecast_Distribution_Yr1] AS [Forecast_Distribution_Yr1], 
    [Project1].[Forecast_Distribution_Yr2] AS [Forecast_Distribution_Yr2], 
    [Project1].[Forecast_Distribution_Yr3] AS [Forecast_Distribution_Yr3], 
    [Project1].[Earnings_Growth_Compounded] AS [Earnings_Growth_Compounded], 
    [Project1].[Earnings_Forecast_Yr3] AS [Earnings_Forecast_Yr3], 
    [Project1].[Historic_Dividend_Yield_FYE] AS [Historic_Dividend_Yield_FYE], 
    [Project1].[Forward_Dividend_Yield_FYE] AS [Forward_Dividend_Yield_FYE], 
    [Project1].[Yr3_Forward_Dividend_Yield] AS [Yr3_Forward_Dividend_Yield], 
    [Project1].[Rolling_12M_Forward_Yield] AS [Rolling_12M_Forward_Yield], 
    [Project1].[Historical_Earnings_FYE] AS [Historical_Earnings_FYE], 
    [Project1].[Earnings_Forecast_Yr1] AS [Earnings_Forecast_Yr1], 
    [Project1].[Earnings_Forecast_Yr2] AS [Earnings_Forecast_Yr2], 
    [Project1].[Historic_Dividend_Yield_Relative] AS [Historic_Dividend_Yield_Relative], 
    [Project1].[Rolling_12M_Historic_Distribution_PriceCurr] AS [Rolling_12M_Historic_Distribution_PriceCurr], 
    [Project1].[Short_Term_Market_Rerate] AS [Short_Term_Market_Rerate], 
    [Project1].[Forecast_12M_Total_Return] AS [Forecast_12M_Total_Return], 
    [Project1].[Clean_Price] AS [Clean_Price], 
    [Project1].[Rolling_Dividend_Yield_Historic] AS [Rolling_Dividend_Yield_Historic], 
    [Project1].[Last_Update_Date] AS [Last_Update_Date], 
    [Project1].[Last_Update_User] AS [Last_Update_User], 
    [Project1].[Discount_Security_ID] AS [Discount_Security_ID], 
    [Project1].[Net_Present_Value] AS [Net_Present_Value], 
    [Project1].[Forecast_Rolling_Custom_Income] AS [Forecast_Rolling_Custom_Income], 
    [Project1].[Custom_Period] AS [Custom_Period], 
    [Project1].[Rolling_12M_Historic_Distribution] AS [Rolling_12M_Historic_Distribution], 
    [Project1].[Record_Date] AS [Record_Date], 
    [Project1].[Session_ID] AS [Session_ID], 
    [Project1].[Hist_Last_Update_Date] AS [Hist_Last_Update_Date], 
    [Project1].[Hist_Last_Update_User] AS [Hist_Last_Update_User], 
    [Project1].[Rolling_12M_Forecast_Distribution] AS [Rolling_12M_Forecast_Distribution], 
    [Project1].[Yr2_Forward_Dividend_Yield] AS [Yr2_Forward_Dividend_Yield], 
    [Project1].[Exit_Yield] AS [Exit_Yield], 
    [Project1].[Discount_Rate] AS [Discount_Rate], 
    [Project1].[Distribution_Growth_Compounded] AS [Distribution_Growth_Compounded], 
    [Project1].[Forecast_12MRolling_Income_Accrual] AS [Forecast_12MRolling_Income_Accrual], 
    [Project1].[Rolling_12_to_24M_Forecast_Distribution] AS [Rolling_12_to_24M_Forecast_Distribution], 
    [Project1].[Rolling_24_to_36M_Forecast_Distribution] AS [Rolling_24_to_36M_Forecast_Distribution], 
    [Project1].[Forecast_Yr1_Dividend_Yield_Relative] AS [Forecast_Yr1_Dividend_Yield_Relative], 
    [Project1].[Market_Historic_Yield] AS [Market_Historic_Yield], 
    [Project1].[Market_Forward_Yield] AS [Market_Forward_Yield], 
    [Project1].[Historic_Distribution_PriceCurr] AS [Historic_Distribution_PriceCurr], 
    [Project1].[Forecast_Distribution_Yr1_PriceCurr] AS [Forecast_Distribution_Yr1_PriceCurr], 
    [Project1].[Forecast_Distribution_Yr2_PriceCurr] AS [Forecast_Distribution_Yr2_PriceCurr], 
    [Project1].[Forecast_Distribution_Yr3_PriceCurr] AS [Forecast_Distribution_Yr3_PriceCurr], 
    [Project1].[Rolling_12M_Forecast_Distribution_PriceCurr] AS [Rolling_12M_Forecast_Distribution_PriceCurr], 
    [Project1].[Rolling_12_24M_Forecast_Distribution_PriceCurr] AS [Rolling_12_24M_Forecast_Distribution_PriceCurr], 
    [Project1].[Rolling_24_36M_Forecast_Distribution_PriceCurr] AS [Rolling_24_36M_Forecast_Distribution_PriceCurr], 
    [Project1].[Distribution_Growth_Forecast_Yr4] AS [Distribution_Growth_Forecast_Yr4], 
    [Project1].[Earnings_Forecast_Yr4] AS [Earnings_Forecast_Yr4], 
    [Project1].[Forecast_Distribution_Yr4] AS [Forecast_Distribution_Yr4], 
    [Project1].[Forecast_Distribution_Yr4_PriceCurr] AS [Forecast_Distribution_Yr4_PriceCurr], 
    [Project1].[Security_ID1] AS [Security_ID1], 
    [Project1].[Entity_ID1] AS [Entity_ID1], 
    [Project1].[Security_Name] AS [Security_Name], 
    [Project1].[Short_Name] AS [Short_Name], 
    [Project1].[Primary_Exch] AS [Primary_Exch], 
    [Project1].[Secondary_Exch] AS [Secondary_Exch], 
    [Project1].[Country_Of_Domicile] AS [Country_Of_Domicile], 
    [Project1].[Country_Of_Risk] AS [Country_Of_Risk], 
    [Project1].[Security_Type_Code] AS [Security_Type_Code], 
    [Project1].[Price_Multiplier] AS [Price_Multiplier], 
    [Project1].[Income_Frequency] AS [Income_Frequency], 
    [Project1].[Issuer_Code] AS [Issuer_Code], 
    [Project1].[Ultimate_Issuer_Code] AS [Ultimate_Issuer_Code], 
    [Project1].[Asset_Currency] AS [Asset_Currency], 
    [Project1].[Min_Lot_Size] AS [Min_Lot_Size], 
    [Project1].[AvePrice_Rounding] AS [AvePrice_Rounding], 
    [Project1].[Issue_Date] AS [Issue_Date], 
    [Project1].[Maturity_Date] AS [Maturity_Date], 
    [Project1].[Coupon_Rate] AS [Coupon_Rate], 
    [Project1].[Price_Exchange] AS [Price_Exchange], 
    [Project1].[Trade_Currency] AS [Trade_Currency], 
    [Project1].[Price_Curr] AS [Price_Curr], 
    [Project1].[Currency_Pair_Code] AS [Currency_Pair_Code], 
    [Project1].[Share_Class] AS [Share_Class], 
    [Project1].[Current_Market_Price] AS [Current_Market_Price], 
    [Project1].[Index_Type] AS [Index_Type], 
    [Project1].[Clean_Price_Formula] AS [Clean_Price_Formula], 
    [Project1].[Accrued_Income_Price_Formula] AS [Accrued_Income_Price_Formula], 
    [Project1].[Odd_First_Coupon_Date] AS [Odd_First_Coupon_Date], 
    [Project1].[Odd_Last_Coupon_Date] AS [Odd_Last_Coupon_Date], 
    [Project1].[Coupon_Anniversary_Indicator] AS [Coupon_Anniversary_Indicator], 
    [Project1].[Track_EOM_Flag] AS [Track_EOM_Flag], 
    [Project1].[Next_Coupon_Date] AS [Next_Coupon_Date], 
    [Project1].[Previous_Coupon_Date] AS [Previous_Coupon_Date], 
    [Project1].[Payment_Frequency] AS [Payment_Frequency], 
    [Project1].[Coupon_BusDay_Adjustment] AS [Coupon_BusDay_Adjustment], 
    [Project1].[Next_Ex_Div_Date] AS [Next_Ex_Div_Date], 
    [Project1].[Ex_Div_BusDay_Adjustment] AS [Ex_Div_BusDay_Adjustment], 
    [Project1].[Ex_Div_Period] AS [Ex_Div_Period], 
    [Project1].[Ticker] AS [Ticker], 
    [Project1].[Inet_ID] AS [Inet_ID], 
    [Project1].[Bloomberg_ID] AS [Bloomberg_ID], 
    [Project1].[External_Sec_ID] AS [External_Sec_ID], 
    [Project1].[Reuters_ID] AS [Reuters_ID], 
    [Project1].[ISIN] AS [ISIN], 
    [Project1].[Call_Account_Flag] AS [Call_Account_Flag], 
    [Project1].[System_Locked] AS [System_Locked], 
    [Project1].[Last_Update_User1] AS [Last_Update_User1], 
    [Project1].[Last_Update_Date1] AS [Last_Update_Date1], 
    [Project1].[Security_Status] AS [Security_Status], 
    [Project1].[Benchmark_Portfolio] AS [Benchmark_Portfolio], 
    [Project1].[Active_flag] AS [Active_flag], 
    [Project1].[Dividend_FX_Security_ID] AS [Dividend_FX_Security_ID]
    FROM ( SELECT 
        [Extent1].[Entity_ID] AS [Entity_ID], 
        [Extent1].[Security_ID] AS [Security_ID], 
        [Extent1].[Issued_Amount] AS [Issued_Amount], 
        [Extent1].[Market_Capitalisation] AS [Market_Capitalisation], 
        [Extent1].[Risk_Premium] AS [Risk_Premium], 
        [Extent1].[Exit_Price] AS [Exit_Price], 
        [Extent1].[Total_Return_ME_1YR] AS [Total_Return_ME_1YR], 
        [Extent1].[Total_Return_ME_2YR] AS [Total_Return_ME_2YR], 
        [Extent1].[Total_Return_ME_3YR] AS [Total_Return_ME_3YR], 
        [Extent1].[Historic_Distribution] AS [Historic_Distribution], 
        [Extent1].[Distribution_Growth_Forecast_Yr1] AS [Distribution_Growth_Forecast_Yr1], 
        [Extent1].[Distribution_Growth_Forecast_Yr2] AS [Distribution_Growth_Forecast_Yr2], 
        [Extent1].[Distribution_Growth_Forecast_Yr3] AS [Distribution_Growth_Forecast_Yr3], 
        [Extent1].[Forecast_Distribution_Yr1] AS [Forecast_Distribution_Yr1], 
        [Extent1].[Forecast_Distribution_Yr2] AS [Forecast_Distribution_Yr2], 
        [Extent1].[Forecast_Distribution_Yr3] AS [Forecast_Distribution_Yr3], 
        [Extent1].[Earnings_Growth_Compounded] AS [Earnings_Growth_Compounded], 
        [Extent1].[Earnings_Forecast_Yr3] AS [Earnings_Forecast_Yr3], 
        [Extent1].[Historic_Dividend_Yield_FYE] AS [Historic_Dividend_Yield_FYE], 
        [Extent1].[Forward_Dividend_Yield_FYE] AS [Forward_Dividend_Yield_FYE], 
        [Extent1].[Yr3_Forward_Dividend_Yield] AS [Yr3_Forward_Dividend_Yield], 
        [Extent1].[Rolling_12M_Forward_Yield] AS [Rolling_12M_Forward_Yield], 
        [Extent1].[Historical_Earnings_FYE] AS [Historical_Earnings_FYE], 
        [Extent1].[Earnings_Forecast_Yr1] AS [Earnings_Forecast_Yr1], 
        [Extent1].[Earnings_Forecast_Yr2] AS [Earnings_Forecast_Yr2], 
        [Extent1].[Historic_Dividend_Yield_Relative] AS [Historic_Dividend_Yield_Relative], 
        [Extent1].[Rolling_12M_Historic_Distribution_PriceCurr] AS [Rolling_12M_Historic_Distribution_PriceCurr], 
        [Extent1].[Short_Term_Market_Rerate] AS [Short_Term_Market_Rerate], 
        [Extent1].[Forecast_12M_Total_Return] AS [Forecast_12M_Total_Return], 
        [Extent1].[Clean_Price] AS [Clean_Price], 
        [Extent1].[Rolling_Dividend_Yield_Historic] AS [Rolling_Dividend_Yield_Historic], 
        [Extent1].[Last_Update_Date] AS [Last_Update_Date], 
        [Extent1].[Last_Update_User] AS [Last_Update_User], 
        [Extent1].[Discount_Security_ID] AS [Discount_Security_ID], 
        [Extent1].[Net_Present_Value] AS [Net_Present_Value], 
        [Extent1].[Forecast_Rolling_Custom_Income] AS [Forecast_Rolling_Custom_Income], 
        [Extent1].[Custom_Period] AS [Custom_Period], 
        [Extent1].[Rolling_12M_Historic_Distribution] AS [Rolling_12M_Historic_Distribution], 
        [Extent1].[Record_Date] AS [Record_Date], 
        [Extent1].[Session_ID] AS [Session_ID], 
        [Extent1].[Hist_Last_Update_Date] AS [Hist_Last_Update_Date], 
        [Extent1].[Hist_Last_Update_User] AS [Hist_Last_Update_User], 
        [Extent1].[Rolling_12M_Forecast_Distribution] AS [Rolling_12M_Forecast_Distribution], 
        [Extent1].[Yr2_Forward_Dividend_Yield] AS [Yr2_Forward_Dividend_Yield], 
        [Extent1].[Exit_Yield] AS [Exit_Yield], 
        [Extent1].[Discount_Rate] AS [Discount_Rate], 
        [Extent1].[Distribution_Growth_Compounded] AS [Distribution_Growth_Compounded], 
        [Extent1].[Forecast_12MRolling_Income_Accrual] AS [Forecast_12MRolling_Income_Accrual], 
        [Extent1].[Rolling_12_to_24M_Forecast_Distribution] AS [Rolling_12_to_24M_Forecast_Distribution], 
        [Extent1].[Rolling_24_to_36M_Forecast_Distribution] AS [Rolling_24_to_36M_Forecast_Distribution], 
        [Extent1].[Forecast_Yr1_Dividend_Yield_Relative] AS [Forecast_Yr1_Dividend_Yield_Relative], 
        [Extent1].[Market_Historic_Yield] AS [Market_Historic_Yield], 
        [Extent1].[Market_Forward_Yield] AS [Market_Forward_Yield], 
        [Extent1].[Historic_Distribution_PriceCurr] AS [Historic_Distribution_PriceCurr], 
        [Extent1].[Forecast_Distribution_Yr1_PriceCurr] AS [Forecast_Distribution_Yr1_PriceCurr], 
        [Extent1].[Forecast_Distribution_Yr2_PriceCurr] AS [Forecast_Distribution_Yr2_PriceCurr], 
        [Extent1].[Forecast_Distribution_Yr3_PriceCurr] AS [Forecast_Distribution_Yr3_PriceCurr], 
        [Extent1].[Rolling_12M_Forecast_Distribution_PriceCurr] AS [Rolling_12M_Forecast_Distribution_PriceCurr], 
        [Extent1].[Rolling_12_24M_Forecast_Distribution_PriceCurr] AS [Rolling_12_24M_Forecast_Distribution_PriceCurr], 
        [Extent1].[Rolling_24_36M_Forecast_Distribution_PriceCurr] AS [Rolling_24_36M_Forecast_Distribution_PriceCurr], 
        [Extent1].[Distribution_Growth_Forecast_Yr4] AS [Distribution_Growth_Forecast_Yr4], 
        [Extent1].[Earnings_Forecast_Yr4] AS [Earnings_Forecast_Yr4], 
        [Extent1].[Forecast_Distribution_Yr4] AS [Forecast_Distribution_Yr4], 
        [Extent1].[Forecast_Distribution_Yr4_PriceCurr] AS [Forecast_Distribution_Yr4_PriceCurr], 
        [Extent2].[Security_ID] AS [Security_ID1], 
        [Extent2].[Entity_ID] AS [Entity_ID1], 
        [Extent2].[Security_Name] AS [Security_Name], 
        [Extent2].[Short_Name] AS [Short_Name], 
        [Extent2].[Primary_Exch] AS [Primary_Exch], 
        [Extent2].[Secondary_Exch] AS [Secondary_Exch], 
        [Extent2].[Country_Of_Domicile] AS [Country_Of_Domicile], 
        [Extent2].[Country_Of_Risk] AS [Country_Of_Risk], 
        [Extent2].[Security_Type_Code] AS [Security_Type_Code], 
        [Extent2].[Price_Multiplier] AS [Price_Multiplier], 
        [Extent2].[Income_Frequency] AS [Income_Frequency], 
        [Extent2].[Issuer_Code] AS [Issuer_Code], 
        [Extent2].[Ultimate_Issuer_Code] AS [Ultimate_Issuer_Code], 
        [Extent2].[Asset_Currency] AS [Asset_Currency], 
        [Extent2].[Min_Lot_Size] AS [Min_Lot_Size], 
        [Extent2].[Decimal_Precision] AS [Decimal_Precision], 
        [Extent2].[AvePrice_Rounding] AS [AvePrice_Rounding], 
        [Extent2].[Issue_Date] AS [Issue_Date], 
        [Extent2].[Maturity_Date] AS [Maturity_Date], 
        [Extent2].[Coupon_Rate] AS [Coupon_Rate], 
        [Extent2].[Price_Exchange] AS [Price_Exchange], 
        [Extent2].[Trade_Currency] AS [Trade_Currency], 
        [Extent2].[Price_Curr] AS [Price_Curr], 
        [Extent2].[Currency_Pair_Code] AS [Currency_Pair_Code], 
        [Extent2].[Share_Class] AS [Share_Class], 
        [Extent2].[Current_Market_Price] AS [Current_Market_Price], 
        [Extent2].[Index_Type] AS [Index_Type], 
        [Extent2].[Clean_Price_Formula] AS [Clean_Price_Formula], 
        [Extent2].[Accrued_Income_Price_Formula] AS [Accrued_Income_Price_Formula], 
        [Extent2].[Odd_First_Coupon_Date] AS [Odd_First_Coupon_Date], 
        [Extent2].[Odd_Last_Coupon_Date] AS [Odd_Last_Coupon_Date], 
        [Extent2].[Coupon_Anniversary_Indicator] AS [Coupon_Anniversary_Indicator], 
        [Extent2].[Track_EOM_Flag] AS [Track_EOM_Flag], 
        [Extent2].[Next_Coupon_Date] AS [Next_Coupon_Date], 
        [Extent2].[Previous_Coupon_Date] AS [Previous_Coupon_Date], 
        [Extent2].[Payment_Frequency] AS [Payment_Frequency], 
        [Extent2].[Coupon_BusDay_Adjustment] AS [Coupon_BusDay_Adjustment], 
        [Extent2].[Next_Ex_Div_Date] AS [Next_Ex_Div_Date], 
        [Extent2].[Ex_Div_BusDay_Adjustment] AS [Ex_Div_BusDay_Adjustment], 
        [Extent2].[Ex_Div_Period] AS [Ex_Div_Period], 
        [Extent2].[Ticker] AS [Ticker], 
        [Extent2].[Inet_ID] AS [Inet_ID], 
        [Extent2].[Bloomberg_ID] AS [Bloomberg_ID], 
        [Extent2].[External_Sec_ID] AS [External_Sec_ID], 
        [Extent2].[Reuters_ID] AS [Reuters_ID], 
        [Extent2].[ISIN] AS [ISIN], 
        [Extent2].[Call_Account_Flag] AS [Call_Account_Flag], 
        [Extent2].[System_Locked] AS [System_Locked], 
        [Extent2].[Last_Update_User] AS [Last_Update_User1], 
        [Extent2].[Last_Update_Date] AS [Last_Update_Date1], 
        [Extent2].[Security_Status] AS [Security_Status], 
        [Extent2].[Benchmark_Portfolio] AS [Benchmark_Portfolio], 
        [Extent2].[Active_flag] AS [Active_flag], 
        [Extent2].[Dividend_FX_Security_ID] AS [Dividend_FX_Security_ID]
        FROM  [dbo].[Security_Analytics_History] AS [Extent1]
        INNER JOIN [dbo].[Security_Detail] AS [Extent2] ON [Extent1].[Security_ID] = [Extent2].[Security_ID]
        WHERE [Extent1].[Security_ID] = @p__linq__0
    )  AS [Project1]
    ORDER BY [Project1].[Record_Date] DESC
2018-04-07 18:02:04.4826|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: IF db_id(N'MetopeAzureDb') IS NOT NULL SELECT 1 ELSE SELECT Count(*) FROM sys.databases WHERE [name]=N'MetopeAzureDb'
2018-04-07 18:02:04.5771|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: IF db_id(N'MetopeAzureDb') IS NOT NULL SELECT 1 ELSE SELECT Count(*) FROM sys.databases WHERE [name]=N'MetopeAzureDb'
2018-04-07 18:02:04.6642|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: IF db_id(N'MetopeAzureDb') IS NOT NULL SELECT 1 ELSE SELECT Count(*) FROM sys.databases WHERE [name]=N'MetopeAzureDb'
2018-04-07 18:02:04.6842|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: IF db_id(N'MetopeAzureDb') IS NOT NULL SELECT 1 ELSE SELECT Count(*) FROM sys.databases WHERE [name]=N'MetopeAzureDb'
2018-04-07 18:02:04.7162|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: True, Command Text: SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[EntityIdScope] AS [EntityIdScope], 
    [Extent1].[Email] AS [Email], 
    [Extent1].[EmailConfirmed] AS [EmailConfirmed], 
    [Extent1].[PasswordHash] AS [PasswordHash], 
    [Extent1].[SecurityStamp] AS [SecurityStamp], 
    [Extent1].[PhoneNumber] AS [PhoneNumber], 
    [Extent1].[PhoneNumberConfirmed] AS [PhoneNumberConfirmed], 
    [Extent1].[TwoFactorEnabled] AS [TwoFactorEnabled], 
    [Extent1].[LockoutEndDateUtc] AS [LockoutEndDateUtc], 
    [Extent1].[LockoutEnabled] AS [LockoutEnabled], 
    [Extent1].[AccessFailedCount] AS [AccessFailedCount], 
    [Extent1].[UserName] AS [UserName]
    FROM [dbo].[AspNetUsers] AS [Extent1]
    WHERE [Extent1].[Id] = @p0
2018-04-07 18:02:04.7457|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: True, Command Text: SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[EntityIdScope] AS [EntityIdScope], 
    [Extent1].[Email] AS [Email], 
    [Extent1].[EmailConfirmed] AS [EmailConfirmed], 
    [Extent1].[PasswordHash] AS [PasswordHash], 
    [Extent1].[SecurityStamp] AS [SecurityStamp], 
    [Extent1].[PhoneNumber] AS [PhoneNumber], 
    [Extent1].[PhoneNumberConfirmed] AS [PhoneNumberConfirmed], 
    [Extent1].[TwoFactorEnabled] AS [TwoFactorEnabled], 
    [Extent1].[LockoutEndDateUtc] AS [LockoutEndDateUtc], 
    [Extent1].[LockoutEnabled] AS [LockoutEnabled], 
    [Extent1].[AccessFailedCount] AS [AccessFailedCount], 
    [Extent1].[UserName] AS [UserName]
    FROM [dbo].[AspNetUsers] AS [Extent1]
    WHERE [Extent1].[Id] = @p0
2018-04-07 18:02:04.7723|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: True, Command Text: SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[UserId] AS [UserId], 
    [Extent1].[ClaimType] AS [ClaimType], 
    [Extent1].[ClaimValue] AS [ClaimValue]
    FROM [dbo].[AspNetUserClaims] AS [Extent1]
    WHERE [Extent1].[UserId] = @p__linq__0
2018-04-07 18:02:04.7998|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: True, Command Text: SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[UserId] AS [UserId], 
    [Extent1].[ClaimType] AS [ClaimType], 
    [Extent1].[ClaimValue] AS [ClaimValue]
    FROM [dbo].[AspNetUserClaims] AS [Extent1]
    WHERE [Extent1].[UserId] = @p__linq__0
2018-04-07 18:02:04.8248|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: True, Command Text: SELECT 
    [Extent1].[LoginProvider] AS [LoginProvider], 
    [Extent1].[ProviderKey] AS [ProviderKey], 
    [Extent1].[UserId] AS [UserId]
    FROM [dbo].[AspNetUserLogins] AS [Extent1]
    WHERE [Extent1].[UserId] = @p__linq__0
2018-04-07 18:02:04.8498|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: True, Command Text: SELECT 
    [Extent1].[LoginProvider] AS [LoginProvider], 
    [Extent1].[ProviderKey] AS [ProviderKey], 
    [Extent1].[UserId] AS [UserId]
    FROM [dbo].[AspNetUserLogins] AS [Extent1]
    WHERE [Extent1].[UserId] = @p__linq__0
2018-04-07 18:02:04.8693|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: True, Command Text: SELECT 
    [Extent1].[UserId] AS [UserId], 
    [Extent1].[RoleId] AS [RoleId]
    FROM [dbo].[AspNetUserRoles] AS [Extent1]
    WHERE [Extent1].[UserId] = @p__linq__0
2018-04-07 18:02:04.8924|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: True, Command Text: SELECT 
    [Extent1].[UserId] AS [UserId], 
    [Extent1].[RoleId] AS [RoleId]
    FROM [dbo].[AspNetUserRoles] AS [Extent1]
    WHERE [Extent1].[UserId] = @p__linq__0
2018-04-07 18:02:05.0610|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: SELECT TOP (2) 
    [Extent1].[Entity_ID] AS [Entity_ID], 
    [Extent1].[Entity_Code] AS [Entity_Code], 
    [Extent1].[Entity_Name] AS [Entity_Name], 
    [Extent1].[Import_Folder] AS [Import_Folder], 
    [Extent1].[Export_Folder] AS [Export_Folder]
    FROM [dbo].[Entity] AS [Extent1]
    WHERE [Extent1].[Entity_ID] = @p0
2018-04-07 18:02:05.1005|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: SELECT TOP (2) 
    [Extent1].[Entity_ID] AS [Entity_ID], 
    [Extent1].[Entity_Code] AS [Entity_Code], 
    [Extent1].[Entity_Name] AS [Entity_Name], 
    [Extent1].[Import_Folder] AS [Import_Folder], 
    [Extent1].[Export_Folder] AS [Export_Folder]
    FROM [dbo].[Entity] AS [Extent1]
    WHERE [Extent1].[Entity_ID] = @p0
2018-04-07 18:03:16.3631|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: SELECT 
    [Project1].[Security_ID] AS [Security_ID], 
    [Project1].[Entity_ID] AS [Entity_ID], 
    [Project1].[Security_Name] AS [Security_Name], 
    [Project1].[Short_Name] AS [Short_Name], 
    [Project1].[Primary_Exch] AS [Primary_Exch], 
    [Project1].[Secondary_Exch] AS [Secondary_Exch], 
    [Project1].[Country_Of_Domicile] AS [Country_Of_Domicile], 
    [Project1].[Country_Of_Risk] AS [Country_Of_Risk], 
    [Project1].[Security_Type_Code] AS [Security_Type_Code], 
    [Project1].[Price_Multiplier] AS [Price_Multiplier], 
    [Project1].[Income_Frequency] AS [Income_Frequency], 
    [Project1].[Issuer_Code] AS [Issuer_Code], 
    [Project1].[Ultimate_Issuer_Code] AS [Ultimate_Issuer_Code], 
    [Project1].[Asset_Currency] AS [Asset_Currency], 
    [Project1].[Min_Lot_Size] AS [Min_Lot_Size], 
    [Project1].[Decimal_Precision] AS [Decimal_Precision], 
    [Project1].[AvePrice_Rounding] AS [AvePrice_Rounding], 
    [Project1].[Issue_Date] AS [Issue_Date], 
    [Project1].[Maturity_Date] AS [Maturity_Date], 
    [Project1].[Coupon_Rate] AS [Coupon_Rate], 
    [Project1].[Price_Exchange] AS [Price_Exchange], 
    [Project1].[Trade_Currency] AS [Trade_Currency], 
    [Project1].[Price_Curr] AS [Price_Curr], 
    [Project1].[Currency_Pair_Code] AS [Currency_Pair_Code], 
    [Project1].[Share_Class] AS [Share_Class], 
    [Project1].[Current_Market_Price] AS [Current_Market_Price], 
    [Project1].[Index_Type] AS [Index_Type], 
    [Project1].[Clean_Price_Formula] AS [Clean_Price_Formula], 
    [Project1].[Accrued_Income_Price_Formula] AS [Accrued_Income_Price_Formula], 
    [Project1].[Odd_First_Coupon_Date] AS [Odd_First_Coupon_Date], 
    [Project1].[Odd_Last_Coupon_Date] AS [Odd_Last_Coupon_Date], 
    [Project1].[Coupon_Anniversary_Indicator] AS [Coupon_Anniversary_Indicator], 
    [Project1].[Track_EOM_Flag] AS [Track_EOM_Flag], 
    [Project1].[Next_Coupon_Date] AS [Next_Coupon_Date], 
    [Project1].[Previous_Coupon_Date] AS [Previous_Coupon_Date], 
    [Project1].[Payment_Frequency] AS [Payment_Frequency], 
    [Project1].[Coupon_BusDay_Adjustment] AS [Coupon_BusDay_Adjustment], 
    [Project1].[Next_Ex_Div_Date] AS [Next_Ex_Div_Date], 
    [Project1].[Ex_Div_BusDay_Adjustment] AS [Ex_Div_BusDay_Adjustment], 
    [Project1].[Ex_Div_Period] AS [Ex_Div_Period], 
    [Project1].[Ticker] AS [Ticker], 
    [Project1].[Inet_ID] AS [Inet_ID], 
    [Project1].[Bloomberg_ID] AS [Bloomberg_ID], 
    [Project1].[External_Sec_ID] AS [External_Sec_ID], 
    [Project1].[Reuters_ID] AS [Reuters_ID], 
    [Project1].[ISIN] AS [ISIN], 
    [Project1].[Call_Account_Flag] AS [Call_Account_Flag], 
    [Project1].[System_Locked] AS [System_Locked], 
    [Project1].[Last_Update_User] AS [Last_Update_User], 
    [Project1].[Last_Update_Date] AS [Last_Update_Date], 
    [Project1].[Security_Status] AS [Security_Status], 
    [Project1].[Benchmark_Portfolio] AS [Benchmark_Portfolio], 
    [Project1].[Active_flag] AS [Active_flag], 
    [Project1].[Dividend_FX_Security_ID] AS [Dividend_FX_Security_ID]
    FROM ( SELECT 
        [Extent1].[Security_ID] AS [Security_ID], 
        [Extent1].[Entity_ID] AS [Entity_ID], 
        [Extent1].[Security_Name] AS [Security_Name], 
        [Extent1].[Short_Name] AS [Short_Name], 
        [Extent1].[Primary_Exch] AS [Primary_Exch], 
        [Extent1].[Secondary_Exch] AS [Secondary_Exch], 
        [Extent1].[Country_Of_Domicile] AS [Country_Of_Domicile], 
        [Extent1].[Country_Of_Risk] AS [Country_Of_Risk], 
        [Extent1].[Security_Type_Code] AS [Security_Type_Code], 
        [Extent1].[Price_Multiplier] AS [Price_Multiplier], 
        [Extent1].[Income_Frequency] AS [Income_Frequency], 
        [Extent1].[Issuer_Code] AS [Issuer_Code], 
        [Extent1].[Ultimate_Issuer_Code] AS [Ultimate_Issuer_Code], 
        [Extent1].[Asset_Currency] AS [Asset_Currency], 
        [Extent1].[Min_Lot_Size] AS [Min_Lot_Size], 
        [Extent1].[Decimal_Precision] AS [Decimal_Precision], 
        [Extent1].[AvePrice_Rounding] AS [AvePrice_Rounding], 
        [Extent1].[Issue_Date] AS [Issue_Date], 
        [Extent1].[Maturity_Date] AS [Maturity_Date], 
        [Extent1].[Coupon_Rate] AS [Coupon_Rate], 
        [Extent1].[Price_Exchange] AS [Price_Exchange], 
        [Extent1].[Trade_Currency] AS [Trade_Currency], 
        [Extent1].[Price_Curr] AS [Price_Curr], 
        [Extent1].[Currency_Pair_Code] AS [Currency_Pair_Code], 
        [Extent1].[Share_Class] AS [Share_Class], 
        [Extent1].[Current_Market_Price] AS [Current_Market_Price], 
        [Extent1].[Index_Type] AS [Index_Type], 
        [Extent1].[Clean_Price_Formula] AS [Clean_Price_Formula], 
        [Extent1].[Accrued_Income_Price_Formula] AS [Accrued_Income_Price_Formula], 
        [Extent1].[Odd_First_Coupon_Date] AS [Odd_First_Coupon_Date], 
        [Extent1].[Odd_Last_Coupon_Date] AS [Odd_Last_Coupon_Date], 
        [Extent1].[Coupon_Anniversary_Indicator] AS [Coupon_Anniversary_Indicator], 
        [Extent1].[Track_EOM_Flag] AS [Track_EOM_Flag], 
        [Extent1].[Next_Coupon_Date] AS [Next_Coupon_Date], 
        [Extent1].[Previous_Coupon_Date] AS [Previous_Coupon_Date], 
        [Extent1].[Payment_Frequency] AS [Payment_Frequency], 
        [Extent1].[Coupon_BusDay_Adjustment] AS [Coupon_BusDay_Adjustment], 
        [Extent1].[Next_Ex_Div_Date] AS [Next_Ex_Div_Date], 
        [Extent1].[Ex_Div_BusDay_Adjustment] AS [Ex_Div_BusDay_Adjustment], 
        [Extent1].[Ex_Div_Period] AS [Ex_Div_Period], 
        [Extent1].[Ticker] AS [Ticker], 
        [Extent1].[Inet_ID] AS [Inet_ID], 
        [Extent1].[Bloomberg_ID] AS [Bloomberg_ID], 
        [Extent1].[External_Sec_ID] AS [External_Sec_ID], 
        [Extent1].[Reuters_ID] AS [Reuters_ID], 
        [Extent1].[ISIN] AS [ISIN], 
        [Extent1].[Call_Account_Flag] AS [Call_Account_Flag], 
        [Extent1].[System_Locked] AS [System_Locked], 
        [Extent1].[Last_Update_User] AS [Last_Update_User], 
        [Extent1].[Last_Update_Date] AS [Last_Update_Date], 
        [Extent1].[Security_Status] AS [Security_Status], 
        [Extent1].[Benchmark_Portfolio] AS [Benchmark_Portfolio], 
        [Extent1].[Active_flag] AS [Active_flag], 
        [Extent1].[Dividend_FX_Security_ID] AS [Dividend_FX_Security_ID]
        FROM [dbo].[Security_Detail] AS [Extent1]
        WHERE ([Extent1].[Entity_ID] IN (@p__linq__0,@p__linq__1)) AND ((CASE WHEN ( NOT ((N'' = @p__linq__2) AND (@p__linq__2 IS NOT NULL))) THEN CASE WHEN ([Extent1].[Security_Type_Code] = @p__linq__3) THEN cast(1 as bit) WHEN ( NOT (([Extent1].[Security_Type_Code] = @p__linq__3) AND (0 = (CASE WHEN (@p__linq__3 IS NULL) THEN cast(1 as bit) ELSE cast(0 as bit) END)))) THEN cast(0 as bit) END WHEN ('' <> [Extent1].[Security_Type_Code]) THEN cast(1 as bit) WHEN ('' = [Extent1].[Security_Type_Code]) THEN cast(0 as bit) END) = 1)
    )  AS [Project1]
    ORDER BY [Project1].[Security_Name] ASC
2018-04-07 18:03:16.4041|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: SELECT 
    [Project1].[Security_ID] AS [Security_ID], 
    [Project1].[Entity_ID] AS [Entity_ID], 
    [Project1].[Security_Name] AS [Security_Name], 
    [Project1].[Short_Name] AS [Short_Name], 
    [Project1].[Primary_Exch] AS [Primary_Exch], 
    [Project1].[Secondary_Exch] AS [Secondary_Exch], 
    [Project1].[Country_Of_Domicile] AS [Country_Of_Domicile], 
    [Project1].[Country_Of_Risk] AS [Country_Of_Risk], 
    [Project1].[Security_Type_Code] AS [Security_Type_Code], 
    [Project1].[Price_Multiplier] AS [Price_Multiplier], 
    [Project1].[Income_Frequency] AS [Income_Frequency], 
    [Project1].[Issuer_Code] AS [Issuer_Code], 
    [Project1].[Ultimate_Issuer_Code] AS [Ultimate_Issuer_Code], 
    [Project1].[Asset_Currency] AS [Asset_Currency], 
    [Project1].[Min_Lot_Size] AS [Min_Lot_Size], 
    [Project1].[Decimal_Precision] AS [Decimal_Precision], 
    [Project1].[AvePrice_Rounding] AS [AvePrice_Rounding], 
    [Project1].[Issue_Date] AS [Issue_Date], 
    [Project1].[Maturity_Date] AS [Maturity_Date], 
    [Project1].[Coupon_Rate] AS [Coupon_Rate], 
    [Project1].[Price_Exchange] AS [Price_Exchange], 
    [Project1].[Trade_Currency] AS [Trade_Currency], 
    [Project1].[Price_Curr] AS [Price_Curr], 
    [Project1].[Currency_Pair_Code] AS [Currency_Pair_Code], 
    [Project1].[Share_Class] AS [Share_Class], 
    [Project1].[Current_Market_Price] AS [Current_Market_Price], 
    [Project1].[Index_Type] AS [Index_Type], 
    [Project1].[Clean_Price_Formula] AS [Clean_Price_Formula], 
    [Project1].[Accrued_Income_Price_Formula] AS [Accrued_Income_Price_Formula], 
    [Project1].[Odd_First_Coupon_Date] AS [Odd_First_Coupon_Date], 
    [Project1].[Odd_Last_Coupon_Date] AS [Odd_Last_Coupon_Date], 
    [Project1].[Coupon_Anniversary_Indicator] AS [Coupon_Anniversary_Indicator], 
    [Project1].[Track_EOM_Flag] AS [Track_EOM_Flag], 
    [Project1].[Next_Coupon_Date] AS [Next_Coupon_Date], 
    [Project1].[Previous_Coupon_Date] AS [Previous_Coupon_Date], 
    [Project1].[Payment_Frequency] AS [Payment_Frequency], 
    [Project1].[Coupon_BusDay_Adjustment] AS [Coupon_BusDay_Adjustment], 
    [Project1].[Next_Ex_Div_Date] AS [Next_Ex_Div_Date], 
    [Project1].[Ex_Div_BusDay_Adjustment] AS [Ex_Div_BusDay_Adjustment], 
    [Project1].[Ex_Div_Period] AS [Ex_Div_Period], 
    [Project1].[Ticker] AS [Ticker], 
    [Project1].[Inet_ID] AS [Inet_ID], 
    [Project1].[Bloomberg_ID] AS [Bloomberg_ID], 
    [Project1].[External_Sec_ID] AS [External_Sec_ID], 
    [Project1].[Reuters_ID] AS [Reuters_ID], 
    [Project1].[ISIN] AS [ISIN], 
    [Project1].[Call_Account_Flag] AS [Call_Account_Flag], 
    [Project1].[System_Locked] AS [System_Locked], 
    [Project1].[Last_Update_User] AS [Last_Update_User], 
    [Project1].[Last_Update_Date] AS [Last_Update_Date], 
    [Project1].[Security_Status] AS [Security_Status], 
    [Project1].[Benchmark_Portfolio] AS [Benchmark_Portfolio], 
    [Project1].[Active_flag] AS [Active_flag], 
    [Project1].[Dividend_FX_Security_ID] AS [Dividend_FX_Security_ID]
    FROM ( SELECT 
        [Extent1].[Security_ID] AS [Security_ID], 
        [Extent1].[Entity_ID] AS [Entity_ID], 
        [Extent1].[Security_Name] AS [Security_Name], 
        [Extent1].[Short_Name] AS [Short_Name], 
        [Extent1].[Primary_Exch] AS [Primary_Exch], 
        [Extent1].[Secondary_Exch] AS [Secondary_Exch], 
        [Extent1].[Country_Of_Domicile] AS [Country_Of_Domicile], 
        [Extent1].[Country_Of_Risk] AS [Country_Of_Risk], 
        [Extent1].[Security_Type_Code] AS [Security_Type_Code], 
        [Extent1].[Price_Multiplier] AS [Price_Multiplier], 
        [Extent1].[Income_Frequency] AS [Income_Frequency], 
        [Extent1].[Issuer_Code] AS [Issuer_Code], 
        [Extent1].[Ultimate_Issuer_Code] AS [Ultimate_Issuer_Code], 
        [Extent1].[Asset_Currency] AS [Asset_Currency], 
        [Extent1].[Min_Lot_Size] AS [Min_Lot_Size], 
        [Extent1].[Decimal_Precision] AS [Decimal_Precision], 
        [Extent1].[AvePrice_Rounding] AS [AvePrice_Rounding], 
        [Extent1].[Issue_Date] AS [Issue_Date], 
        [Extent1].[Maturity_Date] AS [Maturity_Date], 
        [Extent1].[Coupon_Rate] AS [Coupon_Rate], 
        [Extent1].[Price_Exchange] AS [Price_Exchange], 
        [Extent1].[Trade_Currency] AS [Trade_Currency], 
        [Extent1].[Price_Curr] AS [Price_Curr], 
        [Extent1].[Currency_Pair_Code] AS [Currency_Pair_Code], 
        [Extent1].[Share_Class] AS [Share_Class], 
        [Extent1].[Current_Market_Price] AS [Current_Market_Price], 
        [Extent1].[Index_Type] AS [Index_Type], 
        [Extent1].[Clean_Price_Formula] AS [Clean_Price_Formula], 
        [Extent1].[Accrued_Income_Price_Formula] AS [Accrued_Income_Price_Formula], 
        [Extent1].[Odd_First_Coupon_Date] AS [Odd_First_Coupon_Date], 
        [Extent1].[Odd_Last_Coupon_Date] AS [Odd_Last_Coupon_Date], 
        [Extent1].[Coupon_Anniversary_Indicator] AS [Coupon_Anniversary_Indicator], 
        [Extent1].[Track_EOM_Flag] AS [Track_EOM_Flag], 
        [Extent1].[Next_Coupon_Date] AS [Next_Coupon_Date], 
        [Extent1].[Previous_Coupon_Date] AS [Previous_Coupon_Date], 
        [Extent1].[Payment_Frequency] AS [Payment_Frequency], 
        [Extent1].[Coupon_BusDay_Adjustment] AS [Coupon_BusDay_Adjustment], 
        [Extent1].[Next_Ex_Div_Date] AS [Next_Ex_Div_Date], 
        [Extent1].[Ex_Div_BusDay_Adjustment] AS [Ex_Div_BusDay_Adjustment], 
        [Extent1].[Ex_Div_Period] AS [Ex_Div_Period], 
        [Extent1].[Ticker] AS [Ticker], 
        [Extent1].[Inet_ID] AS [Inet_ID], 
        [Extent1].[Bloomberg_ID] AS [Bloomberg_ID], 
        [Extent1].[External_Sec_ID] AS [External_Sec_ID], 
        [Extent1].[Reuters_ID] AS [Reuters_ID], 
        [Extent1].[ISIN] AS [ISIN], 
        [Extent1].[Call_Account_Flag] AS [Call_Account_Flag], 
        [Extent1].[System_Locked] AS [System_Locked], 
        [Extent1].[Last_Update_User] AS [Last_Update_User], 
        [Extent1].[Last_Update_Date] AS [Last_Update_Date], 
        [Extent1].[Security_Status] AS [Security_Status], 
        [Extent1].[Benchmark_Portfolio] AS [Benchmark_Portfolio], 
        [Extent1].[Active_flag] AS [Active_flag], 
        [Extent1].[Dividend_FX_Security_ID] AS [Dividend_FX_Security_ID]
        FROM [dbo].[Security_Detail] AS [Extent1]
        WHERE ([Extent1].[Entity_ID] IN (@p__linq__0,@p__linq__1)) AND ((CASE WHEN ( NOT ((N'' = @p__linq__2) AND (@p__linq__2 IS NOT NULL))) THEN CASE WHEN ([Extent1].[Security_Type_Code] = @p__linq__3) THEN cast(1 as bit) WHEN ( NOT (([Extent1].[Security_Type_Code] = @p__linq__3) AND (0 = (CASE WHEN (@p__linq__3 IS NULL) THEN cast(1 as bit) ELSE cast(0 as bit) END)))) THEN cast(0 as bit) END WHEN ('' <> [Extent1].[Security_Type_Code]) THEN cast(1 as bit) WHEN ('' = [Extent1].[Security_Type_Code]) THEN cast(0 as bit) END) = 1)
    )  AS [Project1]
    ORDER BY [Project1].[Security_Name] ASC
2018-04-07 18:03:23.9452|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: SELECT 
    [Project1].[Security_ID] AS [Security_ID], 
    [Project1].[Entity_ID] AS [Entity_ID], 
    [Project1].[Security_Name] AS [Security_Name], 
    [Project1].[Short_Name] AS [Short_Name], 
    [Project1].[Primary_Exch] AS [Primary_Exch], 
    [Project1].[Secondary_Exch] AS [Secondary_Exch], 
    [Project1].[Country_Of_Domicile] AS [Country_Of_Domicile], 
    [Project1].[Country_Of_Risk] AS [Country_Of_Risk], 
    [Project1].[Security_Type_Code] AS [Security_Type_Code], 
    [Project1].[Price_Multiplier] AS [Price_Multiplier], 
    [Project1].[Income_Frequency] AS [Income_Frequency], 
    [Project1].[Issuer_Code] AS [Issuer_Code], 
    [Project1].[Ultimate_Issuer_Code] AS [Ultimate_Issuer_Code], 
    [Project1].[Asset_Currency] AS [Asset_Currency], 
    [Project1].[Min_Lot_Size] AS [Min_Lot_Size], 
    [Project1].[Decimal_Precision] AS [Decimal_Precision], 
    [Project1].[AvePrice_Rounding] AS [AvePrice_Rounding], 
    [Project1].[Issue_Date] AS [Issue_Date], 
    [Project1].[Maturity_Date] AS [Maturity_Date], 
    [Project1].[Coupon_Rate] AS [Coupon_Rate], 
    [Project1].[Price_Exchange] AS [Price_Exchange], 
    [Project1].[Trade_Currency] AS [Trade_Currency], 
    [Project1].[Price_Curr] AS [Price_Curr], 
    [Project1].[Currency_Pair_Code] AS [Currency_Pair_Code], 
    [Project1].[Share_Class] AS [Share_Class], 
    [Project1].[Current_Market_Price] AS [Current_Market_Price], 
    [Project1].[Index_Type] AS [Index_Type], 
    [Project1].[Clean_Price_Formula] AS [Clean_Price_Formula], 
    [Project1].[Accrued_Income_Price_Formula] AS [Accrued_Income_Price_Formula], 
    [Project1].[Odd_First_Coupon_Date] AS [Odd_First_Coupon_Date], 
    [Project1].[Odd_Last_Coupon_Date] AS [Odd_Last_Coupon_Date], 
    [Project1].[Coupon_Anniversary_Indicator] AS [Coupon_Anniversary_Indicator], 
    [Project1].[Track_EOM_Flag] AS [Track_EOM_Flag], 
    [Project1].[Next_Coupon_Date] AS [Next_Coupon_Date], 
    [Project1].[Previous_Coupon_Date] AS [Previous_Coupon_Date], 
    [Project1].[Payment_Frequency] AS [Payment_Frequency], 
    [Project1].[Coupon_BusDay_Adjustment] AS [Coupon_BusDay_Adjustment], 
    [Project1].[Next_Ex_Div_Date] AS [Next_Ex_Div_Date], 
    [Project1].[Ex_Div_BusDay_Adjustment] AS [Ex_Div_BusDay_Adjustment], 
    [Project1].[Ex_Div_Period] AS [Ex_Div_Period], 
    [Project1].[Ticker] AS [Ticker], 
    [Project1].[Inet_ID] AS [Inet_ID], 
    [Project1].[Bloomberg_ID] AS [Bloomberg_ID], 
    [Project1].[External_Sec_ID] AS [External_Sec_ID], 
    [Project1].[Reuters_ID] AS [Reuters_ID], 
    [Project1].[ISIN] AS [ISIN], 
    [Project1].[Call_Account_Flag] AS [Call_Account_Flag], 
    [Project1].[System_Locked] AS [System_Locked], 
    [Project1].[Last_Update_User] AS [Last_Update_User], 
    [Project1].[Last_Update_Date] AS [Last_Update_Date], 
    [Project1].[Security_Status] AS [Security_Status], 
    [Project1].[Benchmark_Portfolio] AS [Benchmark_Portfolio], 
    [Project1].[Active_flag] AS [Active_flag], 
    [Project1].[Dividend_FX_Security_ID] AS [Dividend_FX_Security_ID]
    FROM ( SELECT 
        [Extent1].[Security_ID] AS [Security_ID], 
        [Extent1].[Entity_ID] AS [Entity_ID], 
        [Extent1].[Security_Name] AS [Security_Name], 
        [Extent1].[Short_Name] AS [Short_Name], 
        [Extent1].[Primary_Exch] AS [Primary_Exch], 
        [Extent1].[Secondary_Exch] AS [Secondary_Exch], 
        [Extent1].[Country_Of_Domicile] AS [Country_Of_Domicile], 
        [Extent1].[Country_Of_Risk] AS [Country_Of_Risk], 
        [Extent1].[Security_Type_Code] AS [Security_Type_Code], 
        [Extent1].[Price_Multiplier] AS [Price_Multiplier], 
        [Extent1].[Income_Frequency] AS [Income_Frequency], 
        [Extent1].[Issuer_Code] AS [Issuer_Code], 
        [Extent1].[Ultimate_Issuer_Code] AS [Ultimate_Issuer_Code], 
        [Extent1].[Asset_Currency] AS [Asset_Currency], 
        [Extent1].[Min_Lot_Size] AS [Min_Lot_Size], 
        [Extent1].[Decimal_Precision] AS [Decimal_Precision], 
        [Extent1].[AvePrice_Rounding] AS [AvePrice_Rounding], 
        [Extent1].[Issue_Date] AS [Issue_Date], 
        [Extent1].[Maturity_Date] AS [Maturity_Date], 
        [Extent1].[Coupon_Rate] AS [Coupon_Rate], 
        [Extent1].[Price_Exchange] AS [Price_Exchange], 
        [Extent1].[Trade_Currency] AS [Trade_Currency], 
        [Extent1].[Price_Curr] AS [Price_Curr], 
        [Extent1].[Currency_Pair_Code] AS [Currency_Pair_Code], 
        [Extent1].[Share_Class] AS [Share_Class], 
        [Extent1].[Current_Market_Price] AS [Current_Market_Price], 
        [Extent1].[Index_Type] AS [Index_Type], 
        [Extent1].[Clean_Price_Formula] AS [Clean_Price_Formula], 
        [Extent1].[Accrued_Income_Price_Formula] AS [Accrued_Income_Price_Formula], 
        [Extent1].[Odd_First_Coupon_Date] AS [Odd_First_Coupon_Date], 
        [Extent1].[Odd_Last_Coupon_Date] AS [Odd_Last_Coupon_Date], 
        [Extent1].[Coupon_Anniversary_Indicator] AS [Coupon_Anniversary_Indicator], 
        [Extent1].[Track_EOM_Flag] AS [Track_EOM_Flag], 
        [Extent1].[Next_Coupon_Date] AS [Next_Coupon_Date], 
        [Extent1].[Previous_Coupon_Date] AS [Previous_Coupon_Date], 
        [Extent1].[Payment_Frequency] AS [Payment_Frequency], 
        [Extent1].[Coupon_BusDay_Adjustment] AS [Coupon_BusDay_Adjustment], 
        [Extent1].[Next_Ex_Div_Date] AS [Next_Ex_Div_Date], 
        [Extent1].[Ex_Div_BusDay_Adjustment] AS [Ex_Div_BusDay_Adjustment], 
        [Extent1].[Ex_Div_Period] AS [Ex_Div_Period], 
        [Extent1].[Ticker] AS [Ticker], 
        [Extent1].[Inet_ID] AS [Inet_ID], 
        [Extent1].[Bloomberg_ID] AS [Bloomberg_ID], 
        [Extent1].[External_Sec_ID] AS [External_Sec_ID], 
        [Extent1].[Reuters_ID] AS [Reuters_ID], 
        [Extent1].[ISIN] AS [ISIN], 
        [Extent1].[Call_Account_Flag] AS [Call_Account_Flag], 
        [Extent1].[System_Locked] AS [System_Locked], 
        [Extent1].[Last_Update_User] AS [Last_Update_User], 
        [Extent1].[Last_Update_Date] AS [Last_Update_Date], 
        [Extent1].[Security_Status] AS [Security_Status], 
        [Extent1].[Benchmark_Portfolio] AS [Benchmark_Portfolio], 
        [Extent1].[Active_flag] AS [Active_flag], 
        [Extent1].[Dividend_FX_Security_ID] AS [Dividend_FX_Security_ID]
        FROM [dbo].[Security_Detail] AS [Extent1]
        WHERE ([Extent1].[Entity_ID] IN (@p__linq__0,@p__linq__1)) AND ((CASE WHEN ( NOT ((N'' = @p__linq__2) AND (@p__linq__2 IS NOT NULL))) THEN CASE WHEN ([Extent1].[Security_Type_Code] = @p__linq__3) THEN cast(1 as bit) WHEN ( NOT (([Extent1].[Security_Type_Code] = @p__linq__3) AND (0 = (CASE WHEN (@p__linq__3 IS NULL) THEN cast(1 as bit) ELSE cast(0 as bit) END)))) THEN cast(0 as bit) END WHEN ('' <> [Extent1].[Security_Type_Code]) THEN cast(1 as bit) WHEN ('' = [Extent1].[Security_Type_Code]) THEN cast(0 as bit) END) = 1)
    )  AS [Project1]
    ORDER BY [Project1].[Security_Name] ASC
2018-04-07 18:03:23.9823|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: SELECT 
    [Project1].[Security_ID] AS [Security_ID], 
    [Project1].[Entity_ID] AS [Entity_ID], 
    [Project1].[Security_Name] AS [Security_Name], 
    [Project1].[Short_Name] AS [Short_Name], 
    [Project1].[Primary_Exch] AS [Primary_Exch], 
    [Project1].[Secondary_Exch] AS [Secondary_Exch], 
    [Project1].[Country_Of_Domicile] AS [Country_Of_Domicile], 
    [Project1].[Country_Of_Risk] AS [Country_Of_Risk], 
    [Project1].[Security_Type_Code] AS [Security_Type_Code], 
    [Project1].[Price_Multiplier] AS [Price_Multiplier], 
    [Project1].[Income_Frequency] AS [Income_Frequency], 
    [Project1].[Issuer_Code] AS [Issuer_Code], 
    [Project1].[Ultimate_Issuer_Code] AS [Ultimate_Issuer_Code], 
    [Project1].[Asset_Currency] AS [Asset_Currency], 
    [Project1].[Min_Lot_Size] AS [Min_Lot_Size], 
    [Project1].[Decimal_Precision] AS [Decimal_Precision], 
    [Project1].[AvePrice_Rounding] AS [AvePrice_Rounding], 
    [Project1].[Issue_Date] AS [Issue_Date], 
    [Project1].[Maturity_Date] AS [Maturity_Date], 
    [Project1].[Coupon_Rate] AS [Coupon_Rate], 
    [Project1].[Price_Exchange] AS [Price_Exchange], 
    [Project1].[Trade_Currency] AS [Trade_Currency], 
    [Project1].[Price_Curr] AS [Price_Curr], 
    [Project1].[Currency_Pair_Code] AS [Currency_Pair_Code], 
    [Project1].[Share_Class] AS [Share_Class], 
    [Project1].[Current_Market_Price] AS [Current_Market_Price], 
    [Project1].[Index_Type] AS [Index_Type], 
    [Project1].[Clean_Price_Formula] AS [Clean_Price_Formula], 
    [Project1].[Accrued_Income_Price_Formula] AS [Accrued_Income_Price_Formula], 
    [Project1].[Odd_First_Coupon_Date] AS [Odd_First_Coupon_Date], 
    [Project1].[Odd_Last_Coupon_Date] AS [Odd_Last_Coupon_Date], 
    [Project1].[Coupon_Anniversary_Indicator] AS [Coupon_Anniversary_Indicator], 
    [Project1].[Track_EOM_Flag] AS [Track_EOM_Flag], 
    [Project1].[Next_Coupon_Date] AS [Next_Coupon_Date], 
    [Project1].[Previous_Coupon_Date] AS [Previous_Coupon_Date], 
    [Project1].[Payment_Frequency] AS [Payment_Frequency], 
    [Project1].[Coupon_BusDay_Adjustment] AS [Coupon_BusDay_Adjustment], 
    [Project1].[Next_Ex_Div_Date] AS [Next_Ex_Div_Date], 
    [Project1].[Ex_Div_BusDay_Adjustment] AS [Ex_Div_BusDay_Adjustment], 
    [Project1].[Ex_Div_Period] AS [Ex_Div_Period], 
    [Project1].[Ticker] AS [Ticker], 
    [Project1].[Inet_ID] AS [Inet_ID], 
    [Project1].[Bloomberg_ID] AS [Bloomberg_ID], 
    [Project1].[External_Sec_ID] AS [External_Sec_ID], 
    [Project1].[Reuters_ID] AS [Reuters_ID], 
    [Project1].[ISIN] AS [ISIN], 
    [Project1].[Call_Account_Flag] AS [Call_Account_Flag], 
    [Project1].[System_Locked] AS [System_Locked], 
    [Project1].[Last_Update_User] AS [Last_Update_User], 
    [Project1].[Last_Update_Date] AS [Last_Update_Date], 
    [Project1].[Security_Status] AS [Security_Status], 
    [Project1].[Benchmark_Portfolio] AS [Benchmark_Portfolio], 
    [Project1].[Active_flag] AS [Active_flag], 
    [Project1].[Dividend_FX_Security_ID] AS [Dividend_FX_Security_ID]
    FROM ( SELECT 
        [Extent1].[Security_ID] AS [Security_ID], 
        [Extent1].[Entity_ID] AS [Entity_ID], 
        [Extent1].[Security_Name] AS [Security_Name], 
        [Extent1].[Short_Name] AS [Short_Name], 
        [Extent1].[Primary_Exch] AS [Primary_Exch], 
        [Extent1].[Secondary_Exch] AS [Secondary_Exch], 
        [Extent1].[Country_Of_Domicile] AS [Country_Of_Domicile], 
        [Extent1].[Country_Of_Risk] AS [Country_Of_Risk], 
        [Extent1].[Security_Type_Code] AS [Security_Type_Code], 
        [Extent1].[Price_Multiplier] AS [Price_Multiplier], 
        [Extent1].[Income_Frequency] AS [Income_Frequency], 
        [Extent1].[Issuer_Code] AS [Issuer_Code], 
        [Extent1].[Ultimate_Issuer_Code] AS [Ultimate_Issuer_Code], 
        [Extent1].[Asset_Currency] AS [Asset_Currency], 
        [Extent1].[Min_Lot_Size] AS [Min_Lot_Size], 
        [Extent1].[Decimal_Precision] AS [Decimal_Precision], 
        [Extent1].[AvePrice_Rounding] AS [AvePrice_Rounding], 
        [Extent1].[Issue_Date] AS [Issue_Date], 
        [Extent1].[Maturity_Date] AS [Maturity_Date], 
        [Extent1].[Coupon_Rate] AS [Coupon_Rate], 
        [Extent1].[Price_Exchange] AS [Price_Exchange], 
        [Extent1].[Trade_Currency] AS [Trade_Currency], 
        [Extent1].[Price_Curr] AS [Price_Curr], 
        [Extent1].[Currency_Pair_Code] AS [Currency_Pair_Code], 
        [Extent1].[Share_Class] AS [Share_Class], 
        [Extent1].[Current_Market_Price] AS [Current_Market_Price], 
        [Extent1].[Index_Type] AS [Index_Type], 
        [Extent1].[Clean_Price_Formula] AS [Clean_Price_Formula], 
        [Extent1].[Accrued_Income_Price_Formula] AS [Accrued_Income_Price_Formula], 
        [Extent1].[Odd_First_Coupon_Date] AS [Odd_First_Coupon_Date], 
        [Extent1].[Odd_Last_Coupon_Date] AS [Odd_Last_Coupon_Date], 
        [Extent1].[Coupon_Anniversary_Indicator] AS [Coupon_Anniversary_Indicator], 
        [Extent1].[Track_EOM_Flag] AS [Track_EOM_Flag], 
        [Extent1].[Next_Coupon_Date] AS [Next_Coupon_Date], 
        [Extent1].[Previous_Coupon_Date] AS [Previous_Coupon_Date], 
        [Extent1].[Payment_Frequency] AS [Payment_Frequency], 
        [Extent1].[Coupon_BusDay_Adjustment] AS [Coupon_BusDay_Adjustment], 
        [Extent1].[Next_Ex_Div_Date] AS [Next_Ex_Div_Date], 
        [Extent1].[Ex_Div_BusDay_Adjustment] AS [Ex_Div_BusDay_Adjustment], 
        [Extent1].[Ex_Div_Period] AS [Ex_Div_Period], 
        [Extent1].[Ticker] AS [Ticker], 
        [Extent1].[Inet_ID] AS [Inet_ID], 
        [Extent1].[Bloomberg_ID] AS [Bloomberg_ID], 
        [Extent1].[External_Sec_ID] AS [External_Sec_ID], 
        [Extent1].[Reuters_ID] AS [Reuters_ID], 
        [Extent1].[ISIN] AS [ISIN], 
        [Extent1].[Call_Account_Flag] AS [Call_Account_Flag], 
        [Extent1].[System_Locked] AS [System_Locked], 
        [Extent1].[Last_Update_User] AS [Last_Update_User], 
        [Extent1].[Last_Update_Date] AS [Last_Update_Date], 
        [Extent1].[Security_Status] AS [Security_Status], 
        [Extent1].[Benchmark_Portfolio] AS [Benchmark_Portfolio], 
        [Extent1].[Active_flag] AS [Active_flag], 
        [Extent1].[Dividend_FX_Security_ID] AS [Dividend_FX_Security_ID]
        FROM [dbo].[Security_Detail] AS [Extent1]
        WHERE ([Extent1].[Entity_ID] IN (@p__linq__0,@p__linq__1)) AND ((CASE WHEN ( NOT ((N'' = @p__linq__2) AND (@p__linq__2 IS NOT NULL))) THEN CASE WHEN ([Extent1].[Security_Type_Code] = @p__linq__3) THEN cast(1 as bit) WHEN ( NOT (([Extent1].[Security_Type_Code] = @p__linq__3) AND (0 = (CASE WHEN (@p__linq__3 IS NULL) THEN cast(1 as bit) ELSE cast(0 as bit) END)))) THEN cast(0 as bit) END WHEN ('' <> [Extent1].[Security_Type_Code]) THEN cast(1 as bit) WHEN ('' = [Extent1].[Security_Type_Code]) THEN cast(0 as bit) END) = 1)
    )  AS [Project1]
    ORDER BY [Project1].[Security_Name] ASC
2018-04-07 18:03:24.1479|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: IF db_id(N'MetopeAzureDb') IS NOT NULL SELECT 1 ELSE SELECT Count(*) FROM sys.databases WHERE [name]=N'MetopeAzureDb'
2018-04-07 18:03:24.2675|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: IF db_id(N'MetopeAzureDb') IS NOT NULL SELECT 1 ELSE SELECT Count(*) FROM sys.databases WHERE [name]=N'MetopeAzureDb'
2018-04-07 18:03:24.3711|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: IF db_id(N'MetopeAzureDb') IS NOT NULL SELECT 1 ELSE SELECT Count(*) FROM sys.databases WHERE [name]=N'MetopeAzureDb'
2018-04-07 18:03:24.3981|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: IF db_id(N'MetopeAzureDb') IS NOT NULL SELECT 1 ELSE SELECT Count(*) FROM sys.databases WHERE [name]=N'MetopeAzureDb'
2018-04-07 18:05:24.3757|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: SELECT 
    [Project1].[C1] AS [C1], 
    [Project1].[Portfolio_Code] AS [Portfolio_Code], 
    [Project1].[Entity_ID] AS [Entity_ID], 
    [Project1].[Net_Asset_Value] AS [Net_Asset_Value], 
    [Project1].[Gross_Asset_Value] AS [Gross_Asset_Value], 
    [Project1].[Total_Investments] AS [Total_Investments], 
    [Project1].[Total_Cash] AS [Total_Cash], 
    [Project1].[Liabilities] AS [Liabilities], 
    [Project1].[Fees] AS [Fees], 
    [Project1].[Total_Cost] AS [Total_Cost], 
    [Project1].[NAV_Excl_Fees] AS [NAV_Excl_Fees], 
    [Project1].[Last_Update_User] AS [Last_Update_User], 
    [Project1].[Last_Update_Date] AS [Last_Update_Date], 
    [Project1].[Entity_ID1] AS [Entity_ID1], 
    [Project1].[Entity_Code] AS [Entity_Code], 
    [Project1].[Entity_Name] AS [Entity_Name], 
    [Project1].[Import_Folder] AS [Import_Folder], 
    [Project1].[Export_Folder] AS [Export_Folder], 
    [Project1].[Entity_ID2] AS [Entity_ID2], 
    [Project1].[Portfolio_Code1] AS [Portfolio_Code1], 
    [Project1].[Portfolio_Name] AS [Portfolio_Name], 
    [Project1].[Manager] AS [Manager], 
    [Project1].[Portfolio_Type] AS [Portfolio_Type], 
    [Project1].[Portfolio_Base_Currency] AS [Portfolio_Base_Currency], 
    [Project1].[PortfolIo_Domicile] AS [PortfolIo_Domicile], 
    [Project1].[Portfolio_Report_Currency] AS [Portfolio_Report_Currency], 
    [Project1].[Inception_Date] AS [Inception_Date], 
    [Project1].[Financial_Year_End] AS [Financial_Year_End], 
    [Project1].[Custodian_Code] AS [Custodian_Code], 
    [Project1].[Active_Flag] AS [Active_Flag], 
    [Project1].[System_Locked] AS [System_Locked], 
    [Project1].[Portfolio_Status] AS [Portfolio_Status]
    FROM ( SELECT 
        [Extent1].[Portfolio_Code] AS [Portfolio_Code], 
        [Extent1].[Entity_ID] AS [Entity_ID], 
        [Extent1].[Net_Asset_Value] AS [Net_Asset_Value], 
        [Extent1].[Gross_Asset_Value] AS [Gross_Asset_Value], 
        [Extent1].[Total_Investments] AS [Total_Investments], 
        [Extent1].[Total_Cash] AS [Total_Cash], 
        [Extent1].[Liabilities] AS [Liabilities], 
        [Extent1].[Fees] AS [Fees], 
        [Extent1].[Total_Cost] AS [Total_Cost], 
        [Extent1].[NAV_Excl_Fees] AS [NAV_Excl_Fees], 
        [Extent1].[Last_Update_User] AS [Last_Update_User], 
        [Extent1].[Last_Update_Date] AS [Last_Update_Date], 
        [Extent2].[Entity_ID] AS [Entity_ID1], 
        [Extent2].[Entity_Code] AS [Entity_Code], 
        [Extent2].[Entity_Name] AS [Entity_Name], 
        [Extent2].[Import_Folder] AS [Import_Folder], 
        [Extent2].[Export_Folder] AS [Export_Folder], 
        [Extent3].[Entity_ID] AS [Entity_ID2], 
        [Extent3].[Portfolio_Code] AS [Portfolio_Code1], 
        [Extent3].[Portfolio_Name] AS [Portfolio_Name], 
        [Extent3].[Manager] AS [Manager], 
        [Extent3].[Portfolio_Type] AS [Portfolio_Type], 
        [Extent3].[Portfolio_Base_Currency] AS [Portfolio_Base_Currency], 
        [Extent3].[PortfolIo_Domicile] AS [PortfolIo_Domicile], 
        [Extent3].[Portfolio_Report_Currency] AS [Portfolio_Report_Currency], 
        [Extent3].[Inception_Date] AS [Inception_Date], 
        [Extent3].[Financial_Year_End] AS [Financial_Year_End], 
        [Extent3].[Custodian_Code] AS [Custodian_Code], 
        [Extent3].[Active_Flag] AS [Active_Flag], 
        [Extent3].[System_Locked] AS [System_Locked], 
        [Extent3].[Portfolio_Status] AS [Portfolio_Status], 
        1 AS [C1]
        FROM   [dbo].[Portfolio_Valuation] AS [Extent1]
        INNER JOIN [dbo].[Entity] AS [Extent2] ON [Extent1].[Entity_ID] = [Extent2].[Entity_ID]
        INNER JOIN [dbo].[Portfolio] AS [Extent3] ON ([Extent1].[Entity_ID] = [Extent3].[Entity_ID]) AND ([Extent1].[Portfolio_Code] = [Extent3].[Portfolio_Code])
    )  AS [Project1]
    ORDER BY [Project1].[Portfolio_Code] ASC
2018-04-07 18:05:24.4366|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: SELECT 
    [Project1].[C1] AS [C1], 
    [Project1].[Portfolio_Code] AS [Portfolio_Code], 
    [Project1].[Entity_ID] AS [Entity_ID], 
    [Project1].[Net_Asset_Value] AS [Net_Asset_Value], 
    [Project1].[Gross_Asset_Value] AS [Gross_Asset_Value], 
    [Project1].[Total_Investments] AS [Total_Investments], 
    [Project1].[Total_Cash] AS [Total_Cash], 
    [Project1].[Liabilities] AS [Liabilities], 
    [Project1].[Fees] AS [Fees], 
    [Project1].[Total_Cost] AS [Total_Cost], 
    [Project1].[NAV_Excl_Fees] AS [NAV_Excl_Fees], 
    [Project1].[Last_Update_User] AS [Last_Update_User], 
    [Project1].[Last_Update_Date] AS [Last_Update_Date], 
    [Project1].[Entity_ID1] AS [Entity_ID1], 
    [Project1].[Entity_Code] AS [Entity_Code], 
    [Project1].[Entity_Name] AS [Entity_Name], 
    [Project1].[Import_Folder] AS [Import_Folder], 
    [Project1].[Export_Folder] AS [Export_Folder], 
    [Project1].[Entity_ID2] AS [Entity_ID2], 
    [Project1].[Portfolio_Code1] AS [Portfolio_Code1], 
    [Project1].[Portfolio_Name] AS [Portfolio_Name], 
    [Project1].[Manager] AS [Manager], 
    [Project1].[Portfolio_Type] AS [Portfolio_Type], 
    [Project1].[Portfolio_Base_Currency] AS [Portfolio_Base_Currency], 
    [Project1].[PortfolIo_Domicile] AS [PortfolIo_Domicile], 
    [Project1].[Portfolio_Report_Currency] AS [Portfolio_Report_Currency], 
    [Project1].[Inception_Date] AS [Inception_Date], 
    [Project1].[Financial_Year_End] AS [Financial_Year_End], 
    [Project1].[Custodian_Code] AS [Custodian_Code], 
    [Project1].[Active_Flag] AS [Active_Flag], 
    [Project1].[System_Locked] AS [System_Locked], 
    [Project1].[Portfolio_Status] AS [Portfolio_Status]
    FROM ( SELECT 
        [Extent1].[Portfolio_Code] AS [Portfolio_Code], 
        [Extent1].[Entity_ID] AS [Entity_ID], 
        [Extent1].[Net_Asset_Value] AS [Net_Asset_Value], 
        [Extent1].[Gross_Asset_Value] AS [Gross_Asset_Value], 
        [Extent1].[Total_Investments] AS [Total_Investments], 
        [Extent1].[Total_Cash] AS [Total_Cash], 
        [Extent1].[Liabilities] AS [Liabilities], 
        [Extent1].[Fees] AS [Fees], 
        [Extent1].[Total_Cost] AS [Total_Cost], 
        [Extent1].[NAV_Excl_Fees] AS [NAV_Excl_Fees], 
        [Extent1].[Last_Update_User] AS [Last_Update_User], 
        [Extent1].[Last_Update_Date] AS [Last_Update_Date], 
        [Extent2].[Entity_ID] AS [Entity_ID1], 
        [Extent2].[Entity_Code] AS [Entity_Code], 
        [Extent2].[Entity_Name] AS [Entity_Name], 
        [Extent2].[Import_Folder] AS [Import_Folder], 
        [Extent2].[Export_Folder] AS [Export_Folder], 
        [Extent3].[Entity_ID] AS [Entity_ID2], 
        [Extent3].[Portfolio_Code] AS [Portfolio_Code1], 
        [Extent3].[Portfolio_Name] AS [Portfolio_Name], 
        [Extent3].[Manager] AS [Manager], 
        [Extent3].[Portfolio_Type] AS [Portfolio_Type], 
        [Extent3].[Portfolio_Base_Currency] AS [Portfolio_Base_Currency], 
        [Extent3].[PortfolIo_Domicile] AS [PortfolIo_Domicile], 
        [Extent3].[Portfolio_Report_Currency] AS [Portfolio_Report_Currency], 
        [Extent3].[Inception_Date] AS [Inception_Date], 
        [Extent3].[Financial_Year_End] AS [Financial_Year_End], 
        [Extent3].[Custodian_Code] AS [Custodian_Code], 
        [Extent3].[Active_Flag] AS [Active_Flag], 
        [Extent3].[System_Locked] AS [System_Locked], 
        [Extent3].[Portfolio_Status] AS [Portfolio_Status], 
        1 AS [C1]
        FROM   [dbo].[Portfolio_Valuation] AS [Extent1]
        INNER JOIN [dbo].[Entity] AS [Extent2] ON [Extent1].[Entity_ID] = [Extent2].[Entity_ID]
        INNER JOIN [dbo].[Portfolio] AS [Extent3] ON ([Extent1].[Entity_ID] = [Extent3].[Entity_ID]) AND ([Extent1].[Portfolio_Code] = [Extent3].[Portfolio_Code])
    )  AS [Project1]
    ORDER BY [Project1].[Portfolio_Code] ASC
2018-04-07 18:05:28.2428|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: IF db_id(N'MetopeAzureDb') IS NOT NULL SELECT 1 ELSE SELECT Count(*) FROM sys.databases WHERE [name]=N'MetopeAzureDb'
2018-04-07 18:05:28.3864|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: IF db_id(N'MetopeAzureDb') IS NOT NULL SELECT 1 ELSE SELECT Count(*) FROM sys.databases WHERE [name]=N'MetopeAzureDb'
2018-04-07 18:05:28.4599|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: IF db_id(N'MetopeAzureDb') IS NOT NULL SELECT 1 ELSE SELECT Count(*) FROM sys.databases WHERE [name]=N'MetopeAzureDb'
2018-04-07 18:05:28.4839|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: IF db_id(N'MetopeAzureDb') IS NOT NULL SELECT 1 ELSE SELECT Count(*) FROM sys.databases WHERE [name]=N'MetopeAzureDb'
2018-04-07 18:08:40.8680|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: SELECT 
    [Project1].[Decimal_Precision] AS [Decimal_Precision], 
    [Project1].[Entity_ID] AS [Entity_ID], 
    [Project1].[Security_ID] AS [Security_ID], 
    [Project1].[Issued_Amount] AS [Issued_Amount], 
    [Project1].[Market_Capitalisation] AS [Market_Capitalisation], 
    [Project1].[Risk_Premium] AS [Risk_Premium], 
    [Project1].[Exit_Price] AS [Exit_Price], 
    [Project1].[Total_Return_ME_1YR] AS [Total_Return_ME_1YR], 
    [Project1].[Total_Return_ME_2YR] AS [Total_Return_ME_2YR], 
    [Project1].[Total_Return_ME_3YR] AS [Total_Return_ME_3YR], 
    [Project1].[Historic_Distribution] AS [Historic_Distribution], 
    [Project1].[Distribution_Growth_Forecast_Yr1] AS [Distribution_Growth_Forecast_Yr1], 
    [Project1].[Distribution_Growth_Forecast_Yr2] AS [Distribution_Growth_Forecast_Yr2], 
    [Project1].[Distribution_Growth_Forecast_Yr3] AS [Distribution_Growth_Forecast_Yr3], 
    [Project1].[Forecast_Distribution_Yr1] AS [Forecast_Distribution_Yr1], 
    [Project1].[Forecast_Distribution_Yr2] AS [Forecast_Distribution_Yr2], 
    [Project1].[Forecast_Distribution_Yr3] AS [Forecast_Distribution_Yr3], 
    [Project1].[Earnings_Growth_Compounded] AS [Earnings_Growth_Compounded], 
    [Project1].[Earnings_Forecast_Yr3] AS [Earnings_Forecast_Yr3], 
    [Project1].[Historic_Dividend_Yield_FYE] AS [Historic_Dividend_Yield_FYE], 
    [Project1].[Forward_Dividend_Yield_FYE] AS [Forward_Dividend_Yield_FYE], 
    [Project1].[Yr3_Forward_Dividend_Yield] AS [Yr3_Forward_Dividend_Yield], 
    [Project1].[Rolling_12M_Forward_Yield] AS [Rolling_12M_Forward_Yield], 
    [Project1].[Historical_Earnings_FYE] AS [Historical_Earnings_FYE], 
    [Project1].[Earnings_Forecast_Yr1] AS [Earnings_Forecast_Yr1], 
    [Project1].[Earnings_Forecast_Yr2] AS [Earnings_Forecast_Yr2], 
    [Project1].[Historic_Dividend_Yield_Relative] AS [Historic_Dividend_Yield_Relative], 
    [Project1].[Rolling_12M_Historic_Distribution_PriceCurr] AS [Rolling_12M_Historic_Distribution_PriceCurr], 
    [Project1].[Short_Term_Market_Rerate] AS [Short_Term_Market_Rerate], 
    [Project1].[Forecast_12M_Total_Return] AS [Forecast_12M_Total_Return], 
    [Project1].[Clean_Price] AS [Clean_Price], 
    [Project1].[Rolling_Dividend_Yield_Historic] AS [Rolling_Dividend_Yield_Historic], 
    [Project1].[Last_Update_Date] AS [Last_Update_Date], 
    [Project1].[Last_Update_User] AS [Last_Update_User], 
    [Project1].[Discount_Security_ID] AS [Discount_Security_ID], 
    [Project1].[Net_Present_Value] AS [Net_Present_Value], 
    [Project1].[Forecast_Rolling_Custom_Income] AS [Forecast_Rolling_Custom_Income], 
    [Project1].[Custom_Period] AS [Custom_Period], 
    [Project1].[Rolling_12M_Historic_Distribution] AS [Rolling_12M_Historic_Distribution], 
    [Project1].[Record_Date] AS [Record_Date], 
    [Project1].[Session_ID] AS [Session_ID], 
    [Project1].[Hist_Last_Update_Date] AS [Hist_Last_Update_Date], 
    [Project1].[Hist_Last_Update_User] AS [Hist_Last_Update_User], 
    [Project1].[Rolling_12M_Forecast_Distribution] AS [Rolling_12M_Forecast_Distribution], 
    [Project1].[Yr2_Forward_Dividend_Yield] AS [Yr2_Forward_Dividend_Yield], 
    [Project1].[Exit_Yield] AS [Exit_Yield], 
    [Project1].[Discount_Rate] AS [Discount_Rate], 
    [Project1].[Distribution_Growth_Compounded] AS [Distribution_Growth_Compounded], 
    [Project1].[Forecast_12MRolling_Income_Accrual] AS [Forecast_12MRolling_Income_Accrual], 
    [Project1].[Rolling_12_to_24M_Forecast_Distribution] AS [Rolling_12_to_24M_Forecast_Distribution], 
    [Project1].[Rolling_24_to_36M_Forecast_Distribution] AS [Rolling_24_to_36M_Forecast_Distribution], 
    [Project1].[Forecast_Yr1_Dividend_Yield_Relative] AS [Forecast_Yr1_Dividend_Yield_Relative], 
    [Project1].[Market_Historic_Yield] AS [Market_Historic_Yield], 
    [Project1].[Market_Forward_Yield] AS [Market_Forward_Yield], 
    [Project1].[Historic_Distribution_PriceCurr] AS [Historic_Distribution_PriceCurr], 
    [Project1].[Forecast_Distribution_Yr1_PriceCurr] AS [Forecast_Distribution_Yr1_PriceCurr], 
    [Project1].[Forecast_Distribution_Yr2_PriceCurr] AS [Forecast_Distribution_Yr2_PriceCurr], 
    [Project1].[Forecast_Distribution_Yr3_PriceCurr] AS [Forecast_Distribution_Yr3_PriceCurr], 
    [Project1].[Rolling_12M_Forecast_Distribution_PriceCurr] AS [Rolling_12M_Forecast_Distribution_PriceCurr], 
    [Project1].[Rolling_12_24M_Forecast_Distribution_PriceCurr] AS [Rolling_12_24M_Forecast_Distribution_PriceCurr], 
    [Project1].[Rolling_24_36M_Forecast_Distribution_PriceCurr] AS [Rolling_24_36M_Forecast_Distribution_PriceCurr], 
    [Project1].[Distribution_Growth_Forecast_Yr4] AS [Distribution_Growth_Forecast_Yr4], 
    [Project1].[Earnings_Forecast_Yr4] AS [Earnings_Forecast_Yr4], 
    [Project1].[Forecast_Distribution_Yr4] AS [Forecast_Distribution_Yr4], 
    [Project1].[Forecast_Distribution_Yr4_PriceCurr] AS [Forecast_Distribution_Yr4_PriceCurr], 
    [Project1].[Security_ID1] AS [Security_ID1], 
    [Project1].[Entity_ID1] AS [Entity_ID1], 
    [Project1].[Security_Name] AS [Security_Name], 
    [Project1].[Short_Name] AS [Short_Name], 
    [Project1].[Primary_Exch] AS [Primary_Exch], 
    [Project1].[Secondary_Exch] AS [Secondary_Exch], 
    [Project1].[Country_Of_Domicile] AS [Country_Of_Domicile], 
    [Project1].[Country_Of_Risk] AS [Country_Of_Risk], 
    [Project1].[Security_Type_Code] AS [Security_Type_Code], 
    [Project1].[Price_Multiplier] AS [Price_Multiplier], 
    [Project1].[Income_Frequency] AS [Income_Frequency], 
    [Project1].[Issuer_Code] AS [Issuer_Code], 
    [Project1].[Ultimate_Issuer_Code] AS [Ultimate_Issuer_Code], 
    [Project1].[Asset_Currency] AS [Asset_Currency], 
    [Project1].[Min_Lot_Size] AS [Min_Lot_Size], 
    [Project1].[AvePrice_Rounding] AS [AvePrice_Rounding], 
    [Project1].[Issue_Date] AS [Issue_Date], 
    [Project1].[Maturity_Date] AS [Maturity_Date], 
    [Project1].[Coupon_Rate] AS [Coupon_Rate], 
    [Project1].[Price_Exchange] AS [Price_Exchange], 
    [Project1].[Trade_Currency] AS [Trade_Currency], 
    [Project1].[Price_Curr] AS [Price_Curr], 
    [Project1].[Currency_Pair_Code] AS [Currency_Pair_Code], 
    [Project1].[Share_Class] AS [Share_Class], 
    [Project1].[Current_Market_Price] AS [Current_Market_Price], 
    [Project1].[Index_Type] AS [Index_Type], 
    [Project1].[Clean_Price_Formula] AS [Clean_Price_Formula], 
    [Project1].[Accrued_Income_Price_Formula] AS [Accrued_Income_Price_Formula], 
    [Project1].[Odd_First_Coupon_Date] AS [Odd_First_Coupon_Date], 
    [Project1].[Odd_Last_Coupon_Date] AS [Odd_Last_Coupon_Date], 
    [Project1].[Coupon_Anniversary_Indicator] AS [Coupon_Anniversary_Indicator], 
    [Project1].[Track_EOM_Flag] AS [Track_EOM_Flag], 
    [Project1].[Next_Coupon_Date] AS [Next_Coupon_Date], 
    [Project1].[Previous_Coupon_Date] AS [Previous_Coupon_Date], 
    [Project1].[Payment_Frequency] AS [Payment_Frequency], 
    [Project1].[Coupon_BusDay_Adjustment] AS [Coupon_BusDay_Adjustment], 
    [Project1].[Next_Ex_Div_Date] AS [Next_Ex_Div_Date], 
    [Project1].[Ex_Div_BusDay_Adjustment] AS [Ex_Div_BusDay_Adjustment], 
    [Project1].[Ex_Div_Period] AS [Ex_Div_Period], 
    [Project1].[Ticker] AS [Ticker], 
    [Project1].[Inet_ID] AS [Inet_ID], 
    [Project1].[Bloomberg_ID] AS [Bloomberg_ID], 
    [Project1].[External_Sec_ID] AS [External_Sec_ID], 
    [Project1].[Reuters_ID] AS [Reuters_ID], 
    [Project1].[ISIN] AS [ISIN], 
    [Project1].[Call_Account_Flag] AS [Call_Account_Flag], 
    [Project1].[System_Locked] AS [System_Locked], 
    [Project1].[Last_Update_User1] AS [Last_Update_User1], 
    [Project1].[Last_Update_Date1] AS [Last_Update_Date1], 
    [Project1].[Security_Status] AS [Security_Status], 
    [Project1].[Benchmark_Portfolio] AS [Benchmark_Portfolio], 
    [Project1].[Active_flag] AS [Active_flag], 
    [Project1].[Dividend_FX_Security_ID] AS [Dividend_FX_Security_ID]
    FROM ( SELECT 
        [Extent1].[Entity_ID] AS [Entity_ID], 
        [Extent1].[Security_ID] AS [Security_ID], 
        [Extent1].[Issued_Amount] AS [Issued_Amount], 
        [Extent1].[Market_Capitalisation] AS [Market_Capitalisation], 
        [Extent1].[Risk_Premium] AS [Risk_Premium], 
        [Extent1].[Exit_Price] AS [Exit_Price], 
        [Extent1].[Total_Return_ME_1YR] AS [Total_Return_ME_1YR], 
        [Extent1].[Total_Return_ME_2YR] AS [Total_Return_ME_2YR], 
        [Extent1].[Total_Return_ME_3YR] AS [Total_Return_ME_3YR], 
        [Extent1].[Historic_Distribution] AS [Historic_Distribution], 
        [Extent1].[Distribution_Growth_Forecast_Yr1] AS [Distribution_Growth_Forecast_Yr1], 
        [Extent1].[Distribution_Growth_Forecast_Yr2] AS [Distribution_Growth_Forecast_Yr2], 
        [Extent1].[Distribution_Growth_Forecast_Yr3] AS [Distribution_Growth_Forecast_Yr3], 
        [Extent1].[Forecast_Distribution_Yr1] AS [Forecast_Distribution_Yr1], 
        [Extent1].[Forecast_Distribution_Yr2] AS [Forecast_Distribution_Yr2], 
        [Extent1].[Forecast_Distribution_Yr3] AS [Forecast_Distribution_Yr3], 
        [Extent1].[Earnings_Growth_Compounded] AS [Earnings_Growth_Compounded], 
        [Extent1].[Earnings_Forecast_Yr3] AS [Earnings_Forecast_Yr3], 
        [Extent1].[Historic_Dividend_Yield_FYE] AS [Historic_Dividend_Yield_FYE], 
        [Extent1].[Forward_Dividend_Yield_FYE] AS [Forward_Dividend_Yield_FYE], 
        [Extent1].[Yr3_Forward_Dividend_Yield] AS [Yr3_Forward_Dividend_Yield], 
        [Extent1].[Rolling_12M_Forward_Yield] AS [Rolling_12M_Forward_Yield], 
        [Extent1].[Historical_Earnings_FYE] AS [Historical_Earnings_FYE], 
        [Extent1].[Earnings_Forecast_Yr1] AS [Earnings_Forecast_Yr1], 
        [Extent1].[Earnings_Forecast_Yr2] AS [Earnings_Forecast_Yr2], 
        [Extent1].[Historic_Dividend_Yield_Relative] AS [Historic_Dividend_Yield_Relative], 
        [Extent1].[Rolling_12M_Historic_Distribution_PriceCurr] AS [Rolling_12M_Historic_Distribution_PriceCurr], 
        [Extent1].[Short_Term_Market_Rerate] AS [Short_Term_Market_Rerate], 
        [Extent1].[Forecast_12M_Total_Return] AS [Forecast_12M_Total_Return], 
        [Extent1].[Clean_Price] AS [Clean_Price], 
        [Extent1].[Rolling_Dividend_Yield_Historic] AS [Rolling_Dividend_Yield_Historic], 
        [Extent1].[Last_Update_Date] AS [Last_Update_Date], 
        [Extent1].[Last_Update_User] AS [Last_Update_User], 
        [Extent1].[Discount_Security_ID] AS [Discount_Security_ID], 
        [Extent1].[Net_Present_Value] AS [Net_Present_Value], 
        [Extent1].[Forecast_Rolling_Custom_Income] AS [Forecast_Rolling_Custom_Income], 
        [Extent1].[Custom_Period] AS [Custom_Period], 
        [Extent1].[Rolling_12M_Historic_Distribution] AS [Rolling_12M_Historic_Distribution], 
        [Extent1].[Record_Date] AS [Record_Date], 
        [Extent1].[Session_ID] AS [Session_ID], 
        [Extent1].[Hist_Last_Update_Date] AS [Hist_Last_Update_Date], 
        [Extent1].[Hist_Last_Update_User] AS [Hist_Last_Update_User], 
        [Extent1].[Rolling_12M_Forecast_Distribution] AS [Rolling_12M_Forecast_Distribution], 
        [Extent1].[Yr2_Forward_Dividend_Yield] AS [Yr2_Forward_Dividend_Yield], 
        [Extent1].[Exit_Yield] AS [Exit_Yield], 
        [Extent1].[Discount_Rate] AS [Discount_Rate], 
        [Extent1].[Distribution_Growth_Compounded] AS [Distribution_Growth_Compounded], 
        [Extent1].[Forecast_12MRolling_Income_Accrual] AS [Forecast_12MRolling_Income_Accrual], 
        [Extent1].[Rolling_12_to_24M_Forecast_Distribution] AS [Rolling_12_to_24M_Forecast_Distribution], 
        [Extent1].[Rolling_24_to_36M_Forecast_Distribution] AS [Rolling_24_to_36M_Forecast_Distribution], 
        [Extent1].[Forecast_Yr1_Dividend_Yield_Relative] AS [Forecast_Yr1_Dividend_Yield_Relative], 
        [Extent1].[Market_Historic_Yield] AS [Market_Historic_Yield], 
        [Extent1].[Market_Forward_Yield] AS [Market_Forward_Yield], 
        [Extent1].[Historic_Distribution_PriceCurr] AS [Historic_Distribution_PriceCurr], 
        [Extent1].[Forecast_Distribution_Yr1_PriceCurr] AS [Forecast_Distribution_Yr1_PriceCurr], 
        [Extent1].[Forecast_Distribution_Yr2_PriceCurr] AS [Forecast_Distribution_Yr2_PriceCurr], 
        [Extent1].[Forecast_Distribution_Yr3_PriceCurr] AS [Forecast_Distribution_Yr3_PriceCurr], 
        [Extent1].[Rolling_12M_Forecast_Distribution_PriceCurr] AS [Rolling_12M_Forecast_Distribution_PriceCurr], 
        [Extent1].[Rolling_12_24M_Forecast_Distribution_PriceCurr] AS [Rolling_12_24M_Forecast_Distribution_PriceCurr], 
        [Extent1].[Rolling_24_36M_Forecast_Distribution_PriceCurr] AS [Rolling_24_36M_Forecast_Distribution_PriceCurr], 
        [Extent1].[Distribution_Growth_Forecast_Yr4] AS [Distribution_Growth_Forecast_Yr4], 
        [Extent1].[Earnings_Forecast_Yr4] AS [Earnings_Forecast_Yr4], 
        [Extent1].[Forecast_Distribution_Yr4] AS [Forecast_Distribution_Yr4], 
        [Extent1].[Forecast_Distribution_Yr4_PriceCurr] AS [Forecast_Distribution_Yr4_PriceCurr], 
        [Extent2].[Security_ID] AS [Security_ID1], 
        [Extent2].[Entity_ID] AS [Entity_ID1], 
        [Extent2].[Security_Name] AS [Security_Name], 
        [Extent2].[Short_Name] AS [Short_Name], 
        [Extent2].[Primary_Exch] AS [Primary_Exch], 
        [Extent2].[Secondary_Exch] AS [Secondary_Exch], 
        [Extent2].[Country_Of_Domicile] AS [Country_Of_Domicile], 
        [Extent2].[Country_Of_Risk] AS [Country_Of_Risk], 
        [Extent2].[Security_Type_Code] AS [Security_Type_Code], 
        [Extent2].[Price_Multiplier] AS [Price_Multiplier], 
        [Extent2].[Income_Frequency] AS [Income_Frequency], 
        [Extent2].[Issuer_Code] AS [Issuer_Code], 
        [Extent2].[Ultimate_Issuer_Code] AS [Ultimate_Issuer_Code], 
        [Extent2].[Asset_Currency] AS [Asset_Currency], 
        [Extent2].[Min_Lot_Size] AS [Min_Lot_Size], 
        [Extent2].[Decimal_Precision] AS [Decimal_Precision], 
        [Extent2].[AvePrice_Rounding] AS [AvePrice_Rounding], 
        [Extent2].[Issue_Date] AS [Issue_Date], 
        [Extent2].[Maturity_Date] AS [Maturity_Date], 
        [Extent2].[Coupon_Rate] AS [Coupon_Rate], 
        [Extent2].[Price_Exchange] AS [Price_Exchange], 
        [Extent2].[Trade_Currency] AS [Trade_Currency], 
        [Extent2].[Price_Curr] AS [Price_Curr], 
        [Extent2].[Currency_Pair_Code] AS [Currency_Pair_Code], 
        [Extent2].[Share_Class] AS [Share_Class], 
        [Extent2].[Current_Market_Price] AS [Current_Market_Price], 
        [Extent2].[Index_Type] AS [Index_Type], 
        [Extent2].[Clean_Price_Formula] AS [Clean_Price_Formula], 
        [Extent2].[Accrued_Income_Price_Formula] AS [Accrued_Income_Price_Formula], 
        [Extent2].[Odd_First_Coupon_Date] AS [Odd_First_Coupon_Date], 
        [Extent2].[Odd_Last_Coupon_Date] AS [Odd_Last_Coupon_Date], 
        [Extent2].[Coupon_Anniversary_Indicator] AS [Coupon_Anniversary_Indicator], 
        [Extent2].[Track_EOM_Flag] AS [Track_EOM_Flag], 
        [Extent2].[Next_Coupon_Date] AS [Next_Coupon_Date], 
        [Extent2].[Previous_Coupon_Date] AS [Previous_Coupon_Date], 
        [Extent2].[Payment_Frequency] AS [Payment_Frequency], 
        [Extent2].[Coupon_BusDay_Adjustment] AS [Coupon_BusDay_Adjustment], 
        [Extent2].[Next_Ex_Div_Date] AS [Next_Ex_Div_Date], 
        [Extent2].[Ex_Div_BusDay_Adjustment] AS [Ex_Div_BusDay_Adjustment], 
        [Extent2].[Ex_Div_Period] AS [Ex_Div_Period], 
        [Extent2].[Ticker] AS [Ticker], 
        [Extent2].[Inet_ID] AS [Inet_ID], 
        [Extent2].[Bloomberg_ID] AS [Bloomberg_ID], 
        [Extent2].[External_Sec_ID] AS [External_Sec_ID], 
        [Extent2].[Reuters_ID] AS [Reuters_ID], 
        [Extent2].[ISIN] AS [ISIN], 
        [Extent2].[Call_Account_Flag] AS [Call_Account_Flag], 
        [Extent2].[System_Locked] AS [System_Locked], 
        [Extent2].[Last_Update_User] AS [Last_Update_User1], 
        [Extent2].[Last_Update_Date] AS [Last_Update_Date1], 
        [Extent2].[Security_Status] AS [Security_Status], 
        [Extent2].[Benchmark_Portfolio] AS [Benchmark_Portfolio], 
        [Extent2].[Active_flag] AS [Active_flag], 
        [Extent2].[Dividend_FX_Security_ID] AS [Dividend_FX_Security_ID]
        FROM  [dbo].[Security_Analytics_History] AS [Extent1]
        INNER JOIN [dbo].[Security_Detail] AS [Extent2] ON [Extent1].[Security_ID] = [Extent2].[Security_ID]
        WHERE [Extent1].[Security_ID] = @p__linq__0
    )  AS [Project1]
    ORDER BY [Project1].[Record_Date] DESC
2018-04-07 18:08:40.9276|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: SELECT 
    [Project1].[Decimal_Precision] AS [Decimal_Precision], 
    [Project1].[Entity_ID] AS [Entity_ID], 
    [Project1].[Security_ID] AS [Security_ID], 
    [Project1].[Issued_Amount] AS [Issued_Amount], 
    [Project1].[Market_Capitalisation] AS [Market_Capitalisation], 
    [Project1].[Risk_Premium] AS [Risk_Premium], 
    [Project1].[Exit_Price] AS [Exit_Price], 
    [Project1].[Total_Return_ME_1YR] AS [Total_Return_ME_1YR], 
    [Project1].[Total_Return_ME_2YR] AS [Total_Return_ME_2YR], 
    [Project1].[Total_Return_ME_3YR] AS [Total_Return_ME_3YR], 
    [Project1].[Historic_Distribution] AS [Historic_Distribution], 
    [Project1].[Distribution_Growth_Forecast_Yr1] AS [Distribution_Growth_Forecast_Yr1], 
    [Project1].[Distribution_Growth_Forecast_Yr2] AS [Distribution_Growth_Forecast_Yr2], 
    [Project1].[Distribution_Growth_Forecast_Yr3] AS [Distribution_Growth_Forecast_Yr3], 
    [Project1].[Forecast_Distribution_Yr1] AS [Forecast_Distribution_Yr1], 
    [Project1].[Forecast_Distribution_Yr2] AS [Forecast_Distribution_Yr2], 
    [Project1].[Forecast_Distribution_Yr3] AS [Forecast_Distribution_Yr3], 
    [Project1].[Earnings_Growth_Compounded] AS [Earnings_Growth_Compounded], 
    [Project1].[Earnings_Forecast_Yr3] AS [Earnings_Forecast_Yr3], 
    [Project1].[Historic_Dividend_Yield_FYE] AS [Historic_Dividend_Yield_FYE], 
    [Project1].[Forward_Dividend_Yield_FYE] AS [Forward_Dividend_Yield_FYE], 
    [Project1].[Yr3_Forward_Dividend_Yield] AS [Yr3_Forward_Dividend_Yield], 
    [Project1].[Rolling_12M_Forward_Yield] AS [Rolling_12M_Forward_Yield], 
    [Project1].[Historical_Earnings_FYE] AS [Historical_Earnings_FYE], 
    [Project1].[Earnings_Forecast_Yr1] AS [Earnings_Forecast_Yr1], 
    [Project1].[Earnings_Forecast_Yr2] AS [Earnings_Forecast_Yr2], 
    [Project1].[Historic_Dividend_Yield_Relative] AS [Historic_Dividend_Yield_Relative], 
    [Project1].[Rolling_12M_Historic_Distribution_PriceCurr] AS [Rolling_12M_Historic_Distribution_PriceCurr], 
    [Project1].[Short_Term_Market_Rerate] AS [Short_Term_Market_Rerate], 
    [Project1].[Forecast_12M_Total_Return] AS [Forecast_12M_Total_Return], 
    [Project1].[Clean_Price] AS [Clean_Price], 
    [Project1].[Rolling_Dividend_Yield_Historic] AS [Rolling_Dividend_Yield_Historic], 
    [Project1].[Last_Update_Date] AS [Last_Update_Date], 
    [Project1].[Last_Update_User] AS [Last_Update_User], 
    [Project1].[Discount_Security_ID] AS [Discount_Security_ID], 
    [Project1].[Net_Present_Value] AS [Net_Present_Value], 
    [Project1].[Forecast_Rolling_Custom_Income] AS [Forecast_Rolling_Custom_Income], 
    [Project1].[Custom_Period] AS [Custom_Period], 
    [Project1].[Rolling_12M_Historic_Distribution] AS [Rolling_12M_Historic_Distribution], 
    [Project1].[Record_Date] AS [Record_Date], 
    [Project1].[Session_ID] AS [Session_ID], 
    [Project1].[Hist_Last_Update_Date] AS [Hist_Last_Update_Date], 
    [Project1].[Hist_Last_Update_User] AS [Hist_Last_Update_User], 
    [Project1].[Rolling_12M_Forecast_Distribution] AS [Rolling_12M_Forecast_Distribution], 
    [Project1].[Yr2_Forward_Dividend_Yield] AS [Yr2_Forward_Dividend_Yield], 
    [Project1].[Exit_Yield] AS [Exit_Yield], 
    [Project1].[Discount_Rate] AS [Discount_Rate], 
    [Project1].[Distribution_Growth_Compounded] AS [Distribution_Growth_Compounded], 
    [Project1].[Forecast_12MRolling_Income_Accrual] AS [Forecast_12MRolling_Income_Accrual], 
    [Project1].[Rolling_12_to_24M_Forecast_Distribution] AS [Rolling_12_to_24M_Forecast_Distribution], 
    [Project1].[Rolling_24_to_36M_Forecast_Distribution] AS [Rolling_24_to_36M_Forecast_Distribution], 
    [Project1].[Forecast_Yr1_Dividend_Yield_Relative] AS [Forecast_Yr1_Dividend_Yield_Relative], 
    [Project1].[Market_Historic_Yield] AS [Market_Historic_Yield], 
    [Project1].[Market_Forward_Yield] AS [Market_Forward_Yield], 
    [Project1].[Historic_Distribution_PriceCurr] AS [Historic_Distribution_PriceCurr], 
    [Project1].[Forecast_Distribution_Yr1_PriceCurr] AS [Forecast_Distribution_Yr1_PriceCurr], 
    [Project1].[Forecast_Distribution_Yr2_PriceCurr] AS [Forecast_Distribution_Yr2_PriceCurr], 
    [Project1].[Forecast_Distribution_Yr3_PriceCurr] AS [Forecast_Distribution_Yr3_PriceCurr], 
    [Project1].[Rolling_12M_Forecast_Distribution_PriceCurr] AS [Rolling_12M_Forecast_Distribution_PriceCurr], 
    [Project1].[Rolling_12_24M_Forecast_Distribution_PriceCurr] AS [Rolling_12_24M_Forecast_Distribution_PriceCurr], 
    [Project1].[Rolling_24_36M_Forecast_Distribution_PriceCurr] AS [Rolling_24_36M_Forecast_Distribution_PriceCurr], 
    [Project1].[Distribution_Growth_Forecast_Yr4] AS [Distribution_Growth_Forecast_Yr4], 
    [Project1].[Earnings_Forecast_Yr4] AS [Earnings_Forecast_Yr4], 
    [Project1].[Forecast_Distribution_Yr4] AS [Forecast_Distribution_Yr4], 
    [Project1].[Forecast_Distribution_Yr4_PriceCurr] AS [Forecast_Distribution_Yr4_PriceCurr], 
    [Project1].[Security_ID1] AS [Security_ID1], 
    [Project1].[Entity_ID1] AS [Entity_ID1], 
    [Project1].[Security_Name] AS [Security_Name], 
    [Project1].[Short_Name] AS [Short_Name], 
    [Project1].[Primary_Exch] AS [Primary_Exch], 
    [Project1].[Secondary_Exch] AS [Secondary_Exch], 
    [Project1].[Country_Of_Domicile] AS [Country_Of_Domicile], 
    [Project1].[Country_Of_Risk] AS [Country_Of_Risk], 
    [Project1].[Security_Type_Code] AS [Security_Type_Code], 
    [Project1].[Price_Multiplier] AS [Price_Multiplier], 
    [Project1].[Income_Frequency] AS [Income_Frequency], 
    [Project1].[Issuer_Code] AS [Issuer_Code], 
    [Project1].[Ultimate_Issuer_Code] AS [Ultimate_Issuer_Code], 
    [Project1].[Asset_Currency] AS [Asset_Currency], 
    [Project1].[Min_Lot_Size] AS [Min_Lot_Size], 
    [Project1].[AvePrice_Rounding] AS [AvePrice_Rounding], 
    [Project1].[Issue_Date] AS [Issue_Date], 
    [Project1].[Maturity_Date] AS [Maturity_Date], 
    [Project1].[Coupon_Rate] AS [Coupon_Rate], 
    [Project1].[Price_Exchange] AS [Price_Exchange], 
    [Project1].[Trade_Currency] AS [Trade_Currency], 
    [Project1].[Price_Curr] AS [Price_Curr], 
    [Project1].[Currency_Pair_Code] AS [Currency_Pair_Code], 
    [Project1].[Share_Class] AS [Share_Class], 
    [Project1].[Current_Market_Price] AS [Current_Market_Price], 
    [Project1].[Index_Type] AS [Index_Type], 
    [Project1].[Clean_Price_Formula] AS [Clean_Price_Formula], 
    [Project1].[Accrued_Income_Price_Formula] AS [Accrued_Income_Price_Formula], 
    [Project1].[Odd_First_Coupon_Date] AS [Odd_First_Coupon_Date], 
    [Project1].[Odd_Last_Coupon_Date] AS [Odd_Last_Coupon_Date], 
    [Project1].[Coupon_Anniversary_Indicator] AS [Coupon_Anniversary_Indicator], 
    [Project1].[Track_EOM_Flag] AS [Track_EOM_Flag], 
    [Project1].[Next_Coupon_Date] AS [Next_Coupon_Date], 
    [Project1].[Previous_Coupon_Date] AS [Previous_Coupon_Date], 
    [Project1].[Payment_Frequency] AS [Payment_Frequency], 
    [Project1].[Coupon_BusDay_Adjustment] AS [Coupon_BusDay_Adjustment], 
    [Project1].[Next_Ex_Div_Date] AS [Next_Ex_Div_Date], 
    [Project1].[Ex_Div_BusDay_Adjustment] AS [Ex_Div_BusDay_Adjustment], 
    [Project1].[Ex_Div_Period] AS [Ex_Div_Period], 
    [Project1].[Ticker] AS [Ticker], 
    [Project1].[Inet_ID] AS [Inet_ID], 
    [Project1].[Bloomberg_ID] AS [Bloomberg_ID], 
    [Project1].[External_Sec_ID] AS [External_Sec_ID], 
    [Project1].[Reuters_ID] AS [Reuters_ID], 
    [Project1].[ISIN] AS [ISIN], 
    [Project1].[Call_Account_Flag] AS [Call_Account_Flag], 
    [Project1].[System_Locked] AS [System_Locked], 
    [Project1].[Last_Update_User1] AS [Last_Update_User1], 
    [Project1].[Last_Update_Date1] AS [Last_Update_Date1], 
    [Project1].[Security_Status] AS [Security_Status], 
    [Project1].[Benchmark_Portfolio] AS [Benchmark_Portfolio], 
    [Project1].[Active_flag] AS [Active_flag], 
    [Project1].[Dividend_FX_Security_ID] AS [Dividend_FX_Security_ID]
    FROM ( SELECT 
        [Extent1].[Entity_ID] AS [Entity_ID], 
        [Extent1].[Security_ID] AS [Security_ID], 
        [Extent1].[Issued_Amount] AS [Issued_Amount], 
        [Extent1].[Market_Capitalisation] AS [Market_Capitalisation], 
        [Extent1].[Risk_Premium] AS [Risk_Premium], 
        [Extent1].[Exit_Price] AS [Exit_Price], 
        [Extent1].[Total_Return_ME_1YR] AS [Total_Return_ME_1YR], 
        [Extent1].[Total_Return_ME_2YR] AS [Total_Return_ME_2YR], 
        [Extent1].[Total_Return_ME_3YR] AS [Total_Return_ME_3YR], 
        [Extent1].[Historic_Distribution] AS [Historic_Distribution], 
        [Extent1].[Distribution_Growth_Forecast_Yr1] AS [Distribution_Growth_Forecast_Yr1], 
        [Extent1].[Distribution_Growth_Forecast_Yr2] AS [Distribution_Growth_Forecast_Yr2], 
        [Extent1].[Distribution_Growth_Forecast_Yr3] AS [Distribution_Growth_Forecast_Yr3], 
        [Extent1].[Forecast_Distribution_Yr1] AS [Forecast_Distribution_Yr1], 
        [Extent1].[Forecast_Distribution_Yr2] AS [Forecast_Distribution_Yr2], 
        [Extent1].[Forecast_Distribution_Yr3] AS [Forecast_Distribution_Yr3], 
        [Extent1].[Earnings_Growth_Compounded] AS [Earnings_Growth_Compounded], 
        [Extent1].[Earnings_Forecast_Yr3] AS [Earnings_Forecast_Yr3], 
        [Extent1].[Historic_Dividend_Yield_FYE] AS [Historic_Dividend_Yield_FYE], 
        [Extent1].[Forward_Dividend_Yield_FYE] AS [Forward_Dividend_Yield_FYE], 
        [Extent1].[Yr3_Forward_Dividend_Yield] AS [Yr3_Forward_Dividend_Yield], 
        [Extent1].[Rolling_12M_Forward_Yield] AS [Rolling_12M_Forward_Yield], 
        [Extent1].[Historical_Earnings_FYE] AS [Historical_Earnings_FYE], 
        [Extent1].[Earnings_Forecast_Yr1] AS [Earnings_Forecast_Yr1], 
        [Extent1].[Earnings_Forecast_Yr2] AS [Earnings_Forecast_Yr2], 
        [Extent1].[Historic_Dividend_Yield_Relative] AS [Historic_Dividend_Yield_Relative], 
        [Extent1].[Rolling_12M_Historic_Distribution_PriceCurr] AS [Rolling_12M_Historic_Distribution_PriceCurr], 
        [Extent1].[Short_Term_Market_Rerate] AS [Short_Term_Market_Rerate], 
        [Extent1].[Forecast_12M_Total_Return] AS [Forecast_12M_Total_Return], 
        [Extent1].[Clean_Price] AS [Clean_Price], 
        [Extent1].[Rolling_Dividend_Yield_Historic] AS [Rolling_Dividend_Yield_Historic], 
        [Extent1].[Last_Update_Date] AS [Last_Update_Date], 
        [Extent1].[Last_Update_User] AS [Last_Update_User], 
        [Extent1].[Discount_Security_ID] AS [Discount_Security_ID], 
        [Extent1].[Net_Present_Value] AS [Net_Present_Value], 
        [Extent1].[Forecast_Rolling_Custom_Income] AS [Forecast_Rolling_Custom_Income], 
        [Extent1].[Custom_Period] AS [Custom_Period], 
        [Extent1].[Rolling_12M_Historic_Distribution] AS [Rolling_12M_Historic_Distribution], 
        [Extent1].[Record_Date] AS [Record_Date], 
        [Extent1].[Session_ID] AS [Session_ID], 
        [Extent1].[Hist_Last_Update_Date] AS [Hist_Last_Update_Date], 
        [Extent1].[Hist_Last_Update_User] AS [Hist_Last_Update_User], 
        [Extent1].[Rolling_12M_Forecast_Distribution] AS [Rolling_12M_Forecast_Distribution], 
        [Extent1].[Yr2_Forward_Dividend_Yield] AS [Yr2_Forward_Dividend_Yield], 
        [Extent1].[Exit_Yield] AS [Exit_Yield], 
        [Extent1].[Discount_Rate] AS [Discount_Rate], 
        [Extent1].[Distribution_Growth_Compounded] AS [Distribution_Growth_Compounded], 
        [Extent1].[Forecast_12MRolling_Income_Accrual] AS [Forecast_12MRolling_Income_Accrual], 
        [Extent1].[Rolling_12_to_24M_Forecast_Distribution] AS [Rolling_12_to_24M_Forecast_Distribution], 
        [Extent1].[Rolling_24_to_36M_Forecast_Distribution] AS [Rolling_24_to_36M_Forecast_Distribution], 
        [Extent1].[Forecast_Yr1_Dividend_Yield_Relative] AS [Forecast_Yr1_Dividend_Yield_Relative], 
        [Extent1].[Market_Historic_Yield] AS [Market_Historic_Yield], 
        [Extent1].[Market_Forward_Yield] AS [Market_Forward_Yield], 
        [Extent1].[Historic_Distribution_PriceCurr] AS [Historic_Distribution_PriceCurr], 
        [Extent1].[Forecast_Distribution_Yr1_PriceCurr] AS [Forecast_Distribution_Yr1_PriceCurr], 
        [Extent1].[Forecast_Distribution_Yr2_PriceCurr] AS [Forecast_Distribution_Yr2_PriceCurr], 
        [Extent1].[Forecast_Distribution_Yr3_PriceCurr] AS [Forecast_Distribution_Yr3_PriceCurr], 
        [Extent1].[Rolling_12M_Forecast_Distribution_PriceCurr] AS [Rolling_12M_Forecast_Distribution_PriceCurr], 
        [Extent1].[Rolling_12_24M_Forecast_Distribution_PriceCurr] AS [Rolling_12_24M_Forecast_Distribution_PriceCurr], 
        [Extent1].[Rolling_24_36M_Forecast_Distribution_PriceCurr] AS [Rolling_24_36M_Forecast_Distribution_PriceCurr], 
        [Extent1].[Distribution_Growth_Forecast_Yr4] AS [Distribution_Growth_Forecast_Yr4], 
        [Extent1].[Earnings_Forecast_Yr4] AS [Earnings_Forecast_Yr4], 
        [Extent1].[Forecast_Distribution_Yr4] AS [Forecast_Distribution_Yr4], 
        [Extent1].[Forecast_Distribution_Yr4_PriceCurr] AS [Forecast_Distribution_Yr4_PriceCurr], 
        [Extent2].[Security_ID] AS [Security_ID1], 
        [Extent2].[Entity_ID] AS [Entity_ID1], 
        [Extent2].[Security_Name] AS [Security_Name], 
        [Extent2].[Short_Name] AS [Short_Name], 
        [Extent2].[Primary_Exch] AS [Primary_Exch], 
        [Extent2].[Secondary_Exch] AS [Secondary_Exch], 
        [Extent2].[Country_Of_Domicile] AS [Country_Of_Domicile], 
        [Extent2].[Country_Of_Risk] AS [Country_Of_Risk], 
        [Extent2].[Security_Type_Code] AS [Security_Type_Code], 
        [Extent2].[Price_Multiplier] AS [Price_Multiplier], 
        [Extent2].[Income_Frequency] AS [Income_Frequency], 
        [Extent2].[Issuer_Code] AS [Issuer_Code], 
        [Extent2].[Ultimate_Issuer_Code] AS [Ultimate_Issuer_Code], 
        [Extent2].[Asset_Currency] AS [Asset_Currency], 
        [Extent2].[Min_Lot_Size] AS [Min_Lot_Size], 
        [Extent2].[Decimal_Precision] AS [Decimal_Precision], 
        [Extent2].[AvePrice_Rounding] AS [AvePrice_Rounding], 
        [Extent2].[Issue_Date] AS [Issue_Date], 
        [Extent2].[Maturity_Date] AS [Maturity_Date], 
        [Extent2].[Coupon_Rate] AS [Coupon_Rate], 
        [Extent2].[Price_Exchange] AS [Price_Exchange], 
        [Extent2].[Trade_Currency] AS [Trade_Currency], 
        [Extent2].[Price_Curr] AS [Price_Curr], 
        [Extent2].[Currency_Pair_Code] AS [Currency_Pair_Code], 
        [Extent2].[Share_Class] AS [Share_Class], 
        [Extent2].[Current_Market_Price] AS [Current_Market_Price], 
        [Extent2].[Index_Type] AS [Index_Type], 
        [Extent2].[Clean_Price_Formula] AS [Clean_Price_Formula], 
        [Extent2].[Accrued_Income_Price_Formula] AS [Accrued_Income_Price_Formula], 
        [Extent2].[Odd_First_Coupon_Date] AS [Odd_First_Coupon_Date], 
        [Extent2].[Odd_Last_Coupon_Date] AS [Odd_Last_Coupon_Date], 
        [Extent2].[Coupon_Anniversary_Indicator] AS [Coupon_Anniversary_Indicator], 
        [Extent2].[Track_EOM_Flag] AS [Track_EOM_Flag], 
        [Extent2].[Next_Coupon_Date] AS [Next_Coupon_Date], 
        [Extent2].[Previous_Coupon_Date] AS [Previous_Coupon_Date], 
        [Extent2].[Payment_Frequency] AS [Payment_Frequency], 
        [Extent2].[Coupon_BusDay_Adjustment] AS [Coupon_BusDay_Adjustment], 
        [Extent2].[Next_Ex_Div_Date] AS [Next_Ex_Div_Date], 
        [Extent2].[Ex_Div_BusDay_Adjustment] AS [Ex_Div_BusDay_Adjustment], 
        [Extent2].[Ex_Div_Period] AS [Ex_Div_Period], 
        [Extent2].[Ticker] AS [Ticker], 
        [Extent2].[Inet_ID] AS [Inet_ID], 
        [Extent2].[Bloomberg_ID] AS [Bloomberg_ID], 
        [Extent2].[External_Sec_ID] AS [External_Sec_ID], 
        [Extent2].[Reuters_ID] AS [Reuters_ID], 
        [Extent2].[ISIN] AS [ISIN], 
        [Extent2].[Call_Account_Flag] AS [Call_Account_Flag], 
        [Extent2].[System_Locked] AS [System_Locked], 
        [Extent2].[Last_Update_User] AS [Last_Update_User1], 
        [Extent2].[Last_Update_Date] AS [Last_Update_Date1], 
        [Extent2].[Security_Status] AS [Security_Status], 
        [Extent2].[Benchmark_Portfolio] AS [Benchmark_Portfolio], 
        [Extent2].[Active_flag] AS [Active_flag], 
        [Extent2].[Dividend_FX_Security_ID] AS [Dividend_FX_Security_ID]
        FROM  [dbo].[Security_Analytics_History] AS [Extent1]
        INNER JOIN [dbo].[Security_Detail] AS [Extent2] ON [Extent1].[Security_ID] = [Extent2].[Security_ID]
        WHERE [Extent1].[Security_ID] = @p__linq__0
    )  AS [Project1]
    ORDER BY [Project1].[Record_Date] DESC
2018-04-07 18:08:41.0066|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: IF db_id(N'MetopeAzureDb') IS NOT NULL SELECT 1 ELSE SELECT Count(*) FROM sys.databases WHERE [name]=N'MetopeAzureDb'
2018-04-07 18:08:41.1032|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: IF db_id(N'MetopeAzureDb') IS NOT NULL SELECT 1 ELSE SELECT Count(*) FROM sys.databases WHERE [name]=N'MetopeAzureDb'
2018-04-07 18:08:41.1807|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: IF db_id(N'MetopeAzureDb') IS NOT NULL SELECT 1 ELSE SELECT Count(*) FROM sys.databases WHERE [name]=N'MetopeAzureDb'
2018-04-07 18:08:41.1997|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: IF db_id(N'MetopeAzureDb') IS NOT NULL SELECT 1 ELSE SELECT Count(*) FROM sys.databases WHERE [name]=N'MetopeAzureDb'
2018-04-07 18:09:05.8645|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: SELECT 
    [Extent2].[Decimal_Precision] AS [Decimal_Precision], 
    [Extent1].[Entity_ID] AS [Entity_ID], 
    [Extent1].[Security_ID] AS [Security_ID], 
    [Extent1].[Issued_Amount] AS [Issued_Amount], 
    [Extent1].[Market_Capitalisation] AS [Market_Capitalisation], 
    [Extent1].[Risk_Premium] AS [Risk_Premium], 
    [Extent1].[Exit_Price] AS [Exit_Price], 
    [Extent1].[Total_Return_ME_1YR] AS [Total_Return_ME_1YR], 
    [Extent1].[Total_Return_ME_2YR] AS [Total_Return_ME_2YR], 
    [Extent1].[Total_Return_ME_3YR] AS [Total_Return_ME_3YR], 
    [Extent1].[Historic_Distribution] AS [Historic_Distribution], 
    [Extent1].[Distribution_Growth_Forecast_Yr1] AS [Distribution_Growth_Forecast_Yr1], 
    [Extent1].[Distribution_Growth_Forecast_Yr2] AS [Distribution_Growth_Forecast_Yr2], 
    [Extent1].[Distribution_Growth_Forecast_Yr3] AS [Distribution_Growth_Forecast_Yr3], 
    [Extent1].[Forecast_Distribution_Yr1] AS [Forecast_Distribution_Yr1], 
    [Extent1].[Forecast_Distribution_Yr2] AS [Forecast_Distribution_Yr2], 
    [Extent1].[Forecast_Distribution_Yr3] AS [Forecast_Distribution_Yr3], 
    [Extent1].[Earnings_Growth_Compounded] AS [Earnings_Growth_Compounded], 
    [Extent1].[Earnings_Forecast_Yr3] AS [Earnings_Forecast_Yr3], 
    [Extent1].[Historic_Dividend_Yield_FYE] AS [Historic_Dividend_Yield_FYE], 
    [Extent1].[Forward_Dividend_Yield_FYE] AS [Forward_Dividend_Yield_FYE], 
    [Extent1].[Yr3_Forward_Dividend_Yield] AS [Yr3_Forward_Dividend_Yield], 
    [Extent1].[Rolling_12M_Forward_Yield] AS [Rolling_12M_Forward_Yield], 
    [Extent1].[Historical_Earnings_FYE] AS [Historical_Earnings_FYE], 
    [Extent1].[Earnings_Forecast_Yr1] AS [Earnings_Forecast_Yr1], 
    [Extent1].[Earnings_Forecast_Yr2] AS [Earnings_Forecast_Yr2], 
    [Extent1].[Historic_Dividend_Yield_Relative] AS [Historic_Dividend_Yield_Relative], 
    [Extent1].[Rolling_12M_Historic_Distribution_PriceCurr] AS [Rolling_12M_Historic_Distribution_PriceCurr], 
    [Extent1].[Short_Term_Market_Rerate] AS [Short_Term_Market_Rerate], 
    [Extent1].[Forecast_12M_Total_Return] AS [Forecast_12M_Total_Return], 
    [Extent1].[Clean_Price] AS [Clean_Price], 
    [Extent1].[Rolling_Dividend_Yield_Historic] AS [Rolling_Dividend_Yield_Historic], 
    [Extent1].[Last_Update_Date] AS [Last_Update_Date], 
    [Extent1].[Last_Update_User] AS [Last_Update_User], 
    [Extent1].[Discount_Security_ID] AS [Discount_Security_ID], 
    [Extent1].[Net_Present_Value] AS [Net_Present_Value], 
    [Extent1].[Forecast_Rolling_Custom_Income] AS [Forecast_Rolling_Custom_Income], 
    [Extent1].[Custom_Period] AS [Custom_Period], 
    [Extent1].[Rolling_12M_Historic_Distribution] AS [Rolling_12M_Historic_Distribution], 
    [Extent1].[Rolling_12M_Forecast_Distribution] AS [Rolling_12M_Forecast_Distribution], 
    [Extent1].[Yr2_Forward_Dividend_Yield] AS [Yr2_Forward_Dividend_Yield], 
    [Extent1].[Exit_Yield] AS [Exit_Yield], 
    [Extent1].[Discount_Rate] AS [Discount_Rate], 
    [Extent1].[Distribution_Growth_Compounded] AS [Distribution_Growth_Compounded], 
    [Extent1].[Forecast_12MRolling_Income_Accrual] AS [Forecast_12MRolling_Income_Accrual], 
    [Extent1].[Rolling_12_to_24M_Forecast_Distribution] AS [Rolling_12_to_24M_Forecast_Distribution], 
    [Extent1].[Rolling_24_to_36M_Forecast_Distribution] AS [Rolling_24_to_36M_Forecast_Distribution], 
    [Extent1].[Forecast_Yr1_Dividend_Yield_Relative] AS [Forecast_Yr1_Dividend_Yield_Relative], 
    [Extent1].[Market_Historic_Yield] AS [Market_Historic_Yield], 
    [Extent1].[Market_Forward_Yield] AS [Market_Forward_Yield], 
    [Extent1].[Historic_Distribution_PriceCurr] AS [Historic_Distribution_PriceCurr], 
    [Extent1].[Forecast_Distribution_Yr1_PriceCurr] AS [Forecast_Distribution_Yr1_PriceCurr], 
    [Extent1].[Forecast_Distribution_Yr2_PriceCurr] AS [Forecast_Distribution_Yr2_PriceCurr], 
    [Extent1].[Forecast_Distribution_Yr3_PriceCurr] AS [Forecast_Distribution_Yr3_PriceCurr], 
    [Extent1].[Rolling_12M_Forecast_Distribution_PriceCurr] AS [Rolling_12M_Forecast_Distribution_PriceCurr], 
    [Extent1].[Rolling_12_24M_Forecast_Distribution_PriceCurr] AS [Rolling_12_24M_Forecast_Distribution_PriceCurr], 
    [Extent1].[Rolling_24_36M_Forecast_Distribution_PriceCurr] AS [Rolling_24_36M_Forecast_Distribution_PriceCurr], 
    [Extent1].[Distribution_Growth_Forecast_Yr4] AS [Distribution_Growth_Forecast_Yr4], 
    [Extent1].[Earnings_Forecast_Yr4] AS [Earnings_Forecast_Yr4], 
    [Extent1].[Forecast_Distribution_Yr4] AS [Forecast_Distribution_Yr4], 
    [Extent1].[Forecast_Distribution_Yr4_PriceCurr] AS [Forecast_Distribution_Yr4_PriceCurr], 
    [Extent2].[Security_ID] AS [Security_ID1], 
    [Extent2].[Entity_ID] AS [Entity_ID1], 
    [Extent2].[Security_Name] AS [Security_Name], 
    [Extent2].[Short_Name] AS [Short_Name], 
    [Extent2].[Primary_Exch] AS [Primary_Exch], 
    [Extent2].[Secondary_Exch] AS [Secondary_Exch], 
    [Extent2].[Country_Of_Domicile] AS [Country_Of_Domicile], 
    [Extent2].[Country_Of_Risk] AS [Country_Of_Risk], 
    [Extent2].[Security_Type_Code] AS [Security_Type_Code], 
    [Extent2].[Price_Multiplier] AS [Price_Multiplier], 
    [Extent2].[Income_Frequency] AS [Income_Frequency], 
    [Extent2].[Issuer_Code] AS [Issuer_Code], 
    [Extent2].[Ultimate_Issuer_Code] AS [Ultimate_Issuer_Code], 
    [Extent2].[Asset_Currency] AS [Asset_Currency], 
    [Extent2].[Min_Lot_Size] AS [Min_Lot_Size], 
    [Extent2].[AvePrice_Rounding] AS [AvePrice_Rounding], 
    [Extent2].[Issue_Date] AS [Issue_Date], 
    [Extent2].[Maturity_Date] AS [Maturity_Date], 
    [Extent2].[Coupon_Rate] AS [Coupon_Rate], 
    [Extent2].[Price_Exchange] AS [Price_Exchange], 
    [Extent2].[Trade_Currency] AS [Trade_Currency], 
    [Extent2].[Price_Curr] AS [Price_Curr], 
    [Extent2].[Currency_Pair_Code] AS [Currency_Pair_Code], 
    [Extent2].[Share_Class] AS [Share_Class], 
    [Extent2].[Current_Market_Price] AS [Current_Market_Price], 
    [Extent2].[Index_Type] AS [Index_Type], 
    [Extent2].[Clean_Price_Formula] AS [Clean_Price_Formula], 
    [Extent2].[Accrued_Income_Price_Formula] AS [Accrued_Income_Price_Formula], 
    [Extent2].[Odd_First_Coupon_Date] AS [Odd_First_Coupon_Date], 
    [Extent2].[Odd_Last_Coupon_Date] AS [Odd_Last_Coupon_Date], 
    [Extent2].[Coupon_Anniversary_Indicator] AS [Coupon_Anniversary_Indicator], 
    [Extent2].[Track_EOM_Flag] AS [Track_EOM_Flag], 
    [Extent2].[Next_Coupon_Date] AS [Next_Coupon_Date], 
    [Extent2].[Previous_Coupon_Date] AS [Previous_Coupon_Date], 
    [Extent2].[Payment_Frequency] AS [Payment_Frequency], 
    [Extent2].[Coupon_BusDay_Adjustment] AS [Coupon_BusDay_Adjustment], 
    [Extent2].[Next_Ex_Div_Date] AS [Next_Ex_Div_Date], 
    [Extent2].[Ex_Div_BusDay_Adjustment] AS [Ex_Div_BusDay_Adjustment], 
    [Extent2].[Ex_Div_Period] AS [Ex_Div_Period], 
    [Extent2].[Ticker] AS [Ticker], 
    [Extent2].[Inet_ID] AS [Inet_ID], 
    [Extent2].[Bloomberg_ID] AS [Bloomberg_ID], 
    [Extent2].[External_Sec_ID] AS [External_Sec_ID], 
    [Extent2].[Reuters_ID] AS [Reuters_ID], 
    [Extent2].[ISIN] AS [ISIN], 
    [Extent2].[Call_Account_Flag] AS [Call_Account_Flag], 
    [Extent2].[System_Locked] AS [System_Locked], 
    [Extent2].[Last_Update_User] AS [Last_Update_User1], 
    [Extent2].[Last_Update_Date] AS [Last_Update_Date1], 
    [Extent2].[Security_Status] AS [Security_Status], 
    [Extent2].[Benchmark_Portfolio] AS [Benchmark_Portfolio], 
    [Extent2].[Active_flag] AS [Active_flag], 
    [Extent2].[Dividend_FX_Security_ID] AS [Dividend_FX_Security_ID]
    FROM  [dbo].[Security_Analytics] AS [Extent1]
    INNER JOIN [dbo].[Security_Detail] AS [Extent2] ON [Extent1].[Security_ID] = [Extent2].[Security_ID]
2018-04-07 18:09:05.9245|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: SELECT 
    [Extent2].[Decimal_Precision] AS [Decimal_Precision], 
    [Extent1].[Entity_ID] AS [Entity_ID], 
    [Extent1].[Security_ID] AS [Security_ID], 
    [Extent1].[Issued_Amount] AS [Issued_Amount], 
    [Extent1].[Market_Capitalisation] AS [Market_Capitalisation], 
    [Extent1].[Risk_Premium] AS [Risk_Premium], 
    [Extent1].[Exit_Price] AS [Exit_Price], 
    [Extent1].[Total_Return_ME_1YR] AS [Total_Return_ME_1YR], 
    [Extent1].[Total_Return_ME_2YR] AS [Total_Return_ME_2YR], 
    [Extent1].[Total_Return_ME_3YR] AS [Total_Return_ME_3YR], 
    [Extent1].[Historic_Distribution] AS [Historic_Distribution], 
    [Extent1].[Distribution_Growth_Forecast_Yr1] AS [Distribution_Growth_Forecast_Yr1], 
    [Extent1].[Distribution_Growth_Forecast_Yr2] AS [Distribution_Growth_Forecast_Yr2], 
    [Extent1].[Distribution_Growth_Forecast_Yr3] AS [Distribution_Growth_Forecast_Yr3], 
    [Extent1].[Forecast_Distribution_Yr1] AS [Forecast_Distribution_Yr1], 
    [Extent1].[Forecast_Distribution_Yr2] AS [Forecast_Distribution_Yr2], 
    [Extent1].[Forecast_Distribution_Yr3] AS [Forecast_Distribution_Yr3], 
    [Extent1].[Earnings_Growth_Compounded] AS [Earnings_Growth_Compounded], 
    [Extent1].[Earnings_Forecast_Yr3] AS [Earnings_Forecast_Yr3], 
    [Extent1].[Historic_Dividend_Yield_FYE] AS [Historic_Dividend_Yield_FYE], 
    [Extent1].[Forward_Dividend_Yield_FYE] AS [Forward_Dividend_Yield_FYE], 
    [Extent1].[Yr3_Forward_Dividend_Yield] AS [Yr3_Forward_Dividend_Yield], 
    [Extent1].[Rolling_12M_Forward_Yield] AS [Rolling_12M_Forward_Yield], 
    [Extent1].[Historical_Earnings_FYE] AS [Historical_Earnings_FYE], 
    [Extent1].[Earnings_Forecast_Yr1] AS [Earnings_Forecast_Yr1], 
    [Extent1].[Earnings_Forecast_Yr2] AS [Earnings_Forecast_Yr2], 
    [Extent1].[Historic_Dividend_Yield_Relative] AS [Historic_Dividend_Yield_Relative], 
    [Extent1].[Rolling_12M_Historic_Distribution_PriceCurr] AS [Rolling_12M_Historic_Distribution_PriceCurr], 
    [Extent1].[Short_Term_Market_Rerate] AS [Short_Term_Market_Rerate], 
    [Extent1].[Forecast_12M_Total_Return] AS [Forecast_12M_Total_Return], 
    [Extent1].[Clean_Price] AS [Clean_Price], 
    [Extent1].[Rolling_Dividend_Yield_Historic] AS [Rolling_Dividend_Yield_Historic], 
    [Extent1].[Last_Update_Date] AS [Last_Update_Date], 
    [Extent1].[Last_Update_User] AS [Last_Update_User], 
    [Extent1].[Discount_Security_ID] AS [Discount_Security_ID], 
    [Extent1].[Net_Present_Value] AS [Net_Present_Value], 
    [Extent1].[Forecast_Rolling_Custom_Income] AS [Forecast_Rolling_Custom_Income], 
    [Extent1].[Custom_Period] AS [Custom_Period], 
    [Extent1].[Rolling_12M_Historic_Distribution] AS [Rolling_12M_Historic_Distribution], 
    [Extent1].[Rolling_12M_Forecast_Distribution] AS [Rolling_12M_Forecast_Distribution], 
    [Extent1].[Yr2_Forward_Dividend_Yield] AS [Yr2_Forward_Dividend_Yield], 
    [Extent1].[Exit_Yield] AS [Exit_Yield], 
    [Extent1].[Discount_Rate] AS [Discount_Rate], 
    [Extent1].[Distribution_Growth_Compounded] AS [Distribution_Growth_Compounded], 
    [Extent1].[Forecast_12MRolling_Income_Accrual] AS [Forecast_12MRolling_Income_Accrual], 
    [Extent1].[Rolling_12_to_24M_Forecast_Distribution] AS [Rolling_12_to_24M_Forecast_Distribution], 
    [Extent1].[Rolling_24_to_36M_Forecast_Distribution] AS [Rolling_24_to_36M_Forecast_Distribution], 
    [Extent1].[Forecast_Yr1_Dividend_Yield_Relative] AS [Forecast_Yr1_Dividend_Yield_Relative], 
    [Extent1].[Market_Historic_Yield] AS [Market_Historic_Yield], 
    [Extent1].[Market_Forward_Yield] AS [Market_Forward_Yield], 
    [Extent1].[Historic_Distribution_PriceCurr] AS [Historic_Distribution_PriceCurr], 
    [Extent1].[Forecast_Distribution_Yr1_PriceCurr] AS [Forecast_Distribution_Yr1_PriceCurr], 
    [Extent1].[Forecast_Distribution_Yr2_PriceCurr] AS [Forecast_Distribution_Yr2_PriceCurr], 
    [Extent1].[Forecast_Distribution_Yr3_PriceCurr] AS [Forecast_Distribution_Yr3_PriceCurr], 
    [Extent1].[Rolling_12M_Forecast_Distribution_PriceCurr] AS [Rolling_12M_Forecast_Distribution_PriceCurr], 
    [Extent1].[Rolling_12_24M_Forecast_Distribution_PriceCurr] AS [Rolling_12_24M_Forecast_Distribution_PriceCurr], 
    [Extent1].[Rolling_24_36M_Forecast_Distribution_PriceCurr] AS [Rolling_24_36M_Forecast_Distribution_PriceCurr], 
    [Extent1].[Distribution_Growth_Forecast_Yr4] AS [Distribution_Growth_Forecast_Yr4], 
    [Extent1].[Earnings_Forecast_Yr4] AS [Earnings_Forecast_Yr4], 
    [Extent1].[Forecast_Distribution_Yr4] AS [Forecast_Distribution_Yr4], 
    [Extent1].[Forecast_Distribution_Yr4_PriceCurr] AS [Forecast_Distribution_Yr4_PriceCurr], 
    [Extent2].[Security_ID] AS [Security_ID1], 
    [Extent2].[Entity_ID] AS [Entity_ID1], 
    [Extent2].[Security_Name] AS [Security_Name], 
    [Extent2].[Short_Name] AS [Short_Name], 
    [Extent2].[Primary_Exch] AS [Primary_Exch], 
    [Extent2].[Secondary_Exch] AS [Secondary_Exch], 
    [Extent2].[Country_Of_Domicile] AS [Country_Of_Domicile], 
    [Extent2].[Country_Of_Risk] AS [Country_Of_Risk], 
    [Extent2].[Security_Type_Code] AS [Security_Type_Code], 
    [Extent2].[Price_Multiplier] AS [Price_Multiplier], 
    [Extent2].[Income_Frequency] AS [Income_Frequency], 
    [Extent2].[Issuer_Code] AS [Issuer_Code], 
    [Extent2].[Ultimate_Issuer_Code] AS [Ultimate_Issuer_Code], 
    [Extent2].[Asset_Currency] AS [Asset_Currency], 
    [Extent2].[Min_Lot_Size] AS [Min_Lot_Size], 
    [Extent2].[AvePrice_Rounding] AS [AvePrice_Rounding], 
    [Extent2].[Issue_Date] AS [Issue_Date], 
    [Extent2].[Maturity_Date] AS [Maturity_Date], 
    [Extent2].[Coupon_Rate] AS [Coupon_Rate], 
    [Extent2].[Price_Exchange] AS [Price_Exchange], 
    [Extent2].[Trade_Currency] AS [Trade_Currency], 
    [Extent2].[Price_Curr] AS [Price_Curr], 
    [Extent2].[Currency_Pair_Code] AS [Currency_Pair_Code], 
    [Extent2].[Share_Class] AS [Share_Class], 
    [Extent2].[Current_Market_Price] AS [Current_Market_Price], 
    [Extent2].[Index_Type] AS [Index_Type], 
    [Extent2].[Clean_Price_Formula] AS [Clean_Price_Formula], 
    [Extent2].[Accrued_Income_Price_Formula] AS [Accrued_Income_Price_Formula], 
    [Extent2].[Odd_First_Coupon_Date] AS [Odd_First_Coupon_Date], 
    [Extent2].[Odd_Last_Coupon_Date] AS [Odd_Last_Coupon_Date], 
    [Extent2].[Coupon_Anniversary_Indicator] AS [Coupon_Anniversary_Indicator], 
    [Extent2].[Track_EOM_Flag] AS [Track_EOM_Flag], 
    [Extent2].[Next_Coupon_Date] AS [Next_Coupon_Date], 
    [Extent2].[Previous_Coupon_Date] AS [Previous_Coupon_Date], 
    [Extent2].[Payment_Frequency] AS [Payment_Frequency], 
    [Extent2].[Coupon_BusDay_Adjustment] AS [Coupon_BusDay_Adjustment], 
    [Extent2].[Next_Ex_Div_Date] AS [Next_Ex_Div_Date], 
    [Extent2].[Ex_Div_BusDay_Adjustment] AS [Ex_Div_BusDay_Adjustment], 
    [Extent2].[Ex_Div_Period] AS [Ex_Div_Period], 
    [Extent2].[Ticker] AS [Ticker], 
    [Extent2].[Inet_ID] AS [Inet_ID], 
    [Extent2].[Bloomberg_ID] AS [Bloomberg_ID], 
    [Extent2].[External_Sec_ID] AS [External_Sec_ID], 
    [Extent2].[Reuters_ID] AS [Reuters_ID], 
    [Extent2].[ISIN] AS [ISIN], 
    [Extent2].[Call_Account_Flag] AS [Call_Account_Flag], 
    [Extent2].[System_Locked] AS [System_Locked], 
    [Extent2].[Last_Update_User] AS [Last_Update_User1], 
    [Extent2].[Last_Update_Date] AS [Last_Update_Date1], 
    [Extent2].[Security_Status] AS [Security_Status], 
    [Extent2].[Benchmark_Portfolio] AS [Benchmark_Portfolio], 
    [Extent2].[Active_flag] AS [Active_flag], 
    [Extent2].[Dividend_FX_Security_ID] AS [Dividend_FX_Security_ID]
    FROM  [dbo].[Security_Analytics] AS [Extent1]
    INNER JOIN [dbo].[Security_Detail] AS [Extent2] ON [Extent1].[Security_ID] = [Extent2].[Security_ID]
2018-04-07 18:09:11.4837|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: IF db_id(N'MetopeAzureDb') IS NOT NULL SELECT 1 ELSE SELECT Count(*) FROM sys.databases WHERE [name]=N'MetopeAzureDb'
2018-04-07 18:09:11.5227|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: IF db_id(N'MetopeAzureDb') IS NOT NULL SELECT 1 ELSE SELECT Count(*) FROM sys.databases WHERE [name]=N'MetopeAzureDb'
2018-04-07 18:09:11.5622|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: IF db_id(N'MetopeAzureDb') IS NOT NULL SELECT 1 ELSE SELECT Count(*) FROM sys.databases WHERE [name]=N'MetopeAzureDb'
2018-04-07 18:09:11.6053|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: IF db_id(N'MetopeAzureDb') IS NOT NULL SELECT 1 ELSE SELECT Count(*) FROM sys.databases WHERE [name]=N'MetopeAzureDb'
2018-04-07 18:09:16.5475|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: SELECT 
    [Project1].[C1] AS [C1], 
    [Project1].[Portfolio_Code] AS [Portfolio_Code], 
    [Project1].[Entity_ID] AS [Entity_ID], 
    [Project1].[Net_Asset_Value] AS [Net_Asset_Value], 
    [Project1].[Gross_Asset_Value] AS [Gross_Asset_Value], 
    [Project1].[Total_Investments] AS [Total_Investments], 
    [Project1].[Total_Cash] AS [Total_Cash], 
    [Project1].[Liabilities] AS [Liabilities], 
    [Project1].[Fees] AS [Fees], 
    [Project1].[Total_Cost] AS [Total_Cost], 
    [Project1].[NAV_Excl_Fees] AS [NAV_Excl_Fees], 
    [Project1].[Last_Update_User] AS [Last_Update_User], 
    [Project1].[Last_Update_Date] AS [Last_Update_Date], 
    [Project1].[Entity_ID1] AS [Entity_ID1], 
    [Project1].[Entity_Code] AS [Entity_Code], 
    [Project1].[Entity_Name] AS [Entity_Name], 
    [Project1].[Import_Folder] AS [Import_Folder], 
    [Project1].[Export_Folder] AS [Export_Folder], 
    [Project1].[Entity_ID2] AS [Entity_ID2], 
    [Project1].[Portfolio_Code1] AS [Portfolio_Code1], 
    [Project1].[Portfolio_Name] AS [Portfolio_Name], 
    [Project1].[Manager] AS [Manager], 
    [Project1].[Portfolio_Type] AS [Portfolio_Type], 
    [Project1].[Portfolio_Base_Currency] AS [Portfolio_Base_Currency], 
    [Project1].[PortfolIo_Domicile] AS [PortfolIo_Domicile], 
    [Project1].[Portfolio_Report_Currency] AS [Portfolio_Report_Currency], 
    [Project1].[Inception_Date] AS [Inception_Date], 
    [Project1].[Financial_Year_End] AS [Financial_Year_End], 
    [Project1].[Custodian_Code] AS [Custodian_Code], 
    [Project1].[Active_Flag] AS [Active_Flag], 
    [Project1].[System_Locked] AS [System_Locked], 
    [Project1].[Portfolio_Status] AS [Portfolio_Status]
    FROM ( SELECT 
        [Extent1].[Portfolio_Code] AS [Portfolio_Code], 
        [Extent1].[Entity_ID] AS [Entity_ID], 
        [Extent1].[Net_Asset_Value] AS [Net_Asset_Value], 
        [Extent1].[Gross_Asset_Value] AS [Gross_Asset_Value], 
        [Extent1].[Total_Investments] AS [Total_Investments], 
        [Extent1].[Total_Cash] AS [Total_Cash], 
        [Extent1].[Liabilities] AS [Liabilities], 
        [Extent1].[Fees] AS [Fees], 
        [Extent1].[Total_Cost] AS [Total_Cost], 
        [Extent1].[NAV_Excl_Fees] AS [NAV_Excl_Fees], 
        [Extent1].[Last_Update_User] AS [Last_Update_User], 
        [Extent1].[Last_Update_Date] AS [Last_Update_Date], 
        [Extent2].[Entity_ID] AS [Entity_ID1], 
        [Extent2].[Entity_Code] AS [Entity_Code], 
        [Extent2].[Entity_Name] AS [Entity_Name], 
        [Extent2].[Import_Folder] AS [Import_Folder], 
        [Extent2].[Export_Folder] AS [Export_Folder], 
        [Extent3].[Entity_ID] AS [Entity_ID2], 
        [Extent3].[Portfolio_Code] AS [Portfolio_Code1], 
        [Extent3].[Portfolio_Name] AS [Portfolio_Name], 
        [Extent3].[Manager] AS [Manager], 
        [Extent3].[Portfolio_Type] AS [Portfolio_Type], 
        [Extent3].[Portfolio_Base_Currency] AS [Portfolio_Base_Currency], 
        [Extent3].[PortfolIo_Domicile] AS [PortfolIo_Domicile], 
        [Extent3].[Portfolio_Report_Currency] AS [Portfolio_Report_Currency], 
        [Extent3].[Inception_Date] AS [Inception_Date], 
        [Extent3].[Financial_Year_End] AS [Financial_Year_End], 
        [Extent3].[Custodian_Code] AS [Custodian_Code], 
        [Extent3].[Active_Flag] AS [Active_Flag], 
        [Extent3].[System_Locked] AS [System_Locked], 
        [Extent3].[Portfolio_Status] AS [Portfolio_Status], 
        1 AS [C1]
        FROM   [dbo].[Portfolio_Valuation] AS [Extent1]
        INNER JOIN [dbo].[Entity] AS [Extent2] ON [Extent1].[Entity_ID] = [Extent2].[Entity_ID]
        INNER JOIN [dbo].[Portfolio] AS [Extent3] ON ([Extent1].[Entity_ID] = [Extent3].[Entity_ID]) AND ([Extent1].[Portfolio_Code] = [Extent3].[Portfolio_Code])
    )  AS [Project1]
    ORDER BY [Project1].[Portfolio_Code] ASC
2018-04-07 18:09:16.6280|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: SELECT 
    [Project1].[C1] AS [C1], 
    [Project1].[Portfolio_Code] AS [Portfolio_Code], 
    [Project1].[Entity_ID] AS [Entity_ID], 
    [Project1].[Net_Asset_Value] AS [Net_Asset_Value], 
    [Project1].[Gross_Asset_Value] AS [Gross_Asset_Value], 
    [Project1].[Total_Investments] AS [Total_Investments], 
    [Project1].[Total_Cash] AS [Total_Cash], 
    [Project1].[Liabilities] AS [Liabilities], 
    [Project1].[Fees] AS [Fees], 
    [Project1].[Total_Cost] AS [Total_Cost], 
    [Project1].[NAV_Excl_Fees] AS [NAV_Excl_Fees], 
    [Project1].[Last_Update_User] AS [Last_Update_User], 
    [Project1].[Last_Update_Date] AS [Last_Update_Date], 
    [Project1].[Entity_ID1] AS [Entity_ID1], 
    [Project1].[Entity_Code] AS [Entity_Code], 
    [Project1].[Entity_Name] AS [Entity_Name], 
    [Project1].[Import_Folder] AS [Import_Folder], 
    [Project1].[Export_Folder] AS [Export_Folder], 
    [Project1].[Entity_ID2] AS [Entity_ID2], 
    [Project1].[Portfolio_Code1] AS [Portfolio_Code1], 
    [Project1].[Portfolio_Name] AS [Portfolio_Name], 
    [Project1].[Manager] AS [Manager], 
    [Project1].[Portfolio_Type] AS [Portfolio_Type], 
    [Project1].[Portfolio_Base_Currency] AS [Portfolio_Base_Currency], 
    [Project1].[PortfolIo_Domicile] AS [PortfolIo_Domicile], 
    [Project1].[Portfolio_Report_Currency] AS [Portfolio_Report_Currency], 
    [Project1].[Inception_Date] AS [Inception_Date], 
    [Project1].[Financial_Year_End] AS [Financial_Year_End], 
    [Project1].[Custodian_Code] AS [Custodian_Code], 
    [Project1].[Active_Flag] AS [Active_Flag], 
    [Project1].[System_Locked] AS [System_Locked], 
    [Project1].[Portfolio_Status] AS [Portfolio_Status]
    FROM ( SELECT 
        [Extent1].[Portfolio_Code] AS [Portfolio_Code], 
        [Extent1].[Entity_ID] AS [Entity_ID], 
        [Extent1].[Net_Asset_Value] AS [Net_Asset_Value], 
        [Extent1].[Gross_Asset_Value] AS [Gross_Asset_Value], 
        [Extent1].[Total_Investments] AS [Total_Investments], 
        [Extent1].[Total_Cash] AS [Total_Cash], 
        [Extent1].[Liabilities] AS [Liabilities], 
        [Extent1].[Fees] AS [Fees], 
        [Extent1].[Total_Cost] AS [Total_Cost], 
        [Extent1].[NAV_Excl_Fees] AS [NAV_Excl_Fees], 
        [Extent1].[Last_Update_User] AS [Last_Update_User], 
        [Extent1].[Last_Update_Date] AS [Last_Update_Date], 
        [Extent2].[Entity_ID] AS [Entity_ID1], 
        [Extent2].[Entity_Code] AS [Entity_Code], 
        [Extent2].[Entity_Name] AS [Entity_Name], 
        [Extent2].[Import_Folder] AS [Import_Folder], 
        [Extent2].[Export_Folder] AS [Export_Folder], 
        [Extent3].[Entity_ID] AS [Entity_ID2], 
        [Extent3].[Portfolio_Code] AS [Portfolio_Code1], 
        [Extent3].[Portfolio_Name] AS [Portfolio_Name], 
        [Extent3].[Manager] AS [Manager], 
        [Extent3].[Portfolio_Type] AS [Portfolio_Type], 
        [Extent3].[Portfolio_Base_Currency] AS [Portfolio_Base_Currency], 
        [Extent3].[PortfolIo_Domicile] AS [PortfolIo_Domicile], 
        [Extent3].[Portfolio_Report_Currency] AS [Portfolio_Report_Currency], 
        [Extent3].[Inception_Date] AS [Inception_Date], 
        [Extent3].[Financial_Year_End] AS [Financial_Year_End], 
        [Extent3].[Custodian_Code] AS [Custodian_Code], 
        [Extent3].[Active_Flag] AS [Active_Flag], 
        [Extent3].[System_Locked] AS [System_Locked], 
        [Extent3].[Portfolio_Status] AS [Portfolio_Status], 
        1 AS [C1]
        FROM   [dbo].[Portfolio_Valuation] AS [Extent1]
        INNER JOIN [dbo].[Entity] AS [Extent2] ON [Extent1].[Entity_ID] = [Extent2].[Entity_ID]
        INNER JOIN [dbo].[Portfolio] AS [Extent3] ON ([Extent1].[Entity_ID] = [Extent3].[Entity_ID]) AND ([Extent1].[Portfolio_Code] = [Extent3].[Portfolio_Code])
    )  AS [Project1]
    ORDER BY [Project1].[Portfolio_Code] ASC
2018-04-07 18:09:16.6966|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: IF db_id(N'MetopeAzureDb') IS NOT NULL SELECT 1 ELSE SELECT Count(*) FROM sys.databases WHERE [name]=N'MetopeAzureDb'
2018-04-07 18:09:16.7206|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: IF db_id(N'MetopeAzureDb') IS NOT NULL SELECT 1 ELSE SELECT Count(*) FROM sys.databases WHERE [name]=N'MetopeAzureDb'
2018-04-07 18:09:16.7431|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: IF db_id(N'MetopeAzureDb') IS NOT NULL SELECT 1 ELSE SELECT Count(*) FROM sys.databases WHERE [name]=N'MetopeAzureDb'
2018-04-07 18:09:16.7646|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: IF db_id(N'MetopeAzureDb') IS NOT NULL SELECT 1 ELSE SELECT Count(*) FROM sys.databases WHERE [name]=N'MetopeAzureDb'
2018-04-07 18:09:21.4490|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: SELECT 
    [Project2].[C1] AS [C1], 
    [Project2].[Security_ID] AS [Security_ID], 
    [Project2].[Entity_ID] AS [Entity_ID], 
    [Project2].[Security_Type_Code] AS [Security_Type_Code], 
    [Project2].[Security_Name] AS [Security_Name], 
    [Project2].[Current_Market_Price] AS [Current_Market_Price], 
    [Project2].[Ticker] AS [Ticker], 
    [Project2].[Primary_Exch] AS [Primary_Exch], 
    [Project2].[Maturity_Date] AS [Maturity_Date], 
    [Project2].[Security_Status] AS [Security_Status], 
    [Project2].[C2] AS [C2], 
    [Project2].[C3] AS [C3]
    FROM ( SELECT 
        [Project1].[Security_ID] AS [Security_ID], 
        [Project1].[Entity_ID] AS [Entity_ID], 
        [Project1].[Security_Name] AS [Security_Name], 
        [Project1].[Primary_Exch] AS [Primary_Exch], 
        [Project1].[Security_Type_Code] AS [Security_Type_Code], 
        [Project1].[Maturity_Date] AS [Maturity_Date], 
        [Project1].[Current_Market_Price] AS [Current_Market_Price], 
        [Project1].[Ticker] AS [Ticker], 
        [Project1].[Security_Status] AS [Security_Status], 
        1 AS [C1], 
        @p__linq__2 AS [C2], 
        [Project1].[C1] AS [C3]
        FROM ( SELECT 
            [Extent1].[Security_ID] AS [Security_ID], 
            [Extent1].[Entity_ID] AS [Entity_ID], 
            [Extent1].[Security_Name] AS [Security_Name], 
            [Extent1].[Primary_Exch] AS [Primary_Exch], 
            [Extent1].[Security_Type_Code] AS [Security_Type_Code], 
            [Extent1].[Maturity_Date] AS [Maturity_Date], 
            [Extent1].[Current_Market_Price] AS [Current_Market_Price], 
            [Extent1].[Ticker] AS [Ticker], 
            [Extent1].[Security_Status] AS [Security_Status], 
            (SELECT 
                COUNT(1) AS [A1]
                FROM [dbo].[Security_Analytics] AS [Extent2]
                WHERE [Extent1].[Security_ID] = [Extent2].[Security_ID]) AS [C1]
            FROM [dbo].[Security_Detail] AS [Extent1]
            WHERE [Extent1].[Entity_ID] IN (@p__linq__0,@p__linq__1)
        )  AS [Project1]
    )  AS [Project2]
    ORDER BY [Project2].[Security_Name] ASC
2018-04-07 18:09:21.4886|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: SELECT 
    [Project2].[C1] AS [C1], 
    [Project2].[Security_ID] AS [Security_ID], 
    [Project2].[Entity_ID] AS [Entity_ID], 
    [Project2].[Security_Type_Code] AS [Security_Type_Code], 
    [Project2].[Security_Name] AS [Security_Name], 
    [Project2].[Current_Market_Price] AS [Current_Market_Price], 
    [Project2].[Ticker] AS [Ticker], 
    [Project2].[Primary_Exch] AS [Primary_Exch], 
    [Project2].[Maturity_Date] AS [Maturity_Date], 
    [Project2].[Security_Status] AS [Security_Status], 
    [Project2].[C2] AS [C2], 
    [Project2].[C3] AS [C3]
    FROM ( SELECT 
        [Project1].[Security_ID] AS [Security_ID], 
        [Project1].[Entity_ID] AS [Entity_ID], 
        [Project1].[Security_Name] AS [Security_Name], 
        [Project1].[Primary_Exch] AS [Primary_Exch], 
        [Project1].[Security_Type_Code] AS [Security_Type_Code], 
        [Project1].[Maturity_Date] AS [Maturity_Date], 
        [Project1].[Current_Market_Price] AS [Current_Market_Price], 
        [Project1].[Ticker] AS [Ticker], 
        [Project1].[Security_Status] AS [Security_Status], 
        1 AS [C1], 
        @p__linq__2 AS [C2], 
        [Project1].[C1] AS [C3]
        FROM ( SELECT 
            [Extent1].[Security_ID] AS [Security_ID], 
            [Extent1].[Entity_ID] AS [Entity_ID], 
            [Extent1].[Security_Name] AS [Security_Name], 
            [Extent1].[Primary_Exch] AS [Primary_Exch], 
            [Extent1].[Security_Type_Code] AS [Security_Type_Code], 
            [Extent1].[Maturity_Date] AS [Maturity_Date], 
            [Extent1].[Current_Market_Price] AS [Current_Market_Price], 
            [Extent1].[Ticker] AS [Ticker], 
            [Extent1].[Security_Status] AS [Security_Status], 
            (SELECT 
                COUNT(1) AS [A1]
                FROM [dbo].[Security_Analytics] AS [Extent2]
                WHERE [Extent1].[Security_ID] = [Extent2].[Security_ID]) AS [C1]
            FROM [dbo].[Security_Detail] AS [Extent1]
            WHERE [Extent1].[Entity_ID] IN (@p__linq__0,@p__linq__1)
        )  AS [Project1]
    )  AS [Project2]
    ORDER BY [Project2].[Security_Name] ASC
2018-04-07 18:09:25.4044|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: IF db_id(N'MetopeAzureDb') IS NOT NULL SELECT 1 ELSE SELECT Count(*) FROM sys.databases WHERE [name]=N'MetopeAzureDb'
2018-04-07 18:09:25.4804|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: IF db_id(N'MetopeAzureDb') IS NOT NULL SELECT 1 ELSE SELECT Count(*) FROM sys.databases WHERE [name]=N'MetopeAzureDb'
2018-04-07 18:09:25.5644|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: IF db_id(N'MetopeAzureDb') IS NOT NULL SELECT 1 ELSE SELECT Count(*) FROM sys.databases WHERE [name]=N'MetopeAzureDb'
2018-04-07 18:09:25.6860|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: IF db_id(N'MetopeAzureDb') IS NOT NULL SELECT 1 ELSE SELECT Count(*) FROM sys.databases WHERE [name]=N'MetopeAzureDb'
2018-04-07 18:09:29.7818|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: IF db_id(N'MetopeAzureDb') IS NOT NULL SELECT 1 ELSE SELECT Count(*) FROM sys.databases WHERE [name]=N'MetopeAzureDb'
2018-04-07 18:09:29.9054|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: IF db_id(N'MetopeAzureDb') IS NOT NULL SELECT 1 ELSE SELECT Count(*) FROM sys.databases WHERE [name]=N'MetopeAzureDb'
2018-04-07 18:09:30.3972|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: SELECT TOP (1) 
    [Extent1].[Entity_ID] AS [Entity_ID], 
    [Extent1].[Security_ID] AS [Security_ID], 
    [Extent1].[Issued_Amount] AS [Issued_Amount], 
    [Extent1].[Market_Capitalisation] AS [Market_Capitalisation], 
    [Extent1].[Risk_Premium] AS [Risk_Premium], 
    [Extent1].[Exit_Price] AS [Exit_Price], 
    [Extent1].[Total_Return_ME_1YR] AS [Total_Return_ME_1YR], 
    [Extent1].[Total_Return_ME_2YR] AS [Total_Return_ME_2YR], 
    [Extent1].[Total_Return_ME_3YR] AS [Total_Return_ME_3YR], 
    [Extent1].[Historic_Distribution] AS [Historic_Distribution], 
    [Extent1].[Distribution_Growth_Forecast_Yr1] AS [Distribution_Growth_Forecast_Yr1], 
    [Extent1].[Distribution_Growth_Forecast_Yr2] AS [Distribution_Growth_Forecast_Yr2], 
    [Extent1].[Distribution_Growth_Forecast_Yr3] AS [Distribution_Growth_Forecast_Yr3], 
    [Extent1].[Forecast_Distribution_Yr1] AS [Forecast_Distribution_Yr1], 
    [Extent1].[Forecast_Distribution_Yr2] AS [Forecast_Distribution_Yr2], 
    [Extent1].[Forecast_Distribution_Yr3] AS [Forecast_Distribution_Yr3], 
    [Extent1].[Earnings_Growth_Compounded] AS [Earnings_Growth_Compounded], 
    [Extent1].[Earnings_Forecast_Yr3] AS [Earnings_Forecast_Yr3], 
    [Extent1].[Historic_Dividend_Yield_FYE] AS [Historic_Dividend_Yield_FYE], 
    [Extent1].[Forward_Dividend_Yield_FYE] AS [Forward_Dividend_Yield_FYE], 
    [Extent1].[Yr3_Forward_Dividend_Yield] AS [Yr3_Forward_Dividend_Yield], 
    [Extent1].[Rolling_12M_Forward_Yield] AS [Rolling_12M_Forward_Yield], 
    [Extent1].[Historical_Earnings_FYE] AS [Historical_Earnings_FYE], 
    [Extent1].[Earnings_Forecast_Yr1] AS [Earnings_Forecast_Yr1], 
    [Extent1].[Earnings_Forecast_Yr2] AS [Earnings_Forecast_Yr2], 
    [Extent1].[Historic_Dividend_Yield_Relative] AS [Historic_Dividend_Yield_Relative], 
    [Extent1].[Rolling_12M_Historic_Distribution_PriceCurr] AS [Rolling_12M_Historic_Distribution_PriceCurr], 
    [Extent1].[Short_Term_Market_Rerate] AS [Short_Term_Market_Rerate], 
    [Extent1].[Forecast_12M_Total_Return] AS [Forecast_12M_Total_Return], 
    [Extent1].[Clean_Price] AS [Clean_Price], 
    [Extent1].[Rolling_Dividend_Yield_Historic] AS [Rolling_Dividend_Yield_Historic], 
    [Extent1].[Last_Update_Date] AS [Last_Update_Date], 
    [Extent1].[Last_Update_User] AS [Last_Update_User], 
    [Extent1].[Discount_Security_ID] AS [Discount_Security_ID], 
    [Extent1].[Net_Present_Value] AS [Net_Present_Value], 
    [Extent1].[Forecast_Rolling_Custom_Income] AS [Forecast_Rolling_Custom_Income], 
    [Extent1].[Custom_Period] AS [Custom_Period], 
    [Extent1].[Rolling_12M_Historic_Distribution] AS [Rolling_12M_Historic_Distribution], 
    [Extent1].[Rolling_12M_Forecast_Distribution] AS [Rolling_12M_Forecast_Distribution], 
    [Extent1].[Yr2_Forward_Dividend_Yield] AS [Yr2_Forward_Dividend_Yield], 
    [Extent1].[Exit_Yield] AS [Exit_Yield], 
    [Extent1].[Discount_Rate] AS [Discount_Rate], 
    [Extent1].[Distribution_Growth_Compounded] AS [Distribution_Growth_Compounded], 
    [Extent1].[Forecast_12MRolling_Income_Accrual] AS [Forecast_12MRolling_Income_Accrual], 
    [Extent1].[Rolling_12_to_24M_Forecast_Distribution] AS [Rolling_12_to_24M_Forecast_Distribution], 
    [Extent1].[Rolling_24_to_36M_Forecast_Distribution] AS [Rolling_24_to_36M_Forecast_Distribution], 
    [Extent1].[Forecast_Yr1_Dividend_Yield_Relative] AS [Forecast_Yr1_Dividend_Yield_Relative], 
    [Extent1].[Market_Historic_Yield] AS [Market_Historic_Yield], 
    [Extent1].[Market_Forward_Yield] AS [Market_Forward_Yield], 
    [Extent1].[Historic_Distribution_PriceCurr] AS [Historic_Distribution_PriceCurr], 
    [Extent1].[Forecast_Distribution_Yr1_PriceCurr] AS [Forecast_Distribution_Yr1_PriceCurr], 
    [Extent1].[Forecast_Distribution_Yr2_PriceCurr] AS [Forecast_Distribution_Yr2_PriceCurr], 
    [Extent1].[Forecast_Distribution_Yr3_PriceCurr] AS [Forecast_Distribution_Yr3_PriceCurr], 
    [Extent1].[Rolling_12M_Forecast_Distribution_PriceCurr] AS [Rolling_12M_Forecast_Distribution_PriceCurr], 
    [Extent1].[Rolling_12_24M_Forecast_Distribution_PriceCurr] AS [Rolling_12_24M_Forecast_Distribution_PriceCurr], 
    [Extent1].[Rolling_24_36M_Forecast_Distribution_PriceCurr] AS [Rolling_24_36M_Forecast_Distribution_PriceCurr], 
    [Extent1].[Distribution_Growth_Forecast_Yr4] AS [Distribution_Growth_Forecast_Yr4], 
    [Extent1].[Earnings_Forecast_Yr4] AS [Earnings_Forecast_Yr4], 
    [Extent1].[Forecast_Distribution_Yr4] AS [Forecast_Distribution_Yr4], 
    [Extent1].[Forecast_Distribution_Yr4_PriceCurr] AS [Forecast_Distribution_Yr4_PriceCurr]
    FROM [dbo].[Security_Analytics] AS [Extent1]
    WHERE ([Extent1].[Security_ID] = @p__linq__0) AND ([Extent1].[Entity_ID] = @p__linq__1)
2018-04-07 18:09:30.4412|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: SELECT TOP (1) 
    [Extent1].[Entity_ID] AS [Entity_ID], 
    [Extent1].[Security_ID] AS [Security_ID], 
    [Extent1].[Issued_Amount] AS [Issued_Amount], 
    [Extent1].[Market_Capitalisation] AS [Market_Capitalisation], 
    [Extent1].[Risk_Premium] AS [Risk_Premium], 
    [Extent1].[Exit_Price] AS [Exit_Price], 
    [Extent1].[Total_Return_ME_1YR] AS [Total_Return_ME_1YR], 
    [Extent1].[Total_Return_ME_2YR] AS [Total_Return_ME_2YR], 
    [Extent1].[Total_Return_ME_3YR] AS [Total_Return_ME_3YR], 
    [Extent1].[Historic_Distribution] AS [Historic_Distribution], 
    [Extent1].[Distribution_Growth_Forecast_Yr1] AS [Distribution_Growth_Forecast_Yr1], 
    [Extent1].[Distribution_Growth_Forecast_Yr2] AS [Distribution_Growth_Forecast_Yr2], 
    [Extent1].[Distribution_Growth_Forecast_Yr3] AS [Distribution_Growth_Forecast_Yr3], 
    [Extent1].[Forecast_Distribution_Yr1] AS [Forecast_Distribution_Yr1], 
    [Extent1].[Forecast_Distribution_Yr2] AS [Forecast_Distribution_Yr2], 
    [Extent1].[Forecast_Distribution_Yr3] AS [Forecast_Distribution_Yr3], 
    [Extent1].[Earnings_Growth_Compounded] AS [Earnings_Growth_Compounded], 
    [Extent1].[Earnings_Forecast_Yr3] AS [Earnings_Forecast_Yr3], 
    [Extent1].[Historic_Dividend_Yield_FYE] AS [Historic_Dividend_Yield_FYE], 
    [Extent1].[Forward_Dividend_Yield_FYE] AS [Forward_Dividend_Yield_FYE], 
    [Extent1].[Yr3_Forward_Dividend_Yield] AS [Yr3_Forward_Dividend_Yield], 
    [Extent1].[Rolling_12M_Forward_Yield] AS [Rolling_12M_Forward_Yield], 
    [Extent1].[Historical_Earnings_FYE] AS [Historical_Earnings_FYE], 
    [Extent1].[Earnings_Forecast_Yr1] AS [Earnings_Forecast_Yr1], 
    [Extent1].[Earnings_Forecast_Yr2] AS [Earnings_Forecast_Yr2], 
    [Extent1].[Historic_Dividend_Yield_Relative] AS [Historic_Dividend_Yield_Relative], 
    [Extent1].[Rolling_12M_Historic_Distribution_PriceCurr] AS [Rolling_12M_Historic_Distribution_PriceCurr], 
    [Extent1].[Short_Term_Market_Rerate] AS [Short_Term_Market_Rerate], 
    [Extent1].[Forecast_12M_Total_Return] AS [Forecast_12M_Total_Return], 
    [Extent1].[Clean_Price] AS [Clean_Price], 
    [Extent1].[Rolling_Dividend_Yield_Historic] AS [Rolling_Dividend_Yield_Historic], 
    [Extent1].[Last_Update_Date] AS [Last_Update_Date], 
    [Extent1].[Last_Update_User] AS [Last_Update_User], 
    [Extent1].[Discount_Security_ID] AS [Discount_Security_ID], 
    [Extent1].[Net_Present_Value] AS [Net_Present_Value], 
    [Extent1].[Forecast_Rolling_Custom_Income] AS [Forecast_Rolling_Custom_Income], 
    [Extent1].[Custom_Period] AS [Custom_Period], 
    [Extent1].[Rolling_12M_Historic_Distribution] AS [Rolling_12M_Historic_Distribution], 
    [Extent1].[Rolling_12M_Forecast_Distribution] AS [Rolling_12M_Forecast_Distribution], 
    [Extent1].[Yr2_Forward_Dividend_Yield] AS [Yr2_Forward_Dividend_Yield], 
    [Extent1].[Exit_Yield] AS [Exit_Yield], 
    [Extent1].[Discount_Rate] AS [Discount_Rate], 
    [Extent1].[Distribution_Growth_Compounded] AS [Distribution_Growth_Compounded], 
    [Extent1].[Forecast_12MRolling_Income_Accrual] AS [Forecast_12MRolling_Income_Accrual], 
    [Extent1].[Rolling_12_to_24M_Forecast_Distribution] AS [Rolling_12_to_24M_Forecast_Distribution], 
    [Extent1].[Rolling_24_to_36M_Forecast_Distribution] AS [Rolling_24_to_36M_Forecast_Distribution], 
    [Extent1].[Forecast_Yr1_Dividend_Yield_Relative] AS [Forecast_Yr1_Dividend_Yield_Relative], 
    [Extent1].[Market_Historic_Yield] AS [Market_Historic_Yield], 
    [Extent1].[Market_Forward_Yield] AS [Market_Forward_Yield], 
    [Extent1].[Historic_Distribution_PriceCurr] AS [Historic_Distribution_PriceCurr], 
    [Extent1].[Forecast_Distribution_Yr1_PriceCurr] AS [Forecast_Distribution_Yr1_PriceCurr], 
    [Extent1].[Forecast_Distribution_Yr2_PriceCurr] AS [Forecast_Distribution_Yr2_PriceCurr], 
    [Extent1].[Forecast_Distribution_Yr3_PriceCurr] AS [Forecast_Distribution_Yr3_PriceCurr], 
    [Extent1].[Rolling_12M_Forecast_Distribution_PriceCurr] AS [Rolling_12M_Forecast_Distribution_PriceCurr], 
    [Extent1].[Rolling_12_24M_Forecast_Distribution_PriceCurr] AS [Rolling_12_24M_Forecast_Distribution_PriceCurr], 
    [Extent1].[Rolling_24_36M_Forecast_Distribution_PriceCurr] AS [Rolling_24_36M_Forecast_Distribution_PriceCurr], 
    [Extent1].[Distribution_Growth_Forecast_Yr4] AS [Distribution_Growth_Forecast_Yr4], 
    [Extent1].[Earnings_Forecast_Yr4] AS [Earnings_Forecast_Yr4], 
    [Extent1].[Forecast_Distribution_Yr4] AS [Forecast_Distribution_Yr4], 
    [Extent1].[Forecast_Distribution_Yr4_PriceCurr] AS [Forecast_Distribution_Yr4_PriceCurr]
    FROM [dbo].[Security_Analytics] AS [Extent1]
    WHERE ([Extent1].[Security_ID] = @p__linq__0) AND ([Extent1].[Entity_ID] = @p__linq__1)
2018-04-07 18:09:34.9736|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: IF db_id(N'MetopeAzureDb') IS NOT NULL SELECT 1 ELSE SELECT Count(*) FROM sys.databases WHERE [name]=N'MetopeAzureDb'
2018-04-07 18:09:35.0517|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: IF db_id(N'MetopeAzureDb') IS NOT NULL SELECT 1 ELSE SELECT Count(*) FROM sys.databases WHERE [name]=N'MetopeAzureDb'
2018-04-07 18:09:35.0737|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: IF db_id(N'MetopeAzureDb') IS NOT NULL SELECT 1 ELSE SELECT Count(*) FROM sys.databases WHERE [name]=N'MetopeAzureDb'
2018-04-07 18:09:35.0892|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: IF db_id(N'MetopeAzureDb') IS NOT NULL SELECT 1 ELSE SELECT Count(*) FROM sys.databases WHERE [name]=N'MetopeAzureDb'
2018-04-07 18:10:16.5458|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: IF db_id(N'MetopeAzureDb') IS NOT NULL SELECT 1 ELSE SELECT Count(*) FROM sys.databases WHERE [name]=N'MetopeAzureDb'
2018-04-07 18:10:16.5884|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: IF db_id(N'MetopeAzureDb') IS NOT NULL SELECT 1 ELSE SELECT Count(*) FROM sys.databases WHERE [name]=N'MetopeAzureDb'
2018-04-07 18:10:16.7710|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: SELECT 
    [GroupBy1].[A1] AS [C1]
    FROM ( SELECT 
        COUNT(1) AS [A1]
        FROM [dbo].[Portfolio] AS [Extent1]
        WHERE ([Extent1].[Entity_ID] = @p__linq__0) AND ((@p__linq__1 IS NULL) OR ([Extent1].[Portfolio_Name] LIKE @p__linq__2 ESCAPE '~'))
    )  AS [GroupBy1]
2018-04-07 18:10:16.8225|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: SELECT 
    [GroupBy1].[A1] AS [C1]
    FROM ( SELECT 
        COUNT(1) AS [A1]
        FROM [dbo].[Portfolio] AS [Extent1]
        WHERE ([Extent1].[Entity_ID] = @p__linq__0) AND ((@p__linq__1 IS NULL) OR ([Extent1].[Portfolio_Name] LIKE @p__linq__2 ESCAPE '~'))
    )  AS [GroupBy1]
2018-04-07 18:10:17.3179|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: SELECT 
    [Project1].[C1] AS [C1], 
    [Project1].[Entity_ID] AS [Entity_ID], 
    [Project1].[Portfolio_Code] AS [Portfolio_Code], 
    [Project1].[Portfolio_Name] AS [Portfolio_Name], 
    [Project1].[Manager] AS [Manager], 
    [Project1].[Portfolio_Type] AS [Portfolio_Type], 
    [Project1].[Portfolio_Base_Currency] AS [Portfolio_Base_Currency], 
    [Project1].[PortfolIo_Domicile] AS [PortfolIo_Domicile], 
    [Project1].[Portfolio_Report_Currency] AS [Portfolio_Report_Currency], 
    [Project1].[Inception_Date] AS [Inception_Date], 
    [Project1].[Financial_Year_End] AS [Financial_Year_End], 
    [Project1].[Custodian_Code] AS [Custodian_Code], 
    [Project1].[Active_Flag] AS [Active_Flag], 
    [Project1].[System_Locked] AS [System_Locked], 
    [Project1].[Portfolio_Status] AS [Portfolio_Status], 
    [Project1].[Entity_ID1] AS [Entity_ID1], 
    [Project1].[Entity_Code] AS [Entity_Code], 
    [Project1].[Entity_Name] AS [Entity_Name], 
    [Project1].[Import_Folder] AS [Import_Folder], 
    [Project1].[Export_Folder] AS [Export_Folder], 
    [Project1].[Entity_ID2] AS [Entity_ID2], 
    [Project1].[User_Code] AS [User_Code], 
    [Project1].[User_Name] AS [User_Name], 
    [Project1].[User_Initial] AS [User_Initial], 
    [Project1].[Mobile_Number] AS [Mobile_Number], 
    [Project1].[Email_Address] AS [Email_Address], 
    [Project1].[Active_Indicator] AS [Active_Indicator], 
    [Project1].[Export_Folder1] AS [Export_Folder1], 
    [Project1].[User_Type] AS [User_Type], 
    [Project1].[Password] AS [Password], 
    [Project1].[Password_Expire_Date] AS [Password_Expire_Date], 
    [Project1].[Lock_Indicator] AS [Lock_Indicator], 
    [Project1].[Login_Fail_Count] AS [Login_Fail_Count], 
    [Project1].[Login_Fail_Time] AS [Login_Fail_Time], 
    [Project1].[Last_Login_Time] AS [Last_Login_Time], 
    [Project1].[System_Locked1] AS [System_Locked1]
    FROM ( SELECT 
        [Extent1].[Entity_ID] AS [Entity_ID], 
        [Extent1].[Portfolio_Code] AS [Portfolio_Code], 
        [Extent1].[Portfolio_Name] AS [Portfolio_Name], 
        [Extent1].[Manager] AS [Manager], 
        [Extent1].[Portfolio_Type] AS [Portfolio_Type], 
        [Extent1].[Portfolio_Base_Currency] AS [Portfolio_Base_Currency], 
        [Extent1].[PortfolIo_Domicile] AS [PortfolIo_Domicile], 
        [Extent1].[Portfolio_Report_Currency] AS [Portfolio_Report_Currency], 
        [Extent1].[Inception_Date] AS [Inception_Date], 
        [Extent1].[Financial_Year_End] AS [Financial_Year_End], 
        [Extent1].[Custodian_Code] AS [Custodian_Code], 
        [Extent1].[Active_Flag] AS [Active_Flag], 
        [Extent1].[System_Locked] AS [System_Locked], 
        [Extent1].[Portfolio_Status] AS [Portfolio_Status], 
        [Extent2].[Entity_ID] AS [Entity_ID1], 
        [Extent2].[Entity_Code] AS [Entity_Code], 
        [Extent2].[Entity_Name] AS [Entity_Name], 
        [Extent2].[Import_Folder] AS [Import_Folder], 
        [Extent2].[Export_Folder] AS [Export_Folder], 
        [Extent3].[Entity_ID] AS [Entity_ID2], 
        [Extent3].[User_Code] AS [User_Code], 
        [Extent3].[User_Name] AS [User_Name], 
        [Extent3].[User_Initial] AS [User_Initial], 
        [Extent3].[Mobile_Number] AS [Mobile_Number], 
        [Extent3].[Email_Address] AS [Email_Address], 
        [Extent3].[Active_Indicator] AS [Active_Indicator], 
        [Extent3].[Export_Folder] AS [Export_Folder1], 
        [Extent3].[User_Type] AS [User_Type], 
        [Extent3].[Password] AS [Password], 
        [Extent3].[Password_Expire_Date] AS [Password_Expire_Date], 
        [Extent3].[Lock_Indicator] AS [Lock_Indicator], 
        [Extent3].[Login_Fail_Count] AS [Login_Fail_Count], 
        [Extent3].[Login_Fail_Time] AS [Login_Fail_Time], 
        [Extent3].[Last_Login_Time] AS [Last_Login_Time], 
        [Extent3].[System_Locked] AS [System_Locked1], 
        1 AS [C1]
        FROM   [dbo].[Portfolio] AS [Extent1]
        INNER JOIN [dbo].[Entity] AS [Extent2] ON [Extent1].[Entity_ID] = [Extent2].[Entity_ID]
        INNER JOIN [dbo].[User] AS [Extent3] ON ([Extent1].[Manager] = [Extent3].[User_Code]) AND ([Extent1].[Entity_ID] = [Extent3].[Entity_ID])
        WHERE ([Extent1].[Entity_ID] = @p__linq__0) AND ((@p__linq__1 IS NULL) OR ([Extent1].[Portfolio_Name] LIKE @p__linq__2 ESCAPE '~'))
    )  AS [Project1]
    ORDER BY [Project1].[Portfolio_Name] ASC
    OFFSET 0 ROWS FETCH NEXT 10 ROWS ONLY 
2018-04-07 18:10:17.3809|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: SELECT 
    [Project1].[C1] AS [C1], 
    [Project1].[Entity_ID] AS [Entity_ID], 
    [Project1].[Portfolio_Code] AS [Portfolio_Code], 
    [Project1].[Portfolio_Name] AS [Portfolio_Name], 
    [Project1].[Manager] AS [Manager], 
    [Project1].[Portfolio_Type] AS [Portfolio_Type], 
    [Project1].[Portfolio_Base_Currency] AS [Portfolio_Base_Currency], 
    [Project1].[PortfolIo_Domicile] AS [PortfolIo_Domicile], 
    [Project1].[Portfolio_Report_Currency] AS [Portfolio_Report_Currency], 
    [Project1].[Inception_Date] AS [Inception_Date], 
    [Project1].[Financial_Year_End] AS [Financial_Year_End], 
    [Project1].[Custodian_Code] AS [Custodian_Code], 
    [Project1].[Active_Flag] AS [Active_Flag], 
    [Project1].[System_Locked] AS [System_Locked], 
    [Project1].[Portfolio_Status] AS [Portfolio_Status], 
    [Project1].[Entity_ID1] AS [Entity_ID1], 
    [Project1].[Entity_Code] AS [Entity_Code], 
    [Project1].[Entity_Name] AS [Entity_Name], 
    [Project1].[Import_Folder] AS [Import_Folder], 
    [Project1].[Export_Folder] AS [Export_Folder], 
    [Project1].[Entity_ID2] AS [Entity_ID2], 
    [Project1].[User_Code] AS [User_Code], 
    [Project1].[User_Name] AS [User_Name], 
    [Project1].[User_Initial] AS [User_Initial], 
    [Project1].[Mobile_Number] AS [Mobile_Number], 
    [Project1].[Email_Address] AS [Email_Address], 
    [Project1].[Active_Indicator] AS [Active_Indicator], 
    [Project1].[Export_Folder1] AS [Export_Folder1], 
    [Project1].[User_Type] AS [User_Type], 
    [Project1].[Password] AS [Password], 
    [Project1].[Password_Expire_Date] AS [Password_Expire_Date], 
    [Project1].[Lock_Indicator] AS [Lock_Indicator], 
    [Project1].[Login_Fail_Count] AS [Login_Fail_Count], 
    [Project1].[Login_Fail_Time] AS [Login_Fail_Time], 
    [Project1].[Last_Login_Time] AS [Last_Login_Time], 
    [Project1].[System_Locked1] AS [System_Locked1]
    FROM ( SELECT 
        [Extent1].[Entity_ID] AS [Entity_ID], 
        [Extent1].[Portfolio_Code] AS [Portfolio_Code], 
        [Extent1].[Portfolio_Name] AS [Portfolio_Name], 
        [Extent1].[Manager] AS [Manager], 
        [Extent1].[Portfolio_Type] AS [Portfolio_Type], 
        [Extent1].[Portfolio_Base_Currency] AS [Portfolio_Base_Currency], 
        [Extent1].[PortfolIo_Domicile] AS [PortfolIo_Domicile], 
        [Extent1].[Portfolio_Report_Currency] AS [Portfolio_Report_Currency], 
        [Extent1].[Inception_Date] AS [Inception_Date], 
        [Extent1].[Financial_Year_End] AS [Financial_Year_End], 
        [Extent1].[Custodian_Code] AS [Custodian_Code], 
        [Extent1].[Active_Flag] AS [Active_Flag], 
        [Extent1].[System_Locked] AS [System_Locked], 
        [Extent1].[Portfolio_Status] AS [Portfolio_Status], 
        [Extent2].[Entity_ID] AS [Entity_ID1], 
        [Extent2].[Entity_Code] AS [Entity_Code], 
        [Extent2].[Entity_Name] AS [Entity_Name], 
        [Extent2].[Import_Folder] AS [Import_Folder], 
        [Extent2].[Export_Folder] AS [Export_Folder], 
        [Extent3].[Entity_ID] AS [Entity_ID2], 
        [Extent3].[User_Code] AS [User_Code], 
        [Extent3].[User_Name] AS [User_Name], 
        [Extent3].[User_Initial] AS [User_Initial], 
        [Extent3].[Mobile_Number] AS [Mobile_Number], 
        [Extent3].[Email_Address] AS [Email_Address], 
        [Extent3].[Active_Indicator] AS [Active_Indicator], 
        [Extent3].[Export_Folder] AS [Export_Folder1], 
        [Extent3].[User_Type] AS [User_Type], 
        [Extent3].[Password] AS [Password], 
        [Extent3].[Password_Expire_Date] AS [Password_Expire_Date], 
        [Extent3].[Lock_Indicator] AS [Lock_Indicator], 
        [Extent3].[Login_Fail_Count] AS [Login_Fail_Count], 
        [Extent3].[Login_Fail_Time] AS [Login_Fail_Time], 
        [Extent3].[Last_Login_Time] AS [Last_Login_Time], 
        [Extent3].[System_Locked] AS [System_Locked1], 
        1 AS [C1]
        FROM   [dbo].[Portfolio] AS [Extent1]
        INNER JOIN [dbo].[Entity] AS [Extent2] ON [Extent1].[Entity_ID] = [Extent2].[Entity_ID]
        INNER JOIN [dbo].[User] AS [Extent3] ON ([Extent1].[Manager] = [Extent3].[User_Code]) AND ([Extent1].[Entity_ID] = [Extent3].[Entity_ID])
        WHERE ([Extent1].[Entity_ID] = @p__linq__0) AND ((@p__linq__1 IS NULL) OR ([Extent1].[Portfolio_Name] LIKE @p__linq__2 ESCAPE '~'))
    )  AS [Project1]
    ORDER BY [Project1].[Portfolio_Name] ASC
    OFFSET 0 ROWS FETCH NEXT 10 ROWS ONLY 
2018-04-07 18:10:21.5304|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: IF db_id(N'MetopeAzureDb') IS NOT NULL SELECT 1 ELSE SELECT Count(*) FROM sys.databases WHERE [name]=N'MetopeAzureDb'
2018-04-07 18:10:21.5529|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: IF db_id(N'MetopeAzureDb') IS NOT NULL SELECT 1 ELSE SELECT Count(*) FROM sys.databases WHERE [name]=N'MetopeAzureDb'
2018-04-07 18:10:21.5834|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: IF db_id(N'MetopeAzureDb') IS NOT NULL SELECT 1 ELSE SELECT Count(*) FROM sys.databases WHERE [name]=N'MetopeAzureDb'
2018-04-07 18:10:21.6185|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: IF db_id(N'MetopeAzureDb') IS NOT NULL SELECT 1 ELSE SELECT Count(*) FROM sys.databases WHERE [name]=N'MetopeAzureDb'
2018-04-07 18:10:24.3667|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: IF db_id(N'MetopeAzureDb') IS NOT NULL SELECT 1 ELSE SELECT Count(*) FROM sys.databases WHERE [name]=N'MetopeAzureDb'
2018-04-07 18:10:24.4212|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: IF db_id(N'MetopeAzureDb') IS NOT NULL SELECT 1 ELSE SELECT Count(*) FROM sys.databases WHERE [name]=N'MetopeAzureDb'
2018-04-07 18:10:24.5798|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: SELECT TOP (1) 
    [Project1].[C1] AS [C1], 
    [Project1].[Entity_ID] AS [Entity_ID], 
    [Project1].[Security_ID] AS [Security_ID], 
    [Project1].[Portfolio_Code] AS [Portfolio_Code], 
    [Project1].[ModDietz_Performance_Quarterly] AS [ModDietz_Performance_Quarterly], 
    [Project1].[ModDietz_Performance_Monthly] AS [ModDietz_Performance_Monthly], 
    [Project1].[ModDietz_Performance_MonthToDate] AS [ModDietz_Performance_MonthToDate], 
    [Project1].[Ticker] AS [Ticker]
    FROM ( SELECT 
        [Extent1].[Security_ID] AS [Security_ID], 
        [Extent1].[Portfolio_Code] AS [Portfolio_Code], 
        [Extent1].[Entity_ID] AS [Entity_ID], 
        [Extent1].[ModDietz_Performance_Quarterly] AS [ModDietz_Performance_Quarterly], 
        [Extent1].[ModDietz_Performance_Monthly] AS [ModDietz_Performance_Monthly], 
        [Extent1].[ModDietz_Performance_MonthToDate] AS [ModDietz_Performance_MonthToDate], 
        [Extent2].[Ticker] AS [Ticker], 
        1 AS [C1]
        FROM  [dbo].[Security_Performance] AS [Extent1]
        INNER JOIN [dbo].[Security_Detail] AS [Extent2] ON [Extent1].[Security_ID] = [Extent2].[Security_ID]
        WHERE ([Extent1].[Entity_ID] = @p__linq__0) AND ([Extent1].[Portfolio_Code] = @p__linq__1) AND ([Extent1].[Entity_ID] = @p__linq__2)
    )  AS [Project1]
    ORDER BY [Project1].[Security_ID] ASC
2018-04-07 18:10:24.6264|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: SELECT TOP (1) 
    [Project1].[C1] AS [C1], 
    [Project1].[Entity_ID] AS [Entity_ID], 
    [Project1].[Security_ID] AS [Security_ID], 
    [Project1].[Portfolio_Code] AS [Portfolio_Code], 
    [Project1].[ModDietz_Performance_Quarterly] AS [ModDietz_Performance_Quarterly], 
    [Project1].[ModDietz_Performance_Monthly] AS [ModDietz_Performance_Monthly], 
    [Project1].[ModDietz_Performance_MonthToDate] AS [ModDietz_Performance_MonthToDate], 
    [Project1].[Ticker] AS [Ticker]
    FROM ( SELECT 
        [Extent1].[Security_ID] AS [Security_ID], 
        [Extent1].[Portfolio_Code] AS [Portfolio_Code], 
        [Extent1].[Entity_ID] AS [Entity_ID], 
        [Extent1].[ModDietz_Performance_Quarterly] AS [ModDietz_Performance_Quarterly], 
        [Extent1].[ModDietz_Performance_Monthly] AS [ModDietz_Performance_Monthly], 
        [Extent1].[ModDietz_Performance_MonthToDate] AS [ModDietz_Performance_MonthToDate], 
        [Extent2].[Ticker] AS [Ticker], 
        1 AS [C1]
        FROM  [dbo].[Security_Performance] AS [Extent1]
        INNER JOIN [dbo].[Security_Detail] AS [Extent2] ON [Extent1].[Security_ID] = [Extent2].[Security_ID]
        WHERE ([Extent1].[Entity_ID] = @p__linq__0) AND ([Extent1].[Portfolio_Code] = @p__linq__1) AND ([Extent1].[Entity_ID] = @p__linq__2)
    )  AS [Project1]
    ORDER BY [Project1].[Security_ID] ASC
2018-04-07 18:10:24.6764|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: SELECT 
    [Project1].[C1] AS [C1], 
    [Project1].[Entity_ID] AS [Entity_ID], 
    [Project1].[Security_ID] AS [Security_ID], 
    [Project1].[Portfolio_Code] AS [Portfolio_Code], 
    [Project1].[ModDietz_Performance_Quarterly] AS [ModDietz_Performance_Quarterly], 
    [Project1].[ModDietz_Performance_Monthly] AS [ModDietz_Performance_Monthly], 
    [Project1].[ModDietz_Performance_MonthToDate] AS [ModDietz_Performance_MonthToDate], 
    [Project1].[Ticker] AS [Ticker]
    FROM ( SELECT 
        [Extent1].[Security_ID] AS [Security_ID], 
        [Extent1].[Portfolio_Code] AS [Portfolio_Code], 
        [Extent1].[Entity_ID] AS [Entity_ID], 
        [Extent1].[ModDietz_Performance_Quarterly] AS [ModDietz_Performance_Quarterly], 
        [Extent1].[ModDietz_Performance_Monthly] AS [ModDietz_Performance_Monthly], 
        [Extent1].[ModDietz_Performance_MonthToDate] AS [ModDietz_Performance_MonthToDate], 
        [Extent2].[Ticker] AS [Ticker], 
        1 AS [C1]
        FROM  [dbo].[Security_Performance] AS [Extent1]
        INNER JOIN [dbo].[Security_Detail] AS [Extent2] ON [Extent1].[Security_ID] = [Extent2].[Security_ID]
        WHERE ([Extent1].[Entity_ID] = @p__linq__0) AND ([Extent1].[Portfolio_Code] = @p__linq__1) AND ([Extent1].[Entity_ID] = @p__linq__2)
    )  AS [Project1]
    ORDER BY [Project1].[Security_ID] ASC
2018-04-07 18:10:24.7114|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: SELECT 
    [Project1].[C1] AS [C1], 
    [Project1].[Entity_ID] AS [Entity_ID], 
    [Project1].[Security_ID] AS [Security_ID], 
    [Project1].[Portfolio_Code] AS [Portfolio_Code], 
    [Project1].[ModDietz_Performance_Quarterly] AS [ModDietz_Performance_Quarterly], 
    [Project1].[ModDietz_Performance_Monthly] AS [ModDietz_Performance_Monthly], 
    [Project1].[ModDietz_Performance_MonthToDate] AS [ModDietz_Performance_MonthToDate], 
    [Project1].[Ticker] AS [Ticker]
    FROM ( SELECT 
        [Extent1].[Security_ID] AS [Security_ID], 
        [Extent1].[Portfolio_Code] AS [Portfolio_Code], 
        [Extent1].[Entity_ID] AS [Entity_ID], 
        [Extent1].[ModDietz_Performance_Quarterly] AS [ModDietz_Performance_Quarterly], 
        [Extent1].[ModDietz_Performance_Monthly] AS [ModDietz_Performance_Monthly], 
        [Extent1].[ModDietz_Performance_MonthToDate] AS [ModDietz_Performance_MonthToDate], 
        [Extent2].[Ticker] AS [Ticker], 
        1 AS [C1]
        FROM  [dbo].[Security_Performance] AS [Extent1]
        INNER JOIN [dbo].[Security_Detail] AS [Extent2] ON [Extent1].[Security_ID] = [Extent2].[Security_ID]
        WHERE ([Extent1].[Entity_ID] = @p__linq__0) AND ([Extent1].[Portfolio_Code] = @p__linq__1) AND ([Extent1].[Entity_ID] = @p__linq__2)
    )  AS [Project1]
    ORDER BY [Project1].[Security_ID] ASC
2018-04-07 18:10:28.0471|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: IF db_id(N'MetopeAzureDb') IS NOT NULL SELECT 1 ELSE SELECT Count(*) FROM sys.databases WHERE [name]=N'MetopeAzureDb'
2018-04-07 18:10:28.0626|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: IF db_id(N'MetopeAzureDb') IS NOT NULL SELECT 1 ELSE SELECT Count(*) FROM sys.databases WHERE [name]=N'MetopeAzureDb'
2018-04-07 18:10:28.0836|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: IF db_id(N'MetopeAzureDb') IS NOT NULL SELECT 1 ELSE SELECT Count(*) FROM sys.databases WHERE [name]=N'MetopeAzureDb'
2018-04-07 18:10:28.1101|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: IF db_id(N'MetopeAzureDb') IS NOT NULL SELECT 1 ELSE SELECT Count(*) FROM sys.databases WHERE [name]=N'MetopeAzureDb'
2018-04-07 18:10:33.4725|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: IF db_id(N'MetopeAzureDb') IS NOT NULL SELECT 1 ELSE SELECT Count(*) FROM sys.databases WHERE [name]=N'MetopeAzureDb'
2018-04-07 18:10:33.6336|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: IF db_id(N'MetopeAzureDb') IS NOT NULL SELECT 1 ELSE SELECT Count(*) FROM sys.databases WHERE [name]=N'MetopeAzureDb'
2018-04-07 18:10:33.8318|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: SELECT TOP (1) 
    [Project1].[C1] AS [C1], 
    [Project1].[Entity_ID] AS [Entity_ID], 
    [Project1].[Security_ID] AS [Security_ID], 
    [Project1].[Portfolio_Code] AS [Portfolio_Code], 
    [Project1].[Excess_Weight_Quarterly] AS [Excess_Weight_Quarterly], 
    [Project1].[Relative_Contribution_Quarterly] AS [Relative_Contribution_Quarterly], 
    [Project1].[Security_Weight_Portfolio_Monthly] AS [Security_Weight_Portfolio_Monthly], 
    [Project1].[Ticker] AS [Ticker]
    FROM ( SELECT 
        [Extent1].[Security_ID] AS [Security_ID], 
        [Extent1].[Portfolio_Code] AS [Portfolio_Code], 
        [Extent1].[Entity_ID] AS [Entity_ID], 
        [Extent1].[Excess_Weight_Quarterly] AS [Excess_Weight_Quarterly], 
        [Extent1].[Relative_Contribution_Quarterly] AS [Relative_Contribution_Quarterly], 
        [Extent1].[Security_Weight_Portfolio_Monthly] AS [Security_Weight_Portfolio_Monthly], 
        [Extent2].[Ticker] AS [Ticker], 
        1 AS [C1]
        FROM  [dbo].[Security_Attribution] AS [Extent1]
        INNER JOIN [dbo].[Security_Detail] AS [Extent2] ON [Extent1].[Security_ID] = [Extent2].[Security_ID]
        WHERE ([Extent1].[Entity_ID] = @p__linq__0) AND ([Extent1].[Portfolio_Code] = @p__linq__1) AND ([Extent1].[Entity_ID] = @p__linq__2)
    )  AS [Project1]
    ORDER BY [Project1].[Security_ID] ASC
2018-04-07 18:10:33.9073|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: SELECT TOP (1) 
    [Project1].[C1] AS [C1], 
    [Project1].[Entity_ID] AS [Entity_ID], 
    [Project1].[Security_ID] AS [Security_ID], 
    [Project1].[Portfolio_Code] AS [Portfolio_Code], 
    [Project1].[Excess_Weight_Quarterly] AS [Excess_Weight_Quarterly], 
    [Project1].[Relative_Contribution_Quarterly] AS [Relative_Contribution_Quarterly], 
    [Project1].[Security_Weight_Portfolio_Monthly] AS [Security_Weight_Portfolio_Monthly], 
    [Project1].[Ticker] AS [Ticker]
    FROM ( SELECT 
        [Extent1].[Security_ID] AS [Security_ID], 
        [Extent1].[Portfolio_Code] AS [Portfolio_Code], 
        [Extent1].[Entity_ID] AS [Entity_ID], 
        [Extent1].[Excess_Weight_Quarterly] AS [Excess_Weight_Quarterly], 
        [Extent1].[Relative_Contribution_Quarterly] AS [Relative_Contribution_Quarterly], 
        [Extent1].[Security_Weight_Portfolio_Monthly] AS [Security_Weight_Portfolio_Monthly], 
        [Extent2].[Ticker] AS [Ticker], 
        1 AS [C1]
        FROM  [dbo].[Security_Attribution] AS [Extent1]
        INNER JOIN [dbo].[Security_Detail] AS [Extent2] ON [Extent1].[Security_ID] = [Extent2].[Security_ID]
        WHERE ([Extent1].[Entity_ID] = @p__linq__0) AND ([Extent1].[Portfolio_Code] = @p__linq__1) AND ([Extent1].[Entity_ID] = @p__linq__2)
    )  AS [Project1]
    ORDER BY [Project1].[Security_ID] ASC
2018-04-07 18:10:33.9674|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: SELECT 
    [Project1].[C1] AS [C1], 
    [Project1].[Entity_ID] AS [Entity_ID], 
    [Project1].[Security_ID] AS [Security_ID], 
    [Project1].[Portfolio_Code] AS [Portfolio_Code], 
    [Project1].[Excess_Weight_Quarterly] AS [Excess_Weight_Quarterly], 
    [Project1].[Relative_Contribution_Quarterly] AS [Relative_Contribution_Quarterly], 
    [Project1].[Security_Weight_Portfolio_Monthly] AS [Security_Weight_Portfolio_Monthly], 
    [Project1].[Ticker] AS [Ticker]
    FROM ( SELECT 
        [Extent1].[Security_ID] AS [Security_ID], 
        [Extent1].[Portfolio_Code] AS [Portfolio_Code], 
        [Extent1].[Entity_ID] AS [Entity_ID], 
        [Extent1].[Excess_Weight_Quarterly] AS [Excess_Weight_Quarterly], 
        [Extent1].[Relative_Contribution_Quarterly] AS [Relative_Contribution_Quarterly], 
        [Extent1].[Security_Weight_Portfolio_Monthly] AS [Security_Weight_Portfolio_Monthly], 
        [Extent2].[Ticker] AS [Ticker], 
        1 AS [C1]
        FROM  [dbo].[Security_Attribution] AS [Extent1]
        INNER JOIN [dbo].[Security_Detail] AS [Extent2] ON [Extent1].[Security_ID] = [Extent2].[Security_ID]
        WHERE ([Extent1].[Entity_ID] = @p__linq__0) AND ([Extent1].[Portfolio_Code] = @p__linq__1) AND ([Extent1].[Entity_ID] = @p__linq__2)
    )  AS [Project1]
    ORDER BY [Project1].[Security_ID] ASC
2018-04-07 18:10:34.0194|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: SELECT 
    [Project1].[C1] AS [C1], 
    [Project1].[Entity_ID] AS [Entity_ID], 
    [Project1].[Security_ID] AS [Security_ID], 
    [Project1].[Portfolio_Code] AS [Portfolio_Code], 
    [Project1].[Excess_Weight_Quarterly] AS [Excess_Weight_Quarterly], 
    [Project1].[Relative_Contribution_Quarterly] AS [Relative_Contribution_Quarterly], 
    [Project1].[Security_Weight_Portfolio_Monthly] AS [Security_Weight_Portfolio_Monthly], 
    [Project1].[Ticker] AS [Ticker]
    FROM ( SELECT 
        [Extent1].[Security_ID] AS [Security_ID], 
        [Extent1].[Portfolio_Code] AS [Portfolio_Code], 
        [Extent1].[Entity_ID] AS [Entity_ID], 
        [Extent1].[Excess_Weight_Quarterly] AS [Excess_Weight_Quarterly], 
        [Extent1].[Relative_Contribution_Quarterly] AS [Relative_Contribution_Quarterly], 
        [Extent1].[Security_Weight_Portfolio_Monthly] AS [Security_Weight_Portfolio_Monthly], 
        [Extent2].[Ticker] AS [Ticker], 
        1 AS [C1]
        FROM  [dbo].[Security_Attribution] AS [Extent1]
        INNER JOIN [dbo].[Security_Detail] AS [Extent2] ON [Extent1].[Security_ID] = [Extent2].[Security_ID]
        WHERE ([Extent1].[Entity_ID] = @p__linq__0) AND ([Extent1].[Portfolio_Code] = @p__linq__1) AND ([Extent1].[Entity_ID] = @p__linq__2)
    )  AS [Project1]
    ORDER BY [Project1].[Security_ID] ASC
2018-04-07 18:10:37.8122|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: IF db_id(N'MetopeAzureDb') IS NOT NULL SELECT 1 ELSE SELECT Count(*) FROM sys.databases WHERE [name]=N'MetopeAzureDb'
2018-04-07 18:10:37.8932|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: IF db_id(N'MetopeAzureDb') IS NOT NULL SELECT 1 ELSE SELECT Count(*) FROM sys.databases WHERE [name]=N'MetopeAzureDb'
2018-04-07 18:10:37.9663|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: IF db_id(N'MetopeAzureDb') IS NOT NULL SELECT 1 ELSE SELECT Count(*) FROM sys.databases WHERE [name]=N'MetopeAzureDb'
2018-04-07 18:10:37.9843|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: IF db_id(N'MetopeAzureDb') IS NOT NULL SELECT 1 ELSE SELECT Count(*) FROM sys.databases WHERE [name]=N'MetopeAzureDb'
2018-04-07 18:10:47.0260|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: SELECT 
    [Project1].[Entity_ID] AS [Entity_ID], 
    [Project1].[Portfolio_Code] AS [Portfolio_Code], 
    [Project1].[Portfolio_Name] AS [Portfolio_Name], 
    [Project1].[Manager] AS [Manager], 
    [Project1].[Portfolio_Type] AS [Portfolio_Type], 
    [Project1].[Portfolio_Base_Currency] AS [Portfolio_Base_Currency], 
    [Project1].[PortfolIo_Domicile] AS [PortfolIo_Domicile], 
    [Project1].[Portfolio_Report_Currency] AS [Portfolio_Report_Currency], 
    [Project1].[Inception_Date] AS [Inception_Date], 
    [Project1].[Financial_Year_End] AS [Financial_Year_End], 
    [Project1].[Custodian_Code] AS [Custodian_Code], 
    [Project1].[Active_Flag] AS [Active_Flag], 
    [Project1].[System_Locked] AS [System_Locked], 
    [Project1].[Portfolio_Status] AS [Portfolio_Status]
    FROM ( SELECT 
        [Extent1].[Entity_ID] AS [Entity_ID], 
        [Extent1].[Portfolio_Code] AS [Portfolio_Code], 
        [Extent1].[Portfolio_Name] AS [Portfolio_Name], 
        [Extent1].[Manager] AS [Manager], 
        [Extent1].[Portfolio_Type] AS [Portfolio_Type], 
        [Extent1].[Portfolio_Base_Currency] AS [Portfolio_Base_Currency], 
        [Extent1].[PortfolIo_Domicile] AS [PortfolIo_Domicile], 
        [Extent1].[Portfolio_Report_Currency] AS [Portfolio_Report_Currency], 
        [Extent1].[Inception_Date] AS [Inception_Date], 
        [Extent1].[Financial_Year_End] AS [Financial_Year_End], 
        [Extent1].[Custodian_Code] AS [Custodian_Code], 
        [Extent1].[Active_Flag] AS [Active_Flag], 
        [Extent1].[System_Locked] AS [System_Locked], 
        [Extent1].[Portfolio_Status] AS [Portfolio_Status]
        FROM [dbo].[Portfolio] AS [Extent1]
        WHERE ([Extent1].[Entity_ID] = @p__linq__0) AND ([Extent1].[Portfolio_Status] = @p__linq__1)
    )  AS [Project1]
    ORDER BY [Project1].[Portfolio_Name] ASC
2018-04-07 18:10:47.0695|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: SELECT 
    [Project1].[Entity_ID] AS [Entity_ID], 
    [Project1].[Portfolio_Code] AS [Portfolio_Code], 
    [Project1].[Portfolio_Name] AS [Portfolio_Name], 
    [Project1].[Manager] AS [Manager], 
    [Project1].[Portfolio_Type] AS [Portfolio_Type], 
    [Project1].[Portfolio_Base_Currency] AS [Portfolio_Base_Currency], 
    [Project1].[PortfolIo_Domicile] AS [PortfolIo_Domicile], 
    [Project1].[Portfolio_Report_Currency] AS [Portfolio_Report_Currency], 
    [Project1].[Inception_Date] AS [Inception_Date], 
    [Project1].[Financial_Year_End] AS [Financial_Year_End], 
    [Project1].[Custodian_Code] AS [Custodian_Code], 
    [Project1].[Active_Flag] AS [Active_Flag], 
    [Project1].[System_Locked] AS [System_Locked], 
    [Project1].[Portfolio_Status] AS [Portfolio_Status]
    FROM ( SELECT 
        [Extent1].[Entity_ID] AS [Entity_ID], 
        [Extent1].[Portfolio_Code] AS [Portfolio_Code], 
        [Extent1].[Portfolio_Name] AS [Portfolio_Name], 
        [Extent1].[Manager] AS [Manager], 
        [Extent1].[Portfolio_Type] AS [Portfolio_Type], 
        [Extent1].[Portfolio_Base_Currency] AS [Portfolio_Base_Currency], 
        [Extent1].[PortfolIo_Domicile] AS [PortfolIo_Domicile], 
        [Extent1].[Portfolio_Report_Currency] AS [Portfolio_Report_Currency], 
        [Extent1].[Inception_Date] AS [Inception_Date], 
        [Extent1].[Financial_Year_End] AS [Financial_Year_End], 
        [Extent1].[Custodian_Code] AS [Custodian_Code], 
        [Extent1].[Active_Flag] AS [Active_Flag], 
        [Extent1].[System_Locked] AS [System_Locked], 
        [Extent1].[Portfolio_Status] AS [Portfolio_Status]
        FROM [dbo].[Portfolio] AS [Extent1]
        WHERE ([Extent1].[Entity_ID] = @p__linq__0) AND ([Extent1].[Portfolio_Status] = @p__linq__1)
    )  AS [Project1]
    ORDER BY [Project1].[Portfolio_Name] ASC
2018-04-07 18:10:47.2372|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: SELECT 
    [Project1].[Security_ID] AS [Security_ID], 
    [Project1].[Entity_ID] AS [Entity_ID], 
    [Project1].[Security_Name] AS [Security_Name], 
    [Project1].[Short_Name] AS [Short_Name], 
    [Project1].[Primary_Exch] AS [Primary_Exch], 
    [Project1].[Secondary_Exch] AS [Secondary_Exch], 
    [Project1].[Country_Of_Domicile] AS [Country_Of_Domicile], 
    [Project1].[Country_Of_Risk] AS [Country_Of_Risk], 
    [Project1].[Security_Type_Code] AS [Security_Type_Code], 
    [Project1].[Price_Multiplier] AS [Price_Multiplier], 
    [Project1].[Income_Frequency] AS [Income_Frequency], 
    [Project1].[Issuer_Code] AS [Issuer_Code], 
    [Project1].[Ultimate_Issuer_Code] AS [Ultimate_Issuer_Code], 
    [Project1].[Asset_Currency] AS [Asset_Currency], 
    [Project1].[Min_Lot_Size] AS [Min_Lot_Size], 
    [Project1].[Decimal_Precision] AS [Decimal_Precision], 
    [Project1].[AvePrice_Rounding] AS [AvePrice_Rounding], 
    [Project1].[Issue_Date] AS [Issue_Date], 
    [Project1].[Maturity_Date] AS [Maturity_Date], 
    [Project1].[Coupon_Rate] AS [Coupon_Rate], 
    [Project1].[Price_Exchange] AS [Price_Exchange], 
    [Project1].[Trade_Currency] AS [Trade_Currency], 
    [Project1].[Price_Curr] AS [Price_Curr], 
    [Project1].[Currency_Pair_Code] AS [Currency_Pair_Code], 
    [Project1].[Share_Class] AS [Share_Class], 
    [Project1].[Current_Market_Price] AS [Current_Market_Price], 
    [Project1].[Index_Type] AS [Index_Type], 
    [Project1].[Clean_Price_Formula] AS [Clean_Price_Formula], 
    [Project1].[Accrued_Income_Price_Formula] AS [Accrued_Income_Price_Formula], 
    [Project1].[Odd_First_Coupon_Date] AS [Odd_First_Coupon_Date], 
    [Project1].[Odd_Last_Coupon_Date] AS [Odd_Last_Coupon_Date], 
    [Project1].[Coupon_Anniversary_Indicator] AS [Coupon_Anniversary_Indicator], 
    [Project1].[Track_EOM_Flag] AS [Track_EOM_Flag], 
    [Project1].[Next_Coupon_Date] AS [Next_Coupon_Date], 
    [Project1].[Previous_Coupon_Date] AS [Previous_Coupon_Date], 
    [Project1].[Payment_Frequency] AS [Payment_Frequency], 
    [Project1].[Coupon_BusDay_Adjustment] AS [Coupon_BusDay_Adjustment], 
    [Project1].[Next_Ex_Div_Date] AS [Next_Ex_Div_Date], 
    [Project1].[Ex_Div_BusDay_Adjustment] AS [Ex_Div_BusDay_Adjustment], 
    [Project1].[Ex_Div_Period] AS [Ex_Div_Period], 
    [Project1].[Ticker] AS [Ticker], 
    [Project1].[Inet_ID] AS [Inet_ID], 
    [Project1].[Bloomberg_ID] AS [Bloomberg_ID], 
    [Project1].[External_Sec_ID] AS [External_Sec_ID], 
    [Project1].[Reuters_ID] AS [Reuters_ID], 
    [Project1].[ISIN] AS [ISIN], 
    [Project1].[Call_Account_Flag] AS [Call_Account_Flag], 
    [Project1].[System_Locked] AS [System_Locked], 
    [Project1].[Last_Update_User] AS [Last_Update_User], 
    [Project1].[Last_Update_Date] AS [Last_Update_Date], 
    [Project1].[Security_Status] AS [Security_Status], 
    [Project1].[Benchmark_Portfolio] AS [Benchmark_Portfolio], 
    [Project1].[Active_flag] AS [Active_flag], 
    [Project1].[Dividend_FX_Security_ID] AS [Dividend_FX_Security_ID]
    FROM ( SELECT 
        [Extent1].[Security_ID] AS [Security_ID], 
        [Extent1].[Entity_ID] AS [Entity_ID], 
        [Extent1].[Security_Name] AS [Security_Name], 
        [Extent1].[Short_Name] AS [Short_Name], 
        [Extent1].[Primary_Exch] AS [Primary_Exch], 
        [Extent1].[Secondary_Exch] AS [Secondary_Exch], 
        [Extent1].[Country_Of_Domicile] AS [Country_Of_Domicile], 
        [Extent1].[Country_Of_Risk] AS [Country_Of_Risk], 
        [Extent1].[Security_Type_Code] AS [Security_Type_Code], 
        [Extent1].[Price_Multiplier] AS [Price_Multiplier], 
        [Extent1].[Income_Frequency] AS [Income_Frequency], 
        [Extent1].[Issuer_Code] AS [Issuer_Code], 
        [Extent1].[Ultimate_Issuer_Code] AS [Ultimate_Issuer_Code], 
        [Extent1].[Asset_Currency] AS [Asset_Currency], 
        [Extent1].[Min_Lot_Size] AS [Min_Lot_Size], 
        [Extent1].[Decimal_Precision] AS [Decimal_Precision], 
        [Extent1].[AvePrice_Rounding] AS [AvePrice_Rounding], 
        [Extent1].[Issue_Date] AS [Issue_Date], 
        [Extent1].[Maturity_Date] AS [Maturity_Date], 
        [Extent1].[Coupon_Rate] AS [Coupon_Rate], 
        [Extent1].[Price_Exchange] AS [Price_Exchange], 
        [Extent1].[Trade_Currency] AS [Trade_Currency], 
        [Extent1].[Price_Curr] AS [Price_Curr], 
        [Extent1].[Currency_Pair_Code] AS [Currency_Pair_Code], 
        [Extent1].[Share_Class] AS [Share_Class], 
        [Extent1].[Current_Market_Price] AS [Current_Market_Price], 
        [Extent1].[Index_Type] AS [Index_Type], 
        [Extent1].[Clean_Price_Formula] AS [Clean_Price_Formula], 
        [Extent1].[Accrued_Income_Price_Formula] AS [Accrued_Income_Price_Formula], 
        [Extent1].[Odd_First_Coupon_Date] AS [Odd_First_Coupon_Date], 
        [Extent1].[Odd_Last_Coupon_Date] AS [Odd_Last_Coupon_Date], 
        [Extent1].[Coupon_Anniversary_Indicator] AS [Coupon_Anniversary_Indicator], 
        [Extent1].[Track_EOM_Flag] AS [Track_EOM_Flag], 
        [Extent1].[Next_Coupon_Date] AS [Next_Coupon_Date], 
        [Extent1].[Previous_Coupon_Date] AS [Previous_Coupon_Date], 
        [Extent1].[Payment_Frequency] AS [Payment_Frequency], 
        [Extent1].[Coupon_BusDay_Adjustment] AS [Coupon_BusDay_Adjustment], 
        [Extent1].[Next_Ex_Div_Date] AS [Next_Ex_Div_Date], 
        [Extent1].[Ex_Div_BusDay_Adjustment] AS [Ex_Div_BusDay_Adjustment], 
        [Extent1].[Ex_Div_Period] AS [Ex_Div_Period], 
        [Extent1].[Ticker] AS [Ticker], 
        [Extent1].[Inet_ID] AS [Inet_ID], 
        [Extent1].[Bloomberg_ID] AS [Bloomberg_ID], 
        [Extent1].[External_Sec_ID] AS [External_Sec_ID], 
        [Extent1].[Reuters_ID] AS [Reuters_ID], 
        [Extent1].[ISIN] AS [ISIN], 
        [Extent1].[Call_Account_Flag] AS [Call_Account_Flag], 
        [Extent1].[System_Locked] AS [System_Locked], 
        [Extent1].[Last_Update_User] AS [Last_Update_User], 
        [Extent1].[Last_Update_Date] AS [Last_Update_Date], 
        [Extent1].[Security_Status] AS [Security_Status], 
        [Extent1].[Benchmark_Portfolio] AS [Benchmark_Portfolio], 
        [Extent1].[Active_flag] AS [Active_flag], 
        [Extent1].[Dividend_FX_Security_ID] AS [Dividend_FX_Security_ID]
        FROM [dbo].[Security_Detail] AS [Extent1]
        WHERE ([Extent1].[Entity_ID] IN (@p__linq__0,@p__linq__1)) AND ((CASE WHEN ( NOT ((N'' = @p__linq__2) AND (@p__linq__2 IS NOT NULL))) THEN CASE WHEN ([Extent1].[Security_Type_Code] = @p__linq__3) THEN cast(1 as bit) WHEN ( NOT (([Extent1].[Security_Type_Code] = @p__linq__3) AND (0 = (CASE WHEN (@p__linq__3 IS NULL) THEN cast(1 as bit) ELSE cast(0 as bit) END)))) THEN cast(0 as bit) END WHEN ('' <> [Extent1].[Security_Type_Code]) THEN cast(1 as bit) WHEN ('' = [Extent1].[Security_Type_Code]) THEN cast(0 as bit) END) = 1)
    )  AS [Project1]
    ORDER BY [Project1].[Security_Name] ASC
2018-04-07 18:10:47.3012|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: SELECT 
    [Project1].[Security_ID] AS [Security_ID], 
    [Project1].[Entity_ID] AS [Entity_ID], 
    [Project1].[Security_Name] AS [Security_Name], 
    [Project1].[Short_Name] AS [Short_Name], 
    [Project1].[Primary_Exch] AS [Primary_Exch], 
    [Project1].[Secondary_Exch] AS [Secondary_Exch], 
    [Project1].[Country_Of_Domicile] AS [Country_Of_Domicile], 
    [Project1].[Country_Of_Risk] AS [Country_Of_Risk], 
    [Project1].[Security_Type_Code] AS [Security_Type_Code], 
    [Project1].[Price_Multiplier] AS [Price_Multiplier], 
    [Project1].[Income_Frequency] AS [Income_Frequency], 
    [Project1].[Issuer_Code] AS [Issuer_Code], 
    [Project1].[Ultimate_Issuer_Code] AS [Ultimate_Issuer_Code], 
    [Project1].[Asset_Currency] AS [Asset_Currency], 
    [Project1].[Min_Lot_Size] AS [Min_Lot_Size], 
    [Project1].[Decimal_Precision] AS [Decimal_Precision], 
    [Project1].[AvePrice_Rounding] AS [AvePrice_Rounding], 
    [Project1].[Issue_Date] AS [Issue_Date], 
    [Project1].[Maturity_Date] AS [Maturity_Date], 
    [Project1].[Coupon_Rate] AS [Coupon_Rate], 
    [Project1].[Price_Exchange] AS [Price_Exchange], 
    [Project1].[Trade_Currency] AS [Trade_Currency], 
    [Project1].[Price_Curr] AS [Price_Curr], 
    [Project1].[Currency_Pair_Code] AS [Currency_Pair_Code], 
    [Project1].[Share_Class] AS [Share_Class], 
    [Project1].[Current_Market_Price] AS [Current_Market_Price], 
    [Project1].[Index_Type] AS [Index_Type], 
    [Project1].[Clean_Price_Formula] AS [Clean_Price_Formula], 
    [Project1].[Accrued_Income_Price_Formula] AS [Accrued_Income_Price_Formula], 
    [Project1].[Odd_First_Coupon_Date] AS [Odd_First_Coupon_Date], 
    [Project1].[Odd_Last_Coupon_Date] AS [Odd_Last_Coupon_Date], 
    [Project1].[Coupon_Anniversary_Indicator] AS [Coupon_Anniversary_Indicator], 
    [Project1].[Track_EOM_Flag] AS [Track_EOM_Flag], 
    [Project1].[Next_Coupon_Date] AS [Next_Coupon_Date], 
    [Project1].[Previous_Coupon_Date] AS [Previous_Coupon_Date], 
    [Project1].[Payment_Frequency] AS [Payment_Frequency], 
    [Project1].[Coupon_BusDay_Adjustment] AS [Coupon_BusDay_Adjustment], 
    [Project1].[Next_Ex_Div_Date] AS [Next_Ex_Div_Date], 
    [Project1].[Ex_Div_BusDay_Adjustment] AS [Ex_Div_BusDay_Adjustment], 
    [Project1].[Ex_Div_Period] AS [Ex_Div_Period], 
    [Project1].[Ticker] AS [Ticker], 
    [Project1].[Inet_ID] AS [Inet_ID], 
    [Project1].[Bloomberg_ID] AS [Bloomberg_ID], 
    [Project1].[External_Sec_ID] AS [External_Sec_ID], 
    [Project1].[Reuters_ID] AS [Reuters_ID], 
    [Project1].[ISIN] AS [ISIN], 
    [Project1].[Call_Account_Flag] AS [Call_Account_Flag], 
    [Project1].[System_Locked] AS [System_Locked], 
    [Project1].[Last_Update_User] AS [Last_Update_User], 
    [Project1].[Last_Update_Date] AS [Last_Update_Date], 
    [Project1].[Security_Status] AS [Security_Status], 
    [Project1].[Benchmark_Portfolio] AS [Benchmark_Portfolio], 
    [Project1].[Active_flag] AS [Active_flag], 
    [Project1].[Dividend_FX_Security_ID] AS [Dividend_FX_Security_ID]
    FROM ( SELECT 
        [Extent1].[Security_ID] AS [Security_ID], 
        [Extent1].[Entity_ID] AS [Entity_ID], 
        [Extent1].[Security_Name] AS [Security_Name], 
        [Extent1].[Short_Name] AS [Short_Name], 
        [Extent1].[Primary_Exch] AS [Primary_Exch], 
        [Extent1].[Secondary_Exch] AS [Secondary_Exch], 
        [Extent1].[Country_Of_Domicile] AS [Country_Of_Domicile], 
        [Extent1].[Country_Of_Risk] AS [Country_Of_Risk], 
        [Extent1].[Security_Type_Code] AS [Security_Type_Code], 
        [Extent1].[Price_Multiplier] AS [Price_Multiplier], 
        [Extent1].[Income_Frequency] AS [Income_Frequency], 
        [Extent1].[Issuer_Code] AS [Issuer_Code], 
        [Extent1].[Ultimate_Issuer_Code] AS [Ultimate_Issuer_Code], 
        [Extent1].[Asset_Currency] AS [Asset_Currency], 
        [Extent1].[Min_Lot_Size] AS [Min_Lot_Size], 
        [Extent1].[Decimal_Precision] AS [Decimal_Precision], 
        [Extent1].[AvePrice_Rounding] AS [AvePrice_Rounding], 
        [Extent1].[Issue_Date] AS [Issue_Date], 
        [Extent1].[Maturity_Date] AS [Maturity_Date], 
        [Extent1].[Coupon_Rate] AS [Coupon_Rate], 
        [Extent1].[Price_Exchange] AS [Price_Exchange], 
        [Extent1].[Trade_Currency] AS [Trade_Currency], 
        [Extent1].[Price_Curr] AS [Price_Curr], 
        [Extent1].[Currency_Pair_Code] AS [Currency_Pair_Code], 
        [Extent1].[Share_Class] AS [Share_Class], 
        [Extent1].[Current_Market_Price] AS [Current_Market_Price], 
        [Extent1].[Index_Type] AS [Index_Type], 
        [Extent1].[Clean_Price_Formula] AS [Clean_Price_Formula], 
        [Extent1].[Accrued_Income_Price_Formula] AS [Accrued_Income_Price_Formula], 
        [Extent1].[Odd_First_Coupon_Date] AS [Odd_First_Coupon_Date], 
        [Extent1].[Odd_Last_Coupon_Date] AS [Odd_Last_Coupon_Date], 
        [Extent1].[Coupon_Anniversary_Indicator] AS [Coupon_Anniversary_Indicator], 
        [Extent1].[Track_EOM_Flag] AS [Track_EOM_Flag], 
        [Extent1].[Next_Coupon_Date] AS [Next_Coupon_Date], 
        [Extent1].[Previous_Coupon_Date] AS [Previous_Coupon_Date], 
        [Extent1].[Payment_Frequency] AS [Payment_Frequency], 
        [Extent1].[Coupon_BusDay_Adjustment] AS [Coupon_BusDay_Adjustment], 
        [Extent1].[Next_Ex_Div_Date] AS [Next_Ex_Div_Date], 
        [Extent1].[Ex_Div_BusDay_Adjustment] AS [Ex_Div_BusDay_Adjustment], 
        [Extent1].[Ex_Div_Period] AS [Ex_Div_Period], 
        [Extent1].[Ticker] AS [Ticker], 
        [Extent1].[Inet_ID] AS [Inet_ID], 
        [Extent1].[Bloomberg_ID] AS [Bloomberg_ID], 
        [Extent1].[External_Sec_ID] AS [External_Sec_ID], 
        [Extent1].[Reuters_ID] AS [Reuters_ID], 
        [Extent1].[ISIN] AS [ISIN], 
        [Extent1].[Call_Account_Flag] AS [Call_Account_Flag], 
        [Extent1].[System_Locked] AS [System_Locked], 
        [Extent1].[Last_Update_User] AS [Last_Update_User], 
        [Extent1].[Last_Update_Date] AS [Last_Update_Date], 
        [Extent1].[Security_Status] AS [Security_Status], 
        [Extent1].[Benchmark_Portfolio] AS [Benchmark_Portfolio], 
        [Extent1].[Active_flag] AS [Active_flag], 
        [Extent1].[Dividend_FX_Security_ID] AS [Dividend_FX_Security_ID]
        FROM [dbo].[Security_Detail] AS [Extent1]
        WHERE ([Extent1].[Entity_ID] IN (@p__linq__0,@p__linq__1)) AND ((CASE WHEN ( NOT ((N'' = @p__linq__2) AND (@p__linq__2 IS NOT NULL))) THEN CASE WHEN ([Extent1].[Security_Type_Code] = @p__linq__3) THEN cast(1 as bit) WHEN ( NOT (([Extent1].[Security_Type_Code] = @p__linq__3) AND (0 = (CASE WHEN (@p__linq__3 IS NULL) THEN cast(1 as bit) ELSE cast(0 as bit) END)))) THEN cast(0 as bit) END WHEN ('' <> [Extent1].[Security_Type_Code]) THEN cast(1 as bit) WHEN ('' = [Extent1].[Security_Type_Code]) THEN cast(0 as bit) END) = 1)
    )  AS [Project1]
    ORDER BY [Project1].[Security_Name] ASC
2018-04-07 18:10:47.4593|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: IF db_id(N'MetopeAzureDb') IS NOT NULL SELECT 1 ELSE SELECT Count(*) FROM sys.databases WHERE [name]=N'MetopeAzureDb'
2018-04-07 18:10:47.4833|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: IF db_id(N'MetopeAzureDb') IS NOT NULL SELECT 1 ELSE SELECT Count(*) FROM sys.databases WHERE [name]=N'MetopeAzureDb'
2018-04-07 18:10:47.5143|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: IF db_id(N'MetopeAzureDb') IS NOT NULL SELECT 1 ELSE SELECT Count(*) FROM sys.databases WHERE [name]=N'MetopeAzureDb'
2018-04-07 18:10:47.5354|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: IF db_id(N'MetopeAzureDb') IS NOT NULL SELECT 1 ELSE SELECT Count(*) FROM sys.databases WHERE [name]=N'MetopeAzureDb'
2018-04-07 18:19:51.3834|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: SELECT TOP (1) 
    [Project1].[C1] AS [C1], 
    [Project1].[Entity_ID] AS [Entity_ID], 
    [Project1].[Security_ID] AS [Security_ID], 
    [Project1].[Portfolio_Code] AS [Portfolio_Code], 
    [Project1].[Excess_Weight_Quarterly] AS [Excess_Weight_Quarterly], 
    [Project1].[Relative_Contribution_Quarterly] AS [Relative_Contribution_Quarterly], 
    [Project1].[Security_Weight_Portfolio_Monthly] AS [Security_Weight_Portfolio_Monthly], 
    [Project1].[Ticker] AS [Ticker]
    FROM ( SELECT 
        [Extent1].[Security_ID] AS [Security_ID], 
        [Extent1].[Portfolio_Code] AS [Portfolio_Code], 
        [Extent1].[Entity_ID] AS [Entity_ID], 
        [Extent1].[Excess_Weight_Quarterly] AS [Excess_Weight_Quarterly], 
        [Extent1].[Relative_Contribution_Quarterly] AS [Relative_Contribution_Quarterly], 
        [Extent1].[Security_Weight_Portfolio_Monthly] AS [Security_Weight_Portfolio_Monthly], 
        [Extent2].[Ticker] AS [Ticker], 
        1 AS [C1]
        FROM  [dbo].[Security_Attribution] AS [Extent1]
        INNER JOIN [dbo].[Security_Detail] AS [Extent2] ON [Extent1].[Security_ID] = [Extent2].[Security_ID]
        WHERE ([Extent1].[Entity_ID] = @p__linq__0) AND ([Extent1].[Portfolio_Code] = @p__linq__1) AND ([Extent1].[Entity_ID] = @p__linq__2)
    )  AS [Project1]
    ORDER BY [Project1].[Security_ID] ASC
2018-04-07 18:19:51.5070|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: SELECT TOP (1) 
    [Project1].[C1] AS [C1], 
    [Project1].[Entity_ID] AS [Entity_ID], 
    [Project1].[Security_ID] AS [Security_ID], 
    [Project1].[Portfolio_Code] AS [Portfolio_Code], 
    [Project1].[Excess_Weight_Quarterly] AS [Excess_Weight_Quarterly], 
    [Project1].[Relative_Contribution_Quarterly] AS [Relative_Contribution_Quarterly], 
    [Project1].[Security_Weight_Portfolio_Monthly] AS [Security_Weight_Portfolio_Monthly], 
    [Project1].[Ticker] AS [Ticker]
    FROM ( SELECT 
        [Extent1].[Security_ID] AS [Security_ID], 
        [Extent1].[Portfolio_Code] AS [Portfolio_Code], 
        [Extent1].[Entity_ID] AS [Entity_ID], 
        [Extent1].[Excess_Weight_Quarterly] AS [Excess_Weight_Quarterly], 
        [Extent1].[Relative_Contribution_Quarterly] AS [Relative_Contribution_Quarterly], 
        [Extent1].[Security_Weight_Portfolio_Monthly] AS [Security_Weight_Portfolio_Monthly], 
        [Extent2].[Ticker] AS [Ticker], 
        1 AS [C1]
        FROM  [dbo].[Security_Attribution] AS [Extent1]
        INNER JOIN [dbo].[Security_Detail] AS [Extent2] ON [Extent1].[Security_ID] = [Extent2].[Security_ID]
        WHERE ([Extent1].[Entity_ID] = @p__linq__0) AND ([Extent1].[Portfolio_Code] = @p__linq__1) AND ([Extent1].[Entity_ID] = @p__linq__2)
    )  AS [Project1]
    ORDER BY [Project1].[Security_ID] ASC
2018-04-07 18:19:51.5340|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: SELECT 
    [Project1].[C1] AS [C1], 
    [Project1].[Entity_ID] AS [Entity_ID], 
    [Project1].[Security_ID] AS [Security_ID], 
    [Project1].[Portfolio_Code] AS [Portfolio_Code], 
    [Project1].[Excess_Weight_Quarterly] AS [Excess_Weight_Quarterly], 
    [Project1].[Relative_Contribution_Quarterly] AS [Relative_Contribution_Quarterly], 
    [Project1].[Security_Weight_Portfolio_Monthly] AS [Security_Weight_Portfolio_Monthly], 
    [Project1].[Ticker] AS [Ticker]
    FROM ( SELECT 
        [Extent1].[Security_ID] AS [Security_ID], 
        [Extent1].[Portfolio_Code] AS [Portfolio_Code], 
        [Extent1].[Entity_ID] AS [Entity_ID], 
        [Extent1].[Excess_Weight_Quarterly] AS [Excess_Weight_Quarterly], 
        [Extent1].[Relative_Contribution_Quarterly] AS [Relative_Contribution_Quarterly], 
        [Extent1].[Security_Weight_Portfolio_Monthly] AS [Security_Weight_Portfolio_Monthly], 
        [Extent2].[Ticker] AS [Ticker], 
        1 AS [C1]
        FROM  [dbo].[Security_Attribution] AS [Extent1]
        INNER JOIN [dbo].[Security_Detail] AS [Extent2] ON [Extent1].[Security_ID] = [Extent2].[Security_ID]
        WHERE ([Extent1].[Entity_ID] = @p__linq__0) AND ([Extent1].[Portfolio_Code] = @p__linq__1) AND ([Extent1].[Entity_ID] = @p__linq__2)
    )  AS [Project1]
    ORDER BY [Project1].[Security_ID] ASC
2018-04-07 18:19:51.5786|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: SELECT 
    [Project1].[C1] AS [C1], 
    [Project1].[Entity_ID] AS [Entity_ID], 
    [Project1].[Security_ID] AS [Security_ID], 
    [Project1].[Portfolio_Code] AS [Portfolio_Code], 
    [Project1].[Excess_Weight_Quarterly] AS [Excess_Weight_Quarterly], 
    [Project1].[Relative_Contribution_Quarterly] AS [Relative_Contribution_Quarterly], 
    [Project1].[Security_Weight_Portfolio_Monthly] AS [Security_Weight_Portfolio_Monthly], 
    [Project1].[Ticker] AS [Ticker]
    FROM ( SELECT 
        [Extent1].[Security_ID] AS [Security_ID], 
        [Extent1].[Portfolio_Code] AS [Portfolio_Code], 
        [Extent1].[Entity_ID] AS [Entity_ID], 
        [Extent1].[Excess_Weight_Quarterly] AS [Excess_Weight_Quarterly], 
        [Extent1].[Relative_Contribution_Quarterly] AS [Relative_Contribution_Quarterly], 
        [Extent1].[Security_Weight_Portfolio_Monthly] AS [Security_Weight_Portfolio_Monthly], 
        [Extent2].[Ticker] AS [Ticker], 
        1 AS [C1]
        FROM  [dbo].[Security_Attribution] AS [Extent1]
        INNER JOIN [dbo].[Security_Detail] AS [Extent2] ON [Extent1].[Security_ID] = [Extent2].[Security_ID]
        WHERE ([Extent1].[Entity_ID] = @p__linq__0) AND ([Extent1].[Portfolio_Code] = @p__linq__1) AND ([Extent1].[Entity_ID] = @p__linq__2)
    )  AS [Project1]
    ORDER BY [Project1].[Security_ID] ASC
2018-04-07 18:19:51.6876|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: IF db_id(N'MetopeAzureDb') IS NOT NULL SELECT 1 ELSE SELECT Count(*) FROM sys.databases WHERE [name]=N'MetopeAzureDb'
2018-04-07 18:19:51.7987|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: IF db_id(N'MetopeAzureDb') IS NOT NULL SELECT 1 ELSE SELECT Count(*) FROM sys.databases WHERE [name]=N'MetopeAzureDb'
2018-04-07 18:19:51.9353|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: IF db_id(N'MetopeAzureDb') IS NOT NULL SELECT 1 ELSE SELECT Count(*) FROM sys.databases WHERE [name]=N'MetopeAzureDb'
2018-04-07 18:19:51.9698|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: IF db_id(N'MetopeAzureDb') IS NOT NULL SELECT 1 ELSE SELECT Count(*) FROM sys.databases WHERE [name]=N'MetopeAzureDb'
2018-04-07 18:19:58.6237|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: SELECT 
    [Project1].[Decimal_Precision] AS [Decimal_Precision], 
    [Project1].[Security_ID] AS [Security_ID], 
    [Project1].[Portfolio_Code] AS [Portfolio_Code], 
    [Project1].[Entity_ID] AS [Entity_ID], 
    [Project1].[Excess_Weight_Quarterly] AS [Excess_Weight_Quarterly], 
    [Project1].[Relative_Contribution_Quarterly] AS [Relative_Contribution_Quarterly], 
    [Project1].[Allocation_Selection_Interaction_Quarterly] AS [Allocation_Selection_Interaction_Quarterly], 
    [Project1].[StockVs_TotBenchmarkReturn_Quarterly] AS [StockVs_TotBenchmarkReturn_Quarterly], 
    [Project1].[Selection_Interaction_Quarterly] AS [Selection_Interaction_Quarterly], 
    [Project1].[Asset_Allocation_Quarterly] AS [Asset_Allocation_Quarterly], 
    [Project1].[Excess_Weight_Monthly] AS [Excess_Weight_Monthly], 
    [Project1].[Relative_Contribution_Monthly] AS [Relative_Contribution_Monthly], 
    [Project1].[Allocation_Selection_Interaction_Monthly] AS [Allocation_Selection_Interaction_Monthly], 
    [Project1].[StockVs_TotBenchmarkReturn_Monthly] AS [StockVs_TotBenchmarkReturn_Monthly], 
    [Project1].[Selection_Interaction_Monthly] AS [Selection_Interaction_Monthly], 
    [Project1].[Asset_Allocation_Monthly] AS [Asset_Allocation_Monthly], 
    [Project1].[Excess_Weight_MonthToDate] AS [Excess_Weight_MonthToDate], 
    [Project1].[Relative_Contribution_MonthToDate] AS [Relative_Contribution_MonthToDate], 
    [Project1].[Allocation_Selection_Interaction_MonthToDate] AS [Allocation_Selection_Interaction_MonthToDate], 
    [Project1].[StockVs_TotBenchmarkReturn_MonthToDate] AS [StockVs_TotBenchmarkReturn_MonthToDate], 
    [Project1].[Selection_Interaction_MonthToDate] AS [Selection_Interaction_MonthToDate], 
    [Project1].[Asset_Allocation_MonthToDate] AS [Asset_Allocation_MonthToDate], 
    [Project1].[Last_Update_Date] AS [Last_Update_Date], 
    [Project1].[Last_Update_User] AS [Last_Update_User], 
    [Project1].[Security_Weight_Portfolio_Monthly] AS [Security_Weight_Portfolio_Monthly], 
    [Project1].[Security_Weight_Portfolio_MonthToDate] AS [Security_Weight_Portfolio_MonthToDate], 
    [Project1].[Security_Weight_Portfolio_Quarterly] AS [Security_Weight_Portfolio_Quarterly], 
    [Project1].[Security_Weight_Benchmark_Monthly] AS [Security_Weight_Benchmark_Monthly], 
    [Project1].[Security_Weight_Benchmark_MonthToDate] AS [Security_Weight_Benchmark_MonthToDate], 
    [Project1].[Security_Weight_Benchmark_Quarterly] AS [Security_Weight_Benchmark_Quarterly], 
    [Project1].[Total_Return_Security_Price_Monthly] AS [Total_Return_Security_Price_Monthly], 
    [Project1].[Total_Return_Security_Price_MonthToDate] AS [Total_Return_Security_Price_MonthToDate], 
    [Project1].[Total_Return_Security_Price_Quarterly] AS [Total_Return_Security_Price_Quarterly], 
    [Project1].[TW_Return_Portfolio_Monthly] AS [TW_Return_Portfolio_Monthly], 
    [Project1].[TW_Return_Portfolio_MonthToDate] AS [TW_Return_Portfolio_MonthToDate], 
    [Project1].[TW_Return_Portfolio_Quarterly] AS [TW_Return_Portfolio_Quarterly], 
    [Project1].[Record_Date] AS [Record_Date], 
    [Project1].[Session_ID] AS [Session_ID], 
    [Project1].[Hist_Last_Update_Date] AS [Hist_Last_Update_Date], 
    [Project1].[Hist_Last_Update_User] AS [Hist_Last_Update_User], 
    [Project1].[Benchmark_Price_Performance_Monthly] AS [Benchmark_Price_Performance_Monthly], 
    [Project1].[Benchmark_Price_Performance_MonthToDate] AS [Benchmark_Price_Performance_MonthToDate], 
    [Project1].[Benchmark_Price_Performance_Quarterly] AS [Benchmark_Price_Performance_Quarterly], 
    [Project1].[Security_ID1] AS [Security_ID1], 
    [Project1].[Entity_ID1] AS [Entity_ID1], 
    [Project1].[Security_Name] AS [Security_Name], 
    [Project1].[Short_Name] AS [Short_Name], 
    [Project1].[Primary_Exch] AS [Primary_Exch], 
    [Project1].[Secondary_Exch] AS [Secondary_Exch], 
    [Project1].[Country_Of_Domicile] AS [Country_Of_Domicile], 
    [Project1].[Country_Of_Risk] AS [Country_Of_Risk], 
    [Project1].[Security_Type_Code] AS [Security_Type_Code], 
    [Project1].[Price_Multiplier] AS [Price_Multiplier], 
    [Project1].[Income_Frequency] AS [Income_Frequency], 
    [Project1].[Issuer_Code] AS [Issuer_Code], 
    [Project1].[Ultimate_Issuer_Code] AS [Ultimate_Issuer_Code], 
    [Project1].[Asset_Currency] AS [Asset_Currency], 
    [Project1].[Min_Lot_Size] AS [Min_Lot_Size], 
    [Project1].[AvePrice_Rounding] AS [AvePrice_Rounding], 
    [Project1].[Issue_Date] AS [Issue_Date], 
    [Project1].[Maturity_Date] AS [Maturity_Date], 
    [Project1].[Coupon_Rate] AS [Coupon_Rate], 
    [Project1].[Price_Exchange] AS [Price_Exchange], 
    [Project1].[Trade_Currency] AS [Trade_Currency], 
    [Project1].[Price_Curr] AS [Price_Curr], 
    [Project1].[Currency_Pair_Code] AS [Currency_Pair_Code], 
    [Project1].[Share_Class] AS [Share_Class], 
    [Project1].[Current_Market_Price] AS [Current_Market_Price], 
    [Project1].[Index_Type] AS [Index_Type], 
    [Project1].[Clean_Price_Formula] AS [Clean_Price_Formula], 
    [Project1].[Accrued_Income_Price_Formula] AS [Accrued_Income_Price_Formula], 
    [Project1].[Odd_First_Coupon_Date] AS [Odd_First_Coupon_Date], 
    [Project1].[Odd_Last_Coupon_Date] AS [Odd_Last_Coupon_Date], 
    [Project1].[Coupon_Anniversary_Indicator] AS [Coupon_Anniversary_Indicator], 
    [Project1].[Track_EOM_Flag] AS [Track_EOM_Flag], 
    [Project1].[Next_Coupon_Date] AS [Next_Coupon_Date], 
    [Project1].[Previous_Coupon_Date] AS [Previous_Coupon_Date], 
    [Project1].[Payment_Frequency] AS [Payment_Frequency], 
    [Project1].[Coupon_BusDay_Adjustment] AS [Coupon_BusDay_Adjustment], 
    [Project1].[Next_Ex_Div_Date] AS [Next_Ex_Div_Date], 
    [Project1].[Ex_Div_BusDay_Adjustment] AS [Ex_Div_BusDay_Adjustment], 
    [Project1].[Ex_Div_Period] AS [Ex_Div_Period], 
    [Project1].[Ticker] AS [Ticker], 
    [Project1].[Inet_ID] AS [Inet_ID], 
    [Project1].[Bloomberg_ID] AS [Bloomberg_ID], 
    [Project1].[External_Sec_ID] AS [External_Sec_ID], 
    [Project1].[Reuters_ID] AS [Reuters_ID], 
    [Project1].[ISIN] AS [ISIN], 
    [Project1].[Call_Account_Flag] AS [Call_Account_Flag], 
    [Project1].[System_Locked] AS [System_Locked], 
    [Project1].[Last_Update_User1] AS [Last_Update_User1], 
    [Project1].[Last_Update_Date1] AS [Last_Update_Date1], 
    [Project1].[Security_Status] AS [Security_Status], 
    [Project1].[Benchmark_Portfolio] AS [Benchmark_Portfolio], 
    [Project1].[Active_flag] AS [Active_flag], 
    [Project1].[Dividend_FX_Security_ID] AS [Dividend_FX_Security_ID]
    FROM ( SELECT 
        [Extent1].[Security_ID] AS [Security_ID], 
        [Extent1].[Portfolio_Code] AS [Portfolio_Code], 
        [Extent1].[Entity_ID] AS [Entity_ID], 
        [Extent1].[Excess_Weight_Quarterly] AS [Excess_Weight_Quarterly], 
        [Extent1].[Relative_Contribution_Quarterly] AS [Relative_Contribution_Quarterly], 
        [Extent1].[Allocation_Selection_Interaction_Quarterly] AS [Allocation_Selection_Interaction_Quarterly], 
        [Extent1].[StockVs_TotBenchmarkReturn_Quarterly] AS [StockVs_TotBenchmarkReturn_Quarterly], 
        [Extent1].[Selection_Interaction_Quarterly] AS [Selection_Interaction_Quarterly], 
        [Extent1].[Asset_Allocation_Quarterly] AS [Asset_Allocation_Quarterly], 
        [Extent1].[Excess_Weight_Monthly] AS [Excess_Weight_Monthly], 
        [Extent1].[Relative_Contribution_Monthly] AS [Relative_Contribution_Monthly], 
        [Extent1].[Allocation_Selection_Interaction_Monthly] AS [Allocation_Selection_Interaction_Monthly], 
        [Extent1].[StockVs_TotBenchmarkReturn_Monthly] AS [StockVs_TotBenchmarkReturn_Monthly], 
        [Extent1].[Selection_Interaction_Monthly] AS [Selection_Interaction_Monthly], 
        [Extent1].[Asset_Allocation_Monthly] AS [Asset_Allocation_Monthly], 
        [Extent1].[Excess_Weight_MonthToDate] AS [Excess_Weight_MonthToDate], 
        [Extent1].[Relative_Contribution_MonthToDate] AS [Relative_Contribution_MonthToDate], 
        [Extent1].[Allocation_Selection_Interaction_MonthToDate] AS [Allocation_Selection_Interaction_MonthToDate], 
        [Extent1].[StockVs_TotBenchmarkReturn_MonthToDate] AS [StockVs_TotBenchmarkReturn_MonthToDate], 
        [Extent1].[Selection_Interaction_MonthToDate] AS [Selection_Interaction_MonthToDate], 
        [Extent1].[Asset_Allocation_MonthToDate] AS [Asset_Allocation_MonthToDate], 
        [Extent1].[Last_Update_Date] AS [Last_Update_Date], 
        [Extent1].[Last_Update_User] AS [Last_Update_User], 
        [Extent1].[Security_Weight_Portfolio_Monthly] AS [Security_Weight_Portfolio_Monthly], 
        [Extent1].[Security_Weight_Portfolio_MonthToDate] AS [Security_Weight_Portfolio_MonthToDate], 
        [Extent1].[Security_Weight_Portfolio_Quarterly] AS [Security_Weight_Portfolio_Quarterly], 
        [Extent1].[Security_Weight_Benchmark_Monthly] AS [Security_Weight_Benchmark_Monthly], 
        [Extent1].[Security_Weight_Benchmark_MonthToDate] AS [Security_Weight_Benchmark_MonthToDate], 
        [Extent1].[Security_Weight_Benchmark_Quarterly] AS [Security_Weight_Benchmark_Quarterly], 
        [Extent1].[Total_Return_Security_Price_Monthly] AS [Total_Return_Security_Price_Monthly], 
        [Extent1].[Total_Return_Security_Price_MonthToDate] AS [Total_Return_Security_Price_MonthToDate], 
        [Extent1].[Total_Return_Security_Price_Quarterly] AS [Total_Return_Security_Price_Quarterly], 
        [Extent1].[TW_Return_Portfolio_Monthly] AS [TW_Return_Portfolio_Monthly], 
        [Extent1].[TW_Return_Portfolio_MonthToDate] AS [TW_Return_Portfolio_MonthToDate], 
        [Extent1].[TW_Return_Portfolio_Quarterly] AS [TW_Return_Portfolio_Quarterly], 
        [Extent1].[Record_Date] AS [Record_Date], 
        [Extent1].[Session_ID] AS [Session_ID], 
        [Extent1].[Hist_Last_Update_Date] AS [Hist_Last_Update_Date], 
        [Extent1].[Hist_Last_Update_User] AS [Hist_Last_Update_User], 
        [Extent1].[Benchmark_Price_Performance_Monthly] AS [Benchmark_Price_Performance_Monthly], 
        [Extent1].[Benchmark_Price_Performance_MonthToDate] AS [Benchmark_Price_Performance_MonthToDate], 
        [Extent1].[Benchmark_Price_Performance_Quarterly] AS [Benchmark_Price_Performance_Quarterly], 
        [Extent2].[Security_ID] AS [Security_ID1], 
        [Extent2].[Entity_ID] AS [Entity_ID1], 
        [Extent2].[Security_Name] AS [Security_Name], 
        [Extent2].[Short_Name] AS [Short_Name], 
        [Extent2].[Primary_Exch] AS [Primary_Exch], 
        [Extent2].[Secondary_Exch] AS [Secondary_Exch], 
        [Extent2].[Country_Of_Domicile] AS [Country_Of_Domicile], 
        [Extent2].[Country_Of_Risk] AS [Country_Of_Risk], 
        [Extent2].[Security_Type_Code] AS [Security_Type_Code], 
        [Extent2].[Price_Multiplier] AS [Price_Multiplier], 
        [Extent2].[Income_Frequency] AS [Income_Frequency], 
        [Extent2].[Issuer_Code] AS [Issuer_Code], 
        [Extent2].[Ultimate_Issuer_Code] AS [Ultimate_Issuer_Code], 
        [Extent2].[Asset_Currency] AS [Asset_Currency], 
        [Extent2].[Min_Lot_Size] AS [Min_Lot_Size], 
        [Extent2].[Decimal_Precision] AS [Decimal_Precision], 
        [Extent2].[AvePrice_Rounding] AS [AvePrice_Rounding], 
        [Extent2].[Issue_Date] AS [Issue_Date], 
        [Extent2].[Maturity_Date] AS [Maturity_Date], 
        [Extent2].[Coupon_Rate] AS [Coupon_Rate], 
        [Extent2].[Price_Exchange] AS [Price_Exchange], 
        [Extent2].[Trade_Currency] AS [Trade_Currency], 
        [Extent2].[Price_Curr] AS [Price_Curr], 
        [Extent2].[Currency_Pair_Code] AS [Currency_Pair_Code], 
        [Extent2].[Share_Class] AS [Share_Class], 
        [Extent2].[Current_Market_Price] AS [Current_Market_Price], 
        [Extent2].[Index_Type] AS [Index_Type], 
        [Extent2].[Clean_Price_Formula] AS [Clean_Price_Formula], 
        [Extent2].[Accrued_Income_Price_Formula] AS [Accrued_Income_Price_Formula], 
        [Extent2].[Odd_First_Coupon_Date] AS [Odd_First_Coupon_Date], 
        [Extent2].[Odd_Last_Coupon_Date] AS [Odd_Last_Coupon_Date], 
        [Extent2].[Coupon_Anniversary_Indicator] AS [Coupon_Anniversary_Indicator], 
        [Extent2].[Track_EOM_Flag] AS [Track_EOM_Flag], 
        [Extent2].[Next_Coupon_Date] AS [Next_Coupon_Date], 
        [Extent2].[Previous_Coupon_Date] AS [Previous_Coupon_Date], 
        [Extent2].[Payment_Frequency] AS [Payment_Frequency], 
        [Extent2].[Coupon_BusDay_Adjustment] AS [Coupon_BusDay_Adjustment], 
        [Extent2].[Next_Ex_Div_Date] AS [Next_Ex_Div_Date], 
        [Extent2].[Ex_Div_BusDay_Adjustment] AS [Ex_Div_BusDay_Adjustment], 
        [Extent2].[Ex_Div_Period] AS [Ex_Div_Period], 
        [Extent2].[Ticker] AS [Ticker], 
        [Extent2].[Inet_ID] AS [Inet_ID], 
        [Extent2].[Bloomberg_ID] AS [Bloomberg_ID], 
        [Extent2].[External_Sec_ID] AS [External_Sec_ID], 
        [Extent2].[Reuters_ID] AS [Reuters_ID], 
        [Extent2].[ISIN] AS [ISIN], 
        [Extent2].[Call_Account_Flag] AS [Call_Account_Flag], 
        [Extent2].[System_Locked] AS [System_Locked], 
        [Extent2].[Last_Update_User] AS [Last_Update_User1], 
        [Extent2].[Last_Update_Date] AS [Last_Update_Date1], 
        [Extent2].[Security_Status] AS [Security_Status], 
        [Extent2].[Benchmark_Portfolio] AS [Benchmark_Portfolio], 
        [Extent2].[Active_flag] AS [Active_flag], 
        [Extent2].[Dividend_FX_Security_ID] AS [Dividend_FX_Security_ID]
        FROM  [dbo].[Security_Attribution_History] AS [Extent1]
        INNER JOIN [dbo].[Security_Detail] AS [Extent2] ON [Extent1].[Security_ID] = [Extent2].[Security_ID]
        WHERE ([Extent1].[Security_ID] = @p__linq__0) AND ([Extent1].[Portfolio_Code] = @p__linq__1)
    )  AS [Project1]
    ORDER BY [Project1].[Record_Date] DESC
2018-04-07 18:19:58.6692|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: SELECT 
    [Project1].[Decimal_Precision] AS [Decimal_Precision], 
    [Project1].[Security_ID] AS [Security_ID], 
    [Project1].[Portfolio_Code] AS [Portfolio_Code], 
    [Project1].[Entity_ID] AS [Entity_ID], 
    [Project1].[Excess_Weight_Quarterly] AS [Excess_Weight_Quarterly], 
    [Project1].[Relative_Contribution_Quarterly] AS [Relative_Contribution_Quarterly], 
    [Project1].[Allocation_Selection_Interaction_Quarterly] AS [Allocation_Selection_Interaction_Quarterly], 
    [Project1].[StockVs_TotBenchmarkReturn_Quarterly] AS [StockVs_TotBenchmarkReturn_Quarterly], 
    [Project1].[Selection_Interaction_Quarterly] AS [Selection_Interaction_Quarterly], 
    [Project1].[Asset_Allocation_Quarterly] AS [Asset_Allocation_Quarterly], 
    [Project1].[Excess_Weight_Monthly] AS [Excess_Weight_Monthly], 
    [Project1].[Relative_Contribution_Monthly] AS [Relative_Contribution_Monthly], 
    [Project1].[Allocation_Selection_Interaction_Monthly] AS [Allocation_Selection_Interaction_Monthly], 
    [Project1].[StockVs_TotBenchmarkReturn_Monthly] AS [StockVs_TotBenchmarkReturn_Monthly], 
    [Project1].[Selection_Interaction_Monthly] AS [Selection_Interaction_Monthly], 
    [Project1].[Asset_Allocation_Monthly] AS [Asset_Allocation_Monthly], 
    [Project1].[Excess_Weight_MonthToDate] AS [Excess_Weight_MonthToDate], 
    [Project1].[Relative_Contribution_MonthToDate] AS [Relative_Contribution_MonthToDate], 
    [Project1].[Allocation_Selection_Interaction_MonthToDate] AS [Allocation_Selection_Interaction_MonthToDate], 
    [Project1].[StockVs_TotBenchmarkReturn_MonthToDate] AS [StockVs_TotBenchmarkReturn_MonthToDate], 
    [Project1].[Selection_Interaction_MonthToDate] AS [Selection_Interaction_MonthToDate], 
    [Project1].[Asset_Allocation_MonthToDate] AS [Asset_Allocation_MonthToDate], 
    [Project1].[Last_Update_Date] AS [Last_Update_Date], 
    [Project1].[Last_Update_User] AS [Last_Update_User], 
    [Project1].[Security_Weight_Portfolio_Monthly] AS [Security_Weight_Portfolio_Monthly], 
    [Project1].[Security_Weight_Portfolio_MonthToDate] AS [Security_Weight_Portfolio_MonthToDate], 
    [Project1].[Security_Weight_Portfolio_Quarterly] AS [Security_Weight_Portfolio_Quarterly], 
    [Project1].[Security_Weight_Benchmark_Monthly] AS [Security_Weight_Benchmark_Monthly], 
    [Project1].[Security_Weight_Benchmark_MonthToDate] AS [Security_Weight_Benchmark_MonthToDate], 
    [Project1].[Security_Weight_Benchmark_Quarterly] AS [Security_Weight_Benchmark_Quarterly], 
    [Project1].[Total_Return_Security_Price_Monthly] AS [Total_Return_Security_Price_Monthly], 
    [Project1].[Total_Return_Security_Price_MonthToDate] AS [Total_Return_Security_Price_MonthToDate], 
    [Project1].[Total_Return_Security_Price_Quarterly] AS [Total_Return_Security_Price_Quarterly], 
    [Project1].[TW_Return_Portfolio_Monthly] AS [TW_Return_Portfolio_Monthly], 
    [Project1].[TW_Return_Portfolio_MonthToDate] AS [TW_Return_Portfolio_MonthToDate], 
    [Project1].[TW_Return_Portfolio_Quarterly] AS [TW_Return_Portfolio_Quarterly], 
    [Project1].[Record_Date] AS [Record_Date], 
    [Project1].[Session_ID] AS [Session_ID], 
    [Project1].[Hist_Last_Update_Date] AS [Hist_Last_Update_Date], 
    [Project1].[Hist_Last_Update_User] AS [Hist_Last_Update_User], 
    [Project1].[Benchmark_Price_Performance_Monthly] AS [Benchmark_Price_Performance_Monthly], 
    [Project1].[Benchmark_Price_Performance_MonthToDate] AS [Benchmark_Price_Performance_MonthToDate], 
    [Project1].[Benchmark_Price_Performance_Quarterly] AS [Benchmark_Price_Performance_Quarterly], 
    [Project1].[Security_ID1] AS [Security_ID1], 
    [Project1].[Entity_ID1] AS [Entity_ID1], 
    [Project1].[Security_Name] AS [Security_Name], 
    [Project1].[Short_Name] AS [Short_Name], 
    [Project1].[Primary_Exch] AS [Primary_Exch], 
    [Project1].[Secondary_Exch] AS [Secondary_Exch], 
    [Project1].[Country_Of_Domicile] AS [Country_Of_Domicile], 
    [Project1].[Country_Of_Risk] AS [Country_Of_Risk], 
    [Project1].[Security_Type_Code] AS [Security_Type_Code], 
    [Project1].[Price_Multiplier] AS [Price_Multiplier], 
    [Project1].[Income_Frequency] AS [Income_Frequency], 
    [Project1].[Issuer_Code] AS [Issuer_Code], 
    [Project1].[Ultimate_Issuer_Code] AS [Ultimate_Issuer_Code], 
    [Project1].[Asset_Currency] AS [Asset_Currency], 
    [Project1].[Min_Lot_Size] AS [Min_Lot_Size], 
    [Project1].[AvePrice_Rounding] AS [AvePrice_Rounding], 
    [Project1].[Issue_Date] AS [Issue_Date], 
    [Project1].[Maturity_Date] AS [Maturity_Date], 
    [Project1].[Coupon_Rate] AS [Coupon_Rate], 
    [Project1].[Price_Exchange] AS [Price_Exchange], 
    [Project1].[Trade_Currency] AS [Trade_Currency], 
    [Project1].[Price_Curr] AS [Price_Curr], 
    [Project1].[Currency_Pair_Code] AS [Currency_Pair_Code], 
    [Project1].[Share_Class] AS [Share_Class], 
    [Project1].[Current_Market_Price] AS [Current_Market_Price], 
    [Project1].[Index_Type] AS [Index_Type], 
    [Project1].[Clean_Price_Formula] AS [Clean_Price_Formula], 
    [Project1].[Accrued_Income_Price_Formula] AS [Accrued_Income_Price_Formula], 
    [Project1].[Odd_First_Coupon_Date] AS [Odd_First_Coupon_Date], 
    [Project1].[Odd_Last_Coupon_Date] AS [Odd_Last_Coupon_Date], 
    [Project1].[Coupon_Anniversary_Indicator] AS [Coupon_Anniversary_Indicator], 
    [Project1].[Track_EOM_Flag] AS [Track_EOM_Flag], 
    [Project1].[Next_Coupon_Date] AS [Next_Coupon_Date], 
    [Project1].[Previous_Coupon_Date] AS [Previous_Coupon_Date], 
    [Project1].[Payment_Frequency] AS [Payment_Frequency], 
    [Project1].[Coupon_BusDay_Adjustment] AS [Coupon_BusDay_Adjustment], 
    [Project1].[Next_Ex_Div_Date] AS [Next_Ex_Div_Date], 
    [Project1].[Ex_Div_BusDay_Adjustment] AS [Ex_Div_BusDay_Adjustment], 
    [Project1].[Ex_Div_Period] AS [Ex_Div_Period], 
    [Project1].[Ticker] AS [Ticker], 
    [Project1].[Inet_ID] AS [Inet_ID], 
    [Project1].[Bloomberg_ID] AS [Bloomberg_ID], 
    [Project1].[External_Sec_ID] AS [External_Sec_ID], 
    [Project1].[Reuters_ID] AS [Reuters_ID], 
    [Project1].[ISIN] AS [ISIN], 
    [Project1].[Call_Account_Flag] AS [Call_Account_Flag], 
    [Project1].[System_Locked] AS [System_Locked], 
    [Project1].[Last_Update_User1] AS [Last_Update_User1], 
    [Project1].[Last_Update_Date1] AS [Last_Update_Date1], 
    [Project1].[Security_Status] AS [Security_Status], 
    [Project1].[Benchmark_Portfolio] AS [Benchmark_Portfolio], 
    [Project1].[Active_flag] AS [Active_flag], 
    [Project1].[Dividend_FX_Security_ID] AS [Dividend_FX_Security_ID]
    FROM ( SELECT 
        [Extent1].[Security_ID] AS [Security_ID], 
        [Extent1].[Portfolio_Code] AS [Portfolio_Code], 
        [Extent1].[Entity_ID] AS [Entity_ID], 
        [Extent1].[Excess_Weight_Quarterly] AS [Excess_Weight_Quarterly], 
        [Extent1].[Relative_Contribution_Quarterly] AS [Relative_Contribution_Quarterly], 
        [Extent1].[Allocation_Selection_Interaction_Quarterly] AS [Allocation_Selection_Interaction_Quarterly], 
        [Extent1].[StockVs_TotBenchmarkReturn_Quarterly] AS [StockVs_TotBenchmarkReturn_Quarterly], 
        [Extent1].[Selection_Interaction_Quarterly] AS [Selection_Interaction_Quarterly], 
        [Extent1].[Asset_Allocation_Quarterly] AS [Asset_Allocation_Quarterly], 
        [Extent1].[Excess_Weight_Monthly] AS [Excess_Weight_Monthly], 
        [Extent1].[Relative_Contribution_Monthly] AS [Relative_Contribution_Monthly], 
        [Extent1].[Allocation_Selection_Interaction_Monthly] AS [Allocation_Selection_Interaction_Monthly], 
        [Extent1].[StockVs_TotBenchmarkReturn_Monthly] AS [StockVs_TotBenchmarkReturn_Monthly], 
        [Extent1].[Selection_Interaction_Monthly] AS [Selection_Interaction_Monthly], 
        [Extent1].[Asset_Allocation_Monthly] AS [Asset_Allocation_Monthly], 
        [Extent1].[Excess_Weight_MonthToDate] AS [Excess_Weight_MonthToDate], 
        [Extent1].[Relative_Contribution_MonthToDate] AS [Relative_Contribution_MonthToDate], 
        [Extent1].[Allocation_Selection_Interaction_MonthToDate] AS [Allocation_Selection_Interaction_MonthToDate], 
        [Extent1].[StockVs_TotBenchmarkReturn_MonthToDate] AS [StockVs_TotBenchmarkReturn_MonthToDate], 
        [Extent1].[Selection_Interaction_MonthToDate] AS [Selection_Interaction_MonthToDate], 
        [Extent1].[Asset_Allocation_MonthToDate] AS [Asset_Allocation_MonthToDate], 
        [Extent1].[Last_Update_Date] AS [Last_Update_Date], 
        [Extent1].[Last_Update_User] AS [Last_Update_User], 
        [Extent1].[Security_Weight_Portfolio_Monthly] AS [Security_Weight_Portfolio_Monthly], 
        [Extent1].[Security_Weight_Portfolio_MonthToDate] AS [Security_Weight_Portfolio_MonthToDate], 
        [Extent1].[Security_Weight_Portfolio_Quarterly] AS [Security_Weight_Portfolio_Quarterly], 
        [Extent1].[Security_Weight_Benchmark_Monthly] AS [Security_Weight_Benchmark_Monthly], 
        [Extent1].[Security_Weight_Benchmark_MonthToDate] AS [Security_Weight_Benchmark_MonthToDate], 
        [Extent1].[Security_Weight_Benchmark_Quarterly] AS [Security_Weight_Benchmark_Quarterly], 
        [Extent1].[Total_Return_Security_Price_Monthly] AS [Total_Return_Security_Price_Monthly], 
        [Extent1].[Total_Return_Security_Price_MonthToDate] AS [Total_Return_Security_Price_MonthToDate], 
        [Extent1].[Total_Return_Security_Price_Quarterly] AS [Total_Return_Security_Price_Quarterly], 
        [Extent1].[TW_Return_Portfolio_Monthly] AS [TW_Return_Portfolio_Monthly], 
        [Extent1].[TW_Return_Portfolio_MonthToDate] AS [TW_Return_Portfolio_MonthToDate], 
        [Extent1].[TW_Return_Portfolio_Quarterly] AS [TW_Return_Portfolio_Quarterly], 
        [Extent1].[Record_Date] AS [Record_Date], 
        [Extent1].[Session_ID] AS [Session_ID], 
        [Extent1].[Hist_Last_Update_Date] AS [Hist_Last_Update_Date], 
        [Extent1].[Hist_Last_Update_User] AS [Hist_Last_Update_User], 
        [Extent1].[Benchmark_Price_Performance_Monthly] AS [Benchmark_Price_Performance_Monthly], 
        [Extent1].[Benchmark_Price_Performance_MonthToDate] AS [Benchmark_Price_Performance_MonthToDate], 
        [Extent1].[Benchmark_Price_Performance_Quarterly] AS [Benchmark_Price_Performance_Quarterly], 
        [Extent2].[Security_ID] AS [Security_ID1], 
        [Extent2].[Entity_ID] AS [Entity_ID1], 
        [Extent2].[Security_Name] AS [Security_Name], 
        [Extent2].[Short_Name] AS [Short_Name], 
        [Extent2].[Primary_Exch] AS [Primary_Exch], 
        [Extent2].[Secondary_Exch] AS [Secondary_Exch], 
        [Extent2].[Country_Of_Domicile] AS [Country_Of_Domicile], 
        [Extent2].[Country_Of_Risk] AS [Country_Of_Risk], 
        [Extent2].[Security_Type_Code] AS [Security_Type_Code], 
        [Extent2].[Price_Multiplier] AS [Price_Multiplier], 
        [Extent2].[Income_Frequency] AS [Income_Frequency], 
        [Extent2].[Issuer_Code] AS [Issuer_Code], 
        [Extent2].[Ultimate_Issuer_Code] AS [Ultimate_Issuer_Code], 
        [Extent2].[Asset_Currency] AS [Asset_Currency], 
        [Extent2].[Min_Lot_Size] AS [Min_Lot_Size], 
        [Extent2].[Decimal_Precision] AS [Decimal_Precision], 
        [Extent2].[AvePrice_Rounding] AS [AvePrice_Rounding], 
        [Extent2].[Issue_Date] AS [Issue_Date], 
        [Extent2].[Maturity_Date] AS [Maturity_Date], 
        [Extent2].[Coupon_Rate] AS [Coupon_Rate], 
        [Extent2].[Price_Exchange] AS [Price_Exchange], 
        [Extent2].[Trade_Currency] AS [Trade_Currency], 
        [Extent2].[Price_Curr] AS [Price_Curr], 
        [Extent2].[Currency_Pair_Code] AS [Currency_Pair_Code], 
        [Extent2].[Share_Class] AS [Share_Class], 
        [Extent2].[Current_Market_Price] AS [Current_Market_Price], 
        [Extent2].[Index_Type] AS [Index_Type], 
        [Extent2].[Clean_Price_Formula] AS [Clean_Price_Formula], 
        [Extent2].[Accrued_Income_Price_Formula] AS [Accrued_Income_Price_Formula], 
        [Extent2].[Odd_First_Coupon_Date] AS [Odd_First_Coupon_Date], 
        [Extent2].[Odd_Last_Coupon_Date] AS [Odd_Last_Coupon_Date], 
        [Extent2].[Coupon_Anniversary_Indicator] AS [Coupon_Anniversary_Indicator], 
        [Extent2].[Track_EOM_Flag] AS [Track_EOM_Flag], 
        [Extent2].[Next_Coupon_Date] AS [Next_Coupon_Date], 
        [Extent2].[Previous_Coupon_Date] AS [Previous_Coupon_Date], 
        [Extent2].[Payment_Frequency] AS [Payment_Frequency], 
        [Extent2].[Coupon_BusDay_Adjustment] AS [Coupon_BusDay_Adjustment], 
        [Extent2].[Next_Ex_Div_Date] AS [Next_Ex_Div_Date], 
        [Extent2].[Ex_Div_BusDay_Adjustment] AS [Ex_Div_BusDay_Adjustment], 
        [Extent2].[Ex_Div_Period] AS [Ex_Div_Period], 
        [Extent2].[Ticker] AS [Ticker], 
        [Extent2].[Inet_ID] AS [Inet_ID], 
        [Extent2].[Bloomberg_ID] AS [Bloomberg_ID], 
        [Extent2].[External_Sec_ID] AS [External_Sec_ID], 
        [Extent2].[Reuters_ID] AS [Reuters_ID], 
        [Extent2].[ISIN] AS [ISIN], 
        [Extent2].[Call_Account_Flag] AS [Call_Account_Flag], 
        [Extent2].[System_Locked] AS [System_Locked], 
        [Extent2].[Last_Update_User] AS [Last_Update_User1], 
        [Extent2].[Last_Update_Date] AS [Last_Update_Date1], 
        [Extent2].[Security_Status] AS [Security_Status], 
        [Extent2].[Benchmark_Portfolio] AS [Benchmark_Portfolio], 
        [Extent2].[Active_flag] AS [Active_flag], 
        [Extent2].[Dividend_FX_Security_ID] AS [Dividend_FX_Security_ID]
        FROM  [dbo].[Security_Attribution_History] AS [Extent1]
        INNER JOIN [dbo].[Security_Detail] AS [Extent2] ON [Extent1].[Security_ID] = [Extent2].[Security_ID]
        WHERE ([Extent1].[Security_ID] = @p__linq__0) AND ([Extent1].[Portfolio_Code] = @p__linq__1)
    )  AS [Project1]
    ORDER BY [Project1].[Record_Date] DESC
2018-04-07 18:20:02.9879|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: IF db_id(N'MetopeAzureDb') IS NOT NULL SELECT 1 ELSE SELECT Count(*) FROM sys.databases WHERE [name]=N'MetopeAzureDb'
2018-04-07 18:20:03.0050|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: IF db_id(N'MetopeAzureDb') IS NOT NULL SELECT 1 ELSE SELECT Count(*) FROM sys.databases WHERE [name]=N'MetopeAzureDb'
2018-04-07 18:20:03.0280|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: IF db_id(N'MetopeAzureDb') IS NOT NULL SELECT 1 ELSE SELECT Count(*) FROM sys.databases WHERE [name]=N'MetopeAzureDb'
2018-04-07 18:20:03.0510|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: IF db_id(N'MetopeAzureDb') IS NOT NULL SELECT 1 ELSE SELECT Count(*) FROM sys.databases WHERE [name]=N'MetopeAzureDb'
2018-04-07 18:21:24.7068|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: IF db_id(N'MetopeAzureDb') IS NOT NULL SELECT 1 ELSE SELECT Count(*) FROM sys.databases WHERE [name]=N'MetopeAzureDb'
2018-04-07 18:21:24.8374|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: IF db_id(N'MetopeAzureDb') IS NOT NULL SELECT 1 ELSE SELECT Count(*) FROM sys.databases WHERE [name]=N'MetopeAzureDb'
2018-04-07 18:21:24.9230|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: SELECT 
    [GroupBy1].[A1] AS [C1]
    FROM ( SELECT 
        COUNT(1) AS [A1]
        FROM [dbo].[Portfolio] AS [Extent1]
        WHERE ([Extent1].[Entity_ID] = @p__linq__0) AND ((@p__linq__1 IS NULL) OR ([Extent1].[Portfolio_Name] LIKE @p__linq__2 ESCAPE '~'))
    )  AS [GroupBy1]
2018-04-07 18:21:24.9595|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: SELECT 
    [GroupBy1].[A1] AS [C1]
    FROM ( SELECT 
        COUNT(1) AS [A1]
        FROM [dbo].[Portfolio] AS [Extent1]
        WHERE ([Extent1].[Entity_ID] = @p__linq__0) AND ((@p__linq__1 IS NULL) OR ([Extent1].[Portfolio_Name] LIKE @p__linq__2 ESCAPE '~'))
    )  AS [GroupBy1]
2018-04-07 18:21:24.9860|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: SELECT 
    [Project1].[C1] AS [C1], 
    [Project1].[Entity_ID] AS [Entity_ID], 
    [Project1].[Portfolio_Code] AS [Portfolio_Code], 
    [Project1].[Portfolio_Name] AS [Portfolio_Name], 
    [Project1].[Manager] AS [Manager], 
    [Project1].[Portfolio_Type] AS [Portfolio_Type], 
    [Project1].[Portfolio_Base_Currency] AS [Portfolio_Base_Currency], 
    [Project1].[PortfolIo_Domicile] AS [PortfolIo_Domicile], 
    [Project1].[Portfolio_Report_Currency] AS [Portfolio_Report_Currency], 
    [Project1].[Inception_Date] AS [Inception_Date], 
    [Project1].[Financial_Year_End] AS [Financial_Year_End], 
    [Project1].[Custodian_Code] AS [Custodian_Code], 
    [Project1].[Active_Flag] AS [Active_Flag], 
    [Project1].[System_Locked] AS [System_Locked], 
    [Project1].[Portfolio_Status] AS [Portfolio_Status], 
    [Project1].[Entity_ID1] AS [Entity_ID1], 
    [Project1].[Entity_Code] AS [Entity_Code], 
    [Project1].[Entity_Name] AS [Entity_Name], 
    [Project1].[Import_Folder] AS [Import_Folder], 
    [Project1].[Export_Folder] AS [Export_Folder], 
    [Project1].[Entity_ID2] AS [Entity_ID2], 
    [Project1].[User_Code] AS [User_Code], 
    [Project1].[User_Name] AS [User_Name], 
    [Project1].[User_Initial] AS [User_Initial], 
    [Project1].[Mobile_Number] AS [Mobile_Number], 
    [Project1].[Email_Address] AS [Email_Address], 
    [Project1].[Active_Indicator] AS [Active_Indicator], 
    [Project1].[Export_Folder1] AS [Export_Folder1], 
    [Project1].[User_Type] AS [User_Type], 
    [Project1].[Password] AS [Password], 
    [Project1].[Password_Expire_Date] AS [Password_Expire_Date], 
    [Project1].[Lock_Indicator] AS [Lock_Indicator], 
    [Project1].[Login_Fail_Count] AS [Login_Fail_Count], 
    [Project1].[Login_Fail_Time] AS [Login_Fail_Time], 
    [Project1].[Last_Login_Time] AS [Last_Login_Time], 
    [Project1].[System_Locked1] AS [System_Locked1]
    FROM ( SELECT 
        [Extent1].[Entity_ID] AS [Entity_ID], 
        [Extent1].[Portfolio_Code] AS [Portfolio_Code], 
        [Extent1].[Portfolio_Name] AS [Portfolio_Name], 
        [Extent1].[Manager] AS [Manager], 
        [Extent1].[Portfolio_Type] AS [Portfolio_Type], 
        [Extent1].[Portfolio_Base_Currency] AS [Portfolio_Base_Currency], 
        [Extent1].[PortfolIo_Domicile] AS [PortfolIo_Domicile], 
        [Extent1].[Portfolio_Report_Currency] AS [Portfolio_Report_Currency], 
        [Extent1].[Inception_Date] AS [Inception_Date], 
        [Extent1].[Financial_Year_End] AS [Financial_Year_End], 
        [Extent1].[Custodian_Code] AS [Custodian_Code], 
        [Extent1].[Active_Flag] AS [Active_Flag], 
        [Extent1].[System_Locked] AS [System_Locked], 
        [Extent1].[Portfolio_Status] AS [Portfolio_Status], 
        [Extent2].[Entity_ID] AS [Entity_ID1], 
        [Extent2].[Entity_Code] AS [Entity_Code], 
        [Extent2].[Entity_Name] AS [Entity_Name], 
        [Extent2].[Import_Folder] AS [Import_Folder], 
        [Extent2].[Export_Folder] AS [Export_Folder], 
        [Extent3].[Entity_ID] AS [Entity_ID2], 
        [Extent3].[User_Code] AS [User_Code], 
        [Extent3].[User_Name] AS [User_Name], 
        [Extent3].[User_Initial] AS [User_Initial], 
        [Extent3].[Mobile_Number] AS [Mobile_Number], 
        [Extent3].[Email_Address] AS [Email_Address], 
        [Extent3].[Active_Indicator] AS [Active_Indicator], 
        [Extent3].[Export_Folder] AS [Export_Folder1], 
        [Extent3].[User_Type] AS [User_Type], 
        [Extent3].[Password] AS [Password], 
        [Extent3].[Password_Expire_Date] AS [Password_Expire_Date], 
        [Extent3].[Lock_Indicator] AS [Lock_Indicator], 
        [Extent3].[Login_Fail_Count] AS [Login_Fail_Count], 
        [Extent3].[Login_Fail_Time] AS [Login_Fail_Time], 
        [Extent3].[Last_Login_Time] AS [Last_Login_Time], 
        [Extent3].[System_Locked] AS [System_Locked1], 
        1 AS [C1]
        FROM   [dbo].[Portfolio] AS [Extent1]
        INNER JOIN [dbo].[Entity] AS [Extent2] ON [Extent1].[Entity_ID] = [Extent2].[Entity_ID]
        INNER JOIN [dbo].[User] AS [Extent3] ON ([Extent1].[Manager] = [Extent3].[User_Code]) AND ([Extent1].[Entity_ID] = [Extent3].[Entity_ID])
        WHERE ([Extent1].[Entity_ID] = @p__linq__0) AND ((@p__linq__1 IS NULL) OR ([Extent1].[Portfolio_Name] LIKE @p__linq__2 ESCAPE '~'))
    )  AS [Project1]
    ORDER BY [Project1].[Portfolio_Name] ASC
    OFFSET 0 ROWS FETCH NEXT 10 ROWS ONLY 
2018-04-07 18:21:25.0506|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: SELECT 
    [Project1].[C1] AS [C1], 
    [Project1].[Entity_ID] AS [Entity_ID], 
    [Project1].[Portfolio_Code] AS [Portfolio_Code], 
    [Project1].[Portfolio_Name] AS [Portfolio_Name], 
    [Project1].[Manager] AS [Manager], 
    [Project1].[Portfolio_Type] AS [Portfolio_Type], 
    [Project1].[Portfolio_Base_Currency] AS [Portfolio_Base_Currency], 
    [Project1].[PortfolIo_Domicile] AS [PortfolIo_Domicile], 
    [Project1].[Portfolio_Report_Currency] AS [Portfolio_Report_Currency], 
    [Project1].[Inception_Date] AS [Inception_Date], 
    [Project1].[Financial_Year_End] AS [Financial_Year_End], 
    [Project1].[Custodian_Code] AS [Custodian_Code], 
    [Project1].[Active_Flag] AS [Active_Flag], 
    [Project1].[System_Locked] AS [System_Locked], 
    [Project1].[Portfolio_Status] AS [Portfolio_Status], 
    [Project1].[Entity_ID1] AS [Entity_ID1], 
    [Project1].[Entity_Code] AS [Entity_Code], 
    [Project1].[Entity_Name] AS [Entity_Name], 
    [Project1].[Import_Folder] AS [Import_Folder], 
    [Project1].[Export_Folder] AS [Export_Folder], 
    [Project1].[Entity_ID2] AS [Entity_ID2], 
    [Project1].[User_Code] AS [User_Code], 
    [Project1].[User_Name] AS [User_Name], 
    [Project1].[User_Initial] AS [User_Initial], 
    [Project1].[Mobile_Number] AS [Mobile_Number], 
    [Project1].[Email_Address] AS [Email_Address], 
    [Project1].[Active_Indicator] AS [Active_Indicator], 
    [Project1].[Export_Folder1] AS [Export_Folder1], 
    [Project1].[User_Type] AS [User_Type], 
    [Project1].[Password] AS [Password], 
    [Project1].[Password_Expire_Date] AS [Password_Expire_Date], 
    [Project1].[Lock_Indicator] AS [Lock_Indicator], 
    [Project1].[Login_Fail_Count] AS [Login_Fail_Count], 
    [Project1].[Login_Fail_Time] AS [Login_Fail_Time], 
    [Project1].[Last_Login_Time] AS [Last_Login_Time], 
    [Project1].[System_Locked1] AS [System_Locked1]
    FROM ( SELECT 
        [Extent1].[Entity_ID] AS [Entity_ID], 
        [Extent1].[Portfolio_Code] AS [Portfolio_Code], 
        [Extent1].[Portfolio_Name] AS [Portfolio_Name], 
        [Extent1].[Manager] AS [Manager], 
        [Extent1].[Portfolio_Type] AS [Portfolio_Type], 
        [Extent1].[Portfolio_Base_Currency] AS [Portfolio_Base_Currency], 
        [Extent1].[PortfolIo_Domicile] AS [PortfolIo_Domicile], 
        [Extent1].[Portfolio_Report_Currency] AS [Portfolio_Report_Currency], 
        [Extent1].[Inception_Date] AS [Inception_Date], 
        [Extent1].[Financial_Year_End] AS [Financial_Year_End], 
        [Extent1].[Custodian_Code] AS [Custodian_Code], 
        [Extent1].[Active_Flag] AS [Active_Flag], 
        [Extent1].[System_Locked] AS [System_Locked], 
        [Extent1].[Portfolio_Status] AS [Portfolio_Status], 
        [Extent2].[Entity_ID] AS [Entity_ID1], 
        [Extent2].[Entity_Code] AS [Entity_Code], 
        [Extent2].[Entity_Name] AS [Entity_Name], 
        [Extent2].[Import_Folder] AS [Import_Folder], 
        [Extent2].[Export_Folder] AS [Export_Folder], 
        [Extent3].[Entity_ID] AS [Entity_ID2], 
        [Extent3].[User_Code] AS [User_Code], 
        [Extent3].[User_Name] AS [User_Name], 
        [Extent3].[User_Initial] AS [User_Initial], 
        [Extent3].[Mobile_Number] AS [Mobile_Number], 
        [Extent3].[Email_Address] AS [Email_Address], 
        [Extent3].[Active_Indicator] AS [Active_Indicator], 
        [Extent3].[Export_Folder] AS [Export_Folder1], 
        [Extent3].[User_Type] AS [User_Type], 
        [Extent3].[Password] AS [Password], 
        [Extent3].[Password_Expire_Date] AS [Password_Expire_Date], 
        [Extent3].[Lock_Indicator] AS [Lock_Indicator], 
        [Extent3].[Login_Fail_Count] AS [Login_Fail_Count], 
        [Extent3].[Login_Fail_Time] AS [Login_Fail_Time], 
        [Extent3].[Last_Login_Time] AS [Last_Login_Time], 
        [Extent3].[System_Locked] AS [System_Locked1], 
        1 AS [C1]
        FROM   [dbo].[Portfolio] AS [Extent1]
        INNER JOIN [dbo].[Entity] AS [Extent2] ON [Extent1].[Entity_ID] = [Extent2].[Entity_ID]
        INNER JOIN [dbo].[User] AS [Extent3] ON ([Extent1].[Manager] = [Extent3].[User_Code]) AND ([Extent1].[Entity_ID] = [Extent3].[Entity_ID])
        WHERE ([Extent1].[Entity_ID] = @p__linq__0) AND ((@p__linq__1 IS NULL) OR ([Extent1].[Portfolio_Name] LIKE @p__linq__2 ESCAPE '~'))
    )  AS [Project1]
    ORDER BY [Project1].[Portfolio_Name] ASC
    OFFSET 0 ROWS FETCH NEXT 10 ROWS ONLY 
2018-04-07 18:21:25.1381|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: IF db_id(N'MetopeAzureDb') IS NOT NULL SELECT 1 ELSE SELECT Count(*) FROM sys.databases WHERE [name]=N'MetopeAzureDb'
2018-04-07 18:21:25.1592|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: IF db_id(N'MetopeAzureDb') IS NOT NULL SELECT 1 ELSE SELECT Count(*) FROM sys.databases WHERE [name]=N'MetopeAzureDb'
2018-04-07 18:21:25.1842|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: IF db_id(N'MetopeAzureDb') IS NOT NULL SELECT 1 ELSE SELECT Count(*) FROM sys.databases WHERE [name]=N'MetopeAzureDb'
2018-04-07 18:21:25.2057|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: IF db_id(N'MetopeAzureDb') IS NOT NULL SELECT 1 ELSE SELECT Count(*) FROM sys.databases WHERE [name]=N'MetopeAzureDb'
2018-04-07 18:21:30.4924|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: IF db_id(N'MetopeAzureDb') IS NOT NULL SELECT 1 ELSE SELECT Count(*) FROM sys.databases WHERE [name]=N'MetopeAzureDb'
2018-04-07 18:21:30.5924|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: IF db_id(N'MetopeAzureDb') IS NOT NULL SELECT 1 ELSE SELECT Count(*) FROM sys.databases WHERE [name]=N'MetopeAzureDb'
2018-04-07 18:21:30.7350|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: SELECT 
    [Project1].[C1] AS [C1], 
    [Project1].[Entity_ID] AS [Entity_ID], 
    [Project1].[Security_ID] AS [Security_ID], 
    [Project1].[Long_Short_Indicator] AS [Long_Short_Indicator], 
    [Project1].[Portfolio_Code] AS [Portfolio_Code], 
    [Project1].[Position_Date] AS [Position_Date], 
    [Project1].[Dealt_Quantity] AS [Dealt_Quantity], 
    [Project1].[Dealt_AllIn_Mkt_Value_BaseCur] AS [Dealt_AllIn_Mkt_Value_BaseCur], 
    [Project1].[Ticker] AS [Ticker]
    FROM ( SELECT 
        [Extent1].[Entity_ID] AS [Entity_ID], 
        [Extent1].[Portfolio_Code] AS [Portfolio_Code], 
        [Extent1].[Security_ID] AS [Security_ID], 
        [Extent1].[Long_Short_Indicator] AS [Long_Short_Indicator], 
        [Extent1].[Position_Date] AS [Position_Date], 
        [Extent1].[Dealt_Quantity] AS [Dealt_Quantity], 
        [Extent1].[Dealt_AllIn_Mkt_Value_BaseCur] AS [Dealt_AllIn_Mkt_Value_BaseCur], 
        [Extent2].[Ticker] AS [Ticker], 
        1 AS [C1]
        FROM  [dbo].[Position_SOD] AS [Extent1]
        INNER JOIN [dbo].[Security_Detail] AS [Extent2] ON [Extent1].[Security_ID] = [Extent2].[Security_ID]
        WHERE ([Extent1].[Portfolio_Code] = @p__linq__0) AND ([Extent1].[Entity_ID] = @p__linq__1)
    )  AS [Project1]
    ORDER BY [Project1].[Position_Date] DESC, [Project1].[Ticker] ASC
2018-04-07 18:21:30.7716|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: SELECT 
    [Project1].[C1] AS [C1], 
    [Project1].[Entity_ID] AS [Entity_ID], 
    [Project1].[Security_ID] AS [Security_ID], 
    [Project1].[Long_Short_Indicator] AS [Long_Short_Indicator], 
    [Project1].[Portfolio_Code] AS [Portfolio_Code], 
    [Project1].[Position_Date] AS [Position_Date], 
    [Project1].[Dealt_Quantity] AS [Dealt_Quantity], 
    [Project1].[Dealt_AllIn_Mkt_Value_BaseCur] AS [Dealt_AllIn_Mkt_Value_BaseCur], 
    [Project1].[Ticker] AS [Ticker]
    FROM ( SELECT 
        [Extent1].[Entity_ID] AS [Entity_ID], 
        [Extent1].[Portfolio_Code] AS [Portfolio_Code], 
        [Extent1].[Security_ID] AS [Security_ID], 
        [Extent1].[Long_Short_Indicator] AS [Long_Short_Indicator], 
        [Extent1].[Position_Date] AS [Position_Date], 
        [Extent1].[Dealt_Quantity] AS [Dealt_Quantity], 
        [Extent1].[Dealt_AllIn_Mkt_Value_BaseCur] AS [Dealt_AllIn_Mkt_Value_BaseCur], 
        [Extent2].[Ticker] AS [Ticker], 
        1 AS [C1]
        FROM  [dbo].[Position_SOD] AS [Extent1]
        INNER JOIN [dbo].[Security_Detail] AS [Extent2] ON [Extent1].[Security_ID] = [Extent2].[Security_ID]
        WHERE ([Extent1].[Portfolio_Code] = @p__linq__0) AND ([Extent1].[Entity_ID] = @p__linq__1)
    )  AS [Project1]
    ORDER BY [Project1].[Position_Date] DESC, [Project1].[Ticker] ASC
2018-04-07 18:21:34.6533|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: IF db_id(N'MetopeAzureDb') IS NOT NULL SELECT 1 ELSE SELECT Count(*) FROM sys.databases WHERE [name]=N'MetopeAzureDb'
2018-04-07 18:21:34.7654|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: IF db_id(N'MetopeAzureDb') IS NOT NULL SELECT 1 ELSE SELECT Count(*) FROM sys.databases WHERE [name]=N'MetopeAzureDb'
2018-04-07 18:21:34.8610|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: IF db_id(N'MetopeAzureDb') IS NOT NULL SELECT 1 ELSE SELECT Count(*) FROM sys.databases WHERE [name]=N'MetopeAzureDb'
2018-04-07 18:21:34.9045|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: IF db_id(N'MetopeAzureDb') IS NOT NULL SELECT 1 ELSE SELECT Count(*) FROM sys.databases WHERE [name]=N'MetopeAzureDb'
2018-04-07 18:21:59.0565|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: SELECT 
    [Project1].[Entity_ID] AS [Entity_ID], 
    [Project1].[Portfolio_Code] AS [Portfolio_Code], 
    [Project1].[Portfolio_Name] AS [Portfolio_Name], 
    [Project1].[Manager] AS [Manager], 
    [Project1].[Portfolio_Type] AS [Portfolio_Type], 
    [Project1].[Portfolio_Base_Currency] AS [Portfolio_Base_Currency], 
    [Project1].[PortfolIo_Domicile] AS [PortfolIo_Domicile], 
    [Project1].[Portfolio_Report_Currency] AS [Portfolio_Report_Currency], 
    [Project1].[Inception_Date] AS [Inception_Date], 
    [Project1].[Financial_Year_End] AS [Financial_Year_End], 
    [Project1].[Custodian_Code] AS [Custodian_Code], 
    [Project1].[Active_Flag] AS [Active_Flag], 
    [Project1].[System_Locked] AS [System_Locked], 
    [Project1].[Portfolio_Status] AS [Portfolio_Status]
    FROM ( SELECT 
        [Extent1].[Entity_ID] AS [Entity_ID], 
        [Extent1].[Portfolio_Code] AS [Portfolio_Code], 
        [Extent1].[Portfolio_Name] AS [Portfolio_Name], 
        [Extent1].[Manager] AS [Manager], 
        [Extent1].[Portfolio_Type] AS [Portfolio_Type], 
        [Extent1].[Portfolio_Base_Currency] AS [Portfolio_Base_Currency], 
        [Extent1].[PortfolIo_Domicile] AS [PortfolIo_Domicile], 
        [Extent1].[Portfolio_Report_Currency] AS [Portfolio_Report_Currency], 
        [Extent1].[Inception_Date] AS [Inception_Date], 
        [Extent1].[Financial_Year_End] AS [Financial_Year_End], 
        [Extent1].[Custodian_Code] AS [Custodian_Code], 
        [Extent1].[Active_Flag] AS [Active_Flag], 
        [Extent1].[System_Locked] AS [System_Locked], 
        [Extent1].[Portfolio_Status] AS [Portfolio_Status]
        FROM [dbo].[Portfolio] AS [Extent1]
        WHERE ([Extent1].[Entity_ID] = @p__linq__0) AND ([Extent1].[Portfolio_Status] = @p__linq__1)
    )  AS [Project1]
    ORDER BY [Project1].[Portfolio_Name] ASC
2018-04-07 18:21:59.1010|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: SELECT 
    [Project1].[Entity_ID] AS [Entity_ID], 
    [Project1].[Portfolio_Code] AS [Portfolio_Code], 
    [Project1].[Portfolio_Name] AS [Portfolio_Name], 
    [Project1].[Manager] AS [Manager], 
    [Project1].[Portfolio_Type] AS [Portfolio_Type], 
    [Project1].[Portfolio_Base_Currency] AS [Portfolio_Base_Currency], 
    [Project1].[PortfolIo_Domicile] AS [PortfolIo_Domicile], 
    [Project1].[Portfolio_Report_Currency] AS [Portfolio_Report_Currency], 
    [Project1].[Inception_Date] AS [Inception_Date], 
    [Project1].[Financial_Year_End] AS [Financial_Year_End], 
    [Project1].[Custodian_Code] AS [Custodian_Code], 
    [Project1].[Active_Flag] AS [Active_Flag], 
    [Project1].[System_Locked] AS [System_Locked], 
    [Project1].[Portfolio_Status] AS [Portfolio_Status]
    FROM ( SELECT 
        [Extent1].[Entity_ID] AS [Entity_ID], 
        [Extent1].[Portfolio_Code] AS [Portfolio_Code], 
        [Extent1].[Portfolio_Name] AS [Portfolio_Name], 
        [Extent1].[Manager] AS [Manager], 
        [Extent1].[Portfolio_Type] AS [Portfolio_Type], 
        [Extent1].[Portfolio_Base_Currency] AS [Portfolio_Base_Currency], 
        [Extent1].[PortfolIo_Domicile] AS [PortfolIo_Domicile], 
        [Extent1].[Portfolio_Report_Currency] AS [Portfolio_Report_Currency], 
        [Extent1].[Inception_Date] AS [Inception_Date], 
        [Extent1].[Financial_Year_End] AS [Financial_Year_End], 
        [Extent1].[Custodian_Code] AS [Custodian_Code], 
        [Extent1].[Active_Flag] AS [Active_Flag], 
        [Extent1].[System_Locked] AS [System_Locked], 
        [Extent1].[Portfolio_Status] AS [Portfolio_Status]
        FROM [dbo].[Portfolio] AS [Extent1]
        WHERE ([Extent1].[Entity_ID] = @p__linq__0) AND ([Extent1].[Portfolio_Status] = @p__linq__1)
    )  AS [Project1]
    ORDER BY [Project1].[Portfolio_Name] ASC
2018-04-07 18:21:59.2832|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: SELECT 
    [Extent1].[Security_ID] AS [Security_ID], 
    [Extent1].[Entity_ID] AS [Entity_ID], 
    [Extent1].[Security_Name] AS [Security_Name], 
    [Extent1].[Short_Name] AS [Short_Name], 
    [Extent1].[Primary_Exch] AS [Primary_Exch], 
    [Extent1].[Secondary_Exch] AS [Secondary_Exch], 
    [Extent1].[Country_Of_Domicile] AS [Country_Of_Domicile], 
    [Extent1].[Country_Of_Risk] AS [Country_Of_Risk], 
    [Extent1].[Security_Type_Code] AS [Security_Type_Code], 
    [Extent1].[Price_Multiplier] AS [Price_Multiplier], 
    [Extent1].[Income_Frequency] AS [Income_Frequency], 
    [Extent1].[Issuer_Code] AS [Issuer_Code], 
    [Extent1].[Ultimate_Issuer_Code] AS [Ultimate_Issuer_Code], 
    [Extent1].[Asset_Currency] AS [Asset_Currency], 
    [Extent1].[Min_Lot_Size] AS [Min_Lot_Size], 
    [Extent1].[Decimal_Precision] AS [Decimal_Precision], 
    [Extent1].[AvePrice_Rounding] AS [AvePrice_Rounding], 
    [Extent1].[Issue_Date] AS [Issue_Date], 
    [Extent1].[Maturity_Date] AS [Maturity_Date], 
    [Extent1].[Coupon_Rate] AS [Coupon_Rate], 
    [Extent1].[Price_Exchange] AS [Price_Exchange], 
    [Extent1].[Trade_Currency] AS [Trade_Currency], 
    [Extent1].[Price_Curr] AS [Price_Curr], 
    [Extent1].[Currency_Pair_Code] AS [Currency_Pair_Code], 
    [Extent1].[Share_Class] AS [Share_Class], 
    [Extent1].[Current_Market_Price] AS [Current_Market_Price], 
    [Extent1].[Index_Type] AS [Index_Type], 
    [Extent1].[Clean_Price_Formula] AS [Clean_Price_Formula], 
    [Extent1].[Accrued_Income_Price_Formula] AS [Accrued_Income_Price_Formula], 
    [Extent1].[Odd_First_Coupon_Date] AS [Odd_First_Coupon_Date], 
    [Extent1].[Odd_Last_Coupon_Date] AS [Odd_Last_Coupon_Date], 
    [Extent1].[Coupon_Anniversary_Indicator] AS [Coupon_Anniversary_Indicator], 
    [Extent1].[Track_EOM_Flag] AS [Track_EOM_Flag], 
    [Extent1].[Next_Coupon_Date] AS [Next_Coupon_Date], 
    [Extent1].[Previous_Coupon_Date] AS [Previous_Coupon_Date], 
    [Extent1].[Payment_Frequency] AS [Payment_Frequency], 
    [Extent1].[Coupon_BusDay_Adjustment] AS [Coupon_BusDay_Adjustment], 
    [Extent1].[Next_Ex_Div_Date] AS [Next_Ex_Div_Date], 
    [Extent1].[Ex_Div_BusDay_Adjustment] AS [Ex_Div_BusDay_Adjustment], 
    [Extent1].[Ex_Div_Period] AS [Ex_Div_Period], 
    [Extent1].[Ticker] AS [Ticker], 
    [Extent1].[Inet_ID] AS [Inet_ID], 
    [Extent1].[Bloomberg_ID] AS [Bloomberg_ID], 
    [Extent1].[External_Sec_ID] AS [External_Sec_ID], 
    [Extent1].[Reuters_ID] AS [Reuters_ID], 
    [Extent1].[ISIN] AS [ISIN], 
    [Extent1].[Call_Account_Flag] AS [Call_Account_Flag], 
    [Extent1].[System_Locked] AS [System_Locked], 
    [Extent1].[Last_Update_User] AS [Last_Update_User], 
    [Extent1].[Last_Update_Date] AS [Last_Update_Date], 
    [Extent1].[Security_Status] AS [Security_Status], 
    [Extent1].[Benchmark_Portfolio] AS [Benchmark_Portfolio], 
    [Extent1].[Active_flag] AS [Active_flag], 
    [Extent1].[Dividend_FX_Security_ID] AS [Dividend_FX_Security_ID]
    FROM [dbo].[Security_Detail] AS [Extent1]
2018-04-07 18:21:59.3197|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: SELECT 
    [Extent1].[Security_ID] AS [Security_ID], 
    [Extent1].[Entity_ID] AS [Entity_ID], 
    [Extent1].[Security_Name] AS [Security_Name], 
    [Extent1].[Short_Name] AS [Short_Name], 
    [Extent1].[Primary_Exch] AS [Primary_Exch], 
    [Extent1].[Secondary_Exch] AS [Secondary_Exch], 
    [Extent1].[Country_Of_Domicile] AS [Country_Of_Domicile], 
    [Extent1].[Country_Of_Risk] AS [Country_Of_Risk], 
    [Extent1].[Security_Type_Code] AS [Security_Type_Code], 
    [Extent1].[Price_Multiplier] AS [Price_Multiplier], 
    [Extent1].[Income_Frequency] AS [Income_Frequency], 
    [Extent1].[Issuer_Code] AS [Issuer_Code], 
    [Extent1].[Ultimate_Issuer_Code] AS [Ultimate_Issuer_Code], 
    [Extent1].[Asset_Currency] AS [Asset_Currency], 
    [Extent1].[Min_Lot_Size] AS [Min_Lot_Size], 
    [Extent1].[Decimal_Precision] AS [Decimal_Precision], 
    [Extent1].[AvePrice_Rounding] AS [AvePrice_Rounding], 
    [Extent1].[Issue_Date] AS [Issue_Date], 
    [Extent1].[Maturity_Date] AS [Maturity_Date], 
    [Extent1].[Coupon_Rate] AS [Coupon_Rate], 
    [Extent1].[Price_Exchange] AS [Price_Exchange], 
    [Extent1].[Trade_Currency] AS [Trade_Currency], 
    [Extent1].[Price_Curr] AS [Price_Curr], 
    [Extent1].[Currency_Pair_Code] AS [Currency_Pair_Code], 
    [Extent1].[Share_Class] AS [Share_Class], 
    [Extent1].[Current_Market_Price] AS [Current_Market_Price], 
    [Extent1].[Index_Type] AS [Index_Type], 
    [Extent1].[Clean_Price_Formula] AS [Clean_Price_Formula], 
    [Extent1].[Accrued_Income_Price_Formula] AS [Accrued_Income_Price_Formula], 
    [Extent1].[Odd_First_Coupon_Date] AS [Odd_First_Coupon_Date], 
    [Extent1].[Odd_Last_Coupon_Date] AS [Odd_Last_Coupon_Date], 
    [Extent1].[Coupon_Anniversary_Indicator] AS [Coupon_Anniversary_Indicator], 
    [Extent1].[Track_EOM_Flag] AS [Track_EOM_Flag], 
    [Extent1].[Next_Coupon_Date] AS [Next_Coupon_Date], 
    [Extent1].[Previous_Coupon_Date] AS [Previous_Coupon_Date], 
    [Extent1].[Payment_Frequency] AS [Payment_Frequency], 
    [Extent1].[Coupon_BusDay_Adjustment] AS [Coupon_BusDay_Adjustment], 
    [Extent1].[Next_Ex_Div_Date] AS [Next_Ex_Div_Date], 
    [Extent1].[Ex_Div_BusDay_Adjustment] AS [Ex_Div_BusDay_Adjustment], 
    [Extent1].[Ex_Div_Period] AS [Ex_Div_Period], 
    [Extent1].[Ticker] AS [Ticker], 
    [Extent1].[Inet_ID] AS [Inet_ID], 
    [Extent1].[Bloomberg_ID] AS [Bloomberg_ID], 
    [Extent1].[External_Sec_ID] AS [External_Sec_ID], 
    [Extent1].[Reuters_ID] AS [Reuters_ID], 
    [Extent1].[ISIN] AS [ISIN], 
    [Extent1].[Call_Account_Flag] AS [Call_Account_Flag], 
    [Extent1].[System_Locked] AS [System_Locked], 
    [Extent1].[Last_Update_User] AS [Last_Update_User], 
    [Extent1].[Last_Update_Date] AS [Last_Update_Date], 
    [Extent1].[Security_Status] AS [Security_Status], 
    [Extent1].[Benchmark_Portfolio] AS [Benchmark_Portfolio], 
    [Extent1].[Active_flag] AS [Active_flag], 
    [Extent1].[Dividend_FX_Security_ID] AS [Dividend_FX_Security_ID]
    FROM [dbo].[Security_Detail] AS [Extent1]
2018-04-07 18:21:59.5779|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: IF db_id(N'MetopeAzureDb') IS NOT NULL SELECT 1 ELSE SELECT Count(*) FROM sys.databases WHERE [name]=N'MetopeAzureDb'
2018-04-07 18:21:59.5954|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: IF db_id(N'MetopeAzureDb') IS NOT NULL SELECT 1 ELSE SELECT Count(*) FROM sys.databases WHERE [name]=N'MetopeAzureDb'
2018-04-07 18:21:59.6204|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: IF db_id(N'MetopeAzureDb') IS NOT NULL SELECT 1 ELSE SELECT Count(*) FROM sys.databases WHERE [name]=N'MetopeAzureDb'
2018-04-07 18:21:59.6429|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: IF db_id(N'MetopeAzureDb') IS NOT NULL SELECT 1 ELSE SELECT Count(*) FROM sys.databases WHERE [name]=N'MetopeAzureDb'
2018-04-07 18:27:39.6534|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: SELECT 
    [Project1].[Decimal_Precision] AS [Decimal_Precision], 
    [Project1].[Entity_ID] AS [Entity_ID], 
    [Project1].[Security_ID] AS [Security_ID], 
    [Project1].[Issued_Amount] AS [Issued_Amount], 
    [Project1].[Market_Capitalisation] AS [Market_Capitalisation], 
    [Project1].[Risk_Premium] AS [Risk_Premium], 
    [Project1].[Exit_Price] AS [Exit_Price], 
    [Project1].[Total_Return_ME_1YR] AS [Total_Return_ME_1YR], 
    [Project1].[Total_Return_ME_2YR] AS [Total_Return_ME_2YR], 
    [Project1].[Total_Return_ME_3YR] AS [Total_Return_ME_3YR], 
    [Project1].[Historic_Distribution] AS [Historic_Distribution], 
    [Project1].[Distribution_Growth_Forecast_Yr1] AS [Distribution_Growth_Forecast_Yr1], 
    [Project1].[Distribution_Growth_Forecast_Yr2] AS [Distribution_Growth_Forecast_Yr2], 
    [Project1].[Distribution_Growth_Forecast_Yr3] AS [Distribution_Growth_Forecast_Yr3], 
    [Project1].[Forecast_Distribution_Yr1] AS [Forecast_Distribution_Yr1], 
    [Project1].[Forecast_Distribution_Yr2] AS [Forecast_Distribution_Yr2], 
    [Project1].[Forecast_Distribution_Yr3] AS [Forecast_Distribution_Yr3], 
    [Project1].[Earnings_Growth_Compounded] AS [Earnings_Growth_Compounded], 
    [Project1].[Earnings_Forecast_Yr3] AS [Earnings_Forecast_Yr3], 
    [Project1].[Historic_Dividend_Yield_FYE] AS [Historic_Dividend_Yield_FYE], 
    [Project1].[Forward_Dividend_Yield_FYE] AS [Forward_Dividend_Yield_FYE], 
    [Project1].[Yr3_Forward_Dividend_Yield] AS [Yr3_Forward_Dividend_Yield], 
    [Project1].[Rolling_12M_Forward_Yield] AS [Rolling_12M_Forward_Yield], 
    [Project1].[Historical_Earnings_FYE] AS [Historical_Earnings_FYE], 
    [Project1].[Earnings_Forecast_Yr1] AS [Earnings_Forecast_Yr1], 
    [Project1].[Earnings_Forecast_Yr2] AS [Earnings_Forecast_Yr2], 
    [Project1].[Historic_Dividend_Yield_Relative] AS [Historic_Dividend_Yield_Relative], 
    [Project1].[Rolling_12M_Historic_Distribution_PriceCurr] AS [Rolling_12M_Historic_Distribution_PriceCurr], 
    [Project1].[Short_Term_Market_Rerate] AS [Short_Term_Market_Rerate], 
    [Project1].[Forecast_12M_Total_Return] AS [Forecast_12M_Total_Return], 
    [Project1].[Clean_Price] AS [Clean_Price], 
    [Project1].[Rolling_Dividend_Yield_Historic] AS [Rolling_Dividend_Yield_Historic], 
    [Project1].[Last_Update_Date] AS [Last_Update_Date], 
    [Project1].[Last_Update_User] AS [Last_Update_User], 
    [Project1].[Discount_Security_ID] AS [Discount_Security_ID], 
    [Project1].[Net_Present_Value] AS [Net_Present_Value], 
    [Project1].[Forecast_Rolling_Custom_Income] AS [Forecast_Rolling_Custom_Income], 
    [Project1].[Custom_Period] AS [Custom_Period], 
    [Project1].[Rolling_12M_Historic_Distribution] AS [Rolling_12M_Historic_Distribution], 
    [Project1].[Record_Date] AS [Record_Date], 
    [Project1].[Session_ID] AS [Session_ID], 
    [Project1].[Hist_Last_Update_Date] AS [Hist_Last_Update_Date], 
    [Project1].[Hist_Last_Update_User] AS [Hist_Last_Update_User], 
    [Project1].[Rolling_12M_Forecast_Distribution] AS [Rolling_12M_Forecast_Distribution], 
    [Project1].[Yr2_Forward_Dividend_Yield] AS [Yr2_Forward_Dividend_Yield], 
    [Project1].[Exit_Yield] AS [Exit_Yield], 
    [Project1].[Discount_Rate] AS [Discount_Rate], 
    [Project1].[Distribution_Growth_Compounded] AS [Distribution_Growth_Compounded], 
    [Project1].[Forecast_12MRolling_Income_Accrual] AS [Forecast_12MRolling_Income_Accrual], 
    [Project1].[Rolling_12_to_24M_Forecast_Distribution] AS [Rolling_12_to_24M_Forecast_Distribution], 
    [Project1].[Rolling_24_to_36M_Forecast_Distribution] AS [Rolling_24_to_36M_Forecast_Distribution], 
    [Project1].[Forecast_Yr1_Dividend_Yield_Relative] AS [Forecast_Yr1_Dividend_Yield_Relative], 
    [Project1].[Market_Historic_Yield] AS [Market_Historic_Yield], 
    [Project1].[Market_Forward_Yield] AS [Market_Forward_Yield], 
    [Project1].[Historic_Distribution_PriceCurr] AS [Historic_Distribution_PriceCurr], 
    [Project1].[Forecast_Distribution_Yr1_PriceCurr] AS [Forecast_Distribution_Yr1_PriceCurr], 
    [Project1].[Forecast_Distribution_Yr2_PriceCurr] AS [Forecast_Distribution_Yr2_PriceCurr], 
    [Project1].[Forecast_Distribution_Yr3_PriceCurr] AS [Forecast_Distribution_Yr3_PriceCurr], 
    [Project1].[Rolling_12M_Forecast_Distribution_PriceCurr] AS [Rolling_12M_Forecast_Distribution_PriceCurr], 
    [Project1].[Rolling_12_24M_Forecast_Distribution_PriceCurr] AS [Rolling_12_24M_Forecast_Distribution_PriceCurr], 
    [Project1].[Rolling_24_36M_Forecast_Distribution_PriceCurr] AS [Rolling_24_36M_Forecast_Distribution_PriceCurr], 
    [Project1].[Distribution_Growth_Forecast_Yr4] AS [Distribution_Growth_Forecast_Yr4], 
    [Project1].[Earnings_Forecast_Yr4] AS [Earnings_Forecast_Yr4], 
    [Project1].[Forecast_Distribution_Yr4] AS [Forecast_Distribution_Yr4], 
    [Project1].[Forecast_Distribution_Yr4_PriceCurr] AS [Forecast_Distribution_Yr4_PriceCurr], 
    [Project1].[Security_ID1] AS [Security_ID1], 
    [Project1].[Entity_ID1] AS [Entity_ID1], 
    [Project1].[Security_Name] AS [Security_Name], 
    [Project1].[Short_Name] AS [Short_Name], 
    [Project1].[Primary_Exch] AS [Primary_Exch], 
    [Project1].[Secondary_Exch] AS [Secondary_Exch], 
    [Project1].[Country_Of_Domicile] AS [Country_Of_Domicile], 
    [Project1].[Country_Of_Risk] AS [Country_Of_Risk], 
    [Project1].[Security_Type_Code] AS [Security_Type_Code], 
    [Project1].[Price_Multiplier] AS [Price_Multiplier], 
    [Project1].[Income_Frequency] AS [Income_Frequency], 
    [Project1].[Issuer_Code] AS [Issuer_Code], 
    [Project1].[Ultimate_Issuer_Code] AS [Ultimate_Issuer_Code], 
    [Project1].[Asset_Currency] AS [Asset_Currency], 
    [Project1].[Min_Lot_Size] AS [Min_Lot_Size], 
    [Project1].[AvePrice_Rounding] AS [AvePrice_Rounding], 
    [Project1].[Issue_Date] AS [Issue_Date], 
    [Project1].[Maturity_Date] AS [Maturity_Date], 
    [Project1].[Coupon_Rate] AS [Coupon_Rate], 
    [Project1].[Price_Exchange] AS [Price_Exchange], 
    [Project1].[Trade_Currency] AS [Trade_Currency], 
    [Project1].[Price_Curr] AS [Price_Curr], 
    [Project1].[Currency_Pair_Code] AS [Currency_Pair_Code], 
    [Project1].[Share_Class] AS [Share_Class], 
    [Project1].[Current_Market_Price] AS [Current_Market_Price], 
    [Project1].[Index_Type] AS [Index_Type], 
    [Project1].[Clean_Price_Formula] AS [Clean_Price_Formula], 
    [Project1].[Accrued_Income_Price_Formula] AS [Accrued_Income_Price_Formula], 
    [Project1].[Odd_First_Coupon_Date] AS [Odd_First_Coupon_Date], 
    [Project1].[Odd_Last_Coupon_Date] AS [Odd_Last_Coupon_Date], 
    [Project1].[Coupon_Anniversary_Indicator] AS [Coupon_Anniversary_Indicator], 
    [Project1].[Track_EOM_Flag] AS [Track_EOM_Flag], 
    [Project1].[Next_Coupon_Date] AS [Next_Coupon_Date], 
    [Project1].[Previous_Coupon_Date] AS [Previous_Coupon_Date], 
    [Project1].[Payment_Frequency] AS [Payment_Frequency], 
    [Project1].[Coupon_BusDay_Adjustment] AS [Coupon_BusDay_Adjustment], 
    [Project1].[Next_Ex_Div_Date] AS [Next_Ex_Div_Date], 
    [Project1].[Ex_Div_BusDay_Adjustment] AS [Ex_Div_BusDay_Adjustment], 
    [Project1].[Ex_Div_Period] AS [Ex_Div_Period], 
    [Project1].[Ticker] AS [Ticker], 
    [Project1].[Inet_ID] AS [Inet_ID], 
    [Project1].[Bloomberg_ID] AS [Bloomberg_ID], 
    [Project1].[External_Sec_ID] AS [External_Sec_ID], 
    [Project1].[Reuters_ID] AS [Reuters_ID], 
    [Project1].[ISIN] AS [ISIN], 
    [Project1].[Call_Account_Flag] AS [Call_Account_Flag], 
    [Project1].[System_Locked] AS [System_Locked], 
    [Project1].[Last_Update_User1] AS [Last_Update_User1], 
    [Project1].[Last_Update_Date1] AS [Last_Update_Date1], 
    [Project1].[Security_Status] AS [Security_Status], 
    [Project1].[Benchmark_Portfolio] AS [Benchmark_Portfolio], 
    [Project1].[Active_flag] AS [Active_flag], 
    [Project1].[Dividend_FX_Security_ID] AS [Dividend_FX_Security_ID]
    FROM ( SELECT 
        [Extent1].[Entity_ID] AS [Entity_ID], 
        [Extent1].[Security_ID] AS [Security_ID], 
        [Extent1].[Issued_Amount] AS [Issued_Amount], 
        [Extent1].[Market_Capitalisation] AS [Market_Capitalisation], 
        [Extent1].[Risk_Premium] AS [Risk_Premium], 
        [Extent1].[Exit_Price] AS [Exit_Price], 
        [Extent1].[Total_Return_ME_1YR] AS [Total_Return_ME_1YR], 
        [Extent1].[Total_Return_ME_2YR] AS [Total_Return_ME_2YR], 
        [Extent1].[Total_Return_ME_3YR] AS [Total_Return_ME_3YR], 
        [Extent1].[Historic_Distribution] AS [Historic_Distribution], 
        [Extent1].[Distribution_Growth_Forecast_Yr1] AS [Distribution_Growth_Forecast_Yr1], 
        [Extent1].[Distribution_Growth_Forecast_Yr2] AS [Distribution_Growth_Forecast_Yr2], 
        [Extent1].[Distribution_Growth_Forecast_Yr3] AS [Distribution_Growth_Forecast_Yr3], 
        [Extent1].[Forecast_Distribution_Yr1] AS [Forecast_Distribution_Yr1], 
        [Extent1].[Forecast_Distribution_Yr2] AS [Forecast_Distribution_Yr2], 
        [Extent1].[Forecast_Distribution_Yr3] AS [Forecast_Distribution_Yr3], 
        [Extent1].[Earnings_Growth_Compounded] AS [Earnings_Growth_Compounded], 
        [Extent1].[Earnings_Forecast_Yr3] AS [Earnings_Forecast_Yr3], 
        [Extent1].[Historic_Dividend_Yield_FYE] AS [Historic_Dividend_Yield_FYE], 
        [Extent1].[Forward_Dividend_Yield_FYE] AS [Forward_Dividend_Yield_FYE], 
        [Extent1].[Yr3_Forward_Dividend_Yield] AS [Yr3_Forward_Dividend_Yield], 
        [Extent1].[Rolling_12M_Forward_Yield] AS [Rolling_12M_Forward_Yield], 
        [Extent1].[Historical_Earnings_FYE] AS [Historical_Earnings_FYE], 
        [Extent1].[Earnings_Forecast_Yr1] AS [Earnings_Forecast_Yr1], 
        [Extent1].[Earnings_Forecast_Yr2] AS [Earnings_Forecast_Yr2], 
        [Extent1].[Historic_Dividend_Yield_Relative] AS [Historic_Dividend_Yield_Relative], 
        [Extent1].[Rolling_12M_Historic_Distribution_PriceCurr] AS [Rolling_12M_Historic_Distribution_PriceCurr], 
        [Extent1].[Short_Term_Market_Rerate] AS [Short_Term_Market_Rerate], 
        [Extent1].[Forecast_12M_Total_Return] AS [Forecast_12M_Total_Return], 
        [Extent1].[Clean_Price] AS [Clean_Price], 
        [Extent1].[Rolling_Dividend_Yield_Historic] AS [Rolling_Dividend_Yield_Historic], 
        [Extent1].[Last_Update_Date] AS [Last_Update_Date], 
        [Extent1].[Last_Update_User] AS [Last_Update_User], 
        [Extent1].[Discount_Security_ID] AS [Discount_Security_ID], 
        [Extent1].[Net_Present_Value] AS [Net_Present_Value], 
        [Extent1].[Forecast_Rolling_Custom_Income] AS [Forecast_Rolling_Custom_Income], 
        [Extent1].[Custom_Period] AS [Custom_Period], 
        [Extent1].[Rolling_12M_Historic_Distribution] AS [Rolling_12M_Historic_Distribution], 
        [Extent1].[Record_Date] AS [Record_Date], 
        [Extent1].[Session_ID] AS [Session_ID], 
        [Extent1].[Hist_Last_Update_Date] AS [Hist_Last_Update_Date], 
        [Extent1].[Hist_Last_Update_User] AS [Hist_Last_Update_User], 
        [Extent1].[Rolling_12M_Forecast_Distribution] AS [Rolling_12M_Forecast_Distribution], 
        [Extent1].[Yr2_Forward_Dividend_Yield] AS [Yr2_Forward_Dividend_Yield], 
        [Extent1].[Exit_Yield] AS [Exit_Yield], 
        [Extent1].[Discount_Rate] AS [Discount_Rate], 
        [Extent1].[Distribution_Growth_Compounded] AS [Distribution_Growth_Compounded], 
        [Extent1].[Forecast_12MRolling_Income_Accrual] AS [Forecast_12MRolling_Income_Accrual], 
        [Extent1].[Rolling_12_to_24M_Forecast_Distribution] AS [Rolling_12_to_24M_Forecast_Distribution], 
        [Extent1].[Rolling_24_to_36M_Forecast_Distribution] AS [Rolling_24_to_36M_Forecast_Distribution], 
        [Extent1].[Forecast_Yr1_Dividend_Yield_Relative] AS [Forecast_Yr1_Dividend_Yield_Relative], 
        [Extent1].[Market_Historic_Yield] AS [Market_Historic_Yield], 
        [Extent1].[Market_Forward_Yield] AS [Market_Forward_Yield], 
        [Extent1].[Historic_Distribution_PriceCurr] AS [Historic_Distribution_PriceCurr], 
        [Extent1].[Forecast_Distribution_Yr1_PriceCurr] AS [Forecast_Distribution_Yr1_PriceCurr], 
        [Extent1].[Forecast_Distribution_Yr2_PriceCurr] AS [Forecast_Distribution_Yr2_PriceCurr], 
        [Extent1].[Forecast_Distribution_Yr3_PriceCurr] AS [Forecast_Distribution_Yr3_PriceCurr], 
        [Extent1].[Rolling_12M_Forecast_Distribution_PriceCurr] AS [Rolling_12M_Forecast_Distribution_PriceCurr], 
        [Extent1].[Rolling_12_24M_Forecast_Distribution_PriceCurr] AS [Rolling_12_24M_Forecast_Distribution_PriceCurr], 
        [Extent1].[Rolling_24_36M_Forecast_Distribution_PriceCurr] AS [Rolling_24_36M_Forecast_Distribution_PriceCurr], 
        [Extent1].[Distribution_Growth_Forecast_Yr4] AS [Distribution_Growth_Forecast_Yr4], 
        [Extent1].[Earnings_Forecast_Yr4] AS [Earnings_Forecast_Yr4], 
        [Extent1].[Forecast_Distribution_Yr4] AS [Forecast_Distribution_Yr4], 
        [Extent1].[Forecast_Distribution_Yr4_PriceCurr] AS [Forecast_Distribution_Yr4_PriceCurr], 
        [Extent2].[Security_ID] AS [Security_ID1], 
        [Extent2].[Entity_ID] AS [Entity_ID1], 
        [Extent2].[Security_Name] AS [Security_Name], 
        [Extent2].[Short_Name] AS [Short_Name], 
        [Extent2].[Primary_Exch] AS [Primary_Exch], 
        [Extent2].[Secondary_Exch] AS [Secondary_Exch], 
        [Extent2].[Country_Of_Domicile] AS [Country_Of_Domicile], 
        [Extent2].[Country_Of_Risk] AS [Country_Of_Risk], 
        [Extent2].[Security_Type_Code] AS [Security_Type_Code], 
        [Extent2].[Price_Multiplier] AS [Price_Multiplier], 
        [Extent2].[Income_Frequency] AS [Income_Frequency], 
        [Extent2].[Issuer_Code] AS [Issuer_Code], 
        [Extent2].[Ultimate_Issuer_Code] AS [Ultimate_Issuer_Code], 
        [Extent2].[Asset_Currency] AS [Asset_Currency], 
        [Extent2].[Min_Lot_Size] AS [Min_Lot_Size], 
        [Extent2].[Decimal_Precision] AS [Decimal_Precision], 
        [Extent2].[AvePrice_Rounding] AS [AvePrice_Rounding], 
        [Extent2].[Issue_Date] AS [Issue_Date], 
        [Extent2].[Maturity_Date] AS [Maturity_Date], 
        [Extent2].[Coupon_Rate] AS [Coupon_Rate], 
        [Extent2].[Price_Exchange] AS [Price_Exchange], 
        [Extent2].[Trade_Currency] AS [Trade_Currency], 
        [Extent2].[Price_Curr] AS [Price_Curr], 
        [Extent2].[Currency_Pair_Code] AS [Currency_Pair_Code], 
        [Extent2].[Share_Class] AS [Share_Class], 
        [Extent2].[Current_Market_Price] AS [Current_Market_Price], 
        [Extent2].[Index_Type] AS [Index_Type], 
        [Extent2].[Clean_Price_Formula] AS [Clean_Price_Formula], 
        [Extent2].[Accrued_Income_Price_Formula] AS [Accrued_Income_Price_Formula], 
        [Extent2].[Odd_First_Coupon_Date] AS [Odd_First_Coupon_Date], 
        [Extent2].[Odd_Last_Coupon_Date] AS [Odd_Last_Coupon_Date], 
        [Extent2].[Coupon_Anniversary_Indicator] AS [Coupon_Anniversary_Indicator], 
        [Extent2].[Track_EOM_Flag] AS [Track_EOM_Flag], 
        [Extent2].[Next_Coupon_Date] AS [Next_Coupon_Date], 
        [Extent2].[Previous_Coupon_Date] AS [Previous_Coupon_Date], 
        [Extent2].[Payment_Frequency] AS [Payment_Frequency], 
        [Extent2].[Coupon_BusDay_Adjustment] AS [Coupon_BusDay_Adjustment], 
        [Extent2].[Next_Ex_Div_Date] AS [Next_Ex_Div_Date], 
        [Extent2].[Ex_Div_BusDay_Adjustment] AS [Ex_Div_BusDay_Adjustment], 
        [Extent2].[Ex_Div_Period] AS [Ex_Div_Period], 
        [Extent2].[Ticker] AS [Ticker], 
        [Extent2].[Inet_ID] AS [Inet_ID], 
        [Extent2].[Bloomberg_ID] AS [Bloomberg_ID], 
        [Extent2].[External_Sec_ID] AS [External_Sec_ID], 
        [Extent2].[Reuters_ID] AS [Reuters_ID], 
        [Extent2].[ISIN] AS [ISIN], 
        [Extent2].[Call_Account_Flag] AS [Call_Account_Flag], 
        [Extent2].[System_Locked] AS [System_Locked], 
        [Extent2].[Last_Update_User] AS [Last_Update_User1], 
        [Extent2].[Last_Update_Date] AS [Last_Update_Date1], 
        [Extent2].[Security_Status] AS [Security_Status], 
        [Extent2].[Benchmark_Portfolio] AS [Benchmark_Portfolio], 
        [Extent2].[Active_flag] AS [Active_flag], 
        [Extent2].[Dividend_FX_Security_ID] AS [Dividend_FX_Security_ID]
        FROM  [dbo].[Security_Analytics_History] AS [Extent1]
        INNER JOIN [dbo].[Security_Detail] AS [Extent2] ON [Extent1].[Security_ID] = [Extent2].[Security_ID]
        WHERE [Extent1].[Security_ID] = @p__linq__0
    )  AS [Project1]
    ORDER BY [Project1].[Record_Date] DESC
2018-04-07 18:27:39.7325|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: SELECT 
    [Project1].[Decimal_Precision] AS [Decimal_Precision], 
    [Project1].[Entity_ID] AS [Entity_ID], 
    [Project1].[Security_ID] AS [Security_ID], 
    [Project1].[Issued_Amount] AS [Issued_Amount], 
    [Project1].[Market_Capitalisation] AS [Market_Capitalisation], 
    [Project1].[Risk_Premium] AS [Risk_Premium], 
    [Project1].[Exit_Price] AS [Exit_Price], 
    [Project1].[Total_Return_ME_1YR] AS [Total_Return_ME_1YR], 
    [Project1].[Total_Return_ME_2YR] AS [Total_Return_ME_2YR], 
    [Project1].[Total_Return_ME_3YR] AS [Total_Return_ME_3YR], 
    [Project1].[Historic_Distribution] AS [Historic_Distribution], 
    [Project1].[Distribution_Growth_Forecast_Yr1] AS [Distribution_Growth_Forecast_Yr1], 
    [Project1].[Distribution_Growth_Forecast_Yr2] AS [Distribution_Growth_Forecast_Yr2], 
    [Project1].[Distribution_Growth_Forecast_Yr3] AS [Distribution_Growth_Forecast_Yr3], 
    [Project1].[Forecast_Distribution_Yr1] AS [Forecast_Distribution_Yr1], 
    [Project1].[Forecast_Distribution_Yr2] AS [Forecast_Distribution_Yr2], 
    [Project1].[Forecast_Distribution_Yr3] AS [Forecast_Distribution_Yr3], 
    [Project1].[Earnings_Growth_Compounded] AS [Earnings_Growth_Compounded], 
    [Project1].[Earnings_Forecast_Yr3] AS [Earnings_Forecast_Yr3], 
    [Project1].[Historic_Dividend_Yield_FYE] AS [Historic_Dividend_Yield_FYE], 
    [Project1].[Forward_Dividend_Yield_FYE] AS [Forward_Dividend_Yield_FYE], 
    [Project1].[Yr3_Forward_Dividend_Yield] AS [Yr3_Forward_Dividend_Yield], 
    [Project1].[Rolling_12M_Forward_Yield] AS [Rolling_12M_Forward_Yield], 
    [Project1].[Historical_Earnings_FYE] AS [Historical_Earnings_FYE], 
    [Project1].[Earnings_Forecast_Yr1] AS [Earnings_Forecast_Yr1], 
    [Project1].[Earnings_Forecast_Yr2] AS [Earnings_Forecast_Yr2], 
    [Project1].[Historic_Dividend_Yield_Relative] AS [Historic_Dividend_Yield_Relative], 
    [Project1].[Rolling_12M_Historic_Distribution_PriceCurr] AS [Rolling_12M_Historic_Distribution_PriceCurr], 
    [Project1].[Short_Term_Market_Rerate] AS [Short_Term_Market_Rerate], 
    [Project1].[Forecast_12M_Total_Return] AS [Forecast_12M_Total_Return], 
    [Project1].[Clean_Price] AS [Clean_Price], 
    [Project1].[Rolling_Dividend_Yield_Historic] AS [Rolling_Dividend_Yield_Historic], 
    [Project1].[Last_Update_Date] AS [Last_Update_Date], 
    [Project1].[Last_Update_User] AS [Last_Update_User], 
    [Project1].[Discount_Security_ID] AS [Discount_Security_ID], 
    [Project1].[Net_Present_Value] AS [Net_Present_Value], 
    [Project1].[Forecast_Rolling_Custom_Income] AS [Forecast_Rolling_Custom_Income], 
    [Project1].[Custom_Period] AS [Custom_Period], 
    [Project1].[Rolling_12M_Historic_Distribution] AS [Rolling_12M_Historic_Distribution], 
    [Project1].[Record_Date] AS [Record_Date], 
    [Project1].[Session_ID] AS [Session_ID], 
    [Project1].[Hist_Last_Update_Date] AS [Hist_Last_Update_Date], 
    [Project1].[Hist_Last_Update_User] AS [Hist_Last_Update_User], 
    [Project1].[Rolling_12M_Forecast_Distribution] AS [Rolling_12M_Forecast_Distribution], 
    [Project1].[Yr2_Forward_Dividend_Yield] AS [Yr2_Forward_Dividend_Yield], 
    [Project1].[Exit_Yield] AS [Exit_Yield], 
    [Project1].[Discount_Rate] AS [Discount_Rate], 
    [Project1].[Distribution_Growth_Compounded] AS [Distribution_Growth_Compounded], 
    [Project1].[Forecast_12MRolling_Income_Accrual] AS [Forecast_12MRolling_Income_Accrual], 
    [Project1].[Rolling_12_to_24M_Forecast_Distribution] AS [Rolling_12_to_24M_Forecast_Distribution], 
    [Project1].[Rolling_24_to_36M_Forecast_Distribution] AS [Rolling_24_to_36M_Forecast_Distribution], 
    [Project1].[Forecast_Yr1_Dividend_Yield_Relative] AS [Forecast_Yr1_Dividend_Yield_Relative], 
    [Project1].[Market_Historic_Yield] AS [Market_Historic_Yield], 
    [Project1].[Market_Forward_Yield] AS [Market_Forward_Yield], 
    [Project1].[Historic_Distribution_PriceCurr] AS [Historic_Distribution_PriceCurr], 
    [Project1].[Forecast_Distribution_Yr1_PriceCurr] AS [Forecast_Distribution_Yr1_PriceCurr], 
    [Project1].[Forecast_Distribution_Yr2_PriceCurr] AS [Forecast_Distribution_Yr2_PriceCurr], 
    [Project1].[Forecast_Distribution_Yr3_PriceCurr] AS [Forecast_Distribution_Yr3_PriceCurr], 
    [Project1].[Rolling_12M_Forecast_Distribution_PriceCurr] AS [Rolling_12M_Forecast_Distribution_PriceCurr], 
    [Project1].[Rolling_12_24M_Forecast_Distribution_PriceCurr] AS [Rolling_12_24M_Forecast_Distribution_PriceCurr], 
    [Project1].[Rolling_24_36M_Forecast_Distribution_PriceCurr] AS [Rolling_24_36M_Forecast_Distribution_PriceCurr], 
    [Project1].[Distribution_Growth_Forecast_Yr4] AS [Distribution_Growth_Forecast_Yr4], 
    [Project1].[Earnings_Forecast_Yr4] AS [Earnings_Forecast_Yr4], 
    [Project1].[Forecast_Distribution_Yr4] AS [Forecast_Distribution_Yr4], 
    [Project1].[Forecast_Distribution_Yr4_PriceCurr] AS [Forecast_Distribution_Yr4_PriceCurr], 
    [Project1].[Security_ID1] AS [Security_ID1], 
    [Project1].[Entity_ID1] AS [Entity_ID1], 
    [Project1].[Security_Name] AS [Security_Name], 
    [Project1].[Short_Name] AS [Short_Name], 
    [Project1].[Primary_Exch] AS [Primary_Exch], 
    [Project1].[Secondary_Exch] AS [Secondary_Exch], 
    [Project1].[Country_Of_Domicile] AS [Country_Of_Domicile], 
    [Project1].[Country_Of_Risk] AS [Country_Of_Risk], 
    [Project1].[Security_Type_Code] AS [Security_Type_Code], 
    [Project1].[Price_Multiplier] AS [Price_Multiplier], 
    [Project1].[Income_Frequency] AS [Income_Frequency], 
    [Project1].[Issuer_Code] AS [Issuer_Code], 
    [Project1].[Ultimate_Issuer_Code] AS [Ultimate_Issuer_Code], 
    [Project1].[Asset_Currency] AS [Asset_Currency], 
    [Project1].[Min_Lot_Size] AS [Min_Lot_Size], 
    [Project1].[AvePrice_Rounding] AS [AvePrice_Rounding], 
    [Project1].[Issue_Date] AS [Issue_Date], 
    [Project1].[Maturity_Date] AS [Maturity_Date], 
    [Project1].[Coupon_Rate] AS [Coupon_Rate], 
    [Project1].[Price_Exchange] AS [Price_Exchange], 
    [Project1].[Trade_Currency] AS [Trade_Currency], 
    [Project1].[Price_Curr] AS [Price_Curr], 
    [Project1].[Currency_Pair_Code] AS [Currency_Pair_Code], 
    [Project1].[Share_Class] AS [Share_Class], 
    [Project1].[Current_Market_Price] AS [Current_Market_Price], 
    [Project1].[Index_Type] AS [Index_Type], 
    [Project1].[Clean_Price_Formula] AS [Clean_Price_Formula], 
    [Project1].[Accrued_Income_Price_Formula] AS [Accrued_Income_Price_Formula], 
    [Project1].[Odd_First_Coupon_Date] AS [Odd_First_Coupon_Date], 
    [Project1].[Odd_Last_Coupon_Date] AS [Odd_Last_Coupon_Date], 
    [Project1].[Coupon_Anniversary_Indicator] AS [Coupon_Anniversary_Indicator], 
    [Project1].[Track_EOM_Flag] AS [Track_EOM_Flag], 
    [Project1].[Next_Coupon_Date] AS [Next_Coupon_Date], 
    [Project1].[Previous_Coupon_Date] AS [Previous_Coupon_Date], 
    [Project1].[Payment_Frequency] AS [Payment_Frequency], 
    [Project1].[Coupon_BusDay_Adjustment] AS [Coupon_BusDay_Adjustment], 
    [Project1].[Next_Ex_Div_Date] AS [Next_Ex_Div_Date], 
    [Project1].[Ex_Div_BusDay_Adjustment] AS [Ex_Div_BusDay_Adjustment], 
    [Project1].[Ex_Div_Period] AS [Ex_Div_Period], 
    [Project1].[Ticker] AS [Ticker], 
    [Project1].[Inet_ID] AS [Inet_ID], 
    [Project1].[Bloomberg_ID] AS [Bloomberg_ID], 
    [Project1].[External_Sec_ID] AS [External_Sec_ID], 
    [Project1].[Reuters_ID] AS [Reuters_ID], 
    [Project1].[ISIN] AS [ISIN], 
    [Project1].[Call_Account_Flag] AS [Call_Account_Flag], 
    [Project1].[System_Locked] AS [System_Locked], 
    [Project1].[Last_Update_User1] AS [Last_Update_User1], 
    [Project1].[Last_Update_Date1] AS [Last_Update_Date1], 
    [Project1].[Security_Status] AS [Security_Status], 
    [Project1].[Benchmark_Portfolio] AS [Benchmark_Portfolio], 
    [Project1].[Active_flag] AS [Active_flag], 
    [Project1].[Dividend_FX_Security_ID] AS [Dividend_FX_Security_ID]
    FROM ( SELECT 
        [Extent1].[Entity_ID] AS [Entity_ID], 
        [Extent1].[Security_ID] AS [Security_ID], 
        [Extent1].[Issued_Amount] AS [Issued_Amount], 
        [Extent1].[Market_Capitalisation] AS [Market_Capitalisation], 
        [Extent1].[Risk_Premium] AS [Risk_Premium], 
        [Extent1].[Exit_Price] AS [Exit_Price], 
        [Extent1].[Total_Return_ME_1YR] AS [Total_Return_ME_1YR], 
        [Extent1].[Total_Return_ME_2YR] AS [Total_Return_ME_2YR], 
        [Extent1].[Total_Return_ME_3YR] AS [Total_Return_ME_3YR], 
        [Extent1].[Historic_Distribution] AS [Historic_Distribution], 
        [Extent1].[Distribution_Growth_Forecast_Yr1] AS [Distribution_Growth_Forecast_Yr1], 
        [Extent1].[Distribution_Growth_Forecast_Yr2] AS [Distribution_Growth_Forecast_Yr2], 
        [Extent1].[Distribution_Growth_Forecast_Yr3] AS [Distribution_Growth_Forecast_Yr3], 
        [Extent1].[Forecast_Distribution_Yr1] AS [Forecast_Distribution_Yr1], 
        [Extent1].[Forecast_Distribution_Yr2] AS [Forecast_Distribution_Yr2], 
        [Extent1].[Forecast_Distribution_Yr3] AS [Forecast_Distribution_Yr3], 
        [Extent1].[Earnings_Growth_Compounded] AS [Earnings_Growth_Compounded], 
        [Extent1].[Earnings_Forecast_Yr3] AS [Earnings_Forecast_Yr3], 
        [Extent1].[Historic_Dividend_Yield_FYE] AS [Historic_Dividend_Yield_FYE], 
        [Extent1].[Forward_Dividend_Yield_FYE] AS [Forward_Dividend_Yield_FYE], 
        [Extent1].[Yr3_Forward_Dividend_Yield] AS [Yr3_Forward_Dividend_Yield], 
        [Extent1].[Rolling_12M_Forward_Yield] AS [Rolling_12M_Forward_Yield], 
        [Extent1].[Historical_Earnings_FYE] AS [Historical_Earnings_FYE], 
        [Extent1].[Earnings_Forecast_Yr1] AS [Earnings_Forecast_Yr1], 
        [Extent1].[Earnings_Forecast_Yr2] AS [Earnings_Forecast_Yr2], 
        [Extent1].[Historic_Dividend_Yield_Relative] AS [Historic_Dividend_Yield_Relative], 
        [Extent1].[Rolling_12M_Historic_Distribution_PriceCurr] AS [Rolling_12M_Historic_Distribution_PriceCurr], 
        [Extent1].[Short_Term_Market_Rerate] AS [Short_Term_Market_Rerate], 
        [Extent1].[Forecast_12M_Total_Return] AS [Forecast_12M_Total_Return], 
        [Extent1].[Clean_Price] AS [Clean_Price], 
        [Extent1].[Rolling_Dividend_Yield_Historic] AS [Rolling_Dividend_Yield_Historic], 
        [Extent1].[Last_Update_Date] AS [Last_Update_Date], 
        [Extent1].[Last_Update_User] AS [Last_Update_User], 
        [Extent1].[Discount_Security_ID] AS [Discount_Security_ID], 
        [Extent1].[Net_Present_Value] AS [Net_Present_Value], 
        [Extent1].[Forecast_Rolling_Custom_Income] AS [Forecast_Rolling_Custom_Income], 
        [Extent1].[Custom_Period] AS [Custom_Period], 
        [Extent1].[Rolling_12M_Historic_Distribution] AS [Rolling_12M_Historic_Distribution], 
        [Extent1].[Record_Date] AS [Record_Date], 
        [Extent1].[Session_ID] AS [Session_ID], 
        [Extent1].[Hist_Last_Update_Date] AS [Hist_Last_Update_Date], 
        [Extent1].[Hist_Last_Update_User] AS [Hist_Last_Update_User], 
        [Extent1].[Rolling_12M_Forecast_Distribution] AS [Rolling_12M_Forecast_Distribution], 
        [Extent1].[Yr2_Forward_Dividend_Yield] AS [Yr2_Forward_Dividend_Yield], 
        [Extent1].[Exit_Yield] AS [Exit_Yield], 
        [Extent1].[Discount_Rate] AS [Discount_Rate], 
        [Extent1].[Distribution_Growth_Compounded] AS [Distribution_Growth_Compounded], 
        [Extent1].[Forecast_12MRolling_Income_Accrual] AS [Forecast_12MRolling_Income_Accrual], 
        [Extent1].[Rolling_12_to_24M_Forecast_Distribution] AS [Rolling_12_to_24M_Forecast_Distribution], 
        [Extent1].[Rolling_24_to_36M_Forecast_Distribution] AS [Rolling_24_to_36M_Forecast_Distribution], 
        [Extent1].[Forecast_Yr1_Dividend_Yield_Relative] AS [Forecast_Yr1_Dividend_Yield_Relative], 
        [Extent1].[Market_Historic_Yield] AS [Market_Historic_Yield], 
        [Extent1].[Market_Forward_Yield] AS [Market_Forward_Yield], 
        [Extent1].[Historic_Distribution_PriceCurr] AS [Historic_Distribution_PriceCurr], 
        [Extent1].[Forecast_Distribution_Yr1_PriceCurr] AS [Forecast_Distribution_Yr1_PriceCurr], 
        [Extent1].[Forecast_Distribution_Yr2_PriceCurr] AS [Forecast_Distribution_Yr2_PriceCurr], 
        [Extent1].[Forecast_Distribution_Yr3_PriceCurr] AS [Forecast_Distribution_Yr3_PriceCurr], 
        [Extent1].[Rolling_12M_Forecast_Distribution_PriceCurr] AS [Rolling_12M_Forecast_Distribution_PriceCurr], 
        [Extent1].[Rolling_12_24M_Forecast_Distribution_PriceCurr] AS [Rolling_12_24M_Forecast_Distribution_PriceCurr], 
        [Extent1].[Rolling_24_36M_Forecast_Distribution_PriceCurr] AS [Rolling_24_36M_Forecast_Distribution_PriceCurr], 
        [Extent1].[Distribution_Growth_Forecast_Yr4] AS [Distribution_Growth_Forecast_Yr4], 
        [Extent1].[Earnings_Forecast_Yr4] AS [Earnings_Forecast_Yr4], 
        [Extent1].[Forecast_Distribution_Yr4] AS [Forecast_Distribution_Yr4], 
        [Extent1].[Forecast_Distribution_Yr4_PriceCurr] AS [Forecast_Distribution_Yr4_PriceCurr], 
        [Extent2].[Security_ID] AS [Security_ID1], 
        [Extent2].[Entity_ID] AS [Entity_ID1], 
        [Extent2].[Security_Name] AS [Security_Name], 
        [Extent2].[Short_Name] AS [Short_Name], 
        [Extent2].[Primary_Exch] AS [Primary_Exch], 
        [Extent2].[Secondary_Exch] AS [Secondary_Exch], 
        [Extent2].[Country_Of_Domicile] AS [Country_Of_Domicile], 
        [Extent2].[Country_Of_Risk] AS [Country_Of_Risk], 
        [Extent2].[Security_Type_Code] AS [Security_Type_Code], 
        [Extent2].[Price_Multiplier] AS [Price_Multiplier], 
        [Extent2].[Income_Frequency] AS [Income_Frequency], 
        [Extent2].[Issuer_Code] AS [Issuer_Code], 
        [Extent2].[Ultimate_Issuer_Code] AS [Ultimate_Issuer_Code], 
        [Extent2].[Asset_Currency] AS [Asset_Currency], 
        [Extent2].[Min_Lot_Size] AS [Min_Lot_Size], 
        [Extent2].[Decimal_Precision] AS [Decimal_Precision], 
        [Extent2].[AvePrice_Rounding] AS [AvePrice_Rounding], 
        [Extent2].[Issue_Date] AS [Issue_Date], 
        [Extent2].[Maturity_Date] AS [Maturity_Date], 
        [Extent2].[Coupon_Rate] AS [Coupon_Rate], 
        [Extent2].[Price_Exchange] AS [Price_Exchange], 
        [Extent2].[Trade_Currency] AS [Trade_Currency], 
        [Extent2].[Price_Curr] AS [Price_Curr], 
        [Extent2].[Currency_Pair_Code] AS [Currency_Pair_Code], 
        [Extent2].[Share_Class] AS [Share_Class], 
        [Extent2].[Current_Market_Price] AS [Current_Market_Price], 
        [Extent2].[Index_Type] AS [Index_Type], 
        [Extent2].[Clean_Price_Formula] AS [Clean_Price_Formula], 
        [Extent2].[Accrued_Income_Price_Formula] AS [Accrued_Income_Price_Formula], 
        [Extent2].[Odd_First_Coupon_Date] AS [Odd_First_Coupon_Date], 
        [Extent2].[Odd_Last_Coupon_Date] AS [Odd_Last_Coupon_Date], 
        [Extent2].[Coupon_Anniversary_Indicator] AS [Coupon_Anniversary_Indicator], 
        [Extent2].[Track_EOM_Flag] AS [Track_EOM_Flag], 
        [Extent2].[Next_Coupon_Date] AS [Next_Coupon_Date], 
        [Extent2].[Previous_Coupon_Date] AS [Previous_Coupon_Date], 
        [Extent2].[Payment_Frequency] AS [Payment_Frequency], 
        [Extent2].[Coupon_BusDay_Adjustment] AS [Coupon_BusDay_Adjustment], 
        [Extent2].[Next_Ex_Div_Date] AS [Next_Ex_Div_Date], 
        [Extent2].[Ex_Div_BusDay_Adjustment] AS [Ex_Div_BusDay_Adjustment], 
        [Extent2].[Ex_Div_Period] AS [Ex_Div_Period], 
        [Extent2].[Ticker] AS [Ticker], 
        [Extent2].[Inet_ID] AS [Inet_ID], 
        [Extent2].[Bloomberg_ID] AS [Bloomberg_ID], 
        [Extent2].[External_Sec_ID] AS [External_Sec_ID], 
        [Extent2].[Reuters_ID] AS [Reuters_ID], 
        [Extent2].[ISIN] AS [ISIN], 
        [Extent2].[Call_Account_Flag] AS [Call_Account_Flag], 
        [Extent2].[System_Locked] AS [System_Locked], 
        [Extent2].[Last_Update_User] AS [Last_Update_User1], 
        [Extent2].[Last_Update_Date] AS [Last_Update_Date1], 
        [Extent2].[Security_Status] AS [Security_Status], 
        [Extent2].[Benchmark_Portfolio] AS [Benchmark_Portfolio], 
        [Extent2].[Active_flag] AS [Active_flag], 
        [Extent2].[Dividend_FX_Security_ID] AS [Dividend_FX_Security_ID]
        FROM  [dbo].[Security_Analytics_History] AS [Extent1]
        INNER JOIN [dbo].[Security_Detail] AS [Extent2] ON [Extent1].[Security_ID] = [Extent2].[Security_ID]
        WHERE [Extent1].[Security_ID] = @p__linq__0
    )  AS [Project1]
    ORDER BY [Project1].[Record_Date] DESC
2018-04-07 18:27:44.2357|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: IF db_id(N'MetopeAzureDb') IS NOT NULL SELECT 1 ELSE SELECT Count(*) FROM sys.databases WHERE [name]=N'MetopeAzureDb'
2018-04-07 18:27:44.3027|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: IF db_id(N'MetopeAzureDb') IS NOT NULL SELECT 1 ELSE SELECT Count(*) FROM sys.databases WHERE [name]=N'MetopeAzureDb'
2018-04-07 18:27:44.4103|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: IF db_id(N'MetopeAzureDb') IS NOT NULL SELECT 1 ELSE SELECT Count(*) FROM sys.databases WHERE [name]=N'MetopeAzureDb'
2018-04-07 18:27:44.4248|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: IF db_id(N'MetopeAzureDb') IS NOT NULL SELECT 1 ELSE SELECT Count(*) FROM sys.databases WHERE [name]=N'MetopeAzureDb'
2018-04-07 18:27:49.1533|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: SELECT 
    [Project1].[Security_ID] AS [Security_ID], 
    [Project1].[Entity_ID] AS [Entity_ID], 
    [Project1].[Security_Name] AS [Security_Name], 
    [Project1].[Short_Name] AS [Short_Name], 
    [Project1].[Primary_Exch] AS [Primary_Exch], 
    [Project1].[Secondary_Exch] AS [Secondary_Exch], 
    [Project1].[Country_Of_Domicile] AS [Country_Of_Domicile], 
    [Project1].[Country_Of_Risk] AS [Country_Of_Risk], 
    [Project1].[Security_Type_Code] AS [Security_Type_Code], 
    [Project1].[Price_Multiplier] AS [Price_Multiplier], 
    [Project1].[Income_Frequency] AS [Income_Frequency], 
    [Project1].[Issuer_Code] AS [Issuer_Code], 
    [Project1].[Ultimate_Issuer_Code] AS [Ultimate_Issuer_Code], 
    [Project1].[Asset_Currency] AS [Asset_Currency], 
    [Project1].[Min_Lot_Size] AS [Min_Lot_Size], 
    [Project1].[Decimal_Precision] AS [Decimal_Precision], 
    [Project1].[AvePrice_Rounding] AS [AvePrice_Rounding], 
    [Project1].[Issue_Date] AS [Issue_Date], 
    [Project1].[Maturity_Date] AS [Maturity_Date], 
    [Project1].[Coupon_Rate] AS [Coupon_Rate], 
    [Project1].[Price_Exchange] AS [Price_Exchange], 
    [Project1].[Trade_Currency] AS [Trade_Currency], 
    [Project1].[Price_Curr] AS [Price_Curr], 
    [Project1].[Currency_Pair_Code] AS [Currency_Pair_Code], 
    [Project1].[Share_Class] AS [Share_Class], 
    [Project1].[Current_Market_Price] AS [Current_Market_Price], 
    [Project1].[Index_Type] AS [Index_Type], 
    [Project1].[Clean_Price_Formula] AS [Clean_Price_Formula], 
    [Project1].[Accrued_Income_Price_Formula] AS [Accrued_Income_Price_Formula], 
    [Project1].[Odd_First_Coupon_Date] AS [Odd_First_Coupon_Date], 
    [Project1].[Odd_Last_Coupon_Date] AS [Odd_Last_Coupon_Date], 
    [Project1].[Coupon_Anniversary_Indicator] AS [Coupon_Anniversary_Indicator], 
    [Project1].[Track_EOM_Flag] AS [Track_EOM_Flag], 
    [Project1].[Next_Coupon_Date] AS [Next_Coupon_Date], 
    [Project1].[Previous_Coupon_Date] AS [Previous_Coupon_Date], 
    [Project1].[Payment_Frequency] AS [Payment_Frequency], 
    [Project1].[Coupon_BusDay_Adjustment] AS [Coupon_BusDay_Adjustment], 
    [Project1].[Next_Ex_Div_Date] AS [Next_Ex_Div_Date], 
    [Project1].[Ex_Div_BusDay_Adjustment] AS [Ex_Div_BusDay_Adjustment], 
    [Project1].[Ex_Div_Period] AS [Ex_Div_Period], 
    [Project1].[Ticker] AS [Ticker], 
    [Project1].[Inet_ID] AS [Inet_ID], 
    [Project1].[Bloomberg_ID] AS [Bloomberg_ID], 
    [Project1].[External_Sec_ID] AS [External_Sec_ID], 
    [Project1].[Reuters_ID] AS [Reuters_ID], 
    [Project1].[ISIN] AS [ISIN], 
    [Project1].[Call_Account_Flag] AS [Call_Account_Flag], 
    [Project1].[System_Locked] AS [System_Locked], 
    [Project1].[Last_Update_User] AS [Last_Update_User], 
    [Project1].[Last_Update_Date] AS [Last_Update_Date], 
    [Project1].[Security_Status] AS [Security_Status], 
    [Project1].[Benchmark_Portfolio] AS [Benchmark_Portfolio], 
    [Project1].[Active_flag] AS [Active_flag], 
    [Project1].[Dividend_FX_Security_ID] AS [Dividend_FX_Security_ID]
    FROM ( SELECT 
        [Extent1].[Security_ID] AS [Security_ID], 
        [Extent1].[Entity_ID] AS [Entity_ID], 
        [Extent1].[Security_Name] AS [Security_Name], 
        [Extent1].[Short_Name] AS [Short_Name], 
        [Extent1].[Primary_Exch] AS [Primary_Exch], 
        [Extent1].[Secondary_Exch] AS [Secondary_Exch], 
        [Extent1].[Country_Of_Domicile] AS [Country_Of_Domicile], 
        [Extent1].[Country_Of_Risk] AS [Country_Of_Risk], 
        [Extent1].[Security_Type_Code] AS [Security_Type_Code], 
        [Extent1].[Price_Multiplier] AS [Price_Multiplier], 
        [Extent1].[Income_Frequency] AS [Income_Frequency], 
        [Extent1].[Issuer_Code] AS [Issuer_Code], 
        [Extent1].[Ultimate_Issuer_Code] AS [Ultimate_Issuer_Code], 
        [Extent1].[Asset_Currency] AS [Asset_Currency], 
        [Extent1].[Min_Lot_Size] AS [Min_Lot_Size], 
        [Extent1].[Decimal_Precision] AS [Decimal_Precision], 
        [Extent1].[AvePrice_Rounding] AS [AvePrice_Rounding], 
        [Extent1].[Issue_Date] AS [Issue_Date], 
        [Extent1].[Maturity_Date] AS [Maturity_Date], 
        [Extent1].[Coupon_Rate] AS [Coupon_Rate], 
        [Extent1].[Price_Exchange] AS [Price_Exchange], 
        [Extent1].[Trade_Currency] AS [Trade_Currency], 
        [Extent1].[Price_Curr] AS [Price_Curr], 
        [Extent1].[Currency_Pair_Code] AS [Currency_Pair_Code], 
        [Extent1].[Share_Class] AS [Share_Class], 
        [Extent1].[Current_Market_Price] AS [Current_Market_Price], 
        [Extent1].[Index_Type] AS [Index_Type], 
        [Extent1].[Clean_Price_Formula] AS [Clean_Price_Formula], 
        [Extent1].[Accrued_Income_Price_Formula] AS [Accrued_Income_Price_Formula], 
        [Extent1].[Odd_First_Coupon_Date] AS [Odd_First_Coupon_Date], 
        [Extent1].[Odd_Last_Coupon_Date] AS [Odd_Last_Coupon_Date], 
        [Extent1].[Coupon_Anniversary_Indicator] AS [Coupon_Anniversary_Indicator], 
        [Extent1].[Track_EOM_Flag] AS [Track_EOM_Flag], 
        [Extent1].[Next_Coupon_Date] AS [Next_Coupon_Date], 
        [Extent1].[Previous_Coupon_Date] AS [Previous_Coupon_Date], 
        [Extent1].[Payment_Frequency] AS [Payment_Frequency], 
        [Extent1].[Coupon_BusDay_Adjustment] AS [Coupon_BusDay_Adjustment], 
        [Extent1].[Next_Ex_Div_Date] AS [Next_Ex_Div_Date], 
        [Extent1].[Ex_Div_BusDay_Adjustment] AS [Ex_Div_BusDay_Adjustment], 
        [Extent1].[Ex_Div_Period] AS [Ex_Div_Period], 
        [Extent1].[Ticker] AS [Ticker], 
        [Extent1].[Inet_ID] AS [Inet_ID], 
        [Extent1].[Bloomberg_ID] AS [Bloomberg_ID], 
        [Extent1].[External_Sec_ID] AS [External_Sec_ID], 
        [Extent1].[Reuters_ID] AS [Reuters_ID], 
        [Extent1].[ISIN] AS [ISIN], 
        [Extent1].[Call_Account_Flag] AS [Call_Account_Flag], 
        [Extent1].[System_Locked] AS [System_Locked], 
        [Extent1].[Last_Update_User] AS [Last_Update_User], 
        [Extent1].[Last_Update_Date] AS [Last_Update_Date], 
        [Extent1].[Security_Status] AS [Security_Status], 
        [Extent1].[Benchmark_Portfolio] AS [Benchmark_Portfolio], 
        [Extent1].[Active_flag] AS [Active_flag], 
        [Extent1].[Dividend_FX_Security_ID] AS [Dividend_FX_Security_ID]
        FROM [dbo].[Security_Detail] AS [Extent1]
        WHERE ([Extent1].[Entity_ID] IN (@p__linq__0,@p__linq__1)) AND ((CASE WHEN ( NOT ((N'' = @p__linq__2) AND (@p__linq__2 IS NOT NULL))) THEN CASE WHEN ([Extent1].[Security_Type_Code] = @p__linq__3) THEN cast(1 as bit) WHEN ( NOT (([Extent1].[Security_Type_Code] = @p__linq__3) AND (0 = (CASE WHEN (@p__linq__3 IS NULL) THEN cast(1 as bit) ELSE cast(0 as bit) END)))) THEN cast(0 as bit) END WHEN ('' <> [Extent1].[Security_Type_Code]) THEN cast(1 as bit) WHEN ('' = [Extent1].[Security_Type_Code]) THEN cast(0 as bit) END) = 1)
    )  AS [Project1]
    ORDER BY [Project1].[Security_Name] ASC
2018-04-07 18:27:49.1963|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: SELECT 
    [Project1].[Security_ID] AS [Security_ID], 
    [Project1].[Entity_ID] AS [Entity_ID], 
    [Project1].[Security_Name] AS [Security_Name], 
    [Project1].[Short_Name] AS [Short_Name], 
    [Project1].[Primary_Exch] AS [Primary_Exch], 
    [Project1].[Secondary_Exch] AS [Secondary_Exch], 
    [Project1].[Country_Of_Domicile] AS [Country_Of_Domicile], 
    [Project1].[Country_Of_Risk] AS [Country_Of_Risk], 
    [Project1].[Security_Type_Code] AS [Security_Type_Code], 
    [Project1].[Price_Multiplier] AS [Price_Multiplier], 
    [Project1].[Income_Frequency] AS [Income_Frequency], 
    [Project1].[Issuer_Code] AS [Issuer_Code], 
    [Project1].[Ultimate_Issuer_Code] AS [Ultimate_Issuer_Code], 
    [Project1].[Asset_Currency] AS [Asset_Currency], 
    [Project1].[Min_Lot_Size] AS [Min_Lot_Size], 
    [Project1].[Decimal_Precision] AS [Decimal_Precision], 
    [Project1].[AvePrice_Rounding] AS [AvePrice_Rounding], 
    [Project1].[Issue_Date] AS [Issue_Date], 
    [Project1].[Maturity_Date] AS [Maturity_Date], 
    [Project1].[Coupon_Rate] AS [Coupon_Rate], 
    [Project1].[Price_Exchange] AS [Price_Exchange], 
    [Project1].[Trade_Currency] AS [Trade_Currency], 
    [Project1].[Price_Curr] AS [Price_Curr], 
    [Project1].[Currency_Pair_Code] AS [Currency_Pair_Code], 
    [Project1].[Share_Class] AS [Share_Class], 
    [Project1].[Current_Market_Price] AS [Current_Market_Price], 
    [Project1].[Index_Type] AS [Index_Type], 
    [Project1].[Clean_Price_Formula] AS [Clean_Price_Formula], 
    [Project1].[Accrued_Income_Price_Formula] AS [Accrued_Income_Price_Formula], 
    [Project1].[Odd_First_Coupon_Date] AS [Odd_First_Coupon_Date], 
    [Project1].[Odd_Last_Coupon_Date] AS [Odd_Last_Coupon_Date], 
    [Project1].[Coupon_Anniversary_Indicator] AS [Coupon_Anniversary_Indicator], 
    [Project1].[Track_EOM_Flag] AS [Track_EOM_Flag], 
    [Project1].[Next_Coupon_Date] AS [Next_Coupon_Date], 
    [Project1].[Previous_Coupon_Date] AS [Previous_Coupon_Date], 
    [Project1].[Payment_Frequency] AS [Payment_Frequency], 
    [Project1].[Coupon_BusDay_Adjustment] AS [Coupon_BusDay_Adjustment], 
    [Project1].[Next_Ex_Div_Date] AS [Next_Ex_Div_Date], 
    [Project1].[Ex_Div_BusDay_Adjustment] AS [Ex_Div_BusDay_Adjustment], 
    [Project1].[Ex_Div_Period] AS [Ex_Div_Period], 
    [Project1].[Ticker] AS [Ticker], 
    [Project1].[Inet_ID] AS [Inet_ID], 
    [Project1].[Bloomberg_ID] AS [Bloomberg_ID], 
    [Project1].[External_Sec_ID] AS [External_Sec_ID], 
    [Project1].[Reuters_ID] AS [Reuters_ID], 
    [Project1].[ISIN] AS [ISIN], 
    [Project1].[Call_Account_Flag] AS [Call_Account_Flag], 
    [Project1].[System_Locked] AS [System_Locked], 
    [Project1].[Last_Update_User] AS [Last_Update_User], 
    [Project1].[Last_Update_Date] AS [Last_Update_Date], 
    [Project1].[Security_Status] AS [Security_Status], 
    [Project1].[Benchmark_Portfolio] AS [Benchmark_Portfolio], 
    [Project1].[Active_flag] AS [Active_flag], 
    [Project1].[Dividend_FX_Security_ID] AS [Dividend_FX_Security_ID]
    FROM ( SELECT 
        [Extent1].[Security_ID] AS [Security_ID], 
        [Extent1].[Entity_ID] AS [Entity_ID], 
        [Extent1].[Security_Name] AS [Security_Name], 
        [Extent1].[Short_Name] AS [Short_Name], 
        [Extent1].[Primary_Exch] AS [Primary_Exch], 
        [Extent1].[Secondary_Exch] AS [Secondary_Exch], 
        [Extent1].[Country_Of_Domicile] AS [Country_Of_Domicile], 
        [Extent1].[Country_Of_Risk] AS [Country_Of_Risk], 
        [Extent1].[Security_Type_Code] AS [Security_Type_Code], 
        [Extent1].[Price_Multiplier] AS [Price_Multiplier], 
        [Extent1].[Income_Frequency] AS [Income_Frequency], 
        [Extent1].[Issuer_Code] AS [Issuer_Code], 
        [Extent1].[Ultimate_Issuer_Code] AS [Ultimate_Issuer_Code], 
        [Extent1].[Asset_Currency] AS [Asset_Currency], 
        [Extent1].[Min_Lot_Size] AS [Min_Lot_Size], 
        [Extent1].[Decimal_Precision] AS [Decimal_Precision], 
        [Extent1].[AvePrice_Rounding] AS [AvePrice_Rounding], 
        [Extent1].[Issue_Date] AS [Issue_Date], 
        [Extent1].[Maturity_Date] AS [Maturity_Date], 
        [Extent1].[Coupon_Rate] AS [Coupon_Rate], 
        [Extent1].[Price_Exchange] AS [Price_Exchange], 
        [Extent1].[Trade_Currency] AS [Trade_Currency], 
        [Extent1].[Price_Curr] AS [Price_Curr], 
        [Extent1].[Currency_Pair_Code] AS [Currency_Pair_Code], 
        [Extent1].[Share_Class] AS [Share_Class], 
        [Extent1].[Current_Market_Price] AS [Current_Market_Price], 
        [Extent1].[Index_Type] AS [Index_Type], 
        [Extent1].[Clean_Price_Formula] AS [Clean_Price_Formula], 
        [Extent1].[Accrued_Income_Price_Formula] AS [Accrued_Income_Price_Formula], 
        [Extent1].[Odd_First_Coupon_Date] AS [Odd_First_Coupon_Date], 
        [Extent1].[Odd_Last_Coupon_Date] AS [Odd_Last_Coupon_Date], 
        [Extent1].[Coupon_Anniversary_Indicator] AS [Coupon_Anniversary_Indicator], 
        [Extent1].[Track_EOM_Flag] AS [Track_EOM_Flag], 
        [Extent1].[Next_Coupon_Date] AS [Next_Coupon_Date], 
        [Extent1].[Previous_Coupon_Date] AS [Previous_Coupon_Date], 
        [Extent1].[Payment_Frequency] AS [Payment_Frequency], 
        [Extent1].[Coupon_BusDay_Adjustment] AS [Coupon_BusDay_Adjustment], 
        [Extent1].[Next_Ex_Div_Date] AS [Next_Ex_Div_Date], 
        [Extent1].[Ex_Div_BusDay_Adjustment] AS [Ex_Div_BusDay_Adjustment], 
        [Extent1].[Ex_Div_Period] AS [Ex_Div_Period], 
        [Extent1].[Ticker] AS [Ticker], 
        [Extent1].[Inet_ID] AS [Inet_ID], 
        [Extent1].[Bloomberg_ID] AS [Bloomberg_ID], 
        [Extent1].[External_Sec_ID] AS [External_Sec_ID], 
        [Extent1].[Reuters_ID] AS [Reuters_ID], 
        [Extent1].[ISIN] AS [ISIN], 
        [Extent1].[Call_Account_Flag] AS [Call_Account_Flag], 
        [Extent1].[System_Locked] AS [System_Locked], 
        [Extent1].[Last_Update_User] AS [Last_Update_User], 
        [Extent1].[Last_Update_Date] AS [Last_Update_Date], 
        [Extent1].[Security_Status] AS [Security_Status], 
        [Extent1].[Benchmark_Portfolio] AS [Benchmark_Portfolio], 
        [Extent1].[Active_flag] AS [Active_flag], 
        [Extent1].[Dividend_FX_Security_ID] AS [Dividend_FX_Security_ID]
        FROM [dbo].[Security_Detail] AS [Extent1]
        WHERE ([Extent1].[Entity_ID] IN (@p__linq__0,@p__linq__1)) AND ((CASE WHEN ( NOT ((N'' = @p__linq__2) AND (@p__linq__2 IS NOT NULL))) THEN CASE WHEN ([Extent1].[Security_Type_Code] = @p__linq__3) THEN cast(1 as bit) WHEN ( NOT (([Extent1].[Security_Type_Code] = @p__linq__3) AND (0 = (CASE WHEN (@p__linq__3 IS NULL) THEN cast(1 as bit) ELSE cast(0 as bit) END)))) THEN cast(0 as bit) END WHEN ('' <> [Extent1].[Security_Type_Code]) THEN cast(1 as bit) WHEN ('' = [Extent1].[Security_Type_Code]) THEN cast(0 as bit) END) = 1)
    )  AS [Project1]
    ORDER BY [Project1].[Security_Name] ASC
2018-04-07 18:27:49.3089|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: SELECT 
    [Project1].[Security_ID] AS [Security_ID], 
    [Project1].[Entity_ID] AS [Entity_ID], 
    [Project1].[Security_Name] AS [Security_Name], 
    [Project1].[Short_Name] AS [Short_Name], 
    [Project1].[Primary_Exch] AS [Primary_Exch], 
    [Project1].[Secondary_Exch] AS [Secondary_Exch], 
    [Project1].[Country_Of_Domicile] AS [Country_Of_Domicile], 
    [Project1].[Country_Of_Risk] AS [Country_Of_Risk], 
    [Project1].[Security_Type_Code] AS [Security_Type_Code], 
    [Project1].[Price_Multiplier] AS [Price_Multiplier], 
    [Project1].[Income_Frequency] AS [Income_Frequency], 
    [Project1].[Issuer_Code] AS [Issuer_Code], 
    [Project1].[Ultimate_Issuer_Code] AS [Ultimate_Issuer_Code], 
    [Project1].[Asset_Currency] AS [Asset_Currency], 
    [Project1].[Min_Lot_Size] AS [Min_Lot_Size], 
    [Project1].[Decimal_Precision] AS [Decimal_Precision], 
    [Project1].[AvePrice_Rounding] AS [AvePrice_Rounding], 
    [Project1].[Issue_Date] AS [Issue_Date], 
    [Project1].[Maturity_Date] AS [Maturity_Date], 
    [Project1].[Coupon_Rate] AS [Coupon_Rate], 
    [Project1].[Price_Exchange] AS [Price_Exchange], 
    [Project1].[Trade_Currency] AS [Trade_Currency], 
    [Project1].[Price_Curr] AS [Price_Curr], 
    [Project1].[Currency_Pair_Code] AS [Currency_Pair_Code], 
    [Project1].[Share_Class] AS [Share_Class], 
    [Project1].[Current_Market_Price] AS [Current_Market_Price], 
    [Project1].[Index_Type] AS [Index_Type], 
    [Project1].[Clean_Price_Formula] AS [Clean_Price_Formula], 
    [Project1].[Accrued_Income_Price_Formula] AS [Accrued_Income_Price_Formula], 
    [Project1].[Odd_First_Coupon_Date] AS [Odd_First_Coupon_Date], 
    [Project1].[Odd_Last_Coupon_Date] AS [Odd_Last_Coupon_Date], 
    [Project1].[Coupon_Anniversary_Indicator] AS [Coupon_Anniversary_Indicator], 
    [Project1].[Track_EOM_Flag] AS [Track_EOM_Flag], 
    [Project1].[Next_Coupon_Date] AS [Next_Coupon_Date], 
    [Project1].[Previous_Coupon_Date] AS [Previous_Coupon_Date], 
    [Project1].[Payment_Frequency] AS [Payment_Frequency], 
    [Project1].[Coupon_BusDay_Adjustment] AS [Coupon_BusDay_Adjustment], 
    [Project1].[Next_Ex_Div_Date] AS [Next_Ex_Div_Date], 
    [Project1].[Ex_Div_BusDay_Adjustment] AS [Ex_Div_BusDay_Adjustment], 
    [Project1].[Ex_Div_Period] AS [Ex_Div_Period], 
    [Project1].[Ticker] AS [Ticker], 
    [Project1].[Inet_ID] AS [Inet_ID], 
    [Project1].[Bloomberg_ID] AS [Bloomberg_ID], 
    [Project1].[External_Sec_ID] AS [External_Sec_ID], 
    [Project1].[Reuters_ID] AS [Reuters_ID], 
    [Project1].[ISIN] AS [ISIN], 
    [Project1].[Call_Account_Flag] AS [Call_Account_Flag], 
    [Project1].[System_Locked] AS [System_Locked], 
    [Project1].[Last_Update_User] AS [Last_Update_User], 
    [Project1].[Last_Update_Date] AS [Last_Update_Date], 
    [Project1].[Security_Status] AS [Security_Status], 
    [Project1].[Benchmark_Portfolio] AS [Benchmark_Portfolio], 
    [Project1].[Active_flag] AS [Active_flag], 
    [Project1].[Dividend_FX_Security_ID] AS [Dividend_FX_Security_ID]
    FROM ( SELECT 
        [Extent1].[Security_ID] AS [Security_ID], 
        [Extent1].[Entity_ID] AS [Entity_ID], 
        [Extent1].[Security_Name] AS [Security_Name], 
        [Extent1].[Short_Name] AS [Short_Name], 
        [Extent1].[Primary_Exch] AS [Primary_Exch], 
        [Extent1].[Secondary_Exch] AS [Secondary_Exch], 
        [Extent1].[Country_Of_Domicile] AS [Country_Of_Domicile], 
        [Extent1].[Country_Of_Risk] AS [Country_Of_Risk], 
        [Extent1].[Security_Type_Code] AS [Security_Type_Code], 
        [Extent1].[Price_Multiplier] AS [Price_Multiplier], 
        [Extent1].[Income_Frequency] AS [Income_Frequency], 
        [Extent1].[Issuer_Code] AS [Issuer_Code], 
        [Extent1].[Ultimate_Issuer_Code] AS [Ultimate_Issuer_Code], 
        [Extent1].[Asset_Currency] AS [Asset_Currency], 
        [Extent1].[Min_Lot_Size] AS [Min_Lot_Size], 
        [Extent1].[Decimal_Precision] AS [Decimal_Precision], 
        [Extent1].[AvePrice_Rounding] AS [AvePrice_Rounding], 
        [Extent1].[Issue_Date] AS [Issue_Date], 
        [Extent1].[Maturity_Date] AS [Maturity_Date], 
        [Extent1].[Coupon_Rate] AS [Coupon_Rate], 
        [Extent1].[Price_Exchange] AS [Price_Exchange], 
        [Extent1].[Trade_Currency] AS [Trade_Currency], 
        [Extent1].[Price_Curr] AS [Price_Curr], 
        [Extent1].[Currency_Pair_Code] AS [Currency_Pair_Code], 
        [Extent1].[Share_Class] AS [Share_Class], 
        [Extent1].[Current_Market_Price] AS [Current_Market_Price], 
        [Extent1].[Index_Type] AS [Index_Type], 
        [Extent1].[Clean_Price_Formula] AS [Clean_Price_Formula], 
        [Extent1].[Accrued_Income_Price_Formula] AS [Accrued_Income_Price_Formula], 
        [Extent1].[Odd_First_Coupon_Date] AS [Odd_First_Coupon_Date], 
        [Extent1].[Odd_Last_Coupon_Date] AS [Odd_Last_Coupon_Date], 
        [Extent1].[Coupon_Anniversary_Indicator] AS [Coupon_Anniversary_Indicator], 
        [Extent1].[Track_EOM_Flag] AS [Track_EOM_Flag], 
        [Extent1].[Next_Coupon_Date] AS [Next_Coupon_Date], 
        [Extent1].[Previous_Coupon_Date] AS [Previous_Coupon_Date], 
        [Extent1].[Payment_Frequency] AS [Payment_Frequency], 
        [Extent1].[Coupon_BusDay_Adjustment] AS [Coupon_BusDay_Adjustment], 
        [Extent1].[Next_Ex_Div_Date] AS [Next_Ex_Div_Date], 
        [Extent1].[Ex_Div_BusDay_Adjustment] AS [Ex_Div_BusDay_Adjustment], 
        [Extent1].[Ex_Div_Period] AS [Ex_Div_Period], 
        [Extent1].[Ticker] AS [Ticker], 
        [Extent1].[Inet_ID] AS [Inet_ID], 
        [Extent1].[Bloomberg_ID] AS [Bloomberg_ID], 
        [Extent1].[External_Sec_ID] AS [External_Sec_ID], 
        [Extent1].[Reuters_ID] AS [Reuters_ID], 
        [Extent1].[ISIN] AS [ISIN], 
        [Extent1].[Call_Account_Flag] AS [Call_Account_Flag], 
        [Extent1].[System_Locked] AS [System_Locked], 
        [Extent1].[Last_Update_User] AS [Last_Update_User], 
        [Extent1].[Last_Update_Date] AS [Last_Update_Date], 
        [Extent1].[Security_Status] AS [Security_Status], 
        [Extent1].[Benchmark_Portfolio] AS [Benchmark_Portfolio], 
        [Extent1].[Active_flag] AS [Active_flag], 
        [Extent1].[Dividend_FX_Security_ID] AS [Dividend_FX_Security_ID]
        FROM [dbo].[Security_Detail] AS [Extent1]
        WHERE ([Extent1].[Entity_ID] IN (@p__linq__0,@p__linq__1)) AND ((CASE WHEN ( NOT ((N'' = @p__linq__2) AND (@p__linq__2 IS NOT NULL))) THEN CASE WHEN ([Extent1].[Security_Type_Code] = @p__linq__3) THEN cast(1 as bit) WHEN ( NOT (([Extent1].[Security_Type_Code] = @p__linq__3) AND (0 = (CASE WHEN (@p__linq__3 IS NULL) THEN cast(1 as bit) ELSE cast(0 as bit) END)))) THEN cast(0 as bit) END WHEN ('' <> [Extent1].[Security_Type_Code]) THEN cast(1 as bit) WHEN ('' = [Extent1].[Security_Type_Code]) THEN cast(0 as bit) END) = 1)
    )  AS [Project1]
    ORDER BY [Project1].[Security_Name] ASC
2018-04-07 18:27:49.3374|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: SELECT 
    [Project1].[Security_ID] AS [Security_ID], 
    [Project1].[Entity_ID] AS [Entity_ID], 
    [Project1].[Security_Name] AS [Security_Name], 
    [Project1].[Short_Name] AS [Short_Name], 
    [Project1].[Primary_Exch] AS [Primary_Exch], 
    [Project1].[Secondary_Exch] AS [Secondary_Exch], 
    [Project1].[Country_Of_Domicile] AS [Country_Of_Domicile], 
    [Project1].[Country_Of_Risk] AS [Country_Of_Risk], 
    [Project1].[Security_Type_Code] AS [Security_Type_Code], 
    [Project1].[Price_Multiplier] AS [Price_Multiplier], 
    [Project1].[Income_Frequency] AS [Income_Frequency], 
    [Project1].[Issuer_Code] AS [Issuer_Code], 
    [Project1].[Ultimate_Issuer_Code] AS [Ultimate_Issuer_Code], 
    [Project1].[Asset_Currency] AS [Asset_Currency], 
    [Project1].[Min_Lot_Size] AS [Min_Lot_Size], 
    [Project1].[Decimal_Precision] AS [Decimal_Precision], 
    [Project1].[AvePrice_Rounding] AS [AvePrice_Rounding], 
    [Project1].[Issue_Date] AS [Issue_Date], 
    [Project1].[Maturity_Date] AS [Maturity_Date], 
    [Project1].[Coupon_Rate] AS [Coupon_Rate], 
    [Project1].[Price_Exchange] AS [Price_Exchange], 
    [Project1].[Trade_Currency] AS [Trade_Currency], 
    [Project1].[Price_Curr] AS [Price_Curr], 
    [Project1].[Currency_Pair_Code] AS [Currency_Pair_Code], 
    [Project1].[Share_Class] AS [Share_Class], 
    [Project1].[Current_Market_Price] AS [Current_Market_Price], 
    [Project1].[Index_Type] AS [Index_Type], 
    [Project1].[Clean_Price_Formula] AS [Clean_Price_Formula], 
    [Project1].[Accrued_Income_Price_Formula] AS [Accrued_Income_Price_Formula], 
    [Project1].[Odd_First_Coupon_Date] AS [Odd_First_Coupon_Date], 
    [Project1].[Odd_Last_Coupon_Date] AS [Odd_Last_Coupon_Date], 
    [Project1].[Coupon_Anniversary_Indicator] AS [Coupon_Anniversary_Indicator], 
    [Project1].[Track_EOM_Flag] AS [Track_EOM_Flag], 
    [Project1].[Next_Coupon_Date] AS [Next_Coupon_Date], 
    [Project1].[Previous_Coupon_Date] AS [Previous_Coupon_Date], 
    [Project1].[Payment_Frequency] AS [Payment_Frequency], 
    [Project1].[Coupon_BusDay_Adjustment] AS [Coupon_BusDay_Adjustment], 
    [Project1].[Next_Ex_Div_Date] AS [Next_Ex_Div_Date], 
    [Project1].[Ex_Div_BusDay_Adjustment] AS [Ex_Div_BusDay_Adjustment], 
    [Project1].[Ex_Div_Period] AS [Ex_Div_Period], 
    [Project1].[Ticker] AS [Ticker], 
    [Project1].[Inet_ID] AS [Inet_ID], 
    [Project1].[Bloomberg_ID] AS [Bloomberg_ID], 
    [Project1].[External_Sec_ID] AS [External_Sec_ID], 
    [Project1].[Reuters_ID] AS [Reuters_ID], 
    [Project1].[ISIN] AS [ISIN], 
    [Project1].[Call_Account_Flag] AS [Call_Account_Flag], 
    [Project1].[System_Locked] AS [System_Locked], 
    [Project1].[Last_Update_User] AS [Last_Update_User], 
    [Project1].[Last_Update_Date] AS [Last_Update_Date], 
    [Project1].[Security_Status] AS [Security_Status], 
    [Project1].[Benchmark_Portfolio] AS [Benchmark_Portfolio], 
    [Project1].[Active_flag] AS [Active_flag], 
    [Project1].[Dividend_FX_Security_ID] AS [Dividend_FX_Security_ID]
    FROM ( SELECT 
        [Extent1].[Security_ID] AS [Security_ID], 
        [Extent1].[Entity_ID] AS [Entity_ID], 
        [Extent1].[Security_Name] AS [Security_Name], 
        [Extent1].[Short_Name] AS [Short_Name], 
        [Extent1].[Primary_Exch] AS [Primary_Exch], 
        [Extent1].[Secondary_Exch] AS [Secondary_Exch], 
        [Extent1].[Country_Of_Domicile] AS [Country_Of_Domicile], 
        [Extent1].[Country_Of_Risk] AS [Country_Of_Risk], 
        [Extent1].[Security_Type_Code] AS [Security_Type_Code], 
        [Extent1].[Price_Multiplier] AS [Price_Multiplier], 
        [Extent1].[Income_Frequency] AS [Income_Frequency], 
        [Extent1].[Issuer_Code] AS [Issuer_Code], 
        [Extent1].[Ultimate_Issuer_Code] AS [Ultimate_Issuer_Code], 
        [Extent1].[Asset_Currency] AS [Asset_Currency], 
        [Extent1].[Min_Lot_Size] AS [Min_Lot_Size], 
        [Extent1].[Decimal_Precision] AS [Decimal_Precision], 
        [Extent1].[AvePrice_Rounding] AS [AvePrice_Rounding], 
        [Extent1].[Issue_Date] AS [Issue_Date], 
        [Extent1].[Maturity_Date] AS [Maturity_Date], 
        [Extent1].[Coupon_Rate] AS [Coupon_Rate], 
        [Extent1].[Price_Exchange] AS [Price_Exchange], 
        [Extent1].[Trade_Currency] AS [Trade_Currency], 
        [Extent1].[Price_Curr] AS [Price_Curr], 
        [Extent1].[Currency_Pair_Code] AS [Currency_Pair_Code], 
        [Extent1].[Share_Class] AS [Share_Class], 
        [Extent1].[Current_Market_Price] AS [Current_Market_Price], 
        [Extent1].[Index_Type] AS [Index_Type], 
        [Extent1].[Clean_Price_Formula] AS [Clean_Price_Formula], 
        [Extent1].[Accrued_Income_Price_Formula] AS [Accrued_Income_Price_Formula], 
        [Extent1].[Odd_First_Coupon_Date] AS [Odd_First_Coupon_Date], 
        [Extent1].[Odd_Last_Coupon_Date] AS [Odd_Last_Coupon_Date], 
        [Extent1].[Coupon_Anniversary_Indicator] AS [Coupon_Anniversary_Indicator], 
        [Extent1].[Track_EOM_Flag] AS [Track_EOM_Flag], 
        [Extent1].[Next_Coupon_Date] AS [Next_Coupon_Date], 
        [Extent1].[Previous_Coupon_Date] AS [Previous_Coupon_Date], 
        [Extent1].[Payment_Frequency] AS [Payment_Frequency], 
        [Extent1].[Coupon_BusDay_Adjustment] AS [Coupon_BusDay_Adjustment], 
        [Extent1].[Next_Ex_Div_Date] AS [Next_Ex_Div_Date], 
        [Extent1].[Ex_Div_BusDay_Adjustment] AS [Ex_Div_BusDay_Adjustment], 
        [Extent1].[Ex_Div_Period] AS [Ex_Div_Period], 
        [Extent1].[Ticker] AS [Ticker], 
        [Extent1].[Inet_ID] AS [Inet_ID], 
        [Extent1].[Bloomberg_ID] AS [Bloomberg_ID], 
        [Extent1].[External_Sec_ID] AS [External_Sec_ID], 
        [Extent1].[Reuters_ID] AS [Reuters_ID], 
        [Extent1].[ISIN] AS [ISIN], 
        [Extent1].[Call_Account_Flag] AS [Call_Account_Flag], 
        [Extent1].[System_Locked] AS [System_Locked], 
        [Extent1].[Last_Update_User] AS [Last_Update_User], 
        [Extent1].[Last_Update_Date] AS [Last_Update_Date], 
        [Extent1].[Security_Status] AS [Security_Status], 
        [Extent1].[Benchmark_Portfolio] AS [Benchmark_Portfolio], 
        [Extent1].[Active_flag] AS [Active_flag], 
        [Extent1].[Dividend_FX_Security_ID] AS [Dividend_FX_Security_ID]
        FROM [dbo].[Security_Detail] AS [Extent1]
        WHERE ([Extent1].[Entity_ID] IN (@p__linq__0,@p__linq__1)) AND ((CASE WHEN ( NOT ((N'' = @p__linq__2) AND (@p__linq__2 IS NOT NULL))) THEN CASE WHEN ([Extent1].[Security_Type_Code] = @p__linq__3) THEN cast(1 as bit) WHEN ( NOT (([Extent1].[Security_Type_Code] = @p__linq__3) AND (0 = (CASE WHEN (@p__linq__3 IS NULL) THEN cast(1 as bit) ELSE cast(0 as bit) END)))) THEN cast(0 as bit) END WHEN ('' <> [Extent1].[Security_Type_Code]) THEN cast(1 as bit) WHEN ('' = [Extent1].[Security_Type_Code]) THEN cast(0 as bit) END) = 1)
    )  AS [Project1]
    ORDER BY [Project1].[Security_Name] ASC
2018-04-07 18:27:49.4100|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: IF db_id(N'MetopeAzureDb') IS NOT NULL SELECT 1 ELSE SELECT Count(*) FROM sys.databases WHERE [name]=N'MetopeAzureDb'
2018-04-07 18:27:49.4305|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: IF db_id(N'MetopeAzureDb') IS NOT NULL SELECT 1 ELSE SELECT Count(*) FROM sys.databases WHERE [name]=N'MetopeAzureDb'
2018-04-07 18:27:49.4580|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: IF db_id(N'MetopeAzureDb') IS NOT NULL SELECT 1 ELSE SELECT Count(*) FROM sys.databases WHERE [name]=N'MetopeAzureDb'
2018-04-07 18:27:49.4825|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: IF db_id(N'MetopeAzureDb') IS NOT NULL SELECT 1 ELSE SELECT Count(*) FROM sys.databases WHERE [name]=N'MetopeAzureDb'
2018-04-07 18:28:16.0682|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: SELECT 
    [Extent1].[Entity_ID] AS [Entity_ID], 
    [Extent1].[Security_ID] AS [Security_ID], 
    [Extent1].[Issued_Amount] AS [Issued_Amount], 
    [Extent1].[Market_Capitalisation] AS [Market_Capitalisation], 
    [Extent1].[Risk_Premium] AS [Risk_Premium], 
    [Extent1].[Exit_Price] AS [Exit_Price], 
    [Extent1].[Total_Return_ME_1YR] AS [Total_Return_ME_1YR], 
    [Extent1].[Total_Return_ME_2YR] AS [Total_Return_ME_2YR], 
    [Extent1].[Total_Return_ME_3YR] AS [Total_Return_ME_3YR], 
    [Extent1].[Historic_Distribution] AS [Historic_Distribution], 
    [Extent1].[Distribution_Growth_Forecast_Yr1] AS [Distribution_Growth_Forecast_Yr1], 
    [Extent1].[Distribution_Growth_Forecast_Yr2] AS [Distribution_Growth_Forecast_Yr2], 
    [Extent1].[Distribution_Growth_Forecast_Yr3] AS [Distribution_Growth_Forecast_Yr3], 
    [Extent1].[Forecast_Distribution_Yr1] AS [Forecast_Distribution_Yr1], 
    [Extent1].[Forecast_Distribution_Yr2] AS [Forecast_Distribution_Yr2], 
    [Extent1].[Forecast_Distribution_Yr3] AS [Forecast_Distribution_Yr3], 
    [Extent1].[Earnings_Growth_Compounded] AS [Earnings_Growth_Compounded], 
    [Extent1].[Earnings_Forecast_Yr3] AS [Earnings_Forecast_Yr3], 
    [Extent1].[Historic_Dividend_Yield_FYE] AS [Historic_Dividend_Yield_FYE], 
    [Extent1].[Forward_Dividend_Yield_FYE] AS [Forward_Dividend_Yield_FYE], 
    [Extent1].[Yr3_Forward_Dividend_Yield] AS [Yr3_Forward_Dividend_Yield], 
    [Extent1].[Rolling_12M_Forward_Yield] AS [Rolling_12M_Forward_Yield], 
    [Extent1].[Historical_Earnings_FYE] AS [Historical_Earnings_FYE], 
    [Extent1].[Earnings_Forecast_Yr1] AS [Earnings_Forecast_Yr1], 
    [Extent1].[Earnings_Forecast_Yr2] AS [Earnings_Forecast_Yr2], 
    [Extent1].[Historic_Dividend_Yield_Relative] AS [Historic_Dividend_Yield_Relative], 
    [Extent1].[Rolling_12M_Historic_Distribution_PriceCurr] AS [Rolling_12M_Historic_Distribution_PriceCurr], 
    [Extent1].[Short_Term_Market_Rerate] AS [Short_Term_Market_Rerate], 
    [Extent1].[Forecast_12M_Total_Return] AS [Forecast_12M_Total_Return], 
    [Extent1].[Clean_Price] AS [Clean_Price], 
    [Extent1].[Rolling_Dividend_Yield_Historic] AS [Rolling_Dividend_Yield_Historic], 
    [Extent1].[Last_Update_Date] AS [Last_Update_Date], 
    [Extent1].[Last_Update_User] AS [Last_Update_User], 
    [Extent1].[Discount_Security_ID] AS [Discount_Security_ID], 
    [Extent1].[Net_Present_Value] AS [Net_Present_Value], 
    [Extent1].[Forecast_Rolling_Custom_Income] AS [Forecast_Rolling_Custom_Income], 
    [Extent1].[Custom_Period] AS [Custom_Period], 
    [Extent1].[Rolling_12M_Historic_Distribution] AS [Rolling_12M_Historic_Distribution], 
    [Extent1].[Record_Date] AS [Record_Date], 
    [Extent1].[Session_ID] AS [Session_ID], 
    [Extent1].[Hist_Last_Update_Date] AS [Hist_Last_Update_Date], 
    [Extent1].[Hist_Last_Update_User] AS [Hist_Last_Update_User], 
    [Extent1].[Rolling_12M_Forecast_Distribution] AS [Rolling_12M_Forecast_Distribution], 
    [Extent1].[Yr2_Forward_Dividend_Yield] AS [Yr2_Forward_Dividend_Yield], 
    [Extent1].[Exit_Yield] AS [Exit_Yield], 
    [Extent1].[Discount_Rate] AS [Discount_Rate], 
    [Extent1].[Distribution_Growth_Compounded] AS [Distribution_Growth_Compounded], 
    [Extent1].[Forecast_12MRolling_Income_Accrual] AS [Forecast_12MRolling_Income_Accrual], 
    [Extent1].[Rolling_12_to_24M_Forecast_Distribution] AS [Rolling_12_to_24M_Forecast_Distribution], 
    [Extent1].[Rolling_24_to_36M_Forecast_Distribution] AS [Rolling_24_to_36M_Forecast_Distribution], 
    [Extent1].[Forecast_Yr1_Dividend_Yield_Relative] AS [Forecast_Yr1_Dividend_Yield_Relative], 
    [Extent1].[Market_Historic_Yield] AS [Market_Historic_Yield], 
    [Extent1].[Market_Forward_Yield] AS [Market_Forward_Yield], 
    [Extent1].[Historic_Distribution_PriceCurr] AS [Historic_Distribution_PriceCurr], 
    [Extent1].[Forecast_Distribution_Yr1_PriceCurr] AS [Forecast_Distribution_Yr1_PriceCurr], 
    [Extent1].[Forecast_Distribution_Yr2_PriceCurr] AS [Forecast_Distribution_Yr2_PriceCurr], 
    [Extent1].[Forecast_Distribution_Yr3_PriceCurr] AS [Forecast_Distribution_Yr3_PriceCurr], 
    [Extent1].[Rolling_12M_Forecast_Distribution_PriceCurr] AS [Rolling_12M_Forecast_Distribution_PriceCurr], 
    [Extent1].[Rolling_12_24M_Forecast_Distribution_PriceCurr] AS [Rolling_12_24M_Forecast_Distribution_PriceCurr], 
    [Extent1].[Rolling_24_36M_Forecast_Distribution_PriceCurr] AS [Rolling_24_36M_Forecast_Distribution_PriceCurr], 
    [Extent1].[Distribution_Growth_Forecast_Yr4] AS [Distribution_Growth_Forecast_Yr4], 
    [Extent1].[Earnings_Forecast_Yr4] AS [Earnings_Forecast_Yr4], 
    [Extent1].[Forecast_Distribution_Yr4] AS [Forecast_Distribution_Yr4], 
    [Extent1].[Forecast_Distribution_Yr4_PriceCurr] AS [Forecast_Distribution_Yr4_PriceCurr]
    FROM [dbo].[Security_Analytics_History] AS [Extent1]
    WHERE ([Extent1].[Security_ID] = @p__linq__0) AND ([Extent1].[Record_Date] = @p__linq__1) AND ([Extent1].[Entity_ID] = @p__linq__2)
2018-04-07 18:28:16.2508|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: SELECT 
    [Extent1].[Entity_ID] AS [Entity_ID], 
    [Extent1].[Security_ID] AS [Security_ID], 
    [Extent1].[Issued_Amount] AS [Issued_Amount], 
    [Extent1].[Market_Capitalisation] AS [Market_Capitalisation], 
    [Extent1].[Risk_Premium] AS [Risk_Premium], 
    [Extent1].[Exit_Price] AS [Exit_Price], 
    [Extent1].[Total_Return_ME_1YR] AS [Total_Return_ME_1YR], 
    [Extent1].[Total_Return_ME_2YR] AS [Total_Return_ME_2YR], 
    [Extent1].[Total_Return_ME_3YR] AS [Total_Return_ME_3YR], 
    [Extent1].[Historic_Distribution] AS [Historic_Distribution], 
    [Extent1].[Distribution_Growth_Forecast_Yr1] AS [Distribution_Growth_Forecast_Yr1], 
    [Extent1].[Distribution_Growth_Forecast_Yr2] AS [Distribution_Growth_Forecast_Yr2], 
    [Extent1].[Distribution_Growth_Forecast_Yr3] AS [Distribution_Growth_Forecast_Yr3], 
    [Extent1].[Forecast_Distribution_Yr1] AS [Forecast_Distribution_Yr1], 
    [Extent1].[Forecast_Distribution_Yr2] AS [Forecast_Distribution_Yr2], 
    [Extent1].[Forecast_Distribution_Yr3] AS [Forecast_Distribution_Yr3], 
    [Extent1].[Earnings_Growth_Compounded] AS [Earnings_Growth_Compounded], 
    [Extent1].[Earnings_Forecast_Yr3] AS [Earnings_Forecast_Yr3], 
    [Extent1].[Historic_Dividend_Yield_FYE] AS [Historic_Dividend_Yield_FYE], 
    [Extent1].[Forward_Dividend_Yield_FYE] AS [Forward_Dividend_Yield_FYE], 
    [Extent1].[Yr3_Forward_Dividend_Yield] AS [Yr3_Forward_Dividend_Yield], 
    [Extent1].[Rolling_12M_Forward_Yield] AS [Rolling_12M_Forward_Yield], 
    [Extent1].[Historical_Earnings_FYE] AS [Historical_Earnings_FYE], 
    [Extent1].[Earnings_Forecast_Yr1] AS [Earnings_Forecast_Yr1], 
    [Extent1].[Earnings_Forecast_Yr2] AS [Earnings_Forecast_Yr2], 
    [Extent1].[Historic_Dividend_Yield_Relative] AS [Historic_Dividend_Yield_Relative], 
    [Extent1].[Rolling_12M_Historic_Distribution_PriceCurr] AS [Rolling_12M_Historic_Distribution_PriceCurr], 
    [Extent1].[Short_Term_Market_Rerate] AS [Short_Term_Market_Rerate], 
    [Extent1].[Forecast_12M_Total_Return] AS [Forecast_12M_Total_Return], 
    [Extent1].[Clean_Price] AS [Clean_Price], 
    [Extent1].[Rolling_Dividend_Yield_Historic] AS [Rolling_Dividend_Yield_Historic], 
    [Extent1].[Last_Update_Date] AS [Last_Update_Date], 
    [Extent1].[Last_Update_User] AS [Last_Update_User], 
    [Extent1].[Discount_Security_ID] AS [Discount_Security_ID], 
    [Extent1].[Net_Present_Value] AS [Net_Present_Value], 
    [Extent1].[Forecast_Rolling_Custom_Income] AS [Forecast_Rolling_Custom_Income], 
    [Extent1].[Custom_Period] AS [Custom_Period], 
    [Extent1].[Rolling_12M_Historic_Distribution] AS [Rolling_12M_Historic_Distribution], 
    [Extent1].[Record_Date] AS [Record_Date], 
    [Extent1].[Session_ID] AS [Session_ID], 
    [Extent1].[Hist_Last_Update_Date] AS [Hist_Last_Update_Date], 
    [Extent1].[Hist_Last_Update_User] AS [Hist_Last_Update_User], 
    [Extent1].[Rolling_12M_Forecast_Distribution] AS [Rolling_12M_Forecast_Distribution], 
    [Extent1].[Yr2_Forward_Dividend_Yield] AS [Yr2_Forward_Dividend_Yield], 
    [Extent1].[Exit_Yield] AS [Exit_Yield], 
    [Extent1].[Discount_Rate] AS [Discount_Rate], 
    [Extent1].[Distribution_Growth_Compounded] AS [Distribution_Growth_Compounded], 
    [Extent1].[Forecast_12MRolling_Income_Accrual] AS [Forecast_12MRolling_Income_Accrual], 
    [Extent1].[Rolling_12_to_24M_Forecast_Distribution] AS [Rolling_12_to_24M_Forecast_Distribution], 
    [Extent1].[Rolling_24_to_36M_Forecast_Distribution] AS [Rolling_24_to_36M_Forecast_Distribution], 
    [Extent1].[Forecast_Yr1_Dividend_Yield_Relative] AS [Forecast_Yr1_Dividend_Yield_Relative], 
    [Extent1].[Market_Historic_Yield] AS [Market_Historic_Yield], 
    [Extent1].[Market_Forward_Yield] AS [Market_Forward_Yield], 
    [Extent1].[Historic_Distribution_PriceCurr] AS [Historic_Distribution_PriceCurr], 
    [Extent1].[Forecast_Distribution_Yr1_PriceCurr] AS [Forecast_Distribution_Yr1_PriceCurr], 
    [Extent1].[Forecast_Distribution_Yr2_PriceCurr] AS [Forecast_Distribution_Yr2_PriceCurr], 
    [Extent1].[Forecast_Distribution_Yr3_PriceCurr] AS [Forecast_Distribution_Yr3_PriceCurr], 
    [Extent1].[Rolling_12M_Forecast_Distribution_PriceCurr] AS [Rolling_12M_Forecast_Distribution_PriceCurr], 
    [Extent1].[Rolling_12_24M_Forecast_Distribution_PriceCurr] AS [Rolling_12_24M_Forecast_Distribution_PriceCurr], 
    [Extent1].[Rolling_24_36M_Forecast_Distribution_PriceCurr] AS [Rolling_24_36M_Forecast_Distribution_PriceCurr], 
    [Extent1].[Distribution_Growth_Forecast_Yr4] AS [Distribution_Growth_Forecast_Yr4], 
    [Extent1].[Earnings_Forecast_Yr4] AS [Earnings_Forecast_Yr4], 
    [Extent1].[Forecast_Distribution_Yr4] AS [Forecast_Distribution_Yr4], 
    [Extent1].[Forecast_Distribution_Yr4_PriceCurr] AS [Forecast_Distribution_Yr4_PriceCurr]
    FROM [dbo].[Security_Analytics_History] AS [Extent1]
    WHERE ([Extent1].[Security_ID] = @p__linq__0) AND ([Extent1].[Record_Date] = @p__linq__1) AND ([Extent1].[Entity_ID] = @p__linq__2)
2018-04-07 18:28:16.2883|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: SELECT 
    [Project1].[Security_ID] AS [Security_ID], 
    [Project1].[Entity_ID] AS [Entity_ID], 
    [Project1].[Security_Name] AS [Security_Name], 
    [Project1].[Short_Name] AS [Short_Name], 
    [Project1].[Primary_Exch] AS [Primary_Exch], 
    [Project1].[Secondary_Exch] AS [Secondary_Exch], 
    [Project1].[Country_Of_Domicile] AS [Country_Of_Domicile], 
    [Project1].[Country_Of_Risk] AS [Country_Of_Risk], 
    [Project1].[Security_Type_Code] AS [Security_Type_Code], 
    [Project1].[Price_Multiplier] AS [Price_Multiplier], 
    [Project1].[Income_Frequency] AS [Income_Frequency], 
    [Project1].[Issuer_Code] AS [Issuer_Code], 
    [Project1].[Ultimate_Issuer_Code] AS [Ultimate_Issuer_Code], 
    [Project1].[Asset_Currency] AS [Asset_Currency], 
    [Project1].[Min_Lot_Size] AS [Min_Lot_Size], 
    [Project1].[Decimal_Precision] AS [Decimal_Precision], 
    [Project1].[AvePrice_Rounding] AS [AvePrice_Rounding], 
    [Project1].[Issue_Date] AS [Issue_Date], 
    [Project1].[Maturity_Date] AS [Maturity_Date], 
    [Project1].[Coupon_Rate] AS [Coupon_Rate], 
    [Project1].[Price_Exchange] AS [Price_Exchange], 
    [Project1].[Trade_Currency] AS [Trade_Currency], 
    [Project1].[Price_Curr] AS [Price_Curr], 
    [Project1].[Currency_Pair_Code] AS [Currency_Pair_Code], 
    [Project1].[Share_Class] AS [Share_Class], 
    [Project1].[Current_Market_Price] AS [Current_Market_Price], 
    [Project1].[Index_Type] AS [Index_Type], 
    [Project1].[Clean_Price_Formula] AS [Clean_Price_Formula], 
    [Project1].[Accrued_Income_Price_Formula] AS [Accrued_Income_Price_Formula], 
    [Project1].[Odd_First_Coupon_Date] AS [Odd_First_Coupon_Date], 
    [Project1].[Odd_Last_Coupon_Date] AS [Odd_Last_Coupon_Date], 
    [Project1].[Coupon_Anniversary_Indicator] AS [Coupon_Anniversary_Indicator], 
    [Project1].[Track_EOM_Flag] AS [Track_EOM_Flag], 
    [Project1].[Next_Coupon_Date] AS [Next_Coupon_Date], 
    [Project1].[Previous_Coupon_Date] AS [Previous_Coupon_Date], 
    [Project1].[Payment_Frequency] AS [Payment_Frequency], 
    [Project1].[Coupon_BusDay_Adjustment] AS [Coupon_BusDay_Adjustment], 
    [Project1].[Next_Ex_Div_Date] AS [Next_Ex_Div_Date], 
    [Project1].[Ex_Div_BusDay_Adjustment] AS [Ex_Div_BusDay_Adjustment], 
    [Project1].[Ex_Div_Period] AS [Ex_Div_Period], 
    [Project1].[Ticker] AS [Ticker], 
    [Project1].[Inet_ID] AS [Inet_ID], 
    [Project1].[Bloomberg_ID] AS [Bloomberg_ID], 
    [Project1].[External_Sec_ID] AS [External_Sec_ID], 
    [Project1].[Reuters_ID] AS [Reuters_ID], 
    [Project1].[ISIN] AS [ISIN], 
    [Project1].[Call_Account_Flag] AS [Call_Account_Flag], 
    [Project1].[System_Locked] AS [System_Locked], 
    [Project1].[Last_Update_User] AS [Last_Update_User], 
    [Project1].[Last_Update_Date] AS [Last_Update_Date], 
    [Project1].[Security_Status] AS [Security_Status], 
    [Project1].[Benchmark_Portfolio] AS [Benchmark_Portfolio], 
    [Project1].[Active_flag] AS [Active_flag], 
    [Project1].[Dividend_FX_Security_ID] AS [Dividend_FX_Security_ID]
    FROM ( SELECT 
        [Extent1].[Security_ID] AS [Security_ID], 
        [Extent1].[Entity_ID] AS [Entity_ID], 
        [Extent1].[Security_Name] AS [Security_Name], 
        [Extent1].[Short_Name] AS [Short_Name], 
        [Extent1].[Primary_Exch] AS [Primary_Exch], 
        [Extent1].[Secondary_Exch] AS [Secondary_Exch], 
        [Extent1].[Country_Of_Domicile] AS [Country_Of_Domicile], 
        [Extent1].[Country_Of_Risk] AS [Country_Of_Risk], 
        [Extent1].[Security_Type_Code] AS [Security_Type_Code], 
        [Extent1].[Price_Multiplier] AS [Price_Multiplier], 
        [Extent1].[Income_Frequency] AS [Income_Frequency], 
        [Extent1].[Issuer_Code] AS [Issuer_Code], 
        [Extent1].[Ultimate_Issuer_Code] AS [Ultimate_Issuer_Code], 
        [Extent1].[Asset_Currency] AS [Asset_Currency], 
        [Extent1].[Min_Lot_Size] AS [Min_Lot_Size], 
        [Extent1].[Decimal_Precision] AS [Decimal_Precision], 
        [Extent1].[AvePrice_Rounding] AS [AvePrice_Rounding], 
        [Extent1].[Issue_Date] AS [Issue_Date], 
        [Extent1].[Maturity_Date] AS [Maturity_Date], 
        [Extent1].[Coupon_Rate] AS [Coupon_Rate], 
        [Extent1].[Price_Exchange] AS [Price_Exchange], 
        [Extent1].[Trade_Currency] AS [Trade_Currency], 
        [Extent1].[Price_Curr] AS [Price_Curr], 
        [Extent1].[Currency_Pair_Code] AS [Currency_Pair_Code], 
        [Extent1].[Share_Class] AS [Share_Class], 
        [Extent1].[Current_Market_Price] AS [Current_Market_Price], 
        [Extent1].[Index_Type] AS [Index_Type], 
        [Extent1].[Clean_Price_Formula] AS [Clean_Price_Formula], 
        [Extent1].[Accrued_Income_Price_Formula] AS [Accrued_Income_Price_Formula], 
        [Extent1].[Odd_First_Coupon_Date] AS [Odd_First_Coupon_Date], 
        [Extent1].[Odd_Last_Coupon_Date] AS [Odd_Last_Coupon_Date], 
        [Extent1].[Coupon_Anniversary_Indicator] AS [Coupon_Anniversary_Indicator], 
        [Extent1].[Track_EOM_Flag] AS [Track_EOM_Flag], 
        [Extent1].[Next_Coupon_Date] AS [Next_Coupon_Date], 
        [Extent1].[Previous_Coupon_Date] AS [Previous_Coupon_Date], 
        [Extent1].[Payment_Frequency] AS [Payment_Frequency], 
        [Extent1].[Coupon_BusDay_Adjustment] AS [Coupon_BusDay_Adjustment], 
        [Extent1].[Next_Ex_Div_Date] AS [Next_Ex_Div_Date], 
        [Extent1].[Ex_Div_BusDay_Adjustment] AS [Ex_Div_BusDay_Adjustment], 
        [Extent1].[Ex_Div_Period] AS [Ex_Div_Period], 
        [Extent1].[Ticker] AS [Ticker], 
        [Extent1].[Inet_ID] AS [Inet_ID], 
        [Extent1].[Bloomberg_ID] AS [Bloomberg_ID], 
        [Extent1].[External_Sec_ID] AS [External_Sec_ID], 
        [Extent1].[Reuters_ID] AS [Reuters_ID], 
        [Extent1].[ISIN] AS [ISIN], 
        [Extent1].[Call_Account_Flag] AS [Call_Account_Flag], 
        [Extent1].[System_Locked] AS [System_Locked], 
        [Extent1].[Last_Update_User] AS [Last_Update_User], 
        [Extent1].[Last_Update_Date] AS [Last_Update_Date], 
        [Extent1].[Security_Status] AS [Security_Status], 
        [Extent1].[Benchmark_Portfolio] AS [Benchmark_Portfolio], 
        [Extent1].[Active_flag] AS [Active_flag], 
        [Extent1].[Dividend_FX_Security_ID] AS [Dividend_FX_Security_ID]
        FROM [dbo].[Security_Detail] AS [Extent1]
        WHERE ([Extent1].[Entity_ID] IN (@p__linq__0,@p__linq__1)) AND ((CASE WHEN ( NOT ((N'' = @p__linq__2) AND (@p__linq__2 IS NOT NULL))) THEN CASE WHEN ([Extent1].[Security_Type_Code] = @p__linq__3) THEN cast(1 as bit) WHEN ( NOT (([Extent1].[Security_Type_Code] = @p__linq__3) AND (0 = (CASE WHEN (@p__linq__3 IS NULL) THEN cast(1 as bit) ELSE cast(0 as bit) END)))) THEN cast(0 as bit) END WHEN ('' <> [Extent1].[Security_Type_Code]) THEN cast(1 as bit) WHEN ('' = [Extent1].[Security_Type_Code]) THEN cast(0 as bit) END) = 1)
    )  AS [Project1]
    ORDER BY [Project1].[Security_Name] ASC
2018-04-07 18:28:16.3514|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: SELECT 
    [Project1].[Security_ID] AS [Security_ID], 
    [Project1].[Entity_ID] AS [Entity_ID], 
    [Project1].[Security_Name] AS [Security_Name], 
    [Project1].[Short_Name] AS [Short_Name], 
    [Project1].[Primary_Exch] AS [Primary_Exch], 
    [Project1].[Secondary_Exch] AS [Secondary_Exch], 
    [Project1].[Country_Of_Domicile] AS [Country_Of_Domicile], 
    [Project1].[Country_Of_Risk] AS [Country_Of_Risk], 
    [Project1].[Security_Type_Code] AS [Security_Type_Code], 
    [Project1].[Price_Multiplier] AS [Price_Multiplier], 
    [Project1].[Income_Frequency] AS [Income_Frequency], 
    [Project1].[Issuer_Code] AS [Issuer_Code], 
    [Project1].[Ultimate_Issuer_Code] AS [Ultimate_Issuer_Code], 
    [Project1].[Asset_Currency] AS [Asset_Currency], 
    [Project1].[Min_Lot_Size] AS [Min_Lot_Size], 
    [Project1].[Decimal_Precision] AS [Decimal_Precision], 
    [Project1].[AvePrice_Rounding] AS [AvePrice_Rounding], 
    [Project1].[Issue_Date] AS [Issue_Date], 
    [Project1].[Maturity_Date] AS [Maturity_Date], 
    [Project1].[Coupon_Rate] AS [Coupon_Rate], 
    [Project1].[Price_Exchange] AS [Price_Exchange], 
    [Project1].[Trade_Currency] AS [Trade_Currency], 
    [Project1].[Price_Curr] AS [Price_Curr], 
    [Project1].[Currency_Pair_Code] AS [Currency_Pair_Code], 
    [Project1].[Share_Class] AS [Share_Class], 
    [Project1].[Current_Market_Price] AS [Current_Market_Price], 
    [Project1].[Index_Type] AS [Index_Type], 
    [Project1].[Clean_Price_Formula] AS [Clean_Price_Formula], 
    [Project1].[Accrued_Income_Price_Formula] AS [Accrued_Income_Price_Formula], 
    [Project1].[Odd_First_Coupon_Date] AS [Odd_First_Coupon_Date], 
    [Project1].[Odd_Last_Coupon_Date] AS [Odd_Last_Coupon_Date], 
    [Project1].[Coupon_Anniversary_Indicator] AS [Coupon_Anniversary_Indicator], 
    [Project1].[Track_EOM_Flag] AS [Track_EOM_Flag], 
    [Project1].[Next_Coupon_Date] AS [Next_Coupon_Date], 
    [Project1].[Previous_Coupon_Date] AS [Previous_Coupon_Date], 
    [Project1].[Payment_Frequency] AS [Payment_Frequency], 
    [Project1].[Coupon_BusDay_Adjustment] AS [Coupon_BusDay_Adjustment], 
    [Project1].[Next_Ex_Div_Date] AS [Next_Ex_Div_Date], 
    [Project1].[Ex_Div_BusDay_Adjustment] AS [Ex_Div_BusDay_Adjustment], 
    [Project1].[Ex_Div_Period] AS [Ex_Div_Period], 
    [Project1].[Ticker] AS [Ticker], 
    [Project1].[Inet_ID] AS [Inet_ID], 
    [Project1].[Bloomberg_ID] AS [Bloomberg_ID], 
    [Project1].[External_Sec_ID] AS [External_Sec_ID], 
    [Project1].[Reuters_ID] AS [Reuters_ID], 
    [Project1].[ISIN] AS [ISIN], 
    [Project1].[Call_Account_Flag] AS [Call_Account_Flag], 
    [Project1].[System_Locked] AS [System_Locked], 
    [Project1].[Last_Update_User] AS [Last_Update_User], 
    [Project1].[Last_Update_Date] AS [Last_Update_Date], 
    [Project1].[Security_Status] AS [Security_Status], 
    [Project1].[Benchmark_Portfolio] AS [Benchmark_Portfolio], 
    [Project1].[Active_flag] AS [Active_flag], 
    [Project1].[Dividend_FX_Security_ID] AS [Dividend_FX_Security_ID]
    FROM ( SELECT 
        [Extent1].[Security_ID] AS [Security_ID], 
        [Extent1].[Entity_ID] AS [Entity_ID], 
        [Extent1].[Security_Name] AS [Security_Name], 
        [Extent1].[Short_Name] AS [Short_Name], 
        [Extent1].[Primary_Exch] AS [Primary_Exch], 
        [Extent1].[Secondary_Exch] AS [Secondary_Exch], 
        [Extent1].[Country_Of_Domicile] AS [Country_Of_Domicile], 
        [Extent1].[Country_Of_Risk] AS [Country_Of_Risk], 
        [Extent1].[Security_Type_Code] AS [Security_Type_Code], 
        [Extent1].[Price_Multiplier] AS [Price_Multiplier], 
        [Extent1].[Income_Frequency] AS [Income_Frequency], 
        [Extent1].[Issuer_Code] AS [Issuer_Code], 
        [Extent1].[Ultimate_Issuer_Code] AS [Ultimate_Issuer_Code], 
        [Extent1].[Asset_Currency] AS [Asset_Currency], 
        [Extent1].[Min_Lot_Size] AS [Min_Lot_Size], 
        [Extent1].[Decimal_Precision] AS [Decimal_Precision], 
        [Extent1].[AvePrice_Rounding] AS [AvePrice_Rounding], 
        [Extent1].[Issue_Date] AS [Issue_Date], 
        [Extent1].[Maturity_Date] AS [Maturity_Date], 
        [Extent1].[Coupon_Rate] AS [Coupon_Rate], 
        [Extent1].[Price_Exchange] AS [Price_Exchange], 
        [Extent1].[Trade_Currency] AS [Trade_Currency], 
        [Extent1].[Price_Curr] AS [Price_Curr], 
        [Extent1].[Currency_Pair_Code] AS [Currency_Pair_Code], 
        [Extent1].[Share_Class] AS [Share_Class], 
        [Extent1].[Current_Market_Price] AS [Current_Market_Price], 
        [Extent1].[Index_Type] AS [Index_Type], 
        [Extent1].[Clean_Price_Formula] AS [Clean_Price_Formula], 
        [Extent1].[Accrued_Income_Price_Formula] AS [Accrued_Income_Price_Formula], 
        [Extent1].[Odd_First_Coupon_Date] AS [Odd_First_Coupon_Date], 
        [Extent1].[Odd_Last_Coupon_Date] AS [Odd_Last_Coupon_Date], 
        [Extent1].[Coupon_Anniversary_Indicator] AS [Coupon_Anniversary_Indicator], 
        [Extent1].[Track_EOM_Flag] AS [Track_EOM_Flag], 
        [Extent1].[Next_Coupon_Date] AS [Next_Coupon_Date], 
        [Extent1].[Previous_Coupon_Date] AS [Previous_Coupon_Date], 
        [Extent1].[Payment_Frequency] AS [Payment_Frequency], 
        [Extent1].[Coupon_BusDay_Adjustment] AS [Coupon_BusDay_Adjustment], 
        [Extent1].[Next_Ex_Div_Date] AS [Next_Ex_Div_Date], 
        [Extent1].[Ex_Div_BusDay_Adjustment] AS [Ex_Div_BusDay_Adjustment], 
        [Extent1].[Ex_Div_Period] AS [Ex_Div_Period], 
        [Extent1].[Ticker] AS [Ticker], 
        [Extent1].[Inet_ID] AS [Inet_ID], 
        [Extent1].[Bloomberg_ID] AS [Bloomberg_ID], 
        [Extent1].[External_Sec_ID] AS [External_Sec_ID], 
        [Extent1].[Reuters_ID] AS [Reuters_ID], 
        [Extent1].[ISIN] AS [ISIN], 
        [Extent1].[Call_Account_Flag] AS [Call_Account_Flag], 
        [Extent1].[System_Locked] AS [System_Locked], 
        [Extent1].[Last_Update_User] AS [Last_Update_User], 
        [Extent1].[Last_Update_Date] AS [Last_Update_Date], 
        [Extent1].[Security_Status] AS [Security_Status], 
        [Extent1].[Benchmark_Portfolio] AS [Benchmark_Portfolio], 
        [Extent1].[Active_flag] AS [Active_flag], 
        [Extent1].[Dividend_FX_Security_ID] AS [Dividend_FX_Security_ID]
        FROM [dbo].[Security_Detail] AS [Extent1]
        WHERE ([Extent1].[Entity_ID] IN (@p__linq__0,@p__linq__1)) AND ((CASE WHEN ( NOT ((N'' = @p__linq__2) AND (@p__linq__2 IS NOT NULL))) THEN CASE WHEN ([Extent1].[Security_Type_Code] = @p__linq__3) THEN cast(1 as bit) WHEN ( NOT (([Extent1].[Security_Type_Code] = @p__linq__3) AND (0 = (CASE WHEN (@p__linq__3 IS NULL) THEN cast(1 as bit) ELSE cast(0 as bit) END)))) THEN cast(0 as bit) END WHEN ('' <> [Extent1].[Security_Type_Code]) THEN cast(1 as bit) WHEN ('' = [Extent1].[Security_Type_Code]) THEN cast(0 as bit) END) = 1)
    )  AS [Project1]
    ORDER BY [Project1].[Security_Name] ASC
2018-04-07 18:28:16.4509|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: SELECT 
    [Project1].[Security_ID] AS [Security_ID], 
    [Project1].[Entity_ID] AS [Entity_ID], 
    [Project1].[Security_Name] AS [Security_Name], 
    [Project1].[Short_Name] AS [Short_Name], 
    [Project1].[Primary_Exch] AS [Primary_Exch], 
    [Project1].[Secondary_Exch] AS [Secondary_Exch], 
    [Project1].[Country_Of_Domicile] AS [Country_Of_Domicile], 
    [Project1].[Country_Of_Risk] AS [Country_Of_Risk], 
    [Project1].[Security_Type_Code] AS [Security_Type_Code], 
    [Project1].[Price_Multiplier] AS [Price_Multiplier], 
    [Project1].[Income_Frequency] AS [Income_Frequency], 
    [Project1].[Issuer_Code] AS [Issuer_Code], 
    [Project1].[Ultimate_Issuer_Code] AS [Ultimate_Issuer_Code], 
    [Project1].[Asset_Currency] AS [Asset_Currency], 
    [Project1].[Min_Lot_Size] AS [Min_Lot_Size], 
    [Project1].[Decimal_Precision] AS [Decimal_Precision], 
    [Project1].[AvePrice_Rounding] AS [AvePrice_Rounding], 
    [Project1].[Issue_Date] AS [Issue_Date], 
    [Project1].[Maturity_Date] AS [Maturity_Date], 
    [Project1].[Coupon_Rate] AS [Coupon_Rate], 
    [Project1].[Price_Exchange] AS [Price_Exchange], 
    [Project1].[Trade_Currency] AS [Trade_Currency], 
    [Project1].[Price_Curr] AS [Price_Curr], 
    [Project1].[Currency_Pair_Code] AS [Currency_Pair_Code], 
    [Project1].[Share_Class] AS [Share_Class], 
    [Project1].[Current_Market_Price] AS [Current_Market_Price], 
    [Project1].[Index_Type] AS [Index_Type], 
    [Project1].[Clean_Price_Formula] AS [Clean_Price_Formula], 
    [Project1].[Accrued_Income_Price_Formula] AS [Accrued_Income_Price_Formula], 
    [Project1].[Odd_First_Coupon_Date] AS [Odd_First_Coupon_Date], 
    [Project1].[Odd_Last_Coupon_Date] AS [Odd_Last_Coupon_Date], 
    [Project1].[Coupon_Anniversary_Indicator] AS [Coupon_Anniversary_Indicator], 
    [Project1].[Track_EOM_Flag] AS [Track_EOM_Flag], 
    [Project1].[Next_Coupon_Date] AS [Next_Coupon_Date], 
    [Project1].[Previous_Coupon_Date] AS [Previous_Coupon_Date], 
    [Project1].[Payment_Frequency] AS [Payment_Frequency], 
    [Project1].[Coupon_BusDay_Adjustment] AS [Coupon_BusDay_Adjustment], 
    [Project1].[Next_Ex_Div_Date] AS [Next_Ex_Div_Date], 
    [Project1].[Ex_Div_BusDay_Adjustment] AS [Ex_Div_BusDay_Adjustment], 
    [Project1].[Ex_Div_Period] AS [Ex_Div_Period], 
    [Project1].[Ticker] AS [Ticker], 
    [Project1].[Inet_ID] AS [Inet_ID], 
    [Project1].[Bloomberg_ID] AS [Bloomberg_ID], 
    [Project1].[External_Sec_ID] AS [External_Sec_ID], 
    [Project1].[Reuters_ID] AS [Reuters_ID], 
    [Project1].[ISIN] AS [ISIN], 
    [Project1].[Call_Account_Flag] AS [Call_Account_Flag], 
    [Project1].[System_Locked] AS [System_Locked], 
    [Project1].[Last_Update_User] AS [Last_Update_User], 
    [Project1].[Last_Update_Date] AS [Last_Update_Date], 
    [Project1].[Security_Status] AS [Security_Status], 
    [Project1].[Benchmark_Portfolio] AS [Benchmark_Portfolio], 
    [Project1].[Active_flag] AS [Active_flag], 
    [Project1].[Dividend_FX_Security_ID] AS [Dividend_FX_Security_ID]
    FROM ( SELECT 
        [Extent1].[Security_ID] AS [Security_ID], 
        [Extent1].[Entity_ID] AS [Entity_ID], 
        [Extent1].[Security_Name] AS [Security_Name], 
        [Extent1].[Short_Name] AS [Short_Name], 
        [Extent1].[Primary_Exch] AS [Primary_Exch], 
        [Extent1].[Secondary_Exch] AS [Secondary_Exch], 
        [Extent1].[Country_Of_Domicile] AS [Country_Of_Domicile], 
        [Extent1].[Country_Of_Risk] AS [Country_Of_Risk], 
        [Extent1].[Security_Type_Code] AS [Security_Type_Code], 
        [Extent1].[Price_Multiplier] AS [Price_Multiplier], 
        [Extent1].[Income_Frequency] AS [Income_Frequency], 
        [Extent1].[Issuer_Code] AS [Issuer_Code], 
        [Extent1].[Ultimate_Issuer_Code] AS [Ultimate_Issuer_Code], 
        [Extent1].[Asset_Currency] AS [Asset_Currency], 
        [Extent1].[Min_Lot_Size] AS [Min_Lot_Size], 
        [Extent1].[Decimal_Precision] AS [Decimal_Precision], 
        [Extent1].[AvePrice_Rounding] AS [AvePrice_Rounding], 
        [Extent1].[Issue_Date] AS [Issue_Date], 
        [Extent1].[Maturity_Date] AS [Maturity_Date], 
        [Extent1].[Coupon_Rate] AS [Coupon_Rate], 
        [Extent1].[Price_Exchange] AS [Price_Exchange], 
        [Extent1].[Trade_Currency] AS [Trade_Currency], 
        [Extent1].[Price_Curr] AS [Price_Curr], 
        [Extent1].[Currency_Pair_Code] AS [Currency_Pair_Code], 
        [Extent1].[Share_Class] AS [Share_Class], 
        [Extent1].[Current_Market_Price] AS [Current_Market_Price], 
        [Extent1].[Index_Type] AS [Index_Type], 
        [Extent1].[Clean_Price_Formula] AS [Clean_Price_Formula], 
        [Extent1].[Accrued_Income_Price_Formula] AS [Accrued_Income_Price_Formula], 
        [Extent1].[Odd_First_Coupon_Date] AS [Odd_First_Coupon_Date], 
        [Extent1].[Odd_Last_Coupon_Date] AS [Odd_Last_Coupon_Date], 
        [Extent1].[Coupon_Anniversary_Indicator] AS [Coupon_Anniversary_Indicator], 
        [Extent1].[Track_EOM_Flag] AS [Track_EOM_Flag], 
        [Extent1].[Next_Coupon_Date] AS [Next_Coupon_Date], 
        [Extent1].[Previous_Coupon_Date] AS [Previous_Coupon_Date], 
        [Extent1].[Payment_Frequency] AS [Payment_Frequency], 
        [Extent1].[Coupon_BusDay_Adjustment] AS [Coupon_BusDay_Adjustment], 
        [Extent1].[Next_Ex_Div_Date] AS [Next_Ex_Div_Date], 
        [Extent1].[Ex_Div_BusDay_Adjustment] AS [Ex_Div_BusDay_Adjustment], 
        [Extent1].[Ex_Div_Period] AS [Ex_Div_Period], 
        [Extent1].[Ticker] AS [Ticker], 
        [Extent1].[Inet_ID] AS [Inet_ID], 
        [Extent1].[Bloomberg_ID] AS [Bloomberg_ID], 
        [Extent1].[External_Sec_ID] AS [External_Sec_ID], 
        [Extent1].[Reuters_ID] AS [Reuters_ID], 
        [Extent1].[ISIN] AS [ISIN], 
        [Extent1].[Call_Account_Flag] AS [Call_Account_Flag], 
        [Extent1].[System_Locked] AS [System_Locked], 
        [Extent1].[Last_Update_User] AS [Last_Update_User], 
        [Extent1].[Last_Update_Date] AS [Last_Update_Date], 
        [Extent1].[Security_Status] AS [Security_Status], 
        [Extent1].[Benchmark_Portfolio] AS [Benchmark_Portfolio], 
        [Extent1].[Active_flag] AS [Active_flag], 
        [Extent1].[Dividend_FX_Security_ID] AS [Dividend_FX_Security_ID]
        FROM [dbo].[Security_Detail] AS [Extent1]
        WHERE ([Extent1].[Entity_ID] IN (@p__linq__0,@p__linq__1)) AND ((CASE WHEN ( NOT ((N'' = @p__linq__2) AND (@p__linq__2 IS NOT NULL))) THEN CASE WHEN ([Extent1].[Security_Type_Code] = @p__linq__3) THEN cast(1 as bit) WHEN ( NOT (([Extent1].[Security_Type_Code] = @p__linq__3) AND (0 = (CASE WHEN (@p__linq__3 IS NULL) THEN cast(1 as bit) ELSE cast(0 as bit) END)))) THEN cast(0 as bit) END WHEN ('' <> [Extent1].[Security_Type_Code]) THEN cast(1 as bit) WHEN ('' = [Extent1].[Security_Type_Code]) THEN cast(0 as bit) END) = 1)
    )  AS [Project1]
    ORDER BY [Project1].[Security_Name] ASC
2018-04-07 18:28:16.5305|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: SELECT 
    [Project1].[Security_ID] AS [Security_ID], 
    [Project1].[Entity_ID] AS [Entity_ID], 
    [Project1].[Security_Name] AS [Security_Name], 
    [Project1].[Short_Name] AS [Short_Name], 
    [Project1].[Primary_Exch] AS [Primary_Exch], 
    [Project1].[Secondary_Exch] AS [Secondary_Exch], 
    [Project1].[Country_Of_Domicile] AS [Country_Of_Domicile], 
    [Project1].[Country_Of_Risk] AS [Country_Of_Risk], 
    [Project1].[Security_Type_Code] AS [Security_Type_Code], 
    [Project1].[Price_Multiplier] AS [Price_Multiplier], 
    [Project1].[Income_Frequency] AS [Income_Frequency], 
    [Project1].[Issuer_Code] AS [Issuer_Code], 
    [Project1].[Ultimate_Issuer_Code] AS [Ultimate_Issuer_Code], 
    [Project1].[Asset_Currency] AS [Asset_Currency], 
    [Project1].[Min_Lot_Size] AS [Min_Lot_Size], 
    [Project1].[Decimal_Precision] AS [Decimal_Precision], 
    [Project1].[AvePrice_Rounding] AS [AvePrice_Rounding], 
    [Project1].[Issue_Date] AS [Issue_Date], 
    [Project1].[Maturity_Date] AS [Maturity_Date], 
    [Project1].[Coupon_Rate] AS [Coupon_Rate], 
    [Project1].[Price_Exchange] AS [Price_Exchange], 
    [Project1].[Trade_Currency] AS [Trade_Currency], 
    [Project1].[Price_Curr] AS [Price_Curr], 
    [Project1].[Currency_Pair_Code] AS [Currency_Pair_Code], 
    [Project1].[Share_Class] AS [Share_Class], 
    [Project1].[Current_Market_Price] AS [Current_Market_Price], 
    [Project1].[Index_Type] AS [Index_Type], 
    [Project1].[Clean_Price_Formula] AS [Clean_Price_Formula], 
    [Project1].[Accrued_Income_Price_Formula] AS [Accrued_Income_Price_Formula], 
    [Project1].[Odd_First_Coupon_Date] AS [Odd_First_Coupon_Date], 
    [Project1].[Odd_Last_Coupon_Date] AS [Odd_Last_Coupon_Date], 
    [Project1].[Coupon_Anniversary_Indicator] AS [Coupon_Anniversary_Indicator], 
    [Project1].[Track_EOM_Flag] AS [Track_EOM_Flag], 
    [Project1].[Next_Coupon_Date] AS [Next_Coupon_Date], 
    [Project1].[Previous_Coupon_Date] AS [Previous_Coupon_Date], 
    [Project1].[Payment_Frequency] AS [Payment_Frequency], 
    [Project1].[Coupon_BusDay_Adjustment] AS [Coupon_BusDay_Adjustment], 
    [Project1].[Next_Ex_Div_Date] AS [Next_Ex_Div_Date], 
    [Project1].[Ex_Div_BusDay_Adjustment] AS [Ex_Div_BusDay_Adjustment], 
    [Project1].[Ex_Div_Period] AS [Ex_Div_Period], 
    [Project1].[Ticker] AS [Ticker], 
    [Project1].[Inet_ID] AS [Inet_ID], 
    [Project1].[Bloomberg_ID] AS [Bloomberg_ID], 
    [Project1].[External_Sec_ID] AS [External_Sec_ID], 
    [Project1].[Reuters_ID] AS [Reuters_ID], 
    [Project1].[ISIN] AS [ISIN], 
    [Project1].[Call_Account_Flag] AS [Call_Account_Flag], 
    [Project1].[System_Locked] AS [System_Locked], 
    [Project1].[Last_Update_User] AS [Last_Update_User], 
    [Project1].[Last_Update_Date] AS [Last_Update_Date], 
    [Project1].[Security_Status] AS [Security_Status], 
    [Project1].[Benchmark_Portfolio] AS [Benchmark_Portfolio], 
    [Project1].[Active_flag] AS [Active_flag], 
    [Project1].[Dividend_FX_Security_ID] AS [Dividend_FX_Security_ID]
    FROM ( SELECT 
        [Extent1].[Security_ID] AS [Security_ID], 
        [Extent1].[Entity_ID] AS [Entity_ID], 
        [Extent1].[Security_Name] AS [Security_Name], 
        [Extent1].[Short_Name] AS [Short_Name], 
        [Extent1].[Primary_Exch] AS [Primary_Exch], 
        [Extent1].[Secondary_Exch] AS [Secondary_Exch], 
        [Extent1].[Country_Of_Domicile] AS [Country_Of_Domicile], 
        [Extent1].[Country_Of_Risk] AS [Country_Of_Risk], 
        [Extent1].[Security_Type_Code] AS [Security_Type_Code], 
        [Extent1].[Price_Multiplier] AS [Price_Multiplier], 
        [Extent1].[Income_Frequency] AS [Income_Frequency], 
        [Extent1].[Issuer_Code] AS [Issuer_Code], 
        [Extent1].[Ultimate_Issuer_Code] AS [Ultimate_Issuer_Code], 
        [Extent1].[Asset_Currency] AS [Asset_Currency], 
        [Extent1].[Min_Lot_Size] AS [Min_Lot_Size], 
        [Extent1].[Decimal_Precision] AS [Decimal_Precision], 
        [Extent1].[AvePrice_Rounding] AS [AvePrice_Rounding], 
        [Extent1].[Issue_Date] AS [Issue_Date], 
        [Extent1].[Maturity_Date] AS [Maturity_Date], 
        [Extent1].[Coupon_Rate] AS [Coupon_Rate], 
        [Extent1].[Price_Exchange] AS [Price_Exchange], 
        [Extent1].[Trade_Currency] AS [Trade_Currency], 
        [Extent1].[Price_Curr] AS [Price_Curr], 
        [Extent1].[Currency_Pair_Code] AS [Currency_Pair_Code], 
        [Extent1].[Share_Class] AS [Share_Class], 
        [Extent1].[Current_Market_Price] AS [Current_Market_Price], 
        [Extent1].[Index_Type] AS [Index_Type], 
        [Extent1].[Clean_Price_Formula] AS [Clean_Price_Formula], 
        [Extent1].[Accrued_Income_Price_Formula] AS [Accrued_Income_Price_Formula], 
        [Extent1].[Odd_First_Coupon_Date] AS [Odd_First_Coupon_Date], 
        [Extent1].[Odd_Last_Coupon_Date] AS [Odd_Last_Coupon_Date], 
        [Extent1].[Coupon_Anniversary_Indicator] AS [Coupon_Anniversary_Indicator], 
        [Extent1].[Track_EOM_Flag] AS [Track_EOM_Flag], 
        [Extent1].[Next_Coupon_Date] AS [Next_Coupon_Date], 
        [Extent1].[Previous_Coupon_Date] AS [Previous_Coupon_Date], 
        [Extent1].[Payment_Frequency] AS [Payment_Frequency], 
        [Extent1].[Coupon_BusDay_Adjustment] AS [Coupon_BusDay_Adjustment], 
        [Extent1].[Next_Ex_Div_Date] AS [Next_Ex_Div_Date], 
        [Extent1].[Ex_Div_BusDay_Adjustment] AS [Ex_Div_BusDay_Adjustment], 
        [Extent1].[Ex_Div_Period] AS [Ex_Div_Period], 
        [Extent1].[Ticker] AS [Ticker], 
        [Extent1].[Inet_ID] AS [Inet_ID], 
        [Extent1].[Bloomberg_ID] AS [Bloomberg_ID], 
        [Extent1].[External_Sec_ID] AS [External_Sec_ID], 
        [Extent1].[Reuters_ID] AS [Reuters_ID], 
        [Extent1].[ISIN] AS [ISIN], 
        [Extent1].[Call_Account_Flag] AS [Call_Account_Flag], 
        [Extent1].[System_Locked] AS [System_Locked], 
        [Extent1].[Last_Update_User] AS [Last_Update_User], 
        [Extent1].[Last_Update_Date] AS [Last_Update_Date], 
        [Extent1].[Security_Status] AS [Security_Status], 
        [Extent1].[Benchmark_Portfolio] AS [Benchmark_Portfolio], 
        [Extent1].[Active_flag] AS [Active_flag], 
        [Extent1].[Dividend_FX_Security_ID] AS [Dividend_FX_Security_ID]
        FROM [dbo].[Security_Detail] AS [Extent1]
        WHERE ([Extent1].[Entity_ID] IN (@p__linq__0,@p__linq__1)) AND ((CASE WHEN ( NOT ((N'' = @p__linq__2) AND (@p__linq__2 IS NOT NULL))) THEN CASE WHEN ([Extent1].[Security_Type_Code] = @p__linq__3) THEN cast(1 as bit) WHEN ( NOT (([Extent1].[Security_Type_Code] = @p__linq__3) AND (0 = (CASE WHEN (@p__linq__3 IS NULL) THEN cast(1 as bit) ELSE cast(0 as bit) END)))) THEN cast(0 as bit) END WHEN ('' <> [Extent1].[Security_Type_Code]) THEN cast(1 as bit) WHEN ('' = [Extent1].[Security_Type_Code]) THEN cast(0 as bit) END) = 1)
    )  AS [Project1]
    ORDER BY [Project1].[Security_Name] ASC
2018-04-07 18:28:16.6110|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: IF db_id(N'MetopeAzureDb') IS NOT NULL SELECT 1 ELSE SELECT Count(*) FROM sys.databases WHERE [name]=N'MetopeAzureDb'
2018-04-07 18:28:16.8107|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: IF db_id(N'MetopeAzureDb') IS NOT NULL SELECT 1 ELSE SELECT Count(*) FROM sys.databases WHERE [name]=N'MetopeAzureDb'
2018-04-07 18:28:16.9623|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: IF db_id(N'MetopeAzureDb') IS NOT NULL SELECT 1 ELSE SELECT Count(*) FROM sys.databases WHERE [name]=N'MetopeAzureDb'
2018-04-07 18:28:17.0203|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: IF db_id(N'MetopeAzureDb') IS NOT NULL SELECT 1 ELSE SELECT Count(*) FROM sys.databases WHERE [name]=N'MetopeAzureDb'
2018-04-07 18:30:58.3285|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: select cast(serverproperty('EngineEdition') as int)
2018-04-07 18:30:58.3560|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: select cast(serverproperty('EngineEdition') as int)
2018-04-07 18:30:58.5646|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: IF db_id(N'MetopeAzureDb') IS NOT NULL SELECT 1 ELSE SELECT Count(*) FROM sys.databases WHERE [name]=N'MetopeAzureDb'
2018-04-07 18:30:58.6092|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: IF db_id(N'MetopeAzureDb') IS NOT NULL SELECT 1 ELSE SELECT Count(*) FROM sys.databases WHERE [name]=N'MetopeAzureDb'
2018-04-07 18:30:58.7052|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: IF db_id(N'MetopeAzureDb') IS NOT NULL SELECT 1 ELSE SELECT Count(*) FROM sys.databases WHERE [name]=N'MetopeAzureDb'
2018-04-07 18:30:58.7052|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: IF db_id(N'MetopeAzureDb') IS NOT NULL SELECT 1 ELSE SELECT Count(*) FROM sys.databases WHERE [name]=N'MetopeAzureDb'
2018-04-07 18:30:58.7227|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: 
SELECT Count(*)
FROM INFORMATION_SCHEMA.TABLES AS t
WHERE t.TABLE_SCHEMA + '.' + t.TABLE_NAME IN ('dbo.AspNetRoles','dbo.AspNetUserRoles','dbo.AspNetUsers','dbo.AspNetUserClaims','dbo.AspNetUserLogins')
    OR t.TABLE_NAME = 'EdmMetadata'
2018-04-07 18:30:58.7468|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: 
SELECT Count(*)
FROM INFORMATION_SCHEMA.TABLES AS t
WHERE t.TABLE_SCHEMA + '.' + t.TABLE_NAME IN ('dbo.AspNetRoles','dbo.AspNetUserRoles','dbo.AspNetUsers','dbo.AspNetUserClaims','dbo.AspNetUserLogins')
    OR t.TABLE_NAME = 'EdmMetadata'
2018-04-07 18:30:58.8628|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: SELECT 
    [GroupBy1].[A1] AS [C1]
    FROM ( SELECT 
        COUNT(1) AS [A1]
        FROM [dbo].[__MigrationHistory] AS [Extent1]
        WHERE [Extent1].[ContextKey] = @p__linq__0
    )  AS [GroupBy1]
2018-04-07 18:30:58.8769|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: SELECT 
    [GroupBy1].[A1] AS [C1]
    FROM ( SELECT 
        COUNT(1) AS [A1]
        FROM [dbo].[__MigrationHistory] AS [Extent1]
        WHERE [Extent1].[ContextKey] = @p__linq__0
    )  AS [GroupBy1]
2018-04-07 18:30:58.8999|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: SELECT TOP (1) 
    [Project1].[C1] AS [C1], 
    [Project1].[MigrationId] AS [MigrationId], 
    [Project1].[Model] AS [Model], 
    [Project1].[ProductVersion] AS [ProductVersion]
    FROM ( SELECT 
        [Extent1].[MigrationId] AS [MigrationId], 
        [Extent1].[Model] AS [Model], 
        [Extent1].[ProductVersion] AS [ProductVersion], 
        1 AS [C1]
        FROM [dbo].[__MigrationHistory] AS [Extent1]
        WHERE [Extent1].[ContextKey] = @p__linq__0
    )  AS [Project1]
    ORDER BY [Project1].[MigrationId] DESC
2018-04-07 18:30:58.9104|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: SELECT TOP (1) 
    [Project1].[C1] AS [C1], 
    [Project1].[MigrationId] AS [MigrationId], 
    [Project1].[Model] AS [Model], 
    [Project1].[ProductVersion] AS [ProductVersion]
    FROM ( SELECT 
        [Extent1].[MigrationId] AS [MigrationId], 
        [Extent1].[Model] AS [Model], 
        [Extent1].[ProductVersion] AS [ProductVersion], 
        1 AS [C1]
        FROM [dbo].[__MigrationHistory] AS [Extent1]
        WHERE [Extent1].[ContextKey] = @p__linq__0
    )  AS [Project1]
    ORDER BY [Project1].[MigrationId] DESC
2018-04-07 18:30:59.0540|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: True, Command Text: SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[EntityIdScope] AS [EntityIdScope], 
    [Extent1].[Email] AS [Email], 
    [Extent1].[EmailConfirmed] AS [EmailConfirmed], 
    [Extent1].[PasswordHash] AS [PasswordHash], 
    [Extent1].[SecurityStamp] AS [SecurityStamp], 
    [Extent1].[PhoneNumber] AS [PhoneNumber], 
    [Extent1].[PhoneNumberConfirmed] AS [PhoneNumberConfirmed], 
    [Extent1].[TwoFactorEnabled] AS [TwoFactorEnabled], 
    [Extent1].[LockoutEndDateUtc] AS [LockoutEndDateUtc], 
    [Extent1].[LockoutEnabled] AS [LockoutEnabled], 
    [Extent1].[AccessFailedCount] AS [AccessFailedCount], 
    [Extent1].[UserName] AS [UserName]
    FROM [dbo].[AspNetUsers] AS [Extent1]
    WHERE [Extent1].[Id] = @p0
2018-04-07 18:30:59.0660|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: True, Command Text: SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[EntityIdScope] AS [EntityIdScope], 
    [Extent1].[Email] AS [Email], 
    [Extent1].[EmailConfirmed] AS [EmailConfirmed], 
    [Extent1].[PasswordHash] AS [PasswordHash], 
    [Extent1].[SecurityStamp] AS [SecurityStamp], 
    [Extent1].[PhoneNumber] AS [PhoneNumber], 
    [Extent1].[PhoneNumberConfirmed] AS [PhoneNumberConfirmed], 
    [Extent1].[TwoFactorEnabled] AS [TwoFactorEnabled], 
    [Extent1].[LockoutEndDateUtc] AS [LockoutEndDateUtc], 
    [Extent1].[LockoutEnabled] AS [LockoutEnabled], 
    [Extent1].[AccessFailedCount] AS [AccessFailedCount], 
    [Extent1].[UserName] AS [UserName]
    FROM [dbo].[AspNetUsers] AS [Extent1]
    WHERE [Extent1].[Id] = @p0
2018-04-07 18:30:59.1235|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: True, Command Text: SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[UserId] AS [UserId], 
    [Extent1].[ClaimType] AS [ClaimType], 
    [Extent1].[ClaimValue] AS [ClaimValue]
    FROM [dbo].[AspNetUserClaims] AS [Extent1]
    WHERE [Extent1].[UserId] = @p__linq__0
2018-04-07 18:30:59.1325|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: True, Command Text: SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[UserId] AS [UserId], 
    [Extent1].[ClaimType] AS [ClaimType], 
    [Extent1].[ClaimValue] AS [ClaimValue]
    FROM [dbo].[AspNetUserClaims] AS [Extent1]
    WHERE [Extent1].[UserId] = @p__linq__0
2018-04-07 18:30:59.1716|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: True, Command Text: SELECT 
    [Extent1].[LoginProvider] AS [LoginProvider], 
    [Extent1].[ProviderKey] AS [ProviderKey], 
    [Extent1].[UserId] AS [UserId]
    FROM [dbo].[AspNetUserLogins] AS [Extent1]
    WHERE [Extent1].[UserId] = @p__linq__0
2018-04-07 18:30:59.1716|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: True, Command Text: SELECT 
    [Extent1].[LoginProvider] AS [LoginProvider], 
    [Extent1].[ProviderKey] AS [ProviderKey], 
    [Extent1].[UserId] AS [UserId]
    FROM [dbo].[AspNetUserLogins] AS [Extent1]
    WHERE [Extent1].[UserId] = @p__linq__0
2018-04-07 18:30:59.2156|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: True, Command Text: SELECT 
    [Extent1].[UserId] AS [UserId], 
    [Extent1].[RoleId] AS [RoleId]
    FROM [dbo].[AspNetUserRoles] AS [Extent1]
    WHERE [Extent1].[UserId] = @p__linq__0
2018-04-07 18:30:59.2246|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: True, Command Text: SELECT 
    [Extent1].[UserId] AS [UserId], 
    [Extent1].[RoleId] AS [RoleId]
    FROM [dbo].[AspNetUserRoles] AS [Extent1]
    WHERE [Extent1].[UserId] = @p__linq__0
2018-04-07 18:31:01.6023|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: SELECT 
    [Project1].[Security_ID] AS [Security_ID], 
    [Project1].[Entity_ID] AS [Entity_ID], 
    [Project1].[Security_Name] AS [Security_Name], 
    [Project1].[Short_Name] AS [Short_Name], 
    [Project1].[Primary_Exch] AS [Primary_Exch], 
    [Project1].[Secondary_Exch] AS [Secondary_Exch], 
    [Project1].[Country_Of_Domicile] AS [Country_Of_Domicile], 
    [Project1].[Country_Of_Risk] AS [Country_Of_Risk], 
    [Project1].[Security_Type_Code] AS [Security_Type_Code], 
    [Project1].[Price_Multiplier] AS [Price_Multiplier], 
    [Project1].[Income_Frequency] AS [Income_Frequency], 
    [Project1].[Issuer_Code] AS [Issuer_Code], 
    [Project1].[Ultimate_Issuer_Code] AS [Ultimate_Issuer_Code], 
    [Project1].[Asset_Currency] AS [Asset_Currency], 
    [Project1].[Min_Lot_Size] AS [Min_Lot_Size], 
    [Project1].[Decimal_Precision] AS [Decimal_Precision], 
    [Project1].[AvePrice_Rounding] AS [AvePrice_Rounding], 
    [Project1].[Issue_Date] AS [Issue_Date], 
    [Project1].[Maturity_Date] AS [Maturity_Date], 
    [Project1].[Coupon_Rate] AS [Coupon_Rate], 
    [Project1].[Price_Exchange] AS [Price_Exchange], 
    [Project1].[Trade_Currency] AS [Trade_Currency], 
    [Project1].[Price_Curr] AS [Price_Curr], 
    [Project1].[Currency_Pair_Code] AS [Currency_Pair_Code], 
    [Project1].[Share_Class] AS [Share_Class], 
    [Project1].[Current_Market_Price] AS [Current_Market_Price], 
    [Project1].[Index_Type] AS [Index_Type], 
    [Project1].[Clean_Price_Formula] AS [Clean_Price_Formula], 
    [Project1].[Accrued_Income_Price_Formula] AS [Accrued_Income_Price_Formula], 
    [Project1].[Odd_First_Coupon_Date] AS [Odd_First_Coupon_Date], 
    [Project1].[Odd_Last_Coupon_Date] AS [Odd_Last_Coupon_Date], 
    [Project1].[Coupon_Anniversary_Indicator] AS [Coupon_Anniversary_Indicator], 
    [Project1].[Track_EOM_Flag] AS [Track_EOM_Flag], 
    [Project1].[Next_Coupon_Date] AS [Next_Coupon_Date], 
    [Project1].[Previous_Coupon_Date] AS [Previous_Coupon_Date], 
    [Project1].[Payment_Frequency] AS [Payment_Frequency], 
    [Project1].[Coupon_BusDay_Adjustment] AS [Coupon_BusDay_Adjustment], 
    [Project1].[Next_Ex_Div_Date] AS [Next_Ex_Div_Date], 
    [Project1].[Ex_Div_BusDay_Adjustment] AS [Ex_Div_BusDay_Adjustment], 
    [Project1].[Ex_Div_Period] AS [Ex_Div_Period], 
    [Project1].[Ticker] AS [Ticker], 
    [Project1].[Inet_ID] AS [Inet_ID], 
    [Project1].[Bloomberg_ID] AS [Bloomberg_ID], 
    [Project1].[External_Sec_ID] AS [External_Sec_ID], 
    [Project1].[Reuters_ID] AS [Reuters_ID], 
    [Project1].[ISIN] AS [ISIN], 
    [Project1].[Call_Account_Flag] AS [Call_Account_Flag], 
    [Project1].[System_Locked] AS [System_Locked], 
    [Project1].[Last_Update_User] AS [Last_Update_User], 
    [Project1].[Last_Update_Date] AS [Last_Update_Date], 
    [Project1].[Security_Status] AS [Security_Status], 
    [Project1].[Benchmark_Portfolio] AS [Benchmark_Portfolio], 
    [Project1].[Active_flag] AS [Active_flag], 
    [Project1].[Dividend_FX_Security_ID] AS [Dividend_FX_Security_ID]
    FROM ( SELECT 
        [Extent1].[Security_ID] AS [Security_ID], 
        [Extent1].[Entity_ID] AS [Entity_ID], 
        [Extent1].[Security_Name] AS [Security_Name], 
        [Extent1].[Short_Name] AS [Short_Name], 
        [Extent1].[Primary_Exch] AS [Primary_Exch], 
        [Extent1].[Secondary_Exch] AS [Secondary_Exch], 
        [Extent1].[Country_Of_Domicile] AS [Country_Of_Domicile], 
        [Extent1].[Country_Of_Risk] AS [Country_Of_Risk], 
        [Extent1].[Security_Type_Code] AS [Security_Type_Code], 
        [Extent1].[Price_Multiplier] AS [Price_Multiplier], 
        [Extent1].[Income_Frequency] AS [Income_Frequency], 
        [Extent1].[Issuer_Code] AS [Issuer_Code], 
        [Extent1].[Ultimate_Issuer_Code] AS [Ultimate_Issuer_Code], 
        [Extent1].[Asset_Currency] AS [Asset_Currency], 
        [Extent1].[Min_Lot_Size] AS [Min_Lot_Size], 
        [Extent1].[Decimal_Precision] AS [Decimal_Precision], 
        [Extent1].[AvePrice_Rounding] AS [AvePrice_Rounding], 
        [Extent1].[Issue_Date] AS [Issue_Date], 
        [Extent1].[Maturity_Date] AS [Maturity_Date], 
        [Extent1].[Coupon_Rate] AS [Coupon_Rate], 
        [Extent1].[Price_Exchange] AS [Price_Exchange], 
        [Extent1].[Trade_Currency] AS [Trade_Currency], 
        [Extent1].[Price_Curr] AS [Price_Curr], 
        [Extent1].[Currency_Pair_Code] AS [Currency_Pair_Code], 
        [Extent1].[Share_Class] AS [Share_Class], 
        [Extent1].[Current_Market_Price] AS [Current_Market_Price], 
        [Extent1].[Index_Type] AS [Index_Type], 
        [Extent1].[Clean_Price_Formula] AS [Clean_Price_Formula], 
        [Extent1].[Accrued_Income_Price_Formula] AS [Accrued_Income_Price_Formula], 
        [Extent1].[Odd_First_Coupon_Date] AS [Odd_First_Coupon_Date], 
        [Extent1].[Odd_Last_Coupon_Date] AS [Odd_Last_Coupon_Date], 
        [Extent1].[Coupon_Anniversary_Indicator] AS [Coupon_Anniversary_Indicator], 
        [Extent1].[Track_EOM_Flag] AS [Track_EOM_Flag], 
        [Extent1].[Next_Coupon_Date] AS [Next_Coupon_Date], 
        [Extent1].[Previous_Coupon_Date] AS [Previous_Coupon_Date], 
        [Extent1].[Payment_Frequency] AS [Payment_Frequency], 
        [Extent1].[Coupon_BusDay_Adjustment] AS [Coupon_BusDay_Adjustment], 
        [Extent1].[Next_Ex_Div_Date] AS [Next_Ex_Div_Date], 
        [Extent1].[Ex_Div_BusDay_Adjustment] AS [Ex_Div_BusDay_Adjustment], 
        [Extent1].[Ex_Div_Period] AS [Ex_Div_Period], 
        [Extent1].[Ticker] AS [Ticker], 
        [Extent1].[Inet_ID] AS [Inet_ID], 
        [Extent1].[Bloomberg_ID] AS [Bloomberg_ID], 
        [Extent1].[External_Sec_ID] AS [External_Sec_ID], 
        [Extent1].[Reuters_ID] AS [Reuters_ID], 
        [Extent1].[ISIN] AS [ISIN], 
        [Extent1].[Call_Account_Flag] AS [Call_Account_Flag], 
        [Extent1].[System_Locked] AS [System_Locked], 
        [Extent1].[Last_Update_User] AS [Last_Update_User], 
        [Extent1].[Last_Update_Date] AS [Last_Update_Date], 
        [Extent1].[Security_Status] AS [Security_Status], 
        [Extent1].[Benchmark_Portfolio] AS [Benchmark_Portfolio], 
        [Extent1].[Active_flag] AS [Active_flag], 
        [Extent1].[Dividend_FX_Security_ID] AS [Dividend_FX_Security_ID]
        FROM [dbo].[Security_Detail] AS [Extent1]
        WHERE ([Extent1].[Entity_ID] IN (@p__linq__0,@p__linq__1)) AND ((CASE WHEN ( NOT ((N'' = @p__linq__2) AND (@p__linq__2 IS NOT NULL))) THEN CASE WHEN ([Extent1].[Security_Type_Code] = @p__linq__3) THEN cast(1 as bit) WHEN ( NOT (([Extent1].[Security_Type_Code] = @p__linq__3) AND (0 = (CASE WHEN (@p__linq__3 IS NULL) THEN cast(1 as bit) ELSE cast(0 as bit) END)))) THEN cast(0 as bit) END WHEN ('' <> [Extent1].[Security_Type_Code]) THEN cast(1 as bit) WHEN ('' = [Extent1].[Security_Type_Code]) THEN cast(0 as bit) END) = 1)
    )  AS [Project1]
    ORDER BY [Project1].[Security_Name] ASC
2018-04-07 18:31:01.7319|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: SELECT 
    [Project1].[Security_ID] AS [Security_ID], 
    [Project1].[Entity_ID] AS [Entity_ID], 
    [Project1].[Security_Name] AS [Security_Name], 
    [Project1].[Short_Name] AS [Short_Name], 
    [Project1].[Primary_Exch] AS [Primary_Exch], 
    [Project1].[Secondary_Exch] AS [Secondary_Exch], 
    [Project1].[Country_Of_Domicile] AS [Country_Of_Domicile], 
    [Project1].[Country_Of_Risk] AS [Country_Of_Risk], 
    [Project1].[Security_Type_Code] AS [Security_Type_Code], 
    [Project1].[Price_Multiplier] AS [Price_Multiplier], 
    [Project1].[Income_Frequency] AS [Income_Frequency], 
    [Project1].[Issuer_Code] AS [Issuer_Code], 
    [Project1].[Ultimate_Issuer_Code] AS [Ultimate_Issuer_Code], 
    [Project1].[Asset_Currency] AS [Asset_Currency], 
    [Project1].[Min_Lot_Size] AS [Min_Lot_Size], 
    [Project1].[Decimal_Precision] AS [Decimal_Precision], 
    [Project1].[AvePrice_Rounding] AS [AvePrice_Rounding], 
    [Project1].[Issue_Date] AS [Issue_Date], 
    [Project1].[Maturity_Date] AS [Maturity_Date], 
    [Project1].[Coupon_Rate] AS [Coupon_Rate], 
    [Project1].[Price_Exchange] AS [Price_Exchange], 
    [Project1].[Trade_Currency] AS [Trade_Currency], 
    [Project1].[Price_Curr] AS [Price_Curr], 
    [Project1].[Currency_Pair_Code] AS [Currency_Pair_Code], 
    [Project1].[Share_Class] AS [Share_Class], 
    [Project1].[Current_Market_Price] AS [Current_Market_Price], 
    [Project1].[Index_Type] AS [Index_Type], 
    [Project1].[Clean_Price_Formula] AS [Clean_Price_Formula], 
    [Project1].[Accrued_Income_Price_Formula] AS [Accrued_Income_Price_Formula], 
    [Project1].[Odd_First_Coupon_Date] AS [Odd_First_Coupon_Date], 
    [Project1].[Odd_Last_Coupon_Date] AS [Odd_Last_Coupon_Date], 
    [Project1].[Coupon_Anniversary_Indicator] AS [Coupon_Anniversary_Indicator], 
    [Project1].[Track_EOM_Flag] AS [Track_EOM_Flag], 
    [Project1].[Next_Coupon_Date] AS [Next_Coupon_Date], 
    [Project1].[Previous_Coupon_Date] AS [Previous_Coupon_Date], 
    [Project1].[Payment_Frequency] AS [Payment_Frequency], 
    [Project1].[Coupon_BusDay_Adjustment] AS [Coupon_BusDay_Adjustment], 
    [Project1].[Next_Ex_Div_Date] AS [Next_Ex_Div_Date], 
    [Project1].[Ex_Div_BusDay_Adjustment] AS [Ex_Div_BusDay_Adjustment], 
    [Project1].[Ex_Div_Period] AS [Ex_Div_Period], 
    [Project1].[Ticker] AS [Ticker], 
    [Project1].[Inet_ID] AS [Inet_ID], 
    [Project1].[Bloomberg_ID] AS [Bloomberg_ID], 
    [Project1].[External_Sec_ID] AS [External_Sec_ID], 
    [Project1].[Reuters_ID] AS [Reuters_ID], 
    [Project1].[ISIN] AS [ISIN], 
    [Project1].[Call_Account_Flag] AS [Call_Account_Flag], 
    [Project1].[System_Locked] AS [System_Locked], 
    [Project1].[Last_Update_User] AS [Last_Update_User], 
    [Project1].[Last_Update_Date] AS [Last_Update_Date], 
    [Project1].[Security_Status] AS [Security_Status], 
    [Project1].[Benchmark_Portfolio] AS [Benchmark_Portfolio], 
    [Project1].[Active_flag] AS [Active_flag], 
    [Project1].[Dividend_FX_Security_ID] AS [Dividend_FX_Security_ID]
    FROM ( SELECT 
        [Extent1].[Security_ID] AS [Security_ID], 
        [Extent1].[Entity_ID] AS [Entity_ID], 
        [Extent1].[Security_Name] AS [Security_Name], 
        [Extent1].[Short_Name] AS [Short_Name], 
        [Extent1].[Primary_Exch] AS [Primary_Exch], 
        [Extent1].[Secondary_Exch] AS [Secondary_Exch], 
        [Extent1].[Country_Of_Domicile] AS [Country_Of_Domicile], 
        [Extent1].[Country_Of_Risk] AS [Country_Of_Risk], 
        [Extent1].[Security_Type_Code] AS [Security_Type_Code], 
        [Extent1].[Price_Multiplier] AS [Price_Multiplier], 
        [Extent1].[Income_Frequency] AS [Income_Frequency], 
        [Extent1].[Issuer_Code] AS [Issuer_Code], 
        [Extent1].[Ultimate_Issuer_Code] AS [Ultimate_Issuer_Code], 
        [Extent1].[Asset_Currency] AS [Asset_Currency], 
        [Extent1].[Min_Lot_Size] AS [Min_Lot_Size], 
        [Extent1].[Decimal_Precision] AS [Decimal_Precision], 
        [Extent1].[AvePrice_Rounding] AS [AvePrice_Rounding], 
        [Extent1].[Issue_Date] AS [Issue_Date], 
        [Extent1].[Maturity_Date] AS [Maturity_Date], 
        [Extent1].[Coupon_Rate] AS [Coupon_Rate], 
        [Extent1].[Price_Exchange] AS [Price_Exchange], 
        [Extent1].[Trade_Currency] AS [Trade_Currency], 
        [Extent1].[Price_Curr] AS [Price_Curr], 
        [Extent1].[Currency_Pair_Code] AS [Currency_Pair_Code], 
        [Extent1].[Share_Class] AS [Share_Class], 
        [Extent1].[Current_Market_Price] AS [Current_Market_Price], 
        [Extent1].[Index_Type] AS [Index_Type], 
        [Extent1].[Clean_Price_Formula] AS [Clean_Price_Formula], 
        [Extent1].[Accrued_Income_Price_Formula] AS [Accrued_Income_Price_Formula], 
        [Extent1].[Odd_First_Coupon_Date] AS [Odd_First_Coupon_Date], 
        [Extent1].[Odd_Last_Coupon_Date] AS [Odd_Last_Coupon_Date], 
        [Extent1].[Coupon_Anniversary_Indicator] AS [Coupon_Anniversary_Indicator], 
        [Extent1].[Track_EOM_Flag] AS [Track_EOM_Flag], 
        [Extent1].[Next_Coupon_Date] AS [Next_Coupon_Date], 
        [Extent1].[Previous_Coupon_Date] AS [Previous_Coupon_Date], 
        [Extent1].[Payment_Frequency] AS [Payment_Frequency], 
        [Extent1].[Coupon_BusDay_Adjustment] AS [Coupon_BusDay_Adjustment], 
        [Extent1].[Next_Ex_Div_Date] AS [Next_Ex_Div_Date], 
        [Extent1].[Ex_Div_BusDay_Adjustment] AS [Ex_Div_BusDay_Adjustment], 
        [Extent1].[Ex_Div_Period] AS [Ex_Div_Period], 
        [Extent1].[Ticker] AS [Ticker], 
        [Extent1].[Inet_ID] AS [Inet_ID], 
        [Extent1].[Bloomberg_ID] AS [Bloomberg_ID], 
        [Extent1].[External_Sec_ID] AS [External_Sec_ID], 
        [Extent1].[Reuters_ID] AS [Reuters_ID], 
        [Extent1].[ISIN] AS [ISIN], 
        [Extent1].[Call_Account_Flag] AS [Call_Account_Flag], 
        [Extent1].[System_Locked] AS [System_Locked], 
        [Extent1].[Last_Update_User] AS [Last_Update_User], 
        [Extent1].[Last_Update_Date] AS [Last_Update_Date], 
        [Extent1].[Security_Status] AS [Security_Status], 
        [Extent1].[Benchmark_Portfolio] AS [Benchmark_Portfolio], 
        [Extent1].[Active_flag] AS [Active_flag], 
        [Extent1].[Dividend_FX_Security_ID] AS [Dividend_FX_Security_ID]
        FROM [dbo].[Security_Detail] AS [Extent1]
        WHERE ([Extent1].[Entity_ID] IN (@p__linq__0,@p__linq__1)) AND ((CASE WHEN ( NOT ((N'' = @p__linq__2) AND (@p__linq__2 IS NOT NULL))) THEN CASE WHEN ([Extent1].[Security_Type_Code] = @p__linq__3) THEN cast(1 as bit) WHEN ( NOT (([Extent1].[Security_Type_Code] = @p__linq__3) AND (0 = (CASE WHEN (@p__linq__3 IS NULL) THEN cast(1 as bit) ELSE cast(0 as bit) END)))) THEN cast(0 as bit) END WHEN ('' <> [Extent1].[Security_Type_Code]) THEN cast(1 as bit) WHEN ('' = [Extent1].[Security_Type_Code]) THEN cast(0 as bit) END) = 1)
    )  AS [Project1]
    ORDER BY [Project1].[Security_Name] ASC
2018-04-07 18:31:05.1038|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: SELECT 
    [Project1].[Security_ID] AS [Security_ID], 
    [Project1].[Entity_ID] AS [Entity_ID], 
    [Project1].[Security_Name] AS [Security_Name], 
    [Project1].[Short_Name] AS [Short_Name], 
    [Project1].[Primary_Exch] AS [Primary_Exch], 
    [Project1].[Secondary_Exch] AS [Secondary_Exch], 
    [Project1].[Country_Of_Domicile] AS [Country_Of_Domicile], 
    [Project1].[Country_Of_Risk] AS [Country_Of_Risk], 
    [Project1].[Security_Type_Code] AS [Security_Type_Code], 
    [Project1].[Price_Multiplier] AS [Price_Multiplier], 
    [Project1].[Income_Frequency] AS [Income_Frequency], 
    [Project1].[Issuer_Code] AS [Issuer_Code], 
    [Project1].[Ultimate_Issuer_Code] AS [Ultimate_Issuer_Code], 
    [Project1].[Asset_Currency] AS [Asset_Currency], 
    [Project1].[Min_Lot_Size] AS [Min_Lot_Size], 
    [Project1].[Decimal_Precision] AS [Decimal_Precision], 
    [Project1].[AvePrice_Rounding] AS [AvePrice_Rounding], 
    [Project1].[Issue_Date] AS [Issue_Date], 
    [Project1].[Maturity_Date] AS [Maturity_Date], 
    [Project1].[Coupon_Rate] AS [Coupon_Rate], 
    [Project1].[Price_Exchange] AS [Price_Exchange], 
    [Project1].[Trade_Currency] AS [Trade_Currency], 
    [Project1].[Price_Curr] AS [Price_Curr], 
    [Project1].[Currency_Pair_Code] AS [Currency_Pair_Code], 
    [Project1].[Share_Class] AS [Share_Class], 
    [Project1].[Current_Market_Price] AS [Current_Market_Price], 
    [Project1].[Index_Type] AS [Index_Type], 
    [Project1].[Clean_Price_Formula] AS [Clean_Price_Formula], 
    [Project1].[Accrued_Income_Price_Formula] AS [Accrued_Income_Price_Formula], 
    [Project1].[Odd_First_Coupon_Date] AS [Odd_First_Coupon_Date], 
    [Project1].[Odd_Last_Coupon_Date] AS [Odd_Last_Coupon_Date], 
    [Project1].[Coupon_Anniversary_Indicator] AS [Coupon_Anniversary_Indicator], 
    [Project1].[Track_EOM_Flag] AS [Track_EOM_Flag], 
    [Project1].[Next_Coupon_Date] AS [Next_Coupon_Date], 
    [Project1].[Previous_Coupon_Date] AS [Previous_Coupon_Date], 
    [Project1].[Payment_Frequency] AS [Payment_Frequency], 
    [Project1].[Coupon_BusDay_Adjustment] AS [Coupon_BusDay_Adjustment], 
    [Project1].[Next_Ex_Div_Date] AS [Next_Ex_Div_Date], 
    [Project1].[Ex_Div_BusDay_Adjustment] AS [Ex_Div_BusDay_Adjustment], 
    [Project1].[Ex_Div_Period] AS [Ex_Div_Period], 
    [Project1].[Ticker] AS [Ticker], 
    [Project1].[Inet_ID] AS [Inet_ID], 
    [Project1].[Bloomberg_ID] AS [Bloomberg_ID], 
    [Project1].[External_Sec_ID] AS [External_Sec_ID], 
    [Project1].[Reuters_ID] AS [Reuters_ID], 
    [Project1].[ISIN] AS [ISIN], 
    [Project1].[Call_Account_Flag] AS [Call_Account_Flag], 
    [Project1].[System_Locked] AS [System_Locked], 
    [Project1].[Last_Update_User] AS [Last_Update_User], 
    [Project1].[Last_Update_Date] AS [Last_Update_Date], 
    [Project1].[Security_Status] AS [Security_Status], 
    [Project1].[Benchmark_Portfolio] AS [Benchmark_Portfolio], 
    [Project1].[Active_flag] AS [Active_flag], 
    [Project1].[Dividend_FX_Security_ID] AS [Dividend_FX_Security_ID]
    FROM ( SELECT 
        [Extent1].[Security_ID] AS [Security_ID], 
        [Extent1].[Entity_ID] AS [Entity_ID], 
        [Extent1].[Security_Name] AS [Security_Name], 
        [Extent1].[Short_Name] AS [Short_Name], 
        [Extent1].[Primary_Exch] AS [Primary_Exch], 
        [Extent1].[Secondary_Exch] AS [Secondary_Exch], 
        [Extent1].[Country_Of_Domicile] AS [Country_Of_Domicile], 
        [Extent1].[Country_Of_Risk] AS [Country_Of_Risk], 
        [Extent1].[Security_Type_Code] AS [Security_Type_Code], 
        [Extent1].[Price_Multiplier] AS [Price_Multiplier], 
        [Extent1].[Income_Frequency] AS [Income_Frequency], 
        [Extent1].[Issuer_Code] AS [Issuer_Code], 
        [Extent1].[Ultimate_Issuer_Code] AS [Ultimate_Issuer_Code], 
        [Extent1].[Asset_Currency] AS [Asset_Currency], 
        [Extent1].[Min_Lot_Size] AS [Min_Lot_Size], 
        [Extent1].[Decimal_Precision] AS [Decimal_Precision], 
        [Extent1].[AvePrice_Rounding] AS [AvePrice_Rounding], 
        [Extent1].[Issue_Date] AS [Issue_Date], 
        [Extent1].[Maturity_Date] AS [Maturity_Date], 
        [Extent1].[Coupon_Rate] AS [Coupon_Rate], 
        [Extent1].[Price_Exchange] AS [Price_Exchange], 
        [Extent1].[Trade_Currency] AS [Trade_Currency], 
        [Extent1].[Price_Curr] AS [Price_Curr], 
        [Extent1].[Currency_Pair_Code] AS [Currency_Pair_Code], 
        [Extent1].[Share_Class] AS [Share_Class], 
        [Extent1].[Current_Market_Price] AS [Current_Market_Price], 
        [Extent1].[Index_Type] AS [Index_Type], 
        [Extent1].[Clean_Price_Formula] AS [Clean_Price_Formula], 
        [Extent1].[Accrued_Income_Price_Formula] AS [Accrued_Income_Price_Formula], 
        [Extent1].[Odd_First_Coupon_Date] AS [Odd_First_Coupon_Date], 
        [Extent1].[Odd_Last_Coupon_Date] AS [Odd_Last_Coupon_Date], 
        [Extent1].[Coupon_Anniversary_Indicator] AS [Coupon_Anniversary_Indicator], 
        [Extent1].[Track_EOM_Flag] AS [Track_EOM_Flag], 
        [Extent1].[Next_Coupon_Date] AS [Next_Coupon_Date], 
        [Extent1].[Previous_Coupon_Date] AS [Previous_Coupon_Date], 
        [Extent1].[Payment_Frequency] AS [Payment_Frequency], 
        [Extent1].[Coupon_BusDay_Adjustment] AS [Coupon_BusDay_Adjustment], 
        [Extent1].[Next_Ex_Div_Date] AS [Next_Ex_Div_Date], 
        [Extent1].[Ex_Div_BusDay_Adjustment] AS [Ex_Div_BusDay_Adjustment], 
        [Extent1].[Ex_Div_Period] AS [Ex_Div_Period], 
        [Extent1].[Ticker] AS [Ticker], 
        [Extent1].[Inet_ID] AS [Inet_ID], 
        [Extent1].[Bloomberg_ID] AS [Bloomberg_ID], 
        [Extent1].[External_Sec_ID] AS [External_Sec_ID], 
        [Extent1].[Reuters_ID] AS [Reuters_ID], 
        [Extent1].[ISIN] AS [ISIN], 
        [Extent1].[Call_Account_Flag] AS [Call_Account_Flag], 
        [Extent1].[System_Locked] AS [System_Locked], 
        [Extent1].[Last_Update_User] AS [Last_Update_User], 
        [Extent1].[Last_Update_Date] AS [Last_Update_Date], 
        [Extent1].[Security_Status] AS [Security_Status], 
        [Extent1].[Benchmark_Portfolio] AS [Benchmark_Portfolio], 
        [Extent1].[Active_flag] AS [Active_flag], 
        [Extent1].[Dividend_FX_Security_ID] AS [Dividend_FX_Security_ID]
        FROM [dbo].[Security_Detail] AS [Extent1]
        WHERE ([Extent1].[Entity_ID] IN (@p__linq__0,@p__linq__1)) AND ((CASE WHEN ( NOT ((N'' = @p__linq__2) AND (@p__linq__2 IS NOT NULL))) THEN CASE WHEN ([Extent1].[Security_Type_Code] = @p__linq__3) THEN cast(1 as bit) WHEN ( NOT (([Extent1].[Security_Type_Code] = @p__linq__3) AND (0 = (CASE WHEN (@p__linq__3 IS NULL) THEN cast(1 as bit) ELSE cast(0 as bit) END)))) THEN cast(0 as bit) END WHEN ('' <> [Extent1].[Security_Type_Code]) THEN cast(1 as bit) WHEN ('' = [Extent1].[Security_Type_Code]) THEN cast(0 as bit) END) = 1)
    )  AS [Project1]
    ORDER BY [Project1].[Security_Name] ASC
2018-04-07 18:31:05.1918|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: SELECT 
    [Project1].[Security_ID] AS [Security_ID], 
    [Project1].[Entity_ID] AS [Entity_ID], 
    [Project1].[Security_Name] AS [Security_Name], 
    [Project1].[Short_Name] AS [Short_Name], 
    [Project1].[Primary_Exch] AS [Primary_Exch], 
    [Project1].[Secondary_Exch] AS [Secondary_Exch], 
    [Project1].[Country_Of_Domicile] AS [Country_Of_Domicile], 
    [Project1].[Country_Of_Risk] AS [Country_Of_Risk], 
    [Project1].[Security_Type_Code] AS [Security_Type_Code], 
    [Project1].[Price_Multiplier] AS [Price_Multiplier], 
    [Project1].[Income_Frequency] AS [Income_Frequency], 
    [Project1].[Issuer_Code] AS [Issuer_Code], 
    [Project1].[Ultimate_Issuer_Code] AS [Ultimate_Issuer_Code], 
    [Project1].[Asset_Currency] AS [Asset_Currency], 
    [Project1].[Min_Lot_Size] AS [Min_Lot_Size], 
    [Project1].[Decimal_Precision] AS [Decimal_Precision], 
    [Project1].[AvePrice_Rounding] AS [AvePrice_Rounding], 
    [Project1].[Issue_Date] AS [Issue_Date], 
    [Project1].[Maturity_Date] AS [Maturity_Date], 
    [Project1].[Coupon_Rate] AS [Coupon_Rate], 
    [Project1].[Price_Exchange] AS [Price_Exchange], 
    [Project1].[Trade_Currency] AS [Trade_Currency], 
    [Project1].[Price_Curr] AS [Price_Curr], 
    [Project1].[Currency_Pair_Code] AS [Currency_Pair_Code], 
    [Project1].[Share_Class] AS [Share_Class], 
    [Project1].[Current_Market_Price] AS [Current_Market_Price], 
    [Project1].[Index_Type] AS [Index_Type], 
    [Project1].[Clean_Price_Formula] AS [Clean_Price_Formula], 
    [Project1].[Accrued_Income_Price_Formula] AS [Accrued_Income_Price_Formula], 
    [Project1].[Odd_First_Coupon_Date] AS [Odd_First_Coupon_Date], 
    [Project1].[Odd_Last_Coupon_Date] AS [Odd_Last_Coupon_Date], 
    [Project1].[Coupon_Anniversary_Indicator] AS [Coupon_Anniversary_Indicator], 
    [Project1].[Track_EOM_Flag] AS [Track_EOM_Flag], 
    [Project1].[Next_Coupon_Date] AS [Next_Coupon_Date], 
    [Project1].[Previous_Coupon_Date] AS [Previous_Coupon_Date], 
    [Project1].[Payment_Frequency] AS [Payment_Frequency], 
    [Project1].[Coupon_BusDay_Adjustment] AS [Coupon_BusDay_Adjustment], 
    [Project1].[Next_Ex_Div_Date] AS [Next_Ex_Div_Date], 
    [Project1].[Ex_Div_BusDay_Adjustment] AS [Ex_Div_BusDay_Adjustment], 
    [Project1].[Ex_Div_Period] AS [Ex_Div_Period], 
    [Project1].[Ticker] AS [Ticker], 
    [Project1].[Inet_ID] AS [Inet_ID], 
    [Project1].[Bloomberg_ID] AS [Bloomberg_ID], 
    [Project1].[External_Sec_ID] AS [External_Sec_ID], 
    [Project1].[Reuters_ID] AS [Reuters_ID], 
    [Project1].[ISIN] AS [ISIN], 
    [Project1].[Call_Account_Flag] AS [Call_Account_Flag], 
    [Project1].[System_Locked] AS [System_Locked], 
    [Project1].[Last_Update_User] AS [Last_Update_User], 
    [Project1].[Last_Update_Date] AS [Last_Update_Date], 
    [Project1].[Security_Status] AS [Security_Status], 
    [Project1].[Benchmark_Portfolio] AS [Benchmark_Portfolio], 
    [Project1].[Active_flag] AS [Active_flag], 
    [Project1].[Dividend_FX_Security_ID] AS [Dividend_FX_Security_ID]
    FROM ( SELECT 
        [Extent1].[Security_ID] AS [Security_ID], 
        [Extent1].[Entity_ID] AS [Entity_ID], 
        [Extent1].[Security_Name] AS [Security_Name], 
        [Extent1].[Short_Name] AS [Short_Name], 
        [Extent1].[Primary_Exch] AS [Primary_Exch], 
        [Extent1].[Secondary_Exch] AS [Secondary_Exch], 
        [Extent1].[Country_Of_Domicile] AS [Country_Of_Domicile], 
        [Extent1].[Country_Of_Risk] AS [Country_Of_Risk], 
        [Extent1].[Security_Type_Code] AS [Security_Type_Code], 
        [Extent1].[Price_Multiplier] AS [Price_Multiplier], 
        [Extent1].[Income_Frequency] AS [Income_Frequency], 
        [Extent1].[Issuer_Code] AS [Issuer_Code], 
        [Extent1].[Ultimate_Issuer_Code] AS [Ultimate_Issuer_Code], 
        [Extent1].[Asset_Currency] AS [Asset_Currency], 
        [Extent1].[Min_Lot_Size] AS [Min_Lot_Size], 
        [Extent1].[Decimal_Precision] AS [Decimal_Precision], 
        [Extent1].[AvePrice_Rounding] AS [AvePrice_Rounding], 
        [Extent1].[Issue_Date] AS [Issue_Date], 
        [Extent1].[Maturity_Date] AS [Maturity_Date], 
        [Extent1].[Coupon_Rate] AS [Coupon_Rate], 
        [Extent1].[Price_Exchange] AS [Price_Exchange], 
        [Extent1].[Trade_Currency] AS [Trade_Currency], 
        [Extent1].[Price_Curr] AS [Price_Curr], 
        [Extent1].[Currency_Pair_Code] AS [Currency_Pair_Code], 
        [Extent1].[Share_Class] AS [Share_Class], 
        [Extent1].[Current_Market_Price] AS [Current_Market_Price], 
        [Extent1].[Index_Type] AS [Index_Type], 
        [Extent1].[Clean_Price_Formula] AS [Clean_Price_Formula], 
        [Extent1].[Accrued_Income_Price_Formula] AS [Accrued_Income_Price_Formula], 
        [Extent1].[Odd_First_Coupon_Date] AS [Odd_First_Coupon_Date], 
        [Extent1].[Odd_Last_Coupon_Date] AS [Odd_Last_Coupon_Date], 
        [Extent1].[Coupon_Anniversary_Indicator] AS [Coupon_Anniversary_Indicator], 
        [Extent1].[Track_EOM_Flag] AS [Track_EOM_Flag], 
        [Extent1].[Next_Coupon_Date] AS [Next_Coupon_Date], 
        [Extent1].[Previous_Coupon_Date] AS [Previous_Coupon_Date], 
        [Extent1].[Payment_Frequency] AS [Payment_Frequency], 
        [Extent1].[Coupon_BusDay_Adjustment] AS [Coupon_BusDay_Adjustment], 
        [Extent1].[Next_Ex_Div_Date] AS [Next_Ex_Div_Date], 
        [Extent1].[Ex_Div_BusDay_Adjustment] AS [Ex_Div_BusDay_Adjustment], 
        [Extent1].[Ex_Div_Period] AS [Ex_Div_Period], 
        [Extent1].[Ticker] AS [Ticker], 
        [Extent1].[Inet_ID] AS [Inet_ID], 
        [Extent1].[Bloomberg_ID] AS [Bloomberg_ID], 
        [Extent1].[External_Sec_ID] AS [External_Sec_ID], 
        [Extent1].[Reuters_ID] AS [Reuters_ID], 
        [Extent1].[ISIN] AS [ISIN], 
        [Extent1].[Call_Account_Flag] AS [Call_Account_Flag], 
        [Extent1].[System_Locked] AS [System_Locked], 
        [Extent1].[Last_Update_User] AS [Last_Update_User], 
        [Extent1].[Last_Update_Date] AS [Last_Update_Date], 
        [Extent1].[Security_Status] AS [Security_Status], 
        [Extent1].[Benchmark_Portfolio] AS [Benchmark_Portfolio], 
        [Extent1].[Active_flag] AS [Active_flag], 
        [Extent1].[Dividend_FX_Security_ID] AS [Dividend_FX_Security_ID]
        FROM [dbo].[Security_Detail] AS [Extent1]
        WHERE ([Extent1].[Entity_ID] IN (@p__linq__0,@p__linq__1)) AND ((CASE WHEN ( NOT ((N'' = @p__linq__2) AND (@p__linq__2 IS NOT NULL))) THEN CASE WHEN ([Extent1].[Security_Type_Code] = @p__linq__3) THEN cast(1 as bit) WHEN ( NOT (([Extent1].[Security_Type_Code] = @p__linq__3) AND (0 = (CASE WHEN (@p__linq__3 IS NULL) THEN cast(1 as bit) ELSE cast(0 as bit) END)))) THEN cast(0 as bit) END WHEN ('' <> [Extent1].[Security_Type_Code]) THEN cast(1 as bit) WHEN ('' = [Extent1].[Security_Type_Code]) THEN cast(0 as bit) END) = 1)
    )  AS [Project1]
    ORDER BY [Project1].[Security_Name] ASC
2018-04-07 18:31:12.1763|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: IF db_id(N'MetopeAzureDb') IS NOT NULL SELECT 1 ELSE SELECT Count(*) FROM sys.databases WHERE [name]=N'MetopeAzureDb'
2018-04-07 18:31:12.1863|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: IF db_id(N'MetopeAzureDb') IS NOT NULL SELECT 1 ELSE SELECT Count(*) FROM sys.databases WHERE [name]=N'MetopeAzureDb'
2018-04-07 18:31:12.2023|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: IF db_id(N'MetopeAzureDb') IS NOT NULL SELECT 1 ELSE SELECT Count(*) FROM sys.databases WHERE [name]=N'MetopeAzureDb'
2018-04-07 18:31:12.2023|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: IF db_id(N'MetopeAzureDb') IS NOT NULL SELECT 1 ELSE SELECT Count(*) FROM sys.databases WHERE [name]=N'MetopeAzureDb'
2018-04-07 18:31:12.2264|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: True, Command Text: SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[EntityIdScope] AS [EntityIdScope], 
    [Extent1].[Email] AS [Email], 
    [Extent1].[EmailConfirmed] AS [EmailConfirmed], 
    [Extent1].[PasswordHash] AS [PasswordHash], 
    [Extent1].[SecurityStamp] AS [SecurityStamp], 
    [Extent1].[PhoneNumber] AS [PhoneNumber], 
    [Extent1].[PhoneNumberConfirmed] AS [PhoneNumberConfirmed], 
    [Extent1].[TwoFactorEnabled] AS [TwoFactorEnabled], 
    [Extent1].[LockoutEndDateUtc] AS [LockoutEndDateUtc], 
    [Extent1].[LockoutEnabled] AS [LockoutEnabled], 
    [Extent1].[AccessFailedCount] AS [AccessFailedCount], 
    [Extent1].[UserName] AS [UserName]
    FROM [dbo].[AspNetUsers] AS [Extent1]
    WHERE [Extent1].[Id] = @p0
2018-04-07 18:31:12.2369|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: True, Command Text: SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[EntityIdScope] AS [EntityIdScope], 
    [Extent1].[Email] AS [Email], 
    [Extent1].[EmailConfirmed] AS [EmailConfirmed], 
    [Extent1].[PasswordHash] AS [PasswordHash], 
    [Extent1].[SecurityStamp] AS [SecurityStamp], 
    [Extent1].[PhoneNumber] AS [PhoneNumber], 
    [Extent1].[PhoneNumberConfirmed] AS [PhoneNumberConfirmed], 
    [Extent1].[TwoFactorEnabled] AS [TwoFactorEnabled], 
    [Extent1].[LockoutEndDateUtc] AS [LockoutEndDateUtc], 
    [Extent1].[LockoutEnabled] AS [LockoutEnabled], 
    [Extent1].[AccessFailedCount] AS [AccessFailedCount], 
    [Extent1].[UserName] AS [UserName]
    FROM [dbo].[AspNetUsers] AS [Extent1]
    WHERE [Extent1].[Id] = @p0
2018-04-07 18:31:12.2369|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: True, Command Text: SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[UserId] AS [UserId], 
    [Extent1].[ClaimType] AS [ClaimType], 
    [Extent1].[ClaimValue] AS [ClaimValue]
    FROM [dbo].[AspNetUserClaims] AS [Extent1]
    WHERE [Extent1].[UserId] = @p__linq__0
2018-04-07 18:31:12.2579|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: True, Command Text: SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[UserId] AS [UserId], 
    [Extent1].[ClaimType] AS [ClaimType], 
    [Extent1].[ClaimValue] AS [ClaimValue]
    FROM [dbo].[AspNetUserClaims] AS [Extent1]
    WHERE [Extent1].[UserId] = @p__linq__0
2018-04-07 18:31:12.2694|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: True, Command Text: SELECT 
    [Extent1].[LoginProvider] AS [LoginProvider], 
    [Extent1].[ProviderKey] AS [ProviderKey], 
    [Extent1].[UserId] AS [UserId]
    FROM [dbo].[AspNetUserLogins] AS [Extent1]
    WHERE [Extent1].[UserId] = @p__linq__0
2018-04-07 18:31:12.2694|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: True, Command Text: SELECT 
    [Extent1].[LoginProvider] AS [LoginProvider], 
    [Extent1].[ProviderKey] AS [ProviderKey], 
    [Extent1].[UserId] AS [UserId]
    FROM [dbo].[AspNetUserLogins] AS [Extent1]
    WHERE [Extent1].[UserId] = @p__linq__0
2018-04-07 18:31:12.2919|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: True, Command Text: SELECT 
    [Extent1].[UserId] AS [UserId], 
    [Extent1].[RoleId] AS [RoleId]
    FROM [dbo].[AspNetUserRoles] AS [Extent1]
    WHERE [Extent1].[UserId] = @p__linq__0
2018-04-07 18:31:12.3024|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: True, Command Text: SELECT 
    [Extent1].[UserId] AS [UserId], 
    [Extent1].[RoleId] AS [RoleId]
    FROM [dbo].[AspNetUserRoles] AS [Extent1]
    WHERE [Extent1].[UserId] = @p__linq__0
2018-04-07 18:31:12.3790|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: SELECT TOP (2) 
    [Extent1].[Entity_ID] AS [Entity_ID], 
    [Extent1].[Entity_Code] AS [Entity_Code], 
    [Extent1].[Entity_Name] AS [Entity_Name], 
    [Extent1].[Import_Folder] AS [Import_Folder], 
    [Extent1].[Export_Folder] AS [Export_Folder]
    FROM [dbo].[Entity] AS [Extent1]
    WHERE [Extent1].[Entity_ID] = @p0
2018-04-07 18:31:12.3965|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: SELECT TOP (2) 
    [Extent1].[Entity_ID] AS [Entity_ID], 
    [Extent1].[Entity_Code] AS [Entity_Code], 
    [Extent1].[Entity_Name] AS [Entity_Name], 
    [Extent1].[Import_Folder] AS [Import_Folder], 
    [Extent1].[Export_Folder] AS [Export_Folder]
    FROM [dbo].[Entity] AS [Extent1]
    WHERE [Extent1].[Entity_ID] = @p0
2018-04-07 18:31:24.6583|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: SELECT 
    [Project1].[Security_ID] AS [Security_ID], 
    [Project1].[Entity_ID] AS [Entity_ID], 
    [Project1].[Security_Name] AS [Security_Name], 
    [Project1].[Short_Name] AS [Short_Name], 
    [Project1].[Primary_Exch] AS [Primary_Exch], 
    [Project1].[Secondary_Exch] AS [Secondary_Exch], 
    [Project1].[Country_Of_Domicile] AS [Country_Of_Domicile], 
    [Project1].[Country_Of_Risk] AS [Country_Of_Risk], 
    [Project1].[Security_Type_Code] AS [Security_Type_Code], 
    [Project1].[Price_Multiplier] AS [Price_Multiplier], 
    [Project1].[Income_Frequency] AS [Income_Frequency], 
    [Project1].[Issuer_Code] AS [Issuer_Code], 
    [Project1].[Ultimate_Issuer_Code] AS [Ultimate_Issuer_Code], 
    [Project1].[Asset_Currency] AS [Asset_Currency], 
    [Project1].[Min_Lot_Size] AS [Min_Lot_Size], 
    [Project1].[Decimal_Precision] AS [Decimal_Precision], 
    [Project1].[AvePrice_Rounding] AS [AvePrice_Rounding], 
    [Project1].[Issue_Date] AS [Issue_Date], 
    [Project1].[Maturity_Date] AS [Maturity_Date], 
    [Project1].[Coupon_Rate] AS [Coupon_Rate], 
    [Project1].[Price_Exchange] AS [Price_Exchange], 
    [Project1].[Trade_Currency] AS [Trade_Currency], 
    [Project1].[Price_Curr] AS [Price_Curr], 
    [Project1].[Currency_Pair_Code] AS [Currency_Pair_Code], 
    [Project1].[Share_Class] AS [Share_Class], 
    [Project1].[Current_Market_Price] AS [Current_Market_Price], 
    [Project1].[Index_Type] AS [Index_Type], 
    [Project1].[Clean_Price_Formula] AS [Clean_Price_Formula], 
    [Project1].[Accrued_Income_Price_Formula] AS [Accrued_Income_Price_Formula], 
    [Project1].[Odd_First_Coupon_Date] AS [Odd_First_Coupon_Date], 
    [Project1].[Odd_Last_Coupon_Date] AS [Odd_Last_Coupon_Date], 
    [Project1].[Coupon_Anniversary_Indicator] AS [Coupon_Anniversary_Indicator], 
    [Project1].[Track_EOM_Flag] AS [Track_EOM_Flag], 
    [Project1].[Next_Coupon_Date] AS [Next_Coupon_Date], 
    [Project1].[Previous_Coupon_Date] AS [Previous_Coupon_Date], 
    [Project1].[Payment_Frequency] AS [Payment_Frequency], 
    [Project1].[Coupon_BusDay_Adjustment] AS [Coupon_BusDay_Adjustment], 
    [Project1].[Next_Ex_Div_Date] AS [Next_Ex_Div_Date], 
    [Project1].[Ex_Div_BusDay_Adjustment] AS [Ex_Div_BusDay_Adjustment], 
    [Project1].[Ex_Div_Period] AS [Ex_Div_Period], 
    [Project1].[Ticker] AS [Ticker], 
    [Project1].[Inet_ID] AS [Inet_ID], 
    [Project1].[Bloomberg_ID] AS [Bloomberg_ID], 
    [Project1].[External_Sec_ID] AS [External_Sec_ID], 
    [Project1].[Reuters_ID] AS [Reuters_ID], 
    [Project1].[ISIN] AS [ISIN], 
    [Project1].[Call_Account_Flag] AS [Call_Account_Flag], 
    [Project1].[System_Locked] AS [System_Locked], 
    [Project1].[Last_Update_User] AS [Last_Update_User], 
    [Project1].[Last_Update_Date] AS [Last_Update_Date], 
    [Project1].[Security_Status] AS [Security_Status], 
    [Project1].[Benchmark_Portfolio] AS [Benchmark_Portfolio], 
    [Project1].[Active_flag] AS [Active_flag], 
    [Project1].[Dividend_FX_Security_ID] AS [Dividend_FX_Security_ID]
    FROM ( SELECT 
        [Extent1].[Security_ID] AS [Security_ID], 
        [Extent1].[Entity_ID] AS [Entity_ID], 
        [Extent1].[Security_Name] AS [Security_Name], 
        [Extent1].[Short_Name] AS [Short_Name], 
        [Extent1].[Primary_Exch] AS [Primary_Exch], 
        [Extent1].[Secondary_Exch] AS [Secondary_Exch], 
        [Extent1].[Country_Of_Domicile] AS [Country_Of_Domicile], 
        [Extent1].[Country_Of_Risk] AS [Country_Of_Risk], 
        [Extent1].[Security_Type_Code] AS [Security_Type_Code], 
        [Extent1].[Price_Multiplier] AS [Price_Multiplier], 
        [Extent1].[Income_Frequency] AS [Income_Frequency], 
        [Extent1].[Issuer_Code] AS [Issuer_Code], 
        [Extent1].[Ultimate_Issuer_Code] AS [Ultimate_Issuer_Code], 
        [Extent1].[Asset_Currency] AS [Asset_Currency], 
        [Extent1].[Min_Lot_Size] AS [Min_Lot_Size], 
        [Extent1].[Decimal_Precision] AS [Decimal_Precision], 
        [Extent1].[AvePrice_Rounding] AS [AvePrice_Rounding], 
        [Extent1].[Issue_Date] AS [Issue_Date], 
        [Extent1].[Maturity_Date] AS [Maturity_Date], 
        [Extent1].[Coupon_Rate] AS [Coupon_Rate], 
        [Extent1].[Price_Exchange] AS [Price_Exchange], 
        [Extent1].[Trade_Currency] AS [Trade_Currency], 
        [Extent1].[Price_Curr] AS [Price_Curr], 
        [Extent1].[Currency_Pair_Code] AS [Currency_Pair_Code], 
        [Extent1].[Share_Class] AS [Share_Class], 
        [Extent1].[Current_Market_Price] AS [Current_Market_Price], 
        [Extent1].[Index_Type] AS [Index_Type], 
        [Extent1].[Clean_Price_Formula] AS [Clean_Price_Formula], 
        [Extent1].[Accrued_Income_Price_Formula] AS [Accrued_Income_Price_Formula], 
        [Extent1].[Odd_First_Coupon_Date] AS [Odd_First_Coupon_Date], 
        [Extent1].[Odd_Last_Coupon_Date] AS [Odd_Last_Coupon_Date], 
        [Extent1].[Coupon_Anniversary_Indicator] AS [Coupon_Anniversary_Indicator], 
        [Extent1].[Track_EOM_Flag] AS [Track_EOM_Flag], 
        [Extent1].[Next_Coupon_Date] AS [Next_Coupon_Date], 
        [Extent1].[Previous_Coupon_Date] AS [Previous_Coupon_Date], 
        [Extent1].[Payment_Frequency] AS [Payment_Frequency], 
        [Extent1].[Coupon_BusDay_Adjustment] AS [Coupon_BusDay_Adjustment], 
        [Extent1].[Next_Ex_Div_Date] AS [Next_Ex_Div_Date], 
        [Extent1].[Ex_Div_BusDay_Adjustment] AS [Ex_Div_BusDay_Adjustment], 
        [Extent1].[Ex_Div_Period] AS [Ex_Div_Period], 
        [Extent1].[Ticker] AS [Ticker], 
        [Extent1].[Inet_ID] AS [Inet_ID], 
        [Extent1].[Bloomberg_ID] AS [Bloomberg_ID], 
        [Extent1].[External_Sec_ID] AS [External_Sec_ID], 
        [Extent1].[Reuters_ID] AS [Reuters_ID], 
        [Extent1].[ISIN] AS [ISIN], 
        [Extent1].[Call_Account_Flag] AS [Call_Account_Flag], 
        [Extent1].[System_Locked] AS [System_Locked], 
        [Extent1].[Last_Update_User] AS [Last_Update_User], 
        [Extent1].[Last_Update_Date] AS [Last_Update_Date], 
        [Extent1].[Security_Status] AS [Security_Status], 
        [Extent1].[Benchmark_Portfolio] AS [Benchmark_Portfolio], 
        [Extent1].[Active_flag] AS [Active_flag], 
        [Extent1].[Dividend_FX_Security_ID] AS [Dividend_FX_Security_ID]
        FROM [dbo].[Security_Detail] AS [Extent1]
        WHERE ([Extent1].[Entity_ID] IN (@p__linq__0,@p__linq__1)) AND ((CASE WHEN ( NOT ((N'' = @p__linq__2) AND (@p__linq__2 IS NOT NULL))) THEN CASE WHEN ([Extent1].[Security_Type_Code] = @p__linq__3) THEN cast(1 as bit) WHEN ( NOT (([Extent1].[Security_Type_Code] = @p__linq__3) AND (0 = (CASE WHEN (@p__linq__3 IS NULL) THEN cast(1 as bit) ELSE cast(0 as bit) END)))) THEN cast(0 as bit) END WHEN ('' <> [Extent1].[Security_Type_Code]) THEN cast(1 as bit) WHEN ('' = [Extent1].[Security_Type_Code]) THEN cast(0 as bit) END) = 1)
    )  AS [Project1]
    ORDER BY [Project1].[Security_Name] ASC
2018-04-07 18:31:24.7498|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: SELECT 
    [Project1].[Security_ID] AS [Security_ID], 
    [Project1].[Entity_ID] AS [Entity_ID], 
    [Project1].[Security_Name] AS [Security_Name], 
    [Project1].[Short_Name] AS [Short_Name], 
    [Project1].[Primary_Exch] AS [Primary_Exch], 
    [Project1].[Secondary_Exch] AS [Secondary_Exch], 
    [Project1].[Country_Of_Domicile] AS [Country_Of_Domicile], 
    [Project1].[Country_Of_Risk] AS [Country_Of_Risk], 
    [Project1].[Security_Type_Code] AS [Security_Type_Code], 
    [Project1].[Price_Multiplier] AS [Price_Multiplier], 
    [Project1].[Income_Frequency] AS [Income_Frequency], 
    [Project1].[Issuer_Code] AS [Issuer_Code], 
    [Project1].[Ultimate_Issuer_Code] AS [Ultimate_Issuer_Code], 
    [Project1].[Asset_Currency] AS [Asset_Currency], 
    [Project1].[Min_Lot_Size] AS [Min_Lot_Size], 
    [Project1].[Decimal_Precision] AS [Decimal_Precision], 
    [Project1].[AvePrice_Rounding] AS [AvePrice_Rounding], 
    [Project1].[Issue_Date] AS [Issue_Date], 
    [Project1].[Maturity_Date] AS [Maturity_Date], 
    [Project1].[Coupon_Rate] AS [Coupon_Rate], 
    [Project1].[Price_Exchange] AS [Price_Exchange], 
    [Project1].[Trade_Currency] AS [Trade_Currency], 
    [Project1].[Price_Curr] AS [Price_Curr], 
    [Project1].[Currency_Pair_Code] AS [Currency_Pair_Code], 
    [Project1].[Share_Class] AS [Share_Class], 
    [Project1].[Current_Market_Price] AS [Current_Market_Price], 
    [Project1].[Index_Type] AS [Index_Type], 
    [Project1].[Clean_Price_Formula] AS [Clean_Price_Formula], 
    [Project1].[Accrued_Income_Price_Formula] AS [Accrued_Income_Price_Formula], 
    [Project1].[Odd_First_Coupon_Date] AS [Odd_First_Coupon_Date], 
    [Project1].[Odd_Last_Coupon_Date] AS [Odd_Last_Coupon_Date], 
    [Project1].[Coupon_Anniversary_Indicator] AS [Coupon_Anniversary_Indicator], 
    [Project1].[Track_EOM_Flag] AS [Track_EOM_Flag], 
    [Project1].[Next_Coupon_Date] AS [Next_Coupon_Date], 
    [Project1].[Previous_Coupon_Date] AS [Previous_Coupon_Date], 
    [Project1].[Payment_Frequency] AS [Payment_Frequency], 
    [Project1].[Coupon_BusDay_Adjustment] AS [Coupon_BusDay_Adjustment], 
    [Project1].[Next_Ex_Div_Date] AS [Next_Ex_Div_Date], 
    [Project1].[Ex_Div_BusDay_Adjustment] AS [Ex_Div_BusDay_Adjustment], 
    [Project1].[Ex_Div_Period] AS [Ex_Div_Period], 
    [Project1].[Ticker] AS [Ticker], 
    [Project1].[Inet_ID] AS [Inet_ID], 
    [Project1].[Bloomberg_ID] AS [Bloomberg_ID], 
    [Project1].[External_Sec_ID] AS [External_Sec_ID], 
    [Project1].[Reuters_ID] AS [Reuters_ID], 
    [Project1].[ISIN] AS [ISIN], 
    [Project1].[Call_Account_Flag] AS [Call_Account_Flag], 
    [Project1].[System_Locked] AS [System_Locked], 
    [Project1].[Last_Update_User] AS [Last_Update_User], 
    [Project1].[Last_Update_Date] AS [Last_Update_Date], 
    [Project1].[Security_Status] AS [Security_Status], 
    [Project1].[Benchmark_Portfolio] AS [Benchmark_Portfolio], 
    [Project1].[Active_flag] AS [Active_flag], 
    [Project1].[Dividend_FX_Security_ID] AS [Dividend_FX_Security_ID]
    FROM ( SELECT 
        [Extent1].[Security_ID] AS [Security_ID], 
        [Extent1].[Entity_ID] AS [Entity_ID], 
        [Extent1].[Security_Name] AS [Security_Name], 
        [Extent1].[Short_Name] AS [Short_Name], 
        [Extent1].[Primary_Exch] AS [Primary_Exch], 
        [Extent1].[Secondary_Exch] AS [Secondary_Exch], 
        [Extent1].[Country_Of_Domicile] AS [Country_Of_Domicile], 
        [Extent1].[Country_Of_Risk] AS [Country_Of_Risk], 
        [Extent1].[Security_Type_Code] AS [Security_Type_Code], 
        [Extent1].[Price_Multiplier] AS [Price_Multiplier], 
        [Extent1].[Income_Frequency] AS [Income_Frequency], 
        [Extent1].[Issuer_Code] AS [Issuer_Code], 
        [Extent1].[Ultimate_Issuer_Code] AS [Ultimate_Issuer_Code], 
        [Extent1].[Asset_Currency] AS [Asset_Currency], 
        [Extent1].[Min_Lot_Size] AS [Min_Lot_Size], 
        [Extent1].[Decimal_Precision] AS [Decimal_Precision], 
        [Extent1].[AvePrice_Rounding] AS [AvePrice_Rounding], 
        [Extent1].[Issue_Date] AS [Issue_Date], 
        [Extent1].[Maturity_Date] AS [Maturity_Date], 
        [Extent1].[Coupon_Rate] AS [Coupon_Rate], 
        [Extent1].[Price_Exchange] AS [Price_Exchange], 
        [Extent1].[Trade_Currency] AS [Trade_Currency], 
        [Extent1].[Price_Curr] AS [Price_Curr], 
        [Extent1].[Currency_Pair_Code] AS [Currency_Pair_Code], 
        [Extent1].[Share_Class] AS [Share_Class], 
        [Extent1].[Current_Market_Price] AS [Current_Market_Price], 
        [Extent1].[Index_Type] AS [Index_Type], 
        [Extent1].[Clean_Price_Formula] AS [Clean_Price_Formula], 
        [Extent1].[Accrued_Income_Price_Formula] AS [Accrued_Income_Price_Formula], 
        [Extent1].[Odd_First_Coupon_Date] AS [Odd_First_Coupon_Date], 
        [Extent1].[Odd_Last_Coupon_Date] AS [Odd_Last_Coupon_Date], 
        [Extent1].[Coupon_Anniversary_Indicator] AS [Coupon_Anniversary_Indicator], 
        [Extent1].[Track_EOM_Flag] AS [Track_EOM_Flag], 
        [Extent1].[Next_Coupon_Date] AS [Next_Coupon_Date], 
        [Extent1].[Previous_Coupon_Date] AS [Previous_Coupon_Date], 
        [Extent1].[Payment_Frequency] AS [Payment_Frequency], 
        [Extent1].[Coupon_BusDay_Adjustment] AS [Coupon_BusDay_Adjustment], 
        [Extent1].[Next_Ex_Div_Date] AS [Next_Ex_Div_Date], 
        [Extent1].[Ex_Div_BusDay_Adjustment] AS [Ex_Div_BusDay_Adjustment], 
        [Extent1].[Ex_Div_Period] AS [Ex_Div_Period], 
        [Extent1].[Ticker] AS [Ticker], 
        [Extent1].[Inet_ID] AS [Inet_ID], 
        [Extent1].[Bloomberg_ID] AS [Bloomberg_ID], 
        [Extent1].[External_Sec_ID] AS [External_Sec_ID], 
        [Extent1].[Reuters_ID] AS [Reuters_ID], 
        [Extent1].[ISIN] AS [ISIN], 
        [Extent1].[Call_Account_Flag] AS [Call_Account_Flag], 
        [Extent1].[System_Locked] AS [System_Locked], 
        [Extent1].[Last_Update_User] AS [Last_Update_User], 
        [Extent1].[Last_Update_Date] AS [Last_Update_Date], 
        [Extent1].[Security_Status] AS [Security_Status], 
        [Extent1].[Benchmark_Portfolio] AS [Benchmark_Portfolio], 
        [Extent1].[Active_flag] AS [Active_flag], 
        [Extent1].[Dividend_FX_Security_ID] AS [Dividend_FX_Security_ID]
        FROM [dbo].[Security_Detail] AS [Extent1]
        WHERE ([Extent1].[Entity_ID] IN (@p__linq__0,@p__linq__1)) AND ((CASE WHEN ( NOT ((N'' = @p__linq__2) AND (@p__linq__2 IS NOT NULL))) THEN CASE WHEN ([Extent1].[Security_Type_Code] = @p__linq__3) THEN cast(1 as bit) WHEN ( NOT (([Extent1].[Security_Type_Code] = @p__linq__3) AND (0 = (CASE WHEN (@p__linq__3 IS NULL) THEN cast(1 as bit) ELSE cast(0 as bit) END)))) THEN cast(0 as bit) END WHEN ('' <> [Extent1].[Security_Type_Code]) THEN cast(1 as bit) WHEN ('' = [Extent1].[Security_Type_Code]) THEN cast(0 as bit) END) = 1)
    )  AS [Project1]
    ORDER BY [Project1].[Security_Name] ASC
2018-04-07 18:31:24.8434|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: SELECT 
    [Project1].[Security_ID] AS [Security_ID], 
    [Project1].[Entity_ID] AS [Entity_ID], 
    [Project1].[Security_Name] AS [Security_Name], 
    [Project1].[Short_Name] AS [Short_Name], 
    [Project1].[Primary_Exch] AS [Primary_Exch], 
    [Project1].[Secondary_Exch] AS [Secondary_Exch], 
    [Project1].[Country_Of_Domicile] AS [Country_Of_Domicile], 
    [Project1].[Country_Of_Risk] AS [Country_Of_Risk], 
    [Project1].[Security_Type_Code] AS [Security_Type_Code], 
    [Project1].[Price_Multiplier] AS [Price_Multiplier], 
    [Project1].[Income_Frequency] AS [Income_Frequency], 
    [Project1].[Issuer_Code] AS [Issuer_Code], 
    [Project1].[Ultimate_Issuer_Code] AS [Ultimate_Issuer_Code], 
    [Project1].[Asset_Currency] AS [Asset_Currency], 
    [Project1].[Min_Lot_Size] AS [Min_Lot_Size], 
    [Project1].[Decimal_Precision] AS [Decimal_Precision], 
    [Project1].[AvePrice_Rounding] AS [AvePrice_Rounding], 
    [Project1].[Issue_Date] AS [Issue_Date], 
    [Project1].[Maturity_Date] AS [Maturity_Date], 
    [Project1].[Coupon_Rate] AS [Coupon_Rate], 
    [Project1].[Price_Exchange] AS [Price_Exchange], 
    [Project1].[Trade_Currency] AS [Trade_Currency], 
    [Project1].[Price_Curr] AS [Price_Curr], 
    [Project1].[Currency_Pair_Code] AS [Currency_Pair_Code], 
    [Project1].[Share_Class] AS [Share_Class], 
    [Project1].[Current_Market_Price] AS [Current_Market_Price], 
    [Project1].[Index_Type] AS [Index_Type], 
    [Project1].[Clean_Price_Formula] AS [Clean_Price_Formula], 
    [Project1].[Accrued_Income_Price_Formula] AS [Accrued_Income_Price_Formula], 
    [Project1].[Odd_First_Coupon_Date] AS [Odd_First_Coupon_Date], 
    [Project1].[Odd_Last_Coupon_Date] AS [Odd_Last_Coupon_Date], 
    [Project1].[Coupon_Anniversary_Indicator] AS [Coupon_Anniversary_Indicator], 
    [Project1].[Track_EOM_Flag] AS [Track_EOM_Flag], 
    [Project1].[Next_Coupon_Date] AS [Next_Coupon_Date], 
    [Project1].[Previous_Coupon_Date] AS [Previous_Coupon_Date], 
    [Project1].[Payment_Frequency] AS [Payment_Frequency], 
    [Project1].[Coupon_BusDay_Adjustment] AS [Coupon_BusDay_Adjustment], 
    [Project1].[Next_Ex_Div_Date] AS [Next_Ex_Div_Date], 
    [Project1].[Ex_Div_BusDay_Adjustment] AS [Ex_Div_BusDay_Adjustment], 
    [Project1].[Ex_Div_Period] AS [Ex_Div_Period], 
    [Project1].[Ticker] AS [Ticker], 
    [Project1].[Inet_ID] AS [Inet_ID], 
    [Project1].[Bloomberg_ID] AS [Bloomberg_ID], 
    [Project1].[External_Sec_ID] AS [External_Sec_ID], 
    [Project1].[Reuters_ID] AS [Reuters_ID], 
    [Project1].[ISIN] AS [ISIN], 
    [Project1].[Call_Account_Flag] AS [Call_Account_Flag], 
    [Project1].[System_Locked] AS [System_Locked], 
    [Project1].[Last_Update_User] AS [Last_Update_User], 
    [Project1].[Last_Update_Date] AS [Last_Update_Date], 
    [Project1].[Security_Status] AS [Security_Status], 
    [Project1].[Benchmark_Portfolio] AS [Benchmark_Portfolio], 
    [Project1].[Active_flag] AS [Active_flag], 
    [Project1].[Dividend_FX_Security_ID] AS [Dividend_FX_Security_ID]
    FROM ( SELECT 
        [Extent1].[Security_ID] AS [Security_ID], 
        [Extent1].[Entity_ID] AS [Entity_ID], 
        [Extent1].[Security_Name] AS [Security_Name], 
        [Extent1].[Short_Name] AS [Short_Name], 
        [Extent1].[Primary_Exch] AS [Primary_Exch], 
        [Extent1].[Secondary_Exch] AS [Secondary_Exch], 
        [Extent1].[Country_Of_Domicile] AS [Country_Of_Domicile], 
        [Extent1].[Country_Of_Risk] AS [Country_Of_Risk], 
        [Extent1].[Security_Type_Code] AS [Security_Type_Code], 
        [Extent1].[Price_Multiplier] AS [Price_Multiplier], 
        [Extent1].[Income_Frequency] AS [Income_Frequency], 
        [Extent1].[Issuer_Code] AS [Issuer_Code], 
        [Extent1].[Ultimate_Issuer_Code] AS [Ultimate_Issuer_Code], 
        [Extent1].[Asset_Currency] AS [Asset_Currency], 
        [Extent1].[Min_Lot_Size] AS [Min_Lot_Size], 
        [Extent1].[Decimal_Precision] AS [Decimal_Precision], 
        [Extent1].[AvePrice_Rounding] AS [AvePrice_Rounding], 
        [Extent1].[Issue_Date] AS [Issue_Date], 
        [Extent1].[Maturity_Date] AS [Maturity_Date], 
        [Extent1].[Coupon_Rate] AS [Coupon_Rate], 
        [Extent1].[Price_Exchange] AS [Price_Exchange], 
        [Extent1].[Trade_Currency] AS [Trade_Currency], 
        [Extent1].[Price_Curr] AS [Price_Curr], 
        [Extent1].[Currency_Pair_Code] AS [Currency_Pair_Code], 
        [Extent1].[Share_Class] AS [Share_Class], 
        [Extent1].[Current_Market_Price] AS [Current_Market_Price], 
        [Extent1].[Index_Type] AS [Index_Type], 
        [Extent1].[Clean_Price_Formula] AS [Clean_Price_Formula], 
        [Extent1].[Accrued_Income_Price_Formula] AS [Accrued_Income_Price_Formula], 
        [Extent1].[Odd_First_Coupon_Date] AS [Odd_First_Coupon_Date], 
        [Extent1].[Odd_Last_Coupon_Date] AS [Odd_Last_Coupon_Date], 
        [Extent1].[Coupon_Anniversary_Indicator] AS [Coupon_Anniversary_Indicator], 
        [Extent1].[Track_EOM_Flag] AS [Track_EOM_Flag], 
        [Extent1].[Next_Coupon_Date] AS [Next_Coupon_Date], 
        [Extent1].[Previous_Coupon_Date] AS [Previous_Coupon_Date], 
        [Extent1].[Payment_Frequency] AS [Payment_Frequency], 
        [Extent1].[Coupon_BusDay_Adjustment] AS [Coupon_BusDay_Adjustment], 
        [Extent1].[Next_Ex_Div_Date] AS [Next_Ex_Div_Date], 
        [Extent1].[Ex_Div_BusDay_Adjustment] AS [Ex_Div_BusDay_Adjustment], 
        [Extent1].[Ex_Div_Period] AS [Ex_Div_Period], 
        [Extent1].[Ticker] AS [Ticker], 
        [Extent1].[Inet_ID] AS [Inet_ID], 
        [Extent1].[Bloomberg_ID] AS [Bloomberg_ID], 
        [Extent1].[External_Sec_ID] AS [External_Sec_ID], 
        [Extent1].[Reuters_ID] AS [Reuters_ID], 
        [Extent1].[ISIN] AS [ISIN], 
        [Extent1].[Call_Account_Flag] AS [Call_Account_Flag], 
        [Extent1].[System_Locked] AS [System_Locked], 
        [Extent1].[Last_Update_User] AS [Last_Update_User], 
        [Extent1].[Last_Update_Date] AS [Last_Update_Date], 
        [Extent1].[Security_Status] AS [Security_Status], 
        [Extent1].[Benchmark_Portfolio] AS [Benchmark_Portfolio], 
        [Extent1].[Active_flag] AS [Active_flag], 
        [Extent1].[Dividend_FX_Security_ID] AS [Dividend_FX_Security_ID]
        FROM [dbo].[Security_Detail] AS [Extent1]
        WHERE ([Extent1].[Entity_ID] IN (@p__linq__0,@p__linq__1)) AND ((CASE WHEN ( NOT ((N'' = @p__linq__2) AND (@p__linq__2 IS NOT NULL))) THEN CASE WHEN ([Extent1].[Security_Type_Code] = @p__linq__3) THEN cast(1 as bit) WHEN ( NOT (([Extent1].[Security_Type_Code] = @p__linq__3) AND (0 = (CASE WHEN (@p__linq__3 IS NULL) THEN cast(1 as bit) ELSE cast(0 as bit) END)))) THEN cast(0 as bit) END WHEN ('' <> [Extent1].[Security_Type_Code]) THEN cast(1 as bit) WHEN ('' = [Extent1].[Security_Type_Code]) THEN cast(0 as bit) END) = 1)
    )  AS [Project1]
    ORDER BY [Project1].[Security_Name] ASC
2018-04-07 18:31:24.8914|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: SELECT 
    [Project1].[Security_ID] AS [Security_ID], 
    [Project1].[Entity_ID] AS [Entity_ID], 
    [Project1].[Security_Name] AS [Security_Name], 
    [Project1].[Short_Name] AS [Short_Name], 
    [Project1].[Primary_Exch] AS [Primary_Exch], 
    [Project1].[Secondary_Exch] AS [Secondary_Exch], 
    [Project1].[Country_Of_Domicile] AS [Country_Of_Domicile], 
    [Project1].[Country_Of_Risk] AS [Country_Of_Risk], 
    [Project1].[Security_Type_Code] AS [Security_Type_Code], 
    [Project1].[Price_Multiplier] AS [Price_Multiplier], 
    [Project1].[Income_Frequency] AS [Income_Frequency], 
    [Project1].[Issuer_Code] AS [Issuer_Code], 
    [Project1].[Ultimate_Issuer_Code] AS [Ultimate_Issuer_Code], 
    [Project1].[Asset_Currency] AS [Asset_Currency], 
    [Project1].[Min_Lot_Size] AS [Min_Lot_Size], 
    [Project1].[Decimal_Precision] AS [Decimal_Precision], 
    [Project1].[AvePrice_Rounding] AS [AvePrice_Rounding], 
    [Project1].[Issue_Date] AS [Issue_Date], 
    [Project1].[Maturity_Date] AS [Maturity_Date], 
    [Project1].[Coupon_Rate] AS [Coupon_Rate], 
    [Project1].[Price_Exchange] AS [Price_Exchange], 
    [Project1].[Trade_Currency] AS [Trade_Currency], 
    [Project1].[Price_Curr] AS [Price_Curr], 
    [Project1].[Currency_Pair_Code] AS [Currency_Pair_Code], 
    [Project1].[Share_Class] AS [Share_Class], 
    [Project1].[Current_Market_Price] AS [Current_Market_Price], 
    [Project1].[Index_Type] AS [Index_Type], 
    [Project1].[Clean_Price_Formula] AS [Clean_Price_Formula], 
    [Project1].[Accrued_Income_Price_Formula] AS [Accrued_Income_Price_Formula], 
    [Project1].[Odd_First_Coupon_Date] AS [Odd_First_Coupon_Date], 
    [Project1].[Odd_Last_Coupon_Date] AS [Odd_Last_Coupon_Date], 
    [Project1].[Coupon_Anniversary_Indicator] AS [Coupon_Anniversary_Indicator], 
    [Project1].[Track_EOM_Flag] AS [Track_EOM_Flag], 
    [Project1].[Next_Coupon_Date] AS [Next_Coupon_Date], 
    [Project1].[Previous_Coupon_Date] AS [Previous_Coupon_Date], 
    [Project1].[Payment_Frequency] AS [Payment_Frequency], 
    [Project1].[Coupon_BusDay_Adjustment] AS [Coupon_BusDay_Adjustment], 
    [Project1].[Next_Ex_Div_Date] AS [Next_Ex_Div_Date], 
    [Project1].[Ex_Div_BusDay_Adjustment] AS [Ex_Div_BusDay_Adjustment], 
    [Project1].[Ex_Div_Period] AS [Ex_Div_Period], 
    [Project1].[Ticker] AS [Ticker], 
    [Project1].[Inet_ID] AS [Inet_ID], 
    [Project1].[Bloomberg_ID] AS [Bloomberg_ID], 
    [Project1].[External_Sec_ID] AS [External_Sec_ID], 
    [Project1].[Reuters_ID] AS [Reuters_ID], 
    [Project1].[ISIN] AS [ISIN], 
    [Project1].[Call_Account_Flag] AS [Call_Account_Flag], 
    [Project1].[System_Locked] AS [System_Locked], 
    [Project1].[Last_Update_User] AS [Last_Update_User], 
    [Project1].[Last_Update_Date] AS [Last_Update_Date], 
    [Project1].[Security_Status] AS [Security_Status], 
    [Project1].[Benchmark_Portfolio] AS [Benchmark_Portfolio], 
    [Project1].[Active_flag] AS [Active_flag], 
    [Project1].[Dividend_FX_Security_ID] AS [Dividend_FX_Security_ID]
    FROM ( SELECT 
        [Extent1].[Security_ID] AS [Security_ID], 
        [Extent1].[Entity_ID] AS [Entity_ID], 
        [Extent1].[Security_Name] AS [Security_Name], 
        [Extent1].[Short_Name] AS [Short_Name], 
        [Extent1].[Primary_Exch] AS [Primary_Exch], 
        [Extent1].[Secondary_Exch] AS [Secondary_Exch], 
        [Extent1].[Country_Of_Domicile] AS [Country_Of_Domicile], 
        [Extent1].[Country_Of_Risk] AS [Country_Of_Risk], 
        [Extent1].[Security_Type_Code] AS [Security_Type_Code], 
        [Extent1].[Price_Multiplier] AS [Price_Multiplier], 
        [Extent1].[Income_Frequency] AS [Income_Frequency], 
        [Extent1].[Issuer_Code] AS [Issuer_Code], 
        [Extent1].[Ultimate_Issuer_Code] AS [Ultimate_Issuer_Code], 
        [Extent1].[Asset_Currency] AS [Asset_Currency], 
        [Extent1].[Min_Lot_Size] AS [Min_Lot_Size], 
        [Extent1].[Decimal_Precision] AS [Decimal_Precision], 
        [Extent1].[AvePrice_Rounding] AS [AvePrice_Rounding], 
        [Extent1].[Issue_Date] AS [Issue_Date], 
        [Extent1].[Maturity_Date] AS [Maturity_Date], 
        [Extent1].[Coupon_Rate] AS [Coupon_Rate], 
        [Extent1].[Price_Exchange] AS [Price_Exchange], 
        [Extent1].[Trade_Currency] AS [Trade_Currency], 
        [Extent1].[Price_Curr] AS [Price_Curr], 
        [Extent1].[Currency_Pair_Code] AS [Currency_Pair_Code], 
        [Extent1].[Share_Class] AS [Share_Class], 
        [Extent1].[Current_Market_Price] AS [Current_Market_Price], 
        [Extent1].[Index_Type] AS [Index_Type], 
        [Extent1].[Clean_Price_Formula] AS [Clean_Price_Formula], 
        [Extent1].[Accrued_Income_Price_Formula] AS [Accrued_Income_Price_Formula], 
        [Extent1].[Odd_First_Coupon_Date] AS [Odd_First_Coupon_Date], 
        [Extent1].[Odd_Last_Coupon_Date] AS [Odd_Last_Coupon_Date], 
        [Extent1].[Coupon_Anniversary_Indicator] AS [Coupon_Anniversary_Indicator], 
        [Extent1].[Track_EOM_Flag] AS [Track_EOM_Flag], 
        [Extent1].[Next_Coupon_Date] AS [Next_Coupon_Date], 
        [Extent1].[Previous_Coupon_Date] AS [Previous_Coupon_Date], 
        [Extent1].[Payment_Frequency] AS [Payment_Frequency], 
        [Extent1].[Coupon_BusDay_Adjustment] AS [Coupon_BusDay_Adjustment], 
        [Extent1].[Next_Ex_Div_Date] AS [Next_Ex_Div_Date], 
        [Extent1].[Ex_Div_BusDay_Adjustment] AS [Ex_Div_BusDay_Adjustment], 
        [Extent1].[Ex_Div_Period] AS [Ex_Div_Period], 
        [Extent1].[Ticker] AS [Ticker], 
        [Extent1].[Inet_ID] AS [Inet_ID], 
        [Extent1].[Bloomberg_ID] AS [Bloomberg_ID], 
        [Extent1].[External_Sec_ID] AS [External_Sec_ID], 
        [Extent1].[Reuters_ID] AS [Reuters_ID], 
        [Extent1].[ISIN] AS [ISIN], 
        [Extent1].[Call_Account_Flag] AS [Call_Account_Flag], 
        [Extent1].[System_Locked] AS [System_Locked], 
        [Extent1].[Last_Update_User] AS [Last_Update_User], 
        [Extent1].[Last_Update_Date] AS [Last_Update_Date], 
        [Extent1].[Security_Status] AS [Security_Status], 
        [Extent1].[Benchmark_Portfolio] AS [Benchmark_Portfolio], 
        [Extent1].[Active_flag] AS [Active_flag], 
        [Extent1].[Dividend_FX_Security_ID] AS [Dividend_FX_Security_ID]
        FROM [dbo].[Security_Detail] AS [Extent1]
        WHERE ([Extent1].[Entity_ID] IN (@p__linq__0,@p__linq__1)) AND ((CASE WHEN ( NOT ((N'' = @p__linq__2) AND (@p__linq__2 IS NOT NULL))) THEN CASE WHEN ([Extent1].[Security_Type_Code] = @p__linq__3) THEN cast(1 as bit) WHEN ( NOT (([Extent1].[Security_Type_Code] = @p__linq__3) AND (0 = (CASE WHEN (@p__linq__3 IS NULL) THEN cast(1 as bit) ELSE cast(0 as bit) END)))) THEN cast(0 as bit) END WHEN ('' <> [Extent1].[Security_Type_Code]) THEN cast(1 as bit) WHEN ('' = [Extent1].[Security_Type_Code]) THEN cast(0 as bit) END) = 1)
    )  AS [Project1]
    ORDER BY [Project1].[Security_Name] ASC
2018-04-07 18:31:24.9535|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: IF db_id(N'MetopeAzureDb') IS NOT NULL SELECT 1 ELSE SELECT Count(*) FROM sys.databases WHERE [name]=N'MetopeAzureDb'
2018-04-07 18:31:25.1231|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: IF db_id(N'MetopeAzureDb') IS NOT NULL SELECT 1 ELSE SELECT Count(*) FROM sys.databases WHERE [name]=N'MetopeAzureDb'
2018-04-07 18:31:25.2792|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: IF db_id(N'MetopeAzureDb') IS NOT NULL SELECT 1 ELSE SELECT Count(*) FROM sys.databases WHERE [name]=N'MetopeAzureDb'
2018-04-07 18:31:25.3222|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: IF db_id(N'MetopeAzureDb') IS NOT NULL SELECT 1 ELSE SELECT Count(*) FROM sys.databases WHERE [name]=N'MetopeAzureDb'
2018-04-07 18:31:35.9845|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: SELECT 
    [Project1].[Decimal_Precision] AS [Decimal_Precision], 
    [Project1].[Entity_ID] AS [Entity_ID], 
    [Project1].[Security_ID] AS [Security_ID], 
    [Project1].[Issued_Amount] AS [Issued_Amount], 
    [Project1].[Market_Capitalisation] AS [Market_Capitalisation], 
    [Project1].[Risk_Premium] AS [Risk_Premium], 
    [Project1].[Exit_Price] AS [Exit_Price], 
    [Project1].[Total_Return_ME_1YR] AS [Total_Return_ME_1YR], 
    [Project1].[Total_Return_ME_2YR] AS [Total_Return_ME_2YR], 
    [Project1].[Total_Return_ME_3YR] AS [Total_Return_ME_3YR], 
    [Project1].[Historic_Distribution] AS [Historic_Distribution], 
    [Project1].[Distribution_Growth_Forecast_Yr1] AS [Distribution_Growth_Forecast_Yr1], 
    [Project1].[Distribution_Growth_Forecast_Yr2] AS [Distribution_Growth_Forecast_Yr2], 
    [Project1].[Distribution_Growth_Forecast_Yr3] AS [Distribution_Growth_Forecast_Yr3], 
    [Project1].[Forecast_Distribution_Yr1] AS [Forecast_Distribution_Yr1], 
    [Project1].[Forecast_Distribution_Yr2] AS [Forecast_Distribution_Yr2], 
    [Project1].[Forecast_Distribution_Yr3] AS [Forecast_Distribution_Yr3], 
    [Project1].[Earnings_Growth_Compounded] AS [Earnings_Growth_Compounded], 
    [Project1].[Earnings_Forecast_Yr3] AS [Earnings_Forecast_Yr3], 
    [Project1].[Historic_Dividend_Yield_FYE] AS [Historic_Dividend_Yield_FYE], 
    [Project1].[Forward_Dividend_Yield_FYE] AS [Forward_Dividend_Yield_FYE], 
    [Project1].[Yr3_Forward_Dividend_Yield] AS [Yr3_Forward_Dividend_Yield], 
    [Project1].[Rolling_12M_Forward_Yield] AS [Rolling_12M_Forward_Yield], 
    [Project1].[Historical_Earnings_FYE] AS [Historical_Earnings_FYE], 
    [Project1].[Earnings_Forecast_Yr1] AS [Earnings_Forecast_Yr1], 
    [Project1].[Earnings_Forecast_Yr2] AS [Earnings_Forecast_Yr2], 
    [Project1].[Historic_Dividend_Yield_Relative] AS [Historic_Dividend_Yield_Relative], 
    [Project1].[Rolling_12M_Historic_Distribution_PriceCurr] AS [Rolling_12M_Historic_Distribution_PriceCurr], 
    [Project1].[Short_Term_Market_Rerate] AS [Short_Term_Market_Rerate], 
    [Project1].[Forecast_12M_Total_Return] AS [Forecast_12M_Total_Return], 
    [Project1].[Clean_Price] AS [Clean_Price], 
    [Project1].[Rolling_Dividend_Yield_Historic] AS [Rolling_Dividend_Yield_Historic], 
    [Project1].[Last_Update_Date] AS [Last_Update_Date], 
    [Project1].[Last_Update_User] AS [Last_Update_User], 
    [Project1].[Discount_Security_ID] AS [Discount_Security_ID], 
    [Project1].[Net_Present_Value] AS [Net_Present_Value], 
    [Project1].[Forecast_Rolling_Custom_Income] AS [Forecast_Rolling_Custom_Income], 
    [Project1].[Custom_Period] AS [Custom_Period], 
    [Project1].[Rolling_12M_Historic_Distribution] AS [Rolling_12M_Historic_Distribution], 
    [Project1].[Record_Date] AS [Record_Date], 
    [Project1].[Session_ID] AS [Session_ID], 
    [Project1].[Hist_Last_Update_Date] AS [Hist_Last_Update_Date], 
    [Project1].[Hist_Last_Update_User] AS [Hist_Last_Update_User], 
    [Project1].[Rolling_12M_Forecast_Distribution] AS [Rolling_12M_Forecast_Distribution], 
    [Project1].[Yr2_Forward_Dividend_Yield] AS [Yr2_Forward_Dividend_Yield], 
    [Project1].[Exit_Yield] AS [Exit_Yield], 
    [Project1].[Discount_Rate] AS [Discount_Rate], 
    [Project1].[Distribution_Growth_Compounded] AS [Distribution_Growth_Compounded], 
    [Project1].[Forecast_12MRolling_Income_Accrual] AS [Forecast_12MRolling_Income_Accrual], 
    [Project1].[Rolling_12_to_24M_Forecast_Distribution] AS [Rolling_12_to_24M_Forecast_Distribution], 
    [Project1].[Rolling_24_to_36M_Forecast_Distribution] AS [Rolling_24_to_36M_Forecast_Distribution], 
    [Project1].[Forecast_Yr1_Dividend_Yield_Relative] AS [Forecast_Yr1_Dividend_Yield_Relative], 
    [Project1].[Market_Historic_Yield] AS [Market_Historic_Yield], 
    [Project1].[Market_Forward_Yield] AS [Market_Forward_Yield], 
    [Project1].[Historic_Distribution_PriceCurr] AS [Historic_Distribution_PriceCurr], 
    [Project1].[Forecast_Distribution_Yr1_PriceCurr] AS [Forecast_Distribution_Yr1_PriceCurr], 
    [Project1].[Forecast_Distribution_Yr2_PriceCurr] AS [Forecast_Distribution_Yr2_PriceCurr], 
    [Project1].[Forecast_Distribution_Yr3_PriceCurr] AS [Forecast_Distribution_Yr3_PriceCurr], 
    [Project1].[Rolling_12M_Forecast_Distribution_PriceCurr] AS [Rolling_12M_Forecast_Distribution_PriceCurr], 
    [Project1].[Rolling_12_24M_Forecast_Distribution_PriceCurr] AS [Rolling_12_24M_Forecast_Distribution_PriceCurr], 
    [Project1].[Rolling_24_36M_Forecast_Distribution_PriceCurr] AS [Rolling_24_36M_Forecast_Distribution_PriceCurr], 
    [Project1].[Distribution_Growth_Forecast_Yr4] AS [Distribution_Growth_Forecast_Yr4], 
    [Project1].[Earnings_Forecast_Yr4] AS [Earnings_Forecast_Yr4], 
    [Project1].[Forecast_Distribution_Yr4] AS [Forecast_Distribution_Yr4], 
    [Project1].[Forecast_Distribution_Yr4_PriceCurr] AS [Forecast_Distribution_Yr4_PriceCurr], 
    [Project1].[Security_ID1] AS [Security_ID1], 
    [Project1].[Entity_ID1] AS [Entity_ID1], 
    [Project1].[Security_Name] AS [Security_Name], 
    [Project1].[Short_Name] AS [Short_Name], 
    [Project1].[Primary_Exch] AS [Primary_Exch], 
    [Project1].[Secondary_Exch] AS [Secondary_Exch], 
    [Project1].[Country_Of_Domicile] AS [Country_Of_Domicile], 
    [Project1].[Country_Of_Risk] AS [Country_Of_Risk], 
    [Project1].[Security_Type_Code] AS [Security_Type_Code], 
    [Project1].[Price_Multiplier] AS [Price_Multiplier], 
    [Project1].[Income_Frequency] AS [Income_Frequency], 
    [Project1].[Issuer_Code] AS [Issuer_Code], 
    [Project1].[Ultimate_Issuer_Code] AS [Ultimate_Issuer_Code], 
    [Project1].[Asset_Currency] AS [Asset_Currency], 
    [Project1].[Min_Lot_Size] AS [Min_Lot_Size], 
    [Project1].[AvePrice_Rounding] AS [AvePrice_Rounding], 
    [Project1].[Issue_Date] AS [Issue_Date], 
    [Project1].[Maturity_Date] AS [Maturity_Date], 
    [Project1].[Coupon_Rate] AS [Coupon_Rate], 
    [Project1].[Price_Exchange] AS [Price_Exchange], 
    [Project1].[Trade_Currency] AS [Trade_Currency], 
    [Project1].[Price_Curr] AS [Price_Curr], 
    [Project1].[Currency_Pair_Code] AS [Currency_Pair_Code], 
    [Project1].[Share_Class] AS [Share_Class], 
    [Project1].[Current_Market_Price] AS [Current_Market_Price], 
    [Project1].[Index_Type] AS [Index_Type], 
    [Project1].[Clean_Price_Formula] AS [Clean_Price_Formula], 
    [Project1].[Accrued_Income_Price_Formula] AS [Accrued_Income_Price_Formula], 
    [Project1].[Odd_First_Coupon_Date] AS [Odd_First_Coupon_Date], 
    [Project1].[Odd_Last_Coupon_Date] AS [Odd_Last_Coupon_Date], 
    [Project1].[Coupon_Anniversary_Indicator] AS [Coupon_Anniversary_Indicator], 
    [Project1].[Track_EOM_Flag] AS [Track_EOM_Flag], 
    [Project1].[Next_Coupon_Date] AS [Next_Coupon_Date], 
    [Project1].[Previous_Coupon_Date] AS [Previous_Coupon_Date], 
    [Project1].[Payment_Frequency] AS [Payment_Frequency], 
    [Project1].[Coupon_BusDay_Adjustment] AS [Coupon_BusDay_Adjustment], 
    [Project1].[Next_Ex_Div_Date] AS [Next_Ex_Div_Date], 
    [Project1].[Ex_Div_BusDay_Adjustment] AS [Ex_Div_BusDay_Adjustment], 
    [Project1].[Ex_Div_Period] AS [Ex_Div_Period], 
    [Project1].[Ticker] AS [Ticker], 
    [Project1].[Inet_ID] AS [Inet_ID], 
    [Project1].[Bloomberg_ID] AS [Bloomberg_ID], 
    [Project1].[External_Sec_ID] AS [External_Sec_ID], 
    [Project1].[Reuters_ID] AS [Reuters_ID], 
    [Project1].[ISIN] AS [ISIN], 
    [Project1].[Call_Account_Flag] AS [Call_Account_Flag], 
    [Project1].[System_Locked] AS [System_Locked], 
    [Project1].[Last_Update_User1] AS [Last_Update_User1], 
    [Project1].[Last_Update_Date1] AS [Last_Update_Date1], 
    [Project1].[Security_Status] AS [Security_Status], 
    [Project1].[Benchmark_Portfolio] AS [Benchmark_Portfolio], 
    [Project1].[Active_flag] AS [Active_flag], 
    [Project1].[Dividend_FX_Security_ID] AS [Dividend_FX_Security_ID]
    FROM ( SELECT 
        [Extent1].[Entity_ID] AS [Entity_ID], 
        [Extent1].[Security_ID] AS [Security_ID], 
        [Extent1].[Issued_Amount] AS [Issued_Amount], 
        [Extent1].[Market_Capitalisation] AS [Market_Capitalisation], 
        [Extent1].[Risk_Premium] AS [Risk_Premium], 
        [Extent1].[Exit_Price] AS [Exit_Price], 
        [Extent1].[Total_Return_ME_1YR] AS [Total_Return_ME_1YR], 
        [Extent1].[Total_Return_ME_2YR] AS [Total_Return_ME_2YR], 
        [Extent1].[Total_Return_ME_3YR] AS [Total_Return_ME_3YR], 
        [Extent1].[Historic_Distribution] AS [Historic_Distribution], 
        [Extent1].[Distribution_Growth_Forecast_Yr1] AS [Distribution_Growth_Forecast_Yr1], 
        [Extent1].[Distribution_Growth_Forecast_Yr2] AS [Distribution_Growth_Forecast_Yr2], 
        [Extent1].[Distribution_Growth_Forecast_Yr3] AS [Distribution_Growth_Forecast_Yr3], 
        [Extent1].[Forecast_Distribution_Yr1] AS [Forecast_Distribution_Yr1], 
        [Extent1].[Forecast_Distribution_Yr2] AS [Forecast_Distribution_Yr2], 
        [Extent1].[Forecast_Distribution_Yr3] AS [Forecast_Distribution_Yr3], 
        [Extent1].[Earnings_Growth_Compounded] AS [Earnings_Growth_Compounded], 
        [Extent1].[Earnings_Forecast_Yr3] AS [Earnings_Forecast_Yr3], 
        [Extent1].[Historic_Dividend_Yield_FYE] AS [Historic_Dividend_Yield_FYE], 
        [Extent1].[Forward_Dividend_Yield_FYE] AS [Forward_Dividend_Yield_FYE], 
        [Extent1].[Yr3_Forward_Dividend_Yield] AS [Yr3_Forward_Dividend_Yield], 
        [Extent1].[Rolling_12M_Forward_Yield] AS [Rolling_12M_Forward_Yield], 
        [Extent1].[Historical_Earnings_FYE] AS [Historical_Earnings_FYE], 
        [Extent1].[Earnings_Forecast_Yr1] AS [Earnings_Forecast_Yr1], 
        [Extent1].[Earnings_Forecast_Yr2] AS [Earnings_Forecast_Yr2], 
        [Extent1].[Historic_Dividend_Yield_Relative] AS [Historic_Dividend_Yield_Relative], 
        [Extent1].[Rolling_12M_Historic_Distribution_PriceCurr] AS [Rolling_12M_Historic_Distribution_PriceCurr], 
        [Extent1].[Short_Term_Market_Rerate] AS [Short_Term_Market_Rerate], 
        [Extent1].[Forecast_12M_Total_Return] AS [Forecast_12M_Total_Return], 
        [Extent1].[Clean_Price] AS [Clean_Price], 
        [Extent1].[Rolling_Dividend_Yield_Historic] AS [Rolling_Dividend_Yield_Historic], 
        [Extent1].[Last_Update_Date] AS [Last_Update_Date], 
        [Extent1].[Last_Update_User] AS [Last_Update_User], 
        [Extent1].[Discount_Security_ID] AS [Discount_Security_ID], 
        [Extent1].[Net_Present_Value] AS [Net_Present_Value], 
        [Extent1].[Forecast_Rolling_Custom_Income] AS [Forecast_Rolling_Custom_Income], 
        [Extent1].[Custom_Period] AS [Custom_Period], 
        [Extent1].[Rolling_12M_Historic_Distribution] AS [Rolling_12M_Historic_Distribution], 
        [Extent1].[Record_Date] AS [Record_Date], 
        [Extent1].[Session_ID] AS [Session_ID], 
        [Extent1].[Hist_Last_Update_Date] AS [Hist_Last_Update_Date], 
        [Extent1].[Hist_Last_Update_User] AS [Hist_Last_Update_User], 
        [Extent1].[Rolling_12M_Forecast_Distribution] AS [Rolling_12M_Forecast_Distribution], 
        [Extent1].[Yr2_Forward_Dividend_Yield] AS [Yr2_Forward_Dividend_Yield], 
        [Extent1].[Exit_Yield] AS [Exit_Yield], 
        [Extent1].[Discount_Rate] AS [Discount_Rate], 
        [Extent1].[Distribution_Growth_Compounded] AS [Distribution_Growth_Compounded], 
        [Extent1].[Forecast_12MRolling_Income_Accrual] AS [Forecast_12MRolling_Income_Accrual], 
        [Extent1].[Rolling_12_to_24M_Forecast_Distribution] AS [Rolling_12_to_24M_Forecast_Distribution], 
        [Extent1].[Rolling_24_to_36M_Forecast_Distribution] AS [Rolling_24_to_36M_Forecast_Distribution], 
        [Extent1].[Forecast_Yr1_Dividend_Yield_Relative] AS [Forecast_Yr1_Dividend_Yield_Relative], 
        [Extent1].[Market_Historic_Yield] AS [Market_Historic_Yield], 
        [Extent1].[Market_Forward_Yield] AS [Market_Forward_Yield], 
        [Extent1].[Historic_Distribution_PriceCurr] AS [Historic_Distribution_PriceCurr], 
        [Extent1].[Forecast_Distribution_Yr1_PriceCurr] AS [Forecast_Distribution_Yr1_PriceCurr], 
        [Extent1].[Forecast_Distribution_Yr2_PriceCurr] AS [Forecast_Distribution_Yr2_PriceCurr], 
        [Extent1].[Forecast_Distribution_Yr3_PriceCurr] AS [Forecast_Distribution_Yr3_PriceCurr], 
        [Extent1].[Rolling_12M_Forecast_Distribution_PriceCurr] AS [Rolling_12M_Forecast_Distribution_PriceCurr], 
        [Extent1].[Rolling_12_24M_Forecast_Distribution_PriceCurr] AS [Rolling_12_24M_Forecast_Distribution_PriceCurr], 
        [Extent1].[Rolling_24_36M_Forecast_Distribution_PriceCurr] AS [Rolling_24_36M_Forecast_Distribution_PriceCurr], 
        [Extent1].[Distribution_Growth_Forecast_Yr4] AS [Distribution_Growth_Forecast_Yr4], 
        [Extent1].[Earnings_Forecast_Yr4] AS [Earnings_Forecast_Yr4], 
        [Extent1].[Forecast_Distribution_Yr4] AS [Forecast_Distribution_Yr4], 
        [Extent1].[Forecast_Distribution_Yr4_PriceCurr] AS [Forecast_Distribution_Yr4_PriceCurr], 
        [Extent2].[Security_ID] AS [Security_ID1], 
        [Extent2].[Entity_ID] AS [Entity_ID1], 
        [Extent2].[Security_Name] AS [Security_Name], 
        [Extent2].[Short_Name] AS [Short_Name], 
        [Extent2].[Primary_Exch] AS [Primary_Exch], 
        [Extent2].[Secondary_Exch] AS [Secondary_Exch], 
        [Extent2].[Country_Of_Domicile] AS [Country_Of_Domicile], 
        [Extent2].[Country_Of_Risk] AS [Country_Of_Risk], 
        [Extent2].[Security_Type_Code] AS [Security_Type_Code], 
        [Extent2].[Price_Multiplier] AS [Price_Multiplier], 
        [Extent2].[Income_Frequency] AS [Income_Frequency], 
        [Extent2].[Issuer_Code] AS [Issuer_Code], 
        [Extent2].[Ultimate_Issuer_Code] AS [Ultimate_Issuer_Code], 
        [Extent2].[Asset_Currency] AS [Asset_Currency], 
        [Extent2].[Min_Lot_Size] AS [Min_Lot_Size], 
        [Extent2].[Decimal_Precision] AS [Decimal_Precision], 
        [Extent2].[AvePrice_Rounding] AS [AvePrice_Rounding], 
        [Extent2].[Issue_Date] AS [Issue_Date], 
        [Extent2].[Maturity_Date] AS [Maturity_Date], 
        [Extent2].[Coupon_Rate] AS [Coupon_Rate], 
        [Extent2].[Price_Exchange] AS [Price_Exchange], 
        [Extent2].[Trade_Currency] AS [Trade_Currency], 
        [Extent2].[Price_Curr] AS [Price_Curr], 
        [Extent2].[Currency_Pair_Code] AS [Currency_Pair_Code], 
        [Extent2].[Share_Class] AS [Share_Class], 
        [Extent2].[Current_Market_Price] AS [Current_Market_Price], 
        [Extent2].[Index_Type] AS [Index_Type], 
        [Extent2].[Clean_Price_Formula] AS [Clean_Price_Formula], 
        [Extent2].[Accrued_Income_Price_Formula] AS [Accrued_Income_Price_Formula], 
        [Extent2].[Odd_First_Coupon_Date] AS [Odd_First_Coupon_Date], 
        [Extent2].[Odd_Last_Coupon_Date] AS [Odd_Last_Coupon_Date], 
        [Extent2].[Coupon_Anniversary_Indicator] AS [Coupon_Anniversary_Indicator], 
        [Extent2].[Track_EOM_Flag] AS [Track_EOM_Flag], 
        [Extent2].[Next_Coupon_Date] AS [Next_Coupon_Date], 
        [Extent2].[Previous_Coupon_Date] AS [Previous_Coupon_Date], 
        [Extent2].[Payment_Frequency] AS [Payment_Frequency], 
        [Extent2].[Coupon_BusDay_Adjustment] AS [Coupon_BusDay_Adjustment], 
        [Extent2].[Next_Ex_Div_Date] AS [Next_Ex_Div_Date], 
        [Extent2].[Ex_Div_BusDay_Adjustment] AS [Ex_Div_BusDay_Adjustment], 
        [Extent2].[Ex_Div_Period] AS [Ex_Div_Period], 
        [Extent2].[Ticker] AS [Ticker], 
        [Extent2].[Inet_ID] AS [Inet_ID], 
        [Extent2].[Bloomberg_ID] AS [Bloomberg_ID], 
        [Extent2].[External_Sec_ID] AS [External_Sec_ID], 
        [Extent2].[Reuters_ID] AS [Reuters_ID], 
        [Extent2].[ISIN] AS [ISIN], 
        [Extent2].[Call_Account_Flag] AS [Call_Account_Flag], 
        [Extent2].[System_Locked] AS [System_Locked], 
        [Extent2].[Last_Update_User] AS [Last_Update_User1], 
        [Extent2].[Last_Update_Date] AS [Last_Update_Date1], 
        [Extent2].[Security_Status] AS [Security_Status], 
        [Extent2].[Benchmark_Portfolio] AS [Benchmark_Portfolio], 
        [Extent2].[Active_flag] AS [Active_flag], 
        [Extent2].[Dividend_FX_Security_ID] AS [Dividend_FX_Security_ID]
        FROM  [dbo].[Security_Analytics_History] AS [Extent1]
        INNER JOIN [dbo].[Security_Detail] AS [Extent2] ON [Extent1].[Security_ID] = [Extent2].[Security_ID]
        WHERE [Extent1].[Security_ID] = @p__linq__0
    )  AS [Project1]
    ORDER BY [Project1].[Record_Date] DESC
2018-04-07 18:31:36.0375|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: SELECT 
    [Project1].[Decimal_Precision] AS [Decimal_Precision], 
    [Project1].[Entity_ID] AS [Entity_ID], 
    [Project1].[Security_ID] AS [Security_ID], 
    [Project1].[Issued_Amount] AS [Issued_Amount], 
    [Project1].[Market_Capitalisation] AS [Market_Capitalisation], 
    [Project1].[Risk_Premium] AS [Risk_Premium], 
    [Project1].[Exit_Price] AS [Exit_Price], 
    [Project1].[Total_Return_ME_1YR] AS [Total_Return_ME_1YR], 
    [Project1].[Total_Return_ME_2YR] AS [Total_Return_ME_2YR], 
    [Project1].[Total_Return_ME_3YR] AS [Total_Return_ME_3YR], 
    [Project1].[Historic_Distribution] AS [Historic_Distribution], 
    [Project1].[Distribution_Growth_Forecast_Yr1] AS [Distribution_Growth_Forecast_Yr1], 
    [Project1].[Distribution_Growth_Forecast_Yr2] AS [Distribution_Growth_Forecast_Yr2], 
    [Project1].[Distribution_Growth_Forecast_Yr3] AS [Distribution_Growth_Forecast_Yr3], 
    [Project1].[Forecast_Distribution_Yr1] AS [Forecast_Distribution_Yr1], 
    [Project1].[Forecast_Distribution_Yr2] AS [Forecast_Distribution_Yr2], 
    [Project1].[Forecast_Distribution_Yr3] AS [Forecast_Distribution_Yr3], 
    [Project1].[Earnings_Growth_Compounded] AS [Earnings_Growth_Compounded], 
    [Project1].[Earnings_Forecast_Yr3] AS [Earnings_Forecast_Yr3], 
    [Project1].[Historic_Dividend_Yield_FYE] AS [Historic_Dividend_Yield_FYE], 
    [Project1].[Forward_Dividend_Yield_FYE] AS [Forward_Dividend_Yield_FYE], 
    [Project1].[Yr3_Forward_Dividend_Yield] AS [Yr3_Forward_Dividend_Yield], 
    [Project1].[Rolling_12M_Forward_Yield] AS [Rolling_12M_Forward_Yield], 
    [Project1].[Historical_Earnings_FYE] AS [Historical_Earnings_FYE], 
    [Project1].[Earnings_Forecast_Yr1] AS [Earnings_Forecast_Yr1], 
    [Project1].[Earnings_Forecast_Yr2] AS [Earnings_Forecast_Yr2], 
    [Project1].[Historic_Dividend_Yield_Relative] AS [Historic_Dividend_Yield_Relative], 
    [Project1].[Rolling_12M_Historic_Distribution_PriceCurr] AS [Rolling_12M_Historic_Distribution_PriceCurr], 
    [Project1].[Short_Term_Market_Rerate] AS [Short_Term_Market_Rerate], 
    [Project1].[Forecast_12M_Total_Return] AS [Forecast_12M_Total_Return], 
    [Project1].[Clean_Price] AS [Clean_Price], 
    [Project1].[Rolling_Dividend_Yield_Historic] AS [Rolling_Dividend_Yield_Historic], 
    [Project1].[Last_Update_Date] AS [Last_Update_Date], 
    [Project1].[Last_Update_User] AS [Last_Update_User], 
    [Project1].[Discount_Security_ID] AS [Discount_Security_ID], 
    [Project1].[Net_Present_Value] AS [Net_Present_Value], 
    [Project1].[Forecast_Rolling_Custom_Income] AS [Forecast_Rolling_Custom_Income], 
    [Project1].[Custom_Period] AS [Custom_Period], 
    [Project1].[Rolling_12M_Historic_Distribution] AS [Rolling_12M_Historic_Distribution], 
    [Project1].[Record_Date] AS [Record_Date], 
    [Project1].[Session_ID] AS [Session_ID], 
    [Project1].[Hist_Last_Update_Date] AS [Hist_Last_Update_Date], 
    [Project1].[Hist_Last_Update_User] AS [Hist_Last_Update_User], 
    [Project1].[Rolling_12M_Forecast_Distribution] AS [Rolling_12M_Forecast_Distribution], 
    [Project1].[Yr2_Forward_Dividend_Yield] AS [Yr2_Forward_Dividend_Yield], 
    [Project1].[Exit_Yield] AS [Exit_Yield], 
    [Project1].[Discount_Rate] AS [Discount_Rate], 
    [Project1].[Distribution_Growth_Compounded] AS [Distribution_Growth_Compounded], 
    [Project1].[Forecast_12MRolling_Income_Accrual] AS [Forecast_12MRolling_Income_Accrual], 
    [Project1].[Rolling_12_to_24M_Forecast_Distribution] AS [Rolling_12_to_24M_Forecast_Distribution], 
    [Project1].[Rolling_24_to_36M_Forecast_Distribution] AS [Rolling_24_to_36M_Forecast_Distribution], 
    [Project1].[Forecast_Yr1_Dividend_Yield_Relative] AS [Forecast_Yr1_Dividend_Yield_Relative], 
    [Project1].[Market_Historic_Yield] AS [Market_Historic_Yield], 
    [Project1].[Market_Forward_Yield] AS [Market_Forward_Yield], 
    [Project1].[Historic_Distribution_PriceCurr] AS [Historic_Distribution_PriceCurr], 
    [Project1].[Forecast_Distribution_Yr1_PriceCurr] AS [Forecast_Distribution_Yr1_PriceCurr], 
    [Project1].[Forecast_Distribution_Yr2_PriceCurr] AS [Forecast_Distribution_Yr2_PriceCurr], 
    [Project1].[Forecast_Distribution_Yr3_PriceCurr] AS [Forecast_Distribution_Yr3_PriceCurr], 
    [Project1].[Rolling_12M_Forecast_Distribution_PriceCurr] AS [Rolling_12M_Forecast_Distribution_PriceCurr], 
    [Project1].[Rolling_12_24M_Forecast_Distribution_PriceCurr] AS [Rolling_12_24M_Forecast_Distribution_PriceCurr], 
    [Project1].[Rolling_24_36M_Forecast_Distribution_PriceCurr] AS [Rolling_24_36M_Forecast_Distribution_PriceCurr], 
    [Project1].[Distribution_Growth_Forecast_Yr4] AS [Distribution_Growth_Forecast_Yr4], 
    [Project1].[Earnings_Forecast_Yr4] AS [Earnings_Forecast_Yr4], 
    [Project1].[Forecast_Distribution_Yr4] AS [Forecast_Distribution_Yr4], 
    [Project1].[Forecast_Distribution_Yr4_PriceCurr] AS [Forecast_Distribution_Yr4_PriceCurr], 
    [Project1].[Security_ID1] AS [Security_ID1], 
    [Project1].[Entity_ID1] AS [Entity_ID1], 
    [Project1].[Security_Name] AS [Security_Name], 
    [Project1].[Short_Name] AS [Short_Name], 
    [Project1].[Primary_Exch] AS [Primary_Exch], 
    [Project1].[Secondary_Exch] AS [Secondary_Exch], 
    [Project1].[Country_Of_Domicile] AS [Country_Of_Domicile], 
    [Project1].[Country_Of_Risk] AS [Country_Of_Risk], 
    [Project1].[Security_Type_Code] AS [Security_Type_Code], 
    [Project1].[Price_Multiplier] AS [Price_Multiplier], 
    [Project1].[Income_Frequency] AS [Income_Frequency], 
    [Project1].[Issuer_Code] AS [Issuer_Code], 
    [Project1].[Ultimate_Issuer_Code] AS [Ultimate_Issuer_Code], 
    [Project1].[Asset_Currency] AS [Asset_Currency], 
    [Project1].[Min_Lot_Size] AS [Min_Lot_Size], 
    [Project1].[AvePrice_Rounding] AS [AvePrice_Rounding], 
    [Project1].[Issue_Date] AS [Issue_Date], 
    [Project1].[Maturity_Date] AS [Maturity_Date], 
    [Project1].[Coupon_Rate] AS [Coupon_Rate], 
    [Project1].[Price_Exchange] AS [Price_Exchange], 
    [Project1].[Trade_Currency] AS [Trade_Currency], 
    [Project1].[Price_Curr] AS [Price_Curr], 
    [Project1].[Currency_Pair_Code] AS [Currency_Pair_Code], 
    [Project1].[Share_Class] AS [Share_Class], 
    [Project1].[Current_Market_Price] AS [Current_Market_Price], 
    [Project1].[Index_Type] AS [Index_Type], 
    [Project1].[Clean_Price_Formula] AS [Clean_Price_Formula], 
    [Project1].[Accrued_Income_Price_Formula] AS [Accrued_Income_Price_Formula], 
    [Project1].[Odd_First_Coupon_Date] AS [Odd_First_Coupon_Date], 
    [Project1].[Odd_Last_Coupon_Date] AS [Odd_Last_Coupon_Date], 
    [Project1].[Coupon_Anniversary_Indicator] AS [Coupon_Anniversary_Indicator], 
    [Project1].[Track_EOM_Flag] AS [Track_EOM_Flag], 
    [Project1].[Next_Coupon_Date] AS [Next_Coupon_Date], 
    [Project1].[Previous_Coupon_Date] AS [Previous_Coupon_Date], 
    [Project1].[Payment_Frequency] AS [Payment_Frequency], 
    [Project1].[Coupon_BusDay_Adjustment] AS [Coupon_BusDay_Adjustment], 
    [Project1].[Next_Ex_Div_Date] AS [Next_Ex_Div_Date], 
    [Project1].[Ex_Div_BusDay_Adjustment] AS [Ex_Div_BusDay_Adjustment], 
    [Project1].[Ex_Div_Period] AS [Ex_Div_Period], 
    [Project1].[Ticker] AS [Ticker], 
    [Project1].[Inet_ID] AS [Inet_ID], 
    [Project1].[Bloomberg_ID] AS [Bloomberg_ID], 
    [Project1].[External_Sec_ID] AS [External_Sec_ID], 
    [Project1].[Reuters_ID] AS [Reuters_ID], 
    [Project1].[ISIN] AS [ISIN], 
    [Project1].[Call_Account_Flag] AS [Call_Account_Flag], 
    [Project1].[System_Locked] AS [System_Locked], 
    [Project1].[Last_Update_User1] AS [Last_Update_User1], 
    [Project1].[Last_Update_Date1] AS [Last_Update_Date1], 
    [Project1].[Security_Status] AS [Security_Status], 
    [Project1].[Benchmark_Portfolio] AS [Benchmark_Portfolio], 
    [Project1].[Active_flag] AS [Active_flag], 
    [Project1].[Dividend_FX_Security_ID] AS [Dividend_FX_Security_ID]
    FROM ( SELECT 
        [Extent1].[Entity_ID] AS [Entity_ID], 
        [Extent1].[Security_ID] AS [Security_ID], 
        [Extent1].[Issued_Amount] AS [Issued_Amount], 
        [Extent1].[Market_Capitalisation] AS [Market_Capitalisation], 
        [Extent1].[Risk_Premium] AS [Risk_Premium], 
        [Extent1].[Exit_Price] AS [Exit_Price], 
        [Extent1].[Total_Return_ME_1YR] AS [Total_Return_ME_1YR], 
        [Extent1].[Total_Return_ME_2YR] AS [Total_Return_ME_2YR], 
        [Extent1].[Total_Return_ME_3YR] AS [Total_Return_ME_3YR], 
        [Extent1].[Historic_Distribution] AS [Historic_Distribution], 
        [Extent1].[Distribution_Growth_Forecast_Yr1] AS [Distribution_Growth_Forecast_Yr1], 
        [Extent1].[Distribution_Growth_Forecast_Yr2] AS [Distribution_Growth_Forecast_Yr2], 
        [Extent1].[Distribution_Growth_Forecast_Yr3] AS [Distribution_Growth_Forecast_Yr3], 
        [Extent1].[Forecast_Distribution_Yr1] AS [Forecast_Distribution_Yr1], 
        [Extent1].[Forecast_Distribution_Yr2] AS [Forecast_Distribution_Yr2], 
        [Extent1].[Forecast_Distribution_Yr3] AS [Forecast_Distribution_Yr3], 
        [Extent1].[Earnings_Growth_Compounded] AS [Earnings_Growth_Compounded], 
        [Extent1].[Earnings_Forecast_Yr3] AS [Earnings_Forecast_Yr3], 
        [Extent1].[Historic_Dividend_Yield_FYE] AS [Historic_Dividend_Yield_FYE], 
        [Extent1].[Forward_Dividend_Yield_FYE] AS [Forward_Dividend_Yield_FYE], 
        [Extent1].[Yr3_Forward_Dividend_Yield] AS [Yr3_Forward_Dividend_Yield], 
        [Extent1].[Rolling_12M_Forward_Yield] AS [Rolling_12M_Forward_Yield], 
        [Extent1].[Historical_Earnings_FYE] AS [Historical_Earnings_FYE], 
        [Extent1].[Earnings_Forecast_Yr1] AS [Earnings_Forecast_Yr1], 
        [Extent1].[Earnings_Forecast_Yr2] AS [Earnings_Forecast_Yr2], 
        [Extent1].[Historic_Dividend_Yield_Relative] AS [Historic_Dividend_Yield_Relative], 
        [Extent1].[Rolling_12M_Historic_Distribution_PriceCurr] AS [Rolling_12M_Historic_Distribution_PriceCurr], 
        [Extent1].[Short_Term_Market_Rerate] AS [Short_Term_Market_Rerate], 
        [Extent1].[Forecast_12M_Total_Return] AS [Forecast_12M_Total_Return], 
        [Extent1].[Clean_Price] AS [Clean_Price], 
        [Extent1].[Rolling_Dividend_Yield_Historic] AS [Rolling_Dividend_Yield_Historic], 
        [Extent1].[Last_Update_Date] AS [Last_Update_Date], 
        [Extent1].[Last_Update_User] AS [Last_Update_User], 
        [Extent1].[Discount_Security_ID] AS [Discount_Security_ID], 
        [Extent1].[Net_Present_Value] AS [Net_Present_Value], 
        [Extent1].[Forecast_Rolling_Custom_Income] AS [Forecast_Rolling_Custom_Income], 
        [Extent1].[Custom_Period] AS [Custom_Period], 
        [Extent1].[Rolling_12M_Historic_Distribution] AS [Rolling_12M_Historic_Distribution], 
        [Extent1].[Record_Date] AS [Record_Date], 
        [Extent1].[Session_ID] AS [Session_ID], 
        [Extent1].[Hist_Last_Update_Date] AS [Hist_Last_Update_Date], 
        [Extent1].[Hist_Last_Update_User] AS [Hist_Last_Update_User], 
        [Extent1].[Rolling_12M_Forecast_Distribution] AS [Rolling_12M_Forecast_Distribution], 
        [Extent1].[Yr2_Forward_Dividend_Yield] AS [Yr2_Forward_Dividend_Yield], 
        [Extent1].[Exit_Yield] AS [Exit_Yield], 
        [Extent1].[Discount_Rate] AS [Discount_Rate], 
        [Extent1].[Distribution_Growth_Compounded] AS [Distribution_Growth_Compounded], 
        [Extent1].[Forecast_12MRolling_Income_Accrual] AS [Forecast_12MRolling_Income_Accrual], 
        [Extent1].[Rolling_12_to_24M_Forecast_Distribution] AS [Rolling_12_to_24M_Forecast_Distribution], 
        [Extent1].[Rolling_24_to_36M_Forecast_Distribution] AS [Rolling_24_to_36M_Forecast_Distribution], 
        [Extent1].[Forecast_Yr1_Dividend_Yield_Relative] AS [Forecast_Yr1_Dividend_Yield_Relative], 
        [Extent1].[Market_Historic_Yield] AS [Market_Historic_Yield], 
        [Extent1].[Market_Forward_Yield] AS [Market_Forward_Yield], 
        [Extent1].[Historic_Distribution_PriceCurr] AS [Historic_Distribution_PriceCurr], 
        [Extent1].[Forecast_Distribution_Yr1_PriceCurr] AS [Forecast_Distribution_Yr1_PriceCurr], 
        [Extent1].[Forecast_Distribution_Yr2_PriceCurr] AS [Forecast_Distribution_Yr2_PriceCurr], 
        [Extent1].[Forecast_Distribution_Yr3_PriceCurr] AS [Forecast_Distribution_Yr3_PriceCurr], 
        [Extent1].[Rolling_12M_Forecast_Distribution_PriceCurr] AS [Rolling_12M_Forecast_Distribution_PriceCurr], 
        [Extent1].[Rolling_12_24M_Forecast_Distribution_PriceCurr] AS [Rolling_12_24M_Forecast_Distribution_PriceCurr], 
        [Extent1].[Rolling_24_36M_Forecast_Distribution_PriceCurr] AS [Rolling_24_36M_Forecast_Distribution_PriceCurr], 
        [Extent1].[Distribution_Growth_Forecast_Yr4] AS [Distribution_Growth_Forecast_Yr4], 
        [Extent1].[Earnings_Forecast_Yr4] AS [Earnings_Forecast_Yr4], 
        [Extent1].[Forecast_Distribution_Yr4] AS [Forecast_Distribution_Yr4], 
        [Extent1].[Forecast_Distribution_Yr4_PriceCurr] AS [Forecast_Distribution_Yr4_PriceCurr], 
        [Extent2].[Security_ID] AS [Security_ID1], 
        [Extent2].[Entity_ID] AS [Entity_ID1], 
        [Extent2].[Security_Name] AS [Security_Name], 
        [Extent2].[Short_Name] AS [Short_Name], 
        [Extent2].[Primary_Exch] AS [Primary_Exch], 
        [Extent2].[Secondary_Exch] AS [Secondary_Exch], 
        [Extent2].[Country_Of_Domicile] AS [Country_Of_Domicile], 
        [Extent2].[Country_Of_Risk] AS [Country_Of_Risk], 
        [Extent2].[Security_Type_Code] AS [Security_Type_Code], 
        [Extent2].[Price_Multiplier] AS [Price_Multiplier], 
        [Extent2].[Income_Frequency] AS [Income_Frequency], 
        [Extent2].[Issuer_Code] AS [Issuer_Code], 
        [Extent2].[Ultimate_Issuer_Code] AS [Ultimate_Issuer_Code], 
        [Extent2].[Asset_Currency] AS [Asset_Currency], 
        [Extent2].[Min_Lot_Size] AS [Min_Lot_Size], 
        [Extent2].[Decimal_Precision] AS [Decimal_Precision], 
        [Extent2].[AvePrice_Rounding] AS [AvePrice_Rounding], 
        [Extent2].[Issue_Date] AS [Issue_Date], 
        [Extent2].[Maturity_Date] AS [Maturity_Date], 
        [Extent2].[Coupon_Rate] AS [Coupon_Rate], 
        [Extent2].[Price_Exchange] AS [Price_Exchange], 
        [Extent2].[Trade_Currency] AS [Trade_Currency], 
        [Extent2].[Price_Curr] AS [Price_Curr], 
        [Extent2].[Currency_Pair_Code] AS [Currency_Pair_Code], 
        [Extent2].[Share_Class] AS [Share_Class], 
        [Extent2].[Current_Market_Price] AS [Current_Market_Price], 
        [Extent2].[Index_Type] AS [Index_Type], 
        [Extent2].[Clean_Price_Formula] AS [Clean_Price_Formula], 
        [Extent2].[Accrued_Income_Price_Formula] AS [Accrued_Income_Price_Formula], 
        [Extent2].[Odd_First_Coupon_Date] AS [Odd_First_Coupon_Date], 
        [Extent2].[Odd_Last_Coupon_Date] AS [Odd_Last_Coupon_Date], 
        [Extent2].[Coupon_Anniversary_Indicator] AS [Coupon_Anniversary_Indicator], 
        [Extent2].[Track_EOM_Flag] AS [Track_EOM_Flag], 
        [Extent2].[Next_Coupon_Date] AS [Next_Coupon_Date], 
        [Extent2].[Previous_Coupon_Date] AS [Previous_Coupon_Date], 
        [Extent2].[Payment_Frequency] AS [Payment_Frequency], 
        [Extent2].[Coupon_BusDay_Adjustment] AS [Coupon_BusDay_Adjustment], 
        [Extent2].[Next_Ex_Div_Date] AS [Next_Ex_Div_Date], 
        [Extent2].[Ex_Div_BusDay_Adjustment] AS [Ex_Div_BusDay_Adjustment], 
        [Extent2].[Ex_Div_Period] AS [Ex_Div_Period], 
        [Extent2].[Ticker] AS [Ticker], 
        [Extent2].[Inet_ID] AS [Inet_ID], 
        [Extent2].[Bloomberg_ID] AS [Bloomberg_ID], 
        [Extent2].[External_Sec_ID] AS [External_Sec_ID], 
        [Extent2].[Reuters_ID] AS [Reuters_ID], 
        [Extent2].[ISIN] AS [ISIN], 
        [Extent2].[Call_Account_Flag] AS [Call_Account_Flag], 
        [Extent2].[System_Locked] AS [System_Locked], 
        [Extent2].[Last_Update_User] AS [Last_Update_User1], 
        [Extent2].[Last_Update_Date] AS [Last_Update_Date1], 
        [Extent2].[Security_Status] AS [Security_Status], 
        [Extent2].[Benchmark_Portfolio] AS [Benchmark_Portfolio], 
        [Extent2].[Active_flag] AS [Active_flag], 
        [Extent2].[Dividend_FX_Security_ID] AS [Dividend_FX_Security_ID]
        FROM  [dbo].[Security_Analytics_History] AS [Extent1]
        INNER JOIN [dbo].[Security_Detail] AS [Extent2] ON [Extent1].[Security_ID] = [Extent2].[Security_ID]
        WHERE [Extent1].[Security_ID] = @p__linq__0
    )  AS [Project1]
    ORDER BY [Project1].[Record_Date] DESC
2018-04-07 18:31:36.5714|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: IF db_id(N'MetopeAzureDb') IS NOT NULL SELECT 1 ELSE SELECT Count(*) FROM sys.databases WHERE [name]=N'MetopeAzureDb'
2018-04-07 18:31:36.5924|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: IF db_id(N'MetopeAzureDb') IS NOT NULL SELECT 1 ELSE SELECT Count(*) FROM sys.databases WHERE [name]=N'MetopeAzureDb'
2018-04-07 18:31:36.6144|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: IF db_id(N'MetopeAzureDb') IS NOT NULL SELECT 1 ELSE SELECT Count(*) FROM sys.databases WHERE [name]=N'MetopeAzureDb'
2018-04-07 18:31:36.6414|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: IF db_id(N'MetopeAzureDb') IS NOT NULL SELECT 1 ELSE SELECT Count(*) FROM sys.databases WHERE [name]=N'MetopeAzureDb'
2018-04-07 18:31:38.3537|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: SELECT 
    [Project1].[Security_ID] AS [Security_ID], 
    [Project1].[Entity_ID] AS [Entity_ID], 
    [Project1].[Security_Name] AS [Security_Name], 
    [Project1].[Short_Name] AS [Short_Name], 
    [Project1].[Primary_Exch] AS [Primary_Exch], 
    [Project1].[Secondary_Exch] AS [Secondary_Exch], 
    [Project1].[Country_Of_Domicile] AS [Country_Of_Domicile], 
    [Project1].[Country_Of_Risk] AS [Country_Of_Risk], 
    [Project1].[Security_Type_Code] AS [Security_Type_Code], 
    [Project1].[Price_Multiplier] AS [Price_Multiplier], 
    [Project1].[Income_Frequency] AS [Income_Frequency], 
    [Project1].[Issuer_Code] AS [Issuer_Code], 
    [Project1].[Ultimate_Issuer_Code] AS [Ultimate_Issuer_Code], 
    [Project1].[Asset_Currency] AS [Asset_Currency], 
    [Project1].[Min_Lot_Size] AS [Min_Lot_Size], 
    [Project1].[Decimal_Precision] AS [Decimal_Precision], 
    [Project1].[AvePrice_Rounding] AS [AvePrice_Rounding], 
    [Project1].[Issue_Date] AS [Issue_Date], 
    [Project1].[Maturity_Date] AS [Maturity_Date], 
    [Project1].[Coupon_Rate] AS [Coupon_Rate], 
    [Project1].[Price_Exchange] AS [Price_Exchange], 
    [Project1].[Trade_Currency] AS [Trade_Currency], 
    [Project1].[Price_Curr] AS [Price_Curr], 
    [Project1].[Currency_Pair_Code] AS [Currency_Pair_Code], 
    [Project1].[Share_Class] AS [Share_Class], 
    [Project1].[Current_Market_Price] AS [Current_Market_Price], 
    [Project1].[Index_Type] AS [Index_Type], 
    [Project1].[Clean_Price_Formula] AS [Clean_Price_Formula], 
    [Project1].[Accrued_Income_Price_Formula] AS [Accrued_Income_Price_Formula], 
    [Project1].[Odd_First_Coupon_Date] AS [Odd_First_Coupon_Date], 
    [Project1].[Odd_Last_Coupon_Date] AS [Odd_Last_Coupon_Date], 
    [Project1].[Coupon_Anniversary_Indicator] AS [Coupon_Anniversary_Indicator], 
    [Project1].[Track_EOM_Flag] AS [Track_EOM_Flag], 
    [Project1].[Next_Coupon_Date] AS [Next_Coupon_Date], 
    [Project1].[Previous_Coupon_Date] AS [Previous_Coupon_Date], 
    [Project1].[Payment_Frequency] AS [Payment_Frequency], 
    [Project1].[Coupon_BusDay_Adjustment] AS [Coupon_BusDay_Adjustment], 
    [Project1].[Next_Ex_Div_Date] AS [Next_Ex_Div_Date], 
    [Project1].[Ex_Div_BusDay_Adjustment] AS [Ex_Div_BusDay_Adjustment], 
    [Project1].[Ex_Div_Period] AS [Ex_Div_Period], 
    [Project1].[Ticker] AS [Ticker], 
    [Project1].[Inet_ID] AS [Inet_ID], 
    [Project1].[Bloomberg_ID] AS [Bloomberg_ID], 
    [Project1].[External_Sec_ID] AS [External_Sec_ID], 
    [Project1].[Reuters_ID] AS [Reuters_ID], 
    [Project1].[ISIN] AS [ISIN], 
    [Project1].[Call_Account_Flag] AS [Call_Account_Flag], 
    [Project1].[System_Locked] AS [System_Locked], 
    [Project1].[Last_Update_User] AS [Last_Update_User], 
    [Project1].[Last_Update_Date] AS [Last_Update_Date], 
    [Project1].[Security_Status] AS [Security_Status], 
    [Project1].[Benchmark_Portfolio] AS [Benchmark_Portfolio], 
    [Project1].[Active_flag] AS [Active_flag], 
    [Project1].[Dividend_FX_Security_ID] AS [Dividend_FX_Security_ID]
    FROM ( SELECT 
        [Extent1].[Security_ID] AS [Security_ID], 
        [Extent1].[Entity_ID] AS [Entity_ID], 
        [Extent1].[Security_Name] AS [Security_Name], 
        [Extent1].[Short_Name] AS [Short_Name], 
        [Extent1].[Primary_Exch] AS [Primary_Exch], 
        [Extent1].[Secondary_Exch] AS [Secondary_Exch], 
        [Extent1].[Country_Of_Domicile] AS [Country_Of_Domicile], 
        [Extent1].[Country_Of_Risk] AS [Country_Of_Risk], 
        [Extent1].[Security_Type_Code] AS [Security_Type_Code], 
        [Extent1].[Price_Multiplier] AS [Price_Multiplier], 
        [Extent1].[Income_Frequency] AS [Income_Frequency], 
        [Extent1].[Issuer_Code] AS [Issuer_Code], 
        [Extent1].[Ultimate_Issuer_Code] AS [Ultimate_Issuer_Code], 
        [Extent1].[Asset_Currency] AS [Asset_Currency], 
        [Extent1].[Min_Lot_Size] AS [Min_Lot_Size], 
        [Extent1].[Decimal_Precision] AS [Decimal_Precision], 
        [Extent1].[AvePrice_Rounding] AS [AvePrice_Rounding], 
        [Extent1].[Issue_Date] AS [Issue_Date], 
        [Extent1].[Maturity_Date] AS [Maturity_Date], 
        [Extent1].[Coupon_Rate] AS [Coupon_Rate], 
        [Extent1].[Price_Exchange] AS [Price_Exchange], 
        [Extent1].[Trade_Currency] AS [Trade_Currency], 
        [Extent1].[Price_Curr] AS [Price_Curr], 
        [Extent1].[Currency_Pair_Code] AS [Currency_Pair_Code], 
        [Extent1].[Share_Class] AS [Share_Class], 
        [Extent1].[Current_Market_Price] AS [Current_Market_Price], 
        [Extent1].[Index_Type] AS [Index_Type], 
        [Extent1].[Clean_Price_Formula] AS [Clean_Price_Formula], 
        [Extent1].[Accrued_Income_Price_Formula] AS [Accrued_Income_Price_Formula], 
        [Extent1].[Odd_First_Coupon_Date] AS [Odd_First_Coupon_Date], 
        [Extent1].[Odd_Last_Coupon_Date] AS [Odd_Last_Coupon_Date], 
        [Extent1].[Coupon_Anniversary_Indicator] AS [Coupon_Anniversary_Indicator], 
        [Extent1].[Track_EOM_Flag] AS [Track_EOM_Flag], 
        [Extent1].[Next_Coupon_Date] AS [Next_Coupon_Date], 
        [Extent1].[Previous_Coupon_Date] AS [Previous_Coupon_Date], 
        [Extent1].[Payment_Frequency] AS [Payment_Frequency], 
        [Extent1].[Coupon_BusDay_Adjustment] AS [Coupon_BusDay_Adjustment], 
        [Extent1].[Next_Ex_Div_Date] AS [Next_Ex_Div_Date], 
        [Extent1].[Ex_Div_BusDay_Adjustment] AS [Ex_Div_BusDay_Adjustment], 
        [Extent1].[Ex_Div_Period] AS [Ex_Div_Period], 
        [Extent1].[Ticker] AS [Ticker], 
        [Extent1].[Inet_ID] AS [Inet_ID], 
        [Extent1].[Bloomberg_ID] AS [Bloomberg_ID], 
        [Extent1].[External_Sec_ID] AS [External_Sec_ID], 
        [Extent1].[Reuters_ID] AS [Reuters_ID], 
        [Extent1].[ISIN] AS [ISIN], 
        [Extent1].[Call_Account_Flag] AS [Call_Account_Flag], 
        [Extent1].[System_Locked] AS [System_Locked], 
        [Extent1].[Last_Update_User] AS [Last_Update_User], 
        [Extent1].[Last_Update_Date] AS [Last_Update_Date], 
        [Extent1].[Security_Status] AS [Security_Status], 
        [Extent1].[Benchmark_Portfolio] AS [Benchmark_Portfolio], 
        [Extent1].[Active_flag] AS [Active_flag], 
        [Extent1].[Dividend_FX_Security_ID] AS [Dividend_FX_Security_ID]
        FROM [dbo].[Security_Detail] AS [Extent1]
        WHERE ([Extent1].[Entity_ID] IN (@p__linq__0,@p__linq__1)) AND ((CASE WHEN ( NOT ((N'' = @p__linq__2) AND (@p__linq__2 IS NOT NULL))) THEN CASE WHEN ([Extent1].[Security_Type_Code] = @p__linq__3) THEN cast(1 as bit) WHEN ( NOT (([Extent1].[Security_Type_Code] = @p__linq__3) AND (0 = (CASE WHEN (@p__linq__3 IS NULL) THEN cast(1 as bit) ELSE cast(0 as bit) END)))) THEN cast(0 as bit) END WHEN ('' <> [Extent1].[Security_Type_Code]) THEN cast(1 as bit) WHEN ('' = [Extent1].[Security_Type_Code]) THEN cast(0 as bit) END) = 1)
    )  AS [Project1]
    ORDER BY [Project1].[Security_Name] ASC
2018-04-07 18:31:38.4422|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: SELECT 
    [Project1].[Security_ID] AS [Security_ID], 
    [Project1].[Entity_ID] AS [Entity_ID], 
    [Project1].[Security_Name] AS [Security_Name], 
    [Project1].[Short_Name] AS [Short_Name], 
    [Project1].[Primary_Exch] AS [Primary_Exch], 
    [Project1].[Secondary_Exch] AS [Secondary_Exch], 
    [Project1].[Country_Of_Domicile] AS [Country_Of_Domicile], 
    [Project1].[Country_Of_Risk] AS [Country_Of_Risk], 
    [Project1].[Security_Type_Code] AS [Security_Type_Code], 
    [Project1].[Price_Multiplier] AS [Price_Multiplier], 
    [Project1].[Income_Frequency] AS [Income_Frequency], 
    [Project1].[Issuer_Code] AS [Issuer_Code], 
    [Project1].[Ultimate_Issuer_Code] AS [Ultimate_Issuer_Code], 
    [Project1].[Asset_Currency] AS [Asset_Currency], 
    [Project1].[Min_Lot_Size] AS [Min_Lot_Size], 
    [Project1].[Decimal_Precision] AS [Decimal_Precision], 
    [Project1].[AvePrice_Rounding] AS [AvePrice_Rounding], 
    [Project1].[Issue_Date] AS [Issue_Date], 
    [Project1].[Maturity_Date] AS [Maturity_Date], 
    [Project1].[Coupon_Rate] AS [Coupon_Rate], 
    [Project1].[Price_Exchange] AS [Price_Exchange], 
    [Project1].[Trade_Currency] AS [Trade_Currency], 
    [Project1].[Price_Curr] AS [Price_Curr], 
    [Project1].[Currency_Pair_Code] AS [Currency_Pair_Code], 
    [Project1].[Share_Class] AS [Share_Class], 
    [Project1].[Current_Market_Price] AS [Current_Market_Price], 
    [Project1].[Index_Type] AS [Index_Type], 
    [Project1].[Clean_Price_Formula] AS [Clean_Price_Formula], 
    [Project1].[Accrued_Income_Price_Formula] AS [Accrued_Income_Price_Formula], 
    [Project1].[Odd_First_Coupon_Date] AS [Odd_First_Coupon_Date], 
    [Project1].[Odd_Last_Coupon_Date] AS [Odd_Last_Coupon_Date], 
    [Project1].[Coupon_Anniversary_Indicator] AS [Coupon_Anniversary_Indicator], 
    [Project1].[Track_EOM_Flag] AS [Track_EOM_Flag], 
    [Project1].[Next_Coupon_Date] AS [Next_Coupon_Date], 
    [Project1].[Previous_Coupon_Date] AS [Previous_Coupon_Date], 
    [Project1].[Payment_Frequency] AS [Payment_Frequency], 
    [Project1].[Coupon_BusDay_Adjustment] AS [Coupon_BusDay_Adjustment], 
    [Project1].[Next_Ex_Div_Date] AS [Next_Ex_Div_Date], 
    [Project1].[Ex_Div_BusDay_Adjustment] AS [Ex_Div_BusDay_Adjustment], 
    [Project1].[Ex_Div_Period] AS [Ex_Div_Period], 
    [Project1].[Ticker] AS [Ticker], 
    [Project1].[Inet_ID] AS [Inet_ID], 
    [Project1].[Bloomberg_ID] AS [Bloomberg_ID], 
    [Project1].[External_Sec_ID] AS [External_Sec_ID], 
    [Project1].[Reuters_ID] AS [Reuters_ID], 
    [Project1].[ISIN] AS [ISIN], 
    [Project1].[Call_Account_Flag] AS [Call_Account_Flag], 
    [Project1].[System_Locked] AS [System_Locked], 
    [Project1].[Last_Update_User] AS [Last_Update_User], 
    [Project1].[Last_Update_Date] AS [Last_Update_Date], 
    [Project1].[Security_Status] AS [Security_Status], 
    [Project1].[Benchmark_Portfolio] AS [Benchmark_Portfolio], 
    [Project1].[Active_flag] AS [Active_flag], 
    [Project1].[Dividend_FX_Security_ID] AS [Dividend_FX_Security_ID]
    FROM ( SELECT 
        [Extent1].[Security_ID] AS [Security_ID], 
        [Extent1].[Entity_ID] AS [Entity_ID], 
        [Extent1].[Security_Name] AS [Security_Name], 
        [Extent1].[Short_Name] AS [Short_Name], 
        [Extent1].[Primary_Exch] AS [Primary_Exch], 
        [Extent1].[Secondary_Exch] AS [Secondary_Exch], 
        [Extent1].[Country_Of_Domicile] AS [Country_Of_Domicile], 
        [Extent1].[Country_Of_Risk] AS [Country_Of_Risk], 
        [Extent1].[Security_Type_Code] AS [Security_Type_Code], 
        [Extent1].[Price_Multiplier] AS [Price_Multiplier], 
        [Extent1].[Income_Frequency] AS [Income_Frequency], 
        [Extent1].[Issuer_Code] AS [Issuer_Code], 
        [Extent1].[Ultimate_Issuer_Code] AS [Ultimate_Issuer_Code], 
        [Extent1].[Asset_Currency] AS [Asset_Currency], 
        [Extent1].[Min_Lot_Size] AS [Min_Lot_Size], 
        [Extent1].[Decimal_Precision] AS [Decimal_Precision], 
        [Extent1].[AvePrice_Rounding] AS [AvePrice_Rounding], 
        [Extent1].[Issue_Date] AS [Issue_Date], 
        [Extent1].[Maturity_Date] AS [Maturity_Date], 
        [Extent1].[Coupon_Rate] AS [Coupon_Rate], 
        [Extent1].[Price_Exchange] AS [Price_Exchange], 
        [Extent1].[Trade_Currency] AS [Trade_Currency], 
        [Extent1].[Price_Curr] AS [Price_Curr], 
        [Extent1].[Currency_Pair_Code] AS [Currency_Pair_Code], 
        [Extent1].[Share_Class] AS [Share_Class], 
        [Extent1].[Current_Market_Price] AS [Current_Market_Price], 
        [Extent1].[Index_Type] AS [Index_Type], 
        [Extent1].[Clean_Price_Formula] AS [Clean_Price_Formula], 
        [Extent1].[Accrued_Income_Price_Formula] AS [Accrued_Income_Price_Formula], 
        [Extent1].[Odd_First_Coupon_Date] AS [Odd_First_Coupon_Date], 
        [Extent1].[Odd_Last_Coupon_Date] AS [Odd_Last_Coupon_Date], 
        [Extent1].[Coupon_Anniversary_Indicator] AS [Coupon_Anniversary_Indicator], 
        [Extent1].[Track_EOM_Flag] AS [Track_EOM_Flag], 
        [Extent1].[Next_Coupon_Date] AS [Next_Coupon_Date], 
        [Extent1].[Previous_Coupon_Date] AS [Previous_Coupon_Date], 
        [Extent1].[Payment_Frequency] AS [Payment_Frequency], 
        [Extent1].[Coupon_BusDay_Adjustment] AS [Coupon_BusDay_Adjustment], 
        [Extent1].[Next_Ex_Div_Date] AS [Next_Ex_Div_Date], 
        [Extent1].[Ex_Div_BusDay_Adjustment] AS [Ex_Div_BusDay_Adjustment], 
        [Extent1].[Ex_Div_Period] AS [Ex_Div_Period], 
        [Extent1].[Ticker] AS [Ticker], 
        [Extent1].[Inet_ID] AS [Inet_ID], 
        [Extent1].[Bloomberg_ID] AS [Bloomberg_ID], 
        [Extent1].[External_Sec_ID] AS [External_Sec_ID], 
        [Extent1].[Reuters_ID] AS [Reuters_ID], 
        [Extent1].[ISIN] AS [ISIN], 
        [Extent1].[Call_Account_Flag] AS [Call_Account_Flag], 
        [Extent1].[System_Locked] AS [System_Locked], 
        [Extent1].[Last_Update_User] AS [Last_Update_User], 
        [Extent1].[Last_Update_Date] AS [Last_Update_Date], 
        [Extent1].[Security_Status] AS [Security_Status], 
        [Extent1].[Benchmark_Portfolio] AS [Benchmark_Portfolio], 
        [Extent1].[Active_flag] AS [Active_flag], 
        [Extent1].[Dividend_FX_Security_ID] AS [Dividend_FX_Security_ID]
        FROM [dbo].[Security_Detail] AS [Extent1]
        WHERE ([Extent1].[Entity_ID] IN (@p__linq__0,@p__linq__1)) AND ((CASE WHEN ( NOT ((N'' = @p__linq__2) AND (@p__linq__2 IS NOT NULL))) THEN CASE WHEN ([Extent1].[Security_Type_Code] = @p__linq__3) THEN cast(1 as bit) WHEN ( NOT (([Extent1].[Security_Type_Code] = @p__linq__3) AND (0 = (CASE WHEN (@p__linq__3 IS NULL) THEN cast(1 as bit) ELSE cast(0 as bit) END)))) THEN cast(0 as bit) END WHEN ('' <> [Extent1].[Security_Type_Code]) THEN cast(1 as bit) WHEN ('' = [Extent1].[Security_Type_Code]) THEN cast(0 as bit) END) = 1)
    )  AS [Project1]
    ORDER BY [Project1].[Security_Name] ASC
2018-04-07 18:31:38.5128|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: SELECT 
    [Project1].[Security_ID] AS [Security_ID], 
    [Project1].[Entity_ID] AS [Entity_ID], 
    [Project1].[Security_Name] AS [Security_Name], 
    [Project1].[Short_Name] AS [Short_Name], 
    [Project1].[Primary_Exch] AS [Primary_Exch], 
    [Project1].[Secondary_Exch] AS [Secondary_Exch], 
    [Project1].[Country_Of_Domicile] AS [Country_Of_Domicile], 
    [Project1].[Country_Of_Risk] AS [Country_Of_Risk], 
    [Project1].[Security_Type_Code] AS [Security_Type_Code], 
    [Project1].[Price_Multiplier] AS [Price_Multiplier], 
    [Project1].[Income_Frequency] AS [Income_Frequency], 
    [Project1].[Issuer_Code] AS [Issuer_Code], 
    [Project1].[Ultimate_Issuer_Code] AS [Ultimate_Issuer_Code], 
    [Project1].[Asset_Currency] AS [Asset_Currency], 
    [Project1].[Min_Lot_Size] AS [Min_Lot_Size], 
    [Project1].[Decimal_Precision] AS [Decimal_Precision], 
    [Project1].[AvePrice_Rounding] AS [AvePrice_Rounding], 
    [Project1].[Issue_Date] AS [Issue_Date], 
    [Project1].[Maturity_Date] AS [Maturity_Date], 
    [Project1].[Coupon_Rate] AS [Coupon_Rate], 
    [Project1].[Price_Exchange] AS [Price_Exchange], 
    [Project1].[Trade_Currency] AS [Trade_Currency], 
    [Project1].[Price_Curr] AS [Price_Curr], 
    [Project1].[Currency_Pair_Code] AS [Currency_Pair_Code], 
    [Project1].[Share_Class] AS [Share_Class], 
    [Project1].[Current_Market_Price] AS [Current_Market_Price], 
    [Project1].[Index_Type] AS [Index_Type], 
    [Project1].[Clean_Price_Formula] AS [Clean_Price_Formula], 
    [Project1].[Accrued_Income_Price_Formula] AS [Accrued_Income_Price_Formula], 
    [Project1].[Odd_First_Coupon_Date] AS [Odd_First_Coupon_Date], 
    [Project1].[Odd_Last_Coupon_Date] AS [Odd_Last_Coupon_Date], 
    [Project1].[Coupon_Anniversary_Indicator] AS [Coupon_Anniversary_Indicator], 
    [Project1].[Track_EOM_Flag] AS [Track_EOM_Flag], 
    [Project1].[Next_Coupon_Date] AS [Next_Coupon_Date], 
    [Project1].[Previous_Coupon_Date] AS [Previous_Coupon_Date], 
    [Project1].[Payment_Frequency] AS [Payment_Frequency], 
    [Project1].[Coupon_BusDay_Adjustment] AS [Coupon_BusDay_Adjustment], 
    [Project1].[Next_Ex_Div_Date] AS [Next_Ex_Div_Date], 
    [Project1].[Ex_Div_BusDay_Adjustment] AS [Ex_Div_BusDay_Adjustment], 
    [Project1].[Ex_Div_Period] AS [Ex_Div_Period], 
    [Project1].[Ticker] AS [Ticker], 
    [Project1].[Inet_ID] AS [Inet_ID], 
    [Project1].[Bloomberg_ID] AS [Bloomberg_ID], 
    [Project1].[External_Sec_ID] AS [External_Sec_ID], 
    [Project1].[Reuters_ID] AS [Reuters_ID], 
    [Project1].[ISIN] AS [ISIN], 
    [Project1].[Call_Account_Flag] AS [Call_Account_Flag], 
    [Project1].[System_Locked] AS [System_Locked], 
    [Project1].[Last_Update_User] AS [Last_Update_User], 
    [Project1].[Last_Update_Date] AS [Last_Update_Date], 
    [Project1].[Security_Status] AS [Security_Status], 
    [Project1].[Benchmark_Portfolio] AS [Benchmark_Portfolio], 
    [Project1].[Active_flag] AS [Active_flag], 
    [Project1].[Dividend_FX_Security_ID] AS [Dividend_FX_Security_ID]
    FROM ( SELECT 
        [Extent1].[Security_ID] AS [Security_ID], 
        [Extent1].[Entity_ID] AS [Entity_ID], 
        [Extent1].[Security_Name] AS [Security_Name], 
        [Extent1].[Short_Name] AS [Short_Name], 
        [Extent1].[Primary_Exch] AS [Primary_Exch], 
        [Extent1].[Secondary_Exch] AS [Secondary_Exch], 
        [Extent1].[Country_Of_Domicile] AS [Country_Of_Domicile], 
        [Extent1].[Country_Of_Risk] AS [Country_Of_Risk], 
        [Extent1].[Security_Type_Code] AS [Security_Type_Code], 
        [Extent1].[Price_Multiplier] AS [Price_Multiplier], 
        [Extent1].[Income_Frequency] AS [Income_Frequency], 
        [Extent1].[Issuer_Code] AS [Issuer_Code], 
        [Extent1].[Ultimate_Issuer_Code] AS [Ultimate_Issuer_Code], 
        [Extent1].[Asset_Currency] AS [Asset_Currency], 
        [Extent1].[Min_Lot_Size] AS [Min_Lot_Size], 
        [Extent1].[Decimal_Precision] AS [Decimal_Precision], 
        [Extent1].[AvePrice_Rounding] AS [AvePrice_Rounding], 
        [Extent1].[Issue_Date] AS [Issue_Date], 
        [Extent1].[Maturity_Date] AS [Maturity_Date], 
        [Extent1].[Coupon_Rate] AS [Coupon_Rate], 
        [Extent1].[Price_Exchange] AS [Price_Exchange], 
        [Extent1].[Trade_Currency] AS [Trade_Currency], 
        [Extent1].[Price_Curr] AS [Price_Curr], 
        [Extent1].[Currency_Pair_Code] AS [Currency_Pair_Code], 
        [Extent1].[Share_Class] AS [Share_Class], 
        [Extent1].[Current_Market_Price] AS [Current_Market_Price], 
        [Extent1].[Index_Type] AS [Index_Type], 
        [Extent1].[Clean_Price_Formula] AS [Clean_Price_Formula], 
        [Extent1].[Accrued_Income_Price_Formula] AS [Accrued_Income_Price_Formula], 
        [Extent1].[Odd_First_Coupon_Date] AS [Odd_First_Coupon_Date], 
        [Extent1].[Odd_Last_Coupon_Date] AS [Odd_Last_Coupon_Date], 
        [Extent1].[Coupon_Anniversary_Indicator] AS [Coupon_Anniversary_Indicator], 
        [Extent1].[Track_EOM_Flag] AS [Track_EOM_Flag], 
        [Extent1].[Next_Coupon_Date] AS [Next_Coupon_Date], 
        [Extent1].[Previous_Coupon_Date] AS [Previous_Coupon_Date], 
        [Extent1].[Payment_Frequency] AS [Payment_Frequency], 
        [Extent1].[Coupon_BusDay_Adjustment] AS [Coupon_BusDay_Adjustment], 
        [Extent1].[Next_Ex_Div_Date] AS [Next_Ex_Div_Date], 
        [Extent1].[Ex_Div_BusDay_Adjustment] AS [Ex_Div_BusDay_Adjustment], 
        [Extent1].[Ex_Div_Period] AS [Ex_Div_Period], 
        [Extent1].[Ticker] AS [Ticker], 
        [Extent1].[Inet_ID] AS [Inet_ID], 
        [Extent1].[Bloomberg_ID] AS [Bloomberg_ID], 
        [Extent1].[External_Sec_ID] AS [External_Sec_ID], 
        [Extent1].[Reuters_ID] AS [Reuters_ID], 
        [Extent1].[ISIN] AS [ISIN], 
        [Extent1].[Call_Account_Flag] AS [Call_Account_Flag], 
        [Extent1].[System_Locked] AS [System_Locked], 
        [Extent1].[Last_Update_User] AS [Last_Update_User], 
        [Extent1].[Last_Update_Date] AS [Last_Update_Date], 
        [Extent1].[Security_Status] AS [Security_Status], 
        [Extent1].[Benchmark_Portfolio] AS [Benchmark_Portfolio], 
        [Extent1].[Active_flag] AS [Active_flag], 
        [Extent1].[Dividend_FX_Security_ID] AS [Dividend_FX_Security_ID]
        FROM [dbo].[Security_Detail] AS [Extent1]
        WHERE ([Extent1].[Entity_ID] IN (@p__linq__0,@p__linq__1)) AND ((CASE WHEN ( NOT ((N'' = @p__linq__2) AND (@p__linq__2 IS NOT NULL))) THEN CASE WHEN ([Extent1].[Security_Type_Code] = @p__linq__3) THEN cast(1 as bit) WHEN ( NOT (([Extent1].[Security_Type_Code] = @p__linq__3) AND (0 = (CASE WHEN (@p__linq__3 IS NULL) THEN cast(1 as bit) ELSE cast(0 as bit) END)))) THEN cast(0 as bit) END WHEN ('' <> [Extent1].[Security_Type_Code]) THEN cast(1 as bit) WHEN ('' = [Extent1].[Security_Type_Code]) THEN cast(0 as bit) END) = 1)
    )  AS [Project1]
    ORDER BY [Project1].[Security_Name] ASC
2018-04-07 18:31:38.5863|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: SELECT 
    [Project1].[Security_ID] AS [Security_ID], 
    [Project1].[Entity_ID] AS [Entity_ID], 
    [Project1].[Security_Name] AS [Security_Name], 
    [Project1].[Short_Name] AS [Short_Name], 
    [Project1].[Primary_Exch] AS [Primary_Exch], 
    [Project1].[Secondary_Exch] AS [Secondary_Exch], 
    [Project1].[Country_Of_Domicile] AS [Country_Of_Domicile], 
    [Project1].[Country_Of_Risk] AS [Country_Of_Risk], 
    [Project1].[Security_Type_Code] AS [Security_Type_Code], 
    [Project1].[Price_Multiplier] AS [Price_Multiplier], 
    [Project1].[Income_Frequency] AS [Income_Frequency], 
    [Project1].[Issuer_Code] AS [Issuer_Code], 
    [Project1].[Ultimate_Issuer_Code] AS [Ultimate_Issuer_Code], 
    [Project1].[Asset_Currency] AS [Asset_Currency], 
    [Project1].[Min_Lot_Size] AS [Min_Lot_Size], 
    [Project1].[Decimal_Precision] AS [Decimal_Precision], 
    [Project1].[AvePrice_Rounding] AS [AvePrice_Rounding], 
    [Project1].[Issue_Date] AS [Issue_Date], 
    [Project1].[Maturity_Date] AS [Maturity_Date], 
    [Project1].[Coupon_Rate] AS [Coupon_Rate], 
    [Project1].[Price_Exchange] AS [Price_Exchange], 
    [Project1].[Trade_Currency] AS [Trade_Currency], 
    [Project1].[Price_Curr] AS [Price_Curr], 
    [Project1].[Currency_Pair_Code] AS [Currency_Pair_Code], 
    [Project1].[Share_Class] AS [Share_Class], 
    [Project1].[Current_Market_Price] AS [Current_Market_Price], 
    [Project1].[Index_Type] AS [Index_Type], 
    [Project1].[Clean_Price_Formula] AS [Clean_Price_Formula], 
    [Project1].[Accrued_Income_Price_Formula] AS [Accrued_Income_Price_Formula], 
    [Project1].[Odd_First_Coupon_Date] AS [Odd_First_Coupon_Date], 
    [Project1].[Odd_Last_Coupon_Date] AS [Odd_Last_Coupon_Date], 
    [Project1].[Coupon_Anniversary_Indicator] AS [Coupon_Anniversary_Indicator], 
    [Project1].[Track_EOM_Flag] AS [Track_EOM_Flag], 
    [Project1].[Next_Coupon_Date] AS [Next_Coupon_Date], 
    [Project1].[Previous_Coupon_Date] AS [Previous_Coupon_Date], 
    [Project1].[Payment_Frequency] AS [Payment_Frequency], 
    [Project1].[Coupon_BusDay_Adjustment] AS [Coupon_BusDay_Adjustment], 
    [Project1].[Next_Ex_Div_Date] AS [Next_Ex_Div_Date], 
    [Project1].[Ex_Div_BusDay_Adjustment] AS [Ex_Div_BusDay_Adjustment], 
    [Project1].[Ex_Div_Period] AS [Ex_Div_Period], 
    [Project1].[Ticker] AS [Ticker], 
    [Project1].[Inet_ID] AS [Inet_ID], 
    [Project1].[Bloomberg_ID] AS [Bloomberg_ID], 
    [Project1].[External_Sec_ID] AS [External_Sec_ID], 
    [Project1].[Reuters_ID] AS [Reuters_ID], 
    [Project1].[ISIN] AS [ISIN], 
    [Project1].[Call_Account_Flag] AS [Call_Account_Flag], 
    [Project1].[System_Locked] AS [System_Locked], 
    [Project1].[Last_Update_User] AS [Last_Update_User], 
    [Project1].[Last_Update_Date] AS [Last_Update_Date], 
    [Project1].[Security_Status] AS [Security_Status], 
    [Project1].[Benchmark_Portfolio] AS [Benchmark_Portfolio], 
    [Project1].[Active_flag] AS [Active_flag], 
    [Project1].[Dividend_FX_Security_ID] AS [Dividend_FX_Security_ID]
    FROM ( SELECT 
        [Extent1].[Security_ID] AS [Security_ID], 
        [Extent1].[Entity_ID] AS [Entity_ID], 
        [Extent1].[Security_Name] AS [Security_Name], 
        [Extent1].[Short_Name] AS [Short_Name], 
        [Extent1].[Primary_Exch] AS [Primary_Exch], 
        [Extent1].[Secondary_Exch] AS [Secondary_Exch], 
        [Extent1].[Country_Of_Domicile] AS [Country_Of_Domicile], 
        [Extent1].[Country_Of_Risk] AS [Country_Of_Risk], 
        [Extent1].[Security_Type_Code] AS [Security_Type_Code], 
        [Extent1].[Price_Multiplier] AS [Price_Multiplier], 
        [Extent1].[Income_Frequency] AS [Income_Frequency], 
        [Extent1].[Issuer_Code] AS [Issuer_Code], 
        [Extent1].[Ultimate_Issuer_Code] AS [Ultimate_Issuer_Code], 
        [Extent1].[Asset_Currency] AS [Asset_Currency], 
        [Extent1].[Min_Lot_Size] AS [Min_Lot_Size], 
        [Extent1].[Decimal_Precision] AS [Decimal_Precision], 
        [Extent1].[AvePrice_Rounding] AS [AvePrice_Rounding], 
        [Extent1].[Issue_Date] AS [Issue_Date], 
        [Extent1].[Maturity_Date] AS [Maturity_Date], 
        [Extent1].[Coupon_Rate] AS [Coupon_Rate], 
        [Extent1].[Price_Exchange] AS [Price_Exchange], 
        [Extent1].[Trade_Currency] AS [Trade_Currency], 
        [Extent1].[Price_Curr] AS [Price_Curr], 
        [Extent1].[Currency_Pair_Code] AS [Currency_Pair_Code], 
        [Extent1].[Share_Class] AS [Share_Class], 
        [Extent1].[Current_Market_Price] AS [Current_Market_Price], 
        [Extent1].[Index_Type] AS [Index_Type], 
        [Extent1].[Clean_Price_Formula] AS [Clean_Price_Formula], 
        [Extent1].[Accrued_Income_Price_Formula] AS [Accrued_Income_Price_Formula], 
        [Extent1].[Odd_First_Coupon_Date] AS [Odd_First_Coupon_Date], 
        [Extent1].[Odd_Last_Coupon_Date] AS [Odd_Last_Coupon_Date], 
        [Extent1].[Coupon_Anniversary_Indicator] AS [Coupon_Anniversary_Indicator], 
        [Extent1].[Track_EOM_Flag] AS [Track_EOM_Flag], 
        [Extent1].[Next_Coupon_Date] AS [Next_Coupon_Date], 
        [Extent1].[Previous_Coupon_Date] AS [Previous_Coupon_Date], 
        [Extent1].[Payment_Frequency] AS [Payment_Frequency], 
        [Extent1].[Coupon_BusDay_Adjustment] AS [Coupon_BusDay_Adjustment], 
        [Extent1].[Next_Ex_Div_Date] AS [Next_Ex_Div_Date], 
        [Extent1].[Ex_Div_BusDay_Adjustment] AS [Ex_Div_BusDay_Adjustment], 
        [Extent1].[Ex_Div_Period] AS [Ex_Div_Period], 
        [Extent1].[Ticker] AS [Ticker], 
        [Extent1].[Inet_ID] AS [Inet_ID], 
        [Extent1].[Bloomberg_ID] AS [Bloomberg_ID], 
        [Extent1].[External_Sec_ID] AS [External_Sec_ID], 
        [Extent1].[Reuters_ID] AS [Reuters_ID], 
        [Extent1].[ISIN] AS [ISIN], 
        [Extent1].[Call_Account_Flag] AS [Call_Account_Flag], 
        [Extent1].[System_Locked] AS [System_Locked], 
        [Extent1].[Last_Update_User] AS [Last_Update_User], 
        [Extent1].[Last_Update_Date] AS [Last_Update_Date], 
        [Extent1].[Security_Status] AS [Security_Status], 
        [Extent1].[Benchmark_Portfolio] AS [Benchmark_Portfolio], 
        [Extent1].[Active_flag] AS [Active_flag], 
        [Extent1].[Dividend_FX_Security_ID] AS [Dividend_FX_Security_ID]
        FROM [dbo].[Security_Detail] AS [Extent1]
        WHERE ([Extent1].[Entity_ID] IN (@p__linq__0,@p__linq__1)) AND ((CASE WHEN ( NOT ((N'' = @p__linq__2) AND (@p__linq__2 IS NOT NULL))) THEN CASE WHEN ([Extent1].[Security_Type_Code] = @p__linq__3) THEN cast(1 as bit) WHEN ( NOT (([Extent1].[Security_Type_Code] = @p__linq__3) AND (0 = (CASE WHEN (@p__linq__3 IS NULL) THEN cast(1 as bit) ELSE cast(0 as bit) END)))) THEN cast(0 as bit) END WHEN ('' <> [Extent1].[Security_Type_Code]) THEN cast(1 as bit) WHEN ('' = [Extent1].[Security_Type_Code]) THEN cast(0 as bit) END) = 1)
    )  AS [Project1]
    ORDER BY [Project1].[Security_Name] ASC
2018-04-07 18:31:38.6409|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: IF db_id(N'MetopeAzureDb') IS NOT NULL SELECT 1 ELSE SELECT Count(*) FROM sys.databases WHERE [name]=N'MetopeAzureDb'
2018-04-07 18:31:38.6964|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: IF db_id(N'MetopeAzureDb') IS NOT NULL SELECT 1 ELSE SELECT Count(*) FROM sys.databases WHERE [name]=N'MetopeAzureDb'
2018-04-07 18:31:38.7515|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: IF db_id(N'MetopeAzureDb') IS NOT NULL SELECT 1 ELSE SELECT Count(*) FROM sys.databases WHERE [name]=N'MetopeAzureDb'
2018-04-07 18:31:38.7900|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: IF db_id(N'MetopeAzureDb') IS NOT NULL SELECT 1 ELSE SELECT Count(*) FROM sys.databases WHERE [name]=N'MetopeAzureDb'
2018-04-07 18:32:04.8047|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: SELECT 
    [Project1].[Security_ID] AS [Security_ID], 
    [Project1].[Entity_ID] AS [Entity_ID], 
    [Project1].[Security_Name] AS [Security_Name], 
    [Project1].[Short_Name] AS [Short_Name], 
    [Project1].[Primary_Exch] AS [Primary_Exch], 
    [Project1].[Secondary_Exch] AS [Secondary_Exch], 
    [Project1].[Country_Of_Domicile] AS [Country_Of_Domicile], 
    [Project1].[Country_Of_Risk] AS [Country_Of_Risk], 
    [Project1].[Security_Type_Code] AS [Security_Type_Code], 
    [Project1].[Price_Multiplier] AS [Price_Multiplier], 
    [Project1].[Income_Frequency] AS [Income_Frequency], 
    [Project1].[Issuer_Code] AS [Issuer_Code], 
    [Project1].[Ultimate_Issuer_Code] AS [Ultimate_Issuer_Code], 
    [Project1].[Asset_Currency] AS [Asset_Currency], 
    [Project1].[Min_Lot_Size] AS [Min_Lot_Size], 
    [Project1].[Decimal_Precision] AS [Decimal_Precision], 
    [Project1].[AvePrice_Rounding] AS [AvePrice_Rounding], 
    [Project1].[Issue_Date] AS [Issue_Date], 
    [Project1].[Maturity_Date] AS [Maturity_Date], 
    [Project1].[Coupon_Rate] AS [Coupon_Rate], 
    [Project1].[Price_Exchange] AS [Price_Exchange], 
    [Project1].[Trade_Currency] AS [Trade_Currency], 
    [Project1].[Price_Curr] AS [Price_Curr], 
    [Project1].[Currency_Pair_Code] AS [Currency_Pair_Code], 
    [Project1].[Share_Class] AS [Share_Class], 
    [Project1].[Current_Market_Price] AS [Current_Market_Price], 
    [Project1].[Index_Type] AS [Index_Type], 
    [Project1].[Clean_Price_Formula] AS [Clean_Price_Formula], 
    [Project1].[Accrued_Income_Price_Formula] AS [Accrued_Income_Price_Formula], 
    [Project1].[Odd_First_Coupon_Date] AS [Odd_First_Coupon_Date], 
    [Project1].[Odd_Last_Coupon_Date] AS [Odd_Last_Coupon_Date], 
    [Project1].[Coupon_Anniversary_Indicator] AS [Coupon_Anniversary_Indicator], 
    [Project1].[Track_EOM_Flag] AS [Track_EOM_Flag], 
    [Project1].[Next_Coupon_Date] AS [Next_Coupon_Date], 
    [Project1].[Previous_Coupon_Date] AS [Previous_Coupon_Date], 
    [Project1].[Payment_Frequency] AS [Payment_Frequency], 
    [Project1].[Coupon_BusDay_Adjustment] AS [Coupon_BusDay_Adjustment], 
    [Project1].[Next_Ex_Div_Date] AS [Next_Ex_Div_Date], 
    [Project1].[Ex_Div_BusDay_Adjustment] AS [Ex_Div_BusDay_Adjustment], 
    [Project1].[Ex_Div_Period] AS [Ex_Div_Period], 
    [Project1].[Ticker] AS [Ticker], 
    [Project1].[Inet_ID] AS [Inet_ID], 
    [Project1].[Bloomberg_ID] AS [Bloomberg_ID], 
    [Project1].[External_Sec_ID] AS [External_Sec_ID], 
    [Project1].[Reuters_ID] AS [Reuters_ID], 
    [Project1].[ISIN] AS [ISIN], 
    [Project1].[Call_Account_Flag] AS [Call_Account_Flag], 
    [Project1].[System_Locked] AS [System_Locked], 
    [Project1].[Last_Update_User] AS [Last_Update_User], 
    [Project1].[Last_Update_Date] AS [Last_Update_Date], 
    [Project1].[Security_Status] AS [Security_Status], 
    [Project1].[Benchmark_Portfolio] AS [Benchmark_Portfolio], 
    [Project1].[Active_flag] AS [Active_flag], 
    [Project1].[Dividend_FX_Security_ID] AS [Dividend_FX_Security_ID]
    FROM ( SELECT 
        [Extent1].[Security_ID] AS [Security_ID], 
        [Extent1].[Entity_ID] AS [Entity_ID], 
        [Extent1].[Security_Name] AS [Security_Name], 
        [Extent1].[Short_Name] AS [Short_Name], 
        [Extent1].[Primary_Exch] AS [Primary_Exch], 
        [Extent1].[Secondary_Exch] AS [Secondary_Exch], 
        [Extent1].[Country_Of_Domicile] AS [Country_Of_Domicile], 
        [Extent1].[Country_Of_Risk] AS [Country_Of_Risk], 
        [Extent1].[Security_Type_Code] AS [Security_Type_Code], 
        [Extent1].[Price_Multiplier] AS [Price_Multiplier], 
        [Extent1].[Income_Frequency] AS [Income_Frequency], 
        [Extent1].[Issuer_Code] AS [Issuer_Code], 
        [Extent1].[Ultimate_Issuer_Code] AS [Ultimate_Issuer_Code], 
        [Extent1].[Asset_Currency] AS [Asset_Currency], 
        [Extent1].[Min_Lot_Size] AS [Min_Lot_Size], 
        [Extent1].[Decimal_Precision] AS [Decimal_Precision], 
        [Extent1].[AvePrice_Rounding] AS [AvePrice_Rounding], 
        [Extent1].[Issue_Date] AS [Issue_Date], 
        [Extent1].[Maturity_Date] AS [Maturity_Date], 
        [Extent1].[Coupon_Rate] AS [Coupon_Rate], 
        [Extent1].[Price_Exchange] AS [Price_Exchange], 
        [Extent1].[Trade_Currency] AS [Trade_Currency], 
        [Extent1].[Price_Curr] AS [Price_Curr], 
        [Extent1].[Currency_Pair_Code] AS [Currency_Pair_Code], 
        [Extent1].[Share_Class] AS [Share_Class], 
        [Extent1].[Current_Market_Price] AS [Current_Market_Price], 
        [Extent1].[Index_Type] AS [Index_Type], 
        [Extent1].[Clean_Price_Formula] AS [Clean_Price_Formula], 
        [Extent1].[Accrued_Income_Price_Formula] AS [Accrued_Income_Price_Formula], 
        [Extent1].[Odd_First_Coupon_Date] AS [Odd_First_Coupon_Date], 
        [Extent1].[Odd_Last_Coupon_Date] AS [Odd_Last_Coupon_Date], 
        [Extent1].[Coupon_Anniversary_Indicator] AS [Coupon_Anniversary_Indicator], 
        [Extent1].[Track_EOM_Flag] AS [Track_EOM_Flag], 
        [Extent1].[Next_Coupon_Date] AS [Next_Coupon_Date], 
        [Extent1].[Previous_Coupon_Date] AS [Previous_Coupon_Date], 
        [Extent1].[Payment_Frequency] AS [Payment_Frequency], 
        [Extent1].[Coupon_BusDay_Adjustment] AS [Coupon_BusDay_Adjustment], 
        [Extent1].[Next_Ex_Div_Date] AS [Next_Ex_Div_Date], 
        [Extent1].[Ex_Div_BusDay_Adjustment] AS [Ex_Div_BusDay_Adjustment], 
        [Extent1].[Ex_Div_Period] AS [Ex_Div_Period], 
        [Extent1].[Ticker] AS [Ticker], 
        [Extent1].[Inet_ID] AS [Inet_ID], 
        [Extent1].[Bloomberg_ID] AS [Bloomberg_ID], 
        [Extent1].[External_Sec_ID] AS [External_Sec_ID], 
        [Extent1].[Reuters_ID] AS [Reuters_ID], 
        [Extent1].[ISIN] AS [ISIN], 
        [Extent1].[Call_Account_Flag] AS [Call_Account_Flag], 
        [Extent1].[System_Locked] AS [System_Locked], 
        [Extent1].[Last_Update_User] AS [Last_Update_User], 
        [Extent1].[Last_Update_Date] AS [Last_Update_Date], 
        [Extent1].[Security_Status] AS [Security_Status], 
        [Extent1].[Benchmark_Portfolio] AS [Benchmark_Portfolio], 
        [Extent1].[Active_flag] AS [Active_flag], 
        [Extent1].[Dividend_FX_Security_ID] AS [Dividend_FX_Security_ID]
        FROM [dbo].[Security_Detail] AS [Extent1]
        WHERE ([Extent1].[Entity_ID] IN (@p__linq__0,@p__linq__1)) AND ((CASE WHEN ( NOT ((N'' = @p__linq__2) AND (@p__linq__2 IS NOT NULL))) THEN CASE WHEN ([Extent1].[Security_Type_Code] = @p__linq__3) THEN cast(1 as bit) WHEN ( NOT (([Extent1].[Security_Type_Code] = @p__linq__3) AND (0 = (CASE WHEN (@p__linq__3 IS NULL) THEN cast(1 as bit) ELSE cast(0 as bit) END)))) THEN cast(0 as bit) END WHEN ('' <> [Extent1].[Security_Type_Code]) THEN cast(1 as bit) WHEN ('' = [Extent1].[Security_Type_Code]) THEN cast(0 as bit) END) = 1)
    )  AS [Project1]
    ORDER BY [Project1].[Security_Name] ASC
2018-04-07 18:32:04.8332|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: SELECT 
    [Project1].[Security_ID] AS [Security_ID], 
    [Project1].[Entity_ID] AS [Entity_ID], 
    [Project1].[Security_Name] AS [Security_Name], 
    [Project1].[Short_Name] AS [Short_Name], 
    [Project1].[Primary_Exch] AS [Primary_Exch], 
    [Project1].[Secondary_Exch] AS [Secondary_Exch], 
    [Project1].[Country_Of_Domicile] AS [Country_Of_Domicile], 
    [Project1].[Country_Of_Risk] AS [Country_Of_Risk], 
    [Project1].[Security_Type_Code] AS [Security_Type_Code], 
    [Project1].[Price_Multiplier] AS [Price_Multiplier], 
    [Project1].[Income_Frequency] AS [Income_Frequency], 
    [Project1].[Issuer_Code] AS [Issuer_Code], 
    [Project1].[Ultimate_Issuer_Code] AS [Ultimate_Issuer_Code], 
    [Project1].[Asset_Currency] AS [Asset_Currency], 
    [Project1].[Min_Lot_Size] AS [Min_Lot_Size], 
    [Project1].[Decimal_Precision] AS [Decimal_Precision], 
    [Project1].[AvePrice_Rounding] AS [AvePrice_Rounding], 
    [Project1].[Issue_Date] AS [Issue_Date], 
    [Project1].[Maturity_Date] AS [Maturity_Date], 
    [Project1].[Coupon_Rate] AS [Coupon_Rate], 
    [Project1].[Price_Exchange] AS [Price_Exchange], 
    [Project1].[Trade_Currency] AS [Trade_Currency], 
    [Project1].[Price_Curr] AS [Price_Curr], 
    [Project1].[Currency_Pair_Code] AS [Currency_Pair_Code], 
    [Project1].[Share_Class] AS [Share_Class], 
    [Project1].[Current_Market_Price] AS [Current_Market_Price], 
    [Project1].[Index_Type] AS [Index_Type], 
    [Project1].[Clean_Price_Formula] AS [Clean_Price_Formula], 
    [Project1].[Accrued_Income_Price_Formula] AS [Accrued_Income_Price_Formula], 
    [Project1].[Odd_First_Coupon_Date] AS [Odd_First_Coupon_Date], 
    [Project1].[Odd_Last_Coupon_Date] AS [Odd_Last_Coupon_Date], 
    [Project1].[Coupon_Anniversary_Indicator] AS [Coupon_Anniversary_Indicator], 
    [Project1].[Track_EOM_Flag] AS [Track_EOM_Flag], 
    [Project1].[Next_Coupon_Date] AS [Next_Coupon_Date], 
    [Project1].[Previous_Coupon_Date] AS [Previous_Coupon_Date], 
    [Project1].[Payment_Frequency] AS [Payment_Frequency], 
    [Project1].[Coupon_BusDay_Adjustment] AS [Coupon_BusDay_Adjustment], 
    [Project1].[Next_Ex_Div_Date] AS [Next_Ex_Div_Date], 
    [Project1].[Ex_Div_BusDay_Adjustment] AS [Ex_Div_BusDay_Adjustment], 
    [Project1].[Ex_Div_Period] AS [Ex_Div_Period], 
    [Project1].[Ticker] AS [Ticker], 
    [Project1].[Inet_ID] AS [Inet_ID], 
    [Project1].[Bloomberg_ID] AS [Bloomberg_ID], 
    [Project1].[External_Sec_ID] AS [External_Sec_ID], 
    [Project1].[Reuters_ID] AS [Reuters_ID], 
    [Project1].[ISIN] AS [ISIN], 
    [Project1].[Call_Account_Flag] AS [Call_Account_Flag], 
    [Project1].[System_Locked] AS [System_Locked], 
    [Project1].[Last_Update_User] AS [Last_Update_User], 
    [Project1].[Last_Update_Date] AS [Last_Update_Date], 
    [Project1].[Security_Status] AS [Security_Status], 
    [Project1].[Benchmark_Portfolio] AS [Benchmark_Portfolio], 
    [Project1].[Active_flag] AS [Active_flag], 
    [Project1].[Dividend_FX_Security_ID] AS [Dividend_FX_Security_ID]
    FROM ( SELECT 
        [Extent1].[Security_ID] AS [Security_ID], 
        [Extent1].[Entity_ID] AS [Entity_ID], 
        [Extent1].[Security_Name] AS [Security_Name], 
        [Extent1].[Short_Name] AS [Short_Name], 
        [Extent1].[Primary_Exch] AS [Primary_Exch], 
        [Extent1].[Secondary_Exch] AS [Secondary_Exch], 
        [Extent1].[Country_Of_Domicile] AS [Country_Of_Domicile], 
        [Extent1].[Country_Of_Risk] AS [Country_Of_Risk], 
        [Extent1].[Security_Type_Code] AS [Security_Type_Code], 
        [Extent1].[Price_Multiplier] AS [Price_Multiplier], 
        [Extent1].[Income_Frequency] AS [Income_Frequency], 
        [Extent1].[Issuer_Code] AS [Issuer_Code], 
        [Extent1].[Ultimate_Issuer_Code] AS [Ultimate_Issuer_Code], 
        [Extent1].[Asset_Currency] AS [Asset_Currency], 
        [Extent1].[Min_Lot_Size] AS [Min_Lot_Size], 
        [Extent1].[Decimal_Precision] AS [Decimal_Precision], 
        [Extent1].[AvePrice_Rounding] AS [AvePrice_Rounding], 
        [Extent1].[Issue_Date] AS [Issue_Date], 
        [Extent1].[Maturity_Date] AS [Maturity_Date], 
        [Extent1].[Coupon_Rate] AS [Coupon_Rate], 
        [Extent1].[Price_Exchange] AS [Price_Exchange], 
        [Extent1].[Trade_Currency] AS [Trade_Currency], 
        [Extent1].[Price_Curr] AS [Price_Curr], 
        [Extent1].[Currency_Pair_Code] AS [Currency_Pair_Code], 
        [Extent1].[Share_Class] AS [Share_Class], 
        [Extent1].[Current_Market_Price] AS [Current_Market_Price], 
        [Extent1].[Index_Type] AS [Index_Type], 
        [Extent1].[Clean_Price_Formula] AS [Clean_Price_Formula], 
        [Extent1].[Accrued_Income_Price_Formula] AS [Accrued_Income_Price_Formula], 
        [Extent1].[Odd_First_Coupon_Date] AS [Odd_First_Coupon_Date], 
        [Extent1].[Odd_Last_Coupon_Date] AS [Odd_Last_Coupon_Date], 
        [Extent1].[Coupon_Anniversary_Indicator] AS [Coupon_Anniversary_Indicator], 
        [Extent1].[Track_EOM_Flag] AS [Track_EOM_Flag], 
        [Extent1].[Next_Coupon_Date] AS [Next_Coupon_Date], 
        [Extent1].[Previous_Coupon_Date] AS [Previous_Coupon_Date], 
        [Extent1].[Payment_Frequency] AS [Payment_Frequency], 
        [Extent1].[Coupon_BusDay_Adjustment] AS [Coupon_BusDay_Adjustment], 
        [Extent1].[Next_Ex_Div_Date] AS [Next_Ex_Div_Date], 
        [Extent1].[Ex_Div_BusDay_Adjustment] AS [Ex_Div_BusDay_Adjustment], 
        [Extent1].[Ex_Div_Period] AS [Ex_Div_Period], 
        [Extent1].[Ticker] AS [Ticker], 
        [Extent1].[Inet_ID] AS [Inet_ID], 
        [Extent1].[Bloomberg_ID] AS [Bloomberg_ID], 
        [Extent1].[External_Sec_ID] AS [External_Sec_ID], 
        [Extent1].[Reuters_ID] AS [Reuters_ID], 
        [Extent1].[ISIN] AS [ISIN], 
        [Extent1].[Call_Account_Flag] AS [Call_Account_Flag], 
        [Extent1].[System_Locked] AS [System_Locked], 
        [Extent1].[Last_Update_User] AS [Last_Update_User], 
        [Extent1].[Last_Update_Date] AS [Last_Update_Date], 
        [Extent1].[Security_Status] AS [Security_Status], 
        [Extent1].[Benchmark_Portfolio] AS [Benchmark_Portfolio], 
        [Extent1].[Active_flag] AS [Active_flag], 
        [Extent1].[Dividend_FX_Security_ID] AS [Dividend_FX_Security_ID]
        FROM [dbo].[Security_Detail] AS [Extent1]
        WHERE ([Extent1].[Entity_ID] IN (@p__linq__0,@p__linq__1)) AND ((CASE WHEN ( NOT ((N'' = @p__linq__2) AND (@p__linq__2 IS NOT NULL))) THEN CASE WHEN ([Extent1].[Security_Type_Code] = @p__linq__3) THEN cast(1 as bit) WHEN ( NOT (([Extent1].[Security_Type_Code] = @p__linq__3) AND (0 = (CASE WHEN (@p__linq__3 IS NULL) THEN cast(1 as bit) ELSE cast(0 as bit) END)))) THEN cast(0 as bit) END WHEN ('' <> [Extent1].[Security_Type_Code]) THEN cast(1 as bit) WHEN ('' = [Extent1].[Security_Type_Code]) THEN cast(0 as bit) END) = 1)
    )  AS [Project1]
    ORDER BY [Project1].[Security_Name] ASC
2018-04-07 18:32:04.8897|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: SELECT 
    [Project1].[Security_ID] AS [Security_ID], 
    [Project1].[Entity_ID] AS [Entity_ID], 
    [Project1].[Security_Name] AS [Security_Name], 
    [Project1].[Short_Name] AS [Short_Name], 
    [Project1].[Primary_Exch] AS [Primary_Exch], 
    [Project1].[Secondary_Exch] AS [Secondary_Exch], 
    [Project1].[Country_Of_Domicile] AS [Country_Of_Domicile], 
    [Project1].[Country_Of_Risk] AS [Country_Of_Risk], 
    [Project1].[Security_Type_Code] AS [Security_Type_Code], 
    [Project1].[Price_Multiplier] AS [Price_Multiplier], 
    [Project1].[Income_Frequency] AS [Income_Frequency], 
    [Project1].[Issuer_Code] AS [Issuer_Code], 
    [Project1].[Ultimate_Issuer_Code] AS [Ultimate_Issuer_Code], 
    [Project1].[Asset_Currency] AS [Asset_Currency], 
    [Project1].[Min_Lot_Size] AS [Min_Lot_Size], 
    [Project1].[Decimal_Precision] AS [Decimal_Precision], 
    [Project1].[AvePrice_Rounding] AS [AvePrice_Rounding], 
    [Project1].[Issue_Date] AS [Issue_Date], 
    [Project1].[Maturity_Date] AS [Maturity_Date], 
    [Project1].[Coupon_Rate] AS [Coupon_Rate], 
    [Project1].[Price_Exchange] AS [Price_Exchange], 
    [Project1].[Trade_Currency] AS [Trade_Currency], 
    [Project1].[Price_Curr] AS [Price_Curr], 
    [Project1].[Currency_Pair_Code] AS [Currency_Pair_Code], 
    [Project1].[Share_Class] AS [Share_Class], 
    [Project1].[Current_Market_Price] AS [Current_Market_Price], 
    [Project1].[Index_Type] AS [Index_Type], 
    [Project1].[Clean_Price_Formula] AS [Clean_Price_Formula], 
    [Project1].[Accrued_Income_Price_Formula] AS [Accrued_Income_Price_Formula], 
    [Project1].[Odd_First_Coupon_Date] AS [Odd_First_Coupon_Date], 
    [Project1].[Odd_Last_Coupon_Date] AS [Odd_Last_Coupon_Date], 
    [Project1].[Coupon_Anniversary_Indicator] AS [Coupon_Anniversary_Indicator], 
    [Project1].[Track_EOM_Flag] AS [Track_EOM_Flag], 
    [Project1].[Next_Coupon_Date] AS [Next_Coupon_Date], 
    [Project1].[Previous_Coupon_Date] AS [Previous_Coupon_Date], 
    [Project1].[Payment_Frequency] AS [Payment_Frequency], 
    [Project1].[Coupon_BusDay_Adjustment] AS [Coupon_BusDay_Adjustment], 
    [Project1].[Next_Ex_Div_Date] AS [Next_Ex_Div_Date], 
    [Project1].[Ex_Div_BusDay_Adjustment] AS [Ex_Div_BusDay_Adjustment], 
    [Project1].[Ex_Div_Period] AS [Ex_Div_Period], 
    [Project1].[Ticker] AS [Ticker], 
    [Project1].[Inet_ID] AS [Inet_ID], 
    [Project1].[Bloomberg_ID] AS [Bloomberg_ID], 
    [Project1].[External_Sec_ID] AS [External_Sec_ID], 
    [Project1].[Reuters_ID] AS [Reuters_ID], 
    [Project1].[ISIN] AS [ISIN], 
    [Project1].[Call_Account_Flag] AS [Call_Account_Flag], 
    [Project1].[System_Locked] AS [System_Locked], 
    [Project1].[Last_Update_User] AS [Last_Update_User], 
    [Project1].[Last_Update_Date] AS [Last_Update_Date], 
    [Project1].[Security_Status] AS [Security_Status], 
    [Project1].[Benchmark_Portfolio] AS [Benchmark_Portfolio], 
    [Project1].[Active_flag] AS [Active_flag], 
    [Project1].[Dividend_FX_Security_ID] AS [Dividend_FX_Security_ID]
    FROM ( SELECT 
        [Extent1].[Security_ID] AS [Security_ID], 
        [Extent1].[Entity_ID] AS [Entity_ID], 
        [Extent1].[Security_Name] AS [Security_Name], 
        [Extent1].[Short_Name] AS [Short_Name], 
        [Extent1].[Primary_Exch] AS [Primary_Exch], 
        [Extent1].[Secondary_Exch] AS [Secondary_Exch], 
        [Extent1].[Country_Of_Domicile] AS [Country_Of_Domicile], 
        [Extent1].[Country_Of_Risk] AS [Country_Of_Risk], 
        [Extent1].[Security_Type_Code] AS [Security_Type_Code], 
        [Extent1].[Price_Multiplier] AS [Price_Multiplier], 
        [Extent1].[Income_Frequency] AS [Income_Frequency], 
        [Extent1].[Issuer_Code] AS [Issuer_Code], 
        [Extent1].[Ultimate_Issuer_Code] AS [Ultimate_Issuer_Code], 
        [Extent1].[Asset_Currency] AS [Asset_Currency], 
        [Extent1].[Min_Lot_Size] AS [Min_Lot_Size], 
        [Extent1].[Decimal_Precision] AS [Decimal_Precision], 
        [Extent1].[AvePrice_Rounding] AS [AvePrice_Rounding], 
        [Extent1].[Issue_Date] AS [Issue_Date], 
        [Extent1].[Maturity_Date] AS [Maturity_Date], 
        [Extent1].[Coupon_Rate] AS [Coupon_Rate], 
        [Extent1].[Price_Exchange] AS [Price_Exchange], 
        [Extent1].[Trade_Currency] AS [Trade_Currency], 
        [Extent1].[Price_Curr] AS [Price_Curr], 
        [Extent1].[Currency_Pair_Code] AS [Currency_Pair_Code], 
        [Extent1].[Share_Class] AS [Share_Class], 
        [Extent1].[Current_Market_Price] AS [Current_Market_Price], 
        [Extent1].[Index_Type] AS [Index_Type], 
        [Extent1].[Clean_Price_Formula] AS [Clean_Price_Formula], 
        [Extent1].[Accrued_Income_Price_Formula] AS [Accrued_Income_Price_Formula], 
        [Extent1].[Odd_First_Coupon_Date] AS [Odd_First_Coupon_Date], 
        [Extent1].[Odd_Last_Coupon_Date] AS [Odd_Last_Coupon_Date], 
        [Extent1].[Coupon_Anniversary_Indicator] AS [Coupon_Anniversary_Indicator], 
        [Extent1].[Track_EOM_Flag] AS [Track_EOM_Flag], 
        [Extent1].[Next_Coupon_Date] AS [Next_Coupon_Date], 
        [Extent1].[Previous_Coupon_Date] AS [Previous_Coupon_Date], 
        [Extent1].[Payment_Frequency] AS [Payment_Frequency], 
        [Extent1].[Coupon_BusDay_Adjustment] AS [Coupon_BusDay_Adjustment], 
        [Extent1].[Next_Ex_Div_Date] AS [Next_Ex_Div_Date], 
        [Extent1].[Ex_Div_BusDay_Adjustment] AS [Ex_Div_BusDay_Adjustment], 
        [Extent1].[Ex_Div_Period] AS [Ex_Div_Period], 
        [Extent1].[Ticker] AS [Ticker], 
        [Extent1].[Inet_ID] AS [Inet_ID], 
        [Extent1].[Bloomberg_ID] AS [Bloomberg_ID], 
        [Extent1].[External_Sec_ID] AS [External_Sec_ID], 
        [Extent1].[Reuters_ID] AS [Reuters_ID], 
        [Extent1].[ISIN] AS [ISIN], 
        [Extent1].[Call_Account_Flag] AS [Call_Account_Flag], 
        [Extent1].[System_Locked] AS [System_Locked], 
        [Extent1].[Last_Update_User] AS [Last_Update_User], 
        [Extent1].[Last_Update_Date] AS [Last_Update_Date], 
        [Extent1].[Security_Status] AS [Security_Status], 
        [Extent1].[Benchmark_Portfolio] AS [Benchmark_Portfolio], 
        [Extent1].[Active_flag] AS [Active_flag], 
        [Extent1].[Dividend_FX_Security_ID] AS [Dividend_FX_Security_ID]
        FROM [dbo].[Security_Detail] AS [Extent1]
        WHERE ([Extent1].[Entity_ID] IN (@p__linq__0,@p__linq__1)) AND ((CASE WHEN ( NOT ((N'' = @p__linq__2) AND (@p__linq__2 IS NOT NULL))) THEN CASE WHEN ([Extent1].[Security_Type_Code] = @p__linq__3) THEN cast(1 as bit) WHEN ( NOT (([Extent1].[Security_Type_Code] = @p__linq__3) AND (0 = (CASE WHEN (@p__linq__3 IS NULL) THEN cast(1 as bit) ELSE cast(0 as bit) END)))) THEN cast(0 as bit) END WHEN ('' <> [Extent1].[Security_Type_Code]) THEN cast(1 as bit) WHEN ('' = [Extent1].[Security_Type_Code]) THEN cast(0 as bit) END) = 1)
    )  AS [Project1]
    ORDER BY [Project1].[Security_Name] ASC
2018-04-07 18:32:04.9152|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: SELECT 
    [Project1].[Security_ID] AS [Security_ID], 
    [Project1].[Entity_ID] AS [Entity_ID], 
    [Project1].[Security_Name] AS [Security_Name], 
    [Project1].[Short_Name] AS [Short_Name], 
    [Project1].[Primary_Exch] AS [Primary_Exch], 
    [Project1].[Secondary_Exch] AS [Secondary_Exch], 
    [Project1].[Country_Of_Domicile] AS [Country_Of_Domicile], 
    [Project1].[Country_Of_Risk] AS [Country_Of_Risk], 
    [Project1].[Security_Type_Code] AS [Security_Type_Code], 
    [Project1].[Price_Multiplier] AS [Price_Multiplier], 
    [Project1].[Income_Frequency] AS [Income_Frequency], 
    [Project1].[Issuer_Code] AS [Issuer_Code], 
    [Project1].[Ultimate_Issuer_Code] AS [Ultimate_Issuer_Code], 
    [Project1].[Asset_Currency] AS [Asset_Currency], 
    [Project1].[Min_Lot_Size] AS [Min_Lot_Size], 
    [Project1].[Decimal_Precision] AS [Decimal_Precision], 
    [Project1].[AvePrice_Rounding] AS [AvePrice_Rounding], 
    [Project1].[Issue_Date] AS [Issue_Date], 
    [Project1].[Maturity_Date] AS [Maturity_Date], 
    [Project1].[Coupon_Rate] AS [Coupon_Rate], 
    [Project1].[Price_Exchange] AS [Price_Exchange], 
    [Project1].[Trade_Currency] AS [Trade_Currency], 
    [Project1].[Price_Curr] AS [Price_Curr], 
    [Project1].[Currency_Pair_Code] AS [Currency_Pair_Code], 
    [Project1].[Share_Class] AS [Share_Class], 
    [Project1].[Current_Market_Price] AS [Current_Market_Price], 
    [Project1].[Index_Type] AS [Index_Type], 
    [Project1].[Clean_Price_Formula] AS [Clean_Price_Formula], 
    [Project1].[Accrued_Income_Price_Formula] AS [Accrued_Income_Price_Formula], 
    [Project1].[Odd_First_Coupon_Date] AS [Odd_First_Coupon_Date], 
    [Project1].[Odd_Last_Coupon_Date] AS [Odd_Last_Coupon_Date], 
    [Project1].[Coupon_Anniversary_Indicator] AS [Coupon_Anniversary_Indicator], 
    [Project1].[Track_EOM_Flag] AS [Track_EOM_Flag], 
    [Project1].[Next_Coupon_Date] AS [Next_Coupon_Date], 
    [Project1].[Previous_Coupon_Date] AS [Previous_Coupon_Date], 
    [Project1].[Payment_Frequency] AS [Payment_Frequency], 
    [Project1].[Coupon_BusDay_Adjustment] AS [Coupon_BusDay_Adjustment], 
    [Project1].[Next_Ex_Div_Date] AS [Next_Ex_Div_Date], 
    [Project1].[Ex_Div_BusDay_Adjustment] AS [Ex_Div_BusDay_Adjustment], 
    [Project1].[Ex_Div_Period] AS [Ex_Div_Period], 
    [Project1].[Ticker] AS [Ticker], 
    [Project1].[Inet_ID] AS [Inet_ID], 
    [Project1].[Bloomberg_ID] AS [Bloomberg_ID], 
    [Project1].[External_Sec_ID] AS [External_Sec_ID], 
    [Project1].[Reuters_ID] AS [Reuters_ID], 
    [Project1].[ISIN] AS [ISIN], 
    [Project1].[Call_Account_Flag] AS [Call_Account_Flag], 
    [Project1].[System_Locked] AS [System_Locked], 
    [Project1].[Last_Update_User] AS [Last_Update_User], 
    [Project1].[Last_Update_Date] AS [Last_Update_Date], 
    [Project1].[Security_Status] AS [Security_Status], 
    [Project1].[Benchmark_Portfolio] AS [Benchmark_Portfolio], 
    [Project1].[Active_flag] AS [Active_flag], 
    [Project1].[Dividend_FX_Security_ID] AS [Dividend_FX_Security_ID]
    FROM ( SELECT 
        [Extent1].[Security_ID] AS [Security_ID], 
        [Extent1].[Entity_ID] AS [Entity_ID], 
        [Extent1].[Security_Name] AS [Security_Name], 
        [Extent1].[Short_Name] AS [Short_Name], 
        [Extent1].[Primary_Exch] AS [Primary_Exch], 
        [Extent1].[Secondary_Exch] AS [Secondary_Exch], 
        [Extent1].[Country_Of_Domicile] AS [Country_Of_Domicile], 
        [Extent1].[Country_Of_Risk] AS [Country_Of_Risk], 
        [Extent1].[Security_Type_Code] AS [Security_Type_Code], 
        [Extent1].[Price_Multiplier] AS [Price_Multiplier], 
        [Extent1].[Income_Frequency] AS [Income_Frequency], 
        [Extent1].[Issuer_Code] AS [Issuer_Code], 
        [Extent1].[Ultimate_Issuer_Code] AS [Ultimate_Issuer_Code], 
        [Extent1].[Asset_Currency] AS [Asset_Currency], 
        [Extent1].[Min_Lot_Size] AS [Min_Lot_Size], 
        [Extent1].[Decimal_Precision] AS [Decimal_Precision], 
        [Extent1].[AvePrice_Rounding] AS [AvePrice_Rounding], 
        [Extent1].[Issue_Date] AS [Issue_Date], 
        [Extent1].[Maturity_Date] AS [Maturity_Date], 
        [Extent1].[Coupon_Rate] AS [Coupon_Rate], 
        [Extent1].[Price_Exchange] AS [Price_Exchange], 
        [Extent1].[Trade_Currency] AS [Trade_Currency], 
        [Extent1].[Price_Curr] AS [Price_Curr], 
        [Extent1].[Currency_Pair_Code] AS [Currency_Pair_Code], 
        [Extent1].[Share_Class] AS [Share_Class], 
        [Extent1].[Current_Market_Price] AS [Current_Market_Price], 
        [Extent1].[Index_Type] AS [Index_Type], 
        [Extent1].[Clean_Price_Formula] AS [Clean_Price_Formula], 
        [Extent1].[Accrued_Income_Price_Formula] AS [Accrued_Income_Price_Formula], 
        [Extent1].[Odd_First_Coupon_Date] AS [Odd_First_Coupon_Date], 
        [Extent1].[Odd_Last_Coupon_Date] AS [Odd_Last_Coupon_Date], 
        [Extent1].[Coupon_Anniversary_Indicator] AS [Coupon_Anniversary_Indicator], 
        [Extent1].[Track_EOM_Flag] AS [Track_EOM_Flag], 
        [Extent1].[Next_Coupon_Date] AS [Next_Coupon_Date], 
        [Extent1].[Previous_Coupon_Date] AS [Previous_Coupon_Date], 
        [Extent1].[Payment_Frequency] AS [Payment_Frequency], 
        [Extent1].[Coupon_BusDay_Adjustment] AS [Coupon_BusDay_Adjustment], 
        [Extent1].[Next_Ex_Div_Date] AS [Next_Ex_Div_Date], 
        [Extent1].[Ex_Div_BusDay_Adjustment] AS [Ex_Div_BusDay_Adjustment], 
        [Extent1].[Ex_Div_Period] AS [Ex_Div_Period], 
        [Extent1].[Ticker] AS [Ticker], 
        [Extent1].[Inet_ID] AS [Inet_ID], 
        [Extent1].[Bloomberg_ID] AS [Bloomberg_ID], 
        [Extent1].[External_Sec_ID] AS [External_Sec_ID], 
        [Extent1].[Reuters_ID] AS [Reuters_ID], 
        [Extent1].[ISIN] AS [ISIN], 
        [Extent1].[Call_Account_Flag] AS [Call_Account_Flag], 
        [Extent1].[System_Locked] AS [System_Locked], 
        [Extent1].[Last_Update_User] AS [Last_Update_User], 
        [Extent1].[Last_Update_Date] AS [Last_Update_Date], 
        [Extent1].[Security_Status] AS [Security_Status], 
        [Extent1].[Benchmark_Portfolio] AS [Benchmark_Portfolio], 
        [Extent1].[Active_flag] AS [Active_flag], 
        [Extent1].[Dividend_FX_Security_ID] AS [Dividend_FX_Security_ID]
        FROM [dbo].[Security_Detail] AS [Extent1]
        WHERE ([Extent1].[Entity_ID] IN (@p__linq__0,@p__linq__1)) AND ((CASE WHEN ( NOT ((N'' = @p__linq__2) AND (@p__linq__2 IS NOT NULL))) THEN CASE WHEN ([Extent1].[Security_Type_Code] = @p__linq__3) THEN cast(1 as bit) WHEN ( NOT (([Extent1].[Security_Type_Code] = @p__linq__3) AND (0 = (CASE WHEN (@p__linq__3 IS NULL) THEN cast(1 as bit) ELSE cast(0 as bit) END)))) THEN cast(0 as bit) END WHEN ('' <> [Extent1].[Security_Type_Code]) THEN cast(1 as bit) WHEN ('' = [Extent1].[Security_Type_Code]) THEN cast(0 as bit) END) = 1)
    )  AS [Project1]
    ORDER BY [Project1].[Security_Name] ASC
2018-04-07 18:32:04.9623|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: IF db_id(N'MetopeAzureDb') IS NOT NULL SELECT 1 ELSE SELECT Count(*) FROM sys.databases WHERE [name]=N'MetopeAzureDb'
2018-04-07 18:32:04.9823|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: IF db_id(N'MetopeAzureDb') IS NOT NULL SELECT 1 ELSE SELECT Count(*) FROM sys.databases WHERE [name]=N'MetopeAzureDb'
2018-04-07 18:32:05.0048|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: IF db_id(N'MetopeAzureDb') IS NOT NULL SELECT 1 ELSE SELECT Count(*) FROM sys.databases WHERE [name]=N'MetopeAzureDb'
2018-04-07 18:32:05.0228|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: IF db_id(N'MetopeAzureDb') IS NOT NULL SELECT 1 ELSE SELECT Count(*) FROM sys.databases WHERE [name]=N'MetopeAzureDb'
2018-04-07 18:34:01.8853|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: SELECT 
    [Project1].[Security_ID] AS [Security_ID], 
    [Project1].[Entity_ID] AS [Entity_ID], 
    [Project1].[Security_Name] AS [Security_Name], 
    [Project1].[Short_Name] AS [Short_Name], 
    [Project1].[Primary_Exch] AS [Primary_Exch], 
    [Project1].[Secondary_Exch] AS [Secondary_Exch], 
    [Project1].[Country_Of_Domicile] AS [Country_Of_Domicile], 
    [Project1].[Country_Of_Risk] AS [Country_Of_Risk], 
    [Project1].[Security_Type_Code] AS [Security_Type_Code], 
    [Project1].[Price_Multiplier] AS [Price_Multiplier], 
    [Project1].[Income_Frequency] AS [Income_Frequency], 
    [Project1].[Issuer_Code] AS [Issuer_Code], 
    [Project1].[Ultimate_Issuer_Code] AS [Ultimate_Issuer_Code], 
    [Project1].[Asset_Currency] AS [Asset_Currency], 
    [Project1].[Min_Lot_Size] AS [Min_Lot_Size], 
    [Project1].[Decimal_Precision] AS [Decimal_Precision], 
    [Project1].[AvePrice_Rounding] AS [AvePrice_Rounding], 
    [Project1].[Issue_Date] AS [Issue_Date], 
    [Project1].[Maturity_Date] AS [Maturity_Date], 
    [Project1].[Coupon_Rate] AS [Coupon_Rate], 
    [Project1].[Price_Exchange] AS [Price_Exchange], 
    [Project1].[Trade_Currency] AS [Trade_Currency], 
    [Project1].[Price_Curr] AS [Price_Curr], 
    [Project1].[Currency_Pair_Code] AS [Currency_Pair_Code], 
    [Project1].[Share_Class] AS [Share_Class], 
    [Project1].[Current_Market_Price] AS [Current_Market_Price], 
    [Project1].[Index_Type] AS [Index_Type], 
    [Project1].[Clean_Price_Formula] AS [Clean_Price_Formula], 
    [Project1].[Accrued_Income_Price_Formula] AS [Accrued_Income_Price_Formula], 
    [Project1].[Odd_First_Coupon_Date] AS [Odd_First_Coupon_Date], 
    [Project1].[Odd_Last_Coupon_Date] AS [Odd_Last_Coupon_Date], 
    [Project1].[Coupon_Anniversary_Indicator] AS [Coupon_Anniversary_Indicator], 
    [Project1].[Track_EOM_Flag] AS [Track_EOM_Flag], 
    [Project1].[Next_Coupon_Date] AS [Next_Coupon_Date], 
    [Project1].[Previous_Coupon_Date] AS [Previous_Coupon_Date], 
    [Project1].[Payment_Frequency] AS [Payment_Frequency], 
    [Project1].[Coupon_BusDay_Adjustment] AS [Coupon_BusDay_Adjustment], 
    [Project1].[Next_Ex_Div_Date] AS [Next_Ex_Div_Date], 
    [Project1].[Ex_Div_BusDay_Adjustment] AS [Ex_Div_BusDay_Adjustment], 
    [Project1].[Ex_Div_Period] AS [Ex_Div_Period], 
    [Project1].[Ticker] AS [Ticker], 
    [Project1].[Inet_ID] AS [Inet_ID], 
    [Project1].[Bloomberg_ID] AS [Bloomberg_ID], 
    [Project1].[External_Sec_ID] AS [External_Sec_ID], 
    [Project1].[Reuters_ID] AS [Reuters_ID], 
    [Project1].[ISIN] AS [ISIN], 
    [Project1].[Call_Account_Flag] AS [Call_Account_Flag], 
    [Project1].[System_Locked] AS [System_Locked], 
    [Project1].[Last_Update_User] AS [Last_Update_User], 
    [Project1].[Last_Update_Date] AS [Last_Update_Date], 
    [Project1].[Security_Status] AS [Security_Status], 
    [Project1].[Benchmark_Portfolio] AS [Benchmark_Portfolio], 
    [Project1].[Active_flag] AS [Active_flag], 
    [Project1].[Dividend_FX_Security_ID] AS [Dividend_FX_Security_ID]
    FROM ( SELECT 
        [Extent1].[Security_ID] AS [Security_ID], 
        [Extent1].[Entity_ID] AS [Entity_ID], 
        [Extent1].[Security_Name] AS [Security_Name], 
        [Extent1].[Short_Name] AS [Short_Name], 
        [Extent1].[Primary_Exch] AS [Primary_Exch], 
        [Extent1].[Secondary_Exch] AS [Secondary_Exch], 
        [Extent1].[Country_Of_Domicile] AS [Country_Of_Domicile], 
        [Extent1].[Country_Of_Risk] AS [Country_Of_Risk], 
        [Extent1].[Security_Type_Code] AS [Security_Type_Code], 
        [Extent1].[Price_Multiplier] AS [Price_Multiplier], 
        [Extent1].[Income_Frequency] AS [Income_Frequency], 
        [Extent1].[Issuer_Code] AS [Issuer_Code], 
        [Extent1].[Ultimate_Issuer_Code] AS [Ultimate_Issuer_Code], 
        [Extent1].[Asset_Currency] AS [Asset_Currency], 
        [Extent1].[Min_Lot_Size] AS [Min_Lot_Size], 
        [Extent1].[Decimal_Precision] AS [Decimal_Precision], 
        [Extent1].[AvePrice_Rounding] AS [AvePrice_Rounding], 
        [Extent1].[Issue_Date] AS [Issue_Date], 
        [Extent1].[Maturity_Date] AS [Maturity_Date], 
        [Extent1].[Coupon_Rate] AS [Coupon_Rate], 
        [Extent1].[Price_Exchange] AS [Price_Exchange], 
        [Extent1].[Trade_Currency] AS [Trade_Currency], 
        [Extent1].[Price_Curr] AS [Price_Curr], 
        [Extent1].[Currency_Pair_Code] AS [Currency_Pair_Code], 
        [Extent1].[Share_Class] AS [Share_Class], 
        [Extent1].[Current_Market_Price] AS [Current_Market_Price], 
        [Extent1].[Index_Type] AS [Index_Type], 
        [Extent1].[Clean_Price_Formula] AS [Clean_Price_Formula], 
        [Extent1].[Accrued_Income_Price_Formula] AS [Accrued_Income_Price_Formula], 
        [Extent1].[Odd_First_Coupon_Date] AS [Odd_First_Coupon_Date], 
        [Extent1].[Odd_Last_Coupon_Date] AS [Odd_Last_Coupon_Date], 
        [Extent1].[Coupon_Anniversary_Indicator] AS [Coupon_Anniversary_Indicator], 
        [Extent1].[Track_EOM_Flag] AS [Track_EOM_Flag], 
        [Extent1].[Next_Coupon_Date] AS [Next_Coupon_Date], 
        [Extent1].[Previous_Coupon_Date] AS [Previous_Coupon_Date], 
        [Extent1].[Payment_Frequency] AS [Payment_Frequency], 
        [Extent1].[Coupon_BusDay_Adjustment] AS [Coupon_BusDay_Adjustment], 
        [Extent1].[Next_Ex_Div_Date] AS [Next_Ex_Div_Date], 
        [Extent1].[Ex_Div_BusDay_Adjustment] AS [Ex_Div_BusDay_Adjustment], 
        [Extent1].[Ex_Div_Period] AS [Ex_Div_Period], 
        [Extent1].[Ticker] AS [Ticker], 
        [Extent1].[Inet_ID] AS [Inet_ID], 
        [Extent1].[Bloomberg_ID] AS [Bloomberg_ID], 
        [Extent1].[External_Sec_ID] AS [External_Sec_ID], 
        [Extent1].[Reuters_ID] AS [Reuters_ID], 
        [Extent1].[ISIN] AS [ISIN], 
        [Extent1].[Call_Account_Flag] AS [Call_Account_Flag], 
        [Extent1].[System_Locked] AS [System_Locked], 
        [Extent1].[Last_Update_User] AS [Last_Update_User], 
        [Extent1].[Last_Update_Date] AS [Last_Update_Date], 
        [Extent1].[Security_Status] AS [Security_Status], 
        [Extent1].[Benchmark_Portfolio] AS [Benchmark_Portfolio], 
        [Extent1].[Active_flag] AS [Active_flag], 
        [Extent1].[Dividend_FX_Security_ID] AS [Dividend_FX_Security_ID]
        FROM [dbo].[Security_Detail] AS [Extent1]
        WHERE ([Extent1].[Entity_ID] IN (@p__linq__0,@p__linq__1)) AND ((CASE WHEN ( NOT ((N'' = @p__linq__2) AND (@p__linq__2 IS NOT NULL))) THEN CASE WHEN ([Extent1].[Security_Type_Code] = @p__linq__3) THEN cast(1 as bit) WHEN ( NOT (([Extent1].[Security_Type_Code] = @p__linq__3) AND (0 = (CASE WHEN (@p__linq__3 IS NULL) THEN cast(1 as bit) ELSE cast(0 as bit) END)))) THEN cast(0 as bit) END WHEN ('' <> [Extent1].[Security_Type_Code]) THEN cast(1 as bit) WHEN ('' = [Extent1].[Security_Type_Code]) THEN cast(0 as bit) END) = 1)
    )  AS [Project1]
    ORDER BY [Project1].[Security_Name] ASC
2018-04-07 18:34:01.9283|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: SELECT 
    [Project1].[Security_ID] AS [Security_ID], 
    [Project1].[Entity_ID] AS [Entity_ID], 
    [Project1].[Security_Name] AS [Security_Name], 
    [Project1].[Short_Name] AS [Short_Name], 
    [Project1].[Primary_Exch] AS [Primary_Exch], 
    [Project1].[Secondary_Exch] AS [Secondary_Exch], 
    [Project1].[Country_Of_Domicile] AS [Country_Of_Domicile], 
    [Project1].[Country_Of_Risk] AS [Country_Of_Risk], 
    [Project1].[Security_Type_Code] AS [Security_Type_Code], 
    [Project1].[Price_Multiplier] AS [Price_Multiplier], 
    [Project1].[Income_Frequency] AS [Income_Frequency], 
    [Project1].[Issuer_Code] AS [Issuer_Code], 
    [Project1].[Ultimate_Issuer_Code] AS [Ultimate_Issuer_Code], 
    [Project1].[Asset_Currency] AS [Asset_Currency], 
    [Project1].[Min_Lot_Size] AS [Min_Lot_Size], 
    [Project1].[Decimal_Precision] AS [Decimal_Precision], 
    [Project1].[AvePrice_Rounding] AS [AvePrice_Rounding], 
    [Project1].[Issue_Date] AS [Issue_Date], 
    [Project1].[Maturity_Date] AS [Maturity_Date], 
    [Project1].[Coupon_Rate] AS [Coupon_Rate], 
    [Project1].[Price_Exchange] AS [Price_Exchange], 
    [Project1].[Trade_Currency] AS [Trade_Currency], 
    [Project1].[Price_Curr] AS [Price_Curr], 
    [Project1].[Currency_Pair_Code] AS [Currency_Pair_Code], 
    [Project1].[Share_Class] AS [Share_Class], 
    [Project1].[Current_Market_Price] AS [Current_Market_Price], 
    [Project1].[Index_Type] AS [Index_Type], 
    [Project1].[Clean_Price_Formula] AS [Clean_Price_Formula], 
    [Project1].[Accrued_Income_Price_Formula] AS [Accrued_Income_Price_Formula], 
    [Project1].[Odd_First_Coupon_Date] AS [Odd_First_Coupon_Date], 
    [Project1].[Odd_Last_Coupon_Date] AS [Odd_Last_Coupon_Date], 
    [Project1].[Coupon_Anniversary_Indicator] AS [Coupon_Anniversary_Indicator], 
    [Project1].[Track_EOM_Flag] AS [Track_EOM_Flag], 
    [Project1].[Next_Coupon_Date] AS [Next_Coupon_Date], 
    [Project1].[Previous_Coupon_Date] AS [Previous_Coupon_Date], 
    [Project1].[Payment_Frequency] AS [Payment_Frequency], 
    [Project1].[Coupon_BusDay_Adjustment] AS [Coupon_BusDay_Adjustment], 
    [Project1].[Next_Ex_Div_Date] AS [Next_Ex_Div_Date], 
    [Project1].[Ex_Div_BusDay_Adjustment] AS [Ex_Div_BusDay_Adjustment], 
    [Project1].[Ex_Div_Period] AS [Ex_Div_Period], 
    [Project1].[Ticker] AS [Ticker], 
    [Project1].[Inet_ID] AS [Inet_ID], 
    [Project1].[Bloomberg_ID] AS [Bloomberg_ID], 
    [Project1].[External_Sec_ID] AS [External_Sec_ID], 
    [Project1].[Reuters_ID] AS [Reuters_ID], 
    [Project1].[ISIN] AS [ISIN], 
    [Project1].[Call_Account_Flag] AS [Call_Account_Flag], 
    [Project1].[System_Locked] AS [System_Locked], 
    [Project1].[Last_Update_User] AS [Last_Update_User], 
    [Project1].[Last_Update_Date] AS [Last_Update_Date], 
    [Project1].[Security_Status] AS [Security_Status], 
    [Project1].[Benchmark_Portfolio] AS [Benchmark_Portfolio], 
    [Project1].[Active_flag] AS [Active_flag], 
    [Project1].[Dividend_FX_Security_ID] AS [Dividend_FX_Security_ID]
    FROM ( SELECT 
        [Extent1].[Security_ID] AS [Security_ID], 
        [Extent1].[Entity_ID] AS [Entity_ID], 
        [Extent1].[Security_Name] AS [Security_Name], 
        [Extent1].[Short_Name] AS [Short_Name], 
        [Extent1].[Primary_Exch] AS [Primary_Exch], 
        [Extent1].[Secondary_Exch] AS [Secondary_Exch], 
        [Extent1].[Country_Of_Domicile] AS [Country_Of_Domicile], 
        [Extent1].[Country_Of_Risk] AS [Country_Of_Risk], 
        [Extent1].[Security_Type_Code] AS [Security_Type_Code], 
        [Extent1].[Price_Multiplier] AS [Price_Multiplier], 
        [Extent1].[Income_Frequency] AS [Income_Frequency], 
        [Extent1].[Issuer_Code] AS [Issuer_Code], 
        [Extent1].[Ultimate_Issuer_Code] AS [Ultimate_Issuer_Code], 
        [Extent1].[Asset_Currency] AS [Asset_Currency], 
        [Extent1].[Min_Lot_Size] AS [Min_Lot_Size], 
        [Extent1].[Decimal_Precision] AS [Decimal_Precision], 
        [Extent1].[AvePrice_Rounding] AS [AvePrice_Rounding], 
        [Extent1].[Issue_Date] AS [Issue_Date], 
        [Extent1].[Maturity_Date] AS [Maturity_Date], 
        [Extent1].[Coupon_Rate] AS [Coupon_Rate], 
        [Extent1].[Price_Exchange] AS [Price_Exchange], 
        [Extent1].[Trade_Currency] AS [Trade_Currency], 
        [Extent1].[Price_Curr] AS [Price_Curr], 
        [Extent1].[Currency_Pair_Code] AS [Currency_Pair_Code], 
        [Extent1].[Share_Class] AS [Share_Class], 
        [Extent1].[Current_Market_Price] AS [Current_Market_Price], 
        [Extent1].[Index_Type] AS [Index_Type], 
        [Extent1].[Clean_Price_Formula] AS [Clean_Price_Formula], 
        [Extent1].[Accrued_Income_Price_Formula] AS [Accrued_Income_Price_Formula], 
        [Extent1].[Odd_First_Coupon_Date] AS [Odd_First_Coupon_Date], 
        [Extent1].[Odd_Last_Coupon_Date] AS [Odd_Last_Coupon_Date], 
        [Extent1].[Coupon_Anniversary_Indicator] AS [Coupon_Anniversary_Indicator], 
        [Extent1].[Track_EOM_Flag] AS [Track_EOM_Flag], 
        [Extent1].[Next_Coupon_Date] AS [Next_Coupon_Date], 
        [Extent1].[Previous_Coupon_Date] AS [Previous_Coupon_Date], 
        [Extent1].[Payment_Frequency] AS [Payment_Frequency], 
        [Extent1].[Coupon_BusDay_Adjustment] AS [Coupon_BusDay_Adjustment], 
        [Extent1].[Next_Ex_Div_Date] AS [Next_Ex_Div_Date], 
        [Extent1].[Ex_Div_BusDay_Adjustment] AS [Ex_Div_BusDay_Adjustment], 
        [Extent1].[Ex_Div_Period] AS [Ex_Div_Period], 
        [Extent1].[Ticker] AS [Ticker], 
        [Extent1].[Inet_ID] AS [Inet_ID], 
        [Extent1].[Bloomberg_ID] AS [Bloomberg_ID], 
        [Extent1].[External_Sec_ID] AS [External_Sec_ID], 
        [Extent1].[Reuters_ID] AS [Reuters_ID], 
        [Extent1].[ISIN] AS [ISIN], 
        [Extent1].[Call_Account_Flag] AS [Call_Account_Flag], 
        [Extent1].[System_Locked] AS [System_Locked], 
        [Extent1].[Last_Update_User] AS [Last_Update_User], 
        [Extent1].[Last_Update_Date] AS [Last_Update_Date], 
        [Extent1].[Security_Status] AS [Security_Status], 
        [Extent1].[Benchmark_Portfolio] AS [Benchmark_Portfolio], 
        [Extent1].[Active_flag] AS [Active_flag], 
        [Extent1].[Dividend_FX_Security_ID] AS [Dividend_FX_Security_ID]
        FROM [dbo].[Security_Detail] AS [Extent1]
        WHERE ([Extent1].[Entity_ID] IN (@p__linq__0,@p__linq__1)) AND ((CASE WHEN ( NOT ((N'' = @p__linq__2) AND (@p__linq__2 IS NOT NULL))) THEN CASE WHEN ([Extent1].[Security_Type_Code] = @p__linq__3) THEN cast(1 as bit) WHEN ( NOT (([Extent1].[Security_Type_Code] = @p__linq__3) AND (0 = (CASE WHEN (@p__linq__3 IS NULL) THEN cast(1 as bit) ELSE cast(0 as bit) END)))) THEN cast(0 as bit) END WHEN ('' <> [Extent1].[Security_Type_Code]) THEN cast(1 as bit) WHEN ('' = [Extent1].[Security_Type_Code]) THEN cast(0 as bit) END) = 1)
    )  AS [Project1]
    ORDER BY [Project1].[Security_Name] ASC
2018-04-07 18:35:14.4941|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: SELECT 
    [Project1].[Security_ID] AS [Security_ID], 
    [Project1].[Entity_ID] AS [Entity_ID], 
    [Project1].[Security_Name] AS [Security_Name], 
    [Project1].[Short_Name] AS [Short_Name], 
    [Project1].[Primary_Exch] AS [Primary_Exch], 
    [Project1].[Secondary_Exch] AS [Secondary_Exch], 
    [Project1].[Country_Of_Domicile] AS [Country_Of_Domicile], 
    [Project1].[Country_Of_Risk] AS [Country_Of_Risk], 
    [Project1].[Security_Type_Code] AS [Security_Type_Code], 
    [Project1].[Price_Multiplier] AS [Price_Multiplier], 
    [Project1].[Income_Frequency] AS [Income_Frequency], 
    [Project1].[Issuer_Code] AS [Issuer_Code], 
    [Project1].[Ultimate_Issuer_Code] AS [Ultimate_Issuer_Code], 
    [Project1].[Asset_Currency] AS [Asset_Currency], 
    [Project1].[Min_Lot_Size] AS [Min_Lot_Size], 
    [Project1].[Decimal_Precision] AS [Decimal_Precision], 
    [Project1].[AvePrice_Rounding] AS [AvePrice_Rounding], 
    [Project1].[Issue_Date] AS [Issue_Date], 
    [Project1].[Maturity_Date] AS [Maturity_Date], 
    [Project1].[Coupon_Rate] AS [Coupon_Rate], 
    [Project1].[Price_Exchange] AS [Price_Exchange], 
    [Project1].[Trade_Currency] AS [Trade_Currency], 
    [Project1].[Price_Curr] AS [Price_Curr], 
    [Project1].[Currency_Pair_Code] AS [Currency_Pair_Code], 
    [Project1].[Share_Class] AS [Share_Class], 
    [Project1].[Current_Market_Price] AS [Current_Market_Price], 
    [Project1].[Index_Type] AS [Index_Type], 
    [Project1].[Clean_Price_Formula] AS [Clean_Price_Formula], 
    [Project1].[Accrued_Income_Price_Formula] AS [Accrued_Income_Price_Formula], 
    [Project1].[Odd_First_Coupon_Date] AS [Odd_First_Coupon_Date], 
    [Project1].[Odd_Last_Coupon_Date] AS [Odd_Last_Coupon_Date], 
    [Project1].[Coupon_Anniversary_Indicator] AS [Coupon_Anniversary_Indicator], 
    [Project1].[Track_EOM_Flag] AS [Track_EOM_Flag], 
    [Project1].[Next_Coupon_Date] AS [Next_Coupon_Date], 
    [Project1].[Previous_Coupon_Date] AS [Previous_Coupon_Date], 
    [Project1].[Payment_Frequency] AS [Payment_Frequency], 
    [Project1].[Coupon_BusDay_Adjustment] AS [Coupon_BusDay_Adjustment], 
    [Project1].[Next_Ex_Div_Date] AS [Next_Ex_Div_Date], 
    [Project1].[Ex_Div_BusDay_Adjustment] AS [Ex_Div_BusDay_Adjustment], 
    [Project1].[Ex_Div_Period] AS [Ex_Div_Period], 
    [Project1].[Ticker] AS [Ticker], 
    [Project1].[Inet_ID] AS [Inet_ID], 
    [Project1].[Bloomberg_ID] AS [Bloomberg_ID], 
    [Project1].[External_Sec_ID] AS [External_Sec_ID], 
    [Project1].[Reuters_ID] AS [Reuters_ID], 
    [Project1].[ISIN] AS [ISIN], 
    [Project1].[Call_Account_Flag] AS [Call_Account_Flag], 
    [Project1].[System_Locked] AS [System_Locked], 
    [Project1].[Last_Update_User] AS [Last_Update_User], 
    [Project1].[Last_Update_Date] AS [Last_Update_Date], 
    [Project1].[Security_Status] AS [Security_Status], 
    [Project1].[Benchmark_Portfolio] AS [Benchmark_Portfolio], 
    [Project1].[Active_flag] AS [Active_flag], 
    [Project1].[Dividend_FX_Security_ID] AS [Dividend_FX_Security_ID]
    FROM ( SELECT 
        [Extent1].[Security_ID] AS [Security_ID], 
        [Extent1].[Entity_ID] AS [Entity_ID], 
        [Extent1].[Security_Name] AS [Security_Name], 
        [Extent1].[Short_Name] AS [Short_Name], 
        [Extent1].[Primary_Exch] AS [Primary_Exch], 
        [Extent1].[Secondary_Exch] AS [Secondary_Exch], 
        [Extent1].[Country_Of_Domicile] AS [Country_Of_Domicile], 
        [Extent1].[Country_Of_Risk] AS [Country_Of_Risk], 
        [Extent1].[Security_Type_Code] AS [Security_Type_Code], 
        [Extent1].[Price_Multiplier] AS [Price_Multiplier], 
        [Extent1].[Income_Frequency] AS [Income_Frequency], 
        [Extent1].[Issuer_Code] AS [Issuer_Code], 
        [Extent1].[Ultimate_Issuer_Code] AS [Ultimate_Issuer_Code], 
        [Extent1].[Asset_Currency] AS [Asset_Currency], 
        [Extent1].[Min_Lot_Size] AS [Min_Lot_Size], 
        [Extent1].[Decimal_Precision] AS [Decimal_Precision], 
        [Extent1].[AvePrice_Rounding] AS [AvePrice_Rounding], 
        [Extent1].[Issue_Date] AS [Issue_Date], 
        [Extent1].[Maturity_Date] AS [Maturity_Date], 
        [Extent1].[Coupon_Rate] AS [Coupon_Rate], 
        [Extent1].[Price_Exchange] AS [Price_Exchange], 
        [Extent1].[Trade_Currency] AS [Trade_Currency], 
        [Extent1].[Price_Curr] AS [Price_Curr], 
        [Extent1].[Currency_Pair_Code] AS [Currency_Pair_Code], 
        [Extent1].[Share_Class] AS [Share_Class], 
        [Extent1].[Current_Market_Price] AS [Current_Market_Price], 
        [Extent1].[Index_Type] AS [Index_Type], 
        [Extent1].[Clean_Price_Formula] AS [Clean_Price_Formula], 
        [Extent1].[Accrued_Income_Price_Formula] AS [Accrued_Income_Price_Formula], 
        [Extent1].[Odd_First_Coupon_Date] AS [Odd_First_Coupon_Date], 
        [Extent1].[Odd_Last_Coupon_Date] AS [Odd_Last_Coupon_Date], 
        [Extent1].[Coupon_Anniversary_Indicator] AS [Coupon_Anniversary_Indicator], 
        [Extent1].[Track_EOM_Flag] AS [Track_EOM_Flag], 
        [Extent1].[Next_Coupon_Date] AS [Next_Coupon_Date], 
        [Extent1].[Previous_Coupon_Date] AS [Previous_Coupon_Date], 
        [Extent1].[Payment_Frequency] AS [Payment_Frequency], 
        [Extent1].[Coupon_BusDay_Adjustment] AS [Coupon_BusDay_Adjustment], 
        [Extent1].[Next_Ex_Div_Date] AS [Next_Ex_Div_Date], 
        [Extent1].[Ex_Div_BusDay_Adjustment] AS [Ex_Div_BusDay_Adjustment], 
        [Extent1].[Ex_Div_Period] AS [Ex_Div_Period], 
        [Extent1].[Ticker] AS [Ticker], 
        [Extent1].[Inet_ID] AS [Inet_ID], 
        [Extent1].[Bloomberg_ID] AS [Bloomberg_ID], 
        [Extent1].[External_Sec_ID] AS [External_Sec_ID], 
        [Extent1].[Reuters_ID] AS [Reuters_ID], 
        [Extent1].[ISIN] AS [ISIN], 
        [Extent1].[Call_Account_Flag] AS [Call_Account_Flag], 
        [Extent1].[System_Locked] AS [System_Locked], 
        [Extent1].[Last_Update_User] AS [Last_Update_User], 
        [Extent1].[Last_Update_Date] AS [Last_Update_Date], 
        [Extent1].[Security_Status] AS [Security_Status], 
        [Extent1].[Benchmark_Portfolio] AS [Benchmark_Portfolio], 
        [Extent1].[Active_flag] AS [Active_flag], 
        [Extent1].[Dividend_FX_Security_ID] AS [Dividend_FX_Security_ID]
        FROM [dbo].[Security_Detail] AS [Extent1]
        WHERE ([Extent1].[Entity_ID] IN (@p__linq__0,@p__linq__1)) AND ((CASE WHEN ( NOT ((N'' = @p__linq__2) AND (@p__linq__2 IS NOT NULL))) THEN CASE WHEN ([Extent1].[Security_Type_Code] = @p__linq__3) THEN cast(1 as bit) WHEN ( NOT (([Extent1].[Security_Type_Code] = @p__linq__3) AND (0 = (CASE WHEN (@p__linq__3 IS NULL) THEN cast(1 as bit) ELSE cast(0 as bit) END)))) THEN cast(0 as bit) END WHEN ('' <> [Extent1].[Security_Type_Code]) THEN cast(1 as bit) WHEN ('' = [Extent1].[Security_Type_Code]) THEN cast(0 as bit) END) = 1)
    )  AS [Project1]
    ORDER BY [Project1].[Security_Name] ASC
2018-04-07 18:35:14.5246|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: SELECT 
    [Project1].[Security_ID] AS [Security_ID], 
    [Project1].[Entity_ID] AS [Entity_ID], 
    [Project1].[Security_Name] AS [Security_Name], 
    [Project1].[Short_Name] AS [Short_Name], 
    [Project1].[Primary_Exch] AS [Primary_Exch], 
    [Project1].[Secondary_Exch] AS [Secondary_Exch], 
    [Project1].[Country_Of_Domicile] AS [Country_Of_Domicile], 
    [Project1].[Country_Of_Risk] AS [Country_Of_Risk], 
    [Project1].[Security_Type_Code] AS [Security_Type_Code], 
    [Project1].[Price_Multiplier] AS [Price_Multiplier], 
    [Project1].[Income_Frequency] AS [Income_Frequency], 
    [Project1].[Issuer_Code] AS [Issuer_Code], 
    [Project1].[Ultimate_Issuer_Code] AS [Ultimate_Issuer_Code], 
    [Project1].[Asset_Currency] AS [Asset_Currency], 
    [Project1].[Min_Lot_Size] AS [Min_Lot_Size], 
    [Project1].[Decimal_Precision] AS [Decimal_Precision], 
    [Project1].[AvePrice_Rounding] AS [AvePrice_Rounding], 
    [Project1].[Issue_Date] AS [Issue_Date], 
    [Project1].[Maturity_Date] AS [Maturity_Date], 
    [Project1].[Coupon_Rate] AS [Coupon_Rate], 
    [Project1].[Price_Exchange] AS [Price_Exchange], 
    [Project1].[Trade_Currency] AS [Trade_Currency], 
    [Project1].[Price_Curr] AS [Price_Curr], 
    [Project1].[Currency_Pair_Code] AS [Currency_Pair_Code], 
    [Project1].[Share_Class] AS [Share_Class], 
    [Project1].[Current_Market_Price] AS [Current_Market_Price], 
    [Project1].[Index_Type] AS [Index_Type], 
    [Project1].[Clean_Price_Formula] AS [Clean_Price_Formula], 
    [Project1].[Accrued_Income_Price_Formula] AS [Accrued_Income_Price_Formula], 
    [Project1].[Odd_First_Coupon_Date] AS [Odd_First_Coupon_Date], 
    [Project1].[Odd_Last_Coupon_Date] AS [Odd_Last_Coupon_Date], 
    [Project1].[Coupon_Anniversary_Indicator] AS [Coupon_Anniversary_Indicator], 
    [Project1].[Track_EOM_Flag] AS [Track_EOM_Flag], 
    [Project1].[Next_Coupon_Date] AS [Next_Coupon_Date], 
    [Project1].[Previous_Coupon_Date] AS [Previous_Coupon_Date], 
    [Project1].[Payment_Frequency] AS [Payment_Frequency], 
    [Project1].[Coupon_BusDay_Adjustment] AS [Coupon_BusDay_Adjustment], 
    [Project1].[Next_Ex_Div_Date] AS [Next_Ex_Div_Date], 
    [Project1].[Ex_Div_BusDay_Adjustment] AS [Ex_Div_BusDay_Adjustment], 
    [Project1].[Ex_Div_Period] AS [Ex_Div_Period], 
    [Project1].[Ticker] AS [Ticker], 
    [Project1].[Inet_ID] AS [Inet_ID], 
    [Project1].[Bloomberg_ID] AS [Bloomberg_ID], 
    [Project1].[External_Sec_ID] AS [External_Sec_ID], 
    [Project1].[Reuters_ID] AS [Reuters_ID], 
    [Project1].[ISIN] AS [ISIN], 
    [Project1].[Call_Account_Flag] AS [Call_Account_Flag], 
    [Project1].[System_Locked] AS [System_Locked], 
    [Project1].[Last_Update_User] AS [Last_Update_User], 
    [Project1].[Last_Update_Date] AS [Last_Update_Date], 
    [Project1].[Security_Status] AS [Security_Status], 
    [Project1].[Benchmark_Portfolio] AS [Benchmark_Portfolio], 
    [Project1].[Active_flag] AS [Active_flag], 
    [Project1].[Dividend_FX_Security_ID] AS [Dividend_FX_Security_ID]
    FROM ( SELECT 
        [Extent1].[Security_ID] AS [Security_ID], 
        [Extent1].[Entity_ID] AS [Entity_ID], 
        [Extent1].[Security_Name] AS [Security_Name], 
        [Extent1].[Short_Name] AS [Short_Name], 
        [Extent1].[Primary_Exch] AS [Primary_Exch], 
        [Extent1].[Secondary_Exch] AS [Secondary_Exch], 
        [Extent1].[Country_Of_Domicile] AS [Country_Of_Domicile], 
        [Extent1].[Country_Of_Risk] AS [Country_Of_Risk], 
        [Extent1].[Security_Type_Code] AS [Security_Type_Code], 
        [Extent1].[Price_Multiplier] AS [Price_Multiplier], 
        [Extent1].[Income_Frequency] AS [Income_Frequency], 
        [Extent1].[Issuer_Code] AS [Issuer_Code], 
        [Extent1].[Ultimate_Issuer_Code] AS [Ultimate_Issuer_Code], 
        [Extent1].[Asset_Currency] AS [Asset_Currency], 
        [Extent1].[Min_Lot_Size] AS [Min_Lot_Size], 
        [Extent1].[Decimal_Precision] AS [Decimal_Precision], 
        [Extent1].[AvePrice_Rounding] AS [AvePrice_Rounding], 
        [Extent1].[Issue_Date] AS [Issue_Date], 
        [Extent1].[Maturity_Date] AS [Maturity_Date], 
        [Extent1].[Coupon_Rate] AS [Coupon_Rate], 
        [Extent1].[Price_Exchange] AS [Price_Exchange], 
        [Extent1].[Trade_Currency] AS [Trade_Currency], 
        [Extent1].[Price_Curr] AS [Price_Curr], 
        [Extent1].[Currency_Pair_Code] AS [Currency_Pair_Code], 
        [Extent1].[Share_Class] AS [Share_Class], 
        [Extent1].[Current_Market_Price] AS [Current_Market_Price], 
        [Extent1].[Index_Type] AS [Index_Type], 
        [Extent1].[Clean_Price_Formula] AS [Clean_Price_Formula], 
        [Extent1].[Accrued_Income_Price_Formula] AS [Accrued_Income_Price_Formula], 
        [Extent1].[Odd_First_Coupon_Date] AS [Odd_First_Coupon_Date], 
        [Extent1].[Odd_Last_Coupon_Date] AS [Odd_Last_Coupon_Date], 
        [Extent1].[Coupon_Anniversary_Indicator] AS [Coupon_Anniversary_Indicator], 
        [Extent1].[Track_EOM_Flag] AS [Track_EOM_Flag], 
        [Extent1].[Next_Coupon_Date] AS [Next_Coupon_Date], 
        [Extent1].[Previous_Coupon_Date] AS [Previous_Coupon_Date], 
        [Extent1].[Payment_Frequency] AS [Payment_Frequency], 
        [Extent1].[Coupon_BusDay_Adjustment] AS [Coupon_BusDay_Adjustment], 
        [Extent1].[Next_Ex_Div_Date] AS [Next_Ex_Div_Date], 
        [Extent1].[Ex_Div_BusDay_Adjustment] AS [Ex_Div_BusDay_Adjustment], 
        [Extent1].[Ex_Div_Period] AS [Ex_Div_Period], 
        [Extent1].[Ticker] AS [Ticker], 
        [Extent1].[Inet_ID] AS [Inet_ID], 
        [Extent1].[Bloomberg_ID] AS [Bloomberg_ID], 
        [Extent1].[External_Sec_ID] AS [External_Sec_ID], 
        [Extent1].[Reuters_ID] AS [Reuters_ID], 
        [Extent1].[ISIN] AS [ISIN], 
        [Extent1].[Call_Account_Flag] AS [Call_Account_Flag], 
        [Extent1].[System_Locked] AS [System_Locked], 
        [Extent1].[Last_Update_User] AS [Last_Update_User], 
        [Extent1].[Last_Update_Date] AS [Last_Update_Date], 
        [Extent1].[Security_Status] AS [Security_Status], 
        [Extent1].[Benchmark_Portfolio] AS [Benchmark_Portfolio], 
        [Extent1].[Active_flag] AS [Active_flag], 
        [Extent1].[Dividend_FX_Security_ID] AS [Dividend_FX_Security_ID]
        FROM [dbo].[Security_Detail] AS [Extent1]
        WHERE ([Extent1].[Entity_ID] IN (@p__linq__0,@p__linq__1)) AND ((CASE WHEN ( NOT ((N'' = @p__linq__2) AND (@p__linq__2 IS NOT NULL))) THEN CASE WHEN ([Extent1].[Security_Type_Code] = @p__linq__3) THEN cast(1 as bit) WHEN ( NOT (([Extent1].[Security_Type_Code] = @p__linq__3) AND (0 = (CASE WHEN (@p__linq__3 IS NULL) THEN cast(1 as bit) ELSE cast(0 as bit) END)))) THEN cast(0 as bit) END WHEN ('' <> [Extent1].[Security_Type_Code]) THEN cast(1 as bit) WHEN ('' = [Extent1].[Security_Type_Code]) THEN cast(0 as bit) END) = 1)
    )  AS [Project1]
    ORDER BY [Project1].[Security_Name] ASC
2018-04-07 18:35:14.6312|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: SELECT 
    [Project1].[Security_ID] AS [Security_ID], 
    [Project1].[Entity_ID] AS [Entity_ID], 
    [Project1].[Security_Name] AS [Security_Name], 
    [Project1].[Short_Name] AS [Short_Name], 
    [Project1].[Primary_Exch] AS [Primary_Exch], 
    [Project1].[Secondary_Exch] AS [Secondary_Exch], 
    [Project1].[Country_Of_Domicile] AS [Country_Of_Domicile], 
    [Project1].[Country_Of_Risk] AS [Country_Of_Risk], 
    [Project1].[Security_Type_Code] AS [Security_Type_Code], 
    [Project1].[Price_Multiplier] AS [Price_Multiplier], 
    [Project1].[Income_Frequency] AS [Income_Frequency], 
    [Project1].[Issuer_Code] AS [Issuer_Code], 
    [Project1].[Ultimate_Issuer_Code] AS [Ultimate_Issuer_Code], 
    [Project1].[Asset_Currency] AS [Asset_Currency], 
    [Project1].[Min_Lot_Size] AS [Min_Lot_Size], 
    [Project1].[Decimal_Precision] AS [Decimal_Precision], 
    [Project1].[AvePrice_Rounding] AS [AvePrice_Rounding], 
    [Project1].[Issue_Date] AS [Issue_Date], 
    [Project1].[Maturity_Date] AS [Maturity_Date], 
    [Project1].[Coupon_Rate] AS [Coupon_Rate], 
    [Project1].[Price_Exchange] AS [Price_Exchange], 
    [Project1].[Trade_Currency] AS [Trade_Currency], 
    [Project1].[Price_Curr] AS [Price_Curr], 
    [Project1].[Currency_Pair_Code] AS [Currency_Pair_Code], 
    [Project1].[Share_Class] AS [Share_Class], 
    [Project1].[Current_Market_Price] AS [Current_Market_Price], 
    [Project1].[Index_Type] AS [Index_Type], 
    [Project1].[Clean_Price_Formula] AS [Clean_Price_Formula], 
    [Project1].[Accrued_Income_Price_Formula] AS [Accrued_Income_Price_Formula], 
    [Project1].[Odd_First_Coupon_Date] AS [Odd_First_Coupon_Date], 
    [Project1].[Odd_Last_Coupon_Date] AS [Odd_Last_Coupon_Date], 
    [Project1].[Coupon_Anniversary_Indicator] AS [Coupon_Anniversary_Indicator], 
    [Project1].[Track_EOM_Flag] AS [Track_EOM_Flag], 
    [Project1].[Next_Coupon_Date] AS [Next_Coupon_Date], 
    [Project1].[Previous_Coupon_Date] AS [Previous_Coupon_Date], 
    [Project1].[Payment_Frequency] AS [Payment_Frequency], 
    [Project1].[Coupon_BusDay_Adjustment] AS [Coupon_BusDay_Adjustment], 
    [Project1].[Next_Ex_Div_Date] AS [Next_Ex_Div_Date], 
    [Project1].[Ex_Div_BusDay_Adjustment] AS [Ex_Div_BusDay_Adjustment], 
    [Project1].[Ex_Div_Period] AS [Ex_Div_Period], 
    [Project1].[Ticker] AS [Ticker], 
    [Project1].[Inet_ID] AS [Inet_ID], 
    [Project1].[Bloomberg_ID] AS [Bloomberg_ID], 
    [Project1].[External_Sec_ID] AS [External_Sec_ID], 
    [Project1].[Reuters_ID] AS [Reuters_ID], 
    [Project1].[ISIN] AS [ISIN], 
    [Project1].[Call_Account_Flag] AS [Call_Account_Flag], 
    [Project1].[System_Locked] AS [System_Locked], 
    [Project1].[Last_Update_User] AS [Last_Update_User], 
    [Project1].[Last_Update_Date] AS [Last_Update_Date], 
    [Project1].[Security_Status] AS [Security_Status], 
    [Project1].[Benchmark_Portfolio] AS [Benchmark_Portfolio], 
    [Project1].[Active_flag] AS [Active_flag], 
    [Project1].[Dividend_FX_Security_ID] AS [Dividend_FX_Security_ID]
    FROM ( SELECT 
        [Extent1].[Security_ID] AS [Security_ID], 
        [Extent1].[Entity_ID] AS [Entity_ID], 
        [Extent1].[Security_Name] AS [Security_Name], 
        [Extent1].[Short_Name] AS [Short_Name], 
        [Extent1].[Primary_Exch] AS [Primary_Exch], 
        [Extent1].[Secondary_Exch] AS [Secondary_Exch], 
        [Extent1].[Country_Of_Domicile] AS [Country_Of_Domicile], 
        [Extent1].[Country_Of_Risk] AS [Country_Of_Risk], 
        [Extent1].[Security_Type_Code] AS [Security_Type_Code], 
        [Extent1].[Price_Multiplier] AS [Price_Multiplier], 
        [Extent1].[Income_Frequency] AS [Income_Frequency], 
        [Extent1].[Issuer_Code] AS [Issuer_Code], 
        [Extent1].[Ultimate_Issuer_Code] AS [Ultimate_Issuer_Code], 
        [Extent1].[Asset_Currency] AS [Asset_Currency], 
        [Extent1].[Min_Lot_Size] AS [Min_Lot_Size], 
        [Extent1].[Decimal_Precision] AS [Decimal_Precision], 
        [Extent1].[AvePrice_Rounding] AS [AvePrice_Rounding], 
        [Extent1].[Issue_Date] AS [Issue_Date], 
        [Extent1].[Maturity_Date] AS [Maturity_Date], 
        [Extent1].[Coupon_Rate] AS [Coupon_Rate], 
        [Extent1].[Price_Exchange] AS [Price_Exchange], 
        [Extent1].[Trade_Currency] AS [Trade_Currency], 
        [Extent1].[Price_Curr] AS [Price_Curr], 
        [Extent1].[Currency_Pair_Code] AS [Currency_Pair_Code], 
        [Extent1].[Share_Class] AS [Share_Class], 
        [Extent1].[Current_Market_Price] AS [Current_Market_Price], 
        [Extent1].[Index_Type] AS [Index_Type], 
        [Extent1].[Clean_Price_Formula] AS [Clean_Price_Formula], 
        [Extent1].[Accrued_Income_Price_Formula] AS [Accrued_Income_Price_Formula], 
        [Extent1].[Odd_First_Coupon_Date] AS [Odd_First_Coupon_Date], 
        [Extent1].[Odd_Last_Coupon_Date] AS [Odd_Last_Coupon_Date], 
        [Extent1].[Coupon_Anniversary_Indicator] AS [Coupon_Anniversary_Indicator], 
        [Extent1].[Track_EOM_Flag] AS [Track_EOM_Flag], 
        [Extent1].[Next_Coupon_Date] AS [Next_Coupon_Date], 
        [Extent1].[Previous_Coupon_Date] AS [Previous_Coupon_Date], 
        [Extent1].[Payment_Frequency] AS [Payment_Frequency], 
        [Extent1].[Coupon_BusDay_Adjustment] AS [Coupon_BusDay_Adjustment], 
        [Extent1].[Next_Ex_Div_Date] AS [Next_Ex_Div_Date], 
        [Extent1].[Ex_Div_BusDay_Adjustment] AS [Ex_Div_BusDay_Adjustment], 
        [Extent1].[Ex_Div_Period] AS [Ex_Div_Period], 
        [Extent1].[Ticker] AS [Ticker], 
        [Extent1].[Inet_ID] AS [Inet_ID], 
        [Extent1].[Bloomberg_ID] AS [Bloomberg_ID], 
        [Extent1].[External_Sec_ID] AS [External_Sec_ID], 
        [Extent1].[Reuters_ID] AS [Reuters_ID], 
        [Extent1].[ISIN] AS [ISIN], 
        [Extent1].[Call_Account_Flag] AS [Call_Account_Flag], 
        [Extent1].[System_Locked] AS [System_Locked], 
        [Extent1].[Last_Update_User] AS [Last_Update_User], 
        [Extent1].[Last_Update_Date] AS [Last_Update_Date], 
        [Extent1].[Security_Status] AS [Security_Status], 
        [Extent1].[Benchmark_Portfolio] AS [Benchmark_Portfolio], 
        [Extent1].[Active_flag] AS [Active_flag], 
        [Extent1].[Dividend_FX_Security_ID] AS [Dividend_FX_Security_ID]
        FROM [dbo].[Security_Detail] AS [Extent1]
        WHERE ([Extent1].[Entity_ID] IN (@p__linq__0,@p__linq__1)) AND ((CASE WHEN ( NOT ((N'' = @p__linq__2) AND (@p__linq__2 IS NOT NULL))) THEN CASE WHEN ([Extent1].[Security_Type_Code] = @p__linq__3) THEN cast(1 as bit) WHEN ( NOT (([Extent1].[Security_Type_Code] = @p__linq__3) AND (0 = (CASE WHEN (@p__linq__3 IS NULL) THEN cast(1 as bit) ELSE cast(0 as bit) END)))) THEN cast(0 as bit) END WHEN ('' <> [Extent1].[Security_Type_Code]) THEN cast(1 as bit) WHEN ('' = [Extent1].[Security_Type_Code]) THEN cast(0 as bit) END) = 1)
    )  AS [Project1]
    ORDER BY [Project1].[Security_Name] ASC
2018-04-07 18:35:14.7282|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: SELECT 
    [Project1].[Security_ID] AS [Security_ID], 
    [Project1].[Entity_ID] AS [Entity_ID], 
    [Project1].[Security_Name] AS [Security_Name], 
    [Project1].[Short_Name] AS [Short_Name], 
    [Project1].[Primary_Exch] AS [Primary_Exch], 
    [Project1].[Secondary_Exch] AS [Secondary_Exch], 
    [Project1].[Country_Of_Domicile] AS [Country_Of_Domicile], 
    [Project1].[Country_Of_Risk] AS [Country_Of_Risk], 
    [Project1].[Security_Type_Code] AS [Security_Type_Code], 
    [Project1].[Price_Multiplier] AS [Price_Multiplier], 
    [Project1].[Income_Frequency] AS [Income_Frequency], 
    [Project1].[Issuer_Code] AS [Issuer_Code], 
    [Project1].[Ultimate_Issuer_Code] AS [Ultimate_Issuer_Code], 
    [Project1].[Asset_Currency] AS [Asset_Currency], 
    [Project1].[Min_Lot_Size] AS [Min_Lot_Size], 
    [Project1].[Decimal_Precision] AS [Decimal_Precision], 
    [Project1].[AvePrice_Rounding] AS [AvePrice_Rounding], 
    [Project1].[Issue_Date] AS [Issue_Date], 
    [Project1].[Maturity_Date] AS [Maturity_Date], 
    [Project1].[Coupon_Rate] AS [Coupon_Rate], 
    [Project1].[Price_Exchange] AS [Price_Exchange], 
    [Project1].[Trade_Currency] AS [Trade_Currency], 
    [Project1].[Price_Curr] AS [Price_Curr], 
    [Project1].[Currency_Pair_Code] AS [Currency_Pair_Code], 
    [Project1].[Share_Class] AS [Share_Class], 
    [Project1].[Current_Market_Price] AS [Current_Market_Price], 
    [Project1].[Index_Type] AS [Index_Type], 
    [Project1].[Clean_Price_Formula] AS [Clean_Price_Formula], 
    [Project1].[Accrued_Income_Price_Formula] AS [Accrued_Income_Price_Formula], 
    [Project1].[Odd_First_Coupon_Date] AS [Odd_First_Coupon_Date], 
    [Project1].[Odd_Last_Coupon_Date] AS [Odd_Last_Coupon_Date], 
    [Project1].[Coupon_Anniversary_Indicator] AS [Coupon_Anniversary_Indicator], 
    [Project1].[Track_EOM_Flag] AS [Track_EOM_Flag], 
    [Project1].[Next_Coupon_Date] AS [Next_Coupon_Date], 
    [Project1].[Previous_Coupon_Date] AS [Previous_Coupon_Date], 
    [Project1].[Payment_Frequency] AS [Payment_Frequency], 
    [Project1].[Coupon_BusDay_Adjustment] AS [Coupon_BusDay_Adjustment], 
    [Project1].[Next_Ex_Div_Date] AS [Next_Ex_Div_Date], 
    [Project1].[Ex_Div_BusDay_Adjustment] AS [Ex_Div_BusDay_Adjustment], 
    [Project1].[Ex_Div_Period] AS [Ex_Div_Period], 
    [Project1].[Ticker] AS [Ticker], 
    [Project1].[Inet_ID] AS [Inet_ID], 
    [Project1].[Bloomberg_ID] AS [Bloomberg_ID], 
    [Project1].[External_Sec_ID] AS [External_Sec_ID], 
    [Project1].[Reuters_ID] AS [Reuters_ID], 
    [Project1].[ISIN] AS [ISIN], 
    [Project1].[Call_Account_Flag] AS [Call_Account_Flag], 
    [Project1].[System_Locked] AS [System_Locked], 
    [Project1].[Last_Update_User] AS [Last_Update_User], 
    [Project1].[Last_Update_Date] AS [Last_Update_Date], 
    [Project1].[Security_Status] AS [Security_Status], 
    [Project1].[Benchmark_Portfolio] AS [Benchmark_Portfolio], 
    [Project1].[Active_flag] AS [Active_flag], 
    [Project1].[Dividend_FX_Security_ID] AS [Dividend_FX_Security_ID]
    FROM ( SELECT 
        [Extent1].[Security_ID] AS [Security_ID], 
        [Extent1].[Entity_ID] AS [Entity_ID], 
        [Extent1].[Security_Name] AS [Security_Name], 
        [Extent1].[Short_Name] AS [Short_Name], 
        [Extent1].[Primary_Exch] AS [Primary_Exch], 
        [Extent1].[Secondary_Exch] AS [Secondary_Exch], 
        [Extent1].[Country_Of_Domicile] AS [Country_Of_Domicile], 
        [Extent1].[Country_Of_Risk] AS [Country_Of_Risk], 
        [Extent1].[Security_Type_Code] AS [Security_Type_Code], 
        [Extent1].[Price_Multiplier] AS [Price_Multiplier], 
        [Extent1].[Income_Frequency] AS [Income_Frequency], 
        [Extent1].[Issuer_Code] AS [Issuer_Code], 
        [Extent1].[Ultimate_Issuer_Code] AS [Ultimate_Issuer_Code], 
        [Extent1].[Asset_Currency] AS [Asset_Currency], 
        [Extent1].[Min_Lot_Size] AS [Min_Lot_Size], 
        [Extent1].[Decimal_Precision] AS [Decimal_Precision], 
        [Extent1].[AvePrice_Rounding] AS [AvePrice_Rounding], 
        [Extent1].[Issue_Date] AS [Issue_Date], 
        [Extent1].[Maturity_Date] AS [Maturity_Date], 
        [Extent1].[Coupon_Rate] AS [Coupon_Rate], 
        [Extent1].[Price_Exchange] AS [Price_Exchange], 
        [Extent1].[Trade_Currency] AS [Trade_Currency], 
        [Extent1].[Price_Curr] AS [Price_Curr], 
        [Extent1].[Currency_Pair_Code] AS [Currency_Pair_Code], 
        [Extent1].[Share_Class] AS [Share_Class], 
        [Extent1].[Current_Market_Price] AS [Current_Market_Price], 
        [Extent1].[Index_Type] AS [Index_Type], 
        [Extent1].[Clean_Price_Formula] AS [Clean_Price_Formula], 
        [Extent1].[Accrued_Income_Price_Formula] AS [Accrued_Income_Price_Formula], 
        [Extent1].[Odd_First_Coupon_Date] AS [Odd_First_Coupon_Date], 
        [Extent1].[Odd_Last_Coupon_Date] AS [Odd_Last_Coupon_Date], 
        [Extent1].[Coupon_Anniversary_Indicator] AS [Coupon_Anniversary_Indicator], 
        [Extent1].[Track_EOM_Flag] AS [Track_EOM_Flag], 
        [Extent1].[Next_Coupon_Date] AS [Next_Coupon_Date], 
        [Extent1].[Previous_Coupon_Date] AS [Previous_Coupon_Date], 
        [Extent1].[Payment_Frequency] AS [Payment_Frequency], 
        [Extent1].[Coupon_BusDay_Adjustment] AS [Coupon_BusDay_Adjustment], 
        [Extent1].[Next_Ex_Div_Date] AS [Next_Ex_Div_Date], 
        [Extent1].[Ex_Div_BusDay_Adjustment] AS [Ex_Div_BusDay_Adjustment], 
        [Extent1].[Ex_Div_Period] AS [Ex_Div_Period], 
        [Extent1].[Ticker] AS [Ticker], 
        [Extent1].[Inet_ID] AS [Inet_ID], 
        [Extent1].[Bloomberg_ID] AS [Bloomberg_ID], 
        [Extent1].[External_Sec_ID] AS [External_Sec_ID], 
        [Extent1].[Reuters_ID] AS [Reuters_ID], 
        [Extent1].[ISIN] AS [ISIN], 
        [Extent1].[Call_Account_Flag] AS [Call_Account_Flag], 
        [Extent1].[System_Locked] AS [System_Locked], 
        [Extent1].[Last_Update_User] AS [Last_Update_User], 
        [Extent1].[Last_Update_Date] AS [Last_Update_Date], 
        [Extent1].[Security_Status] AS [Security_Status], 
        [Extent1].[Benchmark_Portfolio] AS [Benchmark_Portfolio], 
        [Extent1].[Active_flag] AS [Active_flag], 
        [Extent1].[Dividend_FX_Security_ID] AS [Dividend_FX_Security_ID]
        FROM [dbo].[Security_Detail] AS [Extent1]
        WHERE ([Extent1].[Entity_ID] IN (@p__linq__0,@p__linq__1)) AND ((CASE WHEN ( NOT ((N'' = @p__linq__2) AND (@p__linq__2 IS NOT NULL))) THEN CASE WHEN ([Extent1].[Security_Type_Code] = @p__linq__3) THEN cast(1 as bit) WHEN ( NOT (([Extent1].[Security_Type_Code] = @p__linq__3) AND (0 = (CASE WHEN (@p__linq__3 IS NULL) THEN cast(1 as bit) ELSE cast(0 as bit) END)))) THEN cast(0 as bit) END WHEN ('' <> [Extent1].[Security_Type_Code]) THEN cast(1 as bit) WHEN ('' = [Extent1].[Security_Type_Code]) THEN cast(0 as bit) END) = 1)
    )  AS [Project1]
    ORDER BY [Project1].[Security_Name] ASC
2018-04-07 18:35:14.8163|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: IF db_id(N'MetopeAzureDb') IS NOT NULL SELECT 1 ELSE SELECT Count(*) FROM sys.databases WHERE [name]=N'MetopeAzureDb'
2018-04-07 18:35:14.9139|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: IF db_id(N'MetopeAzureDb') IS NOT NULL SELECT 1 ELSE SELECT Count(*) FROM sys.databases WHERE [name]=N'MetopeAzureDb'
2018-04-07 18:35:15.0044|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: IF db_id(N'MetopeAzureDb') IS NOT NULL SELECT 1 ELSE SELECT Count(*) FROM sys.databases WHERE [name]=N'MetopeAzureDb'
2018-04-07 18:35:15.0410|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: IF db_id(N'MetopeAzureDb') IS NOT NULL SELECT 1 ELSE SELECT Count(*) FROM sys.databases WHERE [name]=N'MetopeAzureDb'
2018-04-07 18:37:13.4266|ERROR|ASP.MetopeNspace.MvcApplication|Error caught in Application_Error event
, http://localhost:53133/SecurityAnalyticsHistory/Create?SecurityId=49 
 Error in: Cannot convert type 'int' to 'System.Web.Mvc.SelectList', 
Stack Trace:   at CallSite.Target(Closure , CallSite , Object )
   at System.Dynamic.UpdateDelegates.UpdateAndExecute1[T0,TRet](CallSite site, T0 arg0)
   at ASP._Page_Views_SecurityAnalyticsHistory_Create_cshtml.Execute() in c:\BlueStream\Development\Metope\WebSite\MetopeMVCApp\MetopeMVCApp\Views\SecurityAnalyticsHistory\Create.cshtml:line 19
   at System.Web.WebPages.WebPageBase.ExecutePageHierarchy()
   at System.Web.Mvc.WebViewPage.ExecutePageHierarchy()
   at System.Web.WebPages.StartPage.RunPage()
   at System.Web.WebPages.StartPage.ExecutePageHierarchy()
   at System.Web.WebPages.WebPageBase.ExecutePageHierarchy(WebPageContext pageContext, TextWriter writer, WebPageRenderingBase startPage)
   at System.Web.Mvc.RazorView.RenderView(ViewContext viewContext, TextWriter writer, Object instance)
   at System.Web.Mvc.BuildManagerCompiledView.Render(ViewContext viewContext, TextWriter writer)
   at System.Web.Mvc.ViewResultBase.ExecuteResult(ControllerContext context)
   at System.Web.Mvc.ControllerActionInvoker.InvokeActionResult(ControllerContext controllerContext, ActionResult actionResult)
   at System.Web.Mvc.ControllerActionInvoker.InvokeActionResultFilterRecursive(IList`1 filters, Int32 filterIndex, ResultExecutingContext preContext, ControllerContext controllerContext, ActionResult actionResult)
   at System.Web.Mvc.ControllerActionInvoker.InvokeActionResultFilterRecursive(IList`1 filters, Int32 filterIndex, ResultExecutingContext preContext, ControllerContext controllerContext, ActionResult actionResult)
   at System.Web.Mvc.ControllerActionInvoker.InvokeActionResultFilterRecursive(IList`1 filters, Int32 filterIndex, ResultExecutingContext preContext, ControllerContext controllerContext, ActionResult actionResult)
   at System.Web.Mvc.ControllerActionInvoker.InvokeActionResultFilterRecursive(IList`1 filters, Int32 filterIndex, ResultExecutingContext preContext, ControllerContext controllerContext, ActionResult actionResult)
   at System.Web.Mvc.ControllerActionInvoker.InvokeActionResultFilterRecursive(IList`1 filters, Int32 filterIndex, ResultExecutingContext preContext, ControllerContext controllerContext, ActionResult actionResult)
   at System.Web.Mvc.ControllerActionInvoker.InvokeActionResultWithFilters(ControllerContext controllerContext, IList`1 filters, ActionResult actionResult)
   at System.Web.Mvc.Async.AsyncControllerActionInvoker.<>c__DisplayClass21.<>c__DisplayClass2b.<BeginInvokeAction>b__1c()
   at System.Web.Mvc.Async.AsyncControllerActionInvoker.<>c__DisplayClass21.<BeginInvokeAction>b__1e(IAsyncResult asyncResult)
   at System.Web.Mvc.Async.AsyncResultWrapper.WrappedAsyncResult`1.CallEndDelegate(IAsyncResult asyncResult)
   at System.Web.Mvc.Async.AsyncResultWrapper.WrappedAsyncResultBase`1.End()
   at System.Web.Mvc.Async.AsyncControllerActionInvoker.EndInvokeAction(IAsyncResult asyncResult)
   at System.Web.Mvc.Controller.<BeginExecuteCore>b__1d(IAsyncResult asyncResult, ExecuteCoreState innerState)
   at System.Web.Mvc.Async.AsyncResultWrapper.WrappedAsyncVoid`1.CallEndDelegate(IAsyncResult asyncResult)
   at System.Web.Mvc.Async.AsyncResultWrapper.WrappedAsyncResultBase`1.End()
   at System.Web.Mvc.Controller.EndExecuteCore(IAsyncResult asyncResult)
   at System.Web.Mvc.Controller.<BeginExecute>b__15(IAsyncResult asyncResult, Controller controller)
   at System.Web.Mvc.Async.AsyncResultWrapper.WrappedAsyncVoid`1.CallEndDelegate(IAsyncResult asyncResult)
   at System.Web.Mvc.Async.AsyncResultWrapper.WrappedAsyncResultBase`1.End()
   at System.Web.Mvc.Controller.EndExecute(IAsyncResult asyncResult)
   at System.Web.Mvc.Controller.System.Web.Mvc.Async.IAsyncController.EndExecute(IAsyncResult asyncResult)
   at System.Web.Mvc.MvcHandler.<BeginProcessRequest>b__5(IAsyncResult asyncResult, ProcessRequestState innerState)
   at System.Web.Mvc.Async.AsyncResultWrapper.WrappedAsyncVoid`1.CallEndDelegate(IAsyncResult asyncResult)
   at System.Web.Mvc.Async.AsyncResultWrapper.WrappedAsyncResultBase`1.End()
   at System.Web.Mvc.MvcHandler.EndProcessRequest(IAsyncResult asyncResult)
   at System.Web.Mvc.MvcHandler.System.Web.IHttpAsyncHandler.EndProcessRequest(IAsyncResult result)
   at System.Web.HttpApplication.CallHandlerExecutionStep.System.Web.HttpApplication.IExecutionStep.Execute()
   at System.Web.HttpApplication.ExecuteStepImpl(IExecutionStep step)
   at System.Web.HttpApplication.ExecuteStep(IExecutionStep step, Boolean& completedSynchronously)
Session: Identity name:aaaaaa IsAuthenticated:True 
2018-04-07 18:37:17.5030|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: IF db_id(N'MetopeAzureDb') IS NOT NULL SELECT 1 ELSE SELECT Count(*) FROM sys.databases WHERE [name]=N'MetopeAzureDb'
2018-04-07 18:37:17.5441|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: IF db_id(N'MetopeAzureDb') IS NOT NULL SELECT 1 ELSE SELECT Count(*) FROM sys.databases WHERE [name]=N'MetopeAzureDb'
2018-04-07 18:37:17.5876|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: IF db_id(N'MetopeAzureDb') IS NOT NULL SELECT 1 ELSE SELECT Count(*) FROM sys.databases WHERE [name]=N'MetopeAzureDb'
2018-04-07 18:37:17.6226|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: IF db_id(N'MetopeAzureDb') IS NOT NULL SELECT 1 ELSE SELECT Count(*) FROM sys.databases WHERE [name]=N'MetopeAzureDb'
2018-04-07 18:38:43.0699|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: select cast(serverproperty('EngineEdition') as int)
2018-04-07 18:38:43.1054|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: select cast(serverproperty('EngineEdition') as int)
2018-04-07 18:38:43.9815|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: IF db_id(N'MetopeAzureDb') IS NOT NULL SELECT 1 ELSE SELECT Count(*) FROM sys.databases WHERE [name]=N'MetopeAzureDb'
2018-04-07 18:38:43.9915|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: IF db_id(N'MetopeAzureDb') IS NOT NULL SELECT 1 ELSE SELECT Count(*) FROM sys.databases WHERE [name]=N'MetopeAzureDb'
2018-04-07 18:38:44.0481|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: IF db_id(N'MetopeAzureDb') IS NOT NULL SELECT 1 ELSE SELECT Count(*) FROM sys.databases WHERE [name]=N'MetopeAzureDb'
2018-04-07 18:38:44.0481|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: IF db_id(N'MetopeAzureDb') IS NOT NULL SELECT 1 ELSE SELECT Count(*) FROM sys.databases WHERE [name]=N'MetopeAzureDb'
2018-04-07 18:38:44.0786|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: 
SELECT Count(*)
FROM INFORMATION_SCHEMA.TABLES AS t
WHERE t.TABLE_SCHEMA + '.' + t.TABLE_NAME IN ('dbo.AspNetRoles','dbo.AspNetUserRoles','dbo.AspNetUsers','dbo.AspNetUserClaims','dbo.AspNetUserLogins')
    OR t.TABLE_NAME = 'EdmMetadata'
2018-04-07 18:38:44.1046|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: 
SELECT Count(*)
FROM INFORMATION_SCHEMA.TABLES AS t
WHERE t.TABLE_SCHEMA + '.' + t.TABLE_NAME IN ('dbo.AspNetRoles','dbo.AspNetUserRoles','dbo.AspNetUsers','dbo.AspNetUserClaims','dbo.AspNetUserLogins')
    OR t.TABLE_NAME = 'EdmMetadata'
2018-04-07 18:38:45.2399|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: SELECT 
    [GroupBy1].[A1] AS [C1]
    FROM ( SELECT 
        COUNT(1) AS [A1]
        FROM [dbo].[__MigrationHistory] AS [Extent1]
        WHERE [Extent1].[ContextKey] = @p__linq__0
    )  AS [GroupBy1]
2018-04-07 18:38:45.2494|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: SELECT 
    [GroupBy1].[A1] AS [C1]
    FROM ( SELECT 
        COUNT(1) AS [A1]
        FROM [dbo].[__MigrationHistory] AS [Extent1]
        WHERE [Extent1].[ContextKey] = @p__linq__0
    )  AS [GroupBy1]
2018-04-07 18:38:45.3490|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: SELECT TOP (1) 
    [Project1].[C1] AS [C1], 
    [Project1].[MigrationId] AS [MigrationId], 
    [Project1].[Model] AS [Model], 
    [Project1].[ProductVersion] AS [ProductVersion]
    FROM ( SELECT 
        [Extent1].[MigrationId] AS [MigrationId], 
        [Extent1].[Model] AS [Model], 
        [Extent1].[ProductVersion] AS [ProductVersion], 
        1 AS [C1]
        FROM [dbo].[__MigrationHistory] AS [Extent1]
        WHERE [Extent1].[ContextKey] = @p__linq__0
    )  AS [Project1]
    ORDER BY [Project1].[MigrationId] DESC
2018-04-07 18:38:45.3490|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: SELECT TOP (1) 
    [Project1].[C1] AS [C1], 
    [Project1].[MigrationId] AS [MigrationId], 
    [Project1].[Model] AS [Model], 
    [Project1].[ProductVersion] AS [ProductVersion]
    FROM ( SELECT 
        [Extent1].[MigrationId] AS [MigrationId], 
        [Extent1].[Model] AS [Model], 
        [Extent1].[ProductVersion] AS [ProductVersion], 
        1 AS [C1]
        FROM [dbo].[__MigrationHistory] AS [Extent1]
        WHERE [Extent1].[ContextKey] = @p__linq__0
    )  AS [Project1]
    ORDER BY [Project1].[MigrationId] DESC
2018-04-07 18:38:45.7973|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: True, Command Text: SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[EntityIdScope] AS [EntityIdScope], 
    [Extent1].[Email] AS [Email], 
    [Extent1].[EmailConfirmed] AS [EmailConfirmed], 
    [Extent1].[PasswordHash] AS [PasswordHash], 
    [Extent1].[SecurityStamp] AS [SecurityStamp], 
    [Extent1].[PhoneNumber] AS [PhoneNumber], 
    [Extent1].[PhoneNumberConfirmed] AS [PhoneNumberConfirmed], 
    [Extent1].[TwoFactorEnabled] AS [TwoFactorEnabled], 
    [Extent1].[LockoutEndDateUtc] AS [LockoutEndDateUtc], 
    [Extent1].[LockoutEnabled] AS [LockoutEnabled], 
    [Extent1].[AccessFailedCount] AS [AccessFailedCount], 
    [Extent1].[UserName] AS [UserName]
    FROM [dbo].[AspNetUsers] AS [Extent1]
    WHERE [Extent1].[Id] = @p0
2018-04-07 18:38:45.7973|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: True, Command Text: SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[EntityIdScope] AS [EntityIdScope], 
    [Extent1].[Email] AS [Email], 
    [Extent1].[EmailConfirmed] AS [EmailConfirmed], 
    [Extent1].[PasswordHash] AS [PasswordHash], 
    [Extent1].[SecurityStamp] AS [SecurityStamp], 
    [Extent1].[PhoneNumber] AS [PhoneNumber], 
    [Extent1].[PhoneNumberConfirmed] AS [PhoneNumberConfirmed], 
    [Extent1].[TwoFactorEnabled] AS [TwoFactorEnabled], 
    [Extent1].[LockoutEndDateUtc] AS [LockoutEndDateUtc], 
    [Extent1].[LockoutEnabled] AS [LockoutEnabled], 
    [Extent1].[AccessFailedCount] AS [AccessFailedCount], 
    [Extent1].[UserName] AS [UserName]
    FROM [dbo].[AspNetUsers] AS [Extent1]
    WHERE [Extent1].[Id] = @p0
2018-04-07 18:38:46.0325|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: True, Command Text: SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[UserId] AS [UserId], 
    [Extent1].[ClaimType] AS [ClaimType], 
    [Extent1].[ClaimValue] AS [ClaimValue]
    FROM [dbo].[AspNetUserClaims] AS [Extent1]
    WHERE [Extent1].[UserId] = @p__linq__0
2018-04-07 18:38:46.1065|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: True, Command Text: SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[UserId] AS [UserId], 
    [Extent1].[ClaimType] AS [ClaimType], 
    [Extent1].[ClaimValue] AS [ClaimValue]
    FROM [dbo].[AspNetUserClaims] AS [Extent1]
    WHERE [Extent1].[UserId] = @p__linq__0
2018-04-07 18:38:46.1451|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: True, Command Text: SELECT 
    [Extent1].[LoginProvider] AS [LoginProvider], 
    [Extent1].[ProviderKey] AS [ProviderKey], 
    [Extent1].[UserId] AS [UserId]
    FROM [dbo].[AspNetUserLogins] AS [Extent1]
    WHERE [Extent1].[UserId] = @p__linq__0
2018-04-07 18:38:46.1651|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: True, Command Text: SELECT 
    [Extent1].[LoginProvider] AS [LoginProvider], 
    [Extent1].[ProviderKey] AS [ProviderKey], 
    [Extent1].[UserId] AS [UserId]
    FROM [dbo].[AspNetUserLogins] AS [Extent1]
    WHERE [Extent1].[UserId] = @p__linq__0
2018-04-07 18:38:46.1996|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: True, Command Text: SELECT 
    [Extent1].[UserId] AS [UserId], 
    [Extent1].[RoleId] AS [RoleId]
    FROM [dbo].[AspNetUserRoles] AS [Extent1]
    WHERE [Extent1].[UserId] = @p__linq__0
2018-04-07 18:38:46.2171|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: True, Command Text: SELECT 
    [Extent1].[UserId] AS [UserId], 
    [Extent1].[RoleId] AS [RoleId]
    FROM [dbo].[AspNetUserRoles] AS [Extent1]
    WHERE [Extent1].[UserId] = @p__linq__0
2018-04-07 18:38:46.9867|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: SELECT 
    [Project1].[Decimal_Precision] AS [Decimal_Precision], 
    [Project1].[Entity_ID] AS [Entity_ID], 
    [Project1].[Security_ID] AS [Security_ID], 
    [Project1].[Issued_Amount] AS [Issued_Amount], 
    [Project1].[Market_Capitalisation] AS [Market_Capitalisation], 
    [Project1].[Risk_Premium] AS [Risk_Premium], 
    [Project1].[Exit_Price] AS [Exit_Price], 
    [Project1].[Total_Return_ME_1YR] AS [Total_Return_ME_1YR], 
    [Project1].[Total_Return_ME_2YR] AS [Total_Return_ME_2YR], 
    [Project1].[Total_Return_ME_3YR] AS [Total_Return_ME_3YR], 
    [Project1].[Historic_Distribution] AS [Historic_Distribution], 
    [Project1].[Distribution_Growth_Forecast_Yr1] AS [Distribution_Growth_Forecast_Yr1], 
    [Project1].[Distribution_Growth_Forecast_Yr2] AS [Distribution_Growth_Forecast_Yr2], 
    [Project1].[Distribution_Growth_Forecast_Yr3] AS [Distribution_Growth_Forecast_Yr3], 
    [Project1].[Forecast_Distribution_Yr1] AS [Forecast_Distribution_Yr1], 
    [Project1].[Forecast_Distribution_Yr2] AS [Forecast_Distribution_Yr2], 
    [Project1].[Forecast_Distribution_Yr3] AS [Forecast_Distribution_Yr3], 
    [Project1].[Earnings_Growth_Compounded] AS [Earnings_Growth_Compounded], 
    [Project1].[Earnings_Forecast_Yr3] AS [Earnings_Forecast_Yr3], 
    [Project1].[Historic_Dividend_Yield_FYE] AS [Historic_Dividend_Yield_FYE], 
    [Project1].[Forward_Dividend_Yield_FYE] AS [Forward_Dividend_Yield_FYE], 
    [Project1].[Yr3_Forward_Dividend_Yield] AS [Yr3_Forward_Dividend_Yield], 
    [Project1].[Rolling_12M_Forward_Yield] AS [Rolling_12M_Forward_Yield], 
    [Project1].[Historical_Earnings_FYE] AS [Historical_Earnings_FYE], 
    [Project1].[Earnings_Forecast_Yr1] AS [Earnings_Forecast_Yr1], 
    [Project1].[Earnings_Forecast_Yr2] AS [Earnings_Forecast_Yr2], 
    [Project1].[Historic_Dividend_Yield_Relative] AS [Historic_Dividend_Yield_Relative], 
    [Project1].[Rolling_12M_Historic_Distribution_PriceCurr] AS [Rolling_12M_Historic_Distribution_PriceCurr], 
    [Project1].[Short_Term_Market_Rerate] AS [Short_Term_Market_Rerate], 
    [Project1].[Forecast_12M_Total_Return] AS [Forecast_12M_Total_Return], 
    [Project1].[Clean_Price] AS [Clean_Price], 
    [Project1].[Rolling_Dividend_Yield_Historic] AS [Rolling_Dividend_Yield_Historic], 
    [Project1].[Last_Update_Date] AS [Last_Update_Date], 
    [Project1].[Last_Update_User] AS [Last_Update_User], 
    [Project1].[Discount_Security_ID] AS [Discount_Security_ID], 
    [Project1].[Net_Present_Value] AS [Net_Present_Value], 
    [Project1].[Forecast_Rolling_Custom_Income] AS [Forecast_Rolling_Custom_Income], 
    [Project1].[Custom_Period] AS [Custom_Period], 
    [Project1].[Rolling_12M_Historic_Distribution] AS [Rolling_12M_Historic_Distribution], 
    [Project1].[Record_Date] AS [Record_Date], 
    [Project1].[Session_ID] AS [Session_ID], 
    [Project1].[Hist_Last_Update_Date] AS [Hist_Last_Update_Date], 
    [Project1].[Hist_Last_Update_User] AS [Hist_Last_Update_User], 
    [Project1].[Rolling_12M_Forecast_Distribution] AS [Rolling_12M_Forecast_Distribution], 
    [Project1].[Yr2_Forward_Dividend_Yield] AS [Yr2_Forward_Dividend_Yield], 
    [Project1].[Exit_Yield] AS [Exit_Yield], 
    [Project1].[Discount_Rate] AS [Discount_Rate], 
    [Project1].[Distribution_Growth_Compounded] AS [Distribution_Growth_Compounded], 
    [Project1].[Forecast_12MRolling_Income_Accrual] AS [Forecast_12MRolling_Income_Accrual], 
    [Project1].[Rolling_12_to_24M_Forecast_Distribution] AS [Rolling_12_to_24M_Forecast_Distribution], 
    [Project1].[Rolling_24_to_36M_Forecast_Distribution] AS [Rolling_24_to_36M_Forecast_Distribution], 
    [Project1].[Forecast_Yr1_Dividend_Yield_Relative] AS [Forecast_Yr1_Dividend_Yield_Relative], 
    [Project1].[Market_Historic_Yield] AS [Market_Historic_Yield], 
    [Project1].[Market_Forward_Yield] AS [Market_Forward_Yield], 
    [Project1].[Historic_Distribution_PriceCurr] AS [Historic_Distribution_PriceCurr], 
    [Project1].[Forecast_Distribution_Yr1_PriceCurr] AS [Forecast_Distribution_Yr1_PriceCurr], 
    [Project1].[Forecast_Distribution_Yr2_PriceCurr] AS [Forecast_Distribution_Yr2_PriceCurr], 
    [Project1].[Forecast_Distribution_Yr3_PriceCurr] AS [Forecast_Distribution_Yr3_PriceCurr], 
    [Project1].[Rolling_12M_Forecast_Distribution_PriceCurr] AS [Rolling_12M_Forecast_Distribution_PriceCurr], 
    [Project1].[Rolling_12_24M_Forecast_Distribution_PriceCurr] AS [Rolling_12_24M_Forecast_Distribution_PriceCurr], 
    [Project1].[Rolling_24_36M_Forecast_Distribution_PriceCurr] AS [Rolling_24_36M_Forecast_Distribution_PriceCurr], 
    [Project1].[Distribution_Growth_Forecast_Yr4] AS [Distribution_Growth_Forecast_Yr4], 
    [Project1].[Earnings_Forecast_Yr4] AS [Earnings_Forecast_Yr4], 
    [Project1].[Forecast_Distribution_Yr4] AS [Forecast_Distribution_Yr4], 
    [Project1].[Forecast_Distribution_Yr4_PriceCurr] AS [Forecast_Distribution_Yr4_PriceCurr], 
    [Project1].[Security_ID1] AS [Security_ID1], 
    [Project1].[Entity_ID1] AS [Entity_ID1], 
    [Project1].[Security_Name] AS [Security_Name], 
    [Project1].[Short_Name] AS [Short_Name], 
    [Project1].[Primary_Exch] AS [Primary_Exch], 
    [Project1].[Secondary_Exch] AS [Secondary_Exch], 
    [Project1].[Country_Of_Domicile] AS [Country_Of_Domicile], 
    [Project1].[Country_Of_Risk] AS [Country_Of_Risk], 
    [Project1].[Security_Type_Code] AS [Security_Type_Code], 
    [Project1].[Price_Multiplier] AS [Price_Multiplier], 
    [Project1].[Income_Frequency] AS [Income_Frequency], 
    [Project1].[Issuer_Code] AS [Issuer_Code], 
    [Project1].[Ultimate_Issuer_Code] AS [Ultimate_Issuer_Code], 
    [Project1].[Asset_Currency] AS [Asset_Currency], 
    [Project1].[Min_Lot_Size] AS [Min_Lot_Size], 
    [Project1].[AvePrice_Rounding] AS [AvePrice_Rounding], 
    [Project1].[Issue_Date] AS [Issue_Date], 
    [Project1].[Maturity_Date] AS [Maturity_Date], 
    [Project1].[Coupon_Rate] AS [Coupon_Rate], 
    [Project1].[Price_Exchange] AS [Price_Exchange], 
    [Project1].[Trade_Currency] AS [Trade_Currency], 
    [Project1].[Price_Curr] AS [Price_Curr], 
    [Project1].[Currency_Pair_Code] AS [Currency_Pair_Code], 
    [Project1].[Share_Class] AS [Share_Class], 
    [Project1].[Current_Market_Price] AS [Current_Market_Price], 
    [Project1].[Index_Type] AS [Index_Type], 
    [Project1].[Clean_Price_Formula] AS [Clean_Price_Formula], 
    [Project1].[Accrued_Income_Price_Formula] AS [Accrued_Income_Price_Formula], 
    [Project1].[Odd_First_Coupon_Date] AS [Odd_First_Coupon_Date], 
    [Project1].[Odd_Last_Coupon_Date] AS [Odd_Last_Coupon_Date], 
    [Project1].[Coupon_Anniversary_Indicator] AS [Coupon_Anniversary_Indicator], 
    [Project1].[Track_EOM_Flag] AS [Track_EOM_Flag], 
    [Project1].[Next_Coupon_Date] AS [Next_Coupon_Date], 
    [Project1].[Previous_Coupon_Date] AS [Previous_Coupon_Date], 
    [Project1].[Payment_Frequency] AS [Payment_Frequency], 
    [Project1].[Coupon_BusDay_Adjustment] AS [Coupon_BusDay_Adjustment], 
    [Project1].[Next_Ex_Div_Date] AS [Next_Ex_Div_Date], 
    [Project1].[Ex_Div_BusDay_Adjustment] AS [Ex_Div_BusDay_Adjustment], 
    [Project1].[Ex_Div_Period] AS [Ex_Div_Period], 
    [Project1].[Ticker] AS [Ticker], 
    [Project1].[Inet_ID] AS [Inet_ID], 
    [Project1].[Bloomberg_ID] AS [Bloomberg_ID], 
    [Project1].[External_Sec_ID] AS [External_Sec_ID], 
    [Project1].[Reuters_ID] AS [Reuters_ID], 
    [Project1].[ISIN] AS [ISIN], 
    [Project1].[Call_Account_Flag] AS [Call_Account_Flag], 
    [Project1].[System_Locked] AS [System_Locked], 
    [Project1].[Last_Update_User1] AS [Last_Update_User1], 
    [Project1].[Last_Update_Date1] AS [Last_Update_Date1], 
    [Project1].[Security_Status] AS [Security_Status], 
    [Project1].[Benchmark_Portfolio] AS [Benchmark_Portfolio], 
    [Project1].[Active_flag] AS [Active_flag], 
    [Project1].[Dividend_FX_Security_ID] AS [Dividend_FX_Security_ID]
    FROM ( SELECT 
        [Extent1].[Entity_ID] AS [Entity_ID], 
        [Extent1].[Security_ID] AS [Security_ID], 
        [Extent1].[Issued_Amount] AS [Issued_Amount], 
        [Extent1].[Market_Capitalisation] AS [Market_Capitalisation], 
        [Extent1].[Risk_Premium] AS [Risk_Premium], 
        [Extent1].[Exit_Price] AS [Exit_Price], 
        [Extent1].[Total_Return_ME_1YR] AS [Total_Return_ME_1YR], 
        [Extent1].[Total_Return_ME_2YR] AS [Total_Return_ME_2YR], 
        [Extent1].[Total_Return_ME_3YR] AS [Total_Return_ME_3YR], 
        [Extent1].[Historic_Distribution] AS [Historic_Distribution], 
        [Extent1].[Distribution_Growth_Forecast_Yr1] AS [Distribution_Growth_Forecast_Yr1], 
        [Extent1].[Distribution_Growth_Forecast_Yr2] AS [Distribution_Growth_Forecast_Yr2], 
        [Extent1].[Distribution_Growth_Forecast_Yr3] AS [Distribution_Growth_Forecast_Yr3], 
        [Extent1].[Forecast_Distribution_Yr1] AS [Forecast_Distribution_Yr1], 
        [Extent1].[Forecast_Distribution_Yr2] AS [Forecast_Distribution_Yr2], 
        [Extent1].[Forecast_Distribution_Yr3] AS [Forecast_Distribution_Yr3], 
        [Extent1].[Earnings_Growth_Compounded] AS [Earnings_Growth_Compounded], 
        [Extent1].[Earnings_Forecast_Yr3] AS [Earnings_Forecast_Yr3], 
        [Extent1].[Historic_Dividend_Yield_FYE] AS [Historic_Dividend_Yield_FYE], 
        [Extent1].[Forward_Dividend_Yield_FYE] AS [Forward_Dividend_Yield_FYE], 
        [Extent1].[Yr3_Forward_Dividend_Yield] AS [Yr3_Forward_Dividend_Yield], 
        [Extent1].[Rolling_12M_Forward_Yield] AS [Rolling_12M_Forward_Yield], 
        [Extent1].[Historical_Earnings_FYE] AS [Historical_Earnings_FYE], 
        [Extent1].[Earnings_Forecast_Yr1] AS [Earnings_Forecast_Yr1], 
        [Extent1].[Earnings_Forecast_Yr2] AS [Earnings_Forecast_Yr2], 
        [Extent1].[Historic_Dividend_Yield_Relative] AS [Historic_Dividend_Yield_Relative], 
        [Extent1].[Rolling_12M_Historic_Distribution_PriceCurr] AS [Rolling_12M_Historic_Distribution_PriceCurr], 
        [Extent1].[Short_Term_Market_Rerate] AS [Short_Term_Market_Rerate], 
        [Extent1].[Forecast_12M_Total_Return] AS [Forecast_12M_Total_Return], 
        [Extent1].[Clean_Price] AS [Clean_Price], 
        [Extent1].[Rolling_Dividend_Yield_Historic] AS [Rolling_Dividend_Yield_Historic], 
        [Extent1].[Last_Update_Date] AS [Last_Update_Date], 
        [Extent1].[Last_Update_User] AS [Last_Update_User], 
        [Extent1].[Discount_Security_ID] AS [Discount_Security_ID], 
        [Extent1].[Net_Present_Value] AS [Net_Present_Value], 
        [Extent1].[Forecast_Rolling_Custom_Income] AS [Forecast_Rolling_Custom_Income], 
        [Extent1].[Custom_Period] AS [Custom_Period], 
        [Extent1].[Rolling_12M_Historic_Distribution] AS [Rolling_12M_Historic_Distribution], 
        [Extent1].[Record_Date] AS [Record_Date], 
        [Extent1].[Session_ID] AS [Session_ID], 
        [Extent1].[Hist_Last_Update_Date] AS [Hist_Last_Update_Date], 
        [Extent1].[Hist_Last_Update_User] AS [Hist_Last_Update_User], 
        [Extent1].[Rolling_12M_Forecast_Distribution] AS [Rolling_12M_Forecast_Distribution], 
        [Extent1].[Yr2_Forward_Dividend_Yield] AS [Yr2_Forward_Dividend_Yield], 
        [Extent1].[Exit_Yield] AS [Exit_Yield], 
        [Extent1].[Discount_Rate] AS [Discount_Rate], 
        [Extent1].[Distribution_Growth_Compounded] AS [Distribution_Growth_Compounded], 
        [Extent1].[Forecast_12MRolling_Income_Accrual] AS [Forecast_12MRolling_Income_Accrual], 
        [Extent1].[Rolling_12_to_24M_Forecast_Distribution] AS [Rolling_12_to_24M_Forecast_Distribution], 
        [Extent1].[Rolling_24_to_36M_Forecast_Distribution] AS [Rolling_24_to_36M_Forecast_Distribution], 
        [Extent1].[Forecast_Yr1_Dividend_Yield_Relative] AS [Forecast_Yr1_Dividend_Yield_Relative], 
        [Extent1].[Market_Historic_Yield] AS [Market_Historic_Yield], 
        [Extent1].[Market_Forward_Yield] AS [Market_Forward_Yield], 
        [Extent1].[Historic_Distribution_PriceCurr] AS [Historic_Distribution_PriceCurr], 
        [Extent1].[Forecast_Distribution_Yr1_PriceCurr] AS [Forecast_Distribution_Yr1_PriceCurr], 
        [Extent1].[Forecast_Distribution_Yr2_PriceCurr] AS [Forecast_Distribution_Yr2_PriceCurr], 
        [Extent1].[Forecast_Distribution_Yr3_PriceCurr] AS [Forecast_Distribution_Yr3_PriceCurr], 
        [Extent1].[Rolling_12M_Forecast_Distribution_PriceCurr] AS [Rolling_12M_Forecast_Distribution_PriceCurr], 
        [Extent1].[Rolling_12_24M_Forecast_Distribution_PriceCurr] AS [Rolling_12_24M_Forecast_Distribution_PriceCurr], 
        [Extent1].[Rolling_24_36M_Forecast_Distribution_PriceCurr] AS [Rolling_24_36M_Forecast_Distribution_PriceCurr], 
        [Extent1].[Distribution_Growth_Forecast_Yr4] AS [Distribution_Growth_Forecast_Yr4], 
        [Extent1].[Earnings_Forecast_Yr4] AS [Earnings_Forecast_Yr4], 
        [Extent1].[Forecast_Distribution_Yr4] AS [Forecast_Distribution_Yr4], 
        [Extent1].[Forecast_Distribution_Yr4_PriceCurr] AS [Forecast_Distribution_Yr4_PriceCurr], 
        [Extent2].[Security_ID] AS [Security_ID1], 
        [Extent2].[Entity_ID] AS [Entity_ID1], 
        [Extent2].[Security_Name] AS [Security_Name], 
        [Extent2].[Short_Name] AS [Short_Name], 
        [Extent2].[Primary_Exch] AS [Primary_Exch], 
        [Extent2].[Secondary_Exch] AS [Secondary_Exch], 
        [Extent2].[Country_Of_Domicile] AS [Country_Of_Domicile], 
        [Extent2].[Country_Of_Risk] AS [Country_Of_Risk], 
        [Extent2].[Security_Type_Code] AS [Security_Type_Code], 
        [Extent2].[Price_Multiplier] AS [Price_Multiplier], 
        [Extent2].[Income_Frequency] AS [Income_Frequency], 
        [Extent2].[Issuer_Code] AS [Issuer_Code], 
        [Extent2].[Ultimate_Issuer_Code] AS [Ultimate_Issuer_Code], 
        [Extent2].[Asset_Currency] AS [Asset_Currency], 
        [Extent2].[Min_Lot_Size] AS [Min_Lot_Size], 
        [Extent2].[Decimal_Precision] AS [Decimal_Precision], 
        [Extent2].[AvePrice_Rounding] AS [AvePrice_Rounding], 
        [Extent2].[Issue_Date] AS [Issue_Date], 
        [Extent2].[Maturity_Date] AS [Maturity_Date], 
        [Extent2].[Coupon_Rate] AS [Coupon_Rate], 
        [Extent2].[Price_Exchange] AS [Price_Exchange], 
        [Extent2].[Trade_Currency] AS [Trade_Currency], 
        [Extent2].[Price_Curr] AS [Price_Curr], 
        [Extent2].[Currency_Pair_Code] AS [Currency_Pair_Code], 
        [Extent2].[Share_Class] AS [Share_Class], 
        [Extent2].[Current_Market_Price] AS [Current_Market_Price], 
        [Extent2].[Index_Type] AS [Index_Type], 
        [Extent2].[Clean_Price_Formula] AS [Clean_Price_Formula], 
        [Extent2].[Accrued_Income_Price_Formula] AS [Accrued_Income_Price_Formula], 
        [Extent2].[Odd_First_Coupon_Date] AS [Odd_First_Coupon_Date], 
        [Extent2].[Odd_Last_Coupon_Date] AS [Odd_Last_Coupon_Date], 
        [Extent2].[Coupon_Anniversary_Indicator] AS [Coupon_Anniversary_Indicator], 
        [Extent2].[Track_EOM_Flag] AS [Track_EOM_Flag], 
        [Extent2].[Next_Coupon_Date] AS [Next_Coupon_Date], 
        [Extent2].[Previous_Coupon_Date] AS [Previous_Coupon_Date], 
        [Extent2].[Payment_Frequency] AS [Payment_Frequency], 
        [Extent2].[Coupon_BusDay_Adjustment] AS [Coupon_BusDay_Adjustment], 
        [Extent2].[Next_Ex_Div_Date] AS [Next_Ex_Div_Date], 
        [Extent2].[Ex_Div_BusDay_Adjustment] AS [Ex_Div_BusDay_Adjustment], 
        [Extent2].[Ex_Div_Period] AS [Ex_Div_Period], 
        [Extent2].[Ticker] AS [Ticker], 
        [Extent2].[Inet_ID] AS [Inet_ID], 
        [Extent2].[Bloomberg_ID] AS [Bloomberg_ID], 
        [Extent2].[External_Sec_ID] AS [External_Sec_ID], 
        [Extent2].[Reuters_ID] AS [Reuters_ID], 
        [Extent2].[ISIN] AS [ISIN], 
        [Extent2].[Call_Account_Flag] AS [Call_Account_Flag], 
        [Extent2].[System_Locked] AS [System_Locked], 
        [Extent2].[Last_Update_User] AS [Last_Update_User1], 
        [Extent2].[Last_Update_Date] AS [Last_Update_Date1], 
        [Extent2].[Security_Status] AS [Security_Status], 
        [Extent2].[Benchmark_Portfolio] AS [Benchmark_Portfolio], 
        [Extent2].[Active_flag] AS [Active_flag], 
        [Extent2].[Dividend_FX_Security_ID] AS [Dividend_FX_Security_ID]
        FROM  [dbo].[Security_Analytics_History] AS [Extent1]
        INNER JOIN [dbo].[Security_Detail] AS [Extent2] ON [Extent1].[Security_ID] = [Extent2].[Security_ID]
        WHERE [Extent1].[Security_ID] = @p__linq__0
    )  AS [Project1]
    ORDER BY [Project1].[Record_Date] DESC
2018-04-07 18:38:47.0142|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: SELECT 
    [Project1].[Decimal_Precision] AS [Decimal_Precision], 
    [Project1].[Entity_ID] AS [Entity_ID], 
    [Project1].[Security_ID] AS [Security_ID], 
    [Project1].[Issued_Amount] AS [Issued_Amount], 
    [Project1].[Market_Capitalisation] AS [Market_Capitalisation], 
    [Project1].[Risk_Premium] AS [Risk_Premium], 
    [Project1].[Exit_Price] AS [Exit_Price], 
    [Project1].[Total_Return_ME_1YR] AS [Total_Return_ME_1YR], 
    [Project1].[Total_Return_ME_2YR] AS [Total_Return_ME_2YR], 
    [Project1].[Total_Return_ME_3YR] AS [Total_Return_ME_3YR], 
    [Project1].[Historic_Distribution] AS [Historic_Distribution], 
    [Project1].[Distribution_Growth_Forecast_Yr1] AS [Distribution_Growth_Forecast_Yr1], 
    [Project1].[Distribution_Growth_Forecast_Yr2] AS [Distribution_Growth_Forecast_Yr2], 
    [Project1].[Distribution_Growth_Forecast_Yr3] AS [Distribution_Growth_Forecast_Yr3], 
    [Project1].[Forecast_Distribution_Yr1] AS [Forecast_Distribution_Yr1], 
    [Project1].[Forecast_Distribution_Yr2] AS [Forecast_Distribution_Yr2], 
    [Project1].[Forecast_Distribution_Yr3] AS [Forecast_Distribution_Yr3], 
    [Project1].[Earnings_Growth_Compounded] AS [Earnings_Growth_Compounded], 
    [Project1].[Earnings_Forecast_Yr3] AS [Earnings_Forecast_Yr3], 
    [Project1].[Historic_Dividend_Yield_FYE] AS [Historic_Dividend_Yield_FYE], 
    [Project1].[Forward_Dividend_Yield_FYE] AS [Forward_Dividend_Yield_FYE], 
    [Project1].[Yr3_Forward_Dividend_Yield] AS [Yr3_Forward_Dividend_Yield], 
    [Project1].[Rolling_12M_Forward_Yield] AS [Rolling_12M_Forward_Yield], 
    [Project1].[Historical_Earnings_FYE] AS [Historical_Earnings_FYE], 
    [Project1].[Earnings_Forecast_Yr1] AS [Earnings_Forecast_Yr1], 
    [Project1].[Earnings_Forecast_Yr2] AS [Earnings_Forecast_Yr2], 
    [Project1].[Historic_Dividend_Yield_Relative] AS [Historic_Dividend_Yield_Relative], 
    [Project1].[Rolling_12M_Historic_Distribution_PriceCurr] AS [Rolling_12M_Historic_Distribution_PriceCurr], 
    [Project1].[Short_Term_Market_Rerate] AS [Short_Term_Market_Rerate], 
    [Project1].[Forecast_12M_Total_Return] AS [Forecast_12M_Total_Return], 
    [Project1].[Clean_Price] AS [Clean_Price], 
    [Project1].[Rolling_Dividend_Yield_Historic] AS [Rolling_Dividend_Yield_Historic], 
    [Project1].[Last_Update_Date] AS [Last_Update_Date], 
    [Project1].[Last_Update_User] AS [Last_Update_User], 
    [Project1].[Discount_Security_ID] AS [Discount_Security_ID], 
    [Project1].[Net_Present_Value] AS [Net_Present_Value], 
    [Project1].[Forecast_Rolling_Custom_Income] AS [Forecast_Rolling_Custom_Income], 
    [Project1].[Custom_Period] AS [Custom_Period], 
    [Project1].[Rolling_12M_Historic_Distribution] AS [Rolling_12M_Historic_Distribution], 
    [Project1].[Record_Date] AS [Record_Date], 
    [Project1].[Session_ID] AS [Session_ID], 
    [Project1].[Hist_Last_Update_Date] AS [Hist_Last_Update_Date], 
    [Project1].[Hist_Last_Update_User] AS [Hist_Last_Update_User], 
    [Project1].[Rolling_12M_Forecast_Distribution] AS [Rolling_12M_Forecast_Distribution], 
    [Project1].[Yr2_Forward_Dividend_Yield] AS [Yr2_Forward_Dividend_Yield], 
    [Project1].[Exit_Yield] AS [Exit_Yield], 
    [Project1].[Discount_Rate] AS [Discount_Rate], 
    [Project1].[Distribution_Growth_Compounded] AS [Distribution_Growth_Compounded], 
    [Project1].[Forecast_12MRolling_Income_Accrual] AS [Forecast_12MRolling_Income_Accrual], 
    [Project1].[Rolling_12_to_24M_Forecast_Distribution] AS [Rolling_12_to_24M_Forecast_Distribution], 
    [Project1].[Rolling_24_to_36M_Forecast_Distribution] AS [Rolling_24_to_36M_Forecast_Distribution], 
    [Project1].[Forecast_Yr1_Dividend_Yield_Relative] AS [Forecast_Yr1_Dividend_Yield_Relative], 
    [Project1].[Market_Historic_Yield] AS [Market_Historic_Yield], 
    [Project1].[Market_Forward_Yield] AS [Market_Forward_Yield], 
    [Project1].[Historic_Distribution_PriceCurr] AS [Historic_Distribution_PriceCurr], 
    [Project1].[Forecast_Distribution_Yr1_PriceCurr] AS [Forecast_Distribution_Yr1_PriceCurr], 
    [Project1].[Forecast_Distribution_Yr2_PriceCurr] AS [Forecast_Distribution_Yr2_PriceCurr], 
    [Project1].[Forecast_Distribution_Yr3_PriceCurr] AS [Forecast_Distribution_Yr3_PriceCurr], 
    [Project1].[Rolling_12M_Forecast_Distribution_PriceCurr] AS [Rolling_12M_Forecast_Distribution_PriceCurr], 
    [Project1].[Rolling_12_24M_Forecast_Distribution_PriceCurr] AS [Rolling_12_24M_Forecast_Distribution_PriceCurr], 
    [Project1].[Rolling_24_36M_Forecast_Distribution_PriceCurr] AS [Rolling_24_36M_Forecast_Distribution_PriceCurr], 
    [Project1].[Distribution_Growth_Forecast_Yr4] AS [Distribution_Growth_Forecast_Yr4], 
    [Project1].[Earnings_Forecast_Yr4] AS [Earnings_Forecast_Yr4], 
    [Project1].[Forecast_Distribution_Yr4] AS [Forecast_Distribution_Yr4], 
    [Project1].[Forecast_Distribution_Yr4_PriceCurr] AS [Forecast_Distribution_Yr4_PriceCurr], 
    [Project1].[Security_ID1] AS [Security_ID1], 
    [Project1].[Entity_ID1] AS [Entity_ID1], 
    [Project1].[Security_Name] AS [Security_Name], 
    [Project1].[Short_Name] AS [Short_Name], 
    [Project1].[Primary_Exch] AS [Primary_Exch], 
    [Project1].[Secondary_Exch] AS [Secondary_Exch], 
    [Project1].[Country_Of_Domicile] AS [Country_Of_Domicile], 
    [Project1].[Country_Of_Risk] AS [Country_Of_Risk], 
    [Project1].[Security_Type_Code] AS [Security_Type_Code], 
    [Project1].[Price_Multiplier] AS [Price_Multiplier], 
    [Project1].[Income_Frequency] AS [Income_Frequency], 
    [Project1].[Issuer_Code] AS [Issuer_Code], 
    [Project1].[Ultimate_Issuer_Code] AS [Ultimate_Issuer_Code], 
    [Project1].[Asset_Currency] AS [Asset_Currency], 
    [Project1].[Min_Lot_Size] AS [Min_Lot_Size], 
    [Project1].[AvePrice_Rounding] AS [AvePrice_Rounding], 
    [Project1].[Issue_Date] AS [Issue_Date], 
    [Project1].[Maturity_Date] AS [Maturity_Date], 
    [Project1].[Coupon_Rate] AS [Coupon_Rate], 
    [Project1].[Price_Exchange] AS [Price_Exchange], 
    [Project1].[Trade_Currency] AS [Trade_Currency], 
    [Project1].[Price_Curr] AS [Price_Curr], 
    [Project1].[Currency_Pair_Code] AS [Currency_Pair_Code], 
    [Project1].[Share_Class] AS [Share_Class], 
    [Project1].[Current_Market_Price] AS [Current_Market_Price], 
    [Project1].[Index_Type] AS [Index_Type], 
    [Project1].[Clean_Price_Formula] AS [Clean_Price_Formula], 
    [Project1].[Accrued_Income_Price_Formula] AS [Accrued_Income_Price_Formula], 
    [Project1].[Odd_First_Coupon_Date] AS [Odd_First_Coupon_Date], 
    [Project1].[Odd_Last_Coupon_Date] AS [Odd_Last_Coupon_Date], 
    [Project1].[Coupon_Anniversary_Indicator] AS [Coupon_Anniversary_Indicator], 
    [Project1].[Track_EOM_Flag] AS [Track_EOM_Flag], 
    [Project1].[Next_Coupon_Date] AS [Next_Coupon_Date], 
    [Project1].[Previous_Coupon_Date] AS [Previous_Coupon_Date], 
    [Project1].[Payment_Frequency] AS [Payment_Frequency], 
    [Project1].[Coupon_BusDay_Adjustment] AS [Coupon_BusDay_Adjustment], 
    [Project1].[Next_Ex_Div_Date] AS [Next_Ex_Div_Date], 
    [Project1].[Ex_Div_BusDay_Adjustment] AS [Ex_Div_BusDay_Adjustment], 
    [Project1].[Ex_Div_Period] AS [Ex_Div_Period], 
    [Project1].[Ticker] AS [Ticker], 
    [Project1].[Inet_ID] AS [Inet_ID], 
    [Project1].[Bloomberg_ID] AS [Bloomberg_ID], 
    [Project1].[External_Sec_ID] AS [External_Sec_ID], 
    [Project1].[Reuters_ID] AS [Reuters_ID], 
    [Project1].[ISIN] AS [ISIN], 
    [Project1].[Call_Account_Flag] AS [Call_Account_Flag], 
    [Project1].[System_Locked] AS [System_Locked], 
    [Project1].[Last_Update_User1] AS [Last_Update_User1], 
    [Project1].[Last_Update_Date1] AS [Last_Update_Date1], 
    [Project1].[Security_Status] AS [Security_Status], 
    [Project1].[Benchmark_Portfolio] AS [Benchmark_Portfolio], 
    [Project1].[Active_flag] AS [Active_flag], 
    [Project1].[Dividend_FX_Security_ID] AS [Dividend_FX_Security_ID]
    FROM ( SELECT 
        [Extent1].[Entity_ID] AS [Entity_ID], 
        [Extent1].[Security_ID] AS [Security_ID], 
        [Extent1].[Issued_Amount] AS [Issued_Amount], 
        [Extent1].[Market_Capitalisation] AS [Market_Capitalisation], 
        [Extent1].[Risk_Premium] AS [Risk_Premium], 
        [Extent1].[Exit_Price] AS [Exit_Price], 
        [Extent1].[Total_Return_ME_1YR] AS [Total_Return_ME_1YR], 
        [Extent1].[Total_Return_ME_2YR] AS [Total_Return_ME_2YR], 
        [Extent1].[Total_Return_ME_3YR] AS [Total_Return_ME_3YR], 
        [Extent1].[Historic_Distribution] AS [Historic_Distribution], 
        [Extent1].[Distribution_Growth_Forecast_Yr1] AS [Distribution_Growth_Forecast_Yr1], 
        [Extent1].[Distribution_Growth_Forecast_Yr2] AS [Distribution_Growth_Forecast_Yr2], 
        [Extent1].[Distribution_Growth_Forecast_Yr3] AS [Distribution_Growth_Forecast_Yr3], 
        [Extent1].[Forecast_Distribution_Yr1] AS [Forecast_Distribution_Yr1], 
        [Extent1].[Forecast_Distribution_Yr2] AS [Forecast_Distribution_Yr2], 
        [Extent1].[Forecast_Distribution_Yr3] AS [Forecast_Distribution_Yr3], 
        [Extent1].[Earnings_Growth_Compounded] AS [Earnings_Growth_Compounded], 
        [Extent1].[Earnings_Forecast_Yr3] AS [Earnings_Forecast_Yr3], 
        [Extent1].[Historic_Dividend_Yield_FYE] AS [Historic_Dividend_Yield_FYE], 
        [Extent1].[Forward_Dividend_Yield_FYE] AS [Forward_Dividend_Yield_FYE], 
        [Extent1].[Yr3_Forward_Dividend_Yield] AS [Yr3_Forward_Dividend_Yield], 
        [Extent1].[Rolling_12M_Forward_Yield] AS [Rolling_12M_Forward_Yield], 
        [Extent1].[Historical_Earnings_FYE] AS [Historical_Earnings_FYE], 
        [Extent1].[Earnings_Forecast_Yr1] AS [Earnings_Forecast_Yr1], 
        [Extent1].[Earnings_Forecast_Yr2] AS [Earnings_Forecast_Yr2], 
        [Extent1].[Historic_Dividend_Yield_Relative] AS [Historic_Dividend_Yield_Relative], 
        [Extent1].[Rolling_12M_Historic_Distribution_PriceCurr] AS [Rolling_12M_Historic_Distribution_PriceCurr], 
        [Extent1].[Short_Term_Market_Rerate] AS [Short_Term_Market_Rerate], 
        [Extent1].[Forecast_12M_Total_Return] AS [Forecast_12M_Total_Return], 
        [Extent1].[Clean_Price] AS [Clean_Price], 
        [Extent1].[Rolling_Dividend_Yield_Historic] AS [Rolling_Dividend_Yield_Historic], 
        [Extent1].[Last_Update_Date] AS [Last_Update_Date], 
        [Extent1].[Last_Update_User] AS [Last_Update_User], 
        [Extent1].[Discount_Security_ID] AS [Discount_Security_ID], 
        [Extent1].[Net_Present_Value] AS [Net_Present_Value], 
        [Extent1].[Forecast_Rolling_Custom_Income] AS [Forecast_Rolling_Custom_Income], 
        [Extent1].[Custom_Period] AS [Custom_Period], 
        [Extent1].[Rolling_12M_Historic_Distribution] AS [Rolling_12M_Historic_Distribution], 
        [Extent1].[Record_Date] AS [Record_Date], 
        [Extent1].[Session_ID] AS [Session_ID], 
        [Extent1].[Hist_Last_Update_Date] AS [Hist_Last_Update_Date], 
        [Extent1].[Hist_Last_Update_User] AS [Hist_Last_Update_User], 
        [Extent1].[Rolling_12M_Forecast_Distribution] AS [Rolling_12M_Forecast_Distribution], 
        [Extent1].[Yr2_Forward_Dividend_Yield] AS [Yr2_Forward_Dividend_Yield], 
        [Extent1].[Exit_Yield] AS [Exit_Yield], 
        [Extent1].[Discount_Rate] AS [Discount_Rate], 
        [Extent1].[Distribution_Growth_Compounded] AS [Distribution_Growth_Compounded], 
        [Extent1].[Forecast_12MRolling_Income_Accrual] AS [Forecast_12MRolling_Income_Accrual], 
        [Extent1].[Rolling_12_to_24M_Forecast_Distribution] AS [Rolling_12_to_24M_Forecast_Distribution], 
        [Extent1].[Rolling_24_to_36M_Forecast_Distribution] AS [Rolling_24_to_36M_Forecast_Distribution], 
        [Extent1].[Forecast_Yr1_Dividend_Yield_Relative] AS [Forecast_Yr1_Dividend_Yield_Relative], 
        [Extent1].[Market_Historic_Yield] AS [Market_Historic_Yield], 
        [Extent1].[Market_Forward_Yield] AS [Market_Forward_Yield], 
        [Extent1].[Historic_Distribution_PriceCurr] AS [Historic_Distribution_PriceCurr], 
        [Extent1].[Forecast_Distribution_Yr1_PriceCurr] AS [Forecast_Distribution_Yr1_PriceCurr], 
        [Extent1].[Forecast_Distribution_Yr2_PriceCurr] AS [Forecast_Distribution_Yr2_PriceCurr], 
        [Extent1].[Forecast_Distribution_Yr3_PriceCurr] AS [Forecast_Distribution_Yr3_PriceCurr], 
        [Extent1].[Rolling_12M_Forecast_Distribution_PriceCurr] AS [Rolling_12M_Forecast_Distribution_PriceCurr], 
        [Extent1].[Rolling_12_24M_Forecast_Distribution_PriceCurr] AS [Rolling_12_24M_Forecast_Distribution_PriceCurr], 
        [Extent1].[Rolling_24_36M_Forecast_Distribution_PriceCurr] AS [Rolling_24_36M_Forecast_Distribution_PriceCurr], 
        [Extent1].[Distribution_Growth_Forecast_Yr4] AS [Distribution_Growth_Forecast_Yr4], 
        [Extent1].[Earnings_Forecast_Yr4] AS [Earnings_Forecast_Yr4], 
        [Extent1].[Forecast_Distribution_Yr4] AS [Forecast_Distribution_Yr4], 
        [Extent1].[Forecast_Distribution_Yr4_PriceCurr] AS [Forecast_Distribution_Yr4_PriceCurr], 
        [Extent2].[Security_ID] AS [Security_ID1], 
        [Extent2].[Entity_ID] AS [Entity_ID1], 
        [Extent2].[Security_Name] AS [Security_Name], 
        [Extent2].[Short_Name] AS [Short_Name], 
        [Extent2].[Primary_Exch] AS [Primary_Exch], 
        [Extent2].[Secondary_Exch] AS [Secondary_Exch], 
        [Extent2].[Country_Of_Domicile] AS [Country_Of_Domicile], 
        [Extent2].[Country_Of_Risk] AS [Country_Of_Risk], 
        [Extent2].[Security_Type_Code] AS [Security_Type_Code], 
        [Extent2].[Price_Multiplier] AS [Price_Multiplier], 
        [Extent2].[Income_Frequency] AS [Income_Frequency], 
        [Extent2].[Issuer_Code] AS [Issuer_Code], 
        [Extent2].[Ultimate_Issuer_Code] AS [Ultimate_Issuer_Code], 
        [Extent2].[Asset_Currency] AS [Asset_Currency], 
        [Extent2].[Min_Lot_Size] AS [Min_Lot_Size], 
        [Extent2].[Decimal_Precision] AS [Decimal_Precision], 
        [Extent2].[AvePrice_Rounding] AS [AvePrice_Rounding], 
        [Extent2].[Issue_Date] AS [Issue_Date], 
        [Extent2].[Maturity_Date] AS [Maturity_Date], 
        [Extent2].[Coupon_Rate] AS [Coupon_Rate], 
        [Extent2].[Price_Exchange] AS [Price_Exchange], 
        [Extent2].[Trade_Currency] AS [Trade_Currency], 
        [Extent2].[Price_Curr] AS [Price_Curr], 
        [Extent2].[Currency_Pair_Code] AS [Currency_Pair_Code], 
        [Extent2].[Share_Class] AS [Share_Class], 
        [Extent2].[Current_Market_Price] AS [Current_Market_Price], 
        [Extent2].[Index_Type] AS [Index_Type], 
        [Extent2].[Clean_Price_Formula] AS [Clean_Price_Formula], 
        [Extent2].[Accrued_Income_Price_Formula] AS [Accrued_Income_Price_Formula], 
        [Extent2].[Odd_First_Coupon_Date] AS [Odd_First_Coupon_Date], 
        [Extent2].[Odd_Last_Coupon_Date] AS [Odd_Last_Coupon_Date], 
        [Extent2].[Coupon_Anniversary_Indicator] AS [Coupon_Anniversary_Indicator], 
        [Extent2].[Track_EOM_Flag] AS [Track_EOM_Flag], 
        [Extent2].[Next_Coupon_Date] AS [Next_Coupon_Date], 
        [Extent2].[Previous_Coupon_Date] AS [Previous_Coupon_Date], 
        [Extent2].[Payment_Frequency] AS [Payment_Frequency], 
        [Extent2].[Coupon_BusDay_Adjustment] AS [Coupon_BusDay_Adjustment], 
        [Extent2].[Next_Ex_Div_Date] AS [Next_Ex_Div_Date], 
        [Extent2].[Ex_Div_BusDay_Adjustment] AS [Ex_Div_BusDay_Adjustment], 
        [Extent2].[Ex_Div_Period] AS [Ex_Div_Period], 
        [Extent2].[Ticker] AS [Ticker], 
        [Extent2].[Inet_ID] AS [Inet_ID], 
        [Extent2].[Bloomberg_ID] AS [Bloomberg_ID], 
        [Extent2].[External_Sec_ID] AS [External_Sec_ID], 
        [Extent2].[Reuters_ID] AS [Reuters_ID], 
        [Extent2].[ISIN] AS [ISIN], 
        [Extent2].[Call_Account_Flag] AS [Call_Account_Flag], 
        [Extent2].[System_Locked] AS [System_Locked], 
        [Extent2].[Last_Update_User] AS [Last_Update_User1], 
        [Extent2].[Last_Update_Date] AS [Last_Update_Date1], 
        [Extent2].[Security_Status] AS [Security_Status], 
        [Extent2].[Benchmark_Portfolio] AS [Benchmark_Portfolio], 
        [Extent2].[Active_flag] AS [Active_flag], 
        [Extent2].[Dividend_FX_Security_ID] AS [Dividend_FX_Security_ID]
        FROM  [dbo].[Security_Analytics_History] AS [Extent1]
        INNER JOIN [dbo].[Security_Detail] AS [Extent2] ON [Extent1].[Security_ID] = [Extent2].[Security_ID]
        WHERE [Extent1].[Security_ID] = @p__linq__0
    )  AS [Project1]
    ORDER BY [Project1].[Record_Date] DESC
2018-04-07 18:38:51.6195|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: IF db_id(N'MetopeAzureDb') IS NOT NULL SELECT 1 ELSE SELECT Count(*) FROM sys.databases WHERE [name]=N'MetopeAzureDb'
2018-04-07 18:38:51.6665|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: IF db_id(N'MetopeAzureDb') IS NOT NULL SELECT 1 ELSE SELECT Count(*) FROM sys.databases WHERE [name]=N'MetopeAzureDb'
2018-04-07 18:38:51.6870|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: IF db_id(N'MetopeAzureDb') IS NOT NULL SELECT 1 ELSE SELECT Count(*) FROM sys.databases WHERE [name]=N'MetopeAzureDb'
2018-04-07 18:38:51.7055|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: IF db_id(N'MetopeAzureDb') IS NOT NULL SELECT 1 ELSE SELECT Count(*) FROM sys.databases WHERE [name]=N'MetopeAzureDb'
2018-04-07 18:38:51.7360|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: True, Command Text: SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[EntityIdScope] AS [EntityIdScope], 
    [Extent1].[Email] AS [Email], 
    [Extent1].[EmailConfirmed] AS [EmailConfirmed], 
    [Extent1].[PasswordHash] AS [PasswordHash], 
    [Extent1].[SecurityStamp] AS [SecurityStamp], 
    [Extent1].[PhoneNumber] AS [PhoneNumber], 
    [Extent1].[PhoneNumberConfirmed] AS [PhoneNumberConfirmed], 
    [Extent1].[TwoFactorEnabled] AS [TwoFactorEnabled], 
    [Extent1].[LockoutEndDateUtc] AS [LockoutEndDateUtc], 
    [Extent1].[LockoutEnabled] AS [LockoutEnabled], 
    [Extent1].[AccessFailedCount] AS [AccessFailedCount], 
    [Extent1].[UserName] AS [UserName]
    FROM [dbo].[AspNetUsers] AS [Extent1]
    WHERE [Extent1].[Id] = @p0
2018-04-07 18:38:51.7596|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: True, Command Text: SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[EntityIdScope] AS [EntityIdScope], 
    [Extent1].[Email] AS [Email], 
    [Extent1].[EmailConfirmed] AS [EmailConfirmed], 
    [Extent1].[PasswordHash] AS [PasswordHash], 
    [Extent1].[SecurityStamp] AS [SecurityStamp], 
    [Extent1].[PhoneNumber] AS [PhoneNumber], 
    [Extent1].[PhoneNumberConfirmed] AS [PhoneNumberConfirmed], 
    [Extent1].[TwoFactorEnabled] AS [TwoFactorEnabled], 
    [Extent1].[LockoutEndDateUtc] AS [LockoutEndDateUtc], 
    [Extent1].[LockoutEnabled] AS [LockoutEnabled], 
    [Extent1].[AccessFailedCount] AS [AccessFailedCount], 
    [Extent1].[UserName] AS [UserName]
    FROM [dbo].[AspNetUsers] AS [Extent1]
    WHERE [Extent1].[Id] = @p0
2018-04-07 18:38:51.7686|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: True, Command Text: SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[UserId] AS [UserId], 
    [Extent1].[ClaimType] AS [ClaimType], 
    [Extent1].[ClaimValue] AS [ClaimValue]
    FROM [dbo].[AspNetUserClaims] AS [Extent1]
    WHERE [Extent1].[UserId] = @p__linq__0
2018-04-07 18:38:51.7841|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: True, Command Text: SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[UserId] AS [UserId], 
    [Extent1].[ClaimType] AS [ClaimType], 
    [Extent1].[ClaimValue] AS [ClaimValue]
    FROM [dbo].[AspNetUserClaims] AS [Extent1]
    WHERE [Extent1].[UserId] = @p__linq__0
2018-04-07 18:38:51.7841|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: True, Command Text: SELECT 
    [Extent1].[LoginProvider] AS [LoginProvider], 
    [Extent1].[ProviderKey] AS [ProviderKey], 
    [Extent1].[UserId] AS [UserId]
    FROM [dbo].[AspNetUserLogins] AS [Extent1]
    WHERE [Extent1].[UserId] = @p__linq__0
2018-04-07 18:38:51.8066|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: True, Command Text: SELECT 
    [Extent1].[LoginProvider] AS [LoginProvider], 
    [Extent1].[ProviderKey] AS [ProviderKey], 
    [Extent1].[UserId] AS [UserId]
    FROM [dbo].[AspNetUserLogins] AS [Extent1]
    WHERE [Extent1].[UserId] = @p__linq__0
2018-04-07 18:38:51.8146|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: True, Command Text: SELECT 
    [Extent1].[UserId] AS [UserId], 
    [Extent1].[RoleId] AS [RoleId]
    FROM [dbo].[AspNetUserRoles] AS [Extent1]
    WHERE [Extent1].[UserId] = @p__linq__0
2018-04-07 18:38:51.8321|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: True, Command Text: SELECT 
    [Extent1].[UserId] AS [UserId], 
    [Extent1].[RoleId] AS [RoleId]
    FROM [dbo].[AspNetUserRoles] AS [Extent1]
    WHERE [Extent1].[UserId] = @p__linq__0
2018-04-07 18:38:51.8937|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: SELECT TOP (2) 
    [Extent1].[Entity_ID] AS [Entity_ID], 
    [Extent1].[Entity_Code] AS [Entity_Code], 
    [Extent1].[Entity_Name] AS [Entity_Name], 
    [Extent1].[Import_Folder] AS [Import_Folder], 
    [Extent1].[Export_Folder] AS [Export_Folder]
    FROM [dbo].[Entity] AS [Extent1]
    WHERE [Extent1].[Entity_ID] = @p0
2018-04-07 18:38:51.9107|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: SELECT TOP (2) 
    [Extent1].[Entity_ID] AS [Entity_ID], 
    [Extent1].[Entity_Code] AS [Entity_Code], 
    [Extent1].[Entity_Name] AS [Entity_Name], 
    [Extent1].[Import_Folder] AS [Import_Folder], 
    [Extent1].[Export_Folder] AS [Export_Folder]
    FROM [dbo].[Entity] AS [Extent1]
    WHERE [Extent1].[Entity_ID] = @p0
2018-04-07 18:43:25.7718|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: SELECT 
    [Project1].[Security_ID] AS [Security_ID], 
    [Project1].[Entity_ID] AS [Entity_ID], 
    [Project1].[Security_Name] AS [Security_Name], 
    [Project1].[Short_Name] AS [Short_Name], 
    [Project1].[Primary_Exch] AS [Primary_Exch], 
    [Project1].[Secondary_Exch] AS [Secondary_Exch], 
    [Project1].[Country_Of_Domicile] AS [Country_Of_Domicile], 
    [Project1].[Country_Of_Risk] AS [Country_Of_Risk], 
    [Project1].[Security_Type_Code] AS [Security_Type_Code], 
    [Project1].[Price_Multiplier] AS [Price_Multiplier], 
    [Project1].[Income_Frequency] AS [Income_Frequency], 
    [Project1].[Issuer_Code] AS [Issuer_Code], 
    [Project1].[Ultimate_Issuer_Code] AS [Ultimate_Issuer_Code], 
    [Project1].[Asset_Currency] AS [Asset_Currency], 
    [Project1].[Min_Lot_Size] AS [Min_Lot_Size], 
    [Project1].[Decimal_Precision] AS [Decimal_Precision], 
    [Project1].[AvePrice_Rounding] AS [AvePrice_Rounding], 
    [Project1].[Issue_Date] AS [Issue_Date], 
    [Project1].[Maturity_Date] AS [Maturity_Date], 
    [Project1].[Coupon_Rate] AS [Coupon_Rate], 
    [Project1].[Price_Exchange] AS [Price_Exchange], 
    [Project1].[Trade_Currency] AS [Trade_Currency], 
    [Project1].[Price_Curr] AS [Price_Curr], 
    [Project1].[Currency_Pair_Code] AS [Currency_Pair_Code], 
    [Project1].[Share_Class] AS [Share_Class], 
    [Project1].[Current_Market_Price] AS [Current_Market_Price], 
    [Project1].[Index_Type] AS [Index_Type], 
    [Project1].[Clean_Price_Formula] AS [Clean_Price_Formula], 
    [Project1].[Accrued_Income_Price_Formula] AS [Accrued_Income_Price_Formula], 
    [Project1].[Odd_First_Coupon_Date] AS [Odd_First_Coupon_Date], 
    [Project1].[Odd_Last_Coupon_Date] AS [Odd_Last_Coupon_Date], 
    [Project1].[Coupon_Anniversary_Indicator] AS [Coupon_Anniversary_Indicator], 
    [Project1].[Track_EOM_Flag] AS [Track_EOM_Flag], 
    [Project1].[Next_Coupon_Date] AS [Next_Coupon_Date], 
    [Project1].[Previous_Coupon_Date] AS [Previous_Coupon_Date], 
    [Project1].[Payment_Frequency] AS [Payment_Frequency], 
    [Project1].[Coupon_BusDay_Adjustment] AS [Coupon_BusDay_Adjustment], 
    [Project1].[Next_Ex_Div_Date] AS [Next_Ex_Div_Date], 
    [Project1].[Ex_Div_BusDay_Adjustment] AS [Ex_Div_BusDay_Adjustment], 
    [Project1].[Ex_Div_Period] AS [Ex_Div_Period], 
    [Project1].[Ticker] AS [Ticker], 
    [Project1].[Inet_ID] AS [Inet_ID], 
    [Project1].[Bloomberg_ID] AS [Bloomberg_ID], 
    [Project1].[External_Sec_ID] AS [External_Sec_ID], 
    [Project1].[Reuters_ID] AS [Reuters_ID], 
    [Project1].[ISIN] AS [ISIN], 
    [Project1].[Call_Account_Flag] AS [Call_Account_Flag], 
    [Project1].[System_Locked] AS [System_Locked], 
    [Project1].[Last_Update_User] AS [Last_Update_User], 
    [Project1].[Last_Update_Date] AS [Last_Update_Date], 
    [Project1].[Security_Status] AS [Security_Status], 
    [Project1].[Benchmark_Portfolio] AS [Benchmark_Portfolio], 
    [Project1].[Active_flag] AS [Active_flag], 
    [Project1].[Dividend_FX_Security_ID] AS [Dividend_FX_Security_ID]
    FROM ( SELECT 
        [Extent1].[Security_ID] AS [Security_ID], 
        [Extent1].[Entity_ID] AS [Entity_ID], 
        [Extent1].[Security_Name] AS [Security_Name], 
        [Extent1].[Short_Name] AS [Short_Name], 
        [Extent1].[Primary_Exch] AS [Primary_Exch], 
        [Extent1].[Secondary_Exch] AS [Secondary_Exch], 
        [Extent1].[Country_Of_Domicile] AS [Country_Of_Domicile], 
        [Extent1].[Country_Of_Risk] AS [Country_Of_Risk], 
        [Extent1].[Security_Type_Code] AS [Security_Type_Code], 
        [Extent1].[Price_Multiplier] AS [Price_Multiplier], 
        [Extent1].[Income_Frequency] AS [Income_Frequency], 
        [Extent1].[Issuer_Code] AS [Issuer_Code], 
        [Extent1].[Ultimate_Issuer_Code] AS [Ultimate_Issuer_Code], 
        [Extent1].[Asset_Currency] AS [Asset_Currency], 
        [Extent1].[Min_Lot_Size] AS [Min_Lot_Size], 
        [Extent1].[Decimal_Precision] AS [Decimal_Precision], 
        [Extent1].[AvePrice_Rounding] AS [AvePrice_Rounding], 
        [Extent1].[Issue_Date] AS [Issue_Date], 
        [Extent1].[Maturity_Date] AS [Maturity_Date], 
        [Extent1].[Coupon_Rate] AS [Coupon_Rate], 
        [Extent1].[Price_Exchange] AS [Price_Exchange], 
        [Extent1].[Trade_Currency] AS [Trade_Currency], 
        [Extent1].[Price_Curr] AS [Price_Curr], 
        [Extent1].[Currency_Pair_Code] AS [Currency_Pair_Code], 
        [Extent1].[Share_Class] AS [Share_Class], 
        [Extent1].[Current_Market_Price] AS [Current_Market_Price], 
        [Extent1].[Index_Type] AS [Index_Type], 
        [Extent1].[Clean_Price_Formula] AS [Clean_Price_Formula], 
        [Extent1].[Accrued_Income_Price_Formula] AS [Accrued_Income_Price_Formula], 
        [Extent1].[Odd_First_Coupon_Date] AS [Odd_First_Coupon_Date], 
        [Extent1].[Odd_Last_Coupon_Date] AS [Odd_Last_Coupon_Date], 
        [Extent1].[Coupon_Anniversary_Indicator] AS [Coupon_Anniversary_Indicator], 
        [Extent1].[Track_EOM_Flag] AS [Track_EOM_Flag], 
        [Extent1].[Next_Coupon_Date] AS [Next_Coupon_Date], 
        [Extent1].[Previous_Coupon_Date] AS [Previous_Coupon_Date], 
        [Extent1].[Payment_Frequency] AS [Payment_Frequency], 
        [Extent1].[Coupon_BusDay_Adjustment] AS [Coupon_BusDay_Adjustment], 
        [Extent1].[Next_Ex_Div_Date] AS [Next_Ex_Div_Date], 
        [Extent1].[Ex_Div_BusDay_Adjustment] AS [Ex_Div_BusDay_Adjustment], 
        [Extent1].[Ex_Div_Period] AS [Ex_Div_Period], 
        [Extent1].[Ticker] AS [Ticker], 
        [Extent1].[Inet_ID] AS [Inet_ID], 
        [Extent1].[Bloomberg_ID] AS [Bloomberg_ID], 
        [Extent1].[External_Sec_ID] AS [External_Sec_ID], 
        [Extent1].[Reuters_ID] AS [Reuters_ID], 
        [Extent1].[ISIN] AS [ISIN], 
        [Extent1].[Call_Account_Flag] AS [Call_Account_Flag], 
        [Extent1].[System_Locked] AS [System_Locked], 
        [Extent1].[Last_Update_User] AS [Last_Update_User], 
        [Extent1].[Last_Update_Date] AS [Last_Update_Date], 
        [Extent1].[Security_Status] AS [Security_Status], 
        [Extent1].[Benchmark_Portfolio] AS [Benchmark_Portfolio], 
        [Extent1].[Active_flag] AS [Active_flag], 
        [Extent1].[Dividend_FX_Security_ID] AS [Dividend_FX_Security_ID]
        FROM [dbo].[Security_Detail] AS [Extent1]
        WHERE ([Extent1].[Entity_ID] IN (@p__linq__0,@p__linq__1)) AND ((CASE WHEN ( NOT ((N'' = @p__linq__2) AND (@p__linq__2 IS NOT NULL))) THEN CASE WHEN ([Extent1].[Security_Type_Code] = @p__linq__3) THEN cast(1 as bit) WHEN ( NOT (([Extent1].[Security_Type_Code] = @p__linq__3) AND (0 = (CASE WHEN (@p__linq__3 IS NULL) THEN cast(1 as bit) ELSE cast(0 as bit) END)))) THEN cast(0 as bit) END WHEN ('' <> [Extent1].[Security_Type_Code]) THEN cast(1 as bit) WHEN ('' = [Extent1].[Security_Type_Code]) THEN cast(0 as bit) END) = 1)
    )  AS [Project1]
    ORDER BY [Project1].[Security_Name] ASC
2018-04-07 18:43:25.8213|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: SELECT 
    [Project1].[Security_ID] AS [Security_ID], 
    [Project1].[Entity_ID] AS [Entity_ID], 
    [Project1].[Security_Name] AS [Security_Name], 
    [Project1].[Short_Name] AS [Short_Name], 
    [Project1].[Primary_Exch] AS [Primary_Exch], 
    [Project1].[Secondary_Exch] AS [Secondary_Exch], 
    [Project1].[Country_Of_Domicile] AS [Country_Of_Domicile], 
    [Project1].[Country_Of_Risk] AS [Country_Of_Risk], 
    [Project1].[Security_Type_Code] AS [Security_Type_Code], 
    [Project1].[Price_Multiplier] AS [Price_Multiplier], 
    [Project1].[Income_Frequency] AS [Income_Frequency], 
    [Project1].[Issuer_Code] AS [Issuer_Code], 
    [Project1].[Ultimate_Issuer_Code] AS [Ultimate_Issuer_Code], 
    [Project1].[Asset_Currency] AS [Asset_Currency], 
    [Project1].[Min_Lot_Size] AS [Min_Lot_Size], 
    [Project1].[Decimal_Precision] AS [Decimal_Precision], 
    [Project1].[AvePrice_Rounding] AS [AvePrice_Rounding], 
    [Project1].[Issue_Date] AS [Issue_Date], 
    [Project1].[Maturity_Date] AS [Maturity_Date], 
    [Project1].[Coupon_Rate] AS [Coupon_Rate], 
    [Project1].[Price_Exchange] AS [Price_Exchange], 
    [Project1].[Trade_Currency] AS [Trade_Currency], 
    [Project1].[Price_Curr] AS [Price_Curr], 
    [Project1].[Currency_Pair_Code] AS [Currency_Pair_Code], 
    [Project1].[Share_Class] AS [Share_Class], 
    [Project1].[Current_Market_Price] AS [Current_Market_Price], 
    [Project1].[Index_Type] AS [Index_Type], 
    [Project1].[Clean_Price_Formula] AS [Clean_Price_Formula], 
    [Project1].[Accrued_Income_Price_Formula] AS [Accrued_Income_Price_Formula], 
    [Project1].[Odd_First_Coupon_Date] AS [Odd_First_Coupon_Date], 
    [Project1].[Odd_Last_Coupon_Date] AS [Odd_Last_Coupon_Date], 
    [Project1].[Coupon_Anniversary_Indicator] AS [Coupon_Anniversary_Indicator], 
    [Project1].[Track_EOM_Flag] AS [Track_EOM_Flag], 
    [Project1].[Next_Coupon_Date] AS [Next_Coupon_Date], 
    [Project1].[Previous_Coupon_Date] AS [Previous_Coupon_Date], 
    [Project1].[Payment_Frequency] AS [Payment_Frequency], 
    [Project1].[Coupon_BusDay_Adjustment] AS [Coupon_BusDay_Adjustment], 
    [Project1].[Next_Ex_Div_Date] AS [Next_Ex_Div_Date], 
    [Project1].[Ex_Div_BusDay_Adjustment] AS [Ex_Div_BusDay_Adjustment], 
    [Project1].[Ex_Div_Period] AS [Ex_Div_Period], 
    [Project1].[Ticker] AS [Ticker], 
    [Project1].[Inet_ID] AS [Inet_ID], 
    [Project1].[Bloomberg_ID] AS [Bloomberg_ID], 
    [Project1].[External_Sec_ID] AS [External_Sec_ID], 
    [Project1].[Reuters_ID] AS [Reuters_ID], 
    [Project1].[ISIN] AS [ISIN], 
    [Project1].[Call_Account_Flag] AS [Call_Account_Flag], 
    [Project1].[System_Locked] AS [System_Locked], 
    [Project1].[Last_Update_User] AS [Last_Update_User], 
    [Project1].[Last_Update_Date] AS [Last_Update_Date], 
    [Project1].[Security_Status] AS [Security_Status], 
    [Project1].[Benchmark_Portfolio] AS [Benchmark_Portfolio], 
    [Project1].[Active_flag] AS [Active_flag], 
    [Project1].[Dividend_FX_Security_ID] AS [Dividend_FX_Security_ID]
    FROM ( SELECT 
        [Extent1].[Security_ID] AS [Security_ID], 
        [Extent1].[Entity_ID] AS [Entity_ID], 
        [Extent1].[Security_Name] AS [Security_Name], 
        [Extent1].[Short_Name] AS [Short_Name], 
        [Extent1].[Primary_Exch] AS [Primary_Exch], 
        [Extent1].[Secondary_Exch] AS [Secondary_Exch], 
        [Extent1].[Country_Of_Domicile] AS [Country_Of_Domicile], 
        [Extent1].[Country_Of_Risk] AS [Country_Of_Risk], 
        [Extent1].[Security_Type_Code] AS [Security_Type_Code], 
        [Extent1].[Price_Multiplier] AS [Price_Multiplier], 
        [Extent1].[Income_Frequency] AS [Income_Frequency], 
        [Extent1].[Issuer_Code] AS [Issuer_Code], 
        [Extent1].[Ultimate_Issuer_Code] AS [Ultimate_Issuer_Code], 
        [Extent1].[Asset_Currency] AS [Asset_Currency], 
        [Extent1].[Min_Lot_Size] AS [Min_Lot_Size], 
        [Extent1].[Decimal_Precision] AS [Decimal_Precision], 
        [Extent1].[AvePrice_Rounding] AS [AvePrice_Rounding], 
        [Extent1].[Issue_Date] AS [Issue_Date], 
        [Extent1].[Maturity_Date] AS [Maturity_Date], 
        [Extent1].[Coupon_Rate] AS [Coupon_Rate], 
        [Extent1].[Price_Exchange] AS [Price_Exchange], 
        [Extent1].[Trade_Currency] AS [Trade_Currency], 
        [Extent1].[Price_Curr] AS [Price_Curr], 
        [Extent1].[Currency_Pair_Code] AS [Currency_Pair_Code], 
        [Extent1].[Share_Class] AS [Share_Class], 
        [Extent1].[Current_Market_Price] AS [Current_Market_Price], 
        [Extent1].[Index_Type] AS [Index_Type], 
        [Extent1].[Clean_Price_Formula] AS [Clean_Price_Formula], 
        [Extent1].[Accrued_Income_Price_Formula] AS [Accrued_Income_Price_Formula], 
        [Extent1].[Odd_First_Coupon_Date] AS [Odd_First_Coupon_Date], 
        [Extent1].[Odd_Last_Coupon_Date] AS [Odd_Last_Coupon_Date], 
        [Extent1].[Coupon_Anniversary_Indicator] AS [Coupon_Anniversary_Indicator], 
        [Extent1].[Track_EOM_Flag] AS [Track_EOM_Flag], 
        [Extent1].[Next_Coupon_Date] AS [Next_Coupon_Date], 
        [Extent1].[Previous_Coupon_Date] AS [Previous_Coupon_Date], 
        [Extent1].[Payment_Frequency] AS [Payment_Frequency], 
        [Extent1].[Coupon_BusDay_Adjustment] AS [Coupon_BusDay_Adjustment], 
        [Extent1].[Next_Ex_Div_Date] AS [Next_Ex_Div_Date], 
        [Extent1].[Ex_Div_BusDay_Adjustment] AS [Ex_Div_BusDay_Adjustment], 
        [Extent1].[Ex_Div_Period] AS [Ex_Div_Period], 
        [Extent1].[Ticker] AS [Ticker], 
        [Extent1].[Inet_ID] AS [Inet_ID], 
        [Extent1].[Bloomberg_ID] AS [Bloomberg_ID], 
        [Extent1].[External_Sec_ID] AS [External_Sec_ID], 
        [Extent1].[Reuters_ID] AS [Reuters_ID], 
        [Extent1].[ISIN] AS [ISIN], 
        [Extent1].[Call_Account_Flag] AS [Call_Account_Flag], 
        [Extent1].[System_Locked] AS [System_Locked], 
        [Extent1].[Last_Update_User] AS [Last_Update_User], 
        [Extent1].[Last_Update_Date] AS [Last_Update_Date], 
        [Extent1].[Security_Status] AS [Security_Status], 
        [Extent1].[Benchmark_Portfolio] AS [Benchmark_Portfolio], 
        [Extent1].[Active_flag] AS [Active_flag], 
        [Extent1].[Dividend_FX_Security_ID] AS [Dividend_FX_Security_ID]
        FROM [dbo].[Security_Detail] AS [Extent1]
        WHERE ([Extent1].[Entity_ID] IN (@p__linq__0,@p__linq__1)) AND ((CASE WHEN ( NOT ((N'' = @p__linq__2) AND (@p__linq__2 IS NOT NULL))) THEN CASE WHEN ([Extent1].[Security_Type_Code] = @p__linq__3) THEN cast(1 as bit) WHEN ( NOT (([Extent1].[Security_Type_Code] = @p__linq__3) AND (0 = (CASE WHEN (@p__linq__3 IS NULL) THEN cast(1 as bit) ELSE cast(0 as bit) END)))) THEN cast(0 as bit) END WHEN ('' <> [Extent1].[Security_Type_Code]) THEN cast(1 as bit) WHEN ('' = [Extent1].[Security_Type_Code]) THEN cast(0 as bit) END) = 1)
    )  AS [Project1]
    ORDER BY [Project1].[Security_Name] ASC
2018-04-07 18:43:32.6527|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: SELECT 
    [Project1].[Security_ID] AS [Security_ID], 
    [Project1].[Entity_ID] AS [Entity_ID], 
    [Project1].[Security_Name] AS [Security_Name], 
    [Project1].[Short_Name] AS [Short_Name], 
    [Project1].[Primary_Exch] AS [Primary_Exch], 
    [Project1].[Secondary_Exch] AS [Secondary_Exch], 
    [Project1].[Country_Of_Domicile] AS [Country_Of_Domicile], 
    [Project1].[Country_Of_Risk] AS [Country_Of_Risk], 
    [Project1].[Security_Type_Code] AS [Security_Type_Code], 
    [Project1].[Price_Multiplier] AS [Price_Multiplier], 
    [Project1].[Income_Frequency] AS [Income_Frequency], 
    [Project1].[Issuer_Code] AS [Issuer_Code], 
    [Project1].[Ultimate_Issuer_Code] AS [Ultimate_Issuer_Code], 
    [Project1].[Asset_Currency] AS [Asset_Currency], 
    [Project1].[Min_Lot_Size] AS [Min_Lot_Size], 
    [Project1].[Decimal_Precision] AS [Decimal_Precision], 
    [Project1].[AvePrice_Rounding] AS [AvePrice_Rounding], 
    [Project1].[Issue_Date] AS [Issue_Date], 
    [Project1].[Maturity_Date] AS [Maturity_Date], 
    [Project1].[Coupon_Rate] AS [Coupon_Rate], 
    [Project1].[Price_Exchange] AS [Price_Exchange], 
    [Project1].[Trade_Currency] AS [Trade_Currency], 
    [Project1].[Price_Curr] AS [Price_Curr], 
    [Project1].[Currency_Pair_Code] AS [Currency_Pair_Code], 
    [Project1].[Share_Class] AS [Share_Class], 
    [Project1].[Current_Market_Price] AS [Current_Market_Price], 
    [Project1].[Index_Type] AS [Index_Type], 
    [Project1].[Clean_Price_Formula] AS [Clean_Price_Formula], 
    [Project1].[Accrued_Income_Price_Formula] AS [Accrued_Income_Price_Formula], 
    [Project1].[Odd_First_Coupon_Date] AS [Odd_First_Coupon_Date], 
    [Project1].[Odd_Last_Coupon_Date] AS [Odd_Last_Coupon_Date], 
    [Project1].[Coupon_Anniversary_Indicator] AS [Coupon_Anniversary_Indicator], 
    [Project1].[Track_EOM_Flag] AS [Track_EOM_Flag], 
    [Project1].[Next_Coupon_Date] AS [Next_Coupon_Date], 
    [Project1].[Previous_Coupon_Date] AS [Previous_Coupon_Date], 
    [Project1].[Payment_Frequency] AS [Payment_Frequency], 
    [Project1].[Coupon_BusDay_Adjustment] AS [Coupon_BusDay_Adjustment], 
    [Project1].[Next_Ex_Div_Date] AS [Next_Ex_Div_Date], 
    [Project1].[Ex_Div_BusDay_Adjustment] AS [Ex_Div_BusDay_Adjustment], 
    [Project1].[Ex_Div_Period] AS [Ex_Div_Period], 
    [Project1].[Ticker] AS [Ticker], 
    [Project1].[Inet_ID] AS [Inet_ID], 
    [Project1].[Bloomberg_ID] AS [Bloomberg_ID], 
    [Project1].[External_Sec_ID] AS [External_Sec_ID], 
    [Project1].[Reuters_ID] AS [Reuters_ID], 
    [Project1].[ISIN] AS [ISIN], 
    [Project1].[Call_Account_Flag] AS [Call_Account_Flag], 
    [Project1].[System_Locked] AS [System_Locked], 
    [Project1].[Last_Update_User] AS [Last_Update_User], 
    [Project1].[Last_Update_Date] AS [Last_Update_Date], 
    [Project1].[Security_Status] AS [Security_Status], 
    [Project1].[Benchmark_Portfolio] AS [Benchmark_Portfolio], 
    [Project1].[Active_flag] AS [Active_flag], 
    [Project1].[Dividend_FX_Security_ID] AS [Dividend_FX_Security_ID]
    FROM ( SELECT 
        [Extent1].[Security_ID] AS [Security_ID], 
        [Extent1].[Entity_ID] AS [Entity_ID], 
        [Extent1].[Security_Name] AS [Security_Name], 
        [Extent1].[Short_Name] AS [Short_Name], 
        [Extent1].[Primary_Exch] AS [Primary_Exch], 
        [Extent1].[Secondary_Exch] AS [Secondary_Exch], 
        [Extent1].[Country_Of_Domicile] AS [Country_Of_Domicile], 
        [Extent1].[Country_Of_Risk] AS [Country_Of_Risk], 
        [Extent1].[Security_Type_Code] AS [Security_Type_Code], 
        [Extent1].[Price_Multiplier] AS [Price_Multiplier], 
        [Extent1].[Income_Frequency] AS [Income_Frequency], 
        [Extent1].[Issuer_Code] AS [Issuer_Code], 
        [Extent1].[Ultimate_Issuer_Code] AS [Ultimate_Issuer_Code], 
        [Extent1].[Asset_Currency] AS [Asset_Currency], 
        [Extent1].[Min_Lot_Size] AS [Min_Lot_Size], 
        [Extent1].[Decimal_Precision] AS [Decimal_Precision], 
        [Extent1].[AvePrice_Rounding] AS [AvePrice_Rounding], 
        [Extent1].[Issue_Date] AS [Issue_Date], 
        [Extent1].[Maturity_Date] AS [Maturity_Date], 
        [Extent1].[Coupon_Rate] AS [Coupon_Rate], 
        [Extent1].[Price_Exchange] AS [Price_Exchange], 
        [Extent1].[Trade_Currency] AS [Trade_Currency], 
        [Extent1].[Price_Curr] AS [Price_Curr], 
        [Extent1].[Currency_Pair_Code] AS [Currency_Pair_Code], 
        [Extent1].[Share_Class] AS [Share_Class], 
        [Extent1].[Current_Market_Price] AS [Current_Market_Price], 
        [Extent1].[Index_Type] AS [Index_Type], 
        [Extent1].[Clean_Price_Formula] AS [Clean_Price_Formula], 
        [Extent1].[Accrued_Income_Price_Formula] AS [Accrued_Income_Price_Formula], 
        [Extent1].[Odd_First_Coupon_Date] AS [Odd_First_Coupon_Date], 
        [Extent1].[Odd_Last_Coupon_Date] AS [Odd_Last_Coupon_Date], 
        [Extent1].[Coupon_Anniversary_Indicator] AS [Coupon_Anniversary_Indicator], 
        [Extent1].[Track_EOM_Flag] AS [Track_EOM_Flag], 
        [Extent1].[Next_Coupon_Date] AS [Next_Coupon_Date], 
        [Extent1].[Previous_Coupon_Date] AS [Previous_Coupon_Date], 
        [Extent1].[Payment_Frequency] AS [Payment_Frequency], 
        [Extent1].[Coupon_BusDay_Adjustment] AS [Coupon_BusDay_Adjustment], 
        [Extent1].[Next_Ex_Div_Date] AS [Next_Ex_Div_Date], 
        [Extent1].[Ex_Div_BusDay_Adjustment] AS [Ex_Div_BusDay_Adjustment], 
        [Extent1].[Ex_Div_Period] AS [Ex_Div_Period], 
        [Extent1].[Ticker] AS [Ticker], 
        [Extent1].[Inet_ID] AS [Inet_ID], 
        [Extent1].[Bloomberg_ID] AS [Bloomberg_ID], 
        [Extent1].[External_Sec_ID] AS [External_Sec_ID], 
        [Extent1].[Reuters_ID] AS [Reuters_ID], 
        [Extent1].[ISIN] AS [ISIN], 
        [Extent1].[Call_Account_Flag] AS [Call_Account_Flag], 
        [Extent1].[System_Locked] AS [System_Locked], 
        [Extent1].[Last_Update_User] AS [Last_Update_User], 
        [Extent1].[Last_Update_Date] AS [Last_Update_Date], 
        [Extent1].[Security_Status] AS [Security_Status], 
        [Extent1].[Benchmark_Portfolio] AS [Benchmark_Portfolio], 
        [Extent1].[Active_flag] AS [Active_flag], 
        [Extent1].[Dividend_FX_Security_ID] AS [Dividend_FX_Security_ID]
        FROM [dbo].[Security_Detail] AS [Extent1]
        WHERE ([Extent1].[Entity_ID] IN (@p__linq__0,@p__linq__1)) AND ((CASE WHEN ( NOT ((N'' = @p__linq__2) AND (@p__linq__2 IS NOT NULL))) THEN CASE WHEN ([Extent1].[Security_Type_Code] = @p__linq__3) THEN cast(1 as bit) WHEN ( NOT (([Extent1].[Security_Type_Code] = @p__linq__3) AND (0 = (CASE WHEN (@p__linq__3 IS NULL) THEN cast(1 as bit) ELSE cast(0 as bit) END)))) THEN cast(0 as bit) END WHEN ('' <> [Extent1].[Security_Type_Code]) THEN cast(1 as bit) WHEN ('' = [Extent1].[Security_Type_Code]) THEN cast(0 as bit) END) = 1)
    )  AS [Project1]
    ORDER BY [Project1].[Security_Name] ASC
2018-04-07 18:43:32.7052|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: SELECT 
    [Project1].[Security_ID] AS [Security_ID], 
    [Project1].[Entity_ID] AS [Entity_ID], 
    [Project1].[Security_Name] AS [Security_Name], 
    [Project1].[Short_Name] AS [Short_Name], 
    [Project1].[Primary_Exch] AS [Primary_Exch], 
    [Project1].[Secondary_Exch] AS [Secondary_Exch], 
    [Project1].[Country_Of_Domicile] AS [Country_Of_Domicile], 
    [Project1].[Country_Of_Risk] AS [Country_Of_Risk], 
    [Project1].[Security_Type_Code] AS [Security_Type_Code], 
    [Project1].[Price_Multiplier] AS [Price_Multiplier], 
    [Project1].[Income_Frequency] AS [Income_Frequency], 
    [Project1].[Issuer_Code] AS [Issuer_Code], 
    [Project1].[Ultimate_Issuer_Code] AS [Ultimate_Issuer_Code], 
    [Project1].[Asset_Currency] AS [Asset_Currency], 
    [Project1].[Min_Lot_Size] AS [Min_Lot_Size], 
    [Project1].[Decimal_Precision] AS [Decimal_Precision], 
    [Project1].[AvePrice_Rounding] AS [AvePrice_Rounding], 
    [Project1].[Issue_Date] AS [Issue_Date], 
    [Project1].[Maturity_Date] AS [Maturity_Date], 
    [Project1].[Coupon_Rate] AS [Coupon_Rate], 
    [Project1].[Price_Exchange] AS [Price_Exchange], 
    [Project1].[Trade_Currency] AS [Trade_Currency], 
    [Project1].[Price_Curr] AS [Price_Curr], 
    [Project1].[Currency_Pair_Code] AS [Currency_Pair_Code], 
    [Project1].[Share_Class] AS [Share_Class], 
    [Project1].[Current_Market_Price] AS [Current_Market_Price], 
    [Project1].[Index_Type] AS [Index_Type], 
    [Project1].[Clean_Price_Formula] AS [Clean_Price_Formula], 
    [Project1].[Accrued_Income_Price_Formula] AS [Accrued_Income_Price_Formula], 
    [Project1].[Odd_First_Coupon_Date] AS [Odd_First_Coupon_Date], 
    [Project1].[Odd_Last_Coupon_Date] AS [Odd_Last_Coupon_Date], 
    [Project1].[Coupon_Anniversary_Indicator] AS [Coupon_Anniversary_Indicator], 
    [Project1].[Track_EOM_Flag] AS [Track_EOM_Flag], 
    [Project1].[Next_Coupon_Date] AS [Next_Coupon_Date], 
    [Project1].[Previous_Coupon_Date] AS [Previous_Coupon_Date], 
    [Project1].[Payment_Frequency] AS [Payment_Frequency], 
    [Project1].[Coupon_BusDay_Adjustment] AS [Coupon_BusDay_Adjustment], 
    [Project1].[Next_Ex_Div_Date] AS [Next_Ex_Div_Date], 
    [Project1].[Ex_Div_BusDay_Adjustment] AS [Ex_Div_BusDay_Adjustment], 
    [Project1].[Ex_Div_Period] AS [Ex_Div_Period], 
    [Project1].[Ticker] AS [Ticker], 
    [Project1].[Inet_ID] AS [Inet_ID], 
    [Project1].[Bloomberg_ID] AS [Bloomberg_ID], 
    [Project1].[External_Sec_ID] AS [External_Sec_ID], 
    [Project1].[Reuters_ID] AS [Reuters_ID], 
    [Project1].[ISIN] AS [ISIN], 
    [Project1].[Call_Account_Flag] AS [Call_Account_Flag], 
    [Project1].[System_Locked] AS [System_Locked], 
    [Project1].[Last_Update_User] AS [Last_Update_User], 
    [Project1].[Last_Update_Date] AS [Last_Update_Date], 
    [Project1].[Security_Status] AS [Security_Status], 
    [Project1].[Benchmark_Portfolio] AS [Benchmark_Portfolio], 
    [Project1].[Active_flag] AS [Active_flag], 
    [Project1].[Dividend_FX_Security_ID] AS [Dividend_FX_Security_ID]
    FROM ( SELECT 
        [Extent1].[Security_ID] AS [Security_ID], 
        [Extent1].[Entity_ID] AS [Entity_ID], 
        [Extent1].[Security_Name] AS [Security_Name], 
        [Extent1].[Short_Name] AS [Short_Name], 
        [Extent1].[Primary_Exch] AS [Primary_Exch], 
        [Extent1].[Secondary_Exch] AS [Secondary_Exch], 
        [Extent1].[Country_Of_Domicile] AS [Country_Of_Domicile], 
        [Extent1].[Country_Of_Risk] AS [Country_Of_Risk], 
        [Extent1].[Security_Type_Code] AS [Security_Type_Code], 
        [Extent1].[Price_Multiplier] AS [Price_Multiplier], 
        [Extent1].[Income_Frequency] AS [Income_Frequency], 
        [Extent1].[Issuer_Code] AS [Issuer_Code], 
        [Extent1].[Ultimate_Issuer_Code] AS [Ultimate_Issuer_Code], 
        [Extent1].[Asset_Currency] AS [Asset_Currency], 
        [Extent1].[Min_Lot_Size] AS [Min_Lot_Size], 
        [Extent1].[Decimal_Precision] AS [Decimal_Precision], 
        [Extent1].[AvePrice_Rounding] AS [AvePrice_Rounding], 
        [Extent1].[Issue_Date] AS [Issue_Date], 
        [Extent1].[Maturity_Date] AS [Maturity_Date], 
        [Extent1].[Coupon_Rate] AS [Coupon_Rate], 
        [Extent1].[Price_Exchange] AS [Price_Exchange], 
        [Extent1].[Trade_Currency] AS [Trade_Currency], 
        [Extent1].[Price_Curr] AS [Price_Curr], 
        [Extent1].[Currency_Pair_Code] AS [Currency_Pair_Code], 
        [Extent1].[Share_Class] AS [Share_Class], 
        [Extent1].[Current_Market_Price] AS [Current_Market_Price], 
        [Extent1].[Index_Type] AS [Index_Type], 
        [Extent1].[Clean_Price_Formula] AS [Clean_Price_Formula], 
        [Extent1].[Accrued_Income_Price_Formula] AS [Accrued_Income_Price_Formula], 
        [Extent1].[Odd_First_Coupon_Date] AS [Odd_First_Coupon_Date], 
        [Extent1].[Odd_Last_Coupon_Date] AS [Odd_Last_Coupon_Date], 
        [Extent1].[Coupon_Anniversary_Indicator] AS [Coupon_Anniversary_Indicator], 
        [Extent1].[Track_EOM_Flag] AS [Track_EOM_Flag], 
        [Extent1].[Next_Coupon_Date] AS [Next_Coupon_Date], 
        [Extent1].[Previous_Coupon_Date] AS [Previous_Coupon_Date], 
        [Extent1].[Payment_Frequency] AS [Payment_Frequency], 
        [Extent1].[Coupon_BusDay_Adjustment] AS [Coupon_BusDay_Adjustment], 
        [Extent1].[Next_Ex_Div_Date] AS [Next_Ex_Div_Date], 
        [Extent1].[Ex_Div_BusDay_Adjustment] AS [Ex_Div_BusDay_Adjustment], 
        [Extent1].[Ex_Div_Period] AS [Ex_Div_Period], 
        [Extent1].[Ticker] AS [Ticker], 
        [Extent1].[Inet_ID] AS [Inet_ID], 
        [Extent1].[Bloomberg_ID] AS [Bloomberg_ID], 
        [Extent1].[External_Sec_ID] AS [External_Sec_ID], 
        [Extent1].[Reuters_ID] AS [Reuters_ID], 
        [Extent1].[ISIN] AS [ISIN], 
        [Extent1].[Call_Account_Flag] AS [Call_Account_Flag], 
        [Extent1].[System_Locked] AS [System_Locked], 
        [Extent1].[Last_Update_User] AS [Last_Update_User], 
        [Extent1].[Last_Update_Date] AS [Last_Update_Date], 
        [Extent1].[Security_Status] AS [Security_Status], 
        [Extent1].[Benchmark_Portfolio] AS [Benchmark_Portfolio], 
        [Extent1].[Active_flag] AS [Active_flag], 
        [Extent1].[Dividend_FX_Security_ID] AS [Dividend_FX_Security_ID]
        FROM [dbo].[Security_Detail] AS [Extent1]
        WHERE ([Extent1].[Entity_ID] IN (@p__linq__0,@p__linq__1)) AND ((CASE WHEN ( NOT ((N'' = @p__linq__2) AND (@p__linq__2 IS NOT NULL))) THEN CASE WHEN ([Extent1].[Security_Type_Code] = @p__linq__3) THEN cast(1 as bit) WHEN ( NOT (([Extent1].[Security_Type_Code] = @p__linq__3) AND (0 = (CASE WHEN (@p__linq__3 IS NULL) THEN cast(1 as bit) ELSE cast(0 as bit) END)))) THEN cast(0 as bit) END WHEN ('' <> [Extent1].[Security_Type_Code]) THEN cast(1 as bit) WHEN ('' = [Extent1].[Security_Type_Code]) THEN cast(0 as bit) END) = 1)
    )  AS [Project1]
    ORDER BY [Project1].[Security_Name] ASC
2018-04-07 18:43:32.7803|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: IF db_id(N'MetopeAzureDb') IS NOT NULL SELECT 1 ELSE SELECT Count(*) FROM sys.databases WHERE [name]=N'MetopeAzureDb'
2018-04-07 18:43:32.8774|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: IF db_id(N'MetopeAzureDb') IS NOT NULL SELECT 1 ELSE SELECT Count(*) FROM sys.databases WHERE [name]=N'MetopeAzureDb'
2018-04-07 18:43:32.9474|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: IF db_id(N'MetopeAzureDb') IS NOT NULL SELECT 1 ELSE SELECT Count(*) FROM sys.databases WHERE [name]=N'MetopeAzureDb'
2018-04-07 18:43:32.9939|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: IF db_id(N'MetopeAzureDb') IS NOT NULL SELECT 1 ELSE SELECT Count(*) FROM sys.databases WHERE [name]=N'MetopeAzureDb'
2018-04-07 18:43:33.2571|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: SELECT 
    [Project1].[Security_ID] AS [Security_ID], 
    [Project1].[Entity_ID] AS [Entity_ID], 
    [Project1].[Security_Name] AS [Security_Name], 
    [Project1].[Short_Name] AS [Short_Name], 
    [Project1].[Primary_Exch] AS [Primary_Exch], 
    [Project1].[Secondary_Exch] AS [Secondary_Exch], 
    [Project1].[Country_Of_Domicile] AS [Country_Of_Domicile], 
    [Project1].[Country_Of_Risk] AS [Country_Of_Risk], 
    [Project1].[Security_Type_Code] AS [Security_Type_Code], 
    [Project1].[Price_Multiplier] AS [Price_Multiplier], 
    [Project1].[Income_Frequency] AS [Income_Frequency], 
    [Project1].[Issuer_Code] AS [Issuer_Code], 
    [Project1].[Ultimate_Issuer_Code] AS [Ultimate_Issuer_Code], 
    [Project1].[Asset_Currency] AS [Asset_Currency], 
    [Project1].[Min_Lot_Size] AS [Min_Lot_Size], 
    [Project1].[Decimal_Precision] AS [Decimal_Precision], 
    [Project1].[AvePrice_Rounding] AS [AvePrice_Rounding], 
    [Project1].[Issue_Date] AS [Issue_Date], 
    [Project1].[Maturity_Date] AS [Maturity_Date], 
    [Project1].[Coupon_Rate] AS [Coupon_Rate], 
    [Project1].[Price_Exchange] AS [Price_Exchange], 
    [Project1].[Trade_Currency] AS [Trade_Currency], 
    [Project1].[Price_Curr] AS [Price_Curr], 
    [Project1].[Currency_Pair_Code] AS [Currency_Pair_Code], 
    [Project1].[Share_Class] AS [Share_Class], 
    [Project1].[Current_Market_Price] AS [Current_Market_Price], 
    [Project1].[Index_Type] AS [Index_Type], 
    [Project1].[Clean_Price_Formula] AS [Clean_Price_Formula], 
    [Project1].[Accrued_Income_Price_Formula] AS [Accrued_Income_Price_Formula], 
    [Project1].[Odd_First_Coupon_Date] AS [Odd_First_Coupon_Date], 
    [Project1].[Odd_Last_Coupon_Date] AS [Odd_Last_Coupon_Date], 
    [Project1].[Coupon_Anniversary_Indicator] AS [Coupon_Anniversary_Indicator], 
    [Project1].[Track_EOM_Flag] AS [Track_EOM_Flag], 
    [Project1].[Next_Coupon_Date] AS [Next_Coupon_Date], 
    [Project1].[Previous_Coupon_Date] AS [Previous_Coupon_Date], 
    [Project1].[Payment_Frequency] AS [Payment_Frequency], 
    [Project1].[Coupon_BusDay_Adjustment] AS [Coupon_BusDay_Adjustment], 
    [Project1].[Next_Ex_Div_Date] AS [Next_Ex_Div_Date], 
    [Project1].[Ex_Div_BusDay_Adjustment] AS [Ex_Div_BusDay_Adjustment], 
    [Project1].[Ex_Div_Period] AS [Ex_Div_Period], 
    [Project1].[Ticker] AS [Ticker], 
    [Project1].[Inet_ID] AS [Inet_ID], 
    [Project1].[Bloomberg_ID] AS [Bloomberg_ID], 
    [Project1].[External_Sec_ID] AS [External_Sec_ID], 
    [Project1].[Reuters_ID] AS [Reuters_ID], 
    [Project1].[ISIN] AS [ISIN], 
    [Project1].[Call_Account_Flag] AS [Call_Account_Flag], 
    [Project1].[System_Locked] AS [System_Locked], 
    [Project1].[Last_Update_User] AS [Last_Update_User], 
    [Project1].[Last_Update_Date] AS [Last_Update_Date], 
    [Project1].[Security_Status] AS [Security_Status], 
    [Project1].[Benchmark_Portfolio] AS [Benchmark_Portfolio], 
    [Project1].[Active_flag] AS [Active_flag], 
    [Project1].[Dividend_FX_Security_ID] AS [Dividend_FX_Security_ID]
    FROM ( SELECT 
        [Extent1].[Security_ID] AS [Security_ID], 
        [Extent1].[Entity_ID] AS [Entity_ID], 
        [Extent1].[Security_Name] AS [Security_Name], 
        [Extent1].[Short_Name] AS [Short_Name], 
        [Extent1].[Primary_Exch] AS [Primary_Exch], 
        [Extent1].[Secondary_Exch] AS [Secondary_Exch], 
        [Extent1].[Country_Of_Domicile] AS [Country_Of_Domicile], 
        [Extent1].[Country_Of_Risk] AS [Country_Of_Risk], 
        [Extent1].[Security_Type_Code] AS [Security_Type_Code], 
        [Extent1].[Price_Multiplier] AS [Price_Multiplier], 
        [Extent1].[Income_Frequency] AS [Income_Frequency], 
        [Extent1].[Issuer_Code] AS [Issuer_Code], 
        [Extent1].[Ultimate_Issuer_Code] AS [Ultimate_Issuer_Code], 
        [Extent1].[Asset_Currency] AS [Asset_Currency], 
        [Extent1].[Min_Lot_Size] AS [Min_Lot_Size], 
        [Extent1].[Decimal_Precision] AS [Decimal_Precision], 
        [Extent1].[AvePrice_Rounding] AS [AvePrice_Rounding], 
        [Extent1].[Issue_Date] AS [Issue_Date], 
        [Extent1].[Maturity_Date] AS [Maturity_Date], 
        [Extent1].[Coupon_Rate] AS [Coupon_Rate], 
        [Extent1].[Price_Exchange] AS [Price_Exchange], 
        [Extent1].[Trade_Currency] AS [Trade_Currency], 
        [Extent1].[Price_Curr] AS [Price_Curr], 
        [Extent1].[Currency_Pair_Code] AS [Currency_Pair_Code], 
        [Extent1].[Share_Class] AS [Share_Class], 
        [Extent1].[Current_Market_Price] AS [Current_Market_Price], 
        [Extent1].[Index_Type] AS [Index_Type], 
        [Extent1].[Clean_Price_Formula] AS [Clean_Price_Formula], 
        [Extent1].[Accrued_Income_Price_Formula] AS [Accrued_Income_Price_Formula], 
        [Extent1].[Odd_First_Coupon_Date] AS [Odd_First_Coupon_Date], 
        [Extent1].[Odd_Last_Coupon_Date] AS [Odd_Last_Coupon_Date], 
        [Extent1].[Coupon_Anniversary_Indicator] AS [Coupon_Anniversary_Indicator], 
        [Extent1].[Track_EOM_Flag] AS [Track_EOM_Flag], 
        [Extent1].[Next_Coupon_Date] AS [Next_Coupon_Date], 
        [Extent1].[Previous_Coupon_Date] AS [Previous_Coupon_Date], 
        [Extent1].[Payment_Frequency] AS [Payment_Frequency], 
        [Extent1].[Coupon_BusDay_Adjustment] AS [Coupon_BusDay_Adjustment], 
        [Extent1].[Next_Ex_Div_Date] AS [Next_Ex_Div_Date], 
        [Extent1].[Ex_Div_BusDay_Adjustment] AS [Ex_Div_BusDay_Adjustment], 
        [Extent1].[Ex_Div_Period] AS [Ex_Div_Period], 
        [Extent1].[Ticker] AS [Ticker], 
        [Extent1].[Inet_ID] AS [Inet_ID], 
        [Extent1].[Bloomberg_ID] AS [Bloomberg_ID], 
        [Extent1].[External_Sec_ID] AS [External_Sec_ID], 
        [Extent1].[Reuters_ID] AS [Reuters_ID], 
        [Extent1].[ISIN] AS [ISIN], 
        [Extent1].[Call_Account_Flag] AS [Call_Account_Flag], 
        [Extent1].[System_Locked] AS [System_Locked], 
        [Extent1].[Last_Update_User] AS [Last_Update_User], 
        [Extent1].[Last_Update_Date] AS [Last_Update_Date], 
        [Extent1].[Security_Status] AS [Security_Status], 
        [Extent1].[Benchmark_Portfolio] AS [Benchmark_Portfolio], 
        [Extent1].[Active_flag] AS [Active_flag], 
        [Extent1].[Dividend_FX_Security_ID] AS [Dividend_FX_Security_ID]
        FROM [dbo].[Security_Detail] AS [Extent1]
        WHERE ([Extent1].[Entity_ID] IN (@p__linq__0,@p__linq__1)) AND ((CASE WHEN ( NOT ((N'' = @p__linq__2) AND (@p__linq__2 IS NOT NULL))) THEN CASE WHEN ([Extent1].[Security_Type_Code] = @p__linq__3) THEN cast(1 as bit) WHEN ( NOT (([Extent1].[Security_Type_Code] = @p__linq__3) AND (0 = (CASE WHEN (@p__linq__3 IS NULL) THEN cast(1 as bit) ELSE cast(0 as bit) END)))) THEN cast(0 as bit) END WHEN ('' <> [Extent1].[Security_Type_Code]) THEN cast(1 as bit) WHEN ('' = [Extent1].[Security_Type_Code]) THEN cast(0 as bit) END) = 1)
    )  AS [Project1]
    ORDER BY [Project1].[Security_Name] ASC
2018-04-07 18:43:33.2796|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: SELECT 
    [Project1].[Security_ID] AS [Security_ID], 
    [Project1].[Entity_ID] AS [Entity_ID], 
    [Project1].[Security_Name] AS [Security_Name], 
    [Project1].[Short_Name] AS [Short_Name], 
    [Project1].[Primary_Exch] AS [Primary_Exch], 
    [Project1].[Secondary_Exch] AS [Secondary_Exch], 
    [Project1].[Country_Of_Domicile] AS [Country_Of_Domicile], 
    [Project1].[Country_Of_Risk] AS [Country_Of_Risk], 
    [Project1].[Security_Type_Code] AS [Security_Type_Code], 
    [Project1].[Price_Multiplier] AS [Price_Multiplier], 
    [Project1].[Income_Frequency] AS [Income_Frequency], 
    [Project1].[Issuer_Code] AS [Issuer_Code], 
    [Project1].[Ultimate_Issuer_Code] AS [Ultimate_Issuer_Code], 
    [Project1].[Asset_Currency] AS [Asset_Currency], 
    [Project1].[Min_Lot_Size] AS [Min_Lot_Size], 
    [Project1].[Decimal_Precision] AS [Decimal_Precision], 
    [Project1].[AvePrice_Rounding] AS [AvePrice_Rounding], 
    [Project1].[Issue_Date] AS [Issue_Date], 
    [Project1].[Maturity_Date] AS [Maturity_Date], 
    [Project1].[Coupon_Rate] AS [Coupon_Rate], 
    [Project1].[Price_Exchange] AS [Price_Exchange], 
    [Project1].[Trade_Currency] AS [Trade_Currency], 
    [Project1].[Price_Curr] AS [Price_Curr], 
    [Project1].[Currency_Pair_Code] AS [Currency_Pair_Code], 
    [Project1].[Share_Class] AS [Share_Class], 
    [Project1].[Current_Market_Price] AS [Current_Market_Price], 
    [Project1].[Index_Type] AS [Index_Type], 
    [Project1].[Clean_Price_Formula] AS [Clean_Price_Formula], 
    [Project1].[Accrued_Income_Price_Formula] AS [Accrued_Income_Price_Formula], 
    [Project1].[Odd_First_Coupon_Date] AS [Odd_First_Coupon_Date], 
    [Project1].[Odd_Last_Coupon_Date] AS [Odd_Last_Coupon_Date], 
    [Project1].[Coupon_Anniversary_Indicator] AS [Coupon_Anniversary_Indicator], 
    [Project1].[Track_EOM_Flag] AS [Track_EOM_Flag], 
    [Project1].[Next_Coupon_Date] AS [Next_Coupon_Date], 
    [Project1].[Previous_Coupon_Date] AS [Previous_Coupon_Date], 
    [Project1].[Payment_Frequency] AS [Payment_Frequency], 
    [Project1].[Coupon_BusDay_Adjustment] AS [Coupon_BusDay_Adjustment], 
    [Project1].[Next_Ex_Div_Date] AS [Next_Ex_Div_Date], 
    [Project1].[Ex_Div_BusDay_Adjustment] AS [Ex_Div_BusDay_Adjustment], 
    [Project1].[Ex_Div_Period] AS [Ex_Div_Period], 
    [Project1].[Ticker] AS [Ticker], 
    [Project1].[Inet_ID] AS [Inet_ID], 
    [Project1].[Bloomberg_ID] AS [Bloomberg_ID], 
    [Project1].[External_Sec_ID] AS [External_Sec_ID], 
    [Project1].[Reuters_ID] AS [Reuters_ID], 
    [Project1].[ISIN] AS [ISIN], 
    [Project1].[Call_Account_Flag] AS [Call_Account_Flag], 
    [Project1].[System_Locked] AS [System_Locked], 
    [Project1].[Last_Update_User] AS [Last_Update_User], 
    [Project1].[Last_Update_Date] AS [Last_Update_Date], 
    [Project1].[Security_Status] AS [Security_Status], 
    [Project1].[Benchmark_Portfolio] AS [Benchmark_Portfolio], 
    [Project1].[Active_flag] AS [Active_flag], 
    [Project1].[Dividend_FX_Security_ID] AS [Dividend_FX_Security_ID]
    FROM ( SELECT 
        [Extent1].[Security_ID] AS [Security_ID], 
        [Extent1].[Entity_ID] AS [Entity_ID], 
        [Extent1].[Security_Name] AS [Security_Name], 
        [Extent1].[Short_Name] AS [Short_Name], 
        [Extent1].[Primary_Exch] AS [Primary_Exch], 
        [Extent1].[Secondary_Exch] AS [Secondary_Exch], 
        [Extent1].[Country_Of_Domicile] AS [Country_Of_Domicile], 
        [Extent1].[Country_Of_Risk] AS [Country_Of_Risk], 
        [Extent1].[Security_Type_Code] AS [Security_Type_Code], 
        [Extent1].[Price_Multiplier] AS [Price_Multiplier], 
        [Extent1].[Income_Frequency] AS [Income_Frequency], 
        [Extent1].[Issuer_Code] AS [Issuer_Code], 
        [Extent1].[Ultimate_Issuer_Code] AS [Ultimate_Issuer_Code], 
        [Extent1].[Asset_Currency] AS [Asset_Currency], 
        [Extent1].[Min_Lot_Size] AS [Min_Lot_Size], 
        [Extent1].[Decimal_Precision] AS [Decimal_Precision], 
        [Extent1].[AvePrice_Rounding] AS [AvePrice_Rounding], 
        [Extent1].[Issue_Date] AS [Issue_Date], 
        [Extent1].[Maturity_Date] AS [Maturity_Date], 
        [Extent1].[Coupon_Rate] AS [Coupon_Rate], 
        [Extent1].[Price_Exchange] AS [Price_Exchange], 
        [Extent1].[Trade_Currency] AS [Trade_Currency], 
        [Extent1].[Price_Curr] AS [Price_Curr], 
        [Extent1].[Currency_Pair_Code] AS [Currency_Pair_Code], 
        [Extent1].[Share_Class] AS [Share_Class], 
        [Extent1].[Current_Market_Price] AS [Current_Market_Price], 
        [Extent1].[Index_Type] AS [Index_Type], 
        [Extent1].[Clean_Price_Formula] AS [Clean_Price_Formula], 
        [Extent1].[Accrued_Income_Price_Formula] AS [Accrued_Income_Price_Formula], 
        [Extent1].[Odd_First_Coupon_Date] AS [Odd_First_Coupon_Date], 
        [Extent1].[Odd_Last_Coupon_Date] AS [Odd_Last_Coupon_Date], 
        [Extent1].[Coupon_Anniversary_Indicator] AS [Coupon_Anniversary_Indicator], 
        [Extent1].[Track_EOM_Flag] AS [Track_EOM_Flag], 
        [Extent1].[Next_Coupon_Date] AS [Next_Coupon_Date], 
        [Extent1].[Previous_Coupon_Date] AS [Previous_Coupon_Date], 
        [Extent1].[Payment_Frequency] AS [Payment_Frequency], 
        [Extent1].[Coupon_BusDay_Adjustment] AS [Coupon_BusDay_Adjustment], 
        [Extent1].[Next_Ex_Div_Date] AS [Next_Ex_Div_Date], 
        [Extent1].[Ex_Div_BusDay_Adjustment] AS [Ex_Div_BusDay_Adjustment], 
        [Extent1].[Ex_Div_Period] AS [Ex_Div_Period], 
        [Extent1].[Ticker] AS [Ticker], 
        [Extent1].[Inet_ID] AS [Inet_ID], 
        [Extent1].[Bloomberg_ID] AS [Bloomberg_ID], 
        [Extent1].[External_Sec_ID] AS [External_Sec_ID], 
        [Extent1].[Reuters_ID] AS [Reuters_ID], 
        [Extent1].[ISIN] AS [ISIN], 
        [Extent1].[Call_Account_Flag] AS [Call_Account_Flag], 
        [Extent1].[System_Locked] AS [System_Locked], 
        [Extent1].[Last_Update_User] AS [Last_Update_User], 
        [Extent1].[Last_Update_Date] AS [Last_Update_Date], 
        [Extent1].[Security_Status] AS [Security_Status], 
        [Extent1].[Benchmark_Portfolio] AS [Benchmark_Portfolio], 
        [Extent1].[Active_flag] AS [Active_flag], 
        [Extent1].[Dividend_FX_Security_ID] AS [Dividend_FX_Security_ID]
        FROM [dbo].[Security_Detail] AS [Extent1]
        WHERE ([Extent1].[Entity_ID] IN (@p__linq__0,@p__linq__1)) AND ((CASE WHEN ( NOT ((N'' = @p__linq__2) AND (@p__linq__2 IS NOT NULL))) THEN CASE WHEN ([Extent1].[Security_Type_Code] = @p__linq__3) THEN cast(1 as bit) WHEN ( NOT (([Extent1].[Security_Type_Code] = @p__linq__3) AND (0 = (CASE WHEN (@p__linq__3 IS NULL) THEN cast(1 as bit) ELSE cast(0 as bit) END)))) THEN cast(0 as bit) END WHEN ('' <> [Extent1].[Security_Type_Code]) THEN cast(1 as bit) WHEN ('' = [Extent1].[Security_Type_Code]) THEN cast(0 as bit) END) = 1)
    )  AS [Project1]
    ORDER BY [Project1].[Security_Name] ASC
2018-04-07 18:43:33.3092|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: SELECT 
    [Project1].[Security_ID] AS [Security_ID], 
    [Project1].[Entity_ID] AS [Entity_ID], 
    [Project1].[Security_Name] AS [Security_Name], 
    [Project1].[Short_Name] AS [Short_Name], 
    [Project1].[Primary_Exch] AS [Primary_Exch], 
    [Project1].[Secondary_Exch] AS [Secondary_Exch], 
    [Project1].[Country_Of_Domicile] AS [Country_Of_Domicile], 
    [Project1].[Country_Of_Risk] AS [Country_Of_Risk], 
    [Project1].[Security_Type_Code] AS [Security_Type_Code], 
    [Project1].[Price_Multiplier] AS [Price_Multiplier], 
    [Project1].[Income_Frequency] AS [Income_Frequency], 
    [Project1].[Issuer_Code] AS [Issuer_Code], 
    [Project1].[Ultimate_Issuer_Code] AS [Ultimate_Issuer_Code], 
    [Project1].[Asset_Currency] AS [Asset_Currency], 
    [Project1].[Min_Lot_Size] AS [Min_Lot_Size], 
    [Project1].[Decimal_Precision] AS [Decimal_Precision], 
    [Project1].[AvePrice_Rounding] AS [AvePrice_Rounding], 
    [Project1].[Issue_Date] AS [Issue_Date], 
    [Project1].[Maturity_Date] AS [Maturity_Date], 
    [Project1].[Coupon_Rate] AS [Coupon_Rate], 
    [Project1].[Price_Exchange] AS [Price_Exchange], 
    [Project1].[Trade_Currency] AS [Trade_Currency], 
    [Project1].[Price_Curr] AS [Price_Curr], 
    [Project1].[Currency_Pair_Code] AS [Currency_Pair_Code], 
    [Project1].[Share_Class] AS [Share_Class], 
    [Project1].[Current_Market_Price] AS [Current_Market_Price], 
    [Project1].[Index_Type] AS [Index_Type], 
    [Project1].[Clean_Price_Formula] AS [Clean_Price_Formula], 
    [Project1].[Accrued_Income_Price_Formula] AS [Accrued_Income_Price_Formula], 
    [Project1].[Odd_First_Coupon_Date] AS [Odd_First_Coupon_Date], 
    [Project1].[Odd_Last_Coupon_Date] AS [Odd_Last_Coupon_Date], 
    [Project1].[Coupon_Anniversary_Indicator] AS [Coupon_Anniversary_Indicator], 
    [Project1].[Track_EOM_Flag] AS [Track_EOM_Flag], 
    [Project1].[Next_Coupon_Date] AS [Next_Coupon_Date], 
    [Project1].[Previous_Coupon_Date] AS [Previous_Coupon_Date], 
    [Project1].[Payment_Frequency] AS [Payment_Frequency], 
    [Project1].[Coupon_BusDay_Adjustment] AS [Coupon_BusDay_Adjustment], 
    [Project1].[Next_Ex_Div_Date] AS [Next_Ex_Div_Date], 
    [Project1].[Ex_Div_BusDay_Adjustment] AS [Ex_Div_BusDay_Adjustment], 
    [Project1].[Ex_Div_Period] AS [Ex_Div_Period], 
    [Project1].[Ticker] AS [Ticker], 
    [Project1].[Inet_ID] AS [Inet_ID], 
    [Project1].[Bloomberg_ID] AS [Bloomberg_ID], 
    [Project1].[External_Sec_ID] AS [External_Sec_ID], 
    [Project1].[Reuters_ID] AS [Reuters_ID], 
    [Project1].[ISIN] AS [ISIN], 
    [Project1].[Call_Account_Flag] AS [Call_Account_Flag], 
    [Project1].[System_Locked] AS [System_Locked], 
    [Project1].[Last_Update_User] AS [Last_Update_User], 
    [Project1].[Last_Update_Date] AS [Last_Update_Date], 
    [Project1].[Security_Status] AS [Security_Status], 
    [Project1].[Benchmark_Portfolio] AS [Benchmark_Portfolio], 
    [Project1].[Active_flag] AS [Active_flag], 
    [Project1].[Dividend_FX_Security_ID] AS [Dividend_FX_Security_ID]
    FROM ( SELECT 
        [Extent1].[Security_ID] AS [Security_ID], 
        [Extent1].[Entity_ID] AS [Entity_ID], 
        [Extent1].[Security_Name] AS [Security_Name], 
        [Extent1].[Short_Name] AS [Short_Name], 
        [Extent1].[Primary_Exch] AS [Primary_Exch], 
        [Extent1].[Secondary_Exch] AS [Secondary_Exch], 
        [Extent1].[Country_Of_Domicile] AS [Country_Of_Domicile], 
        [Extent1].[Country_Of_Risk] AS [Country_Of_Risk], 
        [Extent1].[Security_Type_Code] AS [Security_Type_Code], 
        [Extent1].[Price_Multiplier] AS [Price_Multiplier], 
        [Extent1].[Income_Frequency] AS [Income_Frequency], 
        [Extent1].[Issuer_Code] AS [Issuer_Code], 
        [Extent1].[Ultimate_Issuer_Code] AS [Ultimate_Issuer_Code], 
        [Extent1].[Asset_Currency] AS [Asset_Currency], 
        [Extent1].[Min_Lot_Size] AS [Min_Lot_Size], 
        [Extent1].[Decimal_Precision] AS [Decimal_Precision], 
        [Extent1].[AvePrice_Rounding] AS [AvePrice_Rounding], 
        [Extent1].[Issue_Date] AS [Issue_Date], 
        [Extent1].[Maturity_Date] AS [Maturity_Date], 
        [Extent1].[Coupon_Rate] AS [Coupon_Rate], 
        [Extent1].[Price_Exchange] AS [Price_Exchange], 
        [Extent1].[Trade_Currency] AS [Trade_Currency], 
        [Extent1].[Price_Curr] AS [Price_Curr], 
        [Extent1].[Currency_Pair_Code] AS [Currency_Pair_Code], 
        [Extent1].[Share_Class] AS [Share_Class], 
        [Extent1].[Current_Market_Price] AS [Current_Market_Price], 
        [Extent1].[Index_Type] AS [Index_Type], 
        [Extent1].[Clean_Price_Formula] AS [Clean_Price_Formula], 
        [Extent1].[Accrued_Income_Price_Formula] AS [Accrued_Income_Price_Formula], 
        [Extent1].[Odd_First_Coupon_Date] AS [Odd_First_Coupon_Date], 
        [Extent1].[Odd_Last_Coupon_Date] AS [Odd_Last_Coupon_Date], 
        [Extent1].[Coupon_Anniversary_Indicator] AS [Coupon_Anniversary_Indicator], 
        [Extent1].[Track_EOM_Flag] AS [Track_EOM_Flag], 
        [Extent1].[Next_Coupon_Date] AS [Next_Coupon_Date], 
        [Extent1].[Previous_Coupon_Date] AS [Previous_Coupon_Date], 
        [Extent1].[Payment_Frequency] AS [Payment_Frequency], 
        [Extent1].[Coupon_BusDay_Adjustment] AS [Coupon_BusDay_Adjustment], 
        [Extent1].[Next_Ex_Div_Date] AS [Next_Ex_Div_Date], 
        [Extent1].[Ex_Div_BusDay_Adjustment] AS [Ex_Div_BusDay_Adjustment], 
        [Extent1].[Ex_Div_Period] AS [Ex_Div_Period], 
        [Extent1].[Ticker] AS [Ticker], 
        [Extent1].[Inet_ID] AS [Inet_ID], 
        [Extent1].[Bloomberg_ID] AS [Bloomberg_ID], 
        [Extent1].[External_Sec_ID] AS [External_Sec_ID], 
        [Extent1].[Reuters_ID] AS [Reuters_ID], 
        [Extent1].[ISIN] AS [ISIN], 
        [Extent1].[Call_Account_Flag] AS [Call_Account_Flag], 
        [Extent1].[System_Locked] AS [System_Locked], 
        [Extent1].[Last_Update_User] AS [Last_Update_User], 
        [Extent1].[Last_Update_Date] AS [Last_Update_Date], 
        [Extent1].[Security_Status] AS [Security_Status], 
        [Extent1].[Benchmark_Portfolio] AS [Benchmark_Portfolio], 
        [Extent1].[Active_flag] AS [Active_flag], 
        [Extent1].[Dividend_FX_Security_ID] AS [Dividend_FX_Security_ID]
        FROM [dbo].[Security_Detail] AS [Extent1]
        WHERE ([Extent1].[Entity_ID] IN (@p__linq__0,@p__linq__1)) AND ((CASE WHEN ( NOT ((N'' = @p__linq__2) AND (@p__linq__2 IS NOT NULL))) THEN CASE WHEN ([Extent1].[Security_Type_Code] = @p__linq__3) THEN cast(1 as bit) WHEN ( NOT (([Extent1].[Security_Type_Code] = @p__linq__3) AND (0 = (CASE WHEN (@p__linq__3 IS NULL) THEN cast(1 as bit) ELSE cast(0 as bit) END)))) THEN cast(0 as bit) END WHEN ('' <> [Extent1].[Security_Type_Code]) THEN cast(1 as bit) WHEN ('' = [Extent1].[Security_Type_Code]) THEN cast(0 as bit) END) = 1)
    )  AS [Project1]
    ORDER BY [Project1].[Security_Name] ASC
2018-04-07 18:43:33.3262|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: SELECT 
    [Project1].[Security_ID] AS [Security_ID], 
    [Project1].[Entity_ID] AS [Entity_ID], 
    [Project1].[Security_Name] AS [Security_Name], 
    [Project1].[Short_Name] AS [Short_Name], 
    [Project1].[Primary_Exch] AS [Primary_Exch], 
    [Project1].[Secondary_Exch] AS [Secondary_Exch], 
    [Project1].[Country_Of_Domicile] AS [Country_Of_Domicile], 
    [Project1].[Country_Of_Risk] AS [Country_Of_Risk], 
    [Project1].[Security_Type_Code] AS [Security_Type_Code], 
    [Project1].[Price_Multiplier] AS [Price_Multiplier], 
    [Project1].[Income_Frequency] AS [Income_Frequency], 
    [Project1].[Issuer_Code] AS [Issuer_Code], 
    [Project1].[Ultimate_Issuer_Code] AS [Ultimate_Issuer_Code], 
    [Project1].[Asset_Currency] AS [Asset_Currency], 
    [Project1].[Min_Lot_Size] AS [Min_Lot_Size], 
    [Project1].[Decimal_Precision] AS [Decimal_Precision], 
    [Project1].[AvePrice_Rounding] AS [AvePrice_Rounding], 
    [Project1].[Issue_Date] AS [Issue_Date], 
    [Project1].[Maturity_Date] AS [Maturity_Date], 
    [Project1].[Coupon_Rate] AS [Coupon_Rate], 
    [Project1].[Price_Exchange] AS [Price_Exchange], 
    [Project1].[Trade_Currency] AS [Trade_Currency], 
    [Project1].[Price_Curr] AS [Price_Curr], 
    [Project1].[Currency_Pair_Code] AS [Currency_Pair_Code], 
    [Project1].[Share_Class] AS [Share_Class], 
    [Project1].[Current_Market_Price] AS [Current_Market_Price], 
    [Project1].[Index_Type] AS [Index_Type], 
    [Project1].[Clean_Price_Formula] AS [Clean_Price_Formula], 
    [Project1].[Accrued_Income_Price_Formula] AS [Accrued_Income_Price_Formula], 
    [Project1].[Odd_First_Coupon_Date] AS [Odd_First_Coupon_Date], 
    [Project1].[Odd_Last_Coupon_Date] AS [Odd_Last_Coupon_Date], 
    [Project1].[Coupon_Anniversary_Indicator] AS [Coupon_Anniversary_Indicator], 
    [Project1].[Track_EOM_Flag] AS [Track_EOM_Flag], 
    [Project1].[Next_Coupon_Date] AS [Next_Coupon_Date], 
    [Project1].[Previous_Coupon_Date] AS [Previous_Coupon_Date], 
    [Project1].[Payment_Frequency] AS [Payment_Frequency], 
    [Project1].[Coupon_BusDay_Adjustment] AS [Coupon_BusDay_Adjustment], 
    [Project1].[Next_Ex_Div_Date] AS [Next_Ex_Div_Date], 
    [Project1].[Ex_Div_BusDay_Adjustment] AS [Ex_Div_BusDay_Adjustment], 
    [Project1].[Ex_Div_Period] AS [Ex_Div_Period], 
    [Project1].[Ticker] AS [Ticker], 
    [Project1].[Inet_ID] AS [Inet_ID], 
    [Project1].[Bloomberg_ID] AS [Bloomberg_ID], 
    [Project1].[External_Sec_ID] AS [External_Sec_ID], 
    [Project1].[Reuters_ID] AS [Reuters_ID], 
    [Project1].[ISIN] AS [ISIN], 
    [Project1].[Call_Account_Flag] AS [Call_Account_Flag], 
    [Project1].[System_Locked] AS [System_Locked], 
    [Project1].[Last_Update_User] AS [Last_Update_User], 
    [Project1].[Last_Update_Date] AS [Last_Update_Date], 
    [Project1].[Security_Status] AS [Security_Status], 
    [Project1].[Benchmark_Portfolio] AS [Benchmark_Portfolio], 
    [Project1].[Active_flag] AS [Active_flag], 
    [Project1].[Dividend_FX_Security_ID] AS [Dividend_FX_Security_ID]
    FROM ( SELECT 
        [Extent1].[Security_ID] AS [Security_ID], 
        [Extent1].[Entity_ID] AS [Entity_ID], 
        [Extent1].[Security_Name] AS [Security_Name], 
        [Extent1].[Short_Name] AS [Short_Name], 
        [Extent1].[Primary_Exch] AS [Primary_Exch], 
        [Extent1].[Secondary_Exch] AS [Secondary_Exch], 
        [Extent1].[Country_Of_Domicile] AS [Country_Of_Domicile], 
        [Extent1].[Country_Of_Risk] AS [Country_Of_Risk], 
        [Extent1].[Security_Type_Code] AS [Security_Type_Code], 
        [Extent1].[Price_Multiplier] AS [Price_Multiplier], 
        [Extent1].[Income_Frequency] AS [Income_Frequency], 
        [Extent1].[Issuer_Code] AS [Issuer_Code], 
        [Extent1].[Ultimate_Issuer_Code] AS [Ultimate_Issuer_Code], 
        [Extent1].[Asset_Currency] AS [Asset_Currency], 
        [Extent1].[Min_Lot_Size] AS [Min_Lot_Size], 
        [Extent1].[Decimal_Precision] AS [Decimal_Precision], 
        [Extent1].[AvePrice_Rounding] AS [AvePrice_Rounding], 
        [Extent1].[Issue_Date] AS [Issue_Date], 
        [Extent1].[Maturity_Date] AS [Maturity_Date], 
        [Extent1].[Coupon_Rate] AS [Coupon_Rate], 
        [Extent1].[Price_Exchange] AS [Price_Exchange], 
        [Extent1].[Trade_Currency] AS [Trade_Currency], 
        [Extent1].[Price_Curr] AS [Price_Curr], 
        [Extent1].[Currency_Pair_Code] AS [Currency_Pair_Code], 
        [Extent1].[Share_Class] AS [Share_Class], 
        [Extent1].[Current_Market_Price] AS [Current_Market_Price], 
        [Extent1].[Index_Type] AS [Index_Type], 
        [Extent1].[Clean_Price_Formula] AS [Clean_Price_Formula], 
        [Extent1].[Accrued_Income_Price_Formula] AS [Accrued_Income_Price_Formula], 
        [Extent1].[Odd_First_Coupon_Date] AS [Odd_First_Coupon_Date], 
        [Extent1].[Odd_Last_Coupon_Date] AS [Odd_Last_Coupon_Date], 
        [Extent1].[Coupon_Anniversary_Indicator] AS [Coupon_Anniversary_Indicator], 
        [Extent1].[Track_EOM_Flag] AS [Track_EOM_Flag], 
        [Extent1].[Next_Coupon_Date] AS [Next_Coupon_Date], 
        [Extent1].[Previous_Coupon_Date] AS [Previous_Coupon_Date], 
        [Extent1].[Payment_Frequency] AS [Payment_Frequency], 
        [Extent1].[Coupon_BusDay_Adjustment] AS [Coupon_BusDay_Adjustment], 
        [Extent1].[Next_Ex_Div_Date] AS [Next_Ex_Div_Date], 
        [Extent1].[Ex_Div_BusDay_Adjustment] AS [Ex_Div_BusDay_Adjustment], 
        [Extent1].[Ex_Div_Period] AS [Ex_Div_Period], 
        [Extent1].[Ticker] AS [Ticker], 
        [Extent1].[Inet_ID] AS [Inet_ID], 
        [Extent1].[Bloomberg_ID] AS [Bloomberg_ID], 
        [Extent1].[External_Sec_ID] AS [External_Sec_ID], 
        [Extent1].[Reuters_ID] AS [Reuters_ID], 
        [Extent1].[ISIN] AS [ISIN], 
        [Extent1].[Call_Account_Flag] AS [Call_Account_Flag], 
        [Extent1].[System_Locked] AS [System_Locked], 
        [Extent1].[Last_Update_User] AS [Last_Update_User], 
        [Extent1].[Last_Update_Date] AS [Last_Update_Date], 
        [Extent1].[Security_Status] AS [Security_Status], 
        [Extent1].[Benchmark_Portfolio] AS [Benchmark_Portfolio], 
        [Extent1].[Active_flag] AS [Active_flag], 
        [Extent1].[Dividend_FX_Security_ID] AS [Dividend_FX_Security_ID]
        FROM [dbo].[Security_Detail] AS [Extent1]
        WHERE ([Extent1].[Entity_ID] IN (@p__linq__0,@p__linq__1)) AND ((CASE WHEN ( NOT ((N'' = @p__linq__2) AND (@p__linq__2 IS NOT NULL))) THEN CASE WHEN ([Extent1].[Security_Type_Code] = @p__linq__3) THEN cast(1 as bit) WHEN ( NOT (([Extent1].[Security_Type_Code] = @p__linq__3) AND (0 = (CASE WHEN (@p__linq__3 IS NULL) THEN cast(1 as bit) ELSE cast(0 as bit) END)))) THEN cast(0 as bit) END WHEN ('' <> [Extent1].[Security_Type_Code]) THEN cast(1 as bit) WHEN ('' = [Extent1].[Security_Type_Code]) THEN cast(0 as bit) END) = 1)
    )  AS [Project1]
    ORDER BY [Project1].[Security_Name] ASC
2018-04-07 18:43:33.3517|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: IF db_id(N'MetopeAzureDb') IS NOT NULL SELECT 1 ELSE SELECT Count(*) FROM sys.databases WHERE [name]=N'MetopeAzureDb'
2018-04-07 18:43:33.3667|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: IF db_id(N'MetopeAzureDb') IS NOT NULL SELECT 1 ELSE SELECT Count(*) FROM sys.databases WHERE [name]=N'MetopeAzureDb'
2018-04-07 18:43:33.3782|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: IF db_id(N'MetopeAzureDb') IS NOT NULL SELECT 1 ELSE SELECT Count(*) FROM sys.databases WHERE [name]=N'MetopeAzureDb'
2018-04-07 18:43:33.3782|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: IF db_id(N'MetopeAzureDb') IS NOT NULL SELECT 1 ELSE SELECT Count(*) FROM sys.databases WHERE [name]=N'MetopeAzureDb'
2018-04-07 18:43:39.4371|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: SELECT 
    [Project1].[Decimal_Precision] AS [Decimal_Precision], 
    [Project1].[Entity_ID] AS [Entity_ID], 
    [Project1].[Security_ID] AS [Security_ID], 
    [Project1].[Issued_Amount] AS [Issued_Amount], 
    [Project1].[Market_Capitalisation] AS [Market_Capitalisation], 
    [Project1].[Risk_Premium] AS [Risk_Premium], 
    [Project1].[Exit_Price] AS [Exit_Price], 
    [Project1].[Total_Return_ME_1YR] AS [Total_Return_ME_1YR], 
    [Project1].[Total_Return_ME_2YR] AS [Total_Return_ME_2YR], 
    [Project1].[Total_Return_ME_3YR] AS [Total_Return_ME_3YR], 
    [Project1].[Historic_Distribution] AS [Historic_Distribution], 
    [Project1].[Distribution_Growth_Forecast_Yr1] AS [Distribution_Growth_Forecast_Yr1], 
    [Project1].[Distribution_Growth_Forecast_Yr2] AS [Distribution_Growth_Forecast_Yr2], 
    [Project1].[Distribution_Growth_Forecast_Yr3] AS [Distribution_Growth_Forecast_Yr3], 
    [Project1].[Forecast_Distribution_Yr1] AS [Forecast_Distribution_Yr1], 
    [Project1].[Forecast_Distribution_Yr2] AS [Forecast_Distribution_Yr2], 
    [Project1].[Forecast_Distribution_Yr3] AS [Forecast_Distribution_Yr3], 
    [Project1].[Earnings_Growth_Compounded] AS [Earnings_Growth_Compounded], 
    [Project1].[Earnings_Forecast_Yr3] AS [Earnings_Forecast_Yr3], 
    [Project1].[Historic_Dividend_Yield_FYE] AS [Historic_Dividend_Yield_FYE], 
    [Project1].[Forward_Dividend_Yield_FYE] AS [Forward_Dividend_Yield_FYE], 
    [Project1].[Yr3_Forward_Dividend_Yield] AS [Yr3_Forward_Dividend_Yield], 
    [Project1].[Rolling_12M_Forward_Yield] AS [Rolling_12M_Forward_Yield], 
    [Project1].[Historical_Earnings_FYE] AS [Historical_Earnings_FYE], 
    [Project1].[Earnings_Forecast_Yr1] AS [Earnings_Forecast_Yr1], 
    [Project1].[Earnings_Forecast_Yr2] AS [Earnings_Forecast_Yr2], 
    [Project1].[Historic_Dividend_Yield_Relative] AS [Historic_Dividend_Yield_Relative], 
    [Project1].[Rolling_12M_Historic_Distribution_PriceCurr] AS [Rolling_12M_Historic_Distribution_PriceCurr], 
    [Project1].[Short_Term_Market_Rerate] AS [Short_Term_Market_Rerate], 
    [Project1].[Forecast_12M_Total_Return] AS [Forecast_12M_Total_Return], 
    [Project1].[Clean_Price] AS [Clean_Price], 
    [Project1].[Rolling_Dividend_Yield_Historic] AS [Rolling_Dividend_Yield_Historic], 
    [Project1].[Last_Update_Date] AS [Last_Update_Date], 
    [Project1].[Last_Update_User] AS [Last_Update_User], 
    [Project1].[Discount_Security_ID] AS [Discount_Security_ID], 
    [Project1].[Net_Present_Value] AS [Net_Present_Value], 
    [Project1].[Forecast_Rolling_Custom_Income] AS [Forecast_Rolling_Custom_Income], 
    [Project1].[Custom_Period] AS [Custom_Period], 
    [Project1].[Rolling_12M_Historic_Distribution] AS [Rolling_12M_Historic_Distribution], 
    [Project1].[Record_Date] AS [Record_Date], 
    [Project1].[Session_ID] AS [Session_ID], 
    [Project1].[Hist_Last_Update_Date] AS [Hist_Last_Update_Date], 
    [Project1].[Hist_Last_Update_User] AS [Hist_Last_Update_User], 
    [Project1].[Rolling_12M_Forecast_Distribution] AS [Rolling_12M_Forecast_Distribution], 
    [Project1].[Yr2_Forward_Dividend_Yield] AS [Yr2_Forward_Dividend_Yield], 
    [Project1].[Exit_Yield] AS [Exit_Yield], 
    [Project1].[Discount_Rate] AS [Discount_Rate], 
    [Project1].[Distribution_Growth_Compounded] AS [Distribution_Growth_Compounded], 
    [Project1].[Forecast_12MRolling_Income_Accrual] AS [Forecast_12MRolling_Income_Accrual], 
    [Project1].[Rolling_12_to_24M_Forecast_Distribution] AS [Rolling_12_to_24M_Forecast_Distribution], 
    [Project1].[Rolling_24_to_36M_Forecast_Distribution] AS [Rolling_24_to_36M_Forecast_Distribution], 
    [Project1].[Forecast_Yr1_Dividend_Yield_Relative] AS [Forecast_Yr1_Dividend_Yield_Relative], 
    [Project1].[Market_Historic_Yield] AS [Market_Historic_Yield], 
    [Project1].[Market_Forward_Yield] AS [Market_Forward_Yield], 
    [Project1].[Historic_Distribution_PriceCurr] AS [Historic_Distribution_PriceCurr], 
    [Project1].[Forecast_Distribution_Yr1_PriceCurr] AS [Forecast_Distribution_Yr1_PriceCurr], 
    [Project1].[Forecast_Distribution_Yr2_PriceCurr] AS [Forecast_Distribution_Yr2_PriceCurr], 
    [Project1].[Forecast_Distribution_Yr3_PriceCurr] AS [Forecast_Distribution_Yr3_PriceCurr], 
    [Project1].[Rolling_12M_Forecast_Distribution_PriceCurr] AS [Rolling_12M_Forecast_Distribution_PriceCurr], 
    [Project1].[Rolling_12_24M_Forecast_Distribution_PriceCurr] AS [Rolling_12_24M_Forecast_Distribution_PriceCurr], 
    [Project1].[Rolling_24_36M_Forecast_Distribution_PriceCurr] AS [Rolling_24_36M_Forecast_Distribution_PriceCurr], 
    [Project1].[Distribution_Growth_Forecast_Yr4] AS [Distribution_Growth_Forecast_Yr4], 
    [Project1].[Earnings_Forecast_Yr4] AS [Earnings_Forecast_Yr4], 
    [Project1].[Forecast_Distribution_Yr4] AS [Forecast_Distribution_Yr4], 
    [Project1].[Forecast_Distribution_Yr4_PriceCurr] AS [Forecast_Distribution_Yr4_PriceCurr], 
    [Project1].[Security_ID1] AS [Security_ID1], 
    [Project1].[Entity_ID1] AS [Entity_ID1], 
    [Project1].[Security_Name] AS [Security_Name], 
    [Project1].[Short_Name] AS [Short_Name], 
    [Project1].[Primary_Exch] AS [Primary_Exch], 
    [Project1].[Secondary_Exch] AS [Secondary_Exch], 
    [Project1].[Country_Of_Domicile] AS [Country_Of_Domicile], 
    [Project1].[Country_Of_Risk] AS [Country_Of_Risk], 
    [Project1].[Security_Type_Code] AS [Security_Type_Code], 
    [Project1].[Price_Multiplier] AS [Price_Multiplier], 
    [Project1].[Income_Frequency] AS [Income_Frequency], 
    [Project1].[Issuer_Code] AS [Issuer_Code], 
    [Project1].[Ultimate_Issuer_Code] AS [Ultimate_Issuer_Code], 
    [Project1].[Asset_Currency] AS [Asset_Currency], 
    [Project1].[Min_Lot_Size] AS [Min_Lot_Size], 
    [Project1].[AvePrice_Rounding] AS [AvePrice_Rounding], 
    [Project1].[Issue_Date] AS [Issue_Date], 
    [Project1].[Maturity_Date] AS [Maturity_Date], 
    [Project1].[Coupon_Rate] AS [Coupon_Rate], 
    [Project1].[Price_Exchange] AS [Price_Exchange], 
    [Project1].[Trade_Currency] AS [Trade_Currency], 
    [Project1].[Price_Curr] AS [Price_Curr], 
    [Project1].[Currency_Pair_Code] AS [Currency_Pair_Code], 
    [Project1].[Share_Class] AS [Share_Class], 
    [Project1].[Current_Market_Price] AS [Current_Market_Price], 
    [Project1].[Index_Type] AS [Index_Type], 
    [Project1].[Clean_Price_Formula] AS [Clean_Price_Formula], 
    [Project1].[Accrued_Income_Price_Formula] AS [Accrued_Income_Price_Formula], 
    [Project1].[Odd_First_Coupon_Date] AS [Odd_First_Coupon_Date], 
    [Project1].[Odd_Last_Coupon_Date] AS [Odd_Last_Coupon_Date], 
    [Project1].[Coupon_Anniversary_Indicator] AS [Coupon_Anniversary_Indicator], 
    [Project1].[Track_EOM_Flag] AS [Track_EOM_Flag], 
    [Project1].[Next_Coupon_Date] AS [Next_Coupon_Date], 
    [Project1].[Previous_Coupon_Date] AS [Previous_Coupon_Date], 
    [Project1].[Payment_Frequency] AS [Payment_Frequency], 
    [Project1].[Coupon_BusDay_Adjustment] AS [Coupon_BusDay_Adjustment], 
    [Project1].[Next_Ex_Div_Date] AS [Next_Ex_Div_Date], 
    [Project1].[Ex_Div_BusDay_Adjustment] AS [Ex_Div_BusDay_Adjustment], 
    [Project1].[Ex_Div_Period] AS [Ex_Div_Period], 
    [Project1].[Ticker] AS [Ticker], 
    [Project1].[Inet_ID] AS [Inet_ID], 
    [Project1].[Bloomberg_ID] AS [Bloomberg_ID], 
    [Project1].[External_Sec_ID] AS [External_Sec_ID], 
    [Project1].[Reuters_ID] AS [Reuters_ID], 
    [Project1].[ISIN] AS [ISIN], 
    [Project1].[Call_Account_Flag] AS [Call_Account_Flag], 
    [Project1].[System_Locked] AS [System_Locked], 
    [Project1].[Last_Update_User1] AS [Last_Update_User1], 
    [Project1].[Last_Update_Date1] AS [Last_Update_Date1], 
    [Project1].[Security_Status] AS [Security_Status], 
    [Project1].[Benchmark_Portfolio] AS [Benchmark_Portfolio], 
    [Project1].[Active_flag] AS [Active_flag], 
    [Project1].[Dividend_FX_Security_ID] AS [Dividend_FX_Security_ID]
    FROM ( SELECT 
        [Extent1].[Entity_ID] AS [Entity_ID], 
        [Extent1].[Security_ID] AS [Security_ID], 
        [Extent1].[Issued_Amount] AS [Issued_Amount], 
        [Extent1].[Market_Capitalisation] AS [Market_Capitalisation], 
        [Extent1].[Risk_Premium] AS [Risk_Premium], 
        [Extent1].[Exit_Price] AS [Exit_Price], 
        [Extent1].[Total_Return_ME_1YR] AS [Total_Return_ME_1YR], 
        [Extent1].[Total_Return_ME_2YR] AS [Total_Return_ME_2YR], 
        [Extent1].[Total_Return_ME_3YR] AS [Total_Return_ME_3YR], 
        [Extent1].[Historic_Distribution] AS [Historic_Distribution], 
        [Extent1].[Distribution_Growth_Forecast_Yr1] AS [Distribution_Growth_Forecast_Yr1], 
        [Extent1].[Distribution_Growth_Forecast_Yr2] AS [Distribution_Growth_Forecast_Yr2], 
        [Extent1].[Distribution_Growth_Forecast_Yr3] AS [Distribution_Growth_Forecast_Yr3], 
        [Extent1].[Forecast_Distribution_Yr1] AS [Forecast_Distribution_Yr1], 
        [Extent1].[Forecast_Distribution_Yr2] AS [Forecast_Distribution_Yr2], 
        [Extent1].[Forecast_Distribution_Yr3] AS [Forecast_Distribution_Yr3], 
        [Extent1].[Earnings_Growth_Compounded] AS [Earnings_Growth_Compounded], 
        [Extent1].[Earnings_Forecast_Yr3] AS [Earnings_Forecast_Yr3], 
        [Extent1].[Historic_Dividend_Yield_FYE] AS [Historic_Dividend_Yield_FYE], 
        [Extent1].[Forward_Dividend_Yield_FYE] AS [Forward_Dividend_Yield_FYE], 
        [Extent1].[Yr3_Forward_Dividend_Yield] AS [Yr3_Forward_Dividend_Yield], 
        [Extent1].[Rolling_12M_Forward_Yield] AS [Rolling_12M_Forward_Yield], 
        [Extent1].[Historical_Earnings_FYE] AS [Historical_Earnings_FYE], 
        [Extent1].[Earnings_Forecast_Yr1] AS [Earnings_Forecast_Yr1], 
        [Extent1].[Earnings_Forecast_Yr2] AS [Earnings_Forecast_Yr2], 
        [Extent1].[Historic_Dividend_Yield_Relative] AS [Historic_Dividend_Yield_Relative], 
        [Extent1].[Rolling_12M_Historic_Distribution_PriceCurr] AS [Rolling_12M_Historic_Distribution_PriceCurr], 
        [Extent1].[Short_Term_Market_Rerate] AS [Short_Term_Market_Rerate], 
        [Extent1].[Forecast_12M_Total_Return] AS [Forecast_12M_Total_Return], 
        [Extent1].[Clean_Price] AS [Clean_Price], 
        [Extent1].[Rolling_Dividend_Yield_Historic] AS [Rolling_Dividend_Yield_Historic], 
        [Extent1].[Last_Update_Date] AS [Last_Update_Date], 
        [Extent1].[Last_Update_User] AS [Last_Update_User], 
        [Extent1].[Discount_Security_ID] AS [Discount_Security_ID], 
        [Extent1].[Net_Present_Value] AS [Net_Present_Value], 
        [Extent1].[Forecast_Rolling_Custom_Income] AS [Forecast_Rolling_Custom_Income], 
        [Extent1].[Custom_Period] AS [Custom_Period], 
        [Extent1].[Rolling_12M_Historic_Distribution] AS [Rolling_12M_Historic_Distribution], 
        [Extent1].[Record_Date] AS [Record_Date], 
        [Extent1].[Session_ID] AS [Session_ID], 
        [Extent1].[Hist_Last_Update_Date] AS [Hist_Last_Update_Date], 
        [Extent1].[Hist_Last_Update_User] AS [Hist_Last_Update_User], 
        [Extent1].[Rolling_12M_Forecast_Distribution] AS [Rolling_12M_Forecast_Distribution], 
        [Extent1].[Yr2_Forward_Dividend_Yield] AS [Yr2_Forward_Dividend_Yield], 
        [Extent1].[Exit_Yield] AS [Exit_Yield], 
        [Extent1].[Discount_Rate] AS [Discount_Rate], 
        [Extent1].[Distribution_Growth_Compounded] AS [Distribution_Growth_Compounded], 
        [Extent1].[Forecast_12MRolling_Income_Accrual] AS [Forecast_12MRolling_Income_Accrual], 
        [Extent1].[Rolling_12_to_24M_Forecast_Distribution] AS [Rolling_12_to_24M_Forecast_Distribution], 
        [Extent1].[Rolling_24_to_36M_Forecast_Distribution] AS [Rolling_24_to_36M_Forecast_Distribution], 
        [Extent1].[Forecast_Yr1_Dividend_Yield_Relative] AS [Forecast_Yr1_Dividend_Yield_Relative], 
        [Extent1].[Market_Historic_Yield] AS [Market_Historic_Yield], 
        [Extent1].[Market_Forward_Yield] AS [Market_Forward_Yield], 
        [Extent1].[Historic_Distribution_PriceCurr] AS [Historic_Distribution_PriceCurr], 
        [Extent1].[Forecast_Distribution_Yr1_PriceCurr] AS [Forecast_Distribution_Yr1_PriceCurr], 
        [Extent1].[Forecast_Distribution_Yr2_PriceCurr] AS [Forecast_Distribution_Yr2_PriceCurr], 
        [Extent1].[Forecast_Distribution_Yr3_PriceCurr] AS [Forecast_Distribution_Yr3_PriceCurr], 
        [Extent1].[Rolling_12M_Forecast_Distribution_PriceCurr] AS [Rolling_12M_Forecast_Distribution_PriceCurr], 
        [Extent1].[Rolling_12_24M_Forecast_Distribution_PriceCurr] AS [Rolling_12_24M_Forecast_Distribution_PriceCurr], 
        [Extent1].[Rolling_24_36M_Forecast_Distribution_PriceCurr] AS [Rolling_24_36M_Forecast_Distribution_PriceCurr], 
        [Extent1].[Distribution_Growth_Forecast_Yr4] AS [Distribution_Growth_Forecast_Yr4], 
        [Extent1].[Earnings_Forecast_Yr4] AS [Earnings_Forecast_Yr4], 
        [Extent1].[Forecast_Distribution_Yr4] AS [Forecast_Distribution_Yr4], 
        [Extent1].[Forecast_Distribution_Yr4_PriceCurr] AS [Forecast_Distribution_Yr4_PriceCurr], 
        [Extent2].[Security_ID] AS [Security_ID1], 
        [Extent2].[Entity_ID] AS [Entity_ID1], 
        [Extent2].[Security_Name] AS [Security_Name], 
        [Extent2].[Short_Name] AS [Short_Name], 
        [Extent2].[Primary_Exch] AS [Primary_Exch], 
        [Extent2].[Secondary_Exch] AS [Secondary_Exch], 
        [Extent2].[Country_Of_Domicile] AS [Country_Of_Domicile], 
        [Extent2].[Country_Of_Risk] AS [Country_Of_Risk], 
        [Extent2].[Security_Type_Code] AS [Security_Type_Code], 
        [Extent2].[Price_Multiplier] AS [Price_Multiplier], 
        [Extent2].[Income_Frequency] AS [Income_Frequency], 
        [Extent2].[Issuer_Code] AS [Issuer_Code], 
        [Extent2].[Ultimate_Issuer_Code] AS [Ultimate_Issuer_Code], 
        [Extent2].[Asset_Currency] AS [Asset_Currency], 
        [Extent2].[Min_Lot_Size] AS [Min_Lot_Size], 
        [Extent2].[Decimal_Precision] AS [Decimal_Precision], 
        [Extent2].[AvePrice_Rounding] AS [AvePrice_Rounding], 
        [Extent2].[Issue_Date] AS [Issue_Date], 
        [Extent2].[Maturity_Date] AS [Maturity_Date], 
        [Extent2].[Coupon_Rate] AS [Coupon_Rate], 
        [Extent2].[Price_Exchange] AS [Price_Exchange], 
        [Extent2].[Trade_Currency] AS [Trade_Currency], 
        [Extent2].[Price_Curr] AS [Price_Curr], 
        [Extent2].[Currency_Pair_Code] AS [Currency_Pair_Code], 
        [Extent2].[Share_Class] AS [Share_Class], 
        [Extent2].[Current_Market_Price] AS [Current_Market_Price], 
        [Extent2].[Index_Type] AS [Index_Type], 
        [Extent2].[Clean_Price_Formula] AS [Clean_Price_Formula], 
        [Extent2].[Accrued_Income_Price_Formula] AS [Accrued_Income_Price_Formula], 
        [Extent2].[Odd_First_Coupon_Date] AS [Odd_First_Coupon_Date], 
        [Extent2].[Odd_Last_Coupon_Date] AS [Odd_Last_Coupon_Date], 
        [Extent2].[Coupon_Anniversary_Indicator] AS [Coupon_Anniversary_Indicator], 
        [Extent2].[Track_EOM_Flag] AS [Track_EOM_Flag], 
        [Extent2].[Next_Coupon_Date] AS [Next_Coupon_Date], 
        [Extent2].[Previous_Coupon_Date] AS [Previous_Coupon_Date], 
        [Extent2].[Payment_Frequency] AS [Payment_Frequency], 
        [Extent2].[Coupon_BusDay_Adjustment] AS [Coupon_BusDay_Adjustment], 
        [Extent2].[Next_Ex_Div_Date] AS [Next_Ex_Div_Date], 
        [Extent2].[Ex_Div_BusDay_Adjustment] AS [Ex_Div_BusDay_Adjustment], 
        [Extent2].[Ex_Div_Period] AS [Ex_Div_Period], 
        [Extent2].[Ticker] AS [Ticker], 
        [Extent2].[Inet_ID] AS [Inet_ID], 
        [Extent2].[Bloomberg_ID] AS [Bloomberg_ID], 
        [Extent2].[External_Sec_ID] AS [External_Sec_ID], 
        [Extent2].[Reuters_ID] AS [Reuters_ID], 
        [Extent2].[ISIN] AS [ISIN], 
        [Extent2].[Call_Account_Flag] AS [Call_Account_Flag], 
        [Extent2].[System_Locked] AS [System_Locked], 
        [Extent2].[Last_Update_User] AS [Last_Update_User1], 
        [Extent2].[Last_Update_Date] AS [Last_Update_Date1], 
        [Extent2].[Security_Status] AS [Security_Status], 
        [Extent2].[Benchmark_Portfolio] AS [Benchmark_Portfolio], 
        [Extent2].[Active_flag] AS [Active_flag], 
        [Extent2].[Dividend_FX_Security_ID] AS [Dividend_FX_Security_ID]
        FROM  [dbo].[Security_Analytics_History] AS [Extent1]
        INNER JOIN [dbo].[Security_Detail] AS [Extent2] ON [Extent1].[Security_ID] = [Extent2].[Security_ID]
        WHERE [Extent1].[Security_ID] = @p__linq__0
    )  AS [Project1]
    ORDER BY [Project1].[Record_Date] DESC
2018-04-07 18:43:39.5272|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: SELECT 
    [Project1].[Decimal_Precision] AS [Decimal_Precision], 
    [Project1].[Entity_ID] AS [Entity_ID], 
    [Project1].[Security_ID] AS [Security_ID], 
    [Project1].[Issued_Amount] AS [Issued_Amount], 
    [Project1].[Market_Capitalisation] AS [Market_Capitalisation], 
    [Project1].[Risk_Premium] AS [Risk_Premium], 
    [Project1].[Exit_Price] AS [Exit_Price], 
    [Project1].[Total_Return_ME_1YR] AS [Total_Return_ME_1YR], 
    [Project1].[Total_Return_ME_2YR] AS [Total_Return_ME_2YR], 
    [Project1].[Total_Return_ME_3YR] AS [Total_Return_ME_3YR], 
    [Project1].[Historic_Distribution] AS [Historic_Distribution], 
    [Project1].[Distribution_Growth_Forecast_Yr1] AS [Distribution_Growth_Forecast_Yr1], 
    [Project1].[Distribution_Growth_Forecast_Yr2] AS [Distribution_Growth_Forecast_Yr2], 
    [Project1].[Distribution_Growth_Forecast_Yr3] AS [Distribution_Growth_Forecast_Yr3], 
    [Project1].[Forecast_Distribution_Yr1] AS [Forecast_Distribution_Yr1], 
    [Project1].[Forecast_Distribution_Yr2] AS [Forecast_Distribution_Yr2], 
    [Project1].[Forecast_Distribution_Yr3] AS [Forecast_Distribution_Yr3], 
    [Project1].[Earnings_Growth_Compounded] AS [Earnings_Growth_Compounded], 
    [Project1].[Earnings_Forecast_Yr3] AS [Earnings_Forecast_Yr3], 
    [Project1].[Historic_Dividend_Yield_FYE] AS [Historic_Dividend_Yield_FYE], 
    [Project1].[Forward_Dividend_Yield_FYE] AS [Forward_Dividend_Yield_FYE], 
    [Project1].[Yr3_Forward_Dividend_Yield] AS [Yr3_Forward_Dividend_Yield], 
    [Project1].[Rolling_12M_Forward_Yield] AS [Rolling_12M_Forward_Yield], 
    [Project1].[Historical_Earnings_FYE] AS [Historical_Earnings_FYE], 
    [Project1].[Earnings_Forecast_Yr1] AS [Earnings_Forecast_Yr1], 
    [Project1].[Earnings_Forecast_Yr2] AS [Earnings_Forecast_Yr2], 
    [Project1].[Historic_Dividend_Yield_Relative] AS [Historic_Dividend_Yield_Relative], 
    [Project1].[Rolling_12M_Historic_Distribution_PriceCurr] AS [Rolling_12M_Historic_Distribution_PriceCurr], 
    [Project1].[Short_Term_Market_Rerate] AS [Short_Term_Market_Rerate], 
    [Project1].[Forecast_12M_Total_Return] AS [Forecast_12M_Total_Return], 
    [Project1].[Clean_Price] AS [Clean_Price], 
    [Project1].[Rolling_Dividend_Yield_Historic] AS [Rolling_Dividend_Yield_Historic], 
    [Project1].[Last_Update_Date] AS [Last_Update_Date], 
    [Project1].[Last_Update_User] AS [Last_Update_User], 
    [Project1].[Discount_Security_ID] AS [Discount_Security_ID], 
    [Project1].[Net_Present_Value] AS [Net_Present_Value], 
    [Project1].[Forecast_Rolling_Custom_Income] AS [Forecast_Rolling_Custom_Income], 
    [Project1].[Custom_Period] AS [Custom_Period], 
    [Project1].[Rolling_12M_Historic_Distribution] AS [Rolling_12M_Historic_Distribution], 
    [Project1].[Record_Date] AS [Record_Date], 
    [Project1].[Session_ID] AS [Session_ID], 
    [Project1].[Hist_Last_Update_Date] AS [Hist_Last_Update_Date], 
    [Project1].[Hist_Last_Update_User] AS [Hist_Last_Update_User], 
    [Project1].[Rolling_12M_Forecast_Distribution] AS [Rolling_12M_Forecast_Distribution], 
    [Project1].[Yr2_Forward_Dividend_Yield] AS [Yr2_Forward_Dividend_Yield], 
    [Project1].[Exit_Yield] AS [Exit_Yield], 
    [Project1].[Discount_Rate] AS [Discount_Rate], 
    [Project1].[Distribution_Growth_Compounded] AS [Distribution_Growth_Compounded], 
    [Project1].[Forecast_12MRolling_Income_Accrual] AS [Forecast_12MRolling_Income_Accrual], 
    [Project1].[Rolling_12_to_24M_Forecast_Distribution] AS [Rolling_12_to_24M_Forecast_Distribution], 
    [Project1].[Rolling_24_to_36M_Forecast_Distribution] AS [Rolling_24_to_36M_Forecast_Distribution], 
    [Project1].[Forecast_Yr1_Dividend_Yield_Relative] AS [Forecast_Yr1_Dividend_Yield_Relative], 
    [Project1].[Market_Historic_Yield] AS [Market_Historic_Yield], 
    [Project1].[Market_Forward_Yield] AS [Market_Forward_Yield], 
    [Project1].[Historic_Distribution_PriceCurr] AS [Historic_Distribution_PriceCurr], 
    [Project1].[Forecast_Distribution_Yr1_PriceCurr] AS [Forecast_Distribution_Yr1_PriceCurr], 
    [Project1].[Forecast_Distribution_Yr2_PriceCurr] AS [Forecast_Distribution_Yr2_PriceCurr], 
    [Project1].[Forecast_Distribution_Yr3_PriceCurr] AS [Forecast_Distribution_Yr3_PriceCurr], 
    [Project1].[Rolling_12M_Forecast_Distribution_PriceCurr] AS [Rolling_12M_Forecast_Distribution_PriceCurr], 
    [Project1].[Rolling_12_24M_Forecast_Distribution_PriceCurr] AS [Rolling_12_24M_Forecast_Distribution_PriceCurr], 
    [Project1].[Rolling_24_36M_Forecast_Distribution_PriceCurr] AS [Rolling_24_36M_Forecast_Distribution_PriceCurr], 
    [Project1].[Distribution_Growth_Forecast_Yr4] AS [Distribution_Growth_Forecast_Yr4], 
    [Project1].[Earnings_Forecast_Yr4] AS [Earnings_Forecast_Yr4], 
    [Project1].[Forecast_Distribution_Yr4] AS [Forecast_Distribution_Yr4], 
    [Project1].[Forecast_Distribution_Yr4_PriceCurr] AS [Forecast_Distribution_Yr4_PriceCurr], 
    [Project1].[Security_ID1] AS [Security_ID1], 
    [Project1].[Entity_ID1] AS [Entity_ID1], 
    [Project1].[Security_Name] AS [Security_Name], 
    [Project1].[Short_Name] AS [Short_Name], 
    [Project1].[Primary_Exch] AS [Primary_Exch], 
    [Project1].[Secondary_Exch] AS [Secondary_Exch], 
    [Project1].[Country_Of_Domicile] AS [Country_Of_Domicile], 
    [Project1].[Country_Of_Risk] AS [Country_Of_Risk], 
    [Project1].[Security_Type_Code] AS [Security_Type_Code], 
    [Project1].[Price_Multiplier] AS [Price_Multiplier], 
    [Project1].[Income_Frequency] AS [Income_Frequency], 
    [Project1].[Issuer_Code] AS [Issuer_Code], 
    [Project1].[Ultimate_Issuer_Code] AS [Ultimate_Issuer_Code], 
    [Project1].[Asset_Currency] AS [Asset_Currency], 
    [Project1].[Min_Lot_Size] AS [Min_Lot_Size], 
    [Project1].[AvePrice_Rounding] AS [AvePrice_Rounding], 
    [Project1].[Issue_Date] AS [Issue_Date], 
    [Project1].[Maturity_Date] AS [Maturity_Date], 
    [Project1].[Coupon_Rate] AS [Coupon_Rate], 
    [Project1].[Price_Exchange] AS [Price_Exchange], 
    [Project1].[Trade_Currency] AS [Trade_Currency], 
    [Project1].[Price_Curr] AS [Price_Curr], 
    [Project1].[Currency_Pair_Code] AS [Currency_Pair_Code], 
    [Project1].[Share_Class] AS [Share_Class], 
    [Project1].[Current_Market_Price] AS [Current_Market_Price], 
    [Project1].[Index_Type] AS [Index_Type], 
    [Project1].[Clean_Price_Formula] AS [Clean_Price_Formula], 
    [Project1].[Accrued_Income_Price_Formula] AS [Accrued_Income_Price_Formula], 
    [Project1].[Odd_First_Coupon_Date] AS [Odd_First_Coupon_Date], 
    [Project1].[Odd_Last_Coupon_Date] AS [Odd_Last_Coupon_Date], 
    [Project1].[Coupon_Anniversary_Indicator] AS [Coupon_Anniversary_Indicator], 
    [Project1].[Track_EOM_Flag] AS [Track_EOM_Flag], 
    [Project1].[Next_Coupon_Date] AS [Next_Coupon_Date], 
    [Project1].[Previous_Coupon_Date] AS [Previous_Coupon_Date], 
    [Project1].[Payment_Frequency] AS [Payment_Frequency], 
    [Project1].[Coupon_BusDay_Adjustment] AS [Coupon_BusDay_Adjustment], 
    [Project1].[Next_Ex_Div_Date] AS [Next_Ex_Div_Date], 
    [Project1].[Ex_Div_BusDay_Adjustment] AS [Ex_Div_BusDay_Adjustment], 
    [Project1].[Ex_Div_Period] AS [Ex_Div_Period], 
    [Project1].[Ticker] AS [Ticker], 
    [Project1].[Inet_ID] AS [Inet_ID], 
    [Project1].[Bloomberg_ID] AS [Bloomberg_ID], 
    [Project1].[External_Sec_ID] AS [External_Sec_ID], 
    [Project1].[Reuters_ID] AS [Reuters_ID], 
    [Project1].[ISIN] AS [ISIN], 
    [Project1].[Call_Account_Flag] AS [Call_Account_Flag], 
    [Project1].[System_Locked] AS [System_Locked], 
    [Project1].[Last_Update_User1] AS [Last_Update_User1], 
    [Project1].[Last_Update_Date1] AS [Last_Update_Date1], 
    [Project1].[Security_Status] AS [Security_Status], 
    [Project1].[Benchmark_Portfolio] AS [Benchmark_Portfolio], 
    [Project1].[Active_flag] AS [Active_flag], 
    [Project1].[Dividend_FX_Security_ID] AS [Dividend_FX_Security_ID]
    FROM ( SELECT 
        [Extent1].[Entity_ID] AS [Entity_ID], 
        [Extent1].[Security_ID] AS [Security_ID], 
        [Extent1].[Issued_Amount] AS [Issued_Amount], 
        [Extent1].[Market_Capitalisation] AS [Market_Capitalisation], 
        [Extent1].[Risk_Premium] AS [Risk_Premium], 
        [Extent1].[Exit_Price] AS [Exit_Price], 
        [Extent1].[Total_Return_ME_1YR] AS [Total_Return_ME_1YR], 
        [Extent1].[Total_Return_ME_2YR] AS [Total_Return_ME_2YR], 
        [Extent1].[Total_Return_ME_3YR] AS [Total_Return_ME_3YR], 
        [Extent1].[Historic_Distribution] AS [Historic_Distribution], 
        [Extent1].[Distribution_Growth_Forecast_Yr1] AS [Distribution_Growth_Forecast_Yr1], 
        [Extent1].[Distribution_Growth_Forecast_Yr2] AS [Distribution_Growth_Forecast_Yr2], 
        [Extent1].[Distribution_Growth_Forecast_Yr3] AS [Distribution_Growth_Forecast_Yr3], 
        [Extent1].[Forecast_Distribution_Yr1] AS [Forecast_Distribution_Yr1], 
        [Extent1].[Forecast_Distribution_Yr2] AS [Forecast_Distribution_Yr2], 
        [Extent1].[Forecast_Distribution_Yr3] AS [Forecast_Distribution_Yr3], 
        [Extent1].[Earnings_Growth_Compounded] AS [Earnings_Growth_Compounded], 
        [Extent1].[Earnings_Forecast_Yr3] AS [Earnings_Forecast_Yr3], 
        [Extent1].[Historic_Dividend_Yield_FYE] AS [Historic_Dividend_Yield_FYE], 
        [Extent1].[Forward_Dividend_Yield_FYE] AS [Forward_Dividend_Yield_FYE], 
        [Extent1].[Yr3_Forward_Dividend_Yield] AS [Yr3_Forward_Dividend_Yield], 
        [Extent1].[Rolling_12M_Forward_Yield] AS [Rolling_12M_Forward_Yield], 
        [Extent1].[Historical_Earnings_FYE] AS [Historical_Earnings_FYE], 
        [Extent1].[Earnings_Forecast_Yr1] AS [Earnings_Forecast_Yr1], 
        [Extent1].[Earnings_Forecast_Yr2] AS [Earnings_Forecast_Yr2], 
        [Extent1].[Historic_Dividend_Yield_Relative] AS [Historic_Dividend_Yield_Relative], 
        [Extent1].[Rolling_12M_Historic_Distribution_PriceCurr] AS [Rolling_12M_Historic_Distribution_PriceCurr], 
        [Extent1].[Short_Term_Market_Rerate] AS [Short_Term_Market_Rerate], 
        [Extent1].[Forecast_12M_Total_Return] AS [Forecast_12M_Total_Return], 
        [Extent1].[Clean_Price] AS [Clean_Price], 
        [Extent1].[Rolling_Dividend_Yield_Historic] AS [Rolling_Dividend_Yield_Historic], 
        [Extent1].[Last_Update_Date] AS [Last_Update_Date], 
        [Extent1].[Last_Update_User] AS [Last_Update_User], 
        [Extent1].[Discount_Security_ID] AS [Discount_Security_ID], 
        [Extent1].[Net_Present_Value] AS [Net_Present_Value], 
        [Extent1].[Forecast_Rolling_Custom_Income] AS [Forecast_Rolling_Custom_Income], 
        [Extent1].[Custom_Period] AS [Custom_Period], 
        [Extent1].[Rolling_12M_Historic_Distribution] AS [Rolling_12M_Historic_Distribution], 
        [Extent1].[Record_Date] AS [Record_Date], 
        [Extent1].[Session_ID] AS [Session_ID], 
        [Extent1].[Hist_Last_Update_Date] AS [Hist_Last_Update_Date], 
        [Extent1].[Hist_Last_Update_User] AS [Hist_Last_Update_User], 
        [Extent1].[Rolling_12M_Forecast_Distribution] AS [Rolling_12M_Forecast_Distribution], 
        [Extent1].[Yr2_Forward_Dividend_Yield] AS [Yr2_Forward_Dividend_Yield], 
        [Extent1].[Exit_Yield] AS [Exit_Yield], 
        [Extent1].[Discount_Rate] AS [Discount_Rate], 
        [Extent1].[Distribution_Growth_Compounded] AS [Distribution_Growth_Compounded], 
        [Extent1].[Forecast_12MRolling_Income_Accrual] AS [Forecast_12MRolling_Income_Accrual], 
        [Extent1].[Rolling_12_to_24M_Forecast_Distribution] AS [Rolling_12_to_24M_Forecast_Distribution], 
        [Extent1].[Rolling_24_to_36M_Forecast_Distribution] AS [Rolling_24_to_36M_Forecast_Distribution], 
        [Extent1].[Forecast_Yr1_Dividend_Yield_Relative] AS [Forecast_Yr1_Dividend_Yield_Relative], 
        [Extent1].[Market_Historic_Yield] AS [Market_Historic_Yield], 
        [Extent1].[Market_Forward_Yield] AS [Market_Forward_Yield], 
        [Extent1].[Historic_Distribution_PriceCurr] AS [Historic_Distribution_PriceCurr], 
        [Extent1].[Forecast_Distribution_Yr1_PriceCurr] AS [Forecast_Distribution_Yr1_PriceCurr], 
        [Extent1].[Forecast_Distribution_Yr2_PriceCurr] AS [Forecast_Distribution_Yr2_PriceCurr], 
        [Extent1].[Forecast_Distribution_Yr3_PriceCurr] AS [Forecast_Distribution_Yr3_PriceCurr], 
        [Extent1].[Rolling_12M_Forecast_Distribution_PriceCurr] AS [Rolling_12M_Forecast_Distribution_PriceCurr], 
        [Extent1].[Rolling_12_24M_Forecast_Distribution_PriceCurr] AS [Rolling_12_24M_Forecast_Distribution_PriceCurr], 
        [Extent1].[Rolling_24_36M_Forecast_Distribution_PriceCurr] AS [Rolling_24_36M_Forecast_Distribution_PriceCurr], 
        [Extent1].[Distribution_Growth_Forecast_Yr4] AS [Distribution_Growth_Forecast_Yr4], 
        [Extent1].[Earnings_Forecast_Yr4] AS [Earnings_Forecast_Yr4], 
        [Extent1].[Forecast_Distribution_Yr4] AS [Forecast_Distribution_Yr4], 
        [Extent1].[Forecast_Distribution_Yr4_PriceCurr] AS [Forecast_Distribution_Yr4_PriceCurr], 
        [Extent2].[Security_ID] AS [Security_ID1], 
        [Extent2].[Entity_ID] AS [Entity_ID1], 
        [Extent2].[Security_Name] AS [Security_Name], 
        [Extent2].[Short_Name] AS [Short_Name], 
        [Extent2].[Primary_Exch] AS [Primary_Exch], 
        [Extent2].[Secondary_Exch] AS [Secondary_Exch], 
        [Extent2].[Country_Of_Domicile] AS [Country_Of_Domicile], 
        [Extent2].[Country_Of_Risk] AS [Country_Of_Risk], 
        [Extent2].[Security_Type_Code] AS [Security_Type_Code], 
        [Extent2].[Price_Multiplier] AS [Price_Multiplier], 
        [Extent2].[Income_Frequency] AS [Income_Frequency], 
        [Extent2].[Issuer_Code] AS [Issuer_Code], 
        [Extent2].[Ultimate_Issuer_Code] AS [Ultimate_Issuer_Code], 
        [Extent2].[Asset_Currency] AS [Asset_Currency], 
        [Extent2].[Min_Lot_Size] AS [Min_Lot_Size], 
        [Extent2].[Decimal_Precision] AS [Decimal_Precision], 
        [Extent2].[AvePrice_Rounding] AS [AvePrice_Rounding], 
        [Extent2].[Issue_Date] AS [Issue_Date], 
        [Extent2].[Maturity_Date] AS [Maturity_Date], 
        [Extent2].[Coupon_Rate] AS [Coupon_Rate], 
        [Extent2].[Price_Exchange] AS [Price_Exchange], 
        [Extent2].[Trade_Currency] AS [Trade_Currency], 
        [Extent2].[Price_Curr] AS [Price_Curr], 
        [Extent2].[Currency_Pair_Code] AS [Currency_Pair_Code], 
        [Extent2].[Share_Class] AS [Share_Class], 
        [Extent2].[Current_Market_Price] AS [Current_Market_Price], 
        [Extent2].[Index_Type] AS [Index_Type], 
        [Extent2].[Clean_Price_Formula] AS [Clean_Price_Formula], 
        [Extent2].[Accrued_Income_Price_Formula] AS [Accrued_Income_Price_Formula], 
        [Extent2].[Odd_First_Coupon_Date] AS [Odd_First_Coupon_Date], 
        [Extent2].[Odd_Last_Coupon_Date] AS [Odd_Last_Coupon_Date], 
        [Extent2].[Coupon_Anniversary_Indicator] AS [Coupon_Anniversary_Indicator], 
        [Extent2].[Track_EOM_Flag] AS [Track_EOM_Flag], 
        [Extent2].[Next_Coupon_Date] AS [Next_Coupon_Date], 
        [Extent2].[Previous_Coupon_Date] AS [Previous_Coupon_Date], 
        [Extent2].[Payment_Frequency] AS [Payment_Frequency], 
        [Extent2].[Coupon_BusDay_Adjustment] AS [Coupon_BusDay_Adjustment], 
        [Extent2].[Next_Ex_Div_Date] AS [Next_Ex_Div_Date], 
        [Extent2].[Ex_Div_BusDay_Adjustment] AS [Ex_Div_BusDay_Adjustment], 
        [Extent2].[Ex_Div_Period] AS [Ex_Div_Period], 
        [Extent2].[Ticker] AS [Ticker], 
        [Extent2].[Inet_ID] AS [Inet_ID], 
        [Extent2].[Bloomberg_ID] AS [Bloomberg_ID], 
        [Extent2].[External_Sec_ID] AS [External_Sec_ID], 
        [Extent2].[Reuters_ID] AS [Reuters_ID], 
        [Extent2].[ISIN] AS [ISIN], 
        [Extent2].[Call_Account_Flag] AS [Call_Account_Flag], 
        [Extent2].[System_Locked] AS [System_Locked], 
        [Extent2].[Last_Update_User] AS [Last_Update_User1], 
        [Extent2].[Last_Update_Date] AS [Last_Update_Date1], 
        [Extent2].[Security_Status] AS [Security_Status], 
        [Extent2].[Benchmark_Portfolio] AS [Benchmark_Portfolio], 
        [Extent2].[Active_flag] AS [Active_flag], 
        [Extent2].[Dividend_FX_Security_ID] AS [Dividend_FX_Security_ID]
        FROM  [dbo].[Security_Analytics_History] AS [Extent1]
        INNER JOIN [dbo].[Security_Detail] AS [Extent2] ON [Extent1].[Security_ID] = [Extent2].[Security_ID]
        WHERE [Extent1].[Security_ID] = @p__linq__0
    )  AS [Project1]
    ORDER BY [Project1].[Record_Date] DESC
2018-04-07 18:43:39.6278|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: IF db_id(N'MetopeAzureDb') IS NOT NULL SELECT 1 ELSE SELECT Count(*) FROM sys.databases WHERE [name]=N'MetopeAzureDb'
2018-04-07 18:43:39.6608|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: IF db_id(N'MetopeAzureDb') IS NOT NULL SELECT 1 ELSE SELECT Count(*) FROM sys.databases WHERE [name]=N'MetopeAzureDb'
2018-04-07 18:43:39.6963|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: IF db_id(N'MetopeAzureDb') IS NOT NULL SELECT 1 ELSE SELECT Count(*) FROM sys.databases WHERE [name]=N'MetopeAzureDb'
2018-04-07 18:43:39.7264|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: IF db_id(N'MetopeAzureDb') IS NOT NULL SELECT 1 ELSE SELECT Count(*) FROM sys.databases WHERE [name]=N'MetopeAzureDb'
2018-04-07 18:43:41.9815|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: SELECT 
    [Project1].[Security_ID] AS [Security_ID], 
    [Project1].[Entity_ID] AS [Entity_ID], 
    [Project1].[Security_Name] AS [Security_Name], 
    [Project1].[Short_Name] AS [Short_Name], 
    [Project1].[Primary_Exch] AS [Primary_Exch], 
    [Project1].[Secondary_Exch] AS [Secondary_Exch], 
    [Project1].[Country_Of_Domicile] AS [Country_Of_Domicile], 
    [Project1].[Country_Of_Risk] AS [Country_Of_Risk], 
    [Project1].[Security_Type_Code] AS [Security_Type_Code], 
    [Project1].[Price_Multiplier] AS [Price_Multiplier], 
    [Project1].[Income_Frequency] AS [Income_Frequency], 
    [Project1].[Issuer_Code] AS [Issuer_Code], 
    [Project1].[Ultimate_Issuer_Code] AS [Ultimate_Issuer_Code], 
    [Project1].[Asset_Currency] AS [Asset_Currency], 
    [Project1].[Min_Lot_Size] AS [Min_Lot_Size], 
    [Project1].[Decimal_Precision] AS [Decimal_Precision], 
    [Project1].[AvePrice_Rounding] AS [AvePrice_Rounding], 
    [Project1].[Issue_Date] AS [Issue_Date], 
    [Project1].[Maturity_Date] AS [Maturity_Date], 
    [Project1].[Coupon_Rate] AS [Coupon_Rate], 
    [Project1].[Price_Exchange] AS [Price_Exchange], 
    [Project1].[Trade_Currency] AS [Trade_Currency], 
    [Project1].[Price_Curr] AS [Price_Curr], 
    [Project1].[Currency_Pair_Code] AS [Currency_Pair_Code], 
    [Project1].[Share_Class] AS [Share_Class], 
    [Project1].[Current_Market_Price] AS [Current_Market_Price], 
    [Project1].[Index_Type] AS [Index_Type], 
    [Project1].[Clean_Price_Formula] AS [Clean_Price_Formula], 
    [Project1].[Accrued_Income_Price_Formula] AS [Accrued_Income_Price_Formula], 
    [Project1].[Odd_First_Coupon_Date] AS [Odd_First_Coupon_Date], 
    [Project1].[Odd_Last_Coupon_Date] AS [Odd_Last_Coupon_Date], 
    [Project1].[Coupon_Anniversary_Indicator] AS [Coupon_Anniversary_Indicator], 
    [Project1].[Track_EOM_Flag] AS [Track_EOM_Flag], 
    [Project1].[Next_Coupon_Date] AS [Next_Coupon_Date], 
    [Project1].[Previous_Coupon_Date] AS [Previous_Coupon_Date], 
    [Project1].[Payment_Frequency] AS [Payment_Frequency], 
    [Project1].[Coupon_BusDay_Adjustment] AS [Coupon_BusDay_Adjustment], 
    [Project1].[Next_Ex_Div_Date] AS [Next_Ex_Div_Date], 
    [Project1].[Ex_Div_BusDay_Adjustment] AS [Ex_Div_BusDay_Adjustment], 
    [Project1].[Ex_Div_Period] AS [Ex_Div_Period], 
    [Project1].[Ticker] AS [Ticker], 
    [Project1].[Inet_ID] AS [Inet_ID], 
    [Project1].[Bloomberg_ID] AS [Bloomberg_ID], 
    [Project1].[External_Sec_ID] AS [External_Sec_ID], 
    [Project1].[Reuters_ID] AS [Reuters_ID], 
    [Project1].[ISIN] AS [ISIN], 
    [Project1].[Call_Account_Flag] AS [Call_Account_Flag], 
    [Project1].[System_Locked] AS [System_Locked], 
    [Project1].[Last_Update_User] AS [Last_Update_User], 
    [Project1].[Last_Update_Date] AS [Last_Update_Date], 
    [Project1].[Security_Status] AS [Security_Status], 
    [Project1].[Benchmark_Portfolio] AS [Benchmark_Portfolio], 
    [Project1].[Active_flag] AS [Active_flag], 
    [Project1].[Dividend_FX_Security_ID] AS [Dividend_FX_Security_ID]
    FROM ( SELECT 
        [Extent1].[Security_ID] AS [Security_ID], 
        [Extent1].[Entity_ID] AS [Entity_ID], 
        [Extent1].[Security_Name] AS [Security_Name], 
        [Extent1].[Short_Name] AS [Short_Name], 
        [Extent1].[Primary_Exch] AS [Primary_Exch], 
        [Extent1].[Secondary_Exch] AS [Secondary_Exch], 
        [Extent1].[Country_Of_Domicile] AS [Country_Of_Domicile], 
        [Extent1].[Country_Of_Risk] AS [Country_Of_Risk], 
        [Extent1].[Security_Type_Code] AS [Security_Type_Code], 
        [Extent1].[Price_Multiplier] AS [Price_Multiplier], 
        [Extent1].[Income_Frequency] AS [Income_Frequency], 
        [Extent1].[Issuer_Code] AS [Issuer_Code], 
        [Extent1].[Ultimate_Issuer_Code] AS [Ultimate_Issuer_Code], 
        [Extent1].[Asset_Currency] AS [Asset_Currency], 
        [Extent1].[Min_Lot_Size] AS [Min_Lot_Size], 
        [Extent1].[Decimal_Precision] AS [Decimal_Precision], 
        [Extent1].[AvePrice_Rounding] AS [AvePrice_Rounding], 
        [Extent1].[Issue_Date] AS [Issue_Date], 
        [Extent1].[Maturity_Date] AS [Maturity_Date], 
        [Extent1].[Coupon_Rate] AS [Coupon_Rate], 
        [Extent1].[Price_Exchange] AS [Price_Exchange], 
        [Extent1].[Trade_Currency] AS [Trade_Currency], 
        [Extent1].[Price_Curr] AS [Price_Curr], 
        [Extent1].[Currency_Pair_Code] AS [Currency_Pair_Code], 
        [Extent1].[Share_Class] AS [Share_Class], 
        [Extent1].[Current_Market_Price] AS [Current_Market_Price], 
        [Extent1].[Index_Type] AS [Index_Type], 
        [Extent1].[Clean_Price_Formula] AS [Clean_Price_Formula], 
        [Extent1].[Accrued_Income_Price_Formula] AS [Accrued_Income_Price_Formula], 
        [Extent1].[Odd_First_Coupon_Date] AS [Odd_First_Coupon_Date], 
        [Extent1].[Odd_Last_Coupon_Date] AS [Odd_Last_Coupon_Date], 
        [Extent1].[Coupon_Anniversary_Indicator] AS [Coupon_Anniversary_Indicator], 
        [Extent1].[Track_EOM_Flag] AS [Track_EOM_Flag], 
        [Extent1].[Next_Coupon_Date] AS [Next_Coupon_Date], 
        [Extent1].[Previous_Coupon_Date] AS [Previous_Coupon_Date], 
        [Extent1].[Payment_Frequency] AS [Payment_Frequency], 
        [Extent1].[Coupon_BusDay_Adjustment] AS [Coupon_BusDay_Adjustment], 
        [Extent1].[Next_Ex_Div_Date] AS [Next_Ex_Div_Date], 
        [Extent1].[Ex_Div_BusDay_Adjustment] AS [Ex_Div_BusDay_Adjustment], 
        [Extent1].[Ex_Div_Period] AS [Ex_Div_Period], 
        [Extent1].[Ticker] AS [Ticker], 
        [Extent1].[Inet_ID] AS [Inet_ID], 
        [Extent1].[Bloomberg_ID] AS [Bloomberg_ID], 
        [Extent1].[External_Sec_ID] AS [External_Sec_ID], 
        [Extent1].[Reuters_ID] AS [Reuters_ID], 
        [Extent1].[ISIN] AS [ISIN], 
        [Extent1].[Call_Account_Flag] AS [Call_Account_Flag], 
        [Extent1].[System_Locked] AS [System_Locked], 
        [Extent1].[Last_Update_User] AS [Last_Update_User], 
        [Extent1].[Last_Update_Date] AS [Last_Update_Date], 
        [Extent1].[Security_Status] AS [Security_Status], 
        [Extent1].[Benchmark_Portfolio] AS [Benchmark_Portfolio], 
        [Extent1].[Active_flag] AS [Active_flag], 
        [Extent1].[Dividend_FX_Security_ID] AS [Dividend_FX_Security_ID]
        FROM [dbo].[Security_Detail] AS [Extent1]
        WHERE ([Extent1].[Entity_ID] IN (@p__linq__0,@p__linq__1)) AND ((CASE WHEN ( NOT ((N'' = @p__linq__2) AND (@p__linq__2 IS NOT NULL))) THEN CASE WHEN ([Extent1].[Security_Type_Code] = @p__linq__3) THEN cast(1 as bit) WHEN ( NOT (([Extent1].[Security_Type_Code] = @p__linq__3) AND (0 = (CASE WHEN (@p__linq__3 IS NULL) THEN cast(1 as bit) ELSE cast(0 as bit) END)))) THEN cast(0 as bit) END WHEN ('' <> [Extent1].[Security_Type_Code]) THEN cast(1 as bit) WHEN ('' = [Extent1].[Security_Type_Code]) THEN cast(0 as bit) END) = 1)
    )  AS [Project1]
    ORDER BY [Project1].[Security_Name] ASC
2018-04-07 18:43:42.0165|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: SELECT 
    [Project1].[Security_ID] AS [Security_ID], 
    [Project1].[Entity_ID] AS [Entity_ID], 
    [Project1].[Security_Name] AS [Security_Name], 
    [Project1].[Short_Name] AS [Short_Name], 
    [Project1].[Primary_Exch] AS [Primary_Exch], 
    [Project1].[Secondary_Exch] AS [Secondary_Exch], 
    [Project1].[Country_Of_Domicile] AS [Country_Of_Domicile], 
    [Project1].[Country_Of_Risk] AS [Country_Of_Risk], 
    [Project1].[Security_Type_Code] AS [Security_Type_Code], 
    [Project1].[Price_Multiplier] AS [Price_Multiplier], 
    [Project1].[Income_Frequency] AS [Income_Frequency], 
    [Project1].[Issuer_Code] AS [Issuer_Code], 
    [Project1].[Ultimate_Issuer_Code] AS [Ultimate_Issuer_Code], 
    [Project1].[Asset_Currency] AS [Asset_Currency], 
    [Project1].[Min_Lot_Size] AS [Min_Lot_Size], 
    [Project1].[Decimal_Precision] AS [Decimal_Precision], 
    [Project1].[AvePrice_Rounding] AS [AvePrice_Rounding], 
    [Project1].[Issue_Date] AS [Issue_Date], 
    [Project1].[Maturity_Date] AS [Maturity_Date], 
    [Project1].[Coupon_Rate] AS [Coupon_Rate], 
    [Project1].[Price_Exchange] AS [Price_Exchange], 
    [Project1].[Trade_Currency] AS [Trade_Currency], 
    [Project1].[Price_Curr] AS [Price_Curr], 
    [Project1].[Currency_Pair_Code] AS [Currency_Pair_Code], 
    [Project1].[Share_Class] AS [Share_Class], 
    [Project1].[Current_Market_Price] AS [Current_Market_Price], 
    [Project1].[Index_Type] AS [Index_Type], 
    [Project1].[Clean_Price_Formula] AS [Clean_Price_Formula], 
    [Project1].[Accrued_Income_Price_Formula] AS [Accrued_Income_Price_Formula], 
    [Project1].[Odd_First_Coupon_Date] AS [Odd_First_Coupon_Date], 
    [Project1].[Odd_Last_Coupon_Date] AS [Odd_Last_Coupon_Date], 
    [Project1].[Coupon_Anniversary_Indicator] AS [Coupon_Anniversary_Indicator], 
    [Project1].[Track_EOM_Flag] AS [Track_EOM_Flag], 
    [Project1].[Next_Coupon_Date] AS [Next_Coupon_Date], 
    [Project1].[Previous_Coupon_Date] AS [Previous_Coupon_Date], 
    [Project1].[Payment_Frequency] AS [Payment_Frequency], 
    [Project1].[Coupon_BusDay_Adjustment] AS [Coupon_BusDay_Adjustment], 
    [Project1].[Next_Ex_Div_Date] AS [Next_Ex_Div_Date], 
    [Project1].[Ex_Div_BusDay_Adjustment] AS [Ex_Div_BusDay_Adjustment], 
    [Project1].[Ex_Div_Period] AS [Ex_Div_Period], 
    [Project1].[Ticker] AS [Ticker], 
    [Project1].[Inet_ID] AS [Inet_ID], 
    [Project1].[Bloomberg_ID] AS [Bloomberg_ID], 
    [Project1].[External_Sec_ID] AS [External_Sec_ID], 
    [Project1].[Reuters_ID] AS [Reuters_ID], 
    [Project1].[ISIN] AS [ISIN], 
    [Project1].[Call_Account_Flag] AS [Call_Account_Flag], 
    [Project1].[System_Locked] AS [System_Locked], 
    [Project1].[Last_Update_User] AS [Last_Update_User], 
    [Project1].[Last_Update_Date] AS [Last_Update_Date], 
    [Project1].[Security_Status] AS [Security_Status], 
    [Project1].[Benchmark_Portfolio] AS [Benchmark_Portfolio], 
    [Project1].[Active_flag] AS [Active_flag], 
    [Project1].[Dividend_FX_Security_ID] AS [Dividend_FX_Security_ID]
    FROM ( SELECT 
        [Extent1].[Security_ID] AS [Security_ID], 
        [Extent1].[Entity_ID] AS [Entity_ID], 
        [Extent1].[Security_Name] AS [Security_Name], 
        [Extent1].[Short_Name] AS [Short_Name], 
        [Extent1].[Primary_Exch] AS [Primary_Exch], 
        [Extent1].[Secondary_Exch] AS [Secondary_Exch], 
        [Extent1].[Country_Of_Domicile] AS [Country_Of_Domicile], 
        [Extent1].[Country_Of_Risk] AS [Country_Of_Risk], 
        [Extent1].[Security_Type_Code] AS [Security_Type_Code], 
        [Extent1].[Price_Multiplier] AS [Price_Multiplier], 
        [Extent1].[Income_Frequency] AS [Income_Frequency], 
        [Extent1].[Issuer_Code] AS [Issuer_Code], 
        [Extent1].[Ultimate_Issuer_Code] AS [Ultimate_Issuer_Code], 
        [Extent1].[Asset_Currency] AS [Asset_Currency], 
        [Extent1].[Min_Lot_Size] AS [Min_Lot_Size], 
        [Extent1].[Decimal_Precision] AS [Decimal_Precision], 
        [Extent1].[AvePrice_Rounding] AS [AvePrice_Rounding], 
        [Extent1].[Issue_Date] AS [Issue_Date], 
        [Extent1].[Maturity_Date] AS [Maturity_Date], 
        [Extent1].[Coupon_Rate] AS [Coupon_Rate], 
        [Extent1].[Price_Exchange] AS [Price_Exchange], 
        [Extent1].[Trade_Currency] AS [Trade_Currency], 
        [Extent1].[Price_Curr] AS [Price_Curr], 
        [Extent1].[Currency_Pair_Code] AS [Currency_Pair_Code], 
        [Extent1].[Share_Class] AS [Share_Class], 
        [Extent1].[Current_Market_Price] AS [Current_Market_Price], 
        [Extent1].[Index_Type] AS [Index_Type], 
        [Extent1].[Clean_Price_Formula] AS [Clean_Price_Formula], 
        [Extent1].[Accrued_Income_Price_Formula] AS [Accrued_Income_Price_Formula], 
        [Extent1].[Odd_First_Coupon_Date] AS [Odd_First_Coupon_Date], 
        [Extent1].[Odd_Last_Coupon_Date] AS [Odd_Last_Coupon_Date], 
        [Extent1].[Coupon_Anniversary_Indicator] AS [Coupon_Anniversary_Indicator], 
        [Extent1].[Track_EOM_Flag] AS [Track_EOM_Flag], 
        [Extent1].[Next_Coupon_Date] AS [Next_Coupon_Date], 
        [Extent1].[Previous_Coupon_Date] AS [Previous_Coupon_Date], 
        [Extent1].[Payment_Frequency] AS [Payment_Frequency], 
        [Extent1].[Coupon_BusDay_Adjustment] AS [Coupon_BusDay_Adjustment], 
        [Extent1].[Next_Ex_Div_Date] AS [Next_Ex_Div_Date], 
        [Extent1].[Ex_Div_BusDay_Adjustment] AS [Ex_Div_BusDay_Adjustment], 
        [Extent1].[Ex_Div_Period] AS [Ex_Div_Period], 
        [Extent1].[Ticker] AS [Ticker], 
        [Extent1].[Inet_ID] AS [Inet_ID], 
        [Extent1].[Bloomberg_ID] AS [Bloomberg_ID], 
        [Extent1].[External_Sec_ID] AS [External_Sec_ID], 
        [Extent1].[Reuters_ID] AS [Reuters_ID], 
        [Extent1].[ISIN] AS [ISIN], 
        [Extent1].[Call_Account_Flag] AS [Call_Account_Flag], 
        [Extent1].[System_Locked] AS [System_Locked], 
        [Extent1].[Last_Update_User] AS [Last_Update_User], 
        [Extent1].[Last_Update_Date] AS [Last_Update_Date], 
        [Extent1].[Security_Status] AS [Security_Status], 
        [Extent1].[Benchmark_Portfolio] AS [Benchmark_Portfolio], 
        [Extent1].[Active_flag] AS [Active_flag], 
        [Extent1].[Dividend_FX_Security_ID] AS [Dividend_FX_Security_ID]
        FROM [dbo].[Security_Detail] AS [Extent1]
        WHERE ([Extent1].[Entity_ID] IN (@p__linq__0,@p__linq__1)) AND ((CASE WHEN ( NOT ((N'' = @p__linq__2) AND (@p__linq__2 IS NOT NULL))) THEN CASE WHEN ([Extent1].[Security_Type_Code] = @p__linq__3) THEN cast(1 as bit) WHEN ( NOT (([Extent1].[Security_Type_Code] = @p__linq__3) AND (0 = (CASE WHEN (@p__linq__3 IS NULL) THEN cast(1 as bit) ELSE cast(0 as bit) END)))) THEN cast(0 as bit) END WHEN ('' <> [Extent1].[Security_Type_Code]) THEN cast(1 as bit) WHEN ('' = [Extent1].[Security_Type_Code]) THEN cast(0 as bit) END) = 1)
    )  AS [Project1]
    ORDER BY [Project1].[Security_Name] ASC
2018-04-07 18:43:42.1191|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: SELECT 
    [Project1].[Security_ID] AS [Security_ID], 
    [Project1].[Entity_ID] AS [Entity_ID], 
    [Project1].[Security_Name] AS [Security_Name], 
    [Project1].[Short_Name] AS [Short_Name], 
    [Project1].[Primary_Exch] AS [Primary_Exch], 
    [Project1].[Secondary_Exch] AS [Secondary_Exch], 
    [Project1].[Country_Of_Domicile] AS [Country_Of_Domicile], 
    [Project1].[Country_Of_Risk] AS [Country_Of_Risk], 
    [Project1].[Security_Type_Code] AS [Security_Type_Code], 
    [Project1].[Price_Multiplier] AS [Price_Multiplier], 
    [Project1].[Income_Frequency] AS [Income_Frequency], 
    [Project1].[Issuer_Code] AS [Issuer_Code], 
    [Project1].[Ultimate_Issuer_Code] AS [Ultimate_Issuer_Code], 
    [Project1].[Asset_Currency] AS [Asset_Currency], 
    [Project1].[Min_Lot_Size] AS [Min_Lot_Size], 
    [Project1].[Decimal_Precision] AS [Decimal_Precision], 
    [Project1].[AvePrice_Rounding] AS [AvePrice_Rounding], 
    [Project1].[Issue_Date] AS [Issue_Date], 
    [Project1].[Maturity_Date] AS [Maturity_Date], 
    [Project1].[Coupon_Rate] AS [Coupon_Rate], 
    [Project1].[Price_Exchange] AS [Price_Exchange], 
    [Project1].[Trade_Currency] AS [Trade_Currency], 
    [Project1].[Price_Curr] AS [Price_Curr], 
    [Project1].[Currency_Pair_Code] AS [Currency_Pair_Code], 
    [Project1].[Share_Class] AS [Share_Class], 
    [Project1].[Current_Market_Price] AS [Current_Market_Price], 
    [Project1].[Index_Type] AS [Index_Type], 
    [Project1].[Clean_Price_Formula] AS [Clean_Price_Formula], 
    [Project1].[Accrued_Income_Price_Formula] AS [Accrued_Income_Price_Formula], 
    [Project1].[Odd_First_Coupon_Date] AS [Odd_First_Coupon_Date], 
    [Project1].[Odd_Last_Coupon_Date] AS [Odd_Last_Coupon_Date], 
    [Project1].[Coupon_Anniversary_Indicator] AS [Coupon_Anniversary_Indicator], 
    [Project1].[Track_EOM_Flag] AS [Track_EOM_Flag], 
    [Project1].[Next_Coupon_Date] AS [Next_Coupon_Date], 
    [Project1].[Previous_Coupon_Date] AS [Previous_Coupon_Date], 
    [Project1].[Payment_Frequency] AS [Payment_Frequency], 
    [Project1].[Coupon_BusDay_Adjustment] AS [Coupon_BusDay_Adjustment], 
    [Project1].[Next_Ex_Div_Date] AS [Next_Ex_Div_Date], 
    [Project1].[Ex_Div_BusDay_Adjustment] AS [Ex_Div_BusDay_Adjustment], 
    [Project1].[Ex_Div_Period] AS [Ex_Div_Period], 
    [Project1].[Ticker] AS [Ticker], 
    [Project1].[Inet_ID] AS [Inet_ID], 
    [Project1].[Bloomberg_ID] AS [Bloomberg_ID], 
    [Project1].[External_Sec_ID] AS [External_Sec_ID], 
    [Project1].[Reuters_ID] AS [Reuters_ID], 
    [Project1].[ISIN] AS [ISIN], 
    [Project1].[Call_Account_Flag] AS [Call_Account_Flag], 
    [Project1].[System_Locked] AS [System_Locked], 
    [Project1].[Last_Update_User] AS [Last_Update_User], 
    [Project1].[Last_Update_Date] AS [Last_Update_Date], 
    [Project1].[Security_Status] AS [Security_Status], 
    [Project1].[Benchmark_Portfolio] AS [Benchmark_Portfolio], 
    [Project1].[Active_flag] AS [Active_flag], 
    [Project1].[Dividend_FX_Security_ID] AS [Dividend_FX_Security_ID]
    FROM ( SELECT 
        [Extent1].[Security_ID] AS [Security_ID], 
        [Extent1].[Entity_ID] AS [Entity_ID], 
        [Extent1].[Security_Name] AS [Security_Name], 
        [Extent1].[Short_Name] AS [Short_Name], 
        [Extent1].[Primary_Exch] AS [Primary_Exch], 
        [Extent1].[Secondary_Exch] AS [Secondary_Exch], 
        [Extent1].[Country_Of_Domicile] AS [Country_Of_Domicile], 
        [Extent1].[Country_Of_Risk] AS [Country_Of_Risk], 
        [Extent1].[Security_Type_Code] AS [Security_Type_Code], 
        [Extent1].[Price_Multiplier] AS [Price_Multiplier], 
        [Extent1].[Income_Frequency] AS [Income_Frequency], 
        [Extent1].[Issuer_Code] AS [Issuer_Code], 
        [Extent1].[Ultimate_Issuer_Code] AS [Ultimate_Issuer_Code], 
        [Extent1].[Asset_Currency] AS [Asset_Currency], 
        [Extent1].[Min_Lot_Size] AS [Min_Lot_Size], 
        [Extent1].[Decimal_Precision] AS [Decimal_Precision], 
        [Extent1].[AvePrice_Rounding] AS [AvePrice_Rounding], 
        [Extent1].[Issue_Date] AS [Issue_Date], 
        [Extent1].[Maturity_Date] AS [Maturity_Date], 
        [Extent1].[Coupon_Rate] AS [Coupon_Rate], 
        [Extent1].[Price_Exchange] AS [Price_Exchange], 
        [Extent1].[Trade_Currency] AS [Trade_Currency], 
        [Extent1].[Price_Curr] AS [Price_Curr], 
        [Extent1].[Currency_Pair_Code] AS [Currency_Pair_Code], 
        [Extent1].[Share_Class] AS [Share_Class], 
        [Extent1].[Current_Market_Price] AS [Current_Market_Price], 
        [Extent1].[Index_Type] AS [Index_Type], 
        [Extent1].[Clean_Price_Formula] AS [Clean_Price_Formula], 
        [Extent1].[Accrued_Income_Price_Formula] AS [Accrued_Income_Price_Formula], 
        [Extent1].[Odd_First_Coupon_Date] AS [Odd_First_Coupon_Date], 
        [Extent1].[Odd_Last_Coupon_Date] AS [Odd_Last_Coupon_Date], 
        [Extent1].[Coupon_Anniversary_Indicator] AS [Coupon_Anniversary_Indicator], 
        [Extent1].[Track_EOM_Flag] AS [Track_EOM_Flag], 
        [Extent1].[Next_Coupon_Date] AS [Next_Coupon_Date], 
        [Extent1].[Previous_Coupon_Date] AS [Previous_Coupon_Date], 
        [Extent1].[Payment_Frequency] AS [Payment_Frequency], 
        [Extent1].[Coupon_BusDay_Adjustment] AS [Coupon_BusDay_Adjustment], 
        [Extent1].[Next_Ex_Div_Date] AS [Next_Ex_Div_Date], 
        [Extent1].[Ex_Div_BusDay_Adjustment] AS [Ex_Div_BusDay_Adjustment], 
        [Extent1].[Ex_Div_Period] AS [Ex_Div_Period], 
        [Extent1].[Ticker] AS [Ticker], 
        [Extent1].[Inet_ID] AS [Inet_ID], 
        [Extent1].[Bloomberg_ID] AS [Bloomberg_ID], 
        [Extent1].[External_Sec_ID] AS [External_Sec_ID], 
        [Extent1].[Reuters_ID] AS [Reuters_ID], 
        [Extent1].[ISIN] AS [ISIN], 
        [Extent1].[Call_Account_Flag] AS [Call_Account_Flag], 
        [Extent1].[System_Locked] AS [System_Locked], 
        [Extent1].[Last_Update_User] AS [Last_Update_User], 
        [Extent1].[Last_Update_Date] AS [Last_Update_Date], 
        [Extent1].[Security_Status] AS [Security_Status], 
        [Extent1].[Benchmark_Portfolio] AS [Benchmark_Portfolio], 
        [Extent1].[Active_flag] AS [Active_flag], 
        [Extent1].[Dividend_FX_Security_ID] AS [Dividend_FX_Security_ID]
        FROM [dbo].[Security_Detail] AS [Extent1]
        WHERE ([Extent1].[Entity_ID] IN (@p__linq__0,@p__linq__1)) AND ((CASE WHEN ( NOT ((N'' = @p__linq__2) AND (@p__linq__2 IS NOT NULL))) THEN CASE WHEN ([Extent1].[Security_Type_Code] = @p__linq__3) THEN cast(1 as bit) WHEN ( NOT (([Extent1].[Security_Type_Code] = @p__linq__3) AND (0 = (CASE WHEN (@p__linq__3 IS NULL) THEN cast(1 as bit) ELSE cast(0 as bit) END)))) THEN cast(0 as bit) END WHEN ('' <> [Extent1].[Security_Type_Code]) THEN cast(1 as bit) WHEN ('' = [Extent1].[Security_Type_Code]) THEN cast(0 as bit) END) = 1)
    )  AS [Project1]
    ORDER BY [Project1].[Security_Name] ASC
2018-04-07 18:43:42.1476|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: SELECT 
    [Project1].[Security_ID] AS [Security_ID], 
    [Project1].[Entity_ID] AS [Entity_ID], 
    [Project1].[Security_Name] AS [Security_Name], 
    [Project1].[Short_Name] AS [Short_Name], 
    [Project1].[Primary_Exch] AS [Primary_Exch], 
    [Project1].[Secondary_Exch] AS [Secondary_Exch], 
    [Project1].[Country_Of_Domicile] AS [Country_Of_Domicile], 
    [Project1].[Country_Of_Risk] AS [Country_Of_Risk], 
    [Project1].[Security_Type_Code] AS [Security_Type_Code], 
    [Project1].[Price_Multiplier] AS [Price_Multiplier], 
    [Project1].[Income_Frequency] AS [Income_Frequency], 
    [Project1].[Issuer_Code] AS [Issuer_Code], 
    [Project1].[Ultimate_Issuer_Code] AS [Ultimate_Issuer_Code], 
    [Project1].[Asset_Currency] AS [Asset_Currency], 
    [Project1].[Min_Lot_Size] AS [Min_Lot_Size], 
    [Project1].[Decimal_Precision] AS [Decimal_Precision], 
    [Project1].[AvePrice_Rounding] AS [AvePrice_Rounding], 
    [Project1].[Issue_Date] AS [Issue_Date], 
    [Project1].[Maturity_Date] AS [Maturity_Date], 
    [Project1].[Coupon_Rate] AS [Coupon_Rate], 
    [Project1].[Price_Exchange] AS [Price_Exchange], 
    [Project1].[Trade_Currency] AS [Trade_Currency], 
    [Project1].[Price_Curr] AS [Price_Curr], 
    [Project1].[Currency_Pair_Code] AS [Currency_Pair_Code], 
    [Project1].[Share_Class] AS [Share_Class], 
    [Project1].[Current_Market_Price] AS [Current_Market_Price], 
    [Project1].[Index_Type] AS [Index_Type], 
    [Project1].[Clean_Price_Formula] AS [Clean_Price_Formula], 
    [Project1].[Accrued_Income_Price_Formula] AS [Accrued_Income_Price_Formula], 
    [Project1].[Odd_First_Coupon_Date] AS [Odd_First_Coupon_Date], 
    [Project1].[Odd_Last_Coupon_Date] AS [Odd_Last_Coupon_Date], 
    [Project1].[Coupon_Anniversary_Indicator] AS [Coupon_Anniversary_Indicator], 
    [Project1].[Track_EOM_Flag] AS [Track_EOM_Flag], 
    [Project1].[Next_Coupon_Date] AS [Next_Coupon_Date], 
    [Project1].[Previous_Coupon_Date] AS [Previous_Coupon_Date], 
    [Project1].[Payment_Frequency] AS [Payment_Frequency], 
    [Project1].[Coupon_BusDay_Adjustment] AS [Coupon_BusDay_Adjustment], 
    [Project1].[Next_Ex_Div_Date] AS [Next_Ex_Div_Date], 
    [Project1].[Ex_Div_BusDay_Adjustment] AS [Ex_Div_BusDay_Adjustment], 
    [Project1].[Ex_Div_Period] AS [Ex_Div_Period], 
    [Project1].[Ticker] AS [Ticker], 
    [Project1].[Inet_ID] AS [Inet_ID], 
    [Project1].[Bloomberg_ID] AS [Bloomberg_ID], 
    [Project1].[External_Sec_ID] AS [External_Sec_ID], 
    [Project1].[Reuters_ID] AS [Reuters_ID], 
    [Project1].[ISIN] AS [ISIN], 
    [Project1].[Call_Account_Flag] AS [Call_Account_Flag], 
    [Project1].[System_Locked] AS [System_Locked], 
    [Project1].[Last_Update_User] AS [Last_Update_User], 
    [Project1].[Last_Update_Date] AS [Last_Update_Date], 
    [Project1].[Security_Status] AS [Security_Status], 
    [Project1].[Benchmark_Portfolio] AS [Benchmark_Portfolio], 
    [Project1].[Active_flag] AS [Active_flag], 
    [Project1].[Dividend_FX_Security_ID] AS [Dividend_FX_Security_ID]
    FROM ( SELECT 
        [Extent1].[Security_ID] AS [Security_ID], 
        [Extent1].[Entity_ID] AS [Entity_ID], 
        [Extent1].[Security_Name] AS [Security_Name], 
        [Extent1].[Short_Name] AS [Short_Name], 
        [Extent1].[Primary_Exch] AS [Primary_Exch], 
        [Extent1].[Secondary_Exch] AS [Secondary_Exch], 
        [Extent1].[Country_Of_Domicile] AS [Country_Of_Domicile], 
        [Extent1].[Country_Of_Risk] AS [Country_Of_Risk], 
        [Extent1].[Security_Type_Code] AS [Security_Type_Code], 
        [Extent1].[Price_Multiplier] AS [Price_Multiplier], 
        [Extent1].[Income_Frequency] AS [Income_Frequency], 
        [Extent1].[Issuer_Code] AS [Issuer_Code], 
        [Extent1].[Ultimate_Issuer_Code] AS [Ultimate_Issuer_Code], 
        [Extent1].[Asset_Currency] AS [Asset_Currency], 
        [Extent1].[Min_Lot_Size] AS [Min_Lot_Size], 
        [Extent1].[Decimal_Precision] AS [Decimal_Precision], 
        [Extent1].[AvePrice_Rounding] AS [AvePrice_Rounding], 
        [Extent1].[Issue_Date] AS [Issue_Date], 
        [Extent1].[Maturity_Date] AS [Maturity_Date], 
        [Extent1].[Coupon_Rate] AS [Coupon_Rate], 
        [Extent1].[Price_Exchange] AS [Price_Exchange], 
        [Extent1].[Trade_Currency] AS [Trade_Currency], 
        [Extent1].[Price_Curr] AS [Price_Curr], 
        [Extent1].[Currency_Pair_Code] AS [Currency_Pair_Code], 
        [Extent1].[Share_Class] AS [Share_Class], 
        [Extent1].[Current_Market_Price] AS [Current_Market_Price], 
        [Extent1].[Index_Type] AS [Index_Type], 
        [Extent1].[Clean_Price_Formula] AS [Clean_Price_Formula], 
        [Extent1].[Accrued_Income_Price_Formula] AS [Accrued_Income_Price_Formula], 
        [Extent1].[Odd_First_Coupon_Date] AS [Odd_First_Coupon_Date], 
        [Extent1].[Odd_Last_Coupon_Date] AS [Odd_Last_Coupon_Date], 
        [Extent1].[Coupon_Anniversary_Indicator] AS [Coupon_Anniversary_Indicator], 
        [Extent1].[Track_EOM_Flag] AS [Track_EOM_Flag], 
        [Extent1].[Next_Coupon_Date] AS [Next_Coupon_Date], 
        [Extent1].[Previous_Coupon_Date] AS [Previous_Coupon_Date], 
        [Extent1].[Payment_Frequency] AS [Payment_Frequency], 
        [Extent1].[Coupon_BusDay_Adjustment] AS [Coupon_BusDay_Adjustment], 
        [Extent1].[Next_Ex_Div_Date] AS [Next_Ex_Div_Date], 
        [Extent1].[Ex_Div_BusDay_Adjustment] AS [Ex_Div_BusDay_Adjustment], 
        [Extent1].[Ex_Div_Period] AS [Ex_Div_Period], 
        [Extent1].[Ticker] AS [Ticker], 
        [Extent1].[Inet_ID] AS [Inet_ID], 
        [Extent1].[Bloomberg_ID] AS [Bloomberg_ID], 
        [Extent1].[External_Sec_ID] AS [External_Sec_ID], 
        [Extent1].[Reuters_ID] AS [Reuters_ID], 
        [Extent1].[ISIN] AS [ISIN], 
        [Extent1].[Call_Account_Flag] AS [Call_Account_Flag], 
        [Extent1].[System_Locked] AS [System_Locked], 
        [Extent1].[Last_Update_User] AS [Last_Update_User], 
        [Extent1].[Last_Update_Date] AS [Last_Update_Date], 
        [Extent1].[Security_Status] AS [Security_Status], 
        [Extent1].[Benchmark_Portfolio] AS [Benchmark_Portfolio], 
        [Extent1].[Active_flag] AS [Active_flag], 
        [Extent1].[Dividend_FX_Security_ID] AS [Dividend_FX_Security_ID]
        FROM [dbo].[Security_Detail] AS [Extent1]
        WHERE ([Extent1].[Entity_ID] IN (@p__linq__0,@p__linq__1)) AND ((CASE WHEN ( NOT ((N'' = @p__linq__2) AND (@p__linq__2 IS NOT NULL))) THEN CASE WHEN ([Extent1].[Security_Type_Code] = @p__linq__3) THEN cast(1 as bit) WHEN ( NOT (([Extent1].[Security_Type_Code] = @p__linq__3) AND (0 = (CASE WHEN (@p__linq__3 IS NULL) THEN cast(1 as bit) ELSE cast(0 as bit) END)))) THEN cast(0 as bit) END WHEN ('' <> [Extent1].[Security_Type_Code]) THEN cast(1 as bit) WHEN ('' = [Extent1].[Security_Type_Code]) THEN cast(0 as bit) END) = 1)
    )  AS [Project1]
    ORDER BY [Project1].[Security_Name] ASC
2018-04-07 18:43:42.2006|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: IF db_id(N'MetopeAzureDb') IS NOT NULL SELECT 1 ELSE SELECT Count(*) FROM sys.databases WHERE [name]=N'MetopeAzureDb'
2018-04-07 18:43:42.2171|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: IF db_id(N'MetopeAzureDb') IS NOT NULL SELECT 1 ELSE SELECT Count(*) FROM sys.databases WHERE [name]=N'MetopeAzureDb'
2018-04-07 18:43:42.2361|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: IF db_id(N'MetopeAzureDb') IS NOT NULL SELECT 1 ELSE SELECT Count(*) FROM sys.databases WHERE [name]=N'MetopeAzureDb'
2018-04-07 18:43:42.2526|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: IF db_id(N'MetopeAzureDb') IS NOT NULL SELECT 1 ELSE SELECT Count(*) FROM sys.databases WHERE [name]=N'MetopeAzureDb'
2018-04-07 18:43:46.6672|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: SELECT 
    [Extent1].[Entity_ID] AS [Entity_ID], 
    [Extent1].[Security_ID] AS [Security_ID], 
    [Extent1].[Issued_Amount] AS [Issued_Amount], 
    [Extent1].[Market_Capitalisation] AS [Market_Capitalisation], 
    [Extent1].[Risk_Premium] AS [Risk_Premium], 
    [Extent1].[Exit_Price] AS [Exit_Price], 
    [Extent1].[Total_Return_ME_1YR] AS [Total_Return_ME_1YR], 
    [Extent1].[Total_Return_ME_2YR] AS [Total_Return_ME_2YR], 
    [Extent1].[Total_Return_ME_3YR] AS [Total_Return_ME_3YR], 
    [Extent1].[Historic_Distribution] AS [Historic_Distribution], 
    [Extent1].[Distribution_Growth_Forecast_Yr1] AS [Distribution_Growth_Forecast_Yr1], 
    [Extent1].[Distribution_Growth_Forecast_Yr2] AS [Distribution_Growth_Forecast_Yr2], 
    [Extent1].[Distribution_Growth_Forecast_Yr3] AS [Distribution_Growth_Forecast_Yr3], 
    [Extent1].[Forecast_Distribution_Yr1] AS [Forecast_Distribution_Yr1], 
    [Extent1].[Forecast_Distribution_Yr2] AS [Forecast_Distribution_Yr2], 
    [Extent1].[Forecast_Distribution_Yr3] AS [Forecast_Distribution_Yr3], 
    [Extent1].[Earnings_Growth_Compounded] AS [Earnings_Growth_Compounded], 
    [Extent1].[Earnings_Forecast_Yr3] AS [Earnings_Forecast_Yr3], 
    [Extent1].[Historic_Dividend_Yield_FYE] AS [Historic_Dividend_Yield_FYE], 
    [Extent1].[Forward_Dividend_Yield_FYE] AS [Forward_Dividend_Yield_FYE], 
    [Extent1].[Yr3_Forward_Dividend_Yield] AS [Yr3_Forward_Dividend_Yield], 
    [Extent1].[Rolling_12M_Forward_Yield] AS [Rolling_12M_Forward_Yield], 
    [Extent1].[Historical_Earnings_FYE] AS [Historical_Earnings_FYE], 
    [Extent1].[Earnings_Forecast_Yr1] AS [Earnings_Forecast_Yr1], 
    [Extent1].[Earnings_Forecast_Yr2] AS [Earnings_Forecast_Yr2], 
    [Extent1].[Historic_Dividend_Yield_Relative] AS [Historic_Dividend_Yield_Relative], 
    [Extent1].[Rolling_12M_Historic_Distribution_PriceCurr] AS [Rolling_12M_Historic_Distribution_PriceCurr], 
    [Extent1].[Short_Term_Market_Rerate] AS [Short_Term_Market_Rerate], 
    [Extent1].[Forecast_12M_Total_Return] AS [Forecast_12M_Total_Return], 
    [Extent1].[Clean_Price] AS [Clean_Price], 
    [Extent1].[Rolling_Dividend_Yield_Historic] AS [Rolling_Dividend_Yield_Historic], 
    [Extent1].[Last_Update_Date] AS [Last_Update_Date], 
    [Extent1].[Last_Update_User] AS [Last_Update_User], 
    [Extent1].[Discount_Security_ID] AS [Discount_Security_ID], 
    [Extent1].[Net_Present_Value] AS [Net_Present_Value], 
    [Extent1].[Forecast_Rolling_Custom_Income] AS [Forecast_Rolling_Custom_Income], 
    [Extent1].[Custom_Period] AS [Custom_Period], 
    [Extent1].[Rolling_12M_Historic_Distribution] AS [Rolling_12M_Historic_Distribution], 
    [Extent1].[Record_Date] AS [Record_Date], 
    [Extent1].[Session_ID] AS [Session_ID], 
    [Extent1].[Hist_Last_Update_Date] AS [Hist_Last_Update_Date], 
    [Extent1].[Hist_Last_Update_User] AS [Hist_Last_Update_User], 
    [Extent1].[Rolling_12M_Forecast_Distribution] AS [Rolling_12M_Forecast_Distribution], 
    [Extent1].[Yr2_Forward_Dividend_Yield] AS [Yr2_Forward_Dividend_Yield], 
    [Extent1].[Exit_Yield] AS [Exit_Yield], 
    [Extent1].[Discount_Rate] AS [Discount_Rate], 
    [Extent1].[Distribution_Growth_Compounded] AS [Distribution_Growth_Compounded], 
    [Extent1].[Forecast_12MRolling_Income_Accrual] AS [Forecast_12MRolling_Income_Accrual], 
    [Extent1].[Rolling_12_to_24M_Forecast_Distribution] AS [Rolling_12_to_24M_Forecast_Distribution], 
    [Extent1].[Rolling_24_to_36M_Forecast_Distribution] AS [Rolling_24_to_36M_Forecast_Distribution], 
    [Extent1].[Forecast_Yr1_Dividend_Yield_Relative] AS [Forecast_Yr1_Dividend_Yield_Relative], 
    [Extent1].[Market_Historic_Yield] AS [Market_Historic_Yield], 
    [Extent1].[Market_Forward_Yield] AS [Market_Forward_Yield], 
    [Extent1].[Historic_Distribution_PriceCurr] AS [Historic_Distribution_PriceCurr], 
    [Extent1].[Forecast_Distribution_Yr1_PriceCurr] AS [Forecast_Distribution_Yr1_PriceCurr], 
    [Extent1].[Forecast_Distribution_Yr2_PriceCurr] AS [Forecast_Distribution_Yr2_PriceCurr], 
    [Extent1].[Forecast_Distribution_Yr3_PriceCurr] AS [Forecast_Distribution_Yr3_PriceCurr], 
    [Extent1].[Rolling_12M_Forecast_Distribution_PriceCurr] AS [Rolling_12M_Forecast_Distribution_PriceCurr], 
    [Extent1].[Rolling_12_24M_Forecast_Distribution_PriceCurr] AS [Rolling_12_24M_Forecast_Distribution_PriceCurr], 
    [Extent1].[Rolling_24_36M_Forecast_Distribution_PriceCurr] AS [Rolling_24_36M_Forecast_Distribution_PriceCurr], 
    [Extent1].[Distribution_Growth_Forecast_Yr4] AS [Distribution_Growth_Forecast_Yr4], 
    [Extent1].[Earnings_Forecast_Yr4] AS [Earnings_Forecast_Yr4], 
    [Extent1].[Forecast_Distribution_Yr4] AS [Forecast_Distribution_Yr4], 
    [Extent1].[Forecast_Distribution_Yr4_PriceCurr] AS [Forecast_Distribution_Yr4_PriceCurr]
    FROM [dbo].[Security_Analytics_History] AS [Extent1]
    WHERE ([Extent1].[Security_ID] = @p__linq__0) AND ([Extent1].[Record_Date] = @p__linq__1) AND ([Extent1].[Entity_ID] = @p__linq__2)
2018-04-07 18:43:46.7153|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: SELECT 
    [Extent1].[Entity_ID] AS [Entity_ID], 
    [Extent1].[Security_ID] AS [Security_ID], 
    [Extent1].[Issued_Amount] AS [Issued_Amount], 
    [Extent1].[Market_Capitalisation] AS [Market_Capitalisation], 
    [Extent1].[Risk_Premium] AS [Risk_Premium], 
    [Extent1].[Exit_Price] AS [Exit_Price], 
    [Extent1].[Total_Return_ME_1YR] AS [Total_Return_ME_1YR], 
    [Extent1].[Total_Return_ME_2YR] AS [Total_Return_ME_2YR], 
    [Extent1].[Total_Return_ME_3YR] AS [Total_Return_ME_3YR], 
    [Extent1].[Historic_Distribution] AS [Historic_Distribution], 
    [Extent1].[Distribution_Growth_Forecast_Yr1] AS [Distribution_Growth_Forecast_Yr1], 
    [Extent1].[Distribution_Growth_Forecast_Yr2] AS [Distribution_Growth_Forecast_Yr2], 
    [Extent1].[Distribution_Growth_Forecast_Yr3] AS [Distribution_Growth_Forecast_Yr3], 
    [Extent1].[Forecast_Distribution_Yr1] AS [Forecast_Distribution_Yr1], 
    [Extent1].[Forecast_Distribution_Yr2] AS [Forecast_Distribution_Yr2], 
    [Extent1].[Forecast_Distribution_Yr3] AS [Forecast_Distribution_Yr3], 
    [Extent1].[Earnings_Growth_Compounded] AS [Earnings_Growth_Compounded], 
    [Extent1].[Earnings_Forecast_Yr3] AS [Earnings_Forecast_Yr3], 
    [Extent1].[Historic_Dividend_Yield_FYE] AS [Historic_Dividend_Yield_FYE], 
    [Extent1].[Forward_Dividend_Yield_FYE] AS [Forward_Dividend_Yield_FYE], 
    [Extent1].[Yr3_Forward_Dividend_Yield] AS [Yr3_Forward_Dividend_Yield], 
    [Extent1].[Rolling_12M_Forward_Yield] AS [Rolling_12M_Forward_Yield], 
    [Extent1].[Historical_Earnings_FYE] AS [Historical_Earnings_FYE], 
    [Extent1].[Earnings_Forecast_Yr1] AS [Earnings_Forecast_Yr1], 
    [Extent1].[Earnings_Forecast_Yr2] AS [Earnings_Forecast_Yr2], 
    [Extent1].[Historic_Dividend_Yield_Relative] AS [Historic_Dividend_Yield_Relative], 
    [Extent1].[Rolling_12M_Historic_Distribution_PriceCurr] AS [Rolling_12M_Historic_Distribution_PriceCurr], 
    [Extent1].[Short_Term_Market_Rerate] AS [Short_Term_Market_Rerate], 
    [Extent1].[Forecast_12M_Total_Return] AS [Forecast_12M_Total_Return], 
    [Extent1].[Clean_Price] AS [Clean_Price], 
    [Extent1].[Rolling_Dividend_Yield_Historic] AS [Rolling_Dividend_Yield_Historic], 
    [Extent1].[Last_Update_Date] AS [Last_Update_Date], 
    [Extent1].[Last_Update_User] AS [Last_Update_User], 
    [Extent1].[Discount_Security_ID] AS [Discount_Security_ID], 
    [Extent1].[Net_Present_Value] AS [Net_Present_Value], 
    [Extent1].[Forecast_Rolling_Custom_Income] AS [Forecast_Rolling_Custom_Income], 
    [Extent1].[Custom_Period] AS [Custom_Period], 
    [Extent1].[Rolling_12M_Historic_Distribution] AS [Rolling_12M_Historic_Distribution], 
    [Extent1].[Record_Date] AS [Record_Date], 
    [Extent1].[Session_ID] AS [Session_ID], 
    [Extent1].[Hist_Last_Update_Date] AS [Hist_Last_Update_Date], 
    [Extent1].[Hist_Last_Update_User] AS [Hist_Last_Update_User], 
    [Extent1].[Rolling_12M_Forecast_Distribution] AS [Rolling_12M_Forecast_Distribution], 
    [Extent1].[Yr2_Forward_Dividend_Yield] AS [Yr2_Forward_Dividend_Yield], 
    [Extent1].[Exit_Yield] AS [Exit_Yield], 
    [Extent1].[Discount_Rate] AS [Discount_Rate], 
    [Extent1].[Distribution_Growth_Compounded] AS [Distribution_Growth_Compounded], 
    [Extent1].[Forecast_12MRolling_Income_Accrual] AS [Forecast_12MRolling_Income_Accrual], 
    [Extent1].[Rolling_12_to_24M_Forecast_Distribution] AS [Rolling_12_to_24M_Forecast_Distribution], 
    [Extent1].[Rolling_24_to_36M_Forecast_Distribution] AS [Rolling_24_to_36M_Forecast_Distribution], 
    [Extent1].[Forecast_Yr1_Dividend_Yield_Relative] AS [Forecast_Yr1_Dividend_Yield_Relative], 
    [Extent1].[Market_Historic_Yield] AS [Market_Historic_Yield], 
    [Extent1].[Market_Forward_Yield] AS [Market_Forward_Yield], 
    [Extent1].[Historic_Distribution_PriceCurr] AS [Historic_Distribution_PriceCurr], 
    [Extent1].[Forecast_Distribution_Yr1_PriceCurr] AS [Forecast_Distribution_Yr1_PriceCurr], 
    [Extent1].[Forecast_Distribution_Yr2_PriceCurr] AS [Forecast_Distribution_Yr2_PriceCurr], 
    [Extent1].[Forecast_Distribution_Yr3_PriceCurr] AS [Forecast_Distribution_Yr3_PriceCurr], 
    [Extent1].[Rolling_12M_Forecast_Distribution_PriceCurr] AS [Rolling_12M_Forecast_Distribution_PriceCurr], 
    [Extent1].[Rolling_12_24M_Forecast_Distribution_PriceCurr] AS [Rolling_12_24M_Forecast_Distribution_PriceCurr], 
    [Extent1].[Rolling_24_36M_Forecast_Distribution_PriceCurr] AS [Rolling_24_36M_Forecast_Distribution_PriceCurr], 
    [Extent1].[Distribution_Growth_Forecast_Yr4] AS [Distribution_Growth_Forecast_Yr4], 
    [Extent1].[Earnings_Forecast_Yr4] AS [Earnings_Forecast_Yr4], 
    [Extent1].[Forecast_Distribution_Yr4] AS [Forecast_Distribution_Yr4], 
    [Extent1].[Forecast_Distribution_Yr4_PriceCurr] AS [Forecast_Distribution_Yr4_PriceCurr]
    FROM [dbo].[Security_Analytics_History] AS [Extent1]
    WHERE ([Extent1].[Security_ID] = @p__linq__0) AND ([Extent1].[Record_Date] = @p__linq__1) AND ([Extent1].[Entity_ID] = @p__linq__2)
2018-04-07 18:43:46.7703|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: SELECT 
    [Project1].[Security_ID] AS [Security_ID], 
    [Project1].[Entity_ID] AS [Entity_ID], 
    [Project1].[Security_Name] AS [Security_Name], 
    [Project1].[Short_Name] AS [Short_Name], 
    [Project1].[Primary_Exch] AS [Primary_Exch], 
    [Project1].[Secondary_Exch] AS [Secondary_Exch], 
    [Project1].[Country_Of_Domicile] AS [Country_Of_Domicile], 
    [Project1].[Country_Of_Risk] AS [Country_Of_Risk], 
    [Project1].[Security_Type_Code] AS [Security_Type_Code], 
    [Project1].[Price_Multiplier] AS [Price_Multiplier], 
    [Project1].[Income_Frequency] AS [Income_Frequency], 
    [Project1].[Issuer_Code] AS [Issuer_Code], 
    [Project1].[Ultimate_Issuer_Code] AS [Ultimate_Issuer_Code], 
    [Project1].[Asset_Currency] AS [Asset_Currency], 
    [Project1].[Min_Lot_Size] AS [Min_Lot_Size], 
    [Project1].[Decimal_Precision] AS [Decimal_Precision], 
    [Project1].[AvePrice_Rounding] AS [AvePrice_Rounding], 
    [Project1].[Issue_Date] AS [Issue_Date], 
    [Project1].[Maturity_Date] AS [Maturity_Date], 
    [Project1].[Coupon_Rate] AS [Coupon_Rate], 
    [Project1].[Price_Exchange] AS [Price_Exchange], 
    [Project1].[Trade_Currency] AS [Trade_Currency], 
    [Project1].[Price_Curr] AS [Price_Curr], 
    [Project1].[Currency_Pair_Code] AS [Currency_Pair_Code], 
    [Project1].[Share_Class] AS [Share_Class], 
    [Project1].[Current_Market_Price] AS [Current_Market_Price], 
    [Project1].[Index_Type] AS [Index_Type], 
    [Project1].[Clean_Price_Formula] AS [Clean_Price_Formula], 
    [Project1].[Accrued_Income_Price_Formula] AS [Accrued_Income_Price_Formula], 
    [Project1].[Odd_First_Coupon_Date] AS [Odd_First_Coupon_Date], 
    [Project1].[Odd_Last_Coupon_Date] AS [Odd_Last_Coupon_Date], 
    [Project1].[Coupon_Anniversary_Indicator] AS [Coupon_Anniversary_Indicator], 
    [Project1].[Track_EOM_Flag] AS [Track_EOM_Flag], 
    [Project1].[Next_Coupon_Date] AS [Next_Coupon_Date], 
    [Project1].[Previous_Coupon_Date] AS [Previous_Coupon_Date], 
    [Project1].[Payment_Frequency] AS [Payment_Frequency], 
    [Project1].[Coupon_BusDay_Adjustment] AS [Coupon_BusDay_Adjustment], 
    [Project1].[Next_Ex_Div_Date] AS [Next_Ex_Div_Date], 
    [Project1].[Ex_Div_BusDay_Adjustment] AS [Ex_Div_BusDay_Adjustment], 
    [Project1].[Ex_Div_Period] AS [Ex_Div_Period], 
    [Project1].[Ticker] AS [Ticker], 
    [Project1].[Inet_ID] AS [Inet_ID], 
    [Project1].[Bloomberg_ID] AS [Bloomberg_ID], 
    [Project1].[External_Sec_ID] AS [External_Sec_ID], 
    [Project1].[Reuters_ID] AS [Reuters_ID], 
    [Project1].[ISIN] AS [ISIN], 
    [Project1].[Call_Account_Flag] AS [Call_Account_Flag], 
    [Project1].[System_Locked] AS [System_Locked], 
    [Project1].[Last_Update_User] AS [Last_Update_User], 
    [Project1].[Last_Update_Date] AS [Last_Update_Date], 
    [Project1].[Security_Status] AS [Security_Status], 
    [Project1].[Benchmark_Portfolio] AS [Benchmark_Portfolio], 
    [Project1].[Active_flag] AS [Active_flag], 
    [Project1].[Dividend_FX_Security_ID] AS [Dividend_FX_Security_ID]
    FROM ( SELECT 
        [Extent1].[Security_ID] AS [Security_ID], 
        [Extent1].[Entity_ID] AS [Entity_ID], 
        [Extent1].[Security_Name] AS [Security_Name], 
        [Extent1].[Short_Name] AS [Short_Name], 
        [Extent1].[Primary_Exch] AS [Primary_Exch], 
        [Extent1].[Secondary_Exch] AS [Secondary_Exch], 
        [Extent1].[Country_Of_Domicile] AS [Country_Of_Domicile], 
        [Extent1].[Country_Of_Risk] AS [Country_Of_Risk], 
        [Extent1].[Security_Type_Code] AS [Security_Type_Code], 
        [Extent1].[Price_Multiplier] AS [Price_Multiplier], 
        [Extent1].[Income_Frequency] AS [Income_Frequency], 
        [Extent1].[Issuer_Code] AS [Issuer_Code], 
        [Extent1].[Ultimate_Issuer_Code] AS [Ultimate_Issuer_Code], 
        [Extent1].[Asset_Currency] AS [Asset_Currency], 
        [Extent1].[Min_Lot_Size] AS [Min_Lot_Size], 
        [Extent1].[Decimal_Precision] AS [Decimal_Precision], 
        [Extent1].[AvePrice_Rounding] AS [AvePrice_Rounding], 
        [Extent1].[Issue_Date] AS [Issue_Date], 
        [Extent1].[Maturity_Date] AS [Maturity_Date], 
        [Extent1].[Coupon_Rate] AS [Coupon_Rate], 
        [Extent1].[Price_Exchange] AS [Price_Exchange], 
        [Extent1].[Trade_Currency] AS [Trade_Currency], 
        [Extent1].[Price_Curr] AS [Price_Curr], 
        [Extent1].[Currency_Pair_Code] AS [Currency_Pair_Code], 
        [Extent1].[Share_Class] AS [Share_Class], 
        [Extent1].[Current_Market_Price] AS [Current_Market_Price], 
        [Extent1].[Index_Type] AS [Index_Type], 
        [Extent1].[Clean_Price_Formula] AS [Clean_Price_Formula], 
        [Extent1].[Accrued_Income_Price_Formula] AS [Accrued_Income_Price_Formula], 
        [Extent1].[Odd_First_Coupon_Date] AS [Odd_First_Coupon_Date], 
        [Extent1].[Odd_Last_Coupon_Date] AS [Odd_Last_Coupon_Date], 
        [Extent1].[Coupon_Anniversary_Indicator] AS [Coupon_Anniversary_Indicator], 
        [Extent1].[Track_EOM_Flag] AS [Track_EOM_Flag], 
        [Extent1].[Next_Coupon_Date] AS [Next_Coupon_Date], 
        [Extent1].[Previous_Coupon_Date] AS [Previous_Coupon_Date], 
        [Extent1].[Payment_Frequency] AS [Payment_Frequency], 
        [Extent1].[Coupon_BusDay_Adjustment] AS [Coupon_BusDay_Adjustment], 
        [Extent1].[Next_Ex_Div_Date] AS [Next_Ex_Div_Date], 
        [Extent1].[Ex_Div_BusDay_Adjustment] AS [Ex_Div_BusDay_Adjustment], 
        [Extent1].[Ex_Div_Period] AS [Ex_Div_Period], 
        [Extent1].[Ticker] AS [Ticker], 
        [Extent1].[Inet_ID] AS [Inet_ID], 
        [Extent1].[Bloomberg_ID] AS [Bloomberg_ID], 
        [Extent1].[External_Sec_ID] AS [External_Sec_ID], 
        [Extent1].[Reuters_ID] AS [Reuters_ID], 
        [Extent1].[ISIN] AS [ISIN], 
        [Extent1].[Call_Account_Flag] AS [Call_Account_Flag], 
        [Extent1].[System_Locked] AS [System_Locked], 
        [Extent1].[Last_Update_User] AS [Last_Update_User], 
        [Extent1].[Last_Update_Date] AS [Last_Update_Date], 
        [Extent1].[Security_Status] AS [Security_Status], 
        [Extent1].[Benchmark_Portfolio] AS [Benchmark_Portfolio], 
        [Extent1].[Active_flag] AS [Active_flag], 
        [Extent1].[Dividend_FX_Security_ID] AS [Dividend_FX_Security_ID]
        FROM [dbo].[Security_Detail] AS [Extent1]
        WHERE ([Extent1].[Entity_ID] IN (@p__linq__0,@p__linq__1)) AND ((CASE WHEN ( NOT ((N'' = @p__linq__2) AND (@p__linq__2 IS NOT NULL))) THEN CASE WHEN ([Extent1].[Security_Type_Code] = @p__linq__3) THEN cast(1 as bit) WHEN ( NOT (([Extent1].[Security_Type_Code] = @p__linq__3) AND (0 = (CASE WHEN (@p__linq__3 IS NULL) THEN cast(1 as bit) ELSE cast(0 as bit) END)))) THEN cast(0 as bit) END WHEN ('' <> [Extent1].[Security_Type_Code]) THEN cast(1 as bit) WHEN ('' = [Extent1].[Security_Type_Code]) THEN cast(0 as bit) END) = 1)
    )  AS [Project1]
    ORDER BY [Project1].[Security_Name] ASC
2018-04-07 18:43:46.8013|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: SELECT 
    [Project1].[Security_ID] AS [Security_ID], 
    [Project1].[Entity_ID] AS [Entity_ID], 
    [Project1].[Security_Name] AS [Security_Name], 
    [Project1].[Short_Name] AS [Short_Name], 
    [Project1].[Primary_Exch] AS [Primary_Exch], 
    [Project1].[Secondary_Exch] AS [Secondary_Exch], 
    [Project1].[Country_Of_Domicile] AS [Country_Of_Domicile], 
    [Project1].[Country_Of_Risk] AS [Country_Of_Risk], 
    [Project1].[Security_Type_Code] AS [Security_Type_Code], 
    [Project1].[Price_Multiplier] AS [Price_Multiplier], 
    [Project1].[Income_Frequency] AS [Income_Frequency], 
    [Project1].[Issuer_Code] AS [Issuer_Code], 
    [Project1].[Ultimate_Issuer_Code] AS [Ultimate_Issuer_Code], 
    [Project1].[Asset_Currency] AS [Asset_Currency], 
    [Project1].[Min_Lot_Size] AS [Min_Lot_Size], 
    [Project1].[Decimal_Precision] AS [Decimal_Precision], 
    [Project1].[AvePrice_Rounding] AS [AvePrice_Rounding], 
    [Project1].[Issue_Date] AS [Issue_Date], 
    [Project1].[Maturity_Date] AS [Maturity_Date], 
    [Project1].[Coupon_Rate] AS [Coupon_Rate], 
    [Project1].[Price_Exchange] AS [Price_Exchange], 
    [Project1].[Trade_Currency] AS [Trade_Currency], 
    [Project1].[Price_Curr] AS [Price_Curr], 
    [Project1].[Currency_Pair_Code] AS [Currency_Pair_Code], 
    [Project1].[Share_Class] AS [Share_Class], 
    [Project1].[Current_Market_Price] AS [Current_Market_Price], 
    [Project1].[Index_Type] AS [Index_Type], 
    [Project1].[Clean_Price_Formula] AS [Clean_Price_Formula], 
    [Project1].[Accrued_Income_Price_Formula] AS [Accrued_Income_Price_Formula], 
    [Project1].[Odd_First_Coupon_Date] AS [Odd_First_Coupon_Date], 
    [Project1].[Odd_Last_Coupon_Date] AS [Odd_Last_Coupon_Date], 
    [Project1].[Coupon_Anniversary_Indicator] AS [Coupon_Anniversary_Indicator], 
    [Project1].[Track_EOM_Flag] AS [Track_EOM_Flag], 
    [Project1].[Next_Coupon_Date] AS [Next_Coupon_Date], 
    [Project1].[Previous_Coupon_Date] AS [Previous_Coupon_Date], 
    [Project1].[Payment_Frequency] AS [Payment_Frequency], 
    [Project1].[Coupon_BusDay_Adjustment] AS [Coupon_BusDay_Adjustment], 
    [Project1].[Next_Ex_Div_Date] AS [Next_Ex_Div_Date], 
    [Project1].[Ex_Div_BusDay_Adjustment] AS [Ex_Div_BusDay_Adjustment], 
    [Project1].[Ex_Div_Period] AS [Ex_Div_Period], 
    [Project1].[Ticker] AS [Ticker], 
    [Project1].[Inet_ID] AS [Inet_ID], 
    [Project1].[Bloomberg_ID] AS [Bloomberg_ID], 
    [Project1].[External_Sec_ID] AS [External_Sec_ID], 
    [Project1].[Reuters_ID] AS [Reuters_ID], 
    [Project1].[ISIN] AS [ISIN], 
    [Project1].[Call_Account_Flag] AS [Call_Account_Flag], 
    [Project1].[System_Locked] AS [System_Locked], 
    [Project1].[Last_Update_User] AS [Last_Update_User], 
    [Project1].[Last_Update_Date] AS [Last_Update_Date], 
    [Project1].[Security_Status] AS [Security_Status], 
    [Project1].[Benchmark_Portfolio] AS [Benchmark_Portfolio], 
    [Project1].[Active_flag] AS [Active_flag], 
    [Project1].[Dividend_FX_Security_ID] AS [Dividend_FX_Security_ID]
    FROM ( SELECT 
        [Extent1].[Security_ID] AS [Security_ID], 
        [Extent1].[Entity_ID] AS [Entity_ID], 
        [Extent1].[Security_Name] AS [Security_Name], 
        [Extent1].[Short_Name] AS [Short_Name], 
        [Extent1].[Primary_Exch] AS [Primary_Exch], 
        [Extent1].[Secondary_Exch] AS [Secondary_Exch], 
        [Extent1].[Country_Of_Domicile] AS [Country_Of_Domicile], 
        [Extent1].[Country_Of_Risk] AS [Country_Of_Risk], 
        [Extent1].[Security_Type_Code] AS [Security_Type_Code], 
        [Extent1].[Price_Multiplier] AS [Price_Multiplier], 
        [Extent1].[Income_Frequency] AS [Income_Frequency], 
        [Extent1].[Issuer_Code] AS [Issuer_Code], 
        [Extent1].[Ultimate_Issuer_Code] AS [Ultimate_Issuer_Code], 
        [Extent1].[Asset_Currency] AS [Asset_Currency], 
        [Extent1].[Min_Lot_Size] AS [Min_Lot_Size], 
        [Extent1].[Decimal_Precision] AS [Decimal_Precision], 
        [Extent1].[AvePrice_Rounding] AS [AvePrice_Rounding], 
        [Extent1].[Issue_Date] AS [Issue_Date], 
        [Extent1].[Maturity_Date] AS [Maturity_Date], 
        [Extent1].[Coupon_Rate] AS [Coupon_Rate], 
        [Extent1].[Price_Exchange] AS [Price_Exchange], 
        [Extent1].[Trade_Currency] AS [Trade_Currency], 
        [Extent1].[Price_Curr] AS [Price_Curr], 
        [Extent1].[Currency_Pair_Code] AS [Currency_Pair_Code], 
        [Extent1].[Share_Class] AS [Share_Class], 
        [Extent1].[Current_Market_Price] AS [Current_Market_Price], 
        [Extent1].[Index_Type] AS [Index_Type], 
        [Extent1].[Clean_Price_Formula] AS [Clean_Price_Formula], 
        [Extent1].[Accrued_Income_Price_Formula] AS [Accrued_Income_Price_Formula], 
        [Extent1].[Odd_First_Coupon_Date] AS [Odd_First_Coupon_Date], 
        [Extent1].[Odd_Last_Coupon_Date] AS [Odd_Last_Coupon_Date], 
        [Extent1].[Coupon_Anniversary_Indicator] AS [Coupon_Anniversary_Indicator], 
        [Extent1].[Track_EOM_Flag] AS [Track_EOM_Flag], 
        [Extent1].[Next_Coupon_Date] AS [Next_Coupon_Date], 
        [Extent1].[Previous_Coupon_Date] AS [Previous_Coupon_Date], 
        [Extent1].[Payment_Frequency] AS [Payment_Frequency], 
        [Extent1].[Coupon_BusDay_Adjustment] AS [Coupon_BusDay_Adjustment], 
        [Extent1].[Next_Ex_Div_Date] AS [Next_Ex_Div_Date], 
        [Extent1].[Ex_Div_BusDay_Adjustment] AS [Ex_Div_BusDay_Adjustment], 
        [Extent1].[Ex_Div_Period] AS [Ex_Div_Period], 
        [Extent1].[Ticker] AS [Ticker], 
        [Extent1].[Inet_ID] AS [Inet_ID], 
        [Extent1].[Bloomberg_ID] AS [Bloomberg_ID], 
        [Extent1].[External_Sec_ID] AS [External_Sec_ID], 
        [Extent1].[Reuters_ID] AS [Reuters_ID], 
        [Extent1].[ISIN] AS [ISIN], 
        [Extent1].[Call_Account_Flag] AS [Call_Account_Flag], 
        [Extent1].[System_Locked] AS [System_Locked], 
        [Extent1].[Last_Update_User] AS [Last_Update_User], 
        [Extent1].[Last_Update_Date] AS [Last_Update_Date], 
        [Extent1].[Security_Status] AS [Security_Status], 
        [Extent1].[Benchmark_Portfolio] AS [Benchmark_Portfolio], 
        [Extent1].[Active_flag] AS [Active_flag], 
        [Extent1].[Dividend_FX_Security_ID] AS [Dividend_FX_Security_ID]
        FROM [dbo].[Security_Detail] AS [Extent1]
        WHERE ([Extent1].[Entity_ID] IN (@p__linq__0,@p__linq__1)) AND ((CASE WHEN ( NOT ((N'' = @p__linq__2) AND (@p__linq__2 IS NOT NULL))) THEN CASE WHEN ([Extent1].[Security_Type_Code] = @p__linq__3) THEN cast(1 as bit) WHEN ( NOT (([Extent1].[Security_Type_Code] = @p__linq__3) AND (0 = (CASE WHEN (@p__linq__3 IS NULL) THEN cast(1 as bit) ELSE cast(0 as bit) END)))) THEN cast(0 as bit) END WHEN ('' <> [Extent1].[Security_Type_Code]) THEN cast(1 as bit) WHEN ('' = [Extent1].[Security_Type_Code]) THEN cast(0 as bit) END) = 1)
    )  AS [Project1]
    ORDER BY [Project1].[Security_Name] ASC
2018-04-07 18:43:46.8839|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: SELECT 
    [Project1].[Security_ID] AS [Security_ID], 
    [Project1].[Entity_ID] AS [Entity_ID], 
    [Project1].[Security_Name] AS [Security_Name], 
    [Project1].[Short_Name] AS [Short_Name], 
    [Project1].[Primary_Exch] AS [Primary_Exch], 
    [Project1].[Secondary_Exch] AS [Secondary_Exch], 
    [Project1].[Country_Of_Domicile] AS [Country_Of_Domicile], 
    [Project1].[Country_Of_Risk] AS [Country_Of_Risk], 
    [Project1].[Security_Type_Code] AS [Security_Type_Code], 
    [Project1].[Price_Multiplier] AS [Price_Multiplier], 
    [Project1].[Income_Frequency] AS [Income_Frequency], 
    [Project1].[Issuer_Code] AS [Issuer_Code], 
    [Project1].[Ultimate_Issuer_Code] AS [Ultimate_Issuer_Code], 
    [Project1].[Asset_Currency] AS [Asset_Currency], 
    [Project1].[Min_Lot_Size] AS [Min_Lot_Size], 
    [Project1].[Decimal_Precision] AS [Decimal_Precision], 
    [Project1].[AvePrice_Rounding] AS [AvePrice_Rounding], 
    [Project1].[Issue_Date] AS [Issue_Date], 
    [Project1].[Maturity_Date] AS [Maturity_Date], 
    [Project1].[Coupon_Rate] AS [Coupon_Rate], 
    [Project1].[Price_Exchange] AS [Price_Exchange], 
    [Project1].[Trade_Currency] AS [Trade_Currency], 
    [Project1].[Price_Curr] AS [Price_Curr], 
    [Project1].[Currency_Pair_Code] AS [Currency_Pair_Code], 
    [Project1].[Share_Class] AS [Share_Class], 
    [Project1].[Current_Market_Price] AS [Current_Market_Price], 
    [Project1].[Index_Type] AS [Index_Type], 
    [Project1].[Clean_Price_Formula] AS [Clean_Price_Formula], 
    [Project1].[Accrued_Income_Price_Formula] AS [Accrued_Income_Price_Formula], 
    [Project1].[Odd_First_Coupon_Date] AS [Odd_First_Coupon_Date], 
    [Project1].[Odd_Last_Coupon_Date] AS [Odd_Last_Coupon_Date], 
    [Project1].[Coupon_Anniversary_Indicator] AS [Coupon_Anniversary_Indicator], 
    [Project1].[Track_EOM_Flag] AS [Track_EOM_Flag], 
    [Project1].[Next_Coupon_Date] AS [Next_Coupon_Date], 
    [Project1].[Previous_Coupon_Date] AS [Previous_Coupon_Date], 
    [Project1].[Payment_Frequency] AS [Payment_Frequency], 
    [Project1].[Coupon_BusDay_Adjustment] AS [Coupon_BusDay_Adjustment], 
    [Project1].[Next_Ex_Div_Date] AS [Next_Ex_Div_Date], 
    [Project1].[Ex_Div_BusDay_Adjustment] AS [Ex_Div_BusDay_Adjustment], 
    [Project1].[Ex_Div_Period] AS [Ex_Div_Period], 
    [Project1].[Ticker] AS [Ticker], 
    [Project1].[Inet_ID] AS [Inet_ID], 
    [Project1].[Bloomberg_ID] AS [Bloomberg_ID], 
    [Project1].[External_Sec_ID] AS [External_Sec_ID], 
    [Project1].[Reuters_ID] AS [Reuters_ID], 
    [Project1].[ISIN] AS [ISIN], 
    [Project1].[Call_Account_Flag] AS [Call_Account_Flag], 
    [Project1].[System_Locked] AS [System_Locked], 
    [Project1].[Last_Update_User] AS [Last_Update_User], 
    [Project1].[Last_Update_Date] AS [Last_Update_Date], 
    [Project1].[Security_Status] AS [Security_Status], 
    [Project1].[Benchmark_Portfolio] AS [Benchmark_Portfolio], 
    [Project1].[Active_flag] AS [Active_flag], 
    [Project1].[Dividend_FX_Security_ID] AS [Dividend_FX_Security_ID]
    FROM ( SELECT 
        [Extent1].[Security_ID] AS [Security_ID], 
        [Extent1].[Entity_ID] AS [Entity_ID], 
        [Extent1].[Security_Name] AS [Security_Name], 
        [Extent1].[Short_Name] AS [Short_Name], 
        [Extent1].[Primary_Exch] AS [Primary_Exch], 
        [Extent1].[Secondary_Exch] AS [Secondary_Exch], 
        [Extent1].[Country_Of_Domicile] AS [Country_Of_Domicile], 
        [Extent1].[Country_Of_Risk] AS [Country_Of_Risk], 
        [Extent1].[Security_Type_Code] AS [Security_Type_Code], 
        [Extent1].[Price_Multiplier] AS [Price_Multiplier], 
        [Extent1].[Income_Frequency] AS [Income_Frequency], 
        [Extent1].[Issuer_Code] AS [Issuer_Code], 
        [Extent1].[Ultimate_Issuer_Code] AS [Ultimate_Issuer_Code], 
        [Extent1].[Asset_Currency] AS [Asset_Currency], 
        [Extent1].[Min_Lot_Size] AS [Min_Lot_Size], 
        [Extent1].[Decimal_Precision] AS [Decimal_Precision], 
        [Extent1].[AvePrice_Rounding] AS [AvePrice_Rounding], 
        [Extent1].[Issue_Date] AS [Issue_Date], 
        [Extent1].[Maturity_Date] AS [Maturity_Date], 
        [Extent1].[Coupon_Rate] AS [Coupon_Rate], 
        [Extent1].[Price_Exchange] AS [Price_Exchange], 
        [Extent1].[Trade_Currency] AS [Trade_Currency], 
        [Extent1].[Price_Curr] AS [Price_Curr], 
        [Extent1].[Currency_Pair_Code] AS [Currency_Pair_Code], 
        [Extent1].[Share_Class] AS [Share_Class], 
        [Extent1].[Current_Market_Price] AS [Current_Market_Price], 
        [Extent1].[Index_Type] AS [Index_Type], 
        [Extent1].[Clean_Price_Formula] AS [Clean_Price_Formula], 
        [Extent1].[Accrued_Income_Price_Formula] AS [Accrued_Income_Price_Formula], 
        [Extent1].[Odd_First_Coupon_Date] AS [Odd_First_Coupon_Date], 
        [Extent1].[Odd_Last_Coupon_Date] AS [Odd_Last_Coupon_Date], 
        [Extent1].[Coupon_Anniversary_Indicator] AS [Coupon_Anniversary_Indicator], 
        [Extent1].[Track_EOM_Flag] AS [Track_EOM_Flag], 
        [Extent1].[Next_Coupon_Date] AS [Next_Coupon_Date], 
        [Extent1].[Previous_Coupon_Date] AS [Previous_Coupon_Date], 
        [Extent1].[Payment_Frequency] AS [Payment_Frequency], 
        [Extent1].[Coupon_BusDay_Adjustment] AS [Coupon_BusDay_Adjustment], 
        [Extent1].[Next_Ex_Div_Date] AS [Next_Ex_Div_Date], 
        [Extent1].[Ex_Div_BusDay_Adjustment] AS [Ex_Div_BusDay_Adjustment], 
        [Extent1].[Ex_Div_Period] AS [Ex_Div_Period], 
        [Extent1].[Ticker] AS [Ticker], 
        [Extent1].[Inet_ID] AS [Inet_ID], 
        [Extent1].[Bloomberg_ID] AS [Bloomberg_ID], 
        [Extent1].[External_Sec_ID] AS [External_Sec_ID], 
        [Extent1].[Reuters_ID] AS [Reuters_ID], 
        [Extent1].[ISIN] AS [ISIN], 
        [Extent1].[Call_Account_Flag] AS [Call_Account_Flag], 
        [Extent1].[System_Locked] AS [System_Locked], 
        [Extent1].[Last_Update_User] AS [Last_Update_User], 
        [Extent1].[Last_Update_Date] AS [Last_Update_Date], 
        [Extent1].[Security_Status] AS [Security_Status], 
        [Extent1].[Benchmark_Portfolio] AS [Benchmark_Portfolio], 
        [Extent1].[Active_flag] AS [Active_flag], 
        [Extent1].[Dividend_FX_Security_ID] AS [Dividend_FX_Security_ID]
        FROM [dbo].[Security_Detail] AS [Extent1]
        WHERE ([Extent1].[Entity_ID] IN (@p__linq__0,@p__linq__1)) AND ((CASE WHEN ( NOT ((N'' = @p__linq__2) AND (@p__linq__2 IS NOT NULL))) THEN CASE WHEN ([Extent1].[Security_Type_Code] = @p__linq__3) THEN cast(1 as bit) WHEN ( NOT (([Extent1].[Security_Type_Code] = @p__linq__3) AND (0 = (CASE WHEN (@p__linq__3 IS NULL) THEN cast(1 as bit) ELSE cast(0 as bit) END)))) THEN cast(0 as bit) END WHEN ('' <> [Extent1].[Security_Type_Code]) THEN cast(1 as bit) WHEN ('' = [Extent1].[Security_Type_Code]) THEN cast(0 as bit) END) = 1)
    )  AS [Project1]
    ORDER BY [Project1].[Security_Name] ASC
2018-04-07 18:43:46.9459|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: SELECT 
    [Project1].[Security_ID] AS [Security_ID], 
    [Project1].[Entity_ID] AS [Entity_ID], 
    [Project1].[Security_Name] AS [Security_Name], 
    [Project1].[Short_Name] AS [Short_Name], 
    [Project1].[Primary_Exch] AS [Primary_Exch], 
    [Project1].[Secondary_Exch] AS [Secondary_Exch], 
    [Project1].[Country_Of_Domicile] AS [Country_Of_Domicile], 
    [Project1].[Country_Of_Risk] AS [Country_Of_Risk], 
    [Project1].[Security_Type_Code] AS [Security_Type_Code], 
    [Project1].[Price_Multiplier] AS [Price_Multiplier], 
    [Project1].[Income_Frequency] AS [Income_Frequency], 
    [Project1].[Issuer_Code] AS [Issuer_Code], 
    [Project1].[Ultimate_Issuer_Code] AS [Ultimate_Issuer_Code], 
    [Project1].[Asset_Currency] AS [Asset_Currency], 
    [Project1].[Min_Lot_Size] AS [Min_Lot_Size], 
    [Project1].[Decimal_Precision] AS [Decimal_Precision], 
    [Project1].[AvePrice_Rounding] AS [AvePrice_Rounding], 
    [Project1].[Issue_Date] AS [Issue_Date], 
    [Project1].[Maturity_Date] AS [Maturity_Date], 
    [Project1].[Coupon_Rate] AS [Coupon_Rate], 
    [Project1].[Price_Exchange] AS [Price_Exchange], 
    [Project1].[Trade_Currency] AS [Trade_Currency], 
    [Project1].[Price_Curr] AS [Price_Curr], 
    [Project1].[Currency_Pair_Code] AS [Currency_Pair_Code], 
    [Project1].[Share_Class] AS [Share_Class], 
    [Project1].[Current_Market_Price] AS [Current_Market_Price], 
    [Project1].[Index_Type] AS [Index_Type], 
    [Project1].[Clean_Price_Formula] AS [Clean_Price_Formula], 
    [Project1].[Accrued_Income_Price_Formula] AS [Accrued_Income_Price_Formula], 
    [Project1].[Odd_First_Coupon_Date] AS [Odd_First_Coupon_Date], 
    [Project1].[Odd_Last_Coupon_Date] AS [Odd_Last_Coupon_Date], 
    [Project1].[Coupon_Anniversary_Indicator] AS [Coupon_Anniversary_Indicator], 
    [Project1].[Track_EOM_Flag] AS [Track_EOM_Flag], 
    [Project1].[Next_Coupon_Date] AS [Next_Coupon_Date], 
    [Project1].[Previous_Coupon_Date] AS [Previous_Coupon_Date], 
    [Project1].[Payment_Frequency] AS [Payment_Frequency], 
    [Project1].[Coupon_BusDay_Adjustment] AS [Coupon_BusDay_Adjustment], 
    [Project1].[Next_Ex_Div_Date] AS [Next_Ex_Div_Date], 
    [Project1].[Ex_Div_BusDay_Adjustment] AS [Ex_Div_BusDay_Adjustment], 
    [Project1].[Ex_Div_Period] AS [Ex_Div_Period], 
    [Project1].[Ticker] AS [Ticker], 
    [Project1].[Inet_ID] AS [Inet_ID], 
    [Project1].[Bloomberg_ID] AS [Bloomberg_ID], 
    [Project1].[External_Sec_ID] AS [External_Sec_ID], 
    [Project1].[Reuters_ID] AS [Reuters_ID], 
    [Project1].[ISIN] AS [ISIN], 
    [Project1].[Call_Account_Flag] AS [Call_Account_Flag], 
    [Project1].[System_Locked] AS [System_Locked], 
    [Project1].[Last_Update_User] AS [Last_Update_User], 
    [Project1].[Last_Update_Date] AS [Last_Update_Date], 
    [Project1].[Security_Status] AS [Security_Status], 
    [Project1].[Benchmark_Portfolio] AS [Benchmark_Portfolio], 
    [Project1].[Active_flag] AS [Active_flag], 
    [Project1].[Dividend_FX_Security_ID] AS [Dividend_FX_Security_ID]
    FROM ( SELECT 
        [Extent1].[Security_ID] AS [Security_ID], 
        [Extent1].[Entity_ID] AS [Entity_ID], 
        [Extent1].[Security_Name] AS [Security_Name], 
        [Extent1].[Short_Name] AS [Short_Name], 
        [Extent1].[Primary_Exch] AS [Primary_Exch], 
        [Extent1].[Secondary_Exch] AS [Secondary_Exch], 
        [Extent1].[Country_Of_Domicile] AS [Country_Of_Domicile], 
        [Extent1].[Country_Of_Risk] AS [Country_Of_Risk], 
        [Extent1].[Security_Type_Code] AS [Security_Type_Code], 
        [Extent1].[Price_Multiplier] AS [Price_Multiplier], 
        [Extent1].[Income_Frequency] AS [Income_Frequency], 
        [Extent1].[Issuer_Code] AS [Issuer_Code], 
        [Extent1].[Ultimate_Issuer_Code] AS [Ultimate_Issuer_Code], 
        [Extent1].[Asset_Currency] AS [Asset_Currency], 
        [Extent1].[Min_Lot_Size] AS [Min_Lot_Size], 
        [Extent1].[Decimal_Precision] AS [Decimal_Precision], 
        [Extent1].[AvePrice_Rounding] AS [AvePrice_Rounding], 
        [Extent1].[Issue_Date] AS [Issue_Date], 
        [Extent1].[Maturity_Date] AS [Maturity_Date], 
        [Extent1].[Coupon_Rate] AS [Coupon_Rate], 
        [Extent1].[Price_Exchange] AS [Price_Exchange], 
        [Extent1].[Trade_Currency] AS [Trade_Currency], 
        [Extent1].[Price_Curr] AS [Price_Curr], 
        [Extent1].[Currency_Pair_Code] AS [Currency_Pair_Code], 
        [Extent1].[Share_Class] AS [Share_Class], 
        [Extent1].[Current_Market_Price] AS [Current_Market_Price], 
        [Extent1].[Index_Type] AS [Index_Type], 
        [Extent1].[Clean_Price_Formula] AS [Clean_Price_Formula], 
        [Extent1].[Accrued_Income_Price_Formula] AS [Accrued_Income_Price_Formula], 
        [Extent1].[Odd_First_Coupon_Date] AS [Odd_First_Coupon_Date], 
        [Extent1].[Odd_Last_Coupon_Date] AS [Odd_Last_Coupon_Date], 
        [Extent1].[Coupon_Anniversary_Indicator] AS [Coupon_Anniversary_Indicator], 
        [Extent1].[Track_EOM_Flag] AS [Track_EOM_Flag], 
        [Extent1].[Next_Coupon_Date] AS [Next_Coupon_Date], 
        [Extent1].[Previous_Coupon_Date] AS [Previous_Coupon_Date], 
        [Extent1].[Payment_Frequency] AS [Payment_Frequency], 
        [Extent1].[Coupon_BusDay_Adjustment] AS [Coupon_BusDay_Adjustment], 
        [Extent1].[Next_Ex_Div_Date] AS [Next_Ex_Div_Date], 
        [Extent1].[Ex_Div_BusDay_Adjustment] AS [Ex_Div_BusDay_Adjustment], 
        [Extent1].[Ex_Div_Period] AS [Ex_Div_Period], 
        [Extent1].[Ticker] AS [Ticker], 
        [Extent1].[Inet_ID] AS [Inet_ID], 
        [Extent1].[Bloomberg_ID] AS [Bloomberg_ID], 
        [Extent1].[External_Sec_ID] AS [External_Sec_ID], 
        [Extent1].[Reuters_ID] AS [Reuters_ID], 
        [Extent1].[ISIN] AS [ISIN], 
        [Extent1].[Call_Account_Flag] AS [Call_Account_Flag], 
        [Extent1].[System_Locked] AS [System_Locked], 
        [Extent1].[Last_Update_User] AS [Last_Update_User], 
        [Extent1].[Last_Update_Date] AS [Last_Update_Date], 
        [Extent1].[Security_Status] AS [Security_Status], 
        [Extent1].[Benchmark_Portfolio] AS [Benchmark_Portfolio], 
        [Extent1].[Active_flag] AS [Active_flag], 
        [Extent1].[Dividend_FX_Security_ID] AS [Dividend_FX_Security_ID]
        FROM [dbo].[Security_Detail] AS [Extent1]
        WHERE ([Extent1].[Entity_ID] IN (@p__linq__0,@p__linq__1)) AND ((CASE WHEN ( NOT ((N'' = @p__linq__2) AND (@p__linq__2 IS NOT NULL))) THEN CASE WHEN ([Extent1].[Security_Type_Code] = @p__linq__3) THEN cast(1 as bit) WHEN ( NOT (([Extent1].[Security_Type_Code] = @p__linq__3) AND (0 = (CASE WHEN (@p__linq__3 IS NULL) THEN cast(1 as bit) ELSE cast(0 as bit) END)))) THEN cast(0 as bit) END WHEN ('' <> [Extent1].[Security_Type_Code]) THEN cast(1 as bit) WHEN ('' = [Extent1].[Security_Type_Code]) THEN cast(0 as bit) END) = 1)
    )  AS [Project1]
    ORDER BY [Project1].[Security_Name] ASC
2018-04-07 18:43:47.0245|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: IF db_id(N'MetopeAzureDb') IS NOT NULL SELECT 1 ELSE SELECT Count(*) FROM sys.databases WHERE [name]=N'MetopeAzureDb'
2018-04-07 18:43:47.1081|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: IF db_id(N'MetopeAzureDb') IS NOT NULL SELECT 1 ELSE SELECT Count(*) FROM sys.databases WHERE [name]=N'MetopeAzureDb'
2018-04-07 18:43:47.1676|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: IF db_id(N'MetopeAzureDb') IS NOT NULL SELECT 1 ELSE SELECT Count(*) FROM sys.databases WHERE [name]=N'MetopeAzureDb'
2018-04-07 18:43:47.2126|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: IF db_id(N'MetopeAzureDb') IS NOT NULL SELECT 1 ELSE SELECT Count(*) FROM sys.databases WHERE [name]=N'MetopeAzureDb'
2018-04-07 18:43:55.9735|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: SELECT 
    [Project1].[Security_ID] AS [Security_ID], 
    [Project1].[Entity_ID] AS [Entity_ID], 
    [Project1].[Security_Name] AS [Security_Name], 
    [Project1].[Short_Name] AS [Short_Name], 
    [Project1].[Primary_Exch] AS [Primary_Exch], 
    [Project1].[Secondary_Exch] AS [Secondary_Exch], 
    [Project1].[Country_Of_Domicile] AS [Country_Of_Domicile], 
    [Project1].[Country_Of_Risk] AS [Country_Of_Risk], 
    [Project1].[Security_Type_Code] AS [Security_Type_Code], 
    [Project1].[Price_Multiplier] AS [Price_Multiplier], 
    [Project1].[Income_Frequency] AS [Income_Frequency], 
    [Project1].[Issuer_Code] AS [Issuer_Code], 
    [Project1].[Ultimate_Issuer_Code] AS [Ultimate_Issuer_Code], 
    [Project1].[Asset_Currency] AS [Asset_Currency], 
    [Project1].[Min_Lot_Size] AS [Min_Lot_Size], 
    [Project1].[Decimal_Precision] AS [Decimal_Precision], 
    [Project1].[AvePrice_Rounding] AS [AvePrice_Rounding], 
    [Project1].[Issue_Date] AS [Issue_Date], 
    [Project1].[Maturity_Date] AS [Maturity_Date], 
    [Project1].[Coupon_Rate] AS [Coupon_Rate], 
    [Project1].[Price_Exchange] AS [Price_Exchange], 
    [Project1].[Trade_Currency] AS [Trade_Currency], 
    [Project1].[Price_Curr] AS [Price_Curr], 
    [Project1].[Currency_Pair_Code] AS [Currency_Pair_Code], 
    [Project1].[Share_Class] AS [Share_Class], 
    [Project1].[Current_Market_Price] AS [Current_Market_Price], 
    [Project1].[Index_Type] AS [Index_Type], 
    [Project1].[Clean_Price_Formula] AS [Clean_Price_Formula], 
    [Project1].[Accrued_Income_Price_Formula] AS [Accrued_Income_Price_Formula], 
    [Project1].[Odd_First_Coupon_Date] AS [Odd_First_Coupon_Date], 
    [Project1].[Odd_Last_Coupon_Date] AS [Odd_Last_Coupon_Date], 
    [Project1].[Coupon_Anniversary_Indicator] AS [Coupon_Anniversary_Indicator], 
    [Project1].[Track_EOM_Flag] AS [Track_EOM_Flag], 
    [Project1].[Next_Coupon_Date] AS [Next_Coupon_Date], 
    [Project1].[Previous_Coupon_Date] AS [Previous_Coupon_Date], 
    [Project1].[Payment_Frequency] AS [Payment_Frequency], 
    [Project1].[Coupon_BusDay_Adjustment] AS [Coupon_BusDay_Adjustment], 
    [Project1].[Next_Ex_Div_Date] AS [Next_Ex_Div_Date], 
    [Project1].[Ex_Div_BusDay_Adjustment] AS [Ex_Div_BusDay_Adjustment], 
    [Project1].[Ex_Div_Period] AS [Ex_Div_Period], 
    [Project1].[Ticker] AS [Ticker], 
    [Project1].[Inet_ID] AS [Inet_ID], 
    [Project1].[Bloomberg_ID] AS [Bloomberg_ID], 
    [Project1].[External_Sec_ID] AS [External_Sec_ID], 
    [Project1].[Reuters_ID] AS [Reuters_ID], 
    [Project1].[ISIN] AS [ISIN], 
    [Project1].[Call_Account_Flag] AS [Call_Account_Flag], 
    [Project1].[System_Locked] AS [System_Locked], 
    [Project1].[Last_Update_User] AS [Last_Update_User], 
    [Project1].[Last_Update_Date] AS [Last_Update_Date], 
    [Project1].[Security_Status] AS [Security_Status], 
    [Project1].[Benchmark_Portfolio] AS [Benchmark_Portfolio], 
    [Project1].[Active_flag] AS [Active_flag], 
    [Project1].[Dividend_FX_Security_ID] AS [Dividend_FX_Security_ID]
    FROM ( SELECT 
        [Extent1].[Security_ID] AS [Security_ID], 
        [Extent1].[Entity_ID] AS [Entity_ID], 
        [Extent1].[Security_Name] AS [Security_Name], 
        [Extent1].[Short_Name] AS [Short_Name], 
        [Extent1].[Primary_Exch] AS [Primary_Exch], 
        [Extent1].[Secondary_Exch] AS [Secondary_Exch], 
        [Extent1].[Country_Of_Domicile] AS [Country_Of_Domicile], 
        [Extent1].[Country_Of_Risk] AS [Country_Of_Risk], 
        [Extent1].[Security_Type_Code] AS [Security_Type_Code], 
        [Extent1].[Price_Multiplier] AS [Price_Multiplier], 
        [Extent1].[Income_Frequency] AS [Income_Frequency], 
        [Extent1].[Issuer_Code] AS [Issuer_Code], 
        [Extent1].[Ultimate_Issuer_Code] AS [Ultimate_Issuer_Code], 
        [Extent1].[Asset_Currency] AS [Asset_Currency], 
        [Extent1].[Min_Lot_Size] AS [Min_Lot_Size], 
        [Extent1].[Decimal_Precision] AS [Decimal_Precision], 
        [Extent1].[AvePrice_Rounding] AS [AvePrice_Rounding], 
        [Extent1].[Issue_Date] AS [Issue_Date], 
        [Extent1].[Maturity_Date] AS [Maturity_Date], 
        [Extent1].[Coupon_Rate] AS [Coupon_Rate], 
        [Extent1].[Price_Exchange] AS [Price_Exchange], 
        [Extent1].[Trade_Currency] AS [Trade_Currency], 
        [Extent1].[Price_Curr] AS [Price_Curr], 
        [Extent1].[Currency_Pair_Code] AS [Currency_Pair_Code], 
        [Extent1].[Share_Class] AS [Share_Class], 
        [Extent1].[Current_Market_Price] AS [Current_Market_Price], 
        [Extent1].[Index_Type] AS [Index_Type], 
        [Extent1].[Clean_Price_Formula] AS [Clean_Price_Formula], 
        [Extent1].[Accrued_Income_Price_Formula] AS [Accrued_Income_Price_Formula], 
        [Extent1].[Odd_First_Coupon_Date] AS [Odd_First_Coupon_Date], 
        [Extent1].[Odd_Last_Coupon_Date] AS [Odd_Last_Coupon_Date], 
        [Extent1].[Coupon_Anniversary_Indicator] AS [Coupon_Anniversary_Indicator], 
        [Extent1].[Track_EOM_Flag] AS [Track_EOM_Flag], 
        [Extent1].[Next_Coupon_Date] AS [Next_Coupon_Date], 
        [Extent1].[Previous_Coupon_Date] AS [Previous_Coupon_Date], 
        [Extent1].[Payment_Frequency] AS [Payment_Frequency], 
        [Extent1].[Coupon_BusDay_Adjustment] AS [Coupon_BusDay_Adjustment], 
        [Extent1].[Next_Ex_Div_Date] AS [Next_Ex_Div_Date], 
        [Extent1].[Ex_Div_BusDay_Adjustment] AS [Ex_Div_BusDay_Adjustment], 
        [Extent1].[Ex_Div_Period] AS [Ex_Div_Period], 
        [Extent1].[Ticker] AS [Ticker], 
        [Extent1].[Inet_ID] AS [Inet_ID], 
        [Extent1].[Bloomberg_ID] AS [Bloomberg_ID], 
        [Extent1].[External_Sec_ID] AS [External_Sec_ID], 
        [Extent1].[Reuters_ID] AS [Reuters_ID], 
        [Extent1].[ISIN] AS [ISIN], 
        [Extent1].[Call_Account_Flag] AS [Call_Account_Flag], 
        [Extent1].[System_Locked] AS [System_Locked], 
        [Extent1].[Last_Update_User] AS [Last_Update_User], 
        [Extent1].[Last_Update_Date] AS [Last_Update_Date], 
        [Extent1].[Security_Status] AS [Security_Status], 
        [Extent1].[Benchmark_Portfolio] AS [Benchmark_Portfolio], 
        [Extent1].[Active_flag] AS [Active_flag], 
        [Extent1].[Dividend_FX_Security_ID] AS [Dividend_FX_Security_ID]
        FROM [dbo].[Security_Detail] AS [Extent1]
        WHERE ([Extent1].[Entity_ID] IN (@p__linq__0,@p__linq__1)) AND ((CASE WHEN ( NOT ((N'' = @p__linq__2) AND (@p__linq__2 IS NOT NULL))) THEN CASE WHEN ([Extent1].[Security_Type_Code] = @p__linq__3) THEN cast(1 as bit) WHEN ( NOT (([Extent1].[Security_Type_Code] = @p__linq__3) AND (0 = (CASE WHEN (@p__linq__3 IS NULL) THEN cast(1 as bit) ELSE cast(0 as bit) END)))) THEN cast(0 as bit) END WHEN ('' <> [Extent1].[Security_Type_Code]) THEN cast(1 as bit) WHEN ('' = [Extent1].[Security_Type_Code]) THEN cast(0 as bit) END) = 1)
    )  AS [Project1]
    ORDER BY [Project1].[Security_Name] ASC
2018-04-07 18:43:56.0130|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: SELECT 
    [Project1].[Security_ID] AS [Security_ID], 
    [Project1].[Entity_ID] AS [Entity_ID], 
    [Project1].[Security_Name] AS [Security_Name], 
    [Project1].[Short_Name] AS [Short_Name], 
    [Project1].[Primary_Exch] AS [Primary_Exch], 
    [Project1].[Secondary_Exch] AS [Secondary_Exch], 
    [Project1].[Country_Of_Domicile] AS [Country_Of_Domicile], 
    [Project1].[Country_Of_Risk] AS [Country_Of_Risk], 
    [Project1].[Security_Type_Code] AS [Security_Type_Code], 
    [Project1].[Price_Multiplier] AS [Price_Multiplier], 
    [Project1].[Income_Frequency] AS [Income_Frequency], 
    [Project1].[Issuer_Code] AS [Issuer_Code], 
    [Project1].[Ultimate_Issuer_Code] AS [Ultimate_Issuer_Code], 
    [Project1].[Asset_Currency] AS [Asset_Currency], 
    [Project1].[Min_Lot_Size] AS [Min_Lot_Size], 
    [Project1].[Decimal_Precision] AS [Decimal_Precision], 
    [Project1].[AvePrice_Rounding] AS [AvePrice_Rounding], 
    [Project1].[Issue_Date] AS [Issue_Date], 
    [Project1].[Maturity_Date] AS [Maturity_Date], 
    [Project1].[Coupon_Rate] AS [Coupon_Rate], 
    [Project1].[Price_Exchange] AS [Price_Exchange], 
    [Project1].[Trade_Currency] AS [Trade_Currency], 
    [Project1].[Price_Curr] AS [Price_Curr], 
    [Project1].[Currency_Pair_Code] AS [Currency_Pair_Code], 
    [Project1].[Share_Class] AS [Share_Class], 
    [Project1].[Current_Market_Price] AS [Current_Market_Price], 
    [Project1].[Index_Type] AS [Index_Type], 
    [Project1].[Clean_Price_Formula] AS [Clean_Price_Formula], 
    [Project1].[Accrued_Income_Price_Formula] AS [Accrued_Income_Price_Formula], 
    [Project1].[Odd_First_Coupon_Date] AS [Odd_First_Coupon_Date], 
    [Project1].[Odd_Last_Coupon_Date] AS [Odd_Last_Coupon_Date], 
    [Project1].[Coupon_Anniversary_Indicator] AS [Coupon_Anniversary_Indicator], 
    [Project1].[Track_EOM_Flag] AS [Track_EOM_Flag], 
    [Project1].[Next_Coupon_Date] AS [Next_Coupon_Date], 
    [Project1].[Previous_Coupon_Date] AS [Previous_Coupon_Date], 
    [Project1].[Payment_Frequency] AS [Payment_Frequency], 
    [Project1].[Coupon_BusDay_Adjustment] AS [Coupon_BusDay_Adjustment], 
    [Project1].[Next_Ex_Div_Date] AS [Next_Ex_Div_Date], 
    [Project1].[Ex_Div_BusDay_Adjustment] AS [Ex_Div_BusDay_Adjustment], 
    [Project1].[Ex_Div_Period] AS [Ex_Div_Period], 
    [Project1].[Ticker] AS [Ticker], 
    [Project1].[Inet_ID] AS [Inet_ID], 
    [Project1].[Bloomberg_ID] AS [Bloomberg_ID], 
    [Project1].[External_Sec_ID] AS [External_Sec_ID], 
    [Project1].[Reuters_ID] AS [Reuters_ID], 
    [Project1].[ISIN] AS [ISIN], 
    [Project1].[Call_Account_Flag] AS [Call_Account_Flag], 
    [Project1].[System_Locked] AS [System_Locked], 
    [Project1].[Last_Update_User] AS [Last_Update_User], 
    [Project1].[Last_Update_Date] AS [Last_Update_Date], 
    [Project1].[Security_Status] AS [Security_Status], 
    [Project1].[Benchmark_Portfolio] AS [Benchmark_Portfolio], 
    [Project1].[Active_flag] AS [Active_flag], 
    [Project1].[Dividend_FX_Security_ID] AS [Dividend_FX_Security_ID]
    FROM ( SELECT 
        [Extent1].[Security_ID] AS [Security_ID], 
        [Extent1].[Entity_ID] AS [Entity_ID], 
        [Extent1].[Security_Name] AS [Security_Name], 
        [Extent1].[Short_Name] AS [Short_Name], 
        [Extent1].[Primary_Exch] AS [Primary_Exch], 
        [Extent1].[Secondary_Exch] AS [Secondary_Exch], 
        [Extent1].[Country_Of_Domicile] AS [Country_Of_Domicile], 
        [Extent1].[Country_Of_Risk] AS [Country_Of_Risk], 
        [Extent1].[Security_Type_Code] AS [Security_Type_Code], 
        [Extent1].[Price_Multiplier] AS [Price_Multiplier], 
        [Extent1].[Income_Frequency] AS [Income_Frequency], 
        [Extent1].[Issuer_Code] AS [Issuer_Code], 
        [Extent1].[Ultimate_Issuer_Code] AS [Ultimate_Issuer_Code], 
        [Extent1].[Asset_Currency] AS [Asset_Currency], 
        [Extent1].[Min_Lot_Size] AS [Min_Lot_Size], 
        [Extent1].[Decimal_Precision] AS [Decimal_Precision], 
        [Extent1].[AvePrice_Rounding] AS [AvePrice_Rounding], 
        [Extent1].[Issue_Date] AS [Issue_Date], 
        [Extent1].[Maturity_Date] AS [Maturity_Date], 
        [Extent1].[Coupon_Rate] AS [Coupon_Rate], 
        [Extent1].[Price_Exchange] AS [Price_Exchange], 
        [Extent1].[Trade_Currency] AS [Trade_Currency], 
        [Extent1].[Price_Curr] AS [Price_Curr], 
        [Extent1].[Currency_Pair_Code] AS [Currency_Pair_Code], 
        [Extent1].[Share_Class] AS [Share_Class], 
        [Extent1].[Current_Market_Price] AS [Current_Market_Price], 
        [Extent1].[Index_Type] AS [Index_Type], 
        [Extent1].[Clean_Price_Formula] AS [Clean_Price_Formula], 
        [Extent1].[Accrued_Income_Price_Formula] AS [Accrued_Income_Price_Formula], 
        [Extent1].[Odd_First_Coupon_Date] AS [Odd_First_Coupon_Date], 
        [Extent1].[Odd_Last_Coupon_Date] AS [Odd_Last_Coupon_Date], 
        [Extent1].[Coupon_Anniversary_Indicator] AS [Coupon_Anniversary_Indicator], 
        [Extent1].[Track_EOM_Flag] AS [Track_EOM_Flag], 
        [Extent1].[Next_Coupon_Date] AS [Next_Coupon_Date], 
        [Extent1].[Previous_Coupon_Date] AS [Previous_Coupon_Date], 
        [Extent1].[Payment_Frequency] AS [Payment_Frequency], 
        [Extent1].[Coupon_BusDay_Adjustment] AS [Coupon_BusDay_Adjustment], 
        [Extent1].[Next_Ex_Div_Date] AS [Next_Ex_Div_Date], 
        [Extent1].[Ex_Div_BusDay_Adjustment] AS [Ex_Div_BusDay_Adjustment], 
        [Extent1].[Ex_Div_Period] AS [Ex_Div_Period], 
        [Extent1].[Ticker] AS [Ticker], 
        [Extent1].[Inet_ID] AS [Inet_ID], 
        [Extent1].[Bloomberg_ID] AS [Bloomberg_ID], 
        [Extent1].[External_Sec_ID] AS [External_Sec_ID], 
        [Extent1].[Reuters_ID] AS [Reuters_ID], 
        [Extent1].[ISIN] AS [ISIN], 
        [Extent1].[Call_Account_Flag] AS [Call_Account_Flag], 
        [Extent1].[System_Locked] AS [System_Locked], 
        [Extent1].[Last_Update_User] AS [Last_Update_User], 
        [Extent1].[Last_Update_Date] AS [Last_Update_Date], 
        [Extent1].[Security_Status] AS [Security_Status], 
        [Extent1].[Benchmark_Portfolio] AS [Benchmark_Portfolio], 
        [Extent1].[Active_flag] AS [Active_flag], 
        [Extent1].[Dividend_FX_Security_ID] AS [Dividend_FX_Security_ID]
        FROM [dbo].[Security_Detail] AS [Extent1]
        WHERE ([Extent1].[Entity_ID] IN (@p__linq__0,@p__linq__1)) AND ((CASE WHEN ( NOT ((N'' = @p__linq__2) AND (@p__linq__2 IS NOT NULL))) THEN CASE WHEN ([Extent1].[Security_Type_Code] = @p__linq__3) THEN cast(1 as bit) WHEN ( NOT (([Extent1].[Security_Type_Code] = @p__linq__3) AND (0 = (CASE WHEN (@p__linq__3 IS NULL) THEN cast(1 as bit) ELSE cast(0 as bit) END)))) THEN cast(0 as bit) END WHEN ('' <> [Extent1].[Security_Type_Code]) THEN cast(1 as bit) WHEN ('' = [Extent1].[Security_Type_Code]) THEN cast(0 as bit) END) = 1)
    )  AS [Project1]
    ORDER BY [Project1].[Security_Name] ASC
2018-04-07 18:43:56.1091|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: SELECT 
    [Project1].[Security_ID] AS [Security_ID], 
    [Project1].[Entity_ID] AS [Entity_ID], 
    [Project1].[Security_Name] AS [Security_Name], 
    [Project1].[Short_Name] AS [Short_Name], 
    [Project1].[Primary_Exch] AS [Primary_Exch], 
    [Project1].[Secondary_Exch] AS [Secondary_Exch], 
    [Project1].[Country_Of_Domicile] AS [Country_Of_Domicile], 
    [Project1].[Country_Of_Risk] AS [Country_Of_Risk], 
    [Project1].[Security_Type_Code] AS [Security_Type_Code], 
    [Project1].[Price_Multiplier] AS [Price_Multiplier], 
    [Project1].[Income_Frequency] AS [Income_Frequency], 
    [Project1].[Issuer_Code] AS [Issuer_Code], 
    [Project1].[Ultimate_Issuer_Code] AS [Ultimate_Issuer_Code], 
    [Project1].[Asset_Currency] AS [Asset_Currency], 
    [Project1].[Min_Lot_Size] AS [Min_Lot_Size], 
    [Project1].[Decimal_Precision] AS [Decimal_Precision], 
    [Project1].[AvePrice_Rounding] AS [AvePrice_Rounding], 
    [Project1].[Issue_Date] AS [Issue_Date], 
    [Project1].[Maturity_Date] AS [Maturity_Date], 
    [Project1].[Coupon_Rate] AS [Coupon_Rate], 
    [Project1].[Price_Exchange] AS [Price_Exchange], 
    [Project1].[Trade_Currency] AS [Trade_Currency], 
    [Project1].[Price_Curr] AS [Price_Curr], 
    [Project1].[Currency_Pair_Code] AS [Currency_Pair_Code], 
    [Project1].[Share_Class] AS [Share_Class], 
    [Project1].[Current_Market_Price] AS [Current_Market_Price], 
    [Project1].[Index_Type] AS [Index_Type], 
    [Project1].[Clean_Price_Formula] AS [Clean_Price_Formula], 
    [Project1].[Accrued_Income_Price_Formula] AS [Accrued_Income_Price_Formula], 
    [Project1].[Odd_First_Coupon_Date] AS [Odd_First_Coupon_Date], 
    [Project1].[Odd_Last_Coupon_Date] AS [Odd_Last_Coupon_Date], 
    [Project1].[Coupon_Anniversary_Indicator] AS [Coupon_Anniversary_Indicator], 
    [Project1].[Track_EOM_Flag] AS [Track_EOM_Flag], 
    [Project1].[Next_Coupon_Date] AS [Next_Coupon_Date], 
    [Project1].[Previous_Coupon_Date] AS [Previous_Coupon_Date], 
    [Project1].[Payment_Frequency] AS [Payment_Frequency], 
    [Project1].[Coupon_BusDay_Adjustment] AS [Coupon_BusDay_Adjustment], 
    [Project1].[Next_Ex_Div_Date] AS [Next_Ex_Div_Date], 
    [Project1].[Ex_Div_BusDay_Adjustment] AS [Ex_Div_BusDay_Adjustment], 
    [Project1].[Ex_Div_Period] AS [Ex_Div_Period], 
    [Project1].[Ticker] AS [Ticker], 
    [Project1].[Inet_ID] AS [Inet_ID], 
    [Project1].[Bloomberg_ID] AS [Bloomberg_ID], 
    [Project1].[External_Sec_ID] AS [External_Sec_ID], 
    [Project1].[Reuters_ID] AS [Reuters_ID], 
    [Project1].[ISIN] AS [ISIN], 
    [Project1].[Call_Account_Flag] AS [Call_Account_Flag], 
    [Project1].[System_Locked] AS [System_Locked], 
    [Project1].[Last_Update_User] AS [Last_Update_User], 
    [Project1].[Last_Update_Date] AS [Last_Update_Date], 
    [Project1].[Security_Status] AS [Security_Status], 
    [Project1].[Benchmark_Portfolio] AS [Benchmark_Portfolio], 
    [Project1].[Active_flag] AS [Active_flag], 
    [Project1].[Dividend_FX_Security_ID] AS [Dividend_FX_Security_ID]
    FROM ( SELECT 
        [Extent1].[Security_ID] AS [Security_ID], 
        [Extent1].[Entity_ID] AS [Entity_ID], 
        [Extent1].[Security_Name] AS [Security_Name], 
        [Extent1].[Short_Name] AS [Short_Name], 
        [Extent1].[Primary_Exch] AS [Primary_Exch], 
        [Extent1].[Secondary_Exch] AS [Secondary_Exch], 
        [Extent1].[Country_Of_Domicile] AS [Country_Of_Domicile], 
        [Extent1].[Country_Of_Risk] AS [Country_Of_Risk], 
        [Extent1].[Security_Type_Code] AS [Security_Type_Code], 
        [Extent1].[Price_Multiplier] AS [Price_Multiplier], 
        [Extent1].[Income_Frequency] AS [Income_Frequency], 
        [Extent1].[Issuer_Code] AS [Issuer_Code], 
        [Extent1].[Ultimate_Issuer_Code] AS [Ultimate_Issuer_Code], 
        [Extent1].[Asset_Currency] AS [Asset_Currency], 
        [Extent1].[Min_Lot_Size] AS [Min_Lot_Size], 
        [Extent1].[Decimal_Precision] AS [Decimal_Precision], 
        [Extent1].[AvePrice_Rounding] AS [AvePrice_Rounding], 
        [Extent1].[Issue_Date] AS [Issue_Date], 
        [Extent1].[Maturity_Date] AS [Maturity_Date], 
        [Extent1].[Coupon_Rate] AS [Coupon_Rate], 
        [Extent1].[Price_Exchange] AS [Price_Exchange], 
        [Extent1].[Trade_Currency] AS [Trade_Currency], 
        [Extent1].[Price_Curr] AS [Price_Curr], 
        [Extent1].[Currency_Pair_Code] AS [Currency_Pair_Code], 
        [Extent1].[Share_Class] AS [Share_Class], 
        [Extent1].[Current_Market_Price] AS [Current_Market_Price], 
        [Extent1].[Index_Type] AS [Index_Type], 
        [Extent1].[Clean_Price_Formula] AS [Clean_Price_Formula], 
        [Extent1].[Accrued_Income_Price_Formula] AS [Accrued_Income_Price_Formula], 
        [Extent1].[Odd_First_Coupon_Date] AS [Odd_First_Coupon_Date], 
        [Extent1].[Odd_Last_Coupon_Date] AS [Odd_Last_Coupon_Date], 
        [Extent1].[Coupon_Anniversary_Indicator] AS [Coupon_Anniversary_Indicator], 
        [Extent1].[Track_EOM_Flag] AS [Track_EOM_Flag], 
        [Extent1].[Next_Coupon_Date] AS [Next_Coupon_Date], 
        [Extent1].[Previous_Coupon_Date] AS [Previous_Coupon_Date], 
        [Extent1].[Payment_Frequency] AS [Payment_Frequency], 
        [Extent1].[Coupon_BusDay_Adjustment] AS [Coupon_BusDay_Adjustment], 
        [Extent1].[Next_Ex_Div_Date] AS [Next_Ex_Div_Date], 
        [Extent1].[Ex_Div_BusDay_Adjustment] AS [Ex_Div_BusDay_Adjustment], 
        [Extent1].[Ex_Div_Period] AS [Ex_Div_Period], 
        [Extent1].[Ticker] AS [Ticker], 
        [Extent1].[Inet_ID] AS [Inet_ID], 
        [Extent1].[Bloomberg_ID] AS [Bloomberg_ID], 
        [Extent1].[External_Sec_ID] AS [External_Sec_ID], 
        [Extent1].[Reuters_ID] AS [Reuters_ID], 
        [Extent1].[ISIN] AS [ISIN], 
        [Extent1].[Call_Account_Flag] AS [Call_Account_Flag], 
        [Extent1].[System_Locked] AS [System_Locked], 
        [Extent1].[Last_Update_User] AS [Last_Update_User], 
        [Extent1].[Last_Update_Date] AS [Last_Update_Date], 
        [Extent1].[Security_Status] AS [Security_Status], 
        [Extent1].[Benchmark_Portfolio] AS [Benchmark_Portfolio], 
        [Extent1].[Active_flag] AS [Active_flag], 
        [Extent1].[Dividend_FX_Security_ID] AS [Dividend_FX_Security_ID]
        FROM [dbo].[Security_Detail] AS [Extent1]
        WHERE ([Extent1].[Entity_ID] IN (@p__linq__0,@p__linq__1)) AND ((CASE WHEN ( NOT ((N'' = @p__linq__2) AND (@p__linq__2 IS NOT NULL))) THEN CASE WHEN ([Extent1].[Security_Type_Code] = @p__linq__3) THEN cast(1 as bit) WHEN ( NOT (([Extent1].[Security_Type_Code] = @p__linq__3) AND (0 = (CASE WHEN (@p__linq__3 IS NULL) THEN cast(1 as bit) ELSE cast(0 as bit) END)))) THEN cast(0 as bit) END WHEN ('' <> [Extent1].[Security_Type_Code]) THEN cast(1 as bit) WHEN ('' = [Extent1].[Security_Type_Code]) THEN cast(0 as bit) END) = 1)
    )  AS [Project1]
    ORDER BY [Project1].[Security_Name] ASC
2018-04-07 18:43:56.1376|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: SELECT 
    [Project1].[Security_ID] AS [Security_ID], 
    [Project1].[Entity_ID] AS [Entity_ID], 
    [Project1].[Security_Name] AS [Security_Name], 
    [Project1].[Short_Name] AS [Short_Name], 
    [Project1].[Primary_Exch] AS [Primary_Exch], 
    [Project1].[Secondary_Exch] AS [Secondary_Exch], 
    [Project1].[Country_Of_Domicile] AS [Country_Of_Domicile], 
    [Project1].[Country_Of_Risk] AS [Country_Of_Risk], 
    [Project1].[Security_Type_Code] AS [Security_Type_Code], 
    [Project1].[Price_Multiplier] AS [Price_Multiplier], 
    [Project1].[Income_Frequency] AS [Income_Frequency], 
    [Project1].[Issuer_Code] AS [Issuer_Code], 
    [Project1].[Ultimate_Issuer_Code] AS [Ultimate_Issuer_Code], 
    [Project1].[Asset_Currency] AS [Asset_Currency], 
    [Project1].[Min_Lot_Size] AS [Min_Lot_Size], 
    [Project1].[Decimal_Precision] AS [Decimal_Precision], 
    [Project1].[AvePrice_Rounding] AS [AvePrice_Rounding], 
    [Project1].[Issue_Date] AS [Issue_Date], 
    [Project1].[Maturity_Date] AS [Maturity_Date], 
    [Project1].[Coupon_Rate] AS [Coupon_Rate], 
    [Project1].[Price_Exchange] AS [Price_Exchange], 
    [Project1].[Trade_Currency] AS [Trade_Currency], 
    [Project1].[Price_Curr] AS [Price_Curr], 
    [Project1].[Currency_Pair_Code] AS [Currency_Pair_Code], 
    [Project1].[Share_Class] AS [Share_Class], 
    [Project1].[Current_Market_Price] AS [Current_Market_Price], 
    [Project1].[Index_Type] AS [Index_Type], 
    [Project1].[Clean_Price_Formula] AS [Clean_Price_Formula], 
    [Project1].[Accrued_Income_Price_Formula] AS [Accrued_Income_Price_Formula], 
    [Project1].[Odd_First_Coupon_Date] AS [Odd_First_Coupon_Date], 
    [Project1].[Odd_Last_Coupon_Date] AS [Odd_Last_Coupon_Date], 
    [Project1].[Coupon_Anniversary_Indicator] AS [Coupon_Anniversary_Indicator], 
    [Project1].[Track_EOM_Flag] AS [Track_EOM_Flag], 
    [Project1].[Next_Coupon_Date] AS [Next_Coupon_Date], 
    [Project1].[Previous_Coupon_Date] AS [Previous_Coupon_Date], 
    [Project1].[Payment_Frequency] AS [Payment_Frequency], 
    [Project1].[Coupon_BusDay_Adjustment] AS [Coupon_BusDay_Adjustment], 
    [Project1].[Next_Ex_Div_Date] AS [Next_Ex_Div_Date], 
    [Project1].[Ex_Div_BusDay_Adjustment] AS [Ex_Div_BusDay_Adjustment], 
    [Project1].[Ex_Div_Period] AS [Ex_Div_Period], 
    [Project1].[Ticker] AS [Ticker], 
    [Project1].[Inet_ID] AS [Inet_ID], 
    [Project1].[Bloomberg_ID] AS [Bloomberg_ID], 
    [Project1].[External_Sec_ID] AS [External_Sec_ID], 
    [Project1].[Reuters_ID] AS [Reuters_ID], 
    [Project1].[ISIN] AS [ISIN], 
    [Project1].[Call_Account_Flag] AS [Call_Account_Flag], 
    [Project1].[System_Locked] AS [System_Locked], 
    [Project1].[Last_Update_User] AS [Last_Update_User], 
    [Project1].[Last_Update_Date] AS [Last_Update_Date], 
    [Project1].[Security_Status] AS [Security_Status], 
    [Project1].[Benchmark_Portfolio] AS [Benchmark_Portfolio], 
    [Project1].[Active_flag] AS [Active_flag], 
    [Project1].[Dividend_FX_Security_ID] AS [Dividend_FX_Security_ID]
    FROM ( SELECT 
        [Extent1].[Security_ID] AS [Security_ID], 
        [Extent1].[Entity_ID] AS [Entity_ID], 
        [Extent1].[Security_Name] AS [Security_Name], 
        [Extent1].[Short_Name] AS [Short_Name], 
        [Extent1].[Primary_Exch] AS [Primary_Exch], 
        [Extent1].[Secondary_Exch] AS [Secondary_Exch], 
        [Extent1].[Country_Of_Domicile] AS [Country_Of_Domicile], 
        [Extent1].[Country_Of_Risk] AS [Country_Of_Risk], 
        [Extent1].[Security_Type_Code] AS [Security_Type_Code], 
        [Extent1].[Price_Multiplier] AS [Price_Multiplier], 
        [Extent1].[Income_Frequency] AS [Income_Frequency], 
        [Extent1].[Issuer_Code] AS [Issuer_Code], 
        [Extent1].[Ultimate_Issuer_Code] AS [Ultimate_Issuer_Code], 
        [Extent1].[Asset_Currency] AS [Asset_Currency], 
        [Extent1].[Min_Lot_Size] AS [Min_Lot_Size], 
        [Extent1].[Decimal_Precision] AS [Decimal_Precision], 
        [Extent1].[AvePrice_Rounding] AS [AvePrice_Rounding], 
        [Extent1].[Issue_Date] AS [Issue_Date], 
        [Extent1].[Maturity_Date] AS [Maturity_Date], 
        [Extent1].[Coupon_Rate] AS [Coupon_Rate], 
        [Extent1].[Price_Exchange] AS [Price_Exchange], 
        [Extent1].[Trade_Currency] AS [Trade_Currency], 
        [Extent1].[Price_Curr] AS [Price_Curr], 
        [Extent1].[Currency_Pair_Code] AS [Currency_Pair_Code], 
        [Extent1].[Share_Class] AS [Share_Class], 
        [Extent1].[Current_Market_Price] AS [Current_Market_Price], 
        [Extent1].[Index_Type] AS [Index_Type], 
        [Extent1].[Clean_Price_Formula] AS [Clean_Price_Formula], 
        [Extent1].[Accrued_Income_Price_Formula] AS [Accrued_Income_Price_Formula], 
        [Extent1].[Odd_First_Coupon_Date] AS [Odd_First_Coupon_Date], 
        [Extent1].[Odd_Last_Coupon_Date] AS [Odd_Last_Coupon_Date], 
        [Extent1].[Coupon_Anniversary_Indicator] AS [Coupon_Anniversary_Indicator], 
        [Extent1].[Track_EOM_Flag] AS [Track_EOM_Flag], 
        [Extent1].[Next_Coupon_Date] AS [Next_Coupon_Date], 
        [Extent1].[Previous_Coupon_Date] AS [Previous_Coupon_Date], 
        [Extent1].[Payment_Frequency] AS [Payment_Frequency], 
        [Extent1].[Coupon_BusDay_Adjustment] AS [Coupon_BusDay_Adjustment], 
        [Extent1].[Next_Ex_Div_Date] AS [Next_Ex_Div_Date], 
        [Extent1].[Ex_Div_BusDay_Adjustment] AS [Ex_Div_BusDay_Adjustment], 
        [Extent1].[Ex_Div_Period] AS [Ex_Div_Period], 
        [Extent1].[Ticker] AS [Ticker], 
        [Extent1].[Inet_ID] AS [Inet_ID], 
        [Extent1].[Bloomberg_ID] AS [Bloomberg_ID], 
        [Extent1].[External_Sec_ID] AS [External_Sec_ID], 
        [Extent1].[Reuters_ID] AS [Reuters_ID], 
        [Extent1].[ISIN] AS [ISIN], 
        [Extent1].[Call_Account_Flag] AS [Call_Account_Flag], 
        [Extent1].[System_Locked] AS [System_Locked], 
        [Extent1].[Last_Update_User] AS [Last_Update_User], 
        [Extent1].[Last_Update_Date] AS [Last_Update_Date], 
        [Extent1].[Security_Status] AS [Security_Status], 
        [Extent1].[Benchmark_Portfolio] AS [Benchmark_Portfolio], 
        [Extent1].[Active_flag] AS [Active_flag], 
        [Extent1].[Dividend_FX_Security_ID] AS [Dividend_FX_Security_ID]
        FROM [dbo].[Security_Detail] AS [Extent1]
        WHERE ([Extent1].[Entity_ID] IN (@p__linq__0,@p__linq__1)) AND ((CASE WHEN ( NOT ((N'' = @p__linq__2) AND (@p__linq__2 IS NOT NULL))) THEN CASE WHEN ([Extent1].[Security_Type_Code] = @p__linq__3) THEN cast(1 as bit) WHEN ( NOT (([Extent1].[Security_Type_Code] = @p__linq__3) AND (0 = (CASE WHEN (@p__linq__3 IS NULL) THEN cast(1 as bit) ELSE cast(0 as bit) END)))) THEN cast(0 as bit) END WHEN ('' <> [Extent1].[Security_Type_Code]) THEN cast(1 as bit) WHEN ('' = [Extent1].[Security_Type_Code]) THEN cast(0 as bit) END) = 1)
    )  AS [Project1]
    ORDER BY [Project1].[Security_Name] ASC
2018-04-07 18:43:56.1866|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: IF db_id(N'MetopeAzureDb') IS NOT NULL SELECT 1 ELSE SELECT Count(*) FROM sys.databases WHERE [name]=N'MetopeAzureDb'
2018-04-07 18:43:56.2062|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: IF db_id(N'MetopeAzureDb') IS NOT NULL SELECT 1 ELSE SELECT Count(*) FROM sys.databases WHERE [name]=N'MetopeAzureDb'
2018-04-07 18:43:56.2302|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: IF db_id(N'MetopeAzureDb') IS NOT NULL SELECT 1 ELSE SELECT Count(*) FROM sys.databases WHERE [name]=N'MetopeAzureDb'
2018-04-07 18:43:56.2532|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: IF db_id(N'MetopeAzureDb') IS NOT NULL SELECT 1 ELSE SELECT Count(*) FROM sys.databases WHERE [name]=N'MetopeAzureDb'
2018-04-07 18:43:59.1948|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: SELECT 
    [Project1].[Security_ID] AS [Security_ID], 
    [Project1].[Entity_ID] AS [Entity_ID], 
    [Project1].[Security_Name] AS [Security_Name], 
    [Project1].[Short_Name] AS [Short_Name], 
    [Project1].[Primary_Exch] AS [Primary_Exch], 
    [Project1].[Secondary_Exch] AS [Secondary_Exch], 
    [Project1].[Country_Of_Domicile] AS [Country_Of_Domicile], 
    [Project1].[Country_Of_Risk] AS [Country_Of_Risk], 
    [Project1].[Security_Type_Code] AS [Security_Type_Code], 
    [Project1].[Price_Multiplier] AS [Price_Multiplier], 
    [Project1].[Income_Frequency] AS [Income_Frequency], 
    [Project1].[Issuer_Code] AS [Issuer_Code], 
    [Project1].[Ultimate_Issuer_Code] AS [Ultimate_Issuer_Code], 
    [Project1].[Asset_Currency] AS [Asset_Currency], 
    [Project1].[Min_Lot_Size] AS [Min_Lot_Size], 
    [Project1].[Decimal_Precision] AS [Decimal_Precision], 
    [Project1].[AvePrice_Rounding] AS [AvePrice_Rounding], 
    [Project1].[Issue_Date] AS [Issue_Date], 
    [Project1].[Maturity_Date] AS [Maturity_Date], 
    [Project1].[Coupon_Rate] AS [Coupon_Rate], 
    [Project1].[Price_Exchange] AS [Price_Exchange], 
    [Project1].[Trade_Currency] AS [Trade_Currency], 
    [Project1].[Price_Curr] AS [Price_Curr], 
    [Project1].[Currency_Pair_Code] AS [Currency_Pair_Code], 
    [Project1].[Share_Class] AS [Share_Class], 
    [Project1].[Current_Market_Price] AS [Current_Market_Price], 
    [Project1].[Index_Type] AS [Index_Type], 
    [Project1].[Clean_Price_Formula] AS [Clean_Price_Formula], 
    [Project1].[Accrued_Income_Price_Formula] AS [Accrued_Income_Price_Formula], 
    [Project1].[Odd_First_Coupon_Date] AS [Odd_First_Coupon_Date], 
    [Project1].[Odd_Last_Coupon_Date] AS [Odd_Last_Coupon_Date], 
    [Project1].[Coupon_Anniversary_Indicator] AS [Coupon_Anniversary_Indicator], 
    [Project1].[Track_EOM_Flag] AS [Track_EOM_Flag], 
    [Project1].[Next_Coupon_Date] AS [Next_Coupon_Date], 
    [Project1].[Previous_Coupon_Date] AS [Previous_Coupon_Date], 
    [Project1].[Payment_Frequency] AS [Payment_Frequency], 
    [Project1].[Coupon_BusDay_Adjustment] AS [Coupon_BusDay_Adjustment], 
    [Project1].[Next_Ex_Div_Date] AS [Next_Ex_Div_Date], 
    [Project1].[Ex_Div_BusDay_Adjustment] AS [Ex_Div_BusDay_Adjustment], 
    [Project1].[Ex_Div_Period] AS [Ex_Div_Period], 
    [Project1].[Ticker] AS [Ticker], 
    [Project1].[Inet_ID] AS [Inet_ID], 
    [Project1].[Bloomberg_ID] AS [Bloomberg_ID], 
    [Project1].[External_Sec_ID] AS [External_Sec_ID], 
    [Project1].[Reuters_ID] AS [Reuters_ID], 
    [Project1].[ISIN] AS [ISIN], 
    [Project1].[Call_Account_Flag] AS [Call_Account_Flag], 
    [Project1].[System_Locked] AS [System_Locked], 
    [Project1].[Last_Update_User] AS [Last_Update_User], 
    [Project1].[Last_Update_Date] AS [Last_Update_Date], 
    [Project1].[Security_Status] AS [Security_Status], 
    [Project1].[Benchmark_Portfolio] AS [Benchmark_Portfolio], 
    [Project1].[Active_flag] AS [Active_flag], 
    [Project1].[Dividend_FX_Security_ID] AS [Dividend_FX_Security_ID]
    FROM ( SELECT 
        [Extent1].[Security_ID] AS [Security_ID], 
        [Extent1].[Entity_ID] AS [Entity_ID], 
        [Extent1].[Security_Name] AS [Security_Name], 
        [Extent1].[Short_Name] AS [Short_Name], 
        [Extent1].[Primary_Exch] AS [Primary_Exch], 
        [Extent1].[Secondary_Exch] AS [Secondary_Exch], 
        [Extent1].[Country_Of_Domicile] AS [Country_Of_Domicile], 
        [Extent1].[Country_Of_Risk] AS [Country_Of_Risk], 
        [Extent1].[Security_Type_Code] AS [Security_Type_Code], 
        [Extent1].[Price_Multiplier] AS [Price_Multiplier], 
        [Extent1].[Income_Frequency] AS [Income_Frequency], 
        [Extent1].[Issuer_Code] AS [Issuer_Code], 
        [Extent1].[Ultimate_Issuer_Code] AS [Ultimate_Issuer_Code], 
        [Extent1].[Asset_Currency] AS [Asset_Currency], 
        [Extent1].[Min_Lot_Size] AS [Min_Lot_Size], 
        [Extent1].[Decimal_Precision] AS [Decimal_Precision], 
        [Extent1].[AvePrice_Rounding] AS [AvePrice_Rounding], 
        [Extent1].[Issue_Date] AS [Issue_Date], 
        [Extent1].[Maturity_Date] AS [Maturity_Date], 
        [Extent1].[Coupon_Rate] AS [Coupon_Rate], 
        [Extent1].[Price_Exchange] AS [Price_Exchange], 
        [Extent1].[Trade_Currency] AS [Trade_Currency], 
        [Extent1].[Price_Curr] AS [Price_Curr], 
        [Extent1].[Currency_Pair_Code] AS [Currency_Pair_Code], 
        [Extent1].[Share_Class] AS [Share_Class], 
        [Extent1].[Current_Market_Price] AS [Current_Market_Price], 
        [Extent1].[Index_Type] AS [Index_Type], 
        [Extent1].[Clean_Price_Formula] AS [Clean_Price_Formula], 
        [Extent1].[Accrued_Income_Price_Formula] AS [Accrued_Income_Price_Formula], 
        [Extent1].[Odd_First_Coupon_Date] AS [Odd_First_Coupon_Date], 
        [Extent1].[Odd_Last_Coupon_Date] AS [Odd_Last_Coupon_Date], 
        [Extent1].[Coupon_Anniversary_Indicator] AS [Coupon_Anniversary_Indicator], 
        [Extent1].[Track_EOM_Flag] AS [Track_EOM_Flag], 
        [Extent1].[Next_Coupon_Date] AS [Next_Coupon_Date], 
        [Extent1].[Previous_Coupon_Date] AS [Previous_Coupon_Date], 
        [Extent1].[Payment_Frequency] AS [Payment_Frequency], 
        [Extent1].[Coupon_BusDay_Adjustment] AS [Coupon_BusDay_Adjustment], 
        [Extent1].[Next_Ex_Div_Date] AS [Next_Ex_Div_Date], 
        [Extent1].[Ex_Div_BusDay_Adjustment] AS [Ex_Div_BusDay_Adjustment], 
        [Extent1].[Ex_Div_Period] AS [Ex_Div_Period], 
        [Extent1].[Ticker] AS [Ticker], 
        [Extent1].[Inet_ID] AS [Inet_ID], 
        [Extent1].[Bloomberg_ID] AS [Bloomberg_ID], 
        [Extent1].[External_Sec_ID] AS [External_Sec_ID], 
        [Extent1].[Reuters_ID] AS [Reuters_ID], 
        [Extent1].[ISIN] AS [ISIN], 
        [Extent1].[Call_Account_Flag] AS [Call_Account_Flag], 
        [Extent1].[System_Locked] AS [System_Locked], 
        [Extent1].[Last_Update_User] AS [Last_Update_User], 
        [Extent1].[Last_Update_Date] AS [Last_Update_Date], 
        [Extent1].[Security_Status] AS [Security_Status], 
        [Extent1].[Benchmark_Portfolio] AS [Benchmark_Portfolio], 
        [Extent1].[Active_flag] AS [Active_flag], 
        [Extent1].[Dividend_FX_Security_ID] AS [Dividend_FX_Security_ID]
        FROM [dbo].[Security_Detail] AS [Extent1]
        WHERE ([Extent1].[Entity_ID] IN (@p__linq__0,@p__linq__1)) AND ((CASE WHEN ( NOT ((N'' = @p__linq__2) AND (@p__linq__2 IS NOT NULL))) THEN CASE WHEN ([Extent1].[Security_Type_Code] = @p__linq__3) THEN cast(1 as bit) WHEN ( NOT (([Extent1].[Security_Type_Code] = @p__linq__3) AND (0 = (CASE WHEN (@p__linq__3 IS NULL) THEN cast(1 as bit) ELSE cast(0 as bit) END)))) THEN cast(0 as bit) END WHEN ('' <> [Extent1].[Security_Type_Code]) THEN cast(1 as bit) WHEN ('' = [Extent1].[Security_Type_Code]) THEN cast(0 as bit) END) = 1)
    )  AS [Project1]
    ORDER BY [Project1].[Security_Name] ASC
2018-04-07 18:43:59.2314|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: SELECT 
    [Project1].[Security_ID] AS [Security_ID], 
    [Project1].[Entity_ID] AS [Entity_ID], 
    [Project1].[Security_Name] AS [Security_Name], 
    [Project1].[Short_Name] AS [Short_Name], 
    [Project1].[Primary_Exch] AS [Primary_Exch], 
    [Project1].[Secondary_Exch] AS [Secondary_Exch], 
    [Project1].[Country_Of_Domicile] AS [Country_Of_Domicile], 
    [Project1].[Country_Of_Risk] AS [Country_Of_Risk], 
    [Project1].[Security_Type_Code] AS [Security_Type_Code], 
    [Project1].[Price_Multiplier] AS [Price_Multiplier], 
    [Project1].[Income_Frequency] AS [Income_Frequency], 
    [Project1].[Issuer_Code] AS [Issuer_Code], 
    [Project1].[Ultimate_Issuer_Code] AS [Ultimate_Issuer_Code], 
    [Project1].[Asset_Currency] AS [Asset_Currency], 
    [Project1].[Min_Lot_Size] AS [Min_Lot_Size], 
    [Project1].[Decimal_Precision] AS [Decimal_Precision], 
    [Project1].[AvePrice_Rounding] AS [AvePrice_Rounding], 
    [Project1].[Issue_Date] AS [Issue_Date], 
    [Project1].[Maturity_Date] AS [Maturity_Date], 
    [Project1].[Coupon_Rate] AS [Coupon_Rate], 
    [Project1].[Price_Exchange] AS [Price_Exchange], 
    [Project1].[Trade_Currency] AS [Trade_Currency], 
    [Project1].[Price_Curr] AS [Price_Curr], 
    [Project1].[Currency_Pair_Code] AS [Currency_Pair_Code], 
    [Project1].[Share_Class] AS [Share_Class], 
    [Project1].[Current_Market_Price] AS [Current_Market_Price], 
    [Project1].[Index_Type] AS [Index_Type], 
    [Project1].[Clean_Price_Formula] AS [Clean_Price_Formula], 
    [Project1].[Accrued_Income_Price_Formula] AS [Accrued_Income_Price_Formula], 
    [Project1].[Odd_First_Coupon_Date] AS [Odd_First_Coupon_Date], 
    [Project1].[Odd_Last_Coupon_Date] AS [Odd_Last_Coupon_Date], 
    [Project1].[Coupon_Anniversary_Indicator] AS [Coupon_Anniversary_Indicator], 
    [Project1].[Track_EOM_Flag] AS [Track_EOM_Flag], 
    [Project1].[Next_Coupon_Date] AS [Next_Coupon_Date], 
    [Project1].[Previous_Coupon_Date] AS [Previous_Coupon_Date], 
    [Project1].[Payment_Frequency] AS [Payment_Frequency], 
    [Project1].[Coupon_BusDay_Adjustment] AS [Coupon_BusDay_Adjustment], 
    [Project1].[Next_Ex_Div_Date] AS [Next_Ex_Div_Date], 
    [Project1].[Ex_Div_BusDay_Adjustment] AS [Ex_Div_BusDay_Adjustment], 
    [Project1].[Ex_Div_Period] AS [Ex_Div_Period], 
    [Project1].[Ticker] AS [Ticker], 
    [Project1].[Inet_ID] AS [Inet_ID], 
    [Project1].[Bloomberg_ID] AS [Bloomberg_ID], 
    [Project1].[External_Sec_ID] AS [External_Sec_ID], 
    [Project1].[Reuters_ID] AS [Reuters_ID], 
    [Project1].[ISIN] AS [ISIN], 
    [Project1].[Call_Account_Flag] AS [Call_Account_Flag], 
    [Project1].[System_Locked] AS [System_Locked], 
    [Project1].[Last_Update_User] AS [Last_Update_User], 
    [Project1].[Last_Update_Date] AS [Last_Update_Date], 
    [Project1].[Security_Status] AS [Security_Status], 
    [Project1].[Benchmark_Portfolio] AS [Benchmark_Portfolio], 
    [Project1].[Active_flag] AS [Active_flag], 
    [Project1].[Dividend_FX_Security_ID] AS [Dividend_FX_Security_ID]
    FROM ( SELECT 
        [Extent1].[Security_ID] AS [Security_ID], 
        [Extent1].[Entity_ID] AS [Entity_ID], 
        [Extent1].[Security_Name] AS [Security_Name], 
        [Extent1].[Short_Name] AS [Short_Name], 
        [Extent1].[Primary_Exch] AS [Primary_Exch], 
        [Extent1].[Secondary_Exch] AS [Secondary_Exch], 
        [Extent1].[Country_Of_Domicile] AS [Country_Of_Domicile], 
        [Extent1].[Country_Of_Risk] AS [Country_Of_Risk], 
        [Extent1].[Security_Type_Code] AS [Security_Type_Code], 
        [Extent1].[Price_Multiplier] AS [Price_Multiplier], 
        [Extent1].[Income_Frequency] AS [Income_Frequency], 
        [Extent1].[Issuer_Code] AS [Issuer_Code], 
        [Extent1].[Ultimate_Issuer_Code] AS [Ultimate_Issuer_Code], 
        [Extent1].[Asset_Currency] AS [Asset_Currency], 
        [Extent1].[Min_Lot_Size] AS [Min_Lot_Size], 
        [Extent1].[Decimal_Precision] AS [Decimal_Precision], 
        [Extent1].[AvePrice_Rounding] AS [AvePrice_Rounding], 
        [Extent1].[Issue_Date] AS [Issue_Date], 
        [Extent1].[Maturity_Date] AS [Maturity_Date], 
        [Extent1].[Coupon_Rate] AS [Coupon_Rate], 
        [Extent1].[Price_Exchange] AS [Price_Exchange], 
        [Extent1].[Trade_Currency] AS [Trade_Currency], 
        [Extent1].[Price_Curr] AS [Price_Curr], 
        [Extent1].[Currency_Pair_Code] AS [Currency_Pair_Code], 
        [Extent1].[Share_Class] AS [Share_Class], 
        [Extent1].[Current_Market_Price] AS [Current_Market_Price], 
        [Extent1].[Index_Type] AS [Index_Type], 
        [Extent1].[Clean_Price_Formula] AS [Clean_Price_Formula], 
        [Extent1].[Accrued_Income_Price_Formula] AS [Accrued_Income_Price_Formula], 
        [Extent1].[Odd_First_Coupon_Date] AS [Odd_First_Coupon_Date], 
        [Extent1].[Odd_Last_Coupon_Date] AS [Odd_Last_Coupon_Date], 
        [Extent1].[Coupon_Anniversary_Indicator] AS [Coupon_Anniversary_Indicator], 
        [Extent1].[Track_EOM_Flag] AS [Track_EOM_Flag], 
        [Extent1].[Next_Coupon_Date] AS [Next_Coupon_Date], 
        [Extent1].[Previous_Coupon_Date] AS [Previous_Coupon_Date], 
        [Extent1].[Payment_Frequency] AS [Payment_Frequency], 
        [Extent1].[Coupon_BusDay_Adjustment] AS [Coupon_BusDay_Adjustment], 
        [Extent1].[Next_Ex_Div_Date] AS [Next_Ex_Div_Date], 
        [Extent1].[Ex_Div_BusDay_Adjustment] AS [Ex_Div_BusDay_Adjustment], 
        [Extent1].[Ex_Div_Period] AS [Ex_Div_Period], 
        [Extent1].[Ticker] AS [Ticker], 
        [Extent1].[Inet_ID] AS [Inet_ID], 
        [Extent1].[Bloomberg_ID] AS [Bloomberg_ID], 
        [Extent1].[External_Sec_ID] AS [External_Sec_ID], 
        [Extent1].[Reuters_ID] AS [Reuters_ID], 
        [Extent1].[ISIN] AS [ISIN], 
        [Extent1].[Call_Account_Flag] AS [Call_Account_Flag], 
        [Extent1].[System_Locked] AS [System_Locked], 
        [Extent1].[Last_Update_User] AS [Last_Update_User], 
        [Extent1].[Last_Update_Date] AS [Last_Update_Date], 
        [Extent1].[Security_Status] AS [Security_Status], 
        [Extent1].[Benchmark_Portfolio] AS [Benchmark_Portfolio], 
        [Extent1].[Active_flag] AS [Active_flag], 
        [Extent1].[Dividend_FX_Security_ID] AS [Dividend_FX_Security_ID]
        FROM [dbo].[Security_Detail] AS [Extent1]
        WHERE ([Extent1].[Entity_ID] IN (@p__linq__0,@p__linq__1)) AND ((CASE WHEN ( NOT ((N'' = @p__linq__2) AND (@p__linq__2 IS NOT NULL))) THEN CASE WHEN ([Extent1].[Security_Type_Code] = @p__linq__3) THEN cast(1 as bit) WHEN ( NOT (([Extent1].[Security_Type_Code] = @p__linq__3) AND (0 = (CASE WHEN (@p__linq__3 IS NULL) THEN cast(1 as bit) ELSE cast(0 as bit) END)))) THEN cast(0 as bit) END WHEN ('' <> [Extent1].[Security_Type_Code]) THEN cast(1 as bit) WHEN ('' = [Extent1].[Security_Type_Code]) THEN cast(0 as bit) END) = 1)
    )  AS [Project1]
    ORDER BY [Project1].[Security_Name] ASC
2018-04-07 18:43:59.3084|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: SELECT 
    [Project1].[Security_ID] AS [Security_ID], 
    [Project1].[Entity_ID] AS [Entity_ID], 
    [Project1].[Security_Name] AS [Security_Name], 
    [Project1].[Short_Name] AS [Short_Name], 
    [Project1].[Primary_Exch] AS [Primary_Exch], 
    [Project1].[Secondary_Exch] AS [Secondary_Exch], 
    [Project1].[Country_Of_Domicile] AS [Country_Of_Domicile], 
    [Project1].[Country_Of_Risk] AS [Country_Of_Risk], 
    [Project1].[Security_Type_Code] AS [Security_Type_Code], 
    [Project1].[Price_Multiplier] AS [Price_Multiplier], 
    [Project1].[Income_Frequency] AS [Income_Frequency], 
    [Project1].[Issuer_Code] AS [Issuer_Code], 
    [Project1].[Ultimate_Issuer_Code] AS [Ultimate_Issuer_Code], 
    [Project1].[Asset_Currency] AS [Asset_Currency], 
    [Project1].[Min_Lot_Size] AS [Min_Lot_Size], 
    [Project1].[Decimal_Precision] AS [Decimal_Precision], 
    [Project1].[AvePrice_Rounding] AS [AvePrice_Rounding], 
    [Project1].[Issue_Date] AS [Issue_Date], 
    [Project1].[Maturity_Date] AS [Maturity_Date], 
    [Project1].[Coupon_Rate] AS [Coupon_Rate], 
    [Project1].[Price_Exchange] AS [Price_Exchange], 
    [Project1].[Trade_Currency] AS [Trade_Currency], 
    [Project1].[Price_Curr] AS [Price_Curr], 
    [Project1].[Currency_Pair_Code] AS [Currency_Pair_Code], 
    [Project1].[Share_Class] AS [Share_Class], 
    [Project1].[Current_Market_Price] AS [Current_Market_Price], 
    [Project1].[Index_Type] AS [Index_Type], 
    [Project1].[Clean_Price_Formula] AS [Clean_Price_Formula], 
    [Project1].[Accrued_Income_Price_Formula] AS [Accrued_Income_Price_Formula], 
    [Project1].[Odd_First_Coupon_Date] AS [Odd_First_Coupon_Date], 
    [Project1].[Odd_Last_Coupon_Date] AS [Odd_Last_Coupon_Date], 
    [Project1].[Coupon_Anniversary_Indicator] AS [Coupon_Anniversary_Indicator], 
    [Project1].[Track_EOM_Flag] AS [Track_EOM_Flag], 
    [Project1].[Next_Coupon_Date] AS [Next_Coupon_Date], 
    [Project1].[Previous_Coupon_Date] AS [Previous_Coupon_Date], 
    [Project1].[Payment_Frequency] AS [Payment_Frequency], 
    [Project1].[Coupon_BusDay_Adjustment] AS [Coupon_BusDay_Adjustment], 
    [Project1].[Next_Ex_Div_Date] AS [Next_Ex_Div_Date], 
    [Project1].[Ex_Div_BusDay_Adjustment] AS [Ex_Div_BusDay_Adjustment], 
    [Project1].[Ex_Div_Period] AS [Ex_Div_Period], 
    [Project1].[Ticker] AS [Ticker], 
    [Project1].[Inet_ID] AS [Inet_ID], 
    [Project1].[Bloomberg_ID] AS [Bloomberg_ID], 
    [Project1].[External_Sec_ID] AS [External_Sec_ID], 
    [Project1].[Reuters_ID] AS [Reuters_ID], 
    [Project1].[ISIN] AS [ISIN], 
    [Project1].[Call_Account_Flag] AS [Call_Account_Flag], 
    [Project1].[System_Locked] AS [System_Locked], 
    [Project1].[Last_Update_User] AS [Last_Update_User], 
    [Project1].[Last_Update_Date] AS [Last_Update_Date], 
    [Project1].[Security_Status] AS [Security_Status], 
    [Project1].[Benchmark_Portfolio] AS [Benchmark_Portfolio], 
    [Project1].[Active_flag] AS [Active_flag], 
    [Project1].[Dividend_FX_Security_ID] AS [Dividend_FX_Security_ID]
    FROM ( SELECT 
        [Extent1].[Security_ID] AS [Security_ID], 
        [Extent1].[Entity_ID] AS [Entity_ID], 
        [Extent1].[Security_Name] AS [Security_Name], 
        [Extent1].[Short_Name] AS [Short_Name], 
        [Extent1].[Primary_Exch] AS [Primary_Exch], 
        [Extent1].[Secondary_Exch] AS [Secondary_Exch], 
        [Extent1].[Country_Of_Domicile] AS [Country_Of_Domicile], 
        [Extent1].[Country_Of_Risk] AS [Country_Of_Risk], 
        [Extent1].[Security_Type_Code] AS [Security_Type_Code], 
        [Extent1].[Price_Multiplier] AS [Price_Multiplier], 
        [Extent1].[Income_Frequency] AS [Income_Frequency], 
        [Extent1].[Issuer_Code] AS [Issuer_Code], 
        [Extent1].[Ultimate_Issuer_Code] AS [Ultimate_Issuer_Code], 
        [Extent1].[Asset_Currency] AS [Asset_Currency], 
        [Extent1].[Min_Lot_Size] AS [Min_Lot_Size], 
        [Extent1].[Decimal_Precision] AS [Decimal_Precision], 
        [Extent1].[AvePrice_Rounding] AS [AvePrice_Rounding], 
        [Extent1].[Issue_Date] AS [Issue_Date], 
        [Extent1].[Maturity_Date] AS [Maturity_Date], 
        [Extent1].[Coupon_Rate] AS [Coupon_Rate], 
        [Extent1].[Price_Exchange] AS [Price_Exchange], 
        [Extent1].[Trade_Currency] AS [Trade_Currency], 
        [Extent1].[Price_Curr] AS [Price_Curr], 
        [Extent1].[Currency_Pair_Code] AS [Currency_Pair_Code], 
        [Extent1].[Share_Class] AS [Share_Class], 
        [Extent1].[Current_Market_Price] AS [Current_Market_Price], 
        [Extent1].[Index_Type] AS [Index_Type], 
        [Extent1].[Clean_Price_Formula] AS [Clean_Price_Formula], 
        [Extent1].[Accrued_Income_Price_Formula] AS [Accrued_Income_Price_Formula], 
        [Extent1].[Odd_First_Coupon_Date] AS [Odd_First_Coupon_Date], 
        [Extent1].[Odd_Last_Coupon_Date] AS [Odd_Last_Coupon_Date], 
        [Extent1].[Coupon_Anniversary_Indicator] AS [Coupon_Anniversary_Indicator], 
        [Extent1].[Track_EOM_Flag] AS [Track_EOM_Flag], 
        [Extent1].[Next_Coupon_Date] AS [Next_Coupon_Date], 
        [Extent1].[Previous_Coupon_Date] AS [Previous_Coupon_Date], 
        [Extent1].[Payment_Frequency] AS [Payment_Frequency], 
        [Extent1].[Coupon_BusDay_Adjustment] AS [Coupon_BusDay_Adjustment], 
        [Extent1].[Next_Ex_Div_Date] AS [Next_Ex_Div_Date], 
        [Extent1].[Ex_Div_BusDay_Adjustment] AS [Ex_Div_BusDay_Adjustment], 
        [Extent1].[Ex_Div_Period] AS [Ex_Div_Period], 
        [Extent1].[Ticker] AS [Ticker], 
        [Extent1].[Inet_ID] AS [Inet_ID], 
        [Extent1].[Bloomberg_ID] AS [Bloomberg_ID], 
        [Extent1].[External_Sec_ID] AS [External_Sec_ID], 
        [Extent1].[Reuters_ID] AS [Reuters_ID], 
        [Extent1].[ISIN] AS [ISIN], 
        [Extent1].[Call_Account_Flag] AS [Call_Account_Flag], 
        [Extent1].[System_Locked] AS [System_Locked], 
        [Extent1].[Last_Update_User] AS [Last_Update_User], 
        [Extent1].[Last_Update_Date] AS [Last_Update_Date], 
        [Extent1].[Security_Status] AS [Security_Status], 
        [Extent1].[Benchmark_Portfolio] AS [Benchmark_Portfolio], 
        [Extent1].[Active_flag] AS [Active_flag], 
        [Extent1].[Dividend_FX_Security_ID] AS [Dividend_FX_Security_ID]
        FROM [dbo].[Security_Detail] AS [Extent1]
        WHERE ([Extent1].[Entity_ID] IN (@p__linq__0,@p__linq__1)) AND ((CASE WHEN ( NOT ((N'' = @p__linq__2) AND (@p__linq__2 IS NOT NULL))) THEN CASE WHEN ([Extent1].[Security_Type_Code] = @p__linq__3) THEN cast(1 as bit) WHEN ( NOT (([Extent1].[Security_Type_Code] = @p__linq__3) AND (0 = (CASE WHEN (@p__linq__3 IS NULL) THEN cast(1 as bit) ELSE cast(0 as bit) END)))) THEN cast(0 as bit) END WHEN ('' <> [Extent1].[Security_Type_Code]) THEN cast(1 as bit) WHEN ('' = [Extent1].[Security_Type_Code]) THEN cast(0 as bit) END) = 1)
    )  AS [Project1]
    ORDER BY [Project1].[Security_Name] ASC
2018-04-07 18:43:59.3374|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: SELECT 
    [Project1].[Security_ID] AS [Security_ID], 
    [Project1].[Entity_ID] AS [Entity_ID], 
    [Project1].[Security_Name] AS [Security_Name], 
    [Project1].[Short_Name] AS [Short_Name], 
    [Project1].[Primary_Exch] AS [Primary_Exch], 
    [Project1].[Secondary_Exch] AS [Secondary_Exch], 
    [Project1].[Country_Of_Domicile] AS [Country_Of_Domicile], 
    [Project1].[Country_Of_Risk] AS [Country_Of_Risk], 
    [Project1].[Security_Type_Code] AS [Security_Type_Code], 
    [Project1].[Price_Multiplier] AS [Price_Multiplier], 
    [Project1].[Income_Frequency] AS [Income_Frequency], 
    [Project1].[Issuer_Code] AS [Issuer_Code], 
    [Project1].[Ultimate_Issuer_Code] AS [Ultimate_Issuer_Code], 
    [Project1].[Asset_Currency] AS [Asset_Currency], 
    [Project1].[Min_Lot_Size] AS [Min_Lot_Size], 
    [Project1].[Decimal_Precision] AS [Decimal_Precision], 
    [Project1].[AvePrice_Rounding] AS [AvePrice_Rounding], 
    [Project1].[Issue_Date] AS [Issue_Date], 
    [Project1].[Maturity_Date] AS [Maturity_Date], 
    [Project1].[Coupon_Rate] AS [Coupon_Rate], 
    [Project1].[Price_Exchange] AS [Price_Exchange], 
    [Project1].[Trade_Currency] AS [Trade_Currency], 
    [Project1].[Price_Curr] AS [Price_Curr], 
    [Project1].[Currency_Pair_Code] AS [Currency_Pair_Code], 
    [Project1].[Share_Class] AS [Share_Class], 
    [Project1].[Current_Market_Price] AS [Current_Market_Price], 
    [Project1].[Index_Type] AS [Index_Type], 
    [Project1].[Clean_Price_Formula] AS [Clean_Price_Formula], 
    [Project1].[Accrued_Income_Price_Formula] AS [Accrued_Income_Price_Formula], 
    [Project1].[Odd_First_Coupon_Date] AS [Odd_First_Coupon_Date], 
    [Project1].[Odd_Last_Coupon_Date] AS [Odd_Last_Coupon_Date], 
    [Project1].[Coupon_Anniversary_Indicator] AS [Coupon_Anniversary_Indicator], 
    [Project1].[Track_EOM_Flag] AS [Track_EOM_Flag], 
    [Project1].[Next_Coupon_Date] AS [Next_Coupon_Date], 
    [Project1].[Previous_Coupon_Date] AS [Previous_Coupon_Date], 
    [Project1].[Payment_Frequency] AS [Payment_Frequency], 
    [Project1].[Coupon_BusDay_Adjustment] AS [Coupon_BusDay_Adjustment], 
    [Project1].[Next_Ex_Div_Date] AS [Next_Ex_Div_Date], 
    [Project1].[Ex_Div_BusDay_Adjustment] AS [Ex_Div_BusDay_Adjustment], 
    [Project1].[Ex_Div_Period] AS [Ex_Div_Period], 
    [Project1].[Ticker] AS [Ticker], 
    [Project1].[Inet_ID] AS [Inet_ID], 
    [Project1].[Bloomberg_ID] AS [Bloomberg_ID], 
    [Project1].[External_Sec_ID] AS [External_Sec_ID], 
    [Project1].[Reuters_ID] AS [Reuters_ID], 
    [Project1].[ISIN] AS [ISIN], 
    [Project1].[Call_Account_Flag] AS [Call_Account_Flag], 
    [Project1].[System_Locked] AS [System_Locked], 
    [Project1].[Last_Update_User] AS [Last_Update_User], 
    [Project1].[Last_Update_Date] AS [Last_Update_Date], 
    [Project1].[Security_Status] AS [Security_Status], 
    [Project1].[Benchmark_Portfolio] AS [Benchmark_Portfolio], 
    [Project1].[Active_flag] AS [Active_flag], 
    [Project1].[Dividend_FX_Security_ID] AS [Dividend_FX_Security_ID]
    FROM ( SELECT 
        [Extent1].[Security_ID] AS [Security_ID], 
        [Extent1].[Entity_ID] AS [Entity_ID], 
        [Extent1].[Security_Name] AS [Security_Name], 
        [Extent1].[Short_Name] AS [Short_Name], 
        [Extent1].[Primary_Exch] AS [Primary_Exch], 
        [Extent1].[Secondary_Exch] AS [Secondary_Exch], 
        [Extent1].[Country_Of_Domicile] AS [Country_Of_Domicile], 
        [Extent1].[Country_Of_Risk] AS [Country_Of_Risk], 
        [Extent1].[Security_Type_Code] AS [Security_Type_Code], 
        [Extent1].[Price_Multiplier] AS [Price_Multiplier], 
        [Extent1].[Income_Frequency] AS [Income_Frequency], 
        [Extent1].[Issuer_Code] AS [Issuer_Code], 
        [Extent1].[Ultimate_Issuer_Code] AS [Ultimate_Issuer_Code], 
        [Extent1].[Asset_Currency] AS [Asset_Currency], 
        [Extent1].[Min_Lot_Size] AS [Min_Lot_Size], 
        [Extent1].[Decimal_Precision] AS [Decimal_Precision], 
        [Extent1].[AvePrice_Rounding] AS [AvePrice_Rounding], 
        [Extent1].[Issue_Date] AS [Issue_Date], 
        [Extent1].[Maturity_Date] AS [Maturity_Date], 
        [Extent1].[Coupon_Rate] AS [Coupon_Rate], 
        [Extent1].[Price_Exchange] AS [Price_Exchange], 
        [Extent1].[Trade_Currency] AS [Trade_Currency], 
        [Extent1].[Price_Curr] AS [Price_Curr], 
        [Extent1].[Currency_Pair_Code] AS [Currency_Pair_Code], 
        [Extent1].[Share_Class] AS [Share_Class], 
        [Extent1].[Current_Market_Price] AS [Current_Market_Price], 
        [Extent1].[Index_Type] AS [Index_Type], 
        [Extent1].[Clean_Price_Formula] AS [Clean_Price_Formula], 
        [Extent1].[Accrued_Income_Price_Formula] AS [Accrued_Income_Price_Formula], 
        [Extent1].[Odd_First_Coupon_Date] AS [Odd_First_Coupon_Date], 
        [Extent1].[Odd_Last_Coupon_Date] AS [Odd_Last_Coupon_Date], 
        [Extent1].[Coupon_Anniversary_Indicator] AS [Coupon_Anniversary_Indicator], 
        [Extent1].[Track_EOM_Flag] AS [Track_EOM_Flag], 
        [Extent1].[Next_Coupon_Date] AS [Next_Coupon_Date], 
        [Extent1].[Previous_Coupon_Date] AS [Previous_Coupon_Date], 
        [Extent1].[Payment_Frequency] AS [Payment_Frequency], 
        [Extent1].[Coupon_BusDay_Adjustment] AS [Coupon_BusDay_Adjustment], 
        [Extent1].[Next_Ex_Div_Date] AS [Next_Ex_Div_Date], 
        [Extent1].[Ex_Div_BusDay_Adjustment] AS [Ex_Div_BusDay_Adjustment], 
        [Extent1].[Ex_Div_Period] AS [Ex_Div_Period], 
        [Extent1].[Ticker] AS [Ticker], 
        [Extent1].[Inet_ID] AS [Inet_ID], 
        [Extent1].[Bloomberg_ID] AS [Bloomberg_ID], 
        [Extent1].[External_Sec_ID] AS [External_Sec_ID], 
        [Extent1].[Reuters_ID] AS [Reuters_ID], 
        [Extent1].[ISIN] AS [ISIN], 
        [Extent1].[Call_Account_Flag] AS [Call_Account_Flag], 
        [Extent1].[System_Locked] AS [System_Locked], 
        [Extent1].[Last_Update_User] AS [Last_Update_User], 
        [Extent1].[Last_Update_Date] AS [Last_Update_Date], 
        [Extent1].[Security_Status] AS [Security_Status], 
        [Extent1].[Benchmark_Portfolio] AS [Benchmark_Portfolio], 
        [Extent1].[Active_flag] AS [Active_flag], 
        [Extent1].[Dividend_FX_Security_ID] AS [Dividend_FX_Security_ID]
        FROM [dbo].[Security_Detail] AS [Extent1]
        WHERE ([Extent1].[Entity_ID] IN (@p__linq__0,@p__linq__1)) AND ((CASE WHEN ( NOT ((N'' = @p__linq__2) AND (@p__linq__2 IS NOT NULL))) THEN CASE WHEN ([Extent1].[Security_Type_Code] = @p__linq__3) THEN cast(1 as bit) WHEN ( NOT (([Extent1].[Security_Type_Code] = @p__linq__3) AND (0 = (CASE WHEN (@p__linq__3 IS NULL) THEN cast(1 as bit) ELSE cast(0 as bit) END)))) THEN cast(0 as bit) END WHEN ('' <> [Extent1].[Security_Type_Code]) THEN cast(1 as bit) WHEN ('' = [Extent1].[Security_Type_Code]) THEN cast(0 as bit) END) = 1)
    )  AS [Project1]
    ORDER BY [Project1].[Security_Name] ASC
2018-04-07 18:43:59.4025|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: IF db_id(N'MetopeAzureDb') IS NOT NULL SELECT 1 ELSE SELECT Count(*) FROM sys.databases WHERE [name]=N'MetopeAzureDb'
2018-04-07 18:43:59.4280|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: IF db_id(N'MetopeAzureDb') IS NOT NULL SELECT 1 ELSE SELECT Count(*) FROM sys.databases WHERE [name]=N'MetopeAzureDb'
2018-04-07 18:43:59.4570|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: IF db_id(N'MetopeAzureDb') IS NOT NULL SELECT 1 ELSE SELECT Count(*) FROM sys.databases WHERE [name]=N'MetopeAzureDb'
2018-04-07 18:43:59.4825|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: IF db_id(N'MetopeAzureDb') IS NOT NULL SELECT 1 ELSE SELECT Count(*) FROM sys.databases WHERE [name]=N'MetopeAzureDb'
2018-04-07 18:44:04.4276|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: SELECT 
    [Project1].[Security_ID] AS [Security_ID], 
    [Project1].[Entity_ID] AS [Entity_ID], 
    [Project1].[Security_Name] AS [Security_Name], 
    [Project1].[Short_Name] AS [Short_Name], 
    [Project1].[Primary_Exch] AS [Primary_Exch], 
    [Project1].[Secondary_Exch] AS [Secondary_Exch], 
    [Project1].[Country_Of_Domicile] AS [Country_Of_Domicile], 
    [Project1].[Country_Of_Risk] AS [Country_Of_Risk], 
    [Project1].[Security_Type_Code] AS [Security_Type_Code], 
    [Project1].[Price_Multiplier] AS [Price_Multiplier], 
    [Project1].[Income_Frequency] AS [Income_Frequency], 
    [Project1].[Issuer_Code] AS [Issuer_Code], 
    [Project1].[Ultimate_Issuer_Code] AS [Ultimate_Issuer_Code], 
    [Project1].[Asset_Currency] AS [Asset_Currency], 
    [Project1].[Min_Lot_Size] AS [Min_Lot_Size], 
    [Project1].[Decimal_Precision] AS [Decimal_Precision], 
    [Project1].[AvePrice_Rounding] AS [AvePrice_Rounding], 
    [Project1].[Issue_Date] AS [Issue_Date], 
    [Project1].[Maturity_Date] AS [Maturity_Date], 
    [Project1].[Coupon_Rate] AS [Coupon_Rate], 
    [Project1].[Price_Exchange] AS [Price_Exchange], 
    [Project1].[Trade_Currency] AS [Trade_Currency], 
    [Project1].[Price_Curr] AS [Price_Curr], 
    [Project1].[Currency_Pair_Code] AS [Currency_Pair_Code], 
    [Project1].[Share_Class] AS [Share_Class], 
    [Project1].[Current_Market_Price] AS [Current_Market_Price], 
    [Project1].[Index_Type] AS [Index_Type], 
    [Project1].[Clean_Price_Formula] AS [Clean_Price_Formula], 
    [Project1].[Accrued_Income_Price_Formula] AS [Accrued_Income_Price_Formula], 
    [Project1].[Odd_First_Coupon_Date] AS [Odd_First_Coupon_Date], 
    [Project1].[Odd_Last_Coupon_Date] AS [Odd_Last_Coupon_Date], 
    [Project1].[Coupon_Anniversary_Indicator] AS [Coupon_Anniversary_Indicator], 
    [Project1].[Track_EOM_Flag] AS [Track_EOM_Flag], 
    [Project1].[Next_Coupon_Date] AS [Next_Coupon_Date], 
    [Project1].[Previous_Coupon_Date] AS [Previous_Coupon_Date], 
    [Project1].[Payment_Frequency] AS [Payment_Frequency], 
    [Project1].[Coupon_BusDay_Adjustment] AS [Coupon_BusDay_Adjustment], 
    [Project1].[Next_Ex_Div_Date] AS [Next_Ex_Div_Date], 
    [Project1].[Ex_Div_BusDay_Adjustment] AS [Ex_Div_BusDay_Adjustment], 
    [Project1].[Ex_Div_Period] AS [Ex_Div_Period], 
    [Project1].[Ticker] AS [Ticker], 
    [Project1].[Inet_ID] AS [Inet_ID], 
    [Project1].[Bloomberg_ID] AS [Bloomberg_ID], 
    [Project1].[External_Sec_ID] AS [External_Sec_ID], 
    [Project1].[Reuters_ID] AS [Reuters_ID], 
    [Project1].[ISIN] AS [ISIN], 
    [Project1].[Call_Account_Flag] AS [Call_Account_Flag], 
    [Project1].[System_Locked] AS [System_Locked], 
    [Project1].[Last_Update_User] AS [Last_Update_User], 
    [Project1].[Last_Update_Date] AS [Last_Update_Date], 
    [Project1].[Security_Status] AS [Security_Status], 
    [Project1].[Benchmark_Portfolio] AS [Benchmark_Portfolio], 
    [Project1].[Active_flag] AS [Active_flag], 
    [Project1].[Dividend_FX_Security_ID] AS [Dividend_FX_Security_ID]
    FROM ( SELECT 
        [Extent1].[Security_ID] AS [Security_ID], 
        [Extent1].[Entity_ID] AS [Entity_ID], 
        [Extent1].[Security_Name] AS [Security_Name], 
        [Extent1].[Short_Name] AS [Short_Name], 
        [Extent1].[Primary_Exch] AS [Primary_Exch], 
        [Extent1].[Secondary_Exch] AS [Secondary_Exch], 
        [Extent1].[Country_Of_Domicile] AS [Country_Of_Domicile], 
        [Extent1].[Country_Of_Risk] AS [Country_Of_Risk], 
        [Extent1].[Security_Type_Code] AS [Security_Type_Code], 
        [Extent1].[Price_Multiplier] AS [Price_Multiplier], 
        [Extent1].[Income_Frequency] AS [Income_Frequency], 
        [Extent1].[Issuer_Code] AS [Issuer_Code], 
        [Extent1].[Ultimate_Issuer_Code] AS [Ultimate_Issuer_Code], 
        [Extent1].[Asset_Currency] AS [Asset_Currency], 
        [Extent1].[Min_Lot_Size] AS [Min_Lot_Size], 
        [Extent1].[Decimal_Precision] AS [Decimal_Precision], 
        [Extent1].[AvePrice_Rounding] AS [AvePrice_Rounding], 
        [Extent1].[Issue_Date] AS [Issue_Date], 
        [Extent1].[Maturity_Date] AS [Maturity_Date], 
        [Extent1].[Coupon_Rate] AS [Coupon_Rate], 
        [Extent1].[Price_Exchange] AS [Price_Exchange], 
        [Extent1].[Trade_Currency] AS [Trade_Currency], 
        [Extent1].[Price_Curr] AS [Price_Curr], 
        [Extent1].[Currency_Pair_Code] AS [Currency_Pair_Code], 
        [Extent1].[Share_Class] AS [Share_Class], 
        [Extent1].[Current_Market_Price] AS [Current_Market_Price], 
        [Extent1].[Index_Type] AS [Index_Type], 
        [Extent1].[Clean_Price_Formula] AS [Clean_Price_Formula], 
        [Extent1].[Accrued_Income_Price_Formula] AS [Accrued_Income_Price_Formula], 
        [Extent1].[Odd_First_Coupon_Date] AS [Odd_First_Coupon_Date], 
        [Extent1].[Odd_Last_Coupon_Date] AS [Odd_Last_Coupon_Date], 
        [Extent1].[Coupon_Anniversary_Indicator] AS [Coupon_Anniversary_Indicator], 
        [Extent1].[Track_EOM_Flag] AS [Track_EOM_Flag], 
        [Extent1].[Next_Coupon_Date] AS [Next_Coupon_Date], 
        [Extent1].[Previous_Coupon_Date] AS [Previous_Coupon_Date], 
        [Extent1].[Payment_Frequency] AS [Payment_Frequency], 
        [Extent1].[Coupon_BusDay_Adjustment] AS [Coupon_BusDay_Adjustment], 
        [Extent1].[Next_Ex_Div_Date] AS [Next_Ex_Div_Date], 
        [Extent1].[Ex_Div_BusDay_Adjustment] AS [Ex_Div_BusDay_Adjustment], 
        [Extent1].[Ex_Div_Period] AS [Ex_Div_Period], 
        [Extent1].[Ticker] AS [Ticker], 
        [Extent1].[Inet_ID] AS [Inet_ID], 
        [Extent1].[Bloomberg_ID] AS [Bloomberg_ID], 
        [Extent1].[External_Sec_ID] AS [External_Sec_ID], 
        [Extent1].[Reuters_ID] AS [Reuters_ID], 
        [Extent1].[ISIN] AS [ISIN], 
        [Extent1].[Call_Account_Flag] AS [Call_Account_Flag], 
        [Extent1].[System_Locked] AS [System_Locked], 
        [Extent1].[Last_Update_User] AS [Last_Update_User], 
        [Extent1].[Last_Update_Date] AS [Last_Update_Date], 
        [Extent1].[Security_Status] AS [Security_Status], 
        [Extent1].[Benchmark_Portfolio] AS [Benchmark_Portfolio], 
        [Extent1].[Active_flag] AS [Active_flag], 
        [Extent1].[Dividend_FX_Security_ID] AS [Dividend_FX_Security_ID]
        FROM [dbo].[Security_Detail] AS [Extent1]
        WHERE ([Extent1].[Entity_ID] IN (@p__linq__0,@p__linq__1)) AND ((CASE WHEN ( NOT ((N'' = @p__linq__2) AND (@p__linq__2 IS NOT NULL))) THEN CASE WHEN ([Extent1].[Security_Type_Code] = @p__linq__3) THEN cast(1 as bit) WHEN ( NOT (([Extent1].[Security_Type_Code] = @p__linq__3) AND (0 = (CASE WHEN (@p__linq__3 IS NULL) THEN cast(1 as bit) ELSE cast(0 as bit) END)))) THEN cast(0 as bit) END WHEN ('' <> [Extent1].[Security_Type_Code]) THEN cast(1 as bit) WHEN ('' = [Extent1].[Security_Type_Code]) THEN cast(0 as bit) END) = 1)
    )  AS [Project1]
    ORDER BY [Project1].[Security_Name] ASC
2018-04-07 18:44:04.4486|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: SELECT 
    [Project1].[Security_ID] AS [Security_ID], 
    [Project1].[Entity_ID] AS [Entity_ID], 
    [Project1].[Security_Name] AS [Security_Name], 
    [Project1].[Short_Name] AS [Short_Name], 
    [Project1].[Primary_Exch] AS [Primary_Exch], 
    [Project1].[Secondary_Exch] AS [Secondary_Exch], 
    [Project1].[Country_Of_Domicile] AS [Country_Of_Domicile], 
    [Project1].[Country_Of_Risk] AS [Country_Of_Risk], 
    [Project1].[Security_Type_Code] AS [Security_Type_Code], 
    [Project1].[Price_Multiplier] AS [Price_Multiplier], 
    [Project1].[Income_Frequency] AS [Income_Frequency], 
    [Project1].[Issuer_Code] AS [Issuer_Code], 
    [Project1].[Ultimate_Issuer_Code] AS [Ultimate_Issuer_Code], 
    [Project1].[Asset_Currency] AS [Asset_Currency], 
    [Project1].[Min_Lot_Size] AS [Min_Lot_Size], 
    [Project1].[Decimal_Precision] AS [Decimal_Precision], 
    [Project1].[AvePrice_Rounding] AS [AvePrice_Rounding], 
    [Project1].[Issue_Date] AS [Issue_Date], 
    [Project1].[Maturity_Date] AS [Maturity_Date], 
    [Project1].[Coupon_Rate] AS [Coupon_Rate], 
    [Project1].[Price_Exchange] AS [Price_Exchange], 
    [Project1].[Trade_Currency] AS [Trade_Currency], 
    [Project1].[Price_Curr] AS [Price_Curr], 
    [Project1].[Currency_Pair_Code] AS [Currency_Pair_Code], 
    [Project1].[Share_Class] AS [Share_Class], 
    [Project1].[Current_Market_Price] AS [Current_Market_Price], 
    [Project1].[Index_Type] AS [Index_Type], 
    [Project1].[Clean_Price_Formula] AS [Clean_Price_Formula], 
    [Project1].[Accrued_Income_Price_Formula] AS [Accrued_Income_Price_Formula], 
    [Project1].[Odd_First_Coupon_Date] AS [Odd_First_Coupon_Date], 
    [Project1].[Odd_Last_Coupon_Date] AS [Odd_Last_Coupon_Date], 
    [Project1].[Coupon_Anniversary_Indicator] AS [Coupon_Anniversary_Indicator], 
    [Project1].[Track_EOM_Flag] AS [Track_EOM_Flag], 
    [Project1].[Next_Coupon_Date] AS [Next_Coupon_Date], 
    [Project1].[Previous_Coupon_Date] AS [Previous_Coupon_Date], 
    [Project1].[Payment_Frequency] AS [Payment_Frequency], 
    [Project1].[Coupon_BusDay_Adjustment] AS [Coupon_BusDay_Adjustment], 
    [Project1].[Next_Ex_Div_Date] AS [Next_Ex_Div_Date], 
    [Project1].[Ex_Div_BusDay_Adjustment] AS [Ex_Div_BusDay_Adjustment], 
    [Project1].[Ex_Div_Period] AS [Ex_Div_Period], 
    [Project1].[Ticker] AS [Ticker], 
    [Project1].[Inet_ID] AS [Inet_ID], 
    [Project1].[Bloomberg_ID] AS [Bloomberg_ID], 
    [Project1].[External_Sec_ID] AS [External_Sec_ID], 
    [Project1].[Reuters_ID] AS [Reuters_ID], 
    [Project1].[ISIN] AS [ISIN], 
    [Project1].[Call_Account_Flag] AS [Call_Account_Flag], 
    [Project1].[System_Locked] AS [System_Locked], 
    [Project1].[Last_Update_User] AS [Last_Update_User], 
    [Project1].[Last_Update_Date] AS [Last_Update_Date], 
    [Project1].[Security_Status] AS [Security_Status], 
    [Project1].[Benchmark_Portfolio] AS [Benchmark_Portfolio], 
    [Project1].[Active_flag] AS [Active_flag], 
    [Project1].[Dividend_FX_Security_ID] AS [Dividend_FX_Security_ID]
    FROM ( SELECT 
        [Extent1].[Security_ID] AS [Security_ID], 
        [Extent1].[Entity_ID] AS [Entity_ID], 
        [Extent1].[Security_Name] AS [Security_Name], 
        [Extent1].[Short_Name] AS [Short_Name], 
        [Extent1].[Primary_Exch] AS [Primary_Exch], 
        [Extent1].[Secondary_Exch] AS [Secondary_Exch], 
        [Extent1].[Country_Of_Domicile] AS [Country_Of_Domicile], 
        [Extent1].[Country_Of_Risk] AS [Country_Of_Risk], 
        [Extent1].[Security_Type_Code] AS [Security_Type_Code], 
        [Extent1].[Price_Multiplier] AS [Price_Multiplier], 
        [Extent1].[Income_Frequency] AS [Income_Frequency], 
        [Extent1].[Issuer_Code] AS [Issuer_Code], 
        [Extent1].[Ultimate_Issuer_Code] AS [Ultimate_Issuer_Code], 
        [Extent1].[Asset_Currency] AS [Asset_Currency], 
        [Extent1].[Min_Lot_Size] AS [Min_Lot_Size], 
        [Extent1].[Decimal_Precision] AS [Decimal_Precision], 
        [Extent1].[AvePrice_Rounding] AS [AvePrice_Rounding], 
        [Extent1].[Issue_Date] AS [Issue_Date], 
        [Extent1].[Maturity_Date] AS [Maturity_Date], 
        [Extent1].[Coupon_Rate] AS [Coupon_Rate], 
        [Extent1].[Price_Exchange] AS [Price_Exchange], 
        [Extent1].[Trade_Currency] AS [Trade_Currency], 
        [Extent1].[Price_Curr] AS [Price_Curr], 
        [Extent1].[Currency_Pair_Code] AS [Currency_Pair_Code], 
        [Extent1].[Share_Class] AS [Share_Class], 
        [Extent1].[Current_Market_Price] AS [Current_Market_Price], 
        [Extent1].[Index_Type] AS [Index_Type], 
        [Extent1].[Clean_Price_Formula] AS [Clean_Price_Formula], 
        [Extent1].[Accrued_Income_Price_Formula] AS [Accrued_Income_Price_Formula], 
        [Extent1].[Odd_First_Coupon_Date] AS [Odd_First_Coupon_Date], 
        [Extent1].[Odd_Last_Coupon_Date] AS [Odd_Last_Coupon_Date], 
        [Extent1].[Coupon_Anniversary_Indicator] AS [Coupon_Anniversary_Indicator], 
        [Extent1].[Track_EOM_Flag] AS [Track_EOM_Flag], 
        [Extent1].[Next_Coupon_Date] AS [Next_Coupon_Date], 
        [Extent1].[Previous_Coupon_Date] AS [Previous_Coupon_Date], 
        [Extent1].[Payment_Frequency] AS [Payment_Frequency], 
        [Extent1].[Coupon_BusDay_Adjustment] AS [Coupon_BusDay_Adjustment], 
        [Extent1].[Next_Ex_Div_Date] AS [Next_Ex_Div_Date], 
        [Extent1].[Ex_Div_BusDay_Adjustment] AS [Ex_Div_BusDay_Adjustment], 
        [Extent1].[Ex_Div_Period] AS [Ex_Div_Period], 
        [Extent1].[Ticker] AS [Ticker], 
        [Extent1].[Inet_ID] AS [Inet_ID], 
        [Extent1].[Bloomberg_ID] AS [Bloomberg_ID], 
        [Extent1].[External_Sec_ID] AS [External_Sec_ID], 
        [Extent1].[Reuters_ID] AS [Reuters_ID], 
        [Extent1].[ISIN] AS [ISIN], 
        [Extent1].[Call_Account_Flag] AS [Call_Account_Flag], 
        [Extent1].[System_Locked] AS [System_Locked], 
        [Extent1].[Last_Update_User] AS [Last_Update_User], 
        [Extent1].[Last_Update_Date] AS [Last_Update_Date], 
        [Extent1].[Security_Status] AS [Security_Status], 
        [Extent1].[Benchmark_Portfolio] AS [Benchmark_Portfolio], 
        [Extent1].[Active_flag] AS [Active_flag], 
        [Extent1].[Dividend_FX_Security_ID] AS [Dividend_FX_Security_ID]
        FROM [dbo].[Security_Detail] AS [Extent1]
        WHERE ([Extent1].[Entity_ID] IN (@p__linq__0,@p__linq__1)) AND ((CASE WHEN ( NOT ((N'' = @p__linq__2) AND (@p__linq__2 IS NOT NULL))) THEN CASE WHEN ([Extent1].[Security_Type_Code] = @p__linq__3) THEN cast(1 as bit) WHEN ( NOT (([Extent1].[Security_Type_Code] = @p__linq__3) AND (0 = (CASE WHEN (@p__linq__3 IS NULL) THEN cast(1 as bit) ELSE cast(0 as bit) END)))) THEN cast(0 as bit) END WHEN ('' <> [Extent1].[Security_Type_Code]) THEN cast(1 as bit) WHEN ('' = [Extent1].[Security_Type_Code]) THEN cast(0 as bit) END) = 1)
    )  AS [Project1]
    ORDER BY [Project1].[Security_Name] ASC
2018-04-07 18:44:04.5206|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: SELECT 
    [Project1].[Security_ID] AS [Security_ID], 
    [Project1].[Entity_ID] AS [Entity_ID], 
    [Project1].[Security_Name] AS [Security_Name], 
    [Project1].[Short_Name] AS [Short_Name], 
    [Project1].[Primary_Exch] AS [Primary_Exch], 
    [Project1].[Secondary_Exch] AS [Secondary_Exch], 
    [Project1].[Country_Of_Domicile] AS [Country_Of_Domicile], 
    [Project1].[Country_Of_Risk] AS [Country_Of_Risk], 
    [Project1].[Security_Type_Code] AS [Security_Type_Code], 
    [Project1].[Price_Multiplier] AS [Price_Multiplier], 
    [Project1].[Income_Frequency] AS [Income_Frequency], 
    [Project1].[Issuer_Code] AS [Issuer_Code], 
    [Project1].[Ultimate_Issuer_Code] AS [Ultimate_Issuer_Code], 
    [Project1].[Asset_Currency] AS [Asset_Currency], 
    [Project1].[Min_Lot_Size] AS [Min_Lot_Size], 
    [Project1].[Decimal_Precision] AS [Decimal_Precision], 
    [Project1].[AvePrice_Rounding] AS [AvePrice_Rounding], 
    [Project1].[Issue_Date] AS [Issue_Date], 
    [Project1].[Maturity_Date] AS [Maturity_Date], 
    [Project1].[Coupon_Rate] AS [Coupon_Rate], 
    [Project1].[Price_Exchange] AS [Price_Exchange], 
    [Project1].[Trade_Currency] AS [Trade_Currency], 
    [Project1].[Price_Curr] AS [Price_Curr], 
    [Project1].[Currency_Pair_Code] AS [Currency_Pair_Code], 
    [Project1].[Share_Class] AS [Share_Class], 
    [Project1].[Current_Market_Price] AS [Current_Market_Price], 
    [Project1].[Index_Type] AS [Index_Type], 
    [Project1].[Clean_Price_Formula] AS [Clean_Price_Formula], 
    [Project1].[Accrued_Income_Price_Formula] AS [Accrued_Income_Price_Formula], 
    [Project1].[Odd_First_Coupon_Date] AS [Odd_First_Coupon_Date], 
    [Project1].[Odd_Last_Coupon_Date] AS [Odd_Last_Coupon_Date], 
    [Project1].[Coupon_Anniversary_Indicator] AS [Coupon_Anniversary_Indicator], 
    [Project1].[Track_EOM_Flag] AS [Track_EOM_Flag], 
    [Project1].[Next_Coupon_Date] AS [Next_Coupon_Date], 
    [Project1].[Previous_Coupon_Date] AS [Previous_Coupon_Date], 
    [Project1].[Payment_Frequency] AS [Payment_Frequency], 
    [Project1].[Coupon_BusDay_Adjustment] AS [Coupon_BusDay_Adjustment], 
    [Project1].[Next_Ex_Div_Date] AS [Next_Ex_Div_Date], 
    [Project1].[Ex_Div_BusDay_Adjustment] AS [Ex_Div_BusDay_Adjustment], 
    [Project1].[Ex_Div_Period] AS [Ex_Div_Period], 
    [Project1].[Ticker] AS [Ticker], 
    [Project1].[Inet_ID] AS [Inet_ID], 
    [Project1].[Bloomberg_ID] AS [Bloomberg_ID], 
    [Project1].[External_Sec_ID] AS [External_Sec_ID], 
    [Project1].[Reuters_ID] AS [Reuters_ID], 
    [Project1].[ISIN] AS [ISIN], 
    [Project1].[Call_Account_Flag] AS [Call_Account_Flag], 
    [Project1].[System_Locked] AS [System_Locked], 
    [Project1].[Last_Update_User] AS [Last_Update_User], 
    [Project1].[Last_Update_Date] AS [Last_Update_Date], 
    [Project1].[Security_Status] AS [Security_Status], 
    [Project1].[Benchmark_Portfolio] AS [Benchmark_Portfolio], 
    [Project1].[Active_flag] AS [Active_flag], 
    [Project1].[Dividend_FX_Security_ID] AS [Dividend_FX_Security_ID]
    FROM ( SELECT 
        [Extent1].[Security_ID] AS [Security_ID], 
        [Extent1].[Entity_ID] AS [Entity_ID], 
        [Extent1].[Security_Name] AS [Security_Name], 
        [Extent1].[Short_Name] AS [Short_Name], 
        [Extent1].[Primary_Exch] AS [Primary_Exch], 
        [Extent1].[Secondary_Exch] AS [Secondary_Exch], 
        [Extent1].[Country_Of_Domicile] AS [Country_Of_Domicile], 
        [Extent1].[Country_Of_Risk] AS [Country_Of_Risk], 
        [Extent1].[Security_Type_Code] AS [Security_Type_Code], 
        [Extent1].[Price_Multiplier] AS [Price_Multiplier], 
        [Extent1].[Income_Frequency] AS [Income_Frequency], 
        [Extent1].[Issuer_Code] AS [Issuer_Code], 
        [Extent1].[Ultimate_Issuer_Code] AS [Ultimate_Issuer_Code], 
        [Extent1].[Asset_Currency] AS [Asset_Currency], 
        [Extent1].[Min_Lot_Size] AS [Min_Lot_Size], 
        [Extent1].[Decimal_Precision] AS [Decimal_Precision], 
        [Extent1].[AvePrice_Rounding] AS [AvePrice_Rounding], 
        [Extent1].[Issue_Date] AS [Issue_Date], 
        [Extent1].[Maturity_Date] AS [Maturity_Date], 
        [Extent1].[Coupon_Rate] AS [Coupon_Rate], 
        [Extent1].[Price_Exchange] AS [Price_Exchange], 
        [Extent1].[Trade_Currency] AS [Trade_Currency], 
        [Extent1].[Price_Curr] AS [Price_Curr], 
        [Extent1].[Currency_Pair_Code] AS [Currency_Pair_Code], 
        [Extent1].[Share_Class] AS [Share_Class], 
        [Extent1].[Current_Market_Price] AS [Current_Market_Price], 
        [Extent1].[Index_Type] AS [Index_Type], 
        [Extent1].[Clean_Price_Formula] AS [Clean_Price_Formula], 
        [Extent1].[Accrued_Income_Price_Formula] AS [Accrued_Income_Price_Formula], 
        [Extent1].[Odd_First_Coupon_Date] AS [Odd_First_Coupon_Date], 
        [Extent1].[Odd_Last_Coupon_Date] AS [Odd_Last_Coupon_Date], 
        [Extent1].[Coupon_Anniversary_Indicator] AS [Coupon_Anniversary_Indicator], 
        [Extent1].[Track_EOM_Flag] AS [Track_EOM_Flag], 
        [Extent1].[Next_Coupon_Date] AS [Next_Coupon_Date], 
        [Extent1].[Previous_Coupon_Date] AS [Previous_Coupon_Date], 
        [Extent1].[Payment_Frequency] AS [Payment_Frequency], 
        [Extent1].[Coupon_BusDay_Adjustment] AS [Coupon_BusDay_Adjustment], 
        [Extent1].[Next_Ex_Div_Date] AS [Next_Ex_Div_Date], 
        [Extent1].[Ex_Div_BusDay_Adjustment] AS [Ex_Div_BusDay_Adjustment], 
        [Extent1].[Ex_Div_Period] AS [Ex_Div_Period], 
        [Extent1].[Ticker] AS [Ticker], 
        [Extent1].[Inet_ID] AS [Inet_ID], 
        [Extent1].[Bloomberg_ID] AS [Bloomberg_ID], 
        [Extent1].[External_Sec_ID] AS [External_Sec_ID], 
        [Extent1].[Reuters_ID] AS [Reuters_ID], 
        [Extent1].[ISIN] AS [ISIN], 
        [Extent1].[Call_Account_Flag] AS [Call_Account_Flag], 
        [Extent1].[System_Locked] AS [System_Locked], 
        [Extent1].[Last_Update_User] AS [Last_Update_User], 
        [Extent1].[Last_Update_Date] AS [Last_Update_Date], 
        [Extent1].[Security_Status] AS [Security_Status], 
        [Extent1].[Benchmark_Portfolio] AS [Benchmark_Portfolio], 
        [Extent1].[Active_flag] AS [Active_flag], 
        [Extent1].[Dividend_FX_Security_ID] AS [Dividend_FX_Security_ID]
        FROM [dbo].[Security_Detail] AS [Extent1]
        WHERE ([Extent1].[Entity_ID] IN (@p__linq__0,@p__linq__1)) AND ((CASE WHEN ( NOT ((N'' = @p__linq__2) AND (@p__linq__2 IS NOT NULL))) THEN CASE WHEN ([Extent1].[Security_Type_Code] = @p__linq__3) THEN cast(1 as bit) WHEN ( NOT (([Extent1].[Security_Type_Code] = @p__linq__3) AND (0 = (CASE WHEN (@p__linq__3 IS NULL) THEN cast(1 as bit) ELSE cast(0 as bit) END)))) THEN cast(0 as bit) END WHEN ('' <> [Extent1].[Security_Type_Code]) THEN cast(1 as bit) WHEN ('' = [Extent1].[Security_Type_Code]) THEN cast(0 as bit) END) = 1)
    )  AS [Project1]
    ORDER BY [Project1].[Security_Name] ASC
2018-04-07 18:44:04.5397|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: SELECT 
    [Project1].[Security_ID] AS [Security_ID], 
    [Project1].[Entity_ID] AS [Entity_ID], 
    [Project1].[Security_Name] AS [Security_Name], 
    [Project1].[Short_Name] AS [Short_Name], 
    [Project1].[Primary_Exch] AS [Primary_Exch], 
    [Project1].[Secondary_Exch] AS [Secondary_Exch], 
    [Project1].[Country_Of_Domicile] AS [Country_Of_Domicile], 
    [Project1].[Country_Of_Risk] AS [Country_Of_Risk], 
    [Project1].[Security_Type_Code] AS [Security_Type_Code], 
    [Project1].[Price_Multiplier] AS [Price_Multiplier], 
    [Project1].[Income_Frequency] AS [Income_Frequency], 
    [Project1].[Issuer_Code] AS [Issuer_Code], 
    [Project1].[Ultimate_Issuer_Code] AS [Ultimate_Issuer_Code], 
    [Project1].[Asset_Currency] AS [Asset_Currency], 
    [Project1].[Min_Lot_Size] AS [Min_Lot_Size], 
    [Project1].[Decimal_Precision] AS [Decimal_Precision], 
    [Project1].[AvePrice_Rounding] AS [AvePrice_Rounding], 
    [Project1].[Issue_Date] AS [Issue_Date], 
    [Project1].[Maturity_Date] AS [Maturity_Date], 
    [Project1].[Coupon_Rate] AS [Coupon_Rate], 
    [Project1].[Price_Exchange] AS [Price_Exchange], 
    [Project1].[Trade_Currency] AS [Trade_Currency], 
    [Project1].[Price_Curr] AS [Price_Curr], 
    [Project1].[Currency_Pair_Code] AS [Currency_Pair_Code], 
    [Project1].[Share_Class] AS [Share_Class], 
    [Project1].[Current_Market_Price] AS [Current_Market_Price], 
    [Project1].[Index_Type] AS [Index_Type], 
    [Project1].[Clean_Price_Formula] AS [Clean_Price_Formula], 
    [Project1].[Accrued_Income_Price_Formula] AS [Accrued_Income_Price_Formula], 
    [Project1].[Odd_First_Coupon_Date] AS [Odd_First_Coupon_Date], 
    [Project1].[Odd_Last_Coupon_Date] AS [Odd_Last_Coupon_Date], 
    [Project1].[Coupon_Anniversary_Indicator] AS [Coupon_Anniversary_Indicator], 
    [Project1].[Track_EOM_Flag] AS [Track_EOM_Flag], 
    [Project1].[Next_Coupon_Date] AS [Next_Coupon_Date], 
    [Project1].[Previous_Coupon_Date] AS [Previous_Coupon_Date], 
    [Project1].[Payment_Frequency] AS [Payment_Frequency], 
    [Project1].[Coupon_BusDay_Adjustment] AS [Coupon_BusDay_Adjustment], 
    [Project1].[Next_Ex_Div_Date] AS [Next_Ex_Div_Date], 
    [Project1].[Ex_Div_BusDay_Adjustment] AS [Ex_Div_BusDay_Adjustment], 
    [Project1].[Ex_Div_Period] AS [Ex_Div_Period], 
    [Project1].[Ticker] AS [Ticker], 
    [Project1].[Inet_ID] AS [Inet_ID], 
    [Project1].[Bloomberg_ID] AS [Bloomberg_ID], 
    [Project1].[External_Sec_ID] AS [External_Sec_ID], 
    [Project1].[Reuters_ID] AS [Reuters_ID], 
    [Project1].[ISIN] AS [ISIN], 
    [Project1].[Call_Account_Flag] AS [Call_Account_Flag], 
    [Project1].[System_Locked] AS [System_Locked], 
    [Project1].[Last_Update_User] AS [Last_Update_User], 
    [Project1].[Last_Update_Date] AS [Last_Update_Date], 
    [Project1].[Security_Status] AS [Security_Status], 
    [Project1].[Benchmark_Portfolio] AS [Benchmark_Portfolio], 
    [Project1].[Active_flag] AS [Active_flag], 
    [Project1].[Dividend_FX_Security_ID] AS [Dividend_FX_Security_ID]
    FROM ( SELECT 
        [Extent1].[Security_ID] AS [Security_ID], 
        [Extent1].[Entity_ID] AS [Entity_ID], 
        [Extent1].[Security_Name] AS [Security_Name], 
        [Extent1].[Short_Name] AS [Short_Name], 
        [Extent1].[Primary_Exch] AS [Primary_Exch], 
        [Extent1].[Secondary_Exch] AS [Secondary_Exch], 
        [Extent1].[Country_Of_Domicile] AS [Country_Of_Domicile], 
        [Extent1].[Country_Of_Risk] AS [Country_Of_Risk], 
        [Extent1].[Security_Type_Code] AS [Security_Type_Code], 
        [Extent1].[Price_Multiplier] AS [Price_Multiplier], 
        [Extent1].[Income_Frequency] AS [Income_Frequency], 
        [Extent1].[Issuer_Code] AS [Issuer_Code], 
        [Extent1].[Ultimate_Issuer_Code] AS [Ultimate_Issuer_Code], 
        [Extent1].[Asset_Currency] AS [Asset_Currency], 
        [Extent1].[Min_Lot_Size] AS [Min_Lot_Size], 
        [Extent1].[Decimal_Precision] AS [Decimal_Precision], 
        [Extent1].[AvePrice_Rounding] AS [AvePrice_Rounding], 
        [Extent1].[Issue_Date] AS [Issue_Date], 
        [Extent1].[Maturity_Date] AS [Maturity_Date], 
        [Extent1].[Coupon_Rate] AS [Coupon_Rate], 
        [Extent1].[Price_Exchange] AS [Price_Exchange], 
        [Extent1].[Trade_Currency] AS [Trade_Currency], 
        [Extent1].[Price_Curr] AS [Price_Curr], 
        [Extent1].[Currency_Pair_Code] AS [Currency_Pair_Code], 
        [Extent1].[Share_Class] AS [Share_Class], 
        [Extent1].[Current_Market_Price] AS [Current_Market_Price], 
        [Extent1].[Index_Type] AS [Index_Type], 
        [Extent1].[Clean_Price_Formula] AS [Clean_Price_Formula], 
        [Extent1].[Accrued_Income_Price_Formula] AS [Accrued_Income_Price_Formula], 
        [Extent1].[Odd_First_Coupon_Date] AS [Odd_First_Coupon_Date], 
        [Extent1].[Odd_Last_Coupon_Date] AS [Odd_Last_Coupon_Date], 
        [Extent1].[Coupon_Anniversary_Indicator] AS [Coupon_Anniversary_Indicator], 
        [Extent1].[Track_EOM_Flag] AS [Track_EOM_Flag], 
        [Extent1].[Next_Coupon_Date] AS [Next_Coupon_Date], 
        [Extent1].[Previous_Coupon_Date] AS [Previous_Coupon_Date], 
        [Extent1].[Payment_Frequency] AS [Payment_Frequency], 
        [Extent1].[Coupon_BusDay_Adjustment] AS [Coupon_BusDay_Adjustment], 
        [Extent1].[Next_Ex_Div_Date] AS [Next_Ex_Div_Date], 
        [Extent1].[Ex_Div_BusDay_Adjustment] AS [Ex_Div_BusDay_Adjustment], 
        [Extent1].[Ex_Div_Period] AS [Ex_Div_Period], 
        [Extent1].[Ticker] AS [Ticker], 
        [Extent1].[Inet_ID] AS [Inet_ID], 
        [Extent1].[Bloomberg_ID] AS [Bloomberg_ID], 
        [Extent1].[External_Sec_ID] AS [External_Sec_ID], 
        [Extent1].[Reuters_ID] AS [Reuters_ID], 
        [Extent1].[ISIN] AS [ISIN], 
        [Extent1].[Call_Account_Flag] AS [Call_Account_Flag], 
        [Extent1].[System_Locked] AS [System_Locked], 
        [Extent1].[Last_Update_User] AS [Last_Update_User], 
        [Extent1].[Last_Update_Date] AS [Last_Update_Date], 
        [Extent1].[Security_Status] AS [Security_Status], 
        [Extent1].[Benchmark_Portfolio] AS [Benchmark_Portfolio], 
        [Extent1].[Active_flag] AS [Active_flag], 
        [Extent1].[Dividend_FX_Security_ID] AS [Dividend_FX_Security_ID]
        FROM [dbo].[Security_Detail] AS [Extent1]
        WHERE ([Extent1].[Entity_ID] IN (@p__linq__0,@p__linq__1)) AND ((CASE WHEN ( NOT ((N'' = @p__linq__2) AND (@p__linq__2 IS NOT NULL))) THEN CASE WHEN ([Extent1].[Security_Type_Code] = @p__linq__3) THEN cast(1 as bit) WHEN ( NOT (([Extent1].[Security_Type_Code] = @p__linq__3) AND (0 = (CASE WHEN (@p__linq__3 IS NULL) THEN cast(1 as bit) ELSE cast(0 as bit) END)))) THEN cast(0 as bit) END WHEN ('' <> [Extent1].[Security_Type_Code]) THEN cast(1 as bit) WHEN ('' = [Extent1].[Security_Type_Code]) THEN cast(0 as bit) END) = 1)
    )  AS [Project1]
    ORDER BY [Project1].[Security_Name] ASC
2018-04-07 18:44:04.5742|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: IF db_id(N'MetopeAzureDb') IS NOT NULL SELECT 1 ELSE SELECT Count(*) FROM sys.databases WHERE [name]=N'MetopeAzureDb'
2018-04-07 18:44:04.5872|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: IF db_id(N'MetopeAzureDb') IS NOT NULL SELECT 1 ELSE SELECT Count(*) FROM sys.databases WHERE [name]=N'MetopeAzureDb'
2018-04-07 18:44:04.6082|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: IF db_id(N'MetopeAzureDb') IS NOT NULL SELECT 1 ELSE SELECT Count(*) FROM sys.databases WHERE [name]=N'MetopeAzureDb'
2018-04-07 18:44:04.6082|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: IF db_id(N'MetopeAzureDb') IS NOT NULL SELECT 1 ELSE SELECT Count(*) FROM sys.databases WHERE [name]=N'MetopeAzureDb'
2018-04-07 18:46:10.7842|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: select cast(serverproperty('EngineEdition') as int)
2018-04-07 18:46:10.8107|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: select cast(serverproperty('EngineEdition') as int)
2018-04-07 18:46:10.9583|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: IF db_id(N'MetopeAzureDb') IS NOT NULL SELECT 1 ELSE SELECT Count(*) FROM sys.databases WHERE [name]=N'MetopeAzureDb'
2018-04-07 18:46:10.9688|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: IF db_id(N'MetopeAzureDb') IS NOT NULL SELECT 1 ELSE SELECT Count(*) FROM sys.databases WHERE [name]=N'MetopeAzureDb'
2018-04-07 18:46:11.0114|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: IF db_id(N'MetopeAzureDb') IS NOT NULL SELECT 1 ELSE SELECT Count(*) FROM sys.databases WHERE [name]=N'MetopeAzureDb'
2018-04-07 18:46:11.0209|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: IF db_id(N'MetopeAzureDb') IS NOT NULL SELECT 1 ELSE SELECT Count(*) FROM sys.databases WHERE [name]=N'MetopeAzureDb'
2018-04-07 18:46:11.0309|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: 
SELECT Count(*)
FROM INFORMATION_SCHEMA.TABLES AS t
WHERE t.TABLE_SCHEMA + '.' + t.TABLE_NAME IN ('dbo.AspNetRoles','dbo.AspNetUserRoles','dbo.AspNetUsers','dbo.AspNetUserClaims','dbo.AspNetUserLogins')
    OR t.TABLE_NAME = 'EdmMetadata'
2018-04-07 18:46:11.0629|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: 
SELECT Count(*)
FROM INFORMATION_SCHEMA.TABLES AS t
WHERE t.TABLE_SCHEMA + '.' + t.TABLE_NAME IN ('dbo.AspNetRoles','dbo.AspNetUserRoles','dbo.AspNetUsers','dbo.AspNetUserClaims','dbo.AspNetUserLogins')
    OR t.TABLE_NAME = 'EdmMetadata'
2018-04-07 18:46:11.2105|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: SELECT 
    [GroupBy1].[A1] AS [C1]
    FROM ( SELECT 
        COUNT(1) AS [A1]
        FROM [dbo].[__MigrationHistory] AS [Extent1]
        WHERE [Extent1].[ContextKey] = @p__linq__0
    )  AS [GroupBy1]
2018-04-07 18:46:11.2230|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: SELECT 
    [GroupBy1].[A1] AS [C1]
    FROM ( SELECT 
        COUNT(1) AS [A1]
        FROM [dbo].[__MigrationHistory] AS [Extent1]
        WHERE [Extent1].[ContextKey] = @p__linq__0
    )  AS [GroupBy1]
2018-04-07 18:46:11.2525|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: SELECT TOP (1) 
    [Project1].[C1] AS [C1], 
    [Project1].[MigrationId] AS [MigrationId], 
    [Project1].[Model] AS [Model], 
    [Project1].[ProductVersion] AS [ProductVersion]
    FROM ( SELECT 
        [Extent1].[MigrationId] AS [MigrationId], 
        [Extent1].[Model] AS [Model], 
        [Extent1].[ProductVersion] AS [ProductVersion], 
        1 AS [C1]
        FROM [dbo].[__MigrationHistory] AS [Extent1]
        WHERE [Extent1].[ContextKey] = @p__linq__0
    )  AS [Project1]
    ORDER BY [Project1].[MigrationId] DESC
2018-04-07 18:46:11.2525|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: SELECT TOP (1) 
    [Project1].[C1] AS [C1], 
    [Project1].[MigrationId] AS [MigrationId], 
    [Project1].[Model] AS [Model], 
    [Project1].[ProductVersion] AS [ProductVersion]
    FROM ( SELECT 
        [Extent1].[MigrationId] AS [MigrationId], 
        [Extent1].[Model] AS [Model], 
        [Extent1].[ProductVersion] AS [ProductVersion], 
        1 AS [C1]
        FROM [dbo].[__MigrationHistory] AS [Extent1]
        WHERE [Extent1].[ContextKey] = @p__linq__0
    )  AS [Project1]
    ORDER BY [Project1].[MigrationId] DESC
2018-04-07 18:46:11.4427|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: True, Command Text: SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[EntityIdScope] AS [EntityIdScope], 
    [Extent1].[Email] AS [Email], 
    [Extent1].[EmailConfirmed] AS [EmailConfirmed], 
    [Extent1].[PasswordHash] AS [PasswordHash], 
    [Extent1].[SecurityStamp] AS [SecurityStamp], 
    [Extent1].[PhoneNumber] AS [PhoneNumber], 
    [Extent1].[PhoneNumberConfirmed] AS [PhoneNumberConfirmed], 
    [Extent1].[TwoFactorEnabled] AS [TwoFactorEnabled], 
    [Extent1].[LockoutEndDateUtc] AS [LockoutEndDateUtc], 
    [Extent1].[LockoutEnabled] AS [LockoutEnabled], 
    [Extent1].[AccessFailedCount] AS [AccessFailedCount], 
    [Extent1].[UserName] AS [UserName]
    FROM [dbo].[AspNetUsers] AS [Extent1]
    WHERE [Extent1].[Id] = @p0
2018-04-07 18:46:11.4542|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: True, Command Text: SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[EntityIdScope] AS [EntityIdScope], 
    [Extent1].[Email] AS [Email], 
    [Extent1].[EmailConfirmed] AS [EmailConfirmed], 
    [Extent1].[PasswordHash] AS [PasswordHash], 
    [Extent1].[SecurityStamp] AS [SecurityStamp], 
    [Extent1].[PhoneNumber] AS [PhoneNumber], 
    [Extent1].[PhoneNumberConfirmed] AS [PhoneNumberConfirmed], 
    [Extent1].[TwoFactorEnabled] AS [TwoFactorEnabled], 
    [Extent1].[LockoutEndDateUtc] AS [LockoutEndDateUtc], 
    [Extent1].[LockoutEnabled] AS [LockoutEnabled], 
    [Extent1].[AccessFailedCount] AS [AccessFailedCount], 
    [Extent1].[UserName] AS [UserName]
    FROM [dbo].[AspNetUsers] AS [Extent1]
    WHERE [Extent1].[Id] = @p0
2018-04-07 18:46:11.5257|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: True, Command Text: SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[UserId] AS [UserId], 
    [Extent1].[ClaimType] AS [ClaimType], 
    [Extent1].[ClaimValue] AS [ClaimValue]
    FROM [dbo].[AspNetUserClaims] AS [Extent1]
    WHERE [Extent1].[UserId] = @p__linq__0
2018-04-07 18:46:11.5392|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: True, Command Text: SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[UserId] AS [UserId], 
    [Extent1].[ClaimType] AS [ClaimType], 
    [Extent1].[ClaimValue] AS [ClaimValue]
    FROM [dbo].[AspNetUserClaims] AS [Extent1]
    WHERE [Extent1].[UserId] = @p__linq__0
2018-04-07 18:46:11.5868|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: True, Command Text: SELECT 
    [Extent1].[LoginProvider] AS [LoginProvider], 
    [Extent1].[ProviderKey] AS [ProviderKey], 
    [Extent1].[UserId] AS [UserId]
    FROM [dbo].[AspNetUserLogins] AS [Extent1]
    WHERE [Extent1].[UserId] = @p__linq__0
2018-04-07 18:46:11.5983|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: True, Command Text: SELECT 
    [Extent1].[LoginProvider] AS [LoginProvider], 
    [Extent1].[ProviderKey] AS [ProviderKey], 
    [Extent1].[UserId] AS [UserId]
    FROM [dbo].[AspNetUserLogins] AS [Extent1]
    WHERE [Extent1].[UserId] = @p__linq__0
2018-04-07 18:46:11.6333|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: True, Command Text: SELECT 
    [Extent1].[UserId] AS [UserId], 
    [Extent1].[RoleId] AS [RoleId]
    FROM [dbo].[AspNetUserRoles] AS [Extent1]
    WHERE [Extent1].[UserId] = @p__linq__0
2018-04-07 18:46:11.6418|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: True, Command Text: SELECT 
    [Extent1].[UserId] AS [UserId], 
    [Extent1].[RoleId] AS [RoleId]
    FROM [dbo].[AspNetUserRoles] AS [Extent1]
    WHERE [Extent1].[UserId] = @p__linq__0
2018-04-07 18:46:14.0851|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: SELECT 
    [Project1].[Security_ID] AS [Security_ID], 
    [Project1].[Entity_ID] AS [Entity_ID], 
    [Project1].[Security_Name] AS [Security_Name], 
    [Project1].[Short_Name] AS [Short_Name], 
    [Project1].[Primary_Exch] AS [Primary_Exch], 
    [Project1].[Secondary_Exch] AS [Secondary_Exch], 
    [Project1].[Country_Of_Domicile] AS [Country_Of_Domicile], 
    [Project1].[Country_Of_Risk] AS [Country_Of_Risk], 
    [Project1].[Security_Type_Code] AS [Security_Type_Code], 
    [Project1].[Price_Multiplier] AS [Price_Multiplier], 
    [Project1].[Income_Frequency] AS [Income_Frequency], 
    [Project1].[Issuer_Code] AS [Issuer_Code], 
    [Project1].[Ultimate_Issuer_Code] AS [Ultimate_Issuer_Code], 
    [Project1].[Asset_Currency] AS [Asset_Currency], 
    [Project1].[Min_Lot_Size] AS [Min_Lot_Size], 
    [Project1].[Decimal_Precision] AS [Decimal_Precision], 
    [Project1].[AvePrice_Rounding] AS [AvePrice_Rounding], 
    [Project1].[Issue_Date] AS [Issue_Date], 
    [Project1].[Maturity_Date] AS [Maturity_Date], 
    [Project1].[Coupon_Rate] AS [Coupon_Rate], 
    [Project1].[Price_Exchange] AS [Price_Exchange], 
    [Project1].[Trade_Currency] AS [Trade_Currency], 
    [Project1].[Price_Curr] AS [Price_Curr], 
    [Project1].[Currency_Pair_Code] AS [Currency_Pair_Code], 
    [Project1].[Share_Class] AS [Share_Class], 
    [Project1].[Current_Market_Price] AS [Current_Market_Price], 
    [Project1].[Index_Type] AS [Index_Type], 
    [Project1].[Clean_Price_Formula] AS [Clean_Price_Formula], 
    [Project1].[Accrued_Income_Price_Formula] AS [Accrued_Income_Price_Formula], 
    [Project1].[Odd_First_Coupon_Date] AS [Odd_First_Coupon_Date], 
    [Project1].[Odd_Last_Coupon_Date] AS [Odd_Last_Coupon_Date], 
    [Project1].[Coupon_Anniversary_Indicator] AS [Coupon_Anniversary_Indicator], 
    [Project1].[Track_EOM_Flag] AS [Track_EOM_Flag], 
    [Project1].[Next_Coupon_Date] AS [Next_Coupon_Date], 
    [Project1].[Previous_Coupon_Date] AS [Previous_Coupon_Date], 
    [Project1].[Payment_Frequency] AS [Payment_Frequency], 
    [Project1].[Coupon_BusDay_Adjustment] AS [Coupon_BusDay_Adjustment], 
    [Project1].[Next_Ex_Div_Date] AS [Next_Ex_Div_Date], 
    [Project1].[Ex_Div_BusDay_Adjustment] AS [Ex_Div_BusDay_Adjustment], 
    [Project1].[Ex_Div_Period] AS [Ex_Div_Period], 
    [Project1].[Ticker] AS [Ticker], 
    [Project1].[Inet_ID] AS [Inet_ID], 
    [Project1].[Bloomberg_ID] AS [Bloomberg_ID], 
    [Project1].[External_Sec_ID] AS [External_Sec_ID], 
    [Project1].[Reuters_ID] AS [Reuters_ID], 
    [Project1].[ISIN] AS [ISIN], 
    [Project1].[Call_Account_Flag] AS [Call_Account_Flag], 
    [Project1].[System_Locked] AS [System_Locked], 
    [Project1].[Last_Update_User] AS [Last_Update_User], 
    [Project1].[Last_Update_Date] AS [Last_Update_Date], 
    [Project1].[Security_Status] AS [Security_Status], 
    [Project1].[Benchmark_Portfolio] AS [Benchmark_Portfolio], 
    [Project1].[Active_flag] AS [Active_flag], 
    [Project1].[Dividend_FX_Security_ID] AS [Dividend_FX_Security_ID]
    FROM ( SELECT 
        [Extent1].[Security_ID] AS [Security_ID], 
        [Extent1].[Entity_ID] AS [Entity_ID], 
        [Extent1].[Security_Name] AS [Security_Name], 
        [Extent1].[Short_Name] AS [Short_Name], 
        [Extent1].[Primary_Exch] AS [Primary_Exch], 
        [Extent1].[Secondary_Exch] AS [Secondary_Exch], 
        [Extent1].[Country_Of_Domicile] AS [Country_Of_Domicile], 
        [Extent1].[Country_Of_Risk] AS [Country_Of_Risk], 
        [Extent1].[Security_Type_Code] AS [Security_Type_Code], 
        [Extent1].[Price_Multiplier] AS [Price_Multiplier], 
        [Extent1].[Income_Frequency] AS [Income_Frequency], 
        [Extent1].[Issuer_Code] AS [Issuer_Code], 
        [Extent1].[Ultimate_Issuer_Code] AS [Ultimate_Issuer_Code], 
        [Extent1].[Asset_Currency] AS [Asset_Currency], 
        [Extent1].[Min_Lot_Size] AS [Min_Lot_Size], 
        [Extent1].[Decimal_Precision] AS [Decimal_Precision], 
        [Extent1].[AvePrice_Rounding] AS [AvePrice_Rounding], 
        [Extent1].[Issue_Date] AS [Issue_Date], 
        [Extent1].[Maturity_Date] AS [Maturity_Date], 
        [Extent1].[Coupon_Rate] AS [Coupon_Rate], 
        [Extent1].[Price_Exchange] AS [Price_Exchange], 
        [Extent1].[Trade_Currency] AS [Trade_Currency], 
        [Extent1].[Price_Curr] AS [Price_Curr], 
        [Extent1].[Currency_Pair_Code] AS [Currency_Pair_Code], 
        [Extent1].[Share_Class] AS [Share_Class], 
        [Extent1].[Current_Market_Price] AS [Current_Market_Price], 
        [Extent1].[Index_Type] AS [Index_Type], 
        [Extent1].[Clean_Price_Formula] AS [Clean_Price_Formula], 
        [Extent1].[Accrued_Income_Price_Formula] AS [Accrued_Income_Price_Formula], 
        [Extent1].[Odd_First_Coupon_Date] AS [Odd_First_Coupon_Date], 
        [Extent1].[Odd_Last_Coupon_Date] AS [Odd_Last_Coupon_Date], 
        [Extent1].[Coupon_Anniversary_Indicator] AS [Coupon_Anniversary_Indicator], 
        [Extent1].[Track_EOM_Flag] AS [Track_EOM_Flag], 
        [Extent1].[Next_Coupon_Date] AS [Next_Coupon_Date], 
        [Extent1].[Previous_Coupon_Date] AS [Previous_Coupon_Date], 
        [Extent1].[Payment_Frequency] AS [Payment_Frequency], 
        [Extent1].[Coupon_BusDay_Adjustment] AS [Coupon_BusDay_Adjustment], 
        [Extent1].[Next_Ex_Div_Date] AS [Next_Ex_Div_Date], 
        [Extent1].[Ex_Div_BusDay_Adjustment] AS [Ex_Div_BusDay_Adjustment], 
        [Extent1].[Ex_Div_Period] AS [Ex_Div_Period], 
        [Extent1].[Ticker] AS [Ticker], 
        [Extent1].[Inet_ID] AS [Inet_ID], 
        [Extent1].[Bloomberg_ID] AS [Bloomberg_ID], 
        [Extent1].[External_Sec_ID] AS [External_Sec_ID], 
        [Extent1].[Reuters_ID] AS [Reuters_ID], 
        [Extent1].[ISIN] AS [ISIN], 
        [Extent1].[Call_Account_Flag] AS [Call_Account_Flag], 
        [Extent1].[System_Locked] AS [System_Locked], 
        [Extent1].[Last_Update_User] AS [Last_Update_User], 
        [Extent1].[Last_Update_Date] AS [Last_Update_Date], 
        [Extent1].[Security_Status] AS [Security_Status], 
        [Extent1].[Benchmark_Portfolio] AS [Benchmark_Portfolio], 
        [Extent1].[Active_flag] AS [Active_flag], 
        [Extent1].[Dividend_FX_Security_ID] AS [Dividend_FX_Security_ID]
        FROM [dbo].[Security_Detail] AS [Extent1]
        WHERE ([Extent1].[Entity_ID] IN (@p__linq__0,@p__linq__1)) AND ((CASE WHEN ( NOT ((N'' = @p__linq__2) AND (@p__linq__2 IS NOT NULL))) THEN CASE WHEN ([Extent1].[Security_Type_Code] = @p__linq__3) THEN cast(1 as bit) WHEN ( NOT (([Extent1].[Security_Type_Code] = @p__linq__3) AND (0 = (CASE WHEN (@p__linq__3 IS NULL) THEN cast(1 as bit) ELSE cast(0 as bit) END)))) THEN cast(0 as bit) END WHEN ('' <> [Extent1].[Security_Type_Code]) THEN cast(1 as bit) WHEN ('' = [Extent1].[Security_Type_Code]) THEN cast(0 as bit) END) = 1)
    )  AS [Project1]
    ORDER BY [Project1].[Security_Name] ASC
2018-04-07 18:46:14.1761|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: SELECT 
    [Project1].[Security_ID] AS [Security_ID], 
    [Project1].[Entity_ID] AS [Entity_ID], 
    [Project1].[Security_Name] AS [Security_Name], 
    [Project1].[Short_Name] AS [Short_Name], 
    [Project1].[Primary_Exch] AS [Primary_Exch], 
    [Project1].[Secondary_Exch] AS [Secondary_Exch], 
    [Project1].[Country_Of_Domicile] AS [Country_Of_Domicile], 
    [Project1].[Country_Of_Risk] AS [Country_Of_Risk], 
    [Project1].[Security_Type_Code] AS [Security_Type_Code], 
    [Project1].[Price_Multiplier] AS [Price_Multiplier], 
    [Project1].[Income_Frequency] AS [Income_Frequency], 
    [Project1].[Issuer_Code] AS [Issuer_Code], 
    [Project1].[Ultimate_Issuer_Code] AS [Ultimate_Issuer_Code], 
    [Project1].[Asset_Currency] AS [Asset_Currency], 
    [Project1].[Min_Lot_Size] AS [Min_Lot_Size], 
    [Project1].[Decimal_Precision] AS [Decimal_Precision], 
    [Project1].[AvePrice_Rounding] AS [AvePrice_Rounding], 
    [Project1].[Issue_Date] AS [Issue_Date], 
    [Project1].[Maturity_Date] AS [Maturity_Date], 
    [Project1].[Coupon_Rate] AS [Coupon_Rate], 
    [Project1].[Price_Exchange] AS [Price_Exchange], 
    [Project1].[Trade_Currency] AS [Trade_Currency], 
    [Project1].[Price_Curr] AS [Price_Curr], 
    [Project1].[Currency_Pair_Code] AS [Currency_Pair_Code], 
    [Project1].[Share_Class] AS [Share_Class], 
    [Project1].[Current_Market_Price] AS [Current_Market_Price], 
    [Project1].[Index_Type] AS [Index_Type], 
    [Project1].[Clean_Price_Formula] AS [Clean_Price_Formula], 
    [Project1].[Accrued_Income_Price_Formula] AS [Accrued_Income_Price_Formula], 
    [Project1].[Odd_First_Coupon_Date] AS [Odd_First_Coupon_Date], 
    [Project1].[Odd_Last_Coupon_Date] AS [Odd_Last_Coupon_Date], 
    [Project1].[Coupon_Anniversary_Indicator] AS [Coupon_Anniversary_Indicator], 
    [Project1].[Track_EOM_Flag] AS [Track_EOM_Flag], 
    [Project1].[Next_Coupon_Date] AS [Next_Coupon_Date], 
    [Project1].[Previous_Coupon_Date] AS [Previous_Coupon_Date], 
    [Project1].[Payment_Frequency] AS [Payment_Frequency], 
    [Project1].[Coupon_BusDay_Adjustment] AS [Coupon_BusDay_Adjustment], 
    [Project1].[Next_Ex_Div_Date] AS [Next_Ex_Div_Date], 
    [Project1].[Ex_Div_BusDay_Adjustment] AS [Ex_Div_BusDay_Adjustment], 
    [Project1].[Ex_Div_Period] AS [Ex_Div_Period], 
    [Project1].[Ticker] AS [Ticker], 
    [Project1].[Inet_ID] AS [Inet_ID], 
    [Project1].[Bloomberg_ID] AS [Bloomberg_ID], 
    [Project1].[External_Sec_ID] AS [External_Sec_ID], 
    [Project1].[Reuters_ID] AS [Reuters_ID], 
    [Project1].[ISIN] AS [ISIN], 
    [Project1].[Call_Account_Flag] AS [Call_Account_Flag], 
    [Project1].[System_Locked] AS [System_Locked], 
    [Project1].[Last_Update_User] AS [Last_Update_User], 
    [Project1].[Last_Update_Date] AS [Last_Update_Date], 
    [Project1].[Security_Status] AS [Security_Status], 
    [Project1].[Benchmark_Portfolio] AS [Benchmark_Portfolio], 
    [Project1].[Active_flag] AS [Active_flag], 
    [Project1].[Dividend_FX_Security_ID] AS [Dividend_FX_Security_ID]
    FROM ( SELECT 
        [Extent1].[Security_ID] AS [Security_ID], 
        [Extent1].[Entity_ID] AS [Entity_ID], 
        [Extent1].[Security_Name] AS [Security_Name], 
        [Extent1].[Short_Name] AS [Short_Name], 
        [Extent1].[Primary_Exch] AS [Primary_Exch], 
        [Extent1].[Secondary_Exch] AS [Secondary_Exch], 
        [Extent1].[Country_Of_Domicile] AS [Country_Of_Domicile], 
        [Extent1].[Country_Of_Risk] AS [Country_Of_Risk], 
        [Extent1].[Security_Type_Code] AS [Security_Type_Code], 
        [Extent1].[Price_Multiplier] AS [Price_Multiplier], 
        [Extent1].[Income_Frequency] AS [Income_Frequency], 
        [Extent1].[Issuer_Code] AS [Issuer_Code], 
        [Extent1].[Ultimate_Issuer_Code] AS [Ultimate_Issuer_Code], 
        [Extent1].[Asset_Currency] AS [Asset_Currency], 
        [Extent1].[Min_Lot_Size] AS [Min_Lot_Size], 
        [Extent1].[Decimal_Precision] AS [Decimal_Precision], 
        [Extent1].[AvePrice_Rounding] AS [AvePrice_Rounding], 
        [Extent1].[Issue_Date] AS [Issue_Date], 
        [Extent1].[Maturity_Date] AS [Maturity_Date], 
        [Extent1].[Coupon_Rate] AS [Coupon_Rate], 
        [Extent1].[Price_Exchange] AS [Price_Exchange], 
        [Extent1].[Trade_Currency] AS [Trade_Currency], 
        [Extent1].[Price_Curr] AS [Price_Curr], 
        [Extent1].[Currency_Pair_Code] AS [Currency_Pair_Code], 
        [Extent1].[Share_Class] AS [Share_Class], 
        [Extent1].[Current_Market_Price] AS [Current_Market_Price], 
        [Extent1].[Index_Type] AS [Index_Type], 
        [Extent1].[Clean_Price_Formula] AS [Clean_Price_Formula], 
        [Extent1].[Accrued_Income_Price_Formula] AS [Accrued_Income_Price_Formula], 
        [Extent1].[Odd_First_Coupon_Date] AS [Odd_First_Coupon_Date], 
        [Extent1].[Odd_Last_Coupon_Date] AS [Odd_Last_Coupon_Date], 
        [Extent1].[Coupon_Anniversary_Indicator] AS [Coupon_Anniversary_Indicator], 
        [Extent1].[Track_EOM_Flag] AS [Track_EOM_Flag], 
        [Extent1].[Next_Coupon_Date] AS [Next_Coupon_Date], 
        [Extent1].[Previous_Coupon_Date] AS [Previous_Coupon_Date], 
        [Extent1].[Payment_Frequency] AS [Payment_Frequency], 
        [Extent1].[Coupon_BusDay_Adjustment] AS [Coupon_BusDay_Adjustment], 
        [Extent1].[Next_Ex_Div_Date] AS [Next_Ex_Div_Date], 
        [Extent1].[Ex_Div_BusDay_Adjustment] AS [Ex_Div_BusDay_Adjustment], 
        [Extent1].[Ex_Div_Period] AS [Ex_Div_Period], 
        [Extent1].[Ticker] AS [Ticker], 
        [Extent1].[Inet_ID] AS [Inet_ID], 
        [Extent1].[Bloomberg_ID] AS [Bloomberg_ID], 
        [Extent1].[External_Sec_ID] AS [External_Sec_ID], 
        [Extent1].[Reuters_ID] AS [Reuters_ID], 
        [Extent1].[ISIN] AS [ISIN], 
        [Extent1].[Call_Account_Flag] AS [Call_Account_Flag], 
        [Extent1].[System_Locked] AS [System_Locked], 
        [Extent1].[Last_Update_User] AS [Last_Update_User], 
        [Extent1].[Last_Update_Date] AS [Last_Update_Date], 
        [Extent1].[Security_Status] AS [Security_Status], 
        [Extent1].[Benchmark_Portfolio] AS [Benchmark_Portfolio], 
        [Extent1].[Active_flag] AS [Active_flag], 
        [Extent1].[Dividend_FX_Security_ID] AS [Dividend_FX_Security_ID]
        FROM [dbo].[Security_Detail] AS [Extent1]
        WHERE ([Extent1].[Entity_ID] IN (@p__linq__0,@p__linq__1)) AND ((CASE WHEN ( NOT ((N'' = @p__linq__2) AND (@p__linq__2 IS NOT NULL))) THEN CASE WHEN ([Extent1].[Security_Type_Code] = @p__linq__3) THEN cast(1 as bit) WHEN ( NOT (([Extent1].[Security_Type_Code] = @p__linq__3) AND (0 = (CASE WHEN (@p__linq__3 IS NULL) THEN cast(1 as bit) ELSE cast(0 as bit) END)))) THEN cast(0 as bit) END WHEN ('' <> [Extent1].[Security_Type_Code]) THEN cast(1 as bit) WHEN ('' = [Extent1].[Security_Type_Code]) THEN cast(0 as bit) END) = 1)
    )  AS [Project1]
    ORDER BY [Project1].[Security_Name] ASC
2018-04-07 18:46:16.5748|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: SELECT 
    [Project1].[Security_ID] AS [Security_ID], 
    [Project1].[Entity_ID] AS [Entity_ID], 
    [Project1].[Security_Name] AS [Security_Name], 
    [Project1].[Short_Name] AS [Short_Name], 
    [Project1].[Primary_Exch] AS [Primary_Exch], 
    [Project1].[Secondary_Exch] AS [Secondary_Exch], 
    [Project1].[Country_Of_Domicile] AS [Country_Of_Domicile], 
    [Project1].[Country_Of_Risk] AS [Country_Of_Risk], 
    [Project1].[Security_Type_Code] AS [Security_Type_Code], 
    [Project1].[Price_Multiplier] AS [Price_Multiplier], 
    [Project1].[Income_Frequency] AS [Income_Frequency], 
    [Project1].[Issuer_Code] AS [Issuer_Code], 
    [Project1].[Ultimate_Issuer_Code] AS [Ultimate_Issuer_Code], 
    [Project1].[Asset_Currency] AS [Asset_Currency], 
    [Project1].[Min_Lot_Size] AS [Min_Lot_Size], 
    [Project1].[Decimal_Precision] AS [Decimal_Precision], 
    [Project1].[AvePrice_Rounding] AS [AvePrice_Rounding], 
    [Project1].[Issue_Date] AS [Issue_Date], 
    [Project1].[Maturity_Date] AS [Maturity_Date], 
    [Project1].[Coupon_Rate] AS [Coupon_Rate], 
    [Project1].[Price_Exchange] AS [Price_Exchange], 
    [Project1].[Trade_Currency] AS [Trade_Currency], 
    [Project1].[Price_Curr] AS [Price_Curr], 
    [Project1].[Currency_Pair_Code] AS [Currency_Pair_Code], 
    [Project1].[Share_Class] AS [Share_Class], 
    [Project1].[Current_Market_Price] AS [Current_Market_Price], 
    [Project1].[Index_Type] AS [Index_Type], 
    [Project1].[Clean_Price_Formula] AS [Clean_Price_Formula], 
    [Project1].[Accrued_Income_Price_Formula] AS [Accrued_Income_Price_Formula], 
    [Project1].[Odd_First_Coupon_Date] AS [Odd_First_Coupon_Date], 
    [Project1].[Odd_Last_Coupon_Date] AS [Odd_Last_Coupon_Date], 
    [Project1].[Coupon_Anniversary_Indicator] AS [Coupon_Anniversary_Indicator], 
    [Project1].[Track_EOM_Flag] AS [Track_EOM_Flag], 
    [Project1].[Next_Coupon_Date] AS [Next_Coupon_Date], 
    [Project1].[Previous_Coupon_Date] AS [Previous_Coupon_Date], 
    [Project1].[Payment_Frequency] AS [Payment_Frequency], 
    [Project1].[Coupon_BusDay_Adjustment] AS [Coupon_BusDay_Adjustment], 
    [Project1].[Next_Ex_Div_Date] AS [Next_Ex_Div_Date], 
    [Project1].[Ex_Div_BusDay_Adjustment] AS [Ex_Div_BusDay_Adjustment], 
    [Project1].[Ex_Div_Period] AS [Ex_Div_Period], 
    [Project1].[Ticker] AS [Ticker], 
    [Project1].[Inet_ID] AS [Inet_ID], 
    [Project1].[Bloomberg_ID] AS [Bloomberg_ID], 
    [Project1].[External_Sec_ID] AS [External_Sec_ID], 
    [Project1].[Reuters_ID] AS [Reuters_ID], 
    [Project1].[ISIN] AS [ISIN], 
    [Project1].[Call_Account_Flag] AS [Call_Account_Flag], 
    [Project1].[System_Locked] AS [System_Locked], 
    [Project1].[Last_Update_User] AS [Last_Update_User], 
    [Project1].[Last_Update_Date] AS [Last_Update_Date], 
    [Project1].[Security_Status] AS [Security_Status], 
    [Project1].[Benchmark_Portfolio] AS [Benchmark_Portfolio], 
    [Project1].[Active_flag] AS [Active_flag], 
    [Project1].[Dividend_FX_Security_ID] AS [Dividend_FX_Security_ID]
    FROM ( SELECT 
        [Extent1].[Security_ID] AS [Security_ID], 
        [Extent1].[Entity_ID] AS [Entity_ID], 
        [Extent1].[Security_Name] AS [Security_Name], 
        [Extent1].[Short_Name] AS [Short_Name], 
        [Extent1].[Primary_Exch] AS [Primary_Exch], 
        [Extent1].[Secondary_Exch] AS [Secondary_Exch], 
        [Extent1].[Country_Of_Domicile] AS [Country_Of_Domicile], 
        [Extent1].[Country_Of_Risk] AS [Country_Of_Risk], 
        [Extent1].[Security_Type_Code] AS [Security_Type_Code], 
        [Extent1].[Price_Multiplier] AS [Price_Multiplier], 
        [Extent1].[Income_Frequency] AS [Income_Frequency], 
        [Extent1].[Issuer_Code] AS [Issuer_Code], 
        [Extent1].[Ultimate_Issuer_Code] AS [Ultimate_Issuer_Code], 
        [Extent1].[Asset_Currency] AS [Asset_Currency], 
        [Extent1].[Min_Lot_Size] AS [Min_Lot_Size], 
        [Extent1].[Decimal_Precision] AS [Decimal_Precision], 
        [Extent1].[AvePrice_Rounding] AS [AvePrice_Rounding], 
        [Extent1].[Issue_Date] AS [Issue_Date], 
        [Extent1].[Maturity_Date] AS [Maturity_Date], 
        [Extent1].[Coupon_Rate] AS [Coupon_Rate], 
        [Extent1].[Price_Exchange] AS [Price_Exchange], 
        [Extent1].[Trade_Currency] AS [Trade_Currency], 
        [Extent1].[Price_Curr] AS [Price_Curr], 
        [Extent1].[Currency_Pair_Code] AS [Currency_Pair_Code], 
        [Extent1].[Share_Class] AS [Share_Class], 
        [Extent1].[Current_Market_Price] AS [Current_Market_Price], 
        [Extent1].[Index_Type] AS [Index_Type], 
        [Extent1].[Clean_Price_Formula] AS [Clean_Price_Formula], 
        [Extent1].[Accrued_Income_Price_Formula] AS [Accrued_Income_Price_Formula], 
        [Extent1].[Odd_First_Coupon_Date] AS [Odd_First_Coupon_Date], 
        [Extent1].[Odd_Last_Coupon_Date] AS [Odd_Last_Coupon_Date], 
        [Extent1].[Coupon_Anniversary_Indicator] AS [Coupon_Anniversary_Indicator], 
        [Extent1].[Track_EOM_Flag] AS [Track_EOM_Flag], 
        [Extent1].[Next_Coupon_Date] AS [Next_Coupon_Date], 
        [Extent1].[Previous_Coupon_Date] AS [Previous_Coupon_Date], 
        [Extent1].[Payment_Frequency] AS [Payment_Frequency], 
        [Extent1].[Coupon_BusDay_Adjustment] AS [Coupon_BusDay_Adjustment], 
        [Extent1].[Next_Ex_Div_Date] AS [Next_Ex_Div_Date], 
        [Extent1].[Ex_Div_BusDay_Adjustment] AS [Ex_Div_BusDay_Adjustment], 
        [Extent1].[Ex_Div_Period] AS [Ex_Div_Period], 
        [Extent1].[Ticker] AS [Ticker], 
        [Extent1].[Inet_ID] AS [Inet_ID], 
        [Extent1].[Bloomberg_ID] AS [Bloomberg_ID], 
        [Extent1].[External_Sec_ID] AS [External_Sec_ID], 
        [Extent1].[Reuters_ID] AS [Reuters_ID], 
        [Extent1].[ISIN] AS [ISIN], 
        [Extent1].[Call_Account_Flag] AS [Call_Account_Flag], 
        [Extent1].[System_Locked] AS [System_Locked], 
        [Extent1].[Last_Update_User] AS [Last_Update_User], 
        [Extent1].[Last_Update_Date] AS [Last_Update_Date], 
        [Extent1].[Security_Status] AS [Security_Status], 
        [Extent1].[Benchmark_Portfolio] AS [Benchmark_Portfolio], 
        [Extent1].[Active_flag] AS [Active_flag], 
        [Extent1].[Dividend_FX_Security_ID] AS [Dividend_FX_Security_ID]
        FROM [dbo].[Security_Detail] AS [Extent1]
        WHERE ([Extent1].[Entity_ID] IN (@p__linq__0,@p__linq__1)) AND ((CASE WHEN ( NOT ((N'' = @p__linq__2) AND (@p__linq__2 IS NOT NULL))) THEN CASE WHEN ([Extent1].[Security_Type_Code] = @p__linq__3) THEN cast(1 as bit) WHEN ( NOT (([Extent1].[Security_Type_Code] = @p__linq__3) AND (0 = (CASE WHEN (@p__linq__3 IS NULL) THEN cast(1 as bit) ELSE cast(0 as bit) END)))) THEN cast(0 as bit) END WHEN ('' <> [Extent1].[Security_Type_Code]) THEN cast(1 as bit) WHEN ('' = [Extent1].[Security_Type_Code]) THEN cast(0 as bit) END) = 1)
    )  AS [Project1]
    ORDER BY [Project1].[Security_Name] ASC
2018-04-07 18:46:16.5813|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: SELECT 
    [Project1].[Security_ID] AS [Security_ID], 
    [Project1].[Entity_ID] AS [Entity_ID], 
    [Project1].[Security_Name] AS [Security_Name], 
    [Project1].[Short_Name] AS [Short_Name], 
    [Project1].[Primary_Exch] AS [Primary_Exch], 
    [Project1].[Secondary_Exch] AS [Secondary_Exch], 
    [Project1].[Country_Of_Domicile] AS [Country_Of_Domicile], 
    [Project1].[Country_Of_Risk] AS [Country_Of_Risk], 
    [Project1].[Security_Type_Code] AS [Security_Type_Code], 
    [Project1].[Price_Multiplier] AS [Price_Multiplier], 
    [Project1].[Income_Frequency] AS [Income_Frequency], 
    [Project1].[Issuer_Code] AS [Issuer_Code], 
    [Project1].[Ultimate_Issuer_Code] AS [Ultimate_Issuer_Code], 
    [Project1].[Asset_Currency] AS [Asset_Currency], 
    [Project1].[Min_Lot_Size] AS [Min_Lot_Size], 
    [Project1].[Decimal_Precision] AS [Decimal_Precision], 
    [Project1].[AvePrice_Rounding] AS [AvePrice_Rounding], 
    [Project1].[Issue_Date] AS [Issue_Date], 
    [Project1].[Maturity_Date] AS [Maturity_Date], 
    [Project1].[Coupon_Rate] AS [Coupon_Rate], 
    [Project1].[Price_Exchange] AS [Price_Exchange], 
    [Project1].[Trade_Currency] AS [Trade_Currency], 
    [Project1].[Price_Curr] AS [Price_Curr], 
    [Project1].[Currency_Pair_Code] AS [Currency_Pair_Code], 
    [Project1].[Share_Class] AS [Share_Class], 
    [Project1].[Current_Market_Price] AS [Current_Market_Price], 
    [Project1].[Index_Type] AS [Index_Type], 
    [Project1].[Clean_Price_Formula] AS [Clean_Price_Formula], 
    [Project1].[Accrued_Income_Price_Formula] AS [Accrued_Income_Price_Formula], 
    [Project1].[Odd_First_Coupon_Date] AS [Odd_First_Coupon_Date], 
    [Project1].[Odd_Last_Coupon_Date] AS [Odd_Last_Coupon_Date], 
    [Project1].[Coupon_Anniversary_Indicator] AS [Coupon_Anniversary_Indicator], 
    [Project1].[Track_EOM_Flag] AS [Track_EOM_Flag], 
    [Project1].[Next_Coupon_Date] AS [Next_Coupon_Date], 
    [Project1].[Previous_Coupon_Date] AS [Previous_Coupon_Date], 
    [Project1].[Payment_Frequency] AS [Payment_Frequency], 
    [Project1].[Coupon_BusDay_Adjustment] AS [Coupon_BusDay_Adjustment], 
    [Project1].[Next_Ex_Div_Date] AS [Next_Ex_Div_Date], 
    [Project1].[Ex_Div_BusDay_Adjustment] AS [Ex_Div_BusDay_Adjustment], 
    [Project1].[Ex_Div_Period] AS [Ex_Div_Period], 
    [Project1].[Ticker] AS [Ticker], 
    [Project1].[Inet_ID] AS [Inet_ID], 
    [Project1].[Bloomberg_ID] AS [Bloomberg_ID], 
    [Project1].[External_Sec_ID] AS [External_Sec_ID], 
    [Project1].[Reuters_ID] AS [Reuters_ID], 
    [Project1].[ISIN] AS [ISIN], 
    [Project1].[Call_Account_Flag] AS [Call_Account_Flag], 
    [Project1].[System_Locked] AS [System_Locked], 
    [Project1].[Last_Update_User] AS [Last_Update_User], 
    [Project1].[Last_Update_Date] AS [Last_Update_Date], 
    [Project1].[Security_Status] AS [Security_Status], 
    [Project1].[Benchmark_Portfolio] AS [Benchmark_Portfolio], 
    [Project1].[Active_flag] AS [Active_flag], 
    [Project1].[Dividend_FX_Security_ID] AS [Dividend_FX_Security_ID]
    FROM ( SELECT 
        [Extent1].[Security_ID] AS [Security_ID], 
        [Extent1].[Entity_ID] AS [Entity_ID], 
        [Extent1].[Security_Name] AS [Security_Name], 
        [Extent1].[Short_Name] AS [Short_Name], 
        [Extent1].[Primary_Exch] AS [Primary_Exch], 
        [Extent1].[Secondary_Exch] AS [Secondary_Exch], 
        [Extent1].[Country_Of_Domicile] AS [Country_Of_Domicile], 
        [Extent1].[Country_Of_Risk] AS [Country_Of_Risk], 
        [Extent1].[Security_Type_Code] AS [Security_Type_Code], 
        [Extent1].[Price_Multiplier] AS [Price_Multiplier], 
        [Extent1].[Income_Frequency] AS [Income_Frequency], 
        [Extent1].[Issuer_Code] AS [Issuer_Code], 
        [Extent1].[Ultimate_Issuer_Code] AS [Ultimate_Issuer_Code], 
        [Extent1].[Asset_Currency] AS [Asset_Currency], 
        [Extent1].[Min_Lot_Size] AS [Min_Lot_Size], 
        [Extent1].[Decimal_Precision] AS [Decimal_Precision], 
        [Extent1].[AvePrice_Rounding] AS [AvePrice_Rounding], 
        [Extent1].[Issue_Date] AS [Issue_Date], 
        [Extent1].[Maturity_Date] AS [Maturity_Date], 
        [Extent1].[Coupon_Rate] AS [Coupon_Rate], 
        [Extent1].[Price_Exchange] AS [Price_Exchange], 
        [Extent1].[Trade_Currency] AS [Trade_Currency], 
        [Extent1].[Price_Curr] AS [Price_Curr], 
        [Extent1].[Currency_Pair_Code] AS [Currency_Pair_Code], 
        [Extent1].[Share_Class] AS [Share_Class], 
        [Extent1].[Current_Market_Price] AS [Current_Market_Price], 
        [Extent1].[Index_Type] AS [Index_Type], 
        [Extent1].[Clean_Price_Formula] AS [Clean_Price_Formula], 
        [Extent1].[Accrued_Income_Price_Formula] AS [Accrued_Income_Price_Formula], 
        [Extent1].[Odd_First_Coupon_Date] AS [Odd_First_Coupon_Date], 
        [Extent1].[Odd_Last_Coupon_Date] AS [Odd_Last_Coupon_Date], 
        [Extent1].[Coupon_Anniversary_Indicator] AS [Coupon_Anniversary_Indicator], 
        [Extent1].[Track_EOM_Flag] AS [Track_EOM_Flag], 
        [Extent1].[Next_Coupon_Date] AS [Next_Coupon_Date], 
        [Extent1].[Previous_Coupon_Date] AS [Previous_Coupon_Date], 
        [Extent1].[Payment_Frequency] AS [Payment_Frequency], 
        [Extent1].[Coupon_BusDay_Adjustment] AS [Coupon_BusDay_Adjustment], 
        [Extent1].[Next_Ex_Div_Date] AS [Next_Ex_Div_Date], 
        [Extent1].[Ex_Div_BusDay_Adjustment] AS [Ex_Div_BusDay_Adjustment], 
        [Extent1].[Ex_Div_Period] AS [Ex_Div_Period], 
        [Extent1].[Ticker] AS [Ticker], 
        [Extent1].[Inet_ID] AS [Inet_ID], 
        [Extent1].[Bloomberg_ID] AS [Bloomberg_ID], 
        [Extent1].[External_Sec_ID] AS [External_Sec_ID], 
        [Extent1].[Reuters_ID] AS [Reuters_ID], 
        [Extent1].[ISIN] AS [ISIN], 
        [Extent1].[Call_Account_Flag] AS [Call_Account_Flag], 
        [Extent1].[System_Locked] AS [System_Locked], 
        [Extent1].[Last_Update_User] AS [Last_Update_User], 
        [Extent1].[Last_Update_Date] AS [Last_Update_Date], 
        [Extent1].[Security_Status] AS [Security_Status], 
        [Extent1].[Benchmark_Portfolio] AS [Benchmark_Portfolio], 
        [Extent1].[Active_flag] AS [Active_flag], 
        [Extent1].[Dividend_FX_Security_ID] AS [Dividend_FX_Security_ID]
        FROM [dbo].[Security_Detail] AS [Extent1]
        WHERE ([Extent1].[Entity_ID] IN (@p__linq__0,@p__linq__1)) AND ((CASE WHEN ( NOT ((N'' = @p__linq__2) AND (@p__linq__2 IS NOT NULL))) THEN CASE WHEN ([Extent1].[Security_Type_Code] = @p__linq__3) THEN cast(1 as bit) WHEN ( NOT (([Extent1].[Security_Type_Code] = @p__linq__3) AND (0 = (CASE WHEN (@p__linq__3 IS NULL) THEN cast(1 as bit) ELSE cast(0 as bit) END)))) THEN cast(0 as bit) END WHEN ('' <> [Extent1].[Security_Type_Code]) THEN cast(1 as bit) WHEN ('' = [Extent1].[Security_Type_Code]) THEN cast(0 as bit) END) = 1)
    )  AS [Project1]
    ORDER BY [Project1].[Security_Name] ASC
2018-04-07 18:46:19.3958|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: IF db_id(N'MetopeAzureDb') IS NOT NULL SELECT 1 ELSE SELECT Count(*) FROM sys.databases WHERE [name]=N'MetopeAzureDb'
2018-04-07 18:46:19.3958|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: IF db_id(N'MetopeAzureDb') IS NOT NULL SELECT 1 ELSE SELECT Count(*) FROM sys.databases WHERE [name]=N'MetopeAzureDb'
2018-04-07 18:46:19.4093|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: IF db_id(N'MetopeAzureDb') IS NOT NULL SELECT 1 ELSE SELECT Count(*) FROM sys.databases WHERE [name]=N'MetopeAzureDb'
2018-04-07 18:46:19.4093|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: IF db_id(N'MetopeAzureDb') IS NOT NULL SELECT 1 ELSE SELECT Count(*) FROM sys.databases WHERE [name]=N'MetopeAzureDb'
2018-04-07 18:46:19.4234|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: True, Command Text: SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[EntityIdScope] AS [EntityIdScope], 
    [Extent1].[Email] AS [Email], 
    [Extent1].[EmailConfirmed] AS [EmailConfirmed], 
    [Extent1].[PasswordHash] AS [PasswordHash], 
    [Extent1].[SecurityStamp] AS [SecurityStamp], 
    [Extent1].[PhoneNumber] AS [PhoneNumber], 
    [Extent1].[PhoneNumberConfirmed] AS [PhoneNumberConfirmed], 
    [Extent1].[TwoFactorEnabled] AS [TwoFactorEnabled], 
    [Extent1].[LockoutEndDateUtc] AS [LockoutEndDateUtc], 
    [Extent1].[LockoutEnabled] AS [LockoutEnabled], 
    [Extent1].[AccessFailedCount] AS [AccessFailedCount], 
    [Extent1].[UserName] AS [UserName]
    FROM [dbo].[AspNetUsers] AS [Extent1]
    WHERE [Extent1].[Id] = @p0
2018-04-07 18:46:19.4234|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: True, Command Text: SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[EntityIdScope] AS [EntityIdScope], 
    [Extent1].[Email] AS [Email], 
    [Extent1].[EmailConfirmed] AS [EmailConfirmed], 
    [Extent1].[PasswordHash] AS [PasswordHash], 
    [Extent1].[SecurityStamp] AS [SecurityStamp], 
    [Extent1].[PhoneNumber] AS [PhoneNumber], 
    [Extent1].[PhoneNumberConfirmed] AS [PhoneNumberConfirmed], 
    [Extent1].[TwoFactorEnabled] AS [TwoFactorEnabled], 
    [Extent1].[LockoutEndDateUtc] AS [LockoutEndDateUtc], 
    [Extent1].[LockoutEnabled] AS [LockoutEnabled], 
    [Extent1].[AccessFailedCount] AS [AccessFailedCount], 
    [Extent1].[UserName] AS [UserName]
    FROM [dbo].[AspNetUsers] AS [Extent1]
    WHERE [Extent1].[Id] = @p0
2018-04-07 18:46:19.4384|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: True, Command Text: SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[UserId] AS [UserId], 
    [Extent1].[ClaimType] AS [ClaimType], 
    [Extent1].[ClaimValue] AS [ClaimValue]
    FROM [dbo].[AspNetUserClaims] AS [Extent1]
    WHERE [Extent1].[UserId] = @p__linq__0
2018-04-07 18:46:19.4384|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: True, Command Text: SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[UserId] AS [UserId], 
    [Extent1].[ClaimType] AS [ClaimType], 
    [Extent1].[ClaimValue] AS [ClaimValue]
    FROM [dbo].[AspNetUserClaims] AS [Extent1]
    WHERE [Extent1].[UserId] = @p__linq__0
2018-04-07 18:46:19.4529|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: True, Command Text: SELECT 
    [Extent1].[LoginProvider] AS [LoginProvider], 
    [Extent1].[ProviderKey] AS [ProviderKey], 
    [Extent1].[UserId] AS [UserId]
    FROM [dbo].[AspNetUserLogins] AS [Extent1]
    WHERE [Extent1].[UserId] = @p__linq__0
2018-04-07 18:46:19.4529|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: True, Command Text: SELECT 
    [Extent1].[LoginProvider] AS [LoginProvider], 
    [Extent1].[ProviderKey] AS [ProviderKey], 
    [Extent1].[UserId] AS [UserId]
    FROM [dbo].[AspNetUserLogins] AS [Extent1]
    WHERE [Extent1].[UserId] = @p__linq__0
2018-04-07 18:46:19.4529|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: True, Command Text: SELECT 
    [Extent1].[UserId] AS [UserId], 
    [Extent1].[RoleId] AS [RoleId]
    FROM [dbo].[AspNetUserRoles] AS [Extent1]
    WHERE [Extent1].[UserId] = @p__linq__0
2018-04-07 18:46:19.4734|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: True, Command Text: SELECT 
    [Extent1].[UserId] AS [UserId], 
    [Extent1].[RoleId] AS [RoleId]
    FROM [dbo].[AspNetUserRoles] AS [Extent1]
    WHERE [Extent1].[UserId] = @p__linq__0
2018-04-07 18:46:19.5114|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: SELECT TOP (2) 
    [Extent1].[Entity_ID] AS [Entity_ID], 
    [Extent1].[Entity_Code] AS [Entity_Code], 
    [Extent1].[Entity_Name] AS [Entity_Name], 
    [Extent1].[Import_Folder] AS [Import_Folder], 
    [Extent1].[Export_Folder] AS [Export_Folder]
    FROM [dbo].[Entity] AS [Extent1]
    WHERE [Extent1].[Entity_ID] = @p0
2018-04-07 18:46:19.5189|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: SELECT TOP (2) 
    [Extent1].[Entity_ID] AS [Entity_ID], 
    [Extent1].[Entity_Code] AS [Entity_Code], 
    [Extent1].[Entity_Name] AS [Entity_Name], 
    [Extent1].[Import_Folder] AS [Import_Folder], 
    [Extent1].[Export_Folder] AS [Export_Folder]
    FROM [dbo].[Entity] AS [Extent1]
    WHERE [Extent1].[Entity_ID] = @p0
2018-04-07 18:54:25.2037|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: SELECT 
    [Project1].[Security_ID] AS [Security_ID], 
    [Project1].[Entity_ID] AS [Entity_ID], 
    [Project1].[Security_Name] AS [Security_Name], 
    [Project1].[Short_Name] AS [Short_Name], 
    [Project1].[Primary_Exch] AS [Primary_Exch], 
    [Project1].[Secondary_Exch] AS [Secondary_Exch], 
    [Project1].[Country_Of_Domicile] AS [Country_Of_Domicile], 
    [Project1].[Country_Of_Risk] AS [Country_Of_Risk], 
    [Project1].[Security_Type_Code] AS [Security_Type_Code], 
    [Project1].[Price_Multiplier] AS [Price_Multiplier], 
    [Project1].[Income_Frequency] AS [Income_Frequency], 
    [Project1].[Issuer_Code] AS [Issuer_Code], 
    [Project1].[Ultimate_Issuer_Code] AS [Ultimate_Issuer_Code], 
    [Project1].[Asset_Currency] AS [Asset_Currency], 
    [Project1].[Min_Lot_Size] AS [Min_Lot_Size], 
    [Project1].[Decimal_Precision] AS [Decimal_Precision], 
    [Project1].[AvePrice_Rounding] AS [AvePrice_Rounding], 
    [Project1].[Issue_Date] AS [Issue_Date], 
    [Project1].[Maturity_Date] AS [Maturity_Date], 
    [Project1].[Coupon_Rate] AS [Coupon_Rate], 
    [Project1].[Price_Exchange] AS [Price_Exchange], 
    [Project1].[Trade_Currency] AS [Trade_Currency], 
    [Project1].[Price_Curr] AS [Price_Curr], 
    [Project1].[Currency_Pair_Code] AS [Currency_Pair_Code], 
    [Project1].[Share_Class] AS [Share_Class], 
    [Project1].[Current_Market_Price] AS [Current_Market_Price], 
    [Project1].[Index_Type] AS [Index_Type], 
    [Project1].[Clean_Price_Formula] AS [Clean_Price_Formula], 
    [Project1].[Accrued_Income_Price_Formula] AS [Accrued_Income_Price_Formula], 
    [Project1].[Odd_First_Coupon_Date] AS [Odd_First_Coupon_Date], 
    [Project1].[Odd_Last_Coupon_Date] AS [Odd_Last_Coupon_Date], 
    [Project1].[Coupon_Anniversary_Indicator] AS [Coupon_Anniversary_Indicator], 
    [Project1].[Track_EOM_Flag] AS [Track_EOM_Flag], 
    [Project1].[Next_Coupon_Date] AS [Next_Coupon_Date], 
    [Project1].[Previous_Coupon_Date] AS [Previous_Coupon_Date], 
    [Project1].[Payment_Frequency] AS [Payment_Frequency], 
    [Project1].[Coupon_BusDay_Adjustment] AS [Coupon_BusDay_Adjustment], 
    [Project1].[Next_Ex_Div_Date] AS [Next_Ex_Div_Date], 
    [Project1].[Ex_Div_BusDay_Adjustment] AS [Ex_Div_BusDay_Adjustment], 
    [Project1].[Ex_Div_Period] AS [Ex_Div_Period], 
    [Project1].[Ticker] AS [Ticker], 
    [Project1].[Inet_ID] AS [Inet_ID], 
    [Project1].[Bloomberg_ID] AS [Bloomberg_ID], 
    [Project1].[External_Sec_ID] AS [External_Sec_ID], 
    [Project1].[Reuters_ID] AS [Reuters_ID], 
    [Project1].[ISIN] AS [ISIN], 
    [Project1].[Call_Account_Flag] AS [Call_Account_Flag], 
    [Project1].[System_Locked] AS [System_Locked], 
    [Project1].[Last_Update_User] AS [Last_Update_User], 
    [Project1].[Last_Update_Date] AS [Last_Update_Date], 
    [Project1].[Security_Status] AS [Security_Status], 
    [Project1].[Benchmark_Portfolio] AS [Benchmark_Portfolio], 
    [Project1].[Active_flag] AS [Active_flag], 
    [Project1].[Dividend_FX_Security_ID] AS [Dividend_FX_Security_ID]
    FROM ( SELECT 
        [Extent1].[Security_ID] AS [Security_ID], 
        [Extent1].[Entity_ID] AS [Entity_ID], 
        [Extent1].[Security_Name] AS [Security_Name], 
        [Extent1].[Short_Name] AS [Short_Name], 
        [Extent1].[Primary_Exch] AS [Primary_Exch], 
        [Extent1].[Secondary_Exch] AS [Secondary_Exch], 
        [Extent1].[Country_Of_Domicile] AS [Country_Of_Domicile], 
        [Extent1].[Country_Of_Risk] AS [Country_Of_Risk], 
        [Extent1].[Security_Type_Code] AS [Security_Type_Code], 
        [Extent1].[Price_Multiplier] AS [Price_Multiplier], 
        [Extent1].[Income_Frequency] AS [Income_Frequency], 
        [Extent1].[Issuer_Code] AS [Issuer_Code], 
        [Extent1].[Ultimate_Issuer_Code] AS [Ultimate_Issuer_Code], 
        [Extent1].[Asset_Currency] AS [Asset_Currency], 
        [Extent1].[Min_Lot_Size] AS [Min_Lot_Size], 
        [Extent1].[Decimal_Precision] AS [Decimal_Precision], 
        [Extent1].[AvePrice_Rounding] AS [AvePrice_Rounding], 
        [Extent1].[Issue_Date] AS [Issue_Date], 
        [Extent1].[Maturity_Date] AS [Maturity_Date], 
        [Extent1].[Coupon_Rate] AS [Coupon_Rate], 
        [Extent1].[Price_Exchange] AS [Price_Exchange], 
        [Extent1].[Trade_Currency] AS [Trade_Currency], 
        [Extent1].[Price_Curr] AS [Price_Curr], 
        [Extent1].[Currency_Pair_Code] AS [Currency_Pair_Code], 
        [Extent1].[Share_Class] AS [Share_Class], 
        [Extent1].[Current_Market_Price] AS [Current_Market_Price], 
        [Extent1].[Index_Type] AS [Index_Type], 
        [Extent1].[Clean_Price_Formula] AS [Clean_Price_Formula], 
        [Extent1].[Accrued_Income_Price_Formula] AS [Accrued_Income_Price_Formula], 
        [Extent1].[Odd_First_Coupon_Date] AS [Odd_First_Coupon_Date], 
        [Extent1].[Odd_Last_Coupon_Date] AS [Odd_Last_Coupon_Date], 
        [Extent1].[Coupon_Anniversary_Indicator] AS [Coupon_Anniversary_Indicator], 
        [Extent1].[Track_EOM_Flag] AS [Track_EOM_Flag], 
        [Extent1].[Next_Coupon_Date] AS [Next_Coupon_Date], 
        [Extent1].[Previous_Coupon_Date] AS [Previous_Coupon_Date], 
        [Extent1].[Payment_Frequency] AS [Payment_Frequency], 
        [Extent1].[Coupon_BusDay_Adjustment] AS [Coupon_BusDay_Adjustment], 
        [Extent1].[Next_Ex_Div_Date] AS [Next_Ex_Div_Date], 
        [Extent1].[Ex_Div_BusDay_Adjustment] AS [Ex_Div_BusDay_Adjustment], 
        [Extent1].[Ex_Div_Period] AS [Ex_Div_Period], 
        [Extent1].[Ticker] AS [Ticker], 
        [Extent1].[Inet_ID] AS [Inet_ID], 
        [Extent1].[Bloomberg_ID] AS [Bloomberg_ID], 
        [Extent1].[External_Sec_ID] AS [External_Sec_ID], 
        [Extent1].[Reuters_ID] AS [Reuters_ID], 
        [Extent1].[ISIN] AS [ISIN], 
        [Extent1].[Call_Account_Flag] AS [Call_Account_Flag], 
        [Extent1].[System_Locked] AS [System_Locked], 
        [Extent1].[Last_Update_User] AS [Last_Update_User], 
        [Extent1].[Last_Update_Date] AS [Last_Update_Date], 
        [Extent1].[Security_Status] AS [Security_Status], 
        [Extent1].[Benchmark_Portfolio] AS [Benchmark_Portfolio], 
        [Extent1].[Active_flag] AS [Active_flag], 
        [Extent1].[Dividend_FX_Security_ID] AS [Dividend_FX_Security_ID]
        FROM [dbo].[Security_Detail] AS [Extent1]
        WHERE ([Extent1].[Entity_ID] IN (@p__linq__0,@p__linq__1)) AND ((CASE WHEN ( NOT ((N'' = @p__linq__2) AND (@p__linq__2 IS NOT NULL))) THEN CASE WHEN ([Extent1].[Security_Type_Code] = @p__linq__3) THEN cast(1 as bit) WHEN ( NOT (([Extent1].[Security_Type_Code] = @p__linq__3) AND (0 = (CASE WHEN (@p__linq__3 IS NULL) THEN cast(1 as bit) ELSE cast(0 as bit) END)))) THEN cast(0 as bit) END WHEN ('' <> [Extent1].[Security_Type_Code]) THEN cast(1 as bit) WHEN ('' = [Extent1].[Security_Type_Code]) THEN cast(0 as bit) END) = 1)
    )  AS [Project1]
    ORDER BY [Project1].[Security_Name] ASC
2018-04-07 18:54:25.2343|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: SELECT 
    [Project1].[Security_ID] AS [Security_ID], 
    [Project1].[Entity_ID] AS [Entity_ID], 
    [Project1].[Security_Name] AS [Security_Name], 
    [Project1].[Short_Name] AS [Short_Name], 
    [Project1].[Primary_Exch] AS [Primary_Exch], 
    [Project1].[Secondary_Exch] AS [Secondary_Exch], 
    [Project1].[Country_Of_Domicile] AS [Country_Of_Domicile], 
    [Project1].[Country_Of_Risk] AS [Country_Of_Risk], 
    [Project1].[Security_Type_Code] AS [Security_Type_Code], 
    [Project1].[Price_Multiplier] AS [Price_Multiplier], 
    [Project1].[Income_Frequency] AS [Income_Frequency], 
    [Project1].[Issuer_Code] AS [Issuer_Code], 
    [Project1].[Ultimate_Issuer_Code] AS [Ultimate_Issuer_Code], 
    [Project1].[Asset_Currency] AS [Asset_Currency], 
    [Project1].[Min_Lot_Size] AS [Min_Lot_Size], 
    [Project1].[Decimal_Precision] AS [Decimal_Precision], 
    [Project1].[AvePrice_Rounding] AS [AvePrice_Rounding], 
    [Project1].[Issue_Date] AS [Issue_Date], 
    [Project1].[Maturity_Date] AS [Maturity_Date], 
    [Project1].[Coupon_Rate] AS [Coupon_Rate], 
    [Project1].[Price_Exchange] AS [Price_Exchange], 
    [Project1].[Trade_Currency] AS [Trade_Currency], 
    [Project1].[Price_Curr] AS [Price_Curr], 
    [Project1].[Currency_Pair_Code] AS [Currency_Pair_Code], 
    [Project1].[Share_Class] AS [Share_Class], 
    [Project1].[Current_Market_Price] AS [Current_Market_Price], 
    [Project1].[Index_Type] AS [Index_Type], 
    [Project1].[Clean_Price_Formula] AS [Clean_Price_Formula], 
    [Project1].[Accrued_Income_Price_Formula] AS [Accrued_Income_Price_Formula], 
    [Project1].[Odd_First_Coupon_Date] AS [Odd_First_Coupon_Date], 
    [Project1].[Odd_Last_Coupon_Date] AS [Odd_Last_Coupon_Date], 
    [Project1].[Coupon_Anniversary_Indicator] AS [Coupon_Anniversary_Indicator], 
    [Project1].[Track_EOM_Flag] AS [Track_EOM_Flag], 
    [Project1].[Next_Coupon_Date] AS [Next_Coupon_Date], 
    [Project1].[Previous_Coupon_Date] AS [Previous_Coupon_Date], 
    [Project1].[Payment_Frequency] AS [Payment_Frequency], 
    [Project1].[Coupon_BusDay_Adjustment] AS [Coupon_BusDay_Adjustment], 
    [Project1].[Next_Ex_Div_Date] AS [Next_Ex_Div_Date], 
    [Project1].[Ex_Div_BusDay_Adjustment] AS [Ex_Div_BusDay_Adjustment], 
    [Project1].[Ex_Div_Period] AS [Ex_Div_Period], 
    [Project1].[Ticker] AS [Ticker], 
    [Project1].[Inet_ID] AS [Inet_ID], 
    [Project1].[Bloomberg_ID] AS [Bloomberg_ID], 
    [Project1].[External_Sec_ID] AS [External_Sec_ID], 
    [Project1].[Reuters_ID] AS [Reuters_ID], 
    [Project1].[ISIN] AS [ISIN], 
    [Project1].[Call_Account_Flag] AS [Call_Account_Flag], 
    [Project1].[System_Locked] AS [System_Locked], 
    [Project1].[Last_Update_User] AS [Last_Update_User], 
    [Project1].[Last_Update_Date] AS [Last_Update_Date], 
    [Project1].[Security_Status] AS [Security_Status], 
    [Project1].[Benchmark_Portfolio] AS [Benchmark_Portfolio], 
    [Project1].[Active_flag] AS [Active_flag], 
    [Project1].[Dividend_FX_Security_ID] AS [Dividend_FX_Security_ID]
    FROM ( SELECT 
        [Extent1].[Security_ID] AS [Security_ID], 
        [Extent1].[Entity_ID] AS [Entity_ID], 
        [Extent1].[Security_Name] AS [Security_Name], 
        [Extent1].[Short_Name] AS [Short_Name], 
        [Extent1].[Primary_Exch] AS [Primary_Exch], 
        [Extent1].[Secondary_Exch] AS [Secondary_Exch], 
        [Extent1].[Country_Of_Domicile] AS [Country_Of_Domicile], 
        [Extent1].[Country_Of_Risk] AS [Country_Of_Risk], 
        [Extent1].[Security_Type_Code] AS [Security_Type_Code], 
        [Extent1].[Price_Multiplier] AS [Price_Multiplier], 
        [Extent1].[Income_Frequency] AS [Income_Frequency], 
        [Extent1].[Issuer_Code] AS [Issuer_Code], 
        [Extent1].[Ultimate_Issuer_Code] AS [Ultimate_Issuer_Code], 
        [Extent1].[Asset_Currency] AS [Asset_Currency], 
        [Extent1].[Min_Lot_Size] AS [Min_Lot_Size], 
        [Extent1].[Decimal_Precision] AS [Decimal_Precision], 
        [Extent1].[AvePrice_Rounding] AS [AvePrice_Rounding], 
        [Extent1].[Issue_Date] AS [Issue_Date], 
        [Extent1].[Maturity_Date] AS [Maturity_Date], 
        [Extent1].[Coupon_Rate] AS [Coupon_Rate], 
        [Extent1].[Price_Exchange] AS [Price_Exchange], 
        [Extent1].[Trade_Currency] AS [Trade_Currency], 
        [Extent1].[Price_Curr] AS [Price_Curr], 
        [Extent1].[Currency_Pair_Code] AS [Currency_Pair_Code], 
        [Extent1].[Share_Class] AS [Share_Class], 
        [Extent1].[Current_Market_Price] AS [Current_Market_Price], 
        [Extent1].[Index_Type] AS [Index_Type], 
        [Extent1].[Clean_Price_Formula] AS [Clean_Price_Formula], 
        [Extent1].[Accrued_Income_Price_Formula] AS [Accrued_Income_Price_Formula], 
        [Extent1].[Odd_First_Coupon_Date] AS [Odd_First_Coupon_Date], 
        [Extent1].[Odd_Last_Coupon_Date] AS [Odd_Last_Coupon_Date], 
        [Extent1].[Coupon_Anniversary_Indicator] AS [Coupon_Anniversary_Indicator], 
        [Extent1].[Track_EOM_Flag] AS [Track_EOM_Flag], 
        [Extent1].[Next_Coupon_Date] AS [Next_Coupon_Date], 
        [Extent1].[Previous_Coupon_Date] AS [Previous_Coupon_Date], 
        [Extent1].[Payment_Frequency] AS [Payment_Frequency], 
        [Extent1].[Coupon_BusDay_Adjustment] AS [Coupon_BusDay_Adjustment], 
        [Extent1].[Next_Ex_Div_Date] AS [Next_Ex_Div_Date], 
        [Extent1].[Ex_Div_BusDay_Adjustment] AS [Ex_Div_BusDay_Adjustment], 
        [Extent1].[Ex_Div_Period] AS [Ex_Div_Period], 
        [Extent1].[Ticker] AS [Ticker], 
        [Extent1].[Inet_ID] AS [Inet_ID], 
        [Extent1].[Bloomberg_ID] AS [Bloomberg_ID], 
        [Extent1].[External_Sec_ID] AS [External_Sec_ID], 
        [Extent1].[Reuters_ID] AS [Reuters_ID], 
        [Extent1].[ISIN] AS [ISIN], 
        [Extent1].[Call_Account_Flag] AS [Call_Account_Flag], 
        [Extent1].[System_Locked] AS [System_Locked], 
        [Extent1].[Last_Update_User] AS [Last_Update_User], 
        [Extent1].[Last_Update_Date] AS [Last_Update_Date], 
        [Extent1].[Security_Status] AS [Security_Status], 
        [Extent1].[Benchmark_Portfolio] AS [Benchmark_Portfolio], 
        [Extent1].[Active_flag] AS [Active_flag], 
        [Extent1].[Dividend_FX_Security_ID] AS [Dividend_FX_Security_ID]
        FROM [dbo].[Security_Detail] AS [Extent1]
        WHERE ([Extent1].[Entity_ID] IN (@p__linq__0,@p__linq__1)) AND ((CASE WHEN ( NOT ((N'' = @p__linq__2) AND (@p__linq__2 IS NOT NULL))) THEN CASE WHEN ([Extent1].[Security_Type_Code] = @p__linq__3) THEN cast(1 as bit) WHEN ( NOT (([Extent1].[Security_Type_Code] = @p__linq__3) AND (0 = (CASE WHEN (@p__linq__3 IS NULL) THEN cast(1 as bit) ELSE cast(0 as bit) END)))) THEN cast(0 as bit) END WHEN ('' <> [Extent1].[Security_Type_Code]) THEN cast(1 as bit) WHEN ('' = [Extent1].[Security_Type_Code]) THEN cast(0 as bit) END) = 1)
    )  AS [Project1]
    ORDER BY [Project1].[Security_Name] ASC
2018-04-07 18:54:25.3219|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: SELECT 
    [Project1].[Security_ID] AS [Security_ID], 
    [Project1].[Entity_ID] AS [Entity_ID], 
    [Project1].[Security_Name] AS [Security_Name], 
    [Project1].[Short_Name] AS [Short_Name], 
    [Project1].[Primary_Exch] AS [Primary_Exch], 
    [Project1].[Secondary_Exch] AS [Secondary_Exch], 
    [Project1].[Country_Of_Domicile] AS [Country_Of_Domicile], 
    [Project1].[Country_Of_Risk] AS [Country_Of_Risk], 
    [Project1].[Security_Type_Code] AS [Security_Type_Code], 
    [Project1].[Price_Multiplier] AS [Price_Multiplier], 
    [Project1].[Income_Frequency] AS [Income_Frequency], 
    [Project1].[Issuer_Code] AS [Issuer_Code], 
    [Project1].[Ultimate_Issuer_Code] AS [Ultimate_Issuer_Code], 
    [Project1].[Asset_Currency] AS [Asset_Currency], 
    [Project1].[Min_Lot_Size] AS [Min_Lot_Size], 
    [Project1].[Decimal_Precision] AS [Decimal_Precision], 
    [Project1].[AvePrice_Rounding] AS [AvePrice_Rounding], 
    [Project1].[Issue_Date] AS [Issue_Date], 
    [Project1].[Maturity_Date] AS [Maturity_Date], 
    [Project1].[Coupon_Rate] AS [Coupon_Rate], 
    [Project1].[Price_Exchange] AS [Price_Exchange], 
    [Project1].[Trade_Currency] AS [Trade_Currency], 
    [Project1].[Price_Curr] AS [Price_Curr], 
    [Project1].[Currency_Pair_Code] AS [Currency_Pair_Code], 
    [Project1].[Share_Class] AS [Share_Class], 
    [Project1].[Current_Market_Price] AS [Current_Market_Price], 
    [Project1].[Index_Type] AS [Index_Type], 
    [Project1].[Clean_Price_Formula] AS [Clean_Price_Formula], 
    [Project1].[Accrued_Income_Price_Formula] AS [Accrued_Income_Price_Formula], 
    [Project1].[Odd_First_Coupon_Date] AS [Odd_First_Coupon_Date], 
    [Project1].[Odd_Last_Coupon_Date] AS [Odd_Last_Coupon_Date], 
    [Project1].[Coupon_Anniversary_Indicator] AS [Coupon_Anniversary_Indicator], 
    [Project1].[Track_EOM_Flag] AS [Track_EOM_Flag], 
    [Project1].[Next_Coupon_Date] AS [Next_Coupon_Date], 
    [Project1].[Previous_Coupon_Date] AS [Previous_Coupon_Date], 
    [Project1].[Payment_Frequency] AS [Payment_Frequency], 
    [Project1].[Coupon_BusDay_Adjustment] AS [Coupon_BusDay_Adjustment], 
    [Project1].[Next_Ex_Div_Date] AS [Next_Ex_Div_Date], 
    [Project1].[Ex_Div_BusDay_Adjustment] AS [Ex_Div_BusDay_Adjustment], 
    [Project1].[Ex_Div_Period] AS [Ex_Div_Period], 
    [Project1].[Ticker] AS [Ticker], 
    [Project1].[Inet_ID] AS [Inet_ID], 
    [Project1].[Bloomberg_ID] AS [Bloomberg_ID], 
    [Project1].[External_Sec_ID] AS [External_Sec_ID], 
    [Project1].[Reuters_ID] AS [Reuters_ID], 
    [Project1].[ISIN] AS [ISIN], 
    [Project1].[Call_Account_Flag] AS [Call_Account_Flag], 
    [Project1].[System_Locked] AS [System_Locked], 
    [Project1].[Last_Update_User] AS [Last_Update_User], 
    [Project1].[Last_Update_Date] AS [Last_Update_Date], 
    [Project1].[Security_Status] AS [Security_Status], 
    [Project1].[Benchmark_Portfolio] AS [Benchmark_Portfolio], 
    [Project1].[Active_flag] AS [Active_flag], 
    [Project1].[Dividend_FX_Security_ID] AS [Dividend_FX_Security_ID]
    FROM ( SELECT 
        [Extent1].[Security_ID] AS [Security_ID], 
        [Extent1].[Entity_ID] AS [Entity_ID], 
        [Extent1].[Security_Name] AS [Security_Name], 
        [Extent1].[Short_Name] AS [Short_Name], 
        [Extent1].[Primary_Exch] AS [Primary_Exch], 
        [Extent1].[Secondary_Exch] AS [Secondary_Exch], 
        [Extent1].[Country_Of_Domicile] AS [Country_Of_Domicile], 
        [Extent1].[Country_Of_Risk] AS [Country_Of_Risk], 
        [Extent1].[Security_Type_Code] AS [Security_Type_Code], 
        [Extent1].[Price_Multiplier] AS [Price_Multiplier], 
        [Extent1].[Income_Frequency] AS [Income_Frequency], 
        [Extent1].[Issuer_Code] AS [Issuer_Code], 
        [Extent1].[Ultimate_Issuer_Code] AS [Ultimate_Issuer_Code], 
        [Extent1].[Asset_Currency] AS [Asset_Currency], 
        [Extent1].[Min_Lot_Size] AS [Min_Lot_Size], 
        [Extent1].[Decimal_Precision] AS [Decimal_Precision], 
        [Extent1].[AvePrice_Rounding] AS [AvePrice_Rounding], 
        [Extent1].[Issue_Date] AS [Issue_Date], 
        [Extent1].[Maturity_Date] AS [Maturity_Date], 
        [Extent1].[Coupon_Rate] AS [Coupon_Rate], 
        [Extent1].[Price_Exchange] AS [Price_Exchange], 
        [Extent1].[Trade_Currency] AS [Trade_Currency], 
        [Extent1].[Price_Curr] AS [Price_Curr], 
        [Extent1].[Currency_Pair_Code] AS [Currency_Pair_Code], 
        [Extent1].[Share_Class] AS [Share_Class], 
        [Extent1].[Current_Market_Price] AS [Current_Market_Price], 
        [Extent1].[Index_Type] AS [Index_Type], 
        [Extent1].[Clean_Price_Formula] AS [Clean_Price_Formula], 
        [Extent1].[Accrued_Income_Price_Formula] AS [Accrued_Income_Price_Formula], 
        [Extent1].[Odd_First_Coupon_Date] AS [Odd_First_Coupon_Date], 
        [Extent1].[Odd_Last_Coupon_Date] AS [Odd_Last_Coupon_Date], 
        [Extent1].[Coupon_Anniversary_Indicator] AS [Coupon_Anniversary_Indicator], 
        [Extent1].[Track_EOM_Flag] AS [Track_EOM_Flag], 
        [Extent1].[Next_Coupon_Date] AS [Next_Coupon_Date], 
        [Extent1].[Previous_Coupon_Date] AS [Previous_Coupon_Date], 
        [Extent1].[Payment_Frequency] AS [Payment_Frequency], 
        [Extent1].[Coupon_BusDay_Adjustment] AS [Coupon_BusDay_Adjustment], 
        [Extent1].[Next_Ex_Div_Date] AS [Next_Ex_Div_Date], 
        [Extent1].[Ex_Div_BusDay_Adjustment] AS [Ex_Div_BusDay_Adjustment], 
        [Extent1].[Ex_Div_Period] AS [Ex_Div_Period], 
        [Extent1].[Ticker] AS [Ticker], 
        [Extent1].[Inet_ID] AS [Inet_ID], 
        [Extent1].[Bloomberg_ID] AS [Bloomberg_ID], 
        [Extent1].[External_Sec_ID] AS [External_Sec_ID], 
        [Extent1].[Reuters_ID] AS [Reuters_ID], 
        [Extent1].[ISIN] AS [ISIN], 
        [Extent1].[Call_Account_Flag] AS [Call_Account_Flag], 
        [Extent1].[System_Locked] AS [System_Locked], 
        [Extent1].[Last_Update_User] AS [Last_Update_User], 
        [Extent1].[Last_Update_Date] AS [Last_Update_Date], 
        [Extent1].[Security_Status] AS [Security_Status], 
        [Extent1].[Benchmark_Portfolio] AS [Benchmark_Portfolio], 
        [Extent1].[Active_flag] AS [Active_flag], 
        [Extent1].[Dividend_FX_Security_ID] AS [Dividend_FX_Security_ID]
        FROM [dbo].[Security_Detail] AS [Extent1]
        WHERE ([Extent1].[Entity_ID] IN (@p__linq__0,@p__linq__1)) AND ((CASE WHEN ( NOT ((N'' = @p__linq__2) AND (@p__linq__2 IS NOT NULL))) THEN CASE WHEN ([Extent1].[Security_Type_Code] = @p__linq__3) THEN cast(1 as bit) WHEN ( NOT (([Extent1].[Security_Type_Code] = @p__linq__3) AND (0 = (CASE WHEN (@p__linq__3 IS NULL) THEN cast(1 as bit) ELSE cast(0 as bit) END)))) THEN cast(0 as bit) END WHEN ('' <> [Extent1].[Security_Type_Code]) THEN cast(1 as bit) WHEN ('' = [Extent1].[Security_Type_Code]) THEN cast(0 as bit) END) = 1)
    )  AS [Project1]
    ORDER BY [Project1].[Security_Name] ASC
2018-04-07 18:54:25.3464|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: SELECT 
    [Project1].[Security_ID] AS [Security_ID], 
    [Project1].[Entity_ID] AS [Entity_ID], 
    [Project1].[Security_Name] AS [Security_Name], 
    [Project1].[Short_Name] AS [Short_Name], 
    [Project1].[Primary_Exch] AS [Primary_Exch], 
    [Project1].[Secondary_Exch] AS [Secondary_Exch], 
    [Project1].[Country_Of_Domicile] AS [Country_Of_Domicile], 
    [Project1].[Country_Of_Risk] AS [Country_Of_Risk], 
    [Project1].[Security_Type_Code] AS [Security_Type_Code], 
    [Project1].[Price_Multiplier] AS [Price_Multiplier], 
    [Project1].[Income_Frequency] AS [Income_Frequency], 
    [Project1].[Issuer_Code] AS [Issuer_Code], 
    [Project1].[Ultimate_Issuer_Code] AS [Ultimate_Issuer_Code], 
    [Project1].[Asset_Currency] AS [Asset_Currency], 
    [Project1].[Min_Lot_Size] AS [Min_Lot_Size], 
    [Project1].[Decimal_Precision] AS [Decimal_Precision], 
    [Project1].[AvePrice_Rounding] AS [AvePrice_Rounding], 
    [Project1].[Issue_Date] AS [Issue_Date], 
    [Project1].[Maturity_Date] AS [Maturity_Date], 
    [Project1].[Coupon_Rate] AS [Coupon_Rate], 
    [Project1].[Price_Exchange] AS [Price_Exchange], 
    [Project1].[Trade_Currency] AS [Trade_Currency], 
    [Project1].[Price_Curr] AS [Price_Curr], 
    [Project1].[Currency_Pair_Code] AS [Currency_Pair_Code], 
    [Project1].[Share_Class] AS [Share_Class], 
    [Project1].[Current_Market_Price] AS [Current_Market_Price], 
    [Project1].[Index_Type] AS [Index_Type], 
    [Project1].[Clean_Price_Formula] AS [Clean_Price_Formula], 
    [Project1].[Accrued_Income_Price_Formula] AS [Accrued_Income_Price_Formula], 
    [Project1].[Odd_First_Coupon_Date] AS [Odd_First_Coupon_Date], 
    [Project1].[Odd_Last_Coupon_Date] AS [Odd_Last_Coupon_Date], 
    [Project1].[Coupon_Anniversary_Indicator] AS [Coupon_Anniversary_Indicator], 
    [Project1].[Track_EOM_Flag] AS [Track_EOM_Flag], 
    [Project1].[Next_Coupon_Date] AS [Next_Coupon_Date], 
    [Project1].[Previous_Coupon_Date] AS [Previous_Coupon_Date], 
    [Project1].[Payment_Frequency] AS [Payment_Frequency], 
    [Project1].[Coupon_BusDay_Adjustment] AS [Coupon_BusDay_Adjustment], 
    [Project1].[Next_Ex_Div_Date] AS [Next_Ex_Div_Date], 
    [Project1].[Ex_Div_BusDay_Adjustment] AS [Ex_Div_BusDay_Adjustment], 
    [Project1].[Ex_Div_Period] AS [Ex_Div_Period], 
    [Project1].[Ticker] AS [Ticker], 
    [Project1].[Inet_ID] AS [Inet_ID], 
    [Project1].[Bloomberg_ID] AS [Bloomberg_ID], 
    [Project1].[External_Sec_ID] AS [External_Sec_ID], 
    [Project1].[Reuters_ID] AS [Reuters_ID], 
    [Project1].[ISIN] AS [ISIN], 
    [Project1].[Call_Account_Flag] AS [Call_Account_Flag], 
    [Project1].[System_Locked] AS [System_Locked], 
    [Project1].[Last_Update_User] AS [Last_Update_User], 
    [Project1].[Last_Update_Date] AS [Last_Update_Date], 
    [Project1].[Security_Status] AS [Security_Status], 
    [Project1].[Benchmark_Portfolio] AS [Benchmark_Portfolio], 
    [Project1].[Active_flag] AS [Active_flag], 
    [Project1].[Dividend_FX_Security_ID] AS [Dividend_FX_Security_ID]
    FROM ( SELECT 
        [Extent1].[Security_ID] AS [Security_ID], 
        [Extent1].[Entity_ID] AS [Entity_ID], 
        [Extent1].[Security_Name] AS [Security_Name], 
        [Extent1].[Short_Name] AS [Short_Name], 
        [Extent1].[Primary_Exch] AS [Primary_Exch], 
        [Extent1].[Secondary_Exch] AS [Secondary_Exch], 
        [Extent1].[Country_Of_Domicile] AS [Country_Of_Domicile], 
        [Extent1].[Country_Of_Risk] AS [Country_Of_Risk], 
        [Extent1].[Security_Type_Code] AS [Security_Type_Code], 
        [Extent1].[Price_Multiplier] AS [Price_Multiplier], 
        [Extent1].[Income_Frequency] AS [Income_Frequency], 
        [Extent1].[Issuer_Code] AS [Issuer_Code], 
        [Extent1].[Ultimate_Issuer_Code] AS [Ultimate_Issuer_Code], 
        [Extent1].[Asset_Currency] AS [Asset_Currency], 
        [Extent1].[Min_Lot_Size] AS [Min_Lot_Size], 
        [Extent1].[Decimal_Precision] AS [Decimal_Precision], 
        [Extent1].[AvePrice_Rounding] AS [AvePrice_Rounding], 
        [Extent1].[Issue_Date] AS [Issue_Date], 
        [Extent1].[Maturity_Date] AS [Maturity_Date], 
        [Extent1].[Coupon_Rate] AS [Coupon_Rate], 
        [Extent1].[Price_Exchange] AS [Price_Exchange], 
        [Extent1].[Trade_Currency] AS [Trade_Currency], 
        [Extent1].[Price_Curr] AS [Price_Curr], 
        [Extent1].[Currency_Pair_Code] AS [Currency_Pair_Code], 
        [Extent1].[Share_Class] AS [Share_Class], 
        [Extent1].[Current_Market_Price] AS [Current_Market_Price], 
        [Extent1].[Index_Type] AS [Index_Type], 
        [Extent1].[Clean_Price_Formula] AS [Clean_Price_Formula], 
        [Extent1].[Accrued_Income_Price_Formula] AS [Accrued_Income_Price_Formula], 
        [Extent1].[Odd_First_Coupon_Date] AS [Odd_First_Coupon_Date], 
        [Extent1].[Odd_Last_Coupon_Date] AS [Odd_Last_Coupon_Date], 
        [Extent1].[Coupon_Anniversary_Indicator] AS [Coupon_Anniversary_Indicator], 
        [Extent1].[Track_EOM_Flag] AS [Track_EOM_Flag], 
        [Extent1].[Next_Coupon_Date] AS [Next_Coupon_Date], 
        [Extent1].[Previous_Coupon_Date] AS [Previous_Coupon_Date], 
        [Extent1].[Payment_Frequency] AS [Payment_Frequency], 
        [Extent1].[Coupon_BusDay_Adjustment] AS [Coupon_BusDay_Adjustment], 
        [Extent1].[Next_Ex_Div_Date] AS [Next_Ex_Div_Date], 
        [Extent1].[Ex_Div_BusDay_Adjustment] AS [Ex_Div_BusDay_Adjustment], 
        [Extent1].[Ex_Div_Period] AS [Ex_Div_Period], 
        [Extent1].[Ticker] AS [Ticker], 
        [Extent1].[Inet_ID] AS [Inet_ID], 
        [Extent1].[Bloomberg_ID] AS [Bloomberg_ID], 
        [Extent1].[External_Sec_ID] AS [External_Sec_ID], 
        [Extent1].[Reuters_ID] AS [Reuters_ID], 
        [Extent1].[ISIN] AS [ISIN], 
        [Extent1].[Call_Account_Flag] AS [Call_Account_Flag], 
        [Extent1].[System_Locked] AS [System_Locked], 
        [Extent1].[Last_Update_User] AS [Last_Update_User], 
        [Extent1].[Last_Update_Date] AS [Last_Update_Date], 
        [Extent1].[Security_Status] AS [Security_Status], 
        [Extent1].[Benchmark_Portfolio] AS [Benchmark_Portfolio], 
        [Extent1].[Active_flag] AS [Active_flag], 
        [Extent1].[Dividend_FX_Security_ID] AS [Dividend_FX_Security_ID]
        FROM [dbo].[Security_Detail] AS [Extent1]
        WHERE ([Extent1].[Entity_ID] IN (@p__linq__0,@p__linq__1)) AND ((CASE WHEN ( NOT ((N'' = @p__linq__2) AND (@p__linq__2 IS NOT NULL))) THEN CASE WHEN ([Extent1].[Security_Type_Code] = @p__linq__3) THEN cast(1 as bit) WHEN ( NOT (([Extent1].[Security_Type_Code] = @p__linq__3) AND (0 = (CASE WHEN (@p__linq__3 IS NULL) THEN cast(1 as bit) ELSE cast(0 as bit) END)))) THEN cast(0 as bit) END WHEN ('' <> [Extent1].[Security_Type_Code]) THEN cast(1 as bit) WHEN ('' = [Extent1].[Security_Type_Code]) THEN cast(0 as bit) END) = 1)
    )  AS [Project1]
    ORDER BY [Project1].[Security_Name] ASC
2018-04-07 18:54:25.4259|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: IF db_id(N'MetopeAzureDb') IS NOT NULL SELECT 1 ELSE SELECT Count(*) FROM sys.databases WHERE [name]=N'MetopeAzureDb'
2018-04-07 18:54:25.4545|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: IF db_id(N'MetopeAzureDb') IS NOT NULL SELECT 1 ELSE SELECT Count(*) FROM sys.databases WHERE [name]=N'MetopeAzureDb'
2018-04-07 18:54:25.4965|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: IF db_id(N'MetopeAzureDb') IS NOT NULL SELECT 1 ELSE SELECT Count(*) FROM sys.databases WHERE [name]=N'MetopeAzureDb'
2018-04-07 18:54:25.5215|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: IF db_id(N'MetopeAzureDb') IS NOT NULL SELECT 1 ELSE SELECT Count(*) FROM sys.databases WHERE [name]=N'MetopeAzureDb'
2018-04-07 18:54:29.7164|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: SELECT 
    [Project1].[Decimal_Precision] AS [Decimal_Precision], 
    [Project1].[Entity_ID] AS [Entity_ID], 
    [Project1].[Security_ID] AS [Security_ID], 
    [Project1].[Issued_Amount] AS [Issued_Amount], 
    [Project1].[Market_Capitalisation] AS [Market_Capitalisation], 
    [Project1].[Risk_Premium] AS [Risk_Premium], 
    [Project1].[Exit_Price] AS [Exit_Price], 
    [Project1].[Total_Return_ME_1YR] AS [Total_Return_ME_1YR], 
    [Project1].[Total_Return_ME_2YR] AS [Total_Return_ME_2YR], 
    [Project1].[Total_Return_ME_3YR] AS [Total_Return_ME_3YR], 
    [Project1].[Historic_Distribution] AS [Historic_Distribution], 
    [Project1].[Distribution_Growth_Forecast_Yr1] AS [Distribution_Growth_Forecast_Yr1], 
    [Project1].[Distribution_Growth_Forecast_Yr2] AS [Distribution_Growth_Forecast_Yr2], 
    [Project1].[Distribution_Growth_Forecast_Yr3] AS [Distribution_Growth_Forecast_Yr3], 
    [Project1].[Forecast_Distribution_Yr1] AS [Forecast_Distribution_Yr1], 
    [Project1].[Forecast_Distribution_Yr2] AS [Forecast_Distribution_Yr2], 
    [Project1].[Forecast_Distribution_Yr3] AS [Forecast_Distribution_Yr3], 
    [Project1].[Earnings_Growth_Compounded] AS [Earnings_Growth_Compounded], 
    [Project1].[Earnings_Forecast_Yr3] AS [Earnings_Forecast_Yr3], 
    [Project1].[Historic_Dividend_Yield_FYE] AS [Historic_Dividend_Yield_FYE], 
    [Project1].[Forward_Dividend_Yield_FYE] AS [Forward_Dividend_Yield_FYE], 
    [Project1].[Yr3_Forward_Dividend_Yield] AS [Yr3_Forward_Dividend_Yield], 
    [Project1].[Rolling_12M_Forward_Yield] AS [Rolling_12M_Forward_Yield], 
    [Project1].[Historical_Earnings_FYE] AS [Historical_Earnings_FYE], 
    [Project1].[Earnings_Forecast_Yr1] AS [Earnings_Forecast_Yr1], 
    [Project1].[Earnings_Forecast_Yr2] AS [Earnings_Forecast_Yr2], 
    [Project1].[Historic_Dividend_Yield_Relative] AS [Historic_Dividend_Yield_Relative], 
    [Project1].[Rolling_12M_Historic_Distribution_PriceCurr] AS [Rolling_12M_Historic_Distribution_PriceCurr], 
    [Project1].[Short_Term_Market_Rerate] AS [Short_Term_Market_Rerate], 
    [Project1].[Forecast_12M_Total_Return] AS [Forecast_12M_Total_Return], 
    [Project1].[Clean_Price] AS [Clean_Price], 
    [Project1].[Rolling_Dividend_Yield_Historic] AS [Rolling_Dividend_Yield_Historic], 
    [Project1].[Last_Update_Date] AS [Last_Update_Date], 
    [Project1].[Last_Update_User] AS [Last_Update_User], 
    [Project1].[Discount_Security_ID] AS [Discount_Security_ID], 
    [Project1].[Net_Present_Value] AS [Net_Present_Value], 
    [Project1].[Forecast_Rolling_Custom_Income] AS [Forecast_Rolling_Custom_Income], 
    [Project1].[Custom_Period] AS [Custom_Period], 
    [Project1].[Rolling_12M_Historic_Distribution] AS [Rolling_12M_Historic_Distribution], 
    [Project1].[Record_Date] AS [Record_Date], 
    [Project1].[Session_ID] AS [Session_ID], 
    [Project1].[Hist_Last_Update_Date] AS [Hist_Last_Update_Date], 
    [Project1].[Hist_Last_Update_User] AS [Hist_Last_Update_User], 
    [Project1].[Rolling_12M_Forecast_Distribution] AS [Rolling_12M_Forecast_Distribution], 
    [Project1].[Yr2_Forward_Dividend_Yield] AS [Yr2_Forward_Dividend_Yield], 
    [Project1].[Exit_Yield] AS [Exit_Yield], 
    [Project1].[Discount_Rate] AS [Discount_Rate], 
    [Project1].[Distribution_Growth_Compounded] AS [Distribution_Growth_Compounded], 
    [Project1].[Forecast_12MRolling_Income_Accrual] AS [Forecast_12MRolling_Income_Accrual], 
    [Project1].[Rolling_12_to_24M_Forecast_Distribution] AS [Rolling_12_to_24M_Forecast_Distribution], 
    [Project1].[Rolling_24_to_36M_Forecast_Distribution] AS [Rolling_24_to_36M_Forecast_Distribution], 
    [Project1].[Forecast_Yr1_Dividend_Yield_Relative] AS [Forecast_Yr1_Dividend_Yield_Relative], 
    [Project1].[Market_Historic_Yield] AS [Market_Historic_Yield], 
    [Project1].[Market_Forward_Yield] AS [Market_Forward_Yield], 
    [Project1].[Historic_Distribution_PriceCurr] AS [Historic_Distribution_PriceCurr], 
    [Project1].[Forecast_Distribution_Yr1_PriceCurr] AS [Forecast_Distribution_Yr1_PriceCurr], 
    [Project1].[Forecast_Distribution_Yr2_PriceCurr] AS [Forecast_Distribution_Yr2_PriceCurr], 
    [Project1].[Forecast_Distribution_Yr3_PriceCurr] AS [Forecast_Distribution_Yr3_PriceCurr], 
    [Project1].[Rolling_12M_Forecast_Distribution_PriceCurr] AS [Rolling_12M_Forecast_Distribution_PriceCurr], 
    [Project1].[Rolling_12_24M_Forecast_Distribution_PriceCurr] AS [Rolling_12_24M_Forecast_Distribution_PriceCurr], 
    [Project1].[Rolling_24_36M_Forecast_Distribution_PriceCurr] AS [Rolling_24_36M_Forecast_Distribution_PriceCurr], 
    [Project1].[Distribution_Growth_Forecast_Yr4] AS [Distribution_Growth_Forecast_Yr4], 
    [Project1].[Earnings_Forecast_Yr4] AS [Earnings_Forecast_Yr4], 
    [Project1].[Forecast_Distribution_Yr4] AS [Forecast_Distribution_Yr4], 
    [Project1].[Forecast_Distribution_Yr4_PriceCurr] AS [Forecast_Distribution_Yr4_PriceCurr], 
    [Project1].[Security_ID1] AS [Security_ID1], 
    [Project1].[Entity_ID1] AS [Entity_ID1], 
    [Project1].[Security_Name] AS [Security_Name], 
    [Project1].[Short_Name] AS [Short_Name], 
    [Project1].[Primary_Exch] AS [Primary_Exch], 
    [Project1].[Secondary_Exch] AS [Secondary_Exch], 
    [Project1].[Country_Of_Domicile] AS [Country_Of_Domicile], 
    [Project1].[Country_Of_Risk] AS [Country_Of_Risk], 
    [Project1].[Security_Type_Code] AS [Security_Type_Code], 
    [Project1].[Price_Multiplier] AS [Price_Multiplier], 
    [Project1].[Income_Frequency] AS [Income_Frequency], 
    [Project1].[Issuer_Code] AS [Issuer_Code], 
    [Project1].[Ultimate_Issuer_Code] AS [Ultimate_Issuer_Code], 
    [Project1].[Asset_Currency] AS [Asset_Currency], 
    [Project1].[Min_Lot_Size] AS [Min_Lot_Size], 
    [Project1].[AvePrice_Rounding] AS [AvePrice_Rounding], 
    [Project1].[Issue_Date] AS [Issue_Date], 
    [Project1].[Maturity_Date] AS [Maturity_Date], 
    [Project1].[Coupon_Rate] AS [Coupon_Rate], 
    [Project1].[Price_Exchange] AS [Price_Exchange], 
    [Project1].[Trade_Currency] AS [Trade_Currency], 
    [Project1].[Price_Curr] AS [Price_Curr], 
    [Project1].[Currency_Pair_Code] AS [Currency_Pair_Code], 
    [Project1].[Share_Class] AS [Share_Class], 
    [Project1].[Current_Market_Price] AS [Current_Market_Price], 
    [Project1].[Index_Type] AS [Index_Type], 
    [Project1].[Clean_Price_Formula] AS [Clean_Price_Formula], 
    [Project1].[Accrued_Income_Price_Formula] AS [Accrued_Income_Price_Formula], 
    [Project1].[Odd_First_Coupon_Date] AS [Odd_First_Coupon_Date], 
    [Project1].[Odd_Last_Coupon_Date] AS [Odd_Last_Coupon_Date], 
    [Project1].[Coupon_Anniversary_Indicator] AS [Coupon_Anniversary_Indicator], 
    [Project1].[Track_EOM_Flag] AS [Track_EOM_Flag], 
    [Project1].[Next_Coupon_Date] AS [Next_Coupon_Date], 
    [Project1].[Previous_Coupon_Date] AS [Previous_Coupon_Date], 
    [Project1].[Payment_Frequency] AS [Payment_Frequency], 
    [Project1].[Coupon_BusDay_Adjustment] AS [Coupon_BusDay_Adjustment], 
    [Project1].[Next_Ex_Div_Date] AS [Next_Ex_Div_Date], 
    [Project1].[Ex_Div_BusDay_Adjustment] AS [Ex_Div_BusDay_Adjustment], 
    [Project1].[Ex_Div_Period] AS [Ex_Div_Period], 
    [Project1].[Ticker] AS [Ticker], 
    [Project1].[Inet_ID] AS [Inet_ID], 
    [Project1].[Bloomberg_ID] AS [Bloomberg_ID], 
    [Project1].[External_Sec_ID] AS [External_Sec_ID], 
    [Project1].[Reuters_ID] AS [Reuters_ID], 
    [Project1].[ISIN] AS [ISIN], 
    [Project1].[Call_Account_Flag] AS [Call_Account_Flag], 
    [Project1].[System_Locked] AS [System_Locked], 
    [Project1].[Last_Update_User1] AS [Last_Update_User1], 
    [Project1].[Last_Update_Date1] AS [Last_Update_Date1], 
    [Project1].[Security_Status] AS [Security_Status], 
    [Project1].[Benchmark_Portfolio] AS [Benchmark_Portfolio], 
    [Project1].[Active_flag] AS [Active_flag], 
    [Project1].[Dividend_FX_Security_ID] AS [Dividend_FX_Security_ID]
    FROM ( SELECT 
        [Extent1].[Entity_ID] AS [Entity_ID], 
        [Extent1].[Security_ID] AS [Security_ID], 
        [Extent1].[Issued_Amount] AS [Issued_Amount], 
        [Extent1].[Market_Capitalisation] AS [Market_Capitalisation], 
        [Extent1].[Risk_Premium] AS [Risk_Premium], 
        [Extent1].[Exit_Price] AS [Exit_Price], 
        [Extent1].[Total_Return_ME_1YR] AS [Total_Return_ME_1YR], 
        [Extent1].[Total_Return_ME_2YR] AS [Total_Return_ME_2YR], 
        [Extent1].[Total_Return_ME_3YR] AS [Total_Return_ME_3YR], 
        [Extent1].[Historic_Distribution] AS [Historic_Distribution], 
        [Extent1].[Distribution_Growth_Forecast_Yr1] AS [Distribution_Growth_Forecast_Yr1], 
        [Extent1].[Distribution_Growth_Forecast_Yr2] AS [Distribution_Growth_Forecast_Yr2], 
        [Extent1].[Distribution_Growth_Forecast_Yr3] AS [Distribution_Growth_Forecast_Yr3], 
        [Extent1].[Forecast_Distribution_Yr1] AS [Forecast_Distribution_Yr1], 
        [Extent1].[Forecast_Distribution_Yr2] AS [Forecast_Distribution_Yr2], 
        [Extent1].[Forecast_Distribution_Yr3] AS [Forecast_Distribution_Yr3], 
        [Extent1].[Earnings_Growth_Compounded] AS [Earnings_Growth_Compounded], 
        [Extent1].[Earnings_Forecast_Yr3] AS [Earnings_Forecast_Yr3], 
        [Extent1].[Historic_Dividend_Yield_FYE] AS [Historic_Dividend_Yield_FYE], 
        [Extent1].[Forward_Dividend_Yield_FYE] AS [Forward_Dividend_Yield_FYE], 
        [Extent1].[Yr3_Forward_Dividend_Yield] AS [Yr3_Forward_Dividend_Yield], 
        [Extent1].[Rolling_12M_Forward_Yield] AS [Rolling_12M_Forward_Yield], 
        [Extent1].[Historical_Earnings_FYE] AS [Historical_Earnings_FYE], 
        [Extent1].[Earnings_Forecast_Yr1] AS [Earnings_Forecast_Yr1], 
        [Extent1].[Earnings_Forecast_Yr2] AS [Earnings_Forecast_Yr2], 
        [Extent1].[Historic_Dividend_Yield_Relative] AS [Historic_Dividend_Yield_Relative], 
        [Extent1].[Rolling_12M_Historic_Distribution_PriceCurr] AS [Rolling_12M_Historic_Distribution_PriceCurr], 
        [Extent1].[Short_Term_Market_Rerate] AS [Short_Term_Market_Rerate], 
        [Extent1].[Forecast_12M_Total_Return] AS [Forecast_12M_Total_Return], 
        [Extent1].[Clean_Price] AS [Clean_Price], 
        [Extent1].[Rolling_Dividend_Yield_Historic] AS [Rolling_Dividend_Yield_Historic], 
        [Extent1].[Last_Update_Date] AS [Last_Update_Date], 
        [Extent1].[Last_Update_User] AS [Last_Update_User], 
        [Extent1].[Discount_Security_ID] AS [Discount_Security_ID], 
        [Extent1].[Net_Present_Value] AS [Net_Present_Value], 
        [Extent1].[Forecast_Rolling_Custom_Income] AS [Forecast_Rolling_Custom_Income], 
        [Extent1].[Custom_Period] AS [Custom_Period], 
        [Extent1].[Rolling_12M_Historic_Distribution] AS [Rolling_12M_Historic_Distribution], 
        [Extent1].[Record_Date] AS [Record_Date], 
        [Extent1].[Session_ID] AS [Session_ID], 
        [Extent1].[Hist_Last_Update_Date] AS [Hist_Last_Update_Date], 
        [Extent1].[Hist_Last_Update_User] AS [Hist_Last_Update_User], 
        [Extent1].[Rolling_12M_Forecast_Distribution] AS [Rolling_12M_Forecast_Distribution], 
        [Extent1].[Yr2_Forward_Dividend_Yield] AS [Yr2_Forward_Dividend_Yield], 
        [Extent1].[Exit_Yield] AS [Exit_Yield], 
        [Extent1].[Discount_Rate] AS [Discount_Rate], 
        [Extent1].[Distribution_Growth_Compounded] AS [Distribution_Growth_Compounded], 
        [Extent1].[Forecast_12MRolling_Income_Accrual] AS [Forecast_12MRolling_Income_Accrual], 
        [Extent1].[Rolling_12_to_24M_Forecast_Distribution] AS [Rolling_12_to_24M_Forecast_Distribution], 
        [Extent1].[Rolling_24_to_36M_Forecast_Distribution] AS [Rolling_24_to_36M_Forecast_Distribution], 
        [Extent1].[Forecast_Yr1_Dividend_Yield_Relative] AS [Forecast_Yr1_Dividend_Yield_Relative], 
        [Extent1].[Market_Historic_Yield] AS [Market_Historic_Yield], 
        [Extent1].[Market_Forward_Yield] AS [Market_Forward_Yield], 
        [Extent1].[Historic_Distribution_PriceCurr] AS [Historic_Distribution_PriceCurr], 
        [Extent1].[Forecast_Distribution_Yr1_PriceCurr] AS [Forecast_Distribution_Yr1_PriceCurr], 
        [Extent1].[Forecast_Distribution_Yr2_PriceCurr] AS [Forecast_Distribution_Yr2_PriceCurr], 
        [Extent1].[Forecast_Distribution_Yr3_PriceCurr] AS [Forecast_Distribution_Yr3_PriceCurr], 
        [Extent1].[Rolling_12M_Forecast_Distribution_PriceCurr] AS [Rolling_12M_Forecast_Distribution_PriceCurr], 
        [Extent1].[Rolling_12_24M_Forecast_Distribution_PriceCurr] AS [Rolling_12_24M_Forecast_Distribution_PriceCurr], 
        [Extent1].[Rolling_24_36M_Forecast_Distribution_PriceCurr] AS [Rolling_24_36M_Forecast_Distribution_PriceCurr], 
        [Extent1].[Distribution_Growth_Forecast_Yr4] AS [Distribution_Growth_Forecast_Yr4], 
        [Extent1].[Earnings_Forecast_Yr4] AS [Earnings_Forecast_Yr4], 
        [Extent1].[Forecast_Distribution_Yr4] AS [Forecast_Distribution_Yr4], 
        [Extent1].[Forecast_Distribution_Yr4_PriceCurr] AS [Forecast_Distribution_Yr4_PriceCurr], 
        [Extent2].[Security_ID] AS [Security_ID1], 
        [Extent2].[Entity_ID] AS [Entity_ID1], 
        [Extent2].[Security_Name] AS [Security_Name], 
        [Extent2].[Short_Name] AS [Short_Name], 
        [Extent2].[Primary_Exch] AS [Primary_Exch], 
        [Extent2].[Secondary_Exch] AS [Secondary_Exch], 
        [Extent2].[Country_Of_Domicile] AS [Country_Of_Domicile], 
        [Extent2].[Country_Of_Risk] AS [Country_Of_Risk], 
        [Extent2].[Security_Type_Code] AS [Security_Type_Code], 
        [Extent2].[Price_Multiplier] AS [Price_Multiplier], 
        [Extent2].[Income_Frequency] AS [Income_Frequency], 
        [Extent2].[Issuer_Code] AS [Issuer_Code], 
        [Extent2].[Ultimate_Issuer_Code] AS [Ultimate_Issuer_Code], 
        [Extent2].[Asset_Currency] AS [Asset_Currency], 
        [Extent2].[Min_Lot_Size] AS [Min_Lot_Size], 
        [Extent2].[Decimal_Precision] AS [Decimal_Precision], 
        [Extent2].[AvePrice_Rounding] AS [AvePrice_Rounding], 
        [Extent2].[Issue_Date] AS [Issue_Date], 
        [Extent2].[Maturity_Date] AS [Maturity_Date], 
        [Extent2].[Coupon_Rate] AS [Coupon_Rate], 
        [Extent2].[Price_Exchange] AS [Price_Exchange], 
        [Extent2].[Trade_Currency] AS [Trade_Currency], 
        [Extent2].[Price_Curr] AS [Price_Curr], 
        [Extent2].[Currency_Pair_Code] AS [Currency_Pair_Code], 
        [Extent2].[Share_Class] AS [Share_Class], 
        [Extent2].[Current_Market_Price] AS [Current_Market_Price], 
        [Extent2].[Index_Type] AS [Index_Type], 
        [Extent2].[Clean_Price_Formula] AS [Clean_Price_Formula], 
        [Extent2].[Accrued_Income_Price_Formula] AS [Accrued_Income_Price_Formula], 
        [Extent2].[Odd_First_Coupon_Date] AS [Odd_First_Coupon_Date], 
        [Extent2].[Odd_Last_Coupon_Date] AS [Odd_Last_Coupon_Date], 
        [Extent2].[Coupon_Anniversary_Indicator] AS [Coupon_Anniversary_Indicator], 
        [Extent2].[Track_EOM_Flag] AS [Track_EOM_Flag], 
        [Extent2].[Next_Coupon_Date] AS [Next_Coupon_Date], 
        [Extent2].[Previous_Coupon_Date] AS [Previous_Coupon_Date], 
        [Extent2].[Payment_Frequency] AS [Payment_Frequency], 
        [Extent2].[Coupon_BusDay_Adjustment] AS [Coupon_BusDay_Adjustment], 
        [Extent2].[Next_Ex_Div_Date] AS [Next_Ex_Div_Date], 
        [Extent2].[Ex_Div_BusDay_Adjustment] AS [Ex_Div_BusDay_Adjustment], 
        [Extent2].[Ex_Div_Period] AS [Ex_Div_Period], 
        [Extent2].[Ticker] AS [Ticker], 
        [Extent2].[Inet_ID] AS [Inet_ID], 
        [Extent2].[Bloomberg_ID] AS [Bloomberg_ID], 
        [Extent2].[External_Sec_ID] AS [External_Sec_ID], 
        [Extent2].[Reuters_ID] AS [Reuters_ID], 
        [Extent2].[ISIN] AS [ISIN], 
        [Extent2].[Call_Account_Flag] AS [Call_Account_Flag], 
        [Extent2].[System_Locked] AS [System_Locked], 
        [Extent2].[Last_Update_User] AS [Last_Update_User1], 
        [Extent2].[Last_Update_Date] AS [Last_Update_Date1], 
        [Extent2].[Security_Status] AS [Security_Status], 
        [Extent2].[Benchmark_Portfolio] AS [Benchmark_Portfolio], 
        [Extent2].[Active_flag] AS [Active_flag], 
        [Extent2].[Dividend_FX_Security_ID] AS [Dividend_FX_Security_ID]
        FROM  [dbo].[Security_Analytics_History] AS [Extent1]
        INNER JOIN [dbo].[Security_Detail] AS [Extent2] ON [Extent1].[Security_ID] = [Extent2].[Security_ID]
        WHERE [Extent1].[Security_ID] = @p__linq__0
    )  AS [Project1]
    ORDER BY [Project1].[Record_Date] DESC
2018-04-07 18:54:29.7424|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: SELECT 
    [Project1].[Decimal_Precision] AS [Decimal_Precision], 
    [Project1].[Entity_ID] AS [Entity_ID], 
    [Project1].[Security_ID] AS [Security_ID], 
    [Project1].[Issued_Amount] AS [Issued_Amount], 
    [Project1].[Market_Capitalisation] AS [Market_Capitalisation], 
    [Project1].[Risk_Premium] AS [Risk_Premium], 
    [Project1].[Exit_Price] AS [Exit_Price], 
    [Project1].[Total_Return_ME_1YR] AS [Total_Return_ME_1YR], 
    [Project1].[Total_Return_ME_2YR] AS [Total_Return_ME_2YR], 
    [Project1].[Total_Return_ME_3YR] AS [Total_Return_ME_3YR], 
    [Project1].[Historic_Distribution] AS [Historic_Distribution], 
    [Project1].[Distribution_Growth_Forecast_Yr1] AS [Distribution_Growth_Forecast_Yr1], 
    [Project1].[Distribution_Growth_Forecast_Yr2] AS [Distribution_Growth_Forecast_Yr2], 
    [Project1].[Distribution_Growth_Forecast_Yr3] AS [Distribution_Growth_Forecast_Yr3], 
    [Project1].[Forecast_Distribution_Yr1] AS [Forecast_Distribution_Yr1], 
    [Project1].[Forecast_Distribution_Yr2] AS [Forecast_Distribution_Yr2], 
    [Project1].[Forecast_Distribution_Yr3] AS [Forecast_Distribution_Yr3], 
    [Project1].[Earnings_Growth_Compounded] AS [Earnings_Growth_Compounded], 
    [Project1].[Earnings_Forecast_Yr3] AS [Earnings_Forecast_Yr3], 
    [Project1].[Historic_Dividend_Yield_FYE] AS [Historic_Dividend_Yield_FYE], 
    [Project1].[Forward_Dividend_Yield_FYE] AS [Forward_Dividend_Yield_FYE], 
    [Project1].[Yr3_Forward_Dividend_Yield] AS [Yr3_Forward_Dividend_Yield], 
    [Project1].[Rolling_12M_Forward_Yield] AS [Rolling_12M_Forward_Yield], 
    [Project1].[Historical_Earnings_FYE] AS [Historical_Earnings_FYE], 
    [Project1].[Earnings_Forecast_Yr1] AS [Earnings_Forecast_Yr1], 
    [Project1].[Earnings_Forecast_Yr2] AS [Earnings_Forecast_Yr2], 
    [Project1].[Historic_Dividend_Yield_Relative] AS [Historic_Dividend_Yield_Relative], 
    [Project1].[Rolling_12M_Historic_Distribution_PriceCurr] AS [Rolling_12M_Historic_Distribution_PriceCurr], 
    [Project1].[Short_Term_Market_Rerate] AS [Short_Term_Market_Rerate], 
    [Project1].[Forecast_12M_Total_Return] AS [Forecast_12M_Total_Return], 
    [Project1].[Clean_Price] AS [Clean_Price], 
    [Project1].[Rolling_Dividend_Yield_Historic] AS [Rolling_Dividend_Yield_Historic], 
    [Project1].[Last_Update_Date] AS [Last_Update_Date], 
    [Project1].[Last_Update_User] AS [Last_Update_User], 
    [Project1].[Discount_Security_ID] AS [Discount_Security_ID], 
    [Project1].[Net_Present_Value] AS [Net_Present_Value], 
    [Project1].[Forecast_Rolling_Custom_Income] AS [Forecast_Rolling_Custom_Income], 
    [Project1].[Custom_Period] AS [Custom_Period], 
    [Project1].[Rolling_12M_Historic_Distribution] AS [Rolling_12M_Historic_Distribution], 
    [Project1].[Record_Date] AS [Record_Date], 
    [Project1].[Session_ID] AS [Session_ID], 
    [Project1].[Hist_Last_Update_Date] AS [Hist_Last_Update_Date], 
    [Project1].[Hist_Last_Update_User] AS [Hist_Last_Update_User], 
    [Project1].[Rolling_12M_Forecast_Distribution] AS [Rolling_12M_Forecast_Distribution], 
    [Project1].[Yr2_Forward_Dividend_Yield] AS [Yr2_Forward_Dividend_Yield], 
    [Project1].[Exit_Yield] AS [Exit_Yield], 
    [Project1].[Discount_Rate] AS [Discount_Rate], 
    [Project1].[Distribution_Growth_Compounded] AS [Distribution_Growth_Compounded], 
    [Project1].[Forecast_12MRolling_Income_Accrual] AS [Forecast_12MRolling_Income_Accrual], 
    [Project1].[Rolling_12_to_24M_Forecast_Distribution] AS [Rolling_12_to_24M_Forecast_Distribution], 
    [Project1].[Rolling_24_to_36M_Forecast_Distribution] AS [Rolling_24_to_36M_Forecast_Distribution], 
    [Project1].[Forecast_Yr1_Dividend_Yield_Relative] AS [Forecast_Yr1_Dividend_Yield_Relative], 
    [Project1].[Market_Historic_Yield] AS [Market_Historic_Yield], 
    [Project1].[Market_Forward_Yield] AS [Market_Forward_Yield], 
    [Project1].[Historic_Distribution_PriceCurr] AS [Historic_Distribution_PriceCurr], 
    [Project1].[Forecast_Distribution_Yr1_PriceCurr] AS [Forecast_Distribution_Yr1_PriceCurr], 
    [Project1].[Forecast_Distribution_Yr2_PriceCurr] AS [Forecast_Distribution_Yr2_PriceCurr], 
    [Project1].[Forecast_Distribution_Yr3_PriceCurr] AS [Forecast_Distribution_Yr3_PriceCurr], 
    [Project1].[Rolling_12M_Forecast_Distribution_PriceCurr] AS [Rolling_12M_Forecast_Distribution_PriceCurr], 
    [Project1].[Rolling_12_24M_Forecast_Distribution_PriceCurr] AS [Rolling_12_24M_Forecast_Distribution_PriceCurr], 
    [Project1].[Rolling_24_36M_Forecast_Distribution_PriceCurr] AS [Rolling_24_36M_Forecast_Distribution_PriceCurr], 
    [Project1].[Distribution_Growth_Forecast_Yr4] AS [Distribution_Growth_Forecast_Yr4], 
    [Project1].[Earnings_Forecast_Yr4] AS [Earnings_Forecast_Yr4], 
    [Project1].[Forecast_Distribution_Yr4] AS [Forecast_Distribution_Yr4], 
    [Project1].[Forecast_Distribution_Yr4_PriceCurr] AS [Forecast_Distribution_Yr4_PriceCurr], 
    [Project1].[Security_ID1] AS [Security_ID1], 
    [Project1].[Entity_ID1] AS [Entity_ID1], 
    [Project1].[Security_Name] AS [Security_Name], 
    [Project1].[Short_Name] AS [Short_Name], 
    [Project1].[Primary_Exch] AS [Primary_Exch], 
    [Project1].[Secondary_Exch] AS [Secondary_Exch], 
    [Project1].[Country_Of_Domicile] AS [Country_Of_Domicile], 
    [Project1].[Country_Of_Risk] AS [Country_Of_Risk], 
    [Project1].[Security_Type_Code] AS [Security_Type_Code], 
    [Project1].[Price_Multiplier] AS [Price_Multiplier], 
    [Project1].[Income_Frequency] AS [Income_Frequency], 
    [Project1].[Issuer_Code] AS [Issuer_Code], 
    [Project1].[Ultimate_Issuer_Code] AS [Ultimate_Issuer_Code], 
    [Project1].[Asset_Currency] AS [Asset_Currency], 
    [Project1].[Min_Lot_Size] AS [Min_Lot_Size], 
    [Project1].[AvePrice_Rounding] AS [AvePrice_Rounding], 
    [Project1].[Issue_Date] AS [Issue_Date], 
    [Project1].[Maturity_Date] AS [Maturity_Date], 
    [Project1].[Coupon_Rate] AS [Coupon_Rate], 
    [Project1].[Price_Exchange] AS [Price_Exchange], 
    [Project1].[Trade_Currency] AS [Trade_Currency], 
    [Project1].[Price_Curr] AS [Price_Curr], 
    [Project1].[Currency_Pair_Code] AS [Currency_Pair_Code], 
    [Project1].[Share_Class] AS [Share_Class], 
    [Project1].[Current_Market_Price] AS [Current_Market_Price], 
    [Project1].[Index_Type] AS [Index_Type], 
    [Project1].[Clean_Price_Formula] AS [Clean_Price_Formula], 
    [Project1].[Accrued_Income_Price_Formula] AS [Accrued_Income_Price_Formula], 
    [Project1].[Odd_First_Coupon_Date] AS [Odd_First_Coupon_Date], 
    [Project1].[Odd_Last_Coupon_Date] AS [Odd_Last_Coupon_Date], 
    [Project1].[Coupon_Anniversary_Indicator] AS [Coupon_Anniversary_Indicator], 
    [Project1].[Track_EOM_Flag] AS [Track_EOM_Flag], 
    [Project1].[Next_Coupon_Date] AS [Next_Coupon_Date], 
    [Project1].[Previous_Coupon_Date] AS [Previous_Coupon_Date], 
    [Project1].[Payment_Frequency] AS [Payment_Frequency], 
    [Project1].[Coupon_BusDay_Adjustment] AS [Coupon_BusDay_Adjustment], 
    [Project1].[Next_Ex_Div_Date] AS [Next_Ex_Div_Date], 
    [Project1].[Ex_Div_BusDay_Adjustment] AS [Ex_Div_BusDay_Adjustment], 
    [Project1].[Ex_Div_Period] AS [Ex_Div_Period], 
    [Project1].[Ticker] AS [Ticker], 
    [Project1].[Inet_ID] AS [Inet_ID], 
    [Project1].[Bloomberg_ID] AS [Bloomberg_ID], 
    [Project1].[External_Sec_ID] AS [External_Sec_ID], 
    [Project1].[Reuters_ID] AS [Reuters_ID], 
    [Project1].[ISIN] AS [ISIN], 
    [Project1].[Call_Account_Flag] AS [Call_Account_Flag], 
    [Project1].[System_Locked] AS [System_Locked], 
    [Project1].[Last_Update_User1] AS [Last_Update_User1], 
    [Project1].[Last_Update_Date1] AS [Last_Update_Date1], 
    [Project1].[Security_Status] AS [Security_Status], 
    [Project1].[Benchmark_Portfolio] AS [Benchmark_Portfolio], 
    [Project1].[Active_flag] AS [Active_flag], 
    [Project1].[Dividend_FX_Security_ID] AS [Dividend_FX_Security_ID]
    FROM ( SELECT 
        [Extent1].[Entity_ID] AS [Entity_ID], 
        [Extent1].[Security_ID] AS [Security_ID], 
        [Extent1].[Issued_Amount] AS [Issued_Amount], 
        [Extent1].[Market_Capitalisation] AS [Market_Capitalisation], 
        [Extent1].[Risk_Premium] AS [Risk_Premium], 
        [Extent1].[Exit_Price] AS [Exit_Price], 
        [Extent1].[Total_Return_ME_1YR] AS [Total_Return_ME_1YR], 
        [Extent1].[Total_Return_ME_2YR] AS [Total_Return_ME_2YR], 
        [Extent1].[Total_Return_ME_3YR] AS [Total_Return_ME_3YR], 
        [Extent1].[Historic_Distribution] AS [Historic_Distribution], 
        [Extent1].[Distribution_Growth_Forecast_Yr1] AS [Distribution_Growth_Forecast_Yr1], 
        [Extent1].[Distribution_Growth_Forecast_Yr2] AS [Distribution_Growth_Forecast_Yr2], 
        [Extent1].[Distribution_Growth_Forecast_Yr3] AS [Distribution_Growth_Forecast_Yr3], 
        [Extent1].[Forecast_Distribution_Yr1] AS [Forecast_Distribution_Yr1], 
        [Extent1].[Forecast_Distribution_Yr2] AS [Forecast_Distribution_Yr2], 
        [Extent1].[Forecast_Distribution_Yr3] AS [Forecast_Distribution_Yr3], 
        [Extent1].[Earnings_Growth_Compounded] AS [Earnings_Growth_Compounded], 
        [Extent1].[Earnings_Forecast_Yr3] AS [Earnings_Forecast_Yr3], 
        [Extent1].[Historic_Dividend_Yield_FYE] AS [Historic_Dividend_Yield_FYE], 
        [Extent1].[Forward_Dividend_Yield_FYE] AS [Forward_Dividend_Yield_FYE], 
        [Extent1].[Yr3_Forward_Dividend_Yield] AS [Yr3_Forward_Dividend_Yield], 
        [Extent1].[Rolling_12M_Forward_Yield] AS [Rolling_12M_Forward_Yield], 
        [Extent1].[Historical_Earnings_FYE] AS [Historical_Earnings_FYE], 
        [Extent1].[Earnings_Forecast_Yr1] AS [Earnings_Forecast_Yr1], 
        [Extent1].[Earnings_Forecast_Yr2] AS [Earnings_Forecast_Yr2], 
        [Extent1].[Historic_Dividend_Yield_Relative] AS [Historic_Dividend_Yield_Relative], 
        [Extent1].[Rolling_12M_Historic_Distribution_PriceCurr] AS [Rolling_12M_Historic_Distribution_PriceCurr], 
        [Extent1].[Short_Term_Market_Rerate] AS [Short_Term_Market_Rerate], 
        [Extent1].[Forecast_12M_Total_Return] AS [Forecast_12M_Total_Return], 
        [Extent1].[Clean_Price] AS [Clean_Price], 
        [Extent1].[Rolling_Dividend_Yield_Historic] AS [Rolling_Dividend_Yield_Historic], 
        [Extent1].[Last_Update_Date] AS [Last_Update_Date], 
        [Extent1].[Last_Update_User] AS [Last_Update_User], 
        [Extent1].[Discount_Security_ID] AS [Discount_Security_ID], 
        [Extent1].[Net_Present_Value] AS [Net_Present_Value], 
        [Extent1].[Forecast_Rolling_Custom_Income] AS [Forecast_Rolling_Custom_Income], 
        [Extent1].[Custom_Period] AS [Custom_Period], 
        [Extent1].[Rolling_12M_Historic_Distribution] AS [Rolling_12M_Historic_Distribution], 
        [Extent1].[Record_Date] AS [Record_Date], 
        [Extent1].[Session_ID] AS [Session_ID], 
        [Extent1].[Hist_Last_Update_Date] AS [Hist_Last_Update_Date], 
        [Extent1].[Hist_Last_Update_User] AS [Hist_Last_Update_User], 
        [Extent1].[Rolling_12M_Forecast_Distribution] AS [Rolling_12M_Forecast_Distribution], 
        [Extent1].[Yr2_Forward_Dividend_Yield] AS [Yr2_Forward_Dividend_Yield], 
        [Extent1].[Exit_Yield] AS [Exit_Yield], 
        [Extent1].[Discount_Rate] AS [Discount_Rate], 
        [Extent1].[Distribution_Growth_Compounded] AS [Distribution_Growth_Compounded], 
        [Extent1].[Forecast_12MRolling_Income_Accrual] AS [Forecast_12MRolling_Income_Accrual], 
        [Extent1].[Rolling_12_to_24M_Forecast_Distribution] AS [Rolling_12_to_24M_Forecast_Distribution], 
        [Extent1].[Rolling_24_to_36M_Forecast_Distribution] AS [Rolling_24_to_36M_Forecast_Distribution], 
        [Extent1].[Forecast_Yr1_Dividend_Yield_Relative] AS [Forecast_Yr1_Dividend_Yield_Relative], 
        [Extent1].[Market_Historic_Yield] AS [Market_Historic_Yield], 
        [Extent1].[Market_Forward_Yield] AS [Market_Forward_Yield], 
        [Extent1].[Historic_Distribution_PriceCurr] AS [Historic_Distribution_PriceCurr], 
        [Extent1].[Forecast_Distribution_Yr1_PriceCurr] AS [Forecast_Distribution_Yr1_PriceCurr], 
        [Extent1].[Forecast_Distribution_Yr2_PriceCurr] AS [Forecast_Distribution_Yr2_PriceCurr], 
        [Extent1].[Forecast_Distribution_Yr3_PriceCurr] AS [Forecast_Distribution_Yr3_PriceCurr], 
        [Extent1].[Rolling_12M_Forecast_Distribution_PriceCurr] AS [Rolling_12M_Forecast_Distribution_PriceCurr], 
        [Extent1].[Rolling_12_24M_Forecast_Distribution_PriceCurr] AS [Rolling_12_24M_Forecast_Distribution_PriceCurr], 
        [Extent1].[Rolling_24_36M_Forecast_Distribution_PriceCurr] AS [Rolling_24_36M_Forecast_Distribution_PriceCurr], 
        [Extent1].[Distribution_Growth_Forecast_Yr4] AS [Distribution_Growth_Forecast_Yr4], 
        [Extent1].[Earnings_Forecast_Yr4] AS [Earnings_Forecast_Yr4], 
        [Extent1].[Forecast_Distribution_Yr4] AS [Forecast_Distribution_Yr4], 
        [Extent1].[Forecast_Distribution_Yr4_PriceCurr] AS [Forecast_Distribution_Yr4_PriceCurr], 
        [Extent2].[Security_ID] AS [Security_ID1], 
        [Extent2].[Entity_ID] AS [Entity_ID1], 
        [Extent2].[Security_Name] AS [Security_Name], 
        [Extent2].[Short_Name] AS [Short_Name], 
        [Extent2].[Primary_Exch] AS [Primary_Exch], 
        [Extent2].[Secondary_Exch] AS [Secondary_Exch], 
        [Extent2].[Country_Of_Domicile] AS [Country_Of_Domicile], 
        [Extent2].[Country_Of_Risk] AS [Country_Of_Risk], 
        [Extent2].[Security_Type_Code] AS [Security_Type_Code], 
        [Extent2].[Price_Multiplier] AS [Price_Multiplier], 
        [Extent2].[Income_Frequency] AS [Income_Frequency], 
        [Extent2].[Issuer_Code] AS [Issuer_Code], 
        [Extent2].[Ultimate_Issuer_Code] AS [Ultimate_Issuer_Code], 
        [Extent2].[Asset_Currency] AS [Asset_Currency], 
        [Extent2].[Min_Lot_Size] AS [Min_Lot_Size], 
        [Extent2].[Decimal_Precision] AS [Decimal_Precision], 
        [Extent2].[AvePrice_Rounding] AS [AvePrice_Rounding], 
        [Extent2].[Issue_Date] AS [Issue_Date], 
        [Extent2].[Maturity_Date] AS [Maturity_Date], 
        [Extent2].[Coupon_Rate] AS [Coupon_Rate], 
        [Extent2].[Price_Exchange] AS [Price_Exchange], 
        [Extent2].[Trade_Currency] AS [Trade_Currency], 
        [Extent2].[Price_Curr] AS [Price_Curr], 
        [Extent2].[Currency_Pair_Code] AS [Currency_Pair_Code], 
        [Extent2].[Share_Class] AS [Share_Class], 
        [Extent2].[Current_Market_Price] AS [Current_Market_Price], 
        [Extent2].[Index_Type] AS [Index_Type], 
        [Extent2].[Clean_Price_Formula] AS [Clean_Price_Formula], 
        [Extent2].[Accrued_Income_Price_Formula] AS [Accrued_Income_Price_Formula], 
        [Extent2].[Odd_First_Coupon_Date] AS [Odd_First_Coupon_Date], 
        [Extent2].[Odd_Last_Coupon_Date] AS [Odd_Last_Coupon_Date], 
        [Extent2].[Coupon_Anniversary_Indicator] AS [Coupon_Anniversary_Indicator], 
        [Extent2].[Track_EOM_Flag] AS [Track_EOM_Flag], 
        [Extent2].[Next_Coupon_Date] AS [Next_Coupon_Date], 
        [Extent2].[Previous_Coupon_Date] AS [Previous_Coupon_Date], 
        [Extent2].[Payment_Frequency] AS [Payment_Frequency], 
        [Extent2].[Coupon_BusDay_Adjustment] AS [Coupon_BusDay_Adjustment], 
        [Extent2].[Next_Ex_Div_Date] AS [Next_Ex_Div_Date], 
        [Extent2].[Ex_Div_BusDay_Adjustment] AS [Ex_Div_BusDay_Adjustment], 
        [Extent2].[Ex_Div_Period] AS [Ex_Div_Period], 
        [Extent2].[Ticker] AS [Ticker], 
        [Extent2].[Inet_ID] AS [Inet_ID], 
        [Extent2].[Bloomberg_ID] AS [Bloomberg_ID], 
        [Extent2].[External_Sec_ID] AS [External_Sec_ID], 
        [Extent2].[Reuters_ID] AS [Reuters_ID], 
        [Extent2].[ISIN] AS [ISIN], 
        [Extent2].[Call_Account_Flag] AS [Call_Account_Flag], 
        [Extent2].[System_Locked] AS [System_Locked], 
        [Extent2].[Last_Update_User] AS [Last_Update_User1], 
        [Extent2].[Last_Update_Date] AS [Last_Update_Date1], 
        [Extent2].[Security_Status] AS [Security_Status], 
        [Extent2].[Benchmark_Portfolio] AS [Benchmark_Portfolio], 
        [Extent2].[Active_flag] AS [Active_flag], 
        [Extent2].[Dividend_FX_Security_ID] AS [Dividend_FX_Security_ID]
        FROM  [dbo].[Security_Analytics_History] AS [Extent1]
        INNER JOIN [dbo].[Security_Detail] AS [Extent2] ON [Extent1].[Security_ID] = [Extent2].[Security_ID]
        WHERE [Extent1].[Security_ID] = @p__linq__0
    )  AS [Project1]
    ORDER BY [Project1].[Record_Date] DESC
2018-04-07 18:54:30.5045|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: IF db_id(N'MetopeAzureDb') IS NOT NULL SELECT 1 ELSE SELECT Count(*) FROM sys.databases WHERE [name]=N'MetopeAzureDb'
2018-04-07 18:54:30.5310|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: IF db_id(N'MetopeAzureDb') IS NOT NULL SELECT 1 ELSE SELECT Count(*) FROM sys.databases WHERE [name]=N'MetopeAzureDb'
2018-04-07 18:54:30.5615|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: IF db_id(N'MetopeAzureDb') IS NOT NULL SELECT 1 ELSE SELECT Count(*) FROM sys.databases WHERE [name]=N'MetopeAzureDb'
2018-04-07 18:54:30.5860|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: IF db_id(N'MetopeAzureDb') IS NOT NULL SELECT 1 ELSE SELECT Count(*) FROM sys.databases WHERE [name]=N'MetopeAzureDb'
2018-04-07 18:54:31.1814|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: SELECT 
    [Project1].[Security_ID] AS [Security_ID], 
    [Project1].[Entity_ID] AS [Entity_ID], 
    [Project1].[Security_Name] AS [Security_Name], 
    [Project1].[Short_Name] AS [Short_Name], 
    [Project1].[Primary_Exch] AS [Primary_Exch], 
    [Project1].[Secondary_Exch] AS [Secondary_Exch], 
    [Project1].[Country_Of_Domicile] AS [Country_Of_Domicile], 
    [Project1].[Country_Of_Risk] AS [Country_Of_Risk], 
    [Project1].[Security_Type_Code] AS [Security_Type_Code], 
    [Project1].[Price_Multiplier] AS [Price_Multiplier], 
    [Project1].[Income_Frequency] AS [Income_Frequency], 
    [Project1].[Issuer_Code] AS [Issuer_Code], 
    [Project1].[Ultimate_Issuer_Code] AS [Ultimate_Issuer_Code], 
    [Project1].[Asset_Currency] AS [Asset_Currency], 
    [Project1].[Min_Lot_Size] AS [Min_Lot_Size], 
    [Project1].[Decimal_Precision] AS [Decimal_Precision], 
    [Project1].[AvePrice_Rounding] AS [AvePrice_Rounding], 
    [Project1].[Issue_Date] AS [Issue_Date], 
    [Project1].[Maturity_Date] AS [Maturity_Date], 
    [Project1].[Coupon_Rate] AS [Coupon_Rate], 
    [Project1].[Price_Exchange] AS [Price_Exchange], 
    [Project1].[Trade_Currency] AS [Trade_Currency], 
    [Project1].[Price_Curr] AS [Price_Curr], 
    [Project1].[Currency_Pair_Code] AS [Currency_Pair_Code], 
    [Project1].[Share_Class] AS [Share_Class], 
    [Project1].[Current_Market_Price] AS [Current_Market_Price], 
    [Project1].[Index_Type] AS [Index_Type], 
    [Project1].[Clean_Price_Formula] AS [Clean_Price_Formula], 
    [Project1].[Accrued_Income_Price_Formula] AS [Accrued_Income_Price_Formula], 
    [Project1].[Odd_First_Coupon_Date] AS [Odd_First_Coupon_Date], 
    [Project1].[Odd_Last_Coupon_Date] AS [Odd_Last_Coupon_Date], 
    [Project1].[Coupon_Anniversary_Indicator] AS [Coupon_Anniversary_Indicator], 
    [Project1].[Track_EOM_Flag] AS [Track_EOM_Flag], 
    [Project1].[Next_Coupon_Date] AS [Next_Coupon_Date], 
    [Project1].[Previous_Coupon_Date] AS [Previous_Coupon_Date], 
    [Project1].[Payment_Frequency] AS [Payment_Frequency], 
    [Project1].[Coupon_BusDay_Adjustment] AS [Coupon_BusDay_Adjustment], 
    [Project1].[Next_Ex_Div_Date] AS [Next_Ex_Div_Date], 
    [Project1].[Ex_Div_BusDay_Adjustment] AS [Ex_Div_BusDay_Adjustment], 
    [Project1].[Ex_Div_Period] AS [Ex_Div_Period], 
    [Project1].[Ticker] AS [Ticker], 
    [Project1].[Inet_ID] AS [Inet_ID], 
    [Project1].[Bloomberg_ID] AS [Bloomberg_ID], 
    [Project1].[External_Sec_ID] AS [External_Sec_ID], 
    [Project1].[Reuters_ID] AS [Reuters_ID], 
    [Project1].[ISIN] AS [ISIN], 
    [Project1].[Call_Account_Flag] AS [Call_Account_Flag], 
    [Project1].[System_Locked] AS [System_Locked], 
    [Project1].[Last_Update_User] AS [Last_Update_User], 
    [Project1].[Last_Update_Date] AS [Last_Update_Date], 
    [Project1].[Security_Status] AS [Security_Status], 
    [Project1].[Benchmark_Portfolio] AS [Benchmark_Portfolio], 
    [Project1].[Active_flag] AS [Active_flag], 
    [Project1].[Dividend_FX_Security_ID] AS [Dividend_FX_Security_ID]
    FROM ( SELECT 
        [Extent1].[Security_ID] AS [Security_ID], 
        [Extent1].[Entity_ID] AS [Entity_ID], 
        [Extent1].[Security_Name] AS [Security_Name], 
        [Extent1].[Short_Name] AS [Short_Name], 
        [Extent1].[Primary_Exch] AS [Primary_Exch], 
        [Extent1].[Secondary_Exch] AS [Secondary_Exch], 
        [Extent1].[Country_Of_Domicile] AS [Country_Of_Domicile], 
        [Extent1].[Country_Of_Risk] AS [Country_Of_Risk], 
        [Extent1].[Security_Type_Code] AS [Security_Type_Code], 
        [Extent1].[Price_Multiplier] AS [Price_Multiplier], 
        [Extent1].[Income_Frequency] AS [Income_Frequency], 
        [Extent1].[Issuer_Code] AS [Issuer_Code], 
        [Extent1].[Ultimate_Issuer_Code] AS [Ultimate_Issuer_Code], 
        [Extent1].[Asset_Currency] AS [Asset_Currency], 
        [Extent1].[Min_Lot_Size] AS [Min_Lot_Size], 
        [Extent1].[Decimal_Precision] AS [Decimal_Precision], 
        [Extent1].[AvePrice_Rounding] AS [AvePrice_Rounding], 
        [Extent1].[Issue_Date] AS [Issue_Date], 
        [Extent1].[Maturity_Date] AS [Maturity_Date], 
        [Extent1].[Coupon_Rate] AS [Coupon_Rate], 
        [Extent1].[Price_Exchange] AS [Price_Exchange], 
        [Extent1].[Trade_Currency] AS [Trade_Currency], 
        [Extent1].[Price_Curr] AS [Price_Curr], 
        [Extent1].[Currency_Pair_Code] AS [Currency_Pair_Code], 
        [Extent1].[Share_Class] AS [Share_Class], 
        [Extent1].[Current_Market_Price] AS [Current_Market_Price], 
        [Extent1].[Index_Type] AS [Index_Type], 
        [Extent1].[Clean_Price_Formula] AS [Clean_Price_Formula], 
        [Extent1].[Accrued_Income_Price_Formula] AS [Accrued_Income_Price_Formula], 
        [Extent1].[Odd_First_Coupon_Date] AS [Odd_First_Coupon_Date], 
        [Extent1].[Odd_Last_Coupon_Date] AS [Odd_Last_Coupon_Date], 
        [Extent1].[Coupon_Anniversary_Indicator] AS [Coupon_Anniversary_Indicator], 
        [Extent1].[Track_EOM_Flag] AS [Track_EOM_Flag], 
        [Extent1].[Next_Coupon_Date] AS [Next_Coupon_Date], 
        [Extent1].[Previous_Coupon_Date] AS [Previous_Coupon_Date], 
        [Extent1].[Payment_Frequency] AS [Payment_Frequency], 
        [Extent1].[Coupon_BusDay_Adjustment] AS [Coupon_BusDay_Adjustment], 
        [Extent1].[Next_Ex_Div_Date] AS [Next_Ex_Div_Date], 
        [Extent1].[Ex_Div_BusDay_Adjustment] AS [Ex_Div_BusDay_Adjustment], 
        [Extent1].[Ex_Div_Period] AS [Ex_Div_Period], 
        [Extent1].[Ticker] AS [Ticker], 
        [Extent1].[Inet_ID] AS [Inet_ID], 
        [Extent1].[Bloomberg_ID] AS [Bloomberg_ID], 
        [Extent1].[External_Sec_ID] AS [External_Sec_ID], 
        [Extent1].[Reuters_ID] AS [Reuters_ID], 
        [Extent1].[ISIN] AS [ISIN], 
        [Extent1].[Call_Account_Flag] AS [Call_Account_Flag], 
        [Extent1].[System_Locked] AS [System_Locked], 
        [Extent1].[Last_Update_User] AS [Last_Update_User], 
        [Extent1].[Last_Update_Date] AS [Last_Update_Date], 
        [Extent1].[Security_Status] AS [Security_Status], 
        [Extent1].[Benchmark_Portfolio] AS [Benchmark_Portfolio], 
        [Extent1].[Active_flag] AS [Active_flag], 
        [Extent1].[Dividend_FX_Security_ID] AS [Dividend_FX_Security_ID]
        FROM [dbo].[Security_Detail] AS [Extent1]
        WHERE ([Extent1].[Entity_ID] IN (@p__linq__0,@p__linq__1)) AND ((CASE WHEN ( NOT ((N'' = @p__linq__2) AND (@p__linq__2 IS NOT NULL))) THEN CASE WHEN ([Extent1].[Security_Type_Code] = @p__linq__3) THEN cast(1 as bit) WHEN ( NOT (([Extent1].[Security_Type_Code] = @p__linq__3) AND (0 = (CASE WHEN (@p__linq__3 IS NULL) THEN cast(1 as bit) ELSE cast(0 as bit) END)))) THEN cast(0 as bit) END WHEN ('' <> [Extent1].[Security_Type_Code]) THEN cast(1 as bit) WHEN ('' = [Extent1].[Security_Type_Code]) THEN cast(0 as bit) END) = 1)
    )  AS [Project1]
    ORDER BY [Project1].[Security_Name] ASC
2018-04-07 18:54:31.2135|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: SELECT 
    [Project1].[Security_ID] AS [Security_ID], 
    [Project1].[Entity_ID] AS [Entity_ID], 
    [Project1].[Security_Name] AS [Security_Name], 
    [Project1].[Short_Name] AS [Short_Name], 
    [Project1].[Primary_Exch] AS [Primary_Exch], 
    [Project1].[Secondary_Exch] AS [Secondary_Exch], 
    [Project1].[Country_Of_Domicile] AS [Country_Of_Domicile], 
    [Project1].[Country_Of_Risk] AS [Country_Of_Risk], 
    [Project1].[Security_Type_Code] AS [Security_Type_Code], 
    [Project1].[Price_Multiplier] AS [Price_Multiplier], 
    [Project1].[Income_Frequency] AS [Income_Frequency], 
    [Project1].[Issuer_Code] AS [Issuer_Code], 
    [Project1].[Ultimate_Issuer_Code] AS [Ultimate_Issuer_Code], 
    [Project1].[Asset_Currency] AS [Asset_Currency], 
    [Project1].[Min_Lot_Size] AS [Min_Lot_Size], 
    [Project1].[Decimal_Precision] AS [Decimal_Precision], 
    [Project1].[AvePrice_Rounding] AS [AvePrice_Rounding], 
    [Project1].[Issue_Date] AS [Issue_Date], 
    [Project1].[Maturity_Date] AS [Maturity_Date], 
    [Project1].[Coupon_Rate] AS [Coupon_Rate], 
    [Project1].[Price_Exchange] AS [Price_Exchange], 
    [Project1].[Trade_Currency] AS [Trade_Currency], 
    [Project1].[Price_Curr] AS [Price_Curr], 
    [Project1].[Currency_Pair_Code] AS [Currency_Pair_Code], 
    [Project1].[Share_Class] AS [Share_Class], 
    [Project1].[Current_Market_Price] AS [Current_Market_Price], 
    [Project1].[Index_Type] AS [Index_Type], 
    [Project1].[Clean_Price_Formula] AS [Clean_Price_Formula], 
    [Project1].[Accrued_Income_Price_Formula] AS [Accrued_Income_Price_Formula], 
    [Project1].[Odd_First_Coupon_Date] AS [Odd_First_Coupon_Date], 
    [Project1].[Odd_Last_Coupon_Date] AS [Odd_Last_Coupon_Date], 
    [Project1].[Coupon_Anniversary_Indicator] AS [Coupon_Anniversary_Indicator], 
    [Project1].[Track_EOM_Flag] AS [Track_EOM_Flag], 
    [Project1].[Next_Coupon_Date] AS [Next_Coupon_Date], 
    [Project1].[Previous_Coupon_Date] AS [Previous_Coupon_Date], 
    [Project1].[Payment_Frequency] AS [Payment_Frequency], 
    [Project1].[Coupon_BusDay_Adjustment] AS [Coupon_BusDay_Adjustment], 
    [Project1].[Next_Ex_Div_Date] AS [Next_Ex_Div_Date], 
    [Project1].[Ex_Div_BusDay_Adjustment] AS [Ex_Div_BusDay_Adjustment], 
    [Project1].[Ex_Div_Period] AS [Ex_Div_Period], 
    [Project1].[Ticker] AS [Ticker], 
    [Project1].[Inet_ID] AS [Inet_ID], 
    [Project1].[Bloomberg_ID] AS [Bloomberg_ID], 
    [Project1].[External_Sec_ID] AS [External_Sec_ID], 
    [Project1].[Reuters_ID] AS [Reuters_ID], 
    [Project1].[ISIN] AS [ISIN], 
    [Project1].[Call_Account_Flag] AS [Call_Account_Flag], 
    [Project1].[System_Locked] AS [System_Locked], 
    [Project1].[Last_Update_User] AS [Last_Update_User], 
    [Project1].[Last_Update_Date] AS [Last_Update_Date], 
    [Project1].[Security_Status] AS [Security_Status], 
    [Project1].[Benchmark_Portfolio] AS [Benchmark_Portfolio], 
    [Project1].[Active_flag] AS [Active_flag], 
    [Project1].[Dividend_FX_Security_ID] AS [Dividend_FX_Security_ID]
    FROM ( SELECT 
        [Extent1].[Security_ID] AS [Security_ID], 
        [Extent1].[Entity_ID] AS [Entity_ID], 
        [Extent1].[Security_Name] AS [Security_Name], 
        [Extent1].[Short_Name] AS [Short_Name], 
        [Extent1].[Primary_Exch] AS [Primary_Exch], 
        [Extent1].[Secondary_Exch] AS [Secondary_Exch], 
        [Extent1].[Country_Of_Domicile] AS [Country_Of_Domicile], 
        [Extent1].[Country_Of_Risk] AS [Country_Of_Risk], 
        [Extent1].[Security_Type_Code] AS [Security_Type_Code], 
        [Extent1].[Price_Multiplier] AS [Price_Multiplier], 
        [Extent1].[Income_Frequency] AS [Income_Frequency], 
        [Extent1].[Issuer_Code] AS [Issuer_Code], 
        [Extent1].[Ultimate_Issuer_Code] AS [Ultimate_Issuer_Code], 
        [Extent1].[Asset_Currency] AS [Asset_Currency], 
        [Extent1].[Min_Lot_Size] AS [Min_Lot_Size], 
        [Extent1].[Decimal_Precision] AS [Decimal_Precision], 
        [Extent1].[AvePrice_Rounding] AS [AvePrice_Rounding], 
        [Extent1].[Issue_Date] AS [Issue_Date], 
        [Extent1].[Maturity_Date] AS [Maturity_Date], 
        [Extent1].[Coupon_Rate] AS [Coupon_Rate], 
        [Extent1].[Price_Exchange] AS [Price_Exchange], 
        [Extent1].[Trade_Currency] AS [Trade_Currency], 
        [Extent1].[Price_Curr] AS [Price_Curr], 
        [Extent1].[Currency_Pair_Code] AS [Currency_Pair_Code], 
        [Extent1].[Share_Class] AS [Share_Class], 
        [Extent1].[Current_Market_Price] AS [Current_Market_Price], 
        [Extent1].[Index_Type] AS [Index_Type], 
        [Extent1].[Clean_Price_Formula] AS [Clean_Price_Formula], 
        [Extent1].[Accrued_Income_Price_Formula] AS [Accrued_Income_Price_Formula], 
        [Extent1].[Odd_First_Coupon_Date] AS [Odd_First_Coupon_Date], 
        [Extent1].[Odd_Last_Coupon_Date] AS [Odd_Last_Coupon_Date], 
        [Extent1].[Coupon_Anniversary_Indicator] AS [Coupon_Anniversary_Indicator], 
        [Extent1].[Track_EOM_Flag] AS [Track_EOM_Flag], 
        [Extent1].[Next_Coupon_Date] AS [Next_Coupon_Date], 
        [Extent1].[Previous_Coupon_Date] AS [Previous_Coupon_Date], 
        [Extent1].[Payment_Frequency] AS [Payment_Frequency], 
        [Extent1].[Coupon_BusDay_Adjustment] AS [Coupon_BusDay_Adjustment], 
        [Extent1].[Next_Ex_Div_Date] AS [Next_Ex_Div_Date], 
        [Extent1].[Ex_Div_BusDay_Adjustment] AS [Ex_Div_BusDay_Adjustment], 
        [Extent1].[Ex_Div_Period] AS [Ex_Div_Period], 
        [Extent1].[Ticker] AS [Ticker], 
        [Extent1].[Inet_ID] AS [Inet_ID], 
        [Extent1].[Bloomberg_ID] AS [Bloomberg_ID], 
        [Extent1].[External_Sec_ID] AS [External_Sec_ID], 
        [Extent1].[Reuters_ID] AS [Reuters_ID], 
        [Extent1].[ISIN] AS [ISIN], 
        [Extent1].[Call_Account_Flag] AS [Call_Account_Flag], 
        [Extent1].[System_Locked] AS [System_Locked], 
        [Extent1].[Last_Update_User] AS [Last_Update_User], 
        [Extent1].[Last_Update_Date] AS [Last_Update_Date], 
        [Extent1].[Security_Status] AS [Security_Status], 
        [Extent1].[Benchmark_Portfolio] AS [Benchmark_Portfolio], 
        [Extent1].[Active_flag] AS [Active_flag], 
        [Extent1].[Dividend_FX_Security_ID] AS [Dividend_FX_Security_ID]
        FROM [dbo].[Security_Detail] AS [Extent1]
        WHERE ([Extent1].[Entity_ID] IN (@p__linq__0,@p__linq__1)) AND ((CASE WHEN ( NOT ((N'' = @p__linq__2) AND (@p__linq__2 IS NOT NULL))) THEN CASE WHEN ([Extent1].[Security_Type_Code] = @p__linq__3) THEN cast(1 as bit) WHEN ( NOT (([Extent1].[Security_Type_Code] = @p__linq__3) AND (0 = (CASE WHEN (@p__linq__3 IS NULL) THEN cast(1 as bit) ELSE cast(0 as bit) END)))) THEN cast(0 as bit) END WHEN ('' <> [Extent1].[Security_Type_Code]) THEN cast(1 as bit) WHEN ('' = [Extent1].[Security_Type_Code]) THEN cast(0 as bit) END) = 1)
    )  AS [Project1]
    ORDER BY [Project1].[Security_Name] ASC
2018-04-07 18:54:31.2745|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: SELECT 
    [Project1].[Security_ID] AS [Security_ID], 
    [Project1].[Entity_ID] AS [Entity_ID], 
    [Project1].[Security_Name] AS [Security_Name], 
    [Project1].[Short_Name] AS [Short_Name], 
    [Project1].[Primary_Exch] AS [Primary_Exch], 
    [Project1].[Secondary_Exch] AS [Secondary_Exch], 
    [Project1].[Country_Of_Domicile] AS [Country_Of_Domicile], 
    [Project1].[Country_Of_Risk] AS [Country_Of_Risk], 
    [Project1].[Security_Type_Code] AS [Security_Type_Code], 
    [Project1].[Price_Multiplier] AS [Price_Multiplier], 
    [Project1].[Income_Frequency] AS [Income_Frequency], 
    [Project1].[Issuer_Code] AS [Issuer_Code], 
    [Project1].[Ultimate_Issuer_Code] AS [Ultimate_Issuer_Code], 
    [Project1].[Asset_Currency] AS [Asset_Currency], 
    [Project1].[Min_Lot_Size] AS [Min_Lot_Size], 
    [Project1].[Decimal_Precision] AS [Decimal_Precision], 
    [Project1].[AvePrice_Rounding] AS [AvePrice_Rounding], 
    [Project1].[Issue_Date] AS [Issue_Date], 
    [Project1].[Maturity_Date] AS [Maturity_Date], 
    [Project1].[Coupon_Rate] AS [Coupon_Rate], 
    [Project1].[Price_Exchange] AS [Price_Exchange], 
    [Project1].[Trade_Currency] AS [Trade_Currency], 
    [Project1].[Price_Curr] AS [Price_Curr], 
    [Project1].[Currency_Pair_Code] AS [Currency_Pair_Code], 
    [Project1].[Share_Class] AS [Share_Class], 
    [Project1].[Current_Market_Price] AS [Current_Market_Price], 
    [Project1].[Index_Type] AS [Index_Type], 
    [Project1].[Clean_Price_Formula] AS [Clean_Price_Formula], 
    [Project1].[Accrued_Income_Price_Formula] AS [Accrued_Income_Price_Formula], 
    [Project1].[Odd_First_Coupon_Date] AS [Odd_First_Coupon_Date], 
    [Project1].[Odd_Last_Coupon_Date] AS [Odd_Last_Coupon_Date], 
    [Project1].[Coupon_Anniversary_Indicator] AS [Coupon_Anniversary_Indicator], 
    [Project1].[Track_EOM_Flag] AS [Track_EOM_Flag], 
    [Project1].[Next_Coupon_Date] AS [Next_Coupon_Date], 
    [Project1].[Previous_Coupon_Date] AS [Previous_Coupon_Date], 
    [Project1].[Payment_Frequency] AS [Payment_Frequency], 
    [Project1].[Coupon_BusDay_Adjustment] AS [Coupon_BusDay_Adjustment], 
    [Project1].[Next_Ex_Div_Date] AS [Next_Ex_Div_Date], 
    [Project1].[Ex_Div_BusDay_Adjustment] AS [Ex_Div_BusDay_Adjustment], 
    [Project1].[Ex_Div_Period] AS [Ex_Div_Period], 
    [Project1].[Ticker] AS [Ticker], 
    [Project1].[Inet_ID] AS [Inet_ID], 
    [Project1].[Bloomberg_ID] AS [Bloomberg_ID], 
    [Project1].[External_Sec_ID] AS [External_Sec_ID], 
    [Project1].[Reuters_ID] AS [Reuters_ID], 
    [Project1].[ISIN] AS [ISIN], 
    [Project1].[Call_Account_Flag] AS [Call_Account_Flag], 
    [Project1].[System_Locked] AS [System_Locked], 
    [Project1].[Last_Update_User] AS [Last_Update_User], 
    [Project1].[Last_Update_Date] AS [Last_Update_Date], 
    [Project1].[Security_Status] AS [Security_Status], 
    [Project1].[Benchmark_Portfolio] AS [Benchmark_Portfolio], 
    [Project1].[Active_flag] AS [Active_flag], 
    [Project1].[Dividend_FX_Security_ID] AS [Dividend_FX_Security_ID]
    FROM ( SELECT 
        [Extent1].[Security_ID] AS [Security_ID], 
        [Extent1].[Entity_ID] AS [Entity_ID], 
        [Extent1].[Security_Name] AS [Security_Name], 
        [Extent1].[Short_Name] AS [Short_Name], 
        [Extent1].[Primary_Exch] AS [Primary_Exch], 
        [Extent1].[Secondary_Exch] AS [Secondary_Exch], 
        [Extent1].[Country_Of_Domicile] AS [Country_Of_Domicile], 
        [Extent1].[Country_Of_Risk] AS [Country_Of_Risk], 
        [Extent1].[Security_Type_Code] AS [Security_Type_Code], 
        [Extent1].[Price_Multiplier] AS [Price_Multiplier], 
        [Extent1].[Income_Frequency] AS [Income_Frequency], 
        [Extent1].[Issuer_Code] AS [Issuer_Code], 
        [Extent1].[Ultimate_Issuer_Code] AS [Ultimate_Issuer_Code], 
        [Extent1].[Asset_Currency] AS [Asset_Currency], 
        [Extent1].[Min_Lot_Size] AS [Min_Lot_Size], 
        [Extent1].[Decimal_Precision] AS [Decimal_Precision], 
        [Extent1].[AvePrice_Rounding] AS [AvePrice_Rounding], 
        [Extent1].[Issue_Date] AS [Issue_Date], 
        [Extent1].[Maturity_Date] AS [Maturity_Date], 
        [Extent1].[Coupon_Rate] AS [Coupon_Rate], 
        [Extent1].[Price_Exchange] AS [Price_Exchange], 
        [Extent1].[Trade_Currency] AS [Trade_Currency], 
        [Extent1].[Price_Curr] AS [Price_Curr], 
        [Extent1].[Currency_Pair_Code] AS [Currency_Pair_Code], 
        [Extent1].[Share_Class] AS [Share_Class], 
        [Extent1].[Current_Market_Price] AS [Current_Market_Price], 
        [Extent1].[Index_Type] AS [Index_Type], 
        [Extent1].[Clean_Price_Formula] AS [Clean_Price_Formula], 
        [Extent1].[Accrued_Income_Price_Formula] AS [Accrued_Income_Price_Formula], 
        [Extent1].[Odd_First_Coupon_Date] AS [Odd_First_Coupon_Date], 
        [Extent1].[Odd_Last_Coupon_Date] AS [Odd_Last_Coupon_Date], 
        [Extent1].[Coupon_Anniversary_Indicator] AS [Coupon_Anniversary_Indicator], 
        [Extent1].[Track_EOM_Flag] AS [Track_EOM_Flag], 
        [Extent1].[Next_Coupon_Date] AS [Next_Coupon_Date], 
        [Extent1].[Previous_Coupon_Date] AS [Previous_Coupon_Date], 
        [Extent1].[Payment_Frequency] AS [Payment_Frequency], 
        [Extent1].[Coupon_BusDay_Adjustment] AS [Coupon_BusDay_Adjustment], 
        [Extent1].[Next_Ex_Div_Date] AS [Next_Ex_Div_Date], 
        [Extent1].[Ex_Div_BusDay_Adjustment] AS [Ex_Div_BusDay_Adjustment], 
        [Extent1].[Ex_Div_Period] AS [Ex_Div_Period], 
        [Extent1].[Ticker] AS [Ticker], 
        [Extent1].[Inet_ID] AS [Inet_ID], 
        [Extent1].[Bloomberg_ID] AS [Bloomberg_ID], 
        [Extent1].[External_Sec_ID] AS [External_Sec_ID], 
        [Extent1].[Reuters_ID] AS [Reuters_ID], 
        [Extent1].[ISIN] AS [ISIN], 
        [Extent1].[Call_Account_Flag] AS [Call_Account_Flag], 
        [Extent1].[System_Locked] AS [System_Locked], 
        [Extent1].[Last_Update_User] AS [Last_Update_User], 
        [Extent1].[Last_Update_Date] AS [Last_Update_Date], 
        [Extent1].[Security_Status] AS [Security_Status], 
        [Extent1].[Benchmark_Portfolio] AS [Benchmark_Portfolio], 
        [Extent1].[Active_flag] AS [Active_flag], 
        [Extent1].[Dividend_FX_Security_ID] AS [Dividend_FX_Security_ID]
        FROM [dbo].[Security_Detail] AS [Extent1]
        WHERE ([Extent1].[Entity_ID] IN (@p__linq__0,@p__linq__1)) AND ((CASE WHEN ( NOT ((N'' = @p__linq__2) AND (@p__linq__2 IS NOT NULL))) THEN CASE WHEN ([Extent1].[Security_Type_Code] = @p__linq__3) THEN cast(1 as bit) WHEN ( NOT (([Extent1].[Security_Type_Code] = @p__linq__3) AND (0 = (CASE WHEN (@p__linq__3 IS NULL) THEN cast(1 as bit) ELSE cast(0 as bit) END)))) THEN cast(0 as bit) END WHEN ('' <> [Extent1].[Security_Type_Code]) THEN cast(1 as bit) WHEN ('' = [Extent1].[Security_Type_Code]) THEN cast(0 as bit) END) = 1)
    )  AS [Project1]
    ORDER BY [Project1].[Security_Name] ASC
2018-04-07 18:54:31.2985|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: SELECT 
    [Project1].[Security_ID] AS [Security_ID], 
    [Project1].[Entity_ID] AS [Entity_ID], 
    [Project1].[Security_Name] AS [Security_Name], 
    [Project1].[Short_Name] AS [Short_Name], 
    [Project1].[Primary_Exch] AS [Primary_Exch], 
    [Project1].[Secondary_Exch] AS [Secondary_Exch], 
    [Project1].[Country_Of_Domicile] AS [Country_Of_Domicile], 
    [Project1].[Country_Of_Risk] AS [Country_Of_Risk], 
    [Project1].[Security_Type_Code] AS [Security_Type_Code], 
    [Project1].[Price_Multiplier] AS [Price_Multiplier], 
    [Project1].[Income_Frequency] AS [Income_Frequency], 
    [Project1].[Issuer_Code] AS [Issuer_Code], 
    [Project1].[Ultimate_Issuer_Code] AS [Ultimate_Issuer_Code], 
    [Project1].[Asset_Currency] AS [Asset_Currency], 
    [Project1].[Min_Lot_Size] AS [Min_Lot_Size], 
    [Project1].[Decimal_Precision] AS [Decimal_Precision], 
    [Project1].[AvePrice_Rounding] AS [AvePrice_Rounding], 
    [Project1].[Issue_Date] AS [Issue_Date], 
    [Project1].[Maturity_Date] AS [Maturity_Date], 
    [Project1].[Coupon_Rate] AS [Coupon_Rate], 
    [Project1].[Price_Exchange] AS [Price_Exchange], 
    [Project1].[Trade_Currency] AS [Trade_Currency], 
    [Project1].[Price_Curr] AS [Price_Curr], 
    [Project1].[Currency_Pair_Code] AS [Currency_Pair_Code], 
    [Project1].[Share_Class] AS [Share_Class], 
    [Project1].[Current_Market_Price] AS [Current_Market_Price], 
    [Project1].[Index_Type] AS [Index_Type], 
    [Project1].[Clean_Price_Formula] AS [Clean_Price_Formula], 
    [Project1].[Accrued_Income_Price_Formula] AS [Accrued_Income_Price_Formula], 
    [Project1].[Odd_First_Coupon_Date] AS [Odd_First_Coupon_Date], 
    [Project1].[Odd_Last_Coupon_Date] AS [Odd_Last_Coupon_Date], 
    [Project1].[Coupon_Anniversary_Indicator] AS [Coupon_Anniversary_Indicator], 
    [Project1].[Track_EOM_Flag] AS [Track_EOM_Flag], 
    [Project1].[Next_Coupon_Date] AS [Next_Coupon_Date], 
    [Project1].[Previous_Coupon_Date] AS [Previous_Coupon_Date], 
    [Project1].[Payment_Frequency] AS [Payment_Frequency], 
    [Project1].[Coupon_BusDay_Adjustment] AS [Coupon_BusDay_Adjustment], 
    [Project1].[Next_Ex_Div_Date] AS [Next_Ex_Div_Date], 
    [Project1].[Ex_Div_BusDay_Adjustment] AS [Ex_Div_BusDay_Adjustment], 
    [Project1].[Ex_Div_Period] AS [Ex_Div_Period], 
    [Project1].[Ticker] AS [Ticker], 
    [Project1].[Inet_ID] AS [Inet_ID], 
    [Project1].[Bloomberg_ID] AS [Bloomberg_ID], 
    [Project1].[External_Sec_ID] AS [External_Sec_ID], 
    [Project1].[Reuters_ID] AS [Reuters_ID], 
    [Project1].[ISIN] AS [ISIN], 
    [Project1].[Call_Account_Flag] AS [Call_Account_Flag], 
    [Project1].[System_Locked] AS [System_Locked], 
    [Project1].[Last_Update_User] AS [Last_Update_User], 
    [Project1].[Last_Update_Date] AS [Last_Update_Date], 
    [Project1].[Security_Status] AS [Security_Status], 
    [Project1].[Benchmark_Portfolio] AS [Benchmark_Portfolio], 
    [Project1].[Active_flag] AS [Active_flag], 
    [Project1].[Dividend_FX_Security_ID] AS [Dividend_FX_Security_ID]
    FROM ( SELECT 
        [Extent1].[Security_ID] AS [Security_ID], 
        [Extent1].[Entity_ID] AS [Entity_ID], 
        [Extent1].[Security_Name] AS [Security_Name], 
        [Extent1].[Short_Name] AS [Short_Name], 
        [Extent1].[Primary_Exch] AS [Primary_Exch], 
        [Extent1].[Secondary_Exch] AS [Secondary_Exch], 
        [Extent1].[Country_Of_Domicile] AS [Country_Of_Domicile], 
        [Extent1].[Country_Of_Risk] AS [Country_Of_Risk], 
        [Extent1].[Security_Type_Code] AS [Security_Type_Code], 
        [Extent1].[Price_Multiplier] AS [Price_Multiplier], 
        [Extent1].[Income_Frequency] AS [Income_Frequency], 
        [Extent1].[Issuer_Code] AS [Issuer_Code], 
        [Extent1].[Ultimate_Issuer_Code] AS [Ultimate_Issuer_Code], 
        [Extent1].[Asset_Currency] AS [Asset_Currency], 
        [Extent1].[Min_Lot_Size] AS [Min_Lot_Size], 
        [Extent1].[Decimal_Precision] AS [Decimal_Precision], 
        [Extent1].[AvePrice_Rounding] AS [AvePrice_Rounding], 
        [Extent1].[Issue_Date] AS [Issue_Date], 
        [Extent1].[Maturity_Date] AS [Maturity_Date], 
        [Extent1].[Coupon_Rate] AS [Coupon_Rate], 
        [Extent1].[Price_Exchange] AS [Price_Exchange], 
        [Extent1].[Trade_Currency] AS [Trade_Currency], 
        [Extent1].[Price_Curr] AS [Price_Curr], 
        [Extent1].[Currency_Pair_Code] AS [Currency_Pair_Code], 
        [Extent1].[Share_Class] AS [Share_Class], 
        [Extent1].[Current_Market_Price] AS [Current_Market_Price], 
        [Extent1].[Index_Type] AS [Index_Type], 
        [Extent1].[Clean_Price_Formula] AS [Clean_Price_Formula], 
        [Extent1].[Accrued_Income_Price_Formula] AS [Accrued_Income_Price_Formula], 
        [Extent1].[Odd_First_Coupon_Date] AS [Odd_First_Coupon_Date], 
        [Extent1].[Odd_Last_Coupon_Date] AS [Odd_Last_Coupon_Date], 
        [Extent1].[Coupon_Anniversary_Indicator] AS [Coupon_Anniversary_Indicator], 
        [Extent1].[Track_EOM_Flag] AS [Track_EOM_Flag], 
        [Extent1].[Next_Coupon_Date] AS [Next_Coupon_Date], 
        [Extent1].[Previous_Coupon_Date] AS [Previous_Coupon_Date], 
        [Extent1].[Payment_Frequency] AS [Payment_Frequency], 
        [Extent1].[Coupon_BusDay_Adjustment] AS [Coupon_BusDay_Adjustment], 
        [Extent1].[Next_Ex_Div_Date] AS [Next_Ex_Div_Date], 
        [Extent1].[Ex_Div_BusDay_Adjustment] AS [Ex_Div_BusDay_Adjustment], 
        [Extent1].[Ex_Div_Period] AS [Ex_Div_Period], 
        [Extent1].[Ticker] AS [Ticker], 
        [Extent1].[Inet_ID] AS [Inet_ID], 
        [Extent1].[Bloomberg_ID] AS [Bloomberg_ID], 
        [Extent1].[External_Sec_ID] AS [External_Sec_ID], 
        [Extent1].[Reuters_ID] AS [Reuters_ID], 
        [Extent1].[ISIN] AS [ISIN], 
        [Extent1].[Call_Account_Flag] AS [Call_Account_Flag], 
        [Extent1].[System_Locked] AS [System_Locked], 
        [Extent1].[Last_Update_User] AS [Last_Update_User], 
        [Extent1].[Last_Update_Date] AS [Last_Update_Date], 
        [Extent1].[Security_Status] AS [Security_Status], 
        [Extent1].[Benchmark_Portfolio] AS [Benchmark_Portfolio], 
        [Extent1].[Active_flag] AS [Active_flag], 
        [Extent1].[Dividend_FX_Security_ID] AS [Dividend_FX_Security_ID]
        FROM [dbo].[Security_Detail] AS [Extent1]
        WHERE ([Extent1].[Entity_ID] IN (@p__linq__0,@p__linq__1)) AND ((CASE WHEN ( NOT ((N'' = @p__linq__2) AND (@p__linq__2 IS NOT NULL))) THEN CASE WHEN ([Extent1].[Security_Type_Code] = @p__linq__3) THEN cast(1 as bit) WHEN ( NOT (([Extent1].[Security_Type_Code] = @p__linq__3) AND (0 = (CASE WHEN (@p__linq__3 IS NULL) THEN cast(1 as bit) ELSE cast(0 as bit) END)))) THEN cast(0 as bit) END WHEN ('' <> [Extent1].[Security_Type_Code]) THEN cast(1 as bit) WHEN ('' = [Extent1].[Security_Type_Code]) THEN cast(0 as bit) END) = 1)
    )  AS [Project1]
    ORDER BY [Project1].[Security_Name] ASC
2018-04-07 18:54:31.3446|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: IF db_id(N'MetopeAzureDb') IS NOT NULL SELECT 1 ELSE SELECT Count(*) FROM sys.databases WHERE [name]=N'MetopeAzureDb'
2018-04-07 18:54:31.3726|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: IF db_id(N'MetopeAzureDb') IS NOT NULL SELECT 1 ELSE SELECT Count(*) FROM sys.databases WHERE [name]=N'MetopeAzureDb'
2018-04-07 18:54:31.4021|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: IF db_id(N'MetopeAzureDb') IS NOT NULL SELECT 1 ELSE SELECT Count(*) FROM sys.databases WHERE [name]=N'MetopeAzureDb'
2018-04-07 18:54:31.4241|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: IF db_id(N'MetopeAzureDb') IS NOT NULL SELECT 1 ELSE SELECT Count(*) FROM sys.databases WHERE [name]=N'MetopeAzureDb'
2018-04-07 18:54:38.2296|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: SELECT 
    [Extent1].[Entity_ID] AS [Entity_ID], 
    [Extent1].[Security_ID] AS [Security_ID], 
    [Extent1].[Issued_Amount] AS [Issued_Amount], 
    [Extent1].[Market_Capitalisation] AS [Market_Capitalisation], 
    [Extent1].[Risk_Premium] AS [Risk_Premium], 
    [Extent1].[Exit_Price] AS [Exit_Price], 
    [Extent1].[Total_Return_ME_1YR] AS [Total_Return_ME_1YR], 
    [Extent1].[Total_Return_ME_2YR] AS [Total_Return_ME_2YR], 
    [Extent1].[Total_Return_ME_3YR] AS [Total_Return_ME_3YR], 
    [Extent1].[Historic_Distribution] AS [Historic_Distribution], 
    [Extent1].[Distribution_Growth_Forecast_Yr1] AS [Distribution_Growth_Forecast_Yr1], 
    [Extent1].[Distribution_Growth_Forecast_Yr2] AS [Distribution_Growth_Forecast_Yr2], 
    [Extent1].[Distribution_Growth_Forecast_Yr3] AS [Distribution_Growth_Forecast_Yr3], 
    [Extent1].[Forecast_Distribution_Yr1] AS [Forecast_Distribution_Yr1], 
    [Extent1].[Forecast_Distribution_Yr2] AS [Forecast_Distribution_Yr2], 
    [Extent1].[Forecast_Distribution_Yr3] AS [Forecast_Distribution_Yr3], 
    [Extent1].[Earnings_Growth_Compounded] AS [Earnings_Growth_Compounded], 
    [Extent1].[Earnings_Forecast_Yr3] AS [Earnings_Forecast_Yr3], 
    [Extent1].[Historic_Dividend_Yield_FYE] AS [Historic_Dividend_Yield_FYE], 
    [Extent1].[Forward_Dividend_Yield_FYE] AS [Forward_Dividend_Yield_FYE], 
    [Extent1].[Yr3_Forward_Dividend_Yield] AS [Yr3_Forward_Dividend_Yield], 
    [Extent1].[Rolling_12M_Forward_Yield] AS [Rolling_12M_Forward_Yield], 
    [Extent1].[Historical_Earnings_FYE] AS [Historical_Earnings_FYE], 
    [Extent1].[Earnings_Forecast_Yr1] AS [Earnings_Forecast_Yr1], 
    [Extent1].[Earnings_Forecast_Yr2] AS [Earnings_Forecast_Yr2], 
    [Extent1].[Historic_Dividend_Yield_Relative] AS [Historic_Dividend_Yield_Relative], 
    [Extent1].[Rolling_12M_Historic_Distribution_PriceCurr] AS [Rolling_12M_Historic_Distribution_PriceCurr], 
    [Extent1].[Short_Term_Market_Rerate] AS [Short_Term_Market_Rerate], 
    [Extent1].[Forecast_12M_Total_Return] AS [Forecast_12M_Total_Return], 
    [Extent1].[Clean_Price] AS [Clean_Price], 
    [Extent1].[Rolling_Dividend_Yield_Historic] AS [Rolling_Dividend_Yield_Historic], 
    [Extent1].[Last_Update_Date] AS [Last_Update_Date], 
    [Extent1].[Last_Update_User] AS [Last_Update_User], 
    [Extent1].[Discount_Security_ID] AS [Discount_Security_ID], 
    [Extent1].[Net_Present_Value] AS [Net_Present_Value], 
    [Extent1].[Forecast_Rolling_Custom_Income] AS [Forecast_Rolling_Custom_Income], 
    [Extent1].[Custom_Period] AS [Custom_Period], 
    [Extent1].[Rolling_12M_Historic_Distribution] AS [Rolling_12M_Historic_Distribution], 
    [Extent1].[Record_Date] AS [Record_Date], 
    [Extent1].[Session_ID] AS [Session_ID], 
    [Extent1].[Hist_Last_Update_Date] AS [Hist_Last_Update_Date], 
    [Extent1].[Hist_Last_Update_User] AS [Hist_Last_Update_User], 
    [Extent1].[Rolling_12M_Forecast_Distribution] AS [Rolling_12M_Forecast_Distribution], 
    [Extent1].[Yr2_Forward_Dividend_Yield] AS [Yr2_Forward_Dividend_Yield], 
    [Extent1].[Exit_Yield] AS [Exit_Yield], 
    [Extent1].[Discount_Rate] AS [Discount_Rate], 
    [Extent1].[Distribution_Growth_Compounded] AS [Distribution_Growth_Compounded], 
    [Extent1].[Forecast_12MRolling_Income_Accrual] AS [Forecast_12MRolling_Income_Accrual], 
    [Extent1].[Rolling_12_to_24M_Forecast_Distribution] AS [Rolling_12_to_24M_Forecast_Distribution], 
    [Extent1].[Rolling_24_to_36M_Forecast_Distribution] AS [Rolling_24_to_36M_Forecast_Distribution], 
    [Extent1].[Forecast_Yr1_Dividend_Yield_Relative] AS [Forecast_Yr1_Dividend_Yield_Relative], 
    [Extent1].[Market_Historic_Yield] AS [Market_Historic_Yield], 
    [Extent1].[Market_Forward_Yield] AS [Market_Forward_Yield], 
    [Extent1].[Historic_Distribution_PriceCurr] AS [Historic_Distribution_PriceCurr], 
    [Extent1].[Forecast_Distribution_Yr1_PriceCurr] AS [Forecast_Distribution_Yr1_PriceCurr], 
    [Extent1].[Forecast_Distribution_Yr2_PriceCurr] AS [Forecast_Distribution_Yr2_PriceCurr], 
    [Extent1].[Forecast_Distribution_Yr3_PriceCurr] AS [Forecast_Distribution_Yr3_PriceCurr], 
    [Extent1].[Rolling_12M_Forecast_Distribution_PriceCurr] AS [Rolling_12M_Forecast_Distribution_PriceCurr], 
    [Extent1].[Rolling_12_24M_Forecast_Distribution_PriceCurr] AS [Rolling_12_24M_Forecast_Distribution_PriceCurr], 
    [Extent1].[Rolling_24_36M_Forecast_Distribution_PriceCurr] AS [Rolling_24_36M_Forecast_Distribution_PriceCurr], 
    [Extent1].[Distribution_Growth_Forecast_Yr4] AS [Distribution_Growth_Forecast_Yr4], 
    [Extent1].[Earnings_Forecast_Yr4] AS [Earnings_Forecast_Yr4], 
    [Extent1].[Forecast_Distribution_Yr4] AS [Forecast_Distribution_Yr4], 
    [Extent1].[Forecast_Distribution_Yr4_PriceCurr] AS [Forecast_Distribution_Yr4_PriceCurr]
    FROM [dbo].[Security_Analytics_History] AS [Extent1]
    WHERE ([Extent1].[Security_ID] = @p__linq__0) AND ([Extent1].[Record_Date] = @p__linq__1) AND ([Extent1].[Entity_ID] = @p__linq__2)
2018-04-07 18:54:38.2981|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: SELECT 
    [Extent1].[Entity_ID] AS [Entity_ID], 
    [Extent1].[Security_ID] AS [Security_ID], 
    [Extent1].[Issued_Amount] AS [Issued_Amount], 
    [Extent1].[Market_Capitalisation] AS [Market_Capitalisation], 
    [Extent1].[Risk_Premium] AS [Risk_Premium], 
    [Extent1].[Exit_Price] AS [Exit_Price], 
    [Extent1].[Total_Return_ME_1YR] AS [Total_Return_ME_1YR], 
    [Extent1].[Total_Return_ME_2YR] AS [Total_Return_ME_2YR], 
    [Extent1].[Total_Return_ME_3YR] AS [Total_Return_ME_3YR], 
    [Extent1].[Historic_Distribution] AS [Historic_Distribution], 
    [Extent1].[Distribution_Growth_Forecast_Yr1] AS [Distribution_Growth_Forecast_Yr1], 
    [Extent1].[Distribution_Growth_Forecast_Yr2] AS [Distribution_Growth_Forecast_Yr2], 
    [Extent1].[Distribution_Growth_Forecast_Yr3] AS [Distribution_Growth_Forecast_Yr3], 
    [Extent1].[Forecast_Distribution_Yr1] AS [Forecast_Distribution_Yr1], 
    [Extent1].[Forecast_Distribution_Yr2] AS [Forecast_Distribution_Yr2], 
    [Extent1].[Forecast_Distribution_Yr3] AS [Forecast_Distribution_Yr3], 
    [Extent1].[Earnings_Growth_Compounded] AS [Earnings_Growth_Compounded], 
    [Extent1].[Earnings_Forecast_Yr3] AS [Earnings_Forecast_Yr3], 
    [Extent1].[Historic_Dividend_Yield_FYE] AS [Historic_Dividend_Yield_FYE], 
    [Extent1].[Forward_Dividend_Yield_FYE] AS [Forward_Dividend_Yield_FYE], 
    [Extent1].[Yr3_Forward_Dividend_Yield] AS [Yr3_Forward_Dividend_Yield], 
    [Extent1].[Rolling_12M_Forward_Yield] AS [Rolling_12M_Forward_Yield], 
    [Extent1].[Historical_Earnings_FYE] AS [Historical_Earnings_FYE], 
    [Extent1].[Earnings_Forecast_Yr1] AS [Earnings_Forecast_Yr1], 
    [Extent1].[Earnings_Forecast_Yr2] AS [Earnings_Forecast_Yr2], 
    [Extent1].[Historic_Dividend_Yield_Relative] AS [Historic_Dividend_Yield_Relative], 
    [Extent1].[Rolling_12M_Historic_Distribution_PriceCurr] AS [Rolling_12M_Historic_Distribution_PriceCurr], 
    [Extent1].[Short_Term_Market_Rerate] AS [Short_Term_Market_Rerate], 
    [Extent1].[Forecast_12M_Total_Return] AS [Forecast_12M_Total_Return], 
    [Extent1].[Clean_Price] AS [Clean_Price], 
    [Extent1].[Rolling_Dividend_Yield_Historic] AS [Rolling_Dividend_Yield_Historic], 
    [Extent1].[Last_Update_Date] AS [Last_Update_Date], 
    [Extent1].[Last_Update_User] AS [Last_Update_User], 
    [Extent1].[Discount_Security_ID] AS [Discount_Security_ID], 
    [Extent1].[Net_Present_Value] AS [Net_Present_Value], 
    [Extent1].[Forecast_Rolling_Custom_Income] AS [Forecast_Rolling_Custom_Income], 
    [Extent1].[Custom_Period] AS [Custom_Period], 
    [Extent1].[Rolling_12M_Historic_Distribution] AS [Rolling_12M_Historic_Distribution], 
    [Extent1].[Record_Date] AS [Record_Date], 
    [Extent1].[Session_ID] AS [Session_ID], 
    [Extent1].[Hist_Last_Update_Date] AS [Hist_Last_Update_Date], 
    [Extent1].[Hist_Last_Update_User] AS [Hist_Last_Update_User], 
    [Extent1].[Rolling_12M_Forecast_Distribution] AS [Rolling_12M_Forecast_Distribution], 
    [Extent1].[Yr2_Forward_Dividend_Yield] AS [Yr2_Forward_Dividend_Yield], 
    [Extent1].[Exit_Yield] AS [Exit_Yield], 
    [Extent1].[Discount_Rate] AS [Discount_Rate], 
    [Extent1].[Distribution_Growth_Compounded] AS [Distribution_Growth_Compounded], 
    [Extent1].[Forecast_12MRolling_Income_Accrual] AS [Forecast_12MRolling_Income_Accrual], 
    [Extent1].[Rolling_12_to_24M_Forecast_Distribution] AS [Rolling_12_to_24M_Forecast_Distribution], 
    [Extent1].[Rolling_24_to_36M_Forecast_Distribution] AS [Rolling_24_to_36M_Forecast_Distribution], 
    [Extent1].[Forecast_Yr1_Dividend_Yield_Relative] AS [Forecast_Yr1_Dividend_Yield_Relative], 
    [Extent1].[Market_Historic_Yield] AS [Market_Historic_Yield], 
    [Extent1].[Market_Forward_Yield] AS [Market_Forward_Yield], 
    [Extent1].[Historic_Distribution_PriceCurr] AS [Historic_Distribution_PriceCurr], 
    [Extent1].[Forecast_Distribution_Yr1_PriceCurr] AS [Forecast_Distribution_Yr1_PriceCurr], 
    [Extent1].[Forecast_Distribution_Yr2_PriceCurr] AS [Forecast_Distribution_Yr2_PriceCurr], 
    [Extent1].[Forecast_Distribution_Yr3_PriceCurr] AS [Forecast_Distribution_Yr3_PriceCurr], 
    [Extent1].[Rolling_12M_Forecast_Distribution_PriceCurr] AS [Rolling_12M_Forecast_Distribution_PriceCurr], 
    [Extent1].[Rolling_12_24M_Forecast_Distribution_PriceCurr] AS [Rolling_12_24M_Forecast_Distribution_PriceCurr], 
    [Extent1].[Rolling_24_36M_Forecast_Distribution_PriceCurr] AS [Rolling_24_36M_Forecast_Distribution_PriceCurr], 
    [Extent1].[Distribution_Growth_Forecast_Yr4] AS [Distribution_Growth_Forecast_Yr4], 
    [Extent1].[Earnings_Forecast_Yr4] AS [Earnings_Forecast_Yr4], 
    [Extent1].[Forecast_Distribution_Yr4] AS [Forecast_Distribution_Yr4], 
    [Extent1].[Forecast_Distribution_Yr4_PriceCurr] AS [Forecast_Distribution_Yr4_PriceCurr]
    FROM [dbo].[Security_Analytics_History] AS [Extent1]
    WHERE ([Extent1].[Security_ID] = @p__linq__0) AND ([Extent1].[Record_Date] = @p__linq__1) AND ([Extent1].[Entity_ID] = @p__linq__2)
2018-04-07 18:54:38.4783|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: INSERT [dbo].[Security_Analytics_History]([Entity_ID], [Security_ID], [Issued_Amount], [Market_Capitalisation], [Risk_Premium], [Exit_Price], [Total_Return_ME_1YR], [Total_Return_ME_2YR], [Total_Return_ME_3YR], [Historic_Distribution], [Distribution_Growth_Forecast_Yr1], [Distribution_Growth_Forecast_Yr2], [Distribution_Growth_Forecast_Yr3], [Forecast_Distribution_Yr1], [Forecast_Distribution_Yr2], [Forecast_Distribution_Yr3], [Earnings_Growth_Compounded], [Earnings_Forecast_Yr3], [Historic_Dividend_Yield_FYE], [Forward_Dividend_Yield_FYE], [Yr3_Forward_Dividend_Yield], [Rolling_12M_Forward_Yield], [Historical_Earnings_FYE], [Earnings_Forecast_Yr1], [Earnings_Forecast_Yr2], [Historic_Dividend_Yield_Relative], [Rolling_12M_Historic_Distribution_PriceCurr], [Short_Term_Market_Rerate], [Forecast_12M_Total_Return], [Clean_Price], [Rolling_Dividend_Yield_Historic], [Last_Update_Date], [Last_Update_User], [Discount_Security_ID], [Net_Present_Value], [Forecast_Rolling_Custom_Income], [Custom_Period], [Rolling_12M_Historic_Distribution], [Record_Date], [Session_ID], [Hist_Last_Update_Date], [Hist_Last_Update_User], [Rolling_12M_Forecast_Distribution], [Yr2_Forward_Dividend_Yield], [Exit_Yield], [Discount_Rate], [Distribution_Growth_Compounded], [Forecast_12MRolling_Income_Accrual], [Rolling_12_to_24M_Forecast_Distribution], [Rolling_24_to_36M_Forecast_Distribution], [Forecast_Yr1_Dividend_Yield_Relative], [Market_Historic_Yield], [Market_Forward_Yield], [Historic_Distribution_PriceCurr], [Forecast_Distribution_Yr1_PriceCurr], [Forecast_Distribution_Yr2_PriceCurr], [Forecast_Distribution_Yr3_PriceCurr], [Rolling_12M_Forecast_Distribution_PriceCurr], [Rolling_12_24M_Forecast_Distribution_PriceCurr], [Rolling_24_36M_Forecast_Distribution_PriceCurr], [Distribution_Growth_Forecast_Yr4], [Earnings_Forecast_Yr4], [Forecast_Distribution_Yr4], [Forecast_Distribution_Yr4_PriceCurr])
VALUES (@0, @1, NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL, @2, NULL, @3, NULL, NULL, NULL, NULL, @4, @5, @6, @7, NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL)

2018-04-07 18:54:38.8365|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: INSERT [dbo].[Security_Analytics_History]([Entity_ID], [Security_ID], [Issued_Amount], [Market_Capitalisation], [Risk_Premium], [Exit_Price], [Total_Return_ME_1YR], [Total_Return_ME_2YR], [Total_Return_ME_3YR], [Historic_Distribution], [Distribution_Growth_Forecast_Yr1], [Distribution_Growth_Forecast_Yr2], [Distribution_Growth_Forecast_Yr3], [Forecast_Distribution_Yr1], [Forecast_Distribution_Yr2], [Forecast_Distribution_Yr3], [Earnings_Growth_Compounded], [Earnings_Forecast_Yr3], [Historic_Dividend_Yield_FYE], [Forward_Dividend_Yield_FYE], [Yr3_Forward_Dividend_Yield], [Rolling_12M_Forward_Yield], [Historical_Earnings_FYE], [Earnings_Forecast_Yr1], [Earnings_Forecast_Yr2], [Historic_Dividend_Yield_Relative], [Rolling_12M_Historic_Distribution_PriceCurr], [Short_Term_Market_Rerate], [Forecast_12M_Total_Return], [Clean_Price], [Rolling_Dividend_Yield_Historic], [Last_Update_Date], [Last_Update_User], [Discount_Security_ID], [Net_Present_Value], [Forecast_Rolling_Custom_Income], [Custom_Period], [Rolling_12M_Historic_Distribution], [Record_Date], [Session_ID], [Hist_Last_Update_Date], [Hist_Last_Update_User], [Rolling_12M_Forecast_Distribution], [Yr2_Forward_Dividend_Yield], [Exit_Yield], [Discount_Rate], [Distribution_Growth_Compounded], [Forecast_12MRolling_Income_Accrual], [Rolling_12_to_24M_Forecast_Distribution], [Rolling_24_to_36M_Forecast_Distribution], [Forecast_Yr1_Dividend_Yield_Relative], [Market_Historic_Yield], [Market_Forward_Yield], [Historic_Distribution_PriceCurr], [Forecast_Distribution_Yr1_PriceCurr], [Forecast_Distribution_Yr2_PriceCurr], [Forecast_Distribution_Yr3_PriceCurr], [Rolling_12M_Forecast_Distribution_PriceCurr], [Rolling_12_24M_Forecast_Distribution_PriceCurr], [Rolling_24_36M_Forecast_Distribution_PriceCurr], [Distribution_Growth_Forecast_Yr4], [Earnings_Forecast_Yr4], [Forecast_Distribution_Yr4], [Forecast_Distribution_Yr4_PriceCurr])
VALUES (@0, @1, NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL, @2, NULL, @3, NULL, NULL, NULL, NULL, @4, @5, @6, @7, NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL)

2018-04-07 18:54:39.1187|ERROR|ASP.MetopeNspace.MvcApplication|Error caught in Application_Error event
, http://localhost:53133/SecurityAnalyticsHistory/Create?SecurityId=49 
 Error in: An error occurred while updating the entries. See the inner exception for details., 
Inner Error Message:An error occurred while updating the entries. See the inner exception for details.
Stack Trace:   at System.Data.Entity.Internal.InternalContext.SaveChanges()
   at System.Data.Entity.Internal.LazyInternalContext.SaveChanges()
   at System.Data.Entity.DbContext.SaveChanges()
   at MetopeMVCApp.Data.GenericRepository.GenericRepository`2.Save() in c:\BlueStream\Development\Metope\WebSite\MetopeMVCApp\MetopeMVCApp\Data\GenericRepository\GenericRepository.cs:line 65
   at MetopeMVCApp.Controllers.HistoryControllers.SecurityAnalyticsHistoryController.Create(Security_Analytics_History security_Analytics_History) in c:\BlueStream\Development\Metope\WebSite\MetopeMVCApp\MetopeMVCApp\Controllers\HistoryControllers\SecurityAnalyticsHistoryController.cs:line 140
   at lambda_method(Closure , ControllerBase , Object[] )
   at System.Web.Mvc.ActionMethodDispatcher.Execute(ControllerBase controller, Object[] parameters)
   at System.Web.Mvc.ReflectedActionDescriptor.Execute(ControllerContext controllerContext, IDictionary`2 parameters)
   at System.Web.Mvc.ControllerActionInvoker.InvokeActionMethod(ControllerContext controllerContext, ActionDescriptor actionDescriptor, IDictionary`2 parameters)
   at System.Web.Mvc.Async.AsyncControllerActionInvoker.<BeginInvokeSynchronousActionMethod>b__39(IAsyncResult asyncResult, ActionInvocation innerInvokeState)
   at System.Web.Mvc.Async.AsyncResultWrapper.WrappedAsyncResult`2.CallEndDelegate(IAsyncResult asyncResult)
   at System.Web.Mvc.Async.AsyncResultWrapper.WrappedAsyncResultBase`1.End()
   at System.Web.Mvc.Async.AsyncControllerActionInvoker.EndInvokeActionMethod(IAsyncResult asyncResult)
   at System.Web.Mvc.Async.AsyncControllerActionInvoker.AsyncInvocationWithFilters.<InvokeActionMethodFilterAsynchronouslyRecursive>b__3d()
   at System.Web.Mvc.Async.AsyncControllerActionInvoker.AsyncInvocationWithFilters.<>c__DisplayClass46.<InvokeActionMethodFilterAsynchronouslyRecursive>b__3f()
   at System.Web.Mvc.Async.AsyncControllerActionInvoker.AsyncInvocationWithFilters.<>c__DisplayClass46.<InvokeActionMethodFilterAsynchronouslyRecursive>b__3f()
   at System.Web.Mvc.Async.AsyncControllerActionInvoker.AsyncInvocationWithFilters.<>c__DisplayClass46.<InvokeActionMethodFilterAsynchronouslyRecursive>b__3f()
   at System.Web.Mvc.Async.AsyncControllerActionInvoker.AsyncInvocationWithFilters.<>c__DisplayClass46.<InvokeActionMethodFilterAsynchronouslyRecursive>b__3f()
   at System.Web.Mvc.Async.AsyncControllerActionInvoker.<>c__DisplayClass33.<BeginInvokeActionMethodWithFilters>b__32(IAsyncResult asyncResult)
   at System.Web.Mvc.Async.AsyncResultWrapper.WrappedAsyncResult`1.CallEndDelegate(IAsyncResult asyncResult)
   at System.Web.Mvc.Async.AsyncResultWrapper.WrappedAsyncResultBase`1.End()
   at System.Web.Mvc.Async.AsyncControllerActionInvoker.EndInvokeActionMethodWithFilters(IAsyncResult asyncResult)
   at System.Web.Mvc.Async.AsyncControllerActionInvoker.<>c__DisplayClass21.<>c__DisplayClass2b.<BeginInvokeAction>b__1c()
   at System.Web.Mvc.Async.AsyncControllerActionInvoker.<>c__DisplayClass21.<BeginInvokeAction>b__1e(IAsyncResult asyncResult)
   at System.Web.Mvc.Async.AsyncResultWrapper.WrappedAsyncResult`1.CallEndDelegate(IAsyncResult asyncResult)
   at System.Web.Mvc.Async.AsyncResultWrapper.WrappedAsyncResultBase`1.End()
   at System.Web.Mvc.Async.AsyncControllerActionInvoker.EndInvokeAction(IAsyncResult asyncResult)
   at System.Web.Mvc.Controller.<BeginExecuteCore>b__1d(IAsyncResult asyncResult, ExecuteCoreState innerState)
   at System.Web.Mvc.Async.AsyncResultWrapper.WrappedAsyncVoid`1.CallEndDelegate(IAsyncResult asyncResult)
   at System.Web.Mvc.Async.AsyncResultWrapper.WrappedAsyncResultBase`1.End()
   at System.Web.Mvc.Controller.EndExecuteCore(IAsyncResult asyncResult)
   at System.Web.Mvc.Controller.<BeginExecute>b__15(IAsyncResult asyncResult, Controller controller)
   at System.Web.Mvc.Async.AsyncResultWrapper.WrappedAsyncVoid`1.CallEndDelegate(IAsyncResult asyncResult)
   at System.Web.Mvc.Async.AsyncResultWrapper.WrappedAsyncResultBase`1.End()
   at System.Web.Mvc.Controller.EndExecute(IAsyncResult asyncResult)
   at System.Web.Mvc.Controller.System.Web.Mvc.Async.IAsyncController.EndExecute(IAsyncResult asyncResult)
   at System.Web.Mvc.MvcHandler.<BeginProcessRequest>b__5(IAsyncResult asyncResult, ProcessRequestState innerState)
   at System.Web.Mvc.Async.AsyncResultWrapper.WrappedAsyncVoid`1.CallEndDelegate(IAsyncResult asyncResult)
   at System.Web.Mvc.Async.AsyncResultWrapper.WrappedAsyncResultBase`1.End()
   at System.Web.Mvc.MvcHandler.EndProcessRequest(IAsyncResult asyncResult)
   at System.Web.Mvc.MvcHandler.System.Web.IHttpAsyncHandler.EndProcessRequest(IAsyncResult result)
   at System.Web.HttpApplication.CallHandlerExecutionStep.System.Web.HttpApplication.IExecutionStep.Execute()
   at System.Web.HttpApplication.ExecuteStepImpl(IExecutionStep step)
   at System.Web.HttpApplication.ExecuteStep(IExecutionStep step, Boolean& completedSynchronously)
Session: Identity name:aaaaaa IsAuthenticated:True 
2018-04-07 18:54:39.2623|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: IF db_id(N'MetopeAzureDb') IS NOT NULL SELECT 1 ELSE SELECT Count(*) FROM sys.databases WHERE [name]=N'MetopeAzureDb'
2018-04-07 18:54:39.3269|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: IF db_id(N'MetopeAzureDb') IS NOT NULL SELECT 1 ELSE SELECT Count(*) FROM sys.databases WHERE [name]=N'MetopeAzureDb'
2018-04-07 18:54:39.4089|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: IF db_id(N'MetopeAzureDb') IS NOT NULL SELECT 1 ELSE SELECT Count(*) FROM sys.databases WHERE [name]=N'MetopeAzureDb'
2018-04-07 18:54:39.4710|INFO|MetopeMVCApp.Filters.DbInterceptors.NLogCommandInterceptor| IsAsync: False, Command Text: IF db_id(N'MetopeAzureDb') IS NOT NULL SELECT 1 ELSE SELECT Count(*) FROM sys.databases WHERE [name]=N'MetopeAzureDb'
